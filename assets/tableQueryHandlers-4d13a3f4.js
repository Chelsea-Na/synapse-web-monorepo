import{l as E}from"./index-147e6c9f.js";import{a9 as i,aa as S,ab as m}from"./SynapseClient-3edb66de.js";import{g as U,B as c}from"./getEndpoint-ac94413e.js";import{b as l,B as T,d as p,e as B,f as M,g as A,h as g,i as L}from"./SynapseConstants-aa5872fb.js";import{u as N}from"./uniqueId-4d05949d.js";import{c as f}from"./cloneDeep-49866e4d.js";const R={[l]:"queryResult",[T]:"queryCount",[p]:"selectColumns",[B]:"maxRowsPerPage",[M]:"columnModels",[A]:"facets",[g]:"sumFileSizes",[L]:"lastUpdatedOn"};function d(u,r){const a=f(u);return Object.entries(R).forEach(([o,e])=>{r&parseInt(o)||delete a[e]}),a}function Y(u,r=U(c.REPO_ENDPOINT)){const a=new Map;return[E.rest.post(`${r}${i(":id")}`,async(o,e,s)=>{const t=N();return a.set(t,await o.json()),e(s.status(201),s.json({token:t}))}),E.rest.get(`${r}${S(":id")}`,async(o,e,s)=>{const t=o.params.id,n=a.get(t);if(!t||!n)return e(s.status(404),s.json({message:"The mocked asynchronous job was not found"}));const _=d(u,n.partMask);return e(s.status(201),s.json({jobState:"COMPLETE",jobCanceling:!1,requestBody:n,etag:"00000000-0000-0000-0000-000000000000",jobId:t,responseBody:_,startedByUserId:0,startedOn:"",changedOn:"",progressMessage:"",progressCurrent:100,progressTotal:100,exception:"",errorMessage:"",errorDetails:"",runtimeMS:100}))}),E.rest.get(`${r}${m(":entityId",":asyncJobToken")}`,async(o,e,s)=>{const t=o.params.asyncJobToken,n=a.get(t);if(!t||!n)return e(s.status(404),s.json({message:"The mocked asynchronous job was not found"}));const _=d(u,n.partMask);return e(s.status(201),s.json(_))})]}export{Y as g};
//# sourceMappingURL=tableQueryHandlers-4d13a3f4.js.map
