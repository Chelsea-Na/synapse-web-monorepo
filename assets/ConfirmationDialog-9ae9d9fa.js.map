{"version":3,"file":"ConfirmationDialog-9ae9d9fa.js","sources":["../../../../node_modules/.pnpm/@mui+utils@5.11.13_react@18.2.0/node_modules/@mui/utils/esm/usePreviousProps.js","../../../../node_modules/.pnpm/@mui+base@5.0.0-alpha.124_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@mui/base/useBadge/useBadge.js","../../../../node_modules/.pnpm/@mui+base@5.0.0-alpha.124_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@mui/base/useAutocomplete/useAutocomplete.js","../../../../node_modules/.pnpm/@mui+material@5.11.16_@emotion+react@11.10.6_@emotion+styled@11.10.6_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/ListSubheader/listSubheaderClasses.js","../../../../node_modules/.pnpm/@mui+material@5.11.16_@emotion+react@11.10.6_@emotion+styled@11.10.6_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/ListSubheader/ListSubheader.js","../../../../node_modules/.pnpm/@mui+material@5.11.16_@emotion+react@11.10.6_@emotion+styled@11.10.6_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/Autocomplete/autocompleteClasses.js","../../../../node_modules/.pnpm/@mui+material@5.11.16_@emotion+react@11.10.6_@emotion+styled@11.10.6_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/Autocomplete/Autocomplete.js","../../../../node_modules/.pnpm/@mui+material@5.11.16_@emotion+react@11.10.6_@emotion+styled@11.10.6_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/Badge/badgeClasses.js","../../../../node_modules/.pnpm/@mui+material@5.11.16_@emotion+react@11.10.6_@emotion+styled@11.10.6_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/Badge/Badge.js","../../../../node_modules/.pnpm/@mui+material@5.11.16_@emotion+react@11.10.6_@emotion+styled@11.10.6_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/CircularProgress/circularProgressClasses.js","../../../../node_modules/.pnpm/@mui+material@5.11.16_@emotion+react@11.10.6_@emotion+styled@11.10.6_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/CircularProgress/CircularProgress.js","../../../../node_modules/.pnpm/@mui+material@5.11.16_@emotion+react@11.10.6_@emotion+styled@11.10.6_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/Grid/GridContext.js","../../../../node_modules/.pnpm/@mui+material@5.11.16_@emotion+react@11.10.6_@emotion+styled@11.10.6_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/Grid/gridClasses.js","../../../../node_modules/.pnpm/@mui+material@5.11.16_@emotion+react@11.10.6_@emotion+styled@11.10.6_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/Grid/Grid.js","../../../../node_modules/.pnpm/@mui+material@5.11.16_@emotion+react@11.10.6_@emotion+styled@11.10.6_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/Pagination/paginationClasses.js","../../../../node_modules/.pnpm/@mui+material@5.11.16_@emotion+react@11.10.6_@emotion+styled@11.10.6_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/usePagination/usePagination.js","../../../../node_modules/.pnpm/@mui+material@5.11.16_@emotion+react@11.10.6_@emotion+styled@11.10.6_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/PaginationItem/paginationItemClasses.js","../../../../node_modules/.pnpm/@mui+material@5.11.16_@emotion+react@11.10.6_@emotion+styled@11.10.6_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/internal/svg-icons/FirstPage.js","../../../../node_modules/.pnpm/@mui+material@5.11.16_@emotion+react@11.10.6_@emotion+styled@11.10.6_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/internal/svg-icons/LastPage.js","../../../../node_modules/.pnpm/@mui+material@5.11.16_@emotion+react@11.10.6_@emotion+styled@11.10.6_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/internal/svg-icons/NavigateBefore.js","../../../../node_modules/.pnpm/@mui+material@5.11.16_@emotion+react@11.10.6_@emotion+styled@11.10.6_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/internal/svg-icons/NavigateNext.js","../../../../node_modules/.pnpm/@mui+material@5.11.16_@emotion+react@11.10.6_@emotion+styled@11.10.6_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/PaginationItem/PaginationItem.js","../../../../node_modules/.pnpm/@mui+material@5.11.16_@emotion+react@11.10.6_@emotion+styled@11.10.6_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/Pagination/Pagination.js","../../src/utils/hooks/useMutuallyExclusiveState.ts","../../../../node_modules/.pnpm/@mui+icons-material@5.11.16_@mui+material@5.11.16_@types+react@18.0.27_react@18.2.0/node_modules/@mui/icons-material/esm/WarningSharp.js","../../../../node_modules/.pnpm/@mui+icons-material@5.11.16_@mui+material@5.11.16_@types+react@18.0.27_react@18.2.0/node_modules/@mui/icons-material/esm/WatchLaterTwoTone.js","../../../../node_modules/.pnpm/@mui+icons-material@5.11.16_@mui+material@5.11.16_@types+react@18.0.27_react@18.2.0/node_modules/@mui/icons-material/Close.js","../../../../node_modules/.pnpm/cssfilter@0.0.10/node_modules/cssfilter/lib/default.js","../../../../node_modules/.pnpm/cssfilter@0.0.10/node_modules/cssfilter/lib/util.js","../../../../node_modules/.pnpm/cssfilter@0.0.10/node_modules/cssfilter/lib/parser.js","../../../../node_modules/.pnpm/cssfilter@0.0.10/node_modules/cssfilter/lib/css.js","../../../../node_modules/.pnpm/cssfilter@0.0.10/node_modules/cssfilter/lib/index.js","../../../../node_modules/.pnpm/xss@1.0.14/node_modules/xss/lib/util.js","../../../../node_modules/.pnpm/xss@1.0.14/node_modules/xss/lib/default.js","../../../../node_modules/.pnpm/xss@1.0.14/node_modules/xss/lib/parser.js","../../../../node_modules/.pnpm/xss@1.0.14/node_modules/xss/lib/xss.js","../../../../node_modules/.pnpm/xss@1.0.14/node_modules/xss/lib/index.js","../../src/utils/functions/SanitizeHtmlUtils.ts","../../src/components/Markdown/widget/MarkdownButton.tsx","../../src/utils/functions/ResolveLinkEntity.ts","../../src/synapse-queries/entity/useEntityBundle.ts","../../src/components/FilePreview/HtmlPreview/HtmlPreview.tsx","../../src/components/FilePreview/PreviewRendererType.ts","../../src/components/FilePreview/FileHandleContentRenderer.tsx","../../src/components/FilePreview/PreviewUtils.ts","../../src/components/FilePreview/FileEntityPreview.tsx","../../src/components/FilePreview/EntityPreview.tsx","../../src/components/Markdown/widget/MarkdownEntityPreview.tsx","../../src/synapse-queries/dataaccess/useGetApprovedSubmissionInfo.ts","../../src/components/IDUReportSubmissionInfo.tsx","../../src/components/IDUReport.tsx","../../src/components/Markdown/widget/MarkdownIDUReport.tsx","../../../../node_modules/.pnpm/classcat@5.0.4/node_modules/classcat/index.js","../../../../node_modules/.pnpm/zustand@4.3.7_react@18.2.0/node_modules/zustand/esm/vanilla.mjs","../../../../node_modules/.pnpm/use-sync-external-store@1.2.0_react@18.2.0/node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.min.js","../../../../node_modules/.pnpm/use-sync-external-store@1.2.0_react@18.2.0/node_modules/use-sync-external-store/shim/index.js","../../../../node_modules/.pnpm/use-sync-external-store@1.2.0_react@18.2.0/node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.production.min.js","../../../../node_modules/.pnpm/use-sync-external-store@1.2.0_react@18.2.0/node_modules/use-sync-external-store/shim/with-selector.js","../../../../node_modules/.pnpm/zustand@4.3.7_react@18.2.0/node_modules/zustand/esm/index.mjs","../../../../node_modules/.pnpm/zustand@4.3.7_react@18.2.0/node_modules/zustand/esm/shallow.mjs","../../../../node_modules/.pnpm/d3-dispatch@3.0.1/node_modules/d3-dispatch/src/dispatch.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/namespaces.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/namespace.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/creator.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selector.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/select.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/array.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selectorAll.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/selectAll.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/matcher.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/selectChild.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/selectChildren.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/filter.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/sparse.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/enter.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/constant.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/data.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/exit.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/join.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/merge.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/order.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/sort.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/call.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/nodes.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/node.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/size.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/empty.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/each.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/attr.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/window.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/style.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/property.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/classed.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/text.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/html.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/raise.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/lower.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/append.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/insert.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/remove.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/clone.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/datum.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/on.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/dispatch.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/iterator.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/index.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/select.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/sourceEvent.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/pointer.js","../../../../node_modules/.pnpm/d3-drag@3.0.0/node_modules/d3-drag/src/noevent.js","../../../../node_modules/.pnpm/d3-drag@3.0.0/node_modules/d3-drag/src/nodrag.js","../../../../node_modules/.pnpm/d3-drag@3.0.0/node_modules/d3-drag/src/constant.js","../../../../node_modules/.pnpm/d3-drag@3.0.0/node_modules/d3-drag/src/event.js","../../../../node_modules/.pnpm/d3-drag@3.0.0/node_modules/d3-drag/src/drag.js","../../../../node_modules/.pnpm/d3-color@3.1.0/node_modules/d3-color/src/define.js","../../../../node_modules/.pnpm/d3-color@3.1.0/node_modules/d3-color/src/color.js","../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/constant.js","../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/color.js","../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/rgb.js","../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/number.js","../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/string.js","../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/transform/decompose.js","../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/transform/parse.js","../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/transform/index.js","../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/zoom.js","../../../../node_modules/.pnpm/d3-timer@3.0.1/node_modules/d3-timer/src/timer.js","../../../../node_modules/.pnpm/d3-timer@3.0.1/node_modules/d3-timer/src/timeout.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/schedule.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/interrupt.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/selection/interrupt.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/tween.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/interpolate.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/attr.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/attrTween.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/delay.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/duration.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/ease.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/easeVarying.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/filter.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/merge.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/on.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/remove.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/select.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/selectAll.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/selection.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/style.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/styleTween.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/text.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/textTween.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/transition.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/end.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/index.js","../../../../node_modules/.pnpm/d3-ease@3.0.1/node_modules/d3-ease/src/cubic.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/selection/transition.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/selection/index.js","../../../../node_modules/.pnpm/d3-zoom@3.0.0/node_modules/d3-zoom/src/constant.js","../../../../node_modules/.pnpm/d3-zoom@3.0.0/node_modules/d3-zoom/src/event.js","../../../../node_modules/.pnpm/d3-zoom@3.0.0/node_modules/d3-zoom/src/transform.js","../../../../node_modules/.pnpm/d3-zoom@3.0.0/node_modules/d3-zoom/src/noevent.js","../../../../node_modules/.pnpm/d3-zoom@3.0.0/node_modules/d3-zoom/src/zoom.js","../../../../node_modules/.pnpm/@reactflow+core@11.7.0_react-dom@18.2.0_react@18.2.0/node_modules/@reactflow/core/dist/esm/index.js","../../../../node_modules/.pnpm/@reactflow+controls@11.1.11_react-dom@18.2.0_react@18.2.0/node_modules/@reactflow/controls/dist/esm/index.js","../../src/synapse-queries/entity/useGetEntityActionsRequired.ts","../../src/synapse-queries/entity/useGetEntityChildren.ts","../../src/components/ProvenanceGraph/ActivityNodeLabel.tsx","../../src/components/ProvenanceGraph/ProvenanceEntityIcon.tsx","../../src/components/ProvenanceGraph/EntityNodeLabel.tsx","../../../../node_modules/.pnpm/pluralize@8.0.0/node_modules/pluralize/pluralize.js","../../src/components/ProvenanceGraph/ExpandGraphNodeLabel.tsx","../../src/components/ProvenanceGraph/ProvenanceExternalIcon.tsx","../../src/components/ProvenanceGraph/ExternalGraphNodeLabel.tsx","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/clone.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/constant.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_createBaseEach.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseEach.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_castFunction.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/forEach.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/each.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseFilter.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/filter.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseHas.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/has.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isEmpty.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isUndefined.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseMap.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/map.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayReduce.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseReduce.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/reduce.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_asciiSize.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hasUnicode.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_unicodeSize.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_stringSize.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/size.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/transform.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isFlattenable.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseFlatten.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_apply.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_overRest.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseSetToString.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_shortOut.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_setToString.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseRest.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isArrayLikeObject.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/union.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseValues.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/values.js","../../../../node_modules/.pnpm/graphlib@2.1.8/node_modules/graphlib/lib/lodash.js","../../../../node_modules/.pnpm/graphlib@2.1.8/node_modules/graphlib/lib/graph.js","../../../../node_modules/.pnpm/graphlib@2.1.8/node_modules/graphlib/lib/version.js","../../../../node_modules/.pnpm/graphlib@2.1.8/node_modules/graphlib/lib/index.js","../../../../node_modules/.pnpm/graphlib@2.1.8/node_modules/graphlib/lib/json.js","../../../../node_modules/.pnpm/graphlib@2.1.8/node_modules/graphlib/lib/alg/components.js","../../../../node_modules/.pnpm/graphlib@2.1.8/node_modules/graphlib/lib/data/priority-queue.js","../../../../node_modules/.pnpm/graphlib@2.1.8/node_modules/graphlib/lib/alg/dijkstra.js","../../../../node_modules/.pnpm/graphlib@2.1.8/node_modules/graphlib/lib/alg/dijkstra-all.js","../../../../node_modules/.pnpm/graphlib@2.1.8/node_modules/graphlib/lib/alg/tarjan.js","../../../../node_modules/.pnpm/graphlib@2.1.8/node_modules/graphlib/lib/alg/find-cycles.js","../../../../node_modules/.pnpm/graphlib@2.1.8/node_modules/graphlib/lib/alg/floyd-warshall.js","../../../../node_modules/.pnpm/graphlib@2.1.8/node_modules/graphlib/lib/alg/topsort.js","../../../../node_modules/.pnpm/graphlib@2.1.8/node_modules/graphlib/lib/alg/is-acyclic.js","../../../../node_modules/.pnpm/graphlib@2.1.8/node_modules/graphlib/lib/alg/dfs.js","../../../../node_modules/.pnpm/graphlib@2.1.8/node_modules/graphlib/lib/alg/postorder.js","../../../../node_modules/.pnpm/graphlib@2.1.8/node_modules/graphlib/lib/alg/preorder.js","../../../../node_modules/.pnpm/graphlib@2.1.8/node_modules/graphlib/lib/alg/prim.js","../../../../node_modules/.pnpm/graphlib@2.1.8/node_modules/graphlib/lib/alg/index.js","../../../../node_modules/.pnpm/graphlib@2.1.8/node_modules/graphlib/index.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/graphlib.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isIterateeCall.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/defaults.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_createFind.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/toFinite.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/toInteger.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/findIndex.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/find.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/flatten.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/forIn.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/last.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseExtremum.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseGt.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/max.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_assignMergeValue.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_safeGet.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/toPlainObject.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseMergeDeep.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseMerge.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_createAssigner.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/merge.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseLt.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/min.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/minBy.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_basePick.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_flatRest.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/pick.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseRange.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_createRange.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/range.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseSortBy.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_compareAscending.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_compareMultiple.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseOrderBy.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/sortBy.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/uniqueId.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseZipObject.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/zipObject.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/lodash.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/data/list.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/greedy-fas.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/acyclic.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/util.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/normalize.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/rank/util.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/rank/feasible-tree.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/rank/network-simplex.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/rank/index.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/parent-dummy-chains.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/nesting-graph.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/add-border-segments.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/coordinate-system.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/order/init-order.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/order/cross-count.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/order/barycenter.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/order/resolve-conflicts.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/order/sort.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/order/sort-subgraph.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/order/build-layer-graph.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/order/add-subgraph-constraints.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/order/index.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/position/bk.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/position/index.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/layout.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/debug.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/version.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/index.js","../../src/components/ProvenanceGraph/UndefinedNodeLabel.tsx","../../src/components/ProvenanceGraph/EntityPlaceholderNodeLabel.tsx","../../src/components/ProvenanceGraph/ProvenanceUtils.tsx","../../src/components/ProvenanceGraph/ProvenanceGraphUtils.ts","../../src/components/ProvenanceGraph/ProvenanceGraph.tsx","../../src/components/Markdown/widget/MarkdownProvenanceGraph.tsx","../../src/components/widgets/SynapseImage.tsx","../../src/components/Markdown/SynapseWikiContext.tsx","../../src/components/Markdown/widget/MarkdownSynapseImage.tsx","../../src/components/Plot/SynapsePlot.tsx","../../src/components/Markdown/widget/MarkdownSynapsePlot.tsx","../../src/components/QueryContext/QueryContext.tsx","../../src/components/SynapseTable/NoContentAvailable.tsx","../../src/components/SynapseTable/NoContentPlaceholderType.ts","../../src/components/SynapseTable/SearchResultsNotFound.tsx","../../src/components/SynapseTable/TableIsEmpty.tsx","../../src/utils/functions/getDataFromFromStorage.ts","../../src/components/SynapseTable/SynapseTableUtils.ts","../../src/components/QueryVisualizationWrapper.tsx","../../src/components/FullTextSearch.tsx","../../../../node_modules/.pnpm/jsonpointer@5.0.1/node_modules/jsonpointer/jsonpointer.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isEqual.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/uniqWith.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIntersection.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_castArrayLikeObject.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/intersectionWith.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isBoolean.js","../../../../node_modules/.pnpm/json-schema-compare@0.2.2/node_modules/json-schema-compare/src/index.js","../../../../node_modules/.pnpm/validate.io-array@1.0.6/node_modules/validate.io-array/lib/index.js","../../../../node_modules/.pnpm/validate.io-number@1.0.3/node_modules/validate.io-number/lib/index.js","../../../../node_modules/.pnpm/validate.io-integer@1.0.5/node_modules/validate.io-integer/lib/index.js","../../../../node_modules/.pnpm/validate.io-integer-array@1.0.0/node_modules/validate.io-integer-array/lib/index.js","../../../../node_modules/.pnpm/validate.io-function@1.0.2/node_modules/validate.io-function/lib/index.js","../../../../node_modules/.pnpm/compute-gcd@1.2.1/node_modules/compute-gcd/lib/index.js","../../../../node_modules/.pnpm/compute-lcm@1.1.2/node_modules/compute-lcm/lib/index.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_customDefaultsMerge.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/mergeWith.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/defaultsDeep.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/flattenDeep.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/intersection.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIndexOfWith.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_basePullAll.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/pullAll.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseDifference.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/without.js","../../../../node_modules/.pnpm/json-schema-merge-allof@0.8.1/node_modules/json-schema-merge-allof/src/common.js","../../../../node_modules/.pnpm/json-schema-merge-allof@0.8.1/node_modules/json-schema-merge-allof/src/complex-resolvers/properties.js","../../../../node_modules/.pnpm/json-schema-merge-allof@0.8.1/node_modules/json-schema-merge-allof/src/complex-resolvers/items.js","../../../../node_modules/.pnpm/json-schema-merge-allof@0.8.1/node_modules/json-schema-merge-allof/src/index.js","../../../../node_modules/.pnpm/@rjsf+utils@5.7.3_react@18.2.0/node_modules/@rjsf/utils/dist/utils.esm.js","../../../../node_modules/.pnpm/nanoid@3.3.6/node_modules/nanoid/index.browser.js","../../../../node_modules/.pnpm/@rjsf+core@5.7.3_@rjsf+utils@5.7.3_react@18.2.0/node_modules/@rjsf/core/dist/core.esm.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/compile/codegen/code.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/compile/codegen/scope.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/compile/codegen/index.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/compile/util.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/compile/names.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/compile/errors.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/compile/validate/boolSchema.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/compile/rules.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/compile/validate/applicability.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/compile/validate/dataType.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/compile/validate/defaults.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/vocabularies/code.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/compile/validate/keyword.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/compile/validate/subschema.js","../../../../node_modules/.pnpm/fast-deep-equal@3.1.3/node_modules/fast-deep-equal/index.js","../../../../node_modules/.pnpm/json-schema-traverse@1.0.0/node_modules/json-schema-traverse/index.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/compile/resolve.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/compile/validate/index.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/runtime/validation_error.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/compile/ref_error.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/compile/index.js","../../../../node_modules/.pnpm/uri-js@4.4.1/node_modules/uri-js/dist/es5/uri.all.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/runtime/uri.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/core.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/vocabularies/core/id.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/vocabularies/core/ref.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/vocabularies/core/index.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/vocabularies/validation/limitNumber.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/vocabularies/validation/multipleOf.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/runtime/ucs2length.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/vocabularies/validation/limitLength.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/vocabularies/validation/pattern.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/vocabularies/validation/limitProperties.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/vocabularies/validation/required.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/vocabularies/validation/limitItems.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/runtime/equal.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/vocabularies/validation/uniqueItems.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/vocabularies/validation/const.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/vocabularies/validation/enum.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/vocabularies/validation/index.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/vocabularies/applicator/additionalItems.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/vocabularies/applicator/items.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/vocabularies/applicator/prefixItems.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/vocabularies/applicator/items2020.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/vocabularies/applicator/contains.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/vocabularies/applicator/dependencies.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/vocabularies/applicator/propertyNames.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/vocabularies/applicator/additionalProperties.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/vocabularies/applicator/properties.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/vocabularies/applicator/patternProperties.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/vocabularies/applicator/not.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/vocabularies/applicator/anyOf.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/vocabularies/applicator/oneOf.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/vocabularies/applicator/allOf.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/vocabularies/applicator/if.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/vocabularies/applicator/thenElse.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/vocabularies/applicator/index.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/vocabularies/format/format.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/vocabularies/format/index.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/vocabularies/metadata.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/vocabularies/draft7.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/vocabularies/discriminator/types.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/vocabularies/discriminator/index.js","../../../../node_modules/.pnpm/ajv@8.12.0/node_modules/ajv/dist/ajv.js","../../../../node_modules/.pnpm/ajv-formats@2.1.1_ajv@8.12.0/node_modules/ajv-formats/dist/formats.js","../../../../node_modules/.pnpm/ajv-formats@2.1.1_ajv@8.12.0/node_modules/ajv-formats/dist/limit.js","../../../../node_modules/.pnpm/ajv-formats@2.1.1_ajv@8.12.0/node_modules/ajv-formats/dist/index.js","../../../../node_modules/.pnpm/@rjsf+validator-ajv8@5.7.3_@rjsf+utils@5.7.3/node_modules/@rjsf/validator-ajv8/dist/validator-ajv8.esm.js","../../src/components/ModalDownload/ModalDownload.FormSchema.ts","../../src/components/ModalDownload/ModalDownload.tsx","../../src/utils/functions/deepLinkingUtils.ts","../../src/components/useImmutableTableQuery.ts","../../src/components/QueryWrapper/QueryWrapper.tsx","../../src/components/InfiniteQueryWrapper.tsx","../../src/components/AccessRequirementList/ManagedACTAccessRequirementRequestFlow/CancelRequestDataAccess.tsx","../../src/components/AccessRequirementList/ManagedACTAccessRequirementRequestFlow/ManagedACTAccessRequirementFormWikiWrapper.tsx","../../src/components/AccessRequirementList/ManagedACTAccessRequirementRequestFlow/ResearchProjectForm.tsx","../../src/components/AccessRequirementList/ManagedACTAccessRequirementRequestFlow/DataAccessRequestAccessorsEditor.tsx","../../src/components/DirectDownloadButton.tsx","../../src/components/AccessRequirementList/ManagedACTAccessRequirementRequestFlow/UploadDocumentField.tsx","../../src/components/AccessRequirementList/ManagedACTAccessRequirementRequestFlow/DocumentTemplate.tsx","../../src/components/AccessRequirementList/ManagedACTAccessRequirementRequestFlow/DataAccessRequestAccessorsFilesForm.tsx","../../src/components/AccessRequirementList/ManagedACTAccessRequirementRequestFlow/RequestDataAccessSuccess.tsx","../../src/components/AccessRequirementList/RequirementItem/UnmanagedACTAccessRequirementItem.tsx","../../src/components/AccessRequirementList/ManagedACTAccessRequirementRequestFlow/ManagedACTAccessRequirementItem.tsx","../../src/components/AccessRequirementList/RequirementItem/SelfSignAccessRequirementItem.tsx","../../src/components/AccessRequirementList/AccessRequirementListItem.tsx","../../src/components/AccessRequirementList/AccessRequirementList.tsx","../../src/components/DownloadCart/MeetAccessRequirementCard.tsx","../../src/components/DownloadCart/EnableTwoFaRequirementCard.tsx","../../src/components/DownloadCart/ActionRequiredListItem.tsx","../../src/components/AccessRequirement/EntityActionsRequired.tsx","../../src/components/QueryWrapperErrorBanner.tsx","../../src/components/SearchV2.tsx","../../src/components/SqlEditor.tsx","../../src/components/SynapseTable/table-top/DownloadLoginModal.tsx","../../src/components/ProgrammaticInstructionsModal.tsx","../../src/components/ProgrammaticTableDownload/ProgrammaticTableDownload.tsx","../../src/components/SynapseTable/TopLevelControls/TopLevelControlsUtils.ts","../../src/components/SynapseTable/table-top/DownloadOptions.tsx","../../src/components/SynapseTable/table-top/ColumnSelection.tsx","../../src/components/MissingQueryResultsWarning.tsx","../../src/assets/icons/Cavatica.tsx","../../src/components/styled/InlineBadge.tsx","../../src/components/SynapseTable/RowSelection/RowSelectionUI.tsx","../../src/components/SynapseTable/RowSelection/RowSelectionControls.tsx","../../src/components/Skeleton/SkeletonInlineBlock.tsx","../../src/components/Skeleton/SkeletonParagraph.tsx","../../src/synapse-queries/entity/useExportToCavatica.ts","../../src/synapse-queries/entity/useActionsRequiredForTableQuery.ts","../../src/utils/functions/QueryFilterUtils.ts","../../src/components/SynapseTable/SendToCavaticaConfirmationDialog.tsx","../../src/components/SynapseTable/TopLevelControls/TopLevelControls.tsx","../../src/components/widgets/Checkbox.tsx","../../src/assets/icons/IconPlus.tsx","../../src/assets/icons/IconMinus.tsx","../../src/components/widgets/query-filter/FacetFilterHeader.tsx","../../src/components/widgets/query-filter/EnumFacetFilter.tsx","../../src/components/widgets/query-filter/FacetChip.tsx","../../src/components/widgets/Range.tsx","../../src/components/widgets/query-filter/RangeFacetFilter.tsx","../../src/components/widgets/query-filter/FacetFilterControls.tsx","../../src/components/widgets/facet-nav/FacetPlotLegendUtils.ts","../../src/components/widgets/facet-nav/FacetPlotLegendList.tsx","../../src/components/widgets/facet-nav/FacetNavPanel.tsx","../../src/components/widgets/facet-nav/SelectionCriteriaPills.tsx","../../src/components/TotalQueryResults.tsx","../../src/components/widgets/facet-nav/FacetNav.tsx","../../src/components/SchemaDrivenAnnotationEditor/widget/SelectWidget.tsx","../../src/components/QuerySortSelector.tsx","../../src/components/CardContainerLogic/CardContainerLogic.tsx","../../src/components/HeaderCard.tsx","../../src/components/widgets/FileHandleLink.tsx","../../src/components/widgets/ImageFileHandle.tsx","../../src/components/GenericCard/GenericCard.tsx","../../src/components/row_renderers/Dataset.tsx","../../src/components/row_renderers/Funder.tsx","../../src/components/row_renderers/ObservationCard.tsx","../../src/components/CardContainer/CardContainer.tsx","../../../../node_modules/.pnpm/column-resizer@1.4.0/node_modules/column-resizer/dist/column-resizer.js","../../src/components/AddToDownloadListV2.tsx","../../../../node_modules/.pnpm/ua-parser-js@1.0.33/node_modules/ua-parser-js/src/ua-parser.js","../../src/components/DirectDownload.tsx","../../src/components/HasAccess/HasAccessV2.tsx","../../src/components/EntityIdList.tsx","../../src/components/EvaluationIdRenderer.tsx","../../src/components/UserIdList.tsx","../../src/components/synapse_table_functions/SynapseTableCell.tsx","../../src/components/SynapseTable/TablePagination.tsx","../../src/components/InteractiveCopyIdsIcon.tsx","../../src/components/SynapseTable/EntityIDColumnCopyIcon.tsx","../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js","../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/algorithms/hasActiveObservations.js","../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/algorithms/hasSkippedObservations.js","../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/algorithms/deliverResizeLoopError.js","../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js","../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/freeze.js","../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/ResizeObserverSize.js","../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/DOMRectReadOnly.js","../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/element.js","../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/global.js","../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js","../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js","../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js","../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/algorithms/broadcastActiveObservations.js","../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/algorithms/gatherActiveObservationsAtDepth.js","../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/process.js","../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/queueMicroTask.js","../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/queueResizeObserver.js","../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/scheduler.js","../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/ResizeObservation.js","../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/ResizeObserverDetail.js","../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/ResizeObserverController.js","../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/ResizeObserver.js","../../../../node_modules/.pnpm/@react-hook+passive-layout-effect@1.2.1_react@18.2.0/node_modules/@react-hook/passive-layout-effect/dist/module/index.js","../../../../node_modules/.pnpm/@react-hook+latest@1.0.3_react@18.2.0/node_modules/@react-hook/latest/dist/module/index.js","../../../../node_modules/.pnpm/@react-hook+resize-observer@1.2.6_react@18.2.0/node_modules/@react-hook/resize-observer/dist/module/index.js","../../src/components/SynapseTable/ExpandableTableDataCell.tsx","../../src/components/SynapseTable/SynapseTable.tsx","../../src/components/QueryWrapperPlotNav/LastUpdatedOn.tsx","../../src/components/QueryWrapperPlotNav/FilterAndView.tsx","../../src/utils/functions/testDownloadSpeed.ts","../../../../node_modules/.pnpm/dayjs@1.11.7/node_modules/dayjs/plugin/duration.js","../../../../node_modules/.pnpm/dayjs@1.11.7/node_modules/dayjs/plugin/relativeTime.js","../../src/components/download_list/DownloadDetails.tsx","../../src/components/download_list/DownloadConfirmationUI.tsx","../../src/components/download_list/DownloadConfirmationUtils.ts","../../src/components/download_list/FolderDownloadConfirmation.tsx","../../src/components/download_list/TableQueryDownloadConfirmation.tsx","../../src/components/QueryWrapperPlotNav/QueryWrapperPlotNav.tsx","../../src/components/StandaloneQueryWrapper/StandaloneQueryWrapper.tsx","../../src/components/Markdown/widget/MarkdownSynapseTable.tsx","../../src/components/Markdown/widget/MarkdownTableOfContents.tsx","../../src/components/Markdown/widget/MarkdownUserOrTeamBadge.tsx","../../src/components/Markdown/widget/MarkdownVideo.tsx","../../src/components/Markdown/MarkdownWidget.tsx","../../src/components/Markdown/widget/Bookmarks.tsx","../../src/components/Markdown/MarkdownSynapse.tsx","../../src/components/styled/LightTooltip.tsx","../../src/components/Markdown/MarkdownPopover.tsx","../../src/components/HelpPopover.tsx","../../src/components/DialogBase.tsx","../../src/components/ConfirmationDialog/ConfirmationDialog.tsx"],"sourcesContent":["import * as React from 'react';\nconst usePreviousProps = value => {\n  const ref = React.useRef({});\n  React.useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n};\nexport default usePreviousProps;","import { usePreviousProps } from '@mui/utils';\n/**\n *\n * Demos:\n *\n * - [Unstyled badge](https://mui.com/base/react-badge/#hook)\n *\n * API:\n *\n * - [useBadge API](https://mui.com/base/react-badge/hooks-api/#use-badge)\n */\nexport default function useBadge(parameters) {\n  const {\n    badgeContent: badgeContentProp,\n    invisible: invisibleProp = false,\n    max: maxProp = 99,\n    showZero = false\n  } = parameters;\n  const prevProps = usePreviousProps({\n    badgeContent: badgeContentProp,\n    max: maxProp\n  });\n  let invisible = invisibleProp;\n  if (invisibleProp === false && badgeContentProp === 0 && !showZero) {\n    invisible = true;\n  }\n  const {\n    badgeContent,\n    max = maxProp\n  } = invisible ? prevProps : parameters;\n  const displayValue = badgeContent && Number(badgeContent) > max ? `${max}+` : badgeContent;\n  return {\n    badgeContent,\n    invisible,\n    max,\n    displayValue\n  };\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\n/* eslint-disable no-constant-condition */\nimport * as React from 'react';\nimport { unstable_setRef as setRef, unstable_useEventCallback as useEventCallback, unstable_useControlled as useControlled, unstable_useId as useId, usePreviousProps } from '@mui/utils';\n\n// https://stackoverflow.com/questions/990904/remove-accents-diacritics-in-a-string-in-javascript\n// Give up on IE11 support for this feature\nfunction stripDiacritics(string) {\n  return typeof string.normalize !== 'undefined' ? string.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '') : string;\n}\nexport function createFilterOptions(config = {}) {\n  const {\n    ignoreAccents = true,\n    ignoreCase = true,\n    limit,\n    matchFrom = 'any',\n    stringify,\n    trim = false\n  } = config;\n  return (options, {\n    inputValue,\n    getOptionLabel\n  }) => {\n    let input = trim ? inputValue.trim() : inputValue;\n    if (ignoreCase) {\n      input = input.toLowerCase();\n    }\n    if (ignoreAccents) {\n      input = stripDiacritics(input);\n    }\n    const filteredOptions = !input ? options : options.filter(option => {\n      let candidate = (stringify || getOptionLabel)(option);\n      if (ignoreCase) {\n        candidate = candidate.toLowerCase();\n      }\n      if (ignoreAccents) {\n        candidate = stripDiacritics(candidate);\n      }\n      return matchFrom === 'start' ? candidate.indexOf(input) === 0 : candidate.indexOf(input) > -1;\n    });\n    return typeof limit === 'number' ? filteredOptions.slice(0, limit) : filteredOptions;\n  };\n}\n\n// To replace with .findIndex() once we stop IE11 support.\nfunction findIndex(array, comp) {\n  for (let i = 0; i < array.length; i += 1) {\n    if (comp(array[i])) {\n      return i;\n    }\n  }\n  return -1;\n}\nconst defaultFilterOptions = createFilterOptions();\n\n// Number of options to jump in list box when `Page Up` and `Page Down` keys are used.\nconst pageSize = 5;\nconst defaultIsActiveElementInListbox = listboxRef => {\n  var _listboxRef$current$p;\n  return listboxRef.current !== null && ((_listboxRef$current$p = listboxRef.current.parentElement) == null ? void 0 : _listboxRef$current$p.contains(document.activeElement));\n};\nexport default function useAutocomplete(props) {\n  const {\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    unstable_isActiveElementInListbox = defaultIsActiveElementInListbox,\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    unstable_classNamePrefix = 'Mui',\n    autoComplete = false,\n    autoHighlight = false,\n    autoSelect = false,\n    blurOnSelect = false,\n    clearOnBlur = !props.freeSolo,\n    clearOnEscape = false,\n    componentName = 'useAutocomplete',\n    defaultValue = props.multiple ? [] : null,\n    disableClearable = false,\n    disableCloseOnSelect = false,\n    disabled: disabledProp,\n    disabledItemsFocusable = false,\n    disableListWrap = false,\n    filterOptions = defaultFilterOptions,\n    filterSelectedOptions = false,\n    freeSolo = false,\n    getOptionDisabled,\n    getOptionLabel: getOptionLabelProp = option => {\n      var _option$label;\n      return (_option$label = option.label) != null ? _option$label : option;\n    },\n    groupBy,\n    handleHomeEndKeys = !props.freeSolo,\n    id: idProp,\n    includeInputInList = false,\n    inputValue: inputValueProp,\n    isOptionEqualToValue = (option, value) => option === value,\n    multiple = false,\n    onChange,\n    onClose,\n    onHighlightChange,\n    onInputChange,\n    onOpen,\n    open: openProp,\n    openOnFocus = false,\n    options,\n    readOnly = false,\n    selectOnFocus = !props.freeSolo,\n    value: valueProp\n  } = props;\n  const id = useId(idProp);\n  let getOptionLabel = getOptionLabelProp;\n  getOptionLabel = option => {\n    const optionLabel = getOptionLabelProp(option);\n    if (typeof optionLabel !== 'string') {\n      if (process.env.NODE_ENV !== 'production') {\n        const erroneousReturn = optionLabel === undefined ? 'undefined' : `${typeof optionLabel} (${optionLabel})`;\n        console.error(`MUI: The \\`getOptionLabel\\` method of ${componentName} returned ${erroneousReturn} instead of a string for ${JSON.stringify(option)}.`);\n      }\n      return String(optionLabel);\n    }\n    return optionLabel;\n  };\n  const ignoreFocus = React.useRef(false);\n  const firstFocus = React.useRef(true);\n  const inputRef = React.useRef(null);\n  const listboxRef = React.useRef(null);\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [focusedTag, setFocusedTag] = React.useState(-1);\n  const defaultHighlighted = autoHighlight ? 0 : -1;\n  const highlightedIndexRef = React.useRef(defaultHighlighted);\n  const [value, setValueState] = useControlled({\n    controlled: valueProp,\n    default: defaultValue,\n    name: componentName\n  });\n  const [inputValue, setInputValueState] = useControlled({\n    controlled: inputValueProp,\n    default: '',\n    name: componentName,\n    state: 'inputValue'\n  });\n  const [focused, setFocused] = React.useState(false);\n  const resetInputValue = React.useCallback((event, newValue) => {\n    // retain current `inputValue` if new option isn't selected and `clearOnBlur` is false\n    // When `multiple` is enabled, `newValue` is an array of all selected items including the newly selected item\n    const isOptionSelected = multiple ? value.length < newValue.length : newValue !== null;\n    if (!isOptionSelected && !clearOnBlur) {\n      return;\n    }\n    let newInputValue;\n    if (multiple) {\n      newInputValue = '';\n    } else if (newValue == null) {\n      newInputValue = '';\n    } else {\n      const optionLabel = getOptionLabel(newValue);\n      newInputValue = typeof optionLabel === 'string' ? optionLabel : '';\n    }\n    if (inputValue === newInputValue) {\n      return;\n    }\n    setInputValueState(newInputValue);\n    if (onInputChange) {\n      onInputChange(event, newInputValue, 'reset');\n    }\n  }, [getOptionLabel, inputValue, multiple, onInputChange, setInputValueState, clearOnBlur, value]);\n  const [open, setOpenState] = useControlled({\n    controlled: openProp,\n    default: false,\n    name: componentName,\n    state: 'open'\n  });\n  const [inputPristine, setInputPristine] = React.useState(true);\n  const inputValueIsSelectedValue = !multiple && value != null && inputValue === getOptionLabel(value);\n  const popupOpen = open && !readOnly;\n  const filteredOptions = popupOpen ? filterOptions(options.filter(option => {\n    if (filterSelectedOptions && (multiple ? value : [value]).some(value2 => value2 !== null && isOptionEqualToValue(option, value2))) {\n      return false;\n    }\n    return true;\n  }),\n  // we use the empty string to manipulate `filterOptions` to not filter any options\n  // i.e. the filter predicate always returns true\n  {\n    inputValue: inputValueIsSelectedValue && inputPristine ? '' : inputValue,\n    getOptionLabel\n  }) : [];\n  const previousProps = usePreviousProps({\n    filteredOptions,\n    value\n  });\n  React.useEffect(() => {\n    const valueChange = value !== previousProps.value;\n    if (focused && !valueChange) {\n      return;\n    }\n\n    // Only reset the input's value when freeSolo if the component's value changes.\n    if (freeSolo && !valueChange) {\n      return;\n    }\n    resetInputValue(null, value);\n  }, [value, resetInputValue, focused, previousProps.value, freeSolo]);\n  const listboxAvailable = open && filteredOptions.length > 0 && !readOnly;\n  if (process.env.NODE_ENV !== 'production') {\n    if (value !== null && !freeSolo && options.length > 0) {\n      const missingValue = (multiple ? value : [value]).filter(value2 => !options.some(option => isOptionEqualToValue(option, value2)));\n      if (missingValue.length > 0) {\n        console.warn([`MUI: The value provided to ${componentName} is invalid.`, `None of the options match with \\`${missingValue.length > 1 ? JSON.stringify(missingValue) : JSON.stringify(missingValue[0])}\\`.`, 'You can use the `isOptionEqualToValue` prop to customize the equality test.'].join('\\n'));\n      }\n    }\n  }\n  const focusTag = useEventCallback(tagToFocus => {\n    if (tagToFocus === -1) {\n      inputRef.current.focus();\n    } else {\n      anchorEl.querySelector(`[data-tag-index=\"${tagToFocus}\"]`).focus();\n    }\n  });\n\n  // Ensure the focusedTag is never inconsistent\n  React.useEffect(() => {\n    if (multiple && focusedTag > value.length - 1) {\n      setFocusedTag(-1);\n      focusTag(-1);\n    }\n  }, [value, multiple, focusedTag, focusTag]);\n  function validOptionIndex(index, direction) {\n    if (!listboxRef.current || index === -1) {\n      return -1;\n    }\n    let nextFocus = index;\n    while (true) {\n      // Out of range\n      if (direction === 'next' && nextFocus === filteredOptions.length || direction === 'previous' && nextFocus === -1) {\n        return -1;\n      }\n      const option = listboxRef.current.querySelector(`[data-option-index=\"${nextFocus}\"]`);\n\n      // Same logic as MenuList.js\n      const nextFocusDisabled = disabledItemsFocusable ? false : !option || option.disabled || option.getAttribute('aria-disabled') === 'true';\n      if (option && !option.hasAttribute('tabindex') || nextFocusDisabled) {\n        // Move to the next element.\n        nextFocus += direction === 'next' ? 1 : -1;\n      } else {\n        return nextFocus;\n      }\n    }\n  }\n  const setHighlightedIndex = useEventCallback(({\n    event,\n    index,\n    reason = 'auto'\n  }) => {\n    highlightedIndexRef.current = index;\n\n    // does the index exist?\n    if (index === -1) {\n      inputRef.current.removeAttribute('aria-activedescendant');\n    } else {\n      inputRef.current.setAttribute('aria-activedescendant', `${id}-option-${index}`);\n    }\n    if (onHighlightChange) {\n      onHighlightChange(event, index === -1 ? null : filteredOptions[index], reason);\n    }\n    if (!listboxRef.current) {\n      return;\n    }\n    const prev = listboxRef.current.querySelector(`[role=\"option\"].${unstable_classNamePrefix}-focused`);\n    if (prev) {\n      prev.classList.remove(`${unstable_classNamePrefix}-focused`);\n      prev.classList.remove(`${unstable_classNamePrefix}-focusVisible`);\n    }\n    const listboxNode = listboxRef.current.parentElement.querySelector('[role=\"listbox\"]');\n\n    // \"No results\"\n    if (!listboxNode) {\n      return;\n    }\n    if (index === -1) {\n      listboxNode.scrollTop = 0;\n      return;\n    }\n    const option = listboxRef.current.querySelector(`[data-option-index=\"${index}\"]`);\n    if (!option) {\n      return;\n    }\n    option.classList.add(`${unstable_classNamePrefix}-focused`);\n    if (reason === 'keyboard') {\n      option.classList.add(`${unstable_classNamePrefix}-focusVisible`);\n    }\n\n    // Scroll active descendant into view.\n    // Logic copied from https://www.w3.org/WAI/content-assets/wai-aria-practices/patterns/combobox/examples/js/select-only.js\n    //\n    // Consider this API instead once it has a better browser support:\n    // .scrollIntoView({ scrollMode: 'if-needed', block: 'nearest' });\n    if (listboxNode.scrollHeight > listboxNode.clientHeight && reason !== 'mouse') {\n      const element = option;\n      const scrollBottom = listboxNode.clientHeight + listboxNode.scrollTop;\n      const elementBottom = element.offsetTop + element.offsetHeight;\n      if (elementBottom > scrollBottom) {\n        listboxNode.scrollTop = elementBottom - listboxNode.clientHeight;\n      } else if (element.offsetTop - element.offsetHeight * (groupBy ? 1.3 : 0) < listboxNode.scrollTop) {\n        listboxNode.scrollTop = element.offsetTop - element.offsetHeight * (groupBy ? 1.3 : 0);\n      }\n    }\n  });\n  const changeHighlightedIndex = useEventCallback(({\n    event,\n    diff,\n    direction = 'next',\n    reason = 'auto'\n  }) => {\n    if (!popupOpen) {\n      return;\n    }\n    const getNextIndex = () => {\n      const maxIndex = filteredOptions.length - 1;\n      if (diff === 'reset') {\n        return defaultHighlighted;\n      }\n      if (diff === 'start') {\n        return 0;\n      }\n      if (diff === 'end') {\n        return maxIndex;\n      }\n      const newIndex = highlightedIndexRef.current + diff;\n      if (newIndex < 0) {\n        if (newIndex === -1 && includeInputInList) {\n          return -1;\n        }\n        if (disableListWrap && highlightedIndexRef.current !== -1 || Math.abs(diff) > 1) {\n          return 0;\n        }\n        return maxIndex;\n      }\n      if (newIndex > maxIndex) {\n        if (newIndex === maxIndex + 1 && includeInputInList) {\n          return -1;\n        }\n        if (disableListWrap || Math.abs(diff) > 1) {\n          return maxIndex;\n        }\n        return 0;\n      }\n      return newIndex;\n    };\n    const nextIndex = validOptionIndex(getNextIndex(), direction);\n    setHighlightedIndex({\n      index: nextIndex,\n      reason,\n      event\n    });\n\n    // Sync the content of the input with the highlighted option.\n    if (autoComplete && diff !== 'reset') {\n      if (nextIndex === -1) {\n        inputRef.current.value = inputValue;\n      } else {\n        const option = getOptionLabel(filteredOptions[nextIndex]);\n        inputRef.current.value = option;\n\n        // The portion of the selected suggestion that has not been typed by the user,\n        // a completion string, appears inline after the input cursor in the textbox.\n        const index = option.toLowerCase().indexOf(inputValue.toLowerCase());\n        if (index === 0 && inputValue.length > 0) {\n          inputRef.current.setSelectionRange(inputValue.length, option.length);\n        }\n      }\n    }\n  });\n  const checkHighlightedOptionExists = () => {\n    const isSameValue = (value1, value2) => {\n      const label1 = value1 ? getOptionLabel(value1) : '';\n      const label2 = value2 ? getOptionLabel(value2) : '';\n      return label1 === label2;\n    };\n    if (highlightedIndexRef.current !== -1 && previousProps.filteredOptions && previousProps.filteredOptions.length !== filteredOptions.length && (multiple ? value.length === previousProps.value.length && previousProps.value.every((val, i) => getOptionLabel(value[i]) === getOptionLabel(val)) : isSameValue(previousProps.value, value))) {\n      const previousHighlightedOption = previousProps.filteredOptions[highlightedIndexRef.current];\n      if (previousHighlightedOption) {\n        const previousHighlightedOptionExists = filteredOptions.some(option => {\n          return getOptionLabel(option) === getOptionLabel(previousHighlightedOption);\n        });\n        if (previousHighlightedOptionExists) {\n          return true;\n        }\n      }\n    }\n    return false;\n  };\n  const syncHighlightedIndex = React.useCallback(() => {\n    if (!popupOpen) {\n      return;\n    }\n\n    // Check if the previously highlighted option still exists in the updated filtered options list and if the value hasn't changed\n    // If it exists and the value hasn't changed, return, otherwise continue execution\n    if (checkHighlightedOptionExists()) {\n      return;\n    }\n    const valueItem = multiple ? value[0] : value;\n\n    // The popup is empty, reset\n    if (filteredOptions.length === 0 || valueItem == null) {\n      changeHighlightedIndex({\n        diff: 'reset'\n      });\n      return;\n    }\n    if (!listboxRef.current) {\n      return;\n    }\n\n    // Synchronize the value with the highlighted index\n    if (valueItem != null) {\n      const currentOption = filteredOptions[highlightedIndexRef.current];\n\n      // Keep the current highlighted index if possible\n      if (multiple && currentOption && findIndex(value, val => isOptionEqualToValue(currentOption, val)) !== -1) {\n        return;\n      }\n      const itemIndex = findIndex(filteredOptions, optionItem => isOptionEqualToValue(optionItem, valueItem));\n      if (itemIndex === -1) {\n        changeHighlightedIndex({\n          diff: 'reset'\n        });\n      } else {\n        setHighlightedIndex({\n          index: itemIndex\n        });\n      }\n      return;\n    }\n\n    // Prevent the highlighted index to leak outside the boundaries.\n    if (highlightedIndexRef.current >= filteredOptions.length - 1) {\n      setHighlightedIndex({\n        index: filteredOptions.length - 1\n      });\n      return;\n    }\n\n    // Restore the focus to the previous index.\n    setHighlightedIndex({\n      index: highlightedIndexRef.current\n    });\n    // Ignore filteredOptions (and options, isOptionEqualToValue, getOptionLabel) not to break the scroll position\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [\n  // Only sync the highlighted index when the option switch between empty and not\n  filteredOptions.length,\n  // Don't sync the highlighted index with the value when multiple\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  multiple ? false : value, filterSelectedOptions, changeHighlightedIndex, setHighlightedIndex, popupOpen, inputValue, multiple]);\n  const handleListboxRef = useEventCallback(node => {\n    setRef(listboxRef, node);\n    if (!node) {\n      return;\n    }\n    syncHighlightedIndex();\n  });\n  if (process.env.NODE_ENV !== 'production') {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useEffect(() => {\n      if (!inputRef.current || inputRef.current.nodeName !== 'INPUT') {\n        if (inputRef.current && inputRef.current.nodeName === 'TEXTAREA') {\n          console.warn([`A textarea element was provided to ${componentName} where input was expected.`, `This is not a supported scenario but it may work under certain conditions.`, `A textarea keyboard navigation may conflict with Autocomplete controls (e.g. enter and arrow keys).`, `Make sure to test keyboard navigation and add custom event handlers if necessary.`].join('\\n'));\n        } else {\n          console.error([`MUI: Unable to find the input element. It was resolved to ${inputRef.current} while an HTMLInputElement was expected.`, `Instead, ${componentName} expects an input element.`, '', componentName === 'useAutocomplete' ? 'Make sure you have bound getInputProps correctly and that the normal ref/effect resolutions order is guaranteed.' : 'Make sure you have customized the input component correctly.'].join('\\n'));\n        }\n      }\n    }, [componentName]);\n  }\n  React.useEffect(() => {\n    syncHighlightedIndex();\n  }, [syncHighlightedIndex]);\n  const handleOpen = event => {\n    if (open) {\n      return;\n    }\n    setOpenState(true);\n    setInputPristine(true);\n    if (onOpen) {\n      onOpen(event);\n    }\n  };\n  const handleClose = (event, reason) => {\n    if (!open) {\n      return;\n    }\n    setOpenState(false);\n    if (onClose) {\n      onClose(event, reason);\n    }\n  };\n  const handleValue = (event, newValue, reason, details) => {\n    if (multiple) {\n      if (value.length === newValue.length && value.every((val, i) => val === newValue[i])) {\n        return;\n      }\n    } else if (value === newValue) {\n      return;\n    }\n    if (onChange) {\n      onChange(event, newValue, reason, details);\n    }\n    setValueState(newValue);\n  };\n  const isTouch = React.useRef(false);\n  const selectNewValue = (event, option, reasonProp = 'selectOption', origin = 'options') => {\n    let reason = reasonProp;\n    let newValue = option;\n    if (multiple) {\n      newValue = Array.isArray(value) ? value.slice() : [];\n      if (process.env.NODE_ENV !== 'production') {\n        const matches = newValue.filter(val => isOptionEqualToValue(option, val));\n        if (matches.length > 1) {\n          console.error([`MUI: The \\`isOptionEqualToValue\\` method of ${componentName} does not handle the arguments correctly.`, `The component expects a single value to match a given option but found ${matches.length} matches.`].join('\\n'));\n        }\n      }\n      const itemIndex = findIndex(newValue, valueItem => isOptionEqualToValue(option, valueItem));\n      if (itemIndex === -1) {\n        newValue.push(option);\n      } else if (origin !== 'freeSolo') {\n        newValue.splice(itemIndex, 1);\n        reason = 'removeOption';\n      }\n    }\n    resetInputValue(event, newValue);\n    handleValue(event, newValue, reason, {\n      option\n    });\n    if (!disableCloseOnSelect && (!event || !event.ctrlKey && !event.metaKey)) {\n      handleClose(event, reason);\n    }\n    if (blurOnSelect === true || blurOnSelect === 'touch' && isTouch.current || blurOnSelect === 'mouse' && !isTouch.current) {\n      inputRef.current.blur();\n    }\n  };\n  function validTagIndex(index, direction) {\n    if (index === -1) {\n      return -1;\n    }\n    let nextFocus = index;\n    while (true) {\n      // Out of range\n      if (direction === 'next' && nextFocus === value.length || direction === 'previous' && nextFocus === -1) {\n        return -1;\n      }\n      const option = anchorEl.querySelector(`[data-tag-index=\"${nextFocus}\"]`);\n\n      // Same logic as MenuList.js\n      if (!option || !option.hasAttribute('tabindex') || option.disabled || option.getAttribute('aria-disabled') === 'true') {\n        nextFocus += direction === 'next' ? 1 : -1;\n      } else {\n        return nextFocus;\n      }\n    }\n  }\n  const handleFocusTag = (event, direction) => {\n    if (!multiple) {\n      return;\n    }\n    if (inputValue === '') {\n      handleClose(event, 'toggleInput');\n    }\n    let nextTag = focusedTag;\n    if (focusedTag === -1) {\n      if (inputValue === '' && direction === 'previous') {\n        nextTag = value.length - 1;\n      }\n    } else {\n      nextTag += direction === 'next' ? 1 : -1;\n      if (nextTag < 0) {\n        nextTag = 0;\n      }\n      if (nextTag === value.length) {\n        nextTag = -1;\n      }\n    }\n    nextTag = validTagIndex(nextTag, direction);\n    setFocusedTag(nextTag);\n    focusTag(nextTag);\n  };\n  const handleClear = event => {\n    ignoreFocus.current = true;\n    setInputValueState('');\n    if (onInputChange) {\n      onInputChange(event, '', 'clear');\n    }\n    handleValue(event, multiple ? [] : null, 'clear');\n  };\n  const handleKeyDown = other => event => {\n    if (other.onKeyDown) {\n      other.onKeyDown(event);\n    }\n    if (event.defaultMuiPrevented) {\n      return;\n    }\n    if (focusedTag !== -1 && ['ArrowLeft', 'ArrowRight'].indexOf(event.key) === -1) {\n      setFocusedTag(-1);\n      focusTag(-1);\n    }\n\n    // Wait until IME is settled.\n    if (event.which !== 229) {\n      switch (event.key) {\n        case 'Home':\n          if (popupOpen && handleHomeEndKeys) {\n            // Prevent scroll of the page\n            event.preventDefault();\n            changeHighlightedIndex({\n              diff: 'start',\n              direction: 'next',\n              reason: 'keyboard',\n              event\n            });\n          }\n          break;\n        case 'End':\n          if (popupOpen && handleHomeEndKeys) {\n            // Prevent scroll of the page\n            event.preventDefault();\n            changeHighlightedIndex({\n              diff: 'end',\n              direction: 'previous',\n              reason: 'keyboard',\n              event\n            });\n          }\n          break;\n        case 'PageUp':\n          // Prevent scroll of the page\n          event.preventDefault();\n          changeHighlightedIndex({\n            diff: -pageSize,\n            direction: 'previous',\n            reason: 'keyboard',\n            event\n          });\n          handleOpen(event);\n          break;\n        case 'PageDown':\n          // Prevent scroll of the page\n          event.preventDefault();\n          changeHighlightedIndex({\n            diff: pageSize,\n            direction: 'next',\n            reason: 'keyboard',\n            event\n          });\n          handleOpen(event);\n          break;\n        case 'ArrowDown':\n          // Prevent cursor move\n          event.preventDefault();\n          changeHighlightedIndex({\n            diff: 1,\n            direction: 'next',\n            reason: 'keyboard',\n            event\n          });\n          handleOpen(event);\n          break;\n        case 'ArrowUp':\n          // Prevent cursor move\n          event.preventDefault();\n          changeHighlightedIndex({\n            diff: -1,\n            direction: 'previous',\n            reason: 'keyboard',\n            event\n          });\n          handleOpen(event);\n          break;\n        case 'ArrowLeft':\n          handleFocusTag(event, 'previous');\n          break;\n        case 'ArrowRight':\n          handleFocusTag(event, 'next');\n          break;\n        case 'Enter':\n          if (highlightedIndexRef.current !== -1 && popupOpen) {\n            const option = filteredOptions[highlightedIndexRef.current];\n            const disabled = getOptionDisabled ? getOptionDisabled(option) : false;\n\n            // Avoid early form validation, let the end-users continue filling the form.\n            event.preventDefault();\n            if (disabled) {\n              return;\n            }\n            selectNewValue(event, option, 'selectOption');\n\n            // Move the selection to the end.\n            if (autoComplete) {\n              inputRef.current.setSelectionRange(inputRef.current.value.length, inputRef.current.value.length);\n            }\n          } else if (freeSolo && inputValue !== '' && inputValueIsSelectedValue === false) {\n            if (multiple) {\n              // Allow people to add new values before they submit the form.\n              event.preventDefault();\n            }\n            selectNewValue(event, inputValue, 'createOption', 'freeSolo');\n          }\n          break;\n        case 'Escape':\n          if (popupOpen) {\n            // Avoid Opera to exit fullscreen mode.\n            event.preventDefault();\n            // Avoid the Modal to handle the event.\n            event.stopPropagation();\n            handleClose(event, 'escape');\n          } else if (clearOnEscape && (inputValue !== '' || multiple && value.length > 0)) {\n            // Avoid Opera to exit fullscreen mode.\n            event.preventDefault();\n            // Avoid the Modal to handle the event.\n            event.stopPropagation();\n            handleClear(event);\n          }\n          break;\n        case 'Backspace':\n          if (multiple && !readOnly && inputValue === '' && value.length > 0) {\n            const index = focusedTag === -1 ? value.length - 1 : focusedTag;\n            const newValue = value.slice();\n            newValue.splice(index, 1);\n            handleValue(event, newValue, 'removeOption', {\n              option: value[index]\n            });\n          }\n          break;\n        case 'Delete':\n          if (multiple && !readOnly && inputValue === '' && value.length > 0 && focusedTag !== -1) {\n            const index = focusedTag;\n            const newValue = value.slice();\n            newValue.splice(index, 1);\n            handleValue(event, newValue, 'removeOption', {\n              option: value[index]\n            });\n          }\n          break;\n        default:\n      }\n    }\n  };\n  const handleFocus = event => {\n    setFocused(true);\n    if (openOnFocus && !ignoreFocus.current) {\n      handleOpen(event);\n    }\n  };\n  const handleBlur = event => {\n    // Ignore the event when using the scrollbar with IE11\n    if (unstable_isActiveElementInListbox(listboxRef)) {\n      inputRef.current.focus();\n      return;\n    }\n    setFocused(false);\n    firstFocus.current = true;\n    ignoreFocus.current = false;\n    if (autoSelect && highlightedIndexRef.current !== -1 && popupOpen) {\n      selectNewValue(event, filteredOptions[highlightedIndexRef.current], 'blur');\n    } else if (autoSelect && freeSolo && inputValue !== '') {\n      selectNewValue(event, inputValue, 'blur', 'freeSolo');\n    } else if (clearOnBlur) {\n      resetInputValue(event, value);\n    }\n    handleClose(event, 'blur');\n  };\n  const handleInputChange = event => {\n    const newValue = event.target.value;\n    if (inputValue !== newValue) {\n      setInputValueState(newValue);\n      setInputPristine(false);\n      if (onInputChange) {\n        onInputChange(event, newValue, 'input');\n      }\n    }\n    if (newValue === '') {\n      if (!disableClearable && !multiple) {\n        handleValue(event, null, 'clear');\n      }\n    } else {\n      handleOpen(event);\n    }\n  };\n  const handleOptionMouseMove = event => {\n    const index = Number(event.currentTarget.getAttribute('data-option-index'));\n    if (highlightedIndexRef.current !== index) {\n      setHighlightedIndex({\n        event,\n        index,\n        reason: 'mouse'\n      });\n    }\n  };\n  const handleOptionTouchStart = event => {\n    setHighlightedIndex({\n      event,\n      index: Number(event.currentTarget.getAttribute('data-option-index')),\n      reason: 'touch'\n    });\n    isTouch.current = true;\n  };\n  const handleOptionClick = event => {\n    const index = Number(event.currentTarget.getAttribute('data-option-index'));\n    selectNewValue(event, filteredOptions[index], 'selectOption');\n    isTouch.current = false;\n  };\n  const handleTagDelete = index => event => {\n    const newValue = value.slice();\n    newValue.splice(index, 1);\n    handleValue(event, newValue, 'removeOption', {\n      option: value[index]\n    });\n  };\n  const handlePopupIndicator = event => {\n    if (open) {\n      handleClose(event, 'toggleInput');\n    } else {\n      handleOpen(event);\n    }\n  };\n\n  // Prevent input blur when interacting with the combobox\n  const handleMouseDown = event => {\n    if (event.target.getAttribute('id') !== id) {\n      event.preventDefault();\n    }\n  };\n\n  // Focus the input when interacting with the combobox\n  const handleClick = () => {\n    inputRef.current.focus();\n    if (selectOnFocus && firstFocus.current && inputRef.current.selectionEnd - inputRef.current.selectionStart === 0) {\n      inputRef.current.select();\n    }\n    firstFocus.current = false;\n  };\n  const handleInputMouseDown = event => {\n    if (inputValue === '' || !open) {\n      handlePopupIndicator(event);\n    }\n  };\n  let dirty = freeSolo && inputValue.length > 0;\n  dirty = dirty || (multiple ? value.length > 0 : value !== null);\n  let groupedOptions = filteredOptions;\n  if (groupBy) {\n    // used to keep track of key and indexes in the result array\n    const indexBy = new Map();\n    let warn = false;\n    groupedOptions = filteredOptions.reduce((acc, option, index) => {\n      const group = groupBy(option);\n      if (acc.length > 0 && acc[acc.length - 1].group === group) {\n        acc[acc.length - 1].options.push(option);\n      } else {\n        if (process.env.NODE_ENV !== 'production') {\n          if (indexBy.get(group) && !warn) {\n            console.warn(`MUI: The options provided combined with the \\`groupBy\\` method of ${componentName} returns duplicated headers.`, 'You can solve the issue by sorting the options with the output of `groupBy`.');\n            warn = true;\n          }\n          indexBy.set(group, true);\n        }\n        acc.push({\n          key: index,\n          index,\n          group,\n          options: [option]\n        });\n      }\n      return acc;\n    }, []);\n  }\n  if (disabledProp && focused) {\n    handleBlur();\n  }\n  return {\n    getRootProps: (other = {}) => _extends({\n      'aria-owns': listboxAvailable ? `${id}-listbox` : null\n    }, other, {\n      onKeyDown: handleKeyDown(other),\n      onMouseDown: handleMouseDown,\n      onClick: handleClick\n    }),\n    getInputLabelProps: () => ({\n      id: `${id}-label`,\n      htmlFor: id\n    }),\n    getInputProps: () => ({\n      id,\n      value: inputValue,\n      onBlur: handleBlur,\n      onFocus: handleFocus,\n      onChange: handleInputChange,\n      onMouseDown: handleInputMouseDown,\n      // if open then this is handled imperativeley so don't let react override\n      // only have an opinion about this when closed\n      'aria-activedescendant': popupOpen ? '' : null,\n      'aria-autocomplete': autoComplete ? 'both' : 'list',\n      'aria-controls': listboxAvailable ? `${id}-listbox` : undefined,\n      'aria-expanded': listboxAvailable,\n      // Disable browser's suggestion that might overlap with the popup.\n      // Handle autocomplete but not autofill.\n      autoComplete: 'off',\n      ref: inputRef,\n      autoCapitalize: 'none',\n      spellCheck: 'false',\n      role: 'combobox',\n      disabled: disabledProp\n    }),\n    getClearProps: () => ({\n      tabIndex: -1,\n      onClick: handleClear\n    }),\n    getPopupIndicatorProps: () => ({\n      tabIndex: -1,\n      onClick: handlePopupIndicator\n    }),\n    getTagProps: ({\n      index\n    }) => _extends({\n      key: index,\n      'data-tag-index': index,\n      tabIndex: -1\n    }, !readOnly && {\n      onDelete: handleTagDelete(index)\n    }),\n    getListboxProps: () => ({\n      role: 'listbox',\n      id: `${id}-listbox`,\n      'aria-labelledby': `${id}-label`,\n      ref: handleListboxRef,\n      onMouseDown: event => {\n        // Prevent blur\n        event.preventDefault();\n      }\n    }),\n    getOptionProps: ({\n      index,\n      option\n    }) => {\n      const selected = (multiple ? value : [value]).some(value2 => value2 != null && isOptionEqualToValue(option, value2));\n      const disabled = getOptionDisabled ? getOptionDisabled(option) : false;\n      return {\n        key: getOptionLabel(option),\n        tabIndex: -1,\n        role: 'option',\n        id: `${id}-option-${index}`,\n        onMouseMove: handleOptionMouseMove,\n        onClick: handleOptionClick,\n        onTouchStart: handleOptionTouchStart,\n        'data-option-index': index,\n        'aria-disabled': disabled,\n        'aria-selected': selected\n      };\n    },\n    id,\n    inputValue,\n    value,\n    dirty,\n    expanded: popupOpen && anchorEl,\n    popupOpen,\n    focused: focused || focusedTag !== -1,\n    anchorEl,\n    setAnchorEl,\n    focusedTag,\n    groupedOptions\n  };\n}","import { unstable_generateUtilityClasses as generateUtilityClasses } from '@mui/utils';\nimport generateUtilityClass from '../generateUtilityClass';\nexport function getListSubheaderUtilityClass(slot) {\n  return generateUtilityClass('MuiListSubheader', slot);\n}\nconst listSubheaderClasses = generateUtilityClasses('MuiListSubheader', ['root', 'colorPrimary', 'colorInherit', 'gutters', 'inset', 'sticky']);\nexport default listSubheaderClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"className\", \"color\", \"component\", \"disableGutters\", \"disableSticky\", \"inset\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport capitalize from '../utils/capitalize';\nimport { getListSubheaderUtilityClass } from './listSubheaderClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    color,\n    disableGutters,\n    inset,\n    disableSticky\n  } = ownerState;\n  const slots = {\n    root: ['root', color !== 'default' && `color${capitalize(color)}`, !disableGutters && 'gutters', inset && 'inset', !disableSticky && 'sticky']\n  };\n  return composeClasses(slots, getListSubheaderUtilityClass, classes);\n};\nconst ListSubheaderRoot = styled('li', {\n  name: 'MuiListSubheader',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, ownerState.color !== 'default' && styles[`color${capitalize(ownerState.color)}`], !ownerState.disableGutters && styles.gutters, ownerState.inset && styles.inset, !ownerState.disableSticky && styles.sticky];\n  }\n})(({\n  theme,\n  ownerState\n}) => _extends({\n  boxSizing: 'border-box',\n  lineHeight: '48px',\n  listStyle: 'none',\n  color: (theme.vars || theme).palette.text.secondary,\n  fontFamily: theme.typography.fontFamily,\n  fontWeight: theme.typography.fontWeightMedium,\n  fontSize: theme.typography.pxToRem(14)\n}, ownerState.color === 'primary' && {\n  color: (theme.vars || theme).palette.primary.main\n}, ownerState.color === 'inherit' && {\n  color: 'inherit'\n}, !ownerState.disableGutters && {\n  paddingLeft: 16,\n  paddingRight: 16\n}, ownerState.inset && {\n  paddingLeft: 72\n}, !ownerState.disableSticky && {\n  position: 'sticky',\n  top: 0,\n  zIndex: 1,\n  backgroundColor: (theme.vars || theme).palette.background.paper\n}));\nconst ListSubheader = /*#__PURE__*/React.forwardRef(function ListSubheader(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiListSubheader'\n  });\n  const {\n      className,\n      color = 'default',\n      component = 'li',\n      disableGutters = false,\n      disableSticky = false,\n      inset = false\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = _extends({}, props, {\n    color,\n    component,\n    disableGutters,\n    disableSticky,\n    inset\n  });\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(ListSubheaderRoot, _extends({\n    as: component,\n    className: clsx(classes.root, className),\n    ref: ref,\n    ownerState: ownerState\n  }, other));\n});\nListSubheader.muiSkipListHighlight = true;\nprocess.env.NODE_ENV !== \"production\" ? ListSubheader.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   * @default 'default'\n   */\n  color: PropTypes.oneOf(['default', 'inherit', 'primary']),\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * If `true`, the List Subheader will not have gutters.\n   * @default false\n   */\n  disableGutters: PropTypes.bool,\n  /**\n   * If `true`, the List Subheader will not stick to the top during scroll.\n   * @default false\n   */\n  disableSticky: PropTypes.bool,\n  /**\n   * If `true`, the List Subheader is indented.\n   * @default false\n   */\n  inset: PropTypes.bool,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default ListSubheader;","import { unstable_generateUtilityClasses as generateUtilityClasses } from '@mui/utils';\nimport generateUtilityClass from '../generateUtilityClass';\nexport function getAutocompleteUtilityClass(slot) {\n  return generateUtilityClass('MuiAutocomplete', slot);\n}\nconst autocompleteClasses = generateUtilityClasses('MuiAutocomplete', ['root', 'expanded', 'fullWidth', 'focused', 'focusVisible', 'tag', 'tagSizeSmall', 'tagSizeMedium', 'hasPopupIcon', 'hasClearIcon', 'inputRoot', 'input', 'inputFocused', 'endAdornment', 'clearIndicator', 'popupIndicator', 'popupIndicatorOpen', 'popper', 'popperDisablePortal', 'paper', 'listbox', 'loading', 'noOptions', 'option', 'groupLabel', 'groupUl']);\nexport default autocompleteClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nvar _ClearIcon, _ArrowDropDownIcon;\nconst _excluded = [\"autoComplete\", \"autoHighlight\", \"autoSelect\", \"blurOnSelect\", \"ChipProps\", \"className\", \"clearIcon\", \"clearOnBlur\", \"clearOnEscape\", \"clearText\", \"closeText\", \"componentsProps\", \"defaultValue\", \"disableClearable\", \"disableCloseOnSelect\", \"disabled\", \"disabledItemsFocusable\", \"disableListWrap\", \"disablePortal\", \"filterOptions\", \"filterSelectedOptions\", \"forcePopupIcon\", \"freeSolo\", \"fullWidth\", \"getLimitTagsText\", \"getOptionDisabled\", \"getOptionLabel\", \"isOptionEqualToValue\", \"groupBy\", \"handleHomeEndKeys\", \"id\", \"includeInputInList\", \"inputValue\", \"limitTags\", \"ListboxComponent\", \"ListboxProps\", \"loading\", \"loadingText\", \"multiple\", \"noOptionsText\", \"onChange\", \"onClose\", \"onHighlightChange\", \"onInputChange\", \"onOpen\", \"open\", \"openOnFocus\", \"openText\", \"options\", \"PaperComponent\", \"PopperComponent\", \"popupIcon\", \"readOnly\", \"renderGroup\", \"renderInput\", \"renderOption\", \"renderTags\", \"selectOnFocus\", \"size\", \"slotProps\", \"value\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { chainPropTypes, integerPropType } from '@mui/utils';\nimport { unstable_composeClasses as composeClasses, useAutocomplete, createFilterOptions } from '@mui/base';\nimport { alpha } from '@mui/system';\nimport Popper from '../Popper';\nimport ListSubheader from '../ListSubheader';\nimport Paper from '../Paper';\nimport IconButton from '../IconButton';\nimport Chip from '../Chip';\nimport inputClasses from '../Input/inputClasses';\nimport inputBaseClasses from '../InputBase/inputBaseClasses';\nimport outlinedInputClasses from '../OutlinedInput/outlinedInputClasses';\nimport filledInputClasses from '../FilledInput/filledInputClasses';\nimport ClearIcon from '../internal/svg-icons/Close';\nimport ArrowDropDownIcon from '../internal/svg-icons/ArrowDropDown';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport autocompleteClasses, { getAutocompleteUtilityClass } from './autocompleteClasses';\nimport capitalize from '../utils/capitalize';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    disablePortal,\n    expanded,\n    focused,\n    fullWidth,\n    hasClearIcon,\n    hasPopupIcon,\n    inputFocused,\n    popupOpen,\n    size\n  } = ownerState;\n  const slots = {\n    root: ['root', expanded && 'expanded', focused && 'focused', fullWidth && 'fullWidth', hasClearIcon && 'hasClearIcon', hasPopupIcon && 'hasPopupIcon'],\n    inputRoot: ['inputRoot'],\n    input: ['input', inputFocused && 'inputFocused'],\n    tag: ['tag', `tagSize${capitalize(size)}`],\n    endAdornment: ['endAdornment'],\n    clearIndicator: ['clearIndicator'],\n    popupIndicator: ['popupIndicator', popupOpen && 'popupIndicatorOpen'],\n    popper: ['popper', disablePortal && 'popperDisablePortal'],\n    paper: ['paper'],\n    listbox: ['listbox'],\n    loading: ['loading'],\n    noOptions: ['noOptions'],\n    option: ['option'],\n    groupLabel: ['groupLabel'],\n    groupUl: ['groupUl']\n  };\n  return composeClasses(slots, getAutocompleteUtilityClass, classes);\n};\nconst AutocompleteRoot = styled('div', {\n  name: 'MuiAutocomplete',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    const {\n      fullWidth,\n      hasClearIcon,\n      hasPopupIcon,\n      inputFocused,\n      size\n    } = ownerState;\n    return [{\n      [`& .${autocompleteClasses.tag}`]: styles.tag\n    }, {\n      [`& .${autocompleteClasses.tag}`]: styles[`tagSize${capitalize(size)}`]\n    }, {\n      [`& .${autocompleteClasses.inputRoot}`]: styles.inputRoot\n    }, {\n      [`& .${autocompleteClasses.input}`]: styles.input\n    }, {\n      [`& .${autocompleteClasses.input}`]: inputFocused && styles.inputFocused\n    }, styles.root, fullWidth && styles.fullWidth, hasPopupIcon && styles.hasPopupIcon, hasClearIcon && styles.hasClearIcon];\n  }\n})(({\n  ownerState\n}) => _extends({\n  [`&.${autocompleteClasses.focused} .${autocompleteClasses.clearIndicator}`]: {\n    visibility: 'visible'\n  },\n  /* Avoid double tap issue on iOS */\n  '@media (pointer: fine)': {\n    [`&:hover .${autocompleteClasses.clearIndicator}`]: {\n      visibility: 'visible'\n    }\n  }\n}, ownerState.fullWidth && {\n  width: '100%'\n}, {\n  [`& .${autocompleteClasses.tag}`]: _extends({\n    margin: 3,\n    maxWidth: 'calc(100% - 6px)'\n  }, ownerState.size === 'small' && {\n    margin: 2,\n    maxWidth: 'calc(100% - 4px)'\n  }),\n  [`& .${autocompleteClasses.inputRoot}`]: {\n    flexWrap: 'wrap',\n    [`.${autocompleteClasses.hasPopupIcon}&, .${autocompleteClasses.hasClearIcon}&`]: {\n      paddingRight: 26 + 4\n    },\n    [`.${autocompleteClasses.hasPopupIcon}.${autocompleteClasses.hasClearIcon}&`]: {\n      paddingRight: 52 + 4\n    },\n    [`& .${autocompleteClasses.input}`]: {\n      width: 0,\n      minWidth: 30\n    }\n  },\n  [`& .${inputClasses.root}`]: {\n    paddingBottom: 1,\n    '& .MuiInput-input': {\n      padding: '4px 4px 4px 0px'\n    }\n  },\n  [`& .${inputClasses.root}.${inputBaseClasses.sizeSmall}`]: {\n    [`& .${inputClasses.input}`]: {\n      padding: '2px 4px 3px 0'\n    }\n  },\n  [`& .${outlinedInputClasses.root}`]: {\n    padding: 9,\n    [`.${autocompleteClasses.hasPopupIcon}&, .${autocompleteClasses.hasClearIcon}&`]: {\n      paddingRight: 26 + 4 + 9\n    },\n    [`.${autocompleteClasses.hasPopupIcon}.${autocompleteClasses.hasClearIcon}&`]: {\n      paddingRight: 52 + 4 + 9\n    },\n    [`& .${autocompleteClasses.input}`]: {\n      padding: '7.5px 4px 7.5px 6px'\n    },\n    [`& .${autocompleteClasses.endAdornment}`]: {\n      right: 9\n    }\n  },\n  [`& .${outlinedInputClasses.root}.${inputBaseClasses.sizeSmall}`]: {\n    // Don't specify paddingRight, as it overrides the default value set when there is only\n    // one of the popup or clear icon as the specificity is equal so the latter one wins\n    paddingTop: 6,\n    paddingBottom: 6,\n    paddingLeft: 6,\n    [`& .${autocompleteClasses.input}`]: {\n      padding: '2.5px 4px 2.5px 6px'\n    }\n  },\n  [`& .${filledInputClasses.root}`]: {\n    paddingTop: 19,\n    paddingLeft: 8,\n    [`.${autocompleteClasses.hasPopupIcon}&, .${autocompleteClasses.hasClearIcon}&`]: {\n      paddingRight: 26 + 4 + 9\n    },\n    [`.${autocompleteClasses.hasPopupIcon}.${autocompleteClasses.hasClearIcon}&`]: {\n      paddingRight: 52 + 4 + 9\n    },\n    [`& .${filledInputClasses.input}`]: {\n      padding: '7px 4px'\n    },\n    [`& .${autocompleteClasses.endAdornment}`]: {\n      right: 9\n    }\n  },\n  [`& .${filledInputClasses.root}.${inputBaseClasses.sizeSmall}`]: {\n    paddingBottom: 1,\n    [`& .${filledInputClasses.input}`]: {\n      padding: '2.5px 4px'\n    }\n  },\n  [`& .${inputBaseClasses.hiddenLabel}`]: {\n    paddingTop: 8\n  },\n  [`& .${filledInputClasses.root}.${inputBaseClasses.hiddenLabel}`]: {\n    paddingTop: 0,\n    paddingBottom: 0,\n    [`& .${autocompleteClasses.input}`]: {\n      paddingTop: 16,\n      paddingBottom: 17\n    }\n  },\n  [`& .${filledInputClasses.root}.${inputBaseClasses.hiddenLabel}.${inputBaseClasses.sizeSmall}`]: {\n    [`& .${autocompleteClasses.input}`]: {\n      paddingTop: 8,\n      paddingBottom: 9\n    }\n  },\n  [`& .${autocompleteClasses.input}`]: _extends({\n    flexGrow: 1,\n    textOverflow: 'ellipsis',\n    opacity: 0\n  }, ownerState.inputFocused && {\n    opacity: 1\n  })\n}));\nconst AutocompleteEndAdornment = styled('div', {\n  name: 'MuiAutocomplete',\n  slot: 'EndAdornment',\n  overridesResolver: (props, styles) => styles.endAdornment\n})({\n  // We use a position absolute to support wrapping tags.\n  position: 'absolute',\n  right: 0,\n  top: 'calc(50% - 14px)' // Center vertically\n});\n\nconst AutocompleteClearIndicator = styled(IconButton, {\n  name: 'MuiAutocomplete',\n  slot: 'ClearIndicator',\n  overridesResolver: (props, styles) => styles.clearIndicator\n})({\n  marginRight: -2,\n  padding: 4,\n  visibility: 'hidden'\n});\nconst AutocompletePopupIndicator = styled(IconButton, {\n  name: 'MuiAutocomplete',\n  slot: 'PopupIndicator',\n  overridesResolver: ({\n    ownerState\n  }, styles) => _extends({}, styles.popupIndicator, ownerState.popupOpen && styles.popupIndicatorOpen)\n})(({\n  ownerState\n}) => _extends({\n  padding: 2,\n  marginRight: -2\n}, ownerState.popupOpen && {\n  transform: 'rotate(180deg)'\n}));\nconst AutocompletePopper = styled(Popper, {\n  name: 'MuiAutocomplete',\n  slot: 'Popper',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [{\n      [`& .${autocompleteClasses.option}`]: styles.option\n    }, styles.popper, ownerState.disablePortal && styles.popperDisablePortal];\n  }\n})(({\n  theme,\n  ownerState\n}) => _extends({\n  zIndex: (theme.vars || theme).zIndex.modal\n}, ownerState.disablePortal && {\n  position: 'absolute'\n}));\nconst AutocompletePaper = styled(Paper, {\n  name: 'MuiAutocomplete',\n  slot: 'Paper',\n  overridesResolver: (props, styles) => styles.paper\n})(({\n  theme\n}) => _extends({}, theme.typography.body1, {\n  overflow: 'auto'\n}));\nconst AutocompleteLoading = styled('div', {\n  name: 'MuiAutocomplete',\n  slot: 'Loading',\n  overridesResolver: (props, styles) => styles.loading\n})(({\n  theme\n}) => ({\n  color: (theme.vars || theme).palette.text.secondary,\n  padding: '14px 16px'\n}));\nconst AutocompleteNoOptions = styled('div', {\n  name: 'MuiAutocomplete',\n  slot: 'NoOptions',\n  overridesResolver: (props, styles) => styles.noOptions\n})(({\n  theme\n}) => ({\n  color: (theme.vars || theme).palette.text.secondary,\n  padding: '14px 16px'\n}));\nconst AutocompleteListbox = styled('div', {\n  name: 'MuiAutocomplete',\n  slot: 'Listbox',\n  overridesResolver: (props, styles) => styles.listbox\n})(({\n  theme\n}) => ({\n  listStyle: 'none',\n  margin: 0,\n  padding: '8px 0',\n  maxHeight: '40vh',\n  overflow: 'auto',\n  position: 'relative',\n  [`& .${autocompleteClasses.option}`]: {\n    minHeight: 48,\n    display: 'flex',\n    overflow: 'hidden',\n    justifyContent: 'flex-start',\n    alignItems: 'center',\n    cursor: 'pointer',\n    paddingTop: 6,\n    boxSizing: 'border-box',\n    outline: '0',\n    WebkitTapHighlightColor: 'transparent',\n    paddingBottom: 6,\n    paddingLeft: 16,\n    paddingRight: 16,\n    [theme.breakpoints.up('sm')]: {\n      minHeight: 'auto'\n    },\n    [`&.${autocompleteClasses.focused}`]: {\n      backgroundColor: (theme.vars || theme).palette.action.hover,\n      // Reset on touch devices, it doesn't add specificity\n      '@media (hover: none)': {\n        backgroundColor: 'transparent'\n      }\n    },\n    '&[aria-disabled=\"true\"]': {\n      opacity: (theme.vars || theme).palette.action.disabledOpacity,\n      pointerEvents: 'none'\n    },\n    [`&.${autocompleteClasses.focusVisible}`]: {\n      backgroundColor: (theme.vars || theme).palette.action.focus\n    },\n    '&[aria-selected=\"true\"]': {\n      backgroundColor: theme.vars ? `rgba(${theme.vars.palette.primary.mainChannel} / ${theme.vars.palette.action.selectedOpacity})` : alpha(theme.palette.primary.main, theme.palette.action.selectedOpacity),\n      [`&.${autocompleteClasses.focused}`]: {\n        backgroundColor: theme.vars ? `rgba(${theme.vars.palette.primary.mainChannel} / calc(${theme.vars.palette.action.selectedOpacity} + ${theme.vars.palette.action.hoverOpacity}))` : alpha(theme.palette.primary.main, theme.palette.action.selectedOpacity + theme.palette.action.hoverOpacity),\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: (theme.vars || theme).palette.action.selected\n        }\n      },\n      [`&.${autocompleteClasses.focusVisible}`]: {\n        backgroundColor: theme.vars ? `rgba(${theme.vars.palette.primary.mainChannel} / calc(${theme.vars.palette.action.selectedOpacity} + ${theme.vars.palette.action.focusOpacity}))` : alpha(theme.palette.primary.main, theme.palette.action.selectedOpacity + theme.palette.action.focusOpacity)\n      }\n    }\n  }\n}));\nconst AutocompleteGroupLabel = styled(ListSubheader, {\n  name: 'MuiAutocomplete',\n  slot: 'GroupLabel',\n  overridesResolver: (props, styles) => styles.groupLabel\n})(({\n  theme\n}) => ({\n  backgroundColor: (theme.vars || theme).palette.background.paper,\n  top: -8\n}));\nconst AutocompleteGroupUl = styled('ul', {\n  name: 'MuiAutocomplete',\n  slot: 'GroupUl',\n  overridesResolver: (props, styles) => styles.groupUl\n})({\n  padding: 0,\n  [`& .${autocompleteClasses.option}`]: {\n    paddingLeft: 24\n  }\n});\nexport { createFilterOptions };\nconst Autocomplete = /*#__PURE__*/React.forwardRef(function Autocomplete(inProps, ref) {\n  var _slotProps$clearIndic, _slotProps$paper, _slotProps$popper, _slotProps$popupIndic;\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiAutocomplete'\n  });\n  /* eslint-disable @typescript-eslint/no-unused-vars */\n  const {\n      autoComplete = false,\n      autoHighlight = false,\n      autoSelect = false,\n      blurOnSelect = false,\n      ChipProps,\n      className,\n      clearIcon = _ClearIcon || (_ClearIcon = /*#__PURE__*/_jsx(ClearIcon, {\n        fontSize: \"small\"\n      })),\n      clearOnBlur = !props.freeSolo,\n      clearOnEscape = false,\n      clearText = 'Clear',\n      closeText = 'Close',\n      componentsProps = {},\n      defaultValue = props.multiple ? [] : null,\n      disableClearable = false,\n      disableCloseOnSelect = false,\n      disabled = false,\n      disabledItemsFocusable = false,\n      disableListWrap = false,\n      disablePortal = false,\n      filterSelectedOptions = false,\n      forcePopupIcon = 'auto',\n      freeSolo = false,\n      fullWidth = false,\n      getLimitTagsText = more => `+${more}`,\n      getOptionLabel = option => {\n        var _option$label;\n        return (_option$label = option.label) != null ? _option$label : option;\n      },\n      groupBy,\n      handleHomeEndKeys = !props.freeSolo,\n      includeInputInList = false,\n      limitTags = -1,\n      ListboxComponent = 'ul',\n      ListboxProps,\n      loading = false,\n      loadingText = 'Loading…',\n      multiple = false,\n      noOptionsText = 'No options',\n      openOnFocus = false,\n      openText = 'Open',\n      PaperComponent = Paper,\n      PopperComponent = Popper,\n      popupIcon = _ArrowDropDownIcon || (_ArrowDropDownIcon = /*#__PURE__*/_jsx(ArrowDropDownIcon, {})),\n      readOnly = false,\n      renderGroup: renderGroupProp,\n      renderInput,\n      renderOption: renderOptionProp,\n      renderTags,\n      selectOnFocus = !props.freeSolo,\n      size = 'medium',\n      slotProps = {}\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  /* eslint-enable @typescript-eslint/no-unused-vars */\n\n  const {\n    getRootProps,\n    getInputProps,\n    getInputLabelProps,\n    getPopupIndicatorProps,\n    getClearProps,\n    getTagProps,\n    getListboxProps,\n    getOptionProps,\n    value,\n    dirty,\n    expanded,\n    id,\n    popupOpen,\n    focused,\n    focusedTag,\n    anchorEl,\n    setAnchorEl,\n    inputValue,\n    groupedOptions\n  } = useAutocomplete(_extends({}, props, {\n    componentName: 'Autocomplete'\n  }));\n  const hasClearIcon = !disableClearable && !disabled && dirty && !readOnly;\n  const hasPopupIcon = (!freeSolo || forcePopupIcon === true) && forcePopupIcon !== false;\n  const {\n    onMouseDown: handleInputMouseDown\n  } = getInputProps();\n\n  // If you modify this, make sure to keep the `AutocompleteOwnerState` type in sync.\n  const ownerState = _extends({}, props, {\n    disablePortal,\n    expanded,\n    focused,\n    fullWidth,\n    hasClearIcon,\n    hasPopupIcon,\n    inputFocused: focusedTag === -1,\n    popupOpen,\n    size\n  });\n  const classes = useUtilityClasses(ownerState);\n  let startAdornment;\n  if (multiple && value.length > 0) {\n    const getCustomizedTagProps = params => _extends({\n      className: classes.tag,\n      disabled\n    }, getTagProps(params));\n    if (renderTags) {\n      startAdornment = renderTags(value, getCustomizedTagProps, ownerState);\n    } else {\n      startAdornment = value.map((option, index) => /*#__PURE__*/_jsx(Chip, _extends({\n        label: getOptionLabel(option),\n        size: size\n      }, getCustomizedTagProps({\n        index\n      }), ChipProps)));\n    }\n  }\n  if (limitTags > -1 && Array.isArray(startAdornment)) {\n    const more = startAdornment.length - limitTags;\n    if (!focused && more > 0) {\n      startAdornment = startAdornment.splice(0, limitTags);\n      startAdornment.push( /*#__PURE__*/_jsx(\"span\", {\n        className: classes.tag,\n        children: getLimitTagsText(more)\n      }, startAdornment.length));\n    }\n  }\n  const defaultRenderGroup = params => /*#__PURE__*/_jsxs(\"li\", {\n    children: [/*#__PURE__*/_jsx(AutocompleteGroupLabel, {\n      className: classes.groupLabel,\n      ownerState: ownerState,\n      component: \"div\",\n      children: params.group\n    }), /*#__PURE__*/_jsx(AutocompleteGroupUl, {\n      className: classes.groupUl,\n      ownerState: ownerState,\n      children: params.children\n    })]\n  }, params.key);\n  const renderGroup = renderGroupProp || defaultRenderGroup;\n  const defaultRenderOption = (props2, option) => /*#__PURE__*/_jsx(\"li\", _extends({}, props2, {\n    children: getOptionLabel(option)\n  }));\n  const renderOption = renderOptionProp || defaultRenderOption;\n  const renderListOption = (option, index) => {\n    const optionProps = getOptionProps({\n      option,\n      index\n    });\n    return renderOption(_extends({}, optionProps, {\n      className: classes.option\n    }), option, {\n      selected: optionProps['aria-selected'],\n      index,\n      inputValue\n    });\n  };\n  const clearIndicatorSlotProps = (_slotProps$clearIndic = slotProps.clearIndicator) != null ? _slotProps$clearIndic : componentsProps.clearIndicator;\n  const paperSlotProps = (_slotProps$paper = slotProps.paper) != null ? _slotProps$paper : componentsProps.paper;\n  const popperSlotProps = (_slotProps$popper = slotProps.popper) != null ? _slotProps$popper : componentsProps.popper;\n  const popupIndicatorSlotProps = (_slotProps$popupIndic = slotProps.popupIndicator) != null ? _slotProps$popupIndic : componentsProps.popupIndicator;\n  return /*#__PURE__*/_jsxs(React.Fragment, {\n    children: [/*#__PURE__*/_jsx(AutocompleteRoot, _extends({\n      ref: ref,\n      className: clsx(classes.root, className),\n      ownerState: ownerState\n    }, getRootProps(other), {\n      children: renderInput({\n        id,\n        disabled,\n        fullWidth: true,\n        size: size === 'small' ? 'small' : undefined,\n        InputLabelProps: getInputLabelProps(),\n        InputProps: _extends({\n          ref: setAnchorEl,\n          className: classes.inputRoot,\n          startAdornment,\n          onClick: event => {\n            if (event.target === event.currentTarget) {\n              handleInputMouseDown(event);\n            }\n          }\n        }, (hasClearIcon || hasPopupIcon) && {\n          endAdornment: /*#__PURE__*/_jsxs(AutocompleteEndAdornment, {\n            className: classes.endAdornment,\n            ownerState: ownerState,\n            children: [hasClearIcon ? /*#__PURE__*/_jsx(AutocompleteClearIndicator, _extends({}, getClearProps(), {\n              \"aria-label\": clearText,\n              title: clearText,\n              ownerState: ownerState\n            }, clearIndicatorSlotProps, {\n              className: clsx(classes.clearIndicator, clearIndicatorSlotProps == null ? void 0 : clearIndicatorSlotProps.className),\n              children: clearIcon\n            })) : null, hasPopupIcon ? /*#__PURE__*/_jsx(AutocompletePopupIndicator, _extends({}, getPopupIndicatorProps(), {\n              disabled: disabled,\n              \"aria-label\": popupOpen ? closeText : openText,\n              title: popupOpen ? closeText : openText,\n              ownerState: ownerState\n            }, popupIndicatorSlotProps, {\n              className: clsx(classes.popupIndicator, popupIndicatorSlotProps == null ? void 0 : popupIndicatorSlotProps.className),\n              children: popupIcon\n            })) : null]\n          })\n        }),\n        inputProps: _extends({\n          className: classes.input,\n          disabled,\n          readOnly\n        }, getInputProps())\n      })\n    })), anchorEl ? /*#__PURE__*/_jsx(AutocompletePopper, _extends({\n      as: PopperComponent,\n      disablePortal: disablePortal,\n      style: {\n        width: anchorEl ? anchorEl.clientWidth : null\n      },\n      ownerState: ownerState,\n      role: \"presentation\",\n      anchorEl: anchorEl,\n      open: popupOpen\n    }, popperSlotProps, {\n      className: clsx(classes.popper, popperSlotProps == null ? void 0 : popperSlotProps.className),\n      children: /*#__PURE__*/_jsxs(AutocompletePaper, _extends({\n        ownerState: ownerState,\n        as: PaperComponent\n      }, paperSlotProps, {\n        className: clsx(classes.paper, paperSlotProps == null ? void 0 : paperSlotProps.className),\n        children: [loading && groupedOptions.length === 0 ? /*#__PURE__*/_jsx(AutocompleteLoading, {\n          className: classes.loading,\n          ownerState: ownerState,\n          children: loadingText\n        }) : null, groupedOptions.length === 0 && !freeSolo && !loading ? /*#__PURE__*/_jsx(AutocompleteNoOptions, {\n          className: classes.noOptions,\n          ownerState: ownerState,\n          role: \"presentation\",\n          onMouseDown: event => {\n            // Prevent input blur when interacting with the \"no options\" content\n            event.preventDefault();\n          },\n          children: noOptionsText\n        }) : null, groupedOptions.length > 0 ? /*#__PURE__*/_jsx(AutocompleteListbox, _extends({\n          as: ListboxComponent,\n          className: classes.listbox,\n          ownerState: ownerState\n        }, getListboxProps(), ListboxProps, {\n          children: groupedOptions.map((option, index) => {\n            if (groupBy) {\n              return renderGroup({\n                key: option.key,\n                group: option.group,\n                children: option.options.map((option2, index2) => renderListOption(option2, option.index + index2))\n              });\n            }\n            return renderListOption(option, index);\n          })\n        })) : null]\n      }))\n    })) : null]\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? Autocomplete.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * If `true`, the portion of the selected suggestion that has not been typed by the user,\n   * known as the completion string, appears inline after the input cursor in the textbox.\n   * The inline completion string is visually highlighted and has a selected state.\n   * @default false\n   */\n  autoComplete: PropTypes.bool,\n  /**\n   * If `true`, the first option is automatically highlighted.\n   * @default false\n   */\n  autoHighlight: PropTypes.bool,\n  /**\n   * If `true`, the selected option becomes the value of the input\n   * when the Autocomplete loses focus unless the user chooses\n   * a different option or changes the character string in the input.\n   *\n   * When using `freeSolo` mode, the typed value will be the input value\n   * if the Autocomplete loses focus without highlighting an option.\n   * @default false\n   */\n  autoSelect: PropTypes.bool,\n  /**\n   * Control if the input should be blurred when an option is selected:\n   *\n   * - `false` the input is not blurred.\n   * - `true` the input is always blurred.\n   * - `touch` the input is blurred after a touch event.\n   * - `mouse` the input is blurred after a mouse event.\n   * @default false\n   */\n  blurOnSelect: PropTypes.oneOfType([PropTypes.oneOf(['mouse', 'touch']), PropTypes.bool]),\n  /**\n   * Props applied to the [`Chip`](/material-ui/api/chip/) element.\n   */\n  ChipProps: PropTypes.object,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The icon to display in place of the default clear icon.\n   * @default <ClearIcon fontSize=\"small\" />\n   */\n  clearIcon: PropTypes.node,\n  /**\n   * If `true`, the input's text is cleared on blur if no value is selected.\n   *\n   * Set to `true` if you want to help the user enter a new value.\n   * Set to `false` if you want to help the user resume their search.\n   * @default !props.freeSolo\n   */\n  clearOnBlur: PropTypes.bool,\n  /**\n   * If `true`, clear all values when the user presses escape and the popup is closed.\n   * @default false\n   */\n  clearOnEscape: PropTypes.bool,\n  /**\n   * Override the default text for the *clear* icon button.\n   *\n   * For localization purposes, you can use the provided [translations](/material-ui/guides/localization/).\n   * @default 'Clear'\n   */\n  clearText: PropTypes.string,\n  /**\n   * Override the default text for the *close popup* icon button.\n   *\n   * For localization purposes, you can use the provided [translations](/material-ui/guides/localization/).\n   * @default 'Close'\n   */\n  closeText: PropTypes.string,\n  /**\n   * The props used for each slot inside.\n   * @default {}\n   */\n  componentsProps: PropTypes.shape({\n    clearIndicator: PropTypes.object,\n    paper: PropTypes.object,\n    popper: PropTypes.object,\n    popupIndicator: PropTypes.object\n  }),\n  /**\n   * The default value. Use when the component is not controlled.\n   * @default props.multiple ? [] : null\n   */\n  defaultValue: chainPropTypes(PropTypes.any, props => {\n    if (props.multiple && props.defaultValue !== undefined && !Array.isArray(props.defaultValue)) {\n      return new Error(['MUI: The Autocomplete expects the `defaultValue` prop to be an array when `multiple={true}` or undefined.', `However, ${props.defaultValue} was provided.`].join('\\n'));\n    }\n    return null;\n  }),\n  /**\n   * If `true`, the input can't be cleared.\n   * @default false\n   */\n  disableClearable: PropTypes.bool,\n  /**\n   * If `true`, the popup won't close when a value is selected.\n   * @default false\n   */\n  disableCloseOnSelect: PropTypes.bool,\n  /**\n   * If `true`, the component is disabled.\n   * @default false\n   */\n  disabled: PropTypes.bool,\n  /**\n   * If `true`, will allow focus on disabled items.\n   * @default false\n   */\n  disabledItemsFocusable: PropTypes.bool,\n  /**\n   * If `true`, the list box in the popup will not wrap focus.\n   * @default false\n   */\n  disableListWrap: PropTypes.bool,\n  /**\n   * If `true`, the `Popper` content will be under the DOM hierarchy of the parent component.\n   * @default false\n   */\n  disablePortal: PropTypes.bool,\n  /**\n   * A function that determines the filtered options to be rendered on search.\n   *\n   * @param {T[]} options The options to render.\n   * @param {object} state The state of the component.\n   * @returns {T[]}\n   */\n  filterOptions: PropTypes.func,\n  /**\n   * If `true`, hide the selected options from the list box.\n   * @default false\n   */\n  filterSelectedOptions: PropTypes.bool,\n  /**\n   * Force the visibility display of the popup icon.\n   * @default 'auto'\n   */\n  forcePopupIcon: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.bool]),\n  /**\n   * If `true`, the Autocomplete is free solo, meaning that the user input is not bound to provided options.\n   * @default false\n   */\n  freeSolo: PropTypes.bool,\n  /**\n   * If `true`, the input will take up the full width of its container.\n   * @default false\n   */\n  fullWidth: PropTypes.bool,\n  /**\n   * The label to display when the tags are truncated (`limitTags`).\n   *\n   * @param {number} more The number of truncated tags.\n   * @returns {ReactNode}\n   * @default (more) => `+${more}`\n   */\n  getLimitTagsText: PropTypes.func,\n  /**\n   * Used to determine the disabled state for a given option.\n   *\n   * @param {T} option The option to test.\n   * @returns {boolean}\n   */\n  getOptionDisabled: PropTypes.func,\n  /**\n   * Used to determine the string value for a given option.\n   * It's used to fill the input (and the list box options if `renderOption` is not provided).\n   *\n   * If used in free solo mode, it must accept both the type of the options and a string.\n   *\n   * @param {T} option\n   * @returns {string}\n   * @default (option) => option.label ?? option\n   */\n  getOptionLabel: PropTypes.func,\n  /**\n   * If provided, the options will be grouped under the returned string.\n   * The groupBy value is also used as the text for group headings when `renderGroup` is not provided.\n   *\n   * @param {T} options The options to group.\n   * @returns {string}\n   */\n  groupBy: PropTypes.func,\n  /**\n   * If `true`, the component handles the \"Home\" and \"End\" keys when the popup is open.\n   * It should move focus to the first option and last option, respectively.\n   * @default !props.freeSolo\n   */\n  handleHomeEndKeys: PropTypes.bool,\n  /**\n   * This prop is used to help implement the accessibility logic.\n   * If you don't provide an id it will fall back to a randomly generated one.\n   */\n  id: PropTypes.string,\n  /**\n   * If `true`, the highlight can move to the input.\n   * @default false\n   */\n  includeInputInList: PropTypes.bool,\n  /**\n   * The input value.\n   */\n  inputValue: PropTypes.string,\n  /**\n   * Used to determine if the option represents the given value.\n   * Uses strict equality by default.\n   * ⚠️ Both arguments need to be handled, an option can only match with one value.\n   *\n   * @param {T} option The option to test.\n   * @param {T} value The value to test against.\n   * @returns {boolean}\n   */\n  isOptionEqualToValue: PropTypes.func,\n  /**\n   * The maximum number of tags that will be visible when not focused.\n   * Set `-1` to disable the limit.\n   * @default -1\n   */\n  limitTags: integerPropType,\n  /**\n   * The component used to render the listbox.\n   * @default 'ul'\n   */\n  ListboxComponent: PropTypes.elementType,\n  /**\n   * Props applied to the Listbox element.\n   */\n  ListboxProps: PropTypes.object,\n  /**\n   * If `true`, the component is in a loading state.\n   * This shows the `loadingText` in place of suggestions (only if there are no suggestions to show, e.g. `options` are empty).\n   * @default false\n   */\n  loading: PropTypes.bool,\n  /**\n   * Text to display when in a loading state.\n   *\n   * For localization purposes, you can use the provided [translations](/material-ui/guides/localization/).\n   * @default 'Loading…'\n   */\n  loadingText: PropTypes.node,\n  /**\n   * If `true`, `value` must be an array and the menu will support multiple selections.\n   * @default false\n   */\n  multiple: PropTypes.bool,\n  /**\n   * Text to display when there are no options.\n   *\n   * For localization purposes, you can use the provided [translations](/material-ui/guides/localization/).\n   * @default 'No options'\n   */\n  noOptionsText: PropTypes.node,\n  /**\n   * Callback fired when the value changes.\n   *\n   * @param {React.SyntheticEvent} event The event source of the callback.\n   * @param {T|T[]} value The new value of the component.\n   * @param {string} reason One of \"createOption\", \"selectOption\", \"removeOption\", \"blur\" or \"clear\".\n   * @param {string} [details]\n   */\n  onChange: PropTypes.func,\n  /**\n   * Callback fired when the popup requests to be closed.\n   * Use in controlled mode (see open).\n   *\n   * @param {React.SyntheticEvent} event The event source of the callback.\n   * @param {string} reason Can be: `\"toggleInput\"`, `\"escape\"`, `\"selectOption\"`, `\"removeOption\"`, `\"blur\"`.\n   */\n  onClose: PropTypes.func,\n  /**\n   * Callback fired when the highlight option changes.\n   *\n   * @param {React.SyntheticEvent} event The event source of the callback.\n   * @param {T} option The highlighted option.\n   * @param {string} reason Can be: `\"keyboard\"`, `\"auto\"`, `\"mouse\"`, `\"touch\"`.\n   */\n  onHighlightChange: PropTypes.func,\n  /**\n   * Callback fired when the input value changes.\n   *\n   * @param {React.SyntheticEvent} event The event source of the callback.\n   * @param {string} value The new value of the text input.\n   * @param {string} reason Can be: `\"input\"` (user input), `\"reset\"` (programmatic change), `\"clear\"`.\n   */\n  onInputChange: PropTypes.func,\n  /**\n   * Callback fired when the popup requests to be opened.\n   * Use in controlled mode (see open).\n   *\n   * @param {React.SyntheticEvent} event The event source of the callback.\n   */\n  onOpen: PropTypes.func,\n  /**\n   * If `true`, the component is shown.\n   */\n  open: PropTypes.bool,\n  /**\n   * If `true`, the popup will open on input focus.\n   * @default false\n   */\n  openOnFocus: PropTypes.bool,\n  /**\n   * Override the default text for the *open popup* icon button.\n   *\n   * For localization purposes, you can use the provided [translations](/material-ui/guides/localization/).\n   * @default 'Open'\n   */\n  openText: PropTypes.string,\n  /**\n   * Array of options.\n   */\n  options: PropTypes.array.isRequired,\n  /**\n   * The component used to render the body of the popup.\n   * @default Paper\n   */\n  PaperComponent: PropTypes.elementType,\n  /**\n   * The component used to position the popup.\n   * @default Popper\n   */\n  PopperComponent: PropTypes.elementType,\n  /**\n   * The icon to display in place of the default popup icon.\n   * @default <ArrowDropDownIcon />\n   */\n  popupIcon: PropTypes.node,\n  /**\n   * If `true`, the component becomes readonly. It is also supported for multiple tags where the tag cannot be deleted.\n   * @default false\n   */\n  readOnly: PropTypes.bool,\n  /**\n   * Render the group.\n   *\n   * @param {AutocompleteRenderGroupParams} params The group to render.\n   * @returns {ReactNode}\n   */\n  renderGroup: PropTypes.func,\n  /**\n   * Render the input.\n   *\n   * @param {object} params\n   * @returns {ReactNode}\n   */\n  renderInput: PropTypes.func.isRequired,\n  /**\n   * Render the option, use `getOptionLabel` by default.\n   *\n   * @param {object} props The props to apply on the li element.\n   * @param {T} option The option to render.\n   * @param {object} state The state of the component.\n   * @returns {ReactNode}\n   */\n  renderOption: PropTypes.func,\n  /**\n   * Render the selected value.\n   *\n   * @param {T[]} value The `value` provided to the component.\n   * @param {function} getTagProps A tag props getter.\n   * @param {object} ownerState The state of the Autocomplete component.\n   * @returns {ReactNode}\n   */\n  renderTags: PropTypes.func,\n  /**\n   * If `true`, the input's text is selected on focus.\n   * It helps the user clear the selected value.\n   * @default !props.freeSolo\n   */\n  selectOnFocus: PropTypes.bool,\n  /**\n   * The size of the component.\n   * @default 'medium'\n   */\n  size: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['small', 'medium']), PropTypes.string]),\n  /**\n   * The props used for each slot inside.\n   * @default {}\n   */\n  slotProps: PropTypes.shape({\n    clearIndicator: PropTypes.object,\n    paper: PropTypes.object,\n    popper: PropTypes.object,\n    popupIndicator: PropTypes.object\n  }),\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * The value of the autocomplete.\n   *\n   * The value must have reference equality with the option in order to be selected.\n   * You can customize the equality behavior with the `isOptionEqualToValue` prop.\n   */\n  value: chainPropTypes(PropTypes.any, props => {\n    if (props.multiple && props.value !== undefined && !Array.isArray(props.value)) {\n      return new Error(['MUI: The Autocomplete expects the `value` prop to be an array when `multiple={true}` or undefined.', `However, ${props.value} was provided.`].join('\\n'));\n    }\n    return null;\n  })\n} : void 0;\nexport default Autocomplete;","import { unstable_generateUtilityClasses as generateUtilityClasses } from '@mui/utils';\nimport generateUtilityClass from '../generateUtilityClass';\nexport function getBadgeUtilityClass(slot) {\n  return generateUtilityClass('MuiBadge', slot);\n}\nconst badgeClasses = generateUtilityClasses('MuiBadge', ['root', 'badge', 'dot', 'standard', 'anchorOriginTopRight', 'anchorOriginBottomRight', 'anchorOriginTopLeft', 'anchorOriginBottomLeft', 'invisible', 'colorError', 'colorInfo', 'colorPrimary', 'colorSecondary', 'colorSuccess', 'colorWarning', 'overlapRectangular', 'overlapCircular',\n// TODO: v6 remove the overlap value from these class keys\n'anchorOriginTopLeftCircular', 'anchorOriginTopLeftRectangular', 'anchorOriginTopRightCircular', 'anchorOriginTopRightRectangular', 'anchorOriginBottomLeftCircular', 'anchorOriginBottomLeftRectangular', 'anchorOriginBottomRightCircular', 'anchorOriginBottomRightRectangular']);\nexport default badgeClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"anchorOrigin\", \"className\", \"classes\", \"component\", \"components\", \"componentsProps\", \"children\", \"overlap\", \"color\", \"invisible\", \"max\", \"badgeContent\", \"slots\", \"slotProps\", \"showZero\", \"variant\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { usePreviousProps } from '@mui/utils';\nimport composeClasses from '@mui/base/composeClasses';\nimport useBadge from '@mui/base/useBadge';\nimport { useSlotProps } from '@mui/base';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport capitalize from '../utils/capitalize';\nimport badgeClasses, { getBadgeUtilityClass } from './badgeClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst RADIUS_STANDARD = 10;\nconst RADIUS_DOT = 4;\nconst useUtilityClasses = ownerState => {\n  const {\n    color,\n    anchorOrigin,\n    invisible,\n    overlap,\n    variant,\n    classes = {}\n  } = ownerState;\n  const slots = {\n    root: ['root'],\n    badge: ['badge', variant, invisible && 'invisible', `anchorOrigin${capitalize(anchorOrigin.vertical)}${capitalize(anchorOrigin.horizontal)}`, `anchorOrigin${capitalize(anchorOrigin.vertical)}${capitalize(anchorOrigin.horizontal)}${capitalize(overlap)}`, `overlap${capitalize(overlap)}`, color !== 'default' && `color${capitalize(color)}`]\n  };\n  return composeClasses(slots, getBadgeUtilityClass, classes);\n};\nconst BadgeRoot = styled('span', {\n  name: 'MuiBadge',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})({\n  position: 'relative',\n  display: 'inline-flex',\n  // For correct alignment with the text.\n  verticalAlign: 'middle',\n  flexShrink: 0\n});\nconst BadgeBadge = styled('span', {\n  name: 'MuiBadge',\n  slot: 'Badge',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.badge, styles[ownerState.variant], styles[`anchorOrigin${capitalize(ownerState.anchorOrigin.vertical)}${capitalize(ownerState.anchorOrigin.horizontal)}${capitalize(ownerState.overlap)}`], ownerState.color !== 'default' && styles[`color${capitalize(ownerState.color)}`], ownerState.invisible && styles.invisible];\n  }\n})(({\n  theme,\n  ownerState\n}) => _extends({\n  display: 'flex',\n  flexDirection: 'row',\n  flexWrap: 'wrap',\n  justifyContent: 'center',\n  alignContent: 'center',\n  alignItems: 'center',\n  position: 'absolute',\n  boxSizing: 'border-box',\n  fontFamily: theme.typography.fontFamily,\n  fontWeight: theme.typography.fontWeightMedium,\n  fontSize: theme.typography.pxToRem(12),\n  minWidth: RADIUS_STANDARD * 2,\n  lineHeight: 1,\n  padding: '0 6px',\n  height: RADIUS_STANDARD * 2,\n  borderRadius: RADIUS_STANDARD,\n  zIndex: 1,\n  // Render the badge on top of potential ripples.\n  transition: theme.transitions.create('transform', {\n    easing: theme.transitions.easing.easeInOut,\n    duration: theme.transitions.duration.enteringScreen\n  })\n}, ownerState.color !== 'default' && {\n  backgroundColor: (theme.vars || theme).palette[ownerState.color].main,\n  color: (theme.vars || theme).palette[ownerState.color].contrastText\n}, ownerState.variant === 'dot' && {\n  borderRadius: RADIUS_DOT,\n  height: RADIUS_DOT * 2,\n  minWidth: RADIUS_DOT * 2,\n  padding: 0\n}, ownerState.anchorOrigin.vertical === 'top' && ownerState.anchorOrigin.horizontal === 'right' && ownerState.overlap === 'rectangular' && {\n  top: 0,\n  right: 0,\n  transform: 'scale(1) translate(50%, -50%)',\n  transformOrigin: '100% 0%',\n  [`&.${badgeClasses.invisible}`]: {\n    transform: 'scale(0) translate(50%, -50%)'\n  }\n}, ownerState.anchorOrigin.vertical === 'bottom' && ownerState.anchorOrigin.horizontal === 'right' && ownerState.overlap === 'rectangular' && {\n  bottom: 0,\n  right: 0,\n  transform: 'scale(1) translate(50%, 50%)',\n  transformOrigin: '100% 100%',\n  [`&.${badgeClasses.invisible}`]: {\n    transform: 'scale(0) translate(50%, 50%)'\n  }\n}, ownerState.anchorOrigin.vertical === 'top' && ownerState.anchorOrigin.horizontal === 'left' && ownerState.overlap === 'rectangular' && {\n  top: 0,\n  left: 0,\n  transform: 'scale(1) translate(-50%, -50%)',\n  transformOrigin: '0% 0%',\n  [`&.${badgeClasses.invisible}`]: {\n    transform: 'scale(0) translate(-50%, -50%)'\n  }\n}, ownerState.anchorOrigin.vertical === 'bottom' && ownerState.anchorOrigin.horizontal === 'left' && ownerState.overlap === 'rectangular' && {\n  bottom: 0,\n  left: 0,\n  transform: 'scale(1) translate(-50%, 50%)',\n  transformOrigin: '0% 100%',\n  [`&.${badgeClasses.invisible}`]: {\n    transform: 'scale(0) translate(-50%, 50%)'\n  }\n}, ownerState.anchorOrigin.vertical === 'top' && ownerState.anchorOrigin.horizontal === 'right' && ownerState.overlap === 'circular' && {\n  top: '14%',\n  right: '14%',\n  transform: 'scale(1) translate(50%, -50%)',\n  transformOrigin: '100% 0%',\n  [`&.${badgeClasses.invisible}`]: {\n    transform: 'scale(0) translate(50%, -50%)'\n  }\n}, ownerState.anchorOrigin.vertical === 'bottom' && ownerState.anchorOrigin.horizontal === 'right' && ownerState.overlap === 'circular' && {\n  bottom: '14%',\n  right: '14%',\n  transform: 'scale(1) translate(50%, 50%)',\n  transformOrigin: '100% 100%',\n  [`&.${badgeClasses.invisible}`]: {\n    transform: 'scale(0) translate(50%, 50%)'\n  }\n}, ownerState.anchorOrigin.vertical === 'top' && ownerState.anchorOrigin.horizontal === 'left' && ownerState.overlap === 'circular' && {\n  top: '14%',\n  left: '14%',\n  transform: 'scale(1) translate(-50%, -50%)',\n  transformOrigin: '0% 0%',\n  [`&.${badgeClasses.invisible}`]: {\n    transform: 'scale(0) translate(-50%, -50%)'\n  }\n}, ownerState.anchorOrigin.vertical === 'bottom' && ownerState.anchorOrigin.horizontal === 'left' && ownerState.overlap === 'circular' && {\n  bottom: '14%',\n  left: '14%',\n  transform: 'scale(1) translate(-50%, 50%)',\n  transformOrigin: '0% 100%',\n  [`&.${badgeClasses.invisible}`]: {\n    transform: 'scale(0) translate(-50%, 50%)'\n  }\n}, ownerState.invisible && {\n  transition: theme.transitions.create('transform', {\n    easing: theme.transitions.easing.easeInOut,\n    duration: theme.transitions.duration.leavingScreen\n  })\n}));\nconst Badge = /*#__PURE__*/React.forwardRef(function Badge(inProps, ref) {\n  var _ref, _slots$root, _ref2, _slots$badge, _slotProps$root, _slotProps$badge;\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiBadge'\n  });\n  const {\n      anchorOrigin: anchorOriginProp = {\n        vertical: 'top',\n        horizontal: 'right'\n      },\n      className,\n      component,\n      components = {},\n      componentsProps = {},\n      children,\n      overlap: overlapProp = 'rectangular',\n      color: colorProp = 'default',\n      invisible: invisibleProp = false,\n      max: maxProp = 99,\n      badgeContent: badgeContentProp,\n      slots,\n      slotProps,\n      showZero = false,\n      variant: variantProp = 'standard'\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const {\n    badgeContent,\n    invisible: invisibleFromHook,\n    max,\n    displayValue: displayValueFromHook\n  } = useBadge({\n    max: maxProp,\n    invisible: invisibleProp,\n    badgeContent: badgeContentProp,\n    showZero\n  });\n  const prevProps = usePreviousProps({\n    anchorOrigin: anchorOriginProp,\n    color: colorProp,\n    overlap: overlapProp,\n    variant: variantProp,\n    badgeContent: badgeContentProp\n  });\n  const invisible = invisibleFromHook || badgeContent == null && variantProp !== 'dot';\n  const {\n    color = colorProp,\n    overlap = overlapProp,\n    anchorOrigin = anchorOriginProp,\n    variant = variantProp\n  } = invisible ? prevProps : props;\n  const displayValue = variant !== 'dot' ? displayValueFromHook : undefined;\n  const ownerState = _extends({}, props, {\n    badgeContent,\n    invisible,\n    max,\n    displayValue,\n    showZero,\n    anchorOrigin,\n    color,\n    overlap,\n    variant\n  });\n  const classes = useUtilityClasses(ownerState);\n\n  // support both `slots` and `components` for backward compatibility\n  const RootSlot = (_ref = (_slots$root = slots == null ? void 0 : slots.root) != null ? _slots$root : components.Root) != null ? _ref : BadgeRoot;\n  const BadgeSlot = (_ref2 = (_slots$badge = slots == null ? void 0 : slots.badge) != null ? _slots$badge : components.Badge) != null ? _ref2 : BadgeBadge;\n  const rootSlotProps = (_slotProps$root = slotProps == null ? void 0 : slotProps.root) != null ? _slotProps$root : componentsProps.root;\n  const badgeSlotProps = (_slotProps$badge = slotProps == null ? void 0 : slotProps.badge) != null ? _slotProps$badge : componentsProps.badge;\n  const rootProps = useSlotProps({\n    elementType: RootSlot,\n    externalSlotProps: rootSlotProps,\n    externalForwardedProps: other,\n    additionalProps: {\n      ref,\n      as: component\n    },\n    ownerState,\n    className: clsx(rootSlotProps == null ? void 0 : rootSlotProps.className, classes.root, className)\n  });\n  const badgeProps = useSlotProps({\n    elementType: BadgeSlot,\n    externalSlotProps: badgeSlotProps,\n    ownerState,\n    className: clsx(classes.badge, badgeSlotProps == null ? void 0 : badgeSlotProps.className)\n  });\n  return /*#__PURE__*/_jsxs(RootSlot, _extends({}, rootProps, {\n    children: [children, /*#__PURE__*/_jsx(BadgeSlot, _extends({}, badgeProps, {\n      children: displayValue\n    }))]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Badge.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * The anchor of the badge.\n   * @default {\n   *   vertical: 'top',\n   *   horizontal: 'right',\n   * }\n   */\n  anchorOrigin: PropTypes.shape({\n    horizontal: PropTypes.oneOf(['left', 'right']).isRequired,\n    vertical: PropTypes.oneOf(['bottom', 'top']).isRequired\n  }),\n  /**\n   * The content rendered within the badge.\n   */\n  badgeContent: PropTypes.node,\n  /**\n   * The badge will be added relative to this node.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The color of the component.\n   * It supports both default and custom theme colors, which can be added as shown in the\n   * [palette customization guide](https://mui.com/material-ui/customization/palette/#adding-new-colors).\n   * @default 'default'\n   */\n  color: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['default', 'primary', 'secondary', 'error', 'info', 'success', 'warning']), PropTypes.string]),\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * The components used for each slot inside.\n   *\n   * This prop is an alias for the `slots` prop.\n   * It's recommended to use the `slots` prop instead.\n   *\n   * @default {}\n   */\n  components: PropTypes.shape({\n    Badge: PropTypes.elementType,\n    Root: PropTypes.elementType\n  }),\n  /**\n   * The extra props for the slot components.\n   * You can override the existing props or add new ones.\n   *\n   * This prop is an alias for the `slotProps` prop.\n   * It's recommended to use the `slotProps` prop instead, as `componentsProps` will be deprecated in the future.\n   *\n   * @default {}\n   */\n  componentsProps: PropTypes.shape({\n    badge: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n    root: PropTypes.oneOfType([PropTypes.func, PropTypes.object])\n  }),\n  /**\n   * If `true`, the badge is invisible.\n   * @default false\n   */\n  invisible: PropTypes.bool,\n  /**\n   * Max count to show.\n   * @default 99\n   */\n  max: PropTypes.number,\n  /**\n   * Wrapped shape the badge should overlap.\n   * @default 'rectangular'\n   */\n  overlap: PropTypes.oneOf(['circular', 'rectangular']),\n  /**\n   * Controls whether the badge is hidden when `badgeContent` is zero.\n   * @default false\n   */\n  showZero: PropTypes.bool,\n  /**\n   * The props used for each slot inside the Badge.\n   * @default {}\n   */\n  slotProps: PropTypes.shape({\n    badge: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n    root: PropTypes.oneOfType([PropTypes.func, PropTypes.object])\n  }),\n  /**\n   * The components used for each slot inside the Badge.\n   * Either a string to use a HTML element or a component.\n   * @default {}\n   */\n  slots: PropTypes.shape({\n    badge: PropTypes.elementType,\n    root: PropTypes.elementType\n  }),\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * The variant to use.\n   * @default 'standard'\n   */\n  variant: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['dot', 'standard']), PropTypes.string])\n} : void 0;\nexport default Badge;","import { unstable_generateUtilityClasses as generateUtilityClasses } from '@mui/utils';\nimport generateUtilityClass from '../generateUtilityClass';\nexport function getCircularProgressUtilityClass(slot) {\n  return generateUtilityClass('MuiCircularProgress', slot);\n}\nconst circularProgressClasses = generateUtilityClasses('MuiCircularProgress', ['root', 'determinate', 'indeterminate', 'colorPrimary', 'colorSecondary', 'svg', 'circle', 'circleDeterminate', 'circleIndeterminate', 'circleDisableShrink']);\nexport default circularProgressClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"className\", \"color\", \"disableShrink\", \"size\", \"style\", \"thickness\", \"value\", \"variant\"];\nlet _ = t => t,\n  _t,\n  _t2,\n  _t3,\n  _t4;\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { chainPropTypes } from '@mui/utils';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport { keyframes, css } from '@mui/system';\nimport capitalize from '../utils/capitalize';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport { getCircularProgressUtilityClass } from './circularProgressClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst SIZE = 44;\nconst circularRotateKeyframe = keyframes(_t || (_t = _`\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n`));\nconst circularDashKeyframe = keyframes(_t2 || (_t2 = _`\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n`));\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    variant,\n    color,\n    disableShrink\n  } = ownerState;\n  const slots = {\n    root: ['root', variant, `color${capitalize(color)}`],\n    svg: ['svg'],\n    circle: ['circle', `circle${capitalize(variant)}`, disableShrink && 'circleDisableShrink']\n  };\n  return composeClasses(slots, getCircularProgressUtilityClass, classes);\n};\nconst CircularProgressRoot = styled('span', {\n  name: 'MuiCircularProgress',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[ownerState.variant], styles[`color${capitalize(ownerState.color)}`]];\n  }\n})(({\n  ownerState,\n  theme\n}) => _extends({\n  display: 'inline-block'\n}, ownerState.variant === 'determinate' && {\n  transition: theme.transitions.create('transform')\n}, ownerState.color !== 'inherit' && {\n  color: (theme.vars || theme).palette[ownerState.color].main\n}), ({\n  ownerState\n}) => ownerState.variant === 'indeterminate' && css(_t3 || (_t3 = _`\n      animation: ${0} 1.4s linear infinite;\n    `), circularRotateKeyframe));\nconst CircularProgressSVG = styled('svg', {\n  name: 'MuiCircularProgress',\n  slot: 'Svg',\n  overridesResolver: (props, styles) => styles.svg\n})({\n  display: 'block' // Keeps the progress centered\n});\n\nconst CircularProgressCircle = styled('circle', {\n  name: 'MuiCircularProgress',\n  slot: 'Circle',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.circle, styles[`circle${capitalize(ownerState.variant)}`], ownerState.disableShrink && styles.circleDisableShrink];\n  }\n})(({\n  ownerState,\n  theme\n}) => _extends({\n  stroke: 'currentColor'\n}, ownerState.variant === 'determinate' && {\n  transition: theme.transitions.create('stroke-dashoffset')\n}, ownerState.variant === 'indeterminate' && {\n  // Some default value that looks fine waiting for the animation to kicks in.\n  strokeDasharray: '80px, 200px',\n  strokeDashoffset: 0 // Add the unit to fix a Edge 16 and below bug.\n}), ({\n  ownerState\n}) => ownerState.variant === 'indeterminate' && !ownerState.disableShrink && css(_t4 || (_t4 = _`\n      animation: ${0} 1.4s ease-in-out infinite;\n    `), circularDashKeyframe));\n\n/**\n * ## ARIA\n *\n * If the progress bar is describing the loading progress of a particular region of a page,\n * you should use `aria-describedby` to point to the progress bar, and set the `aria-busy`\n * attribute to `true` on that region until it has finished loading.\n */\nconst CircularProgress = /*#__PURE__*/React.forwardRef(function CircularProgress(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiCircularProgress'\n  });\n  const {\n      className,\n      color = 'primary',\n      disableShrink = false,\n      size = 40,\n      style,\n      thickness = 3.6,\n      value = 0,\n      variant = 'indeterminate'\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = _extends({}, props, {\n    color,\n    disableShrink,\n    size,\n    thickness,\n    value,\n    variant\n  });\n  const classes = useUtilityClasses(ownerState);\n  const circleStyle = {};\n  const rootStyle = {};\n  const rootProps = {};\n  if (variant === 'determinate') {\n    const circumference = 2 * Math.PI * ((SIZE - thickness) / 2);\n    circleStyle.strokeDasharray = circumference.toFixed(3);\n    rootProps['aria-valuenow'] = Math.round(value);\n    circleStyle.strokeDashoffset = `${((100 - value) / 100 * circumference).toFixed(3)}px`;\n    rootStyle.transform = 'rotate(-90deg)';\n  }\n  return /*#__PURE__*/_jsx(CircularProgressRoot, _extends({\n    className: clsx(classes.root, className),\n    style: _extends({\n      width: size,\n      height: size\n    }, rootStyle, style),\n    ownerState: ownerState,\n    ref: ref,\n    role: \"progressbar\"\n  }, rootProps, other, {\n    children: /*#__PURE__*/_jsx(CircularProgressSVG, {\n      className: classes.svg,\n      ownerState: ownerState,\n      viewBox: `${SIZE / 2} ${SIZE / 2} ${SIZE} ${SIZE}`,\n      children: /*#__PURE__*/_jsx(CircularProgressCircle, {\n        className: classes.circle,\n        style: circleStyle,\n        ownerState: ownerState,\n        cx: SIZE,\n        cy: SIZE,\n        r: (SIZE - thickness) / 2,\n        fill: \"none\",\n        strokeWidth: thickness\n      })\n    })\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? CircularProgress.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The color of the component.\n   * It supports both default and custom theme colors, which can be added as shown in the\n   * [palette customization guide](https://mui.com/material-ui/customization/palette/#adding-new-colors).\n   * @default 'primary'\n   */\n  color: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['inherit', 'primary', 'secondary', 'error', 'info', 'success', 'warning']), PropTypes.string]),\n  /**\n   * If `true`, the shrink animation is disabled.\n   * This only works if variant is `indeterminate`.\n   * @default false\n   */\n  disableShrink: chainPropTypes(PropTypes.bool, props => {\n    if (props.disableShrink && props.variant && props.variant !== 'indeterminate') {\n      return new Error('MUI: You have provided the `disableShrink` prop ' + 'with a variant other than `indeterminate`. This will have no effect.');\n    }\n    return null;\n  }),\n  /**\n   * The size of the component.\n   * If using a number, the pixel unit is assumed.\n   * If using a string, you need to provide the CSS unit, e.g '3rem'.\n   * @default 40\n   */\n  size: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  /**\n   * @ignore\n   */\n  style: PropTypes.object,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * The thickness of the circle.\n   * @default 3.6\n   */\n  thickness: PropTypes.number,\n  /**\n   * The value of the progress indicator for the determinate variant.\n   * Value between 0 and 100.\n   * @default 0\n   */\n  value: PropTypes.number,\n  /**\n   * The variant to use.\n   * Use indeterminate when there is no progress value.\n   * @default 'indeterminate'\n   */\n  variant: PropTypes.oneOf(['determinate', 'indeterminate'])\n} : void 0;\nexport default CircularProgress;","import * as React from 'react';\n\n/**\n * @ignore - internal component.\n */\nconst GridContext = /*#__PURE__*/React.createContext();\nif (process.env.NODE_ENV !== 'production') {\n  GridContext.displayName = 'GridContext';\n}\nexport default GridContext;","import { unstable_generateUtilityClasses as generateUtilityClasses } from '@mui/utils';\nimport generateUtilityClass from '../generateUtilityClass';\nexport function getGridUtilityClass(slot) {\n  return generateUtilityClass('MuiGrid', slot);\n}\nconst SPACINGS = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\nconst DIRECTIONS = ['column-reverse', 'column', 'row-reverse', 'row'];\nconst WRAPS = ['nowrap', 'wrap-reverse', 'wrap'];\nconst GRID_SIZES = ['auto', true, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];\nconst gridClasses = generateUtilityClasses('MuiGrid', ['root', 'container', 'item', 'zeroMinWidth',\n// spacings\n...SPACINGS.map(spacing => `spacing-xs-${spacing}`),\n// direction values\n...DIRECTIONS.map(direction => `direction-xs-${direction}`),\n// wrap values\n...WRAPS.map(wrap => `wrap-xs-${wrap}`),\n// grid sizes for all breakpoints\n...GRID_SIZES.map(size => `grid-xs-${size}`), ...GRID_SIZES.map(size => `grid-sm-${size}`), ...GRID_SIZES.map(size => `grid-md-${size}`), ...GRID_SIZES.map(size => `grid-lg-${size}`), ...GRID_SIZES.map(size => `grid-xl-${size}`)]);\nexport default gridClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"className\", \"columns\", \"columnSpacing\", \"component\", \"container\", \"direction\", \"item\", \"rowSpacing\", \"spacing\", \"wrap\", \"zeroMinWidth\"];\n// A grid component using the following libs as inspiration.\n//\n// For the implementation:\n// - https://getbootstrap.com/docs/4.3/layout/grid/\n// - https://github.com/kristoferjoseph/flexboxgrid/blob/master/src/css/flexboxgrid.css\n// - https://github.com/roylee0704/react-flexbox-grid\n// - https://material.angularjs.org/latest/layout/introduction\n//\n// Follow this flexbox Guide to better understand the underlying model:\n// - https://css-tricks.com/snippets/css/a-guide-to-flexbox/\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_extendSxProp as extendSxProp, handleBreakpoints, unstable_resolveBreakpointValues as resolveBreakpointValues } from '@mui/system';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport requirePropFactory from '../utils/requirePropFactory';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport useTheme from '../styles/useTheme';\nimport GridContext from './GridContext';\nimport gridClasses, { getGridUtilityClass } from './gridClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nfunction getOffset(val) {\n  const parse = parseFloat(val);\n  return `${parse}${String(val).replace(String(parse), '') || 'px'}`;\n}\nexport function generateGrid({\n  theme,\n  ownerState\n}) {\n  let size;\n  return theme.breakpoints.keys.reduce((globalStyles, breakpoint) => {\n    // Use side effect over immutability for better performance.\n    let styles = {};\n    if (ownerState[breakpoint]) {\n      size = ownerState[breakpoint];\n    }\n    if (!size) {\n      return globalStyles;\n    }\n    if (size === true) {\n      // For the auto layouting\n      styles = {\n        flexBasis: 0,\n        flexGrow: 1,\n        maxWidth: '100%'\n      };\n    } else if (size === 'auto') {\n      styles = {\n        flexBasis: 'auto',\n        flexGrow: 0,\n        flexShrink: 0,\n        maxWidth: 'none',\n        width: 'auto'\n      };\n    } else {\n      const columnsBreakpointValues = resolveBreakpointValues({\n        values: ownerState.columns,\n        breakpoints: theme.breakpoints.values\n      });\n      const columnValue = typeof columnsBreakpointValues === 'object' ? columnsBreakpointValues[breakpoint] : columnsBreakpointValues;\n      if (columnValue === undefined || columnValue === null) {\n        return globalStyles;\n      }\n      // Keep 7 significant numbers.\n      const width = `${Math.round(size / columnValue * 10e7) / 10e5}%`;\n      let more = {};\n      if (ownerState.container && ownerState.item && ownerState.columnSpacing !== 0) {\n        const themeSpacing = theme.spacing(ownerState.columnSpacing);\n        if (themeSpacing !== '0px') {\n          const fullWidth = `calc(${width} + ${getOffset(themeSpacing)})`;\n          more = {\n            flexBasis: fullWidth,\n            maxWidth: fullWidth\n          };\n        }\n      }\n\n      // Close to the bootstrap implementation:\n      // https://github.com/twbs/bootstrap/blob/8fccaa2439e97ec72a4b7dc42ccc1f649790adb0/scss/mixins/_grid.scss#L41\n      styles = _extends({\n        flexBasis: width,\n        flexGrow: 0,\n        maxWidth: width\n      }, more);\n    }\n\n    // No need for a media query for the first size.\n    if (theme.breakpoints.values[breakpoint] === 0) {\n      Object.assign(globalStyles, styles);\n    } else {\n      globalStyles[theme.breakpoints.up(breakpoint)] = styles;\n    }\n    return globalStyles;\n  }, {});\n}\nexport function generateDirection({\n  theme,\n  ownerState\n}) {\n  const directionValues = resolveBreakpointValues({\n    values: ownerState.direction,\n    breakpoints: theme.breakpoints.values\n  });\n  return handleBreakpoints({\n    theme\n  }, directionValues, propValue => {\n    const output = {\n      flexDirection: propValue\n    };\n    if (propValue.indexOf('column') === 0) {\n      output[`& > .${gridClasses.item}`] = {\n        maxWidth: 'none'\n      };\n    }\n    return output;\n  });\n}\n\n/**\n * Extracts zero value breakpoint keys before a non-zero value breakpoint key.\n * @example { xs: 0, sm: 0, md: 2, lg: 0, xl: 0 } or [0, 0, 2, 0, 0]\n * @returns [xs, sm]\n */\nfunction extractZeroValueBreakpointKeys({\n  breakpoints,\n  values\n}) {\n  let nonZeroKey = '';\n  Object.keys(values).forEach(key => {\n    if (nonZeroKey !== '') {\n      return;\n    }\n    if (values[key] !== 0) {\n      nonZeroKey = key;\n    }\n  });\n  const sortedBreakpointKeysByValue = Object.keys(breakpoints).sort((a, b) => {\n    return breakpoints[a] - breakpoints[b];\n  });\n  return sortedBreakpointKeysByValue.slice(0, sortedBreakpointKeysByValue.indexOf(nonZeroKey));\n}\nexport function generateRowGap({\n  theme,\n  ownerState\n}) {\n  const {\n    container,\n    rowSpacing\n  } = ownerState;\n  let styles = {};\n  if (container && rowSpacing !== 0) {\n    const rowSpacingValues = resolveBreakpointValues({\n      values: rowSpacing,\n      breakpoints: theme.breakpoints.values\n    });\n    let zeroValueBreakpointKeys;\n    if (typeof rowSpacingValues === 'object') {\n      zeroValueBreakpointKeys = extractZeroValueBreakpointKeys({\n        breakpoints: theme.breakpoints.values,\n        values: rowSpacingValues\n      });\n    }\n    styles = handleBreakpoints({\n      theme\n    }, rowSpacingValues, (propValue, breakpoint) => {\n      var _zeroValueBreakpointK;\n      const themeSpacing = theme.spacing(propValue);\n      if (themeSpacing !== '0px') {\n        return {\n          marginTop: `-${getOffset(themeSpacing)}`,\n          [`& > .${gridClasses.item}`]: {\n            paddingTop: getOffset(themeSpacing)\n          }\n        };\n      }\n      if ((_zeroValueBreakpointK = zeroValueBreakpointKeys) != null && _zeroValueBreakpointK.includes(breakpoint)) {\n        return {};\n      }\n      return {\n        marginTop: 0,\n        [`& > .${gridClasses.item}`]: {\n          paddingTop: 0\n        }\n      };\n    });\n  }\n  return styles;\n}\nexport function generateColumnGap({\n  theme,\n  ownerState\n}) {\n  const {\n    container,\n    columnSpacing\n  } = ownerState;\n  let styles = {};\n  if (container && columnSpacing !== 0) {\n    const columnSpacingValues = resolveBreakpointValues({\n      values: columnSpacing,\n      breakpoints: theme.breakpoints.values\n    });\n    let zeroValueBreakpointKeys;\n    if (typeof columnSpacingValues === 'object') {\n      zeroValueBreakpointKeys = extractZeroValueBreakpointKeys({\n        breakpoints: theme.breakpoints.values,\n        values: columnSpacingValues\n      });\n    }\n    styles = handleBreakpoints({\n      theme\n    }, columnSpacingValues, (propValue, breakpoint) => {\n      var _zeroValueBreakpointK2;\n      const themeSpacing = theme.spacing(propValue);\n      if (themeSpacing !== '0px') {\n        return {\n          width: `calc(100% + ${getOffset(themeSpacing)})`,\n          marginLeft: `-${getOffset(themeSpacing)}`,\n          [`& > .${gridClasses.item}`]: {\n            paddingLeft: getOffset(themeSpacing)\n          }\n        };\n      }\n      if ((_zeroValueBreakpointK2 = zeroValueBreakpointKeys) != null && _zeroValueBreakpointK2.includes(breakpoint)) {\n        return {};\n      }\n      return {\n        width: '100%',\n        marginLeft: 0,\n        [`& > .${gridClasses.item}`]: {\n          paddingLeft: 0\n        }\n      };\n    });\n  }\n  return styles;\n}\nexport function resolveSpacingStyles(spacing, breakpoints, styles = {}) {\n  // undefined/null or `spacing` <= 0\n  if (!spacing || spacing <= 0) {\n    return [];\n  }\n  // in case of string/number `spacing`\n  if (typeof spacing === 'string' && !Number.isNaN(Number(spacing)) || typeof spacing === 'number') {\n    return [styles[`spacing-xs-${String(spacing)}`]];\n  }\n  // in case of object `spacing`\n  const spacingStyles = [];\n  breakpoints.forEach(breakpoint => {\n    const value = spacing[breakpoint];\n    if (Number(value) > 0) {\n      spacingStyles.push(styles[`spacing-${breakpoint}-${String(value)}`]);\n    }\n  });\n  return spacingStyles;\n}\n\n// Default CSS values\n// flex: '0 1 auto',\n// flexDirection: 'row',\n// alignItems: 'flex-start',\n// flexWrap: 'nowrap',\n// justifyContent: 'flex-start',\nconst GridRoot = styled('div', {\n  name: 'MuiGrid',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    const {\n      container,\n      direction,\n      item,\n      spacing,\n      wrap,\n      zeroMinWidth,\n      breakpoints\n    } = ownerState;\n    let spacingStyles = [];\n\n    // in case of grid item\n    if (container) {\n      spacingStyles = resolveSpacingStyles(spacing, breakpoints, styles);\n    }\n    const breakpointsStyles = [];\n    breakpoints.forEach(breakpoint => {\n      const value = ownerState[breakpoint];\n      if (value) {\n        breakpointsStyles.push(styles[`grid-${breakpoint}-${String(value)}`]);\n      }\n    });\n    return [styles.root, container && styles.container, item && styles.item, zeroMinWidth && styles.zeroMinWidth, ...spacingStyles, direction !== 'row' && styles[`direction-xs-${String(direction)}`], wrap !== 'wrap' && styles[`wrap-xs-${String(wrap)}`], ...breakpointsStyles];\n  }\n})(({\n  ownerState\n}) => _extends({\n  boxSizing: 'border-box'\n}, ownerState.container && {\n  display: 'flex',\n  flexWrap: 'wrap',\n  width: '100%'\n}, ownerState.item && {\n  margin: 0 // For instance, it's useful when used with a `figure` element.\n}, ownerState.zeroMinWidth && {\n  minWidth: 0\n}, ownerState.wrap !== 'wrap' && {\n  flexWrap: ownerState.wrap\n}), generateDirection, generateRowGap, generateColumnGap, generateGrid);\nexport function resolveSpacingClasses(spacing, breakpoints) {\n  // undefined/null or `spacing` <= 0\n  if (!spacing || spacing <= 0) {\n    return [];\n  }\n  // in case of string/number `spacing`\n  if (typeof spacing === 'string' && !Number.isNaN(Number(spacing)) || typeof spacing === 'number') {\n    return [`spacing-xs-${String(spacing)}`];\n  }\n  // in case of object `spacing`\n  const classes = [];\n  breakpoints.forEach(breakpoint => {\n    const value = spacing[breakpoint];\n    if (Number(value) > 0) {\n      const className = `spacing-${breakpoint}-${String(value)}`;\n      classes.push(className);\n    }\n  });\n  return classes;\n}\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    container,\n    direction,\n    item,\n    spacing,\n    wrap,\n    zeroMinWidth,\n    breakpoints\n  } = ownerState;\n  let spacingClasses = [];\n\n  // in case of grid item\n  if (container) {\n    spacingClasses = resolveSpacingClasses(spacing, breakpoints);\n  }\n  const breakpointsClasses = [];\n  breakpoints.forEach(breakpoint => {\n    const value = ownerState[breakpoint];\n    if (value) {\n      breakpointsClasses.push(`grid-${breakpoint}-${String(value)}`);\n    }\n  });\n  const slots = {\n    root: ['root', container && 'container', item && 'item', zeroMinWidth && 'zeroMinWidth', ...spacingClasses, direction !== 'row' && `direction-xs-${String(direction)}`, wrap !== 'wrap' && `wrap-xs-${String(wrap)}`, ...breakpointsClasses]\n  };\n  return composeClasses(slots, getGridUtilityClass, classes);\n};\nconst Grid = /*#__PURE__*/React.forwardRef(function Grid(inProps, ref) {\n  const themeProps = useThemeProps({\n    props: inProps,\n    name: 'MuiGrid'\n  });\n  const {\n    breakpoints\n  } = useTheme();\n  const props = extendSxProp(themeProps);\n  const {\n      className,\n      columns: columnsProp,\n      columnSpacing: columnSpacingProp,\n      component = 'div',\n      container = false,\n      direction = 'row',\n      item = false,\n      rowSpacing: rowSpacingProp,\n      spacing = 0,\n      wrap = 'wrap',\n      zeroMinWidth = false\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const rowSpacing = rowSpacingProp || spacing;\n  const columnSpacing = columnSpacingProp || spacing;\n  const columnsContext = React.useContext(GridContext);\n\n  // columns set with default breakpoint unit of 12\n  const columns = container ? columnsProp || 12 : columnsContext;\n  const breakpointsValues = {};\n  const otherFiltered = _extends({}, other);\n  breakpoints.keys.forEach(breakpoint => {\n    if (other[breakpoint] != null) {\n      breakpointsValues[breakpoint] = other[breakpoint];\n      delete otherFiltered[breakpoint];\n    }\n  });\n  const ownerState = _extends({}, props, {\n    columns,\n    container,\n    direction,\n    item,\n    rowSpacing,\n    columnSpacing,\n    wrap,\n    zeroMinWidth,\n    spacing\n  }, breakpointsValues, {\n    breakpoints: breakpoints.keys\n  });\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(GridContext.Provider, {\n    value: columns,\n    children: /*#__PURE__*/_jsx(GridRoot, _extends({\n      ownerState: ownerState,\n      className: clsx(classes.root, className),\n      as: component,\n      ref: ref\n    }, otherFiltered))\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? Grid.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The number of columns.\n   * @default 12\n   */\n  columns: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.number), PropTypes.number, PropTypes.object]),\n  /**\n   * Defines the horizontal space between the type `item` components.\n   * It overrides the value of the `spacing` prop.\n   */\n  columnSpacing: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string])), PropTypes.number, PropTypes.object, PropTypes.string]),\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * If `true`, the component will have the flex *container* behavior.\n   * You should be wrapping *items* with a *container*.\n   * @default false\n   */\n  container: PropTypes.bool,\n  /**\n   * Defines the `flex-direction` style property.\n   * It is applied for all screen sizes.\n   * @default 'row'\n   */\n  direction: PropTypes.oneOfType([PropTypes.oneOf(['column-reverse', 'column', 'row-reverse', 'row']), PropTypes.arrayOf(PropTypes.oneOf(['column-reverse', 'column', 'row-reverse', 'row'])), PropTypes.object]),\n  /**\n   * If `true`, the component will have the flex *item* behavior.\n   * You should be wrapping *items* with a *container*.\n   * @default false\n   */\n  item: PropTypes.bool,\n  /**\n   * If a number, it sets the number of columns the grid item uses.\n   * It can't be greater than the total number of columns of the container (12 by default).\n   * If 'auto', the grid item's width matches its content.\n   * If false, the prop is ignored.\n   * If true, the grid item's width grows to use the space available in the grid container.\n   * The value is applied for the `lg` breakpoint and wider screens if not overridden.\n   * @default false\n   */\n  lg: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number, PropTypes.bool]),\n  /**\n   * If a number, it sets the number of columns the grid item uses.\n   * It can't be greater than the total number of columns of the container (12 by default).\n   * If 'auto', the grid item's width matches its content.\n   * If false, the prop is ignored.\n   * If true, the grid item's width grows to use the space available in the grid container.\n   * The value is applied for the `md` breakpoint and wider screens if not overridden.\n   * @default false\n   */\n  md: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number, PropTypes.bool]),\n  /**\n   * Defines the vertical space between the type `item` components.\n   * It overrides the value of the `spacing` prop.\n   */\n  rowSpacing: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string])), PropTypes.number, PropTypes.object, PropTypes.string]),\n  /**\n   * If a number, it sets the number of columns the grid item uses.\n   * It can't be greater than the total number of columns of the container (12 by default).\n   * If 'auto', the grid item's width matches its content.\n   * If false, the prop is ignored.\n   * If true, the grid item's width grows to use the space available in the grid container.\n   * The value is applied for the `sm` breakpoint and wider screens if not overridden.\n   * @default false\n   */\n  sm: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number, PropTypes.bool]),\n  /**\n   * Defines the space between the type `item` components.\n   * It can only be used on a type `container` component.\n   * @default 0\n   */\n  spacing: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string])), PropTypes.number, PropTypes.object, PropTypes.string]),\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * Defines the `flex-wrap` style property.\n   * It's applied for all screen sizes.\n   * @default 'wrap'\n   */\n  wrap: PropTypes.oneOf(['nowrap', 'wrap-reverse', 'wrap']),\n  /**\n   * If a number, it sets the number of columns the grid item uses.\n   * It can't be greater than the total number of columns of the container (12 by default).\n   * If 'auto', the grid item's width matches its content.\n   * If false, the prop is ignored.\n   * If true, the grid item's width grows to use the space available in the grid container.\n   * The value is applied for the `xl` breakpoint and wider screens if not overridden.\n   * @default false\n   */\n  xl: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number, PropTypes.bool]),\n  /**\n   * If a number, it sets the number of columns the grid item uses.\n   * It can't be greater than the total number of columns of the container (12 by default).\n   * If 'auto', the grid item's width matches its content.\n   * If false, the prop is ignored.\n   * If true, the grid item's width grows to use the space available in the grid container.\n   * The value is applied for all the screen sizes with the lowest priority.\n   * @default false\n   */\n  xs: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number, PropTypes.bool]),\n  /**\n   * If `true`, it sets `min-width: 0` on the item.\n   * Refer to the limitations section of the documentation to better understand the use case.\n   * @default false\n   */\n  zeroMinWidth: PropTypes.bool\n} : void 0;\nif (process.env.NODE_ENV !== 'production') {\n  const requireProp = requirePropFactory('Grid', Grid);\n  // eslint-disable-next-line no-useless-concat\n  Grid['propTypes' + ''] = _extends({}, Grid.propTypes, {\n    direction: requireProp('container'),\n    lg: requireProp('item'),\n    md: requireProp('item'),\n    sm: requireProp('item'),\n    spacing: requireProp('container'),\n    wrap: requireProp('container'),\n    xs: requireProp('item'),\n    zeroMinWidth: requireProp('item')\n  });\n}\nexport default Grid;","import { unstable_generateUtilityClasses as generateUtilityClasses } from '@mui/utils';\nimport generateUtilityClass from '../generateUtilityClass';\nexport function getPaginationUtilityClass(slot) {\n  return generateUtilityClass('MuiPagination', slot);\n}\nconst paginationClasses = generateUtilityClasses('MuiPagination', ['root', 'ul', 'outlined', 'text']);\nexport default paginationClasses;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"boundaryCount\", \"componentName\", \"count\", \"defaultPage\", \"disabled\", \"hideNextButton\", \"hidePrevButton\", \"onChange\", \"page\", \"showFirstButton\", \"showLastButton\", \"siblingCount\"];\nimport { unstable_useControlled as useControlled } from '@mui/utils';\nexport default function usePagination(props = {}) {\n  // keep default values in sync with @default tags in Pagination.propTypes\n  const {\n      boundaryCount = 1,\n      componentName = 'usePagination',\n      count = 1,\n      defaultPage = 1,\n      disabled = false,\n      hideNextButton = false,\n      hidePrevButton = false,\n      onChange: handleChange,\n      page: pageProp,\n      showFirstButton = false,\n      showLastButton = false,\n      siblingCount = 1\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const [page, setPageState] = useControlled({\n    controlled: pageProp,\n    default: defaultPage,\n    name: componentName,\n    state: 'page'\n  });\n  const handleClick = (event, value) => {\n    if (!pageProp) {\n      setPageState(value);\n    }\n    if (handleChange) {\n      handleChange(event, value);\n    }\n  };\n\n  // https://dev.to/namirsab/comment/2050\n  const range = (start, end) => {\n    const length = end - start + 1;\n    return Array.from({\n      length\n    }, (_, i) => start + i);\n  };\n  const startPages = range(1, Math.min(boundaryCount, count));\n  const endPages = range(Math.max(count - boundaryCount + 1, boundaryCount + 1), count);\n  const siblingsStart = Math.max(Math.min(\n  // Natural start\n  page - siblingCount,\n  // Lower boundary when page is high\n  count - boundaryCount - siblingCount * 2 - 1),\n  // Greater than startPages\n  boundaryCount + 2);\n  const siblingsEnd = Math.min(Math.max(\n  // Natural end\n  page + siblingCount,\n  // Upper boundary when page is low\n  boundaryCount + siblingCount * 2 + 2),\n  // Less than endPages\n  endPages.length > 0 ? endPages[0] - 2 : count - 1);\n\n  // Basic list of items to render\n  // e.g. itemList = ['first', 'previous', 1, 'ellipsis', 4, 5, 6, 'ellipsis', 10, 'next', 'last']\n  const itemList = [...(showFirstButton ? ['first'] : []), ...(hidePrevButton ? [] : ['previous']), ...startPages,\n  // Start ellipsis\n  // eslint-disable-next-line no-nested-ternary\n  ...(siblingsStart > boundaryCount + 2 ? ['start-ellipsis'] : boundaryCount + 1 < count - boundaryCount ? [boundaryCount + 1] : []),\n  // Sibling pages\n  ...range(siblingsStart, siblingsEnd),\n  // End ellipsis\n  // eslint-disable-next-line no-nested-ternary\n  ...(siblingsEnd < count - boundaryCount - 1 ? ['end-ellipsis'] : count - boundaryCount > boundaryCount ? [count - boundaryCount] : []), ...endPages, ...(hideNextButton ? [] : ['next']), ...(showLastButton ? ['last'] : [])];\n\n  // Map the button type to its page number\n  const buttonPage = type => {\n    switch (type) {\n      case 'first':\n        return 1;\n      case 'previous':\n        return page - 1;\n      case 'next':\n        return page + 1;\n      case 'last':\n        return count;\n      default:\n        return null;\n    }\n  };\n\n  // Convert the basic item list to PaginationItem props objects\n  const items = itemList.map(item => {\n    return typeof item === 'number' ? {\n      onClick: event => {\n        handleClick(event, item);\n      },\n      type: 'page',\n      page: item,\n      selected: item === page,\n      disabled,\n      'aria-current': item === page ? 'true' : undefined\n    } : {\n      onClick: event => {\n        handleClick(event, buttonPage(item));\n      },\n      type: item,\n      page: buttonPage(item),\n      selected: false,\n      disabled: disabled || item.indexOf('ellipsis') === -1 && (item === 'next' || item === 'last' ? page >= count : page <= 1)\n    };\n  });\n  return _extends({\n    items\n  }, other);\n}","import { unstable_generateUtilityClasses as generateUtilityClasses } from '@mui/utils';\nimport generateUtilityClass from '../generateUtilityClass';\nexport function getPaginationItemUtilityClass(slot) {\n  return generateUtilityClass('MuiPaginationItem', slot);\n}\nconst paginationItemClasses = generateUtilityClasses('MuiPaginationItem', ['root', 'page', 'sizeSmall', 'sizeLarge', 'text', 'textPrimary', 'textSecondary', 'outlined', 'outlinedPrimary', 'outlinedSecondary', 'rounded', 'ellipsis', 'firstLast', 'previousNext', 'focusVisible', 'disabled', 'selected', 'icon']);\nexport default paginationItemClasses;","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n\n/**\n * @ignore - internal component.\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z\"\n}), 'FirstPage');","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n\n/**\n * @ignore - internal component.\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z\"\n}), 'LastPage');","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n\n/**\n * @ignore - internal component.\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\"\n}), 'NavigateBefore');","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n\n/**\n * @ignore - internal component.\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\"\n}), 'NavigateNext');","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"className\", \"color\", \"component\", \"components\", \"disabled\", \"page\", \"selected\", \"shape\", \"size\", \"slots\", \"type\", \"variant\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport { alpha } from '@mui/system';\nimport useThemeProps from '../styles/useThemeProps';\nimport paginationItemClasses, { getPaginationItemUtilityClass } from './paginationItemClasses';\nimport useTheme from '../styles/useTheme';\nimport ButtonBase from '../ButtonBase';\nimport capitalize from '../utils/capitalize';\nimport FirstPageIcon from '../internal/svg-icons/FirstPage';\nimport LastPageIcon from '../internal/svg-icons/LastPage';\nimport NavigateBeforeIcon from '../internal/svg-icons/NavigateBefore';\nimport NavigateNextIcon from '../internal/svg-icons/NavigateNext';\nimport styled from '../styles/styled';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst overridesResolver = (props, styles) => {\n  const {\n    ownerState\n  } = props;\n  return [styles.root, styles[ownerState.variant], styles[`size${capitalize(ownerState.size)}`], ownerState.variant === 'text' && styles[`text${capitalize(ownerState.color)}`], ownerState.variant === 'outlined' && styles[`outlined${capitalize(ownerState.color)}`], ownerState.shape === 'rounded' && styles.rounded, ownerState.type === 'page' && styles.page, (ownerState.type === 'start-ellipsis' || ownerState.type === 'end-ellipsis') && styles.ellipsis, (ownerState.type === 'previous' || ownerState.type === 'next') && styles.previousNext, (ownerState.type === 'first' || ownerState.type === 'last') && styles.firstLast];\n};\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    color,\n    disabled,\n    selected,\n    size,\n    shape,\n    type,\n    variant\n  } = ownerState;\n  const slots = {\n    root: ['root', `size${capitalize(size)}`, variant, shape, color !== 'standard' && `${variant}${capitalize(color)}`, disabled && 'disabled', selected && 'selected', {\n      page: 'page',\n      first: 'firstLast',\n      last: 'firstLast',\n      'start-ellipsis': 'ellipsis',\n      'end-ellipsis': 'ellipsis',\n      previous: 'previousNext',\n      next: 'previousNext'\n    }[type]],\n    icon: ['icon']\n  };\n  return composeClasses(slots, getPaginationItemUtilityClass, classes);\n};\nconst PaginationItemEllipsis = styled('div', {\n  name: 'MuiPaginationItem',\n  slot: 'Root',\n  overridesResolver\n})(({\n  theme,\n  ownerState\n}) => _extends({}, theme.typography.body2, {\n  borderRadius: 32 / 2,\n  textAlign: 'center',\n  boxSizing: 'border-box',\n  minWidth: 32,\n  padding: '0 6px',\n  margin: '0 3px',\n  color: (theme.vars || theme).palette.text.primary,\n  height: 'auto',\n  [`&.${paginationItemClasses.disabled}`]: {\n    opacity: (theme.vars || theme).palette.action.disabledOpacity\n  }\n}, ownerState.size === 'small' && {\n  minWidth: 26,\n  borderRadius: 26 / 2,\n  margin: '0 1px',\n  padding: '0 4px'\n}, ownerState.size === 'large' && {\n  minWidth: 40,\n  borderRadius: 40 / 2,\n  padding: '0 10px',\n  fontSize: theme.typography.pxToRem(15)\n}));\nconst PaginationItemPage = styled(ButtonBase, {\n  name: 'MuiPaginationItem',\n  slot: 'Root',\n  overridesResolver\n})(({\n  theme,\n  ownerState\n}) => _extends({}, theme.typography.body2, {\n  borderRadius: 32 / 2,\n  textAlign: 'center',\n  boxSizing: 'border-box',\n  minWidth: 32,\n  height: 32,\n  padding: '0 6px',\n  margin: '0 3px',\n  color: (theme.vars || theme).palette.text.primary,\n  [`&.${paginationItemClasses.focusVisible}`]: {\n    backgroundColor: (theme.vars || theme).palette.action.focus\n  },\n  [`&.${paginationItemClasses.disabled}`]: {\n    opacity: (theme.vars || theme).palette.action.disabledOpacity\n  },\n  transition: theme.transitions.create(['color', 'background-color'], {\n    duration: theme.transitions.duration.short\n  }),\n  '&:hover': {\n    backgroundColor: (theme.vars || theme).palette.action.hover,\n    // Reset on touch devices, it doesn't add specificity\n    '@media (hover: none)': {\n      backgroundColor: 'transparent'\n    }\n  },\n  [`&.${paginationItemClasses.selected}`]: {\n    backgroundColor: (theme.vars || theme).palette.action.selected,\n    '&:hover': {\n      backgroundColor: theme.vars ? `rgba(${theme.vars.palette.action.selected} / calc(${theme.vars.palette.action.selectedOpacity} + ${theme.vars.palette.action.hoverOpacity}))` : alpha(theme.palette.action.selected, theme.palette.action.selectedOpacity + theme.palette.action.hoverOpacity),\n      // Reset on touch devices, it doesn't add specificity\n      '@media (hover: none)': {\n        backgroundColor: (theme.vars || theme).palette.action.selected\n      }\n    },\n    [`&.${paginationItemClasses.focusVisible}`]: {\n      backgroundColor: theme.vars ? `rgba(${theme.vars.palette.action.selected} / calc(${theme.vars.palette.action.selectedOpacity} + ${theme.vars.palette.action.focusOpacity}))` : alpha(theme.palette.action.selected, theme.palette.action.selectedOpacity + theme.palette.action.focusOpacity)\n    },\n    [`&.${paginationItemClasses.disabled}`]: {\n      opacity: 1,\n      color: (theme.vars || theme).palette.action.disabled,\n      backgroundColor: (theme.vars || theme).palette.action.selected\n    }\n  }\n}, ownerState.size === 'small' && {\n  minWidth: 26,\n  height: 26,\n  borderRadius: 26 / 2,\n  margin: '0 1px',\n  padding: '0 4px'\n}, ownerState.size === 'large' && {\n  minWidth: 40,\n  height: 40,\n  borderRadius: 40 / 2,\n  padding: '0 10px',\n  fontSize: theme.typography.pxToRem(15)\n}, ownerState.shape === 'rounded' && {\n  borderRadius: (theme.vars || theme).shape.borderRadius\n}), ({\n  theme,\n  ownerState\n}) => _extends({}, ownerState.variant === 'text' && {\n  [`&.${paginationItemClasses.selected}`]: _extends({}, ownerState.color !== 'standard' && {\n    color: (theme.vars || theme).palette[ownerState.color].contrastText,\n    backgroundColor: (theme.vars || theme).palette[ownerState.color].main,\n    '&:hover': {\n      backgroundColor: (theme.vars || theme).palette[ownerState.color].dark,\n      // Reset on touch devices, it doesn't add specificity\n      '@media (hover: none)': {\n        backgroundColor: (theme.vars || theme).palette[ownerState.color].main\n      }\n    },\n    [`&.${paginationItemClasses.focusVisible}`]: {\n      backgroundColor: (theme.vars || theme).palette[ownerState.color].dark\n    }\n  }, {\n    [`&.${paginationItemClasses.disabled}`]: {\n      color: (theme.vars || theme).palette.action.disabled\n    }\n  })\n}, ownerState.variant === 'outlined' && {\n  border: theme.vars ? `1px solid rgba(${theme.vars.palette.common.onBackgroundChannel} / 0.23)` : `1px solid ${theme.palette.mode === 'light' ? 'rgba(0, 0, 0, 0.23)' : 'rgba(255, 255, 255, 0.23)'}`,\n  [`&.${paginationItemClasses.selected}`]: _extends({}, ownerState.color !== 'standard' && {\n    color: (theme.vars || theme).palette[ownerState.color].main,\n    border: `1px solid ${theme.vars ? `rgba(${theme.vars.palette[ownerState.color].mainChannel} / 0.5)` : alpha(theme.palette[ownerState.color].main, 0.5)}`,\n    backgroundColor: theme.vars ? `rgba(${theme.vars.palette[ownerState.color].mainChannel} / ${theme.vars.palette.action.activatedOpacity})` : alpha(theme.palette[ownerState.color].main, theme.palette.action.activatedOpacity),\n    '&:hover': {\n      backgroundColor: theme.vars ? `rgba(${theme.vars.palette[ownerState.color].mainChannel} / calc(${theme.vars.palette.action.activatedOpacity} + ${theme.vars.palette.action.focusOpacity}))` : alpha(theme.palette[ownerState.color].main, theme.palette.action.activatedOpacity + theme.palette.action.focusOpacity),\n      // Reset on touch devices, it doesn't add specificity\n      '@media (hover: none)': {\n        backgroundColor: 'transparent'\n      }\n    },\n    [`&.${paginationItemClasses.focusVisible}`]: {\n      backgroundColor: theme.vars ? `rgba(${theme.vars.palette[ownerState.color].mainChannel} / calc(${theme.vars.palette.action.activatedOpacity} + ${theme.vars.palette.action.focusOpacity}))` : alpha(theme.palette[ownerState.color].main, theme.palette.action.activatedOpacity + theme.palette.action.focusOpacity)\n    }\n  }, {\n    [`&.${paginationItemClasses.disabled}`]: {\n      borderColor: (theme.vars || theme).palette.action.disabledBackground,\n      color: (theme.vars || theme).palette.action.disabled\n    }\n  })\n}));\nconst PaginationItemPageIcon = styled('div', {\n  name: 'MuiPaginationItem',\n  slot: 'Icon',\n  overridesResolver: (props, styles) => styles.icon\n})(({\n  theme,\n  ownerState\n}) => _extends({\n  fontSize: theme.typography.pxToRem(20),\n  margin: '0 -8px'\n}, ownerState.size === 'small' && {\n  fontSize: theme.typography.pxToRem(18)\n}, ownerState.size === 'large' && {\n  fontSize: theme.typography.pxToRem(22)\n}));\nconst PaginationItem = /*#__PURE__*/React.forwardRef(function PaginationItem(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiPaginationItem'\n  });\n  const {\n      className,\n      color = 'standard',\n      component,\n      components = {},\n      disabled = false,\n      page,\n      selected = false,\n      shape = 'circular',\n      size = 'medium',\n      slots = {},\n      type = 'page',\n      variant = 'text'\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = _extends({}, props, {\n    color,\n    disabled,\n    selected,\n    shape,\n    size,\n    type,\n    variant\n  });\n  const theme = useTheme();\n  const classes = useUtilityClasses(ownerState);\n  const normalizedIcons = theme.direction === 'rtl' ? {\n    previous: slots.next || components.next || NavigateNextIcon,\n    next: slots.previous || components.previous || NavigateBeforeIcon,\n    last: slots.first || components.first || FirstPageIcon,\n    first: slots.last || components.last || LastPageIcon\n  } : {\n    previous: slots.previous || components.previous || NavigateBeforeIcon,\n    next: slots.next || components.next || NavigateNextIcon,\n    first: slots.first || components.first || FirstPageIcon,\n    last: slots.last || components.last || LastPageIcon\n  };\n  const Icon = normalizedIcons[type];\n  return type === 'start-ellipsis' || type === 'end-ellipsis' ? /*#__PURE__*/_jsx(PaginationItemEllipsis, {\n    ref: ref,\n    ownerState: ownerState,\n    className: clsx(classes.root, className),\n    children: \"\\u2026\"\n  }) : /*#__PURE__*/_jsxs(PaginationItemPage, _extends({\n    ref: ref,\n    ownerState: ownerState,\n    component: component,\n    disabled: disabled,\n    className: clsx(classes.root, className)\n  }, other, {\n    children: [type === 'page' && page, Icon ? /*#__PURE__*/_jsx(PaginationItemPageIcon, {\n      as: Icon,\n      ownerState: ownerState,\n      className: classes.icon\n    }) : null]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? PaginationItem.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * @ignore\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The active color.\n   * It supports both default and custom theme colors, which can be added as shown in the\n   * [palette customization guide](https://mui.com/material-ui/customization/palette/#adding-new-colors).\n   * @default 'standard'\n   */\n  color: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['primary', 'secondary', 'standard']), PropTypes.string]),\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * The components used for each slot inside.\n   *\n   * This prop is an alias for the `slots` prop.\n   * It's recommended to use the `slots` prop instead.\n   *\n   * @default {}\n   */\n  components: PropTypes.shape({\n    first: PropTypes.elementType,\n    last: PropTypes.elementType,\n    next: PropTypes.elementType,\n    previous: PropTypes.elementType\n  }),\n  /**\n   * If `true`, the component is disabled.\n   * @default false\n   */\n  disabled: PropTypes.bool,\n  /**\n   * The current page number.\n   */\n  page: PropTypes.node,\n  /**\n   * If `true` the pagination item is selected.\n   * @default false\n   */\n  selected: PropTypes.bool,\n  /**\n   * The shape of the pagination item.\n   * @default 'circular'\n   */\n  shape: PropTypes.oneOf(['circular', 'rounded']),\n  /**\n   * The size of the component.\n   * @default 'medium'\n   */\n  size: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['small', 'medium', 'large']), PropTypes.string]),\n  /**\n   * The components used for each slot inside.\n   *\n   * This prop is an alias for the `components` prop, which will be deprecated in the future.\n   *\n   * @default {}\n   */\n  slots: PropTypes.shape({\n    first: PropTypes.elementType,\n    last: PropTypes.elementType,\n    next: PropTypes.elementType,\n    previous: PropTypes.elementType\n  }),\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * The type of pagination item.\n   * @default 'page'\n   */\n  type: PropTypes.oneOf(['end-ellipsis', 'first', 'last', 'next', 'page', 'previous', 'start-ellipsis']),\n  /**\n   * The variant to use.\n   * @default 'text'\n   */\n  variant: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['outlined', 'text']), PropTypes.string])\n} : void 0;\nexport default PaginationItem;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"boundaryCount\", \"className\", \"color\", \"count\", \"defaultPage\", \"disabled\", \"getItemAriaLabel\", \"hideNextButton\", \"hidePrevButton\", \"onChange\", \"page\", \"renderItem\", \"shape\", \"showFirstButton\", \"showLastButton\", \"siblingCount\", \"size\", \"variant\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport { integerPropType } from '@mui/utils';\nimport useThemeProps from '../styles/useThemeProps';\nimport { getPaginationUtilityClass } from './paginationClasses';\nimport usePagination from '../usePagination';\nimport PaginationItem from '../PaginationItem';\nimport styled from '../styles/styled';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    variant\n  } = ownerState;\n  const slots = {\n    root: ['root', variant],\n    ul: ['ul']\n  };\n  return composeClasses(slots, getPaginationUtilityClass, classes);\n};\nconst PaginationRoot = styled('nav', {\n  name: 'MuiPagination',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[ownerState.variant]];\n  }\n})({});\nconst PaginationUl = styled('ul', {\n  name: 'MuiPagination',\n  slot: 'Ul',\n  overridesResolver: (props, styles) => styles.ul\n})({\n  display: 'flex',\n  flexWrap: 'wrap',\n  alignItems: 'center',\n  padding: 0,\n  margin: 0,\n  listStyle: 'none'\n});\nfunction defaultGetAriaLabel(type, page, selected) {\n  if (type === 'page') {\n    return `${selected ? '' : 'Go to '}page ${page}`;\n  }\n  return `Go to ${type} page`;\n}\nconst Pagination = /*#__PURE__*/React.forwardRef(function Pagination(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiPagination'\n  });\n  const {\n      boundaryCount = 1,\n      className,\n      color = 'standard',\n      count = 1,\n      defaultPage = 1,\n      disabled = false,\n      getItemAriaLabel = defaultGetAriaLabel,\n      hideNextButton = false,\n      hidePrevButton = false,\n      renderItem = item => /*#__PURE__*/_jsx(PaginationItem, _extends({}, item)),\n      shape = 'circular',\n      showFirstButton = false,\n      showLastButton = false,\n      siblingCount = 1,\n      size = 'medium',\n      variant = 'text'\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const {\n    items\n  } = usePagination(_extends({}, props, {\n    componentName: 'Pagination'\n  }));\n  const ownerState = _extends({}, props, {\n    boundaryCount,\n    color,\n    count,\n    defaultPage,\n    disabled,\n    getItemAriaLabel,\n    hideNextButton,\n    hidePrevButton,\n    renderItem,\n    shape,\n    showFirstButton,\n    showLastButton,\n    siblingCount,\n    size,\n    variant\n  });\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(PaginationRoot, _extends({\n    \"aria-label\": \"pagination navigation\",\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ref: ref\n  }, other, {\n    children: /*#__PURE__*/_jsx(PaginationUl, {\n      className: classes.ul,\n      ownerState: ownerState,\n      children: items.map((item, index) => /*#__PURE__*/_jsx(\"li\", {\n        children: renderItem(_extends({}, item, {\n          color,\n          'aria-label': getItemAriaLabel(item.type, item.page, item.selected),\n          shape,\n          size,\n          variant\n        }))\n      }, index))\n    })\n  }));\n});\n\n// @default tags synced with default values from usePagination\n\nprocess.env.NODE_ENV !== \"production\" ? Pagination.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * Number of always visible pages at the beginning and end.\n   * @default 1\n   */\n  boundaryCount: integerPropType,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The active color.\n   * It supports both default and custom theme colors, which can be added as shown in the\n   * [palette customization guide](https://mui.com/material-ui/customization/palette/#adding-new-colors).\n   * @default 'standard'\n   */\n  color: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['primary', 'secondary', 'standard']), PropTypes.string]),\n  /**\n   * The total number of pages.\n   * @default 1\n   */\n  count: integerPropType,\n  /**\n   * The page selected by default when the component is uncontrolled.\n   * @default 1\n   */\n  defaultPage: integerPropType,\n  /**\n   * If `true`, the component is disabled.\n   * @default false\n   */\n  disabled: PropTypes.bool,\n  /**\n   * Accepts a function which returns a string value that provides a user-friendly name for the current page.\n   * This is important for screen reader users.\n   *\n   * For localization purposes, you can use the provided [translations](/material-ui/guides/localization/).\n   * @param {string} type The link or button type to format ('page' | 'first' | 'last' | 'next' | 'previous'). Defaults to 'page'.\n   * @param {number} page The page number to format.\n   * @param {bool} selected If true, the current page is selected.\n   * @returns {string}\n   */\n  getItemAriaLabel: PropTypes.func,\n  /**\n   * If `true`, hide the next-page button.\n   * @default false\n   */\n  hideNextButton: PropTypes.bool,\n  /**\n   * If `true`, hide the previous-page button.\n   * @default false\n   */\n  hidePrevButton: PropTypes.bool,\n  /**\n   * Callback fired when the page is changed.\n   *\n   * @param {React.ChangeEvent<unknown>} event The event source of the callback.\n   * @param {number} page The page selected.\n   */\n  onChange: PropTypes.func,\n  /**\n   * The current page.\n   */\n  page: integerPropType,\n  /**\n   * Render the item.\n   * @param {PaginationRenderItemParams} params The props to spread on a PaginationItem.\n   * @returns {ReactNode}\n   * @default (item) => <PaginationItem {...item} />\n   */\n  renderItem: PropTypes.func,\n  /**\n   * The shape of the pagination items.\n   * @default 'circular'\n   */\n  shape: PropTypes.oneOf(['circular', 'rounded']),\n  /**\n   * If `true`, show the first-page button.\n   * @default false\n   */\n  showFirstButton: PropTypes.bool,\n  /**\n   * If `true`, show the last-page button.\n   * @default false\n   */\n  showLastButton: PropTypes.bool,\n  /**\n   * Number of always visible pages before and after the current page.\n   * @default 1\n   */\n  siblingCount: integerPropType,\n  /**\n   * The size of the component.\n   * @default 'medium'\n   */\n  size: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['small', 'medium', 'large']), PropTypes.string]),\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * The variant to use.\n   * @default 'text'\n   */\n  variant: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['outlined', 'text']), PropTypes.string])\n} : void 0;\nexport default Pagination;","import React, { useMemo } from 'react'\n\n/**\n * Given a React state setter and a \"mutually exclusive\" setter, return a state setter that will always\n * set the mutually exclusive state value to `false` when the new state value is `true`.\n * @param setState\n * @param setMutuallyExclusiveState\n */\nfunction mutuallyExclusiveSetterFactory(\n  setState: React.Dispatch<React.SetStateAction<boolean>>,\n  setMutuallyExclusiveState: React.Dispatch<React.SetStateAction<boolean>>,\n): React.Dispatch<React.SetStateAction<boolean>> {\n  return arg => {\n    if (typeof arg === 'function') {\n      setState(prev => {\n        const next = arg(prev)\n        if (next) {\n          setMutuallyExclusiveState(false)\n        }\n        return next\n      })\n    } else {\n      if (arg) {\n        setState(true)\n        setMutuallyExclusiveState(false)\n      } else {\n        setState(false)\n      }\n    }\n  }\n}\n\n/**\n * Wrapper for two `useState` hooks where only one of the values can be true at a time.\n * @param initialValue1\n * @param initialValue2\n */\nexport function useMutuallyExclusiveState(\n  initialValue1: boolean,\n  initialValue2: boolean,\n): [\n  value1: boolean,\n  setValue1: React.Dispatch<React.SetStateAction<boolean>>,\n  value2: boolean,\n  setValue2: React.Dispatch<React.SetStateAction<boolean>>,\n] {\n  if (initialValue1 && initialValue2) {\n    throw new Error('initialValue1 and initialValue2 cannot both be true')\n  }\n\n  const [value1, _setValue1] = React.useState(initialValue1)\n  const [value2, _setValue2] = React.useState(initialValue2)\n\n  const setValue1 = useMemo(\n    () => mutuallyExclusiveSetterFactory(_setValue1, _setValue2),\n    [],\n  )\n\n  const setValue2 = useMemo(\n    () => mutuallyExclusiveSetterFactory(_setValue2, _setValue1),\n    [],\n  )\n\n  return [value1, setValue1, value2, setValue2]\n}\n\nexport default useMutuallyExclusiveState\n","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z\"\n}), 'WarningSharp');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon([/*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 4c-4.41 0-8 3.59-8 8s3.59 8 8 8 8-3.59 8-8-3.59-8-8-8zm4.2 12.2L11 13V7h1.5v5.2l4.5 2.7-.8 1.3z\",\n  opacity: \".3\"\n}, \"0\"), /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm.5-13H11v6l5.2 3.2.8-1.3-4.5-2.7V7z\"\n}, \"1\")], 'WatchLaterTwoTone');","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Close');\nexports.default = _default;","/**\n * cssfilter\n *\n * @author 老雷<leizongmin@gmail.com>\n */\n\nfunction getDefaultWhiteList () {\n  // 白名单值说明：\n  // true: 允许该属性\n  // Function: function (val) { } 返回true表示允许该属性，其他值均表示不允许\n  // RegExp: regexp.test(val) 返回true表示允许该属性，其他值均表示不允许\n  // 除上面列出的值外均表示不允许\n  var whiteList = {};\n\n  whiteList['align-content'] = false; // default: auto\n  whiteList['align-items'] = false; // default: auto\n  whiteList['align-self'] = false; // default: auto\n  whiteList['alignment-adjust'] = false; // default: auto\n  whiteList['alignment-baseline'] = false; // default: baseline\n  whiteList['all'] = false; // default: depending on individual properties\n  whiteList['anchor-point'] = false; // default: none\n  whiteList['animation'] = false; // default: depending on individual properties\n  whiteList['animation-delay'] = false; // default: 0\n  whiteList['animation-direction'] = false; // default: normal\n  whiteList['animation-duration'] = false; // default: 0\n  whiteList['animation-fill-mode'] = false; // default: none\n  whiteList['animation-iteration-count'] = false; // default: 1\n  whiteList['animation-name'] = false; // default: none\n  whiteList['animation-play-state'] = false; // default: running\n  whiteList['animation-timing-function'] = false; // default: ease\n  whiteList['azimuth'] = false; // default: center\n  whiteList['backface-visibility'] = false; // default: visible\n  whiteList['background'] = true; // default: depending on individual properties\n  whiteList['background-attachment'] = true; // default: scroll\n  whiteList['background-clip'] = true; // default: border-box\n  whiteList['background-color'] = true; // default: transparent\n  whiteList['background-image'] = true; // default: none\n  whiteList['background-origin'] = true; // default: padding-box\n  whiteList['background-position'] = true; // default: 0% 0%\n  whiteList['background-repeat'] = true; // default: repeat\n  whiteList['background-size'] = true; // default: auto\n  whiteList['baseline-shift'] = false; // default: baseline\n  whiteList['binding'] = false; // default: none\n  whiteList['bleed'] = false; // default: 6pt\n  whiteList['bookmark-label'] = false; // default: content()\n  whiteList['bookmark-level'] = false; // default: none\n  whiteList['bookmark-state'] = false; // default: open\n  whiteList['border'] = true; // default: depending on individual properties\n  whiteList['border-bottom'] = true; // default: depending on individual properties\n  whiteList['border-bottom-color'] = true; // default: current color\n  whiteList['border-bottom-left-radius'] = true; // default: 0\n  whiteList['border-bottom-right-radius'] = true; // default: 0\n  whiteList['border-bottom-style'] = true; // default: none\n  whiteList['border-bottom-width'] = true; // default: medium\n  whiteList['border-collapse'] = true; // default: separate\n  whiteList['border-color'] = true; // default: depending on individual properties\n  whiteList['border-image'] = true; // default: none\n  whiteList['border-image-outset'] = true; // default: 0\n  whiteList['border-image-repeat'] = true; // default: stretch\n  whiteList['border-image-slice'] = true; // default: 100%\n  whiteList['border-image-source'] = true; // default: none\n  whiteList['border-image-width'] = true; // default: 1\n  whiteList['border-left'] = true; // default: depending on individual properties\n  whiteList['border-left-color'] = true; // default: current color\n  whiteList['border-left-style'] = true; // default: none\n  whiteList['border-left-width'] = true; // default: medium\n  whiteList['border-radius'] = true; // default: 0\n  whiteList['border-right'] = true; // default: depending on individual properties\n  whiteList['border-right-color'] = true; // default: current color\n  whiteList['border-right-style'] = true; // default: none\n  whiteList['border-right-width'] = true; // default: medium\n  whiteList['border-spacing'] = true; // default: 0\n  whiteList['border-style'] = true; // default: depending on individual properties\n  whiteList['border-top'] = true; // default: depending on individual properties\n  whiteList['border-top-color'] = true; // default: current color\n  whiteList['border-top-left-radius'] = true; // default: 0\n  whiteList['border-top-right-radius'] = true; // default: 0\n  whiteList['border-top-style'] = true; // default: none\n  whiteList['border-top-width'] = true; // default: medium\n  whiteList['border-width'] = true; // default: depending on individual properties\n  whiteList['bottom'] = false; // default: auto\n  whiteList['box-decoration-break'] = true; // default: slice\n  whiteList['box-shadow'] = true; // default: none\n  whiteList['box-sizing'] = true; // default: content-box\n  whiteList['box-snap'] = true; // default: none\n  whiteList['box-suppress'] = true; // default: show\n  whiteList['break-after'] = true; // default: auto\n  whiteList['break-before'] = true; // default: auto\n  whiteList['break-inside'] = true; // default: auto\n  whiteList['caption-side'] = false; // default: top\n  whiteList['chains'] = false; // default: none\n  whiteList['clear'] = true; // default: none\n  whiteList['clip'] = false; // default: auto\n  whiteList['clip-path'] = false; // default: none\n  whiteList['clip-rule'] = false; // default: nonzero\n  whiteList['color'] = true; // default: implementation dependent\n  whiteList['color-interpolation-filters'] = true; // default: auto\n  whiteList['column-count'] = false; // default: auto\n  whiteList['column-fill'] = false; // default: balance\n  whiteList['column-gap'] = false; // default: normal\n  whiteList['column-rule'] = false; // default: depending on individual properties\n  whiteList['column-rule-color'] = false; // default: current color\n  whiteList['column-rule-style'] = false; // default: medium\n  whiteList['column-rule-width'] = false; // default: medium\n  whiteList['column-span'] = false; // default: none\n  whiteList['column-width'] = false; // default: auto\n  whiteList['columns'] = false; // default: depending on individual properties\n  whiteList['contain'] = false; // default: none\n  whiteList['content'] = false; // default: normal\n  whiteList['counter-increment'] = false; // default: none\n  whiteList['counter-reset'] = false; // default: none\n  whiteList['counter-set'] = false; // default: none\n  whiteList['crop'] = false; // default: auto\n  whiteList['cue'] = false; // default: depending on individual properties\n  whiteList['cue-after'] = false; // default: none\n  whiteList['cue-before'] = false; // default: none\n  whiteList['cursor'] = false; // default: auto\n  whiteList['direction'] = false; // default: ltr\n  whiteList['display'] = true; // default: depending on individual properties\n  whiteList['display-inside'] = true; // default: auto\n  whiteList['display-list'] = true; // default: none\n  whiteList['display-outside'] = true; // default: inline-level\n  whiteList['dominant-baseline'] = false; // default: auto\n  whiteList['elevation'] = false; // default: level\n  whiteList['empty-cells'] = false; // default: show\n  whiteList['filter'] = false; // default: none\n  whiteList['flex'] = false; // default: depending on individual properties\n  whiteList['flex-basis'] = false; // default: auto\n  whiteList['flex-direction'] = false; // default: row\n  whiteList['flex-flow'] = false; // default: depending on individual properties\n  whiteList['flex-grow'] = false; // default: 0\n  whiteList['flex-shrink'] = false; // default: 1\n  whiteList['flex-wrap'] = false; // default: nowrap\n  whiteList['float'] = false; // default: none\n  whiteList['float-offset'] = false; // default: 0 0\n  whiteList['flood-color'] = false; // default: black\n  whiteList['flood-opacity'] = false; // default: 1\n  whiteList['flow-from'] = false; // default: none\n  whiteList['flow-into'] = false; // default: none\n  whiteList['font'] = true; // default: depending on individual properties\n  whiteList['font-family'] = true; // default: implementation dependent\n  whiteList['font-feature-settings'] = true; // default: normal\n  whiteList['font-kerning'] = true; // default: auto\n  whiteList['font-language-override'] = true; // default: normal\n  whiteList['font-size'] = true; // default: medium\n  whiteList['font-size-adjust'] = true; // default: none\n  whiteList['font-stretch'] = true; // default: normal\n  whiteList['font-style'] = true; // default: normal\n  whiteList['font-synthesis'] = true; // default: weight style\n  whiteList['font-variant'] = true; // default: normal\n  whiteList['font-variant-alternates'] = true; // default: normal\n  whiteList['font-variant-caps'] = true; // default: normal\n  whiteList['font-variant-east-asian'] = true; // default: normal\n  whiteList['font-variant-ligatures'] = true; // default: normal\n  whiteList['font-variant-numeric'] = true; // default: normal\n  whiteList['font-variant-position'] = true; // default: normal\n  whiteList['font-weight'] = true; // default: normal\n  whiteList['grid'] = false; // default: depending on individual properties\n  whiteList['grid-area'] = false; // default: depending on individual properties\n  whiteList['grid-auto-columns'] = false; // default: auto\n  whiteList['grid-auto-flow'] = false; // default: none\n  whiteList['grid-auto-rows'] = false; // default: auto\n  whiteList['grid-column'] = false; // default: depending on individual properties\n  whiteList['grid-column-end'] = false; // default: auto\n  whiteList['grid-column-start'] = false; // default: auto\n  whiteList['grid-row'] = false; // default: depending on individual properties\n  whiteList['grid-row-end'] = false; // default: auto\n  whiteList['grid-row-start'] = false; // default: auto\n  whiteList['grid-template'] = false; // default: depending on individual properties\n  whiteList['grid-template-areas'] = false; // default: none\n  whiteList['grid-template-columns'] = false; // default: none\n  whiteList['grid-template-rows'] = false; // default: none\n  whiteList['hanging-punctuation'] = false; // default: none\n  whiteList['height'] = true; // default: auto\n  whiteList['hyphens'] = false; // default: manual\n  whiteList['icon'] = false; // default: auto\n  whiteList['image-orientation'] = false; // default: auto\n  whiteList['image-resolution'] = false; // default: normal\n  whiteList['ime-mode'] = false; // default: auto\n  whiteList['initial-letters'] = false; // default: normal\n  whiteList['inline-box-align'] = false; // default: last\n  whiteList['justify-content'] = false; // default: auto\n  whiteList['justify-items'] = false; // default: auto\n  whiteList['justify-self'] = false; // default: auto\n  whiteList['left'] = false; // default: auto\n  whiteList['letter-spacing'] = true; // default: normal\n  whiteList['lighting-color'] = true; // default: white\n  whiteList['line-box-contain'] = false; // default: block inline replaced\n  whiteList['line-break'] = false; // default: auto\n  whiteList['line-grid'] = false; // default: match-parent\n  whiteList['line-height'] = false; // default: normal\n  whiteList['line-snap'] = false; // default: none\n  whiteList['line-stacking'] = false; // default: depending on individual properties\n  whiteList['line-stacking-ruby'] = false; // default: exclude-ruby\n  whiteList['line-stacking-shift'] = false; // default: consider-shifts\n  whiteList['line-stacking-strategy'] = false; // default: inline-line-height\n  whiteList['list-style'] = true; // default: depending on individual properties\n  whiteList['list-style-image'] = true; // default: none\n  whiteList['list-style-position'] = true; // default: outside\n  whiteList['list-style-type'] = true; // default: disc\n  whiteList['margin'] = true; // default: depending on individual properties\n  whiteList['margin-bottom'] = true; // default: 0\n  whiteList['margin-left'] = true; // default: 0\n  whiteList['margin-right'] = true; // default: 0\n  whiteList['margin-top'] = true; // default: 0\n  whiteList['marker-offset'] = false; // default: auto\n  whiteList['marker-side'] = false; // default: list-item\n  whiteList['marks'] = false; // default: none\n  whiteList['mask'] = false; // default: border-box\n  whiteList['mask-box'] = false; // default: see individual properties\n  whiteList['mask-box-outset'] = false; // default: 0\n  whiteList['mask-box-repeat'] = false; // default: stretch\n  whiteList['mask-box-slice'] = false; // default: 0 fill\n  whiteList['mask-box-source'] = false; // default: none\n  whiteList['mask-box-width'] = false; // default: auto\n  whiteList['mask-clip'] = false; // default: border-box\n  whiteList['mask-image'] = false; // default: none\n  whiteList['mask-origin'] = false; // default: border-box\n  whiteList['mask-position'] = false; // default: center\n  whiteList['mask-repeat'] = false; // default: no-repeat\n  whiteList['mask-size'] = false; // default: border-box\n  whiteList['mask-source-type'] = false; // default: auto\n  whiteList['mask-type'] = false; // default: luminance\n  whiteList['max-height'] = true; // default: none\n  whiteList['max-lines'] = false; // default: none\n  whiteList['max-width'] = true; // default: none\n  whiteList['min-height'] = true; // default: 0\n  whiteList['min-width'] = true; // default: 0\n  whiteList['move-to'] = false; // default: normal\n  whiteList['nav-down'] = false; // default: auto\n  whiteList['nav-index'] = false; // default: auto\n  whiteList['nav-left'] = false; // default: auto\n  whiteList['nav-right'] = false; // default: auto\n  whiteList['nav-up'] = false; // default: auto\n  whiteList['object-fit'] = false; // default: fill\n  whiteList['object-position'] = false; // default: 50% 50%\n  whiteList['opacity'] = false; // default: 1\n  whiteList['order'] = false; // default: 0\n  whiteList['orphans'] = false; // default: 2\n  whiteList['outline'] = false; // default: depending on individual properties\n  whiteList['outline-color'] = false; // default: invert\n  whiteList['outline-offset'] = false; // default: 0\n  whiteList['outline-style'] = false; // default: none\n  whiteList['outline-width'] = false; // default: medium\n  whiteList['overflow'] = false; // default: depending on individual properties\n  whiteList['overflow-wrap'] = false; // default: normal\n  whiteList['overflow-x'] = false; // default: visible\n  whiteList['overflow-y'] = false; // default: visible\n  whiteList['padding'] = true; // default: depending on individual properties\n  whiteList['padding-bottom'] = true; // default: 0\n  whiteList['padding-left'] = true; // default: 0\n  whiteList['padding-right'] = true; // default: 0\n  whiteList['padding-top'] = true; // default: 0\n  whiteList['page'] = false; // default: auto\n  whiteList['page-break-after'] = false; // default: auto\n  whiteList['page-break-before'] = false; // default: auto\n  whiteList['page-break-inside'] = false; // default: auto\n  whiteList['page-policy'] = false; // default: start\n  whiteList['pause'] = false; // default: implementation dependent\n  whiteList['pause-after'] = false; // default: implementation dependent\n  whiteList['pause-before'] = false; // default: implementation dependent\n  whiteList['perspective'] = false; // default: none\n  whiteList['perspective-origin'] = false; // default: 50% 50%\n  whiteList['pitch'] = false; // default: medium\n  whiteList['pitch-range'] = false; // default: 50\n  whiteList['play-during'] = false; // default: auto\n  whiteList['position'] = false; // default: static\n  whiteList['presentation-level'] = false; // default: 0\n  whiteList['quotes'] = false; // default: text\n  whiteList['region-fragment'] = false; // default: auto\n  whiteList['resize'] = false; // default: none\n  whiteList['rest'] = false; // default: depending on individual properties\n  whiteList['rest-after'] = false; // default: none\n  whiteList['rest-before'] = false; // default: none\n  whiteList['richness'] = false; // default: 50\n  whiteList['right'] = false; // default: auto\n  whiteList['rotation'] = false; // default: 0\n  whiteList['rotation-point'] = false; // default: 50% 50%\n  whiteList['ruby-align'] = false; // default: auto\n  whiteList['ruby-merge'] = false; // default: separate\n  whiteList['ruby-position'] = false; // default: before\n  whiteList['shape-image-threshold'] = false; // default: 0.0\n  whiteList['shape-outside'] = false; // default: none\n  whiteList['shape-margin'] = false; // default: 0\n  whiteList['size'] = false; // default: auto\n  whiteList['speak'] = false; // default: auto\n  whiteList['speak-as'] = false; // default: normal\n  whiteList['speak-header'] = false; // default: once\n  whiteList['speak-numeral'] = false; // default: continuous\n  whiteList['speak-punctuation'] = false; // default: none\n  whiteList['speech-rate'] = false; // default: medium\n  whiteList['stress'] = false; // default: 50\n  whiteList['string-set'] = false; // default: none\n  whiteList['tab-size'] = false; // default: 8\n  whiteList['table-layout'] = false; // default: auto\n  whiteList['text-align'] = true; // default: start\n  whiteList['text-align-last'] = true; // default: auto\n  whiteList['text-combine-upright'] = true; // default: none\n  whiteList['text-decoration'] = true; // default: none\n  whiteList['text-decoration-color'] = true; // default: currentColor\n  whiteList['text-decoration-line'] = true; // default: none\n  whiteList['text-decoration-skip'] = true; // default: objects\n  whiteList['text-decoration-style'] = true; // default: solid\n  whiteList['text-emphasis'] = true; // default: depending on individual properties\n  whiteList['text-emphasis-color'] = true; // default: currentColor\n  whiteList['text-emphasis-position'] = true; // default: over right\n  whiteList['text-emphasis-style'] = true; // default: none\n  whiteList['text-height'] = true; // default: auto\n  whiteList['text-indent'] = true; // default: 0\n  whiteList['text-justify'] = true; // default: auto\n  whiteList['text-orientation'] = true; // default: mixed\n  whiteList['text-overflow'] = true; // default: clip\n  whiteList['text-shadow'] = true; // default: none\n  whiteList['text-space-collapse'] = true; // default: collapse\n  whiteList['text-transform'] = true; // default: none\n  whiteList['text-underline-position'] = true; // default: auto\n  whiteList['text-wrap'] = true; // default: normal\n  whiteList['top'] = false; // default: auto\n  whiteList['transform'] = false; // default: none\n  whiteList['transform-origin'] = false; // default: 50% 50% 0\n  whiteList['transform-style'] = false; // default: flat\n  whiteList['transition'] = false; // default: depending on individual properties\n  whiteList['transition-delay'] = false; // default: 0s\n  whiteList['transition-duration'] = false; // default: 0s\n  whiteList['transition-property'] = false; // default: all\n  whiteList['transition-timing-function'] = false; // default: ease\n  whiteList['unicode-bidi'] = false; // default: normal\n  whiteList['vertical-align'] = false; // default: baseline\n  whiteList['visibility'] = false; // default: visible\n  whiteList['voice-balance'] = false; // default: center\n  whiteList['voice-duration'] = false; // default: auto\n  whiteList['voice-family'] = false; // default: implementation dependent\n  whiteList['voice-pitch'] = false; // default: medium\n  whiteList['voice-range'] = false; // default: medium\n  whiteList['voice-rate'] = false; // default: normal\n  whiteList['voice-stress'] = false; // default: normal\n  whiteList['voice-volume'] = false; // default: medium\n  whiteList['volume'] = false; // default: medium\n  whiteList['white-space'] = false; // default: normal\n  whiteList['widows'] = false; // default: 2\n  whiteList['width'] = true; // default: auto\n  whiteList['will-change'] = false; // default: auto\n  whiteList['word-break'] = true; // default: normal\n  whiteList['word-spacing'] = true; // default: normal\n  whiteList['word-wrap'] = true; // default: normal\n  whiteList['wrap-flow'] = false; // default: auto\n  whiteList['wrap-through'] = false; // default: wrap\n  whiteList['writing-mode'] = false; // default: horizontal-tb\n  whiteList['z-index'] = false; // default: auto\n\n  return whiteList;\n}\n\n\n/**\n * 匹配到白名单上的一个属性时\n *\n * @param {String} name\n * @param {String} value\n * @param {Object} options\n * @return {String}\n */\nfunction onAttr (name, value, options) {\n  // do nothing\n}\n\n/**\n * 匹配到不在白名单上的一个属性时\n *\n * @param {String} name\n * @param {String} value\n * @param {Object} options\n * @return {String}\n */\nfunction onIgnoreAttr (name, value, options) {\n  // do nothing\n}\n\nvar REGEXP_URL_JAVASCRIPT = /javascript\\s*\\:/img;\n\n/**\n * 过滤属性值\n *\n * @param {String} name\n * @param {String} value\n * @return {String}\n */\nfunction safeAttrValue(name, value) {\n  if (REGEXP_URL_JAVASCRIPT.test(value)) return '';\n  return value;\n}\n\n\nexports.whiteList = getDefaultWhiteList();\nexports.getDefaultWhiteList = getDefaultWhiteList;\nexports.onAttr = onAttr;\nexports.onIgnoreAttr = onIgnoreAttr;\nexports.safeAttrValue = safeAttrValue;\n","module.exports = {\n  indexOf: function (arr, item) {\n    var i, j;\n    if (Array.prototype.indexOf) {\n      return arr.indexOf(item);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      if (arr[i] === item) {\n        return i;\n      }\n    }\n    return -1;\n  },\n  forEach: function (arr, fn, scope) {\n    var i, j;\n    if (Array.prototype.forEach) {\n      return arr.forEach(fn, scope);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      fn.call(scope, arr[i], i, arr);\n    }\n  },\n  trim: function (str) {\n    if (String.prototype.trim) {\n      return str.trim();\n    }\n    return str.replace(/(^\\s*)|(\\s*$)/g, '');\n  },\n  trimRight: function (str) {\n    if (String.prototype.trimRight) {\n      return str.trimRight();\n    }\n    return str.replace(/(\\s*$)/g, '');\n  }\n};\n","/**\n * cssfilter\n *\n * @author 老雷<leizongmin@gmail.com>\n */\n\nvar _ = require('./util');\n\n\n/**\n * 解析style\n *\n * @param {String} css\n * @param {Function} onAttr 处理属性的函数\n *   参数格式： function (sourcePosition, position, name, value, source)\n * @return {String}\n */\nfunction parseStyle (css, onAttr) {\n  css = _.trimRight(css);\n  if (css[css.length - 1] !== ';') css += ';';\n  var cssLength = css.length;\n  var isParenthesisOpen = false;\n  var lastPos = 0;\n  var i = 0;\n  var retCSS = '';\n\n  function addNewAttr () {\n    // 如果没有正常的闭合圆括号，则直接忽略当前属性\n    if (!isParenthesisOpen) {\n      var source = _.trim(css.slice(lastPos, i));\n      var j = source.indexOf(':');\n      if (j !== -1) {\n        var name = _.trim(source.slice(0, j));\n        var value = _.trim(source.slice(j + 1));\n        // 必须有属性名称\n        if (name) {\n          var ret = onAttr(lastPos, retCSS.length, name, value, source);\n          if (ret) retCSS += ret + '; ';\n        }\n      }\n    }\n    lastPos = i + 1;\n  }\n\n  for (; i < cssLength; i++) {\n    var c = css[i];\n    if (c === '/' && css[i + 1] === '*') {\n      // 备注开始\n      var j = css.indexOf('*/', i + 2);\n      // 如果没有正常的备注结束，则后面的部分全部跳过\n      if (j === -1) break;\n      // 直接将当前位置调到备注结尾，并且初始化状态\n      i = j + 1;\n      lastPos = i + 1;\n      isParenthesisOpen = false;\n    } else if (c === '(') {\n      isParenthesisOpen = true;\n    } else if (c === ')') {\n      isParenthesisOpen = false;\n    } else if (c === ';') {\n      if (isParenthesisOpen) {\n        // 在圆括号里面，忽略\n      } else {\n        addNewAttr();\n      }\n    } else if (c === '\\n') {\n      addNewAttr();\n    }\n  }\n\n  return _.trim(retCSS);\n}\n\nmodule.exports = parseStyle;\n","/**\n * cssfilter\n *\n * @author 老雷<leizongmin@gmail.com>\n */\n\nvar DEFAULT = require('./default');\nvar parseStyle = require('./parser');\nvar _ = require('./util');\n\n\n/**\n * 返回值是否为空\n *\n * @param {Object} obj\n * @return {Boolean}\n */\nfunction isNull (obj) {\n  return (obj === undefined || obj === null);\n}\n\n/**\n * 浅拷贝对象\n *\n * @param {Object} obj\n * @return {Object}\n */\nfunction shallowCopyObject (obj) {\n  var ret = {};\n  for (var i in obj) {\n    ret[i] = obj[i];\n  }\n  return ret;\n}\n\n/**\n * 创建CSS过滤器\n *\n * @param {Object} options\n *   - {Object} whiteList\n *   - {Function} onAttr\n *   - {Function} onIgnoreAttr\n *   - {Function} safeAttrValue\n */\nfunction FilterCSS (options) {\n  options = shallowCopyObject(options || {});\n  options.whiteList = options.whiteList || DEFAULT.whiteList;\n  options.onAttr = options.onAttr || DEFAULT.onAttr;\n  options.onIgnoreAttr = options.onIgnoreAttr || DEFAULT.onIgnoreAttr;\n  options.safeAttrValue = options.safeAttrValue || DEFAULT.safeAttrValue;\n  this.options = options;\n}\n\nFilterCSS.prototype.process = function (css) {\n  // 兼容各种奇葩输入\n  css = css || '';\n  css = css.toString();\n  if (!css) return '';\n\n  var me = this;\n  var options = me.options;\n  var whiteList = options.whiteList;\n  var onAttr = options.onAttr;\n  var onIgnoreAttr = options.onIgnoreAttr;\n  var safeAttrValue = options.safeAttrValue;\n\n  var retCSS = parseStyle(css, function (sourcePosition, position, name, value, source) {\n\n    var check = whiteList[name];\n    var isWhite = false;\n    if (check === true) isWhite = check;\n    else if (typeof check === 'function') isWhite = check(value);\n    else if (check instanceof RegExp) isWhite = check.test(value);\n    if (isWhite !== true) isWhite = false;\n\n    // 如果过滤后 value 为空则直接忽略\n    value = safeAttrValue(name, value);\n    if (!value) return;\n\n    var opts = {\n      position: position,\n      sourcePosition: sourcePosition,\n      source: source,\n      isWhite: isWhite\n    };\n\n    if (isWhite) {\n\n      var ret = onAttr(name, value, opts);\n      if (isNull(ret)) {\n        return name + ':' + value;\n      } else {\n        return ret;\n      }\n\n    } else {\n\n      var ret = onIgnoreAttr(name, value, opts);\n      if (!isNull(ret)) {\n        return ret;\n      }\n\n    }\n  });\n\n  return retCSS;\n};\n\n\nmodule.exports = FilterCSS;\n","/**\n * cssfilter\n *\n * @author 老雷<leizongmin@gmail.com>\n */\n\nvar DEFAULT = require('./default');\nvar FilterCSS = require('./css');\n\n\n/**\n * XSS过滤\n *\n * @param {String} css 要过滤的CSS代码\n * @param {Object} options 选项：whiteList, onAttr, onIgnoreAttr\n * @return {String}\n */\nfunction filterCSS (html, options) {\n  var xss = new FilterCSS(options);\n  return xss.process(html);\n}\n\n\n// 输出\nexports = module.exports = filterCSS;\nexports.FilterCSS = FilterCSS;\nfor (var i in DEFAULT) exports[i] = DEFAULT[i];\n\n// 在浏览器端使用\nif (typeof window !== 'undefined') {\n  window.filterCSS = module.exports;\n}\n","module.exports = {\n  indexOf: function (arr, item) {\n    var i, j;\n    if (Array.prototype.indexOf) {\n      return arr.indexOf(item);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      if (arr[i] === item) {\n        return i;\n      }\n    }\n    return -1;\n  },\n  forEach: function (arr, fn, scope) {\n    var i, j;\n    if (Array.prototype.forEach) {\n      return arr.forEach(fn, scope);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      fn.call(scope, arr[i], i, arr);\n    }\n  },\n  trim: function (str) {\n    if (String.prototype.trim) {\n      return str.trim();\n    }\n    return str.replace(/(^\\s*)|(\\s*$)/g, \"\");\n  },\n  spaceIndex: function (str) {\n    var reg = /\\s|\\n|\\t/;\n    var match = reg.exec(str);\n    return match ? match.index : -1;\n  },\n};\n","/**\n * default settings\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar FilterCSS = require(\"cssfilter\").FilterCSS;\nvar getDefaultCSSWhiteList = require(\"cssfilter\").getDefaultWhiteList;\nvar _ = require(\"./util\");\n\nfunction getDefaultWhiteList() {\n  return {\n    a: [\"target\", \"href\", \"title\"],\n    abbr: [\"title\"],\n    address: [],\n    area: [\"shape\", \"coords\", \"href\", \"alt\"],\n    article: [],\n    aside: [],\n    audio: [\n      \"autoplay\",\n      \"controls\",\n      \"crossorigin\",\n      \"loop\",\n      \"muted\",\n      \"preload\",\n      \"src\",\n    ],\n    b: [],\n    bdi: [\"dir\"],\n    bdo: [\"dir\"],\n    big: [],\n    blockquote: [\"cite\"],\n    br: [],\n    caption: [],\n    center: [],\n    cite: [],\n    code: [],\n    col: [\"align\", \"valign\", \"span\", \"width\"],\n    colgroup: [\"align\", \"valign\", \"span\", \"width\"],\n    dd: [],\n    del: [\"datetime\"],\n    details: [\"open\"],\n    div: [],\n    dl: [],\n    dt: [],\n    em: [],\n    figcaption: [],\n    figure: [],\n    font: [\"color\", \"size\", \"face\"],\n    footer: [],\n    h1: [],\n    h2: [],\n    h3: [],\n    h4: [],\n    h5: [],\n    h6: [],\n    header: [],\n    hr: [],\n    i: [],\n    img: [\"src\", \"alt\", \"title\", \"width\", \"height\"],\n    ins: [\"datetime\"],\n    li: [],\n    mark: [],\n    nav: [],\n    ol: [],\n    p: [],\n    pre: [],\n    s: [],\n    section: [],\n    small: [],\n    span: [],\n    sub: [],\n    summary: [],\n    sup: [],\n    strong: [],\n    strike: [],\n    table: [\"width\", \"border\", \"align\", \"valign\"],\n    tbody: [\"align\", \"valign\"],\n    td: [\"width\", \"rowspan\", \"colspan\", \"align\", \"valign\"],\n    tfoot: [\"align\", \"valign\"],\n    th: [\"width\", \"rowspan\", \"colspan\", \"align\", \"valign\"],\n    thead: [\"align\", \"valign\"],\n    tr: [\"rowspan\", \"align\", \"valign\"],\n    tt: [],\n    u: [],\n    ul: [],\n    video: [\n      \"autoplay\",\n      \"controls\",\n      \"crossorigin\",\n      \"loop\",\n      \"muted\",\n      \"playsinline\",\n      \"poster\",\n      \"preload\",\n      \"src\",\n      \"height\",\n      \"width\",\n    ],\n  };\n}\n\nvar defaultCSSFilter = new FilterCSS();\n\n/**\n * default onTag function\n *\n * @param {String} tag\n * @param {String} html\n * @param {Object} options\n * @return {String}\n */\nfunction onTag(tag, html, options) {\n  // do nothing\n}\n\n/**\n * default onIgnoreTag function\n *\n * @param {String} tag\n * @param {String} html\n * @param {Object} options\n * @return {String}\n */\nfunction onIgnoreTag(tag, html, options) {\n  // do nothing\n}\n\n/**\n * default onTagAttr function\n *\n * @param {String} tag\n * @param {String} name\n * @param {String} value\n * @return {String}\n */\nfunction onTagAttr(tag, name, value) {\n  // do nothing\n}\n\n/**\n * default onIgnoreTagAttr function\n *\n * @param {String} tag\n * @param {String} name\n * @param {String} value\n * @return {String}\n */\nfunction onIgnoreTagAttr(tag, name, value) {\n  // do nothing\n}\n\n/**\n * default escapeHtml function\n *\n * @param {String} html\n */\nfunction escapeHtml(html) {\n  return html.replace(REGEXP_LT, \"&lt;\").replace(REGEXP_GT, \"&gt;\");\n}\n\n/**\n * default safeAttrValue function\n *\n * @param {String} tag\n * @param {String} name\n * @param {String} value\n * @param {Object} cssFilter\n * @return {String}\n */\nfunction safeAttrValue(tag, name, value, cssFilter) {\n  // unescape attribute value firstly\n  value = friendlyAttrValue(value);\n\n  if (name === \"href\" || name === \"src\") {\n    // filter `href` and `src` attribute\n    // only allow the value that starts with `http://` | `https://` | `mailto:` | `/` | `#`\n    value = _.trim(value);\n    if (value === \"#\") return \"#\";\n    if (\n      !(\n        value.substr(0, 7) === \"http://\" ||\n        value.substr(0, 8) === \"https://\" ||\n        value.substr(0, 7) === \"mailto:\" ||\n        value.substr(0, 4) === \"tel:\" ||\n        value.substr(0, 11) === \"data:image/\" ||\n        value.substr(0, 6) === \"ftp://\" ||\n        value.substr(0, 2) === \"./\" ||\n        value.substr(0, 3) === \"../\" ||\n        value[0] === \"#\" ||\n        value[0] === \"/\"\n      )\n    ) {\n      return \"\";\n    }\n  } else if (name === \"background\") {\n    // filter `background` attribute (maybe no use)\n    // `javascript:`\n    REGEXP_DEFAULT_ON_TAG_ATTR_4.lastIndex = 0;\n    if (REGEXP_DEFAULT_ON_TAG_ATTR_4.test(value)) {\n      return \"\";\n    }\n  } else if (name === \"style\") {\n    // `expression()`\n    REGEXP_DEFAULT_ON_TAG_ATTR_7.lastIndex = 0;\n    if (REGEXP_DEFAULT_ON_TAG_ATTR_7.test(value)) {\n      return \"\";\n    }\n    // `url()`\n    REGEXP_DEFAULT_ON_TAG_ATTR_8.lastIndex = 0;\n    if (REGEXP_DEFAULT_ON_TAG_ATTR_8.test(value)) {\n      REGEXP_DEFAULT_ON_TAG_ATTR_4.lastIndex = 0;\n      if (REGEXP_DEFAULT_ON_TAG_ATTR_4.test(value)) {\n        return \"\";\n      }\n    }\n    if (cssFilter !== false) {\n      cssFilter = cssFilter || defaultCSSFilter;\n      value = cssFilter.process(value);\n    }\n  }\n\n  // escape `<>\"` before returns\n  value = escapeAttrValue(value);\n  return value;\n}\n\n// RegExp list\nvar REGEXP_LT = /</g;\nvar REGEXP_GT = />/g;\nvar REGEXP_QUOTE = /\"/g;\nvar REGEXP_QUOTE_2 = /&quot;/g;\nvar REGEXP_ATTR_VALUE_1 = /&#([a-zA-Z0-9]*);?/gim;\nvar REGEXP_ATTR_VALUE_COLON = /&colon;?/gim;\nvar REGEXP_ATTR_VALUE_NEWLINE = /&newline;?/gim;\n// var REGEXP_DEFAULT_ON_TAG_ATTR_3 = /\\/\\*|\\*\\//gm;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_4 =\n  /((j\\s*a\\s*v\\s*a|v\\s*b|l\\s*i\\s*v\\s*e)\\s*s\\s*c\\s*r\\s*i\\s*p\\s*t\\s*|m\\s*o\\s*c\\s*h\\s*a):/gi;\n// var REGEXP_DEFAULT_ON_TAG_ATTR_5 = /^[\\s\"'`]*(d\\s*a\\s*t\\s*a\\s*)\\:/gi;\n// var REGEXP_DEFAULT_ON_TAG_ATTR_6 = /^[\\s\"'`]*(d\\s*a\\s*t\\s*a\\s*)\\:\\s*image\\//gi;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_7 =\n  /e\\s*x\\s*p\\s*r\\s*e\\s*s\\s*s\\s*i\\s*o\\s*n\\s*\\(.*/gi;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_8 = /u\\s*r\\s*l\\s*\\(.*/gi;\n\n/**\n * escape double quote\n *\n * @param {String} str\n * @return {String} str\n */\nfunction escapeQuote(str) {\n  return str.replace(REGEXP_QUOTE, \"&quot;\");\n}\n\n/**\n * unescape double quote\n *\n * @param {String} str\n * @return {String} str\n */\nfunction unescapeQuote(str) {\n  return str.replace(REGEXP_QUOTE_2, '\"');\n}\n\n/**\n * escape html entities\n *\n * @param {String} str\n * @return {String}\n */\nfunction escapeHtmlEntities(str) {\n  return str.replace(REGEXP_ATTR_VALUE_1, function replaceUnicode(str, code) {\n    return code[0] === \"x\" || code[0] === \"X\"\n      ? String.fromCharCode(parseInt(code.substr(1), 16))\n      : String.fromCharCode(parseInt(code, 10));\n  });\n}\n\n/**\n * escape html5 new danger entities\n *\n * @param {String} str\n * @return {String}\n */\nfunction escapeDangerHtml5Entities(str) {\n  return str\n    .replace(REGEXP_ATTR_VALUE_COLON, \":\")\n    .replace(REGEXP_ATTR_VALUE_NEWLINE, \" \");\n}\n\n/**\n * clear nonprintable characters\n *\n * @param {String} str\n * @return {String}\n */\nfunction clearNonPrintableCharacter(str) {\n  var str2 = \"\";\n  for (var i = 0, len = str.length; i < len; i++) {\n    str2 += str.charCodeAt(i) < 32 ? \" \" : str.charAt(i);\n  }\n  return _.trim(str2);\n}\n\n/**\n * get friendly attribute value\n *\n * @param {String} str\n * @return {String}\n */\nfunction friendlyAttrValue(str) {\n  str = unescapeQuote(str);\n  str = escapeHtmlEntities(str);\n  str = escapeDangerHtml5Entities(str);\n  str = clearNonPrintableCharacter(str);\n  return str;\n}\n\n/**\n * unescape attribute value\n *\n * @param {String} str\n * @return {String}\n */\nfunction escapeAttrValue(str) {\n  str = escapeQuote(str);\n  str = escapeHtml(str);\n  return str;\n}\n\n/**\n * `onIgnoreTag` function for removing all the tags that are not in whitelist\n */\nfunction onIgnoreTagStripAll() {\n  return \"\";\n}\n\n/**\n * remove tag body\n * specify a `tags` list, if the tag is not in the `tags` list then process by the specify function (optional)\n *\n * @param {array} tags\n * @param {function} next\n */\nfunction StripTagBody(tags, next) {\n  if (typeof next !== \"function\") {\n    next = function () {};\n  }\n\n  var isRemoveAllTag = !Array.isArray(tags);\n  function isRemoveTag(tag) {\n    if (isRemoveAllTag) return true;\n    return _.indexOf(tags, tag) !== -1;\n  }\n\n  var removeList = [];\n  var posStart = false;\n\n  return {\n    onIgnoreTag: function (tag, html, options) {\n      if (isRemoveTag(tag)) {\n        if (options.isClosing) {\n          var ret = \"[/removed]\";\n          var end = options.position + ret.length;\n          removeList.push([\n            posStart !== false ? posStart : options.position,\n            end,\n          ]);\n          posStart = false;\n          return ret;\n        } else {\n          if (!posStart) {\n            posStart = options.position;\n          }\n          return \"[removed]\";\n        }\n      } else {\n        return next(tag, html, options);\n      }\n    },\n    remove: function (html) {\n      var rethtml = \"\";\n      var lastPos = 0;\n      _.forEach(removeList, function (pos) {\n        rethtml += html.slice(lastPos, pos[0]);\n        lastPos = pos[1];\n      });\n      rethtml += html.slice(lastPos);\n      return rethtml;\n    },\n  };\n}\n\n/**\n * remove html comments\n *\n * @param {String} html\n * @return {String}\n */\nfunction stripCommentTag(html) {\n  var retHtml = \"\";\n  var lastPos = 0;\n  while (lastPos < html.length) {\n    var i = html.indexOf(\"<!--\", lastPos);\n    if (i === -1) {\n      retHtml += html.slice(lastPos);\n      break;\n    }\n    retHtml += html.slice(lastPos, i);\n    var j = html.indexOf(\"-->\", i);\n    if (j === -1) {\n      break;\n    }\n    lastPos = j + 3;\n  }\n  return retHtml;\n}\n\n/**\n * remove invisible characters\n *\n * @param {String} html\n * @return {String}\n */\nfunction stripBlankChar(html) {\n  var chars = html.split(\"\");\n  chars = chars.filter(function (char) {\n    var c = char.charCodeAt(0);\n    if (c === 127) return false;\n    if (c <= 31) {\n      if (c === 10 || c === 13) return true;\n      return false;\n    }\n    return true;\n  });\n  return chars.join(\"\");\n}\n\nexports.whiteList = getDefaultWhiteList();\nexports.getDefaultWhiteList = getDefaultWhiteList;\nexports.onTag = onTag;\nexports.onIgnoreTag = onIgnoreTag;\nexports.onTagAttr = onTagAttr;\nexports.onIgnoreTagAttr = onIgnoreTagAttr;\nexports.safeAttrValue = safeAttrValue;\nexports.escapeHtml = escapeHtml;\nexports.escapeQuote = escapeQuote;\nexports.unescapeQuote = unescapeQuote;\nexports.escapeHtmlEntities = escapeHtmlEntities;\nexports.escapeDangerHtml5Entities = escapeDangerHtml5Entities;\nexports.clearNonPrintableCharacter = clearNonPrintableCharacter;\nexports.friendlyAttrValue = friendlyAttrValue;\nexports.escapeAttrValue = escapeAttrValue;\nexports.onIgnoreTagStripAll = onIgnoreTagStripAll;\nexports.StripTagBody = StripTagBody;\nexports.stripCommentTag = stripCommentTag;\nexports.stripBlankChar = stripBlankChar;\nexports.cssFilter = defaultCSSFilter;\nexports.getDefaultCSSWhiteList = getDefaultCSSWhiteList;\n","/**\n * Simple HTML Parser\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar _ = require(\"./util\");\n\n/**\n * get tag name\n *\n * @param {String} html e.g. '<a hef=\"#\">'\n * @return {String}\n */\nfunction getTagName(html) {\n  var i = _.spaceIndex(html);\n  var tagName;\n  if (i === -1) {\n    tagName = html.slice(1, -1);\n  } else {\n    tagName = html.slice(1, i + 1);\n  }\n  tagName = _.trim(tagName).toLowerCase();\n  if (tagName.slice(0, 1) === \"/\") tagName = tagName.slice(1);\n  if (tagName.slice(-1) === \"/\") tagName = tagName.slice(0, -1);\n  return tagName;\n}\n\n/**\n * is close tag?\n *\n * @param {String} html 如：'<a hef=\"#\">'\n * @return {Boolean}\n */\nfunction isClosing(html) {\n  return html.slice(0, 2) === \"</\";\n}\n\n/**\n * parse input html and returns processed html\n *\n * @param {String} html\n * @param {Function} onTag e.g. function (sourcePosition, position, tag, html, isClosing)\n * @param {Function} escapeHtml\n * @return {String}\n */\nfunction parseTag(html, onTag, escapeHtml) {\n  \"use strict\";\n\n  var rethtml = \"\";\n  var lastPos = 0;\n  var tagStart = false;\n  var quoteStart = false;\n  var currentPos = 0;\n  var len = html.length;\n  var currentTagName = \"\";\n  var currentHtml = \"\";\n\n  chariterator: for (currentPos = 0; currentPos < len; currentPos++) {\n    var c = html.charAt(currentPos);\n    if (tagStart === false) {\n      if (c === \"<\") {\n        tagStart = currentPos;\n        continue;\n      }\n    } else {\n      if (quoteStart === false) {\n        if (c === \"<\") {\n          rethtml += escapeHtml(html.slice(lastPos, currentPos));\n          tagStart = currentPos;\n          lastPos = currentPos;\n          continue;\n        }\n        if (c === \">\" || currentPos === len - 1) {\n          rethtml += escapeHtml(html.slice(lastPos, tagStart));\n          currentHtml = html.slice(tagStart, currentPos + 1);\n          currentTagName = getTagName(currentHtml);\n          rethtml += onTag(\n            tagStart,\n            rethtml.length,\n            currentTagName,\n            currentHtml,\n            isClosing(currentHtml)\n          );\n          lastPos = currentPos + 1;\n          tagStart = false;\n          continue;\n        }\n        if (c === '\"' || c === \"'\") {\n          var i = 1;\n          var ic = html.charAt(currentPos - i);\n\n          while (ic.trim() === \"\" || ic === \"=\") {\n            if (ic === \"=\") {\n              quoteStart = c;\n              continue chariterator;\n            }\n            ic = html.charAt(currentPos - ++i);\n          }\n        }\n      } else {\n        if (c === quoteStart) {\n          quoteStart = false;\n          continue;\n        }\n      }\n    }\n  }\n  if (lastPos < len) {\n    rethtml += escapeHtml(html.substr(lastPos));\n  }\n\n  return rethtml;\n}\n\nvar REGEXP_ILLEGAL_ATTR_NAME = /[^a-zA-Z0-9\\\\_:.-]/gim;\n\n/**\n * parse input attributes and returns processed attributes\n *\n * @param {String} html e.g. `href=\"#\" target=\"_blank\"`\n * @param {Function} onAttr e.g. `function (name, value)`\n * @return {String}\n */\nfunction parseAttr(html, onAttr) {\n  \"use strict\";\n\n  var lastPos = 0;\n  var lastMarkPos = 0;\n  var retAttrs = [];\n  var tmpName = false;\n  var len = html.length;\n\n  function addAttr(name, value) {\n    name = _.trim(name);\n    name = name.replace(REGEXP_ILLEGAL_ATTR_NAME, \"\").toLowerCase();\n    if (name.length < 1) return;\n    var ret = onAttr(name, value || \"\");\n    if (ret) retAttrs.push(ret);\n  }\n\n  // 逐个分析字符\n  for (var i = 0; i < len; i++) {\n    var c = html.charAt(i);\n    var v, j;\n    if (tmpName === false && c === \"=\") {\n      tmpName = html.slice(lastPos, i);\n      lastPos = i + 1;\n      lastMarkPos = html.charAt(lastPos) === '\"' || html.charAt(lastPos) === \"'\" ? lastPos : findNextQuotationMark(html, i + 1);\n      continue;\n    }\n    if (tmpName !== false) {\n      if (\n        i === lastMarkPos\n      ) {\n        j = html.indexOf(c, i + 1);\n        if (j === -1) {\n          break;\n        } else {\n          v = _.trim(html.slice(lastMarkPos + 1, j));\n          addAttr(tmpName, v);\n          tmpName = false;\n          i = j;\n          lastPos = i + 1;\n          continue;\n        }\n      }\n    }\n    if (/\\s|\\n|\\t/.test(c)) {\n      html = html.replace(/\\s|\\n|\\t/g, \" \");\n      if (tmpName === false) {\n        j = findNextEqual(html, i);\n        if (j === -1) {\n          v = _.trim(html.slice(lastPos, i));\n          addAttr(v);\n          tmpName = false;\n          lastPos = i + 1;\n          continue;\n        } else {\n          i = j - 1;\n          continue;\n        }\n      } else {\n        j = findBeforeEqual(html, i - 1);\n        if (j === -1) {\n          v = _.trim(html.slice(lastPos, i));\n          v = stripQuoteWrap(v);\n          addAttr(tmpName, v);\n          tmpName = false;\n          lastPos = i + 1;\n          continue;\n        } else {\n          continue;\n        }\n      }\n    }\n  }\n\n  if (lastPos < html.length) {\n    if (tmpName === false) {\n      addAttr(html.slice(lastPos));\n    } else {\n      addAttr(tmpName, stripQuoteWrap(_.trim(html.slice(lastPos))));\n    }\n  }\n\n  return _.trim(retAttrs.join(\" \"));\n}\n\nfunction findNextEqual(str, i) {\n  for (; i < str.length; i++) {\n    var c = str[i];\n    if (c === \" \") continue;\n    if (c === \"=\") return i;\n    return -1;\n  }\n}\n\nfunction findNextQuotationMark(str, i) {\n  for (; i < str.length; i++) {\n    var c = str[i];\n    if (c === \" \") continue;\n    if (c === \"'\" || c === '\"') return i;\n    return -1;\n  }\n}\n\nfunction findBeforeEqual(str, i) {\n  for (; i > 0; i--) {\n    var c = str[i];\n    if (c === \" \") continue;\n    if (c === \"=\") return i;\n    return -1;\n  }\n}\n\nfunction isQuoteWrapString(text) {\n  if (\n    (text[0] === '\"' && text[text.length - 1] === '\"') ||\n    (text[0] === \"'\" && text[text.length - 1] === \"'\")\n  ) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nfunction stripQuoteWrap(text) {\n  if (isQuoteWrapString(text)) {\n    return text.substr(1, text.length - 2);\n  } else {\n    return text;\n  }\n}\n\nexports.parseTag = parseTag;\nexports.parseAttr = parseAttr;\n","/**\n * filter xss\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar FilterCSS = require(\"cssfilter\").FilterCSS;\nvar DEFAULT = require(\"./default\");\nvar parser = require(\"./parser\");\nvar parseTag = parser.parseTag;\nvar parseAttr = parser.parseAttr;\nvar _ = require(\"./util\");\n\n/**\n * returns `true` if the input value is `undefined` or `null`\n *\n * @param {Object} obj\n * @return {Boolean}\n */\nfunction isNull(obj) {\n  return obj === undefined || obj === null;\n}\n\n/**\n * get attributes for a tag\n *\n * @param {String} html\n * @return {Object}\n *   - {String} html\n *   - {Boolean} closing\n */\nfunction getAttrs(html) {\n  var i = _.spaceIndex(html);\n  if (i === -1) {\n    return {\n      html: \"\",\n      closing: html[html.length - 2] === \"/\",\n    };\n  }\n  html = _.trim(html.slice(i + 1, -1));\n  var isClosing = html[html.length - 1] === \"/\";\n  if (isClosing) html = _.trim(html.slice(0, -1));\n  return {\n    html: html,\n    closing: isClosing,\n  };\n}\n\n/**\n * shallow copy\n *\n * @param {Object} obj\n * @return {Object}\n */\nfunction shallowCopyObject(obj) {\n  var ret = {};\n  for (var i in obj) {\n    ret[i] = obj[i];\n  }\n  return ret;\n}\n\nfunction keysToLowerCase(obj) {\n  var ret = {};\n  for (var i in obj) {\n    if (Array.isArray(obj[i])) {\n      ret[i.toLowerCase()] = obj[i].map(function (item) {\n        return item.toLowerCase();\n      });\n    } else {\n      ret[i.toLowerCase()] = obj[i];\n    }\n  }\n  return ret;\n}\n\n/**\n * FilterXSS class\n *\n * @param {Object} options\n *        whiteList (or allowList), onTag, onTagAttr, onIgnoreTag,\n *        onIgnoreTagAttr, safeAttrValue, escapeHtml\n *        stripIgnoreTagBody, allowCommentTag, stripBlankChar\n *        css{whiteList, onAttr, onIgnoreAttr} `css=false` means don't use `cssfilter`\n */\nfunction FilterXSS(options) {\n  options = shallowCopyObject(options || {});\n\n  if (options.stripIgnoreTag) {\n    if (options.onIgnoreTag) {\n      console.error(\n        'Notes: cannot use these two options \"stripIgnoreTag\" and \"onIgnoreTag\" at the same time'\n      );\n    }\n    options.onIgnoreTag = DEFAULT.onIgnoreTagStripAll;\n  }\n  if (options.whiteList || options.allowList) {\n    options.whiteList = keysToLowerCase(options.whiteList || options.allowList);\n  } else {\n    options.whiteList = DEFAULT.whiteList;\n  }\n\n  options.onTag = options.onTag || DEFAULT.onTag;\n  options.onTagAttr = options.onTagAttr || DEFAULT.onTagAttr;\n  options.onIgnoreTag = options.onIgnoreTag || DEFAULT.onIgnoreTag;\n  options.onIgnoreTagAttr = options.onIgnoreTagAttr || DEFAULT.onIgnoreTagAttr;\n  options.safeAttrValue = options.safeAttrValue || DEFAULT.safeAttrValue;\n  options.escapeHtml = options.escapeHtml || DEFAULT.escapeHtml;\n  this.options = options;\n\n  if (options.css === false) {\n    this.cssFilter = false;\n  } else {\n    options.css = options.css || {};\n    this.cssFilter = new FilterCSS(options.css);\n  }\n}\n\n/**\n * start process and returns result\n *\n * @param {String} html\n * @return {String}\n */\nFilterXSS.prototype.process = function (html) {\n  // compatible with the input\n  html = html || \"\";\n  html = html.toString();\n  if (!html) return \"\";\n\n  var me = this;\n  var options = me.options;\n  var whiteList = options.whiteList;\n  var onTag = options.onTag;\n  var onIgnoreTag = options.onIgnoreTag;\n  var onTagAttr = options.onTagAttr;\n  var onIgnoreTagAttr = options.onIgnoreTagAttr;\n  var safeAttrValue = options.safeAttrValue;\n  var escapeHtml = options.escapeHtml;\n  var cssFilter = me.cssFilter;\n\n  // remove invisible characters\n  if (options.stripBlankChar) {\n    html = DEFAULT.stripBlankChar(html);\n  }\n\n  // remove html comments\n  if (!options.allowCommentTag) {\n    html = DEFAULT.stripCommentTag(html);\n  }\n\n  // if enable stripIgnoreTagBody\n  var stripIgnoreTagBody = false;\n  if (options.stripIgnoreTagBody) {\n    stripIgnoreTagBody = DEFAULT.StripTagBody(\n      options.stripIgnoreTagBody,\n      onIgnoreTag\n    );\n    onIgnoreTag = stripIgnoreTagBody.onIgnoreTag;\n  }\n\n  var retHtml = parseTag(\n    html,\n    function (sourcePosition, position, tag, html, isClosing) {\n      var info = {\n        sourcePosition: sourcePosition,\n        position: position,\n        isClosing: isClosing,\n        isWhite: Object.prototype.hasOwnProperty.call(whiteList, tag),\n      };\n\n      // call `onTag()`\n      var ret = onTag(tag, html, info);\n      if (!isNull(ret)) return ret;\n\n      if (info.isWhite) {\n        if (info.isClosing) {\n          return \"</\" + tag + \">\";\n        }\n\n        var attrs = getAttrs(html);\n        var whiteAttrList = whiteList[tag];\n        var attrsHtml = parseAttr(attrs.html, function (name, value) {\n          // call `onTagAttr()`\n          var isWhiteAttr = _.indexOf(whiteAttrList, name) !== -1;\n          var ret = onTagAttr(tag, name, value, isWhiteAttr);\n          if (!isNull(ret)) return ret;\n\n          if (isWhiteAttr) {\n            // call `safeAttrValue()`\n            value = safeAttrValue(tag, name, value, cssFilter);\n            if (value) {\n              return name + '=\"' + value + '\"';\n            } else {\n              return name;\n            }\n          } else {\n            // call `onIgnoreTagAttr()`\n            ret = onIgnoreTagAttr(tag, name, value, isWhiteAttr);\n            if (!isNull(ret)) return ret;\n            return;\n          }\n        });\n\n        // build new tag html\n        html = \"<\" + tag;\n        if (attrsHtml) html += \" \" + attrsHtml;\n        if (attrs.closing) html += \" /\";\n        html += \">\";\n        return html;\n      } else {\n        // call `onIgnoreTag()`\n        ret = onIgnoreTag(tag, html, info);\n        if (!isNull(ret)) return ret;\n        return escapeHtml(html);\n      }\n    },\n    escapeHtml\n  );\n\n  // if enable stripIgnoreTagBody\n  if (stripIgnoreTagBody) {\n    retHtml = stripIgnoreTagBody.remove(retHtml);\n  }\n\n  return retHtml;\n};\n\nmodule.exports = FilterXSS;\n","/**\n * xss\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar DEFAULT = require(\"./default\");\nvar parser = require(\"./parser\");\nvar FilterXSS = require(\"./xss\");\n\n/**\n * filter xss function\n *\n * @param {String} html\n * @param {Object} options { whiteList, onTag, onTagAttr, onIgnoreTag, onIgnoreTagAttr, safeAttrValue, escapeHtml }\n * @return {String}\n */\nfunction filterXSS(html, options) {\n  var xss = new FilterXSS(options);\n  return xss.process(html);\n}\n\nexports = module.exports = filterXSS;\nexports.filterXSS = filterXSS;\nexports.FilterXSS = FilterXSS;\n\n(function () {\n  for (var i in DEFAULT) {\n    exports[i] = DEFAULT[i];\n  }\n  for (var j in parser) {\n    exports[j] = parser[j];\n  }\n})();\n\n// using `xss` on the browser, output `filterXSS` to the globals\nif (typeof window !== \"undefined\") {\n  window.filterXSS = module.exports;\n}\n\n// using `xss` on the WebWorker, output `filterXSS` to the globals\nfunction isWorkerEnv() {\n  return (\n    typeof self !== \"undefined\" &&\n    typeof DedicatedWorkerGlobalScope !== \"undefined\" &&\n    self instanceof DedicatedWorkerGlobalScope\n  );\n}\nif (isWorkerEnv()) {\n  self.filterXSS = module.exports;\n}\n","import { IFilterXSSOptions } from 'xss'\n\n// PORTALS-1450: including 'style' in the allow-list will cause string values to come through, which crashes the app when used (because it uses jsx).\nexport const xssOptions: IFilterXSSOptions = {\n  whiteList: {\n    a: ['target', 'href', 'title', 'ref'],\n    abbr: ['title'],\n    address: [],\n    area: ['shape', 'coords', 'href', 'alt'],\n    article: [],\n    aside: [],\n    audio: ['autoplay', 'controls', 'loop', 'preload', 'src'],\n    b: [],\n    bdi: ['dir'],\n    bdo: ['dir'],\n    big: [],\n    blockquote: ['cite'],\n    body: [],\n    br: [],\n    button: ['class'],\n    caption: [],\n    center: [],\n    cite: [],\n    code: [],\n    col: ['align', 'valign', 'span', 'width'],\n    colgroup: ['align', 'valign', 'span', 'width'],\n    dd: [],\n    del: ['datetime'],\n    details: ['open'],\n    div: ['class'],\n    dl: [],\n    dt: [],\n    em: [],\n    font: ['color', 'size', 'face'],\n    footer: [],\n    g: [],\n    h1: ['toc'],\n    h2: ['toc'],\n    h3: ['toc'],\n    h4: ['toc'],\n    h5: ['toc'],\n    h6: ['toc'],\n    head: [],\n    header: [],\n    hr: [],\n    html: [],\n    i: [],\n    img: ['src', 'alt', 'title', 'width', 'height'],\n    ins: ['datetime'],\n    li: ['class'],\n    mark: [],\n    nav: [],\n    noscript: [],\n    ol: ['class'],\n    p: [],\n    pre: [],\n    s: [],\n    section: [],\n    small: [],\n    span: ['data-widgetparams', 'class', 'id'],\n    sub: [],\n    summary: [],\n    sup: [],\n    strong: [],\n    svg: [],\n    table: ['width', 'border', 'align', 'valign', 'class'],\n    tbody: ['align', 'valign'],\n    td: ['width', 'rowspan', 'colspan', 'align', 'valign'],\n    tfoot: ['align', 'valign'],\n    th: ['width', 'rowspan', 'colspan', 'align', 'valign', 'class'],\n    thead: ['class', 'align', 'valign'],\n    tr: ['rowspan', 'align', 'valign'],\n    tt: [],\n    u: [],\n    ul: ['class'],\n    video: [\n      'autoplay',\n      'controls',\n      'loop',\n      'preload',\n      'src',\n      'height',\n      'width',\n    ],\n  },\n  stripIgnoreTagBody: true, // filter out all tags not in the whitelist\n  allowCommentTag: false,\n  css: false,\n  onIgnoreTag: function (tag, html, options) {\n    if (tag === '!doctype') {\n      // do not filter doctype\n      return html\n    }\n    return undefined\n  },\n  safeAttrValue: function (tag, name, value) {\n    if (tag === 'img' && name === 'src') {\n      if (\n        value &&\n        (value.startsWith('data:image/') || value.startsWith('http'))\n      ) {\n        return value\n      } else {\n        return ''\n      }\n    } else {\n      return value\n    }\n  },\n}\n","import React from 'react'\nimport WideButton from '../../styled/WideButton'\n\nexport type ButtonLinkWidgetParams = {\n  align?: string\n  highlight?: string\n  url?: string\n  text?: string\n}\n\nexport default function MarkdownButton(\n  widgetParamsMapped: ButtonLinkWidgetParams,\n) {\n  let buttonClasses = ''\n  const { align = '', highlight: _highlight = '' } = widgetParamsMapped\n  const highlight = _highlight === 'true'\n  const alignLowerCase = align.toLowerCase()\n  if (alignLowerCase === 'left') {\n    buttonClasses += 'floatleft '\n  }\n  if (alignLowerCase === 'right') {\n    buttonClasses += 'floatright '\n  }\n  const buttonIsCenterAligned = alignLowerCase === 'center'\n  const buttonColor = highlight ? 'secondary' : 'neutral'\n  const button = (\n    <WideButton\n      href={widgetParamsMapped.url}\n      className={buttonClasses}\n      variant=\"contained\"\n      color={buttonColor}\n      sx={{\n        '&:hover': {\n          backgroundColor: highlight ? undefined : 'secondary.main',\n          color: 'white',\n        },\n        ...(!buttonIsCenterAligned &&\n          widgetParamsMapped.url && {\n            margin: '20px 20px 20px 0px',\n          }),\n      }}\n    >\n      {widgetParamsMapped.text}\n    </WideButton>\n  )\n\n  return buttonIsCenterAligned ? (\n    <div style={{ textAlign: 'center' }}>{button}</div>\n  ) : (\n    <span>{button}</span>\n  )\n}\n","import { QueryOptions, useQuery } from 'react-query'\nimport { getEntity } from '../../synapse-client/SynapseClient'\nimport { useSynapseContext } from '../context/SynapseContext'\nimport { Entity } from '@sage-bionetworks/synapse-types'\nimport { isLink } from '../types/IsType'\n\n/**\n * Follows a Synapse entity ID to the end of the chain of links\n * @param synId the ID of a Synapse entity that may be a link\n * @returns the ID of the entity at the end of the chain of links\n * @throws an error if a link is found that does not resolve, or if a cycle is found\n */\nexport async function resolveLinkEntity(\n  synId: string,\n  versionNumber?: number,\n  accessToken?: string,\n): Promise<Entity> {\n  // Track visited entities to prevent infinitely fetching a cycle of Links\n  const seen: Set<string> = new Set()\n  try {\n    let currentEntity = await getEntity(accessToken, synId, versionNumber)\n    while (isLink(currentEntity)) {\n      if (seen.has(currentEntity.id!)) {\n        throw new Error('Link forms a cycle.')\n      }\n      seen.add(currentEntity.id!)\n      currentEntity = await getEntity(\n        accessToken,\n        currentEntity.linksTo.targetId,\n        currentEntity.linksTo.targetVersionNumber,\n      )\n    }\n    return currentEntity\n  } catch (e) {\n    throw new Error(`${synId} could not be resolved.\\n${(e as Error).message}`)\n  }\n}\n\nexport function useResolveLinkEntity(\n  synId: string,\n  versionNumber?: number,\n  options?: QueryOptions<Entity>,\n) {\n  const { accessToken } = useSynapseContext()\n  return useQuery(\n    ['resolveLinkEntity', synId, versionNumber],\n    () => resolveLinkEntity(synId, versionNumber, accessToken),\n    options,\n  )\n}\n","import { useQuery, UseQueryOptions } from 'react-query'\nimport SynapseClient from '../../synapse-client'\nimport { SynapseClientError } from '../../utils/SynapseClientError'\nimport { useSynapseContext } from '../../utils/context/SynapseContext'\nimport {\n  ALL_ENTITY_BUNDLE_FIELDS,\n  EntityBundle,\n  EntityBundleRequest,\n} from '@sage-bionetworks/synapse-types'\n\nexport function useGetEntityBundle<\n  T extends EntityBundleRequest = typeof ALL_ENTITY_BUNDLE_FIELDS,\n>(\n  entityId: string,\n  version?: number,\n  bundleRequest: T = ALL_ENTITY_BUNDLE_FIELDS as T,\n  options?: UseQueryOptions<EntityBundle<T>, SynapseClientError>,\n) {\n  const { accessToken, keyFactory } = useSynapseContext()\n  return useQuery<EntityBundle<T>, SynapseClientError>(\n    keyFactory.getEntityBundleQueryKey(entityId, version, bundleRequest),\n    () =>\n      SynapseClient.getEntityBundleV2<T>(\n        entityId,\n        bundleRequest,\n        version,\n        accessToken,\n      ),\n    options,\n  )\n}\n\nexport default useGetEntityBundle\n","import React, { useMemo, useEffect, useState, useRef } from 'react'\nimport xss from 'xss'\nimport { xssOptions } from '../../../utils/functions/SanitizeHtmlUtils'\nimport { useGetIsUserMemberOfTeam } from '../../../synapse-queries/team/useTeamMembers'\nimport { TRUSTED_HTML_USERS_TEAM_ID } from '../../../utils/SynapseConstants'\nimport { SynapseSpinner } from '../../LoadingScreen'\nimport { Alert } from '@mui/material'\n\n/**\n * @param options\n * @returns HTML that is cleaned if it is not trusted. undefined if `isLoading` is true.\n */\nfunction useCleanHtml(options: {\n  rawHtml: string\n  isLoading: boolean\n  isTrusted: boolean\n}): string | undefined {\n  const { rawHtml, isLoading, isTrusted } = options\n  return useMemo(() => {\n    if (isLoading) {\n      return undefined\n    }\n    if (isTrusted) {\n      return rawHtml\n    } else {\n      return xss(rawHtml, xssOptions)\n    }\n  }, [isLoading, isTrusted, rawHtml])\n}\n\nexport type HtmlPreviewProps = {\n  createdByUserId: string\n  rawHtml: string\n}\n\n/**\n * Renders raw HTML. Uses file handle data to determine if the content should be sanitized.\n * @param props\n * @returns\n */\nexport default function HtmlPreview(props: HtmlPreviewProps) {\n  const { createdByUserId, rawHtml } = props\n  const frameEl = useRef(null)\n  const [frameHeight, setFrameHeight] = useState(100)\n\n  const { data: teamMembership, isLoading } = useGetIsUserMemberOfTeam(\n    TRUSTED_HTML_USERS_TEAM_ID,\n    createdByUserId,\n  )\n  const updateHeight = () => {\n    if (frameEl?.current && frameEl?.current['contentWindow']) {\n      let newHeightPx: number =\n        frameEl.current['contentWindow']['document']['body']['scrollHeight']\n      if (newHeightPx < 450) {\n        newHeightPx = 450\n      }\n      if (!frameHeight || Math.abs(newHeightPx - frameHeight) > 70) {\n        setFrameHeight(newHeightPx + 50)\n      }\n    }\n  }\n  useEffect(() => {\n    setInterval(() => {\n      updateHeight()\n    }, 500)\n  }, [rawHtml])\n  const htmlIsCreatedByTrustedUser = !!teamMembership\n\n  const cleanHtml = useCleanHtml({\n    rawHtml,\n    isLoading,\n    isTrusted: htmlIsCreatedByTrustedUser,\n  })\n\n  if (isLoading) {\n    return <SynapseSpinner />\n  }\n\n  return (\n    <>\n      {rawHtml !== cleanHtml && (\n        <Alert severity=\"info\" sx={{ marginBottom: '20px' }}>\n          Limited rendering only.\n        </Alert>\n      )}\n      <iframe\n        ref={frameEl}\n        srcDoc={cleanHtml}\n        height={`${frameHeight}px`}\n        style={{ border: 0, width: '100%' }}\n      />\n    </>\n  )\n}\n\nexport const EXPORTED_FOR_UNIT_TESTING = {\n  useCleanHtml,\n}\n","// Note: The PreviewRendererType is copied from SWC's PreviewWidget.PreviewFileType\n// Not all of these are supported by SRC, but we do need to support all of them for preview widget feature parity\n\n/**\n * Types of files that can be previewed. The PreviewFileType of a file handle can be determined based on its MIME type.\n * Each value corresponds to a particular renderer.\n */\nexport enum PreviewRendererType {\n  PLAINTEXT = 'PLAINTEXT',\n  CODE = 'CODE',\n  ZIP = 'ZIP',\n  CSV = 'CSV',\n  IMAGE = 'IMAGE',\n  NONE = 'NONE',\n  TAB = 'TAB',\n  HTML = 'HTML',\n  PDF = 'PDF',\n  IPYNB = 'IPYNB',\n  VIDEO = 'VIDEO',\n  MARKDOWN = 'MARKDOWN',\n  TIFF = 'TIFF',\n}\n","import React from 'react'\nimport { useGetPresignedUrlContent } from '../../synapse-queries/file/useFiles'\nimport { MB } from '../../utils/SynapseConstants'\nimport {\n  FileHandle,\n  FileHandleAssociation,\n  BatchFileRequest,\n} from '@sage-bionetworks/synapse-types'\nimport { SynapseSpinner } from '../LoadingScreen'\nimport HtmlPreview from './HtmlPreview/HtmlPreview'\nimport { PreviewRendererType } from './PreviewRendererType'\n\nconst MAX_FILE_SIZE = 30 * MB\n\nexport type FileHandleContentRendererProps = {\n  /** The file handle whose contents should be downloaded and rendered */\n  fileHandle: FileHandle\n  /** The association between the file handle and an object which will give the user permission to access the file data */\n  fileHandleAssociation: FileHandleAssociation\n  /** Informs how to render the file data */\n  previewType: PreviewRendererType\n}\n\n/**\n * Fetches the content for and renders the contents of a file handle.\n * @param props\n * @returns\n */\nexport default function FileHandleContentRenderer(\n  props: FileHandleContentRendererProps,\n) {\n  const { fileHandle, fileHandleAssociation, previewType } = props\n\n  const batchFileRequest: BatchFileRequest = {\n    requestedFiles: [fileHandleAssociation],\n    includePreSignedURLs: true,\n    includeFileHandles: false,\n    includePreviewPreSignedURLs: false,\n  }\n\n  const { data: content, isLoading } = useGetPresignedUrlContent(\n    fileHandle,\n    batchFileRequest,\n    MAX_FILE_SIZE,\n    { useErrorBoundary: true },\n  )\n\n  if (isLoading) {\n    return <SynapseSpinner />\n  }\n  if (previewType === PreviewRendererType.HTML) {\n    return (\n      <HtmlPreview rawHtml={content!} createdByUserId={fileHandle.createdBy} />\n    )\n  } else {\n    if (previewType !== PreviewRendererType.NONE) {\n      console.warn(\n        `Rendering a preview of type ${previewType} is not supported in Portals`,\n      )\n    }\n    return <></>\n  }\n}\n","import { FileHandle } from '@sage-bionetworks/synapse-types'\nimport { PreviewRendererType } from './PreviewRendererType'\nimport { implementsCloudProviderFileHandleInterface } from '../../utils/types/IsType'\n\nexport const IMAGE_CONTENT_TYPES = [\n  'image/bmp',\n  'image/pjpeg',\n  'image/jpeg',\n  'image/jpg',\n  'image/jpe',\n  'image/gif',\n  'image/png',\n  'image/svg+xml',\n]\nconst MP4_EXTENSIONS = ['.mp4', '.m4a', '.m4p', '.m4b', '.m4r', '.m4v']\nconst OGG_EXTENSIONS = ['.ogv', '.ogg']\nexport const VIDEO_EXTENSIONS = [...MP4_EXTENSIONS, ...OGG_EXTENSIONS, '.webm']\nexport const CODE_EXTENSIONS = [\n  '.cwl',\n  '.wdl',\n  '.json',\n  '.awk',\n  '.bat',\n  '.btm',\n  '.c',\n  '.cmd',\n  '.cpp',\n  '.cxx',\n  '.def',\n  '.dlg',\n  '.dpc',\n  '.dpj',\n  '.dtd',\n  '.h',\n  '.hdl',\n  '.hpp',\n  '.hrc',\n  '.html',\n  '.hxx',\n  '.inc',\n  '.ini',\n  '.inl',\n  '.ins',\n  '.ipy',\n  '.java',\n  '.js',\n  '.jsp',\n  '.l',\n  '.lgt',\n  '.ll',\n  '.par',\n  '.pl',\n  '.py',\n  '.r',\n  '.rc',\n  '.rdb',\n  '.res',\n  '.s',\n  '.sbl',\n  '.scp',\n  '.sh',\n  '.sql',\n  '.src',\n  '.srs',\n  '.xml',\n  '.xrb',\n  '.y',\n  '.yaml',\n  '.yxx',\n]\nexport const MARKDOWN_EXTENSIONS = ['.md', '.markdown', '.rmd']\n\nfunction getFileExtension(fileName: string): string | null {\n  const index = fileName.lastIndexOf('.')\n  if (index === -1) {\n    return null\n  }\n  return fileName.substring(index)\n}\n\n/**\n * Given a file handle that represents a link to original data, return the type of renderer that we could use to\n * display the file contents in the browser.\n *\n * @returns the PreviewRendererType that would be used to render the file contents, or NONE if the file cannot be rendered\n */\nexport function getOriginalFileHandleRenderer(\n  dataFileHandle: FileHandle,\n): PreviewRendererType {\n  if (!implementsCloudProviderFileHandleInterface(dataFileHandle)) {\n    return PreviewRendererType.NONE\n  }\n\n  const fileExtension = getFileExtension(dataFileHandle.fileName)\n\n  if (fileExtension && VIDEO_EXTENSIONS.includes(fileExtension)) {\n    return PreviewRendererType.VIDEO\n  }\n\n  if (fileExtension === '.ipynb') {\n    return PreviewRendererType.IPYNB\n  }\n\n  if (IMAGE_CONTENT_TYPES.includes(dataFileHandle.contentType)) {\n    return PreviewRendererType.IMAGE\n  }\n\n  if (dataFileHandle.contentType === 'text/html') {\n    return PreviewRendererType.HTML\n  }\n\n  if (dataFileHandle.contentType.toLowerCase().startsWith('application/pdf')) {\n    return PreviewRendererType.PDF\n  }\n\n  if (fileExtension && CODE_EXTENSIONS.includes(fileExtension)) {\n    return PreviewRendererType.CODE\n  }\n\n  if (fileExtension && MARKDOWN_EXTENSIONS.includes(fileExtension)) {\n    return PreviewRendererType.MARKDOWN\n  }\n\n  if (dataFileHandle.contentType === 'image/tiff') {\n    return PreviewRendererType.TIFF\n  }\n\n  return PreviewRendererType.NONE\n}\n\n/**\n * Given a file handle that represents a preview of original data (which is generated by Synapse), return the type of renderer that we could use to\n * display the preview file contents in the browser.\n *\n * @param previewFileHandle the file handle that represents a preview of original data\n * @param originalFileHandle the file handle that represents the original data that the preview captures.\n * @returns the PreviewRendererType that would be used to render the preview file contents, or NONE if the file cannot be rendered\n */\nexport function getPreviewFileHandleRenderer(\n  previewFileHandle: FileHandle,\n  originalFileHandle: FileHandle,\n): PreviewRendererType {\n  const contentType = previewFileHandle.contentType\n  if (!implementsCloudProviderFileHandleInterface(previewFileHandle)) {\n    return PreviewRendererType.NONE\n  }\n  if (IMAGE_CONTENT_TYPES.includes(previewFileHandle.contentType)) {\n    return PreviewRendererType.IMAGE\n  }\n\n  if (contentType.toLowerCase().startsWith('text/')) {\n    if (contentType.toLowerCase() === 'text/csv') {\n      if (originalFileHandle.contentType === 'application/zip') {\n        return PreviewRendererType.ZIP\n      } else {\n        return PreviewRendererType.CSV\n      }\n    } else if (contentType.toLowerCase() === 'text/tab-separated-values') {\n      return PreviewRendererType.TAB\n    } else {\n      return PreviewRendererType.PLAINTEXT\n    }\n  }\n\n  if (contentType.toLowerCase().startsWith('application/pdf')) {\n    return PreviewRendererType.PDF\n  }\n\n  return PreviewRendererType.NONE\n}\n","import React from 'react'\nimport {\n  EntityBundle,\n  FileHandleAssociateType,\n} from '@sage-bionetworks/synapse-types'\nimport FileHandleContentRenderer from './FileHandleContentRenderer'\nimport { PreviewRendererType } from './PreviewRendererType'\nimport {\n  getOriginalFileHandleRenderer,\n  getPreviewFileHandleRenderer,\n} from './PreviewUtils'\nimport { useSynapseContext } from '../../utils/context/SynapseContext'\nimport { Alert } from '@mui/material'\nimport { SignInPrompt } from '../error/ErrorBanner'\nimport {\n  implementsCloudProviderFileHandleInterface,\n  isFileEntity,\n} from '../../utils/types/IsType'\n\nexport type FileEntityPreviewProps = {\n  /** An entity bundle containing a FileEntity, and its fileHandles */\n  bundle: EntityBundle\n}\n\n/**\n * Given an entity bundle that contains a FileEntity, render a preview of the file. The rendered preview will be determined based on the\n * content type and file name of the file handle(s) associated with the FileEntity.\n * @param props\n */\nexport default function FileEntityPreview(props: FileEntityPreviewProps) {\n  const { bundle } = props\n  const { accessToken } = useSynapseContext()\n  const isLoggedIn = !!accessToken\n\n  if (!isFileEntity(bundle.entity)) {\n    throw new Error(`Entity ${bundle.entity.id!} is not a FileEntity`)\n  }\n\n  /**\n   * The dataFileHandle and the previewFileHandle may not have the same contentType.\n   *\n   * For example, ZIP files are assigned a CSV preview listing the ZIP file contents.\n   */\n  const dataFileHandleId = bundle.entity.dataFileHandleId\n  const dataFileHandle = bundle.fileHandles.find(\n    fh => fh.id === dataFileHandleId,\n  )\n\n  if (!dataFileHandle && !isLoggedIn) {\n    // We may be previewing a file handle that the anonymous user cannot see. Prompt the user to log in.\n    return (\n      <Alert severity={'error'}>\n        <SignInPrompt />\n      </Alert>\n    )\n  }\n\n  // If we can render the original file, do so:\n  if (dataFileHandle) {\n    const previewType = getOriginalFileHandleRenderer(dataFileHandle)\n    if (previewType !== PreviewRendererType.NONE) {\n      return (\n        <FileHandleContentRenderer\n          fileHandle={dataFileHandle}\n          fileHandleAssociation={{\n            fileHandleId: dataFileHandleId,\n            associateObjectId: bundle.entity.id!,\n            associateObjectType: FileHandleAssociateType.FileEntity,\n          }}\n          previewType={previewType}\n        />\n      )\n    }\n  }\n\n  // Otherwise, see if we can render the preview file handle that Synapse created\n  const previewFileHandle = bundle.fileHandles.find(\n    fh => implementsCloudProviderFileHandleInterface(fh) && fh.isPreview,\n  )\n\n  if (previewFileHandle && dataFileHandle) {\n    const previewType = getPreviewFileHandleRenderer(\n      previewFileHandle,\n      dataFileHandle,\n    )\n    if (previewType !== PreviewRendererType.NONE) {\n      return (\n        <FileHandleContentRenderer\n          fileHandle={previewFileHandle}\n          fileHandleAssociation={{\n            fileHandleId: previewFileHandle.id,\n            associateObjectId: bundle.entity.id!,\n            associateObjectType: FileHandleAssociateType.FileEntity,\n          }}\n          previewType={previewType}\n        />\n      )\n    }\n  }\n\n  // We can't render the file, so throw an Error so the ErrorBoundary will show an alert.\n  throw new Error(`Could not render a preview for entity: ${bundle.entity.id!}`)\n}\n","import React from 'react'\nimport { useResolveLinkEntity } from '../../utils/functions/ResolveLinkEntity'\nimport useGetEntityBundle from '../../synapse-queries/entity/useEntityBundle'\nimport {\n  ALL_ENTITY_BUNDLE_FIELDS,\n  FileEntity,\n} from '@sage-bionetworks/synapse-types'\nimport { SynapseSpinner } from '../LoadingScreen'\nimport FileEntityPreview from './FileEntityPreview'\nimport { isFileEntity } from '../../utils/types/IsType'\n\nexport type EntityPreviewProps = {\n  entityId: string\n  versionNumber?: number\n}\n\n/**\n * Returns a preview of an entity. Currently only works for FileEntities, and Links that resolve to FileEntities.\n * @param props\n * @returns\n */\nexport default function EntityPreview(props: EntityPreviewProps) {\n  const { entityId, versionNumber } = props\n\n  // If the entity is a Link, follow it until we get a non-link\n  const { data: resolvedLink, isLoading: isLoadingLinkResolution } =\n    useResolveLinkEntity(entityId, versionNumber)\n  const isResolvedLinkFileEntity = resolvedLink && isFileEntity(resolvedLink)\n\n  const { data: bundle, isLoading: isLoadingBundle } = useGetEntityBundle(\n    resolvedLink?.id!,\n    (resolvedLink as FileEntity | undefined)?.versionNumber,\n    ALL_ENTITY_BUNDLE_FIELDS,\n    {\n      enabled: !!isResolvedLinkFileEntity,\n      useErrorBoundary: true,\n    },\n  )\n\n  const isLoading = isLoadingLinkResolution || isLoadingBundle\n\n  if (isLoading) {\n    return <SynapseSpinner />\n  }\n\n  // If the entity is NOT a FileEntity, throw an error\n  if (!isResolvedLinkFileEntity) {\n    throw new Error(`${entityId} is not a File and cannot be previewed.`)\n  } else {\n    return <FileEntityPreview bundle={bundle!} />\n  }\n}\n","import React from 'react'\nimport EntityPreview from '../../FilePreview/EntityPreview'\nimport { parseSynId } from '../../../utils/functions/RegularExpressions'\n\nexport type MarkdownEntityPreviewProps = {\n  /** A Synapse Entity ID that may optionally contain a \"dot\" version, e.g. syn123 or syn123.2 */\n  entityId: string\n  /** An optional Entity version number. */\n  versionNumber?: string\n}\n\nexport default function MarkdownEntityPreview(\n  props: MarkdownEntityPreviewProps,\n) {\n  const parsedReference = parseSynId(props.entityId)\n  if (parsedReference == null) {\n    throw new Error(`${props.entityId} is not a valid Synapse ID`)\n  }\n  const parsedVersionNumber = parseInt(props.versionNumber ?? '')\n\n  const entityId = parsedReference.targetId\n  const versionNumber = Number.isNaN(parsedVersionNumber)\n    ? parsedReference.targetVersionNumber\n    : parsedVersionNumber\n\n  return <EntityPreview entityId={entityId} versionNumber={versionNumber} />\n}\n","import { useInfiniteQuery, UseInfiniteQueryOptions } from 'react-query'\nimport SynapseClient from '../../synapse-client'\nimport { SynapseClientError } from '../../utils/SynapseClientError'\nimport { useSynapseContext } from '../../utils/context/SynapseContext'\nimport {\n  SubmissionInfoPage,\n  SubmissionInfoPageRequest,\n} from '@sage-bionetworks/synapse-types'\n\nexport function useGetApprovedSubmissionInfoInfinite(\n  accessRequirementId: string,\n  options?: UseInfiniteQueryOptions<\n    SubmissionInfoPage,\n    SynapseClientError,\n    SubmissionInfoPage\n  >,\n) {\n  const { accessToken, keyFactory } = useSynapseContext()\n  const request: SubmissionInfoPageRequest = {\n    accessRequirementId,\n  }\n  return useInfiniteQuery<SubmissionInfoPage, SynapseClientError>(\n    keyFactory.getApprovedSubmissionInfoQueryKey(request),\n    async context => {\n      return await SynapseClient.getApprovedSubmissionInfo(\n        { ...request, nextPageToken: context.pageParam },\n        accessToken,\n      )\n    },\n    {\n      ...options,\n      getNextPageParam: page => page.nextPageToken,\n    },\n  )\n}\n","import React from 'react'\nimport { Skeleton } from '@mui/material'\nimport { SubmissionInfo } from '@sage-bionetworks/synapse-types'\nimport { SMALL_USER_CARD } from '../utils/SynapseConstants'\nimport UserCard from './UserCard/UserCard'\nimport { formatDate } from '../utils/functions/DateFormatter'\nimport dayjs from 'dayjs'\nimport { SkeletonTable } from './Skeleton/SkeletonTable'\nimport MarkdownSynapse from './Markdown/MarkdownSynapse'\n\nexport type SubmissionInfoCardProps = {\n  info: SubmissionInfo\n}\n\nexport const SubmissionInfoCard: React.FunctionComponent<\n  SubmissionInfoCardProps\n> = ({ info }: SubmissionInfoCardProps) => {\n  return (\n    <>\n      {info && (\n        <p className=\"SubmissionInfoCard\">\n          <strong> Project Lead: </strong> <span>{info.projectLead}</span>{' '}\n          <br />\n          <strong> Institution: </strong> <span>{info.institution}</span> <br />\n          <strong> Data Access Request Submitted By: </strong>{' '}\n          <UserCard ownerId={info.submittedBy} size={SMALL_USER_CARD} /> <br />\n          <strong>\n            {' '}\n            Intended Data Use Statement &#40;accepted on{' '}\n            {formatDate(dayjs(info.modifiedOn), 'M/D/YYYY')}&#41;:\n          </strong>\n          <MarkdownSynapse markdown={info.intendedDataUseStatement} />\n          {info.accessorChanges &&\n            info.accessorChanges.map(accessorChange => (\n              <div key={`${accessorChange.userId}-${accessorChange.type}`}>\n                <UserCard\n                  ownerId={accessorChange.userId}\n                  size={SMALL_USER_CARD}\n                />{' '}\n                {accessorChange.type}\n              </div>\n            ))}\n        </p>\n      )}\n    </>\n  )\n}\n\nexport const LoadingSubmissionInfoCard: React.FunctionComponent = () => {\n  return (\n    <p className=\"SubmissionInfoCard\">\n      <SkeletonTable numCols={1} numRows={4} />\n      <Skeleton variant=\"rectangular\" width={'100%'} height={80} />\n    </p>\n  )\n}\n","import React, { useEffect } from 'react'\nimport { useInView } from 'react-intersection-observer'\nimport { useGetApprovedSubmissionInfoInfinite } from '../synapse-queries/dataaccess/useGetApprovedSubmissionInfo'\nimport { SubmissionInfo } from '@sage-bionetworks/synapse-types'\nimport {\n  LoadingSubmissionInfoCard,\n  SubmissionInfoCard,\n} from './IDUReportSubmissionInfo'\n\nexport type IDUReportProps = {\n  accessRequirementId: string\n}\n\nexport const IDUReport: React.FunctionComponent<IDUReportProps> = (\n  props: IDUReportProps,\n) => {\n  const { accessRequirementId } = props\n  // Load the next page when this ref comes into view.\n  const { ref, inView } = useInView()\n\n  const {\n    data,\n    status,\n    isLoading,\n    hasNextPage,\n    isFetchingNextPage,\n    fetchNextPage,\n  } = useGetApprovedSubmissionInfoInfinite(accessRequirementId, {\n    useErrorBoundary: true,\n  })\n  useEffect(() => {\n    if (\n      status === 'success' &&\n      !isFetchingNextPage &&\n      hasNextPage &&\n      fetchNextPage &&\n      inView\n    ) {\n      fetchNextPage()\n    }\n  }, [status, hasNextPage, isFetchingNextPage, fetchNextPage, inView])\n\n  const allRows = data?.pages.flatMap(page => page.results) ?? []\n\n  return (\n    <>\n      {allRows.length > 0 && (\n        <div className=\"IDUReport\">\n          {allRows.map((item: SubmissionInfo) => {\n            return (\n              <React.Fragment key={JSON.stringify(item)}>\n                <SubmissionInfoCard info={item} />\n                <hr />\n              </React.Fragment>\n            )\n          })}\n          {/* To trigger loading the next page */}\n          <div ref={ref} />\n        </div>\n      )}\n      {(isLoading || isFetchingNextPage) && (\n        <>\n          <LoadingSubmissionInfoCard />\n          <LoadingSubmissionInfoCard />\n        </>\n      )}\n    </>\n  )\n}\nexport default IDUReport\n","import React from 'react'\nimport IDUReport from '../../IDUReport'\n\nexport type MarkdownIDUReportProps = {\n  accessRestrictionId: string\n}\n\nexport default function MarkdownIDUReport(props: MarkdownIDUReportProps) {\n  const { accessRestrictionId } = props\n  return <IDUReport accessRequirementId={accessRestrictionId} />\n}\n","export default function cc(names) {\n  if (typeof names === \"string\" || typeof names === \"number\") return \"\" + names\n\n  let out = \"\"\n\n  if (Array.isArray(names)) {\n    for (let i = 0, tmp; i < names.length; i++) {\n      if ((tmp = cc(names[i])) !== \"\") {\n        out += (out && \" \") + tmp\n      }\n    }\n  } else {\n    for (let k in names) {\n      if (names[k]) out += (out && \" \") + k\n    }\n  }\n\n  return out\n}\n","const createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (!Object.is(nextState, state)) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\") ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const destroy = () => {\n    if ((import.meta.env && import.meta.env.MODE) !== \"production\") {\n      console.warn(\n        \"[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected.\"\n      );\n    }\n    listeners.clear();\n  };\n  const api = { setState, getState, subscribe, destroy };\n  state = createState(setState, getState, api);\n  return api;\n};\nconst createStore = (createState) => createState ? createStoreImpl(createState) : createStoreImpl;\nvar vanilla = (createState) => {\n  if ((import.meta.env && import.meta.env.MODE) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use import { createStore } from 'zustand/vanilla'.\"\n    );\n  }\n  return createStore(createState);\n};\n\nexport { createStore, vanilla as default };\n","/**\n * @license React\n * use-sync-external-store-shim.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var e=require(\"react\");function h(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var k=\"function\"===typeof Object.is?Object.is:h,l=e.useState,m=e.useEffect,n=e.useLayoutEffect,p=e.useDebugValue;function q(a,b){var d=b(),f=l({inst:{value:d,getSnapshot:b}}),c=f[0].inst,g=f[1];n(function(){c.value=d;c.getSnapshot=b;r(c)&&g({inst:c})},[a,d,b]);m(function(){r(c)&&g({inst:c});return a(function(){r(c)&&g({inst:c})})},[a]);p(d);return d}\nfunction r(a){var b=a.getSnapshot;a=a.value;try{var d=b();return!k(a,d)}catch(f){return!0}}function t(a,b){return b()}var u=\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement?t:q;exports.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:u;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.min.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n","/**\n * @license React\n * use-sync-external-store-shim/with-selector.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var h=require(\"react\"),n=require(\"use-sync-external-store/shim\");function p(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var q=\"function\"===typeof Object.is?Object.is:p,r=n.useSyncExternalStore,t=h.useRef,u=h.useEffect,v=h.useMemo,w=h.useDebugValue;\nexports.useSyncExternalStoreWithSelector=function(a,b,e,l,g){var c=t(null);if(null===c.current){var f={hasValue:!1,value:null};c.current=f}else f=c.current;c=v(function(){function a(a){if(!c){c=!0;d=a;a=l(a);if(void 0!==g&&f.hasValue){var b=f.value;if(g(b,a))return k=b}return k=a}b=k;if(q(d,a))return b;var e=l(a);if(void 0!==g&&g(b,e))return b;d=a;return k=e}var c=!1,d,k,m=void 0===e?null:e;return[function(){return a(b())},null===m?void 0:function(){return a(m())}]},[b,e,l,g]);var d=r(a,c[0],c[1]);\nu(function(){f.hasValue=!0;f.value=d},[d]);w(d);return d};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.production.min.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.development.js');\n}\n","import { createStore } from 'zustand/vanilla';\nexport * from 'zustand/vanilla';\nimport { useDebugValue } from 'react';\nimport useSyncExternalStoreExports from 'use-sync-external-store/shim/with-selector.js';\n\nconst { useSyncExternalStoreWithSelector } = useSyncExternalStoreExports;\nfunction useStore(api, selector = api.getState, equalityFn) {\n  const slice = useSyncExternalStoreWithSelector(\n    api.subscribe,\n    api.getState,\n    api.getServerState || api.getState,\n    selector,\n    equalityFn\n  );\n  useDebugValue(slice);\n  return slice;\n}\nconst createImpl = (createState) => {\n  if ((import.meta.env && import.meta.env.MODE) !== \"production\" && typeof createState !== \"function\") {\n    console.warn(\n      \"[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.\"\n    );\n  }\n  const api = typeof createState === \"function\" ? createStore(createState) : createState;\n  const useBoundStore = (selector, equalityFn) => useStore(api, selector, equalityFn);\n  Object.assign(useBoundStore, api);\n  return useBoundStore;\n};\nconst create = (createState) => createState ? createImpl(createState) : createImpl;\nvar react = (createState) => {\n  if ((import.meta.env && import.meta.env.MODE) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`.\"\n    );\n  }\n  return create(createState);\n};\n\nexport { create, react as default, useStore };\n","function shallow(objA, objB) {\n  if (Object.is(objA, objB)) {\n    return true;\n  }\n  if (typeof objA !== \"object\" || objA === null || typeof objB !== \"object\" || objB === null) {\n    return false;\n  }\n  if (objA instanceof Map && objB instanceof Map) {\n    if (objA.size !== objB.size)\n      return false;\n    for (const [key, value] of objA) {\n      if (!Object.is(value, objB.get(key))) {\n        return false;\n      }\n    }\n    return true;\n  }\n  if (objA instanceof Set && objB instanceof Set) {\n    if (objA.size !== objB.size)\n      return false;\n    for (const value of objA) {\n      if (!objB.has(value)) {\n        return false;\n      }\n    }\n    return true;\n  }\n  const keysA = Object.keys(objA);\n  if (keysA.length !== Object.keys(objB).length) {\n    return false;\n  }\n  for (let i = 0; i < keysA.length; i++) {\n    if (!Object.prototype.hasOwnProperty.call(objB, keysA[i]) || !Object.is(objA[keysA[i]], objB[keysA[i]])) {\n      return false;\n    }\n  }\n  return true;\n}\nvar shallow$1 = (objA, objB) => {\n  if ((import.meta.env && import.meta.env.MODE) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use `import { shallow } from 'zustand/shallow'`.\"\n    );\n  }\n  return shallow(objA, objB);\n};\n\nexport { shallow$1 as default, shallow };\n","var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces.js\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name; // eslint-disable-line no-prototype-builtins\n}\n","import namespace from \"./namespace.js\";\nimport {xhtml} from \"./namespaces.js\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","import {Selection} from \"./index.js\";\nimport selector from \"../selector.js\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","// Given something array like (or null), returns something that is strictly an\n// array. This is used to ensure that array-like objects passed to d3.selectAll\n// or selection.selectAll are converted into proper arrays when creating a\n// selection; we don’t ever want to create a selection backed by a live\n// HTMLCollection or NodeList. However, note that selection.selectAll will use a\n// static NodeList as a group, since it safely derived from querySelectorAll.\nexport default function array(x) {\n  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import {Selection} from \"./index.js\";\nimport array from \"../array.js\";\nimport selectorAll from \"../selectorAll.js\";\n\nfunction arrayAll(select) {\n  return function() {\n    return array(select.apply(this, arguments));\n  };\n}\n\nexport default function(select) {\n  if (typeof select === \"function\") select = arrayAll(select);\n  else select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n\nexport function childMatcher(selector) {\n  return function(node) {\n    return node.matches(selector);\n  };\n}\n\n","import {childMatcher} from \"../matcher.js\";\n\nvar find = Array.prototype.find;\n\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\n\nfunction childFirst() {\n  return this.firstElementChild;\n}\n\nexport default function(match) {\n  return this.select(match == null ? childFirst\n      : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {childMatcher} from \"../matcher.js\";\n\nvar filter = Array.prototype.filter;\n\nfunction children() {\n  return Array.from(this.children);\n}\n\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\n\nexport default function(match) {\n  return this.selectAll(match == null ? children\n      : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {Selection} from \"./index.js\";\nimport matcher from \"../matcher.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {Selection} from \"./index.js\";\nimport {EnterNode} from \"./enter.js\";\nimport constant from \"../constant.js\";\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = new Map,\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue.get(keyValues[i]) === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction datum(node) {\n  return node.__data__;\n}\n\nexport default function(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = arraylike(value.call(parent, parent && parent.__data__, j, parents)),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n\n// Given some data, this returns an array-like view of it: an object that\n// exposes a length property and allows numeric indexing. Note that unlike\n// selectAll, this isn’t worried about “live” collections because the resulting\n// array will only be used briefly while data is being bound. (It is possible to\n// cause the data to change while iterating by using a key function, but please\n// don’t; we’d rather avoid a gratuitous copy.)\nfunction arraylike(data) {\n  return typeof data === \"object\" && \"length\" in data\n    ? data // Array, TypedArray, NodeList, array-like\n    : Array.from(data); // Map, Set, iterable, string, or anything else\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  if (typeof onenter === \"function\") {\n    enter = onenter(enter);\n    if (enter) enter = enter.selection();\n  } else {\n    enter = enter.append(onenter + \"\");\n  }\n  if (onupdate != null) {\n    update = onupdate(update);\n    if (update) update = update.selection();\n  }\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(context) {\n  var selection = context.selection ? context.selection() : context;\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  let size = 0;\n  for (const node of this) ++size; // eslint-disable-line no-unused-vars\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import namespace from \"../namespace.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window.js\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator.js\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","import creator from \"../creator.js\";\nimport selector from \"../selector.js\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","function contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, options: options};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}\n","import defaultView from \"../window.js\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","export default function*() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}\n","import selection_select from \"./select.js\";\nimport selection_selectAll from \"./selectAll.js\";\nimport selection_selectChild from \"./selectChild.js\";\nimport selection_selectChildren from \"./selectChildren.js\";\nimport selection_filter from \"./filter.js\";\nimport selection_data from \"./data.js\";\nimport selection_enter from \"./enter.js\";\nimport selection_exit from \"./exit.js\";\nimport selection_join from \"./join.js\";\nimport selection_merge from \"./merge.js\";\nimport selection_order from \"./order.js\";\nimport selection_sort from \"./sort.js\";\nimport selection_call from \"./call.js\";\nimport selection_nodes from \"./nodes.js\";\nimport selection_node from \"./node.js\";\nimport selection_size from \"./size.js\";\nimport selection_empty from \"./empty.js\";\nimport selection_each from \"./each.js\";\nimport selection_attr from \"./attr.js\";\nimport selection_style from \"./style.js\";\nimport selection_property from \"./property.js\";\nimport selection_classed from \"./classed.js\";\nimport selection_text from \"./text.js\";\nimport selection_html from \"./html.js\";\nimport selection_raise from \"./raise.js\";\nimport selection_lower from \"./lower.js\";\nimport selection_append from \"./append.js\";\nimport selection_insert from \"./insert.js\";\nimport selection_remove from \"./remove.js\";\nimport selection_clone from \"./clone.js\";\nimport selection_datum from \"./datum.js\";\nimport selection_on from \"./on.js\";\nimport selection_dispatch from \"./dispatch.js\";\nimport selection_iterator from \"./iterator.js\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nfunction selection_selection() {\n  return this;\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\n\nexport default selection;\n","import {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","export default function(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\n","import sourceEvent from \"./sourceEvent.js\";\n\nexport default function(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\n","// These are typically used in conjunction with noevent to ensure that we can\n// preventDefault on the event.\nexport const nonpassive = {passive: false};\nexport const nonpassivecapture = {capture: true, passive: false};\n\nexport function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {select} from \"d3-selection\";\nimport noevent, {nonpassivecapture} from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, nonpassivecapture);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, nonpassivecapture);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, nonpassivecapture);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","export default x => () => x;\n","export default function DragEvent(type, {\n  sourceEvent,\n  subject,\n  target,\n  identifier,\n  active,\n  x, y, dx, dy,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    subject: {value: subject, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    identifier: {value: identifier, enumerable: true, configurable: true},\n    active: {value: active, enumerable: true, configurable: true},\n    x: {value: x, enumerable: true, configurable: true},\n    y: {value: y, enumerable: true, configurable: true},\n    dx: {value: dx, enumerable: true, configurable: true},\n    dy: {value: dy, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\n","import {dispatch} from \"d3-dispatch\";\nimport {select, pointer} from \"d3-selection\";\nimport nodrag, {yesdrag} from \"./nodrag.js\";\nimport noevent, {nonpassive, nonpassivecapture, nopropagation} from \"./noevent.js\";\nimport constant from \"./constant.js\";\nimport DragEvent from \"./event.js\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultContainer() {\n  return this.parentNode;\n}\n\nfunction defaultSubject(event, d) {\n  return d == null ? {x: event.x, y: event.y} : d;\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      container = defaultContainer,\n      subject = defaultSubject,\n      touchable = defaultTouchable,\n      gestures = {},\n      listeners = dispatch(\"start\", \"drag\", \"end\"),\n      active = 0,\n      mousedownx,\n      mousedowny,\n      mousemoving,\n      touchending,\n      clickDistance2 = 0;\n\n  function drag(selection) {\n    selection\n        .on(\"mousedown.drag\", mousedowned)\n      .filter(touchable)\n        .on(\"touchstart.drag\", touchstarted)\n        .on(\"touchmove.drag\", touchmoved, nonpassive)\n        .on(\"touchend.drag touchcancel.drag\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  function mousedowned(event, d) {\n    if (touchending || !filter.call(this, event, d)) return;\n    var gesture = beforestart(this, container.call(this, event, d), event, d, \"mouse\");\n    if (!gesture) return;\n    select(event.view)\n      .on(\"mousemove.drag\", mousemoved, nonpassivecapture)\n      .on(\"mouseup.drag\", mouseupped, nonpassivecapture);\n    nodrag(event.view);\n    nopropagation(event);\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\", event);\n  }\n\n  function mousemoved(event) {\n    noevent(event);\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\", event);\n  }\n\n  function mouseupped(event) {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent(event);\n    gestures.mouse(\"end\", event);\n  }\n\n  function touchstarted(event, d) {\n    if (!filter.call(this, event, d)) return;\n    var touches = event.changedTouches,\n        c = container.call(this, event, d),\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(this, c, event, d, touches[i].identifier, touches[i])) {\n        nopropagation(event);\n        gesture(\"start\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchmoved(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent(event);\n        gesture(\"drag\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchended(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation(event);\n        gesture(\"end\", event, touches[i]);\n      }\n    }\n  }\n\n  function beforestart(that, container, event, d, identifier, touch) {\n    var dispatch = listeners.copy(),\n        p = pointer(touch || event, container), dx, dy,\n        s;\n\n    if ((s = subject.call(that, new DragEvent(\"beforestart\", {\n        sourceEvent: event,\n        target: drag,\n        identifier,\n        active,\n        x: p[0],\n        y: p[1],\n        dx: 0,\n        dy: 0,\n        dispatch\n      }), d)) == null) return;\n\n    dx = s.x - p[0] || 0;\n    dy = s.y - p[1] || 0;\n\n    return function gesture(type, event, touch) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\": gestures[identifier] = gesture, n = active++; break;\n        case \"end\": delete gestures[identifier], --active; // falls through\n        case \"drag\": p = pointer(touch || event, container), n = active; break;\n      }\n      dispatch.call(\n        type,\n        that,\n        new DragEvent(type, {\n          sourceEvent: event,\n          subject: s,\n          target: drag,\n          identifier,\n          active: n,\n          x: p[0] + dx,\n          y: p[1] + dy,\n          dx: p[0] - p0[0],\n          dy: p[1] - p0[1],\n          dispatch\n        }),\n        d\n      );\n    };\n  }\n\n  drag.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), drag) : filter;\n  };\n\n  drag.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant(_), drag) : container;\n  };\n\n  drag.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant(_), drag) : subject;\n  };\n\n  drag.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), drag) : touchable;\n  };\n\n  drag.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag : value;\n  };\n\n  drag.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n  };\n\n  return drag;\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import decompose, {identity} from \"./decompose.js\";\n\nvar svgNode;\n\n/* eslint-disable no-undef */\nexport function parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","var epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\nexport default (function zoomRho(rho, rho2, rho4) {\n\n  // p0 = [ux0, uy0, w0]\n  // p1 = [ux1, uy1, w1]\n  function zoom(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n        ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n        dx = ux1 - ux0,\n        dy = uy1 - uy0,\n        d2 = dx * dx + dy * dy,\n        i,\n        S;\n\n    // Special case for u0 ≅ u1.\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function(t) {\n        return [\n          ux0 + t * dx,\n          uy0 + t * dy,\n          w0 * Math.exp(rho * t * S)\n        ];\n      }\n    }\n\n    // General case.\n    else {\n      var d1 = Math.sqrt(d2),\n          b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n          b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n          r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n          r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function(t) {\n        var s = t * S,\n            coshr0 = cosh(r0),\n            u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n        return [\n          ux0 + u * dx,\n          uy0 + u * dy,\n          w0 * coshr0 / cosh(rho * s + r0)\n        ];\n      }\n    }\n\n    i.duration = S * 1000 * rho / Math.SQRT2;\n\n    return i;\n  }\n\n  zoom.rho = function(_) {\n    var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;\n    return zoomRho(_1, _2, _4);\n  };\n\n  return zoom;\n})(Math.SQRT2, 2, 4);\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(undefined, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(elapsed => {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {set} from \"./schedule.js\";\n\nfunction easeVarying(id, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\") throw new Error;\n    set(this, id).ease = v;\n  };\n}\n\nexport default function(value) {\n  if (typeof value !== \"function\") throw new Error;\n  return this.each(easeVarying(this._id, value));\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n","import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and we’re done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n\n    // The selection was empty, resolve end immediately\n    if (size === 0) resolve();\n  });\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_easeVarying from \"./easeVarying.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  selectChild: selection_prototype.selectChild,\n  selectChildren: selection_prototype.selectChildren,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id} not found`);\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","export default x => () => x;\n","export default function ZoomEvent(type, {\n  sourceEvent,\n  target,\n  transform,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    transform: {value: transform, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolateZoom} from \"d3-interpolate\";\nimport {select, pointer} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport ZoomEvent from \"./event.js\";\nimport {Transform, identity} from \"./transform.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\n// Ignore right-click, since that should open the context menu.\n// except for pinch-to-zoom, which is sent as a wheel+ctrlKey event\nfunction defaultFilter(event) {\n  return (!event.ctrlKey || event.type === 'wheel') && !event.button;\n}\n\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\n\nfunction defaultWheelDelta(event) {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * (event.ctrlKey ? 10 : 1);\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n      dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n      dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n      dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      extent = defaultExtent,\n      constrain = defaultConstrain,\n      wheelDelta = defaultWheelDelta,\n      touchable = defaultTouchable,\n      scaleExtent = [0, Infinity],\n      translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n      duration = 250,\n      interpolate = interpolateZoom,\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchfirst,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0,\n      tapDistance = 10;\n\n  function zoom(selection) {\n    selection\n        .property(\"__zoom\", defaultTransform)\n        .on(\"wheel.zoom\", wheeled, {passive: false})\n        .on(\"mousedown.zoom\", mousedowned)\n        .on(\"dblclick.zoom\", dblclicked)\n      .filter(touchable)\n        .on(\"touchstart.zoom\", touchstarted)\n        .on(\"touchmove.zoom\", touchmoved)\n        .on(\"touchend.zoom touchcancel.zoom\", touchended)\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  zoom.transform = function(collection, transform, point, event) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n    if (collection !== selection) {\n      schedule(collection, transform, point, event);\n    } else {\n      selection.interrupt().each(function() {\n        gesture(this, arguments)\n          .event(event)\n          .start()\n          .zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform)\n          .end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function(selection, k, p, event) {\n    zoom.scaleTo(selection, function() {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p, event);\n  };\n\n  zoom.scaleTo = function(selection, k, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p,\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p, event);\n  };\n\n  zoom.translateBy = function(selection, x, y, event) {\n    zoom.transform(selection, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    }, null, event);\n  };\n\n  zoom.translateTo = function(selection, x, y, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    }, p, event);\n  };\n\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition, transform, point, event) {\n    transition\n        .on(\"start.zoom\", function() { gesture(this, arguments).event(event).start(); })\n        .on(\"interrupt.zoom end.zoom\", function() { gesture(this, arguments).event(event).end(); })\n        .tween(\"zoom\", function() {\n          var that = this,\n              args = arguments,\n              g = gesture(that, args).event(event),\n              e = extent.apply(that, args),\n              p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point,\n              w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n              a = that.__zoom,\n              b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n              i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n          return function(t) {\n            if (t === 1) t = b; // Avoid rounding error on end.\n            else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }\n            g.zoom(null, t);\n          };\n        });\n  }\n\n  function gesture(that, args, clean) {\n    return (!clean && that.__zooming) || new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.sourceEvent = null;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n\n  Gesture.prototype = {\n    event: function(event) {\n      if (event) this.sourceEvent = event;\n      return this;\n    },\n    start: function() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new ZoomEvent(type, {\n          sourceEvent: this.sourceEvent,\n          target: zoom,\n          type,\n          transform: this.that.__zoom,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function wheeled(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, args).event(event),\n        t = this.__zoom,\n        k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n        p = pointer(event);\n\n    // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    }\n\n    // If this wheel event won’t trigger a transform change, ignore it.\n    else if (t.k === k) return;\n\n    // Otherwise, capture the mouse point and location at the start.\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n\n    noevent(event);\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned(event, ...args) {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var currentTarget = event.currentTarget,\n        g = gesture(this, args, true).event(event),\n        v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = pointer(event, currentTarget),\n        x0 = event.clientX,\n        y0 = event.clientY;\n\n    dragDisable(event.view);\n    nopropagation(event);\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved(event) {\n      noevent(event);\n      if (!g.moved) {\n        var dx = event.clientX - x0, dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.event(event)\n       .zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = pointer(event, currentTarget), g.mouse[1]), g.extent, translateExtent));\n    }\n\n    function mouseupped(event) {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      dragEnable(event.view, g.moved);\n      noevent(event);\n      g.event(event).end();\n    }\n  }\n\n  function dblclicked(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = pointer(event.changedTouches ? event.changedTouches[0] : event, this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, args), translateExtent);\n\n    noevent(event);\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0, event);\n    else select(this).call(zoom.transform, t1, p0, event);\n  }\n\n  function touchstarted(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.touches,\n        n = touches.length,\n        g = gesture(this, args, event.changedTouches.length === n).event(event),\n        started, i, t, p;\n\n    nopropagation(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n      else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;\n    }\n\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n\n    if (started) {\n      if (g.taps < 2) touchfirst = p[0], touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t, p, l;\n\n    noevent(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1],\n          p1 = g.touch1[0], l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    }\n    else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n    else return;\n\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n\n  function touchended(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t;\n\n    nopropagation(event);\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else {\n      g.end();\n      // If this was a dbltap, reroute to the (optional) dblclick.zoom handler.\n      if (g.taps === 2) {\n        t = pointer(t, this);\n        if (Math.hypot(touchfirst[0] - t[0], touchfirst[1] - t[1]) < tapDistance) {\n          var p = select(this).on(\"dblclick.zoom\");\n          if (p) p.apply(this, arguments);\n        }\n      }\n    }\n  }\n\n  zoom.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom) : wheelDelta;\n  };\n\n  zoom.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), zoom) : filter;\n  };\n\n  zoom.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom) : touchable;\n  };\n\n  zoom.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n  };\n\n  zoom.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n\n  zoom.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom) : constrain;\n  };\n\n  zoom.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n\n  zoom.tapDistance = function(_) {\n    return arguments.length ? (tapDistance = +_, zoom) : tapDistance;\n  };\n\n  return zoom;\n}\n","import { jsx, jsxs, Fragment } from 'react/jsx-runtime';\nimport { createContext, useContext, useMemo, memo, useRef, useState, useEffect, forwardRef, useCallback } from 'react';\nimport cc from 'classcat';\nimport { useStore as useStore$1, createStore } from 'zustand';\nimport { shallow } from 'zustand/shallow';\nimport { drag } from 'd3-drag';\nimport { select, pointer } from 'd3-selection';\nimport { zoomIdentity, zoom } from 'd3-zoom';\nimport { createPortal } from 'react-dom';\n\nconst StoreContext = createContext(null);\nconst Provider$1 = StoreContext.Provider;\n\nconst errorMessages = {\n    error001: () => '[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001',\n    error002: () => \"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.\",\n    error003: (nodeType) => `Node type \"${nodeType}\" not found. Using fallback type \"default\".`,\n    error004: () => 'The React Flow parent container needs a width and a height to render the graph.',\n    error005: () => 'Only child nodes can use a parent extent.',\n    error006: () => \"Can't create edge. An edge needs a source and a target.\",\n    error007: (id) => `The old edge with id=${id} does not exist.`,\n    error009: (type) => `Marker type \"${type}\" doesn't exist.`,\n    error008: (sourceHandle, edge) => `Couldn't create edge for ${!sourceHandle ? 'source' : 'target'} handle id: \"${!sourceHandle ? edge.sourceHandle : edge.targetHandle}\", edge id: ${edge.id}.`,\n    error010: () => 'Handle: No node id found. Make sure to only use a Handle inside a custom Node.',\n    error011: (edgeType) => `Edge type \"${edgeType}\" not found. Using fallback type \"default\".`,\n};\n\nconst zustandErrorMessage = errorMessages['error001']();\nfunction useStore(selector, equalityFn) {\n    const store = useContext(StoreContext);\n    if (store === null) {\n        throw new Error(zustandErrorMessage);\n    }\n    return useStore$1(store, selector, equalityFn);\n}\nconst useStoreApi = () => {\n    const store = useContext(StoreContext);\n    if (store === null) {\n        throw new Error(zustandErrorMessage);\n    }\n    return useMemo(() => ({\n        getState: store.getState,\n        setState: store.setState,\n        subscribe: store.subscribe,\n        destroy: store.destroy,\n    }), [store]);\n};\n\nconst selector$g = (s) => (s.userSelectionActive ? 'none' : 'all');\nfunction Panel({ position, children, className, style, ...rest }) {\n    const pointerEvents = useStore(selector$g);\n    const positionClasses = `${position}`.split('-');\n    return (jsx(\"div\", { className: cc(['react-flow__panel', className, ...positionClasses]), style: { ...style, pointerEvents }, ...rest, children: children }));\n}\n\nfunction Attribution({ proOptions, position = 'bottom-right' }) {\n    if (proOptions?.hideAttribution) {\n        return null;\n    }\n    return (jsx(Panel, { position: position, className: \"react-flow__attribution\", \"data-message\": \"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev\", children: jsx(\"a\", { href: \"https://reactflow.dev\", target: \"_blank\", rel: \"noopener noreferrer\", \"aria-label\": \"React Flow attribution\", children: \"React Flow\" }) }));\n}\n\nconst EdgeText = ({ x, y, label, labelStyle = {}, labelShowBg = true, labelBgStyle = {}, labelBgPadding = [2, 4], labelBgBorderRadius = 2, children, className, ...rest }) => {\n    const edgeRef = useRef(null);\n    const [edgeTextBbox, setEdgeTextBbox] = useState({ x: 0, y: 0, width: 0, height: 0 });\n    const edgeTextClasses = cc(['react-flow__edge-textwrapper', className]);\n    useEffect(() => {\n        if (edgeRef.current) {\n            const textBbox = edgeRef.current.getBBox();\n            setEdgeTextBbox({\n                x: textBbox.x,\n                y: textBbox.y,\n                width: textBbox.width,\n                height: textBbox.height,\n            });\n        }\n    }, [label]);\n    if (typeof label === 'undefined' || !label) {\n        return null;\n    }\n    return (jsxs(\"g\", { transform: `translate(${x - edgeTextBbox.width / 2} ${y - edgeTextBbox.height / 2})`, className: edgeTextClasses, visibility: edgeTextBbox.width ? 'visible' : 'hidden', ...rest, children: [labelShowBg && (jsx(\"rect\", { width: edgeTextBbox.width + 2 * labelBgPadding[0], x: -labelBgPadding[0], y: -labelBgPadding[1], height: edgeTextBbox.height + 2 * labelBgPadding[1], className: \"react-flow__edge-textbg\", style: labelBgStyle, rx: labelBgBorderRadius, ry: labelBgBorderRadius })), jsx(\"text\", { className: \"react-flow__edge-text\", y: edgeTextBbox.height / 2, dy: \"0.3em\", ref: edgeRef, style: labelStyle, children: label }), children] }));\n};\nvar EdgeText$1 = memo(EdgeText);\n\nconst getDimensions = (node) => ({\n    width: node.offsetWidth,\n    height: node.offsetHeight,\n});\nconst clamp = (val, min = 0, max = 1) => Math.min(Math.max(val, min), max);\nconst clampPosition = (position = { x: 0, y: 0 }, extent) => ({\n    x: clamp(position.x, extent[0][0], extent[1][0]),\n    y: clamp(position.y, extent[0][1], extent[1][1]),\n});\n// returns a number between 0 and 1 that represents the velocity of the movement\n// when the mouse is close to the edge of the canvas\nconst calcAutoPanVelocity = (value, min, max) => {\n    if (value < min) {\n        return clamp(Math.abs(value - min), 1, 50) / 50;\n    }\n    else if (value > max) {\n        return -clamp(Math.abs(value - max), 1, 50) / 50;\n    }\n    return 0;\n};\nconst calcAutoPan = (pos, bounds) => {\n    const xMovement = calcAutoPanVelocity(pos.x, 35, bounds.width - 35) * 20;\n    const yMovement = calcAutoPanVelocity(pos.y, 35, bounds.height - 35) * 20;\n    return [xMovement, yMovement];\n};\nconst getHostForElement = (element) => element.getRootNode?.() || window?.document;\nconst getBoundsOfBoxes = (box1, box2) => ({\n    x: Math.min(box1.x, box2.x),\n    y: Math.min(box1.y, box2.y),\n    x2: Math.max(box1.x2, box2.x2),\n    y2: Math.max(box1.y2, box2.y2),\n});\nconst rectToBox = ({ x, y, width, height }) => ({\n    x,\n    y,\n    x2: x + width,\n    y2: y + height,\n});\nconst boxToRect = ({ x, y, x2, y2 }) => ({\n    x,\n    y,\n    width: x2 - x,\n    height: y2 - y,\n});\nconst nodeToRect = (node) => ({\n    ...(node.positionAbsolute || { x: 0, y: 0 }),\n    width: node.width || 0,\n    height: node.height || 0,\n});\nconst getBoundsOfRects = (rect1, rect2) => boxToRect(getBoundsOfBoxes(rectToBox(rect1), rectToBox(rect2)));\nconst getOverlappingArea = (rectA, rectB) => {\n    const xOverlap = Math.max(0, Math.min(rectA.x + rectA.width, rectB.x + rectB.width) - Math.max(rectA.x, rectB.x));\n    const yOverlap = Math.max(0, Math.min(rectA.y + rectA.height, rectB.y + rectB.height) - Math.max(rectA.y, rectB.y));\n    return Math.ceil(xOverlap * yOverlap);\n};\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst isRectObject = (obj) => isNumeric(obj.width) && isNumeric(obj.height) && isNumeric(obj.x) && isNumeric(obj.y);\n/* eslint-disable-next-line @typescript-eslint/no-explicit-any */\nconst isNumeric = (n) => !isNaN(n) && isFinite(n);\nconst internalsSymbol = Symbol.for('internals');\n// used for a11y key board controls for nodes and edges\nconst elementSelectionKeys = ['Enter', ' ', 'Escape'];\nconst devWarn = (id, message) => {\n    if (process.env.NODE_ENV === 'development') {\n        console.warn(`[React Flow]: ${message} Help: https://reactflow.dev/error#${id}`);\n    }\n};\nconst isReactKeyboardEvent = (event) => 'nativeEvent' in event;\nfunction isInputDOMNode(event) {\n    const kbEvent = isReactKeyboardEvent(event) ? event.nativeEvent : event;\n    // using composed path for handling shadow dom\n    const target = (kbEvent.composedPath?.()?.[0] || event.target);\n    const isInput = ['INPUT', 'SELECT', 'TEXTAREA'].includes(target?.nodeName) || target?.hasAttribute('contenteditable');\n    // when an input field is focused we don't want to trigger deletion or movement of nodes\n    return isInput || !!target?.closest('.nokey');\n}\nconst isMouseEvent = (event) => 'clientX' in event;\nconst getEventPosition = (event, bounds) => {\n    const isMouseTriggered = isMouseEvent(event);\n    const evtX = isMouseTriggered ? event.clientX : event.touches?.[0].clientX;\n    const evtY = isMouseTriggered ? event.clientY : event.touches?.[0].clientY;\n    return {\n        x: evtX - (bounds?.left ?? 0),\n        y: evtY - (bounds?.top ?? 0),\n    };\n};\n\nconst BaseEdge = ({ path, labelX, labelY, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius, style, markerEnd, markerStart, interactionWidth = 20, }) => {\n    return (jsxs(Fragment, { children: [jsx(\"path\", { style: style, d: path, fill: \"none\", className: \"react-flow__edge-path\", markerEnd: markerEnd, markerStart: markerStart }), interactionWidth && (jsx(\"path\", { d: path, fill: \"none\", strokeOpacity: 0, strokeWidth: interactionWidth, className: \"react-flow__edge-interaction\" })), label && isNumeric(labelX) && isNumeric(labelY) ? (jsx(EdgeText$1, { x: labelX, y: labelY, label: label, labelStyle: labelStyle, labelShowBg: labelShowBg, labelBgStyle: labelBgStyle, labelBgPadding: labelBgPadding, labelBgBorderRadius: labelBgBorderRadius })) : null] }));\n};\nBaseEdge.displayName = 'BaseEdge';\n\nconst getMarkerEnd = (markerType, markerEndId) => {\n    if (typeof markerEndId !== 'undefined' && markerEndId) {\n        return `url(#${markerEndId})`;\n    }\n    return typeof markerType !== 'undefined' ? `url(#react-flow__${markerType})` : 'none';\n};\nfunction getMouseHandler$1(id, getState, handler) {\n    return handler === undefined\n        ? handler\n        : (event) => {\n            const edge = getState().edges.find((e) => e.id === id);\n            if (edge) {\n                handler(event, { ...edge });\n            }\n        };\n}\n// this is used for straight edges and simple smoothstep edges (LTR, RTL, BTT, TTB)\nfunction getEdgeCenter({ sourceX, sourceY, targetX, targetY, }) {\n    const xOffset = Math.abs(targetX - sourceX) / 2;\n    const centerX = targetX < sourceX ? targetX + xOffset : targetX - xOffset;\n    const yOffset = Math.abs(targetY - sourceY) / 2;\n    const centerY = targetY < sourceY ? targetY + yOffset : targetY - yOffset;\n    return [centerX, centerY, xOffset, yOffset];\n}\nfunction getBezierEdgeCenter({ sourceX, sourceY, targetX, targetY, sourceControlX, sourceControlY, targetControlX, targetControlY, }) {\n    // cubic bezier t=0.5 mid point, not the actual mid point, but easy to calculate\n    // https://stackoverflow.com/questions/67516101/how-to-find-distance-mid-point-of-bezier-curve\n    const centerX = sourceX * 0.125 + sourceControlX * 0.375 + targetControlX * 0.375 + targetX * 0.125;\n    const centerY = sourceY * 0.125 + sourceControlY * 0.375 + targetControlY * 0.375 + targetY * 0.125;\n    const offsetX = Math.abs(centerX - sourceX);\n    const offsetY = Math.abs(centerY - sourceY);\n    return [centerX, centerY, offsetX, offsetY];\n}\n\nvar ConnectionMode;\n(function (ConnectionMode) {\n    ConnectionMode[\"Strict\"] = \"strict\";\n    ConnectionMode[\"Loose\"] = \"loose\";\n})(ConnectionMode || (ConnectionMode = {}));\nvar PanOnScrollMode;\n(function (PanOnScrollMode) {\n    PanOnScrollMode[\"Free\"] = \"free\";\n    PanOnScrollMode[\"Vertical\"] = \"vertical\";\n    PanOnScrollMode[\"Horizontal\"] = \"horizontal\";\n})(PanOnScrollMode || (PanOnScrollMode = {}));\nvar SelectionMode;\n(function (SelectionMode) {\n    SelectionMode[\"Partial\"] = \"partial\";\n    SelectionMode[\"Full\"] = \"full\";\n})(SelectionMode || (SelectionMode = {}));\n\nvar ConnectionLineType;\n(function (ConnectionLineType) {\n    ConnectionLineType[\"Bezier\"] = \"default\";\n    ConnectionLineType[\"Straight\"] = \"straight\";\n    ConnectionLineType[\"Step\"] = \"step\";\n    ConnectionLineType[\"SmoothStep\"] = \"smoothstep\";\n    ConnectionLineType[\"SimpleBezier\"] = \"simplebezier\";\n})(ConnectionLineType || (ConnectionLineType = {}));\nvar MarkerType;\n(function (MarkerType) {\n    MarkerType[\"Arrow\"] = \"arrow\";\n    MarkerType[\"ArrowClosed\"] = \"arrowclosed\";\n})(MarkerType || (MarkerType = {}));\n\nvar Position;\n(function (Position) {\n    Position[\"Left\"] = \"left\";\n    Position[\"Top\"] = \"top\";\n    Position[\"Right\"] = \"right\";\n    Position[\"Bottom\"] = \"bottom\";\n})(Position || (Position = {}));\n\nfunction getControl({ pos, x1, y1, x2, y2 }) {\n    if (pos === Position.Left || pos === Position.Right) {\n        return [0.5 * (x1 + x2), y1];\n    }\n    return [x1, 0.5 * (y1 + y2)];\n}\nfunction getSimpleBezierPath({ sourceX, sourceY, sourcePosition = Position.Bottom, targetX, targetY, targetPosition = Position.Top, }) {\n    const [sourceControlX, sourceControlY] = getControl({\n        pos: sourcePosition,\n        x1: sourceX,\n        y1: sourceY,\n        x2: targetX,\n        y2: targetY,\n    });\n    const [targetControlX, targetControlY] = getControl({\n        pos: targetPosition,\n        x1: targetX,\n        y1: targetY,\n        x2: sourceX,\n        y2: sourceY,\n    });\n    const [labelX, labelY, offsetX, offsetY] = getBezierEdgeCenter({\n        sourceX,\n        sourceY,\n        targetX,\n        targetY,\n        sourceControlX,\n        sourceControlY,\n        targetControlX,\n        targetControlY,\n    });\n    return [\n        `M${sourceX},${sourceY} C${sourceControlX},${sourceControlY} ${targetControlX},${targetControlY} ${targetX},${targetY}`,\n        labelX,\n        labelY,\n        offsetX,\n        offsetY,\n    ];\n}\nconst SimpleBezierEdge = memo(({ sourceX, sourceY, targetX, targetY, sourcePosition = Position.Bottom, targetPosition = Position.Top, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius, style, markerEnd, markerStart, interactionWidth, }) => {\n    const [path, labelX, labelY] = getSimpleBezierPath({\n        sourceX,\n        sourceY,\n        sourcePosition,\n        targetX,\n        targetY,\n        targetPosition,\n    });\n    return (jsx(BaseEdge, { path: path, labelX: labelX, labelY: labelY, label: label, labelStyle: labelStyle, labelShowBg: labelShowBg, labelBgStyle: labelBgStyle, labelBgPadding: labelBgPadding, labelBgBorderRadius: labelBgBorderRadius, style: style, markerEnd: markerEnd, markerStart: markerStart, interactionWidth: interactionWidth }));\n});\nSimpleBezierEdge.displayName = 'SimpleBezierEdge';\n\nconst handleDirections = {\n    [Position.Left]: { x: -1, y: 0 },\n    [Position.Right]: { x: 1, y: 0 },\n    [Position.Top]: { x: 0, y: -1 },\n    [Position.Bottom]: { x: 0, y: 1 },\n};\nconst getDirection = ({ source, sourcePosition = Position.Bottom, target, }) => {\n    if (sourcePosition === Position.Left || sourcePosition === Position.Right) {\n        return source.x < target.x ? { x: 1, y: 0 } : { x: -1, y: 0 };\n    }\n    return source.y < target.y ? { x: 0, y: 1 } : { x: 0, y: -1 };\n};\nconst distance = (a, b) => Math.sqrt(Math.pow(b.x - a.x, 2) + Math.pow(b.y - a.y, 2));\n// ith this function we try to mimic a orthogonal edge routing behaviour\n// It's not as good as a real orthogonal edge routing but it's faster and good enough as a default for step and smooth step edges\nfunction getPoints({ source, sourcePosition = Position.Bottom, target, targetPosition = Position.Top, center, offset, }) {\n    const sourceDir = handleDirections[sourcePosition];\n    const targetDir = handleDirections[targetPosition];\n    const sourceGapped = { x: source.x + sourceDir.x * offset, y: source.y + sourceDir.y * offset };\n    const targetGapped = { x: target.x + targetDir.x * offset, y: target.y + targetDir.y * offset };\n    const dir = getDirection({\n        source: sourceGapped,\n        sourcePosition,\n        target: targetGapped,\n    });\n    const dirAccessor = dir.x !== 0 ? 'x' : 'y';\n    const currDir = dir[dirAccessor];\n    let points = [];\n    let centerX, centerY;\n    const [defaultCenterX, defaultCenterY, defaultOffsetX, defaultOffsetY] = getEdgeCenter({\n        sourceX: source.x,\n        sourceY: source.y,\n        targetX: target.x,\n        targetY: target.y,\n    });\n    // opposite handle positions, default case\n    if (sourceDir[dirAccessor] * targetDir[dirAccessor] === -1) {\n        centerX = center.x || defaultCenterX;\n        centerY = center.y || defaultCenterY;\n        //    --->\n        //    |\n        // >---\n        const verticalSplit = [\n            { x: centerX, y: sourceGapped.y },\n            { x: centerX, y: targetGapped.y },\n        ];\n        //    |\n        //  ---\n        //  |\n        const horizontalSplit = [\n            { x: sourceGapped.x, y: centerY },\n            { x: targetGapped.x, y: centerY },\n        ];\n        if (sourceDir[dirAccessor] === currDir) {\n            points = dirAccessor === 'x' ? verticalSplit : horizontalSplit;\n        }\n        else {\n            points = dirAccessor === 'x' ? horizontalSplit : verticalSplit;\n        }\n    }\n    else {\n        // sourceTarget means we take x from source and y from target, targetSource is the opposite\n        const sourceTarget = [{ x: sourceGapped.x, y: targetGapped.y }];\n        const targetSource = [{ x: targetGapped.x, y: sourceGapped.y }];\n        // this handles edges with same handle positions\n        if (dirAccessor === 'x') {\n            points = sourceDir.x === currDir ? targetSource : sourceTarget;\n        }\n        else {\n            points = sourceDir.y === currDir ? sourceTarget : targetSource;\n        }\n        // these are conditions for handling mixed handle positions like Right -> Bottom for example\n        if (sourcePosition !== targetPosition) {\n            const dirAccessorOpposite = dirAccessor === 'x' ? 'y' : 'x';\n            const isSameDir = sourceDir[dirAccessor] === targetDir[dirAccessorOpposite];\n            const sourceGtTargetOppo = sourceGapped[dirAccessorOpposite] > targetGapped[dirAccessorOpposite];\n            const sourceLtTargetOppo = sourceGapped[dirAccessorOpposite] < targetGapped[dirAccessorOpposite];\n            const flipSourceTarget = (sourceDir[dirAccessor] === 1 && ((!isSameDir && sourceGtTargetOppo) || (isSameDir && sourceLtTargetOppo))) ||\n                (sourceDir[dirAccessor] !== 1 && ((!isSameDir && sourceLtTargetOppo) || (isSameDir && sourceGtTargetOppo)));\n            if (flipSourceTarget) {\n                points = dirAccessor === 'x' ? sourceTarget : targetSource;\n            }\n        }\n        centerX = points[0].x;\n        centerY = points[0].y;\n    }\n    const pathPoints = [source, sourceGapped, ...points, targetGapped, target];\n    return [pathPoints, centerX, centerY, defaultOffsetX, defaultOffsetY];\n}\nfunction getBend(a, b, c, size) {\n    const bendSize = Math.min(distance(a, b) / 2, distance(b, c) / 2, size);\n    const { x, y } = b;\n    // no bend\n    if ((a.x === x && x === c.x) || (a.y === y && y === c.y)) {\n        return `L${x} ${y}`;\n    }\n    // first segment is horizontal\n    if (a.y === y) {\n        const xDir = a.x < c.x ? -1 : 1;\n        const yDir = a.y < c.y ? 1 : -1;\n        return `L ${x + bendSize * xDir},${y}Q ${x},${y} ${x},${y + bendSize * yDir}`;\n    }\n    const xDir = a.x < c.x ? 1 : -1;\n    const yDir = a.y < c.y ? -1 : 1;\n    return `L ${x},${y + bendSize * yDir}Q ${x},${y} ${x + bendSize * xDir},${y}`;\n}\nfunction getSmoothStepPath({ sourceX, sourceY, sourcePosition = Position.Bottom, targetX, targetY, targetPosition = Position.Top, borderRadius = 5, centerX, centerY, offset = 20, }) {\n    const [points, labelX, labelY, offsetX, offsetY] = getPoints({\n        source: { x: sourceX, y: sourceY },\n        sourcePosition,\n        target: { x: targetX, y: targetY },\n        targetPosition,\n        center: { x: centerX, y: centerY },\n        offset,\n    });\n    const path = points.reduce((res, p, i) => {\n        let segment = '';\n        if (i > 0 && i < points.length - 1) {\n            segment = getBend(points[i - 1], p, points[i + 1], borderRadius);\n        }\n        else {\n            segment = `${i === 0 ? 'M' : 'L'}${p.x} ${p.y}`;\n        }\n        res += segment;\n        return res;\n    }, '');\n    return [path, labelX, labelY, offsetX, offsetY];\n}\nconst SmoothStepEdge = memo(({ sourceX, sourceY, targetX, targetY, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius, style, sourcePosition = Position.Bottom, targetPosition = Position.Top, markerEnd, markerStart, pathOptions, interactionWidth, }) => {\n    const [path, labelX, labelY] = getSmoothStepPath({\n        sourceX,\n        sourceY,\n        sourcePosition,\n        targetX,\n        targetY,\n        targetPosition,\n        borderRadius: pathOptions?.borderRadius,\n        offset: pathOptions?.offset,\n    });\n    return (jsx(BaseEdge, { path: path, labelX: labelX, labelY: labelY, label: label, labelStyle: labelStyle, labelShowBg: labelShowBg, labelBgStyle: labelBgStyle, labelBgPadding: labelBgPadding, labelBgBorderRadius: labelBgBorderRadius, style: style, markerEnd: markerEnd, markerStart: markerStart, interactionWidth: interactionWidth }));\n});\nSmoothStepEdge.displayName = 'SmoothStepEdge';\n\nconst StepEdge = memo((props) => (jsx(SmoothStepEdge, { ...props, pathOptions: useMemo(() => ({ borderRadius: 0, offset: props.pathOptions?.offset }), [props.pathOptions?.offset]) })));\nStepEdge.displayName = 'StepEdge';\n\nfunction getStraightPath({ sourceX, sourceY, targetX, targetY, }) {\n    const [labelX, labelY, offsetX, offsetY] = getEdgeCenter({\n        sourceX,\n        sourceY,\n        targetX,\n        targetY,\n    });\n    return [`M ${sourceX},${sourceY}L ${targetX},${targetY}`, labelX, labelY, offsetX, offsetY];\n}\nconst StraightEdge = memo(({ sourceX, sourceY, targetX, targetY, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius, style, markerEnd, markerStart, interactionWidth, }) => {\n    const [path, labelX, labelY] = getStraightPath({ sourceX, sourceY, targetX, targetY });\n    return (jsx(BaseEdge, { path: path, labelX: labelX, labelY: labelY, label: label, labelStyle: labelStyle, labelShowBg: labelShowBg, labelBgStyle: labelBgStyle, labelBgPadding: labelBgPadding, labelBgBorderRadius: labelBgBorderRadius, style: style, markerEnd: markerEnd, markerStart: markerStart, interactionWidth: interactionWidth }));\n});\nStraightEdge.displayName = 'StraightEdge';\n\nfunction calculateControlOffset(distance, curvature) {\n    if (distance >= 0) {\n        return 0.5 * distance;\n    }\n    return curvature * 25 * Math.sqrt(-distance);\n}\nfunction getControlWithCurvature({ pos, x1, y1, x2, y2, c }) {\n    switch (pos) {\n        case Position.Left:\n            return [x1 - calculateControlOffset(x1 - x2, c), y1];\n        case Position.Right:\n            return [x1 + calculateControlOffset(x2 - x1, c), y1];\n        case Position.Top:\n            return [x1, y1 - calculateControlOffset(y1 - y2, c)];\n        case Position.Bottom:\n            return [x1, y1 + calculateControlOffset(y2 - y1, c)];\n    }\n}\nfunction getBezierPath({ sourceX, sourceY, sourcePosition = Position.Bottom, targetX, targetY, targetPosition = Position.Top, curvature = 0.25, }) {\n    const [sourceControlX, sourceControlY] = getControlWithCurvature({\n        pos: sourcePosition,\n        x1: sourceX,\n        y1: sourceY,\n        x2: targetX,\n        y2: targetY,\n        c: curvature,\n    });\n    const [targetControlX, targetControlY] = getControlWithCurvature({\n        pos: targetPosition,\n        x1: targetX,\n        y1: targetY,\n        x2: sourceX,\n        y2: sourceY,\n        c: curvature,\n    });\n    const [labelX, labelY, offsetX, offsetY] = getBezierEdgeCenter({\n        sourceX,\n        sourceY,\n        targetX,\n        targetY,\n        sourceControlX,\n        sourceControlY,\n        targetControlX,\n        targetControlY,\n    });\n    return [\n        `M${sourceX},${sourceY} C${sourceControlX},${sourceControlY} ${targetControlX},${targetControlY} ${targetX},${targetY}`,\n        labelX,\n        labelY,\n        offsetX,\n        offsetY,\n    ];\n}\nconst BezierEdge = memo(({ sourceX, sourceY, targetX, targetY, sourcePosition = Position.Bottom, targetPosition = Position.Top, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius, style, markerEnd, markerStart, pathOptions, interactionWidth, }) => {\n    const [path, labelX, labelY] = getBezierPath({\n        sourceX,\n        sourceY,\n        sourcePosition,\n        targetX,\n        targetY,\n        targetPosition,\n        curvature: pathOptions?.curvature,\n    });\n    return (jsx(BaseEdge, { path: path, labelX: labelX, labelY: labelY, label: label, labelStyle: labelStyle, labelShowBg: labelShowBg, labelBgStyle: labelBgStyle, labelBgPadding: labelBgPadding, labelBgBorderRadius: labelBgBorderRadius, style: style, markerEnd: markerEnd, markerStart: markerStart, interactionWidth: interactionWidth }));\n});\nBezierEdge.displayName = 'BezierEdge';\n\nconst NodeIdContext = createContext(null);\nconst Provider = NodeIdContext.Provider;\nNodeIdContext.Consumer;\nconst useNodeId = () => {\n    const nodeId = useContext(NodeIdContext);\n    return nodeId;\n};\n\nconst isEdge = (element) => 'id' in element && 'source' in element && 'target' in element;\nconst isNode = (element) => 'id' in element && !('source' in element) && !('target' in element);\nconst getOutgoers = (node, nodes, edges) => {\n    if (!isNode(node)) {\n        return [];\n    }\n    const outgoerIds = edges.filter((e) => e.source === node.id).map((e) => e.target);\n    return nodes.filter((n) => outgoerIds.includes(n.id));\n};\nconst getIncomers = (node, nodes, edges) => {\n    if (!isNode(node)) {\n        return [];\n    }\n    const incomersIds = edges.filter((e) => e.target === node.id).map((e) => e.source);\n    return nodes.filter((n) => incomersIds.includes(n.id));\n};\nconst getEdgeId = ({ source, sourceHandle, target, targetHandle }) => `reactflow__edge-${source}${sourceHandle || ''}-${target}${targetHandle || ''}`;\nconst getMarkerId = (marker, rfId) => {\n    if (typeof marker === 'undefined') {\n        return '';\n    }\n    if (typeof marker === 'string') {\n        return marker;\n    }\n    const idPrefix = rfId ? `${rfId}__` : '';\n    return `${idPrefix}${Object.keys(marker)\n        .sort()\n        .map((key) => `${key}=${marker[key]}`)\n        .join('&')}`;\n};\nconst connectionExists = (edge, edges) => {\n    return edges.some((el) => el.source === edge.source &&\n        el.target === edge.target &&\n        (el.sourceHandle === edge.sourceHandle || (!el.sourceHandle && !edge.sourceHandle)) &&\n        (el.targetHandle === edge.targetHandle || (!el.targetHandle && !edge.targetHandle)));\n};\nconst addEdge = (edgeParams, edges) => {\n    if (!edgeParams.source || !edgeParams.target) {\n        devWarn('006', errorMessages['error006']());\n        return edges;\n    }\n    let edge;\n    if (isEdge(edgeParams)) {\n        edge = { ...edgeParams };\n    }\n    else {\n        edge = {\n            ...edgeParams,\n            id: getEdgeId(edgeParams),\n        };\n    }\n    if (connectionExists(edge, edges)) {\n        return edges;\n    }\n    return edges.concat(edge);\n};\nconst updateEdge = (oldEdge, newConnection, edges, options = { shouldReplaceId: true }) => {\n    const { id: oldEdgeId, ...rest } = oldEdge;\n    if (!newConnection.source || !newConnection.target) {\n        devWarn('006', errorMessages['error006']());\n        return edges;\n    }\n    const foundEdge = edges.find((e) => e.id === oldEdgeId);\n    if (!foundEdge) {\n        devWarn('007', errorMessages['error007'](oldEdgeId));\n        return edges;\n    }\n    // Remove old edge and create the new edge with parameters of old edge.\n    const edge = {\n        ...rest,\n        id: options.shouldReplaceId ? getEdgeId(newConnection) : oldEdgeId,\n        source: newConnection.source,\n        target: newConnection.target,\n        sourceHandle: newConnection.sourceHandle,\n        targetHandle: newConnection.targetHandle,\n    };\n    return edges.filter((e) => e.id !== oldEdgeId).concat(edge);\n};\nconst pointToRendererPoint = ({ x, y }, [tx, ty, tScale], snapToGrid, [snapX, snapY]) => {\n    const position = {\n        x: (x - tx) / tScale,\n        y: (y - ty) / tScale,\n    };\n    if (snapToGrid) {\n        return {\n            x: snapX * Math.round(position.x / snapX),\n            y: snapY * Math.round(position.y / snapY),\n        };\n    }\n    return position;\n};\nconst rendererPointToPoint = ({ x, y }, [tx, ty, tScale]) => {\n    return {\n        x: x * tScale + tx,\n        y: y * tScale + ty,\n    };\n};\nconst getNodePositionWithOrigin = (node, nodeOrigin = [0, 0]) => {\n    if (!node) {\n        return {\n            x: 0,\n            y: 0,\n            positionAbsolute: {\n                x: 0,\n                y: 0,\n            },\n        };\n    }\n    const offsetX = (node.width ?? 0) * nodeOrigin[0];\n    const offsetY = (node.height ?? 0) * nodeOrigin[1];\n    const position = {\n        x: node.position.x - offsetX,\n        y: node.position.y - offsetY,\n    };\n    return {\n        ...position,\n        positionAbsolute: node.positionAbsolute\n            ? {\n                x: node.positionAbsolute.x - offsetX,\n                y: node.positionAbsolute.y - offsetY,\n            }\n            : position,\n    };\n};\nconst getRectOfNodes = (nodes, nodeOrigin = [0, 0]) => {\n    if (nodes.length === 0) {\n        return { x: 0, y: 0, width: 0, height: 0 };\n    }\n    const box = nodes.reduce((currBox, node) => {\n        const { x, y } = getNodePositionWithOrigin(node, nodeOrigin).positionAbsolute;\n        return getBoundsOfBoxes(currBox, rectToBox({\n            x,\n            y,\n            width: node.width || 0,\n            height: node.height || 0,\n        }));\n    }, { x: Infinity, y: Infinity, x2: -Infinity, y2: -Infinity });\n    return boxToRect(box);\n};\nconst getNodesInside = (nodeInternals, rect, [tx, ty, tScale] = [0, 0, 1], partially = false, \n// set excludeNonSelectableNodes if you want to pay attention to the nodes \"selectable\" attribute\nexcludeNonSelectableNodes = false, nodeOrigin = [0, 0]) => {\n    const paneRect = {\n        x: (rect.x - tx) / tScale,\n        y: (rect.y - ty) / tScale,\n        width: rect.width / tScale,\n        height: rect.height / tScale,\n    };\n    const visibleNodes = [];\n    nodeInternals.forEach((node) => {\n        const { width, height, selectable = true, hidden = false } = node;\n        if ((excludeNonSelectableNodes && !selectable) || hidden) {\n            return false;\n        }\n        const { positionAbsolute } = getNodePositionWithOrigin(node, nodeOrigin);\n        const nodeRect = {\n            x: positionAbsolute.x,\n            y: positionAbsolute.y,\n            width: width || 0,\n            height: height || 0,\n        };\n        const overlappingArea = getOverlappingArea(paneRect, nodeRect);\n        const notInitialized = typeof width === 'undefined' || typeof height === 'undefined' || width === null || height === null;\n        const partiallyVisible = partially && overlappingArea > 0;\n        const area = (width || 0) * (height || 0);\n        const isVisible = notInitialized || partiallyVisible || overlappingArea >= area;\n        if (isVisible || node.dragging) {\n            visibleNodes.push(node);\n        }\n    });\n    return visibleNodes;\n};\nconst getConnectedEdges = (nodes, edges) => {\n    const nodeIds = nodes.map((node) => node.id);\n    return edges.filter((edge) => nodeIds.includes(edge.source) || nodeIds.includes(edge.target));\n};\nconst getTransformForBounds = (bounds, width, height, minZoom, maxZoom, padding = 0.1) => {\n    const xZoom = width / (bounds.width * (1 + padding));\n    const yZoom = height / (bounds.height * (1 + padding));\n    const zoom = Math.min(xZoom, yZoom);\n    const clampedZoom = clamp(zoom, minZoom, maxZoom);\n    const boundsCenterX = bounds.x + bounds.width / 2;\n    const boundsCenterY = bounds.y + bounds.height / 2;\n    const x = width / 2 - boundsCenterX * clampedZoom;\n    const y = height / 2 - boundsCenterY * clampedZoom;\n    return [x, y, clampedZoom];\n};\nconst getD3Transition = (selection, duration = 0) => {\n    return selection.transition().duration(duration);\n};\n\n// this functions collects all handles and adds an absolute position\n// so that we can later find the closest handle to the mouse position\nfunction getHandles(node, handleBounds, type, currentHandle) {\n    return (handleBounds[type] || []).reduce((res, h) => {\n        if (`${node.id}-${h.id}-${type}` !== currentHandle) {\n            res.push({\n                id: h.id || null,\n                type,\n                nodeId: node.id,\n                x: (node.positionAbsolute?.x ?? 0) + h.x + h.width / 2,\n                y: (node.positionAbsolute?.y ?? 0) + h.y + h.height / 2,\n            });\n        }\n        return res;\n    }, []);\n}\nfunction getClosestHandle(pos, connectionRadius, handles) {\n    let closestHandle = null;\n    let minDistance = Infinity;\n    handles.forEach((handle) => {\n        const distance = Math.sqrt(Math.pow(handle.x - pos.x, 2) + Math.pow(handle.y - pos.y, 2));\n        if (distance <= connectionRadius && distance < minDistance) {\n            minDistance = distance;\n            closestHandle = handle;\n        }\n    });\n    return closestHandle;\n}\nconst nullConnection = { source: null, target: null, sourceHandle: null, targetHandle: null };\n// checks if  and returns connection in fom of an object { source: 123, target: 312 }\nfunction isValidHandle(event, handle, connectionMode, fromNodeId, fromHandleId, fromType, isValidConnection, doc) {\n    const isTarget = fromType === 'target';\n    const handleDomNode = doc.querySelector(`.react-flow__handle[data-id=\"${handle?.nodeId}-${handle?.id}-${handle?.type}\"]`);\n    const { x, y } = getEventPosition(event);\n    const handleBelow = doc.elementFromPoint(x, y);\n    const handleToCheck = handleBelow?.classList.contains('react-flow__handle') ? handleBelow : handleDomNode;\n    const result = {\n        handleDomNode: handleToCheck,\n        isValid: false,\n        connection: nullConnection,\n        endHandle: null,\n    };\n    if (handleToCheck) {\n        const handleType = getHandleType(undefined, handleToCheck);\n        const handleNodeId = handleToCheck.getAttribute('data-nodeid');\n        const handleId = handleToCheck.getAttribute('data-handleid');\n        const connectable = handleToCheck.classList.contains('connectable');\n        const connectableEnd = handleToCheck.classList.contains('connectableend');\n        const connection = {\n            source: isTarget ? handleNodeId : fromNodeId,\n            sourceHandle: isTarget ? handleId : fromHandleId,\n            target: isTarget ? fromNodeId : handleNodeId,\n            targetHandle: isTarget ? fromHandleId : handleId,\n        };\n        result.connection = connection;\n        const isConnectable = connectable && connectableEnd;\n        // in strict mode we don't allow target to target or source to source connections\n        const isValid = isConnectable &&\n            (connectionMode === ConnectionMode.Strict\n                ? (isTarget && handleType === 'source') || (!isTarget && handleType === 'target')\n                : handleNodeId !== fromNodeId || handleId !== fromHandleId);\n        if (isValid) {\n            result.endHandle = {\n                nodeId: handleNodeId,\n                handleId,\n                type: handleType,\n            };\n            result.isValid = isValidConnection(connection);\n        }\n    }\n    return result;\n}\nfunction getHandleLookup({ nodes, nodeId, handleId, handleType }) {\n    return nodes.reduce((res, node) => {\n        if (node[internalsSymbol]) {\n            const { handleBounds } = node[internalsSymbol];\n            let sourceHandles = [];\n            let targetHandles = [];\n            if (handleBounds) {\n                sourceHandles = getHandles(node, handleBounds, 'source', `${nodeId}-${handleId}-${handleType}`);\n                targetHandles = getHandles(node, handleBounds, 'target', `${nodeId}-${handleId}-${handleType}`);\n            }\n            res.push(...sourceHandles, ...targetHandles);\n        }\n        return res;\n    }, []);\n}\nfunction getHandleType(edgeUpdaterType, handleDomNode) {\n    if (edgeUpdaterType) {\n        return edgeUpdaterType;\n    }\n    else if (handleDomNode?.classList.contains('target')) {\n        return 'target';\n    }\n    else if (handleDomNode?.classList.contains('source')) {\n        return 'source';\n    }\n    return null;\n}\nfunction resetRecentHandle(handleDomNode) {\n    handleDomNode?.classList.remove('valid', 'connecting', 'react-flow__handle-valid', 'react-flow__handle-connecting');\n}\nfunction getConnectionStatus(isInsideConnectionRadius, isHandleValid) {\n    let connectionStatus = null;\n    if (isHandleValid) {\n        connectionStatus = 'valid';\n    }\n    else if (isInsideConnectionRadius && !isHandleValid) {\n        connectionStatus = 'invalid';\n    }\n    return connectionStatus;\n}\n\nfunction handlePointerDown({ event, handleId, nodeId, onConnect, isTarget, getState, setState, isValidConnection, edgeUpdaterType, onEdgeUpdateEnd, }) {\n    // when react-flow is used inside a shadow root we can't use document\n    const doc = getHostForElement(event.target);\n    const { connectionMode, domNode, autoPanOnConnect, connectionRadius, onConnectStart, panBy, getNodes, cancelConnection, } = getState();\n    let autoPanId = 0;\n    let prevClosestHandle;\n    const { x, y } = getEventPosition(event);\n    const clickedHandle = doc?.elementFromPoint(x, y);\n    const handleType = getHandleType(edgeUpdaterType, clickedHandle);\n    const containerBounds = domNode?.getBoundingClientRect();\n    if (!containerBounds || !handleType) {\n        return;\n    }\n    let prevActiveHandle;\n    let connectionPosition = getEventPosition(event, containerBounds);\n    let autoPanStarted = false;\n    let connection = null;\n    let isValid = false;\n    let handleDomNode = null;\n    const handleLookup = getHandleLookup({\n        nodes: getNodes(),\n        nodeId,\n        handleId,\n        handleType,\n    });\n    // when the user is moving the mouse close to the edge of the canvas while connecting we move the canvas\n    const autoPan = () => {\n        if (!autoPanOnConnect) {\n            return;\n        }\n        const [xMovement, yMovement] = calcAutoPan(connectionPosition, containerBounds);\n        panBy({ x: xMovement, y: yMovement });\n        autoPanId = requestAnimationFrame(autoPan);\n    };\n    setState({\n        connectionPosition,\n        connectionStatus: null,\n        // connectionNodeId etc will be removed in the next major in favor of connectionStartHandle\n        connectionNodeId: nodeId,\n        connectionHandleId: handleId,\n        connectionHandleType: handleType,\n        connectionStartHandle: {\n            nodeId,\n            handleId,\n            type: handleType,\n        },\n        connectionEndHandle: null,\n    });\n    onConnectStart?.(event, { nodeId, handleId, handleType });\n    function onPointerMove(event) {\n        const { transform } = getState();\n        connectionPosition = getEventPosition(event, containerBounds);\n        prevClosestHandle = getClosestHandle(pointToRendererPoint(connectionPosition, transform, false, [1, 1]), connectionRadius, handleLookup);\n        if (!autoPanStarted) {\n            autoPan();\n            autoPanStarted = true;\n        }\n        const result = isValidHandle(event, prevClosestHandle, connectionMode, nodeId, handleId, isTarget ? 'target' : 'source', isValidConnection, doc);\n        handleDomNode = result.handleDomNode;\n        connection = result.connection;\n        isValid = result.isValid;\n        setState({\n            connectionPosition: prevClosestHandle && isValid\n                ? rendererPointToPoint({\n                    x: prevClosestHandle.x,\n                    y: prevClosestHandle.y,\n                }, transform)\n                : connectionPosition,\n            connectionStatus: getConnectionStatus(!!prevClosestHandle, isValid),\n            connectionEndHandle: result.endHandle,\n        });\n        if (!prevClosestHandle && !isValid && !handleDomNode) {\n            return resetRecentHandle(prevActiveHandle);\n        }\n        if (connection.source !== connection.target && handleDomNode) {\n            resetRecentHandle(prevActiveHandle);\n            prevActiveHandle = handleDomNode;\n            // @todo: remove the old class names \"react-flow__handle-\" in the next major version\n            handleDomNode.classList.add('connecting', 'react-flow__handle-connecting');\n            handleDomNode.classList.toggle('valid', isValid);\n            handleDomNode.classList.toggle('react-flow__handle-valid', isValid);\n        }\n    }\n    function onPointerUp(event) {\n        if ((prevClosestHandle || handleDomNode) && connection && isValid) {\n            onConnect?.(connection);\n        }\n        // it's important to get a fresh reference from the store here\n        // in order to get the latest state of onConnectEnd\n        getState().onConnectEnd?.(event);\n        if (edgeUpdaterType) {\n            onEdgeUpdateEnd?.(event);\n        }\n        resetRecentHandle(prevActiveHandle);\n        cancelConnection();\n        cancelAnimationFrame(autoPanId);\n        autoPanStarted = false;\n        isValid = false;\n        connection = null;\n        handleDomNode = null;\n        doc.removeEventListener('mousemove', onPointerMove);\n        doc.removeEventListener('mouseup', onPointerUp);\n        doc.removeEventListener('touchmove', onPointerMove);\n        doc.removeEventListener('touchend', onPointerUp);\n    }\n    doc.addEventListener('mousemove', onPointerMove);\n    doc.addEventListener('mouseup', onPointerUp);\n    doc.addEventListener('touchmove', onPointerMove);\n    doc.addEventListener('touchend', onPointerUp);\n}\n\nconst alwaysValid = () => true;\nconst selector$f = (s) => ({\n    connectionStartHandle: s.connectionStartHandle,\n    connectOnClick: s.connectOnClick,\n    noPanClassName: s.noPanClassName,\n});\nconst connectingSelector = (nodeId, handleId, type) => (state) => {\n    const { connectionStartHandle: startHandle, connectionEndHandle: endHandle, connectionClickStartHandle: clickHandle, } = state;\n    return {\n        connecting: (startHandle?.nodeId === nodeId && startHandle?.handleId === handleId && startHandle?.type === type) ||\n            (endHandle?.nodeId === nodeId && endHandle?.handleId === handleId && endHandle?.type === type),\n        clickConnecting: clickHandle?.nodeId === nodeId && clickHandle?.handleId === handleId && clickHandle?.type === type,\n    };\n};\nconst Handle = forwardRef(({ type = 'source', position = Position.Top, isValidConnection, isConnectable = true, isConnectableStart = true, isConnectableEnd = true, id, onConnect, children, className, onMouseDown, onTouchStart, ...rest }, ref) => {\n    const handleId = id || null;\n    const isTarget = type === 'target';\n    const store = useStoreApi();\n    const nodeId = useNodeId();\n    const { connectOnClick, noPanClassName } = useStore(selector$f, shallow);\n    const { connecting, clickConnecting } = useStore(connectingSelector(nodeId, handleId, type));\n    if (!nodeId) {\n        store.getState().onError?.('010', errorMessages['error010']());\n    }\n    const onConnectExtended = (params) => {\n        const { defaultEdgeOptions, onConnect: onConnectAction, hasDefaultEdges } = store.getState();\n        const edgeParams = {\n            ...defaultEdgeOptions,\n            ...params,\n        };\n        if (hasDefaultEdges) {\n            const { edges, setEdges } = store.getState();\n            setEdges(addEdge(edgeParams, edges));\n        }\n        onConnectAction?.(edgeParams);\n        onConnect?.(edgeParams);\n    };\n    const onPointerDown = (event) => {\n        if (!nodeId) {\n            return;\n        }\n        const isMouseTriggered = isMouseEvent(event);\n        if (isConnectableStart && ((isMouseTriggered && event.button === 0) || !isMouseTriggered)) {\n            handlePointerDown({\n                event,\n                handleId,\n                nodeId,\n                onConnect: onConnectExtended,\n                isTarget,\n                getState: store.getState,\n                setState: store.setState,\n                isValidConnection: isValidConnection || store.getState().isValidConnection || alwaysValid,\n            });\n        }\n        if (isMouseTriggered) {\n            onMouseDown?.(event);\n        }\n        else {\n            onTouchStart?.(event);\n        }\n    };\n    const onClick = (event) => {\n        const { onClickConnectStart, onClickConnectEnd, connectionClickStartHandle, connectionMode, isValidConnection: isValidConnectionStore, } = store.getState();\n        if (!nodeId || (!connectionClickStartHandle && !isConnectableStart)) {\n            return;\n        }\n        if (!connectionClickStartHandle) {\n            onClickConnectStart?.(event, { nodeId, handleId, handleType: type });\n            store.setState({ connectionClickStartHandle: { nodeId, type, handleId } });\n            return;\n        }\n        const doc = getHostForElement(event.target);\n        const isValidConnectionHandler = isValidConnection || isValidConnectionStore || alwaysValid;\n        const { connection, isValid } = isValidHandle(event, {\n            nodeId,\n            id: handleId,\n            type,\n        }, connectionMode, connectionClickStartHandle.nodeId, connectionClickStartHandle.handleId || null, connectionClickStartHandle.type, isValidConnectionHandler, doc);\n        if (isValid) {\n            onConnectExtended(connection);\n        }\n        onClickConnectEnd?.(event);\n        store.setState({ connectionClickStartHandle: null });\n    };\n    return (jsx(\"div\", { \"data-handleid\": handleId, \"data-nodeid\": nodeId, \"data-handlepos\": position, \"data-id\": `${nodeId}-${handleId}-${type}`, className: cc([\n            'react-flow__handle',\n            `react-flow__handle-${position}`,\n            'nodrag',\n            noPanClassName,\n            className,\n            {\n                source: !isTarget,\n                target: isTarget,\n                connectable: isConnectable,\n                connectablestart: isConnectableStart,\n                connectableend: isConnectableEnd,\n                connecting: clickConnecting,\n                // this class is used to style the handle when the user is connecting\n                connectionindicator: isConnectable && ((isConnectableStart && !connecting) || (isConnectableEnd && connecting)),\n            },\n        ]), onMouseDown: onPointerDown, onTouchStart: onPointerDown, onClick: connectOnClick ? onClick : undefined, ref: ref, ...rest, children: children }));\n});\nHandle.displayName = 'Handle';\nvar Handle$1 = memo(Handle);\n\nconst DefaultNode = ({ data, isConnectable, targetPosition = Position.Top, sourcePosition = Position.Bottom, }) => {\n    return (jsxs(Fragment, { children: [jsx(Handle$1, { type: \"target\", position: targetPosition, isConnectable: isConnectable }), data?.label, jsx(Handle$1, { type: \"source\", position: sourcePosition, isConnectable: isConnectable })] }));\n};\nDefaultNode.displayName = 'DefaultNode';\nvar DefaultNode$1 = memo(DefaultNode);\n\nconst InputNode = ({ data, isConnectable, sourcePosition = Position.Bottom }) => (jsxs(Fragment, { children: [data?.label, jsx(Handle$1, { type: \"source\", position: sourcePosition, isConnectable: isConnectable })] }));\nInputNode.displayName = 'InputNode';\nvar InputNode$1 = memo(InputNode);\n\nconst OutputNode = ({ data, isConnectable, targetPosition = Position.Top }) => (jsxs(Fragment, { children: [jsx(Handle$1, { type: \"target\", position: targetPosition, isConnectable: isConnectable }), data?.label] }));\nOutputNode.displayName = 'OutputNode';\nvar OutputNode$1 = memo(OutputNode);\n\nconst GroupNode = () => null;\nGroupNode.displayName = 'GroupNode';\n\nconst selector$e = (s) => ({\n    selectedNodes: s.getNodes().filter((n) => n.selected),\n    selectedEdges: s.edges.filter((e) => e.selected),\n});\nconst selectId = (obj) => obj.id;\nfunction areEqual(a, b) {\n    return (shallow(a.selectedNodes.map(selectId), b.selectedNodes.map(selectId)) &&\n        shallow(a.selectedEdges.map(selectId), b.selectedEdges.map(selectId)));\n}\n// This is just a helper component for calling the onSelectionChange listener.\n// @TODO: Now that we have the onNodesChange and on EdgesChange listeners, do we still need this component?\nconst SelectionListener = memo(({ onSelectionChange }) => {\n    const store = useStoreApi();\n    const { selectedNodes, selectedEdges } = useStore(selector$e, areEqual);\n    useEffect(() => {\n        const params = { nodes: selectedNodes, edges: selectedEdges };\n        onSelectionChange?.(params);\n        store.getState().onSelectionChange?.(params);\n    }, [selectedNodes, selectedEdges, onSelectionChange]);\n    return null;\n});\nSelectionListener.displayName = 'SelectionListener';\nconst changeSelector = (s) => !!s.onSelectionChange;\nfunction Wrapper$1({ onSelectionChange }) {\n    const storeHasSelectionChange = useStore(changeSelector);\n    if (onSelectionChange || storeHasSelectionChange) {\n        return jsx(SelectionListener, { onSelectionChange: onSelectionChange });\n    }\n    return null;\n}\n\nconst selector$d = (s) => ({\n    setNodes: s.setNodes,\n    setEdges: s.setEdges,\n    setDefaultNodesAndEdges: s.setDefaultNodesAndEdges,\n    setMinZoom: s.setMinZoom,\n    setMaxZoom: s.setMaxZoom,\n    setTranslateExtent: s.setTranslateExtent,\n    setNodeExtent: s.setNodeExtent,\n    reset: s.reset,\n});\nfunction useStoreUpdater(value, setStoreState) {\n    useEffect(() => {\n        if (typeof value !== 'undefined') {\n            setStoreState(value);\n        }\n    }, [value]);\n}\n// updates with values in store that don't have a dedicated setter function\nfunction useDirectStoreUpdater(key, value, setState) {\n    useEffect(() => {\n        if (typeof value !== 'undefined') {\n            setState({ [key]: value });\n        }\n    }, [value]);\n}\nconst StoreUpdater = ({ nodes, edges, defaultNodes, defaultEdges, onConnect, onConnectStart, onConnectEnd, onClickConnectStart, onClickConnectEnd, nodesDraggable, nodesConnectable, nodesFocusable, edgesFocusable, edgesUpdatable, elevateNodesOnSelect, minZoom, maxZoom, nodeExtent, onNodesChange, onEdgesChange, elementsSelectable, connectionMode, snapGrid, snapToGrid, translateExtent, connectOnClick, defaultEdgeOptions, fitView, fitViewOptions, onNodesDelete, onEdgesDelete, onNodeDrag, onNodeDragStart, onNodeDragStop, onSelectionDrag, onSelectionDragStart, onSelectionDragStop, noPanClassName, nodeOrigin, rfId, autoPanOnConnect, autoPanOnNodeDrag, onError, connectionRadius, isValidConnection, }) => {\n    const { setNodes, setEdges, setDefaultNodesAndEdges, setMinZoom, setMaxZoom, setTranslateExtent, setNodeExtent, reset, } = useStore(selector$d, shallow);\n    const store = useStoreApi();\n    useEffect(() => {\n        const edgesWithDefaults = defaultEdges?.map((e) => ({ ...e, ...defaultEdgeOptions }));\n        setDefaultNodesAndEdges(defaultNodes, edgesWithDefaults);\n        return () => {\n            reset();\n        };\n    }, []);\n    useDirectStoreUpdater('defaultEdgeOptions', defaultEdgeOptions, store.setState);\n    useDirectStoreUpdater('connectionMode', connectionMode, store.setState);\n    useDirectStoreUpdater('onConnect', onConnect, store.setState);\n    useDirectStoreUpdater('onConnectStart', onConnectStart, store.setState);\n    useDirectStoreUpdater('onConnectEnd', onConnectEnd, store.setState);\n    useDirectStoreUpdater('onClickConnectStart', onClickConnectStart, store.setState);\n    useDirectStoreUpdater('onClickConnectEnd', onClickConnectEnd, store.setState);\n    useDirectStoreUpdater('nodesDraggable', nodesDraggable, store.setState);\n    useDirectStoreUpdater('nodesConnectable', nodesConnectable, store.setState);\n    useDirectStoreUpdater('nodesFocusable', nodesFocusable, store.setState);\n    useDirectStoreUpdater('edgesFocusable', edgesFocusable, store.setState);\n    useDirectStoreUpdater('edgesUpdatable', edgesUpdatable, store.setState);\n    useDirectStoreUpdater('elementsSelectable', elementsSelectable, store.setState);\n    useDirectStoreUpdater('elevateNodesOnSelect', elevateNodesOnSelect, store.setState);\n    useDirectStoreUpdater('snapToGrid', snapToGrid, store.setState);\n    useDirectStoreUpdater('snapGrid', snapGrid, store.setState);\n    useDirectStoreUpdater('onNodesChange', onNodesChange, store.setState);\n    useDirectStoreUpdater('onEdgesChange', onEdgesChange, store.setState);\n    useDirectStoreUpdater('connectOnClick', connectOnClick, store.setState);\n    useDirectStoreUpdater('fitViewOnInit', fitView, store.setState);\n    useDirectStoreUpdater('fitViewOnInitOptions', fitViewOptions, store.setState);\n    useDirectStoreUpdater('onNodesDelete', onNodesDelete, store.setState);\n    useDirectStoreUpdater('onEdgesDelete', onEdgesDelete, store.setState);\n    useDirectStoreUpdater('onNodeDrag', onNodeDrag, store.setState);\n    useDirectStoreUpdater('onNodeDragStart', onNodeDragStart, store.setState);\n    useDirectStoreUpdater('onNodeDragStop', onNodeDragStop, store.setState);\n    useDirectStoreUpdater('onSelectionDrag', onSelectionDrag, store.setState);\n    useDirectStoreUpdater('onSelectionDragStart', onSelectionDragStart, store.setState);\n    useDirectStoreUpdater('onSelectionDragStop', onSelectionDragStop, store.setState);\n    useDirectStoreUpdater('noPanClassName', noPanClassName, store.setState);\n    useDirectStoreUpdater('nodeOrigin', nodeOrigin, store.setState);\n    useDirectStoreUpdater('rfId', rfId, store.setState);\n    useDirectStoreUpdater('autoPanOnConnect', autoPanOnConnect, store.setState);\n    useDirectStoreUpdater('autoPanOnNodeDrag', autoPanOnNodeDrag, store.setState);\n    useDirectStoreUpdater('onError', onError, store.setState);\n    useDirectStoreUpdater('connectionRadius', connectionRadius, store.setState);\n    useDirectStoreUpdater('isValidConnection', isValidConnection, store.setState);\n    useStoreUpdater(nodes, setNodes);\n    useStoreUpdater(edges, setEdges);\n    useStoreUpdater(minZoom, setMinZoom);\n    useStoreUpdater(maxZoom, setMaxZoom);\n    useStoreUpdater(translateExtent, setTranslateExtent);\n    useStoreUpdater(nodeExtent, setNodeExtent);\n    return null;\n};\n\nconst style = { display: 'none' };\nconst ariaLiveStyle = {\n    position: 'absolute',\n    width: 1,\n    height: 1,\n    margin: -1,\n    border: 0,\n    padding: 0,\n    overflow: 'hidden',\n    clip: 'rect(0px, 0px, 0px, 0px)',\n    clipPath: 'inset(100%)',\n};\nconst ARIA_NODE_DESC_KEY = 'react-flow__node-desc';\nconst ARIA_EDGE_DESC_KEY = 'react-flow__edge-desc';\nconst ARIA_LIVE_MESSAGE = 'react-flow__aria-live';\nconst selector$c = (s) => s.ariaLiveMessage;\nfunction AriaLiveMessage({ rfId }) {\n    const ariaLiveMessage = useStore(selector$c);\n    return (jsx(\"div\", { id: `${ARIA_LIVE_MESSAGE}-${rfId}`, \"aria-live\": \"assertive\", \"aria-atomic\": \"true\", style: ariaLiveStyle, children: ariaLiveMessage }));\n}\nfunction A11yDescriptions({ rfId, disableKeyboardA11y }) {\n    return (jsxs(Fragment, { children: [jsxs(\"div\", { id: `${ARIA_NODE_DESC_KEY}-${rfId}`, style: style, children: [\"Press enter or space to select a node.\", !disableKeyboardA11y && 'You can then use the arrow keys to move the node around.', \" Press delete to remove it and escape to cancel.\", ' '] }), jsx(\"div\", { id: `${ARIA_EDGE_DESC_KEY}-${rfId}`, style: style, children: \"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.\" }), !disableKeyboardA11y && jsx(AriaLiveMessage, { rfId: rfId })] }));\n}\n\nconst shiftX = (x, shift, position) => {\n    if (position === Position.Left)\n        return x - shift;\n    if (position === Position.Right)\n        return x + shift;\n    return x;\n};\nconst shiftY = (y, shift, position) => {\n    if (position === Position.Top)\n        return y - shift;\n    if (position === Position.Bottom)\n        return y + shift;\n    return y;\n};\nconst EdgeUpdaterClassName = 'react-flow__edgeupdater';\nconst EdgeAnchor = ({ position, centerX, centerY, radius = 10, onMouseDown, onMouseEnter, onMouseOut, type, }) => (jsx(\"circle\", { onMouseDown: onMouseDown, onMouseEnter: onMouseEnter, onMouseOut: onMouseOut, className: cc([EdgeUpdaterClassName, `${EdgeUpdaterClassName}-${type}`]), cx: shiftX(centerX, radius, position), cy: shiftY(centerY, radius, position), r: radius, stroke: \"transparent\", fill: \"transparent\" }));\n\nconst alwaysValidConnection = () => true;\nvar wrapEdge = (EdgeComponent) => {\n    const EdgeWrapper = ({ id, className, type, data, onClick, onEdgeDoubleClick, selected, animated, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius, style, source, target, sourceX, sourceY, targetX, targetY, sourcePosition, targetPosition, elementsSelectable, hidden, sourceHandleId, targetHandleId, onContextMenu, onMouseEnter, onMouseMove, onMouseLeave, edgeUpdaterRadius, onEdgeUpdate, onEdgeUpdateStart, onEdgeUpdateEnd, markerEnd, markerStart, rfId, ariaLabel, isFocusable, isUpdatable, pathOptions, interactionWidth, }) => {\n        const edgeRef = useRef(null);\n        const [updateHover, setUpdateHover] = useState(false);\n        const [updating, setUpdating] = useState(false);\n        const store = useStoreApi();\n        const markerStartUrl = useMemo(() => `url(#${getMarkerId(markerStart, rfId)})`, [markerStart, rfId]);\n        const markerEndUrl = useMemo(() => `url(#${getMarkerId(markerEnd, rfId)})`, [markerEnd, rfId]);\n        if (hidden) {\n            return null;\n        }\n        const onEdgeClick = (event) => {\n            const { edges, addSelectedEdges } = store.getState();\n            if (elementsSelectable) {\n                store.setState({ nodesSelectionActive: false });\n                addSelectedEdges([id]);\n            }\n            if (onClick) {\n                const edge = edges.find((e) => e.id === id);\n                onClick(event, edge);\n            }\n        };\n        const onEdgeDoubleClickHandler = getMouseHandler$1(id, store.getState, onEdgeDoubleClick);\n        const onEdgeContextMenu = getMouseHandler$1(id, store.getState, onContextMenu);\n        const onEdgeMouseEnter = getMouseHandler$1(id, store.getState, onMouseEnter);\n        const onEdgeMouseMove = getMouseHandler$1(id, store.getState, onMouseMove);\n        const onEdgeMouseLeave = getMouseHandler$1(id, store.getState, onMouseLeave);\n        const handleEdgeUpdater = (event, isSourceHandle) => {\n            // avoid triggering edge updater if mouse btn is not left\n            if (event.button !== 0) {\n                return;\n            }\n            const { edges, isValidConnection: isValidConnectionStore } = store.getState();\n            const nodeId = isSourceHandle ? target : source;\n            const handleId = (isSourceHandle ? targetHandleId : sourceHandleId) || null;\n            const handleType = isSourceHandle ? 'target' : 'source';\n            const isValidConnection = isValidConnectionStore || alwaysValidConnection;\n            const isTarget = isSourceHandle;\n            const edge = edges.find((e) => e.id === id);\n            setUpdating(true);\n            onEdgeUpdateStart?.(event, edge, handleType);\n            const _onEdgeUpdateEnd = (evt) => {\n                setUpdating(false);\n                onEdgeUpdateEnd?.(evt, edge, handleType);\n            };\n            const onConnectEdge = (connection) => onEdgeUpdate?.(edge, connection);\n            handlePointerDown({\n                event,\n                handleId,\n                nodeId,\n                onConnect: onConnectEdge,\n                isTarget,\n                getState: store.getState,\n                setState: store.setState,\n                isValidConnection,\n                edgeUpdaterType: handleType,\n                onEdgeUpdateEnd: _onEdgeUpdateEnd,\n            });\n        };\n        const onEdgeUpdaterSourceMouseDown = (event) => handleEdgeUpdater(event, true);\n        const onEdgeUpdaterTargetMouseDown = (event) => handleEdgeUpdater(event, false);\n        const onEdgeUpdaterMouseEnter = () => setUpdateHover(true);\n        const onEdgeUpdaterMouseOut = () => setUpdateHover(false);\n        const inactive = !elementsSelectable && !onClick;\n        const onKeyDown = (event) => {\n            if (elementSelectionKeys.includes(event.key) && elementsSelectable) {\n                const { unselectNodesAndEdges, addSelectedEdges, edges } = store.getState();\n                const unselect = event.key === 'Escape';\n                if (unselect) {\n                    edgeRef.current?.blur();\n                    unselectNodesAndEdges({ edges: [edges.find((e) => e.id === id)] });\n                }\n                else {\n                    addSelectedEdges([id]);\n                }\n            }\n        };\n        return (jsxs(\"g\", { className: cc([\n                'react-flow__edge',\n                `react-flow__edge-${type}`,\n                className,\n                { selected, animated, inactive, updating: updateHover },\n            ]), onClick: onEdgeClick, onDoubleClick: onEdgeDoubleClickHandler, onContextMenu: onEdgeContextMenu, onMouseEnter: onEdgeMouseEnter, onMouseMove: onEdgeMouseMove, onMouseLeave: onEdgeMouseLeave, onKeyDown: isFocusable ? onKeyDown : undefined, tabIndex: isFocusable ? 0 : undefined, role: isFocusable ? 'button' : undefined, \"data-testid\": `rf__edge-${id}`, \"aria-label\": ariaLabel === null ? undefined : ariaLabel ? ariaLabel : `Edge from ${source} to ${target}`, \"aria-describedby\": isFocusable ? `${ARIA_EDGE_DESC_KEY}-${rfId}` : undefined, ref: edgeRef, children: [!updating && (jsx(EdgeComponent, { id: id, source: source, target: target, selected: selected, animated: animated, label: label, labelStyle: labelStyle, labelShowBg: labelShowBg, labelBgStyle: labelBgStyle, labelBgPadding: labelBgPadding, labelBgBorderRadius: labelBgBorderRadius, data: data, style: style, sourceX: sourceX, sourceY: sourceY, targetX: targetX, targetY: targetY, sourcePosition: sourcePosition, targetPosition: targetPosition, sourceHandleId: sourceHandleId, targetHandleId: targetHandleId, markerStart: markerStartUrl, markerEnd: markerEndUrl, pathOptions: pathOptions, interactionWidth: interactionWidth })), isUpdatable && (jsxs(Fragment, { children: [(isUpdatable === 'source' || isUpdatable === true) && (jsx(EdgeAnchor, { position: sourcePosition, centerX: sourceX, centerY: sourceY, radius: edgeUpdaterRadius, onMouseDown: onEdgeUpdaterSourceMouseDown, onMouseEnter: onEdgeUpdaterMouseEnter, onMouseOut: onEdgeUpdaterMouseOut, type: \"source\" })), (isUpdatable === 'target' || isUpdatable === true) && (jsx(EdgeAnchor, { position: targetPosition, centerX: targetX, centerY: targetY, radius: edgeUpdaterRadius, onMouseDown: onEdgeUpdaterTargetMouseDown, onMouseEnter: onEdgeUpdaterMouseEnter, onMouseOut: onEdgeUpdaterMouseOut, type: \"target\" }))] }))] }));\n    };\n    EdgeWrapper.displayName = 'EdgeWrapper';\n    return memo(EdgeWrapper);\n};\n\nfunction createEdgeTypes(edgeTypes) {\n    const standardTypes = {\n        default: wrapEdge((edgeTypes.default || BezierEdge)),\n        straight: wrapEdge((edgeTypes.bezier || StraightEdge)),\n        step: wrapEdge((edgeTypes.step || StepEdge)),\n        smoothstep: wrapEdge((edgeTypes.step || SmoothStepEdge)),\n        simplebezier: wrapEdge((edgeTypes.simplebezier || SimpleBezierEdge)),\n    };\n    const wrappedTypes = {};\n    const specialTypes = Object.keys(edgeTypes)\n        .filter((k) => !['default', 'bezier'].includes(k))\n        .reduce((res, key) => {\n        res[key] = wrapEdge((edgeTypes[key] || BezierEdge));\n        return res;\n    }, wrappedTypes);\n    return {\n        ...standardTypes,\n        ...specialTypes,\n    };\n}\nfunction getHandlePosition(position, nodeRect, handle = null) {\n    const x = (handle?.x || 0) + nodeRect.x;\n    const y = (handle?.y || 0) + nodeRect.y;\n    const width = handle?.width || nodeRect.width;\n    const height = handle?.height || nodeRect.height;\n    switch (position) {\n        case Position.Top:\n            return {\n                x: x + width / 2,\n                y,\n            };\n        case Position.Right:\n            return {\n                x: x + width,\n                y: y + height / 2,\n            };\n        case Position.Bottom:\n            return {\n                x: x + width / 2,\n                y: y + height,\n            };\n        case Position.Left:\n            return {\n                x,\n                y: y + height / 2,\n            };\n    }\n}\nfunction getHandle(bounds, handleId) {\n    if (!bounds) {\n        return null;\n    }\n    if (bounds.length === 1 || !handleId) {\n        return bounds[0];\n    }\n    else if (handleId) {\n        return bounds.find((d) => d.id === handleId) || null;\n    }\n    return null;\n}\nconst getEdgePositions = (sourceNodeRect, sourceHandle, sourcePosition, targetNodeRect, targetHandle, targetPosition) => {\n    const sourceHandlePos = getHandlePosition(sourcePosition, sourceNodeRect, sourceHandle);\n    const targetHandlePos = getHandlePosition(targetPosition, targetNodeRect, targetHandle);\n    return {\n        sourceX: sourceHandlePos.x,\n        sourceY: sourceHandlePos.y,\n        targetX: targetHandlePos.x,\n        targetY: targetHandlePos.y,\n    };\n};\nfunction isEdgeVisible({ sourcePos, targetPos, sourceWidth, sourceHeight, targetWidth, targetHeight, width, height, transform, }) {\n    const edgeBox = {\n        x: Math.min(sourcePos.x, targetPos.x),\n        y: Math.min(sourcePos.y, targetPos.y),\n        x2: Math.max(sourcePos.x + sourceWidth, targetPos.x + targetWidth),\n        y2: Math.max(sourcePos.y + sourceHeight, targetPos.y + targetHeight),\n    };\n    if (edgeBox.x === edgeBox.x2) {\n        edgeBox.x2 += 1;\n    }\n    if (edgeBox.y === edgeBox.y2) {\n        edgeBox.y2 += 1;\n    }\n    const viewBox = rectToBox({\n        x: (0 - transform[0]) / transform[2],\n        y: (0 - transform[1]) / transform[2],\n        width: width / transform[2],\n        height: height / transform[2],\n    });\n    const xOverlap = Math.max(0, Math.min(viewBox.x2, edgeBox.x2) - Math.max(viewBox.x, edgeBox.x));\n    const yOverlap = Math.max(0, Math.min(viewBox.y2, edgeBox.y2) - Math.max(viewBox.y, edgeBox.y));\n    const overlappingArea = Math.ceil(xOverlap * yOverlap);\n    return overlappingArea > 0;\n}\nfunction getNodeData(node) {\n    const handleBounds = node?.[internalsSymbol]?.handleBounds || null;\n    const isValid = handleBounds &&\n        node?.width &&\n        node?.height &&\n        typeof node?.positionAbsolute?.x !== 'undefined' &&\n        typeof node?.positionAbsolute?.y !== 'undefined';\n    return [\n        {\n            x: node?.positionAbsolute?.x || 0,\n            y: node?.positionAbsolute?.y || 0,\n            width: node?.width || 0,\n            height: node?.height || 0,\n        },\n        handleBounds,\n        !!isValid,\n    ];\n}\n\nfunction isParentSelected(node, nodeInternals) {\n    if (!node.parentNode) {\n        return false;\n    }\n    const parentNode = nodeInternals.get(node.parentNode);\n    if (!parentNode) {\n        return false;\n    }\n    if (parentNode.selected) {\n        return true;\n    }\n    return isParentSelected(parentNode, nodeInternals);\n}\nfunction hasSelector(target, selector, nodeRef) {\n    let current = target;\n    do {\n        if (current?.matches(selector))\n            return true;\n        if (current === nodeRef.current)\n            return false;\n        current = current.parentElement;\n    } while (current);\n    return false;\n}\n// looks for all selected nodes and created a NodeDragItem for each of them\nfunction getDragItems(nodeInternals, nodesDraggable, mousePos, nodeId) {\n    return Array.from(nodeInternals.values())\n        .filter((n) => (n.selected || n.id === nodeId) &&\n        (!n.parentNode || !isParentSelected(n, nodeInternals)) &&\n        (n.draggable || (nodesDraggable && typeof n.draggable === 'undefined')))\n        .map((n) => ({\n        id: n.id,\n        position: n.position || { x: 0, y: 0 },\n        positionAbsolute: n.positionAbsolute || { x: 0, y: 0 },\n        distance: {\n            x: mousePos.x - (n.positionAbsolute?.x ?? 0),\n            y: mousePos.y - (n.positionAbsolute?.y ?? 0),\n        },\n        delta: {\n            x: 0,\n            y: 0,\n        },\n        extent: n.extent,\n        parentNode: n.parentNode,\n        width: n.width,\n        height: n.height,\n    }));\n}\nfunction calcNextPosition(node, nextPosition, nodeInternals, nodeExtent, nodeOrigin = [0, 0], onError) {\n    let currentExtent = node.extent || nodeExtent;\n    if (node.extent === 'parent') {\n        if (node.parentNode && node.width && node.height) {\n            const parent = nodeInternals.get(node.parentNode);\n            const { x: parentX, y: parentY } = getNodePositionWithOrigin(parent, nodeOrigin).positionAbsolute;\n            currentExtent =\n                parent && isNumeric(parentX) && isNumeric(parentY) && isNumeric(parent.width) && isNumeric(parent.height)\n                    ? [\n                        [parentX + node.width * nodeOrigin[0], parentY + node.height * nodeOrigin[1]],\n                        [\n                            parentX + parent.width - node.width + node.width * nodeOrigin[0],\n                            parentY + parent.height - node.height + node.height * nodeOrigin[1],\n                        ],\n                    ]\n                    : currentExtent;\n        }\n        else {\n            onError?.('005', errorMessages['error005']());\n            currentExtent = nodeExtent;\n        }\n    }\n    else if (node.extent && node.parentNode) {\n        const parent = nodeInternals.get(node.parentNode);\n        const { x: parentX, y: parentY } = getNodePositionWithOrigin(parent, nodeOrigin).positionAbsolute;\n        currentExtent = [\n            [node.extent[0][0] + parentX, node.extent[0][1] + parentY],\n            [node.extent[1][0] + parentX, node.extent[1][1] + parentY],\n        ];\n    }\n    let parentPosition = { x: 0, y: 0 };\n    if (node.parentNode) {\n        const parentNode = nodeInternals.get(node.parentNode);\n        parentPosition = getNodePositionWithOrigin(parentNode, nodeOrigin).positionAbsolute;\n    }\n    const positionAbsolute = currentExtent\n        ? clampPosition(nextPosition, currentExtent)\n        : nextPosition;\n    return {\n        position: {\n            x: positionAbsolute.x - parentPosition.x,\n            y: positionAbsolute.y - parentPosition.y,\n        },\n        positionAbsolute,\n    };\n}\n// returns two params:\n// 1. the dragged node (or the first of the list, if we are dragging a node selection)\n// 2. array of selected nodes (for multi selections)\nfunction getEventHandlerParams({ nodeId, dragItems, nodeInternals, }) {\n    const extentedDragItems = dragItems.map((n) => {\n        const node = nodeInternals.get(n.id);\n        return {\n            ...node,\n            position: n.position,\n            positionAbsolute: n.positionAbsolute,\n        };\n    });\n    return [nodeId ? extentedDragItems.find((n) => n.id === nodeId) : extentedDragItems[0], extentedDragItems];\n}\n\nconst getHandleBounds = (selector, nodeElement, zoom, nodeOrigin) => {\n    const handles = nodeElement.querySelectorAll(selector);\n    if (!handles || !handles.length) {\n        return null;\n    }\n    const handlesArray = Array.from(handles);\n    const nodeBounds = nodeElement.getBoundingClientRect();\n    const nodeOffset = {\n        x: nodeBounds.width * nodeOrigin[0],\n        y: nodeBounds.height * nodeOrigin[1],\n    };\n    return handlesArray.map((handle) => {\n        const handleBounds = handle.getBoundingClientRect();\n        return {\n            id: handle.getAttribute('data-handleid'),\n            position: handle.getAttribute('data-handlepos'),\n            x: (handleBounds.left - nodeBounds.left - nodeOffset.x) / zoom,\n            y: (handleBounds.top - nodeBounds.top - nodeOffset.y) / zoom,\n            ...getDimensions(handle),\n        };\n    });\n};\nfunction getMouseHandler(id, getState, handler) {\n    return handler === undefined\n        ? handler\n        : (event) => {\n            const node = getState().nodeInternals.get(id);\n            handler(event, { ...node });\n        };\n}\n// this handler is called by\n// 1. the click handler when node is not draggable or selectNodesOnDrag = false\n// or\n// 2. the on drag start handler when node is draggable and selectNodesOnDrag = true\nfunction handleNodeClick({ id, store, unselect = false, nodeRef, }) {\n    const { addSelectedNodes, unselectNodesAndEdges, multiSelectionActive, nodeInternals } = store.getState();\n    const node = nodeInternals.get(id);\n    store.setState({ nodesSelectionActive: false });\n    if (!node.selected) {\n        addSelectedNodes([id]);\n    }\n    else if (unselect || (node.selected && multiSelectionActive)) {\n        unselectNodesAndEdges({ nodes: [node] });\n        requestAnimationFrame(() => nodeRef?.current?.blur());\n    }\n}\n\nfunction useGetPointerPosition() {\n    const store = useStoreApi();\n    // returns the pointer position projected to the RF coordinate system\n    const getPointerPosition = useCallback(({ sourceEvent }) => {\n        const { transform, snapGrid, snapToGrid } = store.getState();\n        const x = sourceEvent.touches ? sourceEvent.touches[0].clientX : sourceEvent.clientX;\n        const y = sourceEvent.touches ? sourceEvent.touches[0].clientY : sourceEvent.clientY;\n        const pointerPos = {\n            x: (x - transform[0]) / transform[2],\n            y: (y - transform[1]) / transform[2],\n        };\n        // we need the snapped position in order to be able to skip unnecessary drag events\n        return {\n            xSnapped: snapToGrid ? snapGrid[0] * Math.round(pointerPos.x / snapGrid[0]) : pointerPos.x,\n            ySnapped: snapToGrid ? snapGrid[1] * Math.round(pointerPos.y / snapGrid[1]) : pointerPos.y,\n            ...pointerPos,\n        };\n    }, []);\n    return getPointerPosition;\n}\n\nfunction wrapSelectionDragFunc(selectionFunc) {\n    return (event, _, nodes) => selectionFunc?.(event, nodes);\n}\nfunction useDrag({ nodeRef, disabled = false, noDragClassName, handleSelector, nodeId, isSelectable, selectNodesOnDrag, }) {\n    const store = useStoreApi();\n    const [dragging, setDragging] = useState(false);\n    const dragItems = useRef([]);\n    const lastPos = useRef({ x: null, y: null });\n    const autoPanId = useRef(0);\n    const containerBounds = useRef(null);\n    const mousePosition = useRef({ x: 0, y: 0 });\n    const dragEvent = useRef(null);\n    const autoPanStarted = useRef(false);\n    const getPointerPosition = useGetPointerPosition();\n    useEffect(() => {\n        if (nodeRef?.current) {\n            const selection = select(nodeRef.current);\n            const updateNodes = ({ x, y }) => {\n                const { nodeInternals, onNodeDrag, onSelectionDrag, updateNodePositions, nodeExtent, snapGrid, snapToGrid, nodeOrigin, onError, } = store.getState();\n                lastPos.current = { x, y };\n                let hasChange = false;\n                dragItems.current = dragItems.current.map((n) => {\n                    const nextPosition = { x: x - n.distance.x, y: y - n.distance.y };\n                    if (snapToGrid) {\n                        nextPosition.x = snapGrid[0] * Math.round(nextPosition.x / snapGrid[0]);\n                        nextPosition.y = snapGrid[1] * Math.round(nextPosition.y / snapGrid[1]);\n                    }\n                    const updatedPos = calcNextPosition(n, nextPosition, nodeInternals, nodeExtent, nodeOrigin, onError);\n                    // we want to make sure that we only fire a change event when there is a changes\n                    hasChange = hasChange || n.position.x !== updatedPos.position.x || n.position.y !== updatedPos.position.y;\n                    n.position = updatedPos.position;\n                    n.positionAbsolute = updatedPos.positionAbsolute;\n                    return n;\n                });\n                if (!hasChange) {\n                    return;\n                }\n                updateNodePositions(dragItems.current, true, true);\n                setDragging(true);\n                const onDrag = nodeId ? onNodeDrag : wrapSelectionDragFunc(onSelectionDrag);\n                if (onDrag && dragEvent.current) {\n                    const [currentNode, nodes] = getEventHandlerParams({\n                        nodeId,\n                        dragItems: dragItems.current,\n                        nodeInternals,\n                    });\n                    onDrag(dragEvent.current, currentNode, nodes);\n                }\n            };\n            const autoPan = () => {\n                if (!containerBounds.current) {\n                    return;\n                }\n                const [xMovement, yMovement] = calcAutoPan(mousePosition.current, containerBounds.current);\n                if (xMovement !== 0 || yMovement !== 0) {\n                    const { transform, panBy } = store.getState();\n                    lastPos.current.x = (lastPos.current.x ?? 0) - xMovement / transform[2];\n                    lastPos.current.y = (lastPos.current.y ?? 0) - yMovement / transform[2];\n                    updateNodes(lastPos.current);\n                    panBy({ x: xMovement, y: yMovement });\n                }\n                autoPanId.current = requestAnimationFrame(autoPan);\n            };\n            if (disabled) {\n                selection.on('.drag', null);\n            }\n            else {\n                const dragHandler = drag()\n                    .on('start', (event) => {\n                    const { nodeInternals, multiSelectionActive, domNode, nodesDraggable, unselectNodesAndEdges, onNodeDragStart, onSelectionDragStart, } = store.getState();\n                    const onStart = nodeId ? onNodeDragStart : wrapSelectionDragFunc(onSelectionDragStart);\n                    if (!selectNodesOnDrag && !multiSelectionActive && nodeId) {\n                        if (!nodeInternals.get(nodeId)?.selected) {\n                            // we need to reset selected nodes when selectNodesOnDrag=false\n                            unselectNodesAndEdges();\n                        }\n                    }\n                    if (nodeId && isSelectable && selectNodesOnDrag) {\n                        handleNodeClick({\n                            id: nodeId,\n                            store,\n                            nodeRef: nodeRef,\n                        });\n                    }\n                    const pointerPos = getPointerPosition(event);\n                    lastPos.current = pointerPos;\n                    dragItems.current = getDragItems(nodeInternals, nodesDraggable, pointerPos, nodeId);\n                    if (onStart && dragItems.current) {\n                        const [currentNode, nodes] = getEventHandlerParams({\n                            nodeId,\n                            dragItems: dragItems.current,\n                            nodeInternals,\n                        });\n                        onStart(event.sourceEvent, currentNode, nodes);\n                    }\n                    containerBounds.current = domNode?.getBoundingClientRect() || null;\n                    mousePosition.current = getEventPosition(event.sourceEvent, containerBounds.current);\n                })\n                    .on('drag', (event) => {\n                    const pointerPos = getPointerPosition(event);\n                    const { autoPanOnNodeDrag } = store.getState();\n                    if (!autoPanStarted.current && autoPanOnNodeDrag) {\n                        autoPanStarted.current = true;\n                        autoPan();\n                    }\n                    // skip events without movement\n                    if ((lastPos.current.x !== pointerPos.xSnapped || lastPos.current.y !== pointerPos.ySnapped) &&\n                        dragItems.current) {\n                        dragEvent.current = event.sourceEvent;\n                        mousePosition.current = getEventPosition(event.sourceEvent, containerBounds.current);\n                        updateNodes(pointerPos);\n                    }\n                })\n                    .on('end', (event) => {\n                    setDragging(false);\n                    autoPanStarted.current = false;\n                    cancelAnimationFrame(autoPanId.current);\n                    if (dragItems.current) {\n                        const { updateNodePositions, nodeInternals, onNodeDragStop, onSelectionDragStop } = store.getState();\n                        const onStop = nodeId ? onNodeDragStop : wrapSelectionDragFunc(onSelectionDragStop);\n                        updateNodePositions(dragItems.current, false, false);\n                        if (onStop) {\n                            const [currentNode, nodes] = getEventHandlerParams({\n                                nodeId,\n                                dragItems: dragItems.current,\n                                nodeInternals,\n                            });\n                            onStop(event.sourceEvent, currentNode, nodes);\n                        }\n                    }\n                })\n                    .filter((event) => {\n                    const target = event.target;\n                    const isDraggable = !event.button &&\n                        (!noDragClassName || !hasSelector(target, `.${noDragClassName}`, nodeRef)) &&\n                        (!handleSelector || hasSelector(target, handleSelector, nodeRef));\n                    return isDraggable;\n                });\n                selection.call(dragHandler);\n                return () => {\n                    selection.on('.drag', null);\n                };\n            }\n        }\n    }, [\n        nodeRef,\n        disabled,\n        noDragClassName,\n        handleSelector,\n        isSelectable,\n        store,\n        nodeId,\n        selectNodesOnDrag,\n        getPointerPosition,\n    ]);\n    return dragging;\n}\n\nfunction useUpdateNodePositions() {\n    const store = useStoreApi();\n    const updatePositions = useCallback((params) => {\n        const { nodeInternals, nodeExtent, updateNodePositions, getNodes, snapToGrid, snapGrid, onError, nodesDraggable } = store.getState();\n        const selectedNodes = getNodes().filter((n) => n.selected && (n.draggable || (nodesDraggable && typeof n.draggable === 'undefined')));\n        // by default a node moves 5px on each key press, or 20px if shift is pressed\n        // if snap grid is enabled, we use that for the velocity.\n        const xVelo = snapToGrid ? snapGrid[0] : 5;\n        const yVelo = snapToGrid ? snapGrid[1] : 5;\n        const factor = params.isShiftPressed ? 4 : 1;\n        const positionDiffX = params.x * xVelo * factor;\n        const positionDiffY = params.y * yVelo * factor;\n        const nodeUpdates = selectedNodes.map((n) => {\n            if (n.positionAbsolute) {\n                const nextPosition = { x: n.positionAbsolute.x + positionDiffX, y: n.positionAbsolute.y + positionDiffY };\n                if (snapToGrid) {\n                    nextPosition.x = snapGrid[0] * Math.round(nextPosition.x / snapGrid[0]);\n                    nextPosition.y = snapGrid[1] * Math.round(nextPosition.y / snapGrid[1]);\n                }\n                const { positionAbsolute, position } = calcNextPosition(n, nextPosition, nodeInternals, nodeExtent, undefined, onError);\n                n.position = position;\n                n.positionAbsolute = positionAbsolute;\n            }\n            return n;\n        });\n        updateNodePositions(nodeUpdates, true, false);\n    }, []);\n    return updatePositions;\n}\n\nconst arrowKeyDiffs = {\n    ArrowUp: { x: 0, y: -1 },\n    ArrowDown: { x: 0, y: 1 },\n    ArrowLeft: { x: -1, y: 0 },\n    ArrowRight: { x: 1, y: 0 },\n};\nvar wrapNode = (NodeComponent) => {\n    const NodeWrapper = ({ id, type, data, xPos, yPos, xPosOrigin, yPosOrigin, selected, onClick, onMouseEnter, onMouseMove, onMouseLeave, onContextMenu, onDoubleClick, style, className, isDraggable, isSelectable, isConnectable, isFocusable, selectNodesOnDrag, sourcePosition, targetPosition, hidden, resizeObserver, dragHandle, zIndex, isParent, noDragClassName, noPanClassName, initialized, disableKeyboardA11y, ariaLabel, rfId, }) => {\n        const store = useStoreApi();\n        const nodeRef = useRef(null);\n        const prevSourcePosition = useRef(sourcePosition);\n        const prevTargetPosition = useRef(targetPosition);\n        const prevType = useRef(type);\n        const hasPointerEvents = isSelectable || isDraggable || onClick || onMouseEnter || onMouseMove || onMouseLeave;\n        const updatePositions = useUpdateNodePositions();\n        const onMouseEnterHandler = getMouseHandler(id, store.getState, onMouseEnter);\n        const onMouseMoveHandler = getMouseHandler(id, store.getState, onMouseMove);\n        const onMouseLeaveHandler = getMouseHandler(id, store.getState, onMouseLeave);\n        const onContextMenuHandler = getMouseHandler(id, store.getState, onContextMenu);\n        const onDoubleClickHandler = getMouseHandler(id, store.getState, onDoubleClick);\n        const onSelectNodeHandler = (event) => {\n            if (isSelectable && (!selectNodesOnDrag || !isDraggable)) {\n                // this handler gets called within the drag start event when selectNodesOnDrag=true\n                handleNodeClick({\n                    id,\n                    store,\n                    nodeRef,\n                });\n            }\n            if (onClick) {\n                const node = store.getState().nodeInternals.get(id);\n                onClick(event, { ...node });\n            }\n        };\n        const onKeyDown = (event) => {\n            if (isInputDOMNode(event)) {\n                return;\n            }\n            if (elementSelectionKeys.includes(event.key) && isSelectable) {\n                const unselect = event.key === 'Escape';\n                handleNodeClick({\n                    id,\n                    store,\n                    unselect,\n                    nodeRef,\n                });\n            }\n            else if (!disableKeyboardA11y &&\n                isDraggable &&\n                selected &&\n                Object.prototype.hasOwnProperty.call(arrowKeyDiffs, event.key)) {\n                store.setState({\n                    ariaLiveMessage: `Moved selected node ${event.key\n                        .replace('Arrow', '')\n                        .toLowerCase()}. New position, x: ${~~xPos}, y: ${~~yPos}`,\n                });\n                updatePositions({\n                    x: arrowKeyDiffs[event.key].x,\n                    y: arrowKeyDiffs[event.key].y,\n                    isShiftPressed: event.shiftKey,\n                });\n            }\n        };\n        useEffect(() => {\n            if (nodeRef.current && !hidden) {\n                const currNode = nodeRef.current;\n                resizeObserver?.observe(currNode);\n                return () => resizeObserver?.unobserve(currNode);\n            }\n        }, [hidden]);\n        useEffect(() => {\n            // when the user programmatically changes the source or handle position, we re-initialize the node\n            const typeChanged = prevType.current !== type;\n            const sourcePosChanged = prevSourcePosition.current !== sourcePosition;\n            const targetPosChanged = prevTargetPosition.current !== targetPosition;\n            if (nodeRef.current && (typeChanged || sourcePosChanged || targetPosChanged)) {\n                if (typeChanged) {\n                    prevType.current = type;\n                }\n                if (sourcePosChanged) {\n                    prevSourcePosition.current = sourcePosition;\n                }\n                if (targetPosChanged) {\n                    prevTargetPosition.current = targetPosition;\n                }\n                store.getState().updateNodeDimensions([{ id, nodeElement: nodeRef.current, forceUpdate: true }]);\n            }\n        }, [id, type, sourcePosition, targetPosition]);\n        const dragging = useDrag({\n            nodeRef,\n            disabled: hidden || !isDraggable,\n            noDragClassName,\n            handleSelector: dragHandle,\n            nodeId: id,\n            isSelectable,\n            selectNodesOnDrag,\n        });\n        if (hidden) {\n            return null;\n        }\n        return (jsx(\"div\", { className: cc([\n                'react-flow__node',\n                `react-flow__node-${type}`,\n                {\n                    // this is overwritable by passing `nopan` as a class name\n                    [noPanClassName]: isDraggable,\n                },\n                className,\n                {\n                    selected,\n                    selectable: isSelectable,\n                    parent: isParent,\n                    dragging,\n                },\n            ]), ref: nodeRef, style: {\n                zIndex,\n                transform: `translate(${xPosOrigin}px,${yPosOrigin}px)`,\n                pointerEvents: hasPointerEvents ? 'all' : 'none',\n                visibility: initialized ? 'visible' : 'hidden',\n                ...style,\n            }, \"data-id\": id, \"data-testid\": `rf__node-${id}`, onMouseEnter: onMouseEnterHandler, onMouseMove: onMouseMoveHandler, onMouseLeave: onMouseLeaveHandler, onContextMenu: onContextMenuHandler, onClick: onSelectNodeHandler, onDoubleClick: onDoubleClickHandler, onKeyDown: isFocusable ? onKeyDown : undefined, tabIndex: isFocusable ? 0 : undefined, role: isFocusable ? 'button' : undefined, \"aria-describedby\": disableKeyboardA11y ? undefined : `${ARIA_NODE_DESC_KEY}-${rfId}`, \"aria-label\": ariaLabel, children: jsx(Provider, { value: id, children: jsx(NodeComponent, { id: id, data: data, type: type, xPos: xPos, yPos: yPos, selected: selected, isConnectable: isConnectable, sourcePosition: sourcePosition, targetPosition: targetPosition, dragging: dragging, dragHandle: dragHandle, zIndex: zIndex }) }) }));\n    };\n    NodeWrapper.displayName = 'NodeWrapper';\n    return memo(NodeWrapper);\n};\n\nfunction createNodeTypes(nodeTypes) {\n    const standardTypes = {\n        input: wrapNode((nodeTypes.input || InputNode$1)),\n        default: wrapNode((nodeTypes.default || DefaultNode$1)),\n        output: wrapNode((nodeTypes.output || OutputNode$1)),\n        group: wrapNode((nodeTypes.group || GroupNode)),\n    };\n    const wrappedTypes = {};\n    const specialTypes = Object.keys(nodeTypes)\n        .filter((k) => !['input', 'default', 'output', 'group'].includes(k))\n        .reduce((res, key) => {\n        res[key] = wrapNode((nodeTypes[key] || DefaultNode$1));\n        return res;\n    }, wrappedTypes);\n    return {\n        ...standardTypes,\n        ...specialTypes,\n    };\n}\nconst getPositionWithOrigin = ({ x, y, width, height, origin, }) => {\n    if (!width || !height) {\n        return { x, y };\n    }\n    if (origin[0] < 0 || origin[1] < 0 || origin[0] > 1 || origin[1] > 1) {\n        return { x, y };\n    }\n    return {\n        x: x - width * origin[0],\n        y: y - height * origin[1],\n    };\n};\n\nconst doc = typeof document !== 'undefined' ? document : null;\n// the keycode can be a string 'a' or an array of strings ['a', 'a+d']\n// a string means a single key 'a' or a combination when '+' is used 'a+d'\n// an array means different possibilites. Explainer: ['a', 'd+s'] here the\n// user can use the single key 'a' or the combination 'd' + 's'\nvar useKeyPress = (keyCode = null, options = { target: doc }) => {\n    const [keyPressed, setKeyPressed] = useState(false);\n    // we need to remember if a modifier key is pressed in order to track it\n    const modifierPressed = useRef(false);\n    // we need to remember the pressed keys in order to support combinations\n    const pressedKeys = useRef(new Set([]));\n    // keyCodes = array with single keys [['a']] or key combinations [['a', 's']]\n    // keysToWatch = array with all keys flattened ['a', 'd', 'ShiftLeft']\n    // used to check if we store event.code or event.key. When the code is in the list of keysToWatch\n    // we use the code otherwise the key. Explainer: When you press the left \"command\" key, the code is \"MetaLeft\"\n    // and the key is \"Meta\". We want users to be able to pass keys and codes so we assume that the key is meant when\n    // we can't find it in the list of keysToWatch.\n    const [keyCodes, keysToWatch] = useMemo(() => {\n        if (keyCode !== null) {\n            const keyCodeArr = Array.isArray(keyCode) ? keyCode : [keyCode];\n            const keys = keyCodeArr.filter((kc) => typeof kc === 'string').map((kc) => kc.split('+'));\n            const keysFlat = keys.reduce((res, item) => res.concat(...item), []);\n            return [keys, keysFlat];\n        }\n        return [[], []];\n    }, [keyCode]);\n    useEffect(() => {\n        if (keyCode !== null) {\n            const downHandler = (event) => {\n                modifierPressed.current = event.ctrlKey || event.metaKey || event.shiftKey;\n                if (!modifierPressed.current && isInputDOMNode(event)) {\n                    return false;\n                }\n                const keyOrCode = useKeyOrCode(event.code, keysToWatch);\n                pressedKeys.current.add(event[keyOrCode]);\n                if (isMatchingKey(keyCodes, pressedKeys.current, false)) {\n                    event.preventDefault();\n                    setKeyPressed(true);\n                }\n            };\n            const upHandler = (event) => {\n                if (!modifierPressed.current && isInputDOMNode(event)) {\n                    return false;\n                }\n                const keyOrCode = useKeyOrCode(event.code, keysToWatch);\n                if (isMatchingKey(keyCodes, pressedKeys.current, true)) {\n                    setKeyPressed(false);\n                    pressedKeys.current.clear();\n                }\n                else {\n                    pressedKeys.current.delete(event[keyOrCode]);\n                }\n                modifierPressed.current = false;\n            };\n            const resetHandler = () => {\n                pressedKeys.current.clear();\n                setKeyPressed(false);\n            };\n            options?.target?.addEventListener('keydown', downHandler);\n            options?.target?.addEventListener('keyup', upHandler);\n            window.addEventListener('blur', resetHandler);\n            return () => {\n                options?.target?.removeEventListener('keydown', downHandler);\n                options?.target?.removeEventListener('keyup', upHandler);\n                window.removeEventListener('blur', resetHandler);\n            };\n        }\n    }, [keyCode, setKeyPressed]);\n    return keyPressed;\n};\n// utils\nfunction isMatchingKey(keyCodes, pressedKeys, isUp) {\n    return (keyCodes\n        // we only want to compare same sizes of keyCode definitions\n        // and pressed keys. When the user specified 'Meta' as a key somewhere\n        // this would also be truthy without this filter when user presses 'Meta' + 'r'\n        .filter((keys) => isUp || keys.length === pressedKeys.size)\n        // since we want to support multiple possibilities only one of the\n        // combinations need to be part of the pressed keys\n        .some((keys) => keys.every((k) => pressedKeys.has(k))));\n}\nfunction useKeyOrCode(eventCode, keysToWatch) {\n    return keysToWatch.includes(eventCode) ? 'code' : 'key';\n}\n\nfunction calculateXYZPosition(node, nodeInternals, result, nodeOrigin) {\n    if (!node.parentNode) {\n        return result;\n    }\n    const parentNode = nodeInternals.get(node.parentNode);\n    const parentNodePosition = getNodePositionWithOrigin(parentNode, nodeOrigin);\n    return calculateXYZPosition(parentNode, nodeInternals, {\n        x: (result.x ?? 0) + parentNodePosition.x,\n        y: (result.y ?? 0) + parentNodePosition.y,\n        z: (parentNode[internalsSymbol]?.z ?? 0) > (result.z ?? 0) ? parentNode[internalsSymbol]?.z ?? 0 : result.z ?? 0,\n    }, nodeOrigin);\n}\nfunction updateAbsoluteNodePositions(nodeInternals, nodeOrigin, parentNodes) {\n    nodeInternals.forEach((node) => {\n        if (node.parentNode && !nodeInternals.has(node.parentNode)) {\n            throw new Error(`Parent node ${node.parentNode} not found`);\n        }\n        if (node.parentNode || parentNodes?.[node.id]) {\n            const { x, y, z } = calculateXYZPosition(node, nodeInternals, {\n                ...node.position,\n                z: node[internalsSymbol]?.z ?? 0,\n            }, nodeOrigin);\n            node.positionAbsolute = {\n                x,\n                y,\n            };\n            node[internalsSymbol].z = z;\n            if (parentNodes?.[node.id]) {\n                node[internalsSymbol].isParent = true;\n            }\n        }\n    });\n}\nfunction createNodeInternals(nodes, nodeInternals, nodeOrigin, elevateNodesOnSelect) {\n    const nextNodeInternals = new Map();\n    const parentNodes = {};\n    const selectedNodeZ = elevateNodesOnSelect ? 1000 : 0;\n    nodes.forEach((node) => {\n        const z = (isNumeric(node.zIndex) ? node.zIndex : 0) + (node.selected ? selectedNodeZ : 0);\n        const currInternals = nodeInternals.get(node.id);\n        const internals = {\n            width: currInternals?.width,\n            height: currInternals?.height,\n            ...node,\n            positionAbsolute: {\n                x: node.position.x,\n                y: node.position.y,\n            },\n        };\n        if (node.parentNode) {\n            internals.parentNode = node.parentNode;\n            parentNodes[node.parentNode] = true;\n        }\n        Object.defineProperty(internals, internalsSymbol, {\n            enumerable: false,\n            value: {\n                handleBounds: currInternals?.[internalsSymbol]?.handleBounds,\n                z,\n            },\n        });\n        nextNodeInternals.set(node.id, internals);\n    });\n    updateAbsoluteNodePositions(nextNodeInternals, nodeOrigin, parentNodes);\n    return nextNodeInternals;\n}\nfunction fitView(get, options = {}) {\n    const { getNodes, width, height, minZoom, maxZoom, d3Zoom, d3Selection, fitViewOnInitDone, fitViewOnInit, nodeOrigin, } = get();\n    const isInitialFitView = options.initial && !fitViewOnInitDone && fitViewOnInit;\n    const d3initialized = d3Zoom && d3Selection;\n    if (d3initialized && (isInitialFitView || !options.initial)) {\n        const nodes = getNodes().filter((n) => {\n            const isVisible = options.includeHiddenNodes ? n.width && n.height : !n.hidden;\n            if (options.nodes?.length) {\n                return isVisible && options.nodes.some((optionNode) => optionNode.id === n.id);\n            }\n            return isVisible;\n        });\n        const nodesInitialized = nodes.every((n) => n.width && n.height);\n        if (nodes.length > 0 && nodesInitialized) {\n            const bounds = getRectOfNodes(nodes, nodeOrigin);\n            const [x, y, zoom] = getTransformForBounds(bounds, width, height, options.minZoom ?? minZoom, options.maxZoom ?? maxZoom, options.padding ?? 0.1);\n            const nextTransform = zoomIdentity.translate(x, y).scale(zoom);\n            if (typeof options.duration === 'number' && options.duration > 0) {\n                d3Zoom.transform(getD3Transition(d3Selection, options.duration), nextTransform);\n            }\n            else {\n                d3Zoom.transform(d3Selection, nextTransform);\n            }\n            return true;\n        }\n    }\n    return false;\n}\nfunction handleControlledNodeSelectionChange(nodeChanges, nodeInternals) {\n    nodeChanges.forEach((change) => {\n        const node = nodeInternals.get(change.id);\n        if (node) {\n            nodeInternals.set(node.id, {\n                ...node,\n                [internalsSymbol]: node[internalsSymbol],\n                selected: change.selected,\n            });\n        }\n    });\n    return new Map(nodeInternals);\n}\nfunction handleControlledEdgeSelectionChange(edgeChanges, edges) {\n    return edges.map((e) => {\n        const change = edgeChanges.find((change) => change.id === e.id);\n        if (change) {\n            e.selected = change.selected;\n        }\n        return e;\n    });\n}\nfunction updateNodesAndEdgesSelections({ changedNodes, changedEdges, get, set }) {\n    const { nodeInternals, edges, onNodesChange, onEdgesChange, hasDefaultNodes, hasDefaultEdges } = get();\n    if (changedNodes?.length) {\n        if (hasDefaultNodes) {\n            set({ nodeInternals: handleControlledNodeSelectionChange(changedNodes, nodeInternals) });\n        }\n        onNodesChange?.(changedNodes);\n    }\n    if (changedEdges?.length) {\n        if (hasDefaultEdges) {\n            set({ edges: handleControlledEdgeSelectionChange(changedEdges, edges) });\n        }\n        onEdgesChange?.(changedEdges);\n    }\n}\n\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nconst noop = () => { };\nconst initialViewportHelper = {\n    zoomIn: noop,\n    zoomOut: noop,\n    zoomTo: noop,\n    getZoom: () => 1,\n    setViewport: noop,\n    getViewport: () => ({ x: 0, y: 0, zoom: 1 }),\n    fitView: () => false,\n    setCenter: noop,\n    fitBounds: noop,\n    project: (position) => position,\n    viewportInitialized: false,\n};\nconst selector$b = (s) => ({\n    d3Zoom: s.d3Zoom,\n    d3Selection: s.d3Selection,\n});\nconst useViewportHelper = () => {\n    const store = useStoreApi();\n    const { d3Zoom, d3Selection } = useStore(selector$b, shallow);\n    const viewportHelperFunctions = useMemo(() => {\n        if (d3Selection && d3Zoom) {\n            return {\n                zoomIn: (options) => d3Zoom.scaleBy(getD3Transition(d3Selection, options?.duration), 1.2),\n                zoomOut: (options) => d3Zoom.scaleBy(getD3Transition(d3Selection, options?.duration), 1 / 1.2),\n                zoomTo: (zoomLevel, options) => d3Zoom.scaleTo(getD3Transition(d3Selection, options?.duration), zoomLevel),\n                getZoom: () => store.getState().transform[2],\n                setViewport: (transform, options) => {\n                    const [x, y, zoom] = store.getState().transform;\n                    const nextTransform = zoomIdentity\n                        .translate(transform.x ?? x, transform.y ?? y)\n                        .scale(transform.zoom ?? zoom);\n                    d3Zoom.transform(getD3Transition(d3Selection, options?.duration), nextTransform);\n                },\n                getViewport: () => {\n                    const [x, y, zoom] = store.getState().transform;\n                    return { x, y, zoom };\n                },\n                fitView: (options) => fitView(store.getState, options),\n                setCenter: (x, y, options) => {\n                    const { width, height, maxZoom } = store.getState();\n                    const nextZoom = typeof options?.zoom !== 'undefined' ? options.zoom : maxZoom;\n                    const centerX = width / 2 - x * nextZoom;\n                    const centerY = height / 2 - y * nextZoom;\n                    const transform = zoomIdentity.translate(centerX, centerY).scale(nextZoom);\n                    d3Zoom.transform(getD3Transition(d3Selection, options?.duration), transform);\n                },\n                fitBounds: (bounds, options) => {\n                    const { width, height, minZoom, maxZoom } = store.getState();\n                    const [x, y, zoom] = getTransformForBounds(bounds, width, height, minZoom, maxZoom, options?.padding ?? 0.1);\n                    const transform = zoomIdentity.translate(x, y).scale(zoom);\n                    d3Zoom.transform(getD3Transition(d3Selection, options?.duration), transform);\n                },\n                project: (position) => {\n                    const { transform, snapToGrid, snapGrid } = store.getState();\n                    return pointToRendererPoint(position, transform, snapToGrid, snapGrid);\n                },\n                viewportInitialized: true,\n            };\n        }\n        return initialViewportHelper;\n    }, [d3Zoom, d3Selection]);\n    return viewportHelperFunctions;\n};\n\n/* eslint-disable-next-line @typescript-eslint/no-explicit-any */\nfunction useReactFlow() {\n    const viewportHelper = useViewportHelper();\n    const store = useStoreApi();\n    const getNodes = useCallback(() => {\n        return store\n            .getState()\n            .getNodes()\n            .map((n) => ({ ...n }));\n    }, []);\n    const getNode = useCallback((id) => {\n        return store.getState().nodeInternals.get(id);\n    }, []);\n    const getEdges = useCallback(() => {\n        const { edges = [] } = store.getState();\n        return edges.map((e) => ({ ...e }));\n    }, []);\n    const getEdge = useCallback((id) => {\n        const { edges = [] } = store.getState();\n        return edges.find((e) => e.id === id);\n    }, []);\n    const setNodes = useCallback((payload) => {\n        const { getNodes, setNodes, hasDefaultNodes, onNodesChange } = store.getState();\n        const nodes = getNodes();\n        const nextNodes = typeof payload === 'function' ? payload(nodes) : payload;\n        if (hasDefaultNodes) {\n            setNodes(nextNodes);\n        }\n        else if (onNodesChange) {\n            const changes = nextNodes.length === 0\n                ? nodes.map((node) => ({ type: 'remove', id: node.id }))\n                : nextNodes.map((node) => ({ item: node, type: 'reset' }));\n            onNodesChange(changes);\n        }\n    }, []);\n    const setEdges = useCallback((payload) => {\n        const { edges = [], setEdges, hasDefaultEdges, onEdgesChange } = store.getState();\n        const nextEdges = typeof payload === 'function' ? payload(edges) : payload;\n        if (hasDefaultEdges) {\n            setEdges(nextEdges);\n        }\n        else if (onEdgesChange) {\n            const changes = nextEdges.length === 0\n                ? edges.map((edge) => ({ type: 'remove', id: edge.id }))\n                : nextEdges.map((edge) => ({ item: edge, type: 'reset' }));\n            onEdgesChange(changes);\n        }\n    }, []);\n    const addNodes = useCallback((payload) => {\n        const nodes = Array.isArray(payload) ? payload : [payload];\n        const { getNodes, setNodes, hasDefaultNodes, onNodesChange } = store.getState();\n        if (hasDefaultNodes) {\n            const currentNodes = getNodes();\n            const nextNodes = [...currentNodes, ...nodes];\n            setNodes(nextNodes);\n        }\n        else if (onNodesChange) {\n            const changes = nodes.map((node) => ({ item: node, type: 'add' }));\n            onNodesChange(changes);\n        }\n    }, []);\n    const addEdges = useCallback((payload) => {\n        const nextEdges = Array.isArray(payload) ? payload : [payload];\n        const { edges = [], setEdges, hasDefaultEdges, onEdgesChange } = store.getState();\n        if (hasDefaultEdges) {\n            setEdges([...edges, ...nextEdges]);\n        }\n        else if (onEdgesChange) {\n            const changes = nextEdges.map((edge) => ({ item: edge, type: 'add' }));\n            onEdgesChange(changes);\n        }\n    }, []);\n    const toObject = useCallback(() => {\n        const { getNodes, edges = [], transform } = store.getState();\n        const [x, y, zoom] = transform;\n        return {\n            nodes: getNodes().map((n) => ({ ...n })),\n            edges: edges.map((e) => ({ ...e })),\n            viewport: {\n                x,\n                y,\n                zoom,\n            },\n        };\n    }, []);\n    const deleteElements = useCallback(({ nodes: nodesDeleted, edges: edgesDeleted }) => {\n        const { nodeInternals, getNodes, edges, hasDefaultNodes, hasDefaultEdges, onNodesDelete, onEdgesDelete, onNodesChange, onEdgesChange, } = store.getState();\n        const nodeIds = (nodesDeleted || []).map((node) => node.id);\n        const edgeIds = (edgesDeleted || []).map((edge) => edge.id);\n        const nodesToRemove = getNodes().reduce((res, node) => {\n            const parentHit = !nodeIds.includes(node.id) && node.parentNode && res.find((n) => n.id === node.parentNode);\n            const deletable = typeof node.deletable === 'boolean' ? node.deletable : true;\n            if (deletable && (nodeIds.includes(node.id) || parentHit)) {\n                res.push(node);\n            }\n            return res;\n        }, []);\n        const deletableEdges = edges.filter((e) => (typeof e.deletable === 'boolean' ? e.deletable : true));\n        const initialHitEdges = deletableEdges.filter((e) => edgeIds.includes(e.id));\n        if (nodesToRemove || initialHitEdges) {\n            const connectedEdges = getConnectedEdges(nodesToRemove, deletableEdges);\n            const edgesToRemove = [...initialHitEdges, ...connectedEdges];\n            const edgeIdsToRemove = edgesToRemove.reduce((res, edge) => {\n                if (!res.includes(edge.id)) {\n                    res.push(edge.id);\n                }\n                return res;\n            }, []);\n            if (hasDefaultEdges || hasDefaultNodes) {\n                if (hasDefaultEdges) {\n                    store.setState({\n                        edges: edges.filter((e) => !edgeIdsToRemove.includes(e.id)),\n                    });\n                }\n                if (hasDefaultNodes) {\n                    nodesToRemove.forEach((node) => {\n                        nodeInternals.delete(node.id);\n                    });\n                    store.setState({\n                        nodeInternals: new Map(nodeInternals),\n                    });\n                }\n            }\n            if (edgeIdsToRemove.length > 0) {\n                onEdgesDelete?.(edgesToRemove);\n                if (onEdgesChange) {\n                    onEdgesChange(edgeIdsToRemove.map((id) => ({\n                        id,\n                        type: 'remove',\n                    })));\n                }\n            }\n            if (nodesToRemove.length > 0) {\n                onNodesDelete?.(nodesToRemove);\n                if (onNodesChange) {\n                    const nodeChanges = nodesToRemove.map((n) => ({ id: n.id, type: 'remove' }));\n                    onNodesChange(nodeChanges);\n                }\n            }\n        }\n    }, []);\n    const getNodeRect = useCallback((nodeOrRect) => {\n        const isRect = isRectObject(nodeOrRect);\n        const node = isRect ? null : store.getState().nodeInternals.get(nodeOrRect.id);\n        const nodeRect = isRect ? nodeOrRect : nodeToRect(node);\n        return [nodeRect, node, isRect];\n    }, []);\n    const getIntersectingNodes = useCallback((nodeOrRect, partially = true, nodes) => {\n        const [nodeRect, node, isRect] = getNodeRect(nodeOrRect);\n        if (!nodeRect) {\n            return [];\n        }\n        return (nodes || store.getState().getNodes()).filter((n) => {\n            if (!isRect && (n.id === node.id || !n.positionAbsolute)) {\n                return false;\n            }\n            const currNodeRect = nodeToRect(n);\n            const overlappingArea = getOverlappingArea(currNodeRect, nodeRect);\n            const partiallyVisible = partially && overlappingArea > 0;\n            return partiallyVisible || overlappingArea >= nodeOrRect.width * nodeOrRect.height;\n        });\n    }, []);\n    const isNodeIntersecting = useCallback((nodeOrRect, area, partially = true) => {\n        const [nodeRect] = getNodeRect(nodeOrRect);\n        if (!nodeRect) {\n            return false;\n        }\n        const overlappingArea = getOverlappingArea(nodeRect, area);\n        const partiallyVisible = partially && overlappingArea > 0;\n        return partiallyVisible || overlappingArea >= nodeOrRect.width * nodeOrRect.height;\n    }, []);\n    return useMemo(() => {\n        return {\n            ...viewportHelper,\n            getNodes,\n            getNode,\n            getEdges,\n            getEdge,\n            setNodes,\n            setEdges,\n            addNodes,\n            addEdges,\n            toObject,\n            deleteElements,\n            getIntersectingNodes,\n            isNodeIntersecting,\n        };\n    }, [\n        viewportHelper,\n        getNodes,\n        getNode,\n        getEdges,\n        getEdge,\n        setNodes,\n        setEdges,\n        addNodes,\n        addEdges,\n        toObject,\n        deleteElements,\n        getIntersectingNodes,\n        isNodeIntersecting,\n    ]);\n}\n\nvar useGlobalKeyHandler = ({ deleteKeyCode, multiSelectionKeyCode }) => {\n    const store = useStoreApi();\n    const { deleteElements } = useReactFlow();\n    const deleteKeyPressed = useKeyPress(deleteKeyCode);\n    const multiSelectionKeyPressed = useKeyPress(multiSelectionKeyCode);\n    useEffect(() => {\n        if (deleteKeyPressed) {\n            const { edges, getNodes } = store.getState();\n            const selectedNodes = getNodes().filter((node) => node.selected);\n            const selectedEdges = edges.filter((edge) => edge.selected);\n            deleteElements({ nodes: selectedNodes, edges: selectedEdges });\n            store.setState({ nodesSelectionActive: false });\n        }\n    }, [deleteKeyPressed]);\n    useEffect(() => {\n        store.setState({ multiSelectionActive: multiSelectionKeyPressed });\n    }, [multiSelectionKeyPressed]);\n};\n\nfunction useResizeHandler(rendererNode) {\n    const store = useStoreApi();\n    useEffect(() => {\n        let resizeObserver;\n        const updateDimensions = () => {\n            if (!rendererNode.current) {\n                return;\n            }\n            const size = getDimensions(rendererNode.current);\n            if (size.height === 0 || size.width === 0) {\n                store.getState().onError?.('004', errorMessages['error004']());\n            }\n            store.setState({ width: size.width || 500, height: size.height || 500 });\n        };\n        updateDimensions();\n        window.addEventListener('resize', updateDimensions);\n        if (rendererNode.current) {\n            resizeObserver = new ResizeObserver(() => updateDimensions());\n            resizeObserver.observe(rendererNode.current);\n        }\n        return () => {\n            window.removeEventListener('resize', updateDimensions);\n            if (resizeObserver && rendererNode.current) {\n                resizeObserver.unobserve(rendererNode.current);\n            }\n        };\n    }, []);\n}\n\nconst containerStyle = {\n    position: 'absolute',\n    width: '100%',\n    height: '100%',\n    top: 0,\n    left: 0,\n};\n\nconst viewChanged = (prevViewport, eventViewport) => prevViewport.x !== eventViewport.x || prevViewport.y !== eventViewport.y || prevViewport.zoom !== eventViewport.k;\nconst eventToFlowTransform = (eventViewport) => ({\n    x: eventViewport.x,\n    y: eventViewport.y,\n    zoom: eventViewport.k,\n});\nconst isWrappedWithClass = (event, className) => event.target.closest(`.${className}`);\nconst isRightClickPan = (panOnDrag, usedButton) => usedButton === 2 && Array.isArray(panOnDrag) && panOnDrag.includes(2);\nconst selector$a = (s) => ({\n    d3Zoom: s.d3Zoom,\n    d3Selection: s.d3Selection,\n    d3ZoomHandler: s.d3ZoomHandler,\n    userSelectionActive: s.userSelectionActive,\n});\nconst ZoomPane = ({ onMove, onMoveStart, onMoveEnd, onPaneContextMenu, zoomOnScroll = true, zoomOnPinch = true, panOnScroll = false, panOnScrollSpeed = 0.5, panOnScrollMode = PanOnScrollMode.Free, zoomOnDoubleClick = true, elementsSelectable, panOnDrag = true, defaultViewport, translateExtent, minZoom, maxZoom, zoomActivationKeyCode, preventScrolling = true, children, noWheelClassName, noPanClassName, }) => {\n    const timerId = useRef();\n    const store = useStoreApi();\n    const isZoomingOrPanning = useRef(false);\n    const zoomedWithRightMouseButton = useRef(false);\n    const zoomPane = useRef(null);\n    const prevTransform = useRef({ x: 0, y: 0, zoom: 0 });\n    const { d3Zoom, d3Selection, d3ZoomHandler, userSelectionActive } = useStore(selector$a, shallow);\n    const zoomActivationKeyPressed = useKeyPress(zoomActivationKeyCode);\n    const mouseButton = useRef(0);\n    useResizeHandler(zoomPane);\n    useEffect(() => {\n        if (zoomPane.current) {\n            const bbox = zoomPane.current.getBoundingClientRect();\n            const d3ZoomInstance = zoom().scaleExtent([minZoom, maxZoom]).translateExtent(translateExtent);\n            const selection = select(zoomPane.current).call(d3ZoomInstance);\n            const updatedTransform = zoomIdentity\n                .translate(defaultViewport.x, defaultViewport.y)\n                .scale(clamp(defaultViewport.zoom, minZoom, maxZoom));\n            const extent = [\n                [0, 0],\n                [bbox.width, bbox.height],\n            ];\n            const constrainedTransform = d3ZoomInstance.constrain()(updatedTransform, extent, translateExtent);\n            d3ZoomInstance.transform(selection, constrainedTransform);\n            store.setState({\n                d3Zoom: d3ZoomInstance,\n                d3Selection: selection,\n                d3ZoomHandler: selection.on('wheel.zoom'),\n                // we need to pass transform because zoom handler is not registered when we set the initial transform\n                transform: [constrainedTransform.x, constrainedTransform.y, constrainedTransform.k],\n                domNode: zoomPane.current.closest('.react-flow'),\n            });\n        }\n    }, []);\n    useEffect(() => {\n        if (d3Selection && d3Zoom) {\n            if (panOnScroll && !zoomActivationKeyPressed && !userSelectionActive) {\n                d3Selection.on('wheel.zoom', (event) => {\n                    if (isWrappedWithClass(event, noWheelClassName)) {\n                        return false;\n                    }\n                    event.preventDefault();\n                    event.stopImmediatePropagation();\n                    const currentZoom = d3Selection.property('__zoom').k || 1;\n                    if (event.ctrlKey && zoomOnPinch) {\n                        const point = pointer(event);\n                        // taken from https://github.com/d3/d3-zoom/blob/master/src/zoom.js\n                        const pinchDelta = -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * 10;\n                        const zoom = currentZoom * Math.pow(2, pinchDelta);\n                        d3Zoom.scaleTo(d3Selection, zoom, point);\n                        return;\n                    }\n                    // increase scroll speed in firefox\n                    // firefox: deltaMode === 1; chrome: deltaMode === 0\n                    const deltaNormalize = event.deltaMode === 1 ? 20 : 1;\n                    const deltaX = panOnScrollMode === PanOnScrollMode.Vertical ? 0 : event.deltaX * deltaNormalize;\n                    const deltaY = panOnScrollMode === PanOnScrollMode.Horizontal ? 0 : event.deltaY * deltaNormalize;\n                    d3Zoom.translateBy(d3Selection, -(deltaX / currentZoom) * panOnScrollSpeed, -(deltaY / currentZoom) * panOnScrollSpeed);\n                }, { passive: false });\n            }\n            else if (typeof d3ZoomHandler !== 'undefined') {\n                d3Selection.on('wheel.zoom', function (event, d) {\n                    if (!preventScrolling || isWrappedWithClass(event, noWheelClassName)) {\n                        return null;\n                    }\n                    event.preventDefault();\n                    d3ZoomHandler.call(this, event, d);\n                }, { passive: false });\n            }\n        }\n    }, [\n        userSelectionActive,\n        panOnScroll,\n        panOnScrollMode,\n        d3Selection,\n        d3Zoom,\n        d3ZoomHandler,\n        zoomActivationKeyPressed,\n        zoomOnPinch,\n        preventScrolling,\n        noWheelClassName,\n    ]);\n    useEffect(() => {\n        if (d3Zoom) {\n            d3Zoom.on('start', (event) => {\n                if (!event.sourceEvent) {\n                    return null;\n                }\n                // we need to remember it here, because it's always 0 in the \"zoom\" event\n                mouseButton.current = event.sourceEvent.button;\n                const { onViewportChangeStart } = store.getState();\n                isZoomingOrPanning.current = true;\n                if (event.sourceEvent?.type === 'mousedown') {\n                    store.setState({ paneDragging: true });\n                }\n                if (onMoveStart || onViewportChangeStart) {\n                    const flowTransform = eventToFlowTransform(event.transform);\n                    prevTransform.current = flowTransform;\n                    onViewportChangeStart?.(flowTransform);\n                    onMoveStart?.(event.sourceEvent, flowTransform);\n                }\n            });\n        }\n    }, [d3Zoom, onMoveStart]);\n    useEffect(() => {\n        if (d3Zoom) {\n            if (userSelectionActive && !isZoomingOrPanning.current) {\n                d3Zoom.on('zoom', null);\n            }\n            else if (!userSelectionActive) {\n                d3Zoom.on('zoom', (event) => {\n                    const { onViewportChange } = store.getState();\n                    store.setState({ transform: [event.transform.x, event.transform.y, event.transform.k] });\n                    zoomedWithRightMouseButton.current = !!(onPaneContextMenu && isRightClickPan(panOnDrag, mouseButton.current ?? 0));\n                    if (onMove || onViewportChange) {\n                        const flowTransform = eventToFlowTransform(event.transform);\n                        onViewportChange?.(flowTransform);\n                        onMove?.(event.sourceEvent, flowTransform);\n                    }\n                });\n            }\n        }\n    }, [userSelectionActive, d3Zoom, onMove, panOnDrag, onPaneContextMenu]);\n    useEffect(() => {\n        if (d3Zoom) {\n            d3Zoom.on('end', (event) => {\n                if (!event.sourceEvent) {\n                    return null;\n                }\n                const { onViewportChangeEnd } = store.getState();\n                isZoomingOrPanning.current = false;\n                store.setState({ paneDragging: false });\n                if (onPaneContextMenu &&\n                    isRightClickPan(panOnDrag, mouseButton.current ?? 0) &&\n                    !zoomedWithRightMouseButton.current) {\n                    onPaneContextMenu(event.sourceEvent);\n                }\n                zoomedWithRightMouseButton.current = false;\n                if ((onMoveEnd || onViewportChangeEnd) && viewChanged(prevTransform.current, event.transform)) {\n                    const flowTransform = eventToFlowTransform(event.transform);\n                    prevTransform.current = flowTransform;\n                    clearTimeout(timerId.current);\n                    timerId.current = setTimeout(() => {\n                        onViewportChangeEnd?.(flowTransform);\n                        onMoveEnd?.(event.sourceEvent, flowTransform);\n                    }, panOnScroll ? 150 : 0);\n                }\n            });\n        }\n    }, [d3Zoom, panOnScroll, panOnDrag, onMoveEnd, onPaneContextMenu]);\n    useEffect(() => {\n        if (d3Zoom) {\n            d3Zoom.filter((event) => {\n                const zoomScroll = zoomActivationKeyPressed || zoomOnScroll;\n                const pinchZoom = zoomOnPinch && event.ctrlKey;\n                if (event.button === 1 &&\n                    event.type === 'mousedown' &&\n                    (isWrappedWithClass(event, 'react-flow__node') || isWrappedWithClass(event, 'react-flow__edge'))) {\n                    return true;\n                }\n                // if all interactions are disabled, we prevent all zoom events\n                if (!panOnDrag && !zoomScroll && !panOnScroll && !zoomOnDoubleClick && !zoomOnPinch) {\n                    return false;\n                }\n                // during a selection we prevent all other interactions\n                if (userSelectionActive) {\n                    return false;\n                }\n                // if zoom on double click is disabled, we prevent the double click event\n                if (!zoomOnDoubleClick && event.type === 'dblclick') {\n                    return false;\n                }\n                // if the target element is inside an element with the nowheel class, we prevent zooming\n                if (isWrappedWithClass(event, noWheelClassName) && event.type === 'wheel') {\n                    return false;\n                }\n                // if the target element is inside an element with the nopan class, we prevent panning\n                if (isWrappedWithClass(event, noPanClassName) && event.type !== 'wheel') {\n                    return false;\n                }\n                if (!zoomOnPinch && event.ctrlKey && event.type === 'wheel') {\n                    return false;\n                }\n                // when there is no scroll handling enabled, we prevent all wheel events\n                if (!zoomScroll && !panOnScroll && !pinchZoom && event.type === 'wheel') {\n                    return false;\n                }\n                // if the pane is not movable, we prevent dragging it with mousestart or touchstart\n                if (!panOnDrag && (event.type === 'mousedown' || event.type === 'touchstart')) {\n                    return false;\n                }\n                // if the pane is only movable using allowed clicks\n                if (Array.isArray(panOnDrag) &&\n                    !panOnDrag.includes(event.button) &&\n                    (event.type === 'mousedown' || event.type === 'touchstart')) {\n                    return false;\n                }\n                // We only allow right clicks if pan on drag is set to right click\n                const buttonAllowed = (Array.isArray(panOnDrag) && panOnDrag.includes(event.button)) || !event.button || event.button <= 1;\n                // default filter for d3-zoom\n                return (!event.ctrlKey || event.type === 'wheel') && buttonAllowed;\n            });\n        }\n    }, [\n        userSelectionActive,\n        d3Zoom,\n        zoomOnScroll,\n        zoomOnPinch,\n        panOnScroll,\n        zoomOnDoubleClick,\n        panOnDrag,\n        elementsSelectable,\n        zoomActivationKeyPressed,\n    ]);\n    return (jsx(\"div\", { className: \"react-flow__renderer\", ref: zoomPane, style: containerStyle, children: children }));\n};\n\nconst selector$9 = (s) => ({\n    userSelectionActive: s.userSelectionActive,\n    userSelectionRect: s.userSelectionRect,\n});\nfunction UserSelection() {\n    const { userSelectionActive, userSelectionRect } = useStore(selector$9, shallow);\n    const isActive = userSelectionActive && userSelectionRect;\n    if (!isActive) {\n        return null;\n    }\n    return (jsx(\"div\", { className: \"react-flow__selection react-flow__container\", style: {\n            width: userSelectionRect.width,\n            height: userSelectionRect.height,\n            transform: `translate(${userSelectionRect.x}px, ${userSelectionRect.y}px)`,\n        } }));\n}\n\nfunction handleParentExpand(res, updateItem) {\n    const parent = res.find((e) => e.id === updateItem.parentNode);\n    if (parent) {\n        const extendWidth = updateItem.position.x + updateItem.width - parent.width;\n        const extendHeight = updateItem.position.y + updateItem.height - parent.height;\n        if (extendWidth > 0 || extendHeight > 0 || updateItem.position.x < 0 || updateItem.position.y < 0) {\n            parent.style = { ...parent.style } || {};\n            parent.style.width = parent.style.width ?? parent.width;\n            parent.style.height = parent.style.height ?? parent.height;\n            if (extendWidth > 0) {\n                parent.style.width += extendWidth;\n            }\n            if (extendHeight > 0) {\n                parent.style.height += extendHeight;\n            }\n            if (updateItem.position.x < 0) {\n                const xDiff = Math.abs(updateItem.position.x);\n                parent.position.x = parent.position.x - xDiff;\n                parent.style.width += xDiff;\n                updateItem.position.x = 0;\n            }\n            if (updateItem.position.y < 0) {\n                const yDiff = Math.abs(updateItem.position.y);\n                parent.position.y = parent.position.y - yDiff;\n                parent.style.height += yDiff;\n                updateItem.position.y = 0;\n            }\n            parent.width = parent.style.width;\n            parent.height = parent.style.height;\n        }\n    }\n}\nfunction applyChanges(changes, elements) {\n    // we need this hack to handle the setNodes and setEdges function of the useReactFlow hook for controlled flows\n    if (changes.some((c) => c.type === 'reset')) {\n        return changes.filter((c) => c.type === 'reset').map((c) => c.item);\n    }\n    const initElements = changes.filter((c) => c.type === 'add').map((c) => c.item);\n    return elements.reduce((res, item) => {\n        const currentChanges = changes.filter((c) => c.id === item.id);\n        if (currentChanges.length === 0) {\n            res.push(item);\n            return res;\n        }\n        const updateItem = { ...item };\n        for (const currentChange of currentChanges) {\n            if (currentChange) {\n                switch (currentChange.type) {\n                    case 'select': {\n                        updateItem.selected = currentChange.selected;\n                        break;\n                    }\n                    case 'position': {\n                        if (typeof currentChange.position !== 'undefined') {\n                            updateItem.position = currentChange.position;\n                        }\n                        if (typeof currentChange.positionAbsolute !== 'undefined') {\n                            updateItem.positionAbsolute = currentChange.positionAbsolute;\n                        }\n                        if (typeof currentChange.dragging !== 'undefined') {\n                            updateItem.dragging = currentChange.dragging;\n                        }\n                        if (updateItem.expandParent) {\n                            handleParentExpand(res, updateItem);\n                        }\n                        break;\n                    }\n                    case 'dimensions': {\n                        if (typeof currentChange.dimensions !== 'undefined') {\n                            updateItem.width = currentChange.dimensions.width;\n                            updateItem.height = currentChange.dimensions.height;\n                        }\n                        if (typeof currentChange.updateStyle !== 'undefined') {\n                            updateItem.style = { ...(updateItem.style || {}), ...currentChange.dimensions };\n                        }\n                        if (typeof currentChange.resizing === 'boolean') {\n                            updateItem.resizing = currentChange.resizing;\n                        }\n                        if (updateItem.expandParent) {\n                            handleParentExpand(res, updateItem);\n                        }\n                        break;\n                    }\n                    case 'remove': {\n                        return res;\n                    }\n                }\n            }\n        }\n        res.push(updateItem);\n        return res;\n    }, initElements);\n}\nfunction applyNodeChanges(changes, nodes) {\n    return applyChanges(changes, nodes);\n}\nfunction applyEdgeChanges(changes, edges) {\n    return applyChanges(changes, edges);\n}\nconst createSelectionChange = (id, selected) => ({\n    id,\n    type: 'select',\n    selected,\n});\nfunction getSelectionChanges(items, selectedIds) {\n    return items.reduce((res, item) => {\n        const willBeSelected = selectedIds.includes(item.id);\n        if (!item.selected && willBeSelected) {\n            item.selected = true;\n            res.push(createSelectionChange(item.id, true));\n        }\n        else if (item.selected && !willBeSelected) {\n            item.selected = false;\n            res.push(createSelectionChange(item.id, false));\n        }\n        return res;\n    }, []);\n}\n\nconst wrapHandler = (handler, containerRef) => {\n    return (event) => {\n        if (event.target !== containerRef.current) {\n            return;\n        }\n        handler?.(event);\n    };\n};\nconst selector$8 = (s) => ({\n    userSelectionActive: s.userSelectionActive,\n    elementsSelectable: s.elementsSelectable,\n    dragging: s.paneDragging,\n});\nconst Pane = memo(({ isSelecting, selectionMode = SelectionMode.Full, panOnDrag, onSelectionStart, onSelectionEnd, onPaneClick, onPaneContextMenu, onPaneScroll, onPaneMouseEnter, onPaneMouseMove, onPaneMouseLeave, children, }) => {\n    const container = useRef(null);\n    const store = useStoreApi();\n    const prevSelectedNodesCount = useRef(0);\n    const prevSelectedEdgesCount = useRef(0);\n    const containerBounds = useRef();\n    const { userSelectionActive, elementsSelectable, dragging } = useStore(selector$8, shallow);\n    const resetUserSelection = () => {\n        store.setState({ userSelectionActive: false, userSelectionRect: null });\n        prevSelectedNodesCount.current = 0;\n        prevSelectedEdgesCount.current = 0;\n    };\n    const onClick = (event) => {\n        onPaneClick?.(event);\n        store.getState().resetSelectedElements();\n        store.setState({ nodesSelectionActive: false });\n    };\n    const onContextMenu = (event) => {\n        if (Array.isArray(panOnDrag) && panOnDrag?.includes(2)) {\n            event.preventDefault();\n            return;\n        }\n        onPaneContextMenu?.(event);\n    };\n    const onWheel = onPaneScroll ? (event) => onPaneScroll(event) : undefined;\n    const onMouseDown = (event) => {\n        const { resetSelectedElements, domNode } = store.getState();\n        containerBounds.current = domNode?.getBoundingClientRect();\n        if (!elementsSelectable ||\n            !isSelecting ||\n            event.button !== 0 ||\n            event.target !== container.current ||\n            !containerBounds.current) {\n            return;\n        }\n        const { x, y } = getEventPosition(event, containerBounds.current);\n        resetSelectedElements();\n        store.setState({\n            userSelectionRect: {\n                width: 0,\n                height: 0,\n                startX: x,\n                startY: y,\n                x,\n                y,\n            },\n        });\n        onSelectionStart?.(event);\n    };\n    const onMouseMove = (event) => {\n        const { userSelectionRect, nodeInternals, edges, transform, onNodesChange, onEdgesChange, nodeOrigin, getNodes } = store.getState();\n        if (!isSelecting || !containerBounds.current || !userSelectionRect) {\n            return;\n        }\n        store.setState({ userSelectionActive: true, nodesSelectionActive: false });\n        const mousePos = getEventPosition(event, containerBounds.current);\n        const startX = userSelectionRect.startX ?? 0;\n        const startY = userSelectionRect.startY ?? 0;\n        const nextUserSelectRect = {\n            ...userSelectionRect,\n            x: mousePos.x < startX ? mousePos.x : startX,\n            y: mousePos.y < startY ? mousePos.y : startY,\n            width: Math.abs(mousePos.x - startX),\n            height: Math.abs(mousePos.y - startY),\n        };\n        const nodes = getNodes();\n        const selectedNodes = getNodesInside(nodeInternals, nextUserSelectRect, transform, selectionMode === SelectionMode.Partial, true, nodeOrigin);\n        const selectedEdgeIds = getConnectedEdges(selectedNodes, edges).map((e) => e.id);\n        const selectedNodeIds = selectedNodes.map((n) => n.id);\n        if (prevSelectedNodesCount.current !== selectedNodeIds.length) {\n            prevSelectedNodesCount.current = selectedNodeIds.length;\n            const changes = getSelectionChanges(nodes, selectedNodeIds);\n            if (changes.length) {\n                onNodesChange?.(changes);\n            }\n        }\n        if (prevSelectedEdgesCount.current !== selectedEdgeIds.length) {\n            prevSelectedEdgesCount.current = selectedEdgeIds.length;\n            const changes = getSelectionChanges(edges, selectedEdgeIds);\n            if (changes.length) {\n                onEdgesChange?.(changes);\n            }\n        }\n        store.setState({\n            userSelectionRect: nextUserSelectRect,\n        });\n    };\n    const onMouseUp = (event) => {\n        if (event.button !== 0) {\n            return;\n        }\n        const { userSelectionRect } = store.getState();\n        // We only want to trigger click functions when in selection mode if\n        // the user did not move the mouse.\n        if (!userSelectionActive && userSelectionRect && event.target === container.current) {\n            onClick?.(event);\n        }\n        store.setState({ nodesSelectionActive: prevSelectedNodesCount.current > 0 });\n        resetUserSelection();\n        onSelectionEnd?.(event);\n    };\n    const onMouseLeave = (event) => {\n        if (userSelectionActive) {\n            store.setState({ nodesSelectionActive: prevSelectedNodesCount.current > 0 });\n            onSelectionEnd?.(event);\n        }\n        resetUserSelection();\n    };\n    const hasActiveSelection = elementsSelectable && (isSelecting || userSelectionActive);\n    return (jsxs(\"div\", { className: cc(['react-flow__pane', { dragging, selection: isSelecting }]), onClick: hasActiveSelection ? undefined : wrapHandler(onClick, container), onContextMenu: wrapHandler(onContextMenu, container), onWheel: wrapHandler(onWheel, container), onMouseEnter: hasActiveSelection ? undefined : onPaneMouseEnter, onMouseDown: hasActiveSelection ? onMouseDown : undefined, onMouseMove: hasActiveSelection ? onMouseMove : onPaneMouseMove, onMouseUp: hasActiveSelection ? onMouseUp : undefined, onMouseLeave: hasActiveSelection ? onMouseLeave : onPaneMouseLeave, ref: container, style: containerStyle, children: [children, jsx(UserSelection, {})] }));\n});\nPane.displayName = 'Pane';\n\nconst selector$7 = (s) => {\n    const selectedNodes = s.getNodes().filter((n) => n.selected);\n    return {\n        ...getRectOfNodes(selectedNodes, s.nodeOrigin),\n        transformString: `translate(${s.transform[0]}px,${s.transform[1]}px) scale(${s.transform[2]})`,\n        userSelectionActive: s.userSelectionActive,\n    };\n};\nfunction NodesSelection({ onSelectionContextMenu, noPanClassName, disableKeyboardA11y }) {\n    const store = useStoreApi();\n    const { width, height, x: left, y: top, transformString, userSelectionActive } = useStore(selector$7, shallow);\n    const updatePositions = useUpdateNodePositions();\n    const nodeRef = useRef(null);\n    useEffect(() => {\n        if (!disableKeyboardA11y) {\n            nodeRef.current?.focus({\n                preventScroll: true,\n            });\n        }\n    }, [disableKeyboardA11y]);\n    useDrag({\n        nodeRef,\n    });\n    if (userSelectionActive || !width || !height) {\n        return null;\n    }\n    const onContextMenu = onSelectionContextMenu\n        ? (event) => {\n            const selectedNodes = store\n                .getState()\n                .getNodes()\n                .filter((n) => n.selected);\n            onSelectionContextMenu(event, selectedNodes);\n        }\n        : undefined;\n    const onKeyDown = (event) => {\n        if (Object.prototype.hasOwnProperty.call(arrowKeyDiffs, event.key)) {\n            updatePositions({\n                x: arrowKeyDiffs[event.key].x,\n                y: arrowKeyDiffs[event.key].y,\n                isShiftPressed: event.shiftKey,\n            });\n        }\n    };\n    return (jsx(\"div\", { className: cc(['react-flow__nodesselection', 'react-flow__container', noPanClassName]), style: {\n            transform: transformString,\n        }, children: jsx(\"div\", { ref: nodeRef, className: \"react-flow__nodesselection-rect\", onContextMenu: onContextMenu, tabIndex: disableKeyboardA11y ? undefined : -1, onKeyDown: disableKeyboardA11y ? undefined : onKeyDown, style: {\n                width,\n                height,\n                top,\n                left,\n            } }) }));\n}\nvar NodesSelection$1 = memo(NodesSelection);\n\nconst selector$6 = (s) => s.nodesSelectionActive;\nconst FlowRenderer = ({ children, onPaneClick, onPaneMouseEnter, onPaneMouseMove, onPaneMouseLeave, onPaneContextMenu, onPaneScroll, deleteKeyCode, onMove, onMoveStart, onMoveEnd, selectionKeyCode, selectionOnDrag, selectionMode, onSelectionStart, onSelectionEnd, multiSelectionKeyCode, panActivationKeyCode, zoomActivationKeyCode, elementsSelectable, zoomOnScroll, zoomOnPinch, panOnScroll, panOnScrollSpeed, panOnScrollMode, zoomOnDoubleClick, panOnDrag: _panOnDrag, defaultViewport, translateExtent, minZoom, maxZoom, preventScrolling, onSelectionContextMenu, noWheelClassName, noPanClassName, disableKeyboardA11y, }) => {\n    const nodesSelectionActive = useStore(selector$6);\n    const selectionKeyPressed = useKeyPress(selectionKeyCode);\n    const panActivationKeyPressed = useKeyPress(panActivationKeyCode);\n    const panOnDrag = panActivationKeyPressed || _panOnDrag;\n    const isSelecting = selectionKeyPressed || (selectionOnDrag && panOnDrag !== true);\n    useGlobalKeyHandler({ deleteKeyCode, multiSelectionKeyCode });\n    return (jsx(ZoomPane, { onMove: onMove, onMoveStart: onMoveStart, onMoveEnd: onMoveEnd, onPaneContextMenu: onPaneContextMenu, elementsSelectable: elementsSelectable, zoomOnScroll: zoomOnScroll, zoomOnPinch: zoomOnPinch, panOnScroll: panOnScroll, panOnScrollSpeed: panOnScrollSpeed, panOnScrollMode: panOnScrollMode, zoomOnDoubleClick: zoomOnDoubleClick, panOnDrag: !selectionKeyPressed && panOnDrag, defaultViewport: defaultViewport, translateExtent: translateExtent, minZoom: minZoom, maxZoom: maxZoom, zoomActivationKeyCode: zoomActivationKeyCode, preventScrolling: preventScrolling, noWheelClassName: noWheelClassName, noPanClassName: noPanClassName, children: jsxs(Pane, { onSelectionStart: onSelectionStart, onSelectionEnd: onSelectionEnd, onPaneClick: onPaneClick, onPaneMouseEnter: onPaneMouseEnter, onPaneMouseMove: onPaneMouseMove, onPaneMouseLeave: onPaneMouseLeave, onPaneContextMenu: onPaneContextMenu, onPaneScroll: onPaneScroll, panOnDrag: panOnDrag, isSelecting: !!isSelecting, selectionMode: selectionMode, children: [children, nodesSelectionActive && (jsx(NodesSelection$1, { onSelectionContextMenu: onSelectionContextMenu, noPanClassName: noPanClassName, disableKeyboardA11y: disableKeyboardA11y }))] }) }));\n};\nFlowRenderer.displayName = 'FlowRenderer';\nvar FlowRenderer$1 = memo(FlowRenderer);\n\nfunction useVisibleNodes(onlyRenderVisible) {\n    const nodes = useStore(useCallback((s) => onlyRenderVisible\n        ? getNodesInside(s.nodeInternals, { x: 0, y: 0, width: s.width, height: s.height }, s.transform, true)\n        : s.getNodes(), [onlyRenderVisible]));\n    return nodes;\n}\n\nconst selector$5 = (s) => ({\n    nodesDraggable: s.nodesDraggable,\n    nodesConnectable: s.nodesConnectable,\n    nodesFocusable: s.nodesFocusable,\n    elementsSelectable: s.elementsSelectable,\n    updateNodeDimensions: s.updateNodeDimensions,\n    onError: s.onError,\n});\nconst NodeRenderer = (props) => {\n    const { nodesDraggable, nodesConnectable, nodesFocusable, elementsSelectable, updateNodeDimensions, onError } = useStore(selector$5, shallow);\n    const nodes = useVisibleNodes(props.onlyRenderVisibleElements);\n    const resizeObserverRef = useRef();\n    const resizeObserver = useMemo(() => {\n        if (typeof ResizeObserver === 'undefined') {\n            return null;\n        }\n        const observer = new ResizeObserver((entries) => {\n            const updates = entries.map((entry) => ({\n                id: entry.target.getAttribute('data-id'),\n                nodeElement: entry.target,\n                forceUpdate: true,\n            }));\n            updateNodeDimensions(updates);\n        });\n        resizeObserverRef.current = observer;\n        return observer;\n    }, []);\n    useEffect(() => {\n        return () => {\n            resizeObserverRef?.current?.disconnect();\n        };\n    }, []);\n    return (jsx(\"div\", { className: \"react-flow__nodes\", style: containerStyle, children: nodes.map((node) => {\n            let nodeType = node.type || 'default';\n            if (!props.nodeTypes[nodeType]) {\n                onError?.('003', errorMessages['error003'](nodeType));\n                nodeType = 'default';\n            }\n            const NodeComponent = (props.nodeTypes[nodeType] || props.nodeTypes.default);\n            const isDraggable = !!(node.draggable || (nodesDraggable && typeof node.draggable === 'undefined'));\n            const isSelectable = !!(node.selectable || (elementsSelectable && typeof node.selectable === 'undefined'));\n            const isConnectable = !!(node.connectable || (nodesConnectable && typeof node.connectable === 'undefined'));\n            const isFocusable = !!(node.focusable || (nodesFocusable && typeof node.focusable === 'undefined'));\n            const clampedPosition = props.nodeExtent\n                ? clampPosition(node.positionAbsolute, props.nodeExtent)\n                : node.positionAbsolute;\n            const posX = clampedPosition?.x ?? 0;\n            const posY = clampedPosition?.y ?? 0;\n            const posOrigin = getPositionWithOrigin({\n                x: posX,\n                y: posY,\n                width: node.width ?? 0,\n                height: node.height ?? 0,\n                origin: props.nodeOrigin,\n            });\n            return (jsx(NodeComponent, { id: node.id, className: node.className, style: node.style, type: nodeType, data: node.data, sourcePosition: node.sourcePosition || Position.Bottom, targetPosition: node.targetPosition || Position.Top, hidden: node.hidden, xPos: posX, yPos: posY, xPosOrigin: posOrigin.x, yPosOrigin: posOrigin.y, selectNodesOnDrag: props.selectNodesOnDrag, onClick: props.onNodeClick, onMouseEnter: props.onNodeMouseEnter, onMouseMove: props.onNodeMouseMove, onMouseLeave: props.onNodeMouseLeave, onContextMenu: props.onNodeContextMenu, onDoubleClick: props.onNodeDoubleClick, selected: !!node.selected, isDraggable: isDraggable, isSelectable: isSelectable, isConnectable: isConnectable, isFocusable: isFocusable, resizeObserver: resizeObserver, dragHandle: node.dragHandle, zIndex: node[internalsSymbol]?.z ?? 0, isParent: !!node[internalsSymbol]?.isParent, noDragClassName: props.noDragClassName, noPanClassName: props.noPanClassName, initialized: !!node.width && !!node.height, rfId: props.rfId, disableKeyboardA11y: props.disableKeyboardA11y, ariaLabel: node.ariaLabel }, node.id));\n        }) }));\n};\nNodeRenderer.displayName = 'NodeRenderer';\nvar NodeRenderer$1 = memo(NodeRenderer);\n\nconst defaultEdgeTree = [{ level: 0, isMaxLevel: true, edges: [] }];\nfunction groupEdgesByZLevel(edges, nodeInternals, elevateEdgesOnSelect = false) {\n    let maxLevel = -1;\n    const levelLookup = edges.reduce((tree, edge) => {\n        const hasZIndex = isNumeric(edge.zIndex);\n        let z = hasZIndex ? edge.zIndex : 0;\n        if (elevateEdgesOnSelect) {\n            z = hasZIndex\n                ? edge.zIndex\n                : Math.max(nodeInternals.get(edge.source)?.[internalsSymbol]?.z || 0, nodeInternals.get(edge.target)?.[internalsSymbol]?.z || 0);\n        }\n        if (tree[z]) {\n            tree[z].push(edge);\n        }\n        else {\n            tree[z] = [edge];\n        }\n        maxLevel = z > maxLevel ? z : maxLevel;\n        return tree;\n    }, {});\n    const edgeTree = Object.entries(levelLookup).map(([key, edges]) => {\n        const level = +key;\n        return {\n            edges,\n            level,\n            isMaxLevel: level === maxLevel,\n        };\n    });\n    if (edgeTree.length === 0) {\n        return defaultEdgeTree;\n    }\n    return edgeTree;\n}\nfunction useVisibleEdges(onlyRenderVisible, nodeInternals, elevateEdgesOnSelect) {\n    const edges = useStore(useCallback((s) => {\n        if (!onlyRenderVisible) {\n            return s.edges;\n        }\n        return s.edges.filter((e) => {\n            const sourceNode = nodeInternals.get(e.source);\n            const targetNode = nodeInternals.get(e.target);\n            return (sourceNode?.width &&\n                sourceNode?.height &&\n                targetNode?.width &&\n                targetNode?.height &&\n                isEdgeVisible({\n                    sourcePos: sourceNode.positionAbsolute || { x: 0, y: 0 },\n                    targetPos: targetNode.positionAbsolute || { x: 0, y: 0 },\n                    sourceWidth: sourceNode.width,\n                    sourceHeight: sourceNode.height,\n                    targetWidth: targetNode.width,\n                    targetHeight: targetNode.height,\n                    width: s.width,\n                    height: s.height,\n                    transform: s.transform,\n                }));\n        });\n    }, [onlyRenderVisible, nodeInternals]));\n    return groupEdgesByZLevel(edges, nodeInternals, elevateEdgesOnSelect);\n}\n\nconst ArrowSymbol = ({ color = 'none', strokeWidth = 1 }) => {\n    return (jsx(\"polyline\", { stroke: color, strokeLinecap: \"round\", strokeLinejoin: \"round\", strokeWidth: strokeWidth, fill: \"none\", points: \"-5,-4 0,0 -5,4\" }));\n};\nconst ArrowClosedSymbol = ({ color = 'none', strokeWidth = 1 }) => {\n    return (jsx(\"polyline\", { stroke: color, strokeLinecap: \"round\", strokeLinejoin: \"round\", strokeWidth: strokeWidth, fill: color, points: \"-5,-4 0,0 -5,4 -5,-4\" }));\n};\nconst MarkerSymbols = {\n    [MarkerType.Arrow]: ArrowSymbol,\n    [MarkerType.ArrowClosed]: ArrowClosedSymbol,\n};\nfunction useMarkerSymbol(type) {\n    const store = useStoreApi();\n    const symbol = useMemo(() => {\n        const symbolExists = Object.prototype.hasOwnProperty.call(MarkerSymbols, type);\n        if (!symbolExists) {\n            store.getState().onError?.('009', errorMessages['error009'](type));\n            return null;\n        }\n        return MarkerSymbols[type];\n    }, [type]);\n    return symbol;\n}\n\nconst Marker = ({ id, type, color, width = 12.5, height = 12.5, markerUnits = 'strokeWidth', strokeWidth, orient = 'auto-start-reverse', }) => {\n    const Symbol = useMarkerSymbol(type);\n    if (!Symbol) {\n        return null;\n    }\n    return (jsx(\"marker\", { className: \"react-flow__arrowhead\", id: id, markerWidth: `${width}`, markerHeight: `${height}`, viewBox: \"-10 -10 20 20\", markerUnits: markerUnits, orient: orient, refX: \"0\", refY: \"0\", children: jsx(Symbol, { color: color, strokeWidth: strokeWidth }) }));\n};\nconst markerSelector = ({ defaultColor, rfId }) => (s) => {\n    const ids = [];\n    return s.edges\n        .reduce((markers, edge) => {\n        [edge.markerStart, edge.markerEnd].forEach((marker) => {\n            if (marker && typeof marker === 'object') {\n                const markerId = getMarkerId(marker, rfId);\n                if (!ids.includes(markerId)) {\n                    markers.push({ id: markerId, color: marker.color || defaultColor, ...marker });\n                    ids.push(markerId);\n                }\n            }\n        });\n        return markers;\n    }, [])\n        .sort((a, b) => a.id.localeCompare(b.id));\n};\n// when you have multiple flows on a page and you hide the first one, the other ones have no markers anymore\n// when they do have markers with the same ids. To prevent this the user can pass a unique id to the react flow wrapper\n// that we can then use for creating our unique marker ids\nconst MarkerDefinitions = ({ defaultColor, rfId }) => {\n    const markers = useStore(useCallback(markerSelector({ defaultColor, rfId }), [defaultColor, rfId]), \n    // the id includes all marker options, so we just need to look at that part of the marker\n    (a, b) => !(a.length !== b.length || a.some((m, i) => m.id !== b[i].id)));\n    return (jsx(\"defs\", { children: markers.map((marker) => (jsx(Marker, { id: marker.id, type: marker.type, color: marker.color, width: marker.width, height: marker.height, markerUnits: marker.markerUnits, strokeWidth: marker.strokeWidth, orient: marker.orient }, marker.id))) }));\n};\nMarkerDefinitions.displayName = 'MarkerDefinitions';\nvar MarkerDefinitions$1 = memo(MarkerDefinitions);\n\nconst selector$4 = (s) => ({\n    nodesConnectable: s.nodesConnectable,\n    edgesFocusable: s.edgesFocusable,\n    edgesUpdatable: s.edgesUpdatable,\n    elementsSelectable: s.elementsSelectable,\n    width: s.width,\n    height: s.height,\n    connectionMode: s.connectionMode,\n    nodeInternals: s.nodeInternals,\n    onError: s.onError,\n});\nconst EdgeRenderer = ({ defaultMarkerColor, onlyRenderVisibleElements, elevateEdgesOnSelect, rfId, edgeTypes, noPanClassName, onEdgeUpdate, onEdgeContextMenu, onEdgeMouseEnter, onEdgeMouseMove, onEdgeMouseLeave, onEdgeClick, edgeUpdaterRadius, onEdgeDoubleClick, onEdgeUpdateStart, onEdgeUpdateEnd, children, }) => {\n    const { edgesFocusable, edgesUpdatable, elementsSelectable, width, height, connectionMode, nodeInternals, onError } = useStore(selector$4, shallow);\n    const edgeTree = useVisibleEdges(onlyRenderVisibleElements, nodeInternals, elevateEdgesOnSelect);\n    if (!width) {\n        return null;\n    }\n    return (jsxs(Fragment, { children: [edgeTree.map(({ level, edges, isMaxLevel }) => (jsxs(\"svg\", { style: { zIndex: level }, width: width, height: height, className: \"react-flow__edges react-flow__container\", children: [isMaxLevel && jsx(MarkerDefinitions$1, { defaultColor: defaultMarkerColor, rfId: rfId }), jsx(\"g\", { children: edges.map((edge) => {\n                            const [sourceNodeRect, sourceHandleBounds, sourceIsValid] = getNodeData(nodeInternals.get(edge.source));\n                            const [targetNodeRect, targetHandleBounds, targetIsValid] = getNodeData(nodeInternals.get(edge.target));\n                            if (!sourceIsValid || !targetIsValid) {\n                                return null;\n                            }\n                            let edgeType = edge.type || 'default';\n                            if (!edgeTypes[edgeType]) {\n                                onError?.('011', errorMessages['error011'](edgeType));\n                                edgeType = 'default';\n                            }\n                            const EdgeComponent = edgeTypes[edgeType] || edgeTypes.default;\n                            // when connection type is loose we can define all handles as sources and connect source -> source\n                            const targetNodeHandles = connectionMode === ConnectionMode.Strict\n                                ? targetHandleBounds.target\n                                : (targetHandleBounds.target ?? []).concat(targetHandleBounds.source ?? []);\n                            const sourceHandle = getHandle(sourceHandleBounds.source, edge.sourceHandle);\n                            const targetHandle = getHandle(targetNodeHandles, edge.targetHandle);\n                            const sourcePosition = sourceHandle?.position || Position.Bottom;\n                            const targetPosition = targetHandle?.position || Position.Top;\n                            const isFocusable = !!(edge.focusable || (edgesFocusable && typeof edge.focusable === 'undefined'));\n                            const isUpdatable = typeof onEdgeUpdate !== 'undefined' &&\n                                (edge.updatable || (edgesUpdatable && typeof edge.updatable === 'undefined'));\n                            if (!sourceHandle || !targetHandle) {\n                                onError?.('008', errorMessages['error008'](sourceHandle, edge));\n                                return null;\n                            }\n                            const { sourceX, sourceY, targetX, targetY } = getEdgePositions(sourceNodeRect, sourceHandle, sourcePosition, targetNodeRect, targetHandle, targetPosition);\n                            return (jsx(EdgeComponent, { id: edge.id, className: cc([edge.className, noPanClassName]), type: edgeType, data: edge.data, selected: !!edge.selected, animated: !!edge.animated, hidden: !!edge.hidden, label: edge.label, labelStyle: edge.labelStyle, labelShowBg: edge.labelShowBg, labelBgStyle: edge.labelBgStyle, labelBgPadding: edge.labelBgPadding, labelBgBorderRadius: edge.labelBgBorderRadius, style: edge.style, source: edge.source, target: edge.target, sourceHandleId: edge.sourceHandle, targetHandleId: edge.targetHandle, markerEnd: edge.markerEnd, markerStart: edge.markerStart, sourceX: sourceX, sourceY: sourceY, targetX: targetX, targetY: targetY, sourcePosition: sourcePosition, targetPosition: targetPosition, elementsSelectable: elementsSelectable, onEdgeUpdate: onEdgeUpdate, onContextMenu: onEdgeContextMenu, onMouseEnter: onEdgeMouseEnter, onMouseMove: onEdgeMouseMove, onMouseLeave: onEdgeMouseLeave, onClick: onEdgeClick, edgeUpdaterRadius: edgeUpdaterRadius, onEdgeDoubleClick: onEdgeDoubleClick, onEdgeUpdateStart: onEdgeUpdateStart, onEdgeUpdateEnd: onEdgeUpdateEnd, rfId: rfId, ariaLabel: edge.ariaLabel, isFocusable: isFocusable, isUpdatable: isUpdatable, pathOptions: 'pathOptions' in edge ? edge.pathOptions : undefined, interactionWidth: edge.interactionWidth }, edge.id));\n                        }) })] }, level))), children] }));\n};\nEdgeRenderer.displayName = 'EdgeRenderer';\nvar EdgeRenderer$1 = memo(EdgeRenderer);\n\nconst selector$3 = (s) => `translate(${s.transform[0]}px,${s.transform[1]}px) scale(${s.transform[2]})`;\nfunction Viewport({ children }) {\n    const transform = useStore(selector$3);\n    return (jsx(\"div\", { className: \"react-flow__viewport react-flow__container\", style: { transform }, children: children }));\n}\n\nfunction useOnInitHandler(onInit) {\n    const rfInstance = useReactFlow();\n    const isInitialized = useRef(false);\n    useEffect(() => {\n        if (!isInitialized.current && rfInstance.viewportInitialized && onInit) {\n            setTimeout(() => onInit(rfInstance), 1);\n            isInitialized.current = true;\n        }\n    }, [onInit, rfInstance.viewportInitialized]);\n}\n\nconst oppositePosition = {\n    [Position.Left]: Position.Right,\n    [Position.Right]: Position.Left,\n    [Position.Top]: Position.Bottom,\n    [Position.Bottom]: Position.Top,\n};\nconst ConnectionLine = ({ nodeId, handleType, style, type = ConnectionLineType.Bezier, CustomComponent, connectionStatus, }) => {\n    const { fromNode, handleId, toX, toY, connectionMode } = useStore(useCallback((s) => ({\n        fromNode: s.nodeInternals.get(nodeId),\n        handleId: s.connectionHandleId,\n        toX: (s.connectionPosition.x - s.transform[0]) / s.transform[2],\n        toY: (s.connectionPosition.y - s.transform[1]) / s.transform[2],\n        connectionMode: s.connectionMode,\n    }), [nodeId]), shallow);\n    const fromHandleBounds = fromNode?.[internalsSymbol]?.handleBounds;\n    let handleBounds = fromHandleBounds?.[handleType];\n    if (connectionMode === ConnectionMode.Loose) {\n        handleBounds = handleBounds ? handleBounds : fromHandleBounds?.[handleType === 'source' ? 'target' : 'source'];\n    }\n    if (!fromNode || !handleBounds) {\n        return null;\n    }\n    const fromHandle = handleId ? handleBounds.find((d) => d.id === handleId) : handleBounds[0];\n    const fromHandleX = fromHandle ? fromHandle.x + fromHandle.width / 2 : (fromNode.width ?? 0) / 2;\n    const fromHandleY = fromHandle ? fromHandle.y + fromHandle.height / 2 : fromNode.height ?? 0;\n    const fromX = (fromNode.positionAbsolute?.x ?? 0) + fromHandleX;\n    const fromY = (fromNode.positionAbsolute?.y ?? 0) + fromHandleY;\n    const fromPosition = fromHandle?.position;\n    const toPosition = fromPosition ? oppositePosition[fromPosition] : null;\n    if (!fromPosition || !toPosition) {\n        return null;\n    }\n    if (CustomComponent) {\n        return (jsx(CustomComponent, { connectionLineType: type, connectionLineStyle: style, fromNode: fromNode, fromHandle: fromHandle, fromX: fromX, fromY: fromY, toX: toX, toY: toY, fromPosition: fromPosition, toPosition: toPosition, connectionStatus: connectionStatus }));\n    }\n    let dAttr = '';\n    const pathParams = {\n        sourceX: fromX,\n        sourceY: fromY,\n        sourcePosition: fromPosition,\n        targetX: toX,\n        targetY: toY,\n        targetPosition: toPosition,\n    };\n    if (type === ConnectionLineType.Bezier) {\n        // we assume the destination position is opposite to the source position\n        [dAttr] = getBezierPath(pathParams);\n    }\n    else if (type === ConnectionLineType.Step) {\n        [dAttr] = getSmoothStepPath({\n            ...pathParams,\n            borderRadius: 0,\n        });\n    }\n    else if (type === ConnectionLineType.SmoothStep) {\n        [dAttr] = getSmoothStepPath(pathParams);\n    }\n    else if (type === ConnectionLineType.SimpleBezier) {\n        [dAttr] = getSimpleBezierPath(pathParams);\n    }\n    else {\n        dAttr = `M${fromX},${fromY} ${toX},${toY}`;\n    }\n    return jsx(\"path\", { d: dAttr, fill: \"none\", className: \"react-flow__connection-path\", style: style });\n};\nConnectionLine.displayName = 'ConnectionLine';\nconst selector$2 = (s) => ({\n    nodeId: s.connectionNodeId,\n    handleType: s.connectionHandleType,\n    nodesConnectable: s.nodesConnectable,\n    connectionStatus: s.connectionStatus,\n    width: s.width,\n    height: s.height,\n});\nfunction ConnectionLineWrapper({ containerStyle, style, type, component }) {\n    const { nodeId, handleType, nodesConnectable, width, height, connectionStatus } = useStore(selector$2, shallow);\n    const isValid = !!(nodeId && handleType && width && nodesConnectable);\n    if (!isValid) {\n        return null;\n    }\n    return (jsx(\"svg\", { style: containerStyle, width: width, height: height, className: \"react-flow__edges react-flow__connectionline react-flow__container\", children: jsx(\"g\", { className: cc(['react-flow__connection', connectionStatus]), children: jsx(ConnectionLine, { nodeId: nodeId, handleType: handleType, style: style, type: type, CustomComponent: component, connectionStatus: connectionStatus }) }) }));\n}\n\nconst GraphView = ({ nodeTypes, edgeTypes, onMove, onMoveStart, onMoveEnd, onInit, onNodeClick, onEdgeClick, onNodeDoubleClick, onEdgeDoubleClick, onNodeMouseEnter, onNodeMouseMove, onNodeMouseLeave, onNodeContextMenu, onSelectionContextMenu, onSelectionStart, onSelectionEnd, connectionLineType, connectionLineStyle, connectionLineComponent, connectionLineContainerStyle, selectionKeyCode, selectionOnDrag, selectionMode, multiSelectionKeyCode, panActivationKeyCode, zoomActivationKeyCode, deleteKeyCode, onlyRenderVisibleElements, elementsSelectable, selectNodesOnDrag, defaultViewport, translateExtent, minZoom, maxZoom, preventScrolling, defaultMarkerColor, zoomOnScroll, zoomOnPinch, panOnScroll, panOnScrollSpeed, panOnScrollMode, zoomOnDoubleClick, panOnDrag, onPaneClick, onPaneMouseEnter, onPaneMouseMove, onPaneMouseLeave, onPaneScroll, onPaneContextMenu, onEdgeUpdate, onEdgeContextMenu, onEdgeMouseEnter, onEdgeMouseMove, onEdgeMouseLeave, edgeUpdaterRadius, onEdgeUpdateStart, onEdgeUpdateEnd, noDragClassName, noWheelClassName, noPanClassName, elevateEdgesOnSelect, disableKeyboardA11y, nodeOrigin, nodeExtent, rfId, }) => {\n    useOnInitHandler(onInit);\n    return (jsx(FlowRenderer$1, { onPaneClick: onPaneClick, onPaneMouseEnter: onPaneMouseEnter, onPaneMouseMove: onPaneMouseMove, onPaneMouseLeave: onPaneMouseLeave, onPaneContextMenu: onPaneContextMenu, onPaneScroll: onPaneScroll, deleteKeyCode: deleteKeyCode, selectionKeyCode: selectionKeyCode, selectionOnDrag: selectionOnDrag, selectionMode: selectionMode, onSelectionStart: onSelectionStart, onSelectionEnd: onSelectionEnd, multiSelectionKeyCode: multiSelectionKeyCode, panActivationKeyCode: panActivationKeyCode, zoomActivationKeyCode: zoomActivationKeyCode, elementsSelectable: elementsSelectable, onMove: onMove, onMoveStart: onMoveStart, onMoveEnd: onMoveEnd, zoomOnScroll: zoomOnScroll, zoomOnPinch: zoomOnPinch, zoomOnDoubleClick: zoomOnDoubleClick, panOnScroll: panOnScroll, panOnScrollSpeed: panOnScrollSpeed, panOnScrollMode: panOnScrollMode, panOnDrag: panOnDrag, defaultViewport: defaultViewport, translateExtent: translateExtent, minZoom: minZoom, maxZoom: maxZoom, onSelectionContextMenu: onSelectionContextMenu, preventScrolling: preventScrolling, noDragClassName: noDragClassName, noWheelClassName: noWheelClassName, noPanClassName: noPanClassName, disableKeyboardA11y: disableKeyboardA11y, children: jsxs(Viewport, { children: [jsx(EdgeRenderer$1, { edgeTypes: edgeTypes, onEdgeClick: onEdgeClick, onEdgeDoubleClick: onEdgeDoubleClick, onEdgeUpdate: onEdgeUpdate, onlyRenderVisibleElements: onlyRenderVisibleElements, onEdgeContextMenu: onEdgeContextMenu, onEdgeMouseEnter: onEdgeMouseEnter, onEdgeMouseMove: onEdgeMouseMove, onEdgeMouseLeave: onEdgeMouseLeave, onEdgeUpdateStart: onEdgeUpdateStart, onEdgeUpdateEnd: onEdgeUpdateEnd, edgeUpdaterRadius: edgeUpdaterRadius, defaultMarkerColor: defaultMarkerColor, noPanClassName: noPanClassName, elevateEdgesOnSelect: !!elevateEdgesOnSelect, disableKeyboardA11y: disableKeyboardA11y, rfId: rfId, children: jsx(ConnectionLineWrapper, { style: connectionLineStyle, type: connectionLineType, component: connectionLineComponent, containerStyle: connectionLineContainerStyle }) }), jsx(\"div\", { className: \"react-flow__edgelabel-renderer\" }), jsx(NodeRenderer$1, { nodeTypes: nodeTypes, onNodeClick: onNodeClick, onNodeDoubleClick: onNodeDoubleClick, onNodeMouseEnter: onNodeMouseEnter, onNodeMouseMove: onNodeMouseMove, onNodeMouseLeave: onNodeMouseLeave, onNodeContextMenu: onNodeContextMenu, selectNodesOnDrag: selectNodesOnDrag, onlyRenderVisibleElements: onlyRenderVisibleElements, noPanClassName: noPanClassName, noDragClassName: noDragClassName, disableKeyboardA11y: disableKeyboardA11y, nodeOrigin: nodeOrigin, nodeExtent: nodeExtent, rfId: rfId })] }) }));\n};\nGraphView.displayName = 'GraphView';\nvar GraphView$1 = memo(GraphView);\n\nconst infiniteExtent = [\n    [Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY],\n    [Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY],\n];\nconst initialState = {\n    rfId: '1',\n    width: 0,\n    height: 0,\n    transform: [0, 0, 1],\n    nodeInternals: new Map(),\n    edges: [],\n    onNodesChange: null,\n    onEdgesChange: null,\n    hasDefaultNodes: false,\n    hasDefaultEdges: false,\n    d3Zoom: null,\n    d3Selection: null,\n    d3ZoomHandler: undefined,\n    minZoom: 0.5,\n    maxZoom: 2,\n    translateExtent: infiniteExtent,\n    nodeExtent: infiniteExtent,\n    nodesSelectionActive: false,\n    userSelectionActive: false,\n    userSelectionRect: null,\n    connectionNodeId: null,\n    connectionHandleId: null,\n    connectionHandleType: 'source',\n    connectionPosition: { x: 0, y: 0 },\n    connectionStatus: null,\n    connectionMode: ConnectionMode.Strict,\n    domNode: null,\n    paneDragging: false,\n    noPanClassName: 'nopan',\n    nodeOrigin: [0, 0],\n    snapGrid: [15, 15],\n    snapToGrid: false,\n    nodesDraggable: true,\n    nodesConnectable: true,\n    nodesFocusable: true,\n    edgesFocusable: true,\n    edgesUpdatable: true,\n    elementsSelectable: true,\n    elevateNodesOnSelect: true,\n    fitViewOnInit: false,\n    fitViewOnInitDone: false,\n    fitViewOnInitOptions: undefined,\n    multiSelectionActive: false,\n    connectionStartHandle: null,\n    connectionEndHandle: null,\n    connectionClickStartHandle: null,\n    connectOnClick: true,\n    ariaLiveMessage: '',\n    autoPanOnConnect: true,\n    autoPanOnNodeDrag: true,\n    connectionRadius: 20,\n    onError: devWarn,\n    isValidConnection: undefined,\n};\n\nconst createRFStore = () => createStore((set, get) => ({\n    ...initialState,\n    setNodes: (nodes) => {\n        const { nodeInternals, nodeOrigin, elevateNodesOnSelect } = get();\n        set({ nodeInternals: createNodeInternals(nodes, nodeInternals, nodeOrigin, elevateNodesOnSelect) });\n    },\n    getNodes: () => {\n        return Array.from(get().nodeInternals.values());\n    },\n    setEdges: (edges) => {\n        const { defaultEdgeOptions = {} } = get();\n        set({ edges: edges.map((e) => ({ ...defaultEdgeOptions, ...e })) });\n    },\n    setDefaultNodesAndEdges: (nodes, edges) => {\n        const hasDefaultNodes = typeof nodes !== 'undefined';\n        const hasDefaultEdges = typeof edges !== 'undefined';\n        const nodeInternals = hasDefaultNodes\n            ? createNodeInternals(nodes, new Map(), get().nodeOrigin, get().elevateNodesOnSelect)\n            : new Map();\n        const nextEdges = hasDefaultEdges ? edges : [];\n        set({ nodeInternals, edges: nextEdges, hasDefaultNodes, hasDefaultEdges });\n    },\n    updateNodeDimensions: (updates) => {\n        const { onNodesChange, nodeInternals, fitViewOnInit, fitViewOnInitDone, fitViewOnInitOptions, domNode, nodeOrigin, } = get();\n        const viewportNode = domNode?.querySelector('.react-flow__viewport');\n        if (!viewportNode) {\n            return;\n        }\n        const style = window.getComputedStyle(viewportNode);\n        const { m22: zoom } = new window.DOMMatrixReadOnly(style.transform);\n        const changes = updates.reduce((res, update) => {\n            const node = nodeInternals.get(update.id);\n            if (node) {\n                const dimensions = getDimensions(update.nodeElement);\n                const doUpdate = !!(dimensions.width &&\n                    dimensions.height &&\n                    (node.width !== dimensions.width || node.height !== dimensions.height || update.forceUpdate));\n                if (doUpdate) {\n                    nodeInternals.set(node.id, {\n                        ...node,\n                        [internalsSymbol]: {\n                            ...node[internalsSymbol],\n                            handleBounds: {\n                                source: getHandleBounds('.source', update.nodeElement, zoom, nodeOrigin),\n                                target: getHandleBounds('.target', update.nodeElement, zoom, nodeOrigin),\n                            },\n                        },\n                        ...dimensions,\n                    });\n                    res.push({\n                        id: node.id,\n                        type: 'dimensions',\n                        dimensions,\n                    });\n                }\n            }\n            return res;\n        }, []);\n        updateAbsoluteNodePositions(nodeInternals, nodeOrigin);\n        const nextFitViewOnInitDone = fitViewOnInitDone ||\n            (fitViewOnInit && !fitViewOnInitDone && fitView(get, { initial: true, ...fitViewOnInitOptions }));\n        set({ nodeInternals: new Map(nodeInternals), fitViewOnInitDone: nextFitViewOnInitDone });\n        if (changes?.length > 0) {\n            onNodesChange?.(changes);\n        }\n    },\n    updateNodePositions: (nodeDragItems, positionChanged = true, dragging = false) => {\n        const { triggerNodeChanges } = get();\n        const changes = nodeDragItems.map((node) => {\n            const change = {\n                id: node.id,\n                type: 'position',\n                dragging,\n            };\n            if (positionChanged) {\n                change.positionAbsolute = node.positionAbsolute;\n                change.position = node.position;\n            }\n            return change;\n        });\n        triggerNodeChanges(changes);\n    },\n    triggerNodeChanges: (changes) => {\n        const { onNodesChange, nodeInternals, hasDefaultNodes, nodeOrigin, getNodes, elevateNodesOnSelect } = get();\n        if (changes?.length) {\n            if (hasDefaultNodes) {\n                const nodes = applyNodeChanges(changes, getNodes());\n                const nextNodeInternals = createNodeInternals(nodes, nodeInternals, nodeOrigin, elevateNodesOnSelect);\n                set({ nodeInternals: nextNodeInternals });\n            }\n            onNodesChange?.(changes);\n        }\n    },\n    addSelectedNodes: (selectedNodeIds) => {\n        const { multiSelectionActive, edges, getNodes } = get();\n        let changedNodes;\n        let changedEdges = null;\n        if (multiSelectionActive) {\n            changedNodes = selectedNodeIds.map((nodeId) => createSelectionChange(nodeId, true));\n        }\n        else {\n            changedNodes = getSelectionChanges(getNodes(), selectedNodeIds);\n            changedEdges = getSelectionChanges(edges, []);\n        }\n        updateNodesAndEdgesSelections({\n            changedNodes,\n            changedEdges,\n            get,\n            set,\n        });\n    },\n    addSelectedEdges: (selectedEdgeIds) => {\n        const { multiSelectionActive, edges, getNodes } = get();\n        let changedEdges;\n        let changedNodes = null;\n        if (multiSelectionActive) {\n            changedEdges = selectedEdgeIds.map((edgeId) => createSelectionChange(edgeId, true));\n        }\n        else {\n            changedEdges = getSelectionChanges(edges, selectedEdgeIds);\n            changedNodes = getSelectionChanges(getNodes(), []);\n        }\n        updateNodesAndEdgesSelections({\n            changedNodes,\n            changedEdges,\n            get,\n            set,\n        });\n    },\n    unselectNodesAndEdges: ({ nodes, edges } = {}) => {\n        const { edges: storeEdges, getNodes } = get();\n        const nodesToUnselect = nodes ? nodes : getNodes();\n        const edgesToUnselect = edges ? edges : storeEdges;\n        const changedNodes = nodesToUnselect.map((n) => {\n            n.selected = false;\n            return createSelectionChange(n.id, false);\n        });\n        const changedEdges = edgesToUnselect.map((edge) => createSelectionChange(edge.id, false));\n        updateNodesAndEdgesSelections({\n            changedNodes,\n            changedEdges,\n            get,\n            set,\n        });\n    },\n    setMinZoom: (minZoom) => {\n        const { d3Zoom, maxZoom } = get();\n        d3Zoom?.scaleExtent([minZoom, maxZoom]);\n        set({ minZoom });\n    },\n    setMaxZoom: (maxZoom) => {\n        const { d3Zoom, minZoom } = get();\n        d3Zoom?.scaleExtent([minZoom, maxZoom]);\n        set({ maxZoom });\n    },\n    setTranslateExtent: (translateExtent) => {\n        get().d3Zoom?.translateExtent(translateExtent);\n        set({ translateExtent });\n    },\n    resetSelectedElements: () => {\n        const { edges, getNodes } = get();\n        const nodes = getNodes();\n        const nodesToUnselect = nodes\n            .filter((e) => e.selected)\n            .map((n) => createSelectionChange(n.id, false));\n        const edgesToUnselect = edges\n            .filter((e) => e.selected)\n            .map((e) => createSelectionChange(e.id, false));\n        updateNodesAndEdgesSelections({\n            changedNodes: nodesToUnselect,\n            changedEdges: edgesToUnselect,\n            get,\n            set,\n        });\n    },\n    setNodeExtent: (nodeExtent) => {\n        const { nodeInternals } = get();\n        nodeInternals.forEach((node) => {\n            node.positionAbsolute = clampPosition(node.position, nodeExtent);\n        });\n        set({\n            nodeExtent,\n            nodeInternals: new Map(nodeInternals),\n        });\n    },\n    panBy: (delta) => {\n        const { transform, width, height, d3Zoom, d3Selection, translateExtent } = get();\n        if (!d3Zoom || !d3Selection || (!delta.x && !delta.y)) {\n            return;\n        }\n        const nextTransform = zoomIdentity.translate(transform[0] + delta.x, transform[1] + delta.y).scale(transform[2]);\n        const extent = [\n            [0, 0],\n            [width, height],\n        ];\n        const constrainedTransform = d3Zoom?.constrain()(nextTransform, extent, translateExtent);\n        d3Zoom.transform(d3Selection, constrainedTransform);\n    },\n    cancelConnection: () => set({\n        connectionNodeId: initialState.connectionNodeId,\n        connectionHandleId: initialState.connectionHandleId,\n        connectionHandleType: initialState.connectionHandleType,\n        connectionStatus: initialState.connectionStatus,\n        connectionStartHandle: initialState.connectionStartHandle,\n        connectionEndHandle: initialState.connectionEndHandle,\n    }),\n    reset: () => set({ ...initialState }),\n}));\n\nconst ReactFlowProvider = ({ children }) => {\n    const storeRef = useRef(null);\n    if (!storeRef.current) {\n        storeRef.current = createRFStore();\n    }\n    return jsx(Provider$1, { value: storeRef.current, children: children });\n};\nReactFlowProvider.displayName = 'ReactFlowProvider';\n\nconst Wrapper = ({ children }) => {\n    const isWrapped = useContext(StoreContext);\n    if (isWrapped) {\n        // we need to wrap it with a fragment because it's not allowed for children to be a ReactNode\n        // https://github.com/DefinitelyTyped/DefinitelyTyped/issues/18051\n        return jsx(Fragment, { children: children });\n    }\n    return jsx(ReactFlowProvider, { children: children });\n};\nWrapper.displayName = 'ReactFlowWrapper';\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction useNodeOrEdgeTypes(nodeOrEdgeTypes, createTypes) {\n    const typesKeysRef = useRef(null);\n    const typesParsed = useMemo(() => {\n        if (process.env.NODE_ENV === 'development') {\n            const typeKeys = Object.keys(nodeOrEdgeTypes);\n            if (shallow(typesKeysRef.current, typeKeys)) {\n                devWarn('002', errorMessages['error002']());\n            }\n            typesKeysRef.current = typeKeys;\n        }\n        return createTypes(nodeOrEdgeTypes);\n    }, [nodeOrEdgeTypes]);\n    return typesParsed;\n}\n\nconst defaultNodeTypes = {\n    input: InputNode$1,\n    default: DefaultNode$1,\n    output: OutputNode$1,\n    group: GroupNode,\n};\nconst defaultEdgeTypes = {\n    default: BezierEdge,\n    straight: StraightEdge,\n    step: StepEdge,\n    smoothstep: SmoothStepEdge,\n    simplebezier: SimpleBezierEdge,\n};\nconst initNodeOrigin = [0, 0];\nconst initSnapGrid = [15, 15];\nconst initDefaultViewport = { x: 0, y: 0, zoom: 1 };\nconst wrapperStyle = {\n    width: '100%',\n    height: '100%',\n    overflow: 'hidden',\n    position: 'relative',\n    zIndex: 0,\n};\nconst ReactFlow = forwardRef(({ nodes, edges, defaultNodes, defaultEdges, className, nodeTypes = defaultNodeTypes, edgeTypes = defaultEdgeTypes, onNodeClick, onEdgeClick, onInit, onMove, onMoveStart, onMoveEnd, onConnect, onConnectStart, onConnectEnd, onClickConnectStart, onClickConnectEnd, onNodeMouseEnter, onNodeMouseMove, onNodeMouseLeave, onNodeContextMenu, onNodeDoubleClick, onNodeDragStart, onNodeDrag, onNodeDragStop, onNodesDelete, onEdgesDelete, onSelectionChange, onSelectionDragStart, onSelectionDrag, onSelectionDragStop, onSelectionContextMenu, onSelectionStart, onSelectionEnd, connectionMode = ConnectionMode.Strict, connectionLineType = ConnectionLineType.Bezier, connectionLineStyle, connectionLineComponent, connectionLineContainerStyle, deleteKeyCode = 'Backspace', selectionKeyCode = 'Shift', selectionOnDrag = false, selectionMode = SelectionMode.Full, panActivationKeyCode = 'Space', multiSelectionKeyCode = 'Meta', zoomActivationKeyCode = 'Meta', snapToGrid = false, snapGrid = initSnapGrid, onlyRenderVisibleElements = false, selectNodesOnDrag = true, nodesDraggable, nodesConnectable, nodesFocusable, nodeOrigin = initNodeOrigin, edgesFocusable, edgesUpdatable, elementsSelectable, defaultViewport = initDefaultViewport, minZoom = 0.5, maxZoom = 2, translateExtent = infiniteExtent, preventScrolling = true, nodeExtent, defaultMarkerColor = '#b1b1b7', zoomOnScroll = true, zoomOnPinch = true, panOnScroll = false, panOnScrollSpeed = 0.5, panOnScrollMode = PanOnScrollMode.Free, zoomOnDoubleClick = true, panOnDrag = true, onPaneClick, onPaneMouseEnter, onPaneMouseMove, onPaneMouseLeave, onPaneScroll, onPaneContextMenu, children, onEdgeUpdate, onEdgeContextMenu, onEdgeDoubleClick, onEdgeMouseEnter, onEdgeMouseMove, onEdgeMouseLeave, onEdgeUpdateStart, onEdgeUpdateEnd, edgeUpdaterRadius = 10, onNodesChange, onEdgesChange, noDragClassName = 'nodrag', noWheelClassName = 'nowheel', noPanClassName = 'nopan', fitView = false, fitViewOptions, connectOnClick = true, attributionPosition, proOptions, defaultEdgeOptions, elevateNodesOnSelect = true, elevateEdgesOnSelect = false, disableKeyboardA11y = false, autoPanOnConnect = true, autoPanOnNodeDrag = true, connectionRadius = 20, isValidConnection, onError, style, id, ...rest }, ref) => {\n    const nodeTypesWrapped = useNodeOrEdgeTypes(nodeTypes, createNodeTypes);\n    const edgeTypesWrapped = useNodeOrEdgeTypes(edgeTypes, createEdgeTypes);\n    const rfId = id || '1';\n    return (jsx(\"div\", { ...rest, style: { ...style, ...wrapperStyle }, ref: ref, className: cc(['react-flow', className]), \"data-testid\": \"rf__wrapper\", id: id, children: jsxs(Wrapper, { children: [jsx(GraphView$1, { onInit: onInit, onMove: onMove, onMoveStart: onMoveStart, onMoveEnd: onMoveEnd, onNodeClick: onNodeClick, onEdgeClick: onEdgeClick, onNodeMouseEnter: onNodeMouseEnter, onNodeMouseMove: onNodeMouseMove, onNodeMouseLeave: onNodeMouseLeave, onNodeContextMenu: onNodeContextMenu, onNodeDoubleClick: onNodeDoubleClick, nodeTypes: nodeTypesWrapped, edgeTypes: edgeTypesWrapped, connectionLineType: connectionLineType, connectionLineStyle: connectionLineStyle, connectionLineComponent: connectionLineComponent, connectionLineContainerStyle: connectionLineContainerStyle, selectionKeyCode: selectionKeyCode, selectionOnDrag: selectionOnDrag, selectionMode: selectionMode, deleteKeyCode: deleteKeyCode, multiSelectionKeyCode: multiSelectionKeyCode, panActivationKeyCode: panActivationKeyCode, zoomActivationKeyCode: zoomActivationKeyCode, onlyRenderVisibleElements: onlyRenderVisibleElements, selectNodesOnDrag: selectNodesOnDrag, defaultViewport: defaultViewport, translateExtent: translateExtent, minZoom: minZoom, maxZoom: maxZoom, preventScrolling: preventScrolling, zoomOnScroll: zoomOnScroll, zoomOnPinch: zoomOnPinch, zoomOnDoubleClick: zoomOnDoubleClick, panOnScroll: panOnScroll, panOnScrollSpeed: panOnScrollSpeed, panOnScrollMode: panOnScrollMode, panOnDrag: panOnDrag, onPaneClick: onPaneClick, onPaneMouseEnter: onPaneMouseEnter, onPaneMouseMove: onPaneMouseMove, onPaneMouseLeave: onPaneMouseLeave, onPaneScroll: onPaneScroll, onPaneContextMenu: onPaneContextMenu, onSelectionContextMenu: onSelectionContextMenu, onSelectionStart: onSelectionStart, onSelectionEnd: onSelectionEnd, onEdgeUpdate: onEdgeUpdate, onEdgeContextMenu: onEdgeContextMenu, onEdgeDoubleClick: onEdgeDoubleClick, onEdgeMouseEnter: onEdgeMouseEnter, onEdgeMouseMove: onEdgeMouseMove, onEdgeMouseLeave: onEdgeMouseLeave, onEdgeUpdateStart: onEdgeUpdateStart, onEdgeUpdateEnd: onEdgeUpdateEnd, edgeUpdaterRadius: edgeUpdaterRadius, defaultMarkerColor: defaultMarkerColor, noDragClassName: noDragClassName, noWheelClassName: noWheelClassName, noPanClassName: noPanClassName, elevateEdgesOnSelect: elevateEdgesOnSelect, rfId: rfId, disableKeyboardA11y: disableKeyboardA11y, nodeOrigin: nodeOrigin, nodeExtent: nodeExtent }), jsx(StoreUpdater, { nodes: nodes, edges: edges, defaultNodes: defaultNodes, defaultEdges: defaultEdges, onConnect: onConnect, onConnectStart: onConnectStart, onConnectEnd: onConnectEnd, onClickConnectStart: onClickConnectStart, onClickConnectEnd: onClickConnectEnd, nodesDraggable: nodesDraggable, nodesConnectable: nodesConnectable, nodesFocusable: nodesFocusable, edgesFocusable: edgesFocusable, edgesUpdatable: edgesUpdatable, elementsSelectable: elementsSelectable, elevateNodesOnSelect: elevateNodesOnSelect, minZoom: minZoom, maxZoom: maxZoom, nodeExtent: nodeExtent, onNodesChange: onNodesChange, onEdgesChange: onEdgesChange, snapToGrid: snapToGrid, snapGrid: snapGrid, connectionMode: connectionMode, translateExtent: translateExtent, connectOnClick: connectOnClick, defaultEdgeOptions: defaultEdgeOptions, fitView: fitView, fitViewOptions: fitViewOptions, onNodesDelete: onNodesDelete, onEdgesDelete: onEdgesDelete, onNodeDragStart: onNodeDragStart, onNodeDrag: onNodeDrag, onNodeDragStop: onNodeDragStop, onSelectionDrag: onSelectionDrag, onSelectionDragStart: onSelectionDragStart, onSelectionDragStop: onSelectionDragStop, noPanClassName: noPanClassName, nodeOrigin: nodeOrigin, rfId: rfId, autoPanOnConnect: autoPanOnConnect, autoPanOnNodeDrag: autoPanOnNodeDrag, onError: onError, connectionRadius: connectionRadius, isValidConnection: isValidConnection }), jsx(Wrapper$1, { onSelectionChange: onSelectionChange }), children, jsx(Attribution, { proOptions: proOptions, position: attributionPosition }), jsx(A11yDescriptions, { rfId: rfId, disableKeyboardA11y: disableKeyboardA11y })] }) }));\n});\nReactFlow.displayName = 'ReactFlow';\n\nconst selector$1 = (s) => s.domNode?.querySelector('.react-flow__edgelabel-renderer');\nfunction EdgeLabelRenderer({ children }) {\n    const edgeLabelRenderer = useStore(selector$1);\n    if (!edgeLabelRenderer) {\n        return null;\n    }\n    return createPortal(children, edgeLabelRenderer);\n}\n\nfunction useUpdateNodeInternals() {\n    const store = useStoreApi();\n    return useCallback((id) => {\n        const { domNode, updateNodeDimensions } = store.getState();\n        const nodeElement = domNode?.querySelector(`.react-flow__node[data-id=\"${id}\"]`);\n        if (nodeElement) {\n            requestAnimationFrame(() => updateNodeDimensions([{ id, nodeElement, forceUpdate: true }]));\n        }\n    }, []);\n}\n\nconst nodesSelector = (state) => state.getNodes();\nfunction useNodes() {\n    const nodes = useStore(nodesSelector);\n    return nodes;\n}\n\nconst edgesSelector = (state) => state.edges;\nfunction useEdges() {\n    const edges = useStore(edgesSelector);\n    return edges;\n}\n\nconst viewportSelector = (state) => ({\n    x: state.transform[0],\n    y: state.transform[1],\n    zoom: state.transform[2],\n});\nfunction useViewport() {\n    const viewport = useStore(viewportSelector, shallow);\n    return viewport;\n}\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\nfunction createUseItemsState(applyChanges) {\n    return (initialItems) => {\n        const [items, setItems] = useState(initialItems);\n        const onItemsChange = useCallback((changes) => setItems((items) => applyChanges(changes, items)), []);\n        return [items, setItems, onItemsChange];\n    };\n}\nconst useNodesState = createUseItemsState(applyNodeChanges);\nconst useEdgesState = createUseItemsState(applyEdgeChanges);\n\nfunction useOnViewportChange({ onStart, onChange, onEnd }) {\n    const store = useStoreApi();\n    useEffect(() => {\n        store.setState({ onViewportChangeStart: onStart });\n    }, [onStart]);\n    useEffect(() => {\n        store.setState({ onViewportChange: onChange });\n    }, [onChange]);\n    useEffect(() => {\n        store.setState({ onViewportChangeEnd: onEnd });\n    }, [onEnd]);\n}\n\nfunction useOnSelectionChange({ onChange }) {\n    const store = useStoreApi();\n    useEffect(() => {\n        store.setState({ onSelectionChange: onChange });\n    }, [onChange]);\n}\n\nconst selector = (options) => (s) => {\n    if (s.nodeInternals.size === 0) {\n        return false;\n    }\n    return s\n        .getNodes()\n        .filter((n) => (options.includeHiddenNodes ? true : !n.hidden))\n        .every((n) => n[internalsSymbol]?.handleBounds !== undefined);\n};\nconst defaultOptions = {\n    includeHiddenNodes: false,\n};\nfunction useNodesInitialized(options = defaultOptions) {\n    const initialized = useStore(selector(options));\n    return initialized;\n}\n\nexport { BaseEdge, BezierEdge, ConnectionLineType, ConnectionMode, EdgeLabelRenderer, EdgeText$1 as EdgeText, Handle$1 as Handle, MarkerType, PanOnScrollMode, Panel, Position, ReactFlow, ReactFlowProvider, SelectionMode, SimpleBezierEdge, SmoothStepEdge, StepEdge, StraightEdge, addEdge, applyEdgeChanges, applyNodeChanges, boxToRect, clamp, getBezierPath, getBoundsOfRects, getConnectedEdges, getIncomers, getMarkerEnd, getNodePositionWithOrigin, getOutgoers, getRectOfNodes, getSimpleBezierPath, getSmoothStepPath, getStraightPath, getTransformForBounds, internalsSymbol, isEdge, isNode, rectToBox, updateEdge, useEdges, useEdgesState, useGetPointerPosition, useKeyPress, useNodeId, useNodes, useNodesInitialized, useNodesState, useOnSelectionChange, useOnViewportChange, useReactFlow, useStore, useStoreApi, useUpdateNodeInternals, useViewport };\n","import { jsx, jsxs, Fragment } from 'react/jsx-runtime';\nimport { memo, useState, useEffect } from 'react';\nimport cc from 'classcat';\nimport { useStoreApi, useStore, useReactFlow, Panel } from '@reactflow/core';\n\nfunction PlusIcon() {\n    return (jsx(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 32 32\", children: jsx(\"path\", { d: \"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z\" }) }));\n}\n\nfunction MinusIcon() {\n    return (jsx(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 32 5\", children: jsx(\"path\", { d: \"M0 0h32v4.2H0z\" }) }));\n}\n\nfunction FitViewIcon() {\n    return (jsx(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 32 30\", children: jsx(\"path\", { d: \"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z\" }) }));\n}\n\nfunction LockIcon() {\n    return (jsx(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 25 32\", children: jsx(\"path\", { d: \"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z\" }) }));\n}\n\nfunction UnlockIcon() {\n    return (jsx(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 25 32\", children: jsx(\"path\", { d: \"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z\" }) }));\n}\n\nconst ControlButton = ({ children, className, ...rest }) => (jsx(\"button\", { type: \"button\", className: cc(['react-flow__controls-button', className]), ...rest, children: children }));\nControlButton.displayName = 'ControlButton';\n\nconst isInteractiveSelector = (s) => s.nodesDraggable && s.nodesConnectable && s.elementsSelectable;\nconst Controls = ({ style, showZoom = true, showFitView = true, showInteractive = true, fitViewOptions, onZoomIn, onZoomOut, onFitView, onInteractiveChange, className, children, position = 'bottom-left', }) => {\n    const store = useStoreApi();\n    const [isVisible, setIsVisible] = useState(false);\n    const isInteractive = useStore(isInteractiveSelector);\n    const { zoomIn, zoomOut, fitView } = useReactFlow();\n    useEffect(() => {\n        setIsVisible(true);\n    }, []);\n    if (!isVisible) {\n        return null;\n    }\n    const onZoomInHandler = () => {\n        zoomIn();\n        onZoomIn?.();\n    };\n    const onZoomOutHandler = () => {\n        zoomOut();\n        onZoomOut?.();\n    };\n    const onFitViewHandler = () => {\n        fitView(fitViewOptions);\n        onFitView?.();\n    };\n    const onToggleInteractivity = () => {\n        store.setState({\n            nodesDraggable: !isInteractive,\n            nodesConnectable: !isInteractive,\n            elementsSelectable: !isInteractive,\n        });\n        onInteractiveChange?.(!isInteractive);\n    };\n    return (jsxs(Panel, { className: cc(['react-flow__controls', className]), position: position, style: style, \"data-testid\": \"rf__controls\", children: [showZoom && (jsxs(Fragment, { children: [jsx(ControlButton, { onClick: onZoomInHandler, className: \"react-flow__controls-zoomin\", title: \"zoom in\", \"aria-label\": \"zoom in\", children: jsx(PlusIcon, {}) }), jsx(ControlButton, { onClick: onZoomOutHandler, className: \"react-flow__controls-zoomout\", title: \"zoom out\", \"aria-label\": \"zoom out\", children: jsx(MinusIcon, {}) })] })), showFitView && (jsx(ControlButton, { className: \"react-flow__controls-fitview\", onClick: onFitViewHandler, title: \"fit view\", \"aria-label\": \"fit view\", children: jsx(FitViewIcon, {}) })), showInteractive && (jsx(ControlButton, { className: \"react-flow__controls-interactive\", onClick: onToggleInteractivity, title: \"toggle interactivity\", \"aria-label\": \"toggle interactivity\", children: isInteractive ? jsx(UnlockIcon, {}) : jsx(LockIcon, {}) })), children] }));\n};\nControls.displayName = 'Controls';\nvar Controls$1 = memo(Controls);\n\nexport { ControlButton, Controls$1 as Controls };\n","import { useQuery, UseQueryOptions } from 'react-query'\nimport SynapseClient from '../../synapse-client'\nimport { SynapseClientError } from '../../utils/SynapseClientError'\nimport { useSynapseContext } from '../../utils/context'\nimport { ActionRequiredList } from '@sage-bionetworks/synapse-types'\n\nexport function useGetEntityActionsRequired(\n  entityId: string,\n  options?: UseQueryOptions<ActionRequiredList, SynapseClientError>,\n) {\n  const { accessToken, keyFactory } = useSynapseContext()\n  return useQuery<ActionRequiredList, SynapseClientError>(\n    keyFactory.getEntityActionsRequiredQueryKey(entityId),\n    () => SynapseClient.getEntityDownloadActionsRequired(entityId, accessToken),\n    options,\n  )\n}\n","import {\n  QueryFunctionContext,\n  QueryKey,\n  useInfiniteQuery,\n  UseInfiniteQueryOptions,\n  useQuery,\n  UseQueryOptions,\n} from 'react-query'\nimport SynapseClient from '../../synapse-client'\nimport { SynapseClientError } from '../../utils/SynapseClientError'\nimport { useSynapseContext } from '../../utils/context/SynapseContext'\nimport {\n  EntityChildrenRequest,\n  EntityChildrenResponse,\n} from '@sage-bionetworks/synapse-types'\n\nexport function useGetEntityChildren(\n  request: EntityChildrenRequest,\n  options?: UseQueryOptions<\n    EntityChildrenResponse,\n    SynapseClientError,\n    EntityChildrenResponse\n  >,\n) {\n  const { accessToken, keyFactory } = useSynapseContext()\n  return useQuery<EntityChildrenResponse, SynapseClientError>(\n    keyFactory.getEntityChildrenQueryKey(request, false),\n    () => SynapseClient.getEntityChildren(request, accessToken),\n    options,\n  )\n}\n\nexport function useGetEntityChildrenInfinite(\n  request: EntityChildrenRequest,\n  options?: UseInfiniteQueryOptions<\n    EntityChildrenResponse,\n    SynapseClientError,\n    EntityChildrenResponse\n  >,\n) {\n  const { accessToken, keyFactory } = useSynapseContext()\n  return useInfiniteQuery<EntityChildrenResponse, SynapseClientError>(\n    keyFactory.getEntityChildrenQueryKey(request, true),\n    async (context: QueryFunctionContext<QueryKey, string>) => {\n      return await SynapseClient.getEntityChildren(\n        {\n          ...request,\n          includeTotalChildCount: context.pageParam\n            ? false\n            : request.includeTotalChildCount, // only ask for the count when requesting the first page\n          nextPageToken: context.pageParam,\n        },\n        accessToken,\n        context.signal,\n      )\n    },\n    {\n      ...options,\n      getNextPageParam: page => page.nextPageToken,\n    },\n  )\n}\n","import dayjs from 'dayjs'\nimport React, { useMemo } from 'react'\nimport { formatDate } from '../../utils/functions/DateFormatter'\nimport { useGetUserProfile } from '../../synapse-queries'\nimport { Activity } from '@sage-bionetworks/synapse-types'\nimport { Tooltip } from '@mui/material'\nimport { Typography } from '@mui/material'\nimport { UserCardSmall } from '../UserCard/UserCardSmall'\n\nexport const ActivityNodeLabel = (data: Activity) => {\n  const { data: userProfile } = useGetUserProfile(data.modifiedBy)\n  const friendlyModifiedOn = formatDate(dayjs(data.modifiedOn))\n  const { name, description } = data\n  return useMemo(\n    () => (\n      <>\n        {name && (\n          <Tooltip title={name} placement=\"top\" enterNextDelay={200}>\n            <span>\n              <Typography variant=\"smallText1\" className=\"name\">\n                {name}\n              </Typography>\n            </span>\n          </Tooltip>\n        )}\n        {description && (\n          <Tooltip title={description} placement=\"top\" enterNextDelay={200}>\n            <span>\n              <Typography variant=\"smallText1\" className=\"description\">\n                {description}\n              </Typography>\n            </span>\n          </Tooltip>\n        )}\n        {userProfile && <UserCardSmall userProfile={userProfile} />}\n        <div>{friendlyModifiedOn}</div>\n      </>\n    ),\n    [name, description, userProfile, friendlyModifiedOn],\n  )\n}\n","import React from 'react'\nimport { convertToEntityType } from '../../utils/functions/EntityTypeUtils'\nimport { EntityHeader, EntityType } from '@sage-bionetworks/synapse-types'\nimport { EntityTypeIcon } from '../EntityIcon'\nimport IconSvg from '../IconSvg/IconSvg'\n\nexport type ProvenanceEntityIconProps = {\n  entityHeader?: EntityHeader\n}\n\nconst codeFileExtensionSet = new Set([\n  '.awk',\n  '.bat',\n  '.btm',\n  '.c',\n  '.cmd',\n  '.cpp',\n  '.cxx',\n  '.def',\n  '.dlg',\n  '.dpc',\n  '.dpj',\n  '.dtd',\n  '.h',\n  '.hdl',\n  '.hpp',\n  '.hrc',\n  '.html',\n  '.hxx',\n  '.inc',\n  '.ini',\n  '.inl',\n  '.ins',\n  '.ipy',\n  '.java',\n  '.js',\n  '.jsp',\n  '.l',\n  '.lgt',\n  '.ll',\n  '.par',\n  '.pl',\n  '.py',\n  '.r',\n  '.rc',\n  '.rdb',\n  '.res',\n  '.s',\n  '.sbl',\n  '.scp',\n  '.sh',\n  '.sql',\n  '.src',\n  '.srs',\n  '.xml',\n  '.xrb',\n  '.y',\n  '.yaml',\n  '.yxx',\n  '.cwl',\n  '.wdl',\n  '.json',\n])\n\nexport const ProvenanceEntityIcon = (props: ProvenanceEntityIconProps) => {\n  const { entityHeader } = props\n  if (entityHeader) {\n    const entityType: EntityType = convertToEntityType(entityHeader?.type)\n    if (entityType == EntityType.FILE) {\n      // this is a file, may want to use a special icon in this case\n      const lastPeriodIndex = entityHeader.name.lastIndexOf('.')\n      if (lastPeriodIndex > -1) {\n        const extension = entityHeader.name.slice(lastPeriodIndex)\n        if (codeFileExtensionSet.has(extension.toLowerCase())) {\n          return <IconSvg icon=\"code\" />\n        }\n      }\n    } else {\n      return <EntityTypeIcon type={entityType} includeTooltip={false} />\n    }\n  }\n\n  // return the default (File icon)\n  return <EntityTypeIcon type={EntityType.FILE} includeTooltip={false} />\n}\n","import React, { useMemo } from 'react'\nimport {\n  isVersionableEntityType,\n  convertToEntityType,\n} from '../../utils/functions/EntityTypeUtils'\nimport { PRODUCTION_ENDPOINT_CONFIG } from '../../utils/functions/getEndpoint'\nimport { EntityHeader } from '@sage-bionetworks/synapse-types'\nimport { Tooltip } from '@mui/material'\nimport { ProvenanceEntityIcon } from './ProvenanceEntityIcon'\n\nexport const EntityNodeLabel = (data: EntityHeader) => {\n  const targetVersionNumberString = data.versionNumber\n    ? `.${data.versionNumber}`\n    : ''\n  const entityVersionString = `${data.id}${targetVersionNumberString}`\n  return useMemo(\n    () => (\n      <>\n        <div>\n          <ProvenanceEntityIcon entityHeader={data} />\n        </div>\n        <>\n          <div>\n            <Tooltip title={data.name} placement=\"top\" enterNextDelay={300}>\n              <a\n                href={`${PRODUCTION_ENDPOINT_CONFIG.PORTAL}#!Synapse:${entityVersionString}`}\n              >\n                {data.name}\n              </a>\n            </Tooltip>\n          </div>\n          {isVersionableEntityType(convertToEntityType(data.type)) && (\n            <div>\n              <div>v.{data.versionNumber}</div>\n              {!data.isLatestVersion && <div>(old version)</div>}\n            </div>\n          )}\n        </>\n      </>\n    ),\n    [data, entityVersionString],\n  )\n}\n","/* global define */\n\n(function (root, pluralize) {\n  /* istanbul ignore else */\n  if (typeof require === 'function' && typeof exports === 'object' && typeof module === 'object') {\n    // Node.\n    module.exports = pluralize();\n  } else if (typeof define === 'function' && define.amd) {\n    // AMD, registers as an anonymous module.\n    define(function () {\n      return pluralize();\n    });\n  } else {\n    // Browser global.\n    root.pluralize = pluralize();\n  }\n})(this, function () {\n  // Rule storage - pluralize and singularize need to be run sequentially,\n  // while other rules can be optimized using an object for instant lookups.\n  var pluralRules = [];\n  var singularRules = [];\n  var uncountables = {};\n  var irregularPlurals = {};\n  var irregularSingles = {};\n\n  /**\n   * Sanitize a pluralization rule to a usable regular expression.\n   *\n   * @param  {(RegExp|string)} rule\n   * @return {RegExp}\n   */\n  function sanitizeRule (rule) {\n    if (typeof rule === 'string') {\n      return new RegExp('^' + rule + '$', 'i');\n    }\n\n    return rule;\n  }\n\n  /**\n   * Pass in a word token to produce a function that can replicate the case on\n   * another word.\n   *\n   * @param  {string}   word\n   * @param  {string}   token\n   * @return {Function}\n   */\n  function restoreCase (word, token) {\n    // Tokens are an exact match.\n    if (word === token) return token;\n\n    // Lower cased words. E.g. \"hello\".\n    if (word === word.toLowerCase()) return token.toLowerCase();\n\n    // Upper cased words. E.g. \"WHISKY\".\n    if (word === word.toUpperCase()) return token.toUpperCase();\n\n    // Title cased words. E.g. \"Title\".\n    if (word[0] === word[0].toUpperCase()) {\n      return token.charAt(0).toUpperCase() + token.substr(1).toLowerCase();\n    }\n\n    // Lower cased words. E.g. \"test\".\n    return token.toLowerCase();\n  }\n\n  /**\n   * Interpolate a regexp string.\n   *\n   * @param  {string} str\n   * @param  {Array}  args\n   * @return {string}\n   */\n  function interpolate (str, args) {\n    return str.replace(/\\$(\\d{1,2})/g, function (match, index) {\n      return args[index] || '';\n    });\n  }\n\n  /**\n   * Replace a word using a rule.\n   *\n   * @param  {string} word\n   * @param  {Array}  rule\n   * @return {string}\n   */\n  function replace (word, rule) {\n    return word.replace(rule[0], function (match, index) {\n      var result = interpolate(rule[1], arguments);\n\n      if (match === '') {\n        return restoreCase(word[index - 1], result);\n      }\n\n      return restoreCase(match, result);\n    });\n  }\n\n  /**\n   * Sanitize a word by passing in the word and sanitization rules.\n   *\n   * @param  {string}   token\n   * @param  {string}   word\n   * @param  {Array}    rules\n   * @return {string}\n   */\n  function sanitizeWord (token, word, rules) {\n    // Empty string or doesn't need fixing.\n    if (!token.length || uncountables.hasOwnProperty(token)) {\n      return word;\n    }\n\n    var len = rules.length;\n\n    // Iterate over the sanitization rules and use the first one to match.\n    while (len--) {\n      var rule = rules[len];\n\n      if (rule[0].test(word)) return replace(word, rule);\n    }\n\n    return word;\n  }\n\n  /**\n   * Replace a word with the updated word.\n   *\n   * @param  {Object}   replaceMap\n   * @param  {Object}   keepMap\n   * @param  {Array}    rules\n   * @return {Function}\n   */\n  function replaceWord (replaceMap, keepMap, rules) {\n    return function (word) {\n      // Get the correct token and case restoration functions.\n      var token = word.toLowerCase();\n\n      // Check against the keep object map.\n      if (keepMap.hasOwnProperty(token)) {\n        return restoreCase(word, token);\n      }\n\n      // Check against the replacement map for a direct word replacement.\n      if (replaceMap.hasOwnProperty(token)) {\n        return restoreCase(word, replaceMap[token]);\n      }\n\n      // Run all the rules against the word.\n      return sanitizeWord(token, word, rules);\n    };\n  }\n\n  /**\n   * Check if a word is part of the map.\n   */\n  function checkWord (replaceMap, keepMap, rules, bool) {\n    return function (word) {\n      var token = word.toLowerCase();\n\n      if (keepMap.hasOwnProperty(token)) return true;\n      if (replaceMap.hasOwnProperty(token)) return false;\n\n      return sanitizeWord(token, token, rules) === token;\n    };\n  }\n\n  /**\n   * Pluralize or singularize a word based on the passed in count.\n   *\n   * @param  {string}  word      The word to pluralize\n   * @param  {number}  count     How many of the word exist\n   * @param  {boolean} inclusive Whether to prefix with the number (e.g. 3 ducks)\n   * @return {string}\n   */\n  function pluralize (word, count, inclusive) {\n    var pluralized = count === 1\n      ? pluralize.singular(word) : pluralize.plural(word);\n\n    return (inclusive ? count + ' ' : '') + pluralized;\n  }\n\n  /**\n   * Pluralize a word.\n   *\n   * @type {Function}\n   */\n  pluralize.plural = replaceWord(\n    irregularSingles, irregularPlurals, pluralRules\n  );\n\n  /**\n   * Check if a word is plural.\n   *\n   * @type {Function}\n   */\n  pluralize.isPlural = checkWord(\n    irregularSingles, irregularPlurals, pluralRules\n  );\n\n  /**\n   * Singularize a word.\n   *\n   * @type {Function}\n   */\n  pluralize.singular = replaceWord(\n    irregularPlurals, irregularSingles, singularRules\n  );\n\n  /**\n   * Check if a word is singular.\n   *\n   * @type {Function}\n   */\n  pluralize.isSingular = checkWord(\n    irregularPlurals, irregularSingles, singularRules\n  );\n\n  /**\n   * Add a pluralization rule to the collection.\n   *\n   * @param {(string|RegExp)} rule\n   * @param {string}          replacement\n   */\n  pluralize.addPluralRule = function (rule, replacement) {\n    pluralRules.push([sanitizeRule(rule), replacement]);\n  };\n\n  /**\n   * Add a singularization rule to the collection.\n   *\n   * @param {(string|RegExp)} rule\n   * @param {string}          replacement\n   */\n  pluralize.addSingularRule = function (rule, replacement) {\n    singularRules.push([sanitizeRule(rule), replacement]);\n  };\n\n  /**\n   * Add an uncountable word rule.\n   *\n   * @param {(string|RegExp)} word\n   */\n  pluralize.addUncountableRule = function (word) {\n    if (typeof word === 'string') {\n      uncountables[word.toLowerCase()] = true;\n      return;\n    }\n\n    // Set singular and plural references for the word.\n    pluralize.addPluralRule(word, '$0');\n    pluralize.addSingularRule(word, '$0');\n  };\n\n  /**\n   * Add an irregular word definition.\n   *\n   * @param {string} single\n   * @param {string} plural\n   */\n  pluralize.addIrregularRule = function (single, plural) {\n    plural = plural.toLowerCase();\n    single = single.toLowerCase();\n\n    irregularSingles[single] = plural;\n    irregularPlurals[plural] = single;\n  };\n\n  /**\n   * Irregular rules.\n   */\n  [\n    // Pronouns.\n    ['I', 'we'],\n    ['me', 'us'],\n    ['he', 'they'],\n    ['she', 'they'],\n    ['them', 'them'],\n    ['myself', 'ourselves'],\n    ['yourself', 'yourselves'],\n    ['itself', 'themselves'],\n    ['herself', 'themselves'],\n    ['himself', 'themselves'],\n    ['themself', 'themselves'],\n    ['is', 'are'],\n    ['was', 'were'],\n    ['has', 'have'],\n    ['this', 'these'],\n    ['that', 'those'],\n    // Words ending in with a consonant and `o`.\n    ['echo', 'echoes'],\n    ['dingo', 'dingoes'],\n    ['volcano', 'volcanoes'],\n    ['tornado', 'tornadoes'],\n    ['torpedo', 'torpedoes'],\n    // Ends with `us`.\n    ['genus', 'genera'],\n    ['viscus', 'viscera'],\n    // Ends with `ma`.\n    ['stigma', 'stigmata'],\n    ['stoma', 'stomata'],\n    ['dogma', 'dogmata'],\n    ['lemma', 'lemmata'],\n    ['schema', 'schemata'],\n    ['anathema', 'anathemata'],\n    // Other irregular rules.\n    ['ox', 'oxen'],\n    ['axe', 'axes'],\n    ['die', 'dice'],\n    ['yes', 'yeses'],\n    ['foot', 'feet'],\n    ['eave', 'eaves'],\n    ['goose', 'geese'],\n    ['tooth', 'teeth'],\n    ['quiz', 'quizzes'],\n    ['human', 'humans'],\n    ['proof', 'proofs'],\n    ['carve', 'carves'],\n    ['valve', 'valves'],\n    ['looey', 'looies'],\n    ['thief', 'thieves'],\n    ['groove', 'grooves'],\n    ['pickaxe', 'pickaxes'],\n    ['passerby', 'passersby']\n  ].forEach(function (rule) {\n    return pluralize.addIrregularRule(rule[0], rule[1]);\n  });\n\n  /**\n   * Pluralization rules.\n   */\n  [\n    [/s?$/i, 's'],\n    [/[^\\u0000-\\u007F]$/i, '$0'],\n    [/([^aeiou]ese)$/i, '$1'],\n    [/(ax|test)is$/i, '$1es'],\n    [/(alias|[^aou]us|t[lm]as|gas|ris)$/i, '$1es'],\n    [/(e[mn]u)s?$/i, '$1s'],\n    [/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i, '$1'],\n    [/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i, '$1i'],\n    [/(alumn|alg|vertebr)(?:a|ae)$/i, '$1ae'],\n    [/(seraph|cherub)(?:im)?$/i, '$1im'],\n    [/(her|at|gr)o$/i, '$1oes'],\n    [/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i, '$1a'],\n    [/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i, '$1a'],\n    [/sis$/i, 'ses'],\n    [/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i, '$1$2ves'],\n    [/([^aeiouy]|qu)y$/i, '$1ies'],\n    [/([^ch][ieo][ln])ey$/i, '$1ies'],\n    [/(x|ch|ss|sh|zz)$/i, '$1es'],\n    [/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i, '$1ices'],\n    [/\\b((?:tit)?m|l)(?:ice|ouse)$/i, '$1ice'],\n    [/(pe)(?:rson|ople)$/i, '$1ople'],\n    [/(child)(?:ren)?$/i, '$1ren'],\n    [/eaux$/i, '$0'],\n    [/m[ae]n$/i, 'men'],\n    ['thou', 'you']\n  ].forEach(function (rule) {\n    return pluralize.addPluralRule(rule[0], rule[1]);\n  });\n\n  /**\n   * Singularization rules.\n   */\n  [\n    [/s$/i, ''],\n    [/(ss)$/i, '$1'],\n    [/(wi|kni|(?:after|half|high|low|mid|non|night|[^\\w]|^)li)ves$/i, '$1fe'],\n    [/(ar|(?:wo|[ae])l|[eo][ao])ves$/i, '$1f'],\n    [/ies$/i, 'y'],\n    [/\\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i, '$1ie'],\n    [/\\b(mon|smil)ies$/i, '$1ey'],\n    [/\\b((?:tit)?m|l)ice$/i, '$1ouse'],\n    [/(seraph|cherub)im$/i, '$1'],\n    [/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i, '$1'],\n    [/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i, '$1sis'],\n    [/(movie|twelve|abuse|e[mn]u)s$/i, '$1'],\n    [/(test)(?:is|es)$/i, '$1is'],\n    [/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i, '$1us'],\n    [/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i, '$1um'],\n    [/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i, '$1on'],\n    [/(alumn|alg|vertebr)ae$/i, '$1a'],\n    [/(cod|mur|sil|vert|ind)ices$/i, '$1ex'],\n    [/(matr|append)ices$/i, '$1ix'],\n    [/(pe)(rson|ople)$/i, '$1rson'],\n    [/(child)ren$/i, '$1'],\n    [/(eau)x?$/i, '$1'],\n    [/men$/i, 'man']\n  ].forEach(function (rule) {\n    return pluralize.addSingularRule(rule[0], rule[1]);\n  });\n\n  /**\n   * Uncountable rules.\n   */\n  [\n    // Singular words with no plurals.\n    'adulthood',\n    'advice',\n    'agenda',\n    'aid',\n    'aircraft',\n    'alcohol',\n    'ammo',\n    'analytics',\n    'anime',\n    'athletics',\n    'audio',\n    'bison',\n    'blood',\n    'bream',\n    'buffalo',\n    'butter',\n    'carp',\n    'cash',\n    'chassis',\n    'chess',\n    'clothing',\n    'cod',\n    'commerce',\n    'cooperation',\n    'corps',\n    'debris',\n    'diabetes',\n    'digestion',\n    'elk',\n    'energy',\n    'equipment',\n    'excretion',\n    'expertise',\n    'firmware',\n    'flounder',\n    'fun',\n    'gallows',\n    'garbage',\n    'graffiti',\n    'hardware',\n    'headquarters',\n    'health',\n    'herpes',\n    'highjinks',\n    'homework',\n    'housework',\n    'information',\n    'jeans',\n    'justice',\n    'kudos',\n    'labour',\n    'literature',\n    'machinery',\n    'mackerel',\n    'mail',\n    'media',\n    'mews',\n    'moose',\n    'music',\n    'mud',\n    'manga',\n    'news',\n    'only',\n    'personnel',\n    'pike',\n    'plankton',\n    'pliers',\n    'police',\n    'pollution',\n    'premises',\n    'rain',\n    'research',\n    'rice',\n    'salmon',\n    'scissors',\n    'series',\n    'sewage',\n    'shambles',\n    'shrimp',\n    'software',\n    'species',\n    'staff',\n    'swine',\n    'tennis',\n    'traffic',\n    'transportation',\n    'trout',\n    'tuna',\n    'wealth',\n    'welfare',\n    'whiting',\n    'wildebeest',\n    'wildlife',\n    'you',\n    /pok[eé]mon$/i,\n    // Regexes.\n    /[^aeiou]ese$/i, // \"chinese\", \"japanese\"\n    /deer$/i, // \"deer\", \"reindeer\"\n    /fish$/i, // \"fish\", \"blowfish\", \"angelfish\"\n    /measles$/i,\n    /o[iu]s$/i, // \"carnivorous\"\n    /pox$/i, // \"chickpox\", \"smallpox\"\n    /sheep$/i\n  ].forEach(pluralize.addUncountableRule);\n\n  return pluralize;\n});\n","import pluralize from 'pluralize'\nimport React, { useMemo } from 'react'\nimport { EntityHeader } from '@sage-bionetworks/synapse-types'\n\nexport type ExpandGraphNodeDataProps = {\n  entityHeader: EntityHeader\n  itemCount: number\n}\nexport const ExpandGraphNodeLabel = (props: ExpandGraphNodeDataProps) => {\n  const { itemCount } = props\n  return useMemo(\n    () => (\n      <>\n        <a>\n          Show {itemCount} {pluralize('item', itemCount)}&hellip;\n        </a>\n      </>\n    ),\n    [itemCount],\n  )\n}\n","import React from 'react'\nimport IconSvg, { IconName } from '../IconSvg/IconSvg'\n\nexport type ProvenanceExternalIconProps = {\n  url: string\n}\nconst githubRegex = /^(.+?\\.)?github\\.com$/\nconst githubusercontentRegex = /^(.+?\\.)?githubusercontent\\.com$/\n\nexport const ProvenanceExternalIcon = (props: ProvenanceExternalIconProps) => {\n  const { url } = props\n  let icon: IconName = 'link'\n  const parsedUrl = new URL(url)\n  const { hostname } = parsedUrl\n\n  if (hostname.match(githubRegex) || hostname.match(githubusercontentRegex)) {\n    icon = 'github'\n  }\n  // else if (url.includes(\"genomespace.org\")) {\n  //   icon = 'genomespace'\n  // }\n\n  // return the default (File icon)\n  return <IconSvg icon={icon} />\n}\n","import React, { useMemo } from 'react'\nimport { UsedURL } from '@sage-bionetworks/synapse-types'\nimport { Tooltip } from '@mui/material'\nimport { ProvenanceExternalIcon } from './ProvenanceExternalIcon'\n\nexport const ExternalGraphNodeLabel = (data: UsedURL) => {\n  return useMemo(\n    () => (\n      <>\n        <div>\n          <ProvenanceExternalIcon url={data.url} />\n        </div>\n        <Tooltip title={data.name} placement=\"top\" enterNextDelay={300}>\n          <a href={data.url} rel=\"noopener noreferrer\">\n            {data.name}\n          </a>\n        </Tooltip>\n      </>\n    ),\n    [data.name, data.url],\n  )\n}\n","var baseClone = require('./_baseClone');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * Creates a shallow clone of `value`.\n *\n * **Note:** This method is loosely based on the\n * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n * and supports cloning arrays, array buffers, booleans, date objects, maps,\n * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n * arrays. The own enumerable properties of `arguments` objects are cloned\n * as plain objects. An empty object is returned for uncloneable values such\n * as error objects, functions, DOM nodes, and WeakMaps.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to clone.\n * @returns {*} Returns the cloned value.\n * @see _.cloneDeep\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var shallow = _.clone(objects);\n * console.log(shallow[0] === objects[0]);\n * // => true\n */\nfunction clone(value) {\n  return baseClone(value, CLONE_SYMBOLS_FLAG);\n}\n\nmodule.exports = clone;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nmodule.exports = constant;\n","var isArrayLike = require('./isArrayLike');\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nmodule.exports = createBaseEach;\n","var baseForOwn = require('./_baseForOwn'),\n    createBaseEach = require('./_createBaseEach');\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nmodule.exports = baseEach;\n","var identity = require('./identity');\n\n/**\n * Casts `value` to `identity` if it's not a function.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Function} Returns cast function.\n */\nfunction castFunction(value) {\n  return typeof value == 'function' ? value : identity;\n}\n\nmodule.exports = castFunction;\n","var arrayEach = require('./_arrayEach'),\n    baseEach = require('./_baseEach'),\n    castFunction = require('./_castFunction'),\n    isArray = require('./isArray');\n\n/**\n * Iterates over elements of `collection` and invokes `iteratee` for each element.\n * The iteratee is invoked with three arguments: (value, index|key, collection).\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n * property are iterated like arrays. To avoid this behavior use `_.forIn`\n * or `_.forOwn` for object iteration.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @alias each\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n * @see _.forEachRight\n * @example\n *\n * _.forEach([1, 2], function(value) {\n *   console.log(value);\n * });\n * // => Logs `1` then `2`.\n *\n * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n *   console.log(key);\n * });\n * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n */\nfunction forEach(collection, iteratee) {\n  var func = isArray(collection) ? arrayEach : baseEach;\n  return func(collection, castFunction(iteratee));\n}\n\nmodule.exports = forEach;\n","module.exports = require('./forEach');\n","var baseEach = require('./_baseEach');\n\n/**\n * The base implementation of `_.filter` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction baseFilter(collection, predicate) {\n  var result = [];\n  baseEach(collection, function(value, index, collection) {\n    if (predicate(value, index, collection)) {\n      result.push(value);\n    }\n  });\n  return result;\n}\n\nmodule.exports = baseFilter;\n","var arrayFilter = require('./_arrayFilter'),\n    baseFilter = require('./_baseFilter'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Iterates over elements of `collection`, returning an array of all elements\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * **Note:** Unlike `_.remove`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n * @see _.reject\n * @example\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': true },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * _.filter(users, function(o) { return !o.active; });\n * // => objects for ['fred']\n *\n * // The `_.matches` iteratee shorthand.\n * _.filter(users, { 'age': 36, 'active': true });\n * // => objects for ['barney']\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.filter(users, ['active', false]);\n * // => objects for ['fred']\n *\n * // The `_.property` iteratee shorthand.\n * _.filter(users, 'active');\n * // => objects for ['barney']\n *\n * // Combining several predicates using `_.overEvery` or `_.overSome`.\n * _.filter(users, _.overSome([{ 'age': 36 }, ['age', 40]]));\n * // => objects for ['fred', 'barney']\n */\nfunction filter(collection, predicate) {\n  var func = isArray(collection) ? arrayFilter : baseFilter;\n  return func(collection, baseIteratee(predicate, 3));\n}\n\nmodule.exports = filter;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.has` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHas(object, key) {\n  return object != null && hasOwnProperty.call(object, key);\n}\n\nmodule.exports = baseHas;\n","var baseHas = require('./_baseHas'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct property of `object`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = { 'a': { 'b': 2 } };\n * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.has(object, 'a');\n * // => true\n *\n * _.has(object, 'a.b');\n * // => true\n *\n * _.has(object, ['a', 'b']);\n * // => true\n *\n * _.has(other, 'a');\n * // => false\n */\nfunction has(object, path) {\n  return object != null && hasPath(object, path, baseHas);\n}\n\nmodule.exports = has;\n","var baseKeys = require('./_baseKeys'),\n    getTag = require('./_getTag'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isArrayLike = require('./isArrayLike'),\n    isBuffer = require('./isBuffer'),\n    isPrototype = require('./_isPrototype'),\n    isTypedArray = require('./isTypedArray');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    setTag = '[object Set]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if `value` is an empty object, collection, map, or set.\n *\n * Objects are considered empty if they have no own enumerable string keyed\n * properties.\n *\n * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n * jQuery-like collections are considered empty if they have a `length` of `0`.\n * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n * @example\n *\n * _.isEmpty(null);\n * // => true\n *\n * _.isEmpty(true);\n * // => true\n *\n * _.isEmpty(1);\n * // => true\n *\n * _.isEmpty([1, 2, 3]);\n * // => false\n *\n * _.isEmpty({ 'a': 1 });\n * // => false\n */\nfunction isEmpty(value) {\n  if (value == null) {\n    return true;\n  }\n  if (isArrayLike(value) &&\n      (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n        isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n    return !value.length;\n  }\n  var tag = getTag(value);\n  if (tag == mapTag || tag == setTag) {\n    return !value.size;\n  }\n  if (isPrototype(value)) {\n    return !baseKeys(value).length;\n  }\n  for (var key in value) {\n    if (hasOwnProperty.call(value, key)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nmodule.exports = isEmpty;\n","/**\n * Checks if `value` is `undefined`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n * @example\n *\n * _.isUndefined(void 0);\n * // => true\n *\n * _.isUndefined(null);\n * // => false\n */\nfunction isUndefined(value) {\n  return value === undefined;\n}\n\nmodule.exports = isUndefined;\n","var baseEach = require('./_baseEach'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * The base implementation of `_.map` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike(collection) ? Array(collection.length) : [];\n\n  baseEach(collection, function(value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\n\nmodule.exports = baseMap;\n","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    isArray = require('./isArray');\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\nmodule.exports = map;\n","/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n  return accumulator;\n}\n\nmodule.exports = arrayReduce;\n","/**\n * The base implementation of `_.reduce` and `_.reduceRight`, without support\n * for iteratee shorthands, which iterates over `collection` using `eachFunc`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} accumulator The initial value.\n * @param {boolean} initAccum Specify using the first or last element of\n *  `collection` as the initial value.\n * @param {Function} eachFunc The function to iterate over `collection`.\n * @returns {*} Returns the accumulated value.\n */\nfunction baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {\n  eachFunc(collection, function(value, index, collection) {\n    accumulator = initAccum\n      ? (initAccum = false, value)\n      : iteratee(accumulator, value, index, collection);\n  });\n  return accumulator;\n}\n\nmodule.exports = baseReduce;\n","var arrayReduce = require('./_arrayReduce'),\n    baseEach = require('./_baseEach'),\n    baseIteratee = require('./_baseIteratee'),\n    baseReduce = require('./_baseReduce'),\n    isArray = require('./isArray');\n\n/**\n * Reduces `collection` to a value which is the accumulated result of running\n * each element in `collection` thru `iteratee`, where each successive\n * invocation is supplied the return value of the previous. If `accumulator`\n * is not given, the first element of `collection` is used as the initial\n * value. The iteratee is invoked with four arguments:\n * (accumulator, value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.reduce`, `_.reduceRight`, and `_.transform`.\n *\n * The guarded methods are:\n * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `orderBy`,\n * and `sortBy`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @returns {*} Returns the accumulated value.\n * @see _.reduceRight\n * @example\n *\n * _.reduce([1, 2], function(sum, n) {\n *   return sum + n;\n * }, 0);\n * // => 3\n *\n * _.reduce({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n *   (result[value] || (result[value] = [])).push(key);\n *   return result;\n * }, {});\n * // => { '1': ['a', 'c'], '2': ['b'] } (iteration order is not guaranteed)\n */\nfunction reduce(collection, iteratee, accumulator) {\n  var func = isArray(collection) ? arrayReduce : baseReduce,\n      initAccum = arguments.length < 3;\n\n  return func(collection, baseIteratee(iteratee, 4), accumulator, initAccum, baseEach);\n}\n\nmodule.exports = reduce;\n","var baseProperty = require('./_baseProperty');\n\n/**\n * Gets the size of an ASCII `string`.\n *\n * @private\n * @param {string} string The string inspect.\n * @returns {number} Returns the string size.\n */\nvar asciiSize = baseProperty('length');\n\nmodule.exports = asciiSize;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsZWJ = '\\\\u200d';\n\n/** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\nvar reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n/**\n * Checks if `string` contains Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n */\nfunction hasUnicode(string) {\n  return reHasUnicode.test(string);\n}\n\nmodule.exports = hasUnicode;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsAstral = '[' + rsAstralRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\nvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n/**\n * Gets the size of a Unicode `string`.\n *\n * @private\n * @param {string} string The string inspect.\n * @returns {number} Returns the string size.\n */\nfunction unicodeSize(string) {\n  var result = reUnicode.lastIndex = 0;\n  while (reUnicode.test(string)) {\n    ++result;\n  }\n  return result;\n}\n\nmodule.exports = unicodeSize;\n","var asciiSize = require('./_asciiSize'),\n    hasUnicode = require('./_hasUnicode'),\n    unicodeSize = require('./_unicodeSize');\n\n/**\n * Gets the number of symbols in `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the string size.\n */\nfunction stringSize(string) {\n  return hasUnicode(string)\n    ? unicodeSize(string)\n    : asciiSize(string);\n}\n\nmodule.exports = stringSize;\n","var baseKeys = require('./_baseKeys'),\n    getTag = require('./_getTag'),\n    isArrayLike = require('./isArrayLike'),\n    isString = require('./isString'),\n    stringSize = require('./_stringSize');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    setTag = '[object Set]';\n\n/**\n * Gets the size of `collection` by returning its length for array-like\n * values or the number of own enumerable string keyed properties for objects.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object|string} collection The collection to inspect.\n * @returns {number} Returns the collection size.\n * @example\n *\n * _.size([1, 2, 3]);\n * // => 3\n *\n * _.size({ 'a': 1, 'b': 2 });\n * // => 2\n *\n * _.size('pebbles');\n * // => 7\n */\nfunction size(collection) {\n  if (collection == null) {\n    return 0;\n  }\n  if (isArrayLike(collection)) {\n    return isString(collection) ? stringSize(collection) : collection.length;\n  }\n  var tag = getTag(collection);\n  if (tag == mapTag || tag == setTag) {\n    return collection.size;\n  }\n  return baseKeys(collection).length;\n}\n\nmodule.exports = size;\n","var arrayEach = require('./_arrayEach'),\n    baseCreate = require('./_baseCreate'),\n    baseForOwn = require('./_baseForOwn'),\n    baseIteratee = require('./_baseIteratee'),\n    getPrototype = require('./_getPrototype'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isFunction = require('./isFunction'),\n    isObject = require('./isObject'),\n    isTypedArray = require('./isTypedArray');\n\n/**\n * An alternative to `_.reduce`; this method transforms `object` to a new\n * `accumulator` object which is the result of running each of its own\n * enumerable string keyed properties thru `iteratee`, with each invocation\n * potentially mutating the `accumulator` object. If `accumulator` is not\n * provided, a new object with the same `[[Prototype]]` will be used. The\n * iteratee is invoked with four arguments: (accumulator, value, key, object).\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @static\n * @memberOf _\n * @since 1.3.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @param {*} [accumulator] The custom accumulator value.\n * @returns {*} Returns the accumulated value.\n * @example\n *\n * _.transform([2, 3, 4], function(result, n) {\n *   result.push(n *= n);\n *   return n % 2 == 0;\n * }, []);\n * // => [4, 9]\n *\n * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n *   (result[value] || (result[value] = [])).push(key);\n * }, {});\n * // => { '1': ['a', 'c'], '2': ['b'] }\n */\nfunction transform(object, iteratee, accumulator) {\n  var isArr = isArray(object),\n      isArrLike = isArr || isBuffer(object) || isTypedArray(object);\n\n  iteratee = baseIteratee(iteratee, 4);\n  if (accumulator == null) {\n    var Ctor = object && object.constructor;\n    if (isArrLike) {\n      accumulator = isArr ? new Ctor : [];\n    }\n    else if (isObject(object)) {\n      accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n    }\n    else {\n      accumulator = {};\n    }\n  }\n  (isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object) {\n    return iteratee(accumulator, value, index, object);\n  });\n  return accumulator;\n}\n\nmodule.exports = transform;\n","var Symbol = require('./_Symbol'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray');\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nmodule.exports = isFlattenable;\n","var arrayPush = require('./_arrayPush'),\n    isFlattenable = require('./_isFlattenable');\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseFlatten;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;\n","var apply = require('./_apply');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = overRest;\n","var constant = require('./constant'),\n    defineProperty = require('./_defineProperty'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nmodule.exports = baseSetToString;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nmodule.exports = shortOut;\n","var baseSetToString = require('./_baseSetToString'),\n    shortOut = require('./_shortOut');\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nmodule.exports = setToString;\n","var identity = require('./identity'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nmodule.exports = baseRest;\n","var isArrayLike = require('./isArrayLike'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nmodule.exports = isArrayLikeObject;\n","var baseFlatten = require('./_baseFlatten'),\n    baseRest = require('./_baseRest'),\n    baseUniq = require('./_baseUniq'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array of unique values, in order, from all given arrays using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @returns {Array} Returns the new array of combined values.\n * @example\n *\n * _.union([2], [1, 2]);\n * // => [2, 1]\n */\nvar union = baseRest(function(arrays) {\n  return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n});\n\nmodule.exports = union;\n","var arrayMap = require('./_arrayMap');\n\n/**\n * The base implementation of `_.values` and `_.valuesIn` which creates an\n * array of `object` property values corresponding to the property names\n * of `props`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} props The property names to get values for.\n * @returns {Object} Returns the array of property values.\n */\nfunction baseValues(object, props) {\n  return arrayMap(props, function(key) {\n    return object[key];\n  });\n}\n\nmodule.exports = baseValues;\n","var baseValues = require('./_baseValues'),\n    keys = require('./keys');\n\n/**\n * Creates an array of the own enumerable string keyed property values of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property values.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.values(new Foo);\n * // => [1, 2] (iteration order is not guaranteed)\n *\n * _.values('hi');\n * // => ['h', 'i']\n */\nfunction values(object) {\n  return object == null ? [] : baseValues(object, keys(object));\n}\n\nmodule.exports = values;\n","/* global window */\n\nvar lodash;\n\nif (typeof require === \"function\") {\n  try {\n    lodash = {\n      clone: require(\"lodash/clone\"),\n      constant: require(\"lodash/constant\"),\n      each: require(\"lodash/each\"),\n      filter: require(\"lodash/filter\"),\n      has:  require(\"lodash/has\"),\n      isArray: require(\"lodash/isArray\"),\n      isEmpty: require(\"lodash/isEmpty\"),\n      isFunction: require(\"lodash/isFunction\"),\n      isUndefined: require(\"lodash/isUndefined\"),\n      keys: require(\"lodash/keys\"),\n      map: require(\"lodash/map\"),\n      reduce: require(\"lodash/reduce\"),\n      size: require(\"lodash/size\"),\n      transform: require(\"lodash/transform\"),\n      union: require(\"lodash/union\"),\n      values: require(\"lodash/values\")\n    };\n  } catch (e) {\n    // continue regardless of error\n  }\n}\n\nif (!lodash) {\n  lodash = window._;\n}\n\nmodule.exports = lodash;\n","\"use strict\";\n\nvar _ = require(\"./lodash\");\n\nmodule.exports = Graph;\n\nvar DEFAULT_EDGE_NAME = \"\\x00\";\nvar GRAPH_NODE = \"\\x00\";\nvar EDGE_KEY_DELIM = \"\\x01\";\n\n// Implementation notes:\n//\n//  * Node id query functions should return string ids for the nodes\n//  * Edge id query functions should return an \"edgeObj\", edge object, that is\n//    composed of enough information to uniquely identify an edge: {v, w, name}.\n//  * Internally we use an \"edgeId\", a stringified form of the edgeObj, to\n//    reference edges. This is because we need a performant way to look these\n//    edges up and, object properties, which have string keys, are the closest\n//    we're going to get to a performant hashtable in JavaScript.\n\nfunction Graph(opts) {\n  this._isDirected = _.has(opts, \"directed\") ? opts.directed : true;\n  this._isMultigraph = _.has(opts, \"multigraph\") ? opts.multigraph : false;\n  this._isCompound = _.has(opts, \"compound\") ? opts.compound : false;\n\n  // Label for the graph itself\n  this._label = undefined;\n\n  // Defaults to be set when creating a new node\n  this._defaultNodeLabelFn = _.constant(undefined);\n\n  // Defaults to be set when creating a new edge\n  this._defaultEdgeLabelFn = _.constant(undefined);\n\n  // v -> label\n  this._nodes = {};\n\n  if (this._isCompound) {\n    // v -> parent\n    this._parent = {};\n\n    // v -> children\n    this._children = {};\n    this._children[GRAPH_NODE] = {};\n  }\n\n  // v -> edgeObj\n  this._in = {};\n\n  // u -> v -> Number\n  this._preds = {};\n\n  // v -> edgeObj\n  this._out = {};\n\n  // v -> w -> Number\n  this._sucs = {};\n\n  // e -> edgeObj\n  this._edgeObjs = {};\n\n  // e -> label\n  this._edgeLabels = {};\n}\n\n/* Number of nodes in the graph. Should only be changed by the implementation. */\nGraph.prototype._nodeCount = 0;\n\n/* Number of edges in the graph. Should only be changed by the implementation. */\nGraph.prototype._edgeCount = 0;\n\n\n/* === Graph functions ========= */\n\nGraph.prototype.isDirected = function() {\n  return this._isDirected;\n};\n\nGraph.prototype.isMultigraph = function() {\n  return this._isMultigraph;\n};\n\nGraph.prototype.isCompound = function() {\n  return this._isCompound;\n};\n\nGraph.prototype.setGraph = function(label) {\n  this._label = label;\n  return this;\n};\n\nGraph.prototype.graph = function() {\n  return this._label;\n};\n\n\n/* === Node functions ========== */\n\nGraph.prototype.setDefaultNodeLabel = function(newDefault) {\n  if (!_.isFunction(newDefault)) {\n    newDefault = _.constant(newDefault);\n  }\n  this._defaultNodeLabelFn = newDefault;\n  return this;\n};\n\nGraph.prototype.nodeCount = function() {\n  return this._nodeCount;\n};\n\nGraph.prototype.nodes = function() {\n  return _.keys(this._nodes);\n};\n\nGraph.prototype.sources = function() {\n  var self = this;\n  return _.filter(this.nodes(), function(v) {\n    return _.isEmpty(self._in[v]);\n  });\n};\n\nGraph.prototype.sinks = function() {\n  var self = this;\n  return _.filter(this.nodes(), function(v) {\n    return _.isEmpty(self._out[v]);\n  });\n};\n\nGraph.prototype.setNodes = function(vs, value) {\n  var args = arguments;\n  var self = this;\n  _.each(vs, function(v) {\n    if (args.length > 1) {\n      self.setNode(v, value);\n    } else {\n      self.setNode(v);\n    }\n  });\n  return this;\n};\n\nGraph.prototype.setNode = function(v, value) {\n  if (_.has(this._nodes, v)) {\n    if (arguments.length > 1) {\n      this._nodes[v] = value;\n    }\n    return this;\n  }\n\n  this._nodes[v] = arguments.length > 1 ? value : this._defaultNodeLabelFn(v);\n  if (this._isCompound) {\n    this._parent[v] = GRAPH_NODE;\n    this._children[v] = {};\n    this._children[GRAPH_NODE][v] = true;\n  }\n  this._in[v] = {};\n  this._preds[v] = {};\n  this._out[v] = {};\n  this._sucs[v] = {};\n  ++this._nodeCount;\n  return this;\n};\n\nGraph.prototype.node = function(v) {\n  return this._nodes[v];\n};\n\nGraph.prototype.hasNode = function(v) {\n  return _.has(this._nodes, v);\n};\n\nGraph.prototype.removeNode =  function(v) {\n  var self = this;\n  if (_.has(this._nodes, v)) {\n    var removeEdge = function(e) { self.removeEdge(self._edgeObjs[e]); };\n    delete this._nodes[v];\n    if (this._isCompound) {\n      this._removeFromParentsChildList(v);\n      delete this._parent[v];\n      _.each(this.children(v), function(child) {\n        self.setParent(child);\n      });\n      delete this._children[v];\n    }\n    _.each(_.keys(this._in[v]), removeEdge);\n    delete this._in[v];\n    delete this._preds[v];\n    _.each(_.keys(this._out[v]), removeEdge);\n    delete this._out[v];\n    delete this._sucs[v];\n    --this._nodeCount;\n  }\n  return this;\n};\n\nGraph.prototype.setParent = function(v, parent) {\n  if (!this._isCompound) {\n    throw new Error(\"Cannot set parent in a non-compound graph\");\n  }\n\n  if (_.isUndefined(parent)) {\n    parent = GRAPH_NODE;\n  } else {\n    // Coerce parent to string\n    parent += \"\";\n    for (var ancestor = parent;\n      !_.isUndefined(ancestor);\n      ancestor = this.parent(ancestor)) {\n      if (ancestor === v) {\n        throw new Error(\"Setting \" + parent+ \" as parent of \" + v +\n                        \" would create a cycle\");\n      }\n    }\n\n    this.setNode(parent);\n  }\n\n  this.setNode(v);\n  this._removeFromParentsChildList(v);\n  this._parent[v] = parent;\n  this._children[parent][v] = true;\n  return this;\n};\n\nGraph.prototype._removeFromParentsChildList = function(v) {\n  delete this._children[this._parent[v]][v];\n};\n\nGraph.prototype.parent = function(v) {\n  if (this._isCompound) {\n    var parent = this._parent[v];\n    if (parent !== GRAPH_NODE) {\n      return parent;\n    }\n  }\n};\n\nGraph.prototype.children = function(v) {\n  if (_.isUndefined(v)) {\n    v = GRAPH_NODE;\n  }\n\n  if (this._isCompound) {\n    var children = this._children[v];\n    if (children) {\n      return _.keys(children);\n    }\n  } else if (v === GRAPH_NODE) {\n    return this.nodes();\n  } else if (this.hasNode(v)) {\n    return [];\n  }\n};\n\nGraph.prototype.predecessors = function(v) {\n  var predsV = this._preds[v];\n  if (predsV) {\n    return _.keys(predsV);\n  }\n};\n\nGraph.prototype.successors = function(v) {\n  var sucsV = this._sucs[v];\n  if (sucsV) {\n    return _.keys(sucsV);\n  }\n};\n\nGraph.prototype.neighbors = function(v) {\n  var preds = this.predecessors(v);\n  if (preds) {\n    return _.union(preds, this.successors(v));\n  }\n};\n\nGraph.prototype.isLeaf = function (v) {\n  var neighbors;\n  if (this.isDirected()) {\n    neighbors = this.successors(v);\n  } else {\n    neighbors = this.neighbors(v);\n  }\n  return neighbors.length === 0;\n};\n\nGraph.prototype.filterNodes = function(filter) {\n  var copy = new this.constructor({\n    directed: this._isDirected,\n    multigraph: this._isMultigraph,\n    compound: this._isCompound\n  });\n\n  copy.setGraph(this.graph());\n\n  var self = this;\n  _.each(this._nodes, function(value, v) {\n    if (filter(v)) {\n      copy.setNode(v, value);\n    }\n  });\n\n  _.each(this._edgeObjs, function(e) {\n    if (copy.hasNode(e.v) && copy.hasNode(e.w)) {\n      copy.setEdge(e, self.edge(e));\n    }\n  });\n\n  var parents = {};\n  function findParent(v) {\n    var parent = self.parent(v);\n    if (parent === undefined || copy.hasNode(parent)) {\n      parents[v] = parent;\n      return parent;\n    } else if (parent in parents) {\n      return parents[parent];\n    } else {\n      return findParent(parent);\n    }\n  }\n\n  if (this._isCompound) {\n    _.each(copy.nodes(), function(v) {\n      copy.setParent(v, findParent(v));\n    });\n  }\n\n  return copy;\n};\n\n/* === Edge functions ========== */\n\nGraph.prototype.setDefaultEdgeLabel = function(newDefault) {\n  if (!_.isFunction(newDefault)) {\n    newDefault = _.constant(newDefault);\n  }\n  this._defaultEdgeLabelFn = newDefault;\n  return this;\n};\n\nGraph.prototype.edgeCount = function() {\n  return this._edgeCount;\n};\n\nGraph.prototype.edges = function() {\n  return _.values(this._edgeObjs);\n};\n\nGraph.prototype.setPath = function(vs, value) {\n  var self = this;\n  var args = arguments;\n  _.reduce(vs, function(v, w) {\n    if (args.length > 1) {\n      self.setEdge(v, w, value);\n    } else {\n      self.setEdge(v, w);\n    }\n    return w;\n  });\n  return this;\n};\n\n/*\n * setEdge(v, w, [value, [name]])\n * setEdge({ v, w, [name] }, [value])\n */\nGraph.prototype.setEdge = function() {\n  var v, w, name, value;\n  var valueSpecified = false;\n  var arg0 = arguments[0];\n\n  if (typeof arg0 === \"object\" && arg0 !== null && \"v\" in arg0) {\n    v = arg0.v;\n    w = arg0.w;\n    name = arg0.name;\n    if (arguments.length === 2) {\n      value = arguments[1];\n      valueSpecified = true;\n    }\n  } else {\n    v = arg0;\n    w = arguments[1];\n    name = arguments[3];\n    if (arguments.length > 2) {\n      value = arguments[2];\n      valueSpecified = true;\n    }\n  }\n\n  v = \"\" + v;\n  w = \"\" + w;\n  if (!_.isUndefined(name)) {\n    name = \"\" + name;\n  }\n\n  var e = edgeArgsToId(this._isDirected, v, w, name);\n  if (_.has(this._edgeLabels, e)) {\n    if (valueSpecified) {\n      this._edgeLabels[e] = value;\n    }\n    return this;\n  }\n\n  if (!_.isUndefined(name) && !this._isMultigraph) {\n    throw new Error(\"Cannot set a named edge when isMultigraph = false\");\n  }\n\n  // It didn't exist, so we need to create it.\n  // First ensure the nodes exist.\n  this.setNode(v);\n  this.setNode(w);\n\n  this._edgeLabels[e] = valueSpecified ? value : this._defaultEdgeLabelFn(v, w, name);\n\n  var edgeObj = edgeArgsToObj(this._isDirected, v, w, name);\n  // Ensure we add undirected edges in a consistent way.\n  v = edgeObj.v;\n  w = edgeObj.w;\n\n  Object.freeze(edgeObj);\n  this._edgeObjs[e] = edgeObj;\n  incrementOrInitEntry(this._preds[w], v);\n  incrementOrInitEntry(this._sucs[v], w);\n  this._in[w][e] = edgeObj;\n  this._out[v][e] = edgeObj;\n  this._edgeCount++;\n  return this;\n};\n\nGraph.prototype.edge = function(v, w, name) {\n  var e = (arguments.length === 1\n    ? edgeObjToId(this._isDirected, arguments[0])\n    : edgeArgsToId(this._isDirected, v, w, name));\n  return this._edgeLabels[e];\n};\n\nGraph.prototype.hasEdge = function(v, w, name) {\n  var e = (arguments.length === 1\n    ? edgeObjToId(this._isDirected, arguments[0])\n    : edgeArgsToId(this._isDirected, v, w, name));\n  return _.has(this._edgeLabels, e);\n};\n\nGraph.prototype.removeEdge = function(v, w, name) {\n  var e = (arguments.length === 1\n    ? edgeObjToId(this._isDirected, arguments[0])\n    : edgeArgsToId(this._isDirected, v, w, name));\n  var edge = this._edgeObjs[e];\n  if (edge) {\n    v = edge.v;\n    w = edge.w;\n    delete this._edgeLabels[e];\n    delete this._edgeObjs[e];\n    decrementOrRemoveEntry(this._preds[w], v);\n    decrementOrRemoveEntry(this._sucs[v], w);\n    delete this._in[w][e];\n    delete this._out[v][e];\n    this._edgeCount--;\n  }\n  return this;\n};\n\nGraph.prototype.inEdges = function(v, u) {\n  var inV = this._in[v];\n  if (inV) {\n    var edges = _.values(inV);\n    if (!u) {\n      return edges;\n    }\n    return _.filter(edges, function(edge) { return edge.v === u; });\n  }\n};\n\nGraph.prototype.outEdges = function(v, w) {\n  var outV = this._out[v];\n  if (outV) {\n    var edges = _.values(outV);\n    if (!w) {\n      return edges;\n    }\n    return _.filter(edges, function(edge) { return edge.w === w; });\n  }\n};\n\nGraph.prototype.nodeEdges = function(v, w) {\n  var inEdges = this.inEdges(v, w);\n  if (inEdges) {\n    return inEdges.concat(this.outEdges(v, w));\n  }\n};\n\nfunction incrementOrInitEntry(map, k) {\n  if (map[k]) {\n    map[k]++;\n  } else {\n    map[k] = 1;\n  }\n}\n\nfunction decrementOrRemoveEntry(map, k) {\n  if (!--map[k]) { delete map[k]; }\n}\n\nfunction edgeArgsToId(isDirected, v_, w_, name) {\n  var v = \"\" + v_;\n  var w = \"\" + w_;\n  if (!isDirected && v > w) {\n    var tmp = v;\n    v = w;\n    w = tmp;\n  }\n  return v + EDGE_KEY_DELIM + w + EDGE_KEY_DELIM +\n             (_.isUndefined(name) ? DEFAULT_EDGE_NAME : name);\n}\n\nfunction edgeArgsToObj(isDirected, v_, w_, name) {\n  var v = \"\" + v_;\n  var w = \"\" + w_;\n  if (!isDirected && v > w) {\n    var tmp = v;\n    v = w;\n    w = tmp;\n  }\n  var edgeObj =  { v: v, w: w };\n  if (name) {\n    edgeObj.name = name;\n  }\n  return edgeObj;\n}\n\nfunction edgeObjToId(isDirected, edgeObj) {\n  return edgeArgsToId(isDirected, edgeObj.v, edgeObj.w, edgeObj.name);\n}\n","module.exports = '2.1.8';\n","// Includes only the \"core\" of graphlib\nmodule.exports = {\n  Graph: require(\"./graph\"),\n  version: require(\"./version\")\n};\n","var _ = require(\"./lodash\");\nvar Graph = require(\"./graph\");\n\nmodule.exports = {\n  write: write,\n  read: read\n};\n\nfunction write(g) {\n  var json = {\n    options: {\n      directed: g.isDirected(),\n      multigraph: g.isMultigraph(),\n      compound: g.isCompound()\n    },\n    nodes: writeNodes(g),\n    edges: writeEdges(g)\n  };\n  if (!_.isUndefined(g.graph())) {\n    json.value = _.clone(g.graph());\n  }\n  return json;\n}\n\nfunction writeNodes(g) {\n  return _.map(g.nodes(), function(v) {\n    var nodeValue = g.node(v);\n    var parent = g.parent(v);\n    var node = { v: v };\n    if (!_.isUndefined(nodeValue)) {\n      node.value = nodeValue;\n    }\n    if (!_.isUndefined(parent)) {\n      node.parent = parent;\n    }\n    return node;\n  });\n}\n\nfunction writeEdges(g) {\n  return _.map(g.edges(), function(e) {\n    var edgeValue = g.edge(e);\n    var edge = { v: e.v, w: e.w };\n    if (!_.isUndefined(e.name)) {\n      edge.name = e.name;\n    }\n    if (!_.isUndefined(edgeValue)) {\n      edge.value = edgeValue;\n    }\n    return edge;\n  });\n}\n\nfunction read(json) {\n  var g = new Graph(json.options).setGraph(json.value);\n  _.each(json.nodes, function(entry) {\n    g.setNode(entry.v, entry.value);\n    if (entry.parent) {\n      g.setParent(entry.v, entry.parent);\n    }\n  });\n  _.each(json.edges, function(entry) {\n    g.setEdge({ v: entry.v, w: entry.w, name: entry.name }, entry.value);\n  });\n  return g;\n}\n","var _ = require(\"../lodash\");\n\nmodule.exports = components;\n\nfunction components(g) {\n  var visited = {};\n  var cmpts = [];\n  var cmpt;\n\n  function dfs(v) {\n    if (_.has(visited, v)) return;\n    visited[v] = true;\n    cmpt.push(v);\n    _.each(g.successors(v), dfs);\n    _.each(g.predecessors(v), dfs);\n  }\n\n  _.each(g.nodes(), function(v) {\n    cmpt = [];\n    dfs(v);\n    if (cmpt.length) {\n      cmpts.push(cmpt);\n    }\n  });\n\n  return cmpts;\n}\n","var _ = require(\"../lodash\");\n\nmodule.exports = PriorityQueue;\n\n/**\n * A min-priority queue data structure. This algorithm is derived from Cormen,\n * et al., \"Introduction to Algorithms\". The basic idea of a min-priority\n * queue is that you can efficiently (in O(1) time) get the smallest key in\n * the queue. Adding and removing elements takes O(log n) time. A key can\n * have its priority decreased in O(log n) time.\n */\nfunction PriorityQueue() {\n  this._arr = [];\n  this._keyIndices = {};\n}\n\n/**\n * Returns the number of elements in the queue. Takes `O(1)` time.\n */\nPriorityQueue.prototype.size = function() {\n  return this._arr.length;\n};\n\n/**\n * Returns the keys that are in the queue. Takes `O(n)` time.\n */\nPriorityQueue.prototype.keys = function() {\n  return this._arr.map(function(x) { return x.key; });\n};\n\n/**\n * Returns `true` if **key** is in the queue and `false` if not.\n */\nPriorityQueue.prototype.has = function(key) {\n  return _.has(this._keyIndices, key);\n};\n\n/**\n * Returns the priority for **key**. If **key** is not present in the queue\n * then this function returns `undefined`. Takes `O(1)` time.\n *\n * @param {Object} key\n */\nPriorityQueue.prototype.priority = function(key) {\n  var index = this._keyIndices[key];\n  if (index !== undefined) {\n    return this._arr[index].priority;\n  }\n};\n\n/**\n * Returns the key for the minimum element in this queue. If the queue is\n * empty this function throws an Error. Takes `O(1)` time.\n */\nPriorityQueue.prototype.min = function() {\n  if (this.size() === 0) {\n    throw new Error(\"Queue underflow\");\n  }\n  return this._arr[0].key;\n};\n\n/**\n * Inserts a new key into the priority queue. If the key already exists in\n * the queue this function returns `false`; otherwise it will return `true`.\n * Takes `O(n)` time.\n *\n * @param {Object} key the key to add\n * @param {Number} priority the initial priority for the key\n */\nPriorityQueue.prototype.add = function(key, priority) {\n  var keyIndices = this._keyIndices;\n  key = String(key);\n  if (!_.has(keyIndices, key)) {\n    var arr = this._arr;\n    var index = arr.length;\n    keyIndices[key] = index;\n    arr.push({key: key, priority: priority});\n    this._decrease(index);\n    return true;\n  }\n  return false;\n};\n\n/**\n * Removes and returns the smallest key in the queue. Takes `O(log n)` time.\n */\nPriorityQueue.prototype.removeMin = function() {\n  this._swap(0, this._arr.length - 1);\n  var min = this._arr.pop();\n  delete this._keyIndices[min.key];\n  this._heapify(0);\n  return min.key;\n};\n\n/**\n * Decreases the priority for **key** to **priority**. If the new priority is\n * greater than the previous priority, this function will throw an Error.\n *\n * @param {Object} key the key for which to raise priority\n * @param {Number} priority the new priority for the key\n */\nPriorityQueue.prototype.decrease = function(key, priority) {\n  var index = this._keyIndices[key];\n  if (priority > this._arr[index].priority) {\n    throw new Error(\"New priority is greater than current priority. \" +\n        \"Key: \" + key + \" Old: \" + this._arr[index].priority + \" New: \" + priority);\n  }\n  this._arr[index].priority = priority;\n  this._decrease(index);\n};\n\nPriorityQueue.prototype._heapify = function(i) {\n  var arr = this._arr;\n  var l = 2 * i;\n  var r = l + 1;\n  var largest = i;\n  if (l < arr.length) {\n    largest = arr[l].priority < arr[largest].priority ? l : largest;\n    if (r < arr.length) {\n      largest = arr[r].priority < arr[largest].priority ? r : largest;\n    }\n    if (largest !== i) {\n      this._swap(i, largest);\n      this._heapify(largest);\n    }\n  }\n};\n\nPriorityQueue.prototype._decrease = function(index) {\n  var arr = this._arr;\n  var priority = arr[index].priority;\n  var parent;\n  while (index !== 0) {\n    parent = index >> 1;\n    if (arr[parent].priority < priority) {\n      break;\n    }\n    this._swap(index, parent);\n    index = parent;\n  }\n};\n\nPriorityQueue.prototype._swap = function(i, j) {\n  var arr = this._arr;\n  var keyIndices = this._keyIndices;\n  var origArrI = arr[i];\n  var origArrJ = arr[j];\n  arr[i] = origArrJ;\n  arr[j] = origArrI;\n  keyIndices[origArrJ.key] = i;\n  keyIndices[origArrI.key] = j;\n};\n","var _ = require(\"../lodash\");\nvar PriorityQueue = require(\"../data/priority-queue\");\n\nmodule.exports = dijkstra;\n\nvar DEFAULT_WEIGHT_FUNC = _.constant(1);\n\nfunction dijkstra(g, source, weightFn, edgeFn) {\n  return runDijkstra(g, String(source),\n    weightFn || DEFAULT_WEIGHT_FUNC,\n    edgeFn || function(v) { return g.outEdges(v); });\n}\n\nfunction runDijkstra(g, source, weightFn, edgeFn) {\n  var results = {};\n  var pq = new PriorityQueue();\n  var v, vEntry;\n\n  var updateNeighbors = function(edge) {\n    var w = edge.v !== v ? edge.v : edge.w;\n    var wEntry = results[w];\n    var weight = weightFn(edge);\n    var distance = vEntry.distance + weight;\n\n    if (weight < 0) {\n      throw new Error(\"dijkstra does not allow negative edge weights. \" +\n                      \"Bad edge: \" + edge + \" Weight: \" + weight);\n    }\n\n    if (distance < wEntry.distance) {\n      wEntry.distance = distance;\n      wEntry.predecessor = v;\n      pq.decrease(w, distance);\n    }\n  };\n\n  g.nodes().forEach(function(v) {\n    var distance = v === source ? 0 : Number.POSITIVE_INFINITY;\n    results[v] = { distance: distance };\n    pq.add(v, distance);\n  });\n\n  while (pq.size() > 0) {\n    v = pq.removeMin();\n    vEntry = results[v];\n    if (vEntry.distance === Number.POSITIVE_INFINITY) {\n      break;\n    }\n\n    edgeFn(v).forEach(updateNeighbors);\n  }\n\n  return results;\n}\n","var dijkstra = require(\"./dijkstra\");\nvar _ = require(\"../lodash\");\n\nmodule.exports = dijkstraAll;\n\nfunction dijkstraAll(g, weightFunc, edgeFunc) {\n  return _.transform(g.nodes(), function(acc, v) {\n    acc[v] = dijkstra(g, v, weightFunc, edgeFunc);\n  }, {});\n}\n","var _ = require(\"../lodash\");\n\nmodule.exports = tarjan;\n\nfunction tarjan(g) {\n  var index = 0;\n  var stack = [];\n  var visited = {}; // node id -> { onStack, lowlink, index }\n  var results = [];\n\n  function dfs(v) {\n    var entry = visited[v] = {\n      onStack: true,\n      lowlink: index,\n      index: index++\n    };\n    stack.push(v);\n\n    g.successors(v).forEach(function(w) {\n      if (!_.has(visited, w)) {\n        dfs(w);\n        entry.lowlink = Math.min(entry.lowlink, visited[w].lowlink);\n      } else if (visited[w].onStack) {\n        entry.lowlink = Math.min(entry.lowlink, visited[w].index);\n      }\n    });\n\n    if (entry.lowlink === entry.index) {\n      var cmpt = [];\n      var w;\n      do {\n        w = stack.pop();\n        visited[w].onStack = false;\n        cmpt.push(w);\n      } while (v !== w);\n      results.push(cmpt);\n    }\n  }\n\n  g.nodes().forEach(function(v) {\n    if (!_.has(visited, v)) {\n      dfs(v);\n    }\n  });\n\n  return results;\n}\n","var _ = require(\"../lodash\");\nvar tarjan = require(\"./tarjan\");\n\nmodule.exports = findCycles;\n\nfunction findCycles(g) {\n  return _.filter(tarjan(g), function(cmpt) {\n    return cmpt.length > 1 || (cmpt.length === 1 && g.hasEdge(cmpt[0], cmpt[0]));\n  });\n}\n","var _ = require(\"../lodash\");\n\nmodule.exports = floydWarshall;\n\nvar DEFAULT_WEIGHT_FUNC = _.constant(1);\n\nfunction floydWarshall(g, weightFn, edgeFn) {\n  return runFloydWarshall(g,\n    weightFn || DEFAULT_WEIGHT_FUNC,\n    edgeFn || function(v) { return g.outEdges(v); });\n}\n\nfunction runFloydWarshall(g, weightFn, edgeFn) {\n  var results = {};\n  var nodes = g.nodes();\n\n  nodes.forEach(function(v) {\n    results[v] = {};\n    results[v][v] = { distance: 0 };\n    nodes.forEach(function(w) {\n      if (v !== w) {\n        results[v][w] = { distance: Number.POSITIVE_INFINITY };\n      }\n    });\n    edgeFn(v).forEach(function(edge) {\n      var w = edge.v === v ? edge.w : edge.v;\n      var d = weightFn(edge);\n      results[v][w] = { distance: d, predecessor: v };\n    });\n  });\n\n  nodes.forEach(function(k) {\n    var rowK = results[k];\n    nodes.forEach(function(i) {\n      var rowI = results[i];\n      nodes.forEach(function(j) {\n        var ik = rowI[k];\n        var kj = rowK[j];\n        var ij = rowI[j];\n        var altDistance = ik.distance + kj.distance;\n        if (altDistance < ij.distance) {\n          ij.distance = altDistance;\n          ij.predecessor = kj.predecessor;\n        }\n      });\n    });\n  });\n\n  return results;\n}\n","var _ = require(\"../lodash\");\n\nmodule.exports = topsort;\ntopsort.CycleException = CycleException;\n\nfunction topsort(g) {\n  var visited = {};\n  var stack = {};\n  var results = [];\n\n  function visit(node) {\n    if (_.has(stack, node)) {\n      throw new CycleException();\n    }\n\n    if (!_.has(visited, node)) {\n      stack[node] = true;\n      visited[node] = true;\n      _.each(g.predecessors(node), visit);\n      delete stack[node];\n      results.push(node);\n    }\n  }\n\n  _.each(g.sinks(), visit);\n\n  if (_.size(visited) !== g.nodeCount()) {\n    throw new CycleException();\n  }\n\n  return results;\n}\n\nfunction CycleException() {}\nCycleException.prototype = new Error(); // must be an instance of Error to pass testing","var topsort = require(\"./topsort\");\n\nmodule.exports = isAcyclic;\n\nfunction isAcyclic(g) {\n  try {\n    topsort(g);\n  } catch (e) {\n    if (e instanceof topsort.CycleException) {\n      return false;\n    }\n    throw e;\n  }\n  return true;\n}\n","var _ = require(\"../lodash\");\n\nmodule.exports = dfs;\n\n/*\n * A helper that preforms a pre- or post-order traversal on the input graph\n * and returns the nodes in the order they were visited. If the graph is\n * undirected then this algorithm will navigate using neighbors. If the graph\n * is directed then this algorithm will navigate using successors.\n *\n * Order must be one of \"pre\" or \"post\".\n */\nfunction dfs(g, vs, order) {\n  if (!_.isArray(vs)) {\n    vs = [vs];\n  }\n\n  var navigation = (g.isDirected() ? g.successors : g.neighbors).bind(g);\n\n  var acc = [];\n  var visited = {};\n  _.each(vs, function(v) {\n    if (!g.hasNode(v)) {\n      throw new Error(\"Graph does not have node: \" + v);\n    }\n\n    doDfs(g, v, order === \"post\", visited, navigation, acc);\n  });\n  return acc;\n}\n\nfunction doDfs(g, v, postorder, visited, navigation, acc) {\n  if (!_.has(visited, v)) {\n    visited[v] = true;\n\n    if (!postorder) { acc.push(v); }\n    _.each(navigation(v), function(w) {\n      doDfs(g, w, postorder, visited, navigation, acc);\n    });\n    if (postorder) { acc.push(v); }\n  }\n}\n","var dfs = require(\"./dfs\");\n\nmodule.exports = postorder;\n\nfunction postorder(g, vs) {\n  return dfs(g, vs, \"post\");\n}\n","var dfs = require(\"./dfs\");\n\nmodule.exports = preorder;\n\nfunction preorder(g, vs) {\n  return dfs(g, vs, \"pre\");\n}\n","var _ = require(\"../lodash\");\nvar Graph = require(\"../graph\");\nvar PriorityQueue = require(\"../data/priority-queue\");\n\nmodule.exports = prim;\n\nfunction prim(g, weightFunc) {\n  var result = new Graph();\n  var parents = {};\n  var pq = new PriorityQueue();\n  var v;\n\n  function updateNeighbors(edge) {\n    var w = edge.v === v ? edge.w : edge.v;\n    var pri = pq.priority(w);\n    if (pri !== undefined) {\n      var edgeWeight = weightFunc(edge);\n      if (edgeWeight < pri) {\n        parents[w] = v;\n        pq.decrease(w, edgeWeight);\n      }\n    }\n  }\n\n  if (g.nodeCount() === 0) {\n    return result;\n  }\n\n  _.each(g.nodes(), function(v) {\n    pq.add(v, Number.POSITIVE_INFINITY);\n    result.setNode(v);\n  });\n\n  // Start from an arbitrary node\n  pq.decrease(g.nodes()[0], 0);\n\n  var init = false;\n  while (pq.size() > 0) {\n    v = pq.removeMin();\n    if (_.has(parents, v)) {\n      result.setEdge(v, parents[v]);\n    } else if (init) {\n      throw new Error(\"Input graph is not connected: \" + g);\n    } else {\n      init = true;\n    }\n\n    g.nodeEdges(v).forEach(updateNeighbors);\n  }\n\n  return result;\n}\n","module.exports = {\n  components: require(\"./components\"),\n  dijkstra: require(\"./dijkstra\"),\n  dijkstraAll: require(\"./dijkstra-all\"),\n  findCycles: require(\"./find-cycles\"),\n  floydWarshall: require(\"./floyd-warshall\"),\n  isAcyclic: require(\"./is-acyclic\"),\n  postorder: require(\"./postorder\"),\n  preorder: require(\"./preorder\"),\n  prim: require(\"./prim\"),\n  tarjan: require(\"./tarjan\"),\n  topsort: require(\"./topsort\")\n};\n","/**\n * Copyright (c) 2014, Chris Pettitt\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n * list of conditions and the following disclaimer.\n *\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n * this list of conditions and the following disclaimer in the documentation\n * and/or other materials provided with the distribution.\n *\n * 3. Neither the name of the copyright holder nor the names of its contributors\n * may be used to endorse or promote products derived from this software without\n * specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE\n * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\n * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\n * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nvar lib = require(\"./lib\");\n\nmodule.exports = {\n  Graph: lib.Graph,\n  json: require(\"./lib/json\"),\n  alg: require(\"./lib/alg\"),\n  version: lib.version\n};\n","/* global window */\n\nvar graphlib;\n\nif (typeof require === \"function\") {\n  try {\n    graphlib = require(\"graphlib\");\n  } catch (e) {\n    // continue regardless of error\n  }\n}\n\nif (!graphlib) {\n  graphlib = window.graphlib;\n}\n\nmodule.exports = graphlib;\n","var eq = require('./eq'),\n    isArrayLike = require('./isArrayLike'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject');\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nmodule.exports = isIterateeCall;\n","var baseRest = require('./_baseRest'),\n    eq = require('./eq'),\n    isIterateeCall = require('./_isIterateeCall'),\n    keysIn = require('./keysIn');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns own and inherited enumerable string keyed properties of source\n * objects to the destination object for all destination properties that\n * resolve to `undefined`. Source objects are applied from left to right.\n * Once a property is set, additional values of the same property are ignored.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.defaultsDeep\n * @example\n *\n * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n * // => { 'a': 1, 'b': 2 }\n */\nvar defaults = baseRest(function(object, sources) {\n  object = Object(object);\n\n  var index = -1;\n  var length = sources.length;\n  var guard = length > 2 ? sources[2] : undefined;\n\n  if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n    length = 1;\n  }\n\n  while (++index < length) {\n    var source = sources[index];\n    var props = keysIn(source);\n    var propsIndex = -1;\n    var propsLength = props.length;\n\n    while (++propsIndex < propsLength) {\n      var key = props[propsIndex];\n      var value = object[key];\n\n      if (value === undefined ||\n          (eq(value, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n        object[key] = source[key];\n      }\n    }\n  }\n\n  return object;\n});\n\nmodule.exports = defaults;\n","var baseIteratee = require('./_baseIteratee'),\n    isArrayLike = require('./isArrayLike'),\n    keys = require('./keys');\n\n/**\n * Creates a `_.find` or `_.findLast` function.\n *\n * @private\n * @param {Function} findIndexFunc The function to find the collection index.\n * @returns {Function} Returns the new find function.\n */\nfunction createFind(findIndexFunc) {\n  return function(collection, predicate, fromIndex) {\n    var iterable = Object(collection);\n    if (!isArrayLike(collection)) {\n      var iteratee = baseIteratee(predicate, 3);\n      collection = keys(collection);\n      predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n    }\n    var index = findIndexFunc(collection, predicate, fromIndex);\n    return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n  };\n}\n\nmodule.exports = createFind;\n","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;\n","var toFinite = require('./toFinite');\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\nmodule.exports = toInteger;\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIteratee = require('./_baseIteratee'),\n    toInteger = require('./toInteger');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This method is like `_.find` except that it returns the index of the first\n * element `predicate` returns truthy for instead of the element itself.\n *\n * @static\n * @memberOf _\n * @since 1.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {number} Returns the index of the found element, else `-1`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': false },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': true }\n * ];\n *\n * _.findIndex(users, function(o) { return o.user == 'barney'; });\n * // => 0\n *\n * // The `_.matches` iteratee shorthand.\n * _.findIndex(users, { 'user': 'fred', 'active': false });\n * // => 1\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.findIndex(users, ['active', false]);\n * // => 0\n *\n * // The `_.property` iteratee shorthand.\n * _.findIndex(users, 'active');\n * // => 2\n */\nfunction findIndex(array, predicate, fromIndex) {\n  var length = array == null ? 0 : array.length;\n  if (!length) {\n    return -1;\n  }\n  var index = fromIndex == null ? 0 : toInteger(fromIndex);\n  if (index < 0) {\n    index = nativeMax(length + index, 0);\n  }\n  return baseFindIndex(array, baseIteratee(predicate, 3), index);\n}\n\nmodule.exports = findIndex;\n","var createFind = require('./_createFind'),\n    findIndex = require('./findIndex');\n\n/**\n * Iterates over elements of `collection`, returning the first element\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {*} Returns the matched element, else `undefined`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'age': 36, 'active': true },\n *   { 'user': 'fred',    'age': 40, 'active': false },\n *   { 'user': 'pebbles', 'age': 1,  'active': true }\n * ];\n *\n * _.find(users, function(o) { return o.age < 40; });\n * // => object for 'barney'\n *\n * // The `_.matches` iteratee shorthand.\n * _.find(users, { 'age': 1, 'active': true });\n * // => object for 'pebbles'\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.find(users, ['active', false]);\n * // => object for 'fred'\n *\n * // The `_.property` iteratee shorthand.\n * _.find(users, 'active');\n * // => object for 'barney'\n */\nvar find = createFind(findIndex);\n\nmodule.exports = find;\n","var baseFlatten = require('./_baseFlatten');\n\n/**\n * Flattens `array` a single level deep.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flatten([1, [2, [3, [4]], 5]]);\n * // => [1, 2, [3, [4]], 5]\n */\nfunction flatten(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, 1) : [];\n}\n\nmodule.exports = flatten;\n","var baseFor = require('./_baseFor'),\n    castFunction = require('./_castFunction'),\n    keysIn = require('./keysIn');\n\n/**\n * Iterates over own and inherited enumerable string keyed properties of an\n * object and invokes `iteratee` for each property. The iteratee is invoked\n * with three arguments: (value, key, object). Iteratee functions may exit\n * iteration early by explicitly returning `false`.\n *\n * @static\n * @memberOf _\n * @since 0.3.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Object} Returns `object`.\n * @see _.forInRight\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.forIn(new Foo, function(value, key) {\n *   console.log(key);\n * });\n * // => Logs 'a', 'b', then 'c' (iteration order is not guaranteed).\n */\nfunction forIn(object, iteratee) {\n  return object == null\n    ? object\n    : baseFor(object, castFunction(iteratee), keysIn);\n}\n\nmodule.exports = forIn;\n","/**\n * Gets the last element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the last element of `array`.\n * @example\n *\n * _.last([1, 2, 3]);\n * // => 3\n */\nfunction last(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? array[length - 1] : undefined;\n}\n\nmodule.exports = last;\n","var isSymbol = require('./isSymbol');\n\n/**\n * The base implementation of methods like `_.max` and `_.min` which accepts a\n * `comparator` to determine the extremum value.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The iteratee invoked per iteration.\n * @param {Function} comparator The comparator used to compare values.\n * @returns {*} Returns the extremum value.\n */\nfunction baseExtremum(array, iteratee, comparator) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var value = array[index],\n        current = iteratee(value);\n\n    if (current != null && (computed === undefined\n          ? (current === current && !isSymbol(current))\n          : comparator(current, computed)\n        )) {\n      var computed = current,\n          result = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseExtremum;\n","/**\n * The base implementation of `_.gt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is greater than `other`,\n *  else `false`.\n */\nfunction baseGt(value, other) {\n  return value > other;\n}\n\nmodule.exports = baseGt;\n","var baseExtremum = require('./_baseExtremum'),\n    baseGt = require('./_baseGt'),\n    identity = require('./identity');\n\n/**\n * Computes the maximum value of `array`. If `array` is empty or falsey,\n * `undefined` is returned.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {*} Returns the maximum value.\n * @example\n *\n * _.max([4, 2, 8, 6]);\n * // => 8\n *\n * _.max([]);\n * // => undefined\n */\nfunction max(array) {\n  return (array && array.length)\n    ? baseExtremum(array, identity, baseGt)\n    : undefined;\n}\n\nmodule.exports = max;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq(object[key], value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignMergeValue;\n","/**\n * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction safeGet(object, key) {\n  if (key === 'constructor' && typeof object[key] === 'function') {\n    return;\n  }\n\n  if (key == '__proto__') {\n    return;\n  }\n\n  return object[key];\n}\n\nmodule.exports = safeGet;\n","var copyObject = require('./_copyObject'),\n    keysIn = require('./keysIn');\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return copyObject(value, keysIn(value));\n}\n\nmodule.exports = toPlainObject;\n","var assignMergeValue = require('./_assignMergeValue'),\n    cloneBuffer = require('./_cloneBuffer'),\n    cloneTypedArray = require('./_cloneTypedArray'),\n    copyArray = require('./_copyArray'),\n    initCloneObject = require('./_initCloneObject'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isArrayLikeObject = require('./isArrayLikeObject'),\n    isBuffer = require('./isBuffer'),\n    isFunction = require('./isFunction'),\n    isObject = require('./isObject'),\n    isPlainObject = require('./isPlainObject'),\n    isTypedArray = require('./isTypedArray'),\n    safeGet = require('./_safeGet'),\n    toPlainObject = require('./toPlainObject');\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = safeGet(object, key),\n      srcValue = safeGet(source, key),\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    var isArr = isArray(srcValue),\n        isBuff = !isArr && isBuffer(srcValue),\n        isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n    newValue = srcValue;\n    if (isArr || isBuff || isTyped) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      }\n      else if (isBuff) {\n        isCommon = false;\n        newValue = cloneBuffer(srcValue, true);\n      }\n      else if (isTyped) {\n        isCommon = false;\n        newValue = cloneTypedArray(srcValue, true);\n      }\n      else {\n        newValue = [];\n      }\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      newValue = objValue;\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      }\n      else if (!isObject(objValue) || isFunction(objValue)) {\n        newValue = initCloneObject(srcValue);\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, newValue);\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n    stack['delete'](srcValue);\n  }\n  assignMergeValue(object, key, newValue);\n}\n\nmodule.exports = baseMergeDeep;\n","var Stack = require('./_Stack'),\n    assignMergeValue = require('./_assignMergeValue'),\n    baseFor = require('./_baseFor'),\n    baseMergeDeep = require('./_baseMergeDeep'),\n    isObject = require('./isObject'),\n    keysIn = require('./keysIn'),\n    safeGet = require('./_safeGet');\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  baseFor(source, function(srcValue, key) {\n    stack || (stack = new Stack);\n    if (isObject(srcValue)) {\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      assignMergeValue(object, key, newValue);\n    }\n  }, keysIn);\n}\n\nmodule.exports = baseMerge;\n","var baseRest = require('./_baseRest'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nmodule.exports = createAssigner;\n","var baseMerge = require('./_baseMerge'),\n    createAssigner = require('./_createAssigner');\n\n/**\n * This method is like `_.assign` except that it recursively merges own and\n * inherited enumerable string keyed properties of source objects into the\n * destination object. Source properties that resolve to `undefined` are\n * skipped if a destination value exists. Array and plain object properties\n * are merged recursively. Other objects and value types are overridden by\n * assignment. Source objects are applied from left to right. Subsequent\n * sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = {\n *   'a': [{ 'b': 2 }, { 'd': 4 }]\n * };\n *\n * var other = {\n *   'a': [{ 'c': 3 }, { 'e': 5 }]\n * };\n *\n * _.merge(object, other);\n * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n */\nvar merge = createAssigner(function(object, source, srcIndex) {\n  baseMerge(object, source, srcIndex);\n});\n\nmodule.exports = merge;\n","/**\n * The base implementation of `_.lt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is less than `other`,\n *  else `false`.\n */\nfunction baseLt(value, other) {\n  return value < other;\n}\n\nmodule.exports = baseLt;\n","var baseExtremum = require('./_baseExtremum'),\n    baseLt = require('./_baseLt'),\n    identity = require('./identity');\n\n/**\n * Computes the minimum value of `array`. If `array` is empty or falsey,\n * `undefined` is returned.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {*} Returns the minimum value.\n * @example\n *\n * _.min([4, 2, 8, 6]);\n * // => 2\n *\n * _.min([]);\n * // => undefined\n */\nfunction min(array) {\n  return (array && array.length)\n    ? baseExtremum(array, identity, baseLt)\n    : undefined;\n}\n\nmodule.exports = min;\n","var baseExtremum = require('./_baseExtremum'),\n    baseIteratee = require('./_baseIteratee'),\n    baseLt = require('./_baseLt');\n\n/**\n * This method is like `_.min` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * the value is ranked. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {*} Returns the minimum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * _.minBy(objects, function(o) { return o.n; });\n * // => { 'n': 1 }\n *\n * // The `_.property` iteratee shorthand.\n * _.minBy(objects, 'n');\n * // => { 'n': 1 }\n */\nfunction minBy(array, iteratee) {\n  return (array && array.length)\n    ? baseExtremum(array, baseIteratee(iteratee, 2), baseLt)\n    : undefined;\n}\n\nmodule.exports = minBy;\n","var basePickBy = require('./_basePickBy'),\n    hasIn = require('./hasIn');\n\n/**\n * The base implementation of `_.pick` without support for individual\n * property identifiers.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @returns {Object} Returns the new object.\n */\nfunction basePick(object, paths) {\n  return basePickBy(object, paths, function(value, path) {\n    return hasIn(object, path);\n  });\n}\n\nmodule.exports = basePick;\n","var flatten = require('./flatten'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * A specialized version of `baseRest` which flattens the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @returns {Function} Returns the new function.\n */\nfunction flatRest(func) {\n  return setToString(overRest(func, undefined, flatten), func + '');\n}\n\nmodule.exports = flatRest;\n","var basePick = require('./_basePick'),\n    flatRest = require('./_flatRest');\n\n/**\n * Creates an object composed of the picked `object` properties.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {...(string|string[])} [paths] The property paths to pick.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.pick(object, ['a', 'c']);\n * // => { 'a': 1, 'c': 3 }\n */\nvar pick = flatRest(function(object, paths) {\n  return object == null ? {} : basePick(object, paths);\n});\n\nmodule.exports = pick;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil,\n    nativeMax = Math.max;\n\n/**\n * The base implementation of `_.range` and `_.rangeRight` which doesn't\n * coerce arguments.\n *\n * @private\n * @param {number} start The start of the range.\n * @param {number} end The end of the range.\n * @param {number} step The value to increment or decrement by.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Array} Returns the range of numbers.\n */\nfunction baseRange(start, end, step, fromRight) {\n  var index = -1,\n      length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n      result = Array(length);\n\n  while (length--) {\n    result[fromRight ? length : ++index] = start;\n    start += step;\n  }\n  return result;\n}\n\nmodule.exports = baseRange;\n","var baseRange = require('./_baseRange'),\n    isIterateeCall = require('./_isIterateeCall'),\n    toFinite = require('./toFinite');\n\n/**\n * Creates a `_.range` or `_.rangeRight` function.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new range function.\n */\nfunction createRange(fromRight) {\n  return function(start, end, step) {\n    if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n      end = step = undefined;\n    }\n    // Ensure the sign of `-0` is preserved.\n    start = toFinite(start);\n    if (end === undefined) {\n      end = start;\n      start = 0;\n    } else {\n      end = toFinite(end);\n    }\n    step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n    return baseRange(start, end, step, fromRight);\n  };\n}\n\nmodule.exports = createRange;\n","var createRange = require('./_createRange');\n\n/**\n * Creates an array of numbers (positive and/or negative) progressing from\n * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n * `start` is specified without an `end` or `step`. If `end` is not specified,\n * it's set to `start` with `start` then set to `0`.\n *\n * **Note:** JavaScript follows the IEEE-754 standard for resolving\n * floating-point values which can produce unexpected results.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {number} [start=0] The start of the range.\n * @param {number} end The end of the range.\n * @param {number} [step=1] The value to increment or decrement by.\n * @returns {Array} Returns the range of numbers.\n * @see _.inRange, _.rangeRight\n * @example\n *\n * _.range(4);\n * // => [0, 1, 2, 3]\n *\n * _.range(-4);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 5);\n * // => [1, 2, 3, 4]\n *\n * _.range(0, 20, 5);\n * // => [0, 5, 10, 15]\n *\n * _.range(0, -4, -1);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 4, 0);\n * // => [1, 1, 1]\n *\n * _.range(0);\n * // => []\n */\nvar range = createRange();\n\nmodule.exports = range;\n","/**\n * The base implementation of `_.sortBy` which uses `comparer` to define the\n * sort order of `array` and replaces criteria objects with their corresponding\n * values.\n *\n * @private\n * @param {Array} array The array to sort.\n * @param {Function} comparer The function to define sort order.\n * @returns {Array} Returns `array`.\n */\nfunction baseSortBy(array, comparer) {\n  var length = array.length;\n\n  array.sort(comparer);\n  while (length--) {\n    array[length] = array[length].value;\n  }\n  return array;\n}\n\nmodule.exports = baseSortBy;\n","var isSymbol = require('./isSymbol');\n\n/**\n * Compares values to sort them in ascending order.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {number} Returns the sort order indicator for `value`.\n */\nfunction compareAscending(value, other) {\n  if (value !== other) {\n    var valIsDefined = value !== undefined,\n        valIsNull = value === null,\n        valIsReflexive = value === value,\n        valIsSymbol = isSymbol(value);\n\n    var othIsDefined = other !== undefined,\n        othIsNull = other === null,\n        othIsReflexive = other === other,\n        othIsSymbol = isSymbol(other);\n\n    if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n        (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n        (valIsNull && othIsDefined && othIsReflexive) ||\n        (!valIsDefined && othIsReflexive) ||\n        !valIsReflexive) {\n      return 1;\n    }\n    if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n        (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n        (othIsNull && valIsDefined && valIsReflexive) ||\n        (!othIsDefined && valIsReflexive) ||\n        !othIsReflexive) {\n      return -1;\n    }\n  }\n  return 0;\n}\n\nmodule.exports = compareAscending;\n","var compareAscending = require('./_compareAscending');\n\n/**\n * Used by `_.orderBy` to compare multiple properties of a value to another\n * and stable sort them.\n *\n * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n * of corresponding values.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {boolean[]|string[]} orders The order to sort by for each property.\n * @returns {number} Returns the sort order indicator for `object`.\n */\nfunction compareMultiple(object, other, orders) {\n  var index = -1,\n      objCriteria = object.criteria,\n      othCriteria = other.criteria,\n      length = objCriteria.length,\n      ordersLength = orders.length;\n\n  while (++index < length) {\n    var result = compareAscending(objCriteria[index], othCriteria[index]);\n    if (result) {\n      if (index >= ordersLength) {\n        return result;\n      }\n      var order = orders[index];\n      return result * (order == 'desc' ? -1 : 1);\n    }\n  }\n  // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n  // that causes it, under certain circumstances, to provide the same value for\n  // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n  // for more details.\n  //\n  // This also ensures a stable sort in V8 and other engines.\n  // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n  return object.index - other.index;\n}\n\nmodule.exports = compareMultiple;\n","var arrayMap = require('./_arrayMap'),\n    baseGet = require('./_baseGet'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    baseSortBy = require('./_baseSortBy'),\n    baseUnary = require('./_baseUnary'),\n    compareMultiple = require('./_compareMultiple'),\n    identity = require('./identity'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `_.orderBy` without param guards.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n * @param {string[]} orders The sort orders of `iteratees`.\n * @returns {Array} Returns the new sorted array.\n */\nfunction baseOrderBy(collection, iteratees, orders) {\n  if (iteratees.length) {\n    iteratees = arrayMap(iteratees, function(iteratee) {\n      if (isArray(iteratee)) {\n        return function(value) {\n          return baseGet(value, iteratee.length === 1 ? iteratee[0] : iteratee);\n        }\n      }\n      return iteratee;\n    });\n  } else {\n    iteratees = [identity];\n  }\n\n  var index = -1;\n  iteratees = arrayMap(iteratees, baseUnary(baseIteratee));\n\n  var result = baseMap(collection, function(value, key, collection) {\n    var criteria = arrayMap(iteratees, function(iteratee) {\n      return iteratee(value);\n    });\n    return { 'criteria': criteria, 'index': ++index, 'value': value };\n  });\n\n  return baseSortBy(result, function(object, other) {\n    return compareMultiple(object, other, orders);\n  });\n}\n\nmodule.exports = baseOrderBy;\n","var baseFlatten = require('./_baseFlatten'),\n    baseOrderBy = require('./_baseOrderBy'),\n    baseRest = require('./_baseRest'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Creates an array of elements, sorted in ascending order by the results of\n * running each element in a collection thru each iteratee. This method\n * performs a stable sort, that is, it preserves the original sort order of\n * equal elements. The iteratees are invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {...(Function|Function[])} [iteratees=[_.identity]]\n *  The iteratees to sort by.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 36 },\n *   { 'user': 'fred',   'age': 30 },\n *   { 'user': 'barney', 'age': 34 }\n * ];\n *\n * _.sortBy(users, [function(o) { return o.user; }]);\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 30]]\n *\n * _.sortBy(users, ['user', 'age']);\n * // => objects for [['barney', 34], ['barney', 36], ['fred', 30], ['fred', 48]]\n */\nvar sortBy = baseRest(function(collection, iteratees) {\n  if (collection == null) {\n    return [];\n  }\n  var length = iteratees.length;\n  if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n    iteratees = [];\n  } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n    iteratees = [iteratees[0]];\n  }\n  return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n});\n\nmodule.exports = sortBy;\n","var toString = require('./toString');\n\n/** Used to generate unique IDs. */\nvar idCounter = 0;\n\n/**\n * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {string} [prefix=''] The value to prefix the ID with.\n * @returns {string} Returns the unique ID.\n * @example\n *\n * _.uniqueId('contact_');\n * // => 'contact_104'\n *\n * _.uniqueId();\n * // => '105'\n */\nfunction uniqueId(prefix) {\n  var id = ++idCounter;\n  return toString(prefix) + id;\n}\n\nmodule.exports = uniqueId;\n","/**\n * This base implementation of `_.zipObject` which assigns values using `assignFunc`.\n *\n * @private\n * @param {Array} props The property identifiers.\n * @param {Array} values The property values.\n * @param {Function} assignFunc The function to assign values.\n * @returns {Object} Returns the new object.\n */\nfunction baseZipObject(props, values, assignFunc) {\n  var index = -1,\n      length = props.length,\n      valsLength = values.length,\n      result = {};\n\n  while (++index < length) {\n    var value = index < valsLength ? values[index] : undefined;\n    assignFunc(result, props[index], value);\n  }\n  return result;\n}\n\nmodule.exports = baseZipObject;\n","var assignValue = require('./_assignValue'),\n    baseZipObject = require('./_baseZipObject');\n\n/**\n * This method is like `_.fromPairs` except that it accepts two arrays,\n * one of property identifiers and one of corresponding values.\n *\n * @static\n * @memberOf _\n * @since 0.4.0\n * @category Array\n * @param {Array} [props=[]] The property identifiers.\n * @param {Array} [values=[]] The property values.\n * @returns {Object} Returns the new object.\n * @example\n *\n * _.zipObject(['a', 'b'], [1, 2]);\n * // => { 'a': 1, 'b': 2 }\n */\nfunction zipObject(props, values) {\n  return baseZipObject(props || [], values || [], assignValue);\n}\n\nmodule.exports = zipObject;\n","/* global window */\n\nvar lodash;\n\nif (typeof require === \"function\") {\n  try {\n    lodash = {\n      cloneDeep: require(\"lodash/cloneDeep\"),\n      constant: require(\"lodash/constant\"),\n      defaults: require(\"lodash/defaults\"),\n      each: require(\"lodash/each\"),\n      filter: require(\"lodash/filter\"),\n      find: require(\"lodash/find\"),\n      flatten: require(\"lodash/flatten\"),\n      forEach: require(\"lodash/forEach\"),\n      forIn: require(\"lodash/forIn\"),\n      has:  require(\"lodash/has\"),\n      isUndefined: require(\"lodash/isUndefined\"),\n      last: require(\"lodash/last\"),\n      map: require(\"lodash/map\"),\n      mapValues: require(\"lodash/mapValues\"),\n      max: require(\"lodash/max\"),\n      merge: require(\"lodash/merge\"),\n      min: require(\"lodash/min\"),\n      minBy: require(\"lodash/minBy\"),\n      now: require(\"lodash/now\"),\n      pick: require(\"lodash/pick\"),\n      range: require(\"lodash/range\"),\n      reduce: require(\"lodash/reduce\"),\n      sortBy: require(\"lodash/sortBy\"),\n      uniqueId: require(\"lodash/uniqueId\"),\n      values: require(\"lodash/values\"),\n      zipObject: require(\"lodash/zipObject\"),\n    };\n  } catch (e) {\n    // continue regardless of error\n  }\n}\n\nif (!lodash) {\n  lodash = window._;\n}\n\nmodule.exports = lodash;\n","/*\n * Simple doubly linked list implementation derived from Cormen, et al.,\n * \"Introduction to Algorithms\".\n */\n\nmodule.exports = List;\n\nfunction List() {\n  var sentinel = {};\n  sentinel._next = sentinel._prev = sentinel;\n  this._sentinel = sentinel;\n}\n\nList.prototype.dequeue = function() {\n  var sentinel = this._sentinel;\n  var entry = sentinel._prev;\n  if (entry !== sentinel) {\n    unlink(entry);\n    return entry;\n  }\n};\n\nList.prototype.enqueue = function(entry) {\n  var sentinel = this._sentinel;\n  if (entry._prev && entry._next) {\n    unlink(entry);\n  }\n  entry._next = sentinel._next;\n  sentinel._next._prev = entry;\n  sentinel._next = entry;\n  entry._prev = sentinel;\n};\n\nList.prototype.toString = function() {\n  var strs = [];\n  var sentinel = this._sentinel;\n  var curr = sentinel._prev;\n  while (curr !== sentinel) {\n    strs.push(JSON.stringify(curr, filterOutLinks));\n    curr = curr._prev;\n  }\n  return \"[\" + strs.join(\", \") + \"]\";\n};\n\nfunction unlink(entry) {\n  entry._prev._next = entry._next;\n  entry._next._prev = entry._prev;\n  delete entry._next;\n  delete entry._prev;\n}\n\nfunction filterOutLinks(k, v) {\n  if (k !== \"_next\" && k !== \"_prev\") {\n    return v;\n  }\n}\n","var _ = require(\"./lodash\");\nvar Graph = require(\"./graphlib\").Graph;\nvar List = require(\"./data/list\");\n\n/*\n * A greedy heuristic for finding a feedback arc set for a graph. A feedback\n * arc set is a set of edges that can be removed to make a graph acyclic.\n * The algorithm comes from: P. Eades, X. Lin, and W. F. Smyth, \"A fast and\n * effective heuristic for the feedback arc set problem.\" This implementation\n * adjusts that from the paper to allow for weighted edges.\n */\nmodule.exports = greedyFAS;\n\nvar DEFAULT_WEIGHT_FN = _.constant(1);\n\nfunction greedyFAS(g, weightFn) {\n  if (g.nodeCount() <= 1) {\n    return [];\n  }\n  var state = buildState(g, weightFn || DEFAULT_WEIGHT_FN);\n  var results = doGreedyFAS(state.graph, state.buckets, state.zeroIdx);\n\n  // Expand multi-edges\n  return _.flatten(_.map(results, function(e) {\n    return g.outEdges(e.v, e.w);\n  }), true);\n}\n\nfunction doGreedyFAS(g, buckets, zeroIdx) {\n  var results = [];\n  var sources = buckets[buckets.length - 1];\n  var sinks = buckets[0];\n\n  var entry;\n  while (g.nodeCount()) {\n    while ((entry = sinks.dequeue()))   { removeNode(g, buckets, zeroIdx, entry); }\n    while ((entry = sources.dequeue())) { removeNode(g, buckets, zeroIdx, entry); }\n    if (g.nodeCount()) {\n      for (var i = buckets.length - 2; i > 0; --i) {\n        entry = buckets[i].dequeue();\n        if (entry) {\n          results = results.concat(removeNode(g, buckets, zeroIdx, entry, true));\n          break;\n        }\n      }\n    }\n  }\n\n  return results;\n}\n\nfunction removeNode(g, buckets, zeroIdx, entry, collectPredecessors) {\n  var results = collectPredecessors ? [] : undefined;\n\n  _.forEach(g.inEdges(entry.v), function(edge) {\n    var weight = g.edge(edge);\n    var uEntry = g.node(edge.v);\n\n    if (collectPredecessors) {\n      results.push({ v: edge.v, w: edge.w });\n    }\n\n    uEntry.out -= weight;\n    assignBucket(buckets, zeroIdx, uEntry);\n  });\n\n  _.forEach(g.outEdges(entry.v), function(edge) {\n    var weight = g.edge(edge);\n    var w = edge.w;\n    var wEntry = g.node(w);\n    wEntry[\"in\"] -= weight;\n    assignBucket(buckets, zeroIdx, wEntry);\n  });\n\n  g.removeNode(entry.v);\n\n  return results;\n}\n\nfunction buildState(g, weightFn) {\n  var fasGraph = new Graph();\n  var maxIn = 0;\n  var maxOut = 0;\n\n  _.forEach(g.nodes(), function(v) {\n    fasGraph.setNode(v, { v: v, \"in\": 0, out: 0 });\n  });\n\n  // Aggregate weights on nodes, but also sum the weights across multi-edges\n  // into a single edge for the fasGraph.\n  _.forEach(g.edges(), function(e) {\n    var prevWeight = fasGraph.edge(e.v, e.w) || 0;\n    var weight = weightFn(e);\n    var edgeWeight = prevWeight + weight;\n    fasGraph.setEdge(e.v, e.w, edgeWeight);\n    maxOut = Math.max(maxOut, fasGraph.node(e.v).out += weight);\n    maxIn  = Math.max(maxIn,  fasGraph.node(e.w)[\"in\"]  += weight);\n  });\n\n  var buckets = _.range(maxOut + maxIn + 3).map(function() { return new List(); });\n  var zeroIdx = maxIn + 1;\n\n  _.forEach(fasGraph.nodes(), function(v) {\n    assignBucket(buckets, zeroIdx, fasGraph.node(v));\n  });\n\n  return { graph: fasGraph, buckets: buckets, zeroIdx: zeroIdx };\n}\n\nfunction assignBucket(buckets, zeroIdx, entry) {\n  if (!entry.out) {\n    buckets[0].enqueue(entry);\n  } else if (!entry[\"in\"]) {\n    buckets[buckets.length - 1].enqueue(entry);\n  } else {\n    buckets[entry.out - entry[\"in\"] + zeroIdx].enqueue(entry);\n  }\n}\n","\"use strict\";\n\nvar _ = require(\"./lodash\");\nvar greedyFAS = require(\"./greedy-fas\");\n\nmodule.exports = {\n  run: run,\n  undo: undo\n};\n\nfunction run(g) {\n  var fas = (g.graph().acyclicer === \"greedy\"\n    ? greedyFAS(g, weightFn(g))\n    : dfsFAS(g));\n  _.forEach(fas, function(e) {\n    var label = g.edge(e);\n    g.removeEdge(e);\n    label.forwardName = e.name;\n    label.reversed = true;\n    g.setEdge(e.w, e.v, label, _.uniqueId(\"rev\"));\n  });\n\n  function weightFn(g) {\n    return function(e) {\n      return g.edge(e).weight;\n    };\n  }\n}\n\nfunction dfsFAS(g) {\n  var fas = [];\n  var stack = {};\n  var visited = {};\n\n  function dfs(v) {\n    if (_.has(visited, v)) {\n      return;\n    }\n    visited[v] = true;\n    stack[v] = true;\n    _.forEach(g.outEdges(v), function(e) {\n      if (_.has(stack, e.w)) {\n        fas.push(e);\n      } else {\n        dfs(e.w);\n      }\n    });\n    delete stack[v];\n  }\n\n  _.forEach(g.nodes(), dfs);\n  return fas;\n}\n\nfunction undo(g) {\n  _.forEach(g.edges(), function(e) {\n    var label = g.edge(e);\n    if (label.reversed) {\n      g.removeEdge(e);\n\n      var forwardName = label.forwardName;\n      delete label.reversed;\n      delete label.forwardName;\n      g.setEdge(e.w, e.v, label, forwardName);\n    }\n  });\n}\n","/* eslint \"no-console\": off */\n\n\"use strict\";\n\nvar _ = require(\"./lodash\");\nvar Graph = require(\"./graphlib\").Graph;\n\nmodule.exports = {\n  addDummyNode: addDummyNode,\n  simplify: simplify,\n  asNonCompoundGraph: asNonCompoundGraph,\n  successorWeights: successorWeights,\n  predecessorWeights: predecessorWeights,\n  intersectRect: intersectRect,\n  buildLayerMatrix: buildLayerMatrix,\n  normalizeRanks: normalizeRanks,\n  removeEmptyRanks: removeEmptyRanks,\n  addBorderNode: addBorderNode,\n  maxRank: maxRank,\n  partition: partition,\n  time: time,\n  notime: notime\n};\n\n/*\n * Adds a dummy node to the graph and return v.\n */\nfunction addDummyNode(g, type, attrs, name) {\n  var v;\n  do {\n    v = _.uniqueId(name);\n  } while (g.hasNode(v));\n\n  attrs.dummy = type;\n  g.setNode(v, attrs);\n  return v;\n}\n\n/*\n * Returns a new graph with only simple edges. Handles aggregation of data\n * associated with multi-edges.\n */\nfunction simplify(g) {\n  var simplified = new Graph().setGraph(g.graph());\n  _.forEach(g.nodes(), function(v) { simplified.setNode(v, g.node(v)); });\n  _.forEach(g.edges(), function(e) {\n    var simpleLabel = simplified.edge(e.v, e.w) || { weight: 0, minlen: 1 };\n    var label = g.edge(e);\n    simplified.setEdge(e.v, e.w, {\n      weight: simpleLabel.weight + label.weight,\n      minlen: Math.max(simpleLabel.minlen, label.minlen)\n    });\n  });\n  return simplified;\n}\n\nfunction asNonCompoundGraph(g) {\n  var simplified = new Graph({ multigraph: g.isMultigraph() }).setGraph(g.graph());\n  _.forEach(g.nodes(), function(v) {\n    if (!g.children(v).length) {\n      simplified.setNode(v, g.node(v));\n    }\n  });\n  _.forEach(g.edges(), function(e) {\n    simplified.setEdge(e, g.edge(e));\n  });\n  return simplified;\n}\n\nfunction successorWeights(g) {\n  var weightMap = _.map(g.nodes(), function(v) {\n    var sucs = {};\n    _.forEach(g.outEdges(v), function(e) {\n      sucs[e.w] = (sucs[e.w] || 0) + g.edge(e).weight;\n    });\n    return sucs;\n  });\n  return _.zipObject(g.nodes(), weightMap);\n}\n\nfunction predecessorWeights(g) {\n  var weightMap = _.map(g.nodes(), function(v) {\n    var preds = {};\n    _.forEach(g.inEdges(v), function(e) {\n      preds[e.v] = (preds[e.v] || 0) + g.edge(e).weight;\n    });\n    return preds;\n  });\n  return _.zipObject(g.nodes(), weightMap);\n}\n\n/*\n * Finds where a line starting at point ({x, y}) would intersect a rectangle\n * ({x, y, width, height}) if it were pointing at the rectangle's center.\n */\nfunction intersectRect(rect, point) {\n  var x = rect.x;\n  var y = rect.y;\n\n  // Rectangle intersection algorithm from:\n  // http://math.stackexchange.com/questions/108113/find-edge-between-two-boxes\n  var dx = point.x - x;\n  var dy = point.y - y;\n  var w = rect.width / 2;\n  var h = rect.height / 2;\n\n  if (!dx && !dy) {\n    throw new Error(\"Not possible to find intersection inside of the rectangle\");\n  }\n\n  var sx, sy;\n  if (Math.abs(dy) * w > Math.abs(dx) * h) {\n    // Intersection is top or bottom of rect.\n    if (dy < 0) {\n      h = -h;\n    }\n    sx = h * dx / dy;\n    sy = h;\n  } else {\n    // Intersection is left or right of rect.\n    if (dx < 0) {\n      w = -w;\n    }\n    sx = w;\n    sy = w * dy / dx;\n  }\n\n  return { x: x + sx, y: y + sy };\n}\n\n/*\n * Given a DAG with each node assigned \"rank\" and \"order\" properties, this\n * function will produce a matrix with the ids of each node.\n */\nfunction buildLayerMatrix(g) {\n  var layering = _.map(_.range(maxRank(g) + 1), function() { return []; });\n  _.forEach(g.nodes(), function(v) {\n    var node = g.node(v);\n    var rank = node.rank;\n    if (!_.isUndefined(rank)) {\n      layering[rank][node.order] = v;\n    }\n  });\n  return layering;\n}\n\n/*\n * Adjusts the ranks for all nodes in the graph such that all nodes v have\n * rank(v) >= 0 and at least one node w has rank(w) = 0.\n */\nfunction normalizeRanks(g) {\n  var min = _.min(_.map(g.nodes(), function(v) { return g.node(v).rank; }));\n  _.forEach(g.nodes(), function(v) {\n    var node = g.node(v);\n    if (_.has(node, \"rank\")) {\n      node.rank -= min;\n    }\n  });\n}\n\nfunction removeEmptyRanks(g) {\n  // Ranks may not start at 0, so we need to offset them\n  var offset = _.min(_.map(g.nodes(), function(v) { return g.node(v).rank; }));\n\n  var layers = [];\n  _.forEach(g.nodes(), function(v) {\n    var rank = g.node(v).rank - offset;\n    if (!layers[rank]) {\n      layers[rank] = [];\n    }\n    layers[rank].push(v);\n  });\n\n  var delta = 0;\n  var nodeRankFactor = g.graph().nodeRankFactor;\n  _.forEach(layers, function(vs, i) {\n    if (_.isUndefined(vs) && i % nodeRankFactor !== 0) {\n      --delta;\n    } else if (delta) {\n      _.forEach(vs, function(v) { g.node(v).rank += delta; });\n    }\n  });\n}\n\nfunction addBorderNode(g, prefix, rank, order) {\n  var node = {\n    width: 0,\n    height: 0\n  };\n  if (arguments.length >= 4) {\n    node.rank = rank;\n    node.order = order;\n  }\n  return addDummyNode(g, \"border\", node, prefix);\n}\n\nfunction maxRank(g) {\n  return _.max(_.map(g.nodes(), function(v) {\n    var rank = g.node(v).rank;\n    if (!_.isUndefined(rank)) {\n      return rank;\n    }\n  }));\n}\n\n/*\n * Partition a collection into two groups: `lhs` and `rhs`. If the supplied\n * function returns true for an entry it goes into `lhs`. Otherwise it goes\n * into `rhs.\n */\nfunction partition(collection, fn) {\n  var result = { lhs: [], rhs: [] };\n  _.forEach(collection, function(value) {\n    if (fn(value)) {\n      result.lhs.push(value);\n    } else {\n      result.rhs.push(value);\n    }\n  });\n  return result;\n}\n\n/*\n * Returns a new function that wraps `fn` with a timer. The wrapper logs the\n * time it takes to execute the function.\n */\nfunction time(name, fn) {\n  var start = _.now();\n  try {\n    return fn();\n  } finally {\n    console.log(name + \" time: \" + (_.now() - start) + \"ms\");\n  }\n}\n\nfunction notime(name, fn) {\n  return fn();\n}\n","\"use strict\";\n\nvar _ = require(\"./lodash\");\nvar util = require(\"./util\");\n\nmodule.exports = {\n  run: run,\n  undo: undo\n};\n\n/*\n * Breaks any long edges in the graph into short segments that span 1 layer\n * each. This operation is undoable with the denormalize function.\n *\n * Pre-conditions:\n *\n *    1. The input graph is a DAG.\n *    2. Each node in the graph has a \"rank\" property.\n *\n * Post-condition:\n *\n *    1. All edges in the graph have a length of 1.\n *    2. Dummy nodes are added where edges have been split into segments.\n *    3. The graph is augmented with a \"dummyChains\" attribute which contains\n *       the first dummy in each chain of dummy nodes produced.\n */\nfunction run(g) {\n  g.graph().dummyChains = [];\n  _.forEach(g.edges(), function(edge) { normalizeEdge(g, edge); });\n}\n\nfunction normalizeEdge(g, e) {\n  var v = e.v;\n  var vRank = g.node(v).rank;\n  var w = e.w;\n  var wRank = g.node(w).rank;\n  var name = e.name;\n  var edgeLabel = g.edge(e);\n  var labelRank = edgeLabel.labelRank;\n\n  if (wRank === vRank + 1) return;\n\n  g.removeEdge(e);\n\n  var dummy, attrs, i;\n  for (i = 0, ++vRank; vRank < wRank; ++i, ++vRank) {\n    edgeLabel.points = [];\n    attrs = {\n      width: 0, height: 0,\n      edgeLabel: edgeLabel, edgeObj: e,\n      rank: vRank\n    };\n    dummy = util.addDummyNode(g, \"edge\", attrs, \"_d\");\n    if (vRank === labelRank) {\n      attrs.width = edgeLabel.width;\n      attrs.height = edgeLabel.height;\n      attrs.dummy = \"edge-label\";\n      attrs.labelpos = edgeLabel.labelpos;\n    }\n    g.setEdge(v, dummy, { weight: edgeLabel.weight }, name);\n    if (i === 0) {\n      g.graph().dummyChains.push(dummy);\n    }\n    v = dummy;\n  }\n\n  g.setEdge(v, w, { weight: edgeLabel.weight }, name);\n}\n\nfunction undo(g) {\n  _.forEach(g.graph().dummyChains, function(v) {\n    var node = g.node(v);\n    var origLabel = node.edgeLabel;\n    var w;\n    g.setEdge(node.edgeObj, origLabel);\n    while (node.dummy) {\n      w = g.successors(v)[0];\n      g.removeNode(v);\n      origLabel.points.push({ x: node.x, y: node.y });\n      if (node.dummy === \"edge-label\") {\n        origLabel.x = node.x;\n        origLabel.y = node.y;\n        origLabel.width = node.width;\n        origLabel.height = node.height;\n      }\n      v = w;\n      node = g.node(v);\n    }\n  });\n}\n","\"use strict\";\n\nvar _ = require(\"../lodash\");\n\nmodule.exports = {\n  longestPath: longestPath,\n  slack: slack\n};\n\n/*\n * Initializes ranks for the input graph using the longest path algorithm. This\n * algorithm scales well and is fast in practice, it yields rather poor\n * solutions. Nodes are pushed to the lowest layer possible, leaving the bottom\n * ranks wide and leaving edges longer than necessary. However, due to its\n * speed, this algorithm is good for getting an initial ranking that can be fed\n * into other algorithms.\n *\n * This algorithm does not normalize layers because it will be used by other\n * algorithms in most cases. If using this algorithm directly, be sure to\n * run normalize at the end.\n *\n * Pre-conditions:\n *\n *    1. Input graph is a DAG.\n *    2. Input graph node labels can be assigned properties.\n *\n * Post-conditions:\n *\n *    1. Each node will be assign an (unnormalized) \"rank\" property.\n */\nfunction longestPath(g) {\n  var visited = {};\n\n  function dfs(v) {\n    var label = g.node(v);\n    if (_.has(visited, v)) {\n      return label.rank;\n    }\n    visited[v] = true;\n\n    var rank = _.min(_.map(g.outEdges(v), function(e) {\n      return dfs(e.w) - g.edge(e).minlen;\n    }));\n\n    if (rank === Number.POSITIVE_INFINITY || // return value of _.map([]) for Lodash 3\n        rank === undefined || // return value of _.map([]) for Lodash 4\n        rank === null) { // return value of _.map([null])\n      rank = 0;\n    }\n\n    return (label.rank = rank);\n  }\n\n  _.forEach(g.sources(), dfs);\n}\n\n/*\n * Returns the amount of slack for the given edge. The slack is defined as the\n * difference between the length of the edge and its minimum length.\n */\nfunction slack(g, e) {\n  return g.node(e.w).rank - g.node(e.v).rank - g.edge(e).minlen;\n}\n","\"use strict\";\n\nvar _ = require(\"../lodash\");\nvar Graph = require(\"../graphlib\").Graph;\nvar slack = require(\"./util\").slack;\n\nmodule.exports = feasibleTree;\n\n/*\n * Constructs a spanning tree with tight edges and adjusted the input node's\n * ranks to achieve this. A tight edge is one that is has a length that matches\n * its \"minlen\" attribute.\n *\n * The basic structure for this function is derived from Gansner, et al., \"A\n * Technique for Drawing Directed Graphs.\"\n *\n * Pre-conditions:\n *\n *    1. Graph must be a DAG.\n *    2. Graph must be connected.\n *    3. Graph must have at least one node.\n *    5. Graph nodes must have been previously assigned a \"rank\" property that\n *       respects the \"minlen\" property of incident edges.\n *    6. Graph edges must have a \"minlen\" property.\n *\n * Post-conditions:\n *\n *    - Graph nodes will have their rank adjusted to ensure that all edges are\n *      tight.\n *\n * Returns a tree (undirected graph) that is constructed using only \"tight\"\n * edges.\n */\nfunction feasibleTree(g) {\n  var t = new Graph({ directed: false });\n\n  // Choose arbitrary node from which to start our tree\n  var start = g.nodes()[0];\n  var size = g.nodeCount();\n  t.setNode(start, {});\n\n  var edge, delta;\n  while (tightTree(t, g) < size) {\n    edge = findMinSlackEdge(t, g);\n    delta = t.hasNode(edge.v) ? slack(g, edge) : -slack(g, edge);\n    shiftRanks(t, g, delta);\n  }\n\n  return t;\n}\n\n/*\n * Finds a maximal tree of tight edges and returns the number of nodes in the\n * tree.\n */\nfunction tightTree(t, g) {\n  function dfs(v) {\n    _.forEach(g.nodeEdges(v), function(e) {\n      var edgeV = e.v,\n        w = (v === edgeV) ? e.w : edgeV;\n      if (!t.hasNode(w) && !slack(g, e)) {\n        t.setNode(w, {});\n        t.setEdge(v, w, {});\n        dfs(w);\n      }\n    });\n  }\n\n  _.forEach(t.nodes(), dfs);\n  return t.nodeCount();\n}\n\n/*\n * Finds the edge with the smallest slack that is incident on tree and returns\n * it.\n */\nfunction findMinSlackEdge(t, g) {\n  return _.minBy(g.edges(), function(e) {\n    if (t.hasNode(e.v) !== t.hasNode(e.w)) {\n      return slack(g, e);\n    }\n  });\n}\n\nfunction shiftRanks(t, g, delta) {\n  _.forEach(t.nodes(), function(v) {\n    g.node(v).rank += delta;\n  });\n}\n","\"use strict\";\n\nvar _ = require(\"../lodash\");\nvar feasibleTree = require(\"./feasible-tree\");\nvar slack = require(\"./util\").slack;\nvar initRank = require(\"./util\").longestPath;\nvar preorder = require(\"../graphlib\").alg.preorder;\nvar postorder = require(\"../graphlib\").alg.postorder;\nvar simplify = require(\"../util\").simplify;\n\nmodule.exports = networkSimplex;\n\n// Expose some internals for testing purposes\nnetworkSimplex.initLowLimValues = initLowLimValues;\nnetworkSimplex.initCutValues = initCutValues;\nnetworkSimplex.calcCutValue = calcCutValue;\nnetworkSimplex.leaveEdge = leaveEdge;\nnetworkSimplex.enterEdge = enterEdge;\nnetworkSimplex.exchangeEdges = exchangeEdges;\n\n/*\n * The network simplex algorithm assigns ranks to each node in the input graph\n * and iteratively improves the ranking to reduce the length of edges.\n *\n * Preconditions:\n *\n *    1. The input graph must be a DAG.\n *    2. All nodes in the graph must have an object value.\n *    3. All edges in the graph must have \"minlen\" and \"weight\" attributes.\n *\n * Postconditions:\n *\n *    1. All nodes in the graph will have an assigned \"rank\" attribute that has\n *       been optimized by the network simplex algorithm. Ranks start at 0.\n *\n *\n * A rough sketch of the algorithm is as follows:\n *\n *    1. Assign initial ranks to each node. We use the longest path algorithm,\n *       which assigns ranks to the lowest position possible. In general this\n *       leads to very wide bottom ranks and unnecessarily long edges.\n *    2. Construct a feasible tight tree. A tight tree is one such that all\n *       edges in the tree have no slack (difference between length of edge\n *       and minlen for the edge). This by itself greatly improves the assigned\n *       rankings by shorting edges.\n *    3. Iteratively find edges that have negative cut values. Generally a\n *       negative cut value indicates that the edge could be removed and a new\n *       tree edge could be added to produce a more compact graph.\n *\n * Much of the algorithms here are derived from Gansner, et al., \"A Technique\n * for Drawing Directed Graphs.\" The structure of the file roughly follows the\n * structure of the overall algorithm.\n */\nfunction networkSimplex(g) {\n  g = simplify(g);\n  initRank(g);\n  var t = feasibleTree(g);\n  initLowLimValues(t);\n  initCutValues(t, g);\n\n  var e, f;\n  while ((e = leaveEdge(t))) {\n    f = enterEdge(t, g, e);\n    exchangeEdges(t, g, e, f);\n  }\n}\n\n/*\n * Initializes cut values for all edges in the tree.\n */\nfunction initCutValues(t, g) {\n  var vs = postorder(t, t.nodes());\n  vs = vs.slice(0, vs.length - 1);\n  _.forEach(vs, function(v) {\n    assignCutValue(t, g, v);\n  });\n}\n\nfunction assignCutValue(t, g, child) {\n  var childLab = t.node(child);\n  var parent = childLab.parent;\n  t.edge(child, parent).cutvalue = calcCutValue(t, g, child);\n}\n\n/*\n * Given the tight tree, its graph, and a child in the graph calculate and\n * return the cut value for the edge between the child and its parent.\n */\nfunction calcCutValue(t, g, child) {\n  var childLab = t.node(child);\n  var parent = childLab.parent;\n  // True if the child is on the tail end of the edge in the directed graph\n  var childIsTail = true;\n  // The graph's view of the tree edge we're inspecting\n  var graphEdge = g.edge(child, parent);\n  // The accumulated cut value for the edge between this node and its parent\n  var cutValue = 0;\n\n  if (!graphEdge) {\n    childIsTail = false;\n    graphEdge = g.edge(parent, child);\n  }\n\n  cutValue = graphEdge.weight;\n\n  _.forEach(g.nodeEdges(child), function(e) {\n    var isOutEdge = e.v === child,\n      other = isOutEdge ? e.w : e.v;\n\n    if (other !== parent) {\n      var pointsToHead = isOutEdge === childIsTail,\n        otherWeight = g.edge(e).weight;\n\n      cutValue += pointsToHead ? otherWeight : -otherWeight;\n      if (isTreeEdge(t, child, other)) {\n        var otherCutValue = t.edge(child, other).cutvalue;\n        cutValue += pointsToHead ? -otherCutValue : otherCutValue;\n      }\n    }\n  });\n\n  return cutValue;\n}\n\nfunction initLowLimValues(tree, root) {\n  if (arguments.length < 2) {\n    root = tree.nodes()[0];\n  }\n  dfsAssignLowLim(tree, {}, 1, root);\n}\n\nfunction dfsAssignLowLim(tree, visited, nextLim, v, parent) {\n  var low = nextLim;\n  var label = tree.node(v);\n\n  visited[v] = true;\n  _.forEach(tree.neighbors(v), function(w) {\n    if (!_.has(visited, w)) {\n      nextLim = dfsAssignLowLim(tree, visited, nextLim, w, v);\n    }\n  });\n\n  label.low = low;\n  label.lim = nextLim++;\n  if (parent) {\n    label.parent = parent;\n  } else {\n    // TODO should be able to remove this when we incrementally update low lim\n    delete label.parent;\n  }\n\n  return nextLim;\n}\n\nfunction leaveEdge(tree) {\n  return _.find(tree.edges(), function(e) {\n    return tree.edge(e).cutvalue < 0;\n  });\n}\n\nfunction enterEdge(t, g, edge) {\n  var v = edge.v;\n  var w = edge.w;\n\n  // For the rest of this function we assume that v is the tail and w is the\n  // head, so if we don't have this edge in the graph we should flip it to\n  // match the correct orientation.\n  if (!g.hasEdge(v, w)) {\n    v = edge.w;\n    w = edge.v;\n  }\n\n  var vLabel = t.node(v);\n  var wLabel = t.node(w);\n  var tailLabel = vLabel;\n  var flip = false;\n\n  // If the root is in the tail of the edge then we need to flip the logic that\n  // checks for the head and tail nodes in the candidates function below.\n  if (vLabel.lim > wLabel.lim) {\n    tailLabel = wLabel;\n    flip = true;\n  }\n\n  var candidates = _.filter(g.edges(), function(edge) {\n    return flip === isDescendant(t, t.node(edge.v), tailLabel) &&\n           flip !== isDescendant(t, t.node(edge.w), tailLabel);\n  });\n\n  return _.minBy(candidates, function(edge) { return slack(g, edge); });\n}\n\nfunction exchangeEdges(t, g, e, f) {\n  var v = e.v;\n  var w = e.w;\n  t.removeEdge(v, w);\n  t.setEdge(f.v, f.w, {});\n  initLowLimValues(t);\n  initCutValues(t, g);\n  updateRanks(t, g);\n}\n\nfunction updateRanks(t, g) {\n  var root = _.find(t.nodes(), function(v) { return !g.node(v).parent; });\n  var vs = preorder(t, root);\n  vs = vs.slice(1);\n  _.forEach(vs, function(v) {\n    var parent = t.node(v).parent,\n      edge = g.edge(v, parent),\n      flipped = false;\n\n    if (!edge) {\n      edge = g.edge(parent, v);\n      flipped = true;\n    }\n\n    g.node(v).rank = g.node(parent).rank + (flipped ? edge.minlen : -edge.minlen);\n  });\n}\n\n/*\n * Returns true if the edge is in the tree.\n */\nfunction isTreeEdge(tree, u, v) {\n  return tree.hasEdge(u, v);\n}\n\n/*\n * Returns true if the specified node is descendant of the root node per the\n * assigned low and lim attributes in the tree.\n */\nfunction isDescendant(tree, vLabel, rootLabel) {\n  return rootLabel.low <= vLabel.lim && vLabel.lim <= rootLabel.lim;\n}\n","\"use strict\";\n\nvar rankUtil = require(\"./util\");\nvar longestPath = rankUtil.longestPath;\nvar feasibleTree = require(\"./feasible-tree\");\nvar networkSimplex = require(\"./network-simplex\");\n\nmodule.exports = rank;\n\n/*\n * Assigns a rank to each node in the input graph that respects the \"minlen\"\n * constraint specified on edges between nodes.\n *\n * This basic structure is derived from Gansner, et al., \"A Technique for\n * Drawing Directed Graphs.\"\n *\n * Pre-conditions:\n *\n *    1. Graph must be a connected DAG\n *    2. Graph nodes must be objects\n *    3. Graph edges must have \"weight\" and \"minlen\" attributes\n *\n * Post-conditions:\n *\n *    1. Graph nodes will have a \"rank\" attribute based on the results of the\n *       algorithm. Ranks can start at any index (including negative), we'll\n *       fix them up later.\n */\nfunction rank(g) {\n  switch(g.graph().ranker) {\n  case \"network-simplex\": networkSimplexRanker(g); break;\n  case \"tight-tree\": tightTreeRanker(g); break;\n  case \"longest-path\": longestPathRanker(g); break;\n  default: networkSimplexRanker(g);\n  }\n}\n\n// A fast and simple ranker, but results are far from optimal.\nvar longestPathRanker = longestPath;\n\nfunction tightTreeRanker(g) {\n  longestPath(g);\n  feasibleTree(g);\n}\n\nfunction networkSimplexRanker(g) {\n  networkSimplex(g);\n}\n","var _ = require(\"./lodash\");\n\nmodule.exports = parentDummyChains;\n\nfunction parentDummyChains(g) {\n  var postorderNums = postorder(g);\n\n  _.forEach(g.graph().dummyChains, function(v) {\n    var node = g.node(v);\n    var edgeObj = node.edgeObj;\n    var pathData = findPath(g, postorderNums, edgeObj.v, edgeObj.w);\n    var path = pathData.path;\n    var lca = pathData.lca;\n    var pathIdx = 0;\n    var pathV = path[pathIdx];\n    var ascending = true;\n\n    while (v !== edgeObj.w) {\n      node = g.node(v);\n\n      if (ascending) {\n        while ((pathV = path[pathIdx]) !== lca &&\n               g.node(pathV).maxRank < node.rank) {\n          pathIdx++;\n        }\n\n        if (pathV === lca) {\n          ascending = false;\n        }\n      }\n\n      if (!ascending) {\n        while (pathIdx < path.length - 1 &&\n               g.node(pathV = path[pathIdx + 1]).minRank <= node.rank) {\n          pathIdx++;\n        }\n        pathV = path[pathIdx];\n      }\n\n      g.setParent(v, pathV);\n      v = g.successors(v)[0];\n    }\n  });\n}\n\n// Find a path from v to w through the lowest common ancestor (LCA). Return the\n// full path and the LCA.\nfunction findPath(g, postorderNums, v, w) {\n  var vPath = [];\n  var wPath = [];\n  var low = Math.min(postorderNums[v].low, postorderNums[w].low);\n  var lim = Math.max(postorderNums[v].lim, postorderNums[w].lim);\n  var parent;\n  var lca;\n\n  // Traverse up from v to find the LCA\n  parent = v;\n  do {\n    parent = g.parent(parent);\n    vPath.push(parent);\n  } while (parent &&\n           (postorderNums[parent].low > low || lim > postorderNums[parent].lim));\n  lca = parent;\n\n  // Traverse from w to LCA\n  parent = w;\n  while ((parent = g.parent(parent)) !== lca) {\n    wPath.push(parent);\n  }\n\n  return { path: vPath.concat(wPath.reverse()), lca: lca };\n}\n\nfunction postorder(g) {\n  var result = {};\n  var lim = 0;\n\n  function dfs(v) {\n    var low = lim;\n    _.forEach(g.children(v), dfs);\n    result[v] = { low: low, lim: lim++ };\n  }\n  _.forEach(g.children(), dfs);\n\n  return result;\n}\n","var _ = require(\"./lodash\");\nvar util = require(\"./util\");\n\nmodule.exports = {\n  run: run,\n  cleanup: cleanup\n};\n\n/*\n * A nesting graph creates dummy nodes for the tops and bottoms of subgraphs,\n * adds appropriate edges to ensure that all cluster nodes are placed between\n * these boundries, and ensures that the graph is connected.\n *\n * In addition we ensure, through the use of the minlen property, that nodes\n * and subgraph border nodes to not end up on the same rank.\n *\n * Preconditions:\n *\n *    1. Input graph is a DAG\n *    2. Nodes in the input graph has a minlen attribute\n *\n * Postconditions:\n *\n *    1. Input graph is connected.\n *    2. Dummy nodes are added for the tops and bottoms of subgraphs.\n *    3. The minlen attribute for nodes is adjusted to ensure nodes do not\n *       get placed on the same rank as subgraph border nodes.\n *\n * The nesting graph idea comes from Sander, \"Layout of Compound Directed\n * Graphs.\"\n */\nfunction run(g) {\n  var root = util.addDummyNode(g, \"root\", {}, \"_root\");\n  var depths = treeDepths(g);\n  var height = _.max(_.values(depths)) - 1; // Note: depths is an Object not an array\n  var nodeSep = 2 * height + 1;\n\n  g.graph().nestingRoot = root;\n\n  // Multiply minlen by nodeSep to align nodes on non-border ranks.\n  _.forEach(g.edges(), function(e) { g.edge(e).minlen *= nodeSep; });\n\n  // Calculate a weight that is sufficient to keep subgraphs vertically compact\n  var weight = sumWeights(g) + 1;\n\n  // Create border nodes and link them up\n  _.forEach(g.children(), function(child) {\n    dfs(g, root, nodeSep, weight, height, depths, child);\n  });\n\n  // Save the multiplier for node layers for later removal of empty border\n  // layers.\n  g.graph().nodeRankFactor = nodeSep;\n}\n\nfunction dfs(g, root, nodeSep, weight, height, depths, v) {\n  var children = g.children(v);\n  if (!children.length) {\n    if (v !== root) {\n      g.setEdge(root, v, { weight: 0, minlen: nodeSep });\n    }\n    return;\n  }\n\n  var top = util.addBorderNode(g, \"_bt\");\n  var bottom = util.addBorderNode(g, \"_bb\");\n  var label = g.node(v);\n\n  g.setParent(top, v);\n  label.borderTop = top;\n  g.setParent(bottom, v);\n  label.borderBottom = bottom;\n\n  _.forEach(children, function(child) {\n    dfs(g, root, nodeSep, weight, height, depths, child);\n\n    var childNode = g.node(child);\n    var childTop = childNode.borderTop ? childNode.borderTop : child;\n    var childBottom = childNode.borderBottom ? childNode.borderBottom : child;\n    var thisWeight = childNode.borderTop ? weight : 2 * weight;\n    var minlen = childTop !== childBottom ? 1 : height - depths[v] + 1;\n\n    g.setEdge(top, childTop, {\n      weight: thisWeight,\n      minlen: minlen,\n      nestingEdge: true\n    });\n\n    g.setEdge(childBottom, bottom, {\n      weight: thisWeight,\n      minlen: minlen,\n      nestingEdge: true\n    });\n  });\n\n  if (!g.parent(v)) {\n    g.setEdge(root, top, { weight: 0, minlen: height + depths[v] });\n  }\n}\n\nfunction treeDepths(g) {\n  var depths = {};\n  function dfs(v, depth) {\n    var children = g.children(v);\n    if (children && children.length) {\n      _.forEach(children, function(child) {\n        dfs(child, depth + 1);\n      });\n    }\n    depths[v] = depth;\n  }\n  _.forEach(g.children(), function(v) { dfs(v, 1); });\n  return depths;\n}\n\nfunction sumWeights(g) {\n  return _.reduce(g.edges(), function(acc, e) {\n    return acc + g.edge(e).weight;\n  }, 0);\n}\n\nfunction cleanup(g) {\n  var graphLabel = g.graph();\n  g.removeNode(graphLabel.nestingRoot);\n  delete graphLabel.nestingRoot;\n  _.forEach(g.edges(), function(e) {\n    var edge = g.edge(e);\n    if (edge.nestingEdge) {\n      g.removeEdge(e);\n    }\n  });\n}\n","var _ = require(\"./lodash\");\nvar util = require(\"./util\");\n\nmodule.exports = addBorderSegments;\n\nfunction addBorderSegments(g) {\n  function dfs(v) {\n    var children = g.children(v);\n    var node = g.node(v);\n    if (children.length) {\n      _.forEach(children, dfs);\n    }\n\n    if (_.has(node, \"minRank\")) {\n      node.borderLeft = [];\n      node.borderRight = [];\n      for (var rank = node.minRank, maxRank = node.maxRank + 1;\n        rank < maxRank;\n        ++rank) {\n        addBorderNode(g, \"borderLeft\", \"_bl\", v, node, rank);\n        addBorderNode(g, \"borderRight\", \"_br\", v, node, rank);\n      }\n    }\n  }\n\n  _.forEach(g.children(), dfs);\n}\n\nfunction addBorderNode(g, prop, prefix, sg, sgNode, rank) {\n  var label = { width: 0, height: 0, rank: rank, borderType: prop };\n  var prev = sgNode[prop][rank - 1];\n  var curr = util.addDummyNode(g, \"border\", label, prefix);\n  sgNode[prop][rank] = curr;\n  g.setParent(curr, sg);\n  if (prev) {\n    g.setEdge(prev, curr, { weight: 1 });\n  }\n}\n","\"use strict\";\n\nvar _ = require(\"./lodash\");\n\nmodule.exports = {\n  adjust: adjust,\n  undo: undo\n};\n\nfunction adjust(g) {\n  var rankDir = g.graph().rankdir.toLowerCase();\n  if (rankDir === \"lr\" || rankDir === \"rl\") {\n    swapWidthHeight(g);\n  }\n}\n\nfunction undo(g) {\n  var rankDir = g.graph().rankdir.toLowerCase();\n  if (rankDir === \"bt\" || rankDir === \"rl\") {\n    reverseY(g);\n  }\n\n  if (rankDir === \"lr\" || rankDir === \"rl\") {\n    swapXY(g);\n    swapWidthHeight(g);\n  }\n}\n\nfunction swapWidthHeight(g) {\n  _.forEach(g.nodes(), function(v) { swapWidthHeightOne(g.node(v)); });\n  _.forEach(g.edges(), function(e) { swapWidthHeightOne(g.edge(e)); });\n}\n\nfunction swapWidthHeightOne(attrs) {\n  var w = attrs.width;\n  attrs.width = attrs.height;\n  attrs.height = w;\n}\n\nfunction reverseY(g) {\n  _.forEach(g.nodes(), function(v) { reverseYOne(g.node(v)); });\n\n  _.forEach(g.edges(), function(e) {\n    var edge = g.edge(e);\n    _.forEach(edge.points, reverseYOne);\n    if (_.has(edge, \"y\")) {\n      reverseYOne(edge);\n    }\n  });\n}\n\nfunction reverseYOne(attrs) {\n  attrs.y = -attrs.y;\n}\n\nfunction swapXY(g) {\n  _.forEach(g.nodes(), function(v) { swapXYOne(g.node(v)); });\n\n  _.forEach(g.edges(), function(e) {\n    var edge = g.edge(e);\n    _.forEach(edge.points, swapXYOne);\n    if (_.has(edge, \"x\")) {\n      swapXYOne(edge);\n    }\n  });\n}\n\nfunction swapXYOne(attrs) {\n  var x = attrs.x;\n  attrs.x = attrs.y;\n  attrs.y = x;\n}\n","\"use strict\";\n\nvar _ = require(\"../lodash\");\n\nmodule.exports = initOrder;\n\n/*\n * Assigns an initial order value for each node by performing a DFS search\n * starting from nodes in the first rank. Nodes are assigned an order in their\n * rank as they are first visited.\n *\n * This approach comes from Gansner, et al., \"A Technique for Drawing Directed\n * Graphs.\"\n *\n * Returns a layering matrix with an array per layer and each layer sorted by\n * the order of its nodes.\n */\nfunction initOrder(g) {\n  var visited = {};\n  var simpleNodes = _.filter(g.nodes(), function(v) {\n    return !g.children(v).length;\n  });\n  var maxRank = _.max(_.map(simpleNodes, function(v) { return g.node(v).rank; }));\n  var layers = _.map(_.range(maxRank + 1), function() { return []; });\n\n  function dfs(v) {\n    if (_.has(visited, v)) return;\n    visited[v] = true;\n    var node = g.node(v);\n    layers[node.rank].push(v);\n    _.forEach(g.successors(v), dfs);\n  }\n\n  var orderedVs = _.sortBy(simpleNodes, function(v) { return g.node(v).rank; });\n  _.forEach(orderedVs, dfs);\n\n  return layers;\n}\n","\"use strict\";\n\nvar _ = require(\"../lodash\");\n\nmodule.exports = crossCount;\n\n/*\n * A function that takes a layering (an array of layers, each with an array of\n * ordererd nodes) and a graph and returns a weighted crossing count.\n *\n * Pre-conditions:\n *\n *    1. Input graph must be simple (not a multigraph), directed, and include\n *       only simple edges.\n *    2. Edges in the input graph must have assigned weights.\n *\n * Post-conditions:\n *\n *    1. The graph and layering matrix are left unchanged.\n *\n * This algorithm is derived from Barth, et al., \"Bilayer Cross Counting.\"\n */\nfunction crossCount(g, layering) {\n  var cc = 0;\n  for (var i = 1; i < layering.length; ++i) {\n    cc += twoLayerCrossCount(g, layering[i-1], layering[i]);\n  }\n  return cc;\n}\n\nfunction twoLayerCrossCount(g, northLayer, southLayer) {\n  // Sort all of the edges between the north and south layers by their position\n  // in the north layer and then the south. Map these edges to the position of\n  // their head in the south layer.\n  var southPos = _.zipObject(southLayer,\n    _.map(southLayer, function (v, i) { return i; }));\n  var southEntries = _.flatten(_.map(northLayer, function(v) {\n    return _.sortBy(_.map(g.outEdges(v), function(e) {\n      return { pos: southPos[e.w], weight: g.edge(e).weight };\n    }), \"pos\");\n  }), true);\n\n  // Build the accumulator tree\n  var firstIndex = 1;\n  while (firstIndex < southLayer.length) firstIndex <<= 1;\n  var treeSize = 2 * firstIndex - 1;\n  firstIndex -= 1;\n  var tree = _.map(new Array(treeSize), function() { return 0; });\n\n  // Calculate the weighted crossings\n  var cc = 0;\n  _.forEach(southEntries.forEach(function(entry) {\n    var index = entry.pos + firstIndex;\n    tree[index] += entry.weight;\n    var weightSum = 0;\n    while (index > 0) {\n      if (index % 2) {\n        weightSum += tree[index + 1];\n      }\n      index = (index - 1) >> 1;\n      tree[index] += entry.weight;\n    }\n    cc += entry.weight * weightSum;\n  }));\n\n  return cc;\n}\n","var _ = require(\"../lodash\");\n\nmodule.exports = barycenter;\n\nfunction barycenter(g, movable) {\n  return _.map(movable, function(v) {\n    var inV = g.inEdges(v);\n    if (!inV.length) {\n      return { v: v };\n    } else {\n      var result = _.reduce(inV, function(acc, e) {\n        var edge = g.edge(e),\n          nodeU = g.node(e.v);\n        return {\n          sum: acc.sum + (edge.weight * nodeU.order),\n          weight: acc.weight + edge.weight\n        };\n      }, { sum: 0, weight: 0 });\n\n      return {\n        v: v,\n        barycenter: result.sum / result.weight,\n        weight: result.weight\n      };\n    }\n  });\n}\n\n","\"use strict\";\n\nvar _ = require(\"../lodash\");\n\nmodule.exports = resolveConflicts;\n\n/*\n * Given a list of entries of the form {v, barycenter, weight} and a\n * constraint graph this function will resolve any conflicts between the\n * constraint graph and the barycenters for the entries. If the barycenters for\n * an entry would violate a constraint in the constraint graph then we coalesce\n * the nodes in the conflict into a new node that respects the contraint and\n * aggregates barycenter and weight information.\n *\n * This implementation is based on the description in Forster, \"A Fast and\n * Simple Hueristic for Constrained Two-Level Crossing Reduction,\" thought it\n * differs in some specific details.\n *\n * Pre-conditions:\n *\n *    1. Each entry has the form {v, barycenter, weight}, or if the node has\n *       no barycenter, then {v}.\n *\n * Returns:\n *\n *    A new list of entries of the form {vs, i, barycenter, weight}. The list\n *    `vs` may either be a singleton or it may be an aggregation of nodes\n *    ordered such that they do not violate constraints from the constraint\n *    graph. The property `i` is the lowest original index of any of the\n *    elements in `vs`.\n */\nfunction resolveConflicts(entries, cg) {\n  var mappedEntries = {};\n  _.forEach(entries, function(entry, i) {\n    var tmp = mappedEntries[entry.v] = {\n      indegree: 0,\n      \"in\": [],\n      out: [],\n      vs: [entry.v],\n      i: i\n    };\n    if (!_.isUndefined(entry.barycenter)) {\n      tmp.barycenter = entry.barycenter;\n      tmp.weight = entry.weight;\n    }\n  });\n\n  _.forEach(cg.edges(), function(e) {\n    var entryV = mappedEntries[e.v];\n    var entryW = mappedEntries[e.w];\n    if (!_.isUndefined(entryV) && !_.isUndefined(entryW)) {\n      entryW.indegree++;\n      entryV.out.push(mappedEntries[e.w]);\n    }\n  });\n\n  var sourceSet = _.filter(mappedEntries, function(entry) {\n    return !entry.indegree;\n  });\n\n  return doResolveConflicts(sourceSet);\n}\n\nfunction doResolveConflicts(sourceSet) {\n  var entries = [];\n\n  function handleIn(vEntry) {\n    return function(uEntry) {\n      if (uEntry.merged) {\n        return;\n      }\n      if (_.isUndefined(uEntry.barycenter) ||\n          _.isUndefined(vEntry.barycenter) ||\n          uEntry.barycenter >= vEntry.barycenter) {\n        mergeEntries(vEntry, uEntry);\n      }\n    };\n  }\n\n  function handleOut(vEntry) {\n    return function(wEntry) {\n      wEntry[\"in\"].push(vEntry);\n      if (--wEntry.indegree === 0) {\n        sourceSet.push(wEntry);\n      }\n    };\n  }\n\n  while (sourceSet.length) {\n    var entry = sourceSet.pop();\n    entries.push(entry);\n    _.forEach(entry[\"in\"].reverse(), handleIn(entry));\n    _.forEach(entry.out, handleOut(entry));\n  }\n\n  return _.map(_.filter(entries, function(entry) { return !entry.merged; }),\n    function(entry) {\n      return _.pick(entry, [\"vs\", \"i\", \"barycenter\", \"weight\"]);\n    });\n\n}\n\nfunction mergeEntries(target, source) {\n  var sum = 0;\n  var weight = 0;\n\n  if (target.weight) {\n    sum += target.barycenter * target.weight;\n    weight += target.weight;\n  }\n\n  if (source.weight) {\n    sum += source.barycenter * source.weight;\n    weight += source.weight;\n  }\n\n  target.vs = source.vs.concat(target.vs);\n  target.barycenter = sum / weight;\n  target.weight = weight;\n  target.i = Math.min(source.i, target.i);\n  source.merged = true;\n}\n","var _ = require(\"../lodash\");\nvar util = require(\"../util\");\n\nmodule.exports = sort;\n\nfunction sort(entries, biasRight) {\n  var parts = util.partition(entries, function(entry) {\n    return _.has(entry, \"barycenter\");\n  });\n  var sortable = parts.lhs,\n    unsortable = _.sortBy(parts.rhs, function(entry) { return -entry.i; }),\n    vs = [],\n    sum = 0,\n    weight = 0,\n    vsIndex = 0;\n\n  sortable.sort(compareWithBias(!!biasRight));\n\n  vsIndex = consumeUnsortable(vs, unsortable, vsIndex);\n\n  _.forEach(sortable, function (entry) {\n    vsIndex += entry.vs.length;\n    vs.push(entry.vs);\n    sum += entry.barycenter * entry.weight;\n    weight += entry.weight;\n    vsIndex = consumeUnsortable(vs, unsortable, vsIndex);\n  });\n\n  var result = { vs: _.flatten(vs, true) };\n  if (weight) {\n    result.barycenter = sum / weight;\n    result.weight = weight;\n  }\n  return result;\n}\n\nfunction consumeUnsortable(vs, unsortable, index) {\n  var last;\n  while (unsortable.length && (last = _.last(unsortable)).i <= index) {\n    unsortable.pop();\n    vs.push(last.vs);\n    index++;\n  }\n  return index;\n}\n\nfunction compareWithBias(bias) {\n  return function(entryV, entryW) {\n    if (entryV.barycenter < entryW.barycenter) {\n      return -1;\n    } else if (entryV.barycenter > entryW.barycenter) {\n      return 1;\n    }\n\n    return !bias ? entryV.i - entryW.i : entryW.i - entryV.i;\n  };\n}\n","var _ = require(\"../lodash\");\nvar barycenter = require(\"./barycenter\");\nvar resolveConflicts = require(\"./resolve-conflicts\");\nvar sort = require(\"./sort\");\n\nmodule.exports = sortSubgraph;\n\nfunction sortSubgraph(g, v, cg, biasRight) {\n  var movable = g.children(v);\n  var node = g.node(v);\n  var bl = node ? node.borderLeft : undefined;\n  var br = node ? node.borderRight: undefined;\n  var subgraphs = {};\n\n  if (bl) {\n    movable = _.filter(movable, function(w) {\n      return w !== bl && w !== br;\n    });\n  }\n\n  var barycenters = barycenter(g, movable);\n  _.forEach(barycenters, function(entry) {\n    if (g.children(entry.v).length) {\n      var subgraphResult = sortSubgraph(g, entry.v, cg, biasRight);\n      subgraphs[entry.v] = subgraphResult;\n      if (_.has(subgraphResult, \"barycenter\")) {\n        mergeBarycenters(entry, subgraphResult);\n      }\n    }\n  });\n\n  var entries = resolveConflicts(barycenters, cg);\n  expandSubgraphs(entries, subgraphs);\n\n  var result = sort(entries, biasRight);\n\n  if (bl) {\n    result.vs = _.flatten([bl, result.vs, br], true);\n    if (g.predecessors(bl).length) {\n      var blPred = g.node(g.predecessors(bl)[0]),\n        brPred = g.node(g.predecessors(br)[0]);\n      if (!_.has(result, \"barycenter\")) {\n        result.barycenter = 0;\n        result.weight = 0;\n      }\n      result.barycenter = (result.barycenter * result.weight +\n                           blPred.order + brPred.order) / (result.weight + 2);\n      result.weight += 2;\n    }\n  }\n\n  return result;\n}\n\nfunction expandSubgraphs(entries, subgraphs) {\n  _.forEach(entries, function(entry) {\n    entry.vs = _.flatten(entry.vs.map(function(v) {\n      if (subgraphs[v]) {\n        return subgraphs[v].vs;\n      }\n      return v;\n    }), true);\n  });\n}\n\nfunction mergeBarycenters(target, other) {\n  if (!_.isUndefined(target.barycenter)) {\n    target.barycenter = (target.barycenter * target.weight +\n                         other.barycenter * other.weight) /\n                        (target.weight + other.weight);\n    target.weight += other.weight;\n  } else {\n    target.barycenter = other.barycenter;\n    target.weight = other.weight;\n  }\n}\n","var _ = require(\"../lodash\");\nvar Graph = require(\"../graphlib\").Graph;\n\nmodule.exports = buildLayerGraph;\n\n/*\n * Constructs a graph that can be used to sort a layer of nodes. The graph will\n * contain all base and subgraph nodes from the request layer in their original\n * hierarchy and any edges that are incident on these nodes and are of the type\n * requested by the \"relationship\" parameter.\n *\n * Nodes from the requested rank that do not have parents are assigned a root\n * node in the output graph, which is set in the root graph attribute. This\n * makes it easy to walk the hierarchy of movable nodes during ordering.\n *\n * Pre-conditions:\n *\n *    1. Input graph is a DAG\n *    2. Base nodes in the input graph have a rank attribute\n *    3. Subgraph nodes in the input graph has minRank and maxRank attributes\n *    4. Edges have an assigned weight\n *\n * Post-conditions:\n *\n *    1. Output graph has all nodes in the movable rank with preserved\n *       hierarchy.\n *    2. Root nodes in the movable layer are made children of the node\n *       indicated by the root attribute of the graph.\n *    3. Non-movable nodes incident on movable nodes, selected by the\n *       relationship parameter, are included in the graph (without hierarchy).\n *    4. Edges incident on movable nodes, selected by the relationship\n *       parameter, are added to the output graph.\n *    5. The weights for copied edges are aggregated as need, since the output\n *       graph is not a multi-graph.\n */\nfunction buildLayerGraph(g, rank, relationship) {\n  var root = createRootNode(g),\n    result = new Graph({ compound: true }).setGraph({ root: root })\n      .setDefaultNodeLabel(function(v) { return g.node(v); });\n\n  _.forEach(g.nodes(), function(v) {\n    var node = g.node(v),\n      parent = g.parent(v);\n\n    if (node.rank === rank || node.minRank <= rank && rank <= node.maxRank) {\n      result.setNode(v);\n      result.setParent(v, parent || root);\n\n      // This assumes we have only short edges!\n      _.forEach(g[relationship](v), function(e) {\n        var u = e.v === v ? e.w : e.v,\n          edge = result.edge(u, v),\n          weight = !_.isUndefined(edge) ? edge.weight : 0;\n        result.setEdge(u, v, { weight: g.edge(e).weight + weight });\n      });\n\n      if (_.has(node, \"minRank\")) {\n        result.setNode(v, {\n          borderLeft: node.borderLeft[rank],\n          borderRight: node.borderRight[rank]\n        });\n      }\n    }\n  });\n\n  return result;\n}\n\nfunction createRootNode(g) {\n  var v;\n  while (g.hasNode((v = _.uniqueId(\"_root\"))));\n  return v;\n}\n","var _ = require(\"../lodash\");\n\nmodule.exports = addSubgraphConstraints;\n\nfunction addSubgraphConstraints(g, cg, vs) {\n  var prev = {},\n    rootPrev;\n\n  _.forEach(vs, function(v) {\n    var child = g.parent(v),\n      parent,\n      prevChild;\n    while (child) {\n      parent = g.parent(child);\n      if (parent) {\n        prevChild = prev[parent];\n        prev[parent] = child;\n      } else {\n        prevChild = rootPrev;\n        rootPrev = child;\n      }\n      if (prevChild && prevChild !== child) {\n        cg.setEdge(prevChild, child);\n        return;\n      }\n      child = parent;\n    }\n  });\n\n  /*\n  function dfs(v) {\n    var children = v ? g.children(v) : g.children();\n    if (children.length) {\n      var min = Number.POSITIVE_INFINITY,\n          subgraphs = [];\n      _.each(children, function(child) {\n        var childMin = dfs(child);\n        if (g.children(child).length) {\n          subgraphs.push({ v: child, order: childMin });\n        }\n        min = Math.min(min, childMin);\n      });\n      _.reduce(_.sortBy(subgraphs, \"order\"), function(prev, curr) {\n        cg.setEdge(prev.v, curr.v);\n        return curr;\n      });\n      return min;\n    }\n    return g.node(v).order;\n  }\n  dfs(undefined);\n  */\n}\n","\"use strict\";\n\nvar _ = require(\"../lodash\");\nvar initOrder = require(\"./init-order\");\nvar crossCount = require(\"./cross-count\");\nvar sortSubgraph = require(\"./sort-subgraph\");\nvar buildLayerGraph = require(\"./build-layer-graph\");\nvar addSubgraphConstraints = require(\"./add-subgraph-constraints\");\nvar Graph = require(\"../graphlib\").Graph;\nvar util = require(\"../util\");\n\nmodule.exports = order;\n\n/*\n * Applies heuristics to minimize edge crossings in the graph and sets the best\n * order solution as an order attribute on each node.\n *\n * Pre-conditions:\n *\n *    1. Graph must be DAG\n *    2. Graph nodes must be objects with a \"rank\" attribute\n *    3. Graph edges must have the \"weight\" attribute\n *\n * Post-conditions:\n *\n *    1. Graph nodes will have an \"order\" attribute based on the results of the\n *       algorithm.\n */\nfunction order(g) {\n  var maxRank = util.maxRank(g),\n    downLayerGraphs = buildLayerGraphs(g, _.range(1, maxRank + 1), \"inEdges\"),\n    upLayerGraphs = buildLayerGraphs(g, _.range(maxRank - 1, -1, -1), \"outEdges\");\n\n  var layering = initOrder(g);\n  assignOrder(g, layering);\n\n  var bestCC = Number.POSITIVE_INFINITY,\n    best;\n\n  for (var i = 0, lastBest = 0; lastBest < 4; ++i, ++lastBest) {\n    sweepLayerGraphs(i % 2 ? downLayerGraphs : upLayerGraphs, i % 4 >= 2);\n\n    layering = util.buildLayerMatrix(g);\n    var cc = crossCount(g, layering);\n    if (cc < bestCC) {\n      lastBest = 0;\n      best = _.cloneDeep(layering);\n      bestCC = cc;\n    }\n  }\n\n  assignOrder(g, best);\n}\n\nfunction buildLayerGraphs(g, ranks, relationship) {\n  return _.map(ranks, function(rank) {\n    return buildLayerGraph(g, rank, relationship);\n  });\n}\n\nfunction sweepLayerGraphs(layerGraphs, biasRight) {\n  var cg = new Graph();\n  _.forEach(layerGraphs, function(lg) {\n    var root = lg.graph().root;\n    var sorted = sortSubgraph(lg, root, cg, biasRight);\n    _.forEach(sorted.vs, function(v, i) {\n      lg.node(v).order = i;\n    });\n    addSubgraphConstraints(lg, cg, sorted.vs);\n  });\n}\n\nfunction assignOrder(g, layering) {\n  _.forEach(layering, function(layer) {\n    _.forEach(layer, function(v, i) {\n      g.node(v).order = i;\n    });\n  });\n}\n","\"use strict\";\n\nvar _ = require(\"../lodash\");\nvar Graph = require(\"../graphlib\").Graph;\nvar util = require(\"../util\");\n\n/*\n * This module provides coordinate assignment based on Brandes and Köpf, \"Fast\n * and Simple Horizontal Coordinate Assignment.\"\n */\n\nmodule.exports = {\n  positionX: positionX,\n  findType1Conflicts: findType1Conflicts,\n  findType2Conflicts: findType2Conflicts,\n  addConflict: addConflict,\n  hasConflict: hasConflict,\n  verticalAlignment: verticalAlignment,\n  horizontalCompaction: horizontalCompaction,\n  alignCoordinates: alignCoordinates,\n  findSmallestWidthAlignment: findSmallestWidthAlignment,\n  balance: balance\n};\n\n/*\n * Marks all edges in the graph with a type-1 conflict with the \"type1Conflict\"\n * property. A type-1 conflict is one where a non-inner segment crosses an\n * inner segment. An inner segment is an edge with both incident nodes marked\n * with the \"dummy\" property.\n *\n * This algorithm scans layer by layer, starting with the second, for type-1\n * conflicts between the current layer and the previous layer. For each layer\n * it scans the nodes from left to right until it reaches one that is incident\n * on an inner segment. It then scans predecessors to determine if they have\n * edges that cross that inner segment. At the end a final scan is done for all\n * nodes on the current rank to see if they cross the last visited inner\n * segment.\n *\n * This algorithm (safely) assumes that a dummy node will only be incident on a\n * single node in the layers being scanned.\n */\nfunction findType1Conflicts(g, layering) {\n  var conflicts = {};\n\n  function visitLayer(prevLayer, layer) {\n    var\n      // last visited node in the previous layer that is incident on an inner\n      // segment.\n      k0 = 0,\n      // Tracks the last node in this layer scanned for crossings with a type-1\n      // segment.\n      scanPos = 0,\n      prevLayerLength = prevLayer.length,\n      lastNode = _.last(layer);\n\n    _.forEach(layer, function(v, i) {\n      var w = findOtherInnerSegmentNode(g, v),\n        k1 = w ? g.node(w).order : prevLayerLength;\n\n      if (w || v === lastNode) {\n        _.forEach(layer.slice(scanPos, i +1), function(scanNode) {\n          _.forEach(g.predecessors(scanNode), function(u) {\n            var uLabel = g.node(u),\n              uPos = uLabel.order;\n            if ((uPos < k0 || k1 < uPos) &&\n                !(uLabel.dummy && g.node(scanNode).dummy)) {\n              addConflict(conflicts, u, scanNode);\n            }\n          });\n        });\n        scanPos = i + 1;\n        k0 = k1;\n      }\n    });\n\n    return layer;\n  }\n\n  _.reduce(layering, visitLayer);\n  return conflicts;\n}\n\nfunction findType2Conflicts(g, layering) {\n  var conflicts = {};\n\n  function scan(south, southPos, southEnd, prevNorthBorder, nextNorthBorder) {\n    var v;\n    _.forEach(_.range(southPos, southEnd), function(i) {\n      v = south[i];\n      if (g.node(v).dummy) {\n        _.forEach(g.predecessors(v), function(u) {\n          var uNode = g.node(u);\n          if (uNode.dummy &&\n              (uNode.order < prevNorthBorder || uNode.order > nextNorthBorder)) {\n            addConflict(conflicts, u, v);\n          }\n        });\n      }\n    });\n  }\n\n\n  function visitLayer(north, south) {\n    var prevNorthPos = -1,\n      nextNorthPos,\n      southPos = 0;\n\n    _.forEach(south, function(v, southLookahead) {\n      if (g.node(v).dummy === \"border\") {\n        var predecessors = g.predecessors(v);\n        if (predecessors.length) {\n          nextNorthPos = g.node(predecessors[0]).order;\n          scan(south, southPos, southLookahead, prevNorthPos, nextNorthPos);\n          southPos = southLookahead;\n          prevNorthPos = nextNorthPos;\n        }\n      }\n      scan(south, southPos, south.length, nextNorthPos, north.length);\n    });\n\n    return south;\n  }\n\n  _.reduce(layering, visitLayer);\n  return conflicts;\n}\n\nfunction findOtherInnerSegmentNode(g, v) {\n  if (g.node(v).dummy) {\n    return _.find(g.predecessors(v), function(u) {\n      return g.node(u).dummy;\n    });\n  }\n}\n\nfunction addConflict(conflicts, v, w) {\n  if (v > w) {\n    var tmp = v;\n    v = w;\n    w = tmp;\n  }\n\n  var conflictsV = conflicts[v];\n  if (!conflictsV) {\n    conflicts[v] = conflictsV = {};\n  }\n  conflictsV[w] = true;\n}\n\nfunction hasConflict(conflicts, v, w) {\n  if (v > w) {\n    var tmp = v;\n    v = w;\n    w = tmp;\n  }\n  return _.has(conflicts[v], w);\n}\n\n/*\n * Try to align nodes into vertical \"blocks\" where possible. This algorithm\n * attempts to align a node with one of its median neighbors. If the edge\n * connecting a neighbor is a type-1 conflict then we ignore that possibility.\n * If a previous node has already formed a block with a node after the node\n * we're trying to form a block with, we also ignore that possibility - our\n * blocks would be split in that scenario.\n */\nfunction verticalAlignment(g, layering, conflicts, neighborFn) {\n  var root = {},\n    align = {},\n    pos = {};\n\n  // We cache the position here based on the layering because the graph and\n  // layering may be out of sync. The layering matrix is manipulated to\n  // generate different extreme alignments.\n  _.forEach(layering, function(layer) {\n    _.forEach(layer, function(v, order) {\n      root[v] = v;\n      align[v] = v;\n      pos[v] = order;\n    });\n  });\n\n  _.forEach(layering, function(layer) {\n    var prevIdx = -1;\n    _.forEach(layer, function(v) {\n      var ws = neighborFn(v);\n      if (ws.length) {\n        ws = _.sortBy(ws, function(w) { return pos[w]; });\n        var mp = (ws.length - 1) / 2;\n        for (var i = Math.floor(mp), il = Math.ceil(mp); i <= il; ++i) {\n          var w = ws[i];\n          if (align[v] === v &&\n              prevIdx < pos[w] &&\n              !hasConflict(conflicts, v, w)) {\n            align[w] = v;\n            align[v] = root[v] = root[w];\n            prevIdx = pos[w];\n          }\n        }\n      }\n    });\n  });\n\n  return { root: root, align: align };\n}\n\nfunction horizontalCompaction(g, layering, root, align, reverseSep) {\n  // This portion of the algorithm differs from BK due to a number of problems.\n  // Instead of their algorithm we construct a new block graph and do two\n  // sweeps. The first sweep places blocks with the smallest possible\n  // coordinates. The second sweep removes unused space by moving blocks to the\n  // greatest coordinates without violating separation.\n  var xs = {},\n    blockG = buildBlockGraph(g, layering, root, reverseSep),\n    borderType = reverseSep ? \"borderLeft\" : \"borderRight\";\n\n  function iterate(setXsFunc, nextNodesFunc) {\n    var stack = blockG.nodes();\n    var elem = stack.pop();\n    var visited = {};\n    while (elem) {\n      if (visited[elem]) {\n        setXsFunc(elem);\n      } else {\n        visited[elem] = true;\n        stack.push(elem);\n        stack = stack.concat(nextNodesFunc(elem));\n      }\n\n      elem = stack.pop();\n    }\n  }\n\n  // First pass, assign smallest coordinates\n  function pass1(elem) {\n    xs[elem] = blockG.inEdges(elem).reduce(function(acc, e) {\n      return Math.max(acc, xs[e.v] + blockG.edge(e));\n    }, 0);\n  }\n\n  // Second pass, assign greatest coordinates\n  function pass2(elem) {\n    var min = blockG.outEdges(elem).reduce(function(acc, e) {\n      return Math.min(acc, xs[e.w] - blockG.edge(e));\n    }, Number.POSITIVE_INFINITY);\n\n    var node = g.node(elem);\n    if (min !== Number.POSITIVE_INFINITY && node.borderType !== borderType) {\n      xs[elem] = Math.max(xs[elem], min);\n    }\n  }\n\n  iterate(pass1, blockG.predecessors.bind(blockG));\n  iterate(pass2, blockG.successors.bind(blockG));\n\n  // Assign x coordinates to all nodes\n  _.forEach(align, function(v) {\n    xs[v] = xs[root[v]];\n  });\n\n  return xs;\n}\n\n\nfunction buildBlockGraph(g, layering, root, reverseSep) {\n  var blockGraph = new Graph(),\n    graphLabel = g.graph(),\n    sepFn = sep(graphLabel.nodesep, graphLabel.edgesep, reverseSep);\n\n  _.forEach(layering, function(layer) {\n    var u;\n    _.forEach(layer, function(v) {\n      var vRoot = root[v];\n      blockGraph.setNode(vRoot);\n      if (u) {\n        var uRoot = root[u],\n          prevMax = blockGraph.edge(uRoot, vRoot);\n        blockGraph.setEdge(uRoot, vRoot, Math.max(sepFn(g, v, u), prevMax || 0));\n      }\n      u = v;\n    });\n  });\n\n  return blockGraph;\n}\n\n/*\n * Returns the alignment that has the smallest width of the given alignments.\n */\nfunction findSmallestWidthAlignment(g, xss) {\n  return _.minBy(_.values(xss), function (xs) {\n    var max = Number.NEGATIVE_INFINITY;\n    var min = Number.POSITIVE_INFINITY;\n\n    _.forIn(xs, function (x, v) {\n      var halfWidth = width(g, v) / 2;\n\n      max = Math.max(x + halfWidth, max);\n      min = Math.min(x - halfWidth, min);\n    });\n\n    return max - min;\n  });\n}\n\n/*\n * Align the coordinates of each of the layout alignments such that\n * left-biased alignments have their minimum coordinate at the same point as\n * the minimum coordinate of the smallest width alignment and right-biased\n * alignments have their maximum coordinate at the same point as the maximum\n * coordinate of the smallest width alignment.\n */\nfunction alignCoordinates(xss, alignTo) {\n  var alignToVals = _.values(alignTo),\n    alignToMin = _.min(alignToVals),\n    alignToMax = _.max(alignToVals);\n\n  _.forEach([\"u\", \"d\"], function(vert) {\n    _.forEach([\"l\", \"r\"], function(horiz) {\n      var alignment = vert + horiz,\n        xs = xss[alignment],\n        delta;\n      if (xs === alignTo) return;\n\n      var xsVals = _.values(xs);\n      delta = horiz === \"l\" ? alignToMin - _.min(xsVals) : alignToMax - _.max(xsVals);\n\n      if (delta) {\n        xss[alignment] = _.mapValues(xs, function(x) { return x + delta; });\n      }\n    });\n  });\n}\n\nfunction balance(xss, align) {\n  return _.mapValues(xss.ul, function(ignore, v) {\n    if (align) {\n      return xss[align.toLowerCase()][v];\n    } else {\n      var xs = _.sortBy(_.map(xss, v));\n      return (xs[1] + xs[2]) / 2;\n    }\n  });\n}\n\nfunction positionX(g) {\n  var layering = util.buildLayerMatrix(g);\n  var conflicts = _.merge(\n    findType1Conflicts(g, layering),\n    findType2Conflicts(g, layering));\n\n  var xss = {};\n  var adjustedLayering;\n  _.forEach([\"u\", \"d\"], function(vert) {\n    adjustedLayering = vert === \"u\" ? layering : _.values(layering).reverse();\n    _.forEach([\"l\", \"r\"], function(horiz) {\n      if (horiz === \"r\") {\n        adjustedLayering = _.map(adjustedLayering, function(inner) {\n          return _.values(inner).reverse();\n        });\n      }\n\n      var neighborFn = (vert === \"u\" ? g.predecessors : g.successors).bind(g);\n      var align = verticalAlignment(g, adjustedLayering, conflicts, neighborFn);\n      var xs = horizontalCompaction(g, adjustedLayering,\n        align.root, align.align, horiz === \"r\");\n      if (horiz === \"r\") {\n        xs = _.mapValues(xs, function(x) { return -x; });\n      }\n      xss[vert + horiz] = xs;\n    });\n  });\n\n  var smallestWidth = findSmallestWidthAlignment(g, xss);\n  alignCoordinates(xss, smallestWidth);\n  return balance(xss, g.graph().align);\n}\n\nfunction sep(nodeSep, edgeSep, reverseSep) {\n  return function(g, v, w) {\n    var vLabel = g.node(v);\n    var wLabel = g.node(w);\n    var sum = 0;\n    var delta;\n\n    sum += vLabel.width / 2;\n    if (_.has(vLabel, \"labelpos\")) {\n      switch (vLabel.labelpos.toLowerCase()) {\n      case \"l\": delta = -vLabel.width / 2; break;\n      case \"r\": delta = vLabel.width / 2; break;\n      }\n    }\n    if (delta) {\n      sum += reverseSep ? delta : -delta;\n    }\n    delta = 0;\n\n    sum += (vLabel.dummy ? edgeSep : nodeSep) / 2;\n    sum += (wLabel.dummy ? edgeSep : nodeSep) / 2;\n\n    sum += wLabel.width / 2;\n    if (_.has(wLabel, \"labelpos\")) {\n      switch (wLabel.labelpos.toLowerCase()) {\n      case \"l\": delta = wLabel.width / 2; break;\n      case \"r\": delta = -wLabel.width / 2; break;\n      }\n    }\n    if (delta) {\n      sum += reverseSep ? delta : -delta;\n    }\n    delta = 0;\n\n    return sum;\n  };\n}\n\nfunction width(g, v) {\n  return g.node(v).width;\n}\n","\"use strict\";\n\nvar _ = require(\"../lodash\");\nvar util = require(\"../util\");\nvar positionX = require(\"./bk\").positionX;\n\nmodule.exports = position;\n\nfunction position(g) {\n  g = util.asNonCompoundGraph(g);\n\n  positionY(g);\n  _.forEach(positionX(g), function(x, v) {\n    g.node(v).x = x;\n  });\n}\n\nfunction positionY(g) {\n  var layering = util.buildLayerMatrix(g);\n  var rankSep = g.graph().ranksep;\n  var prevY = 0;\n  _.forEach(layering, function(layer) {\n    var maxHeight = _.max(_.map(layer, function(v) { return g.node(v).height; }));\n    _.forEach(layer, function(v) {\n      g.node(v).y = prevY + maxHeight / 2;\n    });\n    prevY += maxHeight + rankSep;\n  });\n}\n\n","\"use strict\";\n\nvar _ = require(\"./lodash\");\nvar acyclic = require(\"./acyclic\");\nvar normalize = require(\"./normalize\");\nvar rank = require(\"./rank\");\nvar normalizeRanks = require(\"./util\").normalizeRanks;\nvar parentDummyChains = require(\"./parent-dummy-chains\");\nvar removeEmptyRanks = require(\"./util\").removeEmptyRanks;\nvar nestingGraph = require(\"./nesting-graph\");\nvar addBorderSegments = require(\"./add-border-segments\");\nvar coordinateSystem = require(\"./coordinate-system\");\nvar order = require(\"./order\");\nvar position = require(\"./position\");\nvar util = require(\"./util\");\nvar Graph = require(\"./graphlib\").Graph;\n\nmodule.exports = layout;\n\nfunction layout(g, opts) {\n  var time = opts && opts.debugTiming ? util.time : util.notime;\n  time(\"layout\", function() {\n    var layoutGraph = \n      time(\"  buildLayoutGraph\", function() { return buildLayoutGraph(g); });\n    time(\"  runLayout\",        function() { runLayout(layoutGraph, time); });\n    time(\"  updateInputGraph\", function() { updateInputGraph(g, layoutGraph); });\n  });\n}\n\nfunction runLayout(g, time) {\n  time(\"    makeSpaceForEdgeLabels\", function() { makeSpaceForEdgeLabels(g); });\n  time(\"    removeSelfEdges\",        function() { removeSelfEdges(g); });\n  time(\"    acyclic\",                function() { acyclic.run(g); });\n  time(\"    nestingGraph.run\",       function() { nestingGraph.run(g); });\n  time(\"    rank\",                   function() { rank(util.asNonCompoundGraph(g)); });\n  time(\"    injectEdgeLabelProxies\", function() { injectEdgeLabelProxies(g); });\n  time(\"    removeEmptyRanks\",       function() { removeEmptyRanks(g); });\n  time(\"    nestingGraph.cleanup\",   function() { nestingGraph.cleanup(g); });\n  time(\"    normalizeRanks\",         function() { normalizeRanks(g); });\n  time(\"    assignRankMinMax\",       function() { assignRankMinMax(g); });\n  time(\"    removeEdgeLabelProxies\", function() { removeEdgeLabelProxies(g); });\n  time(\"    normalize.run\",          function() { normalize.run(g); });\n  time(\"    parentDummyChains\",      function() { parentDummyChains(g); });\n  time(\"    addBorderSegments\",      function() { addBorderSegments(g); });\n  time(\"    order\",                  function() { order(g); });\n  time(\"    insertSelfEdges\",        function() { insertSelfEdges(g); });\n  time(\"    adjustCoordinateSystem\", function() { coordinateSystem.adjust(g); });\n  time(\"    position\",               function() { position(g); });\n  time(\"    positionSelfEdges\",      function() { positionSelfEdges(g); });\n  time(\"    removeBorderNodes\",      function() { removeBorderNodes(g); });\n  time(\"    normalize.undo\",         function() { normalize.undo(g); });\n  time(\"    fixupEdgeLabelCoords\",   function() { fixupEdgeLabelCoords(g); });\n  time(\"    undoCoordinateSystem\",   function() { coordinateSystem.undo(g); });\n  time(\"    translateGraph\",         function() { translateGraph(g); });\n  time(\"    assignNodeIntersects\",   function() { assignNodeIntersects(g); });\n  time(\"    reversePoints\",          function() { reversePointsForReversedEdges(g); });\n  time(\"    acyclic.undo\",           function() { acyclic.undo(g); });\n}\n\n/*\n * Copies final layout information from the layout graph back to the input\n * graph. This process only copies whitelisted attributes from the layout graph\n * to the input graph, so it serves as a good place to determine what\n * attributes can influence layout.\n */\nfunction updateInputGraph(inputGraph, layoutGraph) {\n  _.forEach(inputGraph.nodes(), function(v) {\n    var inputLabel = inputGraph.node(v);\n    var layoutLabel = layoutGraph.node(v);\n\n    if (inputLabel) {\n      inputLabel.x = layoutLabel.x;\n      inputLabel.y = layoutLabel.y;\n\n      if (layoutGraph.children(v).length) {\n        inputLabel.width = layoutLabel.width;\n        inputLabel.height = layoutLabel.height;\n      }\n    }\n  });\n\n  _.forEach(inputGraph.edges(), function(e) {\n    var inputLabel = inputGraph.edge(e);\n    var layoutLabel = layoutGraph.edge(e);\n\n    inputLabel.points = layoutLabel.points;\n    if (_.has(layoutLabel, \"x\")) {\n      inputLabel.x = layoutLabel.x;\n      inputLabel.y = layoutLabel.y;\n    }\n  });\n\n  inputGraph.graph().width = layoutGraph.graph().width;\n  inputGraph.graph().height = layoutGraph.graph().height;\n}\n\nvar graphNumAttrs = [\"nodesep\", \"edgesep\", \"ranksep\", \"marginx\", \"marginy\"];\nvar graphDefaults = { ranksep: 50, edgesep: 20, nodesep: 50, rankdir: \"tb\" };\nvar graphAttrs = [\"acyclicer\", \"ranker\", \"rankdir\", \"align\"];\nvar nodeNumAttrs = [\"width\", \"height\"];\nvar nodeDefaults = { width: 0, height: 0 };\nvar edgeNumAttrs = [\"minlen\", \"weight\", \"width\", \"height\", \"labeloffset\"];\nvar edgeDefaults = {\n  minlen: 1, weight: 1, width: 0, height: 0,\n  labeloffset: 10, labelpos: \"r\"\n};\nvar edgeAttrs = [\"labelpos\"];\n\n/*\n * Constructs a new graph from the input graph, which can be used for layout.\n * This process copies only whitelisted attributes from the input graph to the\n * layout graph. Thus this function serves as a good place to determine what\n * attributes can influence layout.\n */\nfunction buildLayoutGraph(inputGraph) {\n  var g = new Graph({ multigraph: true, compound: true });\n  var graph = canonicalize(inputGraph.graph());\n\n  g.setGraph(_.merge({},\n    graphDefaults,\n    selectNumberAttrs(graph, graphNumAttrs),\n    _.pick(graph, graphAttrs)));\n\n  _.forEach(inputGraph.nodes(), function(v) {\n    var node = canonicalize(inputGraph.node(v));\n    g.setNode(v, _.defaults(selectNumberAttrs(node, nodeNumAttrs), nodeDefaults));\n    g.setParent(v, inputGraph.parent(v));\n  });\n\n  _.forEach(inputGraph.edges(), function(e) {\n    var edge = canonicalize(inputGraph.edge(e));\n    g.setEdge(e, _.merge({},\n      edgeDefaults,\n      selectNumberAttrs(edge, edgeNumAttrs),\n      _.pick(edge, edgeAttrs)));\n  });\n\n  return g;\n}\n\n/*\n * This idea comes from the Gansner paper: to account for edge labels in our\n * layout we split each rank in half by doubling minlen and halving ranksep.\n * Then we can place labels at these mid-points between nodes.\n *\n * We also add some minimal padding to the width to push the label for the edge\n * away from the edge itself a bit.\n */\nfunction makeSpaceForEdgeLabels(g) {\n  var graph = g.graph();\n  graph.ranksep /= 2;\n  _.forEach(g.edges(), function(e) {\n    var edge = g.edge(e);\n    edge.minlen *= 2;\n    if (edge.labelpos.toLowerCase() !== \"c\") {\n      if (graph.rankdir === \"TB\" || graph.rankdir === \"BT\") {\n        edge.width += edge.labeloffset;\n      } else {\n        edge.height += edge.labeloffset;\n      }\n    }\n  });\n}\n\n/*\n * Creates temporary dummy nodes that capture the rank in which each edge's\n * label is going to, if it has one of non-zero width and height. We do this\n * so that we can safely remove empty ranks while preserving balance for the\n * label's position.\n */\nfunction injectEdgeLabelProxies(g) {\n  _.forEach(g.edges(), function(e) {\n    var edge = g.edge(e);\n    if (edge.width && edge.height) {\n      var v = g.node(e.v);\n      var w = g.node(e.w);\n      var label = { rank: (w.rank - v.rank) / 2 + v.rank, e: e };\n      util.addDummyNode(g, \"edge-proxy\", label, \"_ep\");\n    }\n  });\n}\n\nfunction assignRankMinMax(g) {\n  var maxRank = 0;\n  _.forEach(g.nodes(), function(v) {\n    var node = g.node(v);\n    if (node.borderTop) {\n      node.minRank = g.node(node.borderTop).rank;\n      node.maxRank = g.node(node.borderBottom).rank;\n      maxRank = _.max(maxRank, node.maxRank);\n    }\n  });\n  g.graph().maxRank = maxRank;\n}\n\nfunction removeEdgeLabelProxies(g) {\n  _.forEach(g.nodes(), function(v) {\n    var node = g.node(v);\n    if (node.dummy === \"edge-proxy\") {\n      g.edge(node.e).labelRank = node.rank;\n      g.removeNode(v);\n    }\n  });\n}\n\nfunction translateGraph(g) {\n  var minX = Number.POSITIVE_INFINITY;\n  var maxX = 0;\n  var minY = Number.POSITIVE_INFINITY;\n  var maxY = 0;\n  var graphLabel = g.graph();\n  var marginX = graphLabel.marginx || 0;\n  var marginY = graphLabel.marginy || 0;\n\n  function getExtremes(attrs) {\n    var x = attrs.x;\n    var y = attrs.y;\n    var w = attrs.width;\n    var h = attrs.height;\n    minX = Math.min(minX, x - w / 2);\n    maxX = Math.max(maxX, x + w / 2);\n    minY = Math.min(minY, y - h / 2);\n    maxY = Math.max(maxY, y + h / 2);\n  }\n\n  _.forEach(g.nodes(), function(v) { getExtremes(g.node(v)); });\n  _.forEach(g.edges(), function(e) {\n    var edge = g.edge(e);\n    if (_.has(edge, \"x\")) {\n      getExtremes(edge);\n    }\n  });\n\n  minX -= marginX;\n  minY -= marginY;\n\n  _.forEach(g.nodes(), function(v) {\n    var node = g.node(v);\n    node.x -= minX;\n    node.y -= minY;\n  });\n\n  _.forEach(g.edges(), function(e) {\n    var edge = g.edge(e);\n    _.forEach(edge.points, function(p) {\n      p.x -= minX;\n      p.y -= minY;\n    });\n    if (_.has(edge, \"x\")) { edge.x -= minX; }\n    if (_.has(edge, \"y\")) { edge.y -= minY; }\n  });\n\n  graphLabel.width = maxX - minX + marginX;\n  graphLabel.height = maxY - minY + marginY;\n}\n\nfunction assignNodeIntersects(g) {\n  _.forEach(g.edges(), function(e) {\n    var edge = g.edge(e);\n    var nodeV = g.node(e.v);\n    var nodeW = g.node(e.w);\n    var p1, p2;\n    if (!edge.points) {\n      edge.points = [];\n      p1 = nodeW;\n      p2 = nodeV;\n    } else {\n      p1 = edge.points[0];\n      p2 = edge.points[edge.points.length - 1];\n    }\n    edge.points.unshift(util.intersectRect(nodeV, p1));\n    edge.points.push(util.intersectRect(nodeW, p2));\n  });\n}\n\nfunction fixupEdgeLabelCoords(g) {\n  _.forEach(g.edges(), function(e) {\n    var edge = g.edge(e);\n    if (_.has(edge, \"x\")) {\n      if (edge.labelpos === \"l\" || edge.labelpos === \"r\") {\n        edge.width -= edge.labeloffset;\n      }\n      switch (edge.labelpos) {\n      case \"l\": edge.x -= edge.width / 2 + edge.labeloffset; break;\n      case \"r\": edge.x += edge.width / 2 + edge.labeloffset; break;\n      }\n    }\n  });\n}\n\nfunction reversePointsForReversedEdges(g) {\n  _.forEach(g.edges(), function(e) {\n    var edge = g.edge(e);\n    if (edge.reversed) {\n      edge.points.reverse();\n    }\n  });\n}\n\nfunction removeBorderNodes(g) {\n  _.forEach(g.nodes(), function(v) {\n    if (g.children(v).length) {\n      var node = g.node(v);\n      var t = g.node(node.borderTop);\n      var b = g.node(node.borderBottom);\n      var l = g.node(_.last(node.borderLeft));\n      var r = g.node(_.last(node.borderRight));\n\n      node.width = Math.abs(r.x - l.x);\n      node.height = Math.abs(b.y - t.y);\n      node.x = l.x + node.width / 2;\n      node.y = t.y + node.height / 2;\n    }\n  });\n\n  _.forEach(g.nodes(), function(v) {\n    if (g.node(v).dummy === \"border\") {\n      g.removeNode(v);\n    }\n  });\n}\n\nfunction removeSelfEdges(g) {\n  _.forEach(g.edges(), function(e) {\n    if (e.v === e.w) {\n      var node = g.node(e.v);\n      if (!node.selfEdges) {\n        node.selfEdges = [];\n      }\n      node.selfEdges.push({ e: e, label: g.edge(e) });\n      g.removeEdge(e);\n    }\n  });\n}\n\nfunction insertSelfEdges(g) {\n  var layers = util.buildLayerMatrix(g);\n  _.forEach(layers, function(layer) {\n    var orderShift = 0;\n    _.forEach(layer, function(v, i) {\n      var node = g.node(v);\n      node.order = i + orderShift;\n      _.forEach(node.selfEdges, function(selfEdge) {\n        util.addDummyNode(g, \"selfedge\", {\n          width: selfEdge.label.width,\n          height: selfEdge.label.height,\n          rank: node.rank,\n          order: i + (++orderShift),\n          e: selfEdge.e,\n          label: selfEdge.label\n        }, \"_se\");\n      });\n      delete node.selfEdges;\n    });\n  });\n}\n\nfunction positionSelfEdges(g) {\n  _.forEach(g.nodes(), function(v) {\n    var node = g.node(v);\n    if (node.dummy === \"selfedge\") {\n      var selfNode = g.node(node.e.v);\n      var x = selfNode.x + selfNode.width / 2;\n      var y = selfNode.y;\n      var dx = node.x - x;\n      var dy = selfNode.height / 2;\n      g.setEdge(node.e, node.label);\n      g.removeNode(v);\n      node.label.points = [\n        { x: x + 2 * dx / 3, y: y - dy },\n        { x: x + 5 * dx / 6, y: y - dy },\n        { x: x +     dx    , y: y },\n        { x: x + 5 * dx / 6, y: y + dy },\n        { x: x + 2 * dx / 3, y: y + dy }\n      ];\n      node.label.x = node.x;\n      node.label.y = node.y;\n    }\n  });\n}\n\nfunction selectNumberAttrs(obj, attrs) {\n  return _.mapValues(_.pick(obj, attrs), Number);\n}\n\nfunction canonicalize(attrs) {\n  var newAttrs = {};\n  _.forEach(attrs, function(v, k) {\n    newAttrs[k.toLowerCase()] = v;\n  });\n  return newAttrs;\n}\n","var _ = require(\"./lodash\");\nvar util = require(\"./util\");\nvar Graph = require(\"./graphlib\").Graph;\n\nmodule.exports = {\n  debugOrdering: debugOrdering\n};\n\n/* istanbul ignore next */\nfunction debugOrdering(g) {\n  var layerMatrix = util.buildLayerMatrix(g);\n\n  var h = new Graph({ compound: true, multigraph: true }).setGraph({});\n\n  _.forEach(g.nodes(), function(v) {\n    h.setNode(v, { label: v });\n    h.setParent(v, \"layer\" + g.node(v).rank);\n  });\n\n  _.forEach(g.edges(), function(e) {\n    h.setEdge(e.v, e.w, {}, e.name);\n  });\n\n  _.forEach(layerMatrix, function(layer, i) {\n    var layerV = \"layer\" + i;\n    h.setNode(layerV, { rank: \"same\" });\n    _.reduce(layer, function(u, v) {\n      h.setEdge(u, v, { style: \"invis\" });\n      return v;\n    });\n  });\n\n  return h;\n}\n","module.exports = \"0.8.5\";\n","/*\nCopyright (c) 2012-2014 Chris Pettitt\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n*/\n\nmodule.exports = {\n  graphlib: require(\"./lib/graphlib\"),\n\n  layout: require(\"./lib/layout\"),\n  debug: require(\"./lib/debug\"),\n  util: {\n    time: require(\"./lib/util\").time,\n    notime: require(\"./lib/util\").notime\n  },\n  version: require(\"./lib/version\")\n};\n","import React from 'react'\nimport { Typography } from '@mui/material'\nimport { HelpPopover } from '../HelpPopover'\n\nexport const UndefinedNodeLabel = () => {\n  return (\n    <>\n      <Typography variant=\"smallText1\" className=\"description\">\n        Undefined\n      </Typography>\n\n      <HelpPopover\n        placement=\"top\"\n        markdownText=\"Provenance tracks the relationship \n          between data, code and analytical results.\"\n        helpUrl=\"https://help.synapse.org/docs/Provenance.1972470373.html\"\n      />\n    </>\n  )\n}\n","import React, { useMemo } from 'react'\nimport { Reference } from '@sage-bionetworks/synapse-types'\nimport IconSvg from '../IconSvg/IconSvg'\n\n/**\n * This node type is used if the user cannot access the entity for some reason\n */\nexport const EntityPlaceholderNodeLabel = (data: Reference) => {\n  const targetVersionNumberString = data.targetVersionNumber\n    ? `.${data.targetVersionNumber}`\n    : ''\n  const entityVersionString = `${data.targetId}${targetVersionNumberString}`\n  return useMemo(\n    () => (\n      <>\n        <div>\n          <IconSvg icon=\"fileOutlined\" />\n        </div>\n        <span>{entityVersionString}</span>\n      </>\n    ),\n    [entityVersionString],\n  )\n}\n","import React from 'react'\nimport { Node, Position, ConnectionLineType, Edge, MarkerType } from 'reactflow'\nimport { ActivityNodeLabel } from './ActivityNodeLabel'\nimport { EntityNodeLabel } from './EntityNodeLabel'\nimport {\n  ExpandGraphNodeDataProps,\n  ExpandGraphNodeLabel,\n} from './ExpandGraphNodeLabel'\nimport { ExternalGraphNodeLabel } from './ExternalGraphNodeLabel'\nimport dagre from 'dagre'\nimport { differenceWith, isEqual } from 'lodash-es'\nimport { UndefinedNodeLabel } from './UndefinedNodeLabel'\nimport { EntityHeader, Reference } from '@sage-bionetworks/synapse-types'\nimport { Activity, UsedURL } from '@sage-bionetworks/synapse-types'\nimport { EntityPlaceholderNodeLabel } from './EntityPlaceholderNodeLabel'\n\nexport enum NodeType {\n  ENTITY = 'EntityNode',\n  ENTITY_PLACEHOLDER = 'EntityPlaceholderNode',\n  EXTERNAL = 'ExternalNode',\n  ACTIVITY = 'ActivityNode',\n  EXPAND = 'ExpandNode',\n  UNDEFINED = 'UndefinedNode',\n}\n\ntype ProvenanceNodeLabelProps =\n  | UsedURL\n  | Activity\n  | ExpandGraphNodeDataProps\n  | EntityHeader\n  | Reference\n\nexport type ProvenanceNodeProps = {\n  type: NodeType\n  data: ProvenanceNodeLabelProps\n}\n\nexport type ProvenanceNodeData = {\n  label: JSX.Element\n  props: ProvenanceNodeLabelProps\n  type: NodeType\n}\n\nexport const getProvenanceNode = (props: ProvenanceNodeProps): Node => {\n  const { type, data } = props\n  let nodeLabel: JSX.Element\n  switch (type) {\n    case NodeType.ENTITY:\n      nodeLabel = <EntityNodeLabel {...(data as EntityHeader)} />\n      break\n    case NodeType.ENTITY_PLACEHOLDER:\n      nodeLabel = <EntityPlaceholderNodeLabel {...(data as Reference)} />\n      break\n    case NodeType.EXTERNAL:\n      nodeLabel = <ExternalGraphNodeLabel {...(data as UsedURL)} />\n      break\n    case NodeType.ACTIVITY:\n      nodeLabel = <ActivityNodeLabel {...(data as Activity)} />\n      break\n    case NodeType.EXPAND:\n      nodeLabel = (\n        <ExpandGraphNodeLabel {...(data as ExpandGraphNodeDataProps)} />\n      )\n      break\n    case NodeType.UNDEFINED:\n      nodeLabel = <UndefinedNodeLabel />\n      break\n    default:\n      nodeLabel = <p>Unrecognized node type: {type}</p>\n      break\n  }\n  const nodeData: ProvenanceNodeData = {\n    label: nodeLabel,\n    props: data,\n    type: type,\n  }\n  return {\n    id: getNodeId(props),\n    position: { x: 100, y: 100 }, // hard coded, let graph layout library figure this out\n    data: nodeData,\n    connectable: false,\n    draggable: false,\n    // selectable: false, // like to make unselectable, but node contents become non-interactive\n    className: `${type}`,\n  }\n}\n\nexport const getProvenanceEdge = (\n  node1Props: ProvenanceNodeProps,\n  node2Props: ProvenanceNodeProps,\n): Edge => {\n  const node1Id = getNodeId(node1Props)\n  const node2Id = getNodeId(node2Props)\n  return {\n    id: `${node1Id}-${node2Id}`,\n    source: node1Id,\n    target: node2Id,\n    animated: true,\n    type: ConnectionLineType.SimpleBezier,\n    markerEnd: {\n      type: MarkerType.ArrowClosed,\n    },\n  }\n}\n\nexport const getNodeId = (props: ProvenanceNodeProps) => {\n  const { type, data } = props\n  switch (type) {\n    case NodeType.ENTITY:\n      return `${(data as EntityHeader).id}.${\n        (data as EntityHeader).versionNumber ?? 'latest'\n      }`\n    case NodeType.ENTITY_PLACEHOLDER:\n      return `${(data as Reference).targetId}.${\n        (data as Reference).targetVersionNumber ?? 'latest'\n      }`\n    case NodeType.EXTERNAL:\n      return `${(data as UsedURL).url}`\n    case NodeType.ACTIVITY:\n      return `${(data as Activity).id}`\n    case NodeType.EXPAND:\n      return `expand.node.${\n        (data as ExpandGraphNodeDataProps).entityHeader.id\n      }.${\n        (data as ExpandGraphNodeDataProps).entityHeader.versionNumber ??\n        'latest'\n      }`\n    case NodeType.UNDEFINED:\n      return `undefined.dummy.node.${(data as EntityHeader).id}.${\n        (data as EntityHeader).versionNumber ?? 'latest'\n      }`\n  }\n}\n\n// layout\nconst dagreGraph = new dagre.graphlib.Graph()\ndagreGraph.setDefaultEdgeLabel(() => ({}))\n\nconst getNodeHeight = (node: Node) => {\n  const nodeData: ProvenanceNodeData = node.data as ProvenanceNodeData\n  return nodeData.type == NodeType.EXPAND ? 30 : 100\n}\nconst getNodeWidth = (node: Node) => {\n  const nodeData: ProvenanceNodeData = node.data as ProvenanceNodeData\n  return nodeData.type == NodeType.EXPAND ? 30 : 172\n}\n\nexport const getLayoutedElements = (\n  nodes: Node[],\n  edges: Edge[],\n  direction: string,\n) => {\n  const isHorizontal = direction === 'LR'\n  dagreGraph.setGraph({ rankdir: direction })\n\n  nodes.forEach(node => {\n    dagreGraph.setNode(node.id, {\n      width: getNodeWidth(node),\n      height: getNodeHeight(node),\n    })\n  })\n\n  edges.forEach(edge => {\n    dagreGraph.setEdge(edge.source, edge.target)\n  })\n\n  dagre.layout(dagreGraph)\n\n  nodes.forEach(node => {\n    const nodeWithPosition = dagreGraph.node(node.id)\n    node.targetPosition = isHorizontal ? Position.Left : Position.Top\n    node.sourcePosition = isHorizontal ? Position.Right : Position.Bottom\n\n    // We are shifting the dagre node position (anchor=center center) to the top left\n    // so it matches the React Flow node anchor point (top left).\n    node.position = {\n      x: nodeWithPosition.x - getNodeWidth(node) / 2,\n      y: nodeWithPosition.y - getNodeHeight(node) / 2,\n    }\n\n    return node\n  })\n\n  return { nodes, edges }\n}\n\nexport const isArrayEqual = (x: any[], y: any[]) => {\n  return differenceWith(x, y, isEqual).length == 0\n}\n","import { Edge, Node } from 'reactflow'\nimport { EntityHeader, Reference } from '@sage-bionetworks/synapse-types'\nimport { Activity, UsedURL } from '@sage-bionetworks/synapse-types'\nimport {\n  getNodeId,\n  getProvenanceEdge,\n  getProvenanceNode,\n  NodeType,\n  ProvenanceNodeProps,\n} from './ProvenanceUtils'\n\n/**\n * Is one of the root Entities given by the user\n */\nexport const isRootEntity = (params: {\n  entityHeader: EntityHeader\n  rootEntityHeaders?: EntityHeader[]\n}) => {\n  const { entityHeader, rootEntityHeaders } = params\n  const foundNode = rootEntityHeaders?.find(header => {\n    return (\n      entityHeader.id == header.id &&\n      entityHeader.versionNumber == header.versionNumber\n    )\n  })\n  return foundNode !== undefined\n}\n\n/**\n * Given the node properties, will return true if this node is already in the nodesCopy array.\n */\nexport const isNodeNotFound = (\n  nodeProps: ProvenanceNodeProps,\n  nodesCopy: Node[],\n) => {\n  const foundNode = nodesCopy.find(node => {\n    return node.id === getNodeId(nodeProps)\n  })\n  return foundNode === undefined\n}\n\nexport const findEntityNode = (\n  entityHeader: EntityHeader,\n  nodesCopy: Node[],\n) => {\n  const nodeProps = {\n    type: NodeType.ENTITY,\n    data: entityHeader,\n  }\n  return nodesCopy.find(node => {\n    return node.id === getNodeId(nodeProps)\n  })\n}\n\n/**\n * Given the node properties, will return true if this edge is already in the edgesCopy array.\n */\nexport const isEdgeNotFound = (\n  nodeProps1: ProvenanceNodeProps,\n  nodeProps2: ProvenanceNodeProps,\n  edgesCopy: Edge[],\n) => {\n  const foundEdge = edgesCopy.find(edge => {\n    return (\n      edge.source === getNodeId(nodeProps1) &&\n      edge.target === getNodeId(nodeProps2)\n    )\n  })\n  return foundEdge === undefined\n}\n\n/**\n * Given node properties of the new node and existing node, this function creates and adds a new node to\n * nodesCopy, and creates an edge from the new node to the existing node.  Note, this will only create\n * a new node or edge if these items are not found in the input nodesCopy array and edgesCopy array.\n */\nexport const addNodeAndEdge = (params: {\n  newNodeProps: ProvenanceNodeProps\n  existingNodeProps: ProvenanceNodeProps\n  nodesCopy: Node[]\n  edgesCopy: Edge[]\n}) => {\n  const { newNodeProps, existingNodeProps, nodesCopy, edgesCopy } = params\n  if (isNodeNotFound(newNodeProps, nodesCopy)) {\n    nodesCopy.push(getProvenanceNode(newNodeProps))\n  }\n  if (isEdgeNotFound(newNodeProps, existingNodeProps, edgesCopy)) {\n    edgesCopy.push(getProvenanceEdge(newNodeProps, existingNodeProps))\n  }\n}\n\nexport const addActivityNode = (params: {\n  activity: Activity\n  entityHeader: EntityHeader\n  nodesCopy: Node[]\n  edgesCopy: Edge[]\n}) => {\n  const { activity, entityHeader, nodesCopy, edgesCopy } = params\n  const activityNodeProps = {\n    type: NodeType.ACTIVITY,\n    data: activity,\n  }\n  const entityNodeProps = {\n    type: NodeType.ENTITY,\n    data: entityHeader,\n  }\n  addNodeAndEdge({\n    newNodeProps: activityNodeProps,\n    existingNodeProps: entityNodeProps,\n    nodesCopy,\n    edgesCopy,\n  })\n}\n\nexport const addExpandNode = (params: {\n  entityHeader: EntityHeader\n  itemCount: number | undefined\n  nodesCopy: Node[]\n  edgesCopy: Edge[]\n}) => {\n  const { entityHeader, itemCount = 0, nodesCopy, edgesCopy } = params\n  const expandNodeProps = {\n    type: NodeType.EXPAND,\n    data: {\n      itemCount,\n      entityHeader,\n    },\n  }\n  const entityNodeProps = {\n    type: NodeType.ENTITY,\n    data: entityHeader,\n  }\n  addNodeAndEdge({\n    newNodeProps: expandNodeProps,\n    existingNodeProps: entityNodeProps,\n    nodesCopy,\n    edgesCopy,\n  })\n}\n\nexport const addEntityPlaceholderNode = (params: {\n  ref: Reference\n  activity: Activity\n  nodesCopy: Node[]\n  edgesCopy: Edge[]\n}) => {\n  const { ref, activity, nodesCopy, edgesCopy } = params\n  const entityPlaceholderNodeProps = {\n    type: NodeType.ENTITY_PLACEHOLDER,\n    data: ref,\n  }\n  const activityNodeProps = {\n    type: NodeType.ACTIVITY,\n    data: activity,\n  }\n  addNodeAndEdge({\n    newNodeProps: entityPlaceholderNodeProps,\n    existingNodeProps: activityNodeProps,\n    nodesCopy,\n    edgesCopy,\n  })\n}\n\nexport const addUndefinedNode = (params: {\n  entityHeader: EntityHeader\n  nodesCopy: Node[]\n  edgesCopy: Edge[]\n}) => {\n  const { entityHeader, nodesCopy, edgesCopy } = params\n  const undefinedNodeProps = {\n    type: NodeType.UNDEFINED,\n    data: entityHeader,\n  }\n  const entityNodeProps = {\n    type: NodeType.ENTITY,\n    data: entityHeader,\n  }\n  addNodeAndEdge({\n    newNodeProps: undefinedNodeProps,\n    existingNodeProps: entityNodeProps,\n    nodesCopy,\n    edgesCopy,\n  })\n}\n\nexport const addExternalNode = (params: {\n  usedURL: UsedURL\n  activity: Activity\n  nodesCopy: Node[]\n  edgesCopy: Edge[]\n}) => {\n  const { usedURL, activity, nodesCopy, edgesCopy } = params\n  const activityNodeProps = {\n    type: NodeType.ACTIVITY,\n    data: activity,\n  }\n  const externalNodeProps = {\n    type: NodeType.EXTERNAL,\n    data: usedURL,\n  }\n  addNodeAndEdge({\n    newNodeProps: externalNodeProps,\n    existingNodeProps: activityNodeProps,\n    nodesCopy,\n    edgesCopy,\n  })\n}\n\nexport const addEntityNode = (params: {\n  entityHeader: EntityHeader\n  activity: Activity | undefined\n  nodesCopy: Node[]\n  edgesCopy: Edge[]\n}) => {\n  const { entityHeader, activity, nodesCopy, edgesCopy } = params\n  const entityNodeProps = {\n    type: NodeType.ENTITY,\n    data: entityHeader,\n  }\n  if (isNodeNotFound(entityNodeProps, nodesCopy)) {\n    // add the new entity node\n    nodesCopy.push(getProvenanceNode(entityNodeProps))\n    if (activity) {\n      const activityNodeProps = {\n        type: NodeType.ACTIVITY,\n        data: activity,\n      }\n      edgesCopy.push(getProvenanceEdge(entityNodeProps, activityNodeProps))\n    }\n  }\n}\n","import React, { useCallback, useEffect, useState } from 'react'\nimport ReactFlow, {\n  Controls,\n  Node,\n  Edge,\n  useNodesState,\n  useEdgesState,\n  getConnectedEdges,\n  ReactFlowProvider,\n  useReactFlow,\n} from 'reactflow'\nimport {\n  getLayoutedElements,\n  isArrayEqual,\n  NodeType,\n  ProvenanceNodeData,\n} from './ProvenanceUtils'\nimport {\n  Activity,\n  Used,\n  UsedEntity,\n  UsedURL,\n  USED_ENTITY_CONCRETE_TYPE_VALUE,\n} from '@sage-bionetworks/synapse-types'\nimport { EntityHeader, ReferenceList } from '@sage-bionetworks/synapse-types'\nimport { useSynapseContext } from '../../utils/context/SynapseContext'\nimport SynapseClient from '../../synapse-client'\nimport { ExpandGraphNodeDataProps } from './ExpandGraphNodeLabel'\nimport { useGetEntityHeaders } from '../../synapse-queries'\nimport { CircularProgress } from '@mui/material'\nimport { displayToast } from '../ToastMessage/ToastMessage'\nimport { SynapseErrorBoundary } from '../error/ErrorBanner'\nimport { useErrorHandler } from 'react-error-boundary'\nimport {\n  addActivityNode,\n  addEntityNode,\n  addEntityPlaceholderNode,\n  addExpandNode,\n  addExternalNode,\n  addUndefinedNode,\n  findEntityNode,\n  isRootEntity,\n} from './ProvenanceGraphUtils'\nimport 'reactflow/dist/style.css'\n\nexport type ProvenanceProps = {\n  // what entity nodes should we start with?\n  entityRefs: ReferenceList\n  containerHeight?: string\n  initialNodes?: Node[]\n  initialEdges?: Edge[]\n  onNodesChangedListener?: (nodes: Node[]) => void\n  onEdgesChangedListener?: (edges: Edge[]) => void\n}\n\nconst MAX_ACTIVITY_EXPAND_NODES = 400\nconst DEFAULT_ZOOM = 0.85\n\n/**\n * Renders a Provenance Graph for a set of entities.\n * New Nodes are added to tempNodes, and new Edges are added to tempEdges.\n * On change, these are fed into the dagre js graph library to figure out the node positions,\n * and the output stored in 'nodes' and 'edges'. The 'nodes' and 'edges' arrays are used by the\n * ReactFlow component.\n */\nconst ProvenanceReactFlow = (props: ProvenanceProps) => {\n  const {\n    entityRefs: rootEntityRefs,\n    containerHeight = '200px',\n    initialNodes = [],\n    initialEdges = [],\n    onNodesChangedListener,\n    onEdgesChangedListener,\n  } = props\n  const { accessToken } = useSynapseContext()\n  const [tempNodes, setTempNodes] = React.useState<Node[]>(initialNodes)\n  const [tempEdges, setTempEdges] = React.useState<Edge[]>(initialEdges)\n  const [nodes, setNodes, onNodesChange] = useNodesState([])\n  const [edges, setEdges, onEdgesChange] = useEdgesState([])\n  const [clickedNode, setClickedNode] = useState<Node>()\n  const handleError = useErrorHandler()\n\n  const { data: rootEntityHeadersPage, isSuccess } = useGetEntityHeaders(\n    rootEntityRefs,\n    { useErrorBoundary: true },\n  )\n  if (\n    isSuccess &&\n    rootEntityHeadersPage &&\n    rootEntityHeadersPage.totalNumberOfResults == 0\n  ) {\n    const synapseIds = rootEntityRefs.map(ref => ref.targetId).join(',')\n    handleError(\n      `Unable to load provenance for the given Synapse IDs: ${synapseIds}`,\n    )\n  }\n  const rootEntityHeaders = rootEntityHeadersPage?.results\n  const [initializedPosition, setInitializedPosition] =\n    React.useState<boolean>(false)\n\n  // Get the react flow instance so we attempt to properly center the view.\n  const reactFlowInstance = useReactFlow()\n\n  const onClickNode = useCallback((_event: React.MouseEvent, node: Node) => {\n    setClickedNode(node)\n  }, [])\n\n  /**\n   * Called when we have a new entity to add to the graph.  This will result in adding\n   * a new Entity Node to the nodesCopy, a link from the usedInActivity to the new Entity Node,\n   * AND it will look for an Activity associated with the new entity.  If an Activity is found,\n   * it will add an Expand Node for the user to click (to expand to see this Activity!).\n   * If this is a root node (starting entity node), then we automatically add the Activity Node\n   * and process it.\n   */\n  const addEntity = useCallback(\n    async (params: {\n      entityHeader: EntityHeader\n      usedInActivity?: Activity\n      nodesCopy: Node[]\n      edgesCopy: Edge[]\n    }) => {\n      const { entityHeader, nodesCopy, edgesCopy, usedInActivity } = params\n      addEntityNode({\n        entityHeader,\n        activity: usedInActivity,\n        nodesCopy,\n        edgesCopy,\n      })\n      //look for Activity\n      try {\n        const activity = await SynapseClient.getActivityForEntity(\n          entityHeader.id,\n          entityHeader.versionNumber,\n          accessToken,\n        )\n        // if this is not a root node (or there are too many items to show), add an expand node\n        if (\n          !isRootEntity({ entityHeader, rootEntityHeaders }) ||\n          (activity.used && activity.used.length >= MAX_ACTIVITY_EXPAND_NODES)\n        ) {\n          addExpandNode({\n            entityHeader,\n            itemCount: activity.used?.length,\n            nodesCopy,\n            edgesCopy,\n          })\n        }\n      } catch (e) {\n        // Activity is not accessible\n        console.error(e)\n        if (\n          isRootEntity({\n            entityHeader,\n            rootEntityHeaders,\n          })\n        ) {\n          // add provenance undefined node\n          addUndefinedNode({\n            entityHeader,\n            nodesCopy,\n            edgesCopy,\n          })\n        }\n      }\n    },\n    [accessToken, rootEntityHeaders],\n  )\n\n  /**\n   * This effect attempts to center the graph on one of the root nodes.\n   * Only initializes after after a root node has been added to the graph.\n   */\n  useEffect(() => {\n    if (!initializedPosition && nodes.length > 0) {\n      setTimeout(() => {\n        if (rootEntityHeaders) {\n          const rootEntityNode = findEntityNode(rootEntityHeaders[0], nodes)\n          if (rootEntityNode) {\n            const currentZoom = reactFlowInstance.getZoom()\n            const zoom = currentZoom > DEFAULT_ZOOM ? DEFAULT_ZOOM : currentZoom\n            reactFlowInstance?.setCenter(\n              rootEntityNode.position.x + 150,\n              rootEntityNode.position.y - 30,\n              { zoom, duration: 0 },\n            )\n          }\n          setInitializedPosition(true)\n        }\n      })\n    }\n  }, [initializedPosition, nodes, reactFlowInstance, rootEntityHeaders])\n\n  /**\n   * This is called when the user clicks on an Expand Node.  It will add the associated Activity\n   * and all \"used\" items (entities and urls) to the graph by adding items to the nodesCopy and edgesCopy arrays.\n   */\n  const onExpandEntity = useCallback(\n    async (params: {\n      entityHeader: EntityHeader\n      nodesCopy: Node[]\n      edgesCopy: Edge[]\n    }) => {\n      const { entityHeader, nodesCopy, edgesCopy } = params\n      try {\n        const activity = await SynapseClient.getActivityForEntity(\n          entityHeader.id,\n          entityHeader.versionNumber,\n          accessToken,\n        )\n        addActivityNode({\n          activity,\n          entityHeader,\n          nodesCopy,\n          edgesCopy,\n        })\n        // go through Activity.used array to add these nodes/edges\n        if (activity.used && activity.used.length < MAX_ACTIVITY_EXPAND_NODES) {\n          const usedEntityReferences: ReferenceList = []\n          activity.used.forEach((usedItem: Used) => {\n            if (usedItem.concreteType == USED_ENTITY_CONCRETE_TYPE_VALUE) {\n              usedEntityReferences.push((usedItem as UsedEntity).reference)\n            } else {\n              // UsedURL\n              const usedURL = usedItem as UsedURL\n              addExternalNode({ usedURL, activity, nodesCopy, edgesCopy })\n            }\n          })\n          const usedEntityHeadersPage = await SynapseClient.getEntityHeaders(\n            usedEntityReferences,\n            accessToken,\n          )\n          const { results: usedEntityHeaderPageResults } = usedEntityHeadersPage\n          // find refs that were not returned by the entity header call\n          const refsMissingEntityHeaders = usedEntityReferences.filter(ref => {\n            return (\n              usedEntityHeaderPageResults.find(header => {\n                return header.id == ref.targetId\n              }) == undefined\n            )\n          })\n          refsMissingEntityHeaders.forEach(ref => {\n            addEntityPlaceholderNode({ ref, activity, nodesCopy, edgesCopy })\n          })\n          const addEntityPromises: Promise<void>[] = []\n          usedEntityHeaderPageResults.forEach(header => {\n            addEntityPromises.push(\n              addEntity({\n                entityHeader: header,\n                nodesCopy,\n                edgesCopy,\n                usedInActivity: activity,\n              }),\n            )\n          })\n          await Promise.allSettled(addEntityPromises)\n        }\n      } catch (e) {\n        // Activity is not accessible\n        console.error(e)\n      }\n    },\n    [accessToken, addEntity],\n  )\n\n  /**\n   * This effect code executes when no nodes have been added.\n   * It will add the root nodes, and attempt to expand the root nodes.\n   */\n  useEffect(() => {\n    if (rootEntityHeaders && tempNodes.length == 0) {\n      const nodesCopy = [...tempNodes]\n      const edgesCopy = [...tempEdges]\n      const addAndExpandPromises: Promise<void>[] = []\n      rootEntityHeaders.forEach(header => {\n        const addEntityPromise = addEntity({\n          entityHeader: header,\n          nodesCopy,\n          edgesCopy,\n        })\n        addAndExpandPromises.push(addEntityPromise)\n\n        const expandEntityPromise = onExpandEntity({\n          entityHeader: header,\n          nodesCopy,\n          edgesCopy,\n        })\n        addAndExpandPromises.push(expandEntityPromise)\n      })\n      Promise.allSettled(addAndExpandPromises).finally(() => {\n        setTempNodes(nodesCopy)\n        setTempEdges(edgesCopy)\n      })\n    }\n  }, [\n    addEntity,\n    handleError,\n    onExpandEntity,\n    rootEntityHeaders,\n    rootEntityRefs,\n    tempEdges,\n    tempNodes,\n  ])\n\n  /**\n   * This effect code executes when a node is clicked.\n   * We check to see if it is an expand node.  If it is, then we remove the expand node (and associated edge)\n   * and ask for the Activity and associated \"used\" nodes (entities and URLs)\n   */\n  useEffect(() => {\n    const nodeData: ProvenanceNodeData = clickedNode?.data as ProvenanceNodeData\n    if (clickedNode && nodeData?.type == NodeType.EXPAND) {\n      const expandNodeDataProps = nodeData.props as ExpandGraphNodeDataProps\n      if (expandNodeDataProps.itemCount > MAX_ACTIVITY_EXPAND_NODES) {\n        displayToast(\n          'Web visualization does not support expanding this many items at this time.',\n          'danger',\n        )\n        return\n      } else {\n        // graph will be used outside of synapse, so show a non-branded spinner\n        nodeData.label = <CircularProgress size={30} />\n        // remove clicked node\n        const nodesWithoutExpandNode = tempNodes.filter(\n          node => node.id != clickedNode.id,\n        )\n        const edgeToRemove = getConnectedEdges([clickedNode], tempEdges)[0]\n        const edgesWithoutExpandEdge = tempEdges.filter(\n          edge => edge != edgeToRemove,\n        )\n        onExpandEntity({\n          entityHeader: expandNodeDataProps.entityHeader,\n          nodesCopy: nodesWithoutExpandNode,\n          edgesCopy: edgesWithoutExpandEdge,\n        }).finally(() => {\n          setTempNodes(nodesWithoutExpandNode)\n          setTempEdges(edgesWithoutExpandEdge)\n        })\n      }\n      setClickedNode(undefined)\n    }\n  }, [clickedNode, tempNodes, tempEdges, onExpandEntity])\n\n  /**\n   * This effect code is run when the graph nodes or edges change.\n   * It feeds the nodes and edges into our layout library to figure out where they should be positioned.\n   * The result is saved in the state variable \"nodes\" and \"edges\".\n   */\n  useEffect(() => {\n    const { nodes: layoutedNodes, edges: layoutedEdges } = getLayoutedElements(\n      tempNodes,\n      tempEdges,\n      'TB',\n    )\n    // hack: ProvenanceUtils.getProvenanceNode() returns a new object every time, so check to see if\n    // there were any real changes\n    if (!isArrayEqual(layoutedNodes, nodes)) {\n      setNodes(layoutedNodes)\n      if (onNodesChangedListener) {\n        onNodesChangedListener(layoutedNodes)\n      }\n    }\n    if (!isArrayEqual(layoutedEdges, edges)) {\n      setEdges(layoutedEdges)\n      if (onEdgesChangedListener) {\n        onEdgesChangedListener(layoutedEdges)\n      }\n    }\n  }, [\n    tempNodes,\n    tempEdges,\n    nodes,\n    edges,\n    setNodes,\n    setEdges,\n    initializedPosition,\n    reactFlowInstance,\n    rootEntityRefs,\n    onNodesChangedListener,\n    onEdgesChangedListener,\n  ])\n\n  const onPaneScrollFunction: (event?: React.WheelEvent) => void = useCallback(\n    event => {\n      // Cannot simply check the truthy value of event.deltaX (or Y) because the value might be 0 (or -0), which is falsy\n      if (\n        event &&\n        typeof event.deltaX !== 'undefined' &&\n        typeof event.deltaY !== 'undefined'\n      ) {\n        window.scrollTo(\n          window.scrollX + event.deltaX,\n          window.scrollY + event.deltaY,\n        )\n      }\n    },\n    [],\n  )\n\n  return (\n    <div\n      className=\"bootstrap-4-backport ProvenanceWidget\"\n      role=\"graphics-doc\" //https://www.w3.org/wiki/SVG_Accessibility/ARIA_roles_for_charts#Document_Roles\n      style={{ width: '100%', height: containerHeight }}\n    >\n      <ReactFlow\n        defaultViewport={{ x: 0, y: 0, zoom: DEFAULT_ZOOM }}\n        nodes={nodes}\n        edges={edges}\n        onNodeClick={onClickNode}\n        onNodesChange={onNodesChange}\n        onEdgesChange={onEdgesChange}\n        attributionPosition=\"bottom-right\"\n        onConnect={undefined}\n        zoomOnScroll={false}\n        onPaneScroll={onPaneScrollFunction}\n      >\n        <Controls />\n      </ReactFlow>\n    </div>\n  )\n}\n\nconst ProvenanceGraph = (props: ProvenanceProps) => {\n  return (\n    <SynapseErrorBoundary>\n      <ReactFlowProvider>\n        <ProvenanceReactFlow {...props} />\n      </ReactFlowProvider>\n    </SynapseErrorBoundary>\n  )\n}\n\nexport default ProvenanceGraph\n","import React from 'react'\nimport { Reference } from '@sage-bionetworks/synapse-types'\nimport ProvenanceGraph from '../../ProvenanceGraph/ProvenanceGraph'\n\nexport type MarkdownProvenanceGraphProps = {\n  entityList: string // comma delimited entity references of the form <synapse_ID>/version/<version_number>.  The /version/<version_number> is optional\n  displayHeightPx: string\n  // depth: string, // traverse the given depth, not currently supported in ProvenanceGraph\n  // showExpand: string // option to make graph not expandable, not currently supported in ProvenanceGraph\n}\n\nexport default function MarkdownProvenanceGraph(\n  props: MarkdownProvenanceGraphProps,\n) {\n  const { entityList, displayHeightPx } = props\n  // parse entityList\n  const refs = entityList.split(',').map(v => {\n    const entityAndVersion = v.split('/version/')\n    const ref: Reference = {\n      targetId: entityAndVersion[0],\n      targetVersionNumber:\n        entityAndVersion.length > 1 ? parseInt(entityAndVersion[1]) : undefined,\n    }\n    return ref\n  })\n  const containerHeight = displayHeightPx ? `${displayHeightPx}px` : undefined\n  return <ProvenanceGraph entityRefs={refs} containerHeight={containerHeight} />\n}\n","import React from 'react'\nimport { getEntity, getFiles } from '../../synapse-client/SynapseClient'\nimport { SynapseContext } from '../../utils/context/SynapseContext'\nimport {\n  BatchFileRequest,\n  BatchFileResult,\n  FileEntity,\n  FileHandle,\n  FileHandleAssociateType,\n  FileHandleAssociation,\n} from '@sage-bionetworks/synapse-types'\n\nexport type SynapseImageProps = {\n  wikiId?: string\n  synapseId?: string\n  fileName?: string\n  fileResults?: FileHandle[]\n  params: {\n    align: string\n    scale: string\n    // this should be treated as a boolean, but the actual type that will come through\n    // is a string which I don't want to mis-represent\n    responsive: string\n    altText: string\n  }\n}\n\ntype SynapseImageState = {\n  preSignedURL: string\n}\n\nclass SynapseImage extends React.Component<\n  SynapseImageProps,\n  SynapseImageState\n> {\n  constructor(props: SynapseImageProps) {\n    super(props)\n    this.getEntity = this.getEntity.bind(this)\n    this.getSynapseFiles = this.getSynapseFiles.bind(this)\n    this.state = {\n      preSignedURL: '',\n    }\n  }\n\n  static contextType = SynapseContext\n  declare context: NonNullable<React.ContextType<typeof SynapseContext>>\n\n  public getEntity() {\n    const { synapseId } = this.props\n    if (synapseId) {\n      getEntity<FileEntity>(this.context.accessToken, synapseId).then(\n        // https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/FileEntity.html\n        (data: FileEntity) => {\n          const fileHandleAssociationList = [\n            {\n              associateObjectId: synapseId,\n              associateObjectType: FileHandleAssociateType.FileEntity,\n              fileHandleId: data.dataFileHandleId,\n            },\n          ]\n          this.getSynapseFiles(fileHandleAssociationList, data.dataFileHandleId)\n        },\n      )\n    }\n  }\n  public getSynapseFiles(\n    fileHandleAssociationList: FileHandleAssociation[],\n    id: string,\n  ) {\n    // overload the method for two different use cases, one where\n    // the image is attached to an entity and creates a list on the spot,\n    // the other where list is passed in from componentDidMount in MarkdownSynapse\n    const request: BatchFileRequest = {\n      includeFileHandles: false,\n      includePreSignedURLs: true,\n      includePreviewPreSignedURLs: false,\n      requestedFiles: fileHandleAssociationList,\n    }\n    getFiles(request, this.context.accessToken)\n      .then((data: BatchFileResult) => {\n        const { preSignedURL } = data.requestedFiles.filter(\n          el => el.fileHandleId === id,\n        )[0]\n        this.setState({\n          preSignedURL: preSignedURL!,\n        })\n      })\n      .catch(err => {\n        console.error('Error on getting image ', err)\n      })\n  }\n  public componentDidMount() {\n    if (!this.props.wikiId) {\n      // Get file handle as external attachment\n      this.getEntity()\n    } else {\n      // Can get presigned url right away from wiki association\n      const { fileName, fileResults = [] } = this.props\n      const { id } = fileResults.filter(el => el.fileName === fileName)[0]\n      const fileHandleAssociationList: FileHandleAssociation[] = [\n        {\n          associateObjectId: this.props.wikiId,\n          associateObjectType: FileHandleAssociateType.WikiAttachment,\n          fileHandleId: id,\n        },\n      ]\n      this.getSynapseFiles(fileHandleAssociationList, id)\n    }\n  }\n\n  public render() {\n    const { params } = this.props\n    const { align = '', altText = 'synapse image' } = params\n\n    let scale = 'auto'\n    if (params.scale && params.scale !== '100') {\n      scale = `${Number(params.scale)}%`\n    }\n\n    const alignLowerCase = align.toLowerCase()\n    let className = ''\n    if (alignLowerCase === 'left') {\n      className = 'floatLeft'\n    }\n    if (alignLowerCase === 'right') {\n      className = 'floatright'\n    }\n    if (alignLowerCase === 'center') {\n      className = 'align-center'\n    }\n    const style: React.CSSProperties = {\n      width: scale,\n      height: scale,\n    }\n    if (!this.state.preSignedURL) {\n      return null\n    }\n    return (\n      <React.Fragment>\n        <img\n          alt={altText}\n          className={'img-fluid  ' + className}\n          src={this.state.preSignedURL}\n          style={style}\n        />\n      </React.Fragment>\n    )\n  }\n}\nexport default SynapseImage\n","import React, { useContext } from 'react'\nimport { FileHandleResults, WikiPage } from '@sage-bionetworks/synapse-types'\n\nexport type SynapseWikiContextType = {\n  ownerId?: string\n  wikiId?: string\n  wikiPage?: Partial<WikiPage>\n  /** Downloaded file handles that are attached to the wiki */\n  fileHandles?: FileHandleResults\n}\n\n/**\n * This must be exported to use the context in class components.\n */\nexport const SynapseWikiContext = React.createContext<\n  SynapseWikiContextType | undefined\n>(undefined)\n\nexport type SynapseWikiContextProviderProps = {\n  wikiContext?: SynapseWikiContextType\n  children?: React.ReactNode\n}\n\n/**\n * Provides context related to Synapse Wikis\n * @param param0\n * @returns\n */\nexport const SynapseWikiContextProvider: React.FunctionComponent<\n  SynapseWikiContextProviderProps\n> = ({ children, wikiContext }) => {\n  return (\n    <SynapseWikiContext.Provider value={wikiContext}>\n      {children}\n    </SynapseWikiContext.Provider>\n  )\n}\n\nexport const SynapseWikiContextConsumer = SynapseWikiContext.Consumer\n\nexport function useWikiContext(): SynapseWikiContextType {\n  const context = useContext(SynapseWikiContext)\n  return context ?? {}\n}\n","import React from 'react'\nimport SynapseImage, { SynapseImageProps } from '../../widgets/SynapseImage'\nimport { useWikiContext } from '../SynapseWikiContext'\n\nexport type ImageWidgetParams = Omit<\n  SynapseImageProps,\n  'params' | 'fileResults'\n> &\n  SynapseImageProps['params']\n\nexport default function MarkdownSynapseImage(\n  widgetParamsMapped: ImageWidgetParams,\n) {\n  const { wikiId, wikiPage, fileHandles } = useWikiContext()\n  if (widgetParamsMapped.fileName) {\n    if (!fileHandles) {\n      // ensure files are loaded\n      return <></>\n    }\n    // if file name is attached then the fileHandle ID is located\n    // in this wiki's file attachment list\n    return (\n      <SynapseImage\n        params={widgetParamsMapped}\n        fileName={widgetParamsMapped.fileName}\n        wikiId={wikiId || wikiPage?.id}\n        fileResults={fileHandles.list}\n      />\n    )\n  }\n  if (widgetParamsMapped.synapseId) {\n    // otherwise this image's fileHandle ID is not located\n    // in the file attachment list and will be loaded first\n    return (\n      <SynapseImage\n        params={widgetParamsMapped}\n        synapseId={widgetParamsMapped.synapseId}\n      />\n    )\n  }\n  return <></>\n}\n","import Plotly from 'plotly.js-basic-dist'\nimport React from 'react'\nimport createPlotlyComponent from 'react-plotly.js/factory'\nimport { SynapseConstants } from '../../utils'\nimport { getFullQueryTableResults } from '../../synapse-client/SynapseClient'\nimport {\n  QueryResultBundle,\n  QueryBundleRequest,\n} from '@sage-bionetworks/synapse-types'\nimport { parseEntityIdFromSqlStatement } from '../../utils/functions/SqlFunctions'\nimport { SynapseContext } from '../../utils/context/SynapseContext'\nconst Plot = createPlotlyComponent(Plotly)\n\nexport type SynapsePlotProps = {\n  ownerId?: string\n  wikiId?: string\n  widgetparamsMapped?: any\n}\n\ntype SynapsePlotState = {\n  isLoaded: boolean\n  queryData: QueryResultBundle\n}\n\nexport class SynapsePlot extends React.Component<\n  SynapsePlotProps,\n  SynapsePlotState\n> {\n  constructor(props: SynapsePlotProps) {\n    super(props)\n    this.state = {\n      isLoaded: false,\n      queryData: {} as QueryResultBundle,\n    }\n    this.fetchPlotlyData = this.fetchPlotlyData.bind(this)\n    this.showPlot = this.showPlot.bind(this)\n  }\n\n  static contextType = SynapseContext\n  declare context: NonNullable<React.ContextType<typeof SynapseContext>>\n\n  public componentDidMount() {\n    this.fetchPlotlyData()\n  }\n  /**\n   * Get data for plotly\n   *\n   * @returns data corresponding to plotly widget\n   */\n  public fetchPlotlyData() {\n    const { query } = this.props.widgetparamsMapped\n    const queryRequest: QueryBundleRequest = {\n      concreteType: 'org.sagebionetworks.repo.model.table.QueryBundleRequest',\n      partMask: SynapseConstants.BUNDLE_MASK_QUERY_RESULTS,\n      entityId: parseEntityIdFromSqlStatement(query),\n      query: {\n        sql: query,\n      },\n    }\n\n    getFullQueryTableResults(queryRequest, this.context.accessToken)\n      .then((data: QueryResultBundle) => {\n        this.setState({\n          isLoaded: true,\n          queryData: data,\n        })\n      })\n      .catch((err: any) => {\n        console.log('Error on full table query ', err)\n      })\n  }\n\n  public showPlot() {\n    if (!this.state.isLoaded) {\n      return\n    }\n    const { title, xtitle, ytitle, type, xaxistype, showlegend } =\n      this.props.widgetparamsMapped\n    const queryData = this.state\n    const isHorizontal = this.props.widgetparamsMapped.horizontal.toLowerCase()\n    const layout: any = {\n      showlegend,\n      title,\n    }\n    if (xtitle) {\n      layout.xaxis = {\n        title: xtitle,\n      }\n    }\n    if (xaxistype) {\n      layout.xaxis = {\n        ...layout.xaxis,\n        xaxistype: xaxistype.toLowerCase(),\n      }\n    }\n    if (ytitle) {\n      layout.yaxis = {\n        title: ytitle,\n      }\n    }\n    // init plot_data\n    const plotData: any = []\n    const orientation = isHorizontal ? 'v' : 'h'\n    const headers = queryData.queryData.queryResult?.queryResults.headers ?? []\n    for (let i = 0; i < headers.length - 1; i += 1) {\n      // make an entry for each set of data points\n      plotData[i] = {\n        orientation,\n        name: headers[i + 1].name,\n        type: type.toLowerCase(),\n        x: [],\n        y: [],\n      }\n    }\n    // grab all the data\n    for (const row of queryData.queryData.queryResult?.queryResults.rows ??\n      []) {\n      for (let j = 1; j < row.values.length; j += 1) {\n        // create pairs of data\n        const rowValues: any = row.values\n        plotData[j - 1].x.push(rowValues[0])\n        plotData[j - 1].y.push(rowValues[j])\n      }\n    }\n    return <Plot layout={layout} data={plotData} />\n  }\n\n  public render() {\n    if (!this.state.isLoaded) {\n      return null\n    }\n    return this.showPlot()\n  }\n}\nexport default SynapsePlot\n","import React from 'react'\nimport SynapsePlot, { SynapsePlotProps } from '../../Plot/SynapsePlot'\nimport { useWikiContext } from '../SynapseWikiContext'\n\nexport type PlotWidgetParams = SynapsePlotProps['widgetparamsMapped']\n\nexport default function MarkdownSynapsePlot(props: PlotWidgetParams) {\n  const { ownerId, wikiId, wikiPage } = useWikiContext()\n  return (\n    <SynapsePlot\n      ownerId={ownerId}\n      wikiId={wikiId || wikiPage?.id}\n      widgetparamsMapped={props}\n    />\n  )\n}\n","import React from 'react'\nimport { createContext, useContext } from 'react'\nimport { SynapseClientError } from '../../utils/SynapseClientError'\nimport {\n  AsynchronousJobStatus,\n  ColumnModel,\n  QueryBundleRequest,\n  QueryResultBundle,\n  Table,\n} from '@sage-bionetworks/synapse-types'\nimport { ImmutableTableQueryResult } from '../useImmutableTableQuery'\nimport { SetRequired } from 'type-fest'\n\n/*\n  For details page: to lock a column (e.g. study, grant) so that the facet values and active filters\n  will not appear on the details page. The facet name is given by the URL search param.\n  The type is defined here so that other child components in SRC won't generate type errors.\n */\nexport type LockedColumn = {\n  columnName?: string\n  value?: string\n}\n\ntype OptionalQueryBundleRequestFields = keyof Pick<\n  QueryResultBundle,\n  | 'queryResult'\n  | 'queryCount'\n  | 'selectColumns'\n  | 'maxRowsPerPage'\n  | 'columnModels'\n  | 'facets'\n  | 'sumFileSizes'\n  | 'combinedSql'\n>\n\nexport type QueryContextType<\n  TIncludedFields extends OptionalQueryBundleRequestFields = never,\n  ExcludeOtherFields extends true | false = false,\n> = {\n  /** The entity being queried. Will be undefined while initially fetching */\n  entity: Table | undefined\n  /** The query results, which will be undefined while initially fetching a new bundle, but will not be unloaded when fetching new pages */\n  data:\n    | Omit<\n        SetRequired<QueryResultBundle, TIncludedFields>,\n        ExcludeOtherFields extends true\n          ? Exclude<OptionalQueryBundleRequestFields, TIncludedFields>\n          : never\n      >\n    | undefined\n  /** Returns a deep clone of the current query bundle request */\n  getLastQueryRequest: () => QueryBundleRequest\n  /** Returns a deep clone of the initial query bundle request */\n  getInitQueryRequest: () => QueryBundleRequest\n  /** Updates the current query with the passed request */\n  executeQueryRequest: (param: QueryBundleRequest) => void\n  /** Resets the query to its initial state, clearing all filters added by the user */\n  resetQuery: ImmutableTableQueryResult['resetQuery']\n  removeSelectedFacet: ImmutableTableQueryResult['removeSelectedFacet']\n  removeValueFromSelectedFacet: ImmutableTableQueryResult['removeValueFromSelectedFacet']\n  /** Removes a matching QueryFilter from the query */\n  removeQueryFilter: ImmutableTableQueryResult['removeQueryFilter']\n  /** Removes a value from a QueryFilter. If no more values remain in the filter, the filter is also removed */\n  removeValueFromQueryFilter: ImmutableTableQueryResult['removeValueFromQueryFilter']\n  /** Returns true when loading a brand-new query result bundle. Will not be true when just loading the next page of query results. */\n  isLoadingNewBundle: boolean\n  /** The error returned by the query request, if one is encountered */\n  error: SynapseClientError | null\n  /** The status of the asynchronous job. */\n  asyncJobStatus?: AsynchronousJobStatus<QueryBundleRequest, QueryResultBundle>\n  /** Whether facets are available to be filtered upon based on the current data */\n  isFacetsAvailable: boolean\n  /**\n   * A column name may be \"locked\" so that it is both (1) not shown to the user that the filter is active, and (2) not modifiable by the user.\n   * For example, we may show only the data matching a particular facet value on a Details Page without implying that the shown data is part of a larger table.\n   * The presence of a locked filter will result in a client-side modification of the active query and result bundle data.\n   */\n  lockedColumn?: LockedColumn\n  /** Returns true iff the current request has resettable filters applied via facet filters or additionalFilters. Excludes filters applied to a locked column */\n  hasResettableFilters: boolean\n  getColumnModel: (columnName: string) => ColumnModel | null\n  // Either open benefactor entity page in a new window or open the sharing settings dialog (in Synapse.org)\n  onViewSharingSettingsClicked?: (benefactorId: string) => void\n}\n\nexport type PaginatedQueryContextType<\n  TIncludedFields extends OptionalQueryBundleRequestFields = never,\n  ExcludeOtherFields extends true | false = false,\n> = QueryContextType<TIncludedFields, ExcludeOtherFields> & {\n  /** Navigates to a particular page, where the first page has value 1 */\n  goToPage: (pageNum: number) => void\n  /** The current page number, where page 1 is the first page. */\n  currentPage: number\n  /** Updates the page size */\n  setPageSize: (pageSize: number) => void\n  /** The current page size. */\n  pageSize: number\n}\n\nexport type InfiniteQueryContextType<\n  TIncludedFields extends OptionalQueryBundleRequestFields = never,\n  ExcludeOtherFields extends true | false = false,\n> = QueryContextType<TIncludedFields, ExcludeOtherFields> & {\n  /** Returns true when loading a new page of query results */\n  isLoadingNewPage: boolean\n  /** Whether the query result bundle has a next page */\n  hasNextPage: boolean\n  /** Invoke this method to fetch and append the next page of rows to the data  */\n  appendNextPageToResults: () => Promise<void>\n  /** Invoke to fetch and update the data with the next page of query results */\n  goToNextPage: () => Promise<void>\n  /** Whether the query result bundle has a previous page */\n  hasPreviousPage: boolean\n  /** Invoke to fetch and update the data with the previous page of query results */\n  goToPreviousPage: () => Promise<void>\n}\n/**\n * This must be exported to use the context in class components.\n */\nexport const QueryContext = createContext<QueryContextType | undefined>(\n  undefined,\n)\n\nexport type QueryContextProviderProps = React.PropsWithChildren<{\n  queryContext: QueryContextType\n}>\n\n/**\n * Provides data related to a Synapse table query, and functions for iterating through pages of the data.\n */\nexport const QueryContextProvider = ({\n  children,\n  queryContext,\n}: QueryContextProviderProps) => {\n  return (\n    <QueryContext.Provider value={queryContext}>\n      {children}\n    </QueryContext.Provider>\n  )\n}\n\n/**\n * Returns the QueryContext, including QueryResultBundle\n *\n * @template TIncludedFields - If you know which specific optional fields will be included in the QueryResultBundle,\n * you can specify them in the generic TIncludedFields\n * @template ExcludeOtherFields - If set to true, will remove optional fields besides those specified in TIncludedFields,\n * default false\n */\nexport function useQueryContext<\n  TIncludedFields extends OptionalQueryBundleRequestFields = never,\n  ExcludeOtherFields extends true | false = false,\n>(): QueryContextType<TIncludedFields, ExcludeOtherFields> {\n  const context = useContext(QueryContext) as QueryContextType<\n    TIncludedFields,\n    ExcludeOtherFields\n  >\n  if (context === undefined) {\n    throw new Error('useQueryContext must be used within a QueryWrapper')\n  }\n  return context\n}\n\nexport function usePaginatedQueryContext(): PaginatedQueryContextType {\n  const context = useContext(QueryContext)\n  if (context === undefined) {\n    throw new Error(\n      'usePaginatedQueryContext must be used within a QueryWrapper',\n    )\n  }\n  // TODO: Identify more type-safe alternative to casting\n  return context as PaginatedQueryContextType\n}\n\nexport function useInfiniteQueryContext(): InfiniteQueryContextType {\n  const context = useContext(QueryContext)\n  if (context === undefined) {\n    throw new Error(\n      'useInfiniteQueryContext must be used within a QueryWrapper',\n    )\n  }\n  // TODO: Identify more type-safe alternative to casting\n  return context as InfiniteQueryContextType\n}\n\nexport const QueryContextConsumer = QueryContext.Consumer\n","import React from 'react'\n\nexport default function NoContentAvailable() {\n  return (\n    <>\n      <p className=\"SRC-no-results-title\">\n        There is currently no content here.\n      </p>\n      <p className=\"SRC-no-results-description\">\n        Information is always being updated, so check back later to see if\n        content has been added.\n      </p>\n    </>\n  )\n}\n","/**\n * When displaying that there are no results, there are two scenarios:\n * 1. Interactive - the user can modify the query and may have chosen a query with no results\n *    - If the user has not modified the query, show a message that the table is empty\n *    - If the user has modified the query, show a message that there are no results and to try a different input\n * 2. Static - the user cannot modify the query. Show a message that there is no content available.\n */\nexport enum NoContentPlaceholderType {\n  INTERACTIVE = 'INTERACTIVE',\n  STATIC = 'STATIC',\n}\n","import React from 'react'\nimport NoSearchResults from '../../assets/icons/NoSearchResults'\n\nexport default function SearchResultsNotFound() {\n  return (\n    <div className=\"text-center\">\n      {NoSearchResults}\n      <h4>No Matching Results</h4>\n      <p>Try checking the spelling or removing filters.</p>\n    </div>\n  )\n}\n","import React from 'react'\nimport NoData from '../../assets/icons/NoData'\n\nexport default function ThisTableIsEmpty() {\n  return (\n    <div className=\"text-center SRCBorderedPanel SRCBorderedPanel--padded2x\">\n      {NoData}\n      <div style={{ marginTop: '20px', fontStyle: 'italic' }}>\n        This table is currently empty\n      </div>\n    </div>\n  )\n}\n","import {\n  ColumnType,\n  ColumnTypeEnum,\n  EntityHeader,\n  Evaluation,\n  UserProfile,\n} from '@sage-bionetworks/synapse-types'\nimport { SynapseConstants } from '../index'\n\nconst getStoredEntityHeaders = (): EntityHeader[] => {\n  try {\n    const lookUpEntityHeaders: EntityHeader[] = JSON.parse(\n      sessionStorage.getItem(SynapseConstants.ENTITY_HEADER_STORAGE_KEY) || '',\n    )\n    return lookUpEntityHeaders\n  } catch (e) {\n    return []\n  }\n}\n\nconst getStoredUserProfiles = (): UserProfile[] => {\n  try {\n    const lookUpUserIds: UserProfile[] = JSON.parse(\n      sessionStorage.getItem(SynapseConstants.USER_PROFILE_STORAGE_KEY) || '',\n    )\n    return lookUpUserIds\n  } catch (e) {\n    return []\n  }\n}\n\nconst getStoredEvaluation = (): Evaluation[] => {\n  try {\n    const lookUpEvaluations: UserProfile[] = JSON.parse(\n      sessionStorage.getItem(SynapseConstants.EVALUATIONS_STORAGE_KEY) || '',\n    )\n    return lookUpEvaluations\n  } catch (e) {\n    return []\n  }\n}\n\nconst getDisplayValueForEntityColumn = (value: string): string => {\n  const entity = getStoredEntityHeaders().find(item => item.id === value)\n  return entity?.name ?? value\n}\n\nconst getDisplayValueEvaluationIdColumn = (facetValue: string): string => {\n  const evaluation = getStoredEvaluation().find(item => item.id === facetValue)\n  return evaluation?.name || facetValue\n}\n\nconst getDisplayValueUserIdColumn = (facetValue: string): string => {\n  const userProfile = getStoredUserProfiles().find(\n    item => item.ownerId === facetValue,\n  )\n  return userProfile?.userName || facetValue\n}\n\nexport const getDisplayValue = (value: string, columnType: ColumnType) => {\n  if (value === SynapseConstants.VALUE_NOT_SET) {\n    return SynapseConstants.FRIENDLY_VALUE_NOT_SET\n  }\n\n  switch (columnType) {\n    case ColumnTypeEnum.ENTITYID:\n    case ColumnTypeEnum.ENTITYID_LIST:\n      return getDisplayValueForEntityColumn(value)\n    case ColumnTypeEnum.USERID:\n    case ColumnTypeEnum.USERID_LIST:\n      return getDisplayValueUserIdColumn(value)\n    case ColumnTypeEnum.EVALUATIONID:\n      return getDisplayValueEvaluationIdColumn(value)\n    default:\n      return value\n  }\n}\n","import {\n  ColumnModel,\n  ColumnType,\n  ColumnTypeEnum,\n  EntityHeader,\n  QueryResultBundle,\n  Table,\n  UserGroupHeader,\n  UserProfile,\n} from '@sage-bionetworks/synapse-types'\nimport {\n  hasFilesInView,\n  isDataset,\n  isEntityView,\n} from '../../utils/functions/EntityTypeUtils'\n\nexport const getColumnIndicesWithType = (\n  data: QueryResultBundle | undefined,\n  ...columnTypes: ColumnType[]\n) => {\n  const columnsOfTypeEntity: number[] = []\n  data?.selectColumns?.forEach((el, index) => {\n    if (columnTypes.includes(el.columnType)) {\n      columnsOfTypeEntity.push(index)\n    }\n  })\n  return columnsOfTypeEntity\n}\n\nexport const getUniqueEntities = (\n  data: QueryResultBundle,\n  mapIdToHeader: Record<\n    string,\n    EntityHeader | Partial<UserGroupHeader & UserProfile>\n  >,\n  indices: number[],\n) => {\n  const distinctEntities = new Set<string>()\n  data.queryResult?.queryResults.rows.forEach(row => {\n    row.values.forEach((el: string | null, colIndex: number) => {\n      // make sure this is a column of type entity and that we haven't retrieved this entity's information prior\n      if (\n        el != null &&\n        indices.includes(colIndex) &&\n        !Object.prototype.hasOwnProperty.call(mapIdToHeader, el) &&\n        el\n      ) {\n        distinctEntities.add(el)\n      }\n    })\n  })\n  return distinctEntities\n}\n\n/**\n * i.e. the view may have FileEntities in it\n *\n * PORTALS-2010:  Enhance change made for PORTALS-1973.  File specific action will only be shown for rows that represent FileEntities.\n */\nexport function isFileViewOrDataset(entity?: Table) {\n  return (\n    entity &&\n    ((isEntityView(entity) && hasFilesInView(entity)) || isDataset(entity))\n  )\n}\n\nexport const getFileColumnModelId = (\n  columnModels?: ColumnModel[],\n): string | undefined => {\n  if (!columnModels) {\n    return undefined\n  }\n  const entityIdColumnModels: ColumnModel[] | undefined = columnModels?.filter(\n    el => el.columnType === ColumnTypeEnum.ENTITYID,\n  )\n  // if there's a single ENTITYID type column, return that column id\n  if (entityIdColumnModels?.length === 1) {\n    return entityIdColumnModels[0].id\n  }\n  // otherwise, if there's an 'id' column, return that column id\n  const idColumnModel = entityIdColumnModels?.filter(el => el.name === 'id')\n  if (idColumnModel.length === 1) {\n    return idColumnModel[0].id\n  }\n  // else the file ID column was not found\n  return undefined\n}\n","import React, {\n  createContext,\n  useCallback,\n  useContext,\n  useEffect,\n  useState,\n} from 'react'\nimport { useDeepCompareMemoize } from 'use-deep-compare-effect'\nimport { useQueryContext } from './QueryContext/QueryContext'\nimport NoContentAvailable from './SynapseTable/NoContentAvailable'\nimport { NoContentPlaceholderType } from './SynapseTable/NoContentPlaceholderType'\nimport SearchResultsNotFound from './SynapseTable/SearchResultsNotFound'\nimport ThisTableIsEmpty from './SynapseTable/TableIsEmpty'\nimport { unCamelCase } from '../utils/functions/unCamelCase'\nimport { ColumnType, Row } from '@sage-bionetworks/synapse-types'\nimport { getDisplayValue } from '../utils/functions/getDataFromFromStorage'\nimport { isFileViewOrDataset } from './SynapseTable/SynapseTableUtils'\nimport useMutuallyExclusiveState from '../utils/hooks/useMutuallyExclusiveState'\n\nexport type QueryVisualizationContextType = {\n  columnsToShowInTable: string[]\n  setColumnsToShowInTable: (newState: string[]) => void\n  selectedRows: Row[]\n  setSelectedRows: (newState: Row[]) => void\n  hasSelectedRows: boolean\n  rgbIndex?: number\n  unitDescription: string\n  /** Whether to show when the table or view was last updated. */\n  showLastUpdatedOn?: boolean\n  /** Given a column name, return the display name for the column */\n  getColumnDisplayName: (columnName: string) => string\n  /** Given a cell value and a column type, returns the displayed value for the data */\n  getDisplayValue: (value: string, columnType: ColumnType) => string\n  /** React node to display in place of cards/table when there are no results. */\n  NoContentPlaceholder: () => JSX.Element\n  isRowSelectionVisible: boolean\n  isShowingExportToCavaticaModal: boolean\n  setIsShowingExportToCavaticaModal: React.Dispatch<\n    React.SetStateAction<boolean>\n  >\n  /** The set of columns that defines a uniqueness constraint on the table for the purposes of filtering based on row selection.\n   * Note that Synapse tables have no internal concept of a primary key.\n   */\n  rowSelectionPrimaryKey?: string[]\n  showFacetFilter: boolean\n  setShowFacetFilter: React.Dispatch<React.SetStateAction<boolean>>\n  showSearchBar: boolean\n  setShowSearchBar: React.Dispatch<React.SetStateAction<boolean>>\n  showDownloadConfirmation: boolean\n  setShowDownloadConfirmation: React.Dispatch<React.SetStateAction<boolean>>\n  showSqlEditor: boolean\n  setShowSqlEditor: React.Dispatch<React.SetStateAction<boolean>>\n  showCopyToClipboard: boolean\n  setShowCopyToClipboard: React.Dispatch<React.SetStateAction<boolean>>\n  showFacetVisualization: boolean\n  setShowFacetVisualization: React.Dispatch<React.SetStateAction<boolean>>\n}\n\n/**\n * This must be exported to use the context in class components.\n */\nexport const QueryVisualizationContext = createContext<\n  QueryVisualizationContextType | undefined\n>(undefined)\n\nexport type QueryVisualizationContextProviderProps = React.PropsWithChildren<{\n  queryVisualizationContext: QueryVisualizationContextType\n}>\n\n/**\n * Provides fields and functions related to visualizing a Synapse table query. For actual query data, see QueryContextProvider.\n */\nexport const QueryVisualizationContextProvider = ({\n  children,\n  queryVisualizationContext,\n}: QueryVisualizationContextProviderProps) => {\n  return (\n    <QueryVisualizationContext.Provider value={queryVisualizationContext}>\n      {children}\n    </QueryVisualizationContext.Provider>\n  )\n}\n\nexport function useQueryVisualizationContext(): QueryVisualizationContextType {\n  const context = useContext(QueryVisualizationContext)\n  if (context === undefined) {\n    throw new Error(\n      'useQueryVisualizationContext must be used within a QueryWrapper',\n    )\n  }\n  return context\n}\n\nexport const QueryVisualizationContextConsumer =\n  QueryVisualizationContext.Consumer\n\nexport type QueryVisualizationWrapperProps = {\n  children: React.ReactNode | React.ReactNode[]\n  rgbIndex?: number\n  /** The singular word to use to describe a what a row represents (e.g. \"file\"). Defaults to \"result\" */\n  unitDescription?: string\n  /** Mapping from column name to the name that should be shown for the column */\n  columnAliases?: Record<string, string>\n  visibleColumnCount?: number\n  hiddenColumns?: string[]\n  defaultShowFacetVisualization?: boolean\n  defaultShowSearchBar?: boolean\n  showLastUpdatedOn?: boolean\n  /** Default is INTERACTIVE */\n  noContentPlaceholderType?: NoContentPlaceholderType\n  isRowSelectionVisible?: boolean\n  /** The set of columns that defines a uniqueness constraint on the table for the purposes of filtering based on row selection.\n   * Note that Synapse tables have no internal concept of a primary key.\n   */\n  rowSelectionPrimaryKey?: string[]\n}\n\n/**\n * QueryVisualizationWrapper manages UI state for components that query tables in Synapse. That state can be accessed\n * or updated using QueryVisualizationContext. A QueryVisualizationWrapper must be used within a QueryWrapper.\n */\nexport function QueryVisualizationWrapper(\n  props: QueryVisualizationWrapperProps,\n) {\n  const {\n    noContentPlaceholderType = NoContentPlaceholderType.INTERACTIVE,\n    isRowSelectionVisible = false,\n    columnAliases = {},\n    defaultShowSearchBar = false,\n    defaultShowFacetVisualization = true,\n  } = props\n\n  const {\n    data,\n    entity,\n    getLastQueryRequest,\n    isFacetsAvailable,\n    hasResettableFilters,\n  } = useQueryContext()\n\n  let { rowSelectionPrimaryKey } = props\n  if (\n    !rowSelectionPrimaryKey &&\n    isFileViewOrDataset(entity) &&\n    data?.columnModels?.find(cm => cm.name === 'id')\n  ) {\n    // If the primary key isn't specified via props, and this is a file view/dataset, we can safely use the 'id' column as primary key, if it is present\n    // Note: Synapse tables don't have an internal concept of a primary key\n    rowSelectionPrimaryKey = ['id']\n  }\n  const [showSqlEditor, setShowSqlEditor] = useState(false)\n  const [showFacetVisualization, setShowFacetVisualization] = useState(\n    defaultShowFacetVisualization,\n  )\n  const [showCopyToClipboard, setShowCopyToClipboard] = useState(true)\n  const [showFacetFilter, setShowFacetFilter] = useState(true)\n\n  // The search bar and download confirmation should not be shown at the same time.\n  const [\n    showSearchBar,\n    setShowSearchBar,\n    showDownloadConfirmation,\n    setShowDownloadConfirmation,\n  ] = useMutuallyExclusiveState(defaultShowSearchBar, false)\n\n  const [isShowingExportToCavaticaModal, setIsShowingExportToCavaticaModal] =\n    useState<boolean>(false)\n\n  const [visibleColumns, setVisibleColumns] = useState<string[]>([])\n  const [selectedRows, setSelectedRows] = useState<Row[]>([])\n\n  const lastQueryRequest = getLastQueryRequest()\n\n  // We deep-compare-memoize the selectColumns so we don't reset visible columns when the reference changes, but not the contents (e.g. on page change)\n  const selectColumns = useDeepCompareMemoize(data?.selectColumns)\n\n  useEffect(() => {\n    // SWC-6030: If sql changes, reset what columns are visible\n    setVisibleColumns(\n      selectColumns\n        ?.slice(0, props.visibleColumnCount ?? Infinity)\n        .map(el => el.name) ?? [],\n    )\n  }, [selectColumns, lastQueryRequest.query.sql, props.visibleColumnCount])\n\n  const getColumnDisplayName = useCallback(\n    (columnName: string) => {\n      // SWC-5982: if force-display-original-column-names is set, then just return the string\n      const forceDisplayOriginalColumnName =\n        localStorage.getItem('force-display-original-column-names') === 'true'\n\n      if (!columnName || forceDisplayOriginalColumnName) {\n        return columnName\n      }\n      if (columnAliases[columnName]) {\n        return columnAliases[columnName]\n      }\n      return unCamelCase(columnName)\n    },\n    [columnAliases],\n  )\n\n  const NoContentPlaceholder = useCallback(() => {\n    switch (noContentPlaceholderType) {\n      case NoContentPlaceholderType.INTERACTIVE:\n        if (hasResettableFilters) {\n          return <SearchResultsNotFound />\n        } else {\n          return <ThisTableIsEmpty />\n        }\n      case NoContentPlaceholderType.STATIC:\n      default:\n        return <NoContentAvailable />\n    }\n  }, [noContentPlaceholderType, hasResettableFilters])\n\n  const context: QueryVisualizationContextType = {\n    columnsToShowInTable: visibleColumns,\n    setColumnsToShowInTable: setVisibleColumns,\n    selectedRows,\n    setSelectedRows,\n    rgbIndex: props.rgbIndex,\n    unitDescription: props.unitDescription || 'result',\n    showLastUpdatedOn: props.showLastUpdatedOn,\n    getColumnDisplayName,\n    getDisplayValue,\n    NoContentPlaceholder,\n    isRowSelectionVisible,\n    isShowingExportToCavaticaModal,\n    setIsShowingExportToCavaticaModal,\n    rowSelectionPrimaryKey,\n    showFacetFilter: isFacetsAvailable ? showFacetFilter : false,\n    setShowFacetFilter,\n    showSearchBar,\n    setShowSearchBar,\n    showDownloadConfirmation,\n    setShowDownloadConfirmation,\n    showSqlEditor,\n    setShowSqlEditor,\n    showFacetVisualization: isFacetsAvailable ? showFacetVisualization : false,\n    setShowFacetVisualization,\n    showCopyToClipboard,\n    setShowCopyToClipboard,\n    hasSelectedRows: isRowSelectionVisible && selectedRows.length > 0,\n  }\n  /**\n   * Render the children without any formatting\n   */\n  const { children } = props\n  return (\n    <QueryVisualizationContextProvider queryVisualizationContext={context}>\n      {children}\n    </QueryVisualizationContextProvider>\n  )\n}\n","import { Collapse } from '@mui/material'\nimport React, { useRef, useState } from 'react'\nimport { TextMatchesQueryFilter } from '@sage-bionetworks/synapse-types'\nimport { useQueryContext } from './QueryContext/QueryContext'\nimport { useQueryVisualizationContext } from './QueryVisualizationWrapper'\nimport { HelpPopover } from './HelpPopover'\nimport IconSvg from './IconSvg/IconSvg'\n\n// See PLFM-7011\nconst MIN_SEARCH_QUERY_LENGTH = 3\n\nexport type FullTextSearchProps = {\n  helpMessage?: string\n  helpUrl?: string\n}\n\nexport const FullTextSearch: React.FunctionComponent<FullTextSearchProps> = ({\n  helpMessage = 'This search bar is powered by MySQL Full Text Search.',\n  helpUrl,\n}: FullTextSearchProps) => {\n  const { executeQueryRequest, getLastQueryRequest } = useQueryContext()\n  const { showSearchBar } = useQueryVisualizationContext()\n  const [searchText, setSearchText] = useState('')\n  const searchInputRef = useRef<HTMLInputElement>(null)\n\n  const search = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault()\n\n    // The HTML validation doesn't trim the string, so we add an extra check.\n    // We don't auto-trim the form text ourselves because the user may still be focused on the input.\n    if (searchText.trim().length < MIN_SEARCH_QUERY_LENGTH) {\n      searchInputRef.current?.setCustomValidity(\n        `Search term must have a minimum of ${MIN_SEARCH_QUERY_LENGTH} characters`,\n      )\n    } else {\n      const lastQueryRequestDeepClone = getLastQueryRequest()\n\n      const { additionalFilters = [] } = lastQueryRequestDeepClone.query\n\n      const textMatchesQueryFilter: TextMatchesQueryFilter = {\n        concreteType:\n          'org.sagebionetworks.repo.model.table.TextMatchesQueryFilter',\n        searchExpression: searchText,\n      }\n      // PORTALS-2093: does this additional filter already exist?\n      const found = additionalFilters.find(\n        filter =>\n          filter.concreteType == textMatchesQueryFilter.concreteType &&\n          (filter as TextMatchesQueryFilter).searchExpression ==\n            textMatchesQueryFilter.searchExpression,\n      )\n      if (found) {\n        return\n      }\n      additionalFilters.push(textMatchesQueryFilter)\n\n      lastQueryRequestDeepClone.query.additionalFilters = additionalFilters\n      executeQueryRequest(lastQueryRequestDeepClone)\n      // reset the search text after adding this filter\n      setSearchText('')\n    }\n  }\n\n  const handleChange = (event: React.FormEvent<HTMLInputElement>) => {\n    searchInputRef.current?.setCustomValidity('')\n    setSearchText(event.currentTarget.value)\n  }\n\n  return (\n    <div className={`QueryWrapperSearchInput`}>\n      <Collapse in={showSearchBar} timeout={{ enter: 300, exit: 300 }}>\n        <div className=\"QueryWrapperSearchInput__helppopoverwrapper\">\n          <form\n            className=\"QueryWrapperSearchInput__searchbar\"\n            onSubmit={search}\n          >\n            <span className=\"QueryWrapperSearchInput__searchbar__searchicon\">\n              <IconSvg icon=\"search\" />\n            </span>\n            <input\n              ref={searchInputRef}\n              minLength={MIN_SEARCH_QUERY_LENGTH}\n              onChange={handleChange}\n              placeholder=\"Enter Search Terms\"\n              value={searchText}\n              type=\"text\"\n            />\n            {searchText.length > 0 && (\n              <button\n                className=\"QueryWrapperSearchInput__searchbar__clearbutton\"\n                type=\"button\"\n                onClick={() => {\n                  setSearchText('')\n                }}\n              >\n                <IconSvg icon=\"close\" />\n              </button>\n            )}\n          </form>\n          <div className=\"QueryWrapperSearchInput__helppopover\">\n            <HelpPopover\n              markdownText={helpMessage}\n              helpUrl={helpUrl}\n              placement=\"left\"\n            />\n          </div>\n        </div>\n      </Collapse>\n    </div>\n  )\n}\n\nexport default FullTextSearch\n","var hasExcape = /~/\nvar escapeMatcher = /~[01]/g\nfunction escapeReplacer (m) {\n  switch (m) {\n    case '~1': return '/'\n    case '~0': return '~'\n  }\n  throw new Error('Invalid tilde escape: ' + m)\n}\n\nfunction untilde (str) {\n  if (!hasExcape.test(str)) return str\n  return str.replace(escapeMatcher, escapeReplacer)\n}\n\nfunction setter (obj, pointer, value) {\n  var part\n  var hasNextPart\n\n  for (var p = 1, len = pointer.length; p < len;) {\n    if (pointer[p] === 'constructor' || pointer[p] === 'prototype' || pointer[p] === '__proto__') return obj\n\n    part = untilde(pointer[p++])\n    hasNextPart = len > p\n\n    if (typeof obj[part] === 'undefined') {\n      // support setting of /-\n      if (Array.isArray(obj) && part === '-') {\n        part = obj.length\n      }\n\n      // support nested objects/array when setting values\n      if (hasNextPart) {\n        if ((pointer[p] !== '' && pointer[p] < Infinity) || pointer[p] === '-') obj[part] = []\n        else obj[part] = {}\n      }\n    }\n\n    if (!hasNextPart) break\n    obj = obj[part]\n  }\n\n  var oldValue = obj[part]\n  if (value === undefined) delete obj[part]\n  else obj[part] = value\n  return oldValue\n}\n\nfunction compilePointer (pointer) {\n  if (typeof pointer === 'string') {\n    pointer = pointer.split('/')\n    if (pointer[0] === '') return pointer\n    throw new Error('Invalid JSON pointer.')\n  } else if (Array.isArray(pointer)) {\n    for (const part of pointer) {\n      if (typeof part !== 'string' && typeof part !== 'number') {\n        throw new Error('Invalid JSON pointer. Must be of type string or number.')\n      }\n    }\n    return pointer\n  }\n\n  throw new Error('Invalid JSON pointer.')\n}\n\nfunction get (obj, pointer) {\n  if (typeof obj !== 'object') throw new Error('Invalid input object.')\n  pointer = compilePointer(pointer)\n  var len = pointer.length\n  if (len === 1) return obj\n\n  for (var p = 1; p < len;) {\n    obj = obj[untilde(pointer[p++])]\n    if (len === p) return obj\n    if (typeof obj !== 'object' || obj === null) return undefined\n  }\n}\n\nfunction set (obj, pointer, value) {\n  if (typeof obj !== 'object') throw new Error('Invalid input object.')\n  pointer = compilePointer(pointer)\n  if (pointer.length === 0) throw new Error('Invalid JSON pointer for set.')\n  return setter(obj, pointer, value)\n}\n\nfunction compile (pointer) {\n  var compiled = compilePointer(pointer)\n  return {\n    get: function (object) {\n      return get(object, compiled)\n    },\n    set: function (object, value) {\n      return set(object, compiled, value)\n    }\n  }\n}\n\nexports.get = get\nexports.set = set\nexports.compile = compile\n","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","var baseUniq = require('./_baseUniq');\n\n/**\n * This method is like `_.uniq` except that it accepts `comparator` which\n * is invoked to compare elements of `array`. The order of result values is\n * determined by the order they occur in the array.The comparator is invoked\n * with two arguments: (arrVal, othVal).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 2 }];\n *\n * _.uniqWith(objects, _.isEqual);\n * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]\n */\nfunction uniqWith(array, comparator) {\n  comparator = typeof comparator == 'function' ? comparator : undefined;\n  return (array && array.length) ? baseUniq(array, undefined, comparator) : [];\n}\n\nmodule.exports = uniqWith;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    arrayMap = require('./_arrayMap'),\n    baseUnary = require('./_baseUnary'),\n    cacheHas = require('./_cacheHas');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * The base implementation of methods like `_.intersection`, without support\n * for iteratee shorthands, that accepts an array of arrays to inspect.\n *\n * @private\n * @param {Array} arrays The arrays to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of shared values.\n */\nfunction baseIntersection(arrays, iteratee, comparator) {\n  var includes = comparator ? arrayIncludesWith : arrayIncludes,\n      length = arrays[0].length,\n      othLength = arrays.length,\n      othIndex = othLength,\n      caches = Array(othLength),\n      maxLength = Infinity,\n      result = [];\n\n  while (othIndex--) {\n    var array = arrays[othIndex];\n    if (othIndex && iteratee) {\n      array = arrayMap(array, baseUnary(iteratee));\n    }\n    maxLength = nativeMin(array.length, maxLength);\n    caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))\n      ? new SetCache(othIndex && array)\n      : undefined;\n  }\n  array = arrays[0];\n\n  var index = -1,\n      seen = caches[0];\n\n  outer:\n  while (++index < length && result.length < maxLength) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (!(seen\n          ? cacheHas(seen, computed)\n          : includes(result, computed, comparator)\n        )) {\n      othIndex = othLength;\n      while (--othIndex) {\n        var cache = caches[othIndex];\n        if (!(cache\n              ? cacheHas(cache, computed)\n              : includes(arrays[othIndex], computed, comparator))\n            ) {\n          continue outer;\n        }\n      }\n      if (seen) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseIntersection;\n","var isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Casts `value` to an empty array if it's not an array like object.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Array|Object} Returns the cast array-like object.\n */\nfunction castArrayLikeObject(value) {\n  return isArrayLikeObject(value) ? value : [];\n}\n\nmodule.exports = castArrayLikeObject;\n","var arrayMap = require('./_arrayMap'),\n    baseIntersection = require('./_baseIntersection'),\n    baseRest = require('./_baseRest'),\n    castArrayLikeObject = require('./_castArrayLikeObject'),\n    last = require('./last');\n\n/**\n * This method is like `_.intersection` except that it accepts `comparator`\n * which is invoked to compare elements of `arrays`. The order and references\n * of result values are determined by the first array. The comparator is\n * invoked with two arguments: (arrVal, othVal).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of intersecting values.\n * @example\n *\n * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n *\n * _.intersectionWith(objects, others, _.isEqual);\n * // => [{ 'x': 1, 'y': 2 }]\n */\nvar intersectionWith = baseRest(function(arrays) {\n  var comparator = last(arrays),\n      mapped = arrayMap(arrays, castArrayLikeObject);\n\n  comparator = typeof comparator == 'function' ? comparator : undefined;\n  if (comparator) {\n    mapped.pop();\n  }\n  return (mapped.length && mapped[0] === arrays[0])\n    ? baseIntersection(mapped, undefined, comparator)\n    : [];\n});\n\nmodule.exports = intersectionWith;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]';\n\n/**\n * Checks if `value` is classified as a boolean primitive or object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a boolean, else `false`.\n * @example\n *\n * _.isBoolean(false);\n * // => true\n *\n * _.isBoolean(null);\n * // => false\n */\nfunction isBoolean(value) {\n  return value === true || value === false ||\n    (isObjectLike(value) && baseGetTag(value) == boolTag);\n}\n\nmodule.exports = isBoolean;\n","var isEqual = require('lodash/isEqual')\nvar sortBy = require('lodash/sortBy')\nvar uniq = require('lodash/uniq')\nvar uniqWith = require('lodash/uniqWith')\nvar defaults = require('lodash/defaults')\nvar intersectionWith = require('lodash/intersectionWith')\nvar isPlainObject = require('lodash/isPlainObject')\nvar isBoolean = require('lodash/isBoolean')\n\nvar normalizeArray = val => Array.isArray(val)\n  ? val : [val]\nvar undef = val => val === undefined\nvar keys = obj => isPlainObject(obj) || Array.isArray(obj) ? Object.keys(obj) : []\nvar has = (obj, key) => obj.hasOwnProperty(key)\nvar stringArray = arr => sortBy(uniq(arr))\nvar undefEmpty = val => undef(val) || (Array.isArray(val) && val.length === 0)\nvar keyValEqual = (a, b, key, compare) => b && has(b, key) && a && has(a, key) && compare(a[key], b[key])\nvar undefAndZero = (a, b) => (undef(a) && b === 0) || (undef(b) && a === 0) || isEqual(a, b)\nvar falseUndefined = (a, b) => (undef(a) && b === false) || (undef(b) && a === false) || isEqual(a, b)\nvar emptySchema = schema => undef(schema) || isEqual(schema, {}) || schema === true\nvar emptyObjUndef = schema => undef(schema) || isEqual(schema, {})\nvar isSchema = val => undef(val) || isPlainObject(val) || val === true || val === false\n\nfunction undefArrayEqual(a, b) {\n  if (undefEmpty(a) && undefEmpty(b)) {\n    return true\n  } else {\n    return isEqual(stringArray(a), stringArray(b))\n  }\n}\n\nfunction unsortedNormalizedArray(a, b) {\n  a = normalizeArray(a)\n  b = normalizeArray(b)\n  return isEqual(stringArray(a), stringArray(b))\n}\n\nfunction schemaGroup(a, b, key, compare) {\n  var allProps = uniq(keys(a).concat(keys(b)))\n  if (emptyObjUndef(a) && emptyObjUndef(b)) {\n    return true\n  } else if (emptyObjUndef(a) && keys(b).length) {\n    return false\n  } else if (emptyObjUndef(b) && keys(a).length) {\n    return false\n  }\n\n  return allProps.every(function(key) {\n    var aVal = a[key]\n    var bVal = b[key]\n    if (Array.isArray(aVal) && Array.isArray(bVal)) {\n      return isEqual(stringArray(a), stringArray(b))\n    } else if (Array.isArray(aVal) && !Array.isArray(bVal)) {\n      return false\n    } else if (Array.isArray(bVal) && !Array.isArray(aVal)) {\n      return false\n    }\n    return keyValEqual(a, b, key, compare)\n  })\n}\n\nfunction items(a, b, key, compare) {\n  if (isPlainObject(a) && isPlainObject(b)) {\n    return compare(a, b)\n  } else if (Array.isArray(a) && Array.isArray(b)) {\n    return schemaGroup(a, b, key, compare)\n  } else {\n    return isEqual(a, b)\n  }\n}\n\nfunction unsortedArray(a, b, key, compare) {\n  var uniqueA = uniqWith(a, compare)\n  var uniqueB = uniqWith(b, compare)\n  var inter = intersectionWith(uniqueA, uniqueB, compare)\n  return inter.length === Math.max(uniqueA.length, uniqueB.length)\n}\n\nvar comparers = {\n  title: isEqual,\n  uniqueItems: falseUndefined,\n  minLength: undefAndZero,\n  minItems: undefAndZero,\n  minProperties: undefAndZero,\n  required: undefArrayEqual,\n  enum: undefArrayEqual,\n  type: unsortedNormalizedArray,\n  items: items,\n  anyOf: unsortedArray,\n  allOf: unsortedArray,\n  oneOf: unsortedArray,\n  properties: schemaGroup,\n  patternProperties: schemaGroup,\n  dependencies: schemaGroup\n}\n\nvar acceptsUndefined = [\n  'properties',\n  'patternProperties',\n  'dependencies',\n  'uniqueItems',\n  'minLength',\n  'minItems',\n  'minProperties',\n  'required'\n]\n\nvar schemaProps = ['additionalProperties', 'additionalItems', 'contains', 'propertyNames', 'not']\n\nfunction compare(a, b, options) {\n  options = defaults(options, {\n    ignore: []\n  })\n\n  if (emptySchema(a) && emptySchema(b)) {\n    return true\n  }\n\n  if (!isSchema(a) || !isSchema(b)) {\n    throw new Error('Either of the values are not a JSON schema.')\n  }\n  if (a === b) {\n    return true\n  }\n\n  if (isBoolean(a) && isBoolean(b)) {\n    return a === b\n  }\n\n  if ((a === undefined && b === false) || (b === undefined && a === false)) {\n    return false\n  }\n\n  if ((undef(a) && !undef(b)) || (!undef(a) && undef(b))) {\n    return false\n  }\n\n  var allKeys = uniq(Object.keys(a).concat(Object.keys(b)))\n\n  if (options.ignore.length) {\n    allKeys = allKeys.filter(k => options.ignore.indexOf(k) === -1)\n  }\n\n  if (!allKeys.length) {\n    return true\n  }\n\n  function innerCompare(a, b) {\n    return compare(a, b, options)\n  }\n\n  return allKeys.every(function(key) {\n    var aValue = a[key]\n    var bValue = b[key]\n\n    if (schemaProps.indexOf(key) !== -1) {\n      return compare(aValue, bValue, options)\n    }\n\n    var comparer = comparers[key]\n    if (!comparer) {\n      comparer = isEqual\n    }\n\n    // do simple lodash check first\n    if (isEqual(aValue, bValue)) {\n      return true\n    }\n\n    if (acceptsUndefined.indexOf(key) === -1) {\n      if ((!has(a, key) && has(b, key)) || (has(a, key) && !has(b, key))) {\n        return aValue === bValue\n      }\n    }\n\n    var result = comparer(aValue, bValue, key, innerCompare)\n    if (!isBoolean(result)) {\n      throw new Error('Comparer must return true or false')\n    }\n    return result\n  })\n}\n\nmodule.exports = compare\n","'use strict';\n\n/**\n* FUNCTION: isArray( value )\n*\tValidates if a value is an array.\n*\n* @param {*} value - value to be validated\n* @returns {Boolean} boolean indicating whether value is an array\n*/\nfunction isArray( value ) {\n\treturn Object.prototype.toString.call( value ) === '[object Array]';\n} // end FUNCTION isArray()\n\n// EXPORTS //\n\nmodule.exports = Array.isArray || isArray;\n","/**\n*\n*\tVALIDATE: number\n*\n*\n*\tDESCRIPTION:\n*\t\t- Validates if a value is a number.\n*\n*\n*\tNOTES:\n*\t\t[1]\n*\n*\n*\tTODO:\n*\t\t[1]\n*\n*\n*\tLICENSE:\n*\t\tMIT\n*\n*\tCopyright (c) 2014. Athan Reines.\n*\n*\n*\tAUTHOR:\n*\t\tAthan Reines. kgryte@gmail.com. 2014.\n*\n*/\n\n'use strict';\n\n/**\n* FUNCTION: isNumber( value )\n*\tValidates if a value is a number.\n*\n* @param {*} value - value to be validated\n* @returns {Boolean} boolean indicating whether value is a number\n*/\nfunction isNumber( value ) {\n\treturn ( typeof value === 'number' || Object.prototype.toString.call( value ) === '[object Number]' ) && value.valueOf() === value.valueOf();\n} // end FUNCTION isNumber()\n\n\n// EXPORTS //\n\nmodule.exports = isNumber;\n","/**\n*\n*\tVALIDATE: integer\n*\n*\n*\tDESCRIPTION:\n*\t\t- Validates if a value is an integer.\n*\n*\n*\tNOTES:\n*\t\t[1]\n*\n*\n*\tTODO:\n*\t\t[1]\n*\n*\n*\tLICENSE:\n*\t\tMIT\n*\n*\tCopyright (c) 2014. Athan Reines.\n*\n*\n*\tAUTHOR:\n*\t\tAthan Reines. kgryte@gmail.com. 2014.\n*\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isNumber = require( 'validate.io-number' );\n\n\n// ISINTEGER //\n\n/**\n* FUNCTION: isInteger( value )\n*\tValidates if a value is an integer.\n*\n* @param {Number} value - value to be validated\n* @returns {Boolean} boolean indicating whether value is an integer\n*/\nfunction isInteger( value ) {\n\treturn isNumber( value ) && value%1 === 0;\n} // end FUNCTION isInteger()\n\n\n// EXPORTS //\n\nmodule.exports = isInteger;\n","/**\n*\n*\tVALIDATE: integer-array\n*\n*\n*\tDESCRIPTION:\n*\t\t- Validates if a value is an integer array.\n*\n*\n*\tNOTES:\n*\t\t[1]\n*\n*\n*\tTODO:\n*\t\t[1]\n*\n*\n*\tLICENSE:\n*\t\tMIT\n*\n*\tCopyright (c) 2015. Athan Reines.\n*\n*\n*\tAUTHOR:\n*\t\tAthan Reines. kgryte@gmail.com. 2015.\n*\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isArray = require( 'validate.io-array' ),\n\tisInteger = require( 'validate.io-integer' );\n\n\n// IS INTEGER ARRAY //\n\n/**\n* FUNCTION: isIntegerArray( value )\n*\tValidates if a value is an integer array.\n*\n* @param {*} value - value to be validated\n* @returns {Boolean} boolean indicating if a value is an integer array\n*/\nfunction isIntegerArray( value ) {\n\tvar len;\n\tif ( !isArray( value ) ) {\n\t\treturn false;\n\t}\n\tlen = value.length;\n\tif ( !len ) {\n\t\treturn false;\n\t}\n\tfor ( var i = 0; i < len; i++ ) {\n\t\tif ( !isInteger( value[i] ) ) {\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n} // end FUNCTION isIntegerArray()\n\n\n// EXPORTS //\n\nmodule.exports = isIntegerArray;\n","/**\n*\n*\tVALIDATE: function\n*\n*\n*\tDESCRIPTION:\n*\t\t- Validates if a value is a function.\n*\n*\n*\tNOTES:\n*\t\t[1]\n*\n*\n*\tTODO:\n*\t\t[1]\n*\n*\n*\tLICENSE:\n*\t\tMIT\n*\n*\tCopyright (c) 2014. Athan Reines.\n*\n*\n*\tAUTHOR:\n*\t\tAthan Reines. kgryte@gmail.com. 2014.\n*\n*/\n\n'use strict';\n\n/**\n* FUNCTION: isFunction( value )\n*\tValidates if a value is a function.\n*\n* @param {*} value - value to be validated\n* @returns {Boolean} boolean indicating whether value is a function\n*/\nfunction isFunction( value ) {\n\treturn ( typeof value === 'function' );\n} // end FUNCTION isFunction()\n\n\n// EXPORTS //\n\nmodule.exports = isFunction;\n","'use strict';\n\n// MODULES //\n\nvar isArray = require( 'validate.io-array' ),\n\tisIntegerArray = require( 'validate.io-integer-array' ),\n\tisFunction = require( 'validate.io-function' );\n\n\n// VARIABLES //\n\nvar MAXINT = Math.pow( 2, 31 ) - 1;\n\n\n// FUNCTIONS //\n\n/**\n* FUNCTION: gcd( a, b )\n*\tComputes the greatest common divisor of two integers `a` and `b`, using the binary GCD algorithm.\n*\n* @param {Number} a - integer\n* @param {Number} b - integer\n* @returns {Number} greatest common divisor\n*/\nfunction gcd( a, b ) {\n\tvar k = 1,\n\t\tt;\n\t// Simple cases:\n\tif ( a === 0 ) {\n\t\treturn b;\n\t}\n\tif ( b === 0 ) {\n\t\treturn a;\n\t}\n\t// Reduce `a` and/or `b` to odd numbers and keep track of the greatest power of 2 dividing both `a` and `b`...\n\twhile ( a%2 === 0 && b%2 === 0 ) {\n\t\ta = a / 2; // right shift\n\t\tb = b / 2; // right shift\n\t\tk = k * 2; // left shift\n\t}\n\t// Reduce `a` to an odd number...\n\twhile ( a%2 === 0 ) {\n\t\ta = a / 2; // right shift\n\t}\n\t// Henceforth, `a` is always odd...\n\twhile ( b ) {\n\t\t// Remove all factors of 2 in `b`, as they are not common...\n\t\twhile ( b%2 === 0 ) {\n\t\t\tb = b / 2; // right shift\n\t\t}\n\t\t// `a` and `b` are both odd. Swap values such that `b` is the larger of the two values, and then set `b` to the difference (which is even)...\n\t\tif ( a > b ) {\n\t\t\tt = b;\n\t\t\tb = a;\n\t\t\ta = t;\n\t\t}\n\t\tb = b - a; // b=0 iff b=a\n\t}\n\t// Restore common factors of 2...\n\treturn k * a;\n} // end FUNCTION gcd()\n\n/**\n* FUNCTION: bitwise( a, b )\n*\tComputes the greatest common divisor of two integers `a` and `b`, using the binary GCD algorithm and bitwise operations.\n*\n* @param {Number} a - safe integer\n* @param {Number} b - safe integer\n* @returns {Number} greatest common divisor\n*/\nfunction bitwise( a, b ) {\n\tvar k = 0,\n\t\tt;\n\t// Simple cases:\n\tif ( a === 0 ) {\n\t\treturn b;\n\t}\n\tif ( b === 0 ) {\n\t\treturn a;\n\t}\n\t// Reduce `a` and/or `b` to odd numbers and keep track of the greatest power of 2 dividing both `a` and `b`...\n\twhile ( (a & 1) === 0 && (b & 1) === 0 ) {\n\t\ta >>>= 1; // right shift\n\t\tb >>>= 1; // right shift\n\t\tk++;\n\t}\n\t// Reduce `a` to an odd number...\n\twhile ( (a & 1) === 0 ) {\n\t\ta >>>= 1; // right shift\n\t}\n\t// Henceforth, `a` is always odd...\n\twhile ( b ) {\n\t\t// Remove all factors of 2 in `b`, as they are not common...\n\t\twhile ( (b & 1) === 0 ) {\n\t\t\tb >>>= 1; // right shift\n\t\t}\n\t\t// `a` and `b` are both odd. Swap values such that `b` is the larger of the two values, and then set `b` to the difference (which is even)...\n\t\tif ( a > b ) {\n\t\t\tt = b;\n\t\t\tb = a;\n\t\t\ta = t;\n\t\t}\n\t\tb = b - a; // b=0 iff b=a\n\t}\n\t// Restore common factors of 2...\n\treturn a << k;\n} // end FUNCTION bitwise()\n\n\n// GREATEST COMMON DIVISOR //\n\n/**\n* FUNCTION: compute( arr[, clbk] )\n*\tComputes the greatest common divisor.\n*\n* @param {Number[]|Number} arr - input array of integers\n* @param {Function|Number} [clbk] - accessor function for accessing array values\n* @returns {Number|Null} greatest common divisor or null\n*/\nfunction compute() {\n\tvar nargs = arguments.length,\n\t\targs,\n\t\tclbk,\n\t\tarr,\n\t\tlen,\n\t\ta, b,\n\t\ti;\n\n\t// Copy the input arguments to an array...\n\targs = new Array( nargs );\n\tfor ( i = 0; i < nargs; i++ ) {\n\t\targs[ i ] = arguments[ i ];\n\t}\n\t// Have we been provided with integer arguments?\n\tif ( isIntegerArray( args ) ) {\n\t\tif ( nargs === 2 ) {\n\t\t\ta = args[ 0 ];\n\t\t\tb = args[ 1 ];\n\t\t\tif ( a < 0 ) {\n\t\t\t\ta = -a;\n\t\t\t}\n\t\t\tif ( b < 0 ) {\n\t\t\t\tb = -b;\n\t\t\t}\n\t\t\tif ( a <= MAXINT && b <= MAXINT ) {\n\t\t\t\treturn bitwise( a, b );\n\t\t\t} else {\n\t\t\t\treturn gcd( a, b );\n\t\t\t}\n\t\t}\n\t\tarr = args;\n\t}\n\t// If not integers, ensure the first argument is an array...\n\telse if ( !isArray( args[ 0 ] ) ) {\n\t\tthrow new TypeError( 'gcd()::invalid input argument. Must provide an array of integers. Value: `' + args[ 0 ] + '`.' );\n\t}\n\t// Have we been provided with more than one argument? If so, ensure that the accessor argument is a function...\n\telse if ( nargs > 1 ) {\n\t\tarr = args[ 0 ];\n\t\tclbk = args[ 1 ];\n\t\tif ( !isFunction( clbk ) ) {\n\t\t\tthrow new TypeError( 'gcd()::invalid input argument. Accessor must be a function. Value: `' + clbk + '`.' );\n\t\t}\n\t}\n\t// We have been provided an array...\n\telse {\n\t\tarr = args[ 0 ];\n\t}\n\tlen = arr.length;\n\n\t// Check if a sufficient number of values have been provided...\n\tif ( len < 2 ) {\n\t\treturn null;\n\t}\n\t// If an accessor is provided, extract the array values...\n\tif ( clbk ) {\n\t\ta = new Array( len );\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\ta[ i ] = clbk( arr[ i ], i );\n\t\t}\n\t\tarr = a;\n\t}\n\t// Given an input array, ensure all array values are integers...\n\tif ( nargs < 3 ) {\n\t\tif ( !isIntegerArray( arr ) ) {\n\t\t\tthrow new TypeError( 'gcd()::invalid input argument. Accessed array values must be integers. Value: `' + arr + '`.' );\n\t\t}\n\t}\n\t// Convert any negative integers to positive integers...\n\tfor ( i = 0; i < len; i++ ) {\n\t\ta = arr[ i ];\n\t\tif ( a < 0 ) {\n\t\t\tarr[ i ] = -a;\n\t\t}\n\t}\n\t// Exploit the fact that the gcd is an associative function...\n\ta = arr[ 0 ];\n\tfor ( i = 1; i < len; i++ ) {\n\t\tb = arr[ i ];\n\t\tif ( b <= MAXINT && a <= MAXINT ) {\n\t\t\ta = bitwise( a, b );\n\t\t} else {\n\t\t\ta = gcd( a, b );\n\t\t}\n\t}\n\treturn a;\n} // end FUNCTION compute()\n\n\n// EXPORTS //\n\nmodule.exports = compute;\n","'use strict';\n\n// MODULES //\n\nvar gcd = require( 'compute-gcd' ),\n\tisArray = require( 'validate.io-array' ),\n\tisIntegerArray = require( 'validate.io-integer-array' ),\n\tisFunction = require( 'validate.io-function' );\n\n\n// LEAST COMMON MULTIPLE //\n\n/**\n* FUNCTION: lcm( arr[, clbk] )\n*\tComputes the least common multiple (lcm).\n*\n* @param {Number[]|Number} arr - input array of integers\n* @param {Function|Number} [accessor] - accessor function for accessing array values\n* @returns {Number|Null} least common multiple or null\n*/\nfunction lcm() {\n\tvar nargs = arguments.length,\n\t\targs,\n\t\tclbk,\n\t\tarr,\n\t\tlen,\n\t\ta, b,\n\t\ti;\n\n\t// Copy the input arguments to an array...\n\targs = new Array( nargs );\n\tfor ( i = 0; i < nargs; i++ ) {\n\t\targs[ i ] = arguments[ i ];\n\t}\n\t// Have we been provided with integer arguments?\n\tif ( isIntegerArray( args ) ) {\n\t\tif ( nargs === 2 ) {\n\t\t\ta = args[ 0 ];\n\t\t\tb = args[ 1 ];\n\t\t\tif ( a < 0 ) {\n\t\t\t\ta = -a;\n\t\t\t}\n\t\t\tif ( b < 0 ) {\n\t\t\t\tb = -b;\n\t\t\t}\n\t\t\tif ( a === 0 || b === 0 ) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\treturn ( a/gcd(a,b) ) * b;\n\t\t}\n\t\tarr = args;\n\t}\n\t// If not integers, ensure that the first argument is an array...\n\telse if ( !isArray( args[ 0 ] ) ) {\n\t\tthrow new TypeError( 'lcm()::invalid input argument. Must provide an array of integers. Value: `' + args[ 0 ] + '`.' );\n\t}\n\t// Have we been provided with more than one argument? If so, ensure that the accessor argument is a function...\n\telse if ( nargs > 1 ) {\n\t\tarr = args[ 0 ];\n\t\tclbk = args[ 1 ];\n\t\tif ( !isFunction( clbk ) ) {\n\t\t\tthrow new TypeError( 'lcm()::invalid input argument. Accessor must be a function. Value: `' + clbk + '`.' );\n\t\t}\n\t}\n\t// We have been provided an array...\n\telse {\n\t\tarr = args[ 0 ];\n\t}\n\tlen = arr.length;\n\n\t// Check if a sufficient number of values have been provided...\n\tif ( len < 2 ) {\n\t\treturn null;\n\t}\n\t// If an accessor is provided, extract the array values...\n\tif ( clbk ) {\n\t\ta = new Array( len );\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\ta[ i ] = clbk( arr[ i ], i );\n\t\t}\n\t\tarr = a;\n\t}\n\t// Given an input array, ensure all array values are integers...\n\tif ( nargs < 3 ) {\n\t\tif ( !isIntegerArray( arr ) ) {\n\t\t\tthrow new TypeError( 'lcm()::invalid input argument. Accessed array values must be integers. Value: `' + arr + '`.' );\n\t\t}\n\t}\n\t// Convert any negative integers to positive integers...\n\tfor ( i = 0; i < len; i++ ) {\n\t\ta = arr[ i ];\n\t\tif ( a < 0 ) {\n\t\t\tarr[ i ] = -a;\n\t\t}\n\t}\n\t// Exploit the fact that the lcm is an associative function...\n\ta = arr[ 0 ];\n\tfor ( i = 1; i < len; i++ ) {\n\t\tb = arr[ i ];\n\t\tif ( a === 0 || b === 0 ) {\n\t\t\treturn 0;\n\t\t}\n\t\ta = ( a/gcd(a,b) ) * b;\n\t}\n\treturn a;\n} // end FUNCTION lcm()\n\n\n// EXPORTS //\n\nmodule.exports = lcm;\n","var baseMerge = require('./_baseMerge'),\n    isObject = require('./isObject');\n\n/**\n * Used by `_.defaultsDeep` to customize its `_.merge` use to merge source\n * objects into destination objects that are passed thru.\n *\n * @private\n * @param {*} objValue The destination value.\n * @param {*} srcValue The source value.\n * @param {string} key The key of the property to merge.\n * @param {Object} object The parent object of `objValue`.\n * @param {Object} source The parent object of `srcValue`.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n * @returns {*} Returns the value to assign.\n */\nfunction customDefaultsMerge(objValue, srcValue, key, object, source, stack) {\n  if (isObject(objValue) && isObject(srcValue)) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, objValue);\n    baseMerge(objValue, srcValue, undefined, customDefaultsMerge, stack);\n    stack['delete'](srcValue);\n  }\n  return objValue;\n}\n\nmodule.exports = customDefaultsMerge;\n","var baseMerge = require('./_baseMerge'),\n    createAssigner = require('./_createAssigner');\n\n/**\n * This method is like `_.merge` except that it accepts `customizer` which\n * is invoked to produce the merged values of the destination and source\n * properties. If `customizer` returns `undefined`, merging is handled by the\n * method instead. The `customizer` is invoked with six arguments:\n * (objValue, srcValue, key, object, source, stack).\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} sources The source objects.\n * @param {Function} customizer The function to customize assigned values.\n * @returns {Object} Returns `object`.\n * @example\n *\n * function customizer(objValue, srcValue) {\n *   if (_.isArray(objValue)) {\n *     return objValue.concat(srcValue);\n *   }\n * }\n *\n * var object = { 'a': [1], 'b': [2] };\n * var other = { 'a': [3], 'b': [4] };\n *\n * _.mergeWith(object, other, customizer);\n * // => { 'a': [1, 3], 'b': [2, 4] }\n */\nvar mergeWith = createAssigner(function(object, source, srcIndex, customizer) {\n  baseMerge(object, source, srcIndex, customizer);\n});\n\nmodule.exports = mergeWith;\n","var apply = require('./_apply'),\n    baseRest = require('./_baseRest'),\n    customDefaultsMerge = require('./_customDefaultsMerge'),\n    mergeWith = require('./mergeWith');\n\n/**\n * This method is like `_.defaults` except that it recursively assigns\n * default properties.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 3.10.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.defaults\n * @example\n *\n * _.defaultsDeep({ 'a': { 'b': 2 } }, { 'a': { 'b': 1, 'c': 3 } });\n * // => { 'a': { 'b': 2, 'c': 3 } }\n */\nvar defaultsDeep = baseRest(function(args) {\n  args.push(undefined, customDefaultsMerge);\n  return apply(mergeWith, undefined, args);\n});\n\nmodule.exports = defaultsDeep;\n","var baseFlatten = require('./_baseFlatten');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Recursively flattens `array`.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flattenDeep([1, [2, [3, [4]], 5]]);\n * // => [1, 2, 3, 4, 5]\n */\nfunction flattenDeep(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, INFINITY) : [];\n}\n\nmodule.exports = flattenDeep;\n","var arrayMap = require('./_arrayMap'),\n    baseIntersection = require('./_baseIntersection'),\n    baseRest = require('./_baseRest'),\n    castArrayLikeObject = require('./_castArrayLikeObject');\n\n/**\n * Creates an array of unique values that are included in all given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order and references of result values are\n * determined by the first array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @returns {Array} Returns the new array of intersecting values.\n * @example\n *\n * _.intersection([2, 1], [2, 3]);\n * // => [2]\n */\nvar intersection = baseRest(function(arrays) {\n  var mapped = arrayMap(arrays, castArrayLikeObject);\n  return (mapped.length && mapped[0] === arrays[0])\n    ? baseIntersection(mapped)\n    : [];\n});\n\nmodule.exports = intersection;\n","/**\n * This function is like `baseIndexOf` except that it accepts a comparator.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOfWith(array, value, fromIndex, comparator) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (comparator(array[index], value)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseIndexOfWith;\n","var arrayMap = require('./_arrayMap'),\n    baseIndexOf = require('./_baseIndexOf'),\n    baseIndexOfWith = require('./_baseIndexOfWith'),\n    baseUnary = require('./_baseUnary'),\n    copyArray = require('./_copyArray');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * The base implementation of `_.pullAllBy` without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to remove.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns `array`.\n */\nfunction basePullAll(array, values, iteratee, comparator) {\n  var indexOf = comparator ? baseIndexOfWith : baseIndexOf,\n      index = -1,\n      length = values.length,\n      seen = array;\n\n  if (array === values) {\n    values = copyArray(values);\n  }\n  if (iteratee) {\n    seen = arrayMap(array, baseUnary(iteratee));\n  }\n  while (++index < length) {\n    var fromIndex = 0,\n        value = values[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    while ((fromIndex = indexOf(seen, computed, fromIndex, comparator)) > -1) {\n      if (seen !== array) {\n        splice.call(seen, fromIndex, 1);\n      }\n      splice.call(array, fromIndex, 1);\n    }\n  }\n  return array;\n}\n\nmodule.exports = basePullAll;\n","var basePullAll = require('./_basePullAll');\n\n/**\n * This method is like `_.pull` except that it accepts an array of values to remove.\n *\n * **Note:** Unlike `_.difference`, this method mutates `array`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to modify.\n * @param {Array} values The values to remove.\n * @returns {Array} Returns `array`.\n * @example\n *\n * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n *\n * _.pullAll(array, ['a', 'c']);\n * console.log(array);\n * // => ['b', 'b']\n */\nfunction pullAll(array, values) {\n  return (array && array.length && values && values.length)\n    ? basePullAll(array, values)\n    : array;\n}\n\nmodule.exports = pullAll;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    arrayMap = require('./_arrayMap'),\n    baseUnary = require('./_baseUnary'),\n    cacheHas = require('./_cacheHas');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of methods like `_.difference` without support\n * for excluding multiple arrays or iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Array} values The values to exclude.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n */\nfunction baseDifference(array, values, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      isCommon = true,\n      length = array.length,\n      result = [],\n      valuesLength = values.length;\n\n  if (!length) {\n    return result;\n  }\n  if (iteratee) {\n    values = arrayMap(values, baseUnary(iteratee));\n  }\n  if (comparator) {\n    includes = arrayIncludesWith;\n    isCommon = false;\n  }\n  else if (values.length >= LARGE_ARRAY_SIZE) {\n    includes = cacheHas;\n    isCommon = false;\n    values = new SetCache(values);\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee == null ? value : iteratee(value);\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var valuesIndex = valuesLength;\n      while (valuesIndex--) {\n        if (values[valuesIndex] === computed) {\n          continue outer;\n        }\n      }\n      result.push(value);\n    }\n    else if (!includes(values, computed, comparator)) {\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseDifference;\n","var baseDifference = require('./_baseDifference'),\n    baseRest = require('./_baseRest'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array excluding all given values using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * **Note:** Unlike `_.pull`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...*} [values] The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.difference, _.xor\n * @example\n *\n * _.without([2, 1, 2, 3], 1, 2);\n * // => [3]\n */\nvar without = baseRest(function(array, values) {\n  return isArrayLikeObject(array)\n    ? baseDifference(array, values)\n    : [];\n});\n\nmodule.exports = without;\n","const flatten = require('lodash/flatten')\nconst flattenDeep = require('lodash/flattenDeep')\nconst isPlainObject = require('lodash/isPlainObject')\nconst uniq = require('lodash/uniq')\nconst uniqWith = require('lodash/uniqWith')\nconst without = require('lodash/without')\n\nfunction deleteUndefinedProps(returnObject) {\n  // cleanup empty\n  for (const prop in returnObject) {\n    if (has(returnObject, prop) && isEmptySchema(returnObject[prop])) {\n      delete returnObject[prop]\n    }\n  }\n  return returnObject\n}\n\nconst allUniqueKeys = (arr) => uniq(flattenDeep(arr.map(keys)))\nconst getValues = (schemas, key) => schemas.map(schema => schema && schema[key])\nconst has = (obj, propName) => Object.prototype.hasOwnProperty.call(obj, propName)\nconst keys = obj => {\n  if (isPlainObject(obj) || Array.isArray(obj)) {\n    return Object.keys(obj)\n  } else {\n    return []\n  }\n}\n\nconst notUndefined = (val) => val !== undefined\nconst isSchema = (val) => isPlainObject(val) || val === true || val === false\nconst isEmptySchema = (obj) => (!keys(obj).length) && obj !== false && obj !== true\nconst withoutArr = (arr, ...rest) => without.apply(null, [arr].concat(flatten(rest)))\n\nmodule.exports = {\n  allUniqueKeys,\n  deleteUndefinedProps,\n  getValues,\n  has,\n  isEmptySchema,\n  isSchema,\n  keys,\n  notUndefined,\n  uniqWith,\n  withoutArr\n}\n","\nconst compare = require('json-schema-compare')\nconst forEach = require('lodash/forEach')\nconst {\n  allUniqueKeys,\n  deleteUndefinedProps,\n  getValues,\n  keys,\n  notUndefined,\n  uniqWith,\n  withoutArr\n} = require('../common')\n\nfunction removeFalseSchemas(target) {\n  forEach(target, function(schema, prop) {\n    if (schema === false) {\n      delete target[prop]\n    }\n  })\n}\n\nfunction mergeSchemaGroup(group, mergeSchemas) {\n  const allKeys = allUniqueKeys(group)\n  return allKeys.reduce(function(all, key) {\n    const schemas = getValues(group, key)\n    const compacted = uniqWith(schemas.filter(notUndefined), compare)\n    all[key] = mergeSchemas(compacted, key)\n    return all\n  }, {})\n}\n\nmodule.exports = {\n  keywords: ['properties', 'patternProperties', 'additionalProperties'],\n  resolver(values, parents, mergers, options) {\n    // first get rid of all non permitted properties\n    if (!options.ignoreAdditionalProperties) {\n      values.forEach(function(subSchema) {\n        const otherSubSchemas = values.filter(s => s !== subSchema)\n        const ownKeys = keys(subSchema.properties)\n        const ownPatternKeys = keys(subSchema.patternProperties)\n        const ownPatterns = ownPatternKeys.map(k => new RegExp(k))\n        otherSubSchemas.forEach(function(other) {\n          const allOtherKeys = keys(other.properties)\n          const keysMatchingPattern = allOtherKeys.filter(k => ownPatterns.some(pk => pk.test(k)))\n          const additionalKeys = withoutArr(allOtherKeys, ownKeys, keysMatchingPattern)\n          additionalKeys.forEach(function(key) {\n            other.properties[key] = mergers.properties([\n              other.properties[key], subSchema.additionalProperties\n            ], key)\n          })\n        })\n      })\n\n      // remove disallowed patternProperties\n      values.forEach(function(subSchema) {\n        const otherSubSchemas = values.filter(s => s !== subSchema)\n        const ownPatternKeys = keys(subSchema.patternProperties)\n        if (subSchema.additionalProperties === false) {\n          otherSubSchemas.forEach(function(other) {\n            const allOtherPatterns = keys(other.patternProperties)\n            const additionalPatternKeys = withoutArr(allOtherPatterns, ownPatternKeys)\n            additionalPatternKeys.forEach(key => delete other.patternProperties[key])\n          })\n        }\n      })\n    }\n\n    const returnObject = {\n      additionalProperties: mergers.additionalProperties(values.map(s => s.additionalProperties)),\n      patternProperties: mergeSchemaGroup(values.map(s => s.patternProperties), mergers.patternProperties),\n      properties: mergeSchemaGroup(values.map(s => s.properties), mergers.properties)\n    }\n\n    if (returnObject.additionalProperties === false) {\n      removeFalseSchemas(returnObject.properties)\n    }\n\n    return deleteUndefinedProps(returnObject)\n  }\n}\n","\nconst compare = require('json-schema-compare')\nconst forEach = require('lodash/forEach')\nconst {\n  allUniqueKeys,\n  deleteUndefinedProps,\n  has,\n  isSchema,\n  notUndefined,\n  uniqWith\n} = require('../common')\n\nfunction removeFalseSchemasFromArray(target) {\n  forEach(target, function(schema, index) {\n    if (schema === false) {\n      target.splice(index, 1)\n    }\n  })\n}\n\nfunction getItemSchemas(subSchemas, key) {\n  return subSchemas.map(function(sub) {\n    if (!sub) {\n      return undefined\n    }\n\n    if (Array.isArray(sub.items)) {\n      const schemaAtPos = sub.items[key]\n      if (isSchema(schemaAtPos)) {\n        return schemaAtPos\n      } else if (has(sub, 'additionalItems')) {\n        return sub.additionalItems\n      }\n    } else {\n      return sub.items\n    }\n\n    return undefined\n  })\n}\n\nfunction getAdditionalSchemas(subSchemas) {\n  return subSchemas.map(function(sub) {\n    if (!sub) {\n      return undefined\n    }\n    if (Array.isArray(sub.items)) {\n      return sub.additionalItems\n    }\n    return sub.items\n  })\n}\n\n// Provide source when array\nfunction mergeItems(group, mergeSchemas, items) {\n  const allKeys = allUniqueKeys(items)\n  return allKeys.reduce(function(all, key) {\n    const schemas = getItemSchemas(group, key)\n    const compacted = uniqWith(schemas.filter(notUndefined), compare)\n    all[key] = mergeSchemas(compacted, key)\n    return all\n  }, [])\n}\n\nmodule.exports = {\n  keywords: ['items', 'additionalItems'],\n  resolver(values, parents, mergers) {\n    // const createSubMerger = groupKey => (schemas, key) => mergeSchemas(schemas, parents.concat(groupKey, key))\n    const items = values.map(s => s.items)\n    const itemsCompacted = items.filter(notUndefined)\n    const returnObject = {}\n\n    // if all items keyword values are schemas, we can merge them as simple schemas\n    // if not we need to merge them as mixed\n    if (itemsCompacted.every(isSchema)) {\n      returnObject.items = mergers.items(items)\n    } else {\n      returnObject.items = mergeItems(values, mergers.items, items)\n    }\n\n    let schemasAtLastPos\n    if (itemsCompacted.every(Array.isArray)) {\n      schemasAtLastPos = values.map(s => s.additionalItems)\n    } else if (itemsCompacted.some(Array.isArray)) {\n      schemasAtLastPos = getAdditionalSchemas(values)\n    }\n\n    if (schemasAtLastPos) {\n      returnObject.additionalItems = mergers.additionalItems(schemasAtLastPos)\n    }\n\n    if (returnObject.additionalItems === false && Array.isArray(returnObject.items)) {\n      removeFalseSchemasFromArray(returnObject.items)\n    }\n\n    return deleteUndefinedProps(returnObject)\n  }\n}\n","const cloneDeep = require('lodash/cloneDeep')\nconst compare = require('json-schema-compare')\nconst computeLcm = require('compute-lcm')\nconst defaultsDeep = require('lodash/defaultsDeep')\nconst flatten = require('lodash/flatten')\nconst flattenDeep = require('lodash/flattenDeep')\nconst intersection = require('lodash/intersection')\nconst intersectionWith = require('lodash/intersectionWith')\nconst isEqual = require('lodash/isEqual')\nconst isPlainObject = require('lodash/isPlainObject')\nconst pullAll = require('lodash/pullAll')\nconst sortBy = require('lodash/sortBy')\nconst uniq = require('lodash/uniq')\nconst uniqWith = require('lodash/uniqWith')\n\nconst propertiesResolver = require('./complex-resolvers/properties')\nconst itemsResolver = require('./complex-resolvers/items')\n\nconst contains = (arr, val) => arr.indexOf(val) !== -1\nconst isSchema = (val) => isPlainObject(val) || val === true || val === false\nconst isFalse = (val) => val === false\nconst isTrue = (val) => val === true\nconst schemaResolver = (compacted, key, mergeSchemas) => mergeSchemas(compacted)\nconst stringArray = (values) => sortBy(uniq(flattenDeep(values)))\nconst notUndefined = (val) => val !== undefined\nconst allUniqueKeys = (arr) => uniq(flattenDeep(arr.map(keys)))\n\n// resolvers\nconst first = compacted => compacted[0]\nconst required = compacted => stringArray(compacted)\nconst maximumValue = compacted => Math.max.apply(Math, compacted)\nconst minimumValue = compacted => Math.min.apply(Math, compacted)\nconst uniqueItems = compacted => compacted.some(isTrue)\nconst examples = compacted => uniqWith(flatten(compacted), isEqual)\n\nfunction compareProp(key) {\n  return function(a, b) {\n    return compare({\n      [key]: a\n    }, { [key]: b })\n  }\n}\n\nfunction getAllOf(schema) {\n  let { allOf = [], ...copy } = schema\n  copy = isPlainObject(schema) ? copy : schema // if schema is boolean\n  return [copy, ...allOf.map(getAllOf)]\n}\n\nfunction getValues(schemas, key) {\n  return schemas.map(schema => schema && schema[key])\n}\n\nfunction tryMergeSchemaGroups(schemaGroups, mergeSchemas) {\n  return schemaGroups.map(function(schemas, index) {\n    try {\n      return mergeSchemas(schemas, index)\n    } catch (e) {\n      return undefined\n    }\n  }).filter(notUndefined)\n}\n\nfunction keys(obj) {\n  if (isPlainObject(obj) || Array.isArray(obj)) {\n    return Object.keys(obj)\n  } else {\n    return []\n  }\n}\n\nfunction getAnyOfCombinations(arrOfArrays, combinations) {\n  combinations = combinations || []\n  if (!arrOfArrays.length) {\n    return combinations\n  }\n\n  const values = arrOfArrays.slice(0).shift()\n  const rest = arrOfArrays.slice(1)\n  if (combinations.length) {\n    return getAnyOfCombinations(rest, flatten(combinations.map(combination => values.map(item => ([item].concat(combination))))))\n  }\n  return getAnyOfCombinations(rest, values.map(item => (item)))\n}\n\nfunction throwIncompatible(values, paths) {\n  let asJSON\n  try {\n    asJSON = values.map(function(val) {\n      return JSON.stringify(val, null, 2)\n    }).join('\\n')\n  } catch (variable) {\n    asJSON = values.join(', ')\n  }\n  throw new Error('Could not resolve values for path:\"' + paths.join('.') + '\". They are probably incompatible. Values: \\n' + asJSON)\n}\n\nfunction callGroupResolver(complexKeywords, resolverName, schemas, mergeSchemas, options, parents) {\n  if (complexKeywords.length) {\n    const resolverConfig = options.complexResolvers[resolverName]\n    if (!resolverConfig || !resolverConfig.resolver) {\n      throw new Error('No resolver found for ' + resolverName)\n    }\n\n    // extract all keywords from all the schemas that have one or more\n    // then remove all undefined ones and not unique\n    const extractedKeywordsOnly = schemas.map(schema => complexKeywords.reduce((all, key) => {\n      if (schema[key] !== undefined) all[key] = schema[key]\n      return all\n    }, {}))\n    const unique = uniqWith(extractedKeywordsOnly, compare)\n\n    // create mergers that automatically add the path of the keyword for use in the complex resolver\n    const mergers = resolverConfig.keywords.reduce((all, key) => ({\n      ...all,\n      [key]: (schemas, extraKey = []) => mergeSchemas(schemas, null, parents.concat(key, extraKey))\n    }), {})\n\n    const result = resolverConfig.resolver(unique, parents.concat(resolverName), mergers, options)\n\n    if (!isPlainObject(result)) {\n      throwIncompatible(unique, parents.concat(resolverName))\n    }\n\n    return result\n  }\n}\n\nfunction createRequiredMetaArray(arr) {\n  return { required: arr }\n}\n\nconst schemaGroupProps = ['properties', 'patternProperties', 'definitions', 'dependencies']\nconst schemaArrays = ['anyOf', 'oneOf']\nconst schemaProps = [\n  'additionalProperties',\n  'additionalItems',\n  'contains',\n  'propertyNames',\n  'not',\n  'items'\n]\n\nconst defaultResolvers = {\n  type(compacted) {\n    if (compacted.some(Array.isArray)) {\n      const normalized = compacted.map(function(val) {\n        return Array.isArray(val)\n          ? val\n          : [val]\n      })\n      const common = intersection.apply(null, normalized)\n\n      if (common.length === 1) {\n        return common[0]\n      } else if (common.length > 1) {\n        return uniq(common)\n      }\n    }\n  },\n  dependencies(compacted, paths, mergeSchemas) {\n    const allChildren = allUniqueKeys(compacted)\n\n    return allChildren.reduce(function(all, childKey) {\n      const childSchemas = getValues(compacted, childKey)\n      let innerCompacted = uniqWith(childSchemas.filter(notUndefined), isEqual)\n\n      // to support dependencies\n      const innerArrays = innerCompacted.filter(Array.isArray)\n\n      if (innerArrays.length) {\n        if (innerArrays.length === innerCompacted.length) {\n          all[childKey] = stringArray(innerCompacted)\n        } else {\n          const innerSchemas = innerCompacted.filter(isSchema)\n          const arrayMetaScheams = innerArrays.map(createRequiredMetaArray)\n          all[childKey] = mergeSchemas(innerSchemas.concat(arrayMetaScheams), childKey)\n        }\n        return all\n      }\n\n      innerCompacted = uniqWith(innerCompacted, compare)\n\n      all[childKey] = mergeSchemas(innerCompacted, childKey)\n      return all\n    }, {})\n  },\n  oneOf(compacted, paths, mergeSchemas) {\n    const combinations = getAnyOfCombinations(cloneDeep(compacted))\n    const result = tryMergeSchemaGroups(combinations, mergeSchemas)\n    const unique = uniqWith(result, compare)\n\n    if (unique.length) {\n      return unique\n    }\n  },\n  not(compacted) {\n    return { anyOf: compacted }\n  },\n  pattern(compacted) {\n    return compacted.map(r => '(?=' + r + ')').join('')\n  },\n  multipleOf(compacted) {\n    let integers = compacted.slice(0)\n    let factor = 1\n    while (integers.some(n => !Number.isInteger(n))) {\n      integers = integers.map(n => n * 10)\n      factor = factor * 10\n    }\n    return computeLcm(integers) / factor\n  },\n  enum(compacted) {\n    const enums = intersectionWith.apply(null, compacted.concat(isEqual))\n    if (enums.length) {\n      return sortBy(enums)\n    }\n  }\n}\n\ndefaultResolvers.$id = first\ndefaultResolvers.$ref = first\ndefaultResolvers.$schema = first\ndefaultResolvers.additionalItems = schemaResolver\ndefaultResolvers.additionalProperties = schemaResolver\ndefaultResolvers.anyOf = defaultResolvers.oneOf\ndefaultResolvers.contains = schemaResolver\ndefaultResolvers.default = first\ndefaultResolvers.definitions = defaultResolvers.dependencies\ndefaultResolvers.description = first\ndefaultResolvers.examples = examples\ndefaultResolvers.exclusiveMaximum = minimumValue\ndefaultResolvers.exclusiveMinimum = maximumValue\ndefaultResolvers.items = itemsResolver\ndefaultResolvers.maximum = minimumValue\ndefaultResolvers.maxItems = minimumValue\ndefaultResolvers.maxLength = minimumValue\ndefaultResolvers.maxProperties = minimumValue\ndefaultResolvers.minimum = maximumValue\ndefaultResolvers.minItems = maximumValue\ndefaultResolvers.minLength = maximumValue\ndefaultResolvers.minProperties = maximumValue\ndefaultResolvers.properties = propertiesResolver\ndefaultResolvers.propertyNames = schemaResolver\ndefaultResolvers.required = required\ndefaultResolvers.title = first\ndefaultResolvers.uniqueItems = uniqueItems\n\nconst defaultComplexResolvers = {\n  properties: propertiesResolver,\n  items: itemsResolver\n}\n\nfunction merger(rootSchema, options, totalSchemas) {\n  totalSchemas = totalSchemas || []\n  options = defaultsDeep(options, {\n    ignoreAdditionalProperties: false,\n    resolvers: defaultResolvers,\n    complexResolvers: defaultComplexResolvers,\n    deep: true\n  })\n\n  const complexResolvers = Object.entries(options.complexResolvers)\n\n  function mergeSchemas(schemas, base, parents) {\n    schemas = cloneDeep(schemas.filter(notUndefined))\n    parents = parents || []\n    const merged = isPlainObject(base)\n      ? base\n      : {}\n\n    // return undefined, an empty schema\n    if (!schemas.length) {\n      return\n    }\n\n    if (schemas.some(isFalse)) {\n      return false\n    }\n\n    if (schemas.every(isTrue)) {\n      return true\n    }\n\n    // there are no false and we don't need the true ones as they accept everything\n    schemas = schemas.filter(isPlainObject)\n\n    const allKeys = allUniqueKeys(schemas)\n    if (options.deep && contains(allKeys, 'allOf')) {\n      return merger({\n        allOf: schemas\n      }, options, totalSchemas)\n    }\n\n    const complexKeysArr = complexResolvers.map(([mainKeyWord, resolverConf]) =>\n      allKeys.filter(k => resolverConf.keywords.includes(k)))\n\n    // remove all complex keys before simple resolvers\n    complexKeysArr.forEach(keys => pullAll(allKeys, keys))\n\n    // call all simple resolvers for relevant keywords\n    allKeys.forEach(function(key) {\n      const values = getValues(schemas, key)\n      const compacted = uniqWith(values.filter(notUndefined), compareProp(key))\n\n      // arrayprops like anyOf and oneOf must be merged first, as they contains schemas\n      // allOf is treated differently alltogether\n      if (compacted.length === 1 && contains(schemaArrays, key)) {\n        merged[key] = compacted[0].map(schema => mergeSchemas([schema], schema))\n        // prop groups must always be resolved\n      } else if (compacted.length === 1 && !contains(schemaGroupProps, key) && !contains(schemaProps, key)) {\n        merged[key] = compacted[0]\n      } else {\n        const resolver = options.resolvers[key] || options.resolvers.defaultResolver\n        if (!resolver) throw new Error('No resolver found for key ' + key + '. You can provide a resolver for this keyword in the options, or provide a default resolver.')\n\n        const merger = (schemas, extraKey = []) => mergeSchemas(schemas, null, parents.concat(key, extraKey))\n        merged[key] = resolver(compacted, parents.concat(key), merger, options)\n\n        if (merged[key] === undefined) {\n          throwIncompatible(compacted, parents.concat(key))\n        } else if (merged[key] === undefined) {\n          delete merged[key]\n        }\n      }\n    })\n\n    return complexResolvers.reduce((all, [resolverKeyword, config], index) => ({\n      ...all,\n      ...callGroupResolver(complexKeysArr[index], resolverKeyword, schemas, mergeSchemas, options, parents)\n    }), merged)\n  }\n\n  const allSchemas = flattenDeep(getAllOf(rootSchema))\n  const merged = mergeSchemas(allSchemas)\n\n  return merged\n}\n\nmerger.options = {\n  resolvers: defaultResolvers\n}\n\nmodule.exports = merger\n","import isPlainObject from 'lodash-es/isPlainObject';\nimport isEqualWith from 'lodash-es/isEqualWith';\nimport get from 'lodash-es/get';\nimport isEmpty from 'lodash-es/isEmpty';\nimport jsonpointer from 'jsonpointer';\nimport omit from 'lodash-es/omit';\nimport has from 'lodash-es/has';\nimport isObject$1 from 'lodash-es/isObject';\nimport isString from 'lodash-es/isString';\nimport reduce from 'lodash-es/reduce';\nimport times from 'lodash-es/times';\nimport set from 'lodash-es/set';\nimport mergeAllOf from 'json-schema-merge-allof';\nimport union from 'lodash-es/union';\nimport isEqual from 'lodash-es/isEqual';\nimport cloneDeep from 'lodash-es/cloneDeep';\nimport { jsx } from 'react/jsx-runtime';\nimport { createElement } from 'react';\nimport ReactIs from 'react-is';\nimport toPath from 'lodash-es/toPath';\nimport forEach from 'lodash-es/forEach';\n\n/** Determines whether a `thing` is an object for the purposes of RSJF. In this case, `thing` is an object if it has\r\n * the type `object` but is NOT null, an array or a File.\r\n *\r\n * @param thing - The thing to check to see whether it is an object\r\n * @returns - True if it is a non-null, non-array, non-File object\r\n */\nfunction isObject(thing) {\n  if (typeof File !== 'undefined' && thing instanceof File) {\n    return false;\n  }\n  if (typeof Date !== 'undefined' && thing instanceof Date) {\n    return false;\n  }\n  return typeof thing === 'object' && thing !== null && !Array.isArray(thing);\n}\n\n/** Checks the schema to see if it is allowing additional items, by verifying that `schema.additionalItems` is an\r\n * object. The user is warned in the console if `schema.additionalItems` has the value `true`.\r\n *\r\n * @param schema - The schema object to check\r\n * @returns - True if additional items is allowed, otherwise false\r\n */\nfunction allowAdditionalItems(schema) {\n  if (schema.additionalItems === true) {\n    console.warn('additionalItems=true is currently not supported');\n  }\n  return isObject(schema.additionalItems);\n}\n\n/** Attempts to convert the string into a number. If an empty string is provided, then `undefined` is returned. If a\r\n * `null` is provided, it is returned. If the string ends in a `.` then the string is returned because the user may be\r\n * in the middle of typing a float number. If a number ends in a pattern like `.0`, `.20`, `.030`, string is returned\r\n * because the user may be typing number that will end in a non-zero digit. Otherwise, the string is wrapped by\r\n * `Number()` and if that result is not `NaN`, that number will be returned, otherwise the string `value` will be.\r\n *\r\n * @param value - The string or null value to convert to a number\r\n * @returns - The `value` converted to a number when appropriate, otherwise the `value`\r\n */\nfunction asNumber(value) {\n  if (value === '') {\n    return undefined;\n  }\n  if (value === null) {\n    return null;\n  }\n  if (/\\.$/.test(value)) {\n    // '3.' can't really be considered a number even if it parses in js. The\n    // user is most likely entering a float.\n    return value;\n  }\n  if (/\\.0$/.test(value)) {\n    // we need to return this as a string here, to allow for input like 3.07\n    return value;\n  }\n  if (/\\.\\d*0$/.test(value)) {\n    // It's a number, that's cool - but we need it as a string so it doesn't screw\n    // with the user when entering dollar amounts or other values (such as those with\n    // specific precision or number of significant digits)\n    return value;\n  }\n  var n = Number(value);\n  var valid = typeof n === 'number' && !Number.isNaN(n);\n  return valid ? n : value;\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _objectDestructuringEmpty(obj) {\n  if (obj == null) throw new TypeError(\"Cannot destructure \" + obj);\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\n\n/** Below are the list of all the keys into various elements of a RJSFSchema or UiSchema that are used by the various\r\n * utility functions. In addition to those keys, there are the special `ADDITIONAL_PROPERTY_FLAG` and\r\n * `RJSF_ADDITONAL_PROPERTIES_FLAG` flags that is added to a schema under certain conditions by the `retrieveSchema()`\r\n * utility.\r\n */\nvar ADDITIONAL_PROPERTY_FLAG = '__additional_property';\nvar ADDITIONAL_PROPERTIES_KEY = 'additionalProperties';\nvar ALL_OF_KEY = 'allOf';\nvar ANY_OF_KEY = 'anyOf';\nvar CONST_KEY = 'const';\nvar DEFAULT_KEY = 'default';\nvar DEFINITIONS_KEY = 'definitions';\nvar DEPENDENCIES_KEY = 'dependencies';\nvar ENUM_KEY = 'enum';\nvar ERRORS_KEY = '__errors';\nvar ID_KEY = '$id';\nvar IF_KEY = 'if';\nvar ITEMS_KEY = 'items';\nvar JUNK_OPTION_ID = '_$junk_option_schema_id$_';\nvar NAME_KEY = '$name';\nvar ONE_OF_KEY = 'oneOf';\nvar PROPERTIES_KEY = 'properties';\nvar REQUIRED_KEY = 'required';\nvar SUBMIT_BTN_OPTIONS_KEY = 'submitButtonOptions';\nvar REF_KEY = '$ref';\nvar RJSF_ADDITONAL_PROPERTIES_FLAG = '__rjsf_additionalProperties';\nvar ROOT_SCHEMA_PREFIX = '__rjsf_rootSchema';\nvar UI_FIELD_KEY = 'ui:field';\nvar UI_WIDGET_KEY = 'ui:widget';\nvar UI_OPTIONS_KEY = 'ui:options';\nvar UI_GLOBAL_OPTIONS_KEY = 'ui:globalOptions';\n\n/** Get all passed options from ui:options, and ui:<optionName>, returning them in an object with the `ui:`\r\n * stripped off. Any `globalOptions` will always be returned, unless they are overridden by options in the `uiSchema`.\r\n *\r\n * @param [uiSchema={}] - The UI Schema from which to get any `ui:xxx` options\r\n * @param [globalOptions={}] - The optional Global UI Schema from which to get any fallback `xxx` options\r\n * @returns - An object containing all the `ui:xxx` options with the `ui:` stripped off along with all `globalOptions`\r\n */\nfunction getUiOptions(uiSchema, globalOptions) {\n  if (uiSchema === void 0) {\n    uiSchema = {};\n  }\n  if (globalOptions === void 0) {\n    globalOptions = {};\n  }\n  return Object.keys(uiSchema).filter(function (key) {\n    return key.indexOf('ui:') === 0;\n  }).reduce(function (options, key) {\n    var _extends2;\n    var value = uiSchema[key];\n    if (key === UI_WIDGET_KEY && isObject(value)) {\n      console.error('Setting options via ui:widget object is no longer supported, use ui:options instead');\n      return options;\n    }\n    if (key === UI_OPTIONS_KEY && isObject(value)) {\n      return _extends({}, options, value);\n    }\n    return _extends({}, options, (_extends2 = {}, _extends2[key.substring(3)] = value, _extends2));\n  }, _extends({}, globalOptions));\n}\n\n/** Checks whether the field described by `schema`, having the `uiSchema` and `formData` supports expanding. The UI for\r\n * the field can expand if it has additional properties, is not forced as non-expandable by the `uiSchema` and the\r\n * `formData` object doesn't already have `schema.maxProperties` elements.\r\n *\r\n * @param schema - The schema for the field that is being checked\r\n * @param [uiSchema={}] - The uiSchema for the field\r\n * @param [formData] - The formData for the field\r\n * @returns - True if the schema element has additionalProperties, is expandable, and not at the maxProperties limit\r\n */\nfunction canExpand(schema, uiSchema, formData) {\n  if (uiSchema === void 0) {\n    uiSchema = {};\n  }\n  if (!schema.additionalProperties) {\n    return false;\n  }\n  var _getUiOptions = getUiOptions(uiSchema),\n    _getUiOptions$expanda = _getUiOptions.expandable,\n    expandable = _getUiOptions$expanda === void 0 ? true : _getUiOptions$expanda;\n  if (expandable === false) {\n    return expandable;\n  }\n  // if ui:options.expandable was not explicitly set to false, we can add\n  // another property if we have not exceeded maxProperties yet\n  if (schema.maxProperties !== undefined && formData) {\n    return Object.keys(formData).length < schema.maxProperties;\n  }\n  return true;\n}\n\n/** Given a `formData` object, recursively creates a `FormValidation` error handling structure around it\r\n *\r\n * @param formData - The form data around which the error handler is created\r\n * @returns - A `FormValidation` object based on the `formData` structure\r\n */\nfunction createErrorHandler(formData) {\n  var _handler;\n  var handler = (_handler = {}, _handler[ERRORS_KEY] = [], _handler.addError = function addError(message) {\n    this[ERRORS_KEY].push(message);\n  }, _handler);\n  if (Array.isArray(formData)) {\n    return formData.reduce(function (acc, value, key) {\n      var _extends2;\n      return _extends({}, acc, (_extends2 = {}, _extends2[key] = createErrorHandler(value), _extends2));\n    }, handler);\n  }\n  if (isPlainObject(formData)) {\n    var formObject = formData;\n    return Object.keys(formObject).reduce(function (acc, key) {\n      var _extends3;\n      return _extends({}, acc, (_extends3 = {}, _extends3[key] = createErrorHandler(formObject[key]), _extends3));\n    }, handler);\n  }\n  return handler;\n}\n\n/** Implements a deep equals using the `lodash.isEqualWith` function, that provides a customized comparator that\r\n * assumes all functions are equivalent.\r\n *\r\n * @param a - The first element to compare\r\n * @param b - The second element to compare\r\n * @returns - True if the `a` and `b` are deeply equal, false otherwise\r\n */\nfunction deepEquals(a, b) {\n  return isEqualWith(a, b, function (obj, other) {\n    if (typeof obj === 'function' && typeof other === 'function') {\n      // Assume all functions are equivalent\n      // see https://github.com/rjsf-team/react-jsonschema-form/issues/255\n      return true;\n    }\n    return undefined; // fallback to default isEquals behavior\n  });\n}\n\n/** Splits out the value at the `key` in `object` from the `object`, returning an array that contains in the first\r\n * location, the `object` minus the `key: value` and in the second location the `value`.\r\n *\r\n * @param key - The key from the object to extract\r\n * @param object - The object from which to extract the element\r\n * @returns - An array with the first value being the object minus the `key` element and the second element being the\r\n *      value from `object[key]`\r\n */\nfunction splitKeyElementFromObject(key, object) {\n  var value = object[key];\n  var remaining = omit(object, [key]);\n  return [remaining, value];\n}\n/** Given the name of a `$ref` from within a schema, using the `rootSchema`, look up and return the sub-schema using the\r\n * path provided by that reference. If `#` is not the first character of the reference, or the path does not exist in\r\n * the schema, then throw an Error. Otherwise return the sub-schema. Also deals with nested `$ref`s in the sub-schema.\r\n *\r\n * @param $ref - The ref string for which the schema definition is desired\r\n * @param [rootSchema={}] - The root schema in which to search for the definition\r\n * @returns - The sub-schema within the `rootSchema` which matches the `$ref` if it exists\r\n * @throws - Error indicating that no schema for that reference exists\r\n */\nfunction findSchemaDefinition($ref, rootSchema) {\n  if (rootSchema === void 0) {\n    rootSchema = {};\n  }\n  var ref = $ref || '';\n  if (ref.startsWith('#')) {\n    // Decode URI fragment representation.\n    ref = decodeURIComponent(ref.substring(1));\n  } else {\n    throw new Error(\"Could not find a definition for \" + $ref + \".\");\n  }\n  var current = jsonpointer.get(rootSchema, ref);\n  if (current === undefined) {\n    throw new Error(\"Could not find a definition for \" + $ref + \".\");\n  }\n  if (current[REF_KEY]) {\n    var _splitKeyElementFromO = splitKeyElementFromObject(REF_KEY, current),\n      remaining = _splitKeyElementFromO[0],\n      theRef = _splitKeyElementFromO[1];\n    var subSchema = findSchemaDefinition(theRef, rootSchema);\n    if (Object.keys(remaining).length > 0) {\n      return _extends({}, remaining, subSchema);\n    }\n    return subSchema;\n  }\n  return current;\n}\n\n/** Given the `formData` and list of `options`, attempts to find the index of the option that best matches the data.\r\n * Deprecated, use `getFirstMatchingOption()` instead.\r\n *\r\n * @param validator - An implementation of the `ValidatorType` interface that will be used when necessary\r\n * @param formData - The current formData, if any, used to figure out a match\r\n * @param options - The list of options to find a matching options from\r\n * @param rootSchema - The root schema, used to primarily to look up `$ref`s\r\n * @param [discriminatorField] - The optional name of the field within the options object whose value is used to\r\n *          determine which option is selected\r\n * @returns - The index of the matched option or 0 if none is available\r\n * @deprecated\r\n */\nfunction getMatchingOption(validator, formData, options, rootSchema, discriminatorField) {\n  // For performance, skip validating subschemas if formData is undefined. We just\n  // want to get the first option in that case.\n  if (formData === undefined) {\n    return 0;\n  }\n  for (var i = 0; i < options.length; i++) {\n    var option = options[i];\n    // If we have a discriminator field, then we will use this to make the determination\n    if (discriminatorField && has(option, [PROPERTIES_KEY, discriminatorField])) {\n      var value = get(formData, discriminatorField);\n      var discriminator = get(option, [PROPERTIES_KEY, discriminatorField], {});\n      if (validator.isValid(discriminator, value, rootSchema)) {\n        return i;\n      }\n    } else if (option[PROPERTIES_KEY]) {\n      // If the schema describes an object then we need to add slightly more\n      // strict matching to the schema, because unless the schema uses the\n      // \"requires\" keyword, an object will match the schema as long as it\n      // doesn't have matching keys with a conflicting type. To do this we use an\n      // \"anyOf\" with an array of requires. This augmentation expresses that the\n      // schema should match if any of the keys in the schema are present on the\n      // object and pass validation.\n      //\n      // Create an \"anyOf\" schema that requires at least one of the keys in the\n      // \"properties\" object\n      var requiresAnyOf = {\n        anyOf: Object.keys(option[PROPERTIES_KEY]).map(function (key) {\n          return {\n            required: [key]\n          };\n        })\n      };\n      var augmentedSchema = void 0;\n      // If the \"anyOf\" keyword already exists, wrap the augmentation in an \"allOf\"\n      if (option.anyOf) {\n        // Create a shallow clone of the option\n        var shallowClone = _extends({}, (_objectDestructuringEmpty(option), option));\n        if (!shallowClone.allOf) {\n          shallowClone.allOf = [];\n        } else {\n          // If \"allOf\" already exists, shallow clone the array\n          shallowClone.allOf = shallowClone.allOf.slice();\n        }\n        shallowClone.allOf.push(requiresAnyOf);\n        augmentedSchema = shallowClone;\n      } else {\n        augmentedSchema = Object.assign({}, option, requiresAnyOf);\n      }\n      // Remove the \"required\" field as it's likely that not all fields have\n      // been filled in yet, which will mean that the schema is not valid\n      delete augmentedSchema.required;\n      if (validator.isValid(augmentedSchema, formData, rootSchema)) {\n        return i;\n      }\n    } else if (validator.isValid(option, formData, rootSchema)) {\n      return i;\n    }\n  }\n  return 0;\n}\n\n/** Given the `formData` and list of `options`, attempts to find the index of the first option that matches the data.\r\n * Always returns the first option if there is nothing that matches.\r\n *\r\n * @param validator - An implementation of the `ValidatorType` interface that will be used when necessary\r\n * @param formData - The current formData, if any, used to figure out a match\r\n * @param options - The list of options to find a matching options from\r\n * @param rootSchema - The root schema, used to primarily to look up `$ref`s\r\n * @param [discriminatorField] - The optional name of the field within the options object whose value is used to\r\n *          determine which option is selected\r\n * @returns - The index of the first matched option or 0 if none is available\r\n */\nfunction getFirstMatchingOption(validator, formData, options, rootSchema, discriminatorField) {\n  return getMatchingOption(validator, formData, options, rootSchema, discriminatorField);\n}\n\n/** Returns the `discriminator.propertyName` when defined in the `schema` if it is a string. A warning is generated when\r\n * it is not a string. Returns `undefined` when a valid discriminator is not present.\r\n *\r\n * @param schema - The schema from which the discriminator is potentially obtained\r\n * @returns - The `discriminator.propertyName` if it exists in the schema, otherwise `undefined`\r\n */\nfunction getDiscriminatorFieldFromSchema(schema) {\n  var discriminator;\n  var maybeString = get(schema, 'discriminator.propertyName', undefined);\n  if (isString(maybeString)) {\n    discriminator = maybeString;\n  } else if (maybeString !== undefined) {\n    console.warn(\"Expecting discriminator to be a string, got \\\"\" + typeof maybeString + \"\\\" instead\");\n  }\n  return discriminator;\n}\n\n/** Given a specific `value` attempts to guess the type of a schema element. In the case where we have to implicitly\r\n *  create a schema, it is useful to know what type to use based on the data we are defining.\r\n *\r\n * @param value - The value from which to guess the type\r\n * @returns - The best guess for the object type\r\n */\nfunction guessType(value) {\n  if (Array.isArray(value)) {\n    return 'array';\n  }\n  if (typeof value === 'string') {\n    return 'string';\n  }\n  if (value == null) {\n    return 'null';\n  }\n  if (typeof value === 'boolean') {\n    return 'boolean';\n  }\n  if (!isNaN(value)) {\n    return 'number';\n  }\n  if (typeof value === 'object') {\n    return 'object';\n  }\n  // Default to string if we can't figure it out\n  return 'string';\n}\n\n/** Gets the type of a given `schema`. If the type is not explicitly defined, then an attempt is made to infer it from\r\n * other elements of the schema as follows:\r\n * - schema.const: Returns the `guessType()` of that value\r\n * - schema.enum: Returns `string`\r\n * - schema.properties: Returns `object`\r\n * - schema.additionalProperties: Returns `object`\r\n * - type is an array with a length of 2 and one type is 'null': Returns the other type\r\n *\r\n * @param schema - The schema for which to get the type\r\n * @returns - The type of the schema\r\n */\nfunction getSchemaType(schema) {\n  var type = schema.type;\n  if (!type && schema[\"const\"]) {\n    return guessType(schema[\"const\"]);\n  }\n  if (!type && schema[\"enum\"]) {\n    return 'string';\n  }\n  if (!type && (schema.properties || schema.additionalProperties)) {\n    return 'object';\n  }\n  if (Array.isArray(type) && type.length === 2 && type.includes('null')) {\n    type = type.find(function (type) {\n      return type !== 'null';\n    });\n  }\n  return type;\n}\n\n/** Recursively merge deeply nested schemas. The difference between `mergeSchemas` and `mergeObjects` is that\r\n * `mergeSchemas` only concats arrays for values under the 'required' keyword, and when it does, it doesn't include\r\n * duplicate values.\r\n *\r\n * @param obj1 - The first schema object to merge\r\n * @param obj2 - The second schema object to merge\r\n * @returns - The merged schema object\r\n */\nfunction mergeSchemas(obj1, obj2) {\n  var acc = Object.assign({}, obj1); // Prevent mutation of source object.\n  return Object.keys(obj2).reduce(function (acc, key) {\n    var left = obj1 ? obj1[key] : {},\n      right = obj2[key];\n    if (obj1 && key in obj1 && isObject(right)) {\n      acc[key] = mergeSchemas(left, right);\n    } else if (obj1 && obj2 && (getSchemaType(obj1) === 'object' || getSchemaType(obj2) === 'object') && key === REQUIRED_KEY && Array.isArray(left) && Array.isArray(right)) {\n      // Don't include duplicate values when merging 'required' fields.\n      acc[key] = union(left, right);\n    } else {\n      acc[key] = right;\n    }\n    return acc;\n  }, acc);\n}\n\nvar _excluded$1 = [\"if\", \"then\", \"else\"],\n  _excluded2 = [\"$ref\"],\n  _excluded3 = [\"allOf\"],\n  _excluded4 = [\"dependencies\"],\n  _excluded5 = [\"oneOf\"];\n/** Retrieves an expanded schema that has had all of its conditions, additional properties, references and dependencies\r\n * resolved and merged into the `schema` given a `validator`, `rootSchema` and `rawFormData` that is used to do the\r\n * potentially recursive resolution.\r\n *\r\n * @param validator - An implementation of the `ValidatorType` interface that will be forwarded to all the APIs\r\n * @param schema - The schema for which retrieving a schema is desired\r\n * @param [rootSchema={}] - The root schema that will be forwarded to all the APIs\r\n * @param [rawFormData] - The current formData, if any, to assist retrieving a schema\r\n * @returns - The schema having its conditions, additional properties, references and dependencies resolved\r\n */\nfunction retrieveSchema(validator, schema, rootSchema, rawFormData) {\n  if (rootSchema === void 0) {\n    rootSchema = {};\n  }\n  return retrieveSchemaInternal(validator, schema, rootSchema, rawFormData)[0];\n}\n/** Resolves a conditional block (if/else/then) by removing the condition and merging the appropriate conditional branch\r\n * with the rest of the schema. If `expandAllBranches` is true, then the `retrieveSchemaInteral()` results for both\r\n * conditions will be returned.\r\n *\r\n * @param validator - An implementation of the `ValidatorType` interface that is used to detect valid schema conditions\r\n * @param schema - The schema for which resolving a condition is desired\r\n * @param rootSchema - The root schema that will be forwarded to all the APIs\r\n * @param expandAllBranches - Flag, if true, will return all possible branches of conditions, any/oneOf and\r\n *          dependencies as a list of schemas\r\n * @param [formData] - The current formData to assist retrieving a schema\r\n * @returns - A list of schemas with the appropriate conditions resolved, possibly with all branches expanded\r\n */\nfunction resolveCondition(validator, schema, rootSchema, expandAllBranches, formData) {\n  var expression = schema[\"if\"],\n    then = schema.then,\n    otherwise = schema[\"else\"],\n    resolvedSchemaLessConditional = _objectWithoutPropertiesLoose(schema, _excluded$1);\n  var conditionValue = validator.isValid(expression, formData, rootSchema);\n  var resolvedSchemas = [resolvedSchemaLessConditional];\n  var schemas = [];\n  if (expandAllBranches) {\n    if (then && typeof then !== 'boolean') {\n      schemas = schemas.concat(retrieveSchemaInternal(validator, then, rootSchema, formData, expandAllBranches));\n    }\n    if (otherwise && typeof otherwise !== 'boolean') {\n      schemas = schemas.concat(retrieveSchemaInternal(validator, otherwise, rootSchema, formData, expandAllBranches));\n    }\n  } else {\n    var conditionalSchema = conditionValue ? then : otherwise;\n    if (conditionalSchema && typeof conditionalSchema !== 'boolean') {\n      schemas = schemas.concat(retrieveSchemaInternal(validator, conditionalSchema, rootSchema, formData, expandAllBranches));\n    }\n  }\n  if (schemas.length) {\n    resolvedSchemas = schemas.map(function (s) {\n      return mergeSchemas(resolvedSchemaLessConditional, s);\n    });\n  }\n  return resolvedSchemas.flatMap(function (s) {\n    return retrieveSchemaInternal(validator, s, rootSchema, formData, expandAllBranches);\n  });\n}\n/** Given a list of lists of allOf, anyOf or oneOf values, create a list of lists of all permutations of the values. The\r\n * `listOfLists` is expected to be all resolved values of the 1st...nth schemas within an `allOf`, `anyOf` or `oneOf`.\r\n * From those lists, build a matrix for each `xxxOf` where there is more than one schema for a row in the list of lists.\r\n *\r\n * For example:\r\n * - If there are three xxxOf rows (A, B, C) and they have been resolved such that there is only one A, two B and three\r\n *   C schemas then:\r\n *   - The permutation for the first row is `[[A]]`\r\n *   - The permutations for the second row are `[[A,B1], [A,B2]]`\r\n *   - The permutations for the third row are `[[A,B1,C1], [A,B1,C2], [A,B1,C3], [A,B2,C1], [A,B2,C2], [A,B2,C3]]`\r\n *\r\n * @param listOfLists - The list of lists of elements that represent the allOf, anyOf or oneOf resolved values in order\r\n * @returns - The list of all permutations of schemas for a set of `xxxOf`s\r\n */\nfunction getAllPermutationsOfXxxOf(listOfLists) {\n  var allPermutations = listOfLists.reduce(function (permutations, list) {\n    // When there are more than one set of schemas for a row, duplicate the set of permutations and add in the values\n    if (list.length > 1) {\n      return list.flatMap(function (element) {\n        return times(permutations.length, function (i) {\n          return [].concat(permutations[i]).concat(element);\n        });\n      });\n    }\n    // Otherwise just push in the single value into the current set of permutations\n    permutations.forEach(function (permutation) {\n      return permutation.push(list[0]);\n    });\n    return permutations;\n  }, [[]] // Start with an empty list\n  );\n\n  return allPermutations;\n}\n/** Resolves references and dependencies within a schema and its 'allOf' children. Passes the `expandAllBranches` flag\r\n * down to the `retrieveSchemaInternal()`, `resolveReference()` and `resolveDependencies()` helper calls. If\r\n * `expandAllBranches` is true, then all possible dependencies and/or allOf branches are returned.\r\n *\r\n * @param validator - An implementation of the `ValidatorType` interface that will be forwarded to all the APIs\r\n * @param schema - The schema for which resolving a schema is desired\r\n * @param rootSchema - The root schema that will be forwarded to all the APIs\r\n * @param expandAllBranches - Flag, if true, will return all possible branches of conditions, any/oneOf and dependencies\r\n *          as a list of schemas\r\n * @param [formData] - The current formData, if any, to assist retrieving a schema\r\n * @returns - The list of schemas having its references, dependencies and allOf schemas resolved\r\n */\nfunction resolveSchema(validator, schema, rootSchema, expandAllBranches, formData) {\n  if (REF_KEY in schema) {\n    return resolveReference(validator, schema, rootSchema, expandAllBranches, formData);\n  }\n  if (DEPENDENCIES_KEY in schema) {\n    var resolvedSchemas = resolveDependencies(validator, schema, rootSchema, expandAllBranches, formData);\n    return resolvedSchemas.flatMap(function (s) {\n      return retrieveSchemaInternal(validator, s, rootSchema, formData, expandAllBranches);\n    });\n  }\n  if (ALL_OF_KEY in schema && Array.isArray(schema.allOf)) {\n    var allOfSchemaElements = schema.allOf.map(function (allOfSubschema) {\n      return retrieveSchemaInternal(validator, allOfSubschema, rootSchema, formData, expandAllBranches);\n    });\n    var allPermutations = getAllPermutationsOfXxxOf(allOfSchemaElements);\n    return allPermutations.map(function (permutation) {\n      return _extends({}, schema, {\n        allOf: permutation\n      });\n    });\n  }\n  // No $ref or dependencies or allOf attribute was found, returning the original schema.\n  return [schema];\n}\n/** Resolves references within a schema and then returns the `retrieveSchemaInternal()` of the resolved schema. Passes\r\n * the `expandAllBranches` flag down to the `retrieveSchemaInternal()` helper call.\r\n *\r\n * @param validator - An implementation of the `ValidatorType` interface that will be forwarded to all the APIs\r\n * @param schema - The schema for which resolving a reference is desired\r\n * @param rootSchema - The root schema that will be forwarded to all the APIs\r\n * @param expandAllBranches - Flag, if true, will return all possible branches of conditions, any/oneOf and dependencies\r\n *          as a list of schemas\r\n * @param [formData] - The current formData, if any, to assist retrieving a schema\r\n * @returns - The list schemas retrieved after having all references resolved\r\n */\nfunction resolveReference(validator, schema, rootSchema, expandAllBranches, formData) {\n  // Drop the $ref property of the source schema.\n  var $ref = schema.$ref,\n    localSchema = _objectWithoutPropertiesLoose(schema, _excluded2);\n  // Retrieve the referenced schema definition.\n  var refSchema = findSchemaDefinition($ref, rootSchema);\n  // Update referenced schema definition with local schema properties.\n  return retrieveSchemaInternal(validator, _extends({}, refSchema, localSchema), rootSchema, formData, expandAllBranches);\n}\n/** Creates new 'properties' items for each key in the `formData`\r\n *\r\n * @param validator - An implementation of the `ValidatorType` interface that will be used when necessary\r\n * @param theSchema - The schema for which the existing additional properties is desired\r\n * @param [rootSchema] - The root schema, used to primarily to look up `$ref`s * @param validator\r\n * @param [aFormData] - The current formData, if any, to assist retrieving a schema\r\n * @returns - The updated schema with additional properties stubbed\r\n */\nfunction stubExistingAdditionalProperties(validator, theSchema, rootSchema, aFormData) {\n  // Clone the schema so that we don't ruin the consumer's original\n  var schema = _extends({}, theSchema, {\n    properties: _extends({}, theSchema.properties)\n  });\n  // make sure formData is an object\n  var formData = aFormData && isObject(aFormData) ? aFormData : {};\n  Object.keys(formData).forEach(function (key) {\n    if (key in schema.properties) {\n      // No need to stub, our schema already has the property\n      return;\n    }\n    var additionalProperties = {};\n    if (typeof schema.additionalProperties !== 'boolean') {\n      if (REF_KEY in schema.additionalProperties) {\n        additionalProperties = retrieveSchema(validator, {\n          $ref: get(schema.additionalProperties, [REF_KEY])\n        }, rootSchema, formData);\n      } else if ('type' in schema.additionalProperties) {\n        additionalProperties = _extends({}, schema.additionalProperties);\n      } else if (ANY_OF_KEY in schema.additionalProperties || ONE_OF_KEY in schema.additionalProperties) {\n        additionalProperties = _extends({\n          type: 'object'\n        }, schema.additionalProperties);\n      } else {\n        additionalProperties = {\n          type: guessType(get(formData, [key]))\n        };\n      }\n    } else {\n      additionalProperties = {\n        type: guessType(get(formData, [key]))\n      };\n    }\n    // The type of our new key should match the additionalProperties value;\n    schema.properties[key] = additionalProperties;\n    // Set our additional property flag so we know it was dynamically added\n    set(schema.properties, [key, ADDITIONAL_PROPERTY_FLAG], true);\n  });\n  return schema;\n}\n/** Internal handler that retrieves an expanded schema that has had all of its conditions, additional properties,\r\n * references and dependencies resolved and merged into the `schema` given a `validator`, `rootSchema` and `rawFormData`\r\n * that is used to do the potentially recursive resolution. If `expandAllBranches` is true, then all possible branches\r\n * of the schema and its references, conditions and dependencies are returned.\r\n *\r\n * @param validator - An implementation of the `ValidatorType` interface that will be forwarded to all the APIs\r\n * @param schema - The schema for which retrieving a schema is desired\r\n * @param rootSchema - The root schema that will be forwarded to all the APIs\r\n * @param [rawFormData] - The current formData, if any, to assist retrieving a schema\r\n * @param [expandAllBranches=false] - Flag, if true, will return all possible branches of conditions, any/oneOf and\r\n *          dependencies as a list of schemas\r\n * @returns - The schema(s) resulting from having its conditions, additional properties, references and dependencies\r\n *          resolved. Multiple schemas may be returned if `expandAllBranches` is true.\r\n */\nfunction retrieveSchemaInternal(validator, schema, rootSchema, rawFormData, expandAllBranches) {\n  if (expandAllBranches === void 0) {\n    expandAllBranches = false;\n  }\n  if (!isObject(schema)) {\n    return [{}];\n  }\n  var resolvedSchemas = resolveSchema(validator, schema, rootSchema, expandAllBranches, rawFormData);\n  return resolvedSchemas.flatMap(function (s) {\n    var resolvedSchema = s;\n    if (IF_KEY in resolvedSchema) {\n      return resolveCondition(validator, resolvedSchema, rootSchema, expandAllBranches, rawFormData);\n    }\n    if (ALL_OF_KEY in schema) {\n      try {\n        resolvedSchema = mergeAllOf(s, {\n          deep: false\n        });\n      } catch (e) {\n        console.warn('could not merge subschemas in allOf:\\n', e);\n        var _resolvedSchema = resolvedSchema,\n          resolvedSchemaWithoutAllOf = _objectWithoutPropertiesLoose(_resolvedSchema, _excluded3);\n        return resolvedSchemaWithoutAllOf;\n      }\n    }\n    var hasAdditionalProperties = ADDITIONAL_PROPERTIES_KEY in resolvedSchema && resolvedSchema.additionalProperties !== false;\n    if (hasAdditionalProperties) {\n      return stubExistingAdditionalProperties(validator, resolvedSchema, rootSchema, rawFormData);\n    }\n    return resolvedSchema;\n  });\n}\n/** Resolves an `anyOf` or `oneOf` within a schema (if present) to the list of schemas returned from\r\n * `retrieveSchemaInternal()` for the best matching option. If `expandAllBranches` is true, then a list of schemas for ALL\r\n * options are retrieved and returned.\r\n *\r\n * @param validator - An implementation of the `ValidatorType` interface that will be forwarded to all the APIs\r\n * @param schema - The schema for which retrieving a schema is desired\r\n * @param rootSchema - The root schema that will be forwarded to all the APIs\r\n * @param expandAllBranches - Flag, if true, will return all possible branches of conditions, any/oneOf and dependencies\r\n *          as a list of schemas\r\n * @param [rawFormData] - The current formData, if any, to assist retrieving a schema, defaults to an empty object\r\n * @returns - Either an array containing the best matching option or all options if `expandAllBranches` is true\r\n */\nfunction resolveAnyOrOneOfSchemas(validator, schema, rootSchema, expandAllBranches, rawFormData) {\n  var anyOrOneOf;\n  if (Array.isArray(schema.oneOf)) {\n    anyOrOneOf = schema.oneOf;\n  } else if (Array.isArray(schema.anyOf)) {\n    anyOrOneOf = schema.anyOf;\n  }\n  if (anyOrOneOf) {\n    // Ensure that during expand all branches we pass an object rather than undefined so that all options are interrogated\n    var formData = rawFormData === undefined && expandAllBranches ? {} : rawFormData;\n    var discriminator = getDiscriminatorFieldFromSchema(schema);\n    anyOrOneOf = anyOrOneOf.map(function (s) {\n      if (REF_KEY in s) {\n        // For this ref situation, don't expand all branches and just pick the first/only schema result\n        return resolveReference(validator, s, rootSchema, false, formData)[0];\n      }\n      return s;\n    });\n    // Call this to trigger the set of isValid() calls that the schema parser will need\n    var option = getFirstMatchingOption(validator, formData, anyOrOneOf, rootSchema, discriminator);\n    if (expandAllBranches) {\n      return anyOrOneOf;\n    }\n    schema = anyOrOneOf[option];\n  }\n  return [schema];\n}\n/** Resolves dependencies within a schema and its 'anyOf/oneOf' children. Passes the `expandAllBranches` flag down to\r\n * the `resolveAnyOrOneOfSchema()` and `processDependencies()` helper calls.\r\n *\r\n * @param validator - An implementation of the `ValidatorType` interface that will be forwarded to all the APIs\r\n * @param schema - The schema for which resolving a dependency is desired\r\n * @param rootSchema - The root schema that will be forwarded to all the APIs\r\n * @param expandAllBranches - Flag, if true, will return all possible branches of conditions, any/oneOf and dependencies\r\n *          as a list of schemas\r\n * @param [formData] - The current formData, if any, to assist retrieving a schema\r\n * @returns - The list of schemas with their dependencies resolved\r\n */\nfunction resolveDependencies(validator, schema, rootSchema, expandAllBranches, formData) {\n  // Drop the dependencies from the source schema.\n  var dependencies = schema.dependencies,\n    remainingSchema = _objectWithoutPropertiesLoose(schema, _excluded4);\n  var resolvedSchemas = resolveAnyOrOneOfSchemas(validator, remainingSchema, rootSchema, expandAllBranches, formData);\n  return resolvedSchemas.flatMap(function (resolvedSchema) {\n    return processDependencies(validator, dependencies, resolvedSchema, rootSchema, expandAllBranches, formData);\n  });\n}\n/** Processes all the `dependencies` recursively into the list of `resolvedSchema`s as needed. Passes the\r\n * `expandAllBranches` flag down to the `withDependentSchema()` and the recursive `processDependencies()` helper calls.\r\n *\r\n * @param validator - An implementation of the `ValidatorType` interface that will be forwarded to all the APIs\r\n * @param dependencies - The set of dependencies that needs to be processed\r\n * @param resolvedSchema - The schema for which processing dependencies is desired\r\n * @param rootSchema - The root schema that will be forwarded to all the APIs\r\n * @param expandAllBranches - Flag, if true, will return all possible branches of conditions, any/oneOf and dependencies\r\n *          as a list of schemas\r\n * @param [formData] - The current formData, if any, to assist retrieving a schema\r\n * @returns - The schema with the `dependencies` resolved into it\r\n */\nfunction processDependencies(validator, dependencies, resolvedSchema, rootSchema, expandAllBranches, formData) {\n  var schemas = [resolvedSchema];\n  // Process dependencies updating the local schema properties as appropriate.\n  var _loop = function _loop() {\n    // Skip this dependency if its trigger property is not present.\n    if (!expandAllBranches && get(formData, [dependencyKey]) === undefined) {\n      return \"continue\";\n    }\n    // Skip this dependency if it is not included in the schema (such as when dependencyKey is itself a hidden dependency.)\n    if (resolvedSchema.properties && !(dependencyKey in resolvedSchema.properties)) {\n      return \"continue\";\n    }\n    var _splitKeyElementFromO = splitKeyElementFromObject(dependencyKey, dependencies),\n      remainingDependencies = _splitKeyElementFromO[0],\n      dependencyValue = _splitKeyElementFromO[1];\n    if (Array.isArray(dependencyValue)) {\n      schemas[0] = withDependentProperties(resolvedSchema, dependencyValue);\n    } else if (isObject(dependencyValue)) {\n      schemas = withDependentSchema(validator, resolvedSchema, rootSchema, dependencyKey, dependencyValue, expandAllBranches, formData);\n    }\n    return {\n      v: schemas.flatMap(function (schema) {\n        return processDependencies(validator, remainingDependencies, schema, rootSchema, expandAllBranches, formData);\n      })\n    };\n  };\n  for (var dependencyKey in dependencies) {\n    var _ret = _loop();\n    if (_ret === \"continue\") continue;\n    if (typeof _ret === \"object\") return _ret.v;\n  }\n  return schemas;\n}\n/** Updates a schema with additionally required properties added\r\n *\r\n * @param schema - The schema for which resolving a dependent properties is desired\r\n * @param [additionallyRequired] - An optional array of additionally required names\r\n * @returns - The schema with the additional required values merged in\r\n */\nfunction withDependentProperties(schema, additionallyRequired) {\n  if (!additionallyRequired) {\n    return schema;\n  }\n  var required = Array.isArray(schema.required) ? Array.from(new Set([].concat(schema.required, additionallyRequired))) : additionallyRequired;\n  return _extends({}, schema, {\n    required: required\n  });\n}\n/** Merges a dependent schema into the `schema` dealing with oneOfs and references. Passes the `expandAllBranches` flag\r\n * down to the `retrieveSchemaInternal()`, `resolveReference()` and `withExactlyOneSubschema()` helper calls.\r\n *\r\n * @param validator - An implementation of the `ValidatorType` interface that will be forwarded to all the APIs\r\n * @param schema - The schema for which resolving a dependent schema is desired\r\n * @param rootSchema - The root schema that will be forwarded to all the APIs\r\n * @param dependencyKey - The key name of the dependency\r\n * @param dependencyValue - The potentially dependent schema\r\n * @param expandAllBranches - Flag, if true, will return all possible branches of conditions, any/oneOf and dependencies\r\n *          as a list of schemas\r\n * @param [formData]- The current formData to assist retrieving a schema\r\n * @returns - The list of schemas with the dependent schema resolved into them\r\n */\nfunction withDependentSchema(validator, schema, rootSchema, dependencyKey, dependencyValue, expandAllBranches, formData) {\n  var dependentSchemas = retrieveSchemaInternal(validator, dependencyValue, rootSchema, formData, expandAllBranches);\n  return dependentSchemas.flatMap(function (dependent) {\n    var oneOf = dependent.oneOf,\n      dependentSchema = _objectWithoutPropertiesLoose(dependent, _excluded5);\n    schema = mergeSchemas(schema, dependentSchema);\n    // Since it does not contain oneOf, we return the original schema.\n    if (oneOf === undefined) {\n      return schema;\n    }\n    // Resolve $refs inside oneOf.\n    var resolvedOneOfs = oneOf.map(function (subschema) {\n      if (typeof subschema === 'boolean' || !(REF_KEY in subschema)) {\n        return [subschema];\n      }\n      return resolveReference(validator, subschema, rootSchema, expandAllBranches, formData);\n    });\n    var allPermutations = getAllPermutationsOfXxxOf(resolvedOneOfs);\n    return allPermutations.flatMap(function (resolvedOneOf) {\n      return withExactlyOneSubschema(validator, schema, rootSchema, dependencyKey, resolvedOneOf, expandAllBranches, formData);\n    });\n  });\n}\n/** Returns a list of `schema`s with the best choice from the `oneOf` options merged into it. If `expandAllBranches` is\r\n * true, then a list of schemas for ALL options are retrieved and returned. Passes the `expandAllBranches` flag down to\r\n * the `retrieveSchemaInternal()` helper call.\r\n *\r\n * @param validator - An implementation of the `ValidatorType` interface that will be used to validate oneOf options\r\n * @param schema - The schema for which resolving a oneOf subschema is desired\r\n * @param rootSchema - The root schema that will be forwarded to all the APIs\r\n * @param dependencyKey - The key name of the oneOf dependency\r\n * @param oneOf - The list of schemas representing the oneOf options\r\n * @param expandAllBranches - Flag, if true, will return all possible branches of conditions, any/oneOf and dependencies\r\n *          as a list of schemas\r\n * @param [formData] - The current formData to assist retrieving a schema\r\n * @returns - Either an array containing the best matching option or all options if `expandAllBranches` is true\r\n */\nfunction withExactlyOneSubschema(validator, schema, rootSchema, dependencyKey, oneOf, expandAllBranches, formData) {\n  var validSubschemas = oneOf.filter(function (subschema) {\n    if (typeof subschema === 'boolean' || !subschema || !subschema.properties) {\n      return false;\n    }\n    var conditionPropertySchema = subschema.properties[dependencyKey];\n    if (conditionPropertySchema) {\n      var _properties;\n      var conditionSchema = {\n        type: 'object',\n        properties: (_properties = {}, _properties[dependencyKey] = conditionPropertySchema, _properties)\n      };\n      return validator.isValid(conditionSchema, formData, rootSchema) || expandAllBranches;\n    }\n    return false;\n  });\n  if (!expandAllBranches && validSubschemas.length !== 1) {\n    console.warn(\"ignoring oneOf in dependencies because there isn't exactly one subschema that is valid\");\n    return [schema];\n  }\n  return validSubschemas.flatMap(function (s) {\n    var subschema = s;\n    var _splitKeyElementFromO2 = splitKeyElementFromObject(dependencyKey, subschema.properties),\n      dependentSubschema = _splitKeyElementFromO2[0];\n    var dependentSchema = _extends({}, subschema, {\n      properties: dependentSubschema\n    });\n    var schemas = retrieveSchemaInternal(validator, dependentSchema, rootSchema, formData, expandAllBranches);\n    return schemas.map(function (s) {\n      return mergeSchemas(schema, s);\n    });\n  });\n}\n\n/** A junk option used to determine when the getFirstMatchingOption call really matches an option rather than returning\r\n * the first item\r\n */\nvar JUNK_OPTION = {\n  type: 'object',\n  $id: JUNK_OPTION_ID,\n  properties: {\n    __not_really_there__: {\n      type: 'number'\n    }\n  }\n};\n/** Recursive function that calculates the score of a `formData` against the given `schema`. The computation is fairly\r\n * simple. Initially the total score is 0. When `schema.properties` object exists, then all the `key/value` pairs within\r\n * the object are processed as follows after obtaining the formValue from `formData` using the `key`:\r\n * - If the `value` contains a `$ref`, `calculateIndexScore()` is called recursively with the formValue and the new\r\n *   schema that is the result of the ref in the schema being resolved and that sub-schema's resulting score is added to\r\n *   the total.\r\n * - If the `value` contains a `oneOf` and there is a formValue, then score based on the index returned from calling\r\n *   `getClosestMatchingOption()` of that oneOf.\r\n * - If the type of the `value` is 'object', `calculateIndexScore()` is called recursively with the formValue and the\r\n *   `value` itself as the sub-schema, and the score is added to the total.\r\n * - If the type of the `value` matches the guessed-type of the `formValue`, the score is incremented by 1, UNLESS the\r\n *   value has a `default` or `const`. In those case, if the `default` or `const` and the `formValue` match, the score\r\n *   is incremented by another 1 otherwise it is decremented by 1.\r\n *\r\n * @param validator - An implementation of the `ValidatorType` interface that will be used when necessary\r\n * @param rootSchema - The root JSON schema of the entire form\r\n * @param schema - The schema for which the score is being calculated\r\n * @param formData - The form data associated with the schema, used to calculate the score\r\n * @returns - The score a schema against the formData\r\n */\nfunction calculateIndexScore(validator, rootSchema, schema, formData) {\n  if (formData === void 0) {\n    formData = {};\n  }\n  var totalScore = 0;\n  if (schema) {\n    if (isObject$1(schema.properties)) {\n      totalScore += reduce(schema.properties, function (score, value, key) {\n        var formValue = get(formData, key);\n        if (typeof value === 'boolean') {\n          return score;\n        }\n        if (has(value, REF_KEY)) {\n          var newSchema = retrieveSchema(validator, value, rootSchema, formValue);\n          return score + calculateIndexScore(validator, rootSchema, newSchema, formValue || {});\n        }\n        if (has(value, ONE_OF_KEY) && formValue) {\n          return score + getClosestMatchingOption(validator, rootSchema, formValue, get(value, ONE_OF_KEY));\n        }\n        if (value.type === 'object') {\n          return score + calculateIndexScore(validator, rootSchema, value, formValue || {});\n        }\n        if (value.type === guessType(formValue)) {\n          // If the types match, then we bump the score by one\n          var newScore = score + 1;\n          if (value[\"default\"]) {\n            // If the schema contains a readonly default value score the value that matches the default higher and\n            // any non-matching value lower\n            newScore += formValue === value[\"default\"] ? 1 : -1;\n          } else if (value[\"const\"]) {\n            // If the schema contains a const value score the value that matches the default higher and\n            // any non-matching value lower\n            newScore += formValue === value[\"const\"] ? 1 : -1;\n          }\n          // TODO eventually, deal with enums/arrays\n          return newScore;\n        }\n        return score;\n      }, 0);\n    } else if (isString(schema.type) && schema.type === guessType(formData)) {\n      totalScore += 1;\n    }\n  }\n  return totalScore;\n}\n/** Determines which of the given `options` provided most closely matches the `formData`. Using\r\n * `getFirstMatchingOption()` to match two schemas that differ only by the readOnly, default or const value of a field\r\n * based on the `formData` and returns 0 when there is no match. Rather than passing in all the `options` at once to\r\n * this utility, instead an array of valid option indexes is created by iterating over the list of options, call\r\n * `getFirstMatchingOptions` with a list of one junk option and one good option, seeing if the good option is considered\r\n * matched.\r\n *\r\n * Once the list of valid indexes is created, if there is only one valid index, just return it. Otherwise, if there are\r\n * no valid indexes, then fill the valid indexes array with the indexes of all the options. Next, the index of the\r\n * option with the highest score is determined by iterating over the list of valid options, calling\r\n * `calculateIndexScore()` on each, comparing it against the current best score, and returning the index of the one that\r\n * eventually has the best score.\r\n *\r\n * @param validator - An implementation of the `ValidatorType` interface that will be used when necessary\r\n * @param rootSchema - The root JSON schema of the entire form\r\n * @param formData - The form data associated with the schema\r\n * @param options - The list of options that can be selected from\r\n * @param [selectedOption=-1] - The index of the currently selected option, defaulted to -1 if not specified\r\n * @param [discriminatorField] - The optional name of the field within the options object whose value is used to\r\n *          determine which option is selected\r\n * @returns - The index of the option that is the closest match to the `formData` or the `selectedOption` if no match\r\n */\nfunction getClosestMatchingOption(validator, rootSchema, formData, options, selectedOption, discriminatorField) {\n  if (selectedOption === void 0) {\n    selectedOption = -1;\n  }\n  // Reduce the array of options down to a list of the indexes that are considered matching options\n  var allValidIndexes = options.reduce(function (validList, option, index) {\n    var testOptions = [JUNK_OPTION, option];\n    var match = getFirstMatchingOption(validator, formData, testOptions, rootSchema, discriminatorField);\n    // The match is the real option, so add its index to list of valid indexes\n    if (match === 1) {\n      validList.push(index);\n    }\n    return validList;\n  }, []);\n  // There is only one valid index, so return it!\n  if (allValidIndexes.length === 1) {\n    return allValidIndexes[0];\n  }\n  if (!allValidIndexes.length) {\n    // No indexes were valid, so we'll score all the options, add all the indexes\n    times(options.length, function (i) {\n      return allValidIndexes.push(i);\n    });\n  }\n  // Score all the options in the list of valid indexes and return the index with the best score\n  var _allValidIndexes$redu = allValidIndexes.reduce(function (scoreData, index) {\n      var bestScore = scoreData.bestScore;\n      var option = options[index];\n      if (has(option, REF_KEY)) {\n        option = retrieveSchema(validator, option, rootSchema, formData);\n      }\n      var score = calculateIndexScore(validator, rootSchema, option, formData);\n      if (score > bestScore) {\n        return {\n          bestIndex: index,\n          bestScore: score\n        };\n      }\n      return scoreData;\n    }, {\n      bestIndex: selectedOption,\n      bestScore: 0\n    }),\n    bestIndex = _allValidIndexes$redu.bestIndex;\n  return bestIndex;\n}\n\n/** Detects whether the given `schema` contains fixed items. This is the case when `schema.items` is a non-empty array\r\n * that only contains objects.\r\n *\r\n * @param schema - The schema in which to check for fixed items\r\n * @returns - True if there are fixed items in the schema, false otherwise\r\n */\nfunction isFixedItems(schema) {\n  return Array.isArray(schema.items) && schema.items.length > 0 && schema.items.every(function (item) {\n    return isObject(item);\n  });\n}\n\n/** Merges the `defaults` object of type `T` into the `formData` of type `T`\r\n *\r\n * When merging defaults and form data, we want to merge in this specific way:\r\n * - objects are deeply merged\r\n * - arrays are merged in such a way that:\r\n *   - when the array is set in form data, only array entries set in form data\r\n *     are deeply merged; additional entries from the defaults are ignored\r\n *   - when the array is not set in form data, the default is copied over\r\n * - scalars are overwritten/set by form data\r\n *\r\n * @param [defaults] - The defaults to merge\r\n * @param [formData] - The form data into which the defaults will be merged\r\n * @returns - The resulting merged form data with defaults\r\n */\nfunction mergeDefaultsWithFormData(defaults, formData) {\n  if (Array.isArray(formData)) {\n    var defaultsArray = Array.isArray(defaults) ? defaults : [];\n    var mapped = formData.map(function (value, idx) {\n      if (defaultsArray[idx]) {\n        return mergeDefaultsWithFormData(defaultsArray[idx], value);\n      }\n      return value;\n    });\n    return mapped;\n  }\n  if (isObject(formData)) {\n    var acc = Object.assign({}, defaults); // Prevent mutation of source object.\n    return Object.keys(formData).reduce(function (acc, key) {\n      acc[key] = mergeDefaultsWithFormData(defaults ? get(defaults, key) : {}, get(formData, key));\n      return acc;\n    }, acc);\n  }\n  return formData;\n}\n\n/** Recursively merge deeply nested objects.\r\n *\r\n * @param obj1 - The first object to merge\r\n * @param obj2 - The second object to merge\r\n * @param [concatArrays=false] - Optional flag that, when true, will cause arrays to be concatenated. Use\r\n *          \"preventDuplicates\" to merge arrays in a manner that prevents any duplicate entries from being merged.\r\n *          NOTE: Uses shallow comparison for the duplicate checking.\r\n * @returns - A new object that is the merge of the two given objects\r\n */\nfunction mergeObjects(obj1, obj2, concatArrays) {\n  if (concatArrays === void 0) {\n    concatArrays = false;\n  }\n  return Object.keys(obj2).reduce(function (acc, key) {\n    var left = obj1 ? obj1[key] : {},\n      right = obj2[key];\n    if (obj1 && key in obj1 && isObject(right)) {\n      acc[key] = mergeObjects(left, right, concatArrays);\n    } else if (concatArrays && Array.isArray(left) && Array.isArray(right)) {\n      var toMerge = right;\n      if (concatArrays === 'preventDuplicates') {\n        toMerge = right.reduce(function (result, value) {\n          if (!left.includes(value)) {\n            result.push(value);\n          }\n          return result;\n        }, []);\n      }\n      acc[key] = left.concat(toMerge);\n    } else {\n      acc[key] = right;\n    }\n    return acc;\n  }, Object.assign({}, obj1)); // Prevent mutation of source object.\n}\n\n/** This function checks if the given `schema` matches a single constant value. This happens when either the schema has\r\n * an `enum` array with a single value or there is a `const` defined.\r\n *\r\n * @param schema - The schema for a field\r\n * @returns - True if the `schema` has a single constant value, false otherwise\r\n */\nfunction isConstant(schema) {\n  return Array.isArray(schema[\"enum\"]) && schema[\"enum\"].length === 1 || CONST_KEY in schema;\n}\n\n/** Checks to see if the `schema` combination represents a select\r\n *\r\n * @param validator - An implementation of the `ValidatorType` interface that will be used when necessary\r\n * @param theSchema - The schema for which check for a select flag is desired\r\n * @param [rootSchema] - The root schema, used to primarily to look up `$ref`s\r\n * @returns - True if schema contains a select, otherwise false\r\n */\nfunction isSelect(validator, theSchema, rootSchema) {\n  if (rootSchema === void 0) {\n    rootSchema = {};\n  }\n  var schema = retrieveSchema(validator, theSchema, rootSchema, undefined);\n  var altSchemas = schema.oneOf || schema.anyOf;\n  if (Array.isArray(schema[\"enum\"])) {\n    return true;\n  }\n  if (Array.isArray(altSchemas)) {\n    return altSchemas.every(function (altSchemas) {\n      return typeof altSchemas !== 'boolean' && isConstant(altSchemas);\n    });\n  }\n  return false;\n}\n\n/** Checks to see if the `schema` combination represents a multi-select\r\n *\r\n * @param validator - An implementation of the `ValidatorType` interface that will be used when necessary\r\n * @param schema - The schema for which check for a multi-select flag is desired\r\n * @param [rootSchema] - The root schema, used to primarily to look up `$ref`s\r\n * @returns - True if schema contains a multi-select, otherwise false\r\n */\nfunction isMultiSelect(validator, schema, rootSchema) {\n  if (!schema.uniqueItems || !schema.items || typeof schema.items === 'boolean') {\n    return false;\n  }\n  return isSelect(validator, schema.items, rootSchema);\n}\n\n/** Enum that indicates how `schema.additionalItems` should be handled by the `getInnerSchemaForArrayItem()` function.\r\n */\nvar AdditionalItemsHandling;\n(function (AdditionalItemsHandling) {\n  AdditionalItemsHandling[AdditionalItemsHandling[\"Ignore\"] = 0] = \"Ignore\";\n  AdditionalItemsHandling[AdditionalItemsHandling[\"Invert\"] = 1] = \"Invert\";\n  AdditionalItemsHandling[AdditionalItemsHandling[\"Fallback\"] = 2] = \"Fallback\";\n})(AdditionalItemsHandling || (AdditionalItemsHandling = {}));\n/** Given a `schema` will return an inner schema that for an array item. This is computed differently based on the\r\n * `additionalItems` enum and the value of `idx`. There are four possible returns:\r\n * 1. If `idx` is >= 0, then if `schema.items` is an array the `idx`th element of the array is returned if it is a valid\r\n *    index and not a boolean, otherwise it falls through to 3.\r\n * 2. If `schema.items` is not an array AND truthy and not a boolean, then `schema.items` is returned since it actually\r\n *    is a schema, otherwise it falls through to 3.\r\n * 3. If `additionalItems` is not `AdditionalItemsHandling.Ignore` and `schema.additionalItems` is an object, then\r\n *    `schema.additionalItems` is returned since it actually is a schema, otherwise it falls through to 4.\r\n * 4. {} is returned representing an empty schema\r\n *\r\n * @param schema - The schema from which to get the particular item\r\n * @param [additionalItems=AdditionalItemsHandling.Ignore] - How do we want to handle additional items?\r\n * @param [idx=-1] - Index, if non-negative, will be used to return the idx-th element in a `schema.items` array\r\n * @returns - The best fit schema object from the `schema` given the `additionalItems` and `idx` modifiers\r\n */\nfunction getInnerSchemaForArrayItem(schema, additionalItems, idx) {\n  if (additionalItems === void 0) {\n    additionalItems = AdditionalItemsHandling.Ignore;\n  }\n  if (idx === void 0) {\n    idx = -1;\n  }\n  if (idx >= 0) {\n    if (Array.isArray(schema.items) && idx < schema.items.length) {\n      var item = schema.items[idx];\n      if (typeof item !== 'boolean') {\n        return item;\n      }\n    }\n  } else if (schema.items && !Array.isArray(schema.items) && typeof schema.items !== 'boolean') {\n    return schema.items;\n  }\n  if (additionalItems !== AdditionalItemsHandling.Ignore && isObject(schema.additionalItems)) {\n    return schema.additionalItems;\n  }\n  return {};\n}\n/** Either add `computedDefault` at `key` into `obj` or not add it based on its value, the value of\r\n * `includeUndefinedValues`, the value of `emptyObjectFields` and if its parent field is required. Generally undefined\r\n * `computedDefault` values are added only when `includeUndefinedValues` is either true/\"excludeObjectChildren\". If `\r\n * includeUndefinedValues` is false and `emptyObjectFields` is not \"skipDefaults\", then non-undefined and non-empty-object\r\n * values will be added based on certain conditions.\r\n *\r\n * @param obj - The object into which the computed default may be added\r\n * @param key - The key into the object at which the computed default may be added\r\n * @param computedDefault - The computed default value that maybe should be added to the obj\r\n * @param includeUndefinedValues - Optional flag, if true, cause undefined values to be added as defaults.\r\n *          If \"excludeObjectChildren\", cause undefined values for this object and pass `includeUndefinedValues` as\r\n *          false when computing defaults for any nested object properties. If \"allowEmptyObject\", prevents undefined\r\n *          values in this object while allow the object itself to be empty and passing `includeUndefinedValues` as\r\n *          false when computing defaults for any nested object properties.\r\n * @param isParentRequired - The optional boolean that indicates whether the parent field is required\r\n * @param requiredFields - The list of fields that are required\r\n * @param experimental_defaultFormStateBehavior - Optional configuration object, if provided, allows users to override\r\n *        default form state behavior\r\n */\nfunction maybeAddDefaultToObject(obj, key, computedDefault, includeUndefinedValues, isParentRequired, requiredFields, experimental_defaultFormStateBehavior) {\n  if (requiredFields === void 0) {\n    requiredFields = [];\n  }\n  if (experimental_defaultFormStateBehavior === void 0) {\n    experimental_defaultFormStateBehavior = {};\n  }\n  var _experimental_default = experimental_defaultFormStateBehavior,\n    _experimental_default2 = _experimental_default.emptyObjectFields,\n    emptyObjectFields = _experimental_default2 === void 0 ? 'populateAllDefaults' : _experimental_default2;\n  if (includeUndefinedValues) {\n    obj[key] = computedDefault;\n  } else if (emptyObjectFields !== 'skipDefaults') {\n    if (isObject(computedDefault)) {\n      // Store computedDefault if it's a non-empty object(e.g. not {}) and satisfies certain conditions\n      // Condition 1: If computedDefault is not empty or if the key is a required field\n      // Condition 2: If the parent object is required or emptyObjectFields is not 'populateRequiredDefaults'\n      if ((!isEmpty(computedDefault) || requiredFields.includes(key)) && (isParentRequired || emptyObjectFields !== 'populateRequiredDefaults')) {\n        obj[key] = computedDefault;\n      }\n    } else if (\n    // Store computedDefault if it's a defined primitive (e.g., true) and satisfies certain conditions\n    // Condition 1: computedDefault is not undefined\n    // Condition 2: If emptyObjectFields is 'populateAllDefaults' or if the key is a required field\n    computedDefault !== undefined && (emptyObjectFields === 'populateAllDefaults' || requiredFields.includes(key))) {\n      obj[key] = computedDefault;\n    }\n  }\n}\n/** Computes the defaults for the current `schema` given the `rawFormData` and `parentDefaults` if any. This drills into\r\n * each level of the schema, recursively, to fill out every level of defaults provided by the schema.\r\n *\r\n * @param validator - an implementation of the `ValidatorType` interface that will be used when necessary\r\n * @param rawSchema - The schema for which the default state is desired\r\n * @param [props] - Optional props for this function\r\n * @param [props.parentDefaults] - Any defaults provided by the parent field in the schema\r\n * @param [props.rootSchema] - The options root schema, used to primarily to look up `$ref`s\r\n * @param [props.rawFormData] - The current formData, if any, onto which to provide any missing defaults\r\n * @param [props.includeUndefinedValues=false] - Optional flag, if true, cause undefined values to be added as defaults.\r\n *          If \"excludeObjectChildren\", cause undefined values for this object and pass `includeUndefinedValues` as\r\n *          false when computing defaults for any nested object properties.\r\n * @param [props._recurseList=[]] - The list of ref names currently being recursed, used to prevent infinite recursion\r\n * @param [props.experimental_defaultFormStateBehavior] Optional configuration object, if provided, allows users to override default form state behavior\r\n * @param [props.required] - Optional flag, if true, indicates this schema was required in the parent schema.\r\n * @returns - The resulting `formData` with all the defaults provided\r\n */\nfunction computeDefaults(validator, rawSchema, _temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n    parentDefaults = _ref.parentDefaults,\n    rawFormData = _ref.rawFormData,\n    _ref$rootSchema = _ref.rootSchema,\n    rootSchema = _ref$rootSchema === void 0 ? {} : _ref$rootSchema,\n    _ref$includeUndefined = _ref.includeUndefinedValues,\n    includeUndefinedValues = _ref$includeUndefined === void 0 ? false : _ref$includeUndefined,\n    _ref$_recurseList = _ref._recurseList,\n    _recurseList = _ref$_recurseList === void 0 ? [] : _ref$_recurseList,\n    _ref$experimental_def = _ref.experimental_defaultFormStateBehavior,\n    experimental_defaultFormStateBehavior = _ref$experimental_def === void 0 ? undefined : _ref$experimental_def,\n    _ref$required = _ref.required,\n    required = _ref$required === void 0 ? false : _ref$required;\n  var formData = isObject(rawFormData) ? rawFormData : {};\n  var schema = isObject(rawSchema) ? rawSchema : {};\n  // Compute the defaults recursively: give highest priority to deepest nodes.\n  var defaults = parentDefaults;\n  // If we get a new schema, then we need to recompute defaults again for the new schema found.\n  var schemaToCompute = null;\n  var updatedRecurseList = _recurseList;\n  if (isObject(defaults) && isObject(schema[\"default\"])) {\n    // For object defaults, only override parent defaults that are defined in\n    // schema.default.\n    defaults = mergeObjects(defaults, schema[\"default\"]);\n  } else if (DEFAULT_KEY in schema) {\n    defaults = schema[\"default\"];\n  } else if (REF_KEY in schema) {\n    var refName = schema[REF_KEY];\n    // Use referenced schema defaults for this node.\n    if (!_recurseList.includes(refName)) {\n      updatedRecurseList = _recurseList.concat(refName);\n      schemaToCompute = findSchemaDefinition(refName, rootSchema);\n    }\n  } else if (DEPENDENCIES_KEY in schema) {\n    var resolvedSchema = resolveDependencies(validator, schema, rootSchema, false, formData);\n    schemaToCompute = resolvedSchema[0]; // pick the first element from resolve dependencies\n  } else if (isFixedItems(schema)) {\n    defaults = schema.items.map(function (itemSchema, idx) {\n      return computeDefaults(validator, itemSchema, {\n        rootSchema: rootSchema,\n        includeUndefinedValues: includeUndefinedValues,\n        _recurseList: _recurseList,\n        experimental_defaultFormStateBehavior: experimental_defaultFormStateBehavior,\n        parentDefaults: Array.isArray(parentDefaults) ? parentDefaults[idx] : undefined,\n        rawFormData: formData\n      });\n    });\n  } else if (ONE_OF_KEY in schema) {\n    if (schema.oneOf.length === 0) {\n      return undefined;\n    }\n    var discriminator = getDiscriminatorFieldFromSchema(schema);\n    schemaToCompute = schema.oneOf[getClosestMatchingOption(validator, rootSchema, isEmpty(formData) ? undefined : formData, schema.oneOf, 0, discriminator)];\n  } else if (ANY_OF_KEY in schema) {\n    if (schema.anyOf.length === 0) {\n      return undefined;\n    }\n    var _discriminator = getDiscriminatorFieldFromSchema(schema);\n    schemaToCompute = schema.anyOf[getClosestMatchingOption(validator, rootSchema, isEmpty(formData) ? undefined : formData, schema.anyOf, 0, _discriminator)];\n  }\n  if (schemaToCompute) {\n    return computeDefaults(validator, schemaToCompute, {\n      rootSchema: rootSchema,\n      includeUndefinedValues: includeUndefinedValues,\n      _recurseList: updatedRecurseList,\n      experimental_defaultFormStateBehavior: experimental_defaultFormStateBehavior,\n      parentDefaults: defaults,\n      rawFormData: formData\n    });\n  }\n  // No defaults defined for this node, fallback to generic typed ones.\n  if (defaults === undefined) {\n    defaults = schema[\"default\"];\n  }\n  switch (getSchemaType(schema)) {\n    // We need to recurse for object schema inner default values.\n    case 'object':\n      {\n        var objectDefaults = Object.keys(schema.properties || {}).reduce(function (acc, key) {\n          var _schema$required;\n          // Compute the defaults for this node, with the parent defaults we might\n          // have from a previous run: defaults[key].\n          var computedDefault = computeDefaults(validator, get(schema, [PROPERTIES_KEY, key]), {\n            rootSchema: rootSchema,\n            _recurseList: _recurseList,\n            experimental_defaultFormStateBehavior: experimental_defaultFormStateBehavior,\n            includeUndefinedValues: includeUndefinedValues === true,\n            parentDefaults: get(defaults, [key]),\n            rawFormData: get(formData, [key]),\n            required: (_schema$required = schema.required) === null || _schema$required === void 0 ? void 0 : _schema$required.includes(key)\n          });\n          maybeAddDefaultToObject(acc, key, computedDefault, includeUndefinedValues, required, schema.required, experimental_defaultFormStateBehavior);\n          return acc;\n        }, {});\n        if (schema.additionalProperties) {\n          // as per spec additionalProperties may be either schema or boolean\n          var additionalPropertiesSchema = isObject(schema.additionalProperties) ? schema.additionalProperties : {};\n          var keys = new Set();\n          if (isObject(defaults)) {\n            Object.keys(defaults).filter(function (key) {\n              return !schema.properties || !schema.properties[key];\n            }).forEach(function (key) {\n              return keys.add(key);\n            });\n          }\n          var formDataRequired;\n          if (isObject(formData)) {\n            formDataRequired = [];\n            Object.keys(formData).filter(function (key) {\n              return !schema.properties || !schema.properties[key];\n            }).forEach(function (key) {\n              keys.add(key);\n              formDataRequired.push(key);\n            });\n          }\n          keys.forEach(function (key) {\n            var _schema$required2;\n            var computedDefault = computeDefaults(validator, additionalPropertiesSchema, {\n              rootSchema: rootSchema,\n              _recurseList: _recurseList,\n              experimental_defaultFormStateBehavior: experimental_defaultFormStateBehavior,\n              includeUndefinedValues: includeUndefinedValues === true,\n              parentDefaults: get(defaults, [key]),\n              rawFormData: get(formData, [key]),\n              required: (_schema$required2 = schema.required) === null || _schema$required2 === void 0 ? void 0 : _schema$required2.includes(key)\n            });\n            // Since these are additional properties we don’t need to add the `experimental_defaultFormStateBehavior` prop\n            maybeAddDefaultToObject(objectDefaults, key, computedDefault, includeUndefinedValues, required, formDataRequired);\n          });\n        }\n        return objectDefaults;\n      }\n    case 'array':\n      {\n        // Inject defaults into existing array defaults\n        if (Array.isArray(defaults)) {\n          defaults = defaults.map(function (item, idx) {\n            var schemaItem = getInnerSchemaForArrayItem(schema, AdditionalItemsHandling.Fallback, idx);\n            return computeDefaults(validator, schemaItem, {\n              rootSchema: rootSchema,\n              _recurseList: _recurseList,\n              experimental_defaultFormStateBehavior: experimental_defaultFormStateBehavior,\n              parentDefaults: item\n            });\n          });\n        }\n        // Deeply inject defaults into already existing form data\n        if (Array.isArray(rawFormData)) {\n          var schemaItem = getInnerSchemaForArrayItem(schema);\n          defaults = rawFormData.map(function (item, idx) {\n            return computeDefaults(validator, schemaItem, {\n              rootSchema: rootSchema,\n              _recurseList: _recurseList,\n              experimental_defaultFormStateBehavior: experimental_defaultFormStateBehavior,\n              rawFormData: item,\n              parentDefaults: get(defaults, [idx])\n            });\n          });\n        }\n        var ignoreMinItemsFlagSet = (experimental_defaultFormStateBehavior === null || experimental_defaultFormStateBehavior === void 0 ? void 0 : experimental_defaultFormStateBehavior.arrayMinItems) === 'requiredOnly';\n        if (ignoreMinItemsFlagSet && !required) {\n          // If no form data exists or defaults are set leave the field empty/non-existent, otherwise\n          // return form data/defaults\n          return defaults ? defaults : undefined;\n        }\n        var defaultsLength = Array.isArray(defaults) ? defaults.length : 0;\n        if (!schema.minItems || isMultiSelect(validator, schema, rootSchema) || schema.minItems <= defaultsLength) {\n          return defaults ? defaults : [];\n        }\n        var defaultEntries = defaults || [];\n        var fillerSchema = getInnerSchemaForArrayItem(schema, AdditionalItemsHandling.Invert);\n        var fillerDefault = fillerSchema[\"default\"];\n        // Calculate filler entries for remaining items (minItems - existing raw data/defaults)\n        var fillerEntries = new Array(schema.minItems - defaultsLength).fill(computeDefaults(validator, fillerSchema, {\n          parentDefaults: fillerDefault,\n          rootSchema: rootSchema,\n          _recurseList: _recurseList,\n          experimental_defaultFormStateBehavior: experimental_defaultFormStateBehavior\n        }));\n        // then fill up the rest with either the item default or empty, up to minItems\n        return defaultEntries.concat(fillerEntries);\n      }\n  }\n  return defaults;\n}\n/** Returns the superset of `formData` that includes the given set updated to include any missing fields that have\r\n * computed to have defaults provided in the `schema`.\r\n *\r\n * @param validator - An implementation of the `ValidatorType` interface that will be used when necessary\r\n * @param theSchema - The schema for which the default state is desired\r\n * @param [formData] - The current formData, if any, onto which to provide any missing defaults\r\n * @param [rootSchema] - The root schema, used to primarily to look up `$ref`s\r\n * @param [includeUndefinedValues=false] - Optional flag, if true, cause undefined values to be added as defaults.\r\n *          If \"excludeObjectChildren\", cause undefined values for this object and pass `includeUndefinedValues` as\r\n *          false when computing defaults for any nested object properties.\r\n * @param [experimental_defaultFormStateBehavior] Optional configuration object, if provided, allows users to override default form state behavior\r\n * @returns - The resulting `formData` with all the defaults provided\r\n */\nfunction getDefaultFormState(validator, theSchema, formData, rootSchema, includeUndefinedValues, experimental_defaultFormStateBehavior) {\n  if (includeUndefinedValues === void 0) {\n    includeUndefinedValues = false;\n  }\n  if (!isObject(theSchema)) {\n    throw new Error('Invalid schema: ' + theSchema);\n  }\n  var schema = retrieveSchema(validator, theSchema, rootSchema, formData);\n  var defaults = computeDefaults(validator, schema, {\n    rootSchema: rootSchema,\n    includeUndefinedValues: includeUndefinedValues,\n    experimental_defaultFormStateBehavior: experimental_defaultFormStateBehavior,\n    rawFormData: formData\n  });\n  if (formData === undefined || formData === null || typeof formData === 'number' && isNaN(formData)) {\n    // No form data? Use schema defaults.\n    return defaults;\n  }\n  if (isObject(formData)) {\n    return mergeDefaultsWithFormData(defaults, formData);\n  }\n  if (Array.isArray(formData)) {\n    return mergeDefaultsWithFormData(defaults, formData);\n  }\n  return formData;\n}\n\n/** Checks to see if the `uiSchema` contains the `widget` field and that the widget is not `hidden`\r\n *\r\n * @param uiSchema - The UI Schema from which to detect if it is customized\r\n * @returns - True if the `uiSchema` describes a custom widget, false otherwise\r\n */\nfunction isCustomWidget(uiSchema) {\n  if (uiSchema === void 0) {\n    uiSchema = {};\n  }\n  return (\n    // TODO: Remove the `&& uiSchema['ui:widget'] !== 'hidden'` once we support hidden widgets for arrays.\n    // https://rjsf-team.github.io/react-jsonschema-form/docs/usage/widgets/#hidden-widgets\n    'widget' in getUiOptions(uiSchema) && getUiOptions(uiSchema)['widget'] !== 'hidden'\n  );\n}\n\n/** Checks to see if the `schema` and `uiSchema` combination represents an array of files\r\n *\r\n * @param validator - An implementation of the `ValidatorType` interface that will be used when necessary\r\n * @param schema - The schema for which check for array of files flag is desired\r\n * @param [uiSchema={}] - The UI schema from which to check the widget\r\n * @param [rootSchema] - The root schema, used to primarily to look up `$ref`s\r\n * @returns - True if schema/uiSchema contains an array of files, otherwise false\r\n */\nfunction isFilesArray(validator, schema, uiSchema, rootSchema) {\n  if (uiSchema === void 0) {\n    uiSchema = {};\n  }\n  if (uiSchema[UI_WIDGET_KEY] === 'files') {\n    return true;\n  }\n  if (schema.items) {\n    var itemsSchema = retrieveSchema(validator, schema.items, rootSchema);\n    return itemsSchema.type === 'string' && itemsSchema.format === 'data-url';\n  }\n  return false;\n}\n\n/** Determines whether the combination of `schema` and `uiSchema` properties indicates that the label for the `schema`\r\n * should be displayed in a UI.\r\n *\r\n * @param validator - An implementation of the `ValidatorType` interface that will be used when necessary\r\n * @param schema - The schema for which the display label flag is desired\r\n * @param [uiSchema={}] - The UI schema from which to derive potentially displayable information\r\n * @param [rootSchema] - The root schema, used to primarily to look up `$ref`s\r\n * @param [globalOptions={}] - The optional Global UI Schema from which to get any fallback `xxx` options\r\n * @returns - True if the label should be displayed or false if it should not\r\n */\nfunction getDisplayLabel(validator, schema, uiSchema, rootSchema, globalOptions) {\n  if (uiSchema === void 0) {\n    uiSchema = {};\n  }\n  var uiOptions = getUiOptions(uiSchema, globalOptions);\n  var _uiOptions$label = uiOptions.label,\n    label = _uiOptions$label === void 0 ? true : _uiOptions$label;\n  var displayLabel = !!label;\n  var schemaType = getSchemaType(schema);\n  if (schemaType === 'array') {\n    displayLabel = isMultiSelect(validator, schema, rootSchema) || isFilesArray(validator, schema, uiSchema, rootSchema) || isCustomWidget(uiSchema);\n  }\n  if (schemaType === 'object') {\n    displayLabel = false;\n  }\n  if (schemaType === 'boolean' && !uiSchema[UI_WIDGET_KEY]) {\n    displayLabel = false;\n  }\n  if (uiSchema[UI_FIELD_KEY]) {\n    displayLabel = false;\n  }\n  return displayLabel;\n}\n\n/** Merges the errors in `additionalErrorSchema` into the existing `validationData` by combining the hierarchies in the\r\n * two `ErrorSchema`s and then appending the error list from the `additionalErrorSchema` obtained by calling\r\n * `validator.toErrorList()` onto the `errors` in the `validationData`. If no `additionalErrorSchema` is passed, then\r\n * `validationData` is returned.\r\n *\r\n * @param validator - The validator used to convert an ErrorSchema to a list of errors\r\n * @param validationData - The current `ValidationData` into which to merge the additional errors\r\n * @param [additionalErrorSchema] - The additional set of errors in an `ErrorSchema`\r\n * @returns - The `validationData` with the additional errors from `additionalErrorSchema` merged into it, if provided.\r\n * @deprecated - Use the `validationDataMerge()` function exported from `@rjsf/utils` instead. This function will be\r\n *        removed in the next major release.\r\n */\nfunction mergeValidationData(validator, validationData, additionalErrorSchema) {\n  if (!additionalErrorSchema) {\n    return validationData;\n  }\n  var oldErrors = validationData.errors,\n    oldErrorSchema = validationData.errorSchema;\n  var errors = validator.toErrorList(additionalErrorSchema);\n  var errorSchema = additionalErrorSchema;\n  if (!isEmpty(oldErrorSchema)) {\n    errorSchema = mergeObjects(oldErrorSchema, additionalErrorSchema, true);\n    errors = [].concat(oldErrors).concat(errors);\n  }\n  return {\n    errorSchema: errorSchema,\n    errors: errors\n  };\n}\n\nvar NO_VALUE = /*#__PURE__*/Symbol('no Value');\n/** Sanitize the `data` associated with the `oldSchema` so it is considered appropriate for the `newSchema`. If the new\r\n * schema does not contain any properties, then `undefined` is returned to clear all the form data. Due to the nature\r\n * of schemas, this sanitization happens recursively for nested objects of data. Also, any properties in the old schema\r\n * that are non-existent in the new schema are set to `undefined`. The data sanitization process has the following flow:\r\n *\r\n * - If the new schema is an object that contains a `properties` object then:\r\n *   - Create a `removeOldSchemaData` object, setting each key in the `oldSchema.properties` having `data` to undefined\r\n *   - Create an empty `nestedData` object for use in the key filtering below:\r\n *   - Iterate over each key in the `newSchema.properties` as follows:\r\n *     - Get the `formValue` of the key from the `data`\r\n *     - Get the `oldKeySchema` and `newKeyedSchema` for the key, defaulting to `{}` when it doesn't exist\r\n *     - Retrieve the schema for any refs within each `oldKeySchema` and/or `newKeySchema`\r\n *     - Get the types of the old and new keyed schemas and if the old doesn't exist or the old & new are the same then:\r\n *       - If `removeOldSchemaData` has an entry for the key, delete it since the new schema has the same property\r\n *       - If type of the key in the new schema is `object`:\r\n *         - Store the value from the recursive `sanitizeDataForNewSchema` call in `nestedData[key]`\r\n *       - Otherwise, check for default or const values:\r\n *         - Get the old and new `default` values from the schema and check:\r\n *           - If the new `default` value does not match the form value:\r\n *             - If the old `default` value DOES match the form value, then:\r\n *               - Replace `removeOldSchemaData[key]` with the new `default`\r\n *               - Otherwise, if the new schema is `readOnly` then replace `removeOldSchemaData[key]` with undefined\r\n *         - Get the old and new `const` values from the schema and check:\r\n *           - If the new `const` value does not match the form value:\r\n *           - If the old `const` value DOES match the form value, then:\r\n *             - Replace `removeOldSchemaData[key]` with the new `const`\r\n *             - Otherwise, replace `removeOldSchemaData[key]` with undefined\r\n *   - Once all keys have been processed, return an object built as follows:\r\n *     - `{ ...removeOldSchemaData, ...nestedData, ...pick(data, keysToKeep) }`\r\n * - If the new and old schema types are array and the `data` is an array then:\r\n *   - If the type of the old and new schema `items` are a non-array objects:\r\n *     - Retrieve the schema for any refs within each `oldKeySchema.items` and/or `newKeySchema.items`\r\n *     - If the `type`s of both items are the same (or the old does not have a type):\r\n *       - If the type is \"object\", then:\r\n *         - For each element in the `data` recursively sanitize the data, stopping at `maxItems` if specified\r\n *       - Otherwise, just return the `data` removing any values after `maxItems` if it is set\r\n *   - If the type of the old and new schema `items` are booleans of the same value, return `data` as is\r\n * - Otherwise return `undefined`\r\n *\r\n * @param validator - An implementation of the `ValidatorType` interface that will be used when necessary\r\n * @param rootSchema - The root JSON schema of the entire form\r\n * @param [newSchema] - The new schema for which the data is being sanitized\r\n * @param [oldSchema] - The old schema from which the data originated\r\n * @param [data={}] - The form data associated with the schema, defaulting to an empty object when undefined\r\n * @returns - The new form data, with all the fields uniquely associated with the old schema set\r\n *      to `undefined`. Will return `undefined` if the new schema is not an object containing properties.\r\n */\nfunction sanitizeDataForNewSchema(validator, rootSchema, newSchema, oldSchema, data) {\n  if (data === void 0) {\n    data = {};\n  }\n  // By default, we will clear the form data\n  var newFormData;\n  // If the new schema is of type object and that object contains a list of properties\n  if (has(newSchema, PROPERTIES_KEY)) {\n    // Create an object containing root-level keys in the old schema, setting each key to undefined to remove the data\n    var removeOldSchemaData = {};\n    if (has(oldSchema, PROPERTIES_KEY)) {\n      var properties = get(oldSchema, PROPERTIES_KEY, {});\n      Object.keys(properties).forEach(function (key) {\n        if (has(data, key)) {\n          removeOldSchemaData[key] = undefined;\n        }\n      });\n    }\n    var keys = Object.keys(get(newSchema, PROPERTIES_KEY, {}));\n    // Create a place to store nested data that will be a side-effect of the filter\n    var nestedData = {};\n    keys.forEach(function (key) {\n      var formValue = get(data, key);\n      var oldKeyedSchema = get(oldSchema, [PROPERTIES_KEY, key], {});\n      var newKeyedSchema = get(newSchema, [PROPERTIES_KEY, key], {});\n      // Resolve the refs if they exist\n      if (has(oldKeyedSchema, REF_KEY)) {\n        oldKeyedSchema = retrieveSchema(validator, oldKeyedSchema, rootSchema, formValue);\n      }\n      if (has(newKeyedSchema, REF_KEY)) {\n        newKeyedSchema = retrieveSchema(validator, newKeyedSchema, rootSchema, formValue);\n      }\n      // Now get types and see if they are the same\n      var oldSchemaTypeForKey = get(oldKeyedSchema, 'type');\n      var newSchemaTypeForKey = get(newKeyedSchema, 'type');\n      // Check if the old option has the same key with the same type\n      if (!oldSchemaTypeForKey || oldSchemaTypeForKey === newSchemaTypeForKey) {\n        if (has(removeOldSchemaData, key)) {\n          // SIDE-EFFECT: remove the undefined value for a key that has the same type between the old and new schemas\n          delete removeOldSchemaData[key];\n        }\n        // If it is an object, we'll recurse and store the resulting sanitized data for the key\n        if (newSchemaTypeForKey === 'object' || newSchemaTypeForKey === 'array' && Array.isArray(formValue)) {\n          // SIDE-EFFECT: process the new schema type of object recursively to save iterations\n          var itemData = sanitizeDataForNewSchema(validator, rootSchema, newKeyedSchema, oldKeyedSchema, formValue);\n          if (itemData !== undefined || newSchemaTypeForKey === 'array') {\n            // only put undefined values for the array type and not the object type\n            nestedData[key] = itemData;\n          }\n        } else {\n          // Ok, the non-object types match, let's make sure that a default or a const of a different value is replaced\n          // with the new default or const. This allows the case where two schemas differ that only by the default/const\n          // value to be properly selected\n          var newOptionDefault = get(newKeyedSchema, 'default', NO_VALUE);\n          var oldOptionDefault = get(oldKeyedSchema, 'default', NO_VALUE);\n          if (newOptionDefault !== NO_VALUE && newOptionDefault !== formValue) {\n            if (oldOptionDefault === formValue) {\n              // If the old default matches the formValue, we'll update the new value to match the new default\n              removeOldSchemaData[key] = newOptionDefault;\n            } else if (get(newKeyedSchema, 'readOnly') === true) {\n              // If the new schema has the default set to read-only, treat it like a const and remove the value\n              removeOldSchemaData[key] = undefined;\n            }\n          }\n          var newOptionConst = get(newKeyedSchema, 'const', NO_VALUE);\n          var oldOptionConst = get(oldKeyedSchema, 'const', NO_VALUE);\n          if (newOptionConst !== NO_VALUE && newOptionConst !== formValue) {\n            // Since this is a const, if the old value matches, replace the value with the new const otherwise clear it\n            removeOldSchemaData[key] = oldOptionConst === formValue ? newOptionConst : undefined;\n          }\n        }\n      }\n    });\n    newFormData = _extends({}, data, removeOldSchemaData, nestedData);\n    // First apply removing the old schema data, then apply the nested data, then apply the old data keys to keep\n  } else if (get(oldSchema, 'type') === 'array' && get(newSchema, 'type') === 'array' && Array.isArray(data)) {\n    var oldSchemaItems = get(oldSchema, 'items');\n    var newSchemaItems = get(newSchema, 'items');\n    // If any of the array types `items` are arrays (remember arrays are objects) then we'll just drop the data\n    // Eventually, we may want to deal with when either of the `items` are arrays since those tuple validations\n    if (typeof oldSchemaItems === 'object' && typeof newSchemaItems === 'object' && !Array.isArray(oldSchemaItems) && !Array.isArray(newSchemaItems)) {\n      if (has(oldSchemaItems, REF_KEY)) {\n        oldSchemaItems = retrieveSchema(validator, oldSchemaItems, rootSchema, data);\n      }\n      if (has(newSchemaItems, REF_KEY)) {\n        newSchemaItems = retrieveSchema(validator, newSchemaItems, rootSchema, data);\n      }\n      // Now get types and see if they are the same\n      var oldSchemaType = get(oldSchemaItems, 'type');\n      var newSchemaType = get(newSchemaItems, 'type');\n      // Check if the old option has the same key with the same type\n      if (!oldSchemaType || oldSchemaType === newSchemaType) {\n        var maxItems = get(newSchema, 'maxItems', -1);\n        if (newSchemaType === 'object') {\n          newFormData = data.reduce(function (newValue, aValue) {\n            var itemValue = sanitizeDataForNewSchema(validator, rootSchema, newSchemaItems, oldSchemaItems, aValue);\n            if (itemValue !== undefined && (maxItems < 0 || newValue.length < maxItems)) {\n              newValue.push(itemValue);\n            }\n            return newValue;\n          }, []);\n        } else {\n          newFormData = maxItems > 0 && data.length > maxItems ? data.slice(0, maxItems) : data;\n        }\n      }\n    } else if (typeof oldSchemaItems === 'boolean' && typeof newSchemaItems === 'boolean' && oldSchemaItems === newSchemaItems) {\n      // If they are both booleans and have the same value just return the data as is otherwise fall-thru to undefined\n      newFormData = data;\n    }\n    // Also probably want to deal with `prefixItems` as tuples with the latest 2020 draft\n  }\n\n  return newFormData;\n}\n\n/** An internal helper that generates an `IdSchema` object for the `schema`, recursively with protection against\r\n * infinite recursion\r\n *\r\n * @param validator - An implementation of the `ValidatorType` interface that will be used when necessary\r\n * @param schema - The schema for which the `IdSchema` is desired\r\n * @param idPrefix - The prefix to use for the id\r\n * @param idSeparator - The separator to use for the path segments in the id\r\n * @param [id] - The base id for the schema\r\n * @param [rootSchema] - The root schema, used to primarily to look up `$ref`s\r\n * @param [formData] - The current formData, if any, to assist retrieving a schema\r\n * @param [_recurseList=[]] - The list of retrieved schemas currently being recursed, used to prevent infinite recursion\r\n * @returns - The `IdSchema` object for the `schema`\r\n */\nfunction toIdSchemaInternal(validator, schema, idPrefix, idSeparator, id, rootSchema, formData, _recurseList) {\n  if (_recurseList === void 0) {\n    _recurseList = [];\n  }\n  if (REF_KEY in schema || DEPENDENCIES_KEY in schema || ALL_OF_KEY in schema) {\n    var _schema = retrieveSchema(validator, schema, rootSchema, formData);\n    var sameSchemaIndex = _recurseList.findIndex(function (item) {\n      return isEqual(item, _schema);\n    });\n    if (sameSchemaIndex === -1) {\n      return toIdSchemaInternal(validator, _schema, idPrefix, idSeparator, id, rootSchema, formData, _recurseList.concat(_schema));\n    }\n  }\n  if (ITEMS_KEY in schema && !get(schema, [ITEMS_KEY, REF_KEY])) {\n    return toIdSchemaInternal(validator, get(schema, ITEMS_KEY), idPrefix, idSeparator, id, rootSchema, formData, _recurseList);\n  }\n  var $id = id || idPrefix;\n  var idSchema = {\n    $id: $id\n  };\n  if (getSchemaType(schema) === 'object' && PROPERTIES_KEY in schema) {\n    for (var name in schema.properties) {\n      var field = get(schema, [PROPERTIES_KEY, name]);\n      var fieldId = idSchema[ID_KEY] + idSeparator + name;\n      idSchema[name] = toIdSchemaInternal(validator, isObject(field) ? field : {}, idPrefix, idSeparator, fieldId, rootSchema,\n      // It's possible that formData is not an object -- this can happen if an\n      // array item has just been added, but not populated with data yet\n      get(formData, [name]), _recurseList);\n    }\n  }\n  return idSchema;\n}\n/** Generates an `IdSchema` object for the `schema`, recursively\r\n *\r\n * @param validator - An implementation of the `ValidatorType` interface that will be used when necessary\r\n * @param schema - The schema for which the `IdSchema` is desired\r\n * @param [id] - The base id for the schema\r\n * @param [rootSchema] - The root schema, used to primarily to look up `$ref`s\r\n * @param [formData] - The current formData, if any, to assist retrieving a schema\r\n * @param [idPrefix='root'] - The prefix to use for the id\r\n * @param [idSeparator='_'] - The separator to use for the path segments in the id\r\n * @returns - The `IdSchema` object for the `schema`\r\n */\nfunction toIdSchema(validator, schema, id, rootSchema, formData, idPrefix, idSeparator) {\n  if (idPrefix === void 0) {\n    idPrefix = 'root';\n  }\n  if (idSeparator === void 0) {\n    idSeparator = '_';\n  }\n  return toIdSchemaInternal(validator, schema, idPrefix, idSeparator, id, rootSchema, formData);\n}\n\n/** An internal helper that generates an `PathSchema` object for the `schema`, recursively with protection against\r\n * infinite recursion\r\n *\r\n * @param validator - An implementation of the `ValidatorType` interface that will be used when necessary\r\n * @param schema - The schema for which the `PathSchema` is desired\r\n * @param [name=''] - The base name for the schema\r\n * @param [rootSchema] - The root schema, used to primarily to look up `$ref`s\r\n * @param [formData] - The current formData, if any, to assist retrieving a schema\r\n * @param [_recurseList=[]] - The list of retrieved schemas currently being recursed, used to prevent infinite recursion\r\n * @returns - The `PathSchema` object for the `schema`\r\n */\nfunction toPathSchemaInternal(validator, schema, name, rootSchema, formData, _recurseList) {\n  var _pathSchema;\n  if (_recurseList === void 0) {\n    _recurseList = [];\n  }\n  if (REF_KEY in schema || DEPENDENCIES_KEY in schema || ALL_OF_KEY in schema) {\n    var _schema = retrieveSchema(validator, schema, rootSchema, formData);\n    var sameSchemaIndex = _recurseList.findIndex(function (item) {\n      return isEqual(item, _schema);\n    });\n    if (sameSchemaIndex === -1) {\n      return toPathSchemaInternal(validator, _schema, name, rootSchema, formData, _recurseList.concat(_schema));\n    }\n  }\n  var pathSchema = (_pathSchema = {}, _pathSchema[NAME_KEY] = name.replace(/^\\./, ''), _pathSchema);\n  if (ONE_OF_KEY in schema || ANY_OF_KEY in schema) {\n    var xxxOf = ONE_OF_KEY in schema ? schema.oneOf : schema.anyOf;\n    var discriminator = getDiscriminatorFieldFromSchema(schema);\n    var index = getClosestMatchingOption(validator, rootSchema, formData, xxxOf, 0, discriminator);\n    var _schema2 = xxxOf[index];\n    pathSchema = _extends({}, pathSchema, toPathSchemaInternal(validator, _schema2, name, rootSchema, formData, _recurseList));\n  }\n  if (ADDITIONAL_PROPERTIES_KEY in schema && schema[ADDITIONAL_PROPERTIES_KEY] !== false) {\n    set(pathSchema, RJSF_ADDITONAL_PROPERTIES_FLAG, true);\n  }\n  if (ITEMS_KEY in schema && Array.isArray(formData)) {\n    formData.forEach(function (element, i) {\n      pathSchema[i] = toPathSchemaInternal(validator, schema.items, name + \".\" + i, rootSchema, element, _recurseList);\n    });\n  } else if (PROPERTIES_KEY in schema) {\n    for (var property in schema.properties) {\n      var field = get(schema, [PROPERTIES_KEY, property]);\n      pathSchema[property] = toPathSchemaInternal(validator, field, name + \".\" + property, rootSchema,\n      // It's possible that formData is not an object -- this can happen if an\n      // array item has just been added, but not populated with data yet\n      get(formData, [property]), _recurseList);\n    }\n  }\n  return pathSchema;\n}\n/** Generates an `PathSchema` object for the `schema`, recursively\r\n *\r\n * @param validator - An implementation of the `ValidatorType` interface that will be used when necessary\r\n * @param schema - The schema for which the `PathSchema` is desired\r\n * @param [name=''] - The base name for the schema\r\n * @param [rootSchema] - The root schema, used to primarily to look up `$ref`s\r\n * @param [formData] - The current formData, if any, to assist retrieving a schema\r\n * @returns - The `PathSchema` object for the `schema`\r\n */\nfunction toPathSchema(validator, schema, name, rootSchema, formData) {\n  if (name === void 0) {\n    name = '';\n  }\n  return toPathSchemaInternal(validator, schema, name, rootSchema, formData);\n}\n\n/** The `SchemaUtils` class provides a wrapper around the publicly exported APIs in the `utils/schema` directory such\r\n * that one does not have to explicitly pass the `validator`, `rootSchema`, or `experimental_defaultFormStateBehavior` to each method.\r\n * Since these generally do not change across a `Form`, this allows for providing a simplified set of APIs to the\r\n * `@rjsf/core` components and the various themes as well. This class implements the `SchemaUtilsType` interface.\r\n */\nvar SchemaUtils = /*#__PURE__*/function () {\n  /** Constructs the `SchemaUtils` instance with the given `validator` and `rootSchema` stored as instance variables\r\n   *\r\n   * @param validator - An implementation of the `ValidatorType` interface that will be forwarded to all the APIs\r\n   * @param rootSchema - The root schema that will be forwarded to all the APIs\r\n   * @param experimental_defaultFormStateBehavior - Configuration flags to allow users to override default form state behavior\r\n   */\n  function SchemaUtils(validator, rootSchema, experimental_defaultFormStateBehavior) {\n    this.rootSchema = void 0;\n    this.validator = void 0;\n    this.experimental_defaultFormStateBehavior = void 0;\n    this.rootSchema = rootSchema;\n    this.validator = validator;\n    this.experimental_defaultFormStateBehavior = experimental_defaultFormStateBehavior;\n  }\n  /** Returns the `ValidatorType` in the `SchemaUtilsType`\r\n   *\r\n   * @returns - The `ValidatorType`\r\n   */\n  var _proto = SchemaUtils.prototype;\n  _proto.getValidator = function getValidator() {\n    return this.validator;\n  }\n  /** Determines whether either the `validator` and `rootSchema` differ from the ones associated with this instance of\r\n   * the `SchemaUtilsType`. If either `validator` or `rootSchema` are falsy, then return false to prevent the creation\r\n   * of a new `SchemaUtilsType` with incomplete properties.\r\n   *\r\n   * @param validator - An implementation of the `ValidatorType` interface that will be compared against the current one\r\n   * @param rootSchema - The root schema that will be compared against the current one\r\n   * @param [experimental_defaultFormStateBehavior] Optional configuration object, if provided, allows users to override default form state behavior\r\n   * @returns - True if the `SchemaUtilsType` differs from the given `validator` or `rootSchema`\r\n   */;\n  _proto.doesSchemaUtilsDiffer = function doesSchemaUtilsDiffer(validator, rootSchema, experimental_defaultFormStateBehavior) {\n    if (experimental_defaultFormStateBehavior === void 0) {\n      experimental_defaultFormStateBehavior = {};\n    }\n    if (!validator || !rootSchema) {\n      return false;\n    }\n    return this.validator !== validator || !deepEquals(this.rootSchema, rootSchema) || !deepEquals(this.experimental_defaultFormStateBehavior, experimental_defaultFormStateBehavior);\n  }\n  /** Returns the superset of `formData` that includes the given set updated to include any missing fields that have\r\n   * computed to have defaults provided in the `schema`.\r\n   *\r\n   * @param schema - The schema for which the default state is desired\r\n   * @param [formData] - The current formData, if any, onto which to provide any missing defaults\r\n   * @param [includeUndefinedValues=false] - Optional flag, if true, cause undefined values to be added as defaults.\r\n   *          If \"excludeObjectChildren\", pass `includeUndefinedValues` as false when computing defaults for any nested\r\n   *          object properties.\r\n   * @returns - The resulting `formData` with all the defaults provided\r\n   */;\n  _proto.getDefaultFormState = function getDefaultFormState$1(schema, formData, includeUndefinedValues) {\n    if (includeUndefinedValues === void 0) {\n      includeUndefinedValues = false;\n    }\n    return getDefaultFormState(this.validator, schema, formData, this.rootSchema, includeUndefinedValues, this.experimental_defaultFormStateBehavior);\n  }\n  /** Determines whether the combination of `schema` and `uiSchema` properties indicates that the label for the `schema`\r\n   * should be displayed in a UI.\r\n   *\r\n   * @param schema - The schema for which the display label flag is desired\r\n   * @param [uiSchema] - The UI schema from which to derive potentially displayable information\r\n   * @param [globalOptions={}] - The optional Global UI Schema from which to get any fallback `xxx` options\r\n   * @returns - True if the label should be displayed or false if it should not\r\n   */;\n  _proto.getDisplayLabel = function getDisplayLabel$1(schema, uiSchema, globalOptions) {\n    return getDisplayLabel(this.validator, schema, uiSchema, this.rootSchema, globalOptions);\n  }\n  /** Determines which of the given `options` provided most closely matches the `formData`.\r\n   * Returns the index of the option that is valid and is the closest match, or 0 if there is no match.\r\n   *\r\n   * The closest match is determined using the number of matching properties, and more heavily favors options with\r\n   * matching readOnly, default, or const values.\r\n   *\r\n   * @param formData - The form data associated with the schema\r\n   * @param options - The list of options that can be selected from\r\n   * @param [selectedOption] - The index of the currently selected option, defaulted to -1 if not specified\r\n   * @param [discriminatorField] - The optional name of the field within the options object whose value is used to\r\n   *          determine which option is selected\r\n   * @returns - The index of the option that is the closest match to the `formData` or the `selectedOption` if no match\r\n   */;\n  _proto.getClosestMatchingOption = function getClosestMatchingOption$1(formData, options, selectedOption, discriminatorField) {\n    return getClosestMatchingOption(this.validator, this.rootSchema, formData, options, selectedOption, discriminatorField);\n  }\n  /** Given the `formData` and list of `options`, attempts to find the index of the first option that matches the data.\r\n   * Always returns the first option if there is nothing that matches.\r\n   *\r\n   * @param formData - The current formData, if any, used to figure out a match\r\n   * @param options - The list of options to find a matching options from\r\n   * @param [discriminatorField] - The optional name of the field within the options object whose value is used to\r\n   *          determine which option is selected\r\n   * @returns - The firstindex of the matched option or 0 if none is available\r\n   */;\n  _proto.getFirstMatchingOption = function getFirstMatchingOption$1(formData, options, discriminatorField) {\n    return getFirstMatchingOption(this.validator, formData, options, this.rootSchema, discriminatorField);\n  }\n  /** Given the `formData` and list of `options`, attempts to find the index of the option that best matches the data.\r\n   * Deprecated, use `getFirstMatchingOption()` instead.\r\n   *\r\n   * @param formData - The current formData, if any, onto which to provide any missing defaults\r\n   * @param options - The list of options to find a matching options from\r\n   * @param [discriminatorField] - The optional name of the field within the options object whose value is used to\r\n   *          determine which option is selected\r\n   * @returns - The index of the matched option or 0 if none is available\r\n   * @deprecated\r\n   */;\n  _proto.getMatchingOption = function getMatchingOption$1(formData, options, discriminatorField) {\n    return getMatchingOption(this.validator, formData, options, this.rootSchema, discriminatorField);\n  }\n  /** Checks to see if the `schema` and `uiSchema` combination represents an array of files\r\n   *\r\n   * @param schema - The schema for which check for array of files flag is desired\r\n   * @param [uiSchema] - The UI schema from which to check the widget\r\n   * @returns - True if schema/uiSchema contains an array of files, otherwise false\r\n   */;\n  _proto.isFilesArray = function isFilesArray$1(schema, uiSchema) {\n    return isFilesArray(this.validator, schema, uiSchema, this.rootSchema);\n  }\n  /** Checks to see if the `schema` combination represents a multi-select\r\n   *\r\n   * @param schema - The schema for which check for a multi-select flag is desired\r\n   * @returns - True if schema contains a multi-select, otherwise false\r\n   */;\n  _proto.isMultiSelect = function isMultiSelect$1(schema) {\n    return isMultiSelect(this.validator, schema, this.rootSchema);\n  }\n  /** Checks to see if the `schema` combination represents a select\r\n   *\r\n   * @param schema - The schema for which check for a select flag is desired\r\n   * @returns - True if schema contains a select, otherwise false\r\n   */;\n  _proto.isSelect = function isSelect$1(schema) {\n    return isSelect(this.validator, schema, this.rootSchema);\n  }\n  /** Merges the errors in `additionalErrorSchema` into the existing `validationData` by combining the hierarchies in\r\n   * the two `ErrorSchema`s and then appending the error list from the `additionalErrorSchema` obtained by calling\r\n   * `getValidator().toErrorList()` onto the `errors` in the `validationData`. If no `additionalErrorSchema` is passed,\r\n   * then `validationData` is returned.\r\n   *\r\n   * @param validationData - The current `ValidationData` into which to merge the additional errors\r\n   * @param [additionalErrorSchema] - The additional set of errors\r\n   * @returns - The `validationData` with the additional errors from `additionalErrorSchema` merged into it, if provided.\r\n   * @deprecated - Use the `validationDataMerge()` function exported from `@rjsf/utils` instead. This function will be\r\n   *        removed in the next major release.\r\n   */;\n  _proto.mergeValidationData = function mergeValidationData$1(validationData, additionalErrorSchema) {\n    return mergeValidationData(this.validator, validationData, additionalErrorSchema);\n  }\n  /** Retrieves an expanded schema that has had all of its conditions, additional properties, references and\r\n   * dependencies resolved and merged into the `schema` given a `rawFormData` that is used to do the potentially\r\n   * recursive resolution.\r\n   *\r\n   * @param schema - The schema for which retrieving a schema is desired\r\n   * @param [rawFormData] - The current formData, if any, to assist retrieving a schema\r\n   * @returns - The schema having its conditions, additional properties, references and dependencies resolved\r\n   */;\n  _proto.retrieveSchema = function retrieveSchema$1(schema, rawFormData) {\n    return retrieveSchema(this.validator, schema, this.rootSchema, rawFormData);\n  }\n  /** Sanitize the `data` associated with the `oldSchema` so it is considered appropriate for the `newSchema`. If the\r\n   * new schema does not contain any properties, then `undefined` is returned to clear all the form data. Due to the\r\n   * nature of schemas, this sanitization happens recursively for nested objects of data. Also, any properties in the\r\n   * old schemas that are non-existent in the new schema are set to `undefined`.\r\n   *\r\n   * @param [newSchema] - The new schema for which the data is being sanitized\r\n   * @param [oldSchema] - The old schema from which the data originated\r\n   * @param [data={}] - The form data associated with the schema, defaulting to an empty object when undefined\r\n   * @returns - The new form data, with all the fields uniquely associated with the old schema set\r\n   *      to `undefined`. Will return `undefined` if the new schema is not an object containing properties.\r\n   */;\n  _proto.sanitizeDataForNewSchema = function sanitizeDataForNewSchema$1(newSchema, oldSchema, data) {\n    return sanitizeDataForNewSchema(this.validator, this.rootSchema, newSchema, oldSchema, data);\n  }\n  /** Generates an `IdSchema` object for the `schema`, recursively\r\n   *\r\n   * @param schema - The schema for which the display label flag is desired\r\n   * @param [id] - The base id for the schema\r\n   * @param [formData] - The current formData, if any, onto which to provide any missing defaults\r\n   * @param [idPrefix='root'] - The prefix to use for the id\r\n   * @param [idSeparator='_'] - The separator to use for the path segments in the id\r\n   * @returns - The `IdSchema` object for the `schema`\r\n   */;\n  _proto.toIdSchema = function toIdSchema$1(schema, id, formData, idPrefix, idSeparator) {\n    if (idPrefix === void 0) {\n      idPrefix = 'root';\n    }\n    if (idSeparator === void 0) {\n      idSeparator = '_';\n    }\n    return toIdSchema(this.validator, schema, id, this.rootSchema, formData, idPrefix, idSeparator);\n  }\n  /** Generates an `PathSchema` object for the `schema`, recursively\r\n   *\r\n   * @param schema - The schema for which the display label flag is desired\r\n   * @param [name] - The base name for the schema\r\n   * @param [formData] - The current formData, if any, onto which to provide any missing defaults\r\n   * @returns - The `PathSchema` object for the `schema`\r\n   */;\n  _proto.toPathSchema = function toPathSchema$1(schema, name, formData) {\n    return toPathSchema(this.validator, schema, name, this.rootSchema, formData);\n  };\n  return SchemaUtils;\n}();\n/** Creates a `SchemaUtilsType` interface that is based around the given `validator` and `rootSchema` parameters. The\r\n * resulting interface implementation will forward the `validator` and `rootSchema` to all the wrapped APIs.\r\n *\r\n * @param validator - an implementation of the `ValidatorType` interface that will be forwarded to all the APIs\r\n * @param rootSchema - The root schema that will be forwarded to all the APIs\r\n * @param [experimental_defaultFormStateBehavior] Optional configuration object, if provided, allows users to override default form state behavior\r\n * @returns - An implementation of a `SchemaUtilsType` interface\r\n */\nfunction createSchemaUtils(validator, rootSchema, experimental_defaultFormStateBehavior) {\n  if (experimental_defaultFormStateBehavior === void 0) {\n    experimental_defaultFormStateBehavior = {};\n  }\n  return new SchemaUtils(validator, rootSchema, experimental_defaultFormStateBehavior);\n}\n\n/** Given the `FileReader.readAsDataURL()` based `dataURI` extracts that data into an actual Blob along with the name\r\n * of that Blob if provided in the URL. If no name is provided, then the name falls back to `unknown`.\r\n *\r\n * @param dataURI - The `DataUrl` potentially containing name and raw data to be converted to a Blob\r\n * @returns - an object containing a Blob and its name, extracted from the URI\r\n */\nfunction dataURItoBlob(dataURI) {\n  // Split metadata from data\n  var splitted = dataURI.split(',');\n  // Split params\n  var params = splitted[0].split(';');\n  // Get mime-type from params\n  var type = params[0].replace('data:', '');\n  // Filter the name property from params\n  var properties = params.filter(function (param) {\n    return param.split('=')[0] === 'name';\n  });\n  // Look for the name and use unknown if no name property.\n  var name;\n  if (properties.length !== 1) {\n    name = 'unknown';\n  } else {\n    // Because we filtered out the other property,\n    // we only have the name case here, which we decode to make it human-readable\n    name = decodeURI(properties[0].split('=')[1]);\n  }\n  // Built the Uint8Array Blob parameter from the base64 string.\n  try {\n    var binary = atob(splitted[1]);\n    var array = [];\n    for (var i = 0; i < binary.length; i++) {\n      array.push(binary.charCodeAt(i));\n    }\n    // Create the blob object\n    var blob = new window.Blob([new Uint8Array(array)], {\n      type: type\n    });\n    return {\n      blob: blob,\n      name: name\n    };\n  } catch (error) {\n    return {\n      blob: {\n        size: 0,\n        type: error.message\n      },\n      name: dataURI\n    };\n  }\n}\n\n/** Potentially substitutes all replaceable parameters with the associated value(s) from the `params` if available. When\r\n * a `params` array is provided, each value in the array is used to replace any of the replaceable parameters in the\r\n * `inputString` using the `%1`, `%2`, etc. replacement specifiers.\r\n *\r\n * @param inputString - The string which will be potentially updated with replacement parameters\r\n * @param params - The optional list of replaceable parameter values to substitute into the english string\r\n * @returns - The updated string with any replacement specifiers replaced\r\n */\nfunction replaceStringParameters(inputString, params) {\n  var output = inputString;\n  if (Array.isArray(params)) {\n    var parts = output.split(/(%\\d)/);\n    params.forEach(function (param, index) {\n      var partIndex = parts.findIndex(function (part) {\n        return part === \"%\" + (index + 1);\n      });\n      if (partIndex >= 0) {\n        parts[partIndex] = param;\n      }\n    });\n    output = parts.join('');\n  }\n  return output;\n}\n\n/** Translates a `TranslatableString` value `stringToTranslate` into english. When a `params` array is provided, each\r\n * value in the array is used to replace any of the replaceable parameters in the `stringToTranslate` using the `%1`,\r\n * `%2`, etc. replacement specifiers.\r\n *\r\n * @param stringToTranslate - The `TranslatableString` value to convert to english\r\n * @param params - The optional list of replaceable parameter values to substitute into the english string\r\n * @returns - The `stringToTranslate` itself with any replaceable parameter values substituted\r\n */\nfunction englishStringTranslator(stringToTranslate, params) {\n  return replaceStringParameters(stringToTranslate, params);\n}\n\n/** Returns the value(s) from `allEnumOptions` at the index(es) provided by `valueIndex`. If `valueIndex` is not an\r\n * array AND the index is not valid for `allEnumOptions`, `emptyValue` is returned. If `valueIndex` is an array, AND it\r\n * contains an invalid index, the returned array will have the resulting undefined values filtered out, leaving only\r\n * valid values or in the worst case, an empty array.\r\n *\r\n * @param valueIndex - The index(es) of the value(s) that should be returned\r\n * @param [allEnumOptions=[]] - The list of all the known enumOptions\r\n * @param [emptyValue] - The value to return when the non-array `valueIndex` does not refer to a real option\r\n * @returns - The single or list of values specified by the single or list of indexes if they are valid. Otherwise,\r\n *        `emptyValue` or an empty list.\r\n */\nfunction enumOptionsValueForIndex(valueIndex, allEnumOptions, emptyValue) {\n  if (allEnumOptions === void 0) {\n    allEnumOptions = [];\n  }\n  if (Array.isArray(valueIndex)) {\n    return valueIndex.map(function (index) {\n      return enumOptionsValueForIndex(index, allEnumOptions);\n    }).filter(function (val) {\n      return val;\n    });\n  }\n  // So Number(null) and Number('') both return 0, so use emptyValue for those two values\n  var index = valueIndex === '' || valueIndex === null ? -1 : Number(valueIndex);\n  var option = allEnumOptions[index];\n  return option ? option.value : emptyValue;\n}\n\n/** Removes the enum option value at the `valueIndex` from the currently `selected` (list of) value(s). If `selected` is\r\n * a list, then that list is updated to remove the enum option value with the `valueIndex` in `allEnumOptions`. If it is\r\n * a single value, then if the enum option value with the `valueIndex` in `allEnumOptions` matches `selected`, undefined\r\n * is returned, otherwise the `selected` value is returned.\r\n *\r\n * @param valueIndex - The index of the value to be removed from the selected list or single value\r\n * @param selected - The current (list of) selected value(s)\r\n * @param [allEnumOptions=[]] - The list of all the known enumOptions\r\n * @returns - The updated `selected` with the enum option value at `valueIndex` in `allEnumOptions` removed from it,\r\n *        unless `selected` is a single value. In that case, if the `valueIndex` value matches `selected`, returns\r\n *        undefined, otherwise `selected`.\r\n */\nfunction enumOptionsDeselectValue(valueIndex, selected, allEnumOptions) {\n  if (allEnumOptions === void 0) {\n    allEnumOptions = [];\n  }\n  var value = enumOptionsValueForIndex(valueIndex, allEnumOptions);\n  if (Array.isArray(selected)) {\n    return selected.filter(function (v) {\n      return !isEqual(v, value);\n    });\n  }\n  return isEqual(value, selected) ? undefined : selected;\n}\n\n/** Determines whether the given `value` is (one of) the `selected` value(s).\r\n *\r\n * @param value - The value being checked to see if it is selected\r\n * @param selected - The current selected value or list of values\r\n * @returns - true if the `value` is one of the `selected` ones, false otherwise\r\n */\nfunction enumOptionsIsSelected(value, selected) {\n  if (Array.isArray(selected)) {\n    return selected.some(function (sel) {\n      return isEqual(sel, value);\n    });\n  }\n  return isEqual(selected, value);\n}\n\n/** Returns the index(es) of the options in `allEnumOptions` whose value(s) match the ones in `value`. All the\r\n * `enumOptions` are filtered based on whether they are a \"selected\" `value` and the index of each selected one is then\r\n * stored in an array. If `multiple` is true, that array is returned, otherwise the first element in the array is\r\n * returned.\r\n *\r\n * @param value - The single value or list of values for which indexes are desired\r\n * @param [allEnumOptions=[]] - The list of all the known enumOptions\r\n * @param [multiple=false] - Optional flag, if true will return a list of index, otherwise a single one\r\n * @returns - A single string index for the first `value` in `allEnumOptions`, if not `multiple`. Otherwise, the list\r\n *        of indexes for (each of) the value(s) in `value`.\r\n */\nfunction enumOptionsIndexForValue(value, allEnumOptions, multiple) {\n  if (allEnumOptions === void 0) {\n    allEnumOptions = [];\n  }\n  if (multiple === void 0) {\n    multiple = false;\n  }\n  var selectedIndexes = allEnumOptions.map(function (opt, index) {\n    return enumOptionsIsSelected(opt.value, value) ? String(index) : undefined;\n  }).filter(function (opt) {\n    return typeof opt !== 'undefined';\n  });\n  if (!multiple) {\n    return selectedIndexes[0];\n  }\n  return selectedIndexes;\n}\n\n/** Add the enum option value at the `valueIndex` to the list of `selected` values in the proper order as defined by\r\n * `allEnumOptions`\r\n *\r\n * @param valueIndex - The index of the value that should be selected\r\n * @param selected - The current list of selected values\r\n * @param [allEnumOptions=[]] - The list of all the known enumOptions\r\n * @returns - The updated list of selected enum values with enum value at the `valueIndex` added to it\r\n */\nfunction enumOptionsSelectValue(valueIndex, selected, allEnumOptions) {\n  if (allEnumOptions === void 0) {\n    allEnumOptions = [];\n  }\n  var value = enumOptionsValueForIndex(valueIndex, allEnumOptions);\n  if (value) {\n    var index = allEnumOptions.findIndex(function (opt) {\n      return value === opt.value;\n    });\n    var all = allEnumOptions.map(function (_ref) {\n      var val = _ref.value;\n      return val;\n    });\n    var updated = selected.slice(0, index).concat(value, selected.slice(index));\n    // As inserting values at predefined index positions doesn't work with empty\n    // arrays, we need to reorder the updated selection to match the initial order\n    return updated.sort(function (a, b) {\n      return Number(all.indexOf(a) > all.indexOf(b));\n    });\n  }\n  return selected;\n}\n\n/** The `ErrorSchemaBuilder<T>` is used to build an `ErrorSchema<T>` since the definition of the `ErrorSchema` type is\r\n * designed for reading information rather than writing it. Use this class to add, replace or clear errors in an error\r\n * schema by using either dotted path or an array of path names. Once you are done building the `ErrorSchema`, you can\r\n * get the result and/or reset all the errors back to an initial set and start again.\r\n */\nvar ErrorSchemaBuilder = /*#__PURE__*/function () {\n  /** Construct an `ErrorSchemaBuilder` with an optional initial set of errors in an `ErrorSchema`.\r\n   *\r\n   * @param [initialSchema] - The optional set of initial errors, that will be cloned into the class\r\n   */\n  function ErrorSchemaBuilder(initialSchema) {\n    /** The error schema being built\r\n     *\r\n     * @private\r\n     */\n    this.errorSchema = {};\n    this.resetAllErrors(initialSchema);\n  }\n  /** Returns the `ErrorSchema` that has been updated by the methods of the `ErrorSchemaBuilder`\r\n   */\n  var _proto = ErrorSchemaBuilder.prototype;\n  /** Will get an existing `ErrorSchema` at the specified `pathOfError` or create and return one.\r\n   *\r\n   * @param [pathOfError] - The optional path into the `ErrorSchema` at which to add the error(s)\r\n   * @returns - The error block for the given `pathOfError` or the root if not provided\r\n   * @private\r\n   */\n  _proto.getOrCreateErrorBlock = function getOrCreateErrorBlock(pathOfError) {\n    var hasPath = Array.isArray(pathOfError) && pathOfError.length > 0 || typeof pathOfError === 'string';\n    var errorBlock = hasPath ? get(this.errorSchema, pathOfError) : this.errorSchema;\n    if (!errorBlock && pathOfError) {\n      errorBlock = {};\n      set(this.errorSchema, pathOfError, errorBlock);\n    }\n    return errorBlock;\n  }\n  /** Resets all errors in the `ErrorSchemaBuilder` back to the `initialSchema` if provided, otherwise an empty set.\r\n   *\r\n   * @param [initialSchema] - The optional set of initial errors, that will be cloned into the class\r\n   * @returns - The `ErrorSchemaBuilder` object for chaining purposes\r\n   */;\n  _proto.resetAllErrors = function resetAllErrors(initialSchema) {\n    this.errorSchema = initialSchema ? cloneDeep(initialSchema) : {};\n    return this;\n  }\n  /** Adds the `errorOrList` to the list of errors in the `ErrorSchema` at either the root level or the location within\r\n   * the schema described by the `pathOfError`. For more information about how to specify the path see the\r\n   * [eslint lodash plugin docs](https://github.com/wix/eslint-plugin-lodash/blob/master/docs/rules/path-style.md).\r\n   *\r\n   * @param errorOrList - The error or list of errors to add into the `ErrorSchema`\r\n   * @param [pathOfError] - The optional path into the `ErrorSchema` at which to add the error(s)\r\n   * @returns - The `ErrorSchemaBuilder` object for chaining purposes\r\n   */;\n  _proto.addErrors = function addErrors(errorOrList, pathOfError) {\n    var errorBlock = this.getOrCreateErrorBlock(pathOfError);\n    var errorsList = get(errorBlock, ERRORS_KEY);\n    if (!Array.isArray(errorsList)) {\n      errorsList = [];\n      errorBlock[ERRORS_KEY] = errorsList;\n    }\n    if (Array.isArray(errorOrList)) {\n      var _errorsList;\n      (_errorsList = errorsList).push.apply(_errorsList, errorOrList);\n    } else {\n      errorsList.push(errorOrList);\n    }\n    return this;\n  }\n  /** Sets/replaces the `errorOrList` as the error(s) in the `ErrorSchema` at either the root level or the location\r\n   * within the schema described by the `pathOfError`. For more information about how to specify the path see the\r\n   * [eslint lodash plugin docs](https://github.com/wix/eslint-plugin-lodash/blob/master/docs/rules/path-style.md).\r\n   *\r\n   * @param errorOrList - The error or list of errors to set into the `ErrorSchema`\r\n   * @param [pathOfError] - The optional path into the `ErrorSchema` at which to set the error(s)\r\n   * @returns - The `ErrorSchemaBuilder` object for chaining purposes\r\n   */;\n  _proto.setErrors = function setErrors(errorOrList, pathOfError) {\n    var errorBlock = this.getOrCreateErrorBlock(pathOfError);\n    // Effectively clone the array being given to prevent accidental outside manipulation of the given list\n    var listToAdd = Array.isArray(errorOrList) ? [].concat(errorOrList) : [errorOrList];\n    set(errorBlock, ERRORS_KEY, listToAdd);\n    return this;\n  }\n  /** Clears the error(s) in the `ErrorSchema` at either the root level or the location within the schema described by\r\n   * the `pathOfError`. For more information about how to specify the path see the\r\n   * [eslint lodash plugin docs](https://github.com/wix/eslint-plugin-lodash/blob/master/docs/rules/path-style.md).\r\n   *\r\n   * @param [pathOfError] - The optional path into the `ErrorSchema` at which to clear the error(s)\r\n   * @returns - The `ErrorSchemaBuilder` object for chaining purposes\r\n   */;\n  _proto.clearErrors = function clearErrors(pathOfError) {\n    var errorBlock = this.getOrCreateErrorBlock(pathOfError);\n    set(errorBlock, ERRORS_KEY, []);\n    return this;\n  };\n  _createClass(ErrorSchemaBuilder, [{\n    key: \"ErrorSchema\",\n    get: function get() {\n      return this.errorSchema;\n    }\n  }]);\n  return ErrorSchemaBuilder;\n}();\n\n/** Extracts the range spec information `{ step?: number, min?: number, max?: number }` that can be spread onto an HTML\r\n * input from the range analog in the schema `{ multipleOf?: number, minimum?: number, maximum?: number }`.\r\n *\r\n * @param schema - The schema from which to extract the range spec\r\n * @returns - A range specification from the schema\r\n */\nfunction rangeSpec(schema) {\n  var spec = {};\n  if (schema.multipleOf) {\n    spec.step = schema.multipleOf;\n  }\n  if (schema.minimum || schema.minimum === 0) {\n    spec.min = schema.minimum;\n  }\n  if (schema.maximum || schema.maximum === 0) {\n    spec.max = schema.maximum;\n  }\n  return spec;\n}\n\n/** Using the `schema`, `defaultType` and `options`, extract out the props for the <input> element that make sense.\r\n *\r\n * @param schema - The schema for the field provided by the widget\r\n * @param [defaultType] - The default type, if any, for the field provided by the widget\r\n * @param [options={}] - The UI Options for the field provided by the widget\r\n * @param [autoDefaultStepAny=true] - Determines whether to auto-default step=any when the type is number and no step\r\n * @returns - The extracted `InputPropsType` object\r\n */\nfunction getInputProps(schema, defaultType, options, autoDefaultStepAny) {\n  if (options === void 0) {\n    options = {};\n  }\n  if (autoDefaultStepAny === void 0) {\n    autoDefaultStepAny = true;\n  }\n  var inputProps = _extends({\n    type: defaultType || 'text'\n  }, rangeSpec(schema));\n  // If options.inputType is set use that as the input type\n  if (options.inputType) {\n    inputProps.type = options.inputType;\n  } else if (!defaultType) {\n    // If the schema is of type number or integer, set the input type to number\n    if (schema.type === 'number') {\n      inputProps.type = 'number';\n      // Only add step if one isn't already defined and we are auto-defaulting the \"any\" step\n      if (autoDefaultStepAny && inputProps.step === undefined) {\n        // Setting step to 'any' fixes a bug in Safari where decimals are not\n        // allowed in number inputs\n        inputProps.step = 'any';\n      }\n    } else if (schema.type === 'integer') {\n      inputProps.type = 'number';\n      // Only add step if one isn't already defined\n      if (inputProps.step === undefined) {\n        // Since this is integer, you always want to step up or down in multiples of 1\n        inputProps.step = 1;\n      }\n    }\n  }\n  if (options.autocomplete) {\n    inputProps.autoComplete = options.autocomplete;\n  }\n  return inputProps;\n}\n\n/** The default submit button options, exported for testing purposes\r\n */\nvar DEFAULT_OPTIONS = {\n  props: {\n    disabled: false\n  },\n  submitText: 'Submit',\n  norender: false\n};\n/** Extracts any `ui:submitButtonOptions` from the `uiSchema` and merges them onto the `DEFAULT_OPTIONS`\r\n *\r\n * @param [uiSchema={}] - the UI Schema from which to extract submit button props\r\n * @returns - The merging of the `DEFAULT_OPTIONS` with any custom ones\r\n */\nfunction getSubmitButtonOptions(uiSchema) {\n  if (uiSchema === void 0) {\n    uiSchema = {};\n  }\n  var uiOptions = getUiOptions(uiSchema);\n  if (uiOptions && uiOptions[SUBMIT_BTN_OPTIONS_KEY]) {\n    var options = uiOptions[SUBMIT_BTN_OPTIONS_KEY];\n    return _extends({}, DEFAULT_OPTIONS, options);\n  }\n  return DEFAULT_OPTIONS;\n}\n\n/** Returns the template with the given `name` from either the `uiSchema` if it is defined or from the `registry`\r\n * otherwise. NOTE, since `ButtonTemplates` are not overridden in `uiSchema` only those in the `registry` are returned.\r\n *\r\n * @param name - The name of the template to fetch, restricted to the keys of `TemplatesType`\r\n * @param registry - The `Registry` from which to read the template\r\n * @param [uiOptions={}] - The `UIOptionsType` from which to read an alternate template\r\n * @returns - The template from either the `uiSchema` or `registry` for the `name`\r\n */\nfunction getTemplate(name, registry, uiOptions) {\n  if (uiOptions === void 0) {\n    uiOptions = {};\n  }\n  var templates = registry.templates;\n  if (name === 'ButtonTemplates') {\n    return templates[name];\n  }\n  return (\n    // Evaluating uiOptions[name] results in TS2590: Expression produces a union type that is too complex to represent\n    // To avoid that, we cast uiOptions to `any` before accessing the name field\n    uiOptions[name] || templates[name]\n  );\n}\n\nvar _excluded = [\"options\"];\n/** The map of schema types to widget type to widget name\r\n */\nvar widgetMap = {\n  \"boolean\": {\n    checkbox: 'CheckboxWidget',\n    radio: 'RadioWidget',\n    select: 'SelectWidget',\n    hidden: 'HiddenWidget'\n  },\n  string: {\n    text: 'TextWidget',\n    password: 'PasswordWidget',\n    email: 'EmailWidget',\n    hostname: 'TextWidget',\n    ipv4: 'TextWidget',\n    ipv6: 'TextWidget',\n    uri: 'URLWidget',\n    'data-url': 'FileWidget',\n    radio: 'RadioWidget',\n    select: 'SelectWidget',\n    textarea: 'TextareaWidget',\n    hidden: 'HiddenWidget',\n    date: 'DateWidget',\n    datetime: 'DateTimeWidget',\n    'date-time': 'DateTimeWidget',\n    'alt-date': 'AltDateWidget',\n    'alt-datetime': 'AltDateTimeWidget',\n    time: 'TimeWidget',\n    color: 'ColorWidget',\n    file: 'FileWidget'\n  },\n  number: {\n    text: 'TextWidget',\n    select: 'SelectWidget',\n    updown: 'UpDownWidget',\n    range: 'RangeWidget',\n    radio: 'RadioWidget',\n    hidden: 'HiddenWidget'\n  },\n  integer: {\n    text: 'TextWidget',\n    select: 'SelectWidget',\n    updown: 'UpDownWidget',\n    range: 'RangeWidget',\n    radio: 'RadioWidget',\n    hidden: 'HiddenWidget'\n  },\n  array: {\n    select: 'SelectWidget',\n    checkboxes: 'CheckboxesWidget',\n    files: 'FileWidget',\n    hidden: 'HiddenWidget'\n  }\n};\n/** Wraps the given widget with stateless functional component that will merge any `defaultProps.options` with the\r\n * `options` that are provided in the props. It will add the wrapper component as a `MergedWidget` property onto the\r\n * `Widget` so that future attempts to wrap `AWidget` will return the already existing wrapper.\r\n *\r\n * @param AWidget - A widget that will be wrapped or one that is already wrapped\r\n * @returns - The wrapper widget\r\n */\nfunction mergeWidgetOptions(AWidget) {\n  var MergedWidget = get(AWidget, 'MergedWidget');\n  // cache return value as property of widget for proper react reconciliation\n  if (!MergedWidget) {\n    var defaultOptions = AWidget.defaultProps && AWidget.defaultProps.options || {};\n    MergedWidget = function MergedWidget(_ref) {\n      var options = _ref.options,\n        props = _objectWithoutPropertiesLoose(_ref, _excluded);\n      return jsx(AWidget, _extends({\n        options: _extends({}, defaultOptions, options)\n      }, props));\n    };\n    set(AWidget, 'MergedWidget', MergedWidget);\n  }\n  return MergedWidget;\n}\n/** Given a schema representing a field to render and either the name or actual `Widget` implementation, returns the\r\n * React component that is used to render the widget. If the `widget` is already a React component, then it is wrapped\r\n * with a `MergedWidget`. Otherwise an attempt is made to look up the widget inside of the `registeredWidgets` map based\r\n * on the schema type and `widget` name. If no widget component can be found an `Error` is thrown.\r\n *\r\n * @param schema - The schema for the field\r\n * @param [widget] - Either the name of the widget OR a `Widget` implementation to use\r\n * @param [registeredWidgets={}] - A registry of widget name to `Widget` implementation\r\n * @returns - The `Widget` component to use\r\n * @throws - An error if there is no `Widget` component that can be returned\r\n */\nfunction getWidget(schema, widget, registeredWidgets) {\n  if (registeredWidgets === void 0) {\n    registeredWidgets = {};\n  }\n  var type = getSchemaType(schema);\n  if (typeof widget === 'function' || widget && ReactIs.isForwardRef( /*#__PURE__*/createElement(widget)) || ReactIs.isMemo(widget)) {\n    return mergeWidgetOptions(widget);\n  }\n  if (typeof widget !== 'string') {\n    throw new Error(\"Unsupported widget definition: \" + typeof widget);\n  }\n  if (widget in registeredWidgets) {\n    var registeredWidget = registeredWidgets[widget];\n    return getWidget(schema, registeredWidget, registeredWidgets);\n  }\n  if (typeof type === 'string') {\n    if (!(type in widgetMap)) {\n      throw new Error(\"No widget for type '\" + type + \"'\");\n    }\n    if (widget in widgetMap[type]) {\n      var _registeredWidget = registeredWidgets[widgetMap[type][widget]];\n      return getWidget(schema, _registeredWidget, registeredWidgets);\n    }\n  }\n  throw new Error(\"No widget '\" + widget + \"' for type '\" + type + \"'\");\n}\n\n/** JS has no built-in hashing function, so rolling our own\r\n *  based on Java's hashing fn:\r\n *  http://www.java2s.com/example/nodejs-utility-method/string-hash/hashcode-4dc2b.html\r\n *\r\n * @param string - The string for which to get the hash\r\n * @returns - The resulting hash of the string in hex format\r\n */\nfunction hashString(string) {\n  var hash = 0;\n  for (var i = 0; i < string.length; i += 1) {\n    var chr = string.charCodeAt(i);\n    hash = (hash << 5) - hash + chr;\n    hash = hash & hash; // Convert to 32bit integer\n  }\n\n  return hash.toString(16);\n}\n/** Stringifies the schema and returns the hash of the resulting string.\r\n *\r\n * @param schema - The schema for which the hash is desired\r\n * @returns - The string obtained from the hash of the stringified schema\r\n */\nfunction hashForSchema(schema) {\n  return hashString(JSON.stringify(schema));\n}\n\n/** Detects whether the `widget` exists for the `schema` with the associated `registryWidgets` and returns true if it\r\n * does, or false if it doesn't.\r\n *\r\n * @param schema - The schema for the field\r\n * @param widget - Either the name of the widget OR a `Widget` implementation to use\r\n * @param [registeredWidgets={}] - A registry of widget name to `Widget` implementation\r\n * @returns - True if the widget exists, false otherwise\r\n */\nfunction hasWidget(schema, widget, registeredWidgets) {\n  if (registeredWidgets === void 0) {\n    registeredWidgets = {};\n  }\n  try {\n    getWidget(schema, widget, registeredWidgets);\n    return true;\n  } catch (e) {\n    var err = e;\n    if (err.message && (err.message.startsWith('No widget') || err.message.startsWith('Unsupported widget'))) {\n      return false;\n    }\n    throw e;\n  }\n}\n\n/** Generates a consistent `id` pattern for a given `id` and a `suffix`\r\n *\r\n * @param id - Either simple string id or an IdSchema from which to extract it\r\n * @param suffix - The suffix to append to the id\r\n */\nfunction idGenerator(id, suffix) {\n  var theId = isString(id) ? id : id[ID_KEY];\n  return theId + \"__\" + suffix;\n}\n/** Return a consistent `id` for the field description element\r\n *\r\n * @param id - Either simple string id or an IdSchema from which to extract it\r\n * @returns - The consistent id for the field description element from the given `id`\r\n */\nfunction descriptionId(id) {\n  return idGenerator(id, 'description');\n}\n/** Return a consistent `id` for the field error element\r\n *\r\n * @param id - Either simple string id or an IdSchema from which to extract it\r\n * @returns - The consistent id for the field error element from the given `id`\r\n */\nfunction errorId(id) {\n  return idGenerator(id, 'error');\n}\n/** Return a consistent `id` for the field examples element\r\n *\r\n * @param id - Either simple string id or an IdSchema from which to extract it\r\n * @returns - The consistent id for the field examples element from the given `id`\r\n */\nfunction examplesId(id) {\n  return idGenerator(id, 'examples');\n}\n/** Return a consistent `id` for the field help element\r\n *\r\n * @param id - Either simple string id or an IdSchema from which to extract it\r\n * @returns - The consistent id for the field help element from the given `id`\r\n */\nfunction helpId(id) {\n  return idGenerator(id, 'help');\n}\n/** Return a consistent `id` for the field title element\r\n *\r\n * @param id - Either simple string id or an IdSchema from which to extract it\r\n * @returns - The consistent id for the field title element from the given `id`\r\n */\nfunction titleId(id) {\n  return idGenerator(id, 'title');\n}\n/** Return a list of element ids that contain additional information about the field that can be used to as the aria\r\n * description of the field. This is correctly omitting `titleId` which would be \"labeling\" rather than \"describing\" the\r\n * element.\r\n *\r\n * @param id - Either simple string id or an IdSchema from which to extract it\r\n * @param [includeExamples=false] - Optional flag, if true, will add the `examplesId` into the list\r\n * @returns - The string containing the list of ids for use in an `aria-describedBy` attribute\r\n */\nfunction ariaDescribedByIds(id, includeExamples) {\n  if (includeExamples === void 0) {\n    includeExamples = false;\n  }\n  var examples = includeExamples ? \" \" + examplesId(id) : '';\n  return errorId(id) + \" \" + descriptionId(id) + \" \" + helpId(id) + examples;\n}\n/** Return a consistent `id` for the `optionIndex`s of a `Radio` or `Checkboxes` widget\r\n *\r\n * @param id - The id of the parent component for the option\r\n * @param optionIndex - The index of the option for which the id is desired\r\n * @returns - An id for the option index based on the parent `id`\r\n */\nfunction optionId(id, optionIndex) {\n  return id + \"-\" + optionIndex;\n}\n\nfunction labelValue(label, hideLabel, fallback) {\n  return hideLabel ? fallback : label;\n}\n\n/** Converts a local Date string into a UTC date string\r\n *\r\n * @param dateString - The string representation of a date as accepted by the `Date()` constructor\r\n * @returns - A UTC date string if `dateString` is truthy, otherwise undefined\r\n */\nfunction localToUTC(dateString) {\n  return dateString ? new Date(dateString).toJSON() : undefined;\n}\n\n/** Returns the constant value from the schema when it is either a single value enum or has a const key. Otherwise\r\n * throws an error.\r\n *\r\n * @param schema - The schema from which to obtain the constant value\r\n * @returns - The constant value for the schema\r\n * @throws - Error when the schema does not have a constant value\r\n */\nfunction toConstant(schema) {\n  if (ENUM_KEY in schema && Array.isArray(schema[\"enum\"]) && schema[\"enum\"].length === 1) {\n    return schema[\"enum\"][0];\n  }\n  if (CONST_KEY in schema) {\n    return schema[\"const\"];\n  }\n  throw new Error('schema cannot be inferred as a constant');\n}\n\n/** Gets the list of options from the schema. If the schema has an enum list, then those enum values are returned. The\r\n * labels for the options will be extracted from the non-standard, RJSF-deprecated `enumNames` if it exists, otherwise\r\n * the label will be the same as the `value`. If the schema has a `oneOf` or `anyOf`, then the value is the list of\r\n * `const` values from the schema and the label is either the `schema.title` or the value.\r\n *\r\n * @param schema - The schema from which to extract the options list\r\n * @returns - The list of options from the schema\r\n */\nfunction optionsList(schema) {\n  // enumNames was deprecated in v5 and is intentionally omitted from the RJSFSchema type.\n  // Cast the type to include enumNames so the feature still works.\n  var schemaWithEnumNames = schema;\n  if (schemaWithEnumNames.enumNames && process.env.NODE_ENV !== 'production') {\n    console.warn('The enumNames property is deprecated and may be removed in a future major release.');\n  }\n  if (schema[\"enum\"]) {\n    return schema[\"enum\"].map(function (value, i) {\n      var label = schemaWithEnumNames.enumNames && schemaWithEnumNames.enumNames[i] || String(value);\n      return {\n        label: label,\n        value: value\n      };\n    });\n  }\n  var altSchemas = schema.oneOf || schema.anyOf;\n  return altSchemas && altSchemas.map(function (aSchemaDef) {\n    var aSchema = aSchemaDef;\n    var value = toConstant(aSchema);\n    var label = aSchema.title || String(value);\n    return {\n      schema: aSchema,\n      label: label,\n      value: value\n    };\n  });\n}\n\n/** Given a list of `properties` and an `order` list, returns a list that contains the `properties` ordered correctly.\r\n * If `order` is not an array, then the untouched `properties` list is returned. Otherwise `properties` is ordered per\r\n * the `order` list. If `order` contains a '*' then any `properties` that are not mentioned explicity in `order` will be\r\n * places in the location of the `*`.\r\n *\r\n * @param properties - The list of property keys to be ordered\r\n * @param order - An array of property keys to be ordered first, with an optional '*' property\r\n * @returns - A list with the `properties` ordered\r\n * @throws - Error when the properties cannot be ordered correctly\r\n */\nfunction orderProperties(properties, order) {\n  if (!Array.isArray(order)) {\n    return properties;\n  }\n  var arrayToHash = function arrayToHash(arr) {\n    return arr.reduce(function (prev, curr) {\n      prev[curr] = true;\n      return prev;\n    }, {});\n  };\n  var errorPropList = function errorPropList(arr) {\n    return arr.length > 1 ? \"properties '\" + arr.join(\"', '\") + \"'\" : \"property '\" + arr[0] + \"'\";\n  };\n  var propertyHash = arrayToHash(properties);\n  var orderFiltered = order.filter(function (prop) {\n    return prop === '*' || propertyHash[prop];\n  });\n  var orderHash = arrayToHash(orderFiltered);\n  var rest = properties.filter(function (prop) {\n    return !orderHash[prop];\n  });\n  var restIndex = orderFiltered.indexOf('*');\n  if (restIndex === -1) {\n    if (rest.length) {\n      throw new Error(\"uiSchema order list does not contain \" + errorPropList(rest));\n    }\n    return orderFiltered;\n  }\n  if (restIndex !== orderFiltered.lastIndexOf('*')) {\n    throw new Error('uiSchema order list contains more than one wildcard item');\n  }\n  var complete = [].concat(orderFiltered);\n  complete.splice.apply(complete, [restIndex, 1].concat(rest));\n  return complete;\n}\n\n/** Returns a string representation of the `num` that is padded with leading \"0\"s if necessary\r\n *\r\n * @param num - The number to pad\r\n * @param width - The width of the string at which no lead padding is necessary\r\n * @returns - The number converted to a string with leading zero padding if the number of digits is less than `width`\r\n */\nfunction pad(num, width) {\n  var s = String(num);\n  while (s.length < width) {\n    s = '0' + s;\n  }\n  return s;\n}\n\n/** Parses the `dateString` into a `DateObject`, including the time information when `includeTime` is true\r\n *\r\n * @param dateString - The date string to parse into a DateObject\r\n * @param [includeTime=true] - Optional flag, if false, will not include the time data into the object\r\n * @returns - The date string converted to a `DateObject`\r\n * @throws - Error when the date cannot be parsed from the string\r\n */\nfunction parseDateString(dateString, includeTime) {\n  if (includeTime === void 0) {\n    includeTime = true;\n  }\n  if (!dateString) {\n    return {\n      year: -1,\n      month: -1,\n      day: -1,\n      hour: includeTime ? -1 : 0,\n      minute: includeTime ? -1 : 0,\n      second: includeTime ? -1 : 0\n    };\n  }\n  var date = new Date(dateString);\n  if (Number.isNaN(date.getTime())) {\n    throw new Error('Unable to parse date ' + dateString);\n  }\n  return {\n    year: date.getUTCFullYear(),\n    month: date.getUTCMonth() + 1,\n    day: date.getUTCDate(),\n    hour: includeTime ? date.getUTCHours() : 0,\n    minute: includeTime ? date.getUTCMinutes() : 0,\n    second: includeTime ? date.getUTCSeconds() : 0\n  };\n}\n\n/** Check to see if a `schema` specifies that a value must be true. This happens when:\r\n * - `schema.const` is truthy\r\n * - `schema.enum` == `[true]`\r\n * - `schema.anyOf` or `schema.oneOf` has a single value which recursively returns true\r\n * - `schema.allOf` has at least one value which recursively returns true\r\n *\r\n * @param schema - The schema to check\r\n * @returns - True if the schema specifies a value that must be true, false otherwise\r\n */\nfunction schemaRequiresTrueValue(schema) {\n  // Check if const is a truthy value\n  if (schema[\"const\"]) {\n    return true;\n  }\n  // Check if an enum has a single value of true\n  if (schema[\"enum\"] && schema[\"enum\"].length === 1 && schema[\"enum\"][0] === true) {\n    return true;\n  }\n  // If anyOf has a single value, evaluate the subschema\n  if (schema.anyOf && schema.anyOf.length === 1) {\n    return schemaRequiresTrueValue(schema.anyOf[0]);\n  }\n  // If oneOf has a single value, evaluate the subschema\n  if (schema.oneOf && schema.oneOf.length === 1) {\n    return schemaRequiresTrueValue(schema.oneOf[0]);\n  }\n  // Evaluate each subschema in allOf, to see if one of them requires a true value\n  if (schema.allOf) {\n    var schemaSome = function schemaSome(subSchema) {\n      return schemaRequiresTrueValue(subSchema);\n    };\n    return schema.allOf.some(schemaSome);\n  }\n  return false;\n}\n\n/** Determines whether the given `component` should be rerendered by comparing its current set of props and state\r\n * against the next set. If either of those two sets are not the same, then the component should be rerendered.\r\n *\r\n * @param component - A React component being checked\r\n * @param nextProps - The next set of props against which to check\r\n * @param nextState - The next set of state against which to check\r\n * @returns - True if the component should be re-rendered, false otherwise\r\n */\nfunction shouldRender(component, nextProps, nextState) {\n  var props = component.props,\n    state = component.state;\n  return !deepEquals(props, nextProps) || !deepEquals(state, nextState);\n}\n\n/** Returns a UTC date string for the given `dateObject`. If `time` is false, then the time portion of the string is\r\n * removed.\r\n *\r\n * @param dateObject - The `DateObject` to convert to a date string\r\n * @param [time=true] - Optional flag used to remove the time portion of the date string if false\r\n * @returns - The UTC date string\r\n */\nfunction toDateString(dateObject, time) {\n  if (time === void 0) {\n    time = true;\n  }\n  var year = dateObject.year,\n    month = dateObject.month,\n    day = dateObject.day,\n    _dateObject$hour = dateObject.hour,\n    hour = _dateObject$hour === void 0 ? 0 : _dateObject$hour,\n    _dateObject$minute = dateObject.minute,\n    minute = _dateObject$minute === void 0 ? 0 : _dateObject$minute,\n    _dateObject$second = dateObject.second,\n    second = _dateObject$second === void 0 ? 0 : _dateObject$second;\n  var utcTime = Date.UTC(year, month - 1, day, hour, minute, second);\n  var datetime = new Date(utcTime).toJSON();\n  return time ? datetime : datetime.slice(0, 10);\n}\n\n/** Converts an `errorSchema` into a list of `RJSFValidationErrors`\r\n *\r\n * @param errorSchema - The `ErrorSchema` instance to convert\r\n * @param [fieldPath=[]] - The current field path, defaults to [] if not specified\r\n * @returns - The list of `RJSFValidationErrors` extracted from the `errorSchema`\r\n */\nfunction toErrorList(errorSchema, fieldPath) {\n  if (fieldPath === void 0) {\n    fieldPath = [];\n  }\n  if (!errorSchema) {\n    return [];\n  }\n  var errorList = [];\n  if (ERRORS_KEY in errorSchema) {\n    errorList = errorList.concat(errorSchema[ERRORS_KEY].map(function (message) {\n      var property = \".\" + fieldPath.join('.');\n      return {\n        property: property,\n        message: message,\n        stack: property + \" \" + message\n      };\n    }));\n  }\n  return Object.keys(errorSchema).reduce(function (acc, key) {\n    if (key !== ERRORS_KEY) {\n      var childSchema = errorSchema[key];\n      if (isPlainObject(childSchema)) {\n        acc = acc.concat(toErrorList(childSchema, [].concat(fieldPath, [key])));\n      }\n    }\n    return acc;\n  }, errorList);\n}\n\n/** Transforms a rjsf validation errors list:\r\n * [\r\n *   {property: '.level1.level2[2].level3', message: 'err a'},\r\n *   {property: '.level1.level2[2].level3', message: 'err b'},\r\n *   {property: '.level1.level2[4].level3', message: 'err b'},\r\n * ]\r\n * Into an error tree:\r\n * {\r\n *   level1: {\r\n *     level2: {\r\n *       2: {level3: {errors: ['err a', 'err b']}},\r\n *       4: {level3: {errors: ['err b']}},\r\n *     }\r\n *   }\r\n * };\r\n *\r\n * @param errors - The list of RJSFValidationError objects\r\n * @returns - The `ErrorSchema` built from the list of `RJSFValidationErrors`\r\n */\nfunction toErrorSchema(errors) {\n  var builder = new ErrorSchemaBuilder();\n  if (errors.length) {\n    errors.forEach(function (error) {\n      var property = error.property,\n        message = error.message;\n      // When the property is the root element, just use an empty array for the path\n      var path = property === '.' ? [] : toPath(property);\n      // If the property is at the root (.level1) then toPath creates\n      // an empty array element at the first index. Remove it.\n      if (path.length > 0 && path[0] === '') {\n        path.splice(0, 1);\n      }\n      if (message) {\n        builder.addErrors(message, path);\n      }\n    });\n  }\n  return builder.ErrorSchema;\n}\n\n/** Unwraps the `errorHandler` structure into the associated `ErrorSchema`, stripping the `addError()` functions from it\r\n *\r\n * @param errorHandler - The `FormValidation` error handling structure\r\n * @returns - The `ErrorSchema` resulting from the stripping of the `addError()` function\r\n */\nfunction unwrapErrorHandler(errorHandler) {\n  return Object.keys(errorHandler).reduce(function (acc, key) {\n    if (key === 'addError') {\n      return acc;\n    } else {\n      var _extends3;\n      var childSchema = errorHandler[key];\n      if (isPlainObject(childSchema)) {\n        var _extends2;\n        return _extends({}, acc, (_extends2 = {}, _extends2[key] = unwrapErrorHandler(childSchema), _extends2));\n      }\n      return _extends({}, acc, (_extends3 = {}, _extends3[key] = childSchema, _extends3));\n    }\n  }, {});\n}\n\n/** Converts a UTC date string into a local Date format\r\n *\r\n * @param jsonDate - A UTC date string\r\n * @returns - An empty string when `jsonDate` is falsey, otherwise a date string in local format\r\n */\nfunction utcToLocal(jsonDate) {\n  if (!jsonDate) {\n    return '';\n  }\n  // required format of `'yyyy-MM-ddThh:mm' followed by optional ':ss' or ':ss.SSS'\n  // https://html.spec.whatwg.org/multipage/input.html#local-date-and-time-state-(type%3Ddatetime-local)\n  // > should be a _valid local date and time string_ (not GMT)\n  // Note - date constructor passed local ISO-8601 does not correctly\n  // change time to UTC in node pre-8\n  var date = new Date(jsonDate);\n  var yyyy = pad(date.getFullYear(), 4);\n  var MM = pad(date.getMonth() + 1, 2);\n  var dd = pad(date.getDate(), 2);\n  var hh = pad(date.getHours(), 2);\n  var mm = pad(date.getMinutes(), 2);\n  var ss = pad(date.getSeconds(), 2);\n  var SSS = pad(date.getMilliseconds(), 3);\n  return yyyy + \"-\" + MM + \"-\" + dd + \"T\" + hh + \":\" + mm + \":\" + ss + \".\" + SSS;\n}\n\n/** Merges the errors in `additionalErrorSchema` into the existing `validationData` by combining the hierarchies in the\r\n * two `ErrorSchema`s and then appending the error list from the `additionalErrorSchema` obtained by calling\r\n * `toErrorList()` on the `errors` in the `validationData`. If no `additionalErrorSchema` is passed, then\r\n * `validationData` is returned.\r\n *\r\n * @param validationData - The current `ValidationData` into which to merge the additional errors\r\n * @param [additionalErrorSchema] - The optional additional set of errors in an `ErrorSchema`\r\n * @returns - The `validationData` with the additional errors from `additionalErrorSchema` merged into it, if provided.\r\n */\nfunction validationDataMerge(validationData, additionalErrorSchema) {\n  if (!additionalErrorSchema) {\n    return validationData;\n  }\n  var oldErrors = validationData.errors,\n    oldErrorSchema = validationData.errorSchema;\n  var errors = toErrorList(additionalErrorSchema);\n  var errorSchema = additionalErrorSchema;\n  if (!isEmpty(oldErrorSchema)) {\n    errorSchema = mergeObjects(oldErrorSchema, additionalErrorSchema, true);\n    errors = [].concat(oldErrors).concat(errors);\n  }\n  return {\n    errorSchema: errorSchema,\n    errors: errors\n  };\n}\n\n/** Takes a `node` object and transforms any contained `$ref` node variables with a prefix, recursively calling\r\n * `withIdRefPrefix` for any other elements.\r\n *\r\n * @param node - The object node to which a ROOT_SCHEMA_PREFIX is added when a REF_KEY is part of it\r\n */\nfunction withIdRefPrefixObject(node) {\n  for (var key in node) {\n    var realObj = node;\n    var value = realObj[key];\n    if (key === REF_KEY && typeof value === 'string' && value.startsWith('#')) {\n      realObj[key] = ROOT_SCHEMA_PREFIX + value;\n    } else {\n      realObj[key] = withIdRefPrefix(value);\n    }\n  }\n  return node;\n}\n/** Takes a `node` object list and transforms any contained `$ref` node variables with a prefix, recursively calling\r\n * `withIdRefPrefix` for any other elements.\r\n *\r\n * @param node - The list of object nodes to which a ROOT_SCHEMA_PREFIX is added when a REF_KEY is part of it\r\n */\nfunction withIdRefPrefixArray(node) {\n  for (var i = 0; i < node.length; i++) {\n    node[i] = withIdRefPrefix(node[i]);\n  }\n  return node;\n}\n/** Recursively prefixes all `$ref`s in a schema with the value of the `ROOT_SCHEMA_PREFIX` constant.\r\n * This is used in isValid to make references to the rootSchema\r\n *\r\n * @param schemaNode - The object node to which a ROOT_SCHEMA_PREFIX is added when a REF_KEY is part of it\r\n * @returns - A copy of the `schemaNode` with updated `$ref`s\r\n */\nfunction withIdRefPrefix(schemaNode) {\n  if (schemaNode.constructor === Object) {\n    return withIdRefPrefixObject(_extends({}, schemaNode));\n  }\n  if (Array.isArray(schemaNode)) {\n    return withIdRefPrefixArray([].concat(schemaNode));\n  }\n  return schemaNode;\n}\n\n/** An enumeration of all the translatable strings used by `@rjsf/core` and its themes. The value of each of the\r\n * enumeration keys is expected to be the actual english string. Some strings contain replaceable parameter values\r\n * as indicated by `%1`, `%2`, etc. The number after the `%` indicates the order of the parameter. The ordering of\r\n * parameters is important because some languages may choose to put the second parameter before the first in its\r\n * translation. Also, some strings are rendered using `markdown-to-jsx` and thus support markdown and inline html.\r\n */\nvar TranslatableString;\n(function (TranslatableString) {\n  /** Fallback title of an array item, used by ArrayField */\n  TranslatableString[\"ArrayItemTitle\"] = \"Item\";\n  /** Missing items reason, used by ArrayField */\n  TranslatableString[\"MissingItems\"] = \"Missing items definition\";\n  /** Yes label, used by BooleanField */\n  TranslatableString[\"YesLabel\"] = \"Yes\";\n  /** No label, used by BooleanField */\n  TranslatableString[\"NoLabel\"] = \"No\";\n  /** Close label, used by ErrorList */\n  TranslatableString[\"CloseLabel\"] = \"Close\";\n  /** Errors label, used by ErrorList */\n  TranslatableString[\"ErrorsLabel\"] = \"Errors\";\n  /** New additionalProperties string default value, used by ObjectField */\n  TranslatableString[\"NewStringDefault\"] = \"New Value\";\n  /** Add button title, used by AddButton */\n  TranslatableString[\"AddButton\"] = \"Add\";\n  /** Add button title, used by AddButton */\n  TranslatableString[\"AddItemButton\"] = \"Add Item\";\n  /** Copy button title, used by IconButton */\n  TranslatableString[\"CopyButton\"] = \"Copy\";\n  /** Move down button title, used by IconButton */\n  TranslatableString[\"MoveDownButton\"] = \"Move down\";\n  /** Move up button title, used by IconButton */\n  TranslatableString[\"MoveUpButton\"] = \"Move up\";\n  /** Remove button title, used by IconButton */\n  TranslatableString[\"RemoveButton\"] = \"Remove\";\n  /** Now label, used by AltDateWidget */\n  TranslatableString[\"NowLabel\"] = \"Now\";\n  /** Clear label, used by AltDateWidget */\n  TranslatableString[\"ClearLabel\"] = \"Clear\";\n  /** Aria date label, used by DateWidget */\n  TranslatableString[\"AriaDateLabel\"] = \"Select a date\";\n  /** File preview label, used by FileWidget */\n  TranslatableString[\"PreviewLabel\"] = \"Preview\";\n  /** Decrement button aria label, used by UpDownWidget */\n  TranslatableString[\"DecrementAriaLabel\"] = \"Decrease value by 1\";\n  /** Increment button aria label, used by UpDownWidget */\n  TranslatableString[\"IncrementAriaLabel\"] = \"Increase value by 1\";\n  // Strings with replaceable parameters\n  /** Unknown field type reason, where %1 will be replaced with the type as provided by SchemaField */\n  TranslatableString[\"UnknownFieldType\"] = \"Unknown field type %1\";\n  /** Option prefix, where %1 will be replaced with the option index as provided by MultiSchemaField */\n  TranslatableString[\"OptionPrefix\"] = \"Option %1\";\n  /** Option prefix, where %1 and %2 will be replaced by the schema title and option index, respectively as provided by\r\n   * MultiSchemaField\r\n   */\n  TranslatableString[\"TitleOptionPrefix\"] = \"%1 option %2\";\n  /** Key label, where %1 will be replaced by the label as provided by WrapIfAdditionalTemplate */\n  TranslatableString[\"KeyLabel\"] = \"%1 Key\";\n  // Strings with replaceable parameters AND/OR that support markdown and html\n  /** Invalid object field configuration as provided by the ObjectField */\n  TranslatableString[\"InvalidObjectField\"] = \"Invalid \\\"%1\\\" object field configuration: <em>%2</em>.\";\n  /** Unsupported field schema, used by UnsupportedField */\n  TranslatableString[\"UnsupportedField\"] = \"Unsupported field schema.\";\n  /** Unsupported field schema, where %1 will be replaced by the idSchema.$id as provided by UnsupportedField */\n  TranslatableString[\"UnsupportedFieldWithId\"] = \"Unsupported field schema for field <code>%1</code>.\";\n  /** Unsupported field schema, where %1 will be replaced by the reason string as provided by UnsupportedField */\n  TranslatableString[\"UnsupportedFieldWithReason\"] = \"Unsupported field schema: <em>%1</em>.\";\n  /** Unsupported field schema, where %1 and %2 will be replaced by the idSchema.$id and reason strings, respectively,\r\n   * as provided by UnsupportedField\r\n   */\n  TranslatableString[\"UnsupportedFieldWithIdAndReason\"] = \"Unsupported field schema for field <code>%1</code>: <em>%2</em>.\";\n  /** File name, type and size info, where %1, %2 and %3 will be replaced by the file name, file type and file size as\r\n   * provided by FileWidget\r\n   */\n  TranslatableString[\"FilesInfo\"] = \"<strong>%1</strong> (%2, %3 bytes)\";\n})(TranslatableString || (TranslatableString = {}));\n\n/** An implementation of the `ValidatorType` interface that is designed for use in capturing schemas used by the\r\n * `isValid()` function. The rest of the implementation of the interface throws errors when it is attempted to be used.\r\n * An instance of the object allows the caller to capture the schemas used in calls to the `isValid()` function. These\r\n * captured schema, along with the root schema used to construct the object are stored in the map of schemas keyed by\r\n * the hashed value of the schema. NOTE: After hashing the schema, an $id with the hash value is added to the\r\n * schema IF that schema doesn't already have an $id, prior to putting the schema into the map.\r\n */\nvar ParserValidator = /*#__PURE__*/function () {\n  /** Construct the ParserValidator for the given `rootSchema`. This `rootSchema` will be stashed in the `schemaMap`\r\n   * first.\r\n   *\r\n   * @param rootSchema - The root schema against which this validator will be executed\r\n   */\n  function ParserValidator(rootSchema) {\n    /** The rootSchema provided during construction of the class */\n    this.rootSchema = void 0;\n    /** The map of schemas encountered by the ParserValidator */\n    this.schemaMap = {};\n    this.rootSchema = rootSchema;\n    this.addSchema(rootSchema, hashForSchema(rootSchema));\n  }\n  /** Adds the given `schema` to the `schemaMap` keyed by the `hash` or `ID_KEY` if present on the `schema`. If the\r\n   * schema does not have an `ID_KEY`, then the `hash` will be added as the `ID_KEY` to allow the schema to be\r\n   * associated with it's `hash` for future use (by a schema compiler).\r\n   *\r\n   * @param schema - The schema which is to be added to the map\r\n   * @param hash - The hash value at which to map the schema\r\n   */\n  var _proto = ParserValidator.prototype;\n  _proto.addSchema = function addSchema(schema, hash) {\n    var _extends2;\n    var key = get(schema, ID_KEY, hash);\n    var identifiedSchema = _extends({}, schema, (_extends2 = {}, _extends2[ID_KEY] = key, _extends2));\n    var existing = this.schemaMap[key];\n    if (!existing) {\n      this.schemaMap[key] = identifiedSchema;\n    } else if (!isEqual(existing, identifiedSchema)) {\n      console.error('existing schema:', JSON.stringify(existing, null, 2));\n      console.error('new schema:', JSON.stringify(identifiedSchema, null, 2));\n      throw new Error(\"Two different schemas exist with the same key \" + key + \"! What a bad coincidence. If possible, try adding an $id to one of the schemas\");\n    }\n  }\n  /** Returns the current `schemaMap` to the caller\r\n   */;\n  _proto.getSchemaMap = function getSchemaMap() {\n    return this.schemaMap;\n  }\n  /** Implements the `ValidatorType` `isValid()` method to capture the `schema` in the `schemaMap`. Throws an error when\r\n   * the `rootSchema` is not the same as the root schema provided during construction.\r\n   *\r\n   * @param schema - The schema to record in the `schemaMap`\r\n   * @param _formData - The formData parameter that is ignored\r\n   * @param rootSchema - The root schema associated with the schema\r\n   * @throws - Error when the given `rootSchema` differs from the root schema provided during construction\r\n   */;\n  _proto.isValid = function isValid(schema, _formData, rootSchema) {\n    if (!isEqual(rootSchema, this.rootSchema)) {\n      throw new Error('Unexpectedly calling isValid() with a rootSchema that differs from the construction rootSchema');\n    }\n    this.addSchema(schema, hashForSchema(schema));\n    return false;\n  }\n  /** Implements the `ValidatorType` `rawValidation()` method to throw an error since it is never supposed to be called\r\n   *\r\n   * @param _schema - The schema parameter that is ignored\r\n   * @param _formData - The formData parameter that is ignored\r\n   */;\n  _proto.rawValidation = function rawValidation(_schema, _formData) {\n    throw new Error('Unexpectedly calling the `rawValidation()` method during schema parsing');\n  }\n  /** Implements the `ValidatorType` `toErrorList()` method to throw an error since it is never supposed to be called\r\n   *\r\n   * @param _errorSchema - The error schema parameter that is ignored\r\n   * @param _fieldPath - The field path parameter that is ignored\r\n   */;\n  _proto.toErrorList = function toErrorList(_errorSchema, _fieldPath) {\n    throw new Error('Unexpectedly calling the `toErrorList()` method during schema parsing');\n  }\n  /** Implements the `ValidatorType` `validateFormData()` method to throw an error since it is never supposed to be\r\n   * called\r\n   *\r\n   * @param _formData - The formData parameter that is ignored\r\n   * @param _schema - The schema parameter that is ignored\r\n   * @param _customValidate - The customValidate parameter that is ignored\r\n   * @param _transformErrors - The transformErrors parameter that is ignored\r\n   * @param _uiSchema - The uiSchema parameter that is ignored\r\n   */;\n  _proto.validateFormData = function validateFormData(_formData, _schema, _customValidate, _transformErrors, _uiSchema) {\n    throw new Error('Unexpectedly calling the `validateFormData()` method during schema parsing');\n  };\n  return ParserValidator;\n}();\n\n/** Recursive function used to parse the given `schema` belonging to the `rootSchema`. The `validator` is used to\r\n * capture the sub-schemas that the `isValid()` function is called with. For each schema returned by the\r\n * `retrieveSchemaInternal()`, the `resolveAnyOrOneOfSchemas()` function is called. For each of the schemas returned\r\n * from THAT call have `properties`, then each of the sub-schema property objects are then recursively parsed.\r\n *\r\n * @param validator - The `ParserValidator` implementation used to capture `isValid()` calls during parsing\r\n * @param recurseList - The list of schemas returned from the `retrieveSchemaInternal`, preventing infinite recursion\r\n * @param rootSchema - The root schema from which the schema parsing began\r\n * @param schema - The current schema element being parsed\r\n */\nfunction parseSchema(validator, recurseList, rootSchema, schema) {\n  var schemas = retrieveSchemaInternal(validator, schema, rootSchema, undefined, true);\n  schemas.forEach(function (schema) {\n    var sameSchemaIndex = recurseList.findIndex(function (item) {\n      return isEqual(item, schema);\n    });\n    if (sameSchemaIndex === -1) {\n      recurseList.push(schema);\n      var allOptions = resolveAnyOrOneOfSchemas(validator, schema, rootSchema, true);\n      allOptions.forEach(function (s) {\n        if (PROPERTIES_KEY in s && s[PROPERTIES_KEY]) {\n          forEach(schema[PROPERTIES_KEY], function (value) {\n            parseSchema(validator, recurseList, rootSchema, value);\n          });\n        }\n      });\n      if (ITEMS_KEY in schema && !Array.isArray(schema.items) && typeof schema.items !== 'boolean') {\n        parseSchema(validator, recurseList, rootSchema, schema.items);\n      }\n    }\n  });\n}\n/** Parses the given `rootSchema` to extract out all the sub-schemas that maybe contained within it. Returns a map of\r\n * the hash of the schema to schema/sub-schema.\r\n *\r\n * @param rootSchema - The root schema to parse for sub-schemas used by `isValid()` calls\r\n * @returns - The `SchemaMap` of all schemas that were parsed\r\n */\nfunction schemaParser(rootSchema) {\n  var validator = new ParserValidator(rootSchema);\n  var recurseList = [];\n  parseSchema(validator, recurseList, rootSchema, rootSchema);\n  return validator.getSchemaMap();\n}\n\nexport { ADDITIONAL_PROPERTIES_KEY, ADDITIONAL_PROPERTY_FLAG, ALL_OF_KEY, ANY_OF_KEY, CONST_KEY, DEFAULT_KEY, DEFINITIONS_KEY, DEPENDENCIES_KEY, ENUM_KEY, ERRORS_KEY, ErrorSchemaBuilder, ID_KEY, IF_KEY, ITEMS_KEY, JUNK_OPTION_ID, NAME_KEY, ONE_OF_KEY, PROPERTIES_KEY, REF_KEY, REQUIRED_KEY, RJSF_ADDITONAL_PROPERTIES_FLAG, ROOT_SCHEMA_PREFIX, SUBMIT_BTN_OPTIONS_KEY, TranslatableString, UI_FIELD_KEY, UI_GLOBAL_OPTIONS_KEY, UI_OPTIONS_KEY, UI_WIDGET_KEY, allowAdditionalItems, ariaDescribedByIds, asNumber, canExpand, createErrorHandler, createSchemaUtils, dataURItoBlob, deepEquals, descriptionId, englishStringTranslator, enumOptionsDeselectValue, enumOptionsIndexForValue, enumOptionsIsSelected, enumOptionsSelectValue, enumOptionsValueForIndex, errorId, examplesId, findSchemaDefinition, getClosestMatchingOption, getDefaultFormState, getDiscriminatorFieldFromSchema, getDisplayLabel, getFirstMatchingOption, getInputProps, getMatchingOption, getSchemaType, getSubmitButtonOptions, getTemplate, getUiOptions, getWidget, guessType, hasWidget, hashForSchema, helpId, isConstant, isCustomWidget, isFilesArray, isFixedItems, isMultiSelect, isObject, isSelect, labelValue, localToUTC, mergeDefaultsWithFormData, mergeObjects, mergeSchemas, mergeValidationData, optionId, optionsList, orderProperties, pad, parseDateString, rangeSpec, replaceStringParameters, retrieveSchema, sanitizeDataForNewSchema, schemaParser, schemaRequiresTrueValue, shouldRender, titleId, toConstant, toDateString, toErrorList, toErrorSchema, toIdSchema, toPathSchema, unwrapErrorHandler, utcToLocal, validationDataMerge, withIdRefPrefix };\n//# sourceMappingURL=utils.esm.js.map\n","import { urlAlphabet } from './url-alphabet/index.js'\nlet random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\nlet customRandom = (alphabet, defaultSize, getRandom) => {\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  let step = -~((1.6 * mask * defaultSize) / alphabet.length)\n  return (size = defaultSize) => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      let j = step\n      while (j--) {\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\nlet customAlphabet = (alphabet, size = 21) =>\n  customRandom(alphabet, size, random)\nlet nanoid = (size = 21) =>\n  crypto.getRandomValues(new Uint8Array(size)).reduce((id, byte) => {\n    byte &= 63\n    if (byte < 36) {\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte > 62) {\n      id += '-'\n    } else {\n      id += '_'\n    }\n    return id\n  }, '')\nexport { nanoid, customAlphabet, customRandom, urlAlphabet, random }\n","import { jsx, jsxs, Fragment } from 'react/jsx-runtime';\nimport { Component, useState, useCallback, useEffect, useReducer, createRef, forwardRef } from 'react';\nimport { isFixedItems, allowAdditionalItems, getUiOptions, ITEMS_KEY, getTemplate, TranslatableString, isCustomWidget, getWidget, optionsList, deepEquals, getDiscriminatorFieldFromSchema, ERRORS_KEY, asNumber, REF_KEY, orderProperties, PROPERTIES_KEY, ADDITIONAL_PROPERTY_FLAG, ANY_OF_KEY, ONE_OF_KEY, mergeObjects, UI_OPTIONS_KEY, getSchemaType, descriptionId, ID_KEY, hasWidget, titleId, getInputProps, examplesId, ariaDescribedByIds, getSubmitButtonOptions, errorId, helpId, canExpand, parseDateString, toDateString, pad, schemaRequiresTrueValue, labelValue, enumOptionsValueForIndex, enumOptionsIsSelected, optionId, enumOptionsSelectValue, enumOptionsDeselectValue, utcToLocal, localToUTC, dataURItoBlob, enumOptionsIndexForValue, englishStringTranslator, createSchemaUtils, validationDataMerge, shouldRender, UI_GLOBAL_OPTIONS_KEY, SUBMIT_BTN_OPTIONS_KEY, isObject as isObject$1, toErrorList, RJSF_ADDITONAL_PROPERTIES_FLAG, NAME_KEY } from '@rjsf/utils';\nimport get from 'lodash-es/get';\nimport isEmpty from 'lodash-es/isEmpty';\nimport _pick from 'lodash-es/pick';\nimport _toPath from 'lodash-es/toPath';\nimport cloneDeep from 'lodash-es/cloneDeep';\nimport isObject from 'lodash-es/isObject';\nimport set from 'lodash-es/set';\nimport { nanoid } from 'nanoid';\nimport omit from 'lodash-es/omit';\nimport Markdown from 'markdown-to-jsx';\nimport has from 'lodash-es/has';\nimport unset from 'lodash-es/unset';\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\n\nvar _excluded$9 = [\"widget\", \"title\"],\n  _excluded2 = [\"widget\", \"title\"],\n  _excluded3 = [\"widget\", \"title\"];\n/** Used to generate a unique ID for an element in a row */\nfunction generateRowId() {\n  return nanoid();\n}\n/** Converts the `formData` into `KeyedFormDataType` data, using the `generateRowId()` function to create the key\r\n *\r\n * @param formData - The data for the form\r\n * @returns - The `formData` converted into a `KeyedFormDataType` element\r\n */\nfunction generateKeyedFormData(formData) {\n  return !Array.isArray(formData) ? [] : formData.map(function (item) {\n    return {\n      key: generateRowId(),\n      item: item\n    };\n  });\n}\n/** Converts `KeyedFormDataType` data into the inner `formData`\r\n *\r\n * @param keyedFormData - The `KeyedFormDataType` to be converted\r\n * @returns - The inner `formData` item(s) in the `keyedFormData`\r\n */\nfunction keyedToPlainFormData(keyedFormData) {\n  if (Array.isArray(keyedFormData)) {\n    return keyedFormData.map(function (keyedItem) {\n      return keyedItem.item;\n    });\n  }\n  return [];\n}\n/** The `ArrayField` component is used to render a field in the schema that is of type `array`. It supports both normal\r\n * and fixed array, allowing user to add and remove elements from the array data.\r\n */\nvar ArrayField = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(ArrayField, _Component);\n  /** Constructs an `ArrayField` from the `props`, generating the initial keyed data from the `formData`\r\n   *\r\n   * @param props - The `FieldProps` for this template\r\n   */\n  function ArrayField(props) {\n    var _this;\n    _this = _Component.call(this, props) || this;\n    /** Returns the default form information for an item based on the schema for that item. Deals with the possibility\r\n     * that the schema is fixed and allows additional items.\r\n     */\n    _this._getNewFormDataRow = function () {\n      var _this$props = _this.props,\n        schema = _this$props.schema,\n        registry = _this$props.registry;\n      var schemaUtils = registry.schemaUtils;\n      var itemSchema = schema.items;\n      if (isFixedItems(schema) && allowAdditionalItems(schema)) {\n        itemSchema = schema.additionalItems;\n      }\n      // Cast this as a T to work around schema utils being for T[] caused by the FieldProps<T[], S, F> call on the class\n      return schemaUtils.getDefaultFormState(itemSchema);\n    };\n    /** Callback handler for when the user clicks on the add button. Creates a new row of keyed form data at the end of\r\n     * the list, adding it into the state, and then returning `onChange()` with the plain form data converted from the\r\n     * keyed data\r\n     *\r\n     * @param event - The event for the click\r\n     */\n    _this.onAddClick = function (event) {\n      _this._handleAddClick(event);\n    };\n    /** Callback handler for when the user clicks on the add button on an existing array element. Creates a new row of\r\n     * keyed form data inserted at the `index`, adding it into the state, and then returning `onChange()` with the plain\r\n     * form data converted from the keyed data\r\n     *\r\n     * @param index - The index at which the add button is clicked\r\n     */\n    _this.onAddIndexClick = function (index) {\n      return function (event) {\n        _this._handleAddClick(event, index);\n      };\n    };\n    /** Callback handler for when the user clicks on the copy button on an existing array element. Clones the row of\r\n     * keyed form data at the `index` into the next position in the state, and then returning `onChange()` with the plain\r\n     * form data converted from the keyed data\r\n     *\r\n     * @param index - The index at which the copy button is clicked\r\n     */\n    _this.onCopyIndexClick = function (index) {\n      return function (event) {\n        if (event) {\n          event.preventDefault();\n        }\n        var onChange = _this.props.onChange;\n        var keyedFormData = _this.state.keyedFormData;\n        var newKeyedFormDataRow = {\n          key: generateRowId(),\n          item: cloneDeep(keyedFormData[index].item)\n        };\n        var newKeyedFormData = [].concat(keyedFormData);\n        if (index !== undefined) {\n          newKeyedFormData.splice(index + 1, 0, newKeyedFormDataRow);\n        } else {\n          newKeyedFormData.push(newKeyedFormDataRow);\n        }\n        _this.setState({\n          keyedFormData: newKeyedFormData,\n          updatedKeyedFormData: true\n        }, function () {\n          return onChange(keyedToPlainFormData(newKeyedFormData));\n        });\n      };\n    };\n    /** Callback handler for when the user clicks on the remove button on an existing array element. Removes the row of\r\n     * keyed form data at the `index` in the state, and then returning `onChange()` with the plain form data converted\r\n     * from the keyed data\r\n     *\r\n     * @param index - The index at which the remove button is clicked\r\n     */\n    _this.onDropIndexClick = function (index) {\n      return function (event) {\n        if (event) {\n          event.preventDefault();\n        }\n        var _this$props2 = _this.props,\n          onChange = _this$props2.onChange,\n          errorSchema = _this$props2.errorSchema;\n        var keyedFormData = _this.state.keyedFormData;\n        // refs #195: revalidate to ensure properly reindexing errors\n        var newErrorSchema;\n        if (errorSchema) {\n          newErrorSchema = {};\n          for (var idx in errorSchema) {\n            var i = parseInt(idx);\n            if (i < index) {\n              set(newErrorSchema, [i], errorSchema[idx]);\n            } else if (i > index) {\n              set(newErrorSchema, [i - 1], errorSchema[idx]);\n            }\n          }\n        }\n        var newKeyedFormData = keyedFormData.filter(function (_, i) {\n          return i !== index;\n        });\n        _this.setState({\n          keyedFormData: newKeyedFormData,\n          updatedKeyedFormData: true\n        }, function () {\n          return onChange(keyedToPlainFormData(newKeyedFormData), newErrorSchema);\n        });\n      };\n    };\n    /** Callback handler for when the user clicks on one of the move item buttons on an existing array element. Moves the\r\n     * row of keyed form data at the `index` to the `newIndex` in the state, and then returning `onChange()` with the\r\n     * plain form data converted from the keyed data\r\n     *\r\n     * @param index - The index of the item to move\r\n     * @param newIndex - The index to where the item is to be moved\r\n     */\n    _this.onReorderClick = function (index, newIndex) {\n      return function (event) {\n        if (event) {\n          event.preventDefault();\n          event.currentTarget.blur();\n        }\n        var _this$props3 = _this.props,\n          onChange = _this$props3.onChange,\n          errorSchema = _this$props3.errorSchema;\n        var newErrorSchema;\n        if (errorSchema) {\n          newErrorSchema = {};\n          for (var idx in errorSchema) {\n            var i = parseInt(idx);\n            if (i == index) {\n              set(newErrorSchema, [newIndex], errorSchema[index]);\n            } else if (i == newIndex) {\n              set(newErrorSchema, [index], errorSchema[newIndex]);\n            } else {\n              set(newErrorSchema, [idx], errorSchema[i]);\n            }\n          }\n        }\n        var keyedFormData = _this.state.keyedFormData;\n        function reOrderArray() {\n          // Copy item\n          var _newKeyedFormData = keyedFormData.slice();\n          // Moves item from index to newIndex\n          _newKeyedFormData.splice(index, 1);\n          _newKeyedFormData.splice(newIndex, 0, keyedFormData[index]);\n          return _newKeyedFormData;\n        }\n        var newKeyedFormData = reOrderArray();\n        _this.setState({\n          keyedFormData: newKeyedFormData\n        }, function () {\n          return onChange(keyedToPlainFormData(newKeyedFormData), newErrorSchema);\n        });\n      };\n    };\n    /** Callback handler used to deal with changing the value of the data in the array at the `index`. Calls the\r\n     * `onChange` callback with the updated form data\r\n     *\r\n     * @param index - The index of the item being changed\r\n     */\n    _this.onChangeForIndex = function (index) {\n      return function (value, newErrorSchema, id) {\n        var _extends2;\n        var _this$props4 = _this.props,\n          formData = _this$props4.formData,\n          onChange = _this$props4.onChange,\n          errorSchema = _this$props4.errorSchema;\n        var arrayData = Array.isArray(formData) ? formData : [];\n        var newFormData = arrayData.map(function (item, i) {\n          // We need to treat undefined items as nulls to have validation.\n          // See https://github.com/tdegrunt/jsonschema/issues/206\n          var jsonValue = typeof value === 'undefined' ? null : value;\n          return index === i ? jsonValue : item;\n        });\n        onChange(newFormData, errorSchema && errorSchema && _extends({}, errorSchema, (_extends2 = {}, _extends2[index] = newErrorSchema, _extends2)), id);\n      };\n    };\n    /** Callback handler used to change the value for a checkbox */\n    _this.onSelectChange = function (value) {\n      var _this$props5 = _this.props,\n        onChange = _this$props5.onChange,\n        idSchema = _this$props5.idSchema;\n      onChange(value, undefined, idSchema && idSchema.$id);\n    };\n    var _props$formData = props.formData,\n      _formData = _props$formData === void 0 ? [] : _props$formData;\n    var _keyedFormData = generateKeyedFormData(_formData);\n    _this.state = {\n      keyedFormData: _keyedFormData,\n      updatedKeyedFormData: false\n    };\n    return _this;\n  }\n  /** React lifecycle method that is called when the props are about to change allowing the state to be updated. It\r\n   * regenerates the keyed form data and returns it\r\n   *\r\n   * @param nextProps - The next set of props data\r\n   * @param prevState - The previous set of state data\r\n   */\n  ArrayField.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n    // Don't call getDerivedStateFromProps if keyed formdata was just updated.\n    if (prevState.updatedKeyedFormData) {\n      return {\n        updatedKeyedFormData: false\n      };\n    }\n    var nextFormData = Array.isArray(nextProps.formData) ? nextProps.formData : [];\n    var previousKeyedFormData = prevState.keyedFormData || [];\n    var newKeyedFormData = nextFormData.length === previousKeyedFormData.length ? previousKeyedFormData.map(function (previousKeyedFormDatum, index) {\n      return {\n        key: previousKeyedFormDatum.key,\n        item: nextFormData[index]\n      };\n    }) : generateKeyedFormData(nextFormData);\n    return {\n      keyedFormData: newKeyedFormData\n    };\n  }\n  /** Returns the appropriate title for an item by getting first the title from the schema.items, then falling back to\r\n   * the description from the schema.items, and finally the string \"Item\"\r\n   */;\n  var _proto = ArrayField.prototype;\n  /** Determines whether the item described in the schema is always required, which is determined by whether any item\r\n   * may be null.\r\n   *\r\n   * @param itemSchema - The schema for the item\r\n   * @return - True if the item schema type does not contain the \"null\" type\r\n   */\n  _proto.isItemRequired = function isItemRequired(itemSchema) {\n    if (Array.isArray(itemSchema.type)) {\n      // While we don't yet support composite/nullable jsonschema types, it's\n      // future-proof to check for requirement against these.\n      return !itemSchema.type.includes('null');\n    }\n    // All non-null array item types are inherently required by design\n    return itemSchema.type !== 'null';\n  }\n  /** Determines whether more items can be added to the array. If the uiSchema indicates the array doesn't allow adding\r\n   * then false is returned. Otherwise, if the schema indicates that there are a maximum number of items and the\r\n   * `formData` matches that value, then false is returned, otherwise true is returned.\r\n   *\r\n   * @param formItems - The list of items in the form\r\n   * @returns - True if the item is addable otherwise false\r\n   */;\n  _proto.canAddItem = function canAddItem(formItems) {\n    var _this$props6 = this.props,\n      schema = _this$props6.schema,\n      uiSchema = _this$props6.uiSchema,\n      registry = _this$props6.registry;\n    var _getUiOptions = getUiOptions(uiSchema, registry.globalUiOptions),\n      addable = _getUiOptions.addable;\n    if (addable !== false) {\n      // if ui:options.addable was not explicitly set to false, we can add\n      // another item if we have not exceeded maxItems yet\n      if (schema.maxItems !== undefined) {\n        addable = formItems.length < schema.maxItems;\n      } else {\n        addable = true;\n      }\n    }\n    return addable;\n  };\n  /** Callback handler for when the user clicks on the add or add at index buttons. Creates a new row of keyed form data\r\n   * either at the end of the list (when index is not specified) or inserted at the `index` when it is, adding it into\r\n   * the state, and then returning `onChange()` with the plain form data converted from the keyed data\r\n   *\r\n   * @param event - The event for the click\r\n   * @param [index] - The optional index at which to add the new data\r\n   */\n  _proto._handleAddClick = function _handleAddClick(event, index) {\n    if (event) {\n      event.preventDefault();\n    }\n    var onChange = this.props.onChange;\n    var keyedFormData = this.state.keyedFormData;\n    var newKeyedFormDataRow = {\n      key: generateRowId(),\n      item: this._getNewFormDataRow()\n    };\n    var newKeyedFormData = [].concat(keyedFormData);\n    if (index !== undefined) {\n      newKeyedFormData.splice(index, 0, newKeyedFormDataRow);\n    } else {\n      newKeyedFormData.push(newKeyedFormDataRow);\n    }\n    this.setState({\n      keyedFormData: newKeyedFormData,\n      updatedKeyedFormData: true\n    }, function () {\n      return onChange(keyedToPlainFormData(newKeyedFormData));\n    });\n  };\n  /** Renders the `ArrayField` depending on the specific needs of the schema and uischema elements\r\n   */\n  _proto.render = function render() {\n    var _this$props7 = this.props,\n      schema = _this$props7.schema,\n      uiSchema = _this$props7.uiSchema,\n      idSchema = _this$props7.idSchema,\n      registry = _this$props7.registry;\n    var schemaUtils = registry.schemaUtils,\n      translateString = registry.translateString;\n    if (!(ITEMS_KEY in schema)) {\n      var uiOptions = getUiOptions(uiSchema);\n      var UnsupportedFieldTemplate = getTemplate('UnsupportedFieldTemplate', registry, uiOptions);\n      return jsx(UnsupportedFieldTemplate, {\n        schema: schema,\n        idSchema: idSchema,\n        reason: translateString(TranslatableString.MissingItems),\n        registry: registry\n      });\n    }\n    if (schemaUtils.isMultiSelect(schema)) {\n      // If array has enum or uniqueItems set to true, call renderMultiSelect() to render the default multiselect widget or a custom widget, if specified.\n      return this.renderMultiSelect();\n    }\n    if (isCustomWidget(uiSchema)) {\n      return this.renderCustomWidget();\n    }\n    if (isFixedItems(schema)) {\n      return this.renderFixedArray();\n    }\n    if (schemaUtils.isFilesArray(schema, uiSchema)) {\n      return this.renderFiles();\n    }\n    return this.renderNormalArray();\n  }\n  /** Renders a normal array without any limitations of length\r\n   */;\n  _proto.renderNormalArray = function renderNormalArray() {\n    var _this2 = this;\n    var _this$props8 = this.props,\n      schema = _this$props8.schema,\n      _this$props8$uiSchema = _this$props8.uiSchema,\n      uiSchema = _this$props8$uiSchema === void 0 ? {} : _this$props8$uiSchema,\n      errorSchema = _this$props8.errorSchema,\n      idSchema = _this$props8.idSchema,\n      name = _this$props8.name,\n      _this$props8$disabled = _this$props8.disabled,\n      disabled = _this$props8$disabled === void 0 ? false : _this$props8$disabled,\n      _this$props8$readonly = _this$props8.readonly,\n      readonly = _this$props8$readonly === void 0 ? false : _this$props8$readonly,\n      _this$props8$autofocu = _this$props8.autofocus,\n      autofocus = _this$props8$autofocu === void 0 ? false : _this$props8$autofocu,\n      _this$props8$required = _this$props8.required,\n      required = _this$props8$required === void 0 ? false : _this$props8$required,\n      registry = _this$props8.registry,\n      onBlur = _this$props8.onBlur,\n      onFocus = _this$props8.onFocus,\n      idPrefix = _this$props8.idPrefix,\n      _this$props8$idSepara = _this$props8.idSeparator,\n      idSeparator = _this$props8$idSepara === void 0 ? '_' : _this$props8$idSepara,\n      rawErrors = _this$props8.rawErrors;\n    var keyedFormData = this.state.keyedFormData;\n    var title = schema.title === undefined ? name : schema.title;\n    var schemaUtils = registry.schemaUtils,\n      formContext = registry.formContext;\n    var uiOptions = getUiOptions(uiSchema);\n    var _schemaItems = isObject(schema.items) ? schema.items : {};\n    var itemsSchema = schemaUtils.retrieveSchema(_schemaItems);\n    var formData = keyedToPlainFormData(this.state.keyedFormData);\n    var canAdd = this.canAddItem(formData);\n    var arrayProps = {\n      canAdd: canAdd,\n      items: keyedFormData.map(function (keyedItem, index) {\n        var key = keyedItem.key,\n          item = keyedItem.item;\n        // While we are actually dealing with a single item of type T, the types require a T[], so cast\n        var itemCast = item;\n        var itemSchema = schemaUtils.retrieveSchema(_schemaItems, itemCast);\n        var itemErrorSchema = errorSchema ? errorSchema[index] : undefined;\n        var itemIdPrefix = idSchema.$id + idSeparator + index;\n        var itemIdSchema = schemaUtils.toIdSchema(itemSchema, itemIdPrefix, itemCast, idPrefix, idSeparator);\n        return _this2.renderArrayFieldItem({\n          key: key,\n          index: index,\n          name: name && name + \"-\" + index,\n          canAdd: canAdd,\n          canMoveUp: index > 0,\n          canMoveDown: index < formData.length - 1,\n          itemSchema: itemSchema,\n          itemIdSchema: itemIdSchema,\n          itemErrorSchema: itemErrorSchema,\n          itemData: itemCast,\n          itemUiSchema: uiSchema.items,\n          autofocus: autofocus && index === 0,\n          onBlur: onBlur,\n          onFocus: onFocus,\n          rawErrors: rawErrors,\n          totalItems: keyedFormData.length\n        });\n      }),\n      className: \"field field-array field-array-of-\" + itemsSchema.type,\n      disabled: disabled,\n      idSchema: idSchema,\n      uiSchema: uiSchema,\n      onAddClick: this.onAddClick,\n      readonly: readonly,\n      required: required,\n      schema: schema,\n      title: title,\n      formContext: formContext,\n      formData: formData,\n      rawErrors: rawErrors,\n      registry: registry\n    };\n    var Template = getTemplate('ArrayFieldTemplate', registry, uiOptions);\n    return jsx(Template, _extends({}, arrayProps));\n  }\n  /** Renders an array using the custom widget provided by the user in the `uiSchema`\r\n   */;\n  _proto.renderCustomWidget = function renderCustomWidget() {\n    var _ref;\n    var _this$props9 = this.props,\n      schema = _this$props9.schema,\n      idSchema = _this$props9.idSchema,\n      uiSchema = _this$props9.uiSchema,\n      _this$props9$disabled = _this$props9.disabled,\n      disabled = _this$props9$disabled === void 0 ? false : _this$props9$disabled,\n      _this$props9$readonly = _this$props9.readonly,\n      readonly = _this$props9$readonly === void 0 ? false : _this$props9$readonly,\n      _this$props9$autofocu = _this$props9.autofocus,\n      autofocus = _this$props9$autofocu === void 0 ? false : _this$props9$autofocu,\n      _this$props9$required = _this$props9.required,\n      required = _this$props9$required === void 0 ? false : _this$props9$required,\n      hideError = _this$props9.hideError,\n      placeholder = _this$props9.placeholder,\n      onBlur = _this$props9.onBlur,\n      onFocus = _this$props9.onFocus,\n      _this$props9$formData = _this$props9.formData,\n      items = _this$props9$formData === void 0 ? [] : _this$props9$formData,\n      registry = _this$props9.registry,\n      rawErrors = _this$props9.rawErrors,\n      name = _this$props9.name;\n    var widgets = registry.widgets,\n      formContext = registry.formContext,\n      globalUiOptions = registry.globalUiOptions,\n      schemaUtils = registry.schemaUtils;\n    var _getUiOptions2 = getUiOptions(uiSchema, globalUiOptions),\n      widget = _getUiOptions2.widget,\n      uiTitle = _getUiOptions2.title,\n      options = _objectWithoutPropertiesLoose(_getUiOptions2, _excluded$9);\n    var Widget = getWidget(schema, widget, widgets);\n    var label = (_ref = uiTitle != null ? uiTitle : schema.title) != null ? _ref : name;\n    var displayLabel = schemaUtils.getDisplayLabel(schema, uiSchema, globalUiOptions);\n    return jsx(Widget, {\n      id: idSchema.$id,\n      name: name,\n      multiple: true,\n      onChange: this.onSelectChange,\n      onBlur: onBlur,\n      onFocus: onFocus,\n      options: options,\n      schema: schema,\n      uiSchema: uiSchema,\n      registry: registry,\n      value: items,\n      disabled: disabled,\n      readonly: readonly,\n      hideError: hideError,\n      required: required,\n      label: label,\n      hideLabel: !displayLabel,\n      placeholder: placeholder,\n      formContext: formContext,\n      autofocus: autofocus,\n      rawErrors: rawErrors\n    });\n  }\n  /** Renders an array as a set of checkboxes\r\n   */;\n  _proto.renderMultiSelect = function renderMultiSelect() {\n    var _ref2;\n    var _this$props10 = this.props,\n      schema = _this$props10.schema,\n      idSchema = _this$props10.idSchema,\n      uiSchema = _this$props10.uiSchema,\n      _this$props10$formDat = _this$props10.formData,\n      items = _this$props10$formDat === void 0 ? [] : _this$props10$formDat,\n      _this$props10$disable = _this$props10.disabled,\n      disabled = _this$props10$disable === void 0 ? false : _this$props10$disable,\n      _this$props10$readonl = _this$props10.readonly,\n      readonly = _this$props10$readonl === void 0 ? false : _this$props10$readonl,\n      _this$props10$autofoc = _this$props10.autofocus,\n      autofocus = _this$props10$autofoc === void 0 ? false : _this$props10$autofoc,\n      _this$props10$require = _this$props10.required,\n      required = _this$props10$require === void 0 ? false : _this$props10$require,\n      placeholder = _this$props10.placeholder,\n      onBlur = _this$props10.onBlur,\n      onFocus = _this$props10.onFocus,\n      registry = _this$props10.registry,\n      rawErrors = _this$props10.rawErrors,\n      name = _this$props10.name;\n    var widgets = registry.widgets,\n      schemaUtils = registry.schemaUtils,\n      formContext = registry.formContext,\n      globalUiOptions = registry.globalUiOptions;\n    var itemsSchema = schemaUtils.retrieveSchema(schema.items, items);\n    var enumOptions = optionsList(itemsSchema);\n    var _getUiOptions3 = getUiOptions(uiSchema, globalUiOptions),\n      _getUiOptions3$widget = _getUiOptions3.widget,\n      widget = _getUiOptions3$widget === void 0 ? 'select' : _getUiOptions3$widget,\n      uiTitle = _getUiOptions3.title,\n      options = _objectWithoutPropertiesLoose(_getUiOptions3, _excluded2);\n    var Widget = getWidget(schema, widget, widgets);\n    var label = (_ref2 = uiTitle != null ? uiTitle : schema.title) != null ? _ref2 : name;\n    var displayLabel = schemaUtils.getDisplayLabel(schema, uiSchema, globalUiOptions);\n    return jsx(Widget, {\n      id: idSchema.$id,\n      name: name,\n      multiple: true,\n      onChange: this.onSelectChange,\n      onBlur: onBlur,\n      onFocus: onFocus,\n      options: _extends({}, options, {\n        enumOptions: enumOptions\n      }),\n      schema: schema,\n      uiSchema: uiSchema,\n      registry: registry,\n      value: items,\n      disabled: disabled,\n      readonly: readonly,\n      required: required,\n      label: label,\n      hideLabel: !displayLabel,\n      placeholder: placeholder,\n      formContext: formContext,\n      autofocus: autofocus,\n      rawErrors: rawErrors\n    });\n  }\n  /** Renders an array of files using the `FileWidget`\r\n   */;\n  _proto.renderFiles = function renderFiles() {\n    var _ref3;\n    var _this$props11 = this.props,\n      schema = _this$props11.schema,\n      uiSchema = _this$props11.uiSchema,\n      idSchema = _this$props11.idSchema,\n      name = _this$props11.name,\n      _this$props11$disable = _this$props11.disabled,\n      disabled = _this$props11$disable === void 0 ? false : _this$props11$disable,\n      _this$props11$readonl = _this$props11.readonly,\n      readonly = _this$props11$readonl === void 0 ? false : _this$props11$readonl,\n      _this$props11$autofoc = _this$props11.autofocus,\n      autofocus = _this$props11$autofoc === void 0 ? false : _this$props11$autofoc,\n      _this$props11$require = _this$props11.required,\n      required = _this$props11$require === void 0 ? false : _this$props11$require,\n      onBlur = _this$props11.onBlur,\n      onFocus = _this$props11.onFocus,\n      registry = _this$props11.registry,\n      _this$props11$formDat = _this$props11.formData,\n      items = _this$props11$formDat === void 0 ? [] : _this$props11$formDat,\n      rawErrors = _this$props11.rawErrors;\n    var widgets = registry.widgets,\n      formContext = registry.formContext,\n      globalUiOptions = registry.globalUiOptions,\n      schemaUtils = registry.schemaUtils;\n    var _getUiOptions4 = getUiOptions(uiSchema, globalUiOptions),\n      _getUiOptions4$widget = _getUiOptions4.widget,\n      widget = _getUiOptions4$widget === void 0 ? 'files' : _getUiOptions4$widget,\n      uiTitle = _getUiOptions4.title,\n      options = _objectWithoutPropertiesLoose(_getUiOptions4, _excluded3);\n    var Widget = getWidget(schema, widget, widgets);\n    var label = (_ref3 = uiTitle != null ? uiTitle : schema.title) != null ? _ref3 : name;\n    var displayLabel = schemaUtils.getDisplayLabel(schema, uiSchema, globalUiOptions);\n    return jsx(Widget, {\n      options: options,\n      id: idSchema.$id,\n      name: name,\n      multiple: true,\n      onChange: this.onSelectChange,\n      onBlur: onBlur,\n      onFocus: onFocus,\n      schema: schema,\n      uiSchema: uiSchema,\n      value: items,\n      disabled: disabled,\n      readonly: readonly,\n      required: required,\n      registry: registry,\n      formContext: formContext,\n      autofocus: autofocus,\n      rawErrors: rawErrors,\n      label: label,\n      hideLabel: !displayLabel\n    });\n  }\n  /** Renders an array that has a maximum limit of items\r\n   */;\n  _proto.renderFixedArray = function renderFixedArray() {\n    var _this3 = this;\n    var _this$props12 = this.props,\n      schema = _this$props12.schema,\n      _this$props12$uiSchem = _this$props12.uiSchema,\n      uiSchema = _this$props12$uiSchem === void 0 ? {} : _this$props12$uiSchem,\n      _this$props12$formDat = _this$props12.formData,\n      formData = _this$props12$formDat === void 0 ? [] : _this$props12$formDat,\n      errorSchema = _this$props12.errorSchema,\n      idPrefix = _this$props12.idPrefix,\n      _this$props12$idSepar = _this$props12.idSeparator,\n      idSeparator = _this$props12$idSepar === void 0 ? '_' : _this$props12$idSepar,\n      idSchema = _this$props12.idSchema,\n      name = _this$props12.name,\n      _this$props12$disable = _this$props12.disabled,\n      disabled = _this$props12$disable === void 0 ? false : _this$props12$disable,\n      _this$props12$readonl = _this$props12.readonly,\n      readonly = _this$props12$readonl === void 0 ? false : _this$props12$readonl,\n      _this$props12$autofoc = _this$props12.autofocus,\n      autofocus = _this$props12$autofoc === void 0 ? false : _this$props12$autofoc,\n      _this$props12$require = _this$props12.required,\n      required = _this$props12$require === void 0 ? false : _this$props12$require,\n      registry = _this$props12.registry,\n      onBlur = _this$props12.onBlur,\n      onFocus = _this$props12.onFocus,\n      rawErrors = _this$props12.rawErrors;\n    var keyedFormData = this.state.keyedFormData;\n    var _this$props$formData = this.props.formData,\n      items = _this$props$formData === void 0 ? [] : _this$props$formData;\n    var title = schema.title || name;\n    var uiOptions = getUiOptions(uiSchema);\n    var schemaUtils = registry.schemaUtils,\n      formContext = registry.formContext;\n    var _schemaItems = isObject(schema.items) ? schema.items : [];\n    var itemSchemas = _schemaItems.map(function (item, index) {\n      return schemaUtils.retrieveSchema(item, formData[index]);\n    });\n    var additionalSchema = isObject(schema.additionalItems) ? schemaUtils.retrieveSchema(schema.additionalItems, formData) : null;\n    if (!items || items.length < itemSchemas.length) {\n      // to make sure at least all fixed items are generated\n      items = items || [];\n      items = items.concat(new Array(itemSchemas.length - items.length));\n    }\n    // These are the props passed into the render function\n    var canAdd = this.canAddItem(items) && !!additionalSchema;\n    var arrayProps = {\n      canAdd: canAdd,\n      className: 'field field-array field-array-fixed-items',\n      disabled: disabled,\n      idSchema: idSchema,\n      formData: formData,\n      items: keyedFormData.map(function (keyedItem, index) {\n        var key = keyedItem.key,\n          item = keyedItem.item;\n        // While we are actually dealing with a single item of type T, the types require a T[], so cast\n        var itemCast = item;\n        var additional = index >= itemSchemas.length;\n        var itemSchema = additional && isObject(schema.additionalItems) ? schemaUtils.retrieveSchema(schema.additionalItems, itemCast) : itemSchemas[index];\n        var itemIdPrefix = idSchema.$id + idSeparator + index;\n        var itemIdSchema = schemaUtils.toIdSchema(itemSchema, itemIdPrefix, itemCast, idPrefix, idSeparator);\n        var itemUiSchema = additional ? uiSchema.additionalItems || {} : Array.isArray(uiSchema.items) ? uiSchema.items[index] : uiSchema.items || {};\n        var itemErrorSchema = errorSchema ? errorSchema[index] : undefined;\n        return _this3.renderArrayFieldItem({\n          key: key,\n          index: index,\n          name: name && name + \"-\" + index,\n          canAdd: canAdd,\n          canRemove: additional,\n          canMoveUp: index >= itemSchemas.length + 1,\n          canMoveDown: additional && index < items.length - 1,\n          itemSchema: itemSchema,\n          itemData: itemCast,\n          itemUiSchema: itemUiSchema,\n          itemIdSchema: itemIdSchema,\n          itemErrorSchema: itemErrorSchema,\n          autofocus: autofocus && index === 0,\n          onBlur: onBlur,\n          onFocus: onFocus,\n          rawErrors: rawErrors,\n          totalItems: keyedFormData.length\n        });\n      }),\n      onAddClick: this.onAddClick,\n      readonly: readonly,\n      required: required,\n      registry: registry,\n      schema: schema,\n      uiSchema: uiSchema,\n      title: title,\n      formContext: formContext,\n      rawErrors: rawErrors\n    };\n    var Template = getTemplate('ArrayFieldTemplate', registry, uiOptions);\n    return jsx(Template, _extends({}, arrayProps));\n  }\n  /** Renders the individual array item using a `SchemaField` along with the additional properties required to be send\r\n   * back to the `ArrayFieldItemTemplate`.\r\n   *\r\n   * @param props - The props for the individual array item to be rendered\r\n   */;\n  _proto.renderArrayFieldItem = function renderArrayFieldItem(props) {\n    var key = props.key,\n      index = props.index,\n      name = props.name,\n      canAdd = props.canAdd,\n      _props$canRemove = props.canRemove,\n      canRemove = _props$canRemove === void 0 ? true : _props$canRemove,\n      canMoveUp = props.canMoveUp,\n      canMoveDown = props.canMoveDown,\n      itemSchema = props.itemSchema,\n      itemData = props.itemData,\n      itemUiSchema = props.itemUiSchema,\n      itemIdSchema = props.itemIdSchema,\n      itemErrorSchema = props.itemErrorSchema,\n      autofocus = props.autofocus,\n      onBlur = props.onBlur,\n      onFocus = props.onFocus,\n      rawErrors = props.rawErrors,\n      totalItems = props.totalItems;\n    var _this$props13 = this.props,\n      disabled = _this$props13.disabled,\n      hideError = _this$props13.hideError,\n      idPrefix = _this$props13.idPrefix,\n      idSeparator = _this$props13.idSeparator,\n      readonly = _this$props13.readonly,\n      uiSchema = _this$props13.uiSchema,\n      registry = _this$props13.registry,\n      formContext = _this$props13.formContext;\n    var _registry$fields = registry.fields,\n      ArraySchemaField = _registry$fields.ArraySchemaField,\n      SchemaField = _registry$fields.SchemaField,\n      globalUiOptions = registry.globalUiOptions;\n    var ItemSchemaField = ArraySchemaField || SchemaField;\n    var _getUiOptions5 = getUiOptions(uiSchema, globalUiOptions),\n      _getUiOptions5$ordera = _getUiOptions5.orderable,\n      orderable = _getUiOptions5$ordera === void 0 ? true : _getUiOptions5$ordera,\n      _getUiOptions5$remova = _getUiOptions5.removable,\n      removable = _getUiOptions5$remova === void 0 ? true : _getUiOptions5$remova,\n      _getUiOptions5$copyab = _getUiOptions5.copyable,\n      copyable = _getUiOptions5$copyab === void 0 ? false : _getUiOptions5$copyab;\n    var has = {\n      moveUp: orderable && canMoveUp,\n      moveDown: orderable && canMoveDown,\n      copy: copyable && canAdd,\n      remove: removable && canRemove,\n      toolbar: false\n    };\n    has.toolbar = Object.keys(has).some(function (key) {\n      return has[key];\n    });\n    return {\n      children: jsx(ItemSchemaField, {\n        name: name,\n        index: index,\n        schema: itemSchema,\n        uiSchema: itemUiSchema,\n        formData: itemData,\n        formContext: formContext,\n        errorSchema: itemErrorSchema,\n        idPrefix: idPrefix,\n        idSeparator: idSeparator,\n        idSchema: itemIdSchema,\n        required: this.isItemRequired(itemSchema),\n        onChange: this.onChangeForIndex(index),\n        onBlur: onBlur,\n        onFocus: onFocus,\n        registry: registry,\n        disabled: disabled,\n        readonly: readonly,\n        hideError: hideError,\n        autofocus: autofocus,\n        rawErrors: rawErrors\n      }),\n      className: 'array-item',\n      disabled: disabled,\n      canAdd: canAdd,\n      hasCopy: has.copy,\n      hasToolbar: has.toolbar,\n      hasMoveUp: has.moveUp,\n      hasMoveDown: has.moveDown,\n      hasRemove: has.remove,\n      index: index,\n      totalItems: totalItems,\n      key: key,\n      onAddIndexClick: this.onAddIndexClick,\n      onCopyIndexClick: this.onCopyIndexClick,\n      onDropIndexClick: this.onDropIndexClick,\n      onReorderClick: this.onReorderClick,\n      readonly: readonly,\n      registry: registry,\n      schema: itemSchema,\n      uiSchema: itemUiSchema\n    };\n  };\n  _createClass(ArrayField, [{\n    key: \"itemTitle\",\n    get: function get$1() {\n      var _this$props14 = this.props,\n        schema = _this$props14.schema,\n        registry = _this$props14.registry;\n      var translateString = registry.translateString;\n      return get(schema, [ITEMS_KEY, 'title'], get(schema, [ITEMS_KEY, 'description'], translateString(TranslatableString.ArrayItemTitle)));\n    }\n  }]);\n  return ArrayField;\n}(Component);\n\nvar _excluded$8 = [\"widget\", \"title\", \"label\"];\n/** The `BooleanField` component is used to render a field in the schema is boolean. It constructs `enumOptions` for the\r\n * two boolean values based on the various alternatives in the schema.\r\n *\r\n * @param props - The `FieldProps` for this template\r\n */\nfunction BooleanField(props) {\n  var _ref;\n  var schema = props.schema,\n    name = props.name,\n    uiSchema = props.uiSchema,\n    idSchema = props.idSchema,\n    formData = props.formData,\n    registry = props.registry,\n    required = props.required,\n    disabled = props.disabled,\n    readonly = props.readonly,\n    autofocus = props.autofocus,\n    onChange = props.onChange,\n    onFocus = props.onFocus,\n    onBlur = props.onBlur,\n    rawErrors = props.rawErrors;\n  var title = schema.title;\n  var widgets = registry.widgets,\n    formContext = registry.formContext,\n    translateString = registry.translateString,\n    globalUiOptions = registry.globalUiOptions;\n  var _getUiOptions = getUiOptions(uiSchema, globalUiOptions),\n    _getUiOptions$widget = _getUiOptions.widget,\n    widget = _getUiOptions$widget === void 0 ? 'checkbox' : _getUiOptions$widget,\n    uiTitle = _getUiOptions.title,\n    _getUiOptions$label = _getUiOptions.label,\n    displayLabel = _getUiOptions$label === void 0 ? true : _getUiOptions$label,\n    options = _objectWithoutPropertiesLoose(_getUiOptions, _excluded$8);\n  var Widget = getWidget(schema, widget, widgets);\n  var yes = translateString(TranslatableString.YesLabel);\n  var no = translateString(TranslatableString.NoLabel);\n  var enumOptions;\n  var label = (_ref = uiTitle != null ? uiTitle : title) != null ? _ref : name;\n  if (Array.isArray(schema.oneOf)) {\n    enumOptions = optionsList({\n      oneOf: schema.oneOf.map(function (option) {\n        if (isObject(option)) {\n          return _extends({}, option, {\n            title: option.title || (option[\"const\"] === true ? yes : no)\n          });\n        }\n        return undefined;\n      }).filter(function (o) {\n        return o;\n      }) // cast away the error that typescript can't grok is fixed\n    });\n  } else {\n    var _schema$enum;\n    // We deprecated enumNames in v5. It's intentionally omitted from RSJFSchema type, so we need to cast here.\n    var schemaWithEnumNames = schema;\n    var enums = (_schema$enum = schema[\"enum\"]) != null ? _schema$enum : [true, false];\n    if (!schemaWithEnumNames.enumNames && enums.length === 2 && enums.every(function (v) {\n      return typeof v === 'boolean';\n    })) {\n      enumOptions = [{\n        value: enums[0],\n        label: enums[0] ? yes : no\n      }, {\n        value: enums[1],\n        label: enums[1] ? yes : no\n      }];\n    } else {\n      enumOptions = optionsList({\n        \"enum\": enums,\n        // NOTE: enumNames is deprecated, but still supported for now.\n        enumNames: schemaWithEnumNames.enumNames\n      });\n    }\n  }\n  return jsx(Widget, {\n    options: _extends({}, options, {\n      enumOptions: enumOptions\n    }),\n    schema: schema,\n    uiSchema: uiSchema,\n    id: idSchema.$id,\n    name: name,\n    onChange: onChange,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    label: label,\n    hideLabel: !displayLabel,\n    value: formData,\n    required: required,\n    disabled: disabled,\n    readonly: readonly,\n    registry: registry,\n    formContext: formContext,\n    autofocus: autofocus,\n    rawErrors: rawErrors\n  });\n}\n\nvar _excluded$7 = [\"widget\", \"placeholder\", \"autofocus\", \"autocomplete\", \"title\"];\n/** The `AnyOfField` component is used to render a field in the schema that is an `anyOf`, `allOf` or `oneOf`. It tracks\r\n * the currently selected option and cleans up any irrelevant data in `formData`.\r\n *\r\n * @param props - The `FieldProps` for this template\r\n */\nvar AnyOfField = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(AnyOfField, _Component);\n  /** Constructs an `AnyOfField` with the given `props` to initialize the initially selected option in state\r\n   *\r\n   * @param props - The `FieldProps` for this template\r\n   */\n  function AnyOfField(props) {\n    var _this;\n    _this = _Component.call(this, props) || this;\n    /** Callback handler to remember what the currently selected option is. In addition to that the `formData` is updated\r\n     * to remove properties that are not part of the newly selected option schema, and then the updated data is passed to\r\n     * the `onChange` handler.\r\n     *\r\n     * @param option - The new option value being selected\r\n     */\n    _this.onOptionChange = function (option) {\n      var _this$state = _this.state,\n        selectedOption = _this$state.selectedOption,\n        retrievedOptions = _this$state.retrievedOptions;\n      var _this$props = _this.props,\n        formData = _this$props.formData,\n        onChange = _this$props.onChange,\n        registry = _this$props.registry;\n      var schemaUtils = registry.schemaUtils;\n      var intOption = option !== undefined ? parseInt(option, 10) : -1;\n      if (intOption === selectedOption) {\n        return;\n      }\n      var newOption = intOption >= 0 ? retrievedOptions[intOption] : undefined;\n      var oldOption = selectedOption >= 0 ? retrievedOptions[selectedOption] : undefined;\n      var newFormData = schemaUtils.sanitizeDataForNewSchema(newOption, oldOption, formData);\n      if (newFormData && newOption) {\n        // Call getDefaultFormState to make sure defaults are populated on change. Pass \"excludeObjectChildren\"\n        // so that only the root objects themselves are created without adding undefined children properties\n        newFormData = schemaUtils.getDefaultFormState(newOption, newFormData, 'excludeObjectChildren');\n      }\n      onChange(newFormData, undefined, _this.getFieldId());\n      _this.setState({\n        selectedOption: intOption\n      });\n    };\n    var _this$props2 = _this.props,\n      _formData = _this$props2.formData,\n      options = _this$props2.options,\n      _schemaUtils = _this$props2.registry.schemaUtils;\n    // cache the retrieved options in state in case they have $refs to save doing it later\n    var _retrievedOptions = options.map(function (opt) {\n      return _schemaUtils.retrieveSchema(opt, _formData);\n    });\n    _this.state = {\n      retrievedOptions: _retrievedOptions,\n      selectedOption: _this.getMatchingOption(0, _formData, _retrievedOptions)\n    };\n    return _this;\n  }\n  /** React lifecycle method that is called when the props and/or state for this component is updated. It recomputes the\r\n   * currently selected option based on the overall `formData`\r\n   *\r\n   * @param prevProps - The previous `FieldProps` for this template\r\n   * @param prevState - The previous `AnyOfFieldState` for this template\r\n   */\n  var _proto = AnyOfField.prototype;\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    var _this$props3 = this.props,\n      formData = _this$props3.formData,\n      options = _this$props3.options,\n      idSchema = _this$props3.idSchema;\n    var selectedOption = this.state.selectedOption;\n    var newState = this.state;\n    if (!deepEquals(prevProps.options, options)) {\n      var schemaUtils = this.props.registry.schemaUtils;\n      // re-cache the retrieved options in state in case they have $refs to save doing it later\n      var retrievedOptions = options.map(function (opt) {\n        return schemaUtils.retrieveSchema(opt, formData);\n      });\n      newState = {\n        selectedOption: selectedOption,\n        retrievedOptions: retrievedOptions\n      };\n    }\n    if (!deepEquals(formData, prevProps.formData) && idSchema.$id === prevProps.idSchema.$id) {\n      var _newState = newState,\n        _retrievedOptions2 = _newState.retrievedOptions;\n      var matchingOption = this.getMatchingOption(selectedOption, formData, _retrievedOptions2);\n      if (prevState && matchingOption !== selectedOption) {\n        newState = {\n          selectedOption: matchingOption,\n          retrievedOptions: _retrievedOptions2\n        };\n      }\n    }\n    if (newState !== this.state) {\n      this.setState(newState);\n    }\n  }\n  /** Determines the best matching option for the given `formData` and `options`.\r\n   *\r\n   * @param formData - The new formData\r\n   * @param options - The list of options to choose from\r\n   * @return - The index of the `option` that best matches the `formData`\r\n   */;\n  _proto.getMatchingOption = function getMatchingOption(selectedOption, formData, options) {\n    var _this$props4 = this.props,\n      schema = _this$props4.schema,\n      schemaUtils = _this$props4.registry.schemaUtils;\n    var discriminator = getDiscriminatorFieldFromSchema(schema);\n    var option = schemaUtils.getClosestMatchingOption(formData, options, selectedOption, discriminator);\n    if (option > 0) {\n      return option;\n    }\n    // If the form data matches none of the options, use the currently selected\n    // option, assuming it's available; otherwise use the first option\n    return selectedOption || 0;\n  };\n  _proto.getFieldId = function getFieldId() {\n    var _this$props5 = this.props,\n      idSchema = _this$props5.idSchema,\n      schema = _this$props5.schema;\n    return \"\" + idSchema.$id + (schema.oneOf ? '__oneof_select' : '__anyof_select');\n  }\n  /** Renders the `AnyOfField` selector along with a `SchemaField` for the value of the `formData`\r\n   */;\n  _proto.render = function render() {\n    var _this$props6 = this.props,\n      name = _this$props6.name,\n      baseType = _this$props6.baseType,\n      _this$props6$disabled = _this$props6.disabled,\n      disabled = _this$props6$disabled === void 0 ? false : _this$props6$disabled,\n      _this$props6$errorSch = _this$props6.errorSchema,\n      errorSchema = _this$props6$errorSch === void 0 ? {} : _this$props6$errorSch,\n      formContext = _this$props6.formContext,\n      onBlur = _this$props6.onBlur,\n      onFocus = _this$props6.onFocus,\n      registry = _this$props6.registry,\n      schema = _this$props6.schema,\n      uiSchema = _this$props6.uiSchema;\n    var widgets = registry.widgets,\n      fields = registry.fields,\n      translateString = registry.translateString,\n      globalUiOptions = registry.globalUiOptions,\n      schemaUtils = registry.schemaUtils;\n    var _SchemaField = fields.SchemaField;\n    var _this$state2 = this.state,\n      selectedOption = _this$state2.selectedOption,\n      retrievedOptions = _this$state2.retrievedOptions;\n    var _getUiOptions = getUiOptions(uiSchema, globalUiOptions),\n      _getUiOptions$widget = _getUiOptions.widget,\n      widget = _getUiOptions$widget === void 0 ? 'select' : _getUiOptions$widget,\n      placeholder = _getUiOptions.placeholder,\n      autofocus = _getUiOptions.autofocus,\n      autocomplete = _getUiOptions.autocomplete,\n      _getUiOptions$title = _getUiOptions.title,\n      title = _getUiOptions$title === void 0 ? schema.title : _getUiOptions$title,\n      uiOptions = _objectWithoutPropertiesLoose(_getUiOptions, _excluded$7);\n    var Widget = getWidget({\n      type: 'number'\n    }, widget, widgets);\n    var rawErrors = get(errorSchema, ERRORS_KEY, []);\n    var fieldErrorSchema = omit(errorSchema, [ERRORS_KEY]);\n    var displayLabel = schemaUtils.getDisplayLabel(schema, uiSchema, globalUiOptions);\n    var option = selectedOption >= 0 ? retrievedOptions[selectedOption] || null : null;\n    var optionSchema;\n    if (option) {\n      // If the subschema doesn't declare a type, infer the type from the\n      // parent schema\n      optionSchema = option.type ? option : Object.assign({}, option, {\n        type: baseType\n      });\n    }\n    var translateEnum = title ? TranslatableString.TitleOptionPrefix : TranslatableString.OptionPrefix;\n    var translateParams = title ? [title] : [];\n    var enumOptions = retrievedOptions.map(function (opt, index) {\n      return {\n        label: opt.title || translateString(translateEnum, translateParams.concat(String(index + 1))),\n        value: index\n      };\n    });\n    return jsxs(\"div\", {\n      className: 'panel panel-default panel-body',\n      children: [jsx(\"div\", {\n        className: 'form-group',\n        children: jsx(Widget, {\n          id: this.getFieldId(),\n          name: \"\" + name + (schema.oneOf ? '__oneof_select' : '__anyof_select'),\n          schema: {\n            type: 'number',\n            \"default\": 0\n          },\n          onChange: this.onOptionChange,\n          onBlur: onBlur,\n          onFocus: onFocus,\n          disabled: disabled || isEmpty(enumOptions),\n          multiple: false,\n          rawErrors: rawErrors,\n          errorSchema: fieldErrorSchema,\n          value: selectedOption >= 0 ? selectedOption : undefined,\n          options: _extends({\n            enumOptions: enumOptions\n          }, uiOptions),\n          registry: registry,\n          formContext: formContext,\n          placeholder: placeholder,\n          autocomplete: autocomplete,\n          autofocus: autofocus,\n          label: title != null ? title : name,\n          hideLabel: !displayLabel\n        })\n      }), option !== null && jsx(_SchemaField, _extends({}, this.props, {\n        schema: optionSchema\n      }))]\n    });\n  };\n  return AnyOfField;\n}(Component);\n\n// Matches a string that ends in a . character, optionally followed by a sequence of\n// digits followed by any number of 0 characters up until the end of the line.\n// Ensuring that there is at least one prefixed character is important so that\n// you don't incorrectly match against \"0\".\nvar trailingCharMatcherWithPrefix = /\\.([0-9]*0)*$/;\n// This is used for trimming the trailing 0 and . characters without affecting\n// the rest of the string. Its possible to use one RegEx with groups for this\n// functionality, but it is fairly complex compared to simply defining two\n// different matchers.\nvar trailingCharMatcher = /[0.]0*$/;\n/**\r\n * The NumberField class has some special handling for dealing with trailing\r\n * decimal points and/or zeroes. This logic is designed to allow trailing values\r\n * to be visible in the input element, but not be represented in the\r\n * corresponding form data.\r\n *\r\n * The algorithm is as follows:\r\n *\r\n * 1. When the input value changes the value is cached in the component state\r\n *\r\n * 2. The value is then normalized, removing trailing decimal points and zeros,\r\n *    then passed to the \"onChange\" callback\r\n *\r\n * 3. When the component is rendered, the formData value is checked against the\r\n *    value cached in the state. If it matches the cached value, the cached\r\n *    value is passed to the input instead of the formData value\r\n */\nfunction NumberField(props) {\n  var registry = props.registry,\n    onChange = props.onChange,\n    formData = props.formData,\n    initialValue = props.value;\n  var _useState = useState(initialValue),\n    lastValue = _useState[0],\n    setLastValue = _useState[1];\n  var StringField = registry.fields.StringField;\n  var value = formData;\n  /** Handle the change from the `StringField` to properly convert to a number\r\n   *\r\n   * @param value - The current value for the change occurring\r\n   */\n  var handleChange = useCallback(function (value) {\n    // Cache the original value in component state\n    setLastValue(value);\n    // Normalize decimals that don't start with a zero character in advance so\n    // that the rest of the normalization logic is simpler\n    if ((\"\" + value).charAt(0) === '.') {\n      value = \"0\" + value;\n    }\n    // Check that the value is a string (this can happen if the widget used is a\n    // <select>, due to an enum declaration etc) then, if the value ends in a\n    // trailing decimal point or multiple zeroes, strip the trailing values\n    var processed = typeof value === 'string' && value.match(trailingCharMatcherWithPrefix) ? asNumber(value.replace(trailingCharMatcher, '')) : asNumber(value);\n    onChange(processed);\n  }, [onChange]);\n  if (typeof lastValue === 'string' && typeof value === 'number') {\n    // Construct a regular expression that checks for a string that consists\n    // of the formData value suffixed with zero or one '.' characters and zero\n    // or more '0' characters\n    var re = new RegExp((\"\" + value).replace('.', '\\\\.') + '\\\\.?0*$');\n    // If the cached \"lastValue\" is a match, use that instead of the formData\n    // value to prevent the input value from changing in the UI\n    if (lastValue.match(re)) {\n      value = lastValue;\n    }\n  }\n  return jsx(StringField, _extends({}, props, {\n    formData: value,\n    onChange: handleChange\n  }));\n}\n\n/** The `ObjectField` component is used to render a field in the schema that is of type `object`. It tracks whether an\r\n * additional property key was modified and what it was modified to\r\n *\r\n * @param props - The `FieldProps` for this template\r\n */\nvar ObjectField = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(ObjectField, _Component);\n  function ObjectField() {\n    var _this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    /** Set up the initial state */\n    _this.state = {\n      wasPropertyKeyModified: false,\n      additionalProperties: {}\n    };\n    /** Returns the `onPropertyChange` handler for the `name` field. Handles the special case where a user is attempting\r\n     * to clear the data for a field added as an additional property. Calls the `onChange()` handler with the updated\r\n     * formData.\r\n     *\r\n     * @param name - The name of the property\r\n     * @param addedByAdditionalProperties - Flag indicating whether this property is an additional property\r\n     * @returns - The onPropertyChange callback for the `name` property\r\n     */\n    _this.onPropertyChange = function (name, addedByAdditionalProperties) {\n      if (addedByAdditionalProperties === void 0) {\n        addedByAdditionalProperties = false;\n      }\n      return function (value, newErrorSchema, id) {\n        var _extends2, _extends3;\n        var _this$props = _this.props,\n          formData = _this$props.formData,\n          onChange = _this$props.onChange,\n          errorSchema = _this$props.errorSchema;\n        if (value === undefined && addedByAdditionalProperties) {\n          // Don't set value = undefined for fields added by\n          // additionalProperties. Doing so removes them from the\n          // formData, which causes them to completely disappear\n          // (including the input field for the property name). Unlike\n          // fields which are \"mandated\" by the schema, these fields can\n          // be set to undefined by clicking a \"delete field\" button, so\n          // set empty values to the empty string.\n          value = '';\n        }\n        var newFormData = _extends({}, formData, (_extends2 = {}, _extends2[name] = value, _extends2));\n        onChange(newFormData, errorSchema && errorSchema && _extends({}, errorSchema, (_extends3 = {}, _extends3[name] = newErrorSchema, _extends3)), id);\n      };\n    };\n    /** Returns a callback to handle the onDropPropertyClick event for the given `key` which removes the old `key` data\r\n     * and calls the `onChange` callback with it\r\n     *\r\n     * @param key - The key for which the drop callback is desired\r\n     * @returns - The drop property click callback\r\n     */\n    _this.onDropPropertyClick = function (key) {\n      return function (event) {\n        event.preventDefault();\n        var _this$props2 = _this.props,\n          onChange = _this$props2.onChange,\n          formData = _this$props2.formData;\n        var copiedFormData = _extends({}, formData);\n        unset(copiedFormData, key);\n        onChange(copiedFormData);\n      };\n    };\n    /** Computes the next available key name from the `preferredKey`, indexing through the already existing keys until one\r\n     * that is already not assigned is found.\r\n     *\r\n     * @param preferredKey - The preferred name of a new key\r\n     * @param [formData] - The form data in which to check if the desired key already exists\r\n     * @returns - The name of the next available key from `preferredKey`\r\n     */\n    _this.getAvailableKey = function (preferredKey, formData) {\n      var _this$props3 = _this.props,\n        uiSchema = _this$props3.uiSchema,\n        registry = _this$props3.registry;\n      var _getUiOptions = getUiOptions(uiSchema, registry.globalUiOptions),\n        _getUiOptions$duplica = _getUiOptions.duplicateKeySuffixSeparator,\n        duplicateKeySuffixSeparator = _getUiOptions$duplica === void 0 ? '-' : _getUiOptions$duplica;\n      var index = 0;\n      var newKey = preferredKey;\n      while (has(formData, newKey)) {\n        newKey = \"\" + preferredKey + duplicateKeySuffixSeparator + ++index;\n      }\n      return newKey;\n    };\n    /** Returns a callback function that deals with the rename of a key for an additional property for a schema. That\r\n     * callback will attempt to rename the key and move the existing data to that key, calling `onChange` when it does.\r\n     *\r\n     * @param oldValue - The old value of a field\r\n     * @returns - The key change callback function\r\n     */\n    _this.onKeyChange = function (oldValue) {\n      return function (value, newErrorSchema) {\n        var _newKeys, _extends4;\n        if (oldValue === value) {\n          return;\n        }\n        var _this$props4 = _this.props,\n          formData = _this$props4.formData,\n          onChange = _this$props4.onChange,\n          errorSchema = _this$props4.errorSchema;\n        value = _this.getAvailableKey(value, formData);\n        var newFormData = _extends({}, formData);\n        var newKeys = (_newKeys = {}, _newKeys[oldValue] = value, _newKeys);\n        var keyValues = Object.keys(newFormData).map(function (key) {\n          var _ref;\n          var newKey = newKeys[key] || key;\n          return _ref = {}, _ref[newKey] = newFormData[key], _ref;\n        });\n        var renamedObj = Object.assign.apply(Object, [{}].concat(keyValues));\n        _this.setState({\n          wasPropertyKeyModified: true\n        });\n        onChange(renamedObj, errorSchema && errorSchema && _extends({}, errorSchema, (_extends4 = {}, _extends4[value] = newErrorSchema, _extends4)));\n      };\n    };\n    /** Handles the adding of a new additional property on the given `schema`. Calls the `onChange` callback once the new\r\n     * default data for that field has been added to the formData.\r\n     *\r\n     * @param schema - The schema element to which the new property is being added\r\n     */\n    _this.handleAddClick = function (schema) {\n      return function () {\n        if (!schema.additionalProperties) {\n          return;\n        }\n        var _this$props5 = _this.props,\n          formData = _this$props5.formData,\n          onChange = _this$props5.onChange,\n          registry = _this$props5.registry;\n        var newFormData = _extends({}, formData);\n        var type = undefined;\n        if (isObject(schema.additionalProperties)) {\n          type = schema.additionalProperties.type;\n          var apSchema = schema.additionalProperties;\n          if (REF_KEY in apSchema) {\n            var schemaUtils = registry.schemaUtils;\n            apSchema = schemaUtils.retrieveSchema({\n              $ref: apSchema[REF_KEY]\n            }, formData);\n            type = apSchema.type;\n          }\n          if (!type && (ANY_OF_KEY in apSchema || ONE_OF_KEY in apSchema)) {\n            type = 'object';\n          }\n        }\n        var newKey = _this.getAvailableKey('newKey', newFormData);\n        // Cast this to make the `set` work properly\n        set(newFormData, newKey, _this.getDefaultValue(type));\n        onChange(newFormData);\n      };\n    };\n    return _this;\n  }\n  var _proto = ObjectField.prototype;\n  /** Returns a flag indicating whether the `name` field is required in the object schema\r\n   *\r\n   * @param name - The name of the field to check for required-ness\r\n   * @returns - True if the field `name` is required, false otherwise\r\n   */\n  _proto.isRequired = function isRequired(name) {\n    var schema = this.props.schema;\n    return Array.isArray(schema.required) && schema.required.indexOf(name) !== -1;\n  };\n  /** Returns a default value to be used for a new additional schema property of the given `type`\r\n   *\r\n   * @param type - The type of the new additional schema property\r\n   */\n  _proto.getDefaultValue = function getDefaultValue(type) {\n    var translateString = this.props.registry.translateString;\n    switch (type) {\n      case 'array':\n        return [];\n      case 'boolean':\n        return false;\n      case 'null':\n        return null;\n      case 'number':\n        return 0;\n      case 'object':\n        return {};\n      case 'string':\n      default:\n        // We don't have a datatype for some reason (perhaps additionalProperties was true)\n        return translateString(TranslatableString.NewStringDefault);\n    }\n  };\n  /** Renders the `ObjectField` from the given props\r\n   */\n  _proto.render = function render() {\n    var _ref2,\n      _uiOptions$title,\n      _uiOptions$descriptio,\n      _this2 = this;\n    var _this$props6 = this.props,\n      rawSchema = _this$props6.schema,\n      _this$props6$uiSchema = _this$props6.uiSchema,\n      uiSchema = _this$props6$uiSchema === void 0 ? {} : _this$props6$uiSchema,\n      formData = _this$props6.formData,\n      errorSchema = _this$props6.errorSchema,\n      idSchema = _this$props6.idSchema,\n      name = _this$props6.name,\n      _this$props6$required = _this$props6.required,\n      required = _this$props6$required === void 0 ? false : _this$props6$required,\n      _this$props6$disabled = _this$props6.disabled,\n      disabled = _this$props6$disabled === void 0 ? false : _this$props6$disabled,\n      _this$props6$readonly = _this$props6.readonly,\n      readonly = _this$props6$readonly === void 0 ? false : _this$props6$readonly,\n      hideError = _this$props6.hideError,\n      idPrefix = _this$props6.idPrefix,\n      idSeparator = _this$props6.idSeparator,\n      onBlur = _this$props6.onBlur,\n      onFocus = _this$props6.onFocus,\n      registry = _this$props6.registry;\n    var fields = registry.fields,\n      formContext = registry.formContext,\n      schemaUtils = registry.schemaUtils,\n      translateString = registry.translateString,\n      globalUiOptions = registry.globalUiOptions;\n    var SchemaField = fields.SchemaField;\n    var schema = schemaUtils.retrieveSchema(rawSchema, formData);\n    var uiOptions = getUiOptions(uiSchema, globalUiOptions);\n    var _schema$properties = schema.properties,\n      schemaProperties = _schema$properties === void 0 ? {} : _schema$properties;\n    var title = (_ref2 = (_uiOptions$title = uiOptions.title) != null ? _uiOptions$title : schema.title) != null ? _ref2 : name;\n    var description = (_uiOptions$descriptio = uiOptions.description) != null ? _uiOptions$descriptio : schema.description;\n    var orderedProperties;\n    try {\n      var properties = Object.keys(schemaProperties);\n      orderedProperties = orderProperties(properties, uiOptions.order);\n    } catch (err) {\n      return jsxs(\"div\", {\n        children: [jsx(\"p\", {\n          className: 'config-error',\n          style: {\n            color: 'red'\n          },\n          children: jsx(Markdown, {\n            children: translateString(TranslatableString.InvalidObjectField, [name || 'root', err.message])\n          })\n        }), jsx(\"pre\", {\n          children: JSON.stringify(schema)\n        })]\n      });\n    }\n    var Template = getTemplate('ObjectFieldTemplate', registry, uiOptions);\n    var templateProps = {\n      // getDisplayLabel() always returns false for object types, so just check the `uiOptions.label`\n      title: uiOptions.label === false ? '' : title,\n      description: uiOptions.label === false ? undefined : description,\n      properties: orderedProperties.map(function (name) {\n        var addedByAdditionalProperties = has(schema, [PROPERTIES_KEY, name, ADDITIONAL_PROPERTY_FLAG]);\n        var fieldUiSchema = addedByAdditionalProperties ? uiSchema.additionalProperties : uiSchema[name];\n        var hidden = getUiOptions(fieldUiSchema).widget === 'hidden';\n        var fieldIdSchema = get(idSchema, [name], {});\n        return {\n          content: jsx(SchemaField, {\n            name: name,\n            required: _this2.isRequired(name),\n            schema: get(schema, [PROPERTIES_KEY, name], {}),\n            uiSchema: fieldUiSchema,\n            errorSchema: get(errorSchema, name),\n            idSchema: fieldIdSchema,\n            idPrefix: idPrefix,\n            idSeparator: idSeparator,\n            formData: get(formData, name),\n            formContext: formContext,\n            wasPropertyKeyModified: _this2.state.wasPropertyKeyModified,\n            onKeyChange: _this2.onKeyChange(name),\n            onChange: _this2.onPropertyChange(name, addedByAdditionalProperties),\n            onBlur: onBlur,\n            onFocus: onFocus,\n            registry: registry,\n            disabled: disabled,\n            readonly: readonly,\n            hideError: hideError,\n            onDropPropertyClick: _this2.onDropPropertyClick\n          }, name),\n          name: name,\n          readonly: readonly,\n          disabled: disabled,\n          required: required,\n          hidden: hidden\n        };\n      }),\n      readonly: readonly,\n      disabled: disabled,\n      required: required,\n      idSchema: idSchema,\n      uiSchema: uiSchema,\n      errorSchema: errorSchema,\n      schema: schema,\n      formData: formData,\n      formContext: formContext,\n      registry: registry\n    };\n    return jsx(Template, _extends({}, templateProps, {\n      onAddClick: this.handleAddClick\n    }));\n  };\n  return ObjectField;\n}(Component);\n\nvar _excluded$6 = [\"__errors\"];\n/** The map of component type to FieldName */\nvar COMPONENT_TYPES = {\n  array: 'ArrayField',\n  \"boolean\": 'BooleanField',\n  integer: 'NumberField',\n  number: 'NumberField',\n  object: 'ObjectField',\n  string: 'StringField',\n  \"null\": 'NullField'\n};\n/** Computes and returns which `Field` implementation to return in order to render the field represented by the\r\n * `schema`. The `uiOptions` are used to alter what potential `Field` implementation is actually returned. If no\r\n * appropriate `Field` implementation can be found then a wrapper around `UnsupportedFieldTemplate` is used.\r\n *\r\n * @param schema - The schema from which to obtain the type\r\n * @param uiOptions - The UI Options that may affect the component decision\r\n * @param idSchema - The id that is passed to the `UnsupportedFieldTemplate`\r\n * @param registry - The registry from which fields and templates are obtained\r\n * @returns - The `Field` component that is used to render the actual field data\r\n */\nfunction getFieldComponent(schema, uiOptions, idSchema, registry) {\n  var field = uiOptions.field;\n  var fields = registry.fields,\n    translateString = registry.translateString;\n  if (typeof field === 'function') {\n    return field;\n  }\n  if (typeof field === 'string' && field in fields) {\n    return fields[field];\n  }\n  var schemaType = getSchemaType(schema);\n  var type = Array.isArray(schemaType) ? schemaType[0] : schemaType || '';\n  var componentName = COMPONENT_TYPES[type];\n  // If the type is not defined and the schema uses 'anyOf' or 'oneOf', don't\n  // render a field and let the MultiSchemaField component handle the form display\n  if (!componentName && (schema.anyOf || schema.oneOf)) {\n    return function () {\n      return null;\n    };\n  }\n  return componentName in fields ? fields[componentName] : function () {\n    var UnsupportedFieldTemplate = getTemplate('UnsupportedFieldTemplate', registry, uiOptions);\n    return jsx(UnsupportedFieldTemplate, {\n      schema: schema,\n      idSchema: idSchema,\n      reason: translateString(TranslatableString.UnknownFieldType, [String(schema.type)]),\n      registry: registry\n    });\n  };\n}\n/** The `SchemaFieldRender` component is the work-horse of react-jsonschema-form, determining what kind of real field to\r\n * render based on the `schema`, `uiSchema` and all the other props. It also deals with rendering the `anyOf` and\r\n * `oneOf` fields.\r\n *\r\n * @param props - The `FieldProps` for this component\r\n */\nfunction SchemaFieldRender(props) {\n  var _schema = props.schema,\n    _idSchema = props.idSchema,\n    uiSchema = props.uiSchema,\n    formData = props.formData,\n    errorSchema = props.errorSchema,\n    idPrefix = props.idPrefix,\n    idSeparator = props.idSeparator,\n    name = props.name,\n    onChange = props.onChange,\n    onKeyChange = props.onKeyChange,\n    onDropPropertyClick = props.onDropPropertyClick,\n    required = props.required,\n    registry = props.registry,\n    _props$wasPropertyKey = props.wasPropertyKeyModified,\n    wasPropertyKeyModified = _props$wasPropertyKey === void 0 ? false : _props$wasPropertyKey;\n  var formContext = registry.formContext,\n    schemaUtils = registry.schemaUtils,\n    globalUiOptions = registry.globalUiOptions;\n  var uiOptions = getUiOptions(uiSchema, globalUiOptions);\n  var FieldTemplate = getTemplate('FieldTemplate', registry, uiOptions);\n  var DescriptionFieldTemplate = getTemplate('DescriptionFieldTemplate', registry, uiOptions);\n  var FieldHelpTemplate = getTemplate('FieldHelpTemplate', registry, uiOptions);\n  var FieldErrorTemplate = getTemplate('FieldErrorTemplate', registry, uiOptions);\n  var schema = schemaUtils.retrieveSchema(_schema, formData);\n  var fieldId = _idSchema[ID_KEY];\n  var idSchema = mergeObjects(schemaUtils.toIdSchema(schema, fieldId, formData, idPrefix, idSeparator), _idSchema);\n  /** Intermediary `onChange` handler for field components that will inject the `id` of the current field into the\r\n   * `onChange` chain if it is not already being provided from a deeper level in the hierarchy\r\n   */\n  var handleFieldComponentChange = useCallback(function (formData, newErrorSchema, id) {\n    var theId = id || fieldId;\n    return onChange(formData, newErrorSchema, theId);\n  }, [fieldId, onChange]);\n  var FieldComponent = getFieldComponent(schema, uiOptions, idSchema, registry);\n  var disabled = Boolean(props.disabled || uiOptions.disabled);\n  var readonly = Boolean(props.readonly || uiOptions.readonly || props.schema.readOnly || schema.readOnly);\n  var uiSchemaHideError = uiOptions.hideError;\n  // Set hideError to the value provided in the uiSchema, otherwise stick with the prop to propagate to children\n  var hideError = uiSchemaHideError === undefined ? props.hideError : Boolean(uiSchemaHideError);\n  var autofocus = Boolean(props.autofocus || uiOptions.autofocus);\n  if (Object.keys(schema).length === 0) {\n    return null;\n  }\n  var displayLabel = schemaUtils.getDisplayLabel(schema, uiSchema, globalUiOptions);\n  var _ref = errorSchema || {},\n    __errors = _ref.__errors,\n    fieldErrorSchema = _objectWithoutPropertiesLoose(_ref, _excluded$6);\n  // See #439: uiSchema: Don't pass consumed class names or style to child components\n  var fieldUiSchema = omit(uiSchema, ['ui:classNames', 'classNames', 'ui:style']);\n  if (UI_OPTIONS_KEY in fieldUiSchema) {\n    fieldUiSchema[UI_OPTIONS_KEY] = omit(fieldUiSchema[UI_OPTIONS_KEY], ['classNames', 'style']);\n  }\n  var field = jsx(FieldComponent, _extends({}, props, {\n    onChange: handleFieldComponentChange,\n    idSchema: idSchema,\n    schema: schema,\n    uiSchema: fieldUiSchema,\n    disabled: disabled,\n    readonly: readonly,\n    hideError: hideError,\n    autofocus: autofocus,\n    errorSchema: fieldErrorSchema,\n    formContext: formContext,\n    rawErrors: __errors\n  }));\n  var id = idSchema[ID_KEY];\n  // If this schema has a title defined, but the user has set a new key/label, retain their input.\n  var label;\n  if (wasPropertyKeyModified) {\n    label = name;\n  } else {\n    label = ADDITIONAL_PROPERTY_FLAG in schema ? name : uiOptions.title || props.schema.title || schema.title || name;\n  }\n  var description = uiOptions.description || props.schema.description || schema.description || '';\n  var help = uiOptions.help;\n  var hidden = uiOptions.widget === 'hidden';\n  var classNames = ['form-group', 'field', \"field-\" + getSchemaType(schema)];\n  if (!hideError && __errors && __errors.length > 0) {\n    classNames.push('field-error has-error has-danger');\n  }\n  if (uiSchema !== null && uiSchema !== void 0 && uiSchema.classNames) {\n    if (process.env.NODE_ENV !== 'production') {\n      console.warn(\"'uiSchema.classNames' is deprecated and may be removed in a major release; Use 'ui:classNames' instead.\");\n    }\n    classNames.push(uiSchema.classNames);\n  }\n  if (uiOptions.classNames) {\n    classNames.push(uiOptions.classNames);\n  }\n  var helpComponent = jsx(FieldHelpTemplate, {\n    help: help,\n    idSchema: idSchema,\n    schema: schema,\n    uiSchema: uiSchema,\n    hasErrors: !hideError && __errors && __errors.length > 0,\n    registry: registry\n  });\n  var errorsComponent = hideError ? undefined : jsx(FieldErrorTemplate, {\n    errors: __errors,\n    errorSchema: errorSchema,\n    idSchema: idSchema,\n    schema: schema,\n    uiSchema: uiSchema,\n    registry: registry\n  });\n  var fieldProps = {\n    description: jsx(DescriptionFieldTemplate, {\n      id: descriptionId(id),\n      description: description,\n      schema: schema,\n      uiSchema: uiSchema,\n      registry: registry\n    }),\n    rawDescription: description,\n    help: helpComponent,\n    rawHelp: typeof help === 'string' ? help : undefined,\n    errors: errorsComponent,\n    rawErrors: hideError ? undefined : __errors,\n    id: id,\n    label: label,\n    hidden: hidden,\n    onChange: onChange,\n    onKeyChange: onKeyChange,\n    onDropPropertyClick: onDropPropertyClick,\n    required: required,\n    disabled: disabled,\n    readonly: readonly,\n    hideError: hideError,\n    displayLabel: displayLabel,\n    classNames: classNames.join(' ').trim(),\n    style: uiOptions.style,\n    formContext: formContext,\n    formData: formData,\n    schema: schema,\n    uiSchema: uiSchema,\n    registry: registry\n  };\n  var _AnyOfField = registry.fields.AnyOfField;\n  var _OneOfField = registry.fields.OneOfField;\n  var isReplacingAnyOrOneOf = (uiSchema === null || uiSchema === void 0 ? void 0 : uiSchema['ui:field']) && (uiSchema === null || uiSchema === void 0 ? void 0 : uiSchema['ui:fieldReplacesAnyOrOneOf']) === true;\n  return jsx(FieldTemplate, _extends({}, fieldProps, {\n    children: jsxs(Fragment, {\n      children: [field, schema.anyOf && !isReplacingAnyOrOneOf && !schemaUtils.isSelect(schema) && jsx(_AnyOfField, {\n        name: name,\n        disabled: disabled,\n        readonly: readonly,\n        hideError: hideError,\n        errorSchema: errorSchema,\n        formData: formData,\n        formContext: formContext,\n        idPrefix: idPrefix,\n        idSchema: idSchema,\n        idSeparator: idSeparator,\n        onBlur: props.onBlur,\n        onChange: props.onChange,\n        onFocus: props.onFocus,\n        options: schema.anyOf.map(function (_schema) {\n          return schemaUtils.retrieveSchema(isObject(_schema) ? _schema : {}, formData);\n        }),\n        baseType: schema.type,\n        registry: registry,\n        schema: schema,\n        uiSchema: uiSchema\n      }), schema.oneOf && !isReplacingAnyOrOneOf && !schemaUtils.isSelect(schema) && jsx(_OneOfField, {\n        name: name,\n        disabled: disabled,\n        readonly: readonly,\n        hideError: hideError,\n        errorSchema: errorSchema,\n        formData: formData,\n        formContext: formContext,\n        idPrefix: idPrefix,\n        idSchema: idSchema,\n        idSeparator: idSeparator,\n        onBlur: props.onBlur,\n        onChange: props.onChange,\n        onFocus: props.onFocus,\n        options: schema.oneOf.map(function (_schema) {\n          return schemaUtils.retrieveSchema(isObject(_schema) ? _schema : {}, formData);\n        }),\n        baseType: schema.type,\n        registry: registry,\n        schema: schema,\n        uiSchema: uiSchema\n      })]\n    })\n  }));\n}\n/** The `SchemaField` component determines whether it is necessary to rerender the component based on any props changes\r\n * and if so, calls the `SchemaFieldRender` component with the props.\r\n */\nvar SchemaField = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(SchemaField, _Component);\n  function SchemaField() {\n    return _Component.apply(this, arguments) || this;\n  }\n  var _proto = SchemaField.prototype;\n  _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n    return !deepEquals(this.props, nextProps);\n  };\n  _proto.render = function render() {\n    return jsx(SchemaFieldRender, _extends({}, this.props));\n  };\n  return SchemaField;\n}(Component);\n\nvar _excluded$5 = [\"widget\", \"placeholder\", \"title\"];\n/** The `StringField` component is used to render a schema field that represents a string type\r\n *\r\n * @param props - The `FieldProps` for this template\r\n */\nfunction StringField(props) {\n  var _ref;\n  var schema = props.schema,\n    name = props.name,\n    uiSchema = props.uiSchema,\n    idSchema = props.idSchema,\n    formData = props.formData,\n    required = props.required,\n    _props$disabled = props.disabled,\n    disabled = _props$disabled === void 0 ? false : _props$disabled,\n    _props$readonly = props.readonly,\n    readonly = _props$readonly === void 0 ? false : _props$readonly,\n    _props$autofocus = props.autofocus,\n    autofocus = _props$autofocus === void 0 ? false : _props$autofocus,\n    onChange = props.onChange,\n    onBlur = props.onBlur,\n    onFocus = props.onFocus,\n    registry = props.registry,\n    rawErrors = props.rawErrors;\n  var title = schema.title,\n    format = schema.format;\n  var widgets = registry.widgets,\n    formContext = registry.formContext,\n    schemaUtils = registry.schemaUtils,\n    globalUiOptions = registry.globalUiOptions;\n  var enumOptions = schemaUtils.isSelect(schema) ? optionsList(schema) : undefined;\n  var defaultWidget = enumOptions ? 'select' : 'text';\n  if (format && hasWidget(schema, format, widgets)) {\n    defaultWidget = format;\n  }\n  var _getUiOptions = getUiOptions(uiSchema),\n    _getUiOptions$widget = _getUiOptions.widget,\n    widget = _getUiOptions$widget === void 0 ? defaultWidget : _getUiOptions$widget,\n    _getUiOptions$placeho = _getUiOptions.placeholder,\n    placeholder = _getUiOptions$placeho === void 0 ? '' : _getUiOptions$placeho,\n    uiTitle = _getUiOptions.title,\n    options = _objectWithoutPropertiesLoose(_getUiOptions, _excluded$5);\n  var displayLabel = schemaUtils.getDisplayLabel(schema, uiSchema, globalUiOptions);\n  var label = (_ref = uiTitle != null ? uiTitle : title) != null ? _ref : name;\n  var Widget = getWidget(schema, widget, widgets);\n  return jsx(Widget, {\n    options: _extends({}, options, {\n      enumOptions: enumOptions\n    }),\n    schema: schema,\n    uiSchema: uiSchema,\n    id: idSchema.$id,\n    name: name,\n    label: label,\n    hideLabel: !displayLabel,\n    value: formData,\n    onChange: onChange,\n    onBlur: onBlur,\n    onFocus: onFocus,\n    required: required,\n    disabled: disabled,\n    readonly: readonly,\n    formContext: formContext,\n    autofocus: autofocus,\n    registry: registry,\n    placeholder: placeholder,\n    rawErrors: rawErrors\n  });\n}\n\n/** The `NullField` component is used to render a field in the schema is null. It also ensures that the `formData` is\r\n * also set to null if it has no value.\r\n *\r\n * @param props - The `FieldProps` for this template\r\n */\nfunction NullField(props) {\n  var formData = props.formData,\n    onChange = props.onChange;\n  useEffect(function () {\n    if (formData === undefined) {\n      onChange(null);\n    }\n  }, [formData, onChange]);\n  return null;\n}\n\nfunction fields() {\n  return {\n    AnyOfField: AnyOfField,\n    ArrayField: ArrayField,\n    // ArrayField falls back to SchemaField if ArraySchemaField is not defined, which it isn't by default\n    BooleanField: BooleanField,\n    NumberField: NumberField,\n    ObjectField: ObjectField,\n    OneOfField: AnyOfField,\n    SchemaField: SchemaField,\n    StringField: StringField,\n    NullField: NullField\n  };\n}\n\n/** The `ArrayFieldDescriptionTemplate` component renders a `DescriptionFieldTemplate` with an `id` derived from\r\n * the `idSchema`.\r\n *\r\n * @param props - The `ArrayFieldDescriptionProps` for the component\r\n */\nfunction ArrayFieldDescriptionTemplate(props) {\n  var idSchema = props.idSchema,\n    description = props.description,\n    registry = props.registry,\n    schema = props.schema,\n    uiSchema = props.uiSchema;\n  var options = getUiOptions(uiSchema, registry.globalUiOptions);\n  var _options$label = options.label,\n    displayLabel = _options$label === void 0 ? true : _options$label;\n  if (!description || !displayLabel) {\n    return null;\n  }\n  var DescriptionFieldTemplate = getTemplate('DescriptionFieldTemplate', registry, options);\n  return jsx(DescriptionFieldTemplate, {\n    id: descriptionId(idSchema),\n    description: description,\n    schema: schema,\n    uiSchema: uiSchema,\n    registry: registry\n  });\n}\n\n/** The `ArrayFieldItemTemplate` component is the template used to render an items of an array.\r\n *\r\n * @param props - The `ArrayFieldTemplateItemType` props for the component\r\n */\nfunction ArrayFieldItemTemplate(props) {\n  var children = props.children,\n    className = props.className,\n    disabled = props.disabled,\n    hasToolbar = props.hasToolbar,\n    hasMoveDown = props.hasMoveDown,\n    hasMoveUp = props.hasMoveUp,\n    hasRemove = props.hasRemove,\n    hasCopy = props.hasCopy,\n    index = props.index,\n    onCopyIndexClick = props.onCopyIndexClick,\n    onDropIndexClick = props.onDropIndexClick,\n    onReorderClick = props.onReorderClick,\n    readonly = props.readonly,\n    registry = props.registry,\n    uiSchema = props.uiSchema;\n  var _registry$templates$B = registry.templates.ButtonTemplates,\n    CopyButton = _registry$templates$B.CopyButton,\n    MoveDownButton = _registry$templates$B.MoveDownButton,\n    MoveUpButton = _registry$templates$B.MoveUpButton,\n    RemoveButton = _registry$templates$B.RemoveButton;\n  var btnStyle = {\n    flex: 1,\n    paddingLeft: 6,\n    paddingRight: 6,\n    fontWeight: 'bold'\n  };\n  return jsxs(\"div\", {\n    className: className,\n    children: [jsx(\"div\", {\n      className: hasToolbar ? 'col-xs-9' : 'col-xs-12',\n      children: children\n    }), hasToolbar && jsx(\"div\", {\n      className: 'col-xs-3 array-item-toolbox',\n      children: jsxs(\"div\", {\n        className: 'btn-group',\n        style: {\n          display: 'flex',\n          justifyContent: 'space-around'\n        },\n        children: [(hasMoveUp || hasMoveDown) && jsx(MoveUpButton, {\n          style: btnStyle,\n          disabled: disabled || readonly || !hasMoveUp,\n          onClick: onReorderClick(index, index - 1),\n          uiSchema: uiSchema,\n          registry: registry\n        }), (hasMoveUp || hasMoveDown) && jsx(MoveDownButton, {\n          style: btnStyle,\n          disabled: disabled || readonly || !hasMoveDown,\n          onClick: onReorderClick(index, index + 1),\n          uiSchema: uiSchema,\n          registry: registry\n        }), hasCopy && jsx(CopyButton, {\n          style: btnStyle,\n          disabled: disabled || readonly,\n          onClick: onCopyIndexClick(index),\n          uiSchema: uiSchema,\n          registry: registry\n        }), hasRemove && jsx(RemoveButton, {\n          style: btnStyle,\n          disabled: disabled || readonly,\n          onClick: onDropIndexClick(index),\n          uiSchema: uiSchema,\n          registry: registry\n        })]\n      })\n    })]\n  });\n}\n\nvar _excluded$4 = [\"key\"];\n/** The `ArrayFieldTemplate` component is the template used to render all items in an array.\r\n *\r\n * @param props - The `ArrayFieldTemplateItemType` props for the component\r\n */\nfunction ArrayFieldTemplate(props) {\n  var canAdd = props.canAdd,\n    className = props.className,\n    disabled = props.disabled,\n    idSchema = props.idSchema,\n    uiSchema = props.uiSchema,\n    items = props.items,\n    onAddClick = props.onAddClick,\n    readonly = props.readonly,\n    registry = props.registry,\n    required = props.required,\n    schema = props.schema,\n    title = props.title;\n  var uiOptions = getUiOptions(uiSchema);\n  var ArrayFieldDescriptionTemplate = getTemplate('ArrayFieldDescriptionTemplate', registry, uiOptions);\n  var ArrayFieldItemTemplate = getTemplate('ArrayFieldItemTemplate', registry, uiOptions);\n  var ArrayFieldTitleTemplate = getTemplate('ArrayFieldTitleTemplate', registry, uiOptions);\n  // Button templates are not overridden in the uiSchema\n  var AddButton = registry.templates.ButtonTemplates.AddButton;\n  return jsxs(\"fieldset\", {\n    className: className,\n    id: idSchema.$id,\n    children: [jsx(ArrayFieldTitleTemplate, {\n      idSchema: idSchema,\n      title: uiOptions.title || title,\n      required: required,\n      schema: schema,\n      uiSchema: uiSchema,\n      registry: registry\n    }), jsx(ArrayFieldDescriptionTemplate, {\n      idSchema: idSchema,\n      description: uiOptions.description || schema.description,\n      schema: schema,\n      uiSchema: uiSchema,\n      registry: registry\n    }), jsx(\"div\", {\n      className: 'row array-item-list',\n      children: items && items.map(function (_ref) {\n        var key = _ref.key,\n          itemProps = _objectWithoutPropertiesLoose(_ref, _excluded$4);\n        return jsx(ArrayFieldItemTemplate, _extends({}, itemProps), key);\n      })\n    }), canAdd && jsx(AddButton, {\n      className: 'array-item-add',\n      onClick: onAddClick,\n      disabled: disabled || readonly,\n      uiSchema: uiSchema,\n      registry: registry\n    })]\n  });\n}\n\n/** The `ArrayFieldTitleTemplate` component renders a `TitleFieldTemplate` with an `id` derived from\r\n * the `idSchema`.\r\n *\r\n * @param props - The `ArrayFieldTitleProps` for the component\r\n */\nfunction ArrayFieldTitleTemplate(props) {\n  var idSchema = props.idSchema,\n    title = props.title,\n    schema = props.schema,\n    uiSchema = props.uiSchema,\n    required = props.required,\n    registry = props.registry;\n  var options = getUiOptions(uiSchema, registry.globalUiOptions);\n  var _options$label = options.label,\n    displayLabel = _options$label === void 0 ? true : _options$label;\n  if (!title || !displayLabel) {\n    return null;\n  }\n  var TitleFieldTemplate = getTemplate('TitleFieldTemplate', registry, options);\n  return jsx(TitleFieldTemplate, {\n    id: titleId(idSchema),\n    title: title,\n    required: required,\n    schema: schema,\n    uiSchema: uiSchema,\n    registry: registry\n  });\n}\n\nvar _excluded$3 = [\"id\", \"name\", \"value\", \"readonly\", \"disabled\", \"autofocus\", \"onBlur\", \"onFocus\", \"onChange\", \"onChangeOverride\", \"options\", \"schema\", \"uiSchema\", \"formContext\", \"registry\", \"rawErrors\", \"type\", \"hideLabel\", \"hideError\"];\n/** The `BaseInputTemplate` is the template to use to render the basic `<input>` component for the `core` theme.\r\n * It is used as the template for rendering many of the <input> based widgets that differ by `type` and callbacks only.\r\n * It can be customized/overridden for other themes or individual implementations as needed.\r\n *\r\n * @param props - The `WidgetProps` for this template\r\n */\nfunction BaseInputTemplate(props) {\n  var id = props.id,\n    value = props.value,\n    readonly = props.readonly,\n    disabled = props.disabled,\n    autofocus = props.autofocus,\n    onBlur = props.onBlur,\n    onFocus = props.onFocus,\n    onChange = props.onChange,\n    onChangeOverride = props.onChangeOverride,\n    options = props.options,\n    schema = props.schema,\n    type = props.type,\n    rest = _objectWithoutPropertiesLoose(props, _excluded$3);\n  // Note: since React 15.2.0 we can't forward unknown element attributes, so we\n  // exclude the \"options\" and \"schema\" ones here.\n  if (!id) {\n    console.log('No id for', props);\n    throw new Error(\"no id for props \" + JSON.stringify(props));\n  }\n  var inputProps = _extends({}, rest, getInputProps(schema, type, options));\n  var inputValue;\n  if (inputProps.type === 'number' || inputProps.type === 'integer') {\n    inputValue = value || value === 0 ? value : '';\n  } else {\n    inputValue = value == null ? '' : value;\n  }\n  var _onChange = useCallback(function (_ref) {\n    var value = _ref.target.value;\n    return onChange(value === '' ? options.emptyValue : value);\n  }, [onChange, options]);\n  var _onBlur = useCallback(function (_ref2) {\n    var value = _ref2.target.value;\n    return onBlur(id, value);\n  }, [onBlur, id]);\n  var _onFocus = useCallback(function (_ref3) {\n    var value = _ref3.target.value;\n    return onFocus(id, value);\n  }, [onFocus, id]);\n  return jsxs(Fragment, {\n    children: [jsx(\"input\", _extends({\n      id: id,\n      name: id,\n      className: 'form-control',\n      readOnly: readonly,\n      disabled: disabled,\n      autoFocus: autofocus,\n      value: inputValue\n    }, inputProps, {\n      list: schema.examples ? examplesId(id) : undefined,\n      onChange: onChangeOverride || _onChange,\n      onBlur: _onBlur,\n      onFocus: _onFocus,\n      \"aria-describedby\": ariaDescribedByIds(id, !!schema.examples)\n    })), Array.isArray(schema.examples) && jsx(\"datalist\", {\n      id: examplesId(id),\n      children: schema.examples.concat(schema[\"default\"] && !schema.examples.includes(schema[\"default\"]) ? [schema[\"default\"]] : []).map(function (example) {\n        return jsx(\"option\", {\n          value: example\n        }, example);\n      })\n    }, \"datalist_\" + id)]\n  });\n}\n\n/** The `SubmitButton` renders a button that represent the `Submit` action on a form\r\n */\nfunction SubmitButton(_ref) {\n  var uiSchema = _ref.uiSchema;\n  var _getSubmitButtonOptio = getSubmitButtonOptions(uiSchema),\n    submitText = _getSubmitButtonOptio.submitText,\n    norender = _getSubmitButtonOptio.norender,\n    _getSubmitButtonOptio2 = _getSubmitButtonOptio.props,\n    submitButtonProps = _getSubmitButtonOptio2 === void 0 ? {} : _getSubmitButtonOptio2;\n  if (norender) {\n    return null;\n  }\n  return jsx(\"div\", {\n    children: jsx(\"button\", _extends({\n      type: 'submit'\n    }, submitButtonProps, {\n      className: \"btn btn-info \" + (submitButtonProps.className || ''),\n      children: submitText\n    }))\n  });\n}\n\nvar _excluded$2 = [\"iconType\", \"icon\", \"className\", \"uiSchema\", \"registry\"];\nfunction IconButton(props) {\n  var _props$iconType = props.iconType,\n    iconType = _props$iconType === void 0 ? 'default' : _props$iconType,\n    icon = props.icon,\n    className = props.className,\n    otherProps = _objectWithoutPropertiesLoose(props, _excluded$2);\n  return jsx(\"button\", _extends({\n    type: 'button',\n    className: \"btn btn-\" + iconType + \" \" + className\n  }, otherProps, {\n    children: jsx(\"i\", {\n      className: \"glyphicon glyphicon-\" + icon\n    })\n  }));\n}\nfunction CopyButton(props) {\n  var translateString = props.registry.translateString;\n  return jsx(IconButton, _extends({\n    title: translateString(TranslatableString.CopyButton),\n    className: 'array-item-copy'\n  }, props, {\n    icon: 'copy'\n  }));\n}\nfunction MoveDownButton(props) {\n  var translateString = props.registry.translateString;\n  return jsx(IconButton, _extends({\n    title: translateString(TranslatableString.MoveDownButton),\n    className: 'array-item-move-down'\n  }, props, {\n    icon: 'arrow-down'\n  }));\n}\nfunction MoveUpButton(props) {\n  var translateString = props.registry.translateString;\n  return jsx(IconButton, _extends({\n    title: translateString(TranslatableString.MoveUpButton),\n    className: 'array-item-move-up'\n  }, props, {\n    icon: 'arrow-up'\n  }));\n}\nfunction RemoveButton(props) {\n  var translateString = props.registry.translateString;\n  return jsx(IconButton, _extends({\n    title: translateString(TranslatableString.RemoveButton),\n    className: 'array-item-remove'\n  }, props, {\n    iconType: 'danger',\n    icon: 'remove'\n  }));\n}\n\n/** The `AddButton` renders a button that represent the `Add` action on a form\r\n */\nfunction AddButton(_ref) {\n  var className = _ref.className,\n    onClick = _ref.onClick,\n    disabled = _ref.disabled,\n    registry = _ref.registry;\n  var translateString = registry.translateString;\n  return jsx(\"div\", {\n    className: 'row',\n    children: jsx(\"p\", {\n      className: \"col-xs-3 col-xs-offset-9 text-right \" + className,\n      children: jsx(IconButton, {\n        iconType: 'info',\n        icon: 'plus',\n        className: 'btn-add col-xs-12',\n        title: translateString(TranslatableString.AddButton),\n        onClick: onClick,\n        disabled: disabled,\n        registry: registry\n      })\n    })\n  });\n}\n\nfunction buttonTemplates() {\n  return {\n    SubmitButton: SubmitButton,\n    AddButton: AddButton,\n    CopyButton: CopyButton,\n    MoveDownButton: MoveDownButton,\n    MoveUpButton: MoveUpButton,\n    RemoveButton: RemoveButton\n  };\n}\n\n/** The `DescriptionField` is the template to use to render the description of a field\r\n *\r\n * @param props - The `DescriptionFieldProps` for this component\r\n */\nfunction DescriptionField(props) {\n  var id = props.id,\n    description = props.description;\n  if (!description) {\n    return null;\n  }\n  if (typeof description === 'string') {\n    return jsx(\"p\", {\n      id: id,\n      className: 'field-description',\n      children: description\n    });\n  } else {\n    return jsx(\"div\", {\n      id: id,\n      className: 'field-description',\n      children: description\n    });\n  }\n}\n\n/** The `ErrorList` component is the template that renders the all the errors associated with the fields in the `Form`\r\n *\r\n * @param props - The `ErrorListProps` for this component\r\n */\nfunction ErrorList(_ref) {\n  var errors = _ref.errors,\n    registry = _ref.registry;\n  var translateString = registry.translateString;\n  return jsxs(\"div\", {\n    className: 'panel panel-danger errors',\n    children: [jsx(\"div\", {\n      className: 'panel-heading',\n      children: jsx(\"h3\", {\n        className: 'panel-title',\n        children: translateString(TranslatableString.ErrorsLabel)\n      })\n    }), jsx(\"ul\", {\n      className: 'list-group',\n      children: errors.map(function (error, i) {\n        return jsx(\"li\", {\n          className: 'list-group-item text-danger',\n          children: error.stack\n        }, i);\n      })\n    })]\n  });\n}\n\nvar REQUIRED_FIELD_SYMBOL$1 = '*';\n/** Renders a label for a field\r\n *\r\n * @param props - The `LabelProps` for this component\r\n */\nfunction Label(props) {\n  var label = props.label,\n    required = props.required,\n    id = props.id;\n  if (!label) {\n    return null;\n  }\n  return jsxs(\"label\", {\n    className: 'control-label',\n    htmlFor: id,\n    children: [label, required && jsx(\"span\", {\n      className: 'required',\n      children: REQUIRED_FIELD_SYMBOL$1\n    })]\n  });\n}\n\n/** The `FieldTemplate` component is the template used by `SchemaField` to render any field. It renders the field\r\n * content, (label, description, children, errors and help) inside of a `WrapIfAdditional` component.\r\n *\r\n * @param props - The `FieldTemplateProps` for this component\r\n */\nfunction FieldTemplate(props) {\n  var id = props.id,\n    label = props.label,\n    children = props.children,\n    errors = props.errors,\n    help = props.help,\n    description = props.description,\n    hidden = props.hidden,\n    required = props.required,\n    displayLabel = props.displayLabel,\n    registry = props.registry,\n    uiSchema = props.uiSchema;\n  var uiOptions = getUiOptions(uiSchema);\n  var WrapIfAdditionalTemplate = getTemplate('WrapIfAdditionalTemplate', registry, uiOptions);\n  if (hidden) {\n    return jsx(\"div\", {\n      className: 'hidden',\n      children: children\n    });\n  }\n  return jsxs(WrapIfAdditionalTemplate, _extends({}, props, {\n    children: [displayLabel && jsx(Label, {\n      label: label,\n      required: required,\n      id: id\n    }), displayLabel && description ? description : null, children, errors, help]\n  }));\n}\n\n/** The `FieldErrorTemplate` component renders the errors local to the particular field\r\n *\r\n * @param props - The `FieldErrorProps` for the errors being rendered\r\n */\nfunction FieldErrorTemplate(props) {\n  var _props$errors = props.errors,\n    errors = _props$errors === void 0 ? [] : _props$errors,\n    idSchema = props.idSchema;\n  if (errors.length === 0) {\n    return null;\n  }\n  var id = errorId(idSchema);\n  return jsx(\"div\", {\n    children: jsx(\"ul\", {\n      id: id,\n      className: 'error-detail bs-callout bs-callout-info',\n      children: errors.filter(function (elem) {\n        return !!elem;\n      }).map(function (error, index) {\n        return jsx(\"li\", {\n          className: 'text-danger',\n          children: error\n        }, index);\n      })\n    })\n  });\n}\n\n/** The `FieldHelpTemplate` component renders any help desired for a field\r\n *\r\n * @param props - The `FieldHelpProps` to be rendered\r\n */\nfunction FieldHelpTemplate(props) {\n  var idSchema = props.idSchema,\n    help = props.help;\n  if (!help) {\n    return null;\n  }\n  var id = helpId(idSchema);\n  if (typeof help === 'string') {\n    return jsx(\"p\", {\n      id: id,\n      className: 'help-block',\n      children: help\n    });\n  }\n  return jsx(\"div\", {\n    id: id,\n    className: 'help-block',\n    children: help\n  });\n}\n\n/** The `ObjectFieldTemplate` is the template to use to render all the inner properties of an object along with the\r\n * title and description if available. If the object is expandable, then an `AddButton` is also rendered after all\r\n * the properties.\r\n *\r\n * @param props - The `ObjectFieldTemplateProps` for this component\r\n */\nfunction ObjectFieldTemplate(props) {\n  var description = props.description,\n    disabled = props.disabled,\n    formData = props.formData,\n    idSchema = props.idSchema,\n    onAddClick = props.onAddClick,\n    properties = props.properties,\n    readonly = props.readonly,\n    registry = props.registry,\n    required = props.required,\n    schema = props.schema,\n    title = props.title,\n    uiSchema = props.uiSchema;\n  var options = getUiOptions(uiSchema);\n  var TitleFieldTemplate = getTemplate('TitleFieldTemplate', registry, options);\n  var DescriptionFieldTemplate = getTemplate('DescriptionFieldTemplate', registry, options);\n  // Button templates are not overridden in the uiSchema\n  var AddButton = registry.templates.ButtonTemplates.AddButton;\n  return jsxs(\"fieldset\", {\n    id: idSchema.$id,\n    children: [title && jsx(TitleFieldTemplate, {\n      id: titleId(idSchema),\n      title: title,\n      required: required,\n      schema: schema,\n      uiSchema: uiSchema,\n      registry: registry\n    }), description && jsx(DescriptionFieldTemplate, {\n      id: descriptionId(idSchema),\n      description: description,\n      schema: schema,\n      uiSchema: uiSchema,\n      registry: registry\n    }), properties.map(function (prop) {\n      return prop.content;\n    }), canExpand(schema, uiSchema, formData) && jsx(AddButton, {\n      className: 'object-property-expand',\n      onClick: onAddClick(schema),\n      disabled: disabled || readonly,\n      uiSchema: uiSchema,\n      registry: registry\n    })]\n  });\n}\n\nvar REQUIRED_FIELD_SYMBOL = '*';\n/** The `TitleField` is the template to use to render the title of a field\r\n *\r\n * @param props - The `TitleFieldProps` for this component\r\n */\nfunction TitleField(props) {\n  var id = props.id,\n    title = props.title,\n    required = props.required;\n  return jsxs(\"legend\", {\n    id: id,\n    children: [title, required && jsx(\"span\", {\n      className: 'required',\n      children: REQUIRED_FIELD_SYMBOL\n    })]\n  });\n}\n\n/** The `UnsupportedField` component is used to render a field in the schema is one that is not supported by\r\n * react-jsonschema-form.\r\n *\r\n * @param props - The `FieldProps` for this template\r\n */\nfunction UnsupportedField(props) {\n  var schema = props.schema,\n    idSchema = props.idSchema,\n    reason = props.reason,\n    registry = props.registry;\n  var translateString = registry.translateString;\n  var translateEnum = TranslatableString.UnsupportedField;\n  var translateParams = [];\n  if (idSchema && idSchema.$id) {\n    translateEnum = TranslatableString.UnsupportedFieldWithId;\n    translateParams.push(idSchema.$id);\n  }\n  if (reason) {\n    translateEnum = translateEnum === TranslatableString.UnsupportedField ? TranslatableString.UnsupportedFieldWithReason : TranslatableString.UnsupportedFieldWithIdAndReason;\n    translateParams.push(reason);\n  }\n  return jsxs(\"div\", {\n    className: 'unsupported-field',\n    children: [jsx(\"p\", {\n      children: jsx(Markdown, {\n        children: translateString(translateEnum, translateParams)\n      })\n    }), schema && jsx(\"pre\", {\n      children: JSON.stringify(schema, null, 2)\n    })]\n  });\n}\n\n/** The `WrapIfAdditional` component is used by the `FieldTemplate` to rename, or remove properties that are\r\n * part of an `additionalProperties` part of a schema.\r\n *\r\n * @param props - The `WrapIfAdditionalProps` for this component\r\n */\nfunction WrapIfAdditionalTemplate(props) {\n  var id = props.id,\n    classNames = props.classNames,\n    style = props.style,\n    disabled = props.disabled,\n    label = props.label,\n    onKeyChange = props.onKeyChange,\n    onDropPropertyClick = props.onDropPropertyClick,\n    readonly = props.readonly,\n    required = props.required,\n    schema = props.schema,\n    children = props.children,\n    uiSchema = props.uiSchema,\n    registry = props.registry;\n  var templates = registry.templates,\n    translateString = registry.translateString;\n  // Button templates are not overridden in the uiSchema\n  var RemoveButton = templates.ButtonTemplates.RemoveButton;\n  var keyLabel = translateString(TranslatableString.KeyLabel, [label]);\n  var additional = (ADDITIONAL_PROPERTY_FLAG in schema);\n  if (!additional) {\n    return jsx(\"div\", {\n      className: classNames,\n      style: style,\n      children: children\n    });\n  }\n  return jsx(\"div\", {\n    className: classNames,\n    style: style,\n    children: jsxs(\"div\", {\n      className: 'row',\n      children: [jsx(\"div\", {\n        className: 'col-xs-5 form-additional',\n        children: jsxs(\"div\", {\n          className: 'form-group',\n          children: [jsx(Label, {\n            label: keyLabel,\n            required: required,\n            id: id + \"-key\"\n          }), jsx(\"input\", {\n            className: 'form-control',\n            type: 'text',\n            id: id + \"-key\",\n            onBlur: function onBlur(event) {\n              return onKeyChange(event.target.value);\n            },\n            defaultValue: label\n          })]\n        })\n      }), jsx(\"div\", {\n        className: 'form-additional form-group col-xs-5',\n        children: children\n      }), jsx(\"div\", {\n        className: 'col-xs-2',\n        children: jsx(RemoveButton, {\n          className: 'array-item-remove btn-block',\n          style: {\n            border: '0'\n          },\n          disabled: disabled || readonly,\n          onClick: onDropPropertyClick(label),\n          uiSchema: uiSchema,\n          registry: registry\n        })\n      })]\n    })\n  });\n}\n\nfunction templates() {\n  return {\n    ArrayFieldDescriptionTemplate: ArrayFieldDescriptionTemplate,\n    ArrayFieldItemTemplate: ArrayFieldItemTemplate,\n    ArrayFieldTemplate: ArrayFieldTemplate,\n    ArrayFieldTitleTemplate: ArrayFieldTitleTemplate,\n    ButtonTemplates: buttonTemplates(),\n    BaseInputTemplate: BaseInputTemplate,\n    DescriptionFieldTemplate: DescriptionField,\n    ErrorListTemplate: ErrorList,\n    FieldTemplate: FieldTemplate,\n    FieldErrorTemplate: FieldErrorTemplate,\n    FieldHelpTemplate: FieldHelpTemplate,\n    ObjectFieldTemplate: ObjectFieldTemplate,\n    TitleFieldTemplate: TitleField,\n    UnsupportedFieldTemplate: UnsupportedField,\n    WrapIfAdditionalTemplate: WrapIfAdditionalTemplate\n  };\n}\n\nfunction rangeOptions(start, stop) {\n  var options = [];\n  for (var i = start; i <= stop; i++) {\n    options.push({\n      value: i,\n      label: pad(i, 2)\n    });\n  }\n  return options;\n}\nfunction readyForChange(state) {\n  return Object.values(state).every(function (value) {\n    return value !== -1;\n  });\n}\nfunction dateElementProps(state, time, yearsRange) {\n  if (yearsRange === void 0) {\n    yearsRange = [1900, new Date().getFullYear() + 2];\n  }\n  var year = state.year,\n    month = state.month,\n    day = state.day,\n    hour = state.hour,\n    minute = state.minute,\n    second = state.second;\n  var data = [{\n    type: 'year',\n    range: yearsRange,\n    value: year\n  }, {\n    type: 'month',\n    range: [1, 12],\n    value: month\n  }, {\n    type: 'day',\n    range: [1, 31],\n    value: day\n  }];\n  if (time) {\n    data.push({\n      type: 'hour',\n      range: [0, 23],\n      value: hour\n    }, {\n      type: 'minute',\n      range: [0, 59],\n      value: minute\n    }, {\n      type: 'second',\n      range: [0, 59],\n      value: second\n    });\n  }\n  return data;\n}\nfunction DateElement(_ref) {\n  var type = _ref.type,\n    range = _ref.range,\n    value = _ref.value,\n    select = _ref.select,\n    rootId = _ref.rootId,\n    name = _ref.name,\n    disabled = _ref.disabled,\n    readonly = _ref.readonly,\n    autofocus = _ref.autofocus,\n    registry = _ref.registry,\n    onBlur = _ref.onBlur,\n    onFocus = _ref.onFocus;\n  var id = rootId + '_' + type;\n  var SelectWidget = registry.widgets.SelectWidget;\n  return jsx(SelectWidget, {\n    schema: {\n      type: 'integer'\n    },\n    id: id,\n    name: name,\n    className: 'form-control',\n    options: {\n      enumOptions: rangeOptions(range[0], range[1])\n    },\n    placeholder: type,\n    value: value,\n    disabled: disabled,\n    readonly: readonly,\n    autofocus: autofocus,\n    onChange: function onChange(value) {\n      return select(type, value);\n    },\n    onBlur: onBlur,\n    onFocus: onFocus,\n    registry: registry,\n    label: '',\n    \"aria-describedby\": ariaDescribedByIds(rootId)\n  });\n}\n/** The `AltDateWidget` is an alternative widget for rendering date properties.\r\n * @param props - The `WidgetProps` for this component\r\n */\nfunction AltDateWidget(_ref2) {\n  var _ref2$time = _ref2.time,\n    time = _ref2$time === void 0 ? false : _ref2$time,\n    _ref2$disabled = _ref2.disabled,\n    disabled = _ref2$disabled === void 0 ? false : _ref2$disabled,\n    _ref2$readonly = _ref2.readonly,\n    readonly = _ref2$readonly === void 0 ? false : _ref2$readonly,\n    _ref2$autofocus = _ref2.autofocus,\n    autofocus = _ref2$autofocus === void 0 ? false : _ref2$autofocus,\n    options = _ref2.options,\n    id = _ref2.id,\n    name = _ref2.name,\n    registry = _ref2.registry,\n    onBlur = _ref2.onBlur,\n    onFocus = _ref2.onFocus,\n    onChange = _ref2.onChange,\n    value = _ref2.value;\n  var translateString = registry.translateString;\n  var _useState = useState(value),\n    lastValue = _useState[0],\n    setLastValue = _useState[1];\n  var _useReducer = useReducer(function (state, action) {\n      return _extends({}, state, action);\n    }, parseDateString(value, time)),\n    state = _useReducer[0],\n    setState = _useReducer[1];\n  useEffect(function () {\n    var stateValue = toDateString(state, time);\n    if (readyForChange(state) && stateValue !== value) {\n      // The user changed the date to a new valid data via the comboboxes, so call onChange\n      onChange(stateValue);\n    } else if (lastValue !== value) {\n      // We got a new value in the props\n      setLastValue(value);\n      setState(parseDateString(value, time));\n    }\n  }, [time, value, onChange, state, lastValue]);\n  var handleChange = useCallback(function (property, value) {\n    var _setState;\n    setState((_setState = {}, _setState[property] = value, _setState));\n  }, []);\n  var handleSetNow = useCallback(function (event) {\n    event.preventDefault();\n    if (disabled || readonly) {\n      return;\n    }\n    var nextState = parseDateString(new Date().toJSON(), time);\n    onChange(toDateString(nextState, time));\n  }, [disabled, readonly, time]);\n  var handleClear = useCallback(function (event) {\n    event.preventDefault();\n    if (disabled || readonly) {\n      return;\n    }\n    onChange(undefined);\n  }, [disabled, readonly, onChange]);\n  return jsxs(\"ul\", {\n    className: 'list-inline',\n    children: [dateElementProps(state, time, options.yearsRange).map(function (elemProps, i) {\n      return jsx(\"li\", {\n        className: 'list-inline-item',\n        children: jsx(DateElement, _extends({\n          rootId: id,\n          name: name,\n          select: handleChange\n        }, elemProps, {\n          disabled: disabled,\n          readonly: readonly,\n          registry: registry,\n          onBlur: onBlur,\n          onFocus: onFocus,\n          autofocus: autofocus && i === 0\n        }))\n      }, i);\n    }), (options.hideNowButton !== 'undefined' ? !options.hideNowButton : true) && jsx(\"li\", {\n      className: 'list-inline-item',\n      children: jsx(\"a\", {\n        href: '#',\n        className: 'btn btn-info btn-now',\n        onClick: handleSetNow,\n        children: translateString(TranslatableString.NowLabel)\n      })\n    }), (options.hideClearButton !== 'undefined' ? !options.hideClearButton : true) && jsx(\"li\", {\n      className: 'list-inline-item',\n      children: jsx(\"a\", {\n        href: '#',\n        className: 'btn btn-warning btn-clear',\n        onClick: handleClear,\n        children: translateString(TranslatableString.ClearLabel)\n      })\n    })]\n  });\n}\n\nvar _excluded$1 = [\"time\"];\n/** The `AltDateTimeWidget` is an alternative widget for rendering datetime properties.\r\n *  It uses the AltDateWidget for rendering, with the `time` prop set to true by default.\r\n *\r\n * @param props - The `WidgetProps` for this component\r\n */\nfunction AltDateTimeWidget(_ref) {\n  var _ref$time = _ref.time,\n    time = _ref$time === void 0 ? true : _ref$time,\n    props = _objectWithoutPropertiesLoose(_ref, _excluded$1);\n  var AltDateWidget = props.registry.widgets.AltDateWidget;\n  return jsx(AltDateWidget, _extends({\n    time: time\n  }, props));\n}\n\n/** The `CheckBoxWidget` is a widget for rendering boolean properties.\r\n *  It is typically used to represent a boolean.\r\n *\r\n * @param props - The `WidgetProps` for this component\r\n */\nfunction CheckboxWidget(_ref) {\n  var _options$description;\n  var schema = _ref.schema,\n    uiSchema = _ref.uiSchema,\n    options = _ref.options,\n    id = _ref.id,\n    value = _ref.value,\n    disabled = _ref.disabled,\n    readonly = _ref.readonly,\n    label = _ref.label,\n    hideLabel = _ref.hideLabel,\n    _ref$autofocus = _ref.autofocus,\n    autofocus = _ref$autofocus === void 0 ? false : _ref$autofocus,\n    onBlur = _ref.onBlur,\n    onFocus = _ref.onFocus,\n    onChange = _ref.onChange,\n    registry = _ref.registry;\n  var DescriptionFieldTemplate = getTemplate('DescriptionFieldTemplate', registry, options);\n  // Because an unchecked checkbox will cause html5 validation to fail, only add\n  // the \"required\" attribute if the field value must be \"true\", due to the\n  // \"const\" or \"enum\" keywords\n  var required = schemaRequiresTrueValue(schema);\n  var handleChange = useCallback(function (event) {\n    return onChange(event.target.checked);\n  }, [onChange]);\n  var handleBlur = useCallback(function (event) {\n    return onBlur(id, event.target.checked);\n  }, [onBlur, id]);\n  var handleFocus = useCallback(function (event) {\n    return onFocus(id, event.target.checked);\n  }, [onFocus, id]);\n  var description = (_options$description = options.description) != null ? _options$description : schema.description;\n  return jsxs(\"div\", {\n    className: \"checkbox \" + (disabled || readonly ? 'disabled' : ''),\n    children: [!hideLabel && !!description && jsx(DescriptionFieldTemplate, {\n      id: descriptionId(id),\n      description: description,\n      schema: schema,\n      uiSchema: uiSchema,\n      registry: registry\n    }), jsxs(\"label\", {\n      children: [jsx(\"input\", {\n        type: 'checkbox',\n        id: id,\n        name: id,\n        checked: typeof value === 'undefined' ? false : value,\n        required: required,\n        disabled: disabled || readonly,\n        autoFocus: autofocus,\n        onChange: handleChange,\n        onBlur: handleBlur,\n        onFocus: handleFocus,\n        \"aria-describedby\": ariaDescribedByIds(id)\n      }), labelValue(jsx(\"span\", {\n        children: label\n      }), hideLabel)]\n    })]\n  });\n}\n\n/** The `CheckboxesWidget` is a widget for rendering checkbox groups.\r\n *  It is typically used to represent an array of enums.\r\n *\r\n * @param props - The `WidgetProps` for this component\r\n */\nfunction CheckboxesWidget(_ref) {\n  var id = _ref.id,\n    disabled = _ref.disabled,\n    _ref$options = _ref.options,\n    _ref$options$inline = _ref$options.inline,\n    inline = _ref$options$inline === void 0 ? false : _ref$options$inline,\n    enumOptions = _ref$options.enumOptions,\n    enumDisabled = _ref$options.enumDisabled,\n    emptyValue = _ref$options.emptyValue,\n    value = _ref.value,\n    _ref$autofocus = _ref.autofocus,\n    autofocus = _ref$autofocus === void 0 ? false : _ref$autofocus,\n    readonly = _ref.readonly,\n    onChange = _ref.onChange,\n    onBlur = _ref.onBlur,\n    onFocus = _ref.onFocus;\n  var checkboxesValues = Array.isArray(value) ? value : [value];\n  var handleBlur = useCallback(function (_ref2) {\n    var value = _ref2.target.value;\n    return onBlur(id, enumOptionsValueForIndex(value, enumOptions, emptyValue));\n  }, [onBlur, id]);\n  var handleFocus = useCallback(function (_ref3) {\n    var value = _ref3.target.value;\n    return onFocus(id, enumOptionsValueForIndex(value, enumOptions, emptyValue));\n  }, [onFocus, id]);\n  return jsx(\"div\", {\n    className: 'checkboxes',\n    id: id,\n    children: Array.isArray(enumOptions) && enumOptions.map(function (option, index) {\n      var checked = enumOptionsIsSelected(option.value, checkboxesValues);\n      var itemDisabled = Array.isArray(enumDisabled) && enumDisabled.indexOf(option.value) !== -1;\n      var disabledCls = disabled || itemDisabled || readonly ? 'disabled' : '';\n      var handleChange = function handleChange(event) {\n        if (event.target.checked) {\n          onChange(enumOptionsSelectValue(index, checkboxesValues, enumOptions));\n        } else {\n          onChange(enumOptionsDeselectValue(index, checkboxesValues, enumOptions));\n        }\n      };\n      var checkbox = jsxs(\"span\", {\n        children: [jsx(\"input\", {\n          type: 'checkbox',\n          id: optionId(id, index),\n          name: id,\n          checked: checked,\n          value: String(index),\n          disabled: disabled || itemDisabled || readonly,\n          autoFocus: autofocus && index === 0,\n          onChange: handleChange,\n          onBlur: handleBlur,\n          onFocus: handleFocus,\n          \"aria-describedby\": ariaDescribedByIds(id)\n        }), jsx(\"span\", {\n          children: option.label\n        })]\n      });\n      return inline ? jsx(\"label\", {\n        className: \"checkbox-inline \" + disabledCls,\n        children: checkbox\n      }, index) : jsx(\"div\", {\n        className: \"checkbox \" + disabledCls,\n        children: jsx(\"label\", {\n          children: checkbox\n        })\n      }, index);\n    })\n  });\n}\n\n/** The `ColorWidget` component uses the `BaseInputTemplate` changing the type to `color` and disables it when it is\r\n * either disabled or readonly.\r\n *\r\n * @param props - The `WidgetProps` for this component\r\n */\nfunction ColorWidget(props) {\n  var disabled = props.disabled,\n    readonly = props.readonly,\n    options = props.options,\n    registry = props.registry;\n  var BaseInputTemplate = getTemplate('BaseInputTemplate', registry, options);\n  return jsx(BaseInputTemplate, _extends({\n    type: 'color'\n  }, props, {\n    disabled: disabled || readonly\n  }));\n}\n\n/** The `DateWidget` component uses the `BaseInputTemplate` changing the type to `date` and transforms\r\n * the value to undefined when it is falsy during the `onChange` handling.\r\n *\r\n * @param props - The `WidgetProps` for this component\r\n */\nfunction DateWidget(props) {\n  var onChange = props.onChange,\n    options = props.options,\n    registry = props.registry;\n  var BaseInputTemplate = getTemplate('BaseInputTemplate', registry, options);\n  var handleChange = useCallback(function (value) {\n    return onChange(value || undefined);\n  }, [onChange]);\n  return jsx(BaseInputTemplate, _extends({\n    type: 'date'\n  }, props, {\n    onChange: handleChange\n  }));\n}\n\n/** The `DateTimeWidget` component uses the `BaseInputTemplate` changing the type to `datetime-local` and transforms\r\n * the value to/from utc using the appropriate utility functions.\r\n *\r\n * @param props - The `WidgetProps` for this component\r\n */\nfunction DateTimeWidget(props) {\n  var _onChange = props.onChange,\n    value = props.value,\n    options = props.options,\n    registry = props.registry;\n  var BaseInputTemplate = getTemplate('BaseInputTemplate', registry, options);\n  return jsx(BaseInputTemplate, _extends({\n    type: 'datetime-local'\n  }, props, {\n    value: utcToLocal(value),\n    onChange: function onChange(value) {\n      return _onChange(localToUTC(value));\n    }\n  }));\n}\n\n/** The `EmailWidget` component uses the `BaseInputTemplate` changing the type to `email`.\r\n *\r\n * @param props - The `WidgetProps` for this component\r\n */\nfunction EmailWidget(props) {\n  var options = props.options,\n    registry = props.registry;\n  var BaseInputTemplate = getTemplate('BaseInputTemplate', registry, options);\n  return jsx(BaseInputTemplate, _extends({\n    type: 'email'\n  }, props));\n}\n\nfunction addNameToDataURL(dataURL, name) {\n  if (dataURL === null) {\n    return null;\n  }\n  return dataURL.replace(';base64', \";name=\" + encodeURIComponent(name) + \";base64\");\n}\nfunction processFile(file) {\n  var name = file.name,\n    size = file.size,\n    type = file.type;\n  return new Promise(function (resolve, reject) {\n    var reader = new window.FileReader();\n    reader.onerror = reject;\n    reader.onload = function (event) {\n      var _event$target;\n      if (typeof ((_event$target = event.target) === null || _event$target === void 0 ? void 0 : _event$target.result) === 'string') {\n        resolve({\n          dataURL: addNameToDataURL(event.target.result, name),\n          name: name,\n          size: size,\n          type: type\n        });\n      } else {\n        resolve({\n          dataURL: null,\n          name: name,\n          size: size,\n          type: type\n        });\n      }\n    };\n    reader.readAsDataURL(file);\n  });\n}\nfunction processFiles(files) {\n  return Promise.all(Array.from(files).map(processFile));\n}\nfunction FileInfoPreview(_ref) {\n  var fileInfo = _ref.fileInfo,\n    registry = _ref.registry;\n  var translateString = registry.translateString;\n  var dataURL = fileInfo.dataURL,\n    type = fileInfo.type,\n    name = fileInfo.name;\n  if (!dataURL) {\n    return null;\n  }\n  if (type.indexOf('image') !== -1) {\n    return jsx(\"img\", {\n      src: dataURL,\n      style: {\n        maxWidth: '100%'\n      },\n      className: 'file-preview'\n    });\n  }\n  return jsxs(Fragment, {\n    children: [' ', jsx(\"a\", {\n      download: \"preview-\" + name,\n      href: dataURL,\n      className: 'file-download',\n      children: translateString(TranslatableString.PreviewLabel)\n    })]\n  });\n}\nfunction FilesInfo(_ref2) {\n  var filesInfo = _ref2.filesInfo,\n    registry = _ref2.registry,\n    preview = _ref2.preview;\n  if (filesInfo.length === 0) {\n    return null;\n  }\n  var translateString = registry.translateString;\n  return jsx(\"ul\", {\n    className: 'file-info',\n    children: filesInfo.map(function (fileInfo, key) {\n      var name = fileInfo.name,\n        size = fileInfo.size,\n        type = fileInfo.type;\n      return jsxs(\"li\", {\n        children: [jsx(Markdown, {\n          children: translateString(TranslatableString.FilesInfo, [name, type, String(size)])\n        }), preview && jsx(FileInfoPreview, {\n          fileInfo: fileInfo,\n          registry: registry\n        })]\n      }, key);\n    })\n  });\n}\nfunction extractFileInfo(dataURLs) {\n  return dataURLs.filter(function (dataURL) {\n    return dataURL;\n  }).map(function (dataURL) {\n    var _dataURItoBlob = dataURItoBlob(dataURL),\n      blob = _dataURItoBlob.blob,\n      name = _dataURItoBlob.name;\n    return {\n      dataURL: dataURL,\n      name: name,\n      size: blob.size,\n      type: blob.type\n    };\n  });\n}\n/**\r\n *  The `FileWidget` is a widget for rendering file upload fields.\r\n *  It is typically used with a string property with data-url format.\r\n */\nfunction FileWidget(props) {\n  var disabled = props.disabled,\n    readonly = props.readonly,\n    required = props.required,\n    multiple = props.multiple,\n    onChange = props.onChange,\n    value = props.value,\n    options = props.options,\n    registry = props.registry;\n  var BaseInputTemplate = getTemplate('BaseInputTemplate', registry, options);\n  var _useState = useState(Array.isArray(value) ? extractFileInfo(value) : extractFileInfo([value])),\n    filesInfo = _useState[0],\n    setFilesInfo = _useState[1];\n  var handleChange = useCallback(function (event) {\n    if (!event.target.files) {\n      return;\n    }\n    // Due to variances in themes, dealing with multiple files for the array case now happens one file at a time.\n    // This is because we don't pass `multiple` into the `BaseInputTemplate` anymore. Instead, we deal with the single\n    // file in each event and concatenate them together ourselves\n    processFiles(event.target.files).then(function (filesInfoEvent) {\n      var newValue = filesInfoEvent.map(function (fileInfo) {\n        return fileInfo.dataURL;\n      });\n      if (multiple) {\n        setFilesInfo(filesInfo.concat(filesInfoEvent[0]));\n        onChange(value.concat(newValue[0]));\n      } else {\n        setFilesInfo(filesInfoEvent);\n        onChange(newValue[0]);\n      }\n    });\n  }, [multiple, value, filesInfo, onChange]);\n  return jsxs(\"div\", {\n    children: [jsx(BaseInputTemplate, _extends({}, props, {\n      disabled: disabled || readonly,\n      type: 'file',\n      required: value ? false : required,\n      onChangeOverride: handleChange,\n      value: '',\n      accept: options.accept ? String(options.accept) : undefined\n    })), jsx(FilesInfo, {\n      filesInfo: filesInfo,\n      registry: registry,\n      preview: options.filePreview\n    })]\n  });\n}\n\n/** The `HiddenWidget` is a widget for rendering a hidden input field.\r\n *  It is typically used by setting type to \"hidden\".\r\n *\r\n * @param props - The `WidgetProps` for this component\r\n */\nfunction HiddenWidget(_ref) {\n  var id = _ref.id,\n    value = _ref.value;\n  return jsx(\"input\", {\n    type: 'hidden',\n    id: id,\n    name: id,\n    value: typeof value === 'undefined' ? '' : value\n  });\n}\n\n/** The `PasswordWidget` component uses the `BaseInputTemplate` changing the type to `password`.\r\n *\r\n * @param props - The `WidgetProps` for this component\r\n */\nfunction PasswordWidget(props) {\n  var options = props.options,\n    registry = props.registry;\n  var BaseInputTemplate = getTemplate('BaseInputTemplate', registry, options);\n  return jsx(BaseInputTemplate, _extends({\n    type: 'password'\n  }, props));\n}\n\n/** The `RadioWidget` is a widget for rendering a radio group.\r\n *  It is typically used with a string property constrained with enum options.\r\n *\r\n * @param props - The `WidgetProps` for this component\r\n */\nfunction RadioWidget(_ref) {\n  var options = _ref.options,\n    value = _ref.value,\n    required = _ref.required,\n    disabled = _ref.disabled,\n    readonly = _ref.readonly,\n    _ref$autofocus = _ref.autofocus,\n    autofocus = _ref$autofocus === void 0 ? false : _ref$autofocus,\n    onBlur = _ref.onBlur,\n    onFocus = _ref.onFocus,\n    onChange = _ref.onChange,\n    id = _ref.id;\n  var enumOptions = options.enumOptions,\n    enumDisabled = options.enumDisabled,\n    inline = options.inline,\n    emptyValue = options.emptyValue;\n  var handleBlur = useCallback(function (_ref2) {\n    var value = _ref2.target.value;\n    return onBlur(id, enumOptionsValueForIndex(value, enumOptions, emptyValue));\n  }, [onBlur, id]);\n  var handleFocus = useCallback(function (_ref3) {\n    var value = _ref3.target.value;\n    return onFocus(id, enumOptionsValueForIndex(value, enumOptions, emptyValue));\n  }, [onFocus, id]);\n  return jsx(\"div\", {\n    className: 'field-radio-group',\n    id: id,\n    children: Array.isArray(enumOptions) && enumOptions.map(function (option, i) {\n      var checked = enumOptionsIsSelected(option.value, value);\n      var itemDisabled = Array.isArray(enumDisabled) && enumDisabled.indexOf(option.value) !== -1;\n      var disabledCls = disabled || itemDisabled || readonly ? 'disabled' : '';\n      var handleChange = function handleChange() {\n        return onChange(option.value);\n      };\n      var radio = jsxs(\"span\", {\n        children: [jsx(\"input\", {\n          type: 'radio',\n          id: optionId(id, i),\n          checked: checked,\n          name: id,\n          required: required,\n          value: String(i),\n          disabled: disabled || itemDisabled || readonly,\n          autoFocus: autofocus && i === 0,\n          onChange: handleChange,\n          onBlur: handleBlur,\n          onFocus: handleFocus,\n          \"aria-describedby\": ariaDescribedByIds(id)\n        }), jsx(\"span\", {\n          children: option.label\n        })]\n      });\n      return inline ? jsx(\"label\", {\n        className: \"radio-inline \" + disabledCls,\n        children: radio\n      }, i) : jsx(\"div\", {\n        className: \"radio \" + disabledCls,\n        children: jsx(\"label\", {\n          children: radio\n        })\n      }, i);\n    })\n  });\n}\n\n/** The `RangeWidget` component uses the `BaseInputTemplate` changing the type to `range` and wrapping the result\r\n * in a div, with the value along side it.\r\n *\r\n * @param props - The `WidgetProps` for this component\r\n */\nfunction RangeWidget(props) {\n  var value = props.value,\n    BaseInputTemplate = props.registry.templates.BaseInputTemplate;\n  return jsxs(\"div\", {\n    className: 'field-range-wrapper',\n    children: [jsx(BaseInputTemplate, _extends({\n      type: 'range'\n    }, props)), jsx(\"span\", {\n      className: 'range-view',\n      children: value\n    })]\n  });\n}\n\nfunction getValue(event, multiple) {\n  if (multiple) {\n    return Array.from(event.target.options).slice().filter(function (o) {\n      return o.selected;\n    }).map(function (o) {\n      return o.value;\n    });\n  }\n  return event.target.value;\n}\n/** The `SelectWidget` is a widget for rendering dropdowns.\r\n *  It is typically used with string properties constrained with enum options.\r\n *\r\n * @param props - The `WidgetProps` for this component\r\n */\nfunction SelectWidget(_ref) {\n  var schema = _ref.schema,\n    id = _ref.id,\n    options = _ref.options,\n    value = _ref.value,\n    required = _ref.required,\n    disabled = _ref.disabled,\n    readonly = _ref.readonly,\n    _ref$multiple = _ref.multiple,\n    multiple = _ref$multiple === void 0 ? false : _ref$multiple,\n    _ref$autofocus = _ref.autofocus,\n    autofocus = _ref$autofocus === void 0 ? false : _ref$autofocus,\n    onChange = _ref.onChange,\n    onBlur = _ref.onBlur,\n    onFocus = _ref.onFocus,\n    placeholder = _ref.placeholder;\n  var enumOptions = options.enumOptions,\n    enumDisabled = options.enumDisabled,\n    optEmptyVal = options.emptyValue;\n  var emptyValue = multiple ? [] : '';\n  var handleFocus = useCallback(function (event) {\n    var newValue = getValue(event, multiple);\n    return onFocus(id, enumOptionsValueForIndex(newValue, enumOptions, optEmptyVal));\n  }, [onFocus, id, schema, multiple, options]);\n  var handleBlur = useCallback(function (event) {\n    var newValue = getValue(event, multiple);\n    return onBlur(id, enumOptionsValueForIndex(newValue, enumOptions, optEmptyVal));\n  }, [onBlur, id, schema, multiple, options]);\n  var handleChange = useCallback(function (event) {\n    var newValue = getValue(event, multiple);\n    return onChange(enumOptionsValueForIndex(newValue, enumOptions, optEmptyVal));\n  }, [onChange, schema, multiple, options]);\n  var selectedIndexes = enumOptionsIndexForValue(value, enumOptions, multiple);\n  return jsxs(\"select\", {\n    id: id,\n    name: id,\n    multiple: multiple,\n    className: 'form-control',\n    value: typeof selectedIndexes === 'undefined' ? emptyValue : selectedIndexes,\n    required: required,\n    disabled: disabled || readonly,\n    autoFocus: autofocus,\n    onBlur: handleBlur,\n    onFocus: handleFocus,\n    onChange: handleChange,\n    \"aria-describedby\": ariaDescribedByIds(id),\n    children: [!multiple && schema[\"default\"] === undefined && jsx(\"option\", {\n      value: '',\n      children: placeholder\n    }), Array.isArray(enumOptions) && enumOptions.map(function (_ref2, i) {\n      var value = _ref2.value,\n        label = _ref2.label;\n      var disabled = enumDisabled && enumDisabled.indexOf(value) !== -1;\n      return jsx(\"option\", {\n        value: String(i),\n        disabled: disabled,\n        children: label\n      }, i);\n    })]\n  });\n}\n\n/** The `TextareaWidget` is a widget for rendering input fields as textarea.\r\n *\r\n * @param props - The `WidgetProps` for this component\r\n */\nfunction TextareaWidget(_ref) {\n  var id = _ref.id,\n    _ref$options = _ref.options,\n    options = _ref$options === void 0 ? {} : _ref$options,\n    placeholder = _ref.placeholder,\n    value = _ref.value,\n    required = _ref.required,\n    disabled = _ref.disabled,\n    readonly = _ref.readonly,\n    _ref$autofocus = _ref.autofocus,\n    autofocus = _ref$autofocus === void 0 ? false : _ref$autofocus,\n    onChange = _ref.onChange,\n    onBlur = _ref.onBlur,\n    onFocus = _ref.onFocus;\n  var handleChange = useCallback(function (_ref2) {\n    var value = _ref2.target.value;\n    return onChange(value === '' ? options.emptyValue : value);\n  }, [onChange, options.emptyValue]);\n  var handleBlur = useCallback(function (_ref3) {\n    var value = _ref3.target.value;\n    return onBlur(id, value);\n  }, [onBlur, id]);\n  var handleFocus = useCallback(function (_ref4) {\n    var value = _ref4.target.value;\n    return onFocus(id, value);\n  }, [id, onFocus]);\n  return jsx(\"textarea\", {\n    id: id,\n    name: id,\n    className: 'form-control',\n    value: value ? value : '',\n    placeholder: placeholder,\n    required: required,\n    disabled: disabled,\n    readOnly: readonly,\n    autoFocus: autofocus,\n    rows: options.rows,\n    onBlur: handleBlur,\n    onFocus: handleFocus,\n    onChange: handleChange,\n    \"aria-describedby\": ariaDescribedByIds(id)\n  });\n}\nTextareaWidget.defaultProps = {\n  autofocus: false,\n  options: {}\n};\n\n/** The `TextWidget` component uses the `BaseInputTemplate`.\r\n *\r\n * @param props - The `WidgetProps` for this component\r\n */\nfunction TextWidget(props) {\n  var options = props.options,\n    registry = props.registry;\n  var BaseInputTemplate = getTemplate('BaseInputTemplate', registry, options);\n  return jsx(BaseInputTemplate, _extends({}, props));\n}\n\n/** The `TimeWidget` component uses the `BaseInputTemplate` changing the type to `time` and transforms\r\n * the value to undefined when it is falsy during the `onChange` handling.\r\n *\r\n * @param props - The `WidgetProps` for this component\r\n */\nfunction TimeWidget(props) {\n  var onChange = props.onChange,\n    options = props.options,\n    registry = props.registry;\n  var BaseInputTemplate = getTemplate('BaseInputTemplate', registry, options);\n  var handleChange = useCallback(function (value) {\n    return onChange(value ? value + \":00\" : undefined);\n  }, [onChange]);\n  return jsx(BaseInputTemplate, _extends({\n    type: 'time'\n  }, props, {\n    onChange: handleChange\n  }));\n}\n\n/** The `URLWidget` component uses the `BaseInputTemplate` changing the type to `url`.\r\n *\r\n * @param props - The `WidgetProps` for this component\r\n */\nfunction URLWidget(props) {\n  var options = props.options,\n    registry = props.registry;\n  var BaseInputTemplate = getTemplate('BaseInputTemplate', registry, options);\n  return jsx(BaseInputTemplate, _extends({\n    type: 'url'\n  }, props));\n}\n\n/** The `UpDownWidget` component uses the `BaseInputTemplate` changing the type to `number`.\r\n *\r\n * @param props - The `WidgetProps` for this component\r\n */\nfunction UpDownWidget(props) {\n  var options = props.options,\n    registry = props.registry;\n  var BaseInputTemplate = getTemplate('BaseInputTemplate', registry, options);\n  return jsx(BaseInputTemplate, _extends({\n    type: 'number'\n  }, props));\n}\n\nfunction widgets() {\n  return {\n    AltDateWidget: AltDateWidget,\n    AltDateTimeWidget: AltDateTimeWidget,\n    CheckboxWidget: CheckboxWidget,\n    CheckboxesWidget: CheckboxesWidget,\n    ColorWidget: ColorWidget,\n    DateWidget: DateWidget,\n    DateTimeWidget: DateTimeWidget,\n    EmailWidget: EmailWidget,\n    FileWidget: FileWidget,\n    HiddenWidget: HiddenWidget,\n    PasswordWidget: PasswordWidget,\n    RadioWidget: RadioWidget,\n    RangeWidget: RangeWidget,\n    SelectWidget: SelectWidget,\n    TextWidget: TextWidget,\n    TextareaWidget: TextareaWidget,\n    TimeWidget: TimeWidget,\n    UpDownWidget: UpDownWidget,\n    URLWidget: URLWidget\n  };\n}\n\n/** The default registry consists of all the fields, templates and widgets provided in the core implementation,\r\n * plus an empty `rootSchema` and `formContext. We omit schemaUtils here because it cannot be defaulted without a\r\n * rootSchema and validator. It will be added into the computed registry later in the Form.\r\n */\nfunction getDefaultRegistry() {\n  return {\n    fields: fields(),\n    templates: templates(),\n    widgets: widgets(),\n    rootSchema: {},\n    formContext: {},\n    translateString: englishStringTranslator\n  };\n}\n\n/** The `Form` component renders the outer form and all the fields defined in the `schema` */\nvar Form = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Form, _Component);\n  /** Constructs the `Form` from the `props`. Will setup the initial state from the props. It will also call the\r\n   * `onChange` handler if the initially provided `formData` is modified to add missing default values as part of the\r\n   * state construction.\r\n   *\r\n   * @param props - The initial props for the `Form`\r\n   */\n  function Form(props) {\n    var _this;\n    _this = _Component.call(this, props) || this;\n    /** The ref used to hold the `form` element, this needs to be `any` because `tagName` or `_internalFormWrapper` can\r\n     * provide any possible type here\r\n     */\n    _this.formElement = void 0;\n    /** Returns the `formData` with only the elements specified in the `fields` list\r\n     *\r\n     * @param formData - The data for the `Form`\r\n     * @param fields - The fields to keep while filtering\r\n     */\n    _this.getUsedFormData = function (formData, fields) {\n      // For the case of a single input form\n      if (fields.length === 0 && typeof formData !== 'object') {\n        return formData;\n      }\n      // _pick has incorrect type definition, it works with string[][], because lodash/hasIn supports it\n      var data = _pick(formData, fields);\n      if (Array.isArray(formData)) {\n        return Object.keys(data).map(function (key) {\n          return data[key];\n        });\n      }\n      return data;\n    };\n    /** Returns the list of field names from inspecting the `pathSchema` as well as using the `formData`\r\n     *\r\n     * @param pathSchema - The `PathSchema` object for the form\r\n     * @param [formData] - The form data to use while checking for empty objects/arrays\r\n     */\n    _this.getFieldNames = function (pathSchema, formData) {\n      var getAllPaths = function getAllPaths(_obj, acc, paths) {\n        if (acc === void 0) {\n          acc = [];\n        }\n        if (paths === void 0) {\n          paths = [[]];\n        }\n        Object.keys(_obj).forEach(function (key) {\n          if (typeof _obj[key] === 'object') {\n            var newPaths = paths.map(function (path) {\n              return [].concat(path, [key]);\n            });\n            // If an object is marked with additionalProperties, all its keys are valid\n            if (_obj[key][RJSF_ADDITONAL_PROPERTIES_FLAG] && _obj[key][NAME_KEY] !== '') {\n              acc.push(_obj[key][NAME_KEY]);\n            } else {\n              getAllPaths(_obj[key], acc, newPaths);\n            }\n          } else if (key === NAME_KEY && _obj[key] !== '') {\n            paths.forEach(function (path) {\n              var formValue = get(formData, path);\n              // adds path to fieldNames if it points to a value\n              // or an empty object/array\n              if (typeof formValue !== 'object' || isEmpty(formValue)) {\n                acc.push(path);\n              }\n            });\n          }\n        });\n        return acc;\n      };\n      return getAllPaths(pathSchema);\n    };\n    /** Function to handle changes made to a field in the `Form`. This handler receives an entirely new copy of the\r\n     * `formData` along with a new `ErrorSchema`. It will first update the `formData` with any missing default fields and\r\n     * then, if `omitExtraData` and `liveOmit` are turned on, the `formData` will be filterer to remove any extra data not\r\n     * in a form field. Then, the resulting formData will be validated if required. The state will be updated with the new\r\n     * updated (potentially filtered) `formData`, any errors that resulted from validation. Finally the `onChange`\r\n     * callback will be called if specified with the updated state.\r\n     *\r\n     * @param formData - The new form data from a change to a field\r\n     * @param newErrorSchema - The new `ErrorSchema` based on the field change\r\n     * @param id - The id of the field that caused the change\r\n     */\n    _this.onChange = function (formData, newErrorSchema, id) {\n      var _this$props = _this.props,\n        extraErrors = _this$props.extraErrors,\n        omitExtraData = _this$props.omitExtraData,\n        liveOmit = _this$props.liveOmit,\n        noValidate = _this$props.noValidate,\n        liveValidate = _this$props.liveValidate,\n        onChange = _this$props.onChange;\n      var _this$state = _this.state,\n        schemaUtils = _this$state.schemaUtils,\n        schema = _this$state.schema;\n      if (isObject$1(formData) || Array.isArray(formData)) {\n        var newState = _this.getStateFromProps(_this.props, formData);\n        formData = newState.formData;\n      }\n      var mustValidate = !noValidate && liveValidate;\n      var state = {\n        formData: formData,\n        schema: schema\n      };\n      var newFormData = formData;\n      if (omitExtraData === true && liveOmit === true) {\n        var retrievedSchema = schemaUtils.retrieveSchema(schema, formData);\n        var pathSchema = schemaUtils.toPathSchema(retrievedSchema, '', formData);\n        var fieldNames = _this.getFieldNames(pathSchema, formData);\n        newFormData = _this.getUsedFormData(formData, fieldNames);\n        state = {\n          formData: newFormData\n        };\n      }\n      if (mustValidate) {\n        var schemaValidation = _this.validate(newFormData);\n        var errors = schemaValidation.errors;\n        var errorSchema = schemaValidation.errorSchema;\n        var schemaValidationErrors = errors;\n        var schemaValidationErrorSchema = errorSchema;\n        if (extraErrors) {\n          var merged = validationDataMerge(schemaValidation, extraErrors);\n          errorSchema = merged.errorSchema;\n          errors = merged.errors;\n        }\n        state = {\n          formData: newFormData,\n          errors: errors,\n          errorSchema: errorSchema,\n          schemaValidationErrors: schemaValidationErrors,\n          schemaValidationErrorSchema: schemaValidationErrorSchema\n        };\n      } else if (!noValidate && newErrorSchema) {\n        var _errorSchema = extraErrors ? mergeObjects(newErrorSchema, extraErrors, 'preventDuplicates') : newErrorSchema;\n        state = {\n          formData: newFormData,\n          errorSchema: _errorSchema,\n          errors: toErrorList(_errorSchema)\n        };\n      }\n      _this.setState(state, function () {\n        return onChange && onChange(_extends({}, _this.state, state), id);\n      });\n    };\n    /**\r\n     * Callback function to handle reset form data.\r\n     * - Reset all fields with default values.\r\n     * - Reset validations and errors\r\n     *\r\n     */\n    _this.reset = function () {\n      var onChange = _this.props.onChange;\n      var newState = _this.getStateFromProps(_this.props, undefined);\n      var newFormData = newState.formData;\n      var state = {\n        formData: newFormData,\n        errorSchema: {},\n        errors: [],\n        schemaValidationErrors: [],\n        schemaValidationErrorSchema: {}\n      };\n      _this.setState(state, function () {\n        return onChange && onChange(_extends({}, _this.state, state));\n      });\n    };\n    /** Callback function to handle when a field on the form is blurred. Calls the `onBlur` callback for the `Form` if it\r\n     * was provided.\r\n     *\r\n     * @param id - The unique `id` of the field that was blurred\r\n     * @param data - The data associated with the field that was blurred\r\n     */\n    _this.onBlur = function (id, data) {\n      var onBlur = _this.props.onBlur;\n      if (onBlur) {\n        onBlur(id, data);\n      }\n    };\n    /** Callback function to handle when a field on the form is focused. Calls the `onFocus` callback for the `Form` if it\r\n     * was provided.\r\n     *\r\n     * @param id - The unique `id` of the field that was focused\r\n     * @param data - The data associated with the field that was focused\r\n     */\n    _this.onFocus = function (id, data) {\n      var onFocus = _this.props.onFocus;\n      if (onFocus) {\n        onFocus(id, data);\n      }\n    };\n    /** Callback function to handle when the form is submitted. First, it prevents the default event behavior. Nothing\r\n     * happens if the target and currentTarget of the event are not the same. It will omit any extra data in the\r\n     * `formData` in the state if `omitExtraData` is true. It will validate the resulting `formData`, reporting errors\r\n     * via the `onError()` callback unless validation is disabled. Finally it will add in any `extraErrors` and then call\r\n     * back the `onSubmit` callback if it was provided.\r\n     *\r\n     * @param event - The submit HTML form event\r\n     */\n    _this.onSubmit = function (event) {\n      event.preventDefault();\n      if (event.target !== event.currentTarget) {\n        return;\n      }\n      event.persist();\n      var _this$props2 = _this.props,\n        omitExtraData = _this$props2.omitExtraData,\n        extraErrors = _this$props2.extraErrors,\n        noValidate = _this$props2.noValidate,\n        onSubmit = _this$props2.onSubmit;\n      var newFormData = _this.state.formData;\n      var _this$state2 = _this.state,\n        schema = _this$state2.schema,\n        schemaUtils = _this$state2.schemaUtils;\n      if (omitExtraData === true) {\n        var retrievedSchema = schemaUtils.retrieveSchema(schema, newFormData);\n        var pathSchema = schemaUtils.toPathSchema(retrievedSchema, '', newFormData);\n        var fieldNames = _this.getFieldNames(pathSchema, newFormData);\n        newFormData = _this.getUsedFormData(newFormData, fieldNames);\n      }\n      if (noValidate || _this.validateForm()) {\n        // There are no errors generated through schema validation.\n        // Check for user provided errors and update state accordingly.\n        var errorSchema = extraErrors || {};\n        var errors = extraErrors ? toErrorList(extraErrors) : [];\n        _this.setState({\n          formData: newFormData,\n          errors: errors,\n          errorSchema: errorSchema,\n          schemaValidationErrors: [],\n          schemaValidationErrorSchema: {}\n        }, function () {\n          if (onSubmit) {\n            onSubmit(_extends({}, _this.state, {\n              formData: newFormData,\n              status: 'submitted'\n            }), event);\n          }\n        });\n      }\n    };\n    if (!props.validator) {\n      throw new Error('A validator is required for Form functionality to work');\n    }\n    _this.state = _this.getStateFromProps(props, props.formData);\n    if (_this.props.onChange && !deepEquals(_this.state.formData, _this.props.formData)) {\n      _this.props.onChange(_this.state);\n    }\n    _this.formElement = /*#__PURE__*/createRef();\n    return _this;\n  }\n  /** React lifecycle method that gets called before new props are provided, updates the state based on new props. It\r\n   * will also call the`onChange` handler if the `formData` is modified to add missing default values as part of the\r\n   * state construction.\r\n   *\r\n   * @param nextProps - The new set of props about to be applied to the `Form`\r\n   */\n  var _proto = Form.prototype;\n  _proto.UNSAFE_componentWillReceiveProps = function UNSAFE_componentWillReceiveProps(nextProps) {\n    var nextState = this.getStateFromProps(nextProps, nextProps.formData);\n    if (!deepEquals(nextState.formData, nextProps.formData) && !deepEquals(nextState.formData, this.state.formData) && nextProps.onChange) {\n      nextProps.onChange(nextState);\n    }\n    this.setState(nextState);\n  }\n  /** Extracts the updated state from the given `props` and `inputFormData`. As part of this process, the\r\n   * `inputFormData` is first processed to add any missing required defaults. After that, the data is run through the\r\n   * validation process IF required by the `props`.\r\n   *\r\n   * @param props - The props passed to the `Form`\r\n   * @param inputFormData - The new or current data for the `Form`\r\n   * @returns - The new state for the `Form`\r\n   */;\n  _proto.getStateFromProps = function getStateFromProps(props, inputFormData) {\n    var state = this.state || {};\n    var schema = 'schema' in props ? props.schema : this.props.schema;\n    var uiSchema = ('uiSchema' in props ? props.uiSchema : this.props.uiSchema) || {};\n    var edit = typeof inputFormData !== 'undefined';\n    var liveValidate = 'liveValidate' in props ? props.liveValidate : this.props.liveValidate;\n    var mustValidate = edit && !props.noValidate && liveValidate;\n    var rootSchema = schema;\n    var experimental_defaultFormStateBehavior = 'experimental_defaultFormStateBehavior' in props ? props.experimental_defaultFormStateBehavior : this.props.experimental_defaultFormStateBehavior;\n    var schemaUtils = state.schemaUtils;\n    if (!schemaUtils || schemaUtils.doesSchemaUtilsDiffer(props.validator, rootSchema, experimental_defaultFormStateBehavior)) {\n      schemaUtils = createSchemaUtils(props.validator, rootSchema, experimental_defaultFormStateBehavior);\n    }\n    var formData = schemaUtils.getDefaultFormState(schema, inputFormData);\n    var retrievedSchema = schemaUtils.retrieveSchema(schema, formData);\n    var getCurrentErrors = function getCurrentErrors() {\n      if (props.noValidate) {\n        return {\n          errors: [],\n          errorSchema: {}\n        };\n      } else if (!props.liveValidate) {\n        return {\n          errors: state.schemaValidationErrors || [],\n          errorSchema: state.schemaValidationErrorSchema || {}\n        };\n      }\n      return {\n        errors: state.errors || [],\n        errorSchema: state.errorSchema || {}\n      };\n    };\n    var errors;\n    var errorSchema;\n    var schemaValidationErrors = state.schemaValidationErrors;\n    var schemaValidationErrorSchema = state.schemaValidationErrorSchema;\n    if (mustValidate) {\n      var schemaValidation = this.validate(formData, schema, schemaUtils);\n      errors = schemaValidation.errors;\n      errorSchema = schemaValidation.errorSchema;\n      schemaValidationErrors = errors;\n      schemaValidationErrorSchema = errorSchema;\n    } else {\n      var currentErrors = getCurrentErrors();\n      errors = currentErrors.errors;\n      errorSchema = currentErrors.errorSchema;\n    }\n    if (props.extraErrors) {\n      var merged = validationDataMerge({\n        errorSchema: errorSchema,\n        errors: errors\n      }, props.extraErrors);\n      errorSchema = merged.errorSchema;\n      errors = merged.errors;\n    }\n    var idSchema = schemaUtils.toIdSchema(retrievedSchema, uiSchema['ui:rootFieldId'], formData, props.idPrefix, props.idSeparator);\n    var nextState = {\n      schemaUtils: schemaUtils,\n      schema: schema,\n      uiSchema: uiSchema,\n      idSchema: idSchema,\n      formData: formData,\n      edit: edit,\n      errors: errors,\n      errorSchema: errorSchema,\n      schemaValidationErrors: schemaValidationErrors,\n      schemaValidationErrorSchema: schemaValidationErrorSchema\n    };\n    return nextState;\n  }\n  /** React lifecycle method that is used to determine whether component should be updated.\r\n   *\r\n   * @param nextProps - The next version of the props\r\n   * @param nextState - The next version of the state\r\n   * @returns - True if the component should be updated, false otherwise\r\n   */;\n  _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {\n    return shouldRender(this, nextProps, nextState);\n  }\n  /** Validates the `formData` against the `schema` using the `altSchemaUtils` (if provided otherwise it uses the\r\n   * `schemaUtils` in the state), returning the results.\r\n   *\r\n   * @param formData - The new form data to validate\r\n   * @param schema - The schema used to validate against\r\n   * @param altSchemaUtils - The alternate schemaUtils to use for validation\r\n   */;\n  _proto.validate = function validate(formData, schema, altSchemaUtils) {\n    if (schema === void 0) {\n      schema = this.props.schema;\n    }\n    var schemaUtils = altSchemaUtils ? altSchemaUtils : this.state.schemaUtils;\n    var _this$props3 = this.props,\n      customValidate = _this$props3.customValidate,\n      transformErrors = _this$props3.transformErrors,\n      uiSchema = _this$props3.uiSchema;\n    var resolvedSchema = schemaUtils.retrieveSchema(schema, formData);\n    return schemaUtils.getValidator().validateFormData(formData, resolvedSchema, customValidate, transformErrors, uiSchema);\n  }\n  /** Renders any errors contained in the `state` in using the `ErrorList`, if not disabled by `showErrorList`. */;\n  _proto.renderErrors = function renderErrors(registry) {\n    var _this$state3 = this.state,\n      errors = _this$state3.errors,\n      errorSchema = _this$state3.errorSchema,\n      schema = _this$state3.schema,\n      uiSchema = _this$state3.uiSchema;\n    var formContext = this.props.formContext;\n    var options = getUiOptions(uiSchema);\n    var ErrorListTemplate = getTemplate('ErrorListTemplate', registry, options);\n    if (errors && errors.length) {\n      return jsx(ErrorListTemplate, {\n        errors: errors,\n        errorSchema: errorSchema || {},\n        schema: schema,\n        uiSchema: uiSchema,\n        formContext: formContext,\n        registry: registry\n      });\n    }\n    return null;\n  };\n  /** Returns the registry for the form */\n  _proto.getRegistry = function getRegistry() {\n    var _this$props$templates;\n    var _this$props4 = this.props,\n      customTranslateString = _this$props4.translateString,\n      _this$props4$uiSchema = _this$props4.uiSchema,\n      uiSchema = _this$props4$uiSchema === void 0 ? {} : _this$props4$uiSchema;\n    var schemaUtils = this.state.schemaUtils;\n    var _getDefaultRegistry = getDefaultRegistry(),\n      fields = _getDefaultRegistry.fields,\n      templates = _getDefaultRegistry.templates,\n      widgets = _getDefaultRegistry.widgets,\n      formContext = _getDefaultRegistry.formContext,\n      translateString = _getDefaultRegistry.translateString;\n    return {\n      fields: _extends({}, fields, this.props.fields),\n      templates: _extends({}, templates, this.props.templates, {\n        ButtonTemplates: _extends({}, templates.ButtonTemplates, (_this$props$templates = this.props.templates) === null || _this$props$templates === void 0 ? void 0 : _this$props$templates.ButtonTemplates)\n      }),\n      widgets: _extends({}, widgets, this.props.widgets),\n      rootSchema: this.props.schema,\n      formContext: this.props.formContext || formContext,\n      schemaUtils: schemaUtils,\n      translateString: customTranslateString || translateString,\n      globalUiOptions: uiSchema[UI_GLOBAL_OPTIONS_KEY]\n    };\n  }\n  /** Provides a function that can be used to programmatically submit the `Form` */;\n  _proto.submit = function submit() {\n    if (this.formElement.current) {\n      this.formElement.current.dispatchEvent(new CustomEvent('submit', {\n        cancelable: true\n      }));\n      this.formElement.current.requestSubmit();\n    }\n  }\n  /** Attempts to focus on the field associated with the `error`. Uses the `property` field to compute path of the error\r\n   * field, then, using the `idPrefix` and `idSeparator` converts that path into an id. Then the input element with that\r\n   * id is attempted to be found using the `formElement` ref. If it is located, then it is focused.\r\n   *\r\n   * @param error - The error on which to focus\r\n   */;\n  _proto.focusOnError = function focusOnError(error) {\n    var _this$props5 = this.props,\n      _this$props5$idPrefix = _this$props5.idPrefix,\n      idPrefix = _this$props5$idPrefix === void 0 ? 'root' : _this$props5$idPrefix,\n      _this$props5$idSepara = _this$props5.idSeparator,\n      idSeparator = _this$props5$idSepara === void 0 ? '_' : _this$props5$idSepara;\n    var property = error.property;\n    var path = _toPath(property);\n    if (path[0] === '') {\n      // Most of the time the `.foo` property results in the first element being empty, so replace it with the idPrefix\n      path[0] = idPrefix;\n    } else {\n      // Otherwise insert the idPrefix into the first location using unshift\n      path.unshift(idPrefix);\n    }\n    var elementId = path.join(idSeparator);\n    var field = this.formElement.current.elements[elementId];\n    if (!field) {\n      // if not an exact match, try finding an input starting with the element id (like radio buttons or checkboxes)\n      field = this.formElement.current.querySelector(\"input[id^=\" + elementId);\n    }\n    if (field && field.length) {\n      // If we got a list with length > 0\n      field = field[0];\n    }\n    if (field) {\n      field.focus();\n    }\n  }\n  /** Programmatically validate the form. If `onError` is provided, then it will be called with the list of errors the\r\n   * same way as would happen on form submission.\r\n   *\r\n   * @returns - True if the form is valid, false otherwise.\r\n   */;\n  _proto.validateForm = function validateForm() {\n    var _this$props6 = this.props,\n      extraErrors = _this$props6.extraErrors,\n      focusOnFirstError = _this$props6.focusOnFirstError,\n      onError = _this$props6.onError;\n    var formData = this.state.formData;\n    var schemaValidation = this.validate(formData);\n    var errors = schemaValidation.errors;\n    var errorSchema = schemaValidation.errorSchema;\n    var schemaValidationErrors = errors;\n    var schemaValidationErrorSchema = errorSchema;\n    if (errors.length > 0) {\n      if (extraErrors) {\n        var merged = validationDataMerge(schemaValidation, extraErrors);\n        errorSchema = merged.errorSchema;\n        errors = merged.errors;\n      }\n      if (focusOnFirstError) {\n        if (typeof focusOnFirstError === 'function') {\n          focusOnFirstError(schemaValidation.errors[0]);\n        } else {\n          this.focusOnError(schemaValidation.errors[0]);\n        }\n      }\n      this.setState({\n        errors: errors,\n        errorSchema: errorSchema,\n        schemaValidationErrors: schemaValidationErrors,\n        schemaValidationErrorSchema: schemaValidationErrorSchema\n      }, function () {\n        if (onError) {\n          onError(errors);\n        } else {\n          console.error('Form validation failed', errors);\n        }\n      });\n      return false;\n    }\n    return true;\n  }\n  /** Renders the `Form` fields inside the <form> | `tagName` or `_internalFormWrapper`, rendering any errors if\r\n   * needed along with the submit button or any children of the form.\r\n   */;\n  _proto.render = function render() {\n    var _UI_OPTIONS_KEY, _submitUiSchema;\n    var _this$props7 = this.props,\n      children = _this$props7.children,\n      id = _this$props7.id,\n      idPrefix = _this$props7.idPrefix,\n      idSeparator = _this$props7.idSeparator,\n      _this$props7$classNam = _this$props7.className,\n      className = _this$props7$classNam === void 0 ? '' : _this$props7$classNam,\n      tagName = _this$props7.tagName,\n      name = _this$props7.name,\n      method = _this$props7.method,\n      target = _this$props7.target,\n      action = _this$props7.action,\n      autoComplete = _this$props7.autoComplete,\n      enctype = _this$props7.enctype,\n      acceptcharset = _this$props7.acceptcharset,\n      _this$props7$noHtml5V = _this$props7.noHtml5Validate,\n      noHtml5Validate = _this$props7$noHtml5V === void 0 ? false : _this$props7$noHtml5V,\n      _this$props7$disabled = _this$props7.disabled,\n      disabled = _this$props7$disabled === void 0 ? false : _this$props7$disabled,\n      _this$props7$readonly = _this$props7.readonly,\n      readonly = _this$props7$readonly === void 0 ? false : _this$props7$readonly,\n      formContext = _this$props7.formContext,\n      _this$props7$showErro = _this$props7.showErrorList,\n      showErrorList = _this$props7$showErro === void 0 ? 'top' : _this$props7$showErro,\n      _internalFormWrapper = _this$props7._internalFormWrapper;\n    var _this$state4 = this.state,\n      schema = _this$state4.schema,\n      uiSchema = _this$state4.uiSchema,\n      formData = _this$state4.formData,\n      errorSchema = _this$state4.errorSchema,\n      idSchema = _this$state4.idSchema;\n    var registry = this.getRegistry();\n    var _SchemaField = registry.fields.SchemaField;\n    var SubmitButton = registry.templates.ButtonTemplates.SubmitButton;\n    // The `semantic-ui` and `material-ui` themes have `_internalFormWrapper`s that take an `as` prop that is the\n    // PropTypes.elementType to use for the inner tag, so we'll need to pass `tagName` along if it is provided.\n    // NOTE, the `as` prop is native to `semantic-ui` and is emulated in the `material-ui` theme\n    var as = _internalFormWrapper ? tagName : undefined;\n    var FormTag = _internalFormWrapper || tagName || 'form';\n    var _getUiOptions = getUiOptions(uiSchema),\n      _getUiOptions$SUBMIT_ = _getUiOptions[SUBMIT_BTN_OPTIONS_KEY],\n      submitOptions = _getUiOptions$SUBMIT_ === void 0 ? {} : _getUiOptions$SUBMIT_;\n    if (disabled) {\n      submitOptions = _extends({}, submitOptions, {\n        props: _extends({}, submitOptions.props, {\n          disabled: true\n        })\n      });\n    }\n    var submitUiSchema = (_submitUiSchema = {}, _submitUiSchema[UI_OPTIONS_KEY] = (_UI_OPTIONS_KEY = {}, _UI_OPTIONS_KEY[SUBMIT_BTN_OPTIONS_KEY] = submitOptions, _UI_OPTIONS_KEY), _submitUiSchema);\n    return jsxs(FormTag, {\n      className: className ? className : 'rjsf',\n      id: id,\n      name: name,\n      method: method,\n      target: target,\n      action: action,\n      autoComplete: autoComplete,\n      encType: enctype,\n      acceptCharset: acceptcharset,\n      noValidate: noHtml5Validate,\n      onSubmit: this.onSubmit,\n      as: as,\n      ref: this.formElement,\n      children: [showErrorList === 'top' && this.renderErrors(registry), jsx(_SchemaField, {\n        name: '',\n        schema: schema,\n        uiSchema: uiSchema,\n        errorSchema: errorSchema,\n        idSchema: idSchema,\n        idPrefix: idPrefix,\n        idSeparator: idSeparator,\n        formContext: formContext,\n        formData: formData,\n        onChange: this.onChange,\n        onBlur: this.onBlur,\n        onFocus: this.onFocus,\n        registry: registry,\n        disabled: disabled,\n        readonly: readonly\n      }), children ? children : jsx(SubmitButton, {\n        uiSchema: submitUiSchema,\n        registry: registry\n      }), showErrorList === 'bottom' && this.renderErrors(registry)]\n    });\n  };\n  return Form;\n}(Component);\n\nvar _excluded = [\"fields\", \"widgets\", \"templates\"];\n/** A Higher-Order component that creates a wrapper around a `Form` with the overrides from the `WithThemeProps` */\nfunction withTheme(themeProps) {\n  return /*#__PURE__*/forwardRef(function (_ref, ref) {\n    var _themeProps$templates, _templates;\n    var fields = _ref.fields,\n      widgets = _ref.widgets,\n      templates = _ref.templates,\n      directProps = _objectWithoutPropertiesLoose(_ref, _excluded);\n    fields = _extends({}, themeProps === null || themeProps === void 0 ? void 0 : themeProps.fields, fields);\n    widgets = _extends({}, themeProps === null || themeProps === void 0 ? void 0 : themeProps.widgets, widgets);\n    templates = _extends({}, themeProps === null || themeProps === void 0 ? void 0 : themeProps.templates, templates, {\n      ButtonTemplates: _extends({}, themeProps === null || themeProps === void 0 ? void 0 : (_themeProps$templates = themeProps.templates) === null || _themeProps$templates === void 0 ? void 0 : _themeProps$templates.ButtonTemplates, (_templates = templates) === null || _templates === void 0 ? void 0 : _templates.ButtonTemplates)\n    });\n    return jsx(Form, _extends({}, themeProps, directProps, {\n      fields: fields,\n      widgets: widgets,\n      templates: templates,\n      ref: ref\n    }));\n  });\n}\n\nexport { Form as default, getDefaultRegistry, withTheme };\n//# sourceMappingURL=core.esm.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.regexpCode = exports.getEsmExportName = exports.getProperty = exports.safeStringify = exports.stringify = exports.strConcat = exports.addCodeArg = exports.str = exports._ = exports.nil = exports._Code = exports.Name = exports.IDENTIFIER = exports._CodeOrName = void 0;\nclass _CodeOrName {\n}\nexports._CodeOrName = _CodeOrName;\nexports.IDENTIFIER = /^[a-z$_][a-z$_0-9]*$/i;\nclass Name extends _CodeOrName {\n    constructor(s) {\n        super();\n        if (!exports.IDENTIFIER.test(s))\n            throw new Error(\"CodeGen: name must be a valid identifier\");\n        this.str = s;\n    }\n    toString() {\n        return this.str;\n    }\n    emptyStr() {\n        return false;\n    }\n    get names() {\n        return { [this.str]: 1 };\n    }\n}\nexports.Name = Name;\nclass _Code extends _CodeOrName {\n    constructor(code) {\n        super();\n        this._items = typeof code === \"string\" ? [code] : code;\n    }\n    toString() {\n        return this.str;\n    }\n    emptyStr() {\n        if (this._items.length > 1)\n            return false;\n        const item = this._items[0];\n        return item === \"\" || item === '\"\"';\n    }\n    get str() {\n        var _a;\n        return ((_a = this._str) !== null && _a !== void 0 ? _a : (this._str = this._items.reduce((s, c) => `${s}${c}`, \"\")));\n    }\n    get names() {\n        var _a;\n        return ((_a = this._names) !== null && _a !== void 0 ? _a : (this._names = this._items.reduce((names, c) => {\n            if (c instanceof Name)\n                names[c.str] = (names[c.str] || 0) + 1;\n            return names;\n        }, {})));\n    }\n}\nexports._Code = _Code;\nexports.nil = new _Code(\"\");\nfunction _(strs, ...args) {\n    const code = [strs[0]];\n    let i = 0;\n    while (i < args.length) {\n        addCodeArg(code, args[i]);\n        code.push(strs[++i]);\n    }\n    return new _Code(code);\n}\nexports._ = _;\nconst plus = new _Code(\"+\");\nfunction str(strs, ...args) {\n    const expr = [safeStringify(strs[0])];\n    let i = 0;\n    while (i < args.length) {\n        expr.push(plus);\n        addCodeArg(expr, args[i]);\n        expr.push(plus, safeStringify(strs[++i]));\n    }\n    optimize(expr);\n    return new _Code(expr);\n}\nexports.str = str;\nfunction addCodeArg(code, arg) {\n    if (arg instanceof _Code)\n        code.push(...arg._items);\n    else if (arg instanceof Name)\n        code.push(arg);\n    else\n        code.push(interpolate(arg));\n}\nexports.addCodeArg = addCodeArg;\nfunction optimize(expr) {\n    let i = 1;\n    while (i < expr.length - 1) {\n        if (expr[i] === plus) {\n            const res = mergeExprItems(expr[i - 1], expr[i + 1]);\n            if (res !== undefined) {\n                expr.splice(i - 1, 3, res);\n                continue;\n            }\n            expr[i++] = \"+\";\n        }\n        i++;\n    }\n}\nfunction mergeExprItems(a, b) {\n    if (b === '\"\"')\n        return a;\n    if (a === '\"\"')\n        return b;\n    if (typeof a == \"string\") {\n        if (b instanceof Name || a[a.length - 1] !== '\"')\n            return;\n        if (typeof b != \"string\")\n            return `${a.slice(0, -1)}${b}\"`;\n        if (b[0] === '\"')\n            return a.slice(0, -1) + b.slice(1);\n        return;\n    }\n    if (typeof b == \"string\" && b[0] === '\"' && !(a instanceof Name))\n        return `\"${a}${b.slice(1)}`;\n    return;\n}\nfunction strConcat(c1, c2) {\n    return c2.emptyStr() ? c1 : c1.emptyStr() ? c2 : str `${c1}${c2}`;\n}\nexports.strConcat = strConcat;\n// TODO do not allow arrays here\nfunction interpolate(x) {\n    return typeof x == \"number\" || typeof x == \"boolean\" || x === null\n        ? x\n        : safeStringify(Array.isArray(x) ? x.join(\",\") : x);\n}\nfunction stringify(x) {\n    return new _Code(safeStringify(x));\n}\nexports.stringify = stringify;\nfunction safeStringify(x) {\n    return JSON.stringify(x)\n        .replace(/\\u2028/g, \"\\\\u2028\")\n        .replace(/\\u2029/g, \"\\\\u2029\");\n}\nexports.safeStringify = safeStringify;\nfunction getProperty(key) {\n    return typeof key == \"string\" && exports.IDENTIFIER.test(key) ? new _Code(`.${key}`) : _ `[${key}]`;\n}\nexports.getProperty = getProperty;\n//Does best effort to format the name properly\nfunction getEsmExportName(key) {\n    if (typeof key == \"string\" && exports.IDENTIFIER.test(key)) {\n        return new _Code(`${key}`);\n    }\n    throw new Error(`CodeGen: invalid export name: ${key}, use explicit $id name mapping`);\n}\nexports.getEsmExportName = getEsmExportName;\nfunction regexpCode(rx) {\n    return new _Code(rx.toString());\n}\nexports.regexpCode = regexpCode;\n//# sourceMappingURL=code.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ValueScope = exports.ValueScopeName = exports.Scope = exports.varKinds = exports.UsedValueState = void 0;\nconst code_1 = require(\"./code\");\nclass ValueError extends Error {\n    constructor(name) {\n        super(`CodeGen: \"code\" for ${name} not defined`);\n        this.value = name.value;\n    }\n}\nvar UsedValueState;\n(function (UsedValueState) {\n    UsedValueState[UsedValueState[\"Started\"] = 0] = \"Started\";\n    UsedValueState[UsedValueState[\"Completed\"] = 1] = \"Completed\";\n})(UsedValueState = exports.UsedValueState || (exports.UsedValueState = {}));\nexports.varKinds = {\n    const: new code_1.Name(\"const\"),\n    let: new code_1.Name(\"let\"),\n    var: new code_1.Name(\"var\"),\n};\nclass Scope {\n    constructor({ prefixes, parent } = {}) {\n        this._names = {};\n        this._prefixes = prefixes;\n        this._parent = parent;\n    }\n    toName(nameOrPrefix) {\n        return nameOrPrefix instanceof code_1.Name ? nameOrPrefix : this.name(nameOrPrefix);\n    }\n    name(prefix) {\n        return new code_1.Name(this._newName(prefix));\n    }\n    _newName(prefix) {\n        const ng = this._names[prefix] || this._nameGroup(prefix);\n        return `${prefix}${ng.index++}`;\n    }\n    _nameGroup(prefix) {\n        var _a, _b;\n        if (((_b = (_a = this._parent) === null || _a === void 0 ? void 0 : _a._prefixes) === null || _b === void 0 ? void 0 : _b.has(prefix)) || (this._prefixes && !this._prefixes.has(prefix))) {\n            throw new Error(`CodeGen: prefix \"${prefix}\" is not allowed in this scope`);\n        }\n        return (this._names[prefix] = { prefix, index: 0 });\n    }\n}\nexports.Scope = Scope;\nclass ValueScopeName extends code_1.Name {\n    constructor(prefix, nameStr) {\n        super(nameStr);\n        this.prefix = prefix;\n    }\n    setValue(value, { property, itemIndex }) {\n        this.value = value;\n        this.scopePath = (0, code_1._) `.${new code_1.Name(property)}[${itemIndex}]`;\n    }\n}\nexports.ValueScopeName = ValueScopeName;\nconst line = (0, code_1._) `\\n`;\nclass ValueScope extends Scope {\n    constructor(opts) {\n        super(opts);\n        this._values = {};\n        this._scope = opts.scope;\n        this.opts = { ...opts, _n: opts.lines ? line : code_1.nil };\n    }\n    get() {\n        return this._scope;\n    }\n    name(prefix) {\n        return new ValueScopeName(prefix, this._newName(prefix));\n    }\n    value(nameOrPrefix, value) {\n        var _a;\n        if (value.ref === undefined)\n            throw new Error(\"CodeGen: ref must be passed in value\");\n        const name = this.toName(nameOrPrefix);\n        const { prefix } = name;\n        const valueKey = (_a = value.key) !== null && _a !== void 0 ? _a : value.ref;\n        let vs = this._values[prefix];\n        if (vs) {\n            const _name = vs.get(valueKey);\n            if (_name)\n                return _name;\n        }\n        else {\n            vs = this._values[prefix] = new Map();\n        }\n        vs.set(valueKey, name);\n        const s = this._scope[prefix] || (this._scope[prefix] = []);\n        const itemIndex = s.length;\n        s[itemIndex] = value.ref;\n        name.setValue(value, { property: prefix, itemIndex });\n        return name;\n    }\n    getValue(prefix, keyOrRef) {\n        const vs = this._values[prefix];\n        if (!vs)\n            return;\n        return vs.get(keyOrRef);\n    }\n    scopeRefs(scopeName, values = this._values) {\n        return this._reduceValues(values, (name) => {\n            if (name.scopePath === undefined)\n                throw new Error(`CodeGen: name \"${name}\" has no value`);\n            return (0, code_1._) `${scopeName}${name.scopePath}`;\n        });\n    }\n    scopeCode(values = this._values, usedValues, getCode) {\n        return this._reduceValues(values, (name) => {\n            if (name.value === undefined)\n                throw new Error(`CodeGen: name \"${name}\" has no value`);\n            return name.value.code;\n        }, usedValues, getCode);\n    }\n    _reduceValues(values, valueCode, usedValues = {}, getCode) {\n        let code = code_1.nil;\n        for (const prefix in values) {\n            const vs = values[prefix];\n            if (!vs)\n                continue;\n            const nameSet = (usedValues[prefix] = usedValues[prefix] || new Map());\n            vs.forEach((name) => {\n                if (nameSet.has(name))\n                    return;\n                nameSet.set(name, UsedValueState.Started);\n                let c = valueCode(name);\n                if (c) {\n                    const def = this.opts.es5 ? exports.varKinds.var : exports.varKinds.const;\n                    code = (0, code_1._) `${code}${def} ${name} = ${c};${this.opts._n}`;\n                }\n                else if ((c = getCode === null || getCode === void 0 ? void 0 : getCode(name))) {\n                    code = (0, code_1._) `${code}${c}${this.opts._n}`;\n                }\n                else {\n                    throw new ValueError(name);\n                }\n                nameSet.set(name, UsedValueState.Completed);\n            });\n        }\n        return code;\n    }\n}\nexports.ValueScope = ValueScope;\n//# sourceMappingURL=scope.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.or = exports.and = exports.not = exports.CodeGen = exports.operators = exports.varKinds = exports.ValueScopeName = exports.ValueScope = exports.Scope = exports.Name = exports.regexpCode = exports.stringify = exports.getProperty = exports.nil = exports.strConcat = exports.str = exports._ = void 0;\nconst code_1 = require(\"./code\");\nconst scope_1 = require(\"./scope\");\nvar code_2 = require(\"./code\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return code_2._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return code_2.str; } });\nObject.defineProperty(exports, \"strConcat\", { enumerable: true, get: function () { return code_2.strConcat; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return code_2.nil; } });\nObject.defineProperty(exports, \"getProperty\", { enumerable: true, get: function () { return code_2.getProperty; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return code_2.stringify; } });\nObject.defineProperty(exports, \"regexpCode\", { enumerable: true, get: function () { return code_2.regexpCode; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return code_2.Name; } });\nvar scope_2 = require(\"./scope\");\nObject.defineProperty(exports, \"Scope\", { enumerable: true, get: function () { return scope_2.Scope; } });\nObject.defineProperty(exports, \"ValueScope\", { enumerable: true, get: function () { return scope_2.ValueScope; } });\nObject.defineProperty(exports, \"ValueScopeName\", { enumerable: true, get: function () { return scope_2.ValueScopeName; } });\nObject.defineProperty(exports, \"varKinds\", { enumerable: true, get: function () { return scope_2.varKinds; } });\nexports.operators = {\n    GT: new code_1._Code(\">\"),\n    GTE: new code_1._Code(\">=\"),\n    LT: new code_1._Code(\"<\"),\n    LTE: new code_1._Code(\"<=\"),\n    EQ: new code_1._Code(\"===\"),\n    NEQ: new code_1._Code(\"!==\"),\n    NOT: new code_1._Code(\"!\"),\n    OR: new code_1._Code(\"||\"),\n    AND: new code_1._Code(\"&&\"),\n    ADD: new code_1._Code(\"+\"),\n};\nclass Node {\n    optimizeNodes() {\n        return this;\n    }\n    optimizeNames(_names, _constants) {\n        return this;\n    }\n}\nclass Def extends Node {\n    constructor(varKind, name, rhs) {\n        super();\n        this.varKind = varKind;\n        this.name = name;\n        this.rhs = rhs;\n    }\n    render({ es5, _n }) {\n        const varKind = es5 ? scope_1.varKinds.var : this.varKind;\n        const rhs = this.rhs === undefined ? \"\" : ` = ${this.rhs}`;\n        return `${varKind} ${this.name}${rhs};` + _n;\n    }\n    optimizeNames(names, constants) {\n        if (!names[this.name.str])\n            return;\n        if (this.rhs)\n            this.rhs = optimizeExpr(this.rhs, names, constants);\n        return this;\n    }\n    get names() {\n        return this.rhs instanceof code_1._CodeOrName ? this.rhs.names : {};\n    }\n}\nclass Assign extends Node {\n    constructor(lhs, rhs, sideEffects) {\n        super();\n        this.lhs = lhs;\n        this.rhs = rhs;\n        this.sideEffects = sideEffects;\n    }\n    render({ _n }) {\n        return `${this.lhs} = ${this.rhs};` + _n;\n    }\n    optimizeNames(names, constants) {\n        if (this.lhs instanceof code_1.Name && !names[this.lhs.str] && !this.sideEffects)\n            return;\n        this.rhs = optimizeExpr(this.rhs, names, constants);\n        return this;\n    }\n    get names() {\n        const names = this.lhs instanceof code_1.Name ? {} : { ...this.lhs.names };\n        return addExprNames(names, this.rhs);\n    }\n}\nclass AssignOp extends Assign {\n    constructor(lhs, op, rhs, sideEffects) {\n        super(lhs, rhs, sideEffects);\n        this.op = op;\n    }\n    render({ _n }) {\n        return `${this.lhs} ${this.op}= ${this.rhs};` + _n;\n    }\n}\nclass Label extends Node {\n    constructor(label) {\n        super();\n        this.label = label;\n        this.names = {};\n    }\n    render({ _n }) {\n        return `${this.label}:` + _n;\n    }\n}\nclass Break extends Node {\n    constructor(label) {\n        super();\n        this.label = label;\n        this.names = {};\n    }\n    render({ _n }) {\n        const label = this.label ? ` ${this.label}` : \"\";\n        return `break${label};` + _n;\n    }\n}\nclass Throw extends Node {\n    constructor(error) {\n        super();\n        this.error = error;\n    }\n    render({ _n }) {\n        return `throw ${this.error};` + _n;\n    }\n    get names() {\n        return this.error.names;\n    }\n}\nclass AnyCode extends Node {\n    constructor(code) {\n        super();\n        this.code = code;\n    }\n    render({ _n }) {\n        return `${this.code};` + _n;\n    }\n    optimizeNodes() {\n        return `${this.code}` ? this : undefined;\n    }\n    optimizeNames(names, constants) {\n        this.code = optimizeExpr(this.code, names, constants);\n        return this;\n    }\n    get names() {\n        return this.code instanceof code_1._CodeOrName ? this.code.names : {};\n    }\n}\nclass ParentNode extends Node {\n    constructor(nodes = []) {\n        super();\n        this.nodes = nodes;\n    }\n    render(opts) {\n        return this.nodes.reduce((code, n) => code + n.render(opts), \"\");\n    }\n    optimizeNodes() {\n        const { nodes } = this;\n        let i = nodes.length;\n        while (i--) {\n            const n = nodes[i].optimizeNodes();\n            if (Array.isArray(n))\n                nodes.splice(i, 1, ...n);\n            else if (n)\n                nodes[i] = n;\n            else\n                nodes.splice(i, 1);\n        }\n        return nodes.length > 0 ? this : undefined;\n    }\n    optimizeNames(names, constants) {\n        const { nodes } = this;\n        let i = nodes.length;\n        while (i--) {\n            // iterating backwards improves 1-pass optimization\n            const n = nodes[i];\n            if (n.optimizeNames(names, constants))\n                continue;\n            subtractNames(names, n.names);\n            nodes.splice(i, 1);\n        }\n        return nodes.length > 0 ? this : undefined;\n    }\n    get names() {\n        return this.nodes.reduce((names, n) => addNames(names, n.names), {});\n    }\n}\nclass BlockNode extends ParentNode {\n    render(opts) {\n        return \"{\" + opts._n + super.render(opts) + \"}\" + opts._n;\n    }\n}\nclass Root extends ParentNode {\n}\nclass Else extends BlockNode {\n}\nElse.kind = \"else\";\nclass If extends BlockNode {\n    constructor(condition, nodes) {\n        super(nodes);\n        this.condition = condition;\n    }\n    render(opts) {\n        let code = `if(${this.condition})` + super.render(opts);\n        if (this.else)\n            code += \"else \" + this.else.render(opts);\n        return code;\n    }\n    optimizeNodes() {\n        super.optimizeNodes();\n        const cond = this.condition;\n        if (cond === true)\n            return this.nodes; // else is ignored here\n        let e = this.else;\n        if (e) {\n            const ns = e.optimizeNodes();\n            e = this.else = Array.isArray(ns) ? new Else(ns) : ns;\n        }\n        if (e) {\n            if (cond === false)\n                return e instanceof If ? e : e.nodes;\n            if (this.nodes.length)\n                return this;\n            return new If(not(cond), e instanceof If ? [e] : e.nodes);\n        }\n        if (cond === false || !this.nodes.length)\n            return undefined;\n        return this;\n    }\n    optimizeNames(names, constants) {\n        var _a;\n        this.else = (_a = this.else) === null || _a === void 0 ? void 0 : _a.optimizeNames(names, constants);\n        if (!(super.optimizeNames(names, constants) || this.else))\n            return;\n        this.condition = optimizeExpr(this.condition, names, constants);\n        return this;\n    }\n    get names() {\n        const names = super.names;\n        addExprNames(names, this.condition);\n        if (this.else)\n            addNames(names, this.else.names);\n        return names;\n    }\n}\nIf.kind = \"if\";\nclass For extends BlockNode {\n}\nFor.kind = \"for\";\nclass ForLoop extends For {\n    constructor(iteration) {\n        super();\n        this.iteration = iteration;\n    }\n    render(opts) {\n        return `for(${this.iteration})` + super.render(opts);\n    }\n    optimizeNames(names, constants) {\n        if (!super.optimizeNames(names, constants))\n            return;\n        this.iteration = optimizeExpr(this.iteration, names, constants);\n        return this;\n    }\n    get names() {\n        return addNames(super.names, this.iteration.names);\n    }\n}\nclass ForRange extends For {\n    constructor(varKind, name, from, to) {\n        super();\n        this.varKind = varKind;\n        this.name = name;\n        this.from = from;\n        this.to = to;\n    }\n    render(opts) {\n        const varKind = opts.es5 ? scope_1.varKinds.var : this.varKind;\n        const { name, from, to } = this;\n        return `for(${varKind} ${name}=${from}; ${name}<${to}; ${name}++)` + super.render(opts);\n    }\n    get names() {\n        const names = addExprNames(super.names, this.from);\n        return addExprNames(names, this.to);\n    }\n}\nclass ForIter extends For {\n    constructor(loop, varKind, name, iterable) {\n        super();\n        this.loop = loop;\n        this.varKind = varKind;\n        this.name = name;\n        this.iterable = iterable;\n    }\n    render(opts) {\n        return `for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})` + super.render(opts);\n    }\n    optimizeNames(names, constants) {\n        if (!super.optimizeNames(names, constants))\n            return;\n        this.iterable = optimizeExpr(this.iterable, names, constants);\n        return this;\n    }\n    get names() {\n        return addNames(super.names, this.iterable.names);\n    }\n}\nclass Func extends BlockNode {\n    constructor(name, args, async) {\n        super();\n        this.name = name;\n        this.args = args;\n        this.async = async;\n    }\n    render(opts) {\n        const _async = this.async ? \"async \" : \"\";\n        return `${_async}function ${this.name}(${this.args})` + super.render(opts);\n    }\n}\nFunc.kind = \"func\";\nclass Return extends ParentNode {\n    render(opts) {\n        return \"return \" + super.render(opts);\n    }\n}\nReturn.kind = \"return\";\nclass Try extends BlockNode {\n    render(opts) {\n        let code = \"try\" + super.render(opts);\n        if (this.catch)\n            code += this.catch.render(opts);\n        if (this.finally)\n            code += this.finally.render(opts);\n        return code;\n    }\n    optimizeNodes() {\n        var _a, _b;\n        super.optimizeNodes();\n        (_a = this.catch) === null || _a === void 0 ? void 0 : _a.optimizeNodes();\n        (_b = this.finally) === null || _b === void 0 ? void 0 : _b.optimizeNodes();\n        return this;\n    }\n    optimizeNames(names, constants) {\n        var _a, _b;\n        super.optimizeNames(names, constants);\n        (_a = this.catch) === null || _a === void 0 ? void 0 : _a.optimizeNames(names, constants);\n        (_b = this.finally) === null || _b === void 0 ? void 0 : _b.optimizeNames(names, constants);\n        return this;\n    }\n    get names() {\n        const names = super.names;\n        if (this.catch)\n            addNames(names, this.catch.names);\n        if (this.finally)\n            addNames(names, this.finally.names);\n        return names;\n    }\n}\nclass Catch extends BlockNode {\n    constructor(error) {\n        super();\n        this.error = error;\n    }\n    render(opts) {\n        return `catch(${this.error})` + super.render(opts);\n    }\n}\nCatch.kind = \"catch\";\nclass Finally extends BlockNode {\n    render(opts) {\n        return \"finally\" + super.render(opts);\n    }\n}\nFinally.kind = \"finally\";\nclass CodeGen {\n    constructor(extScope, opts = {}) {\n        this._values = {};\n        this._blockStarts = [];\n        this._constants = {};\n        this.opts = { ...opts, _n: opts.lines ? \"\\n\" : \"\" };\n        this._extScope = extScope;\n        this._scope = new scope_1.Scope({ parent: extScope });\n        this._nodes = [new Root()];\n    }\n    toString() {\n        return this._root.render(this.opts);\n    }\n    // returns unique name in the internal scope\n    name(prefix) {\n        return this._scope.name(prefix);\n    }\n    // reserves unique name in the external scope\n    scopeName(prefix) {\n        return this._extScope.name(prefix);\n    }\n    // reserves unique name in the external scope and assigns value to it\n    scopeValue(prefixOrName, value) {\n        const name = this._extScope.value(prefixOrName, value);\n        const vs = this._values[name.prefix] || (this._values[name.prefix] = new Set());\n        vs.add(name);\n        return name;\n    }\n    getScopeValue(prefix, keyOrRef) {\n        return this._extScope.getValue(prefix, keyOrRef);\n    }\n    // return code that assigns values in the external scope to the names that are used internally\n    // (same names that were returned by gen.scopeName or gen.scopeValue)\n    scopeRefs(scopeName) {\n        return this._extScope.scopeRefs(scopeName, this._values);\n    }\n    scopeCode() {\n        return this._extScope.scopeCode(this._values);\n    }\n    _def(varKind, nameOrPrefix, rhs, constant) {\n        const name = this._scope.toName(nameOrPrefix);\n        if (rhs !== undefined && constant)\n            this._constants[name.str] = rhs;\n        this._leafNode(new Def(varKind, name, rhs));\n        return name;\n    }\n    // `const` declaration (`var` in es5 mode)\n    const(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.const, nameOrPrefix, rhs, _constant);\n    }\n    // `let` declaration with optional assignment (`var` in es5 mode)\n    let(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.let, nameOrPrefix, rhs, _constant);\n    }\n    // `var` declaration with optional assignment\n    var(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.var, nameOrPrefix, rhs, _constant);\n    }\n    // assignment code\n    assign(lhs, rhs, sideEffects) {\n        return this._leafNode(new Assign(lhs, rhs, sideEffects));\n    }\n    // `+=` code\n    add(lhs, rhs) {\n        return this._leafNode(new AssignOp(lhs, exports.operators.ADD, rhs));\n    }\n    // appends passed SafeExpr to code or executes Block\n    code(c) {\n        if (typeof c == \"function\")\n            c();\n        else if (c !== code_1.nil)\n            this._leafNode(new AnyCode(c));\n        return this;\n    }\n    // returns code for object literal for the passed argument list of key-value pairs\n    object(...keyValues) {\n        const code = [\"{\"];\n        for (const [key, value] of keyValues) {\n            if (code.length > 1)\n                code.push(\",\");\n            code.push(key);\n            if (key !== value || this.opts.es5) {\n                code.push(\":\");\n                (0, code_1.addCodeArg)(code, value);\n            }\n        }\n        code.push(\"}\");\n        return new code_1._Code(code);\n    }\n    // `if` clause (or statement if `thenBody` and, optionally, `elseBody` are passed)\n    if(condition, thenBody, elseBody) {\n        this._blockNode(new If(condition));\n        if (thenBody && elseBody) {\n            this.code(thenBody).else().code(elseBody).endIf();\n        }\n        else if (thenBody) {\n            this.code(thenBody).endIf();\n        }\n        else if (elseBody) {\n            throw new Error('CodeGen: \"else\" body without \"then\" body');\n        }\n        return this;\n    }\n    // `else if` clause - invalid without `if` or after `else` clauses\n    elseIf(condition) {\n        return this._elseNode(new If(condition));\n    }\n    // `else` clause - only valid after `if` or `else if` clauses\n    else() {\n        return this._elseNode(new Else());\n    }\n    // end `if` statement (needed if gen.if was used only with condition)\n    endIf() {\n        return this._endBlockNode(If, Else);\n    }\n    _for(node, forBody) {\n        this._blockNode(node);\n        if (forBody)\n            this.code(forBody).endFor();\n        return this;\n    }\n    // a generic `for` clause (or statement if `forBody` is passed)\n    for(iteration, forBody) {\n        return this._for(new ForLoop(iteration), forBody);\n    }\n    // `for` statement for a range of values\n    forRange(nameOrPrefix, from, to, forBody, varKind = this.opts.es5 ? scope_1.varKinds.var : scope_1.varKinds.let) {\n        const name = this._scope.toName(nameOrPrefix);\n        return this._for(new ForRange(varKind, name, from, to), () => forBody(name));\n    }\n    // `for-of` statement (in es5 mode replace with a normal for loop)\n    forOf(nameOrPrefix, iterable, forBody, varKind = scope_1.varKinds.const) {\n        const name = this._scope.toName(nameOrPrefix);\n        if (this.opts.es5) {\n            const arr = iterable instanceof code_1.Name ? iterable : this.var(\"_arr\", iterable);\n            return this.forRange(\"_i\", 0, (0, code_1._) `${arr}.length`, (i) => {\n                this.var(name, (0, code_1._) `${arr}[${i}]`);\n                forBody(name);\n            });\n        }\n        return this._for(new ForIter(\"of\", varKind, name, iterable), () => forBody(name));\n    }\n    // `for-in` statement.\n    // With option `ownProperties` replaced with a `for-of` loop for object keys\n    forIn(nameOrPrefix, obj, forBody, varKind = this.opts.es5 ? scope_1.varKinds.var : scope_1.varKinds.const) {\n        if (this.opts.ownProperties) {\n            return this.forOf(nameOrPrefix, (0, code_1._) `Object.keys(${obj})`, forBody);\n        }\n        const name = this._scope.toName(nameOrPrefix);\n        return this._for(new ForIter(\"in\", varKind, name, obj), () => forBody(name));\n    }\n    // end `for` loop\n    endFor() {\n        return this._endBlockNode(For);\n    }\n    // `label` statement\n    label(label) {\n        return this._leafNode(new Label(label));\n    }\n    // `break` statement\n    break(label) {\n        return this._leafNode(new Break(label));\n    }\n    // `return` statement\n    return(value) {\n        const node = new Return();\n        this._blockNode(node);\n        this.code(value);\n        if (node.nodes.length !== 1)\n            throw new Error('CodeGen: \"return\" should have one node');\n        return this._endBlockNode(Return);\n    }\n    // `try` statement\n    try(tryBody, catchCode, finallyCode) {\n        if (!catchCode && !finallyCode)\n            throw new Error('CodeGen: \"try\" without \"catch\" and \"finally\"');\n        const node = new Try();\n        this._blockNode(node);\n        this.code(tryBody);\n        if (catchCode) {\n            const error = this.name(\"e\");\n            this._currNode = node.catch = new Catch(error);\n            catchCode(error);\n        }\n        if (finallyCode) {\n            this._currNode = node.finally = new Finally();\n            this.code(finallyCode);\n        }\n        return this._endBlockNode(Catch, Finally);\n    }\n    // `throw` statement\n    throw(error) {\n        return this._leafNode(new Throw(error));\n    }\n    // start self-balancing block\n    block(body, nodeCount) {\n        this._blockStarts.push(this._nodes.length);\n        if (body)\n            this.code(body).endBlock(nodeCount);\n        return this;\n    }\n    // end the current self-balancing block\n    endBlock(nodeCount) {\n        const len = this._blockStarts.pop();\n        if (len === undefined)\n            throw new Error(\"CodeGen: not in self-balancing block\");\n        const toClose = this._nodes.length - len;\n        if (toClose < 0 || (nodeCount !== undefined && toClose !== nodeCount)) {\n            throw new Error(`CodeGen: wrong number of nodes: ${toClose} vs ${nodeCount} expected`);\n        }\n        this._nodes.length = len;\n        return this;\n    }\n    // `function` heading (or definition if funcBody is passed)\n    func(name, args = code_1.nil, async, funcBody) {\n        this._blockNode(new Func(name, args, async));\n        if (funcBody)\n            this.code(funcBody).endFunc();\n        return this;\n    }\n    // end function definition\n    endFunc() {\n        return this._endBlockNode(Func);\n    }\n    optimize(n = 1) {\n        while (n-- > 0) {\n            this._root.optimizeNodes();\n            this._root.optimizeNames(this._root.names, this._constants);\n        }\n    }\n    _leafNode(node) {\n        this._currNode.nodes.push(node);\n        return this;\n    }\n    _blockNode(node) {\n        this._currNode.nodes.push(node);\n        this._nodes.push(node);\n    }\n    _endBlockNode(N1, N2) {\n        const n = this._currNode;\n        if (n instanceof N1 || (N2 && n instanceof N2)) {\n            this._nodes.pop();\n            return this;\n        }\n        throw new Error(`CodeGen: not in block \"${N2 ? `${N1.kind}/${N2.kind}` : N1.kind}\"`);\n    }\n    _elseNode(node) {\n        const n = this._currNode;\n        if (!(n instanceof If)) {\n            throw new Error('CodeGen: \"else\" without \"if\"');\n        }\n        this._currNode = n.else = node;\n        return this;\n    }\n    get _root() {\n        return this._nodes[0];\n    }\n    get _currNode() {\n        const ns = this._nodes;\n        return ns[ns.length - 1];\n    }\n    set _currNode(node) {\n        const ns = this._nodes;\n        ns[ns.length - 1] = node;\n    }\n}\nexports.CodeGen = CodeGen;\nfunction addNames(names, from) {\n    for (const n in from)\n        names[n] = (names[n] || 0) + (from[n] || 0);\n    return names;\n}\nfunction addExprNames(names, from) {\n    return from instanceof code_1._CodeOrName ? addNames(names, from.names) : names;\n}\nfunction optimizeExpr(expr, names, constants) {\n    if (expr instanceof code_1.Name)\n        return replaceName(expr);\n    if (!canOptimize(expr))\n        return expr;\n    return new code_1._Code(expr._items.reduce((items, c) => {\n        if (c instanceof code_1.Name)\n            c = replaceName(c);\n        if (c instanceof code_1._Code)\n            items.push(...c._items);\n        else\n            items.push(c);\n        return items;\n    }, []));\n    function replaceName(n) {\n        const c = constants[n.str];\n        if (c === undefined || names[n.str] !== 1)\n            return n;\n        delete names[n.str];\n        return c;\n    }\n    function canOptimize(e) {\n        return (e instanceof code_1._Code &&\n            e._items.some((c) => c instanceof code_1.Name && names[c.str] === 1 && constants[c.str] !== undefined));\n    }\n}\nfunction subtractNames(names, from) {\n    for (const n in from)\n        names[n] = (names[n] || 0) - (from[n] || 0);\n}\nfunction not(x) {\n    return typeof x == \"boolean\" || typeof x == \"number\" || x === null ? !x : (0, code_1._) `!${par(x)}`;\n}\nexports.not = not;\nconst andCode = mappend(exports.operators.AND);\n// boolean AND (&&) expression with the passed arguments\nfunction and(...args) {\n    return args.reduce(andCode);\n}\nexports.and = and;\nconst orCode = mappend(exports.operators.OR);\n// boolean OR (||) expression with the passed arguments\nfunction or(...args) {\n    return args.reduce(orCode);\n}\nexports.or = or;\nfunction mappend(op) {\n    return (x, y) => (x === code_1.nil ? y : y === code_1.nil ? x : (0, code_1._) `${par(x)} ${op} ${par(y)}`);\n}\nfunction par(x) {\n    return x instanceof code_1.Name ? x : (0, code_1._) `(${x})`;\n}\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.checkStrictMode = exports.getErrorPath = exports.Type = exports.useFunc = exports.setEvaluated = exports.evaluatedPropsToName = exports.mergeEvaluated = exports.eachItem = exports.unescapeJsonPointer = exports.escapeJsonPointer = exports.escapeFragment = exports.unescapeFragment = exports.schemaRefOrVal = exports.schemaHasRulesButRef = exports.schemaHasRules = exports.checkUnknownRules = exports.alwaysValidSchema = exports.toHash = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst code_1 = require(\"./codegen/code\");\n// TODO refactor to use Set\nfunction toHash(arr) {\n    const hash = {};\n    for (const item of arr)\n        hash[item] = true;\n    return hash;\n}\nexports.toHash = toHash;\nfunction alwaysValidSchema(it, schema) {\n    if (typeof schema == \"boolean\")\n        return schema;\n    if (Object.keys(schema).length === 0)\n        return true;\n    checkUnknownRules(it, schema);\n    return !schemaHasRules(schema, it.self.RULES.all);\n}\nexports.alwaysValidSchema = alwaysValidSchema;\nfunction checkUnknownRules(it, schema = it.schema) {\n    const { opts, self } = it;\n    if (!opts.strictSchema)\n        return;\n    if (typeof schema === \"boolean\")\n        return;\n    const rules = self.RULES.keywords;\n    for (const key in schema) {\n        if (!rules[key])\n            checkStrictMode(it, `unknown keyword: \"${key}\"`);\n    }\n}\nexports.checkUnknownRules = checkUnknownRules;\nfunction schemaHasRules(schema, rules) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (rules[key])\n            return true;\n    return false;\n}\nexports.schemaHasRules = schemaHasRules;\nfunction schemaHasRulesButRef(schema, RULES) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (key !== \"$ref\" && RULES.all[key])\n            return true;\n    return false;\n}\nexports.schemaHasRulesButRef = schemaHasRulesButRef;\nfunction schemaRefOrVal({ topSchemaRef, schemaPath }, schema, keyword, $data) {\n    if (!$data) {\n        if (typeof schema == \"number\" || typeof schema == \"boolean\")\n            return schema;\n        if (typeof schema == \"string\")\n            return (0, codegen_1._) `${schema}`;\n    }\n    return (0, codegen_1._) `${topSchemaRef}${schemaPath}${(0, codegen_1.getProperty)(keyword)}`;\n}\nexports.schemaRefOrVal = schemaRefOrVal;\nfunction unescapeFragment(str) {\n    return unescapeJsonPointer(decodeURIComponent(str));\n}\nexports.unescapeFragment = unescapeFragment;\nfunction escapeFragment(str) {\n    return encodeURIComponent(escapeJsonPointer(str));\n}\nexports.escapeFragment = escapeFragment;\nfunction escapeJsonPointer(str) {\n    if (typeof str == \"number\")\n        return `${str}`;\n    return str.replace(/~/g, \"~0\").replace(/\\//g, \"~1\");\n}\nexports.escapeJsonPointer = escapeJsonPointer;\nfunction unescapeJsonPointer(str) {\n    return str.replace(/~1/g, \"/\").replace(/~0/g, \"~\");\n}\nexports.unescapeJsonPointer = unescapeJsonPointer;\nfunction eachItem(xs, f) {\n    if (Array.isArray(xs)) {\n        for (const x of xs)\n            f(x);\n    }\n    else {\n        f(xs);\n    }\n}\nexports.eachItem = eachItem;\nfunction makeMergeEvaluated({ mergeNames, mergeToName, mergeValues, resultToName, }) {\n    return (gen, from, to, toName) => {\n        const res = to === undefined\n            ? from\n            : to instanceof codegen_1.Name\n                ? (from instanceof codegen_1.Name ? mergeNames(gen, from, to) : mergeToName(gen, from, to), to)\n                : from instanceof codegen_1.Name\n                    ? (mergeToName(gen, to, from), from)\n                    : mergeValues(from, to);\n        return toName === codegen_1.Name && !(res instanceof codegen_1.Name) ? resultToName(gen, res) : res;\n    };\n}\nexports.mergeEvaluated = {\n    props: makeMergeEvaluated({\n        mergeNames: (gen, from, to) => gen.if((0, codegen_1._) `${to} !== true && ${from} !== undefined`, () => {\n            gen.if((0, codegen_1._) `${from} === true`, () => gen.assign(to, true), () => gen.assign(to, (0, codegen_1._) `${to} || {}`).code((0, codegen_1._) `Object.assign(${to}, ${from})`));\n        }),\n        mergeToName: (gen, from, to) => gen.if((0, codegen_1._) `${to} !== true`, () => {\n            if (from === true) {\n                gen.assign(to, true);\n            }\n            else {\n                gen.assign(to, (0, codegen_1._) `${to} || {}`);\n                setEvaluated(gen, to, from);\n            }\n        }),\n        mergeValues: (from, to) => (from === true ? true : { ...from, ...to }),\n        resultToName: evaluatedPropsToName,\n    }),\n    items: makeMergeEvaluated({\n        mergeNames: (gen, from, to) => gen.if((0, codegen_1._) `${to} !== true && ${from} !== undefined`, () => gen.assign(to, (0, codegen_1._) `${from} === true ? true : ${to} > ${from} ? ${to} : ${from}`)),\n        mergeToName: (gen, from, to) => gen.if((0, codegen_1._) `${to} !== true`, () => gen.assign(to, from === true ? true : (0, codegen_1._) `${to} > ${from} ? ${to} : ${from}`)),\n        mergeValues: (from, to) => (from === true ? true : Math.max(from, to)),\n        resultToName: (gen, items) => gen.var(\"items\", items),\n    }),\n};\nfunction evaluatedPropsToName(gen, ps) {\n    if (ps === true)\n        return gen.var(\"props\", true);\n    const props = gen.var(\"props\", (0, codegen_1._) `{}`);\n    if (ps !== undefined)\n        setEvaluated(gen, props, ps);\n    return props;\n}\nexports.evaluatedPropsToName = evaluatedPropsToName;\nfunction setEvaluated(gen, props, ps) {\n    Object.keys(ps).forEach((p) => gen.assign((0, codegen_1._) `${props}${(0, codegen_1.getProperty)(p)}`, true));\n}\nexports.setEvaluated = setEvaluated;\nconst snippets = {};\nfunction useFunc(gen, f) {\n    return gen.scopeValue(\"func\", {\n        ref: f,\n        code: snippets[f.code] || (snippets[f.code] = new code_1._Code(f.code)),\n    });\n}\nexports.useFunc = useFunc;\nvar Type;\n(function (Type) {\n    Type[Type[\"Num\"] = 0] = \"Num\";\n    Type[Type[\"Str\"] = 1] = \"Str\";\n})(Type = exports.Type || (exports.Type = {}));\nfunction getErrorPath(dataProp, dataPropType, jsPropertySyntax) {\n    // let path\n    if (dataProp instanceof codegen_1.Name) {\n        const isNumber = dataPropType === Type.Num;\n        return jsPropertySyntax\n            ? isNumber\n                ? (0, codegen_1._) `\"[\" + ${dataProp} + \"]\"`\n                : (0, codegen_1._) `\"['\" + ${dataProp} + \"']\"`\n            : isNumber\n                ? (0, codegen_1._) `\"/\" + ${dataProp}`\n                : (0, codegen_1._) `\"/\" + ${dataProp}.replace(/~/g, \"~0\").replace(/\\\\//g, \"~1\")`; // TODO maybe use global escapePointer\n    }\n    return jsPropertySyntax ? (0, codegen_1.getProperty)(dataProp).toString() : \"/\" + escapeJsonPointer(dataProp);\n}\nexports.getErrorPath = getErrorPath;\nfunction checkStrictMode(it, msg, mode = it.opts.strictSchema) {\n    if (!mode)\n        return;\n    msg = `strict mode: ${msg}`;\n    if (mode === true)\n        throw new Error(msg);\n    it.self.logger.warn(msg);\n}\nexports.checkStrictMode = checkStrictMode;\n//# sourceMappingURL=util.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"./codegen\");\nconst names = {\n    // validation function arguments\n    data: new codegen_1.Name(\"data\"),\n    // args passed from referencing schema\n    valCxt: new codegen_1.Name(\"valCxt\"),\n    instancePath: new codegen_1.Name(\"instancePath\"),\n    parentData: new codegen_1.Name(\"parentData\"),\n    parentDataProperty: new codegen_1.Name(\"parentDataProperty\"),\n    rootData: new codegen_1.Name(\"rootData\"),\n    dynamicAnchors: new codegen_1.Name(\"dynamicAnchors\"),\n    // function scoped variables\n    vErrors: new codegen_1.Name(\"vErrors\"),\n    errors: new codegen_1.Name(\"errors\"),\n    this: new codegen_1.Name(\"this\"),\n    // \"globals\"\n    self: new codegen_1.Name(\"self\"),\n    scope: new codegen_1.Name(\"scope\"),\n    // JTD serialize/parse name for JSON string and position\n    json: new codegen_1.Name(\"json\"),\n    jsonPos: new codegen_1.Name(\"jsonPos\"),\n    jsonLen: new codegen_1.Name(\"jsonLen\"),\n    jsonPart: new codegen_1.Name(\"jsonPart\"),\n};\nexports.default = names;\n//# sourceMappingURL=names.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.extendErrors = exports.resetErrorsCount = exports.reportExtraError = exports.reportError = exports.keyword$DataError = exports.keywordError = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst util_1 = require(\"./util\");\nconst names_1 = require(\"./names\");\nexports.keywordError = {\n    message: ({ keyword }) => (0, codegen_1.str) `must pass \"${keyword}\" keyword validation`,\n};\nexports.keyword$DataError = {\n    message: ({ keyword, schemaType }) => schemaType\n        ? (0, codegen_1.str) `\"${keyword}\" keyword must be ${schemaType} ($data)`\n        : (0, codegen_1.str) `\"${keyword}\" keyword is invalid ($data)`,\n};\nfunction reportError(cxt, error = exports.keywordError, errorPaths, overrideAllErrors) {\n    const { it } = cxt;\n    const { gen, compositeRule, allErrors } = it;\n    const errObj = errorObjectCode(cxt, error, errorPaths);\n    if (overrideAllErrors !== null && overrideAllErrors !== void 0 ? overrideAllErrors : (compositeRule || allErrors)) {\n        addError(gen, errObj);\n    }\n    else {\n        returnErrors(it, (0, codegen_1._) `[${errObj}]`);\n    }\n}\nexports.reportError = reportError;\nfunction reportExtraError(cxt, error = exports.keywordError, errorPaths) {\n    const { it } = cxt;\n    const { gen, compositeRule, allErrors } = it;\n    const errObj = errorObjectCode(cxt, error, errorPaths);\n    addError(gen, errObj);\n    if (!(compositeRule || allErrors)) {\n        returnErrors(it, names_1.default.vErrors);\n    }\n}\nexports.reportExtraError = reportExtraError;\nfunction resetErrorsCount(gen, errsCount) {\n    gen.assign(names_1.default.errors, errsCount);\n    gen.if((0, codegen_1._) `${names_1.default.vErrors} !== null`, () => gen.if(errsCount, () => gen.assign((0, codegen_1._) `${names_1.default.vErrors}.length`, errsCount), () => gen.assign(names_1.default.vErrors, null)));\n}\nexports.resetErrorsCount = resetErrorsCount;\nfunction extendErrors({ gen, keyword, schemaValue, data, errsCount, it, }) {\n    /* istanbul ignore if */\n    if (errsCount === undefined)\n        throw new Error(\"ajv implementation error\");\n    const err = gen.name(\"err\");\n    gen.forRange(\"i\", errsCount, names_1.default.errors, (i) => {\n        gen.const(err, (0, codegen_1._) `${names_1.default.vErrors}[${i}]`);\n        gen.if((0, codegen_1._) `${err}.instancePath === undefined`, () => gen.assign((0, codegen_1._) `${err}.instancePath`, (0, codegen_1.strConcat)(names_1.default.instancePath, it.errorPath)));\n        gen.assign((0, codegen_1._) `${err}.schemaPath`, (0, codegen_1.str) `${it.errSchemaPath}/${keyword}`);\n        if (it.opts.verbose) {\n            gen.assign((0, codegen_1._) `${err}.schema`, schemaValue);\n            gen.assign((0, codegen_1._) `${err}.data`, data);\n        }\n    });\n}\nexports.extendErrors = extendErrors;\nfunction addError(gen, errObj) {\n    const err = gen.const(\"err\", errObj);\n    gen.if((0, codegen_1._) `${names_1.default.vErrors} === null`, () => gen.assign(names_1.default.vErrors, (0, codegen_1._) `[${err}]`), (0, codegen_1._) `${names_1.default.vErrors}.push(${err})`);\n    gen.code((0, codegen_1._) `${names_1.default.errors}++`);\n}\nfunction returnErrors(it, errs) {\n    const { gen, validateName, schemaEnv } = it;\n    if (schemaEnv.$async) {\n        gen.throw((0, codegen_1._) `new ${it.ValidationError}(${errs})`);\n    }\n    else {\n        gen.assign((0, codegen_1._) `${validateName}.errors`, errs);\n        gen.return(false);\n    }\n}\nconst E = {\n    keyword: new codegen_1.Name(\"keyword\"),\n    schemaPath: new codegen_1.Name(\"schemaPath\"),\n    params: new codegen_1.Name(\"params\"),\n    propertyName: new codegen_1.Name(\"propertyName\"),\n    message: new codegen_1.Name(\"message\"),\n    schema: new codegen_1.Name(\"schema\"),\n    parentSchema: new codegen_1.Name(\"parentSchema\"),\n};\nfunction errorObjectCode(cxt, error, errorPaths) {\n    const { createErrors } = cxt.it;\n    if (createErrors === false)\n        return (0, codegen_1._) `{}`;\n    return errorObject(cxt, error, errorPaths);\n}\nfunction errorObject(cxt, error, errorPaths = {}) {\n    const { gen, it } = cxt;\n    const keyValues = [\n        errorInstancePath(it, errorPaths),\n        errorSchemaPath(cxt, errorPaths),\n    ];\n    extraErrorProps(cxt, error, keyValues);\n    return gen.object(...keyValues);\n}\nfunction errorInstancePath({ errorPath }, { instancePath }) {\n    const instPath = instancePath\n        ? (0, codegen_1.str) `${errorPath}${(0, util_1.getErrorPath)(instancePath, util_1.Type.Str)}`\n        : errorPath;\n    return [names_1.default.instancePath, (0, codegen_1.strConcat)(names_1.default.instancePath, instPath)];\n}\nfunction errorSchemaPath({ keyword, it: { errSchemaPath } }, { schemaPath, parentSchema }) {\n    let schPath = parentSchema ? errSchemaPath : (0, codegen_1.str) `${errSchemaPath}/${keyword}`;\n    if (schemaPath) {\n        schPath = (0, codegen_1.str) `${schPath}${(0, util_1.getErrorPath)(schemaPath, util_1.Type.Str)}`;\n    }\n    return [E.schemaPath, schPath];\n}\nfunction extraErrorProps(cxt, { params, message }, keyValues) {\n    const { keyword, data, schemaValue, it } = cxt;\n    const { opts, propertyName, topSchemaRef, schemaPath } = it;\n    keyValues.push([E.keyword, keyword], [E.params, typeof params == \"function\" ? params(cxt) : params || (0, codegen_1._) `{}`]);\n    if (opts.messages) {\n        keyValues.push([E.message, typeof message == \"function\" ? message(cxt) : message]);\n    }\n    if (opts.verbose) {\n        keyValues.push([E.schema, schemaValue], [E.parentSchema, (0, codegen_1._) `${topSchemaRef}${schemaPath}`], [names_1.default.data, data]);\n    }\n    if (propertyName)\n        keyValues.push([E.propertyName, propertyName]);\n}\n//# sourceMappingURL=errors.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.boolOrEmptySchema = exports.topBoolOrEmptySchema = void 0;\nconst errors_1 = require(\"../errors\");\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nconst boolError = {\n    message: \"boolean schema is false\",\n};\nfunction topBoolOrEmptySchema(it) {\n    const { gen, schema, validateName } = it;\n    if (schema === false) {\n        falseSchemaError(it, false);\n    }\n    else if (typeof schema == \"object\" && schema.$async === true) {\n        gen.return(names_1.default.data);\n    }\n    else {\n        gen.assign((0, codegen_1._) `${validateName}.errors`, null);\n        gen.return(true);\n    }\n}\nexports.topBoolOrEmptySchema = topBoolOrEmptySchema;\nfunction boolOrEmptySchema(it, valid) {\n    const { gen, schema } = it;\n    if (schema === false) {\n        gen.var(valid, false); // TODO var\n        falseSchemaError(it);\n    }\n    else {\n        gen.var(valid, true); // TODO var\n    }\n}\nexports.boolOrEmptySchema = boolOrEmptySchema;\nfunction falseSchemaError(it, overrideAllErrors) {\n    const { gen, data } = it;\n    // TODO maybe some other interface should be used for non-keyword validation errors...\n    const cxt = {\n        gen,\n        keyword: \"false schema\",\n        data,\n        schema: false,\n        schemaCode: false,\n        schemaValue: false,\n        params: {},\n        it,\n    };\n    (0, errors_1.reportError)(cxt, boolError, undefined, overrideAllErrors);\n}\n//# sourceMappingURL=boolSchema.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getRules = exports.isJSONType = void 0;\nconst _jsonTypes = [\"string\", \"number\", \"integer\", \"boolean\", \"null\", \"object\", \"array\"];\nconst jsonTypes = new Set(_jsonTypes);\nfunction isJSONType(x) {\n    return typeof x == \"string\" && jsonTypes.has(x);\n}\nexports.isJSONType = isJSONType;\nfunction getRules() {\n    const groups = {\n        number: { type: \"number\", rules: [] },\n        string: { type: \"string\", rules: [] },\n        array: { type: \"array\", rules: [] },\n        object: { type: \"object\", rules: [] },\n    };\n    return {\n        types: { ...groups, integer: true, boolean: true, null: true },\n        rules: [{ rules: [] }, groups.number, groups.string, groups.array, groups.object],\n        post: { rules: [] },\n        all: {},\n        keywords: {},\n    };\n}\nexports.getRules = getRules;\n//# sourceMappingURL=rules.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.shouldUseRule = exports.shouldUseGroup = exports.schemaHasRulesForType = void 0;\nfunction schemaHasRulesForType({ schema, self }, type) {\n    const group = self.RULES.types[type];\n    return group && group !== true && shouldUseGroup(schema, group);\n}\nexports.schemaHasRulesForType = schemaHasRulesForType;\nfunction shouldUseGroup(schema, group) {\n    return group.rules.some((rule) => shouldUseRule(schema, rule));\n}\nexports.shouldUseGroup = shouldUseGroup;\nfunction shouldUseRule(schema, rule) {\n    var _a;\n    return (schema[rule.keyword] !== undefined ||\n        ((_a = rule.definition.implements) === null || _a === void 0 ? void 0 : _a.some((kwd) => schema[kwd] !== undefined)));\n}\nexports.shouldUseRule = shouldUseRule;\n//# sourceMappingURL=applicability.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.reportTypeError = exports.checkDataTypes = exports.checkDataType = exports.coerceAndCheckDataType = exports.getJSONTypes = exports.getSchemaTypes = exports.DataType = void 0;\nconst rules_1 = require(\"../rules\");\nconst applicability_1 = require(\"./applicability\");\nconst errors_1 = require(\"../errors\");\nconst codegen_1 = require(\"../codegen\");\nconst util_1 = require(\"../util\");\nvar DataType;\n(function (DataType) {\n    DataType[DataType[\"Correct\"] = 0] = \"Correct\";\n    DataType[DataType[\"Wrong\"] = 1] = \"Wrong\";\n})(DataType = exports.DataType || (exports.DataType = {}));\nfunction getSchemaTypes(schema) {\n    const types = getJSONTypes(schema.type);\n    const hasNull = types.includes(\"null\");\n    if (hasNull) {\n        if (schema.nullable === false)\n            throw new Error(\"type: null contradicts nullable: false\");\n    }\n    else {\n        if (!types.length && schema.nullable !== undefined) {\n            throw new Error('\"nullable\" cannot be used without \"type\"');\n        }\n        if (schema.nullable === true)\n            types.push(\"null\");\n    }\n    return types;\n}\nexports.getSchemaTypes = getSchemaTypes;\nfunction getJSONTypes(ts) {\n    const types = Array.isArray(ts) ? ts : ts ? [ts] : [];\n    if (types.every(rules_1.isJSONType))\n        return types;\n    throw new Error(\"type must be JSONType or JSONType[]: \" + types.join(\",\"));\n}\nexports.getJSONTypes = getJSONTypes;\nfunction coerceAndCheckDataType(it, types) {\n    const { gen, data, opts } = it;\n    const coerceTo = coerceToTypes(types, opts.coerceTypes);\n    const checkTypes = types.length > 0 &&\n        !(coerceTo.length === 0 && types.length === 1 && (0, applicability_1.schemaHasRulesForType)(it, types[0]));\n    if (checkTypes) {\n        const wrongType = checkDataTypes(types, data, opts.strictNumbers, DataType.Wrong);\n        gen.if(wrongType, () => {\n            if (coerceTo.length)\n                coerceData(it, types, coerceTo);\n            else\n                reportTypeError(it);\n        });\n    }\n    return checkTypes;\n}\nexports.coerceAndCheckDataType = coerceAndCheckDataType;\nconst COERCIBLE = new Set([\"string\", \"number\", \"integer\", \"boolean\", \"null\"]);\nfunction coerceToTypes(types, coerceTypes) {\n    return coerceTypes\n        ? types.filter((t) => COERCIBLE.has(t) || (coerceTypes === \"array\" && t === \"array\"))\n        : [];\n}\nfunction coerceData(it, types, coerceTo) {\n    const { gen, data, opts } = it;\n    const dataType = gen.let(\"dataType\", (0, codegen_1._) `typeof ${data}`);\n    const coerced = gen.let(\"coerced\", (0, codegen_1._) `undefined`);\n    if (opts.coerceTypes === \"array\") {\n        gen.if((0, codegen_1._) `${dataType} == 'object' && Array.isArray(${data}) && ${data}.length == 1`, () => gen\n            .assign(data, (0, codegen_1._) `${data}[0]`)\n            .assign(dataType, (0, codegen_1._) `typeof ${data}`)\n            .if(checkDataTypes(types, data, opts.strictNumbers), () => gen.assign(coerced, data)));\n    }\n    gen.if((0, codegen_1._) `${coerced} !== undefined`);\n    for (const t of coerceTo) {\n        if (COERCIBLE.has(t) || (t === \"array\" && opts.coerceTypes === \"array\")) {\n            coerceSpecificType(t);\n        }\n    }\n    gen.else();\n    reportTypeError(it);\n    gen.endIf();\n    gen.if((0, codegen_1._) `${coerced} !== undefined`, () => {\n        gen.assign(data, coerced);\n        assignParentData(it, coerced);\n    });\n    function coerceSpecificType(t) {\n        switch (t) {\n            case \"string\":\n                gen\n                    .elseIf((0, codegen_1._) `${dataType} == \"number\" || ${dataType} == \"boolean\"`)\n                    .assign(coerced, (0, codegen_1._) `\"\" + ${data}`)\n                    .elseIf((0, codegen_1._) `${data} === null`)\n                    .assign(coerced, (0, codegen_1._) `\"\"`);\n                return;\n            case \"number\":\n                gen\n                    .elseIf((0, codegen_1._) `${dataType} == \"boolean\" || ${data} === null\n              || (${dataType} == \"string\" && ${data} && ${data} == +${data})`)\n                    .assign(coerced, (0, codegen_1._) `+${data}`);\n                return;\n            case \"integer\":\n                gen\n                    .elseIf((0, codegen_1._) `${dataType} === \"boolean\" || ${data} === null\n              || (${dataType} === \"string\" && ${data} && ${data} == +${data} && !(${data} % 1))`)\n                    .assign(coerced, (0, codegen_1._) `+${data}`);\n                return;\n            case \"boolean\":\n                gen\n                    .elseIf((0, codegen_1._) `${data} === \"false\" || ${data} === 0 || ${data} === null`)\n                    .assign(coerced, false)\n                    .elseIf((0, codegen_1._) `${data} === \"true\" || ${data} === 1`)\n                    .assign(coerced, true);\n                return;\n            case \"null\":\n                gen.elseIf((0, codegen_1._) `${data} === \"\" || ${data} === 0 || ${data} === false`);\n                gen.assign(coerced, null);\n                return;\n            case \"array\":\n                gen\n                    .elseIf((0, codegen_1._) `${dataType} === \"string\" || ${dataType} === \"number\"\n              || ${dataType} === \"boolean\" || ${data} === null`)\n                    .assign(coerced, (0, codegen_1._) `[${data}]`);\n        }\n    }\n}\nfunction assignParentData({ gen, parentData, parentDataProperty }, expr) {\n    // TODO use gen.property\n    gen.if((0, codegen_1._) `${parentData} !== undefined`, () => gen.assign((0, codegen_1._) `${parentData}[${parentDataProperty}]`, expr));\n}\nfunction checkDataType(dataType, data, strictNums, correct = DataType.Correct) {\n    const EQ = correct === DataType.Correct ? codegen_1.operators.EQ : codegen_1.operators.NEQ;\n    let cond;\n    switch (dataType) {\n        case \"null\":\n            return (0, codegen_1._) `${data} ${EQ} null`;\n        case \"array\":\n            cond = (0, codegen_1._) `Array.isArray(${data})`;\n            break;\n        case \"object\":\n            cond = (0, codegen_1._) `${data} && typeof ${data} == \"object\" && !Array.isArray(${data})`;\n            break;\n        case \"integer\":\n            cond = numCond((0, codegen_1._) `!(${data} % 1) && !isNaN(${data})`);\n            break;\n        case \"number\":\n            cond = numCond();\n            break;\n        default:\n            return (0, codegen_1._) `typeof ${data} ${EQ} ${dataType}`;\n    }\n    return correct === DataType.Correct ? cond : (0, codegen_1.not)(cond);\n    function numCond(_cond = codegen_1.nil) {\n        return (0, codegen_1.and)((0, codegen_1._) `typeof ${data} == \"number\"`, _cond, strictNums ? (0, codegen_1._) `isFinite(${data})` : codegen_1.nil);\n    }\n}\nexports.checkDataType = checkDataType;\nfunction checkDataTypes(dataTypes, data, strictNums, correct) {\n    if (dataTypes.length === 1) {\n        return checkDataType(dataTypes[0], data, strictNums, correct);\n    }\n    let cond;\n    const types = (0, util_1.toHash)(dataTypes);\n    if (types.array && types.object) {\n        const notObj = (0, codegen_1._) `typeof ${data} != \"object\"`;\n        cond = types.null ? notObj : (0, codegen_1._) `!${data} || ${notObj}`;\n        delete types.null;\n        delete types.array;\n        delete types.object;\n    }\n    else {\n        cond = codegen_1.nil;\n    }\n    if (types.number)\n        delete types.integer;\n    for (const t in types)\n        cond = (0, codegen_1.and)(cond, checkDataType(t, data, strictNums, correct));\n    return cond;\n}\nexports.checkDataTypes = checkDataTypes;\nconst typeError = {\n    message: ({ schema }) => `must be ${schema}`,\n    params: ({ schema, schemaValue }) => typeof schema == \"string\" ? (0, codegen_1._) `{type: ${schema}}` : (0, codegen_1._) `{type: ${schemaValue}}`,\n};\nfunction reportTypeError(it) {\n    const cxt = getTypeErrorContext(it);\n    (0, errors_1.reportError)(cxt, typeError);\n}\nexports.reportTypeError = reportTypeError;\nfunction getTypeErrorContext(it) {\n    const { gen, data, schema } = it;\n    const schemaCode = (0, util_1.schemaRefOrVal)(it, schema, \"type\");\n    return {\n        gen,\n        keyword: \"type\",\n        data,\n        schema: schema.type,\n        schemaCode,\n        schemaValue: schemaCode,\n        parentSchema: schema,\n        params: {},\n        it,\n    };\n}\n//# sourceMappingURL=dataType.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.assignDefaults = void 0;\nconst codegen_1 = require(\"../codegen\");\nconst util_1 = require(\"../util\");\nfunction assignDefaults(it, ty) {\n    const { properties, items } = it.schema;\n    if (ty === \"object\" && properties) {\n        for (const key in properties) {\n            assignDefault(it, key, properties[key].default);\n        }\n    }\n    else if (ty === \"array\" && Array.isArray(items)) {\n        items.forEach((sch, i) => assignDefault(it, i, sch.default));\n    }\n}\nexports.assignDefaults = assignDefaults;\nfunction assignDefault(it, prop, defaultValue) {\n    const { gen, compositeRule, data, opts } = it;\n    if (defaultValue === undefined)\n        return;\n    const childData = (0, codegen_1._) `${data}${(0, codegen_1.getProperty)(prop)}`;\n    if (compositeRule) {\n        (0, util_1.checkStrictMode)(it, `default is ignored for: ${childData}`);\n        return;\n    }\n    let condition = (0, codegen_1._) `${childData} === undefined`;\n    if (opts.useDefaults === \"empty\") {\n        condition = (0, codegen_1._) `${condition} || ${childData} === null || ${childData} === \"\"`;\n    }\n    // `${childData} === undefined` +\n    // (opts.useDefaults === \"empty\" ? ` || ${childData} === null || ${childData} === \"\"` : \"\")\n    gen.if(condition, (0, codegen_1._) `${childData} = ${(0, codegen_1.stringify)(defaultValue)}`);\n}\n//# sourceMappingURL=defaults.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateUnion = exports.validateArray = exports.usePattern = exports.callValidateCode = exports.schemaProperties = exports.allSchemaProperties = exports.noPropertyInData = exports.propertyInData = exports.isOwnProperty = exports.hasPropFunc = exports.reportMissingProp = exports.checkMissingProp = exports.checkReportMissingProp = void 0;\nconst codegen_1 = require(\"../compile/codegen\");\nconst util_1 = require(\"../compile/util\");\nconst names_1 = require(\"../compile/names\");\nconst util_2 = require(\"../compile/util\");\nfunction checkReportMissingProp(cxt, prop) {\n    const { gen, data, it } = cxt;\n    gen.if(noPropertyInData(gen, data, prop, it.opts.ownProperties), () => {\n        cxt.setParams({ missingProperty: (0, codegen_1._) `${prop}` }, true);\n        cxt.error();\n    });\n}\nexports.checkReportMissingProp = checkReportMissingProp;\nfunction checkMissingProp({ gen, data, it: { opts } }, properties, missing) {\n    return (0, codegen_1.or)(...properties.map((prop) => (0, codegen_1.and)(noPropertyInData(gen, data, prop, opts.ownProperties), (0, codegen_1._) `${missing} = ${prop}`)));\n}\nexports.checkMissingProp = checkMissingProp;\nfunction reportMissingProp(cxt, missing) {\n    cxt.setParams({ missingProperty: missing }, true);\n    cxt.error();\n}\nexports.reportMissingProp = reportMissingProp;\nfunction hasPropFunc(gen) {\n    return gen.scopeValue(\"func\", {\n        // eslint-disable-next-line @typescript-eslint/unbound-method\n        ref: Object.prototype.hasOwnProperty,\n        code: (0, codegen_1._) `Object.prototype.hasOwnProperty`,\n    });\n}\nexports.hasPropFunc = hasPropFunc;\nfunction isOwnProperty(gen, data, property) {\n    return (0, codegen_1._) `${hasPropFunc(gen)}.call(${data}, ${property})`;\n}\nexports.isOwnProperty = isOwnProperty;\nfunction propertyInData(gen, data, property, ownProperties) {\n    const cond = (0, codegen_1._) `${data}${(0, codegen_1.getProperty)(property)} !== undefined`;\n    return ownProperties ? (0, codegen_1._) `${cond} && ${isOwnProperty(gen, data, property)}` : cond;\n}\nexports.propertyInData = propertyInData;\nfunction noPropertyInData(gen, data, property, ownProperties) {\n    const cond = (0, codegen_1._) `${data}${(0, codegen_1.getProperty)(property)} === undefined`;\n    return ownProperties ? (0, codegen_1.or)(cond, (0, codegen_1.not)(isOwnProperty(gen, data, property))) : cond;\n}\nexports.noPropertyInData = noPropertyInData;\nfunction allSchemaProperties(schemaMap) {\n    return schemaMap ? Object.keys(schemaMap).filter((p) => p !== \"__proto__\") : [];\n}\nexports.allSchemaProperties = allSchemaProperties;\nfunction schemaProperties(it, schemaMap) {\n    return allSchemaProperties(schemaMap).filter((p) => !(0, util_1.alwaysValidSchema)(it, schemaMap[p]));\n}\nexports.schemaProperties = schemaProperties;\nfunction callValidateCode({ schemaCode, data, it: { gen, topSchemaRef, schemaPath, errorPath }, it }, func, context, passSchema) {\n    const dataAndSchema = passSchema ? (0, codegen_1._) `${schemaCode}, ${data}, ${topSchemaRef}${schemaPath}` : data;\n    const valCxt = [\n        [names_1.default.instancePath, (0, codegen_1.strConcat)(names_1.default.instancePath, errorPath)],\n        [names_1.default.parentData, it.parentData],\n        [names_1.default.parentDataProperty, it.parentDataProperty],\n        [names_1.default.rootData, names_1.default.rootData],\n    ];\n    if (it.opts.dynamicRef)\n        valCxt.push([names_1.default.dynamicAnchors, names_1.default.dynamicAnchors]);\n    const args = (0, codegen_1._) `${dataAndSchema}, ${gen.object(...valCxt)}`;\n    return context !== codegen_1.nil ? (0, codegen_1._) `${func}.call(${context}, ${args})` : (0, codegen_1._) `${func}(${args})`;\n}\nexports.callValidateCode = callValidateCode;\nconst newRegExp = (0, codegen_1._) `new RegExp`;\nfunction usePattern({ gen, it: { opts } }, pattern) {\n    const u = opts.unicodeRegExp ? \"u\" : \"\";\n    const { regExp } = opts.code;\n    const rx = regExp(pattern, u);\n    return gen.scopeValue(\"pattern\", {\n        key: rx.toString(),\n        ref: rx,\n        code: (0, codegen_1._) `${regExp.code === \"new RegExp\" ? newRegExp : (0, util_2.useFunc)(gen, regExp)}(${pattern}, ${u})`,\n    });\n}\nexports.usePattern = usePattern;\nfunction validateArray(cxt) {\n    const { gen, data, keyword, it } = cxt;\n    const valid = gen.name(\"valid\");\n    if (it.allErrors) {\n        const validArr = gen.let(\"valid\", true);\n        validateItems(() => gen.assign(validArr, false));\n        return validArr;\n    }\n    gen.var(valid, true);\n    validateItems(() => gen.break());\n    return valid;\n    function validateItems(notValid) {\n        const len = gen.const(\"len\", (0, codegen_1._) `${data}.length`);\n        gen.forRange(\"i\", 0, len, (i) => {\n            cxt.subschema({\n                keyword,\n                dataProp: i,\n                dataPropType: util_1.Type.Num,\n            }, valid);\n            gen.if((0, codegen_1.not)(valid), notValid);\n        });\n    }\n}\nexports.validateArray = validateArray;\nfunction validateUnion(cxt) {\n    const { gen, schema, keyword, it } = cxt;\n    /* istanbul ignore if */\n    if (!Array.isArray(schema))\n        throw new Error(\"ajv implementation error\");\n    const alwaysValid = schema.some((sch) => (0, util_1.alwaysValidSchema)(it, sch));\n    if (alwaysValid && !it.opts.unevaluated)\n        return;\n    const valid = gen.let(\"valid\", false);\n    const schValid = gen.name(\"_valid\");\n    gen.block(() => schema.forEach((_sch, i) => {\n        const schCxt = cxt.subschema({\n            keyword,\n            schemaProp: i,\n            compositeRule: true,\n        }, schValid);\n        gen.assign(valid, (0, codegen_1._) `${valid} || ${schValid}`);\n        const merged = cxt.mergeValidEvaluated(schCxt, schValid);\n        // can short-circuit if `unevaluatedProperties/Items` not supported (opts.unevaluated !== true)\n        // or if all properties and items were evaluated (it.props === true && it.items === true)\n        if (!merged)\n            gen.if((0, codegen_1.not)(valid));\n    }));\n    cxt.result(valid, () => cxt.reset(), () => cxt.error(true));\n}\nexports.validateUnion = validateUnion;\n//# sourceMappingURL=code.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateKeywordUsage = exports.validSchemaType = exports.funcKeywordCode = exports.macroKeywordCode = void 0;\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nconst code_1 = require(\"../../vocabularies/code\");\nconst errors_1 = require(\"../errors\");\nfunction macroKeywordCode(cxt, def) {\n    const { gen, keyword, schema, parentSchema, it } = cxt;\n    const macroSchema = def.macro.call(it.self, schema, parentSchema, it);\n    const schemaRef = useKeyword(gen, keyword, macroSchema);\n    if (it.opts.validateSchema !== false)\n        it.self.validateSchema(macroSchema, true);\n    const valid = gen.name(\"valid\");\n    cxt.subschema({\n        schema: macroSchema,\n        schemaPath: codegen_1.nil,\n        errSchemaPath: `${it.errSchemaPath}/${keyword}`,\n        topSchemaRef: schemaRef,\n        compositeRule: true,\n    }, valid);\n    cxt.pass(valid, () => cxt.error(true));\n}\nexports.macroKeywordCode = macroKeywordCode;\nfunction funcKeywordCode(cxt, def) {\n    var _a;\n    const { gen, keyword, schema, parentSchema, $data, it } = cxt;\n    checkAsyncKeyword(it, def);\n    const validate = !$data && def.compile ? def.compile.call(it.self, schema, parentSchema, it) : def.validate;\n    const validateRef = useKeyword(gen, keyword, validate);\n    const valid = gen.let(\"valid\");\n    cxt.block$data(valid, validateKeyword);\n    cxt.ok((_a = def.valid) !== null && _a !== void 0 ? _a : valid);\n    function validateKeyword() {\n        if (def.errors === false) {\n            assignValid();\n            if (def.modifying)\n                modifyData(cxt);\n            reportErrs(() => cxt.error());\n        }\n        else {\n            const ruleErrs = def.async ? validateAsync() : validateSync();\n            if (def.modifying)\n                modifyData(cxt);\n            reportErrs(() => addErrs(cxt, ruleErrs));\n        }\n    }\n    function validateAsync() {\n        const ruleErrs = gen.let(\"ruleErrs\", null);\n        gen.try(() => assignValid((0, codegen_1._) `await `), (e) => gen.assign(valid, false).if((0, codegen_1._) `${e} instanceof ${it.ValidationError}`, () => gen.assign(ruleErrs, (0, codegen_1._) `${e}.errors`), () => gen.throw(e)));\n        return ruleErrs;\n    }\n    function validateSync() {\n        const validateErrs = (0, codegen_1._) `${validateRef}.errors`;\n        gen.assign(validateErrs, null);\n        assignValid(codegen_1.nil);\n        return validateErrs;\n    }\n    function assignValid(_await = def.async ? (0, codegen_1._) `await ` : codegen_1.nil) {\n        const passCxt = it.opts.passContext ? names_1.default.this : names_1.default.self;\n        const passSchema = !((\"compile\" in def && !$data) || def.schema === false);\n        gen.assign(valid, (0, codegen_1._) `${_await}${(0, code_1.callValidateCode)(cxt, validateRef, passCxt, passSchema)}`, def.modifying);\n    }\n    function reportErrs(errors) {\n        var _a;\n        gen.if((0, codegen_1.not)((_a = def.valid) !== null && _a !== void 0 ? _a : valid), errors);\n    }\n}\nexports.funcKeywordCode = funcKeywordCode;\nfunction modifyData(cxt) {\n    const { gen, data, it } = cxt;\n    gen.if(it.parentData, () => gen.assign(data, (0, codegen_1._) `${it.parentData}[${it.parentDataProperty}]`));\n}\nfunction addErrs(cxt, errs) {\n    const { gen } = cxt;\n    gen.if((0, codegen_1._) `Array.isArray(${errs})`, () => {\n        gen\n            .assign(names_1.default.vErrors, (0, codegen_1._) `${names_1.default.vErrors} === null ? ${errs} : ${names_1.default.vErrors}.concat(${errs})`)\n            .assign(names_1.default.errors, (0, codegen_1._) `${names_1.default.vErrors}.length`);\n        (0, errors_1.extendErrors)(cxt);\n    }, () => cxt.error());\n}\nfunction checkAsyncKeyword({ schemaEnv }, def) {\n    if (def.async && !schemaEnv.$async)\n        throw new Error(\"async keyword in sync schema\");\n}\nfunction useKeyword(gen, keyword, result) {\n    if (result === undefined)\n        throw new Error(`keyword \"${keyword}\" failed to compile`);\n    return gen.scopeValue(\"keyword\", typeof result == \"function\" ? { ref: result } : { ref: result, code: (0, codegen_1.stringify)(result) });\n}\nfunction validSchemaType(schema, schemaType, allowUndefined = false) {\n    // TODO add tests\n    return (!schemaType.length ||\n        schemaType.some((st) => st === \"array\"\n            ? Array.isArray(schema)\n            : st === \"object\"\n                ? schema && typeof schema == \"object\" && !Array.isArray(schema)\n                : typeof schema == st || (allowUndefined && typeof schema == \"undefined\")));\n}\nexports.validSchemaType = validSchemaType;\nfunction validateKeywordUsage({ schema, opts, self, errSchemaPath }, def, keyword) {\n    /* istanbul ignore if */\n    if (Array.isArray(def.keyword) ? !def.keyword.includes(keyword) : def.keyword !== keyword) {\n        throw new Error(\"ajv implementation error\");\n    }\n    const deps = def.dependencies;\n    if (deps === null || deps === void 0 ? void 0 : deps.some((kwd) => !Object.prototype.hasOwnProperty.call(schema, kwd))) {\n        throw new Error(`parent schema must have dependencies of ${keyword}: ${deps.join(\",\")}`);\n    }\n    if (def.validateSchema) {\n        const valid = def.validateSchema(schema[keyword]);\n        if (!valid) {\n            const msg = `keyword \"${keyword}\" value is invalid at path \"${errSchemaPath}\": ` +\n                self.errorsText(def.validateSchema.errors);\n            if (opts.validateSchema === \"log\")\n                self.logger.error(msg);\n            else\n                throw new Error(msg);\n        }\n    }\n}\nexports.validateKeywordUsage = validateKeywordUsage;\n//# sourceMappingURL=keyword.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.extendSubschemaMode = exports.extendSubschemaData = exports.getSubschema = void 0;\nconst codegen_1 = require(\"../codegen\");\nconst util_1 = require(\"../util\");\nfunction getSubschema(it, { keyword, schemaProp, schema, schemaPath, errSchemaPath, topSchemaRef }) {\n    if (keyword !== undefined && schema !== undefined) {\n        throw new Error('both \"keyword\" and \"schema\" passed, only one allowed');\n    }\n    if (keyword !== undefined) {\n        const sch = it.schema[keyword];\n        return schemaProp === undefined\n            ? {\n                schema: sch,\n                schemaPath: (0, codegen_1._) `${it.schemaPath}${(0, codegen_1.getProperty)(keyword)}`,\n                errSchemaPath: `${it.errSchemaPath}/${keyword}`,\n            }\n            : {\n                schema: sch[schemaProp],\n                schemaPath: (0, codegen_1._) `${it.schemaPath}${(0, codegen_1.getProperty)(keyword)}${(0, codegen_1.getProperty)(schemaProp)}`,\n                errSchemaPath: `${it.errSchemaPath}/${keyword}/${(0, util_1.escapeFragment)(schemaProp)}`,\n            };\n    }\n    if (schema !== undefined) {\n        if (schemaPath === undefined || errSchemaPath === undefined || topSchemaRef === undefined) {\n            throw new Error('\"schemaPath\", \"errSchemaPath\" and \"topSchemaRef\" are required with \"schema\"');\n        }\n        return {\n            schema,\n            schemaPath,\n            topSchemaRef,\n            errSchemaPath,\n        };\n    }\n    throw new Error('either \"keyword\" or \"schema\" must be passed');\n}\nexports.getSubschema = getSubschema;\nfunction extendSubschemaData(subschema, it, { dataProp, dataPropType: dpType, data, dataTypes, propertyName }) {\n    if (data !== undefined && dataProp !== undefined) {\n        throw new Error('both \"data\" and \"dataProp\" passed, only one allowed');\n    }\n    const { gen } = it;\n    if (dataProp !== undefined) {\n        const { errorPath, dataPathArr, opts } = it;\n        const nextData = gen.let(\"data\", (0, codegen_1._) `${it.data}${(0, codegen_1.getProperty)(dataProp)}`, true);\n        dataContextProps(nextData);\n        subschema.errorPath = (0, codegen_1.str) `${errorPath}${(0, util_1.getErrorPath)(dataProp, dpType, opts.jsPropertySyntax)}`;\n        subschema.parentDataProperty = (0, codegen_1._) `${dataProp}`;\n        subschema.dataPathArr = [...dataPathArr, subschema.parentDataProperty];\n    }\n    if (data !== undefined) {\n        const nextData = data instanceof codegen_1.Name ? data : gen.let(\"data\", data, true); // replaceable if used once?\n        dataContextProps(nextData);\n        if (propertyName !== undefined)\n            subschema.propertyName = propertyName;\n        // TODO something is possibly wrong here with not changing parentDataProperty and not appending dataPathArr\n    }\n    if (dataTypes)\n        subschema.dataTypes = dataTypes;\n    function dataContextProps(_nextData) {\n        subschema.data = _nextData;\n        subschema.dataLevel = it.dataLevel + 1;\n        subschema.dataTypes = [];\n        it.definedProperties = new Set();\n        subschema.parentData = it.data;\n        subschema.dataNames = [...it.dataNames, _nextData];\n    }\n}\nexports.extendSubschemaData = extendSubschemaData;\nfunction extendSubschemaMode(subschema, { jtdDiscriminator, jtdMetadata, compositeRule, createErrors, allErrors }) {\n    if (compositeRule !== undefined)\n        subschema.compositeRule = compositeRule;\n    if (createErrors !== undefined)\n        subschema.createErrors = createErrors;\n    if (allErrors !== undefined)\n        subschema.allErrors = allErrors;\n    subschema.jtdDiscriminator = jtdDiscriminator; // not inherited\n    subschema.jtdMetadata = jtdMetadata; // not inherited\n}\nexports.extendSubschemaMode = extendSubschemaMode;\n//# sourceMappingURL=subschema.js.map","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","'use strict';\n\nvar traverse = module.exports = function (schema, opts, cb) {\n  // Legacy support for v0.3.1 and earlier.\n  if (typeof opts == 'function') {\n    cb = opts;\n    opts = {};\n  }\n\n  cb = opts.cb || cb;\n  var pre = (typeof cb == 'function') ? cb : cb.pre || function() {};\n  var post = cb.post || function() {};\n\n  _traverse(opts, pre, post, schema, '', schema);\n};\n\n\ntraverse.keywords = {\n  additionalItems: true,\n  items: true,\n  contains: true,\n  additionalProperties: true,\n  propertyNames: true,\n  not: true,\n  if: true,\n  then: true,\n  else: true\n};\n\ntraverse.arrayKeywords = {\n  items: true,\n  allOf: true,\n  anyOf: true,\n  oneOf: true\n};\n\ntraverse.propsKeywords = {\n  $defs: true,\n  definitions: true,\n  properties: true,\n  patternProperties: true,\n  dependencies: true\n};\n\ntraverse.skipKeywords = {\n  default: true,\n  enum: true,\n  const: true,\n  required: true,\n  maximum: true,\n  minimum: true,\n  exclusiveMaximum: true,\n  exclusiveMinimum: true,\n  multipleOf: true,\n  maxLength: true,\n  minLength: true,\n  pattern: true,\n  format: true,\n  maxItems: true,\n  minItems: true,\n  uniqueItems: true,\n  maxProperties: true,\n  minProperties: true\n};\n\n\nfunction _traverse(opts, pre, post, schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {\n  if (schema && typeof schema == 'object' && !Array.isArray(schema)) {\n    pre(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n    for (var key in schema) {\n      var sch = schema[key];\n      if (Array.isArray(sch)) {\n        if (key in traverse.arrayKeywords) {\n          for (var i=0; i<sch.length; i++)\n            _traverse(opts, pre, post, sch[i], jsonPtr + '/' + key + '/' + i, rootSchema, jsonPtr, key, schema, i);\n        }\n      } else if (key in traverse.propsKeywords) {\n        if (sch && typeof sch == 'object') {\n          for (var prop in sch)\n            _traverse(opts, pre, post, sch[prop], jsonPtr + '/' + key + '/' + escapeJsonPtr(prop), rootSchema, jsonPtr, key, schema, prop);\n        }\n      } else if (key in traverse.keywords || (opts.allKeys && !(key in traverse.skipKeywords))) {\n        _traverse(opts, pre, post, sch, jsonPtr + '/' + key, rootSchema, jsonPtr, key, schema);\n      }\n    }\n    post(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n  }\n}\n\n\nfunction escapeJsonPtr(str) {\n  return str.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getSchemaRefs = exports.resolveUrl = exports.normalizeId = exports._getFullPath = exports.getFullPath = exports.inlineRef = void 0;\nconst util_1 = require(\"./util\");\nconst equal = require(\"fast-deep-equal\");\nconst traverse = require(\"json-schema-traverse\");\n// TODO refactor to use keyword definitions\nconst SIMPLE_INLINED = new Set([\n    \"type\",\n    \"format\",\n    \"pattern\",\n    \"maxLength\",\n    \"minLength\",\n    \"maxProperties\",\n    \"minProperties\",\n    \"maxItems\",\n    \"minItems\",\n    \"maximum\",\n    \"minimum\",\n    \"uniqueItems\",\n    \"multipleOf\",\n    \"required\",\n    \"enum\",\n    \"const\",\n]);\nfunction inlineRef(schema, limit = true) {\n    if (typeof schema == \"boolean\")\n        return true;\n    if (limit === true)\n        return !hasRef(schema);\n    if (!limit)\n        return false;\n    return countKeys(schema) <= limit;\n}\nexports.inlineRef = inlineRef;\nconst REF_KEYWORDS = new Set([\n    \"$ref\",\n    \"$recursiveRef\",\n    \"$recursiveAnchor\",\n    \"$dynamicRef\",\n    \"$dynamicAnchor\",\n]);\nfunction hasRef(schema) {\n    for (const key in schema) {\n        if (REF_KEYWORDS.has(key))\n            return true;\n        const sch = schema[key];\n        if (Array.isArray(sch) && sch.some(hasRef))\n            return true;\n        if (typeof sch == \"object\" && hasRef(sch))\n            return true;\n    }\n    return false;\n}\nfunction countKeys(schema) {\n    let count = 0;\n    for (const key in schema) {\n        if (key === \"$ref\")\n            return Infinity;\n        count++;\n        if (SIMPLE_INLINED.has(key))\n            continue;\n        if (typeof schema[key] == \"object\") {\n            (0, util_1.eachItem)(schema[key], (sch) => (count += countKeys(sch)));\n        }\n        if (count === Infinity)\n            return Infinity;\n    }\n    return count;\n}\nfunction getFullPath(resolver, id = \"\", normalize) {\n    if (normalize !== false)\n        id = normalizeId(id);\n    const p = resolver.parse(id);\n    return _getFullPath(resolver, p);\n}\nexports.getFullPath = getFullPath;\nfunction _getFullPath(resolver, p) {\n    const serialized = resolver.serialize(p);\n    return serialized.split(\"#\")[0] + \"#\";\n}\nexports._getFullPath = _getFullPath;\nconst TRAILING_SLASH_HASH = /#\\/?$/;\nfunction normalizeId(id) {\n    return id ? id.replace(TRAILING_SLASH_HASH, \"\") : \"\";\n}\nexports.normalizeId = normalizeId;\nfunction resolveUrl(resolver, baseId, id) {\n    id = normalizeId(id);\n    return resolver.resolve(baseId, id);\n}\nexports.resolveUrl = resolveUrl;\nconst ANCHOR = /^[a-z_][-a-z0-9._]*$/i;\nfunction getSchemaRefs(schema, baseId) {\n    if (typeof schema == \"boolean\")\n        return {};\n    const { schemaId, uriResolver } = this.opts;\n    const schId = normalizeId(schema[schemaId] || baseId);\n    const baseIds = { \"\": schId };\n    const pathPrefix = getFullPath(uriResolver, schId, false);\n    const localRefs = {};\n    const schemaRefs = new Set();\n    traverse(schema, { allKeys: true }, (sch, jsonPtr, _, parentJsonPtr) => {\n        if (parentJsonPtr === undefined)\n            return;\n        const fullPath = pathPrefix + jsonPtr;\n        let baseId = baseIds[parentJsonPtr];\n        if (typeof sch[schemaId] == \"string\")\n            baseId = addRef.call(this, sch[schemaId]);\n        addAnchor.call(this, sch.$anchor);\n        addAnchor.call(this, sch.$dynamicAnchor);\n        baseIds[jsonPtr] = baseId;\n        function addRef(ref) {\n            // eslint-disable-next-line @typescript-eslint/unbound-method\n            const _resolve = this.opts.uriResolver.resolve;\n            ref = normalizeId(baseId ? _resolve(baseId, ref) : ref);\n            if (schemaRefs.has(ref))\n                throw ambiguos(ref);\n            schemaRefs.add(ref);\n            let schOrRef = this.refs[ref];\n            if (typeof schOrRef == \"string\")\n                schOrRef = this.refs[schOrRef];\n            if (typeof schOrRef == \"object\") {\n                checkAmbiguosRef(sch, schOrRef.schema, ref);\n            }\n            else if (ref !== normalizeId(fullPath)) {\n                if (ref[0] === \"#\") {\n                    checkAmbiguosRef(sch, localRefs[ref], ref);\n                    localRefs[ref] = sch;\n                }\n                else {\n                    this.refs[ref] = fullPath;\n                }\n            }\n            return ref;\n        }\n        function addAnchor(anchor) {\n            if (typeof anchor == \"string\") {\n                if (!ANCHOR.test(anchor))\n                    throw new Error(`invalid anchor \"${anchor}\"`);\n                addRef.call(this, `#${anchor}`);\n            }\n        }\n    });\n    return localRefs;\n    function checkAmbiguosRef(sch1, sch2, ref) {\n        if (sch2 !== undefined && !equal(sch1, sch2))\n            throw ambiguos(ref);\n    }\n    function ambiguos(ref) {\n        return new Error(`reference \"${ref}\" resolves to more than one schema`);\n    }\n}\nexports.getSchemaRefs = getSchemaRefs;\n//# sourceMappingURL=resolve.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getData = exports.KeywordCxt = exports.validateFunctionCode = void 0;\nconst boolSchema_1 = require(\"./boolSchema\");\nconst dataType_1 = require(\"./dataType\");\nconst applicability_1 = require(\"./applicability\");\nconst dataType_2 = require(\"./dataType\");\nconst defaults_1 = require(\"./defaults\");\nconst keyword_1 = require(\"./keyword\");\nconst subschema_1 = require(\"./subschema\");\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nconst resolve_1 = require(\"../resolve\");\nconst util_1 = require(\"../util\");\nconst errors_1 = require(\"../errors\");\n// schema compilation - generates validation function, subschemaCode (below) is used for subschemas\nfunction validateFunctionCode(it) {\n    if (isSchemaObj(it)) {\n        checkKeywords(it);\n        if (schemaCxtHasRules(it)) {\n            topSchemaObjCode(it);\n            return;\n        }\n    }\n    validateFunction(it, () => (0, boolSchema_1.topBoolOrEmptySchema)(it));\n}\nexports.validateFunctionCode = validateFunctionCode;\nfunction validateFunction({ gen, validateName, schema, schemaEnv, opts }, body) {\n    if (opts.code.es5) {\n        gen.func(validateName, (0, codegen_1._) `${names_1.default.data}, ${names_1.default.valCxt}`, schemaEnv.$async, () => {\n            gen.code((0, codegen_1._) `\"use strict\"; ${funcSourceUrl(schema, opts)}`);\n            destructureValCxtES5(gen, opts);\n            gen.code(body);\n        });\n    }\n    else {\n        gen.func(validateName, (0, codegen_1._) `${names_1.default.data}, ${destructureValCxt(opts)}`, schemaEnv.$async, () => gen.code(funcSourceUrl(schema, opts)).code(body));\n    }\n}\nfunction destructureValCxt(opts) {\n    return (0, codegen_1._) `{${names_1.default.instancePath}=\"\", ${names_1.default.parentData}, ${names_1.default.parentDataProperty}, ${names_1.default.rootData}=${names_1.default.data}${opts.dynamicRef ? (0, codegen_1._) `, ${names_1.default.dynamicAnchors}={}` : codegen_1.nil}}={}`;\n}\nfunction destructureValCxtES5(gen, opts) {\n    gen.if(names_1.default.valCxt, () => {\n        gen.var(names_1.default.instancePath, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.instancePath}`);\n        gen.var(names_1.default.parentData, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.parentData}`);\n        gen.var(names_1.default.parentDataProperty, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.parentDataProperty}`);\n        gen.var(names_1.default.rootData, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.rootData}`);\n        if (opts.dynamicRef)\n            gen.var(names_1.default.dynamicAnchors, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.dynamicAnchors}`);\n    }, () => {\n        gen.var(names_1.default.instancePath, (0, codegen_1._) `\"\"`);\n        gen.var(names_1.default.parentData, (0, codegen_1._) `undefined`);\n        gen.var(names_1.default.parentDataProperty, (0, codegen_1._) `undefined`);\n        gen.var(names_1.default.rootData, names_1.default.data);\n        if (opts.dynamicRef)\n            gen.var(names_1.default.dynamicAnchors, (0, codegen_1._) `{}`);\n    });\n}\nfunction topSchemaObjCode(it) {\n    const { schema, opts, gen } = it;\n    validateFunction(it, () => {\n        if (opts.$comment && schema.$comment)\n            commentKeyword(it);\n        checkNoDefault(it);\n        gen.let(names_1.default.vErrors, null);\n        gen.let(names_1.default.errors, 0);\n        if (opts.unevaluated)\n            resetEvaluated(it);\n        typeAndKeywords(it);\n        returnResults(it);\n    });\n    return;\n}\nfunction resetEvaluated(it) {\n    // TODO maybe some hook to execute it in the end to check whether props/items are Name, as in assignEvaluated\n    const { gen, validateName } = it;\n    it.evaluated = gen.const(\"evaluated\", (0, codegen_1._) `${validateName}.evaluated`);\n    gen.if((0, codegen_1._) `${it.evaluated}.dynamicProps`, () => gen.assign((0, codegen_1._) `${it.evaluated}.props`, (0, codegen_1._) `undefined`));\n    gen.if((0, codegen_1._) `${it.evaluated}.dynamicItems`, () => gen.assign((0, codegen_1._) `${it.evaluated}.items`, (0, codegen_1._) `undefined`));\n}\nfunction funcSourceUrl(schema, opts) {\n    const schId = typeof schema == \"object\" && schema[opts.schemaId];\n    return schId && (opts.code.source || opts.code.process) ? (0, codegen_1._) `/*# sourceURL=${schId} */` : codegen_1.nil;\n}\n// schema compilation - this function is used recursively to generate code for sub-schemas\nfunction subschemaCode(it, valid) {\n    if (isSchemaObj(it)) {\n        checkKeywords(it);\n        if (schemaCxtHasRules(it)) {\n            subSchemaObjCode(it, valid);\n            return;\n        }\n    }\n    (0, boolSchema_1.boolOrEmptySchema)(it, valid);\n}\nfunction schemaCxtHasRules({ schema, self }) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (self.RULES.all[key])\n            return true;\n    return false;\n}\nfunction isSchemaObj(it) {\n    return typeof it.schema != \"boolean\";\n}\nfunction subSchemaObjCode(it, valid) {\n    const { schema, gen, opts } = it;\n    if (opts.$comment && schema.$comment)\n        commentKeyword(it);\n    updateContext(it);\n    checkAsyncSchema(it);\n    const errsCount = gen.const(\"_errs\", names_1.default.errors);\n    typeAndKeywords(it, errsCount);\n    // TODO var\n    gen.var(valid, (0, codegen_1._) `${errsCount} === ${names_1.default.errors}`);\n}\nfunction checkKeywords(it) {\n    (0, util_1.checkUnknownRules)(it);\n    checkRefsAndKeywords(it);\n}\nfunction typeAndKeywords(it, errsCount) {\n    if (it.opts.jtd)\n        return schemaKeywords(it, [], false, errsCount);\n    const types = (0, dataType_1.getSchemaTypes)(it.schema);\n    const checkedTypes = (0, dataType_1.coerceAndCheckDataType)(it, types);\n    schemaKeywords(it, types, !checkedTypes, errsCount);\n}\nfunction checkRefsAndKeywords(it) {\n    const { schema, errSchemaPath, opts, self } = it;\n    if (schema.$ref && opts.ignoreKeywordsWithRef && (0, util_1.schemaHasRulesButRef)(schema, self.RULES)) {\n        self.logger.warn(`$ref: keywords ignored in schema at path \"${errSchemaPath}\"`);\n    }\n}\nfunction checkNoDefault(it) {\n    const { schema, opts } = it;\n    if (schema.default !== undefined && opts.useDefaults && opts.strictSchema) {\n        (0, util_1.checkStrictMode)(it, \"default is ignored in the schema root\");\n    }\n}\nfunction updateContext(it) {\n    const schId = it.schema[it.opts.schemaId];\n    if (schId)\n        it.baseId = (0, resolve_1.resolveUrl)(it.opts.uriResolver, it.baseId, schId);\n}\nfunction checkAsyncSchema(it) {\n    if (it.schema.$async && !it.schemaEnv.$async)\n        throw new Error(\"async schema in sync schema\");\n}\nfunction commentKeyword({ gen, schemaEnv, schema, errSchemaPath, opts }) {\n    const msg = schema.$comment;\n    if (opts.$comment === true) {\n        gen.code((0, codegen_1._) `${names_1.default.self}.logger.log(${msg})`);\n    }\n    else if (typeof opts.$comment == \"function\") {\n        const schemaPath = (0, codegen_1.str) `${errSchemaPath}/$comment`;\n        const rootName = gen.scopeValue(\"root\", { ref: schemaEnv.root });\n        gen.code((0, codegen_1._) `${names_1.default.self}.opts.$comment(${msg}, ${schemaPath}, ${rootName}.schema)`);\n    }\n}\nfunction returnResults(it) {\n    const { gen, schemaEnv, validateName, ValidationError, opts } = it;\n    if (schemaEnv.$async) {\n        // TODO assign unevaluated\n        gen.if((0, codegen_1._) `${names_1.default.errors} === 0`, () => gen.return(names_1.default.data), () => gen.throw((0, codegen_1._) `new ${ValidationError}(${names_1.default.vErrors})`));\n    }\n    else {\n        gen.assign((0, codegen_1._) `${validateName}.errors`, names_1.default.vErrors);\n        if (opts.unevaluated)\n            assignEvaluated(it);\n        gen.return((0, codegen_1._) `${names_1.default.errors} === 0`);\n    }\n}\nfunction assignEvaluated({ gen, evaluated, props, items }) {\n    if (props instanceof codegen_1.Name)\n        gen.assign((0, codegen_1._) `${evaluated}.props`, props);\n    if (items instanceof codegen_1.Name)\n        gen.assign((0, codegen_1._) `${evaluated}.items`, items);\n}\nfunction schemaKeywords(it, types, typeErrors, errsCount) {\n    const { gen, schema, data, allErrors, opts, self } = it;\n    const { RULES } = self;\n    if (schema.$ref && (opts.ignoreKeywordsWithRef || !(0, util_1.schemaHasRulesButRef)(schema, RULES))) {\n        gen.block(() => keywordCode(it, \"$ref\", RULES.all.$ref.definition)); // TODO typecast\n        return;\n    }\n    if (!opts.jtd)\n        checkStrictTypes(it, types);\n    gen.block(() => {\n        for (const group of RULES.rules)\n            groupKeywords(group);\n        groupKeywords(RULES.post);\n    });\n    function groupKeywords(group) {\n        if (!(0, applicability_1.shouldUseGroup)(schema, group))\n            return;\n        if (group.type) {\n            gen.if((0, dataType_2.checkDataType)(group.type, data, opts.strictNumbers));\n            iterateKeywords(it, group);\n            if (types.length === 1 && types[0] === group.type && typeErrors) {\n                gen.else();\n                (0, dataType_2.reportTypeError)(it);\n            }\n            gen.endIf();\n        }\n        else {\n            iterateKeywords(it, group);\n        }\n        // TODO make it \"ok\" call?\n        if (!allErrors)\n            gen.if((0, codegen_1._) `${names_1.default.errors} === ${errsCount || 0}`);\n    }\n}\nfunction iterateKeywords(it, group) {\n    const { gen, schema, opts: { useDefaults }, } = it;\n    if (useDefaults)\n        (0, defaults_1.assignDefaults)(it, group.type);\n    gen.block(() => {\n        for (const rule of group.rules) {\n            if ((0, applicability_1.shouldUseRule)(schema, rule)) {\n                keywordCode(it, rule.keyword, rule.definition, group.type);\n            }\n        }\n    });\n}\nfunction checkStrictTypes(it, types) {\n    if (it.schemaEnv.meta || !it.opts.strictTypes)\n        return;\n    checkContextTypes(it, types);\n    if (!it.opts.allowUnionTypes)\n        checkMultipleTypes(it, types);\n    checkKeywordTypes(it, it.dataTypes);\n}\nfunction checkContextTypes(it, types) {\n    if (!types.length)\n        return;\n    if (!it.dataTypes.length) {\n        it.dataTypes = types;\n        return;\n    }\n    types.forEach((t) => {\n        if (!includesType(it.dataTypes, t)) {\n            strictTypesError(it, `type \"${t}\" not allowed by context \"${it.dataTypes.join(\",\")}\"`);\n        }\n    });\n    narrowSchemaTypes(it, types);\n}\nfunction checkMultipleTypes(it, ts) {\n    if (ts.length > 1 && !(ts.length === 2 && ts.includes(\"null\"))) {\n        strictTypesError(it, \"use allowUnionTypes to allow union type keyword\");\n    }\n}\nfunction checkKeywordTypes(it, ts) {\n    const rules = it.self.RULES.all;\n    for (const keyword in rules) {\n        const rule = rules[keyword];\n        if (typeof rule == \"object\" && (0, applicability_1.shouldUseRule)(it.schema, rule)) {\n            const { type } = rule.definition;\n            if (type.length && !type.some((t) => hasApplicableType(ts, t))) {\n                strictTypesError(it, `missing type \"${type.join(\",\")}\" for keyword \"${keyword}\"`);\n            }\n        }\n    }\n}\nfunction hasApplicableType(schTs, kwdT) {\n    return schTs.includes(kwdT) || (kwdT === \"number\" && schTs.includes(\"integer\"));\n}\nfunction includesType(ts, t) {\n    return ts.includes(t) || (t === \"integer\" && ts.includes(\"number\"));\n}\nfunction narrowSchemaTypes(it, withTypes) {\n    const ts = [];\n    for (const t of it.dataTypes) {\n        if (includesType(withTypes, t))\n            ts.push(t);\n        else if (withTypes.includes(\"integer\") && t === \"number\")\n            ts.push(\"integer\");\n    }\n    it.dataTypes = ts;\n}\nfunction strictTypesError(it, msg) {\n    const schemaPath = it.schemaEnv.baseId + it.errSchemaPath;\n    msg += ` at \"${schemaPath}\" (strictTypes)`;\n    (0, util_1.checkStrictMode)(it, msg, it.opts.strictTypes);\n}\nclass KeywordCxt {\n    constructor(it, def, keyword) {\n        (0, keyword_1.validateKeywordUsage)(it, def, keyword);\n        this.gen = it.gen;\n        this.allErrors = it.allErrors;\n        this.keyword = keyword;\n        this.data = it.data;\n        this.schema = it.schema[keyword];\n        this.$data = def.$data && it.opts.$data && this.schema && this.schema.$data;\n        this.schemaValue = (0, util_1.schemaRefOrVal)(it, this.schema, keyword, this.$data);\n        this.schemaType = def.schemaType;\n        this.parentSchema = it.schema;\n        this.params = {};\n        this.it = it;\n        this.def = def;\n        if (this.$data) {\n            this.schemaCode = it.gen.const(\"vSchema\", getData(this.$data, it));\n        }\n        else {\n            this.schemaCode = this.schemaValue;\n            if (!(0, keyword_1.validSchemaType)(this.schema, def.schemaType, def.allowUndefined)) {\n                throw new Error(`${keyword} value must be ${JSON.stringify(def.schemaType)}`);\n            }\n        }\n        if (\"code\" in def ? def.trackErrors : def.errors !== false) {\n            this.errsCount = it.gen.const(\"_errs\", names_1.default.errors);\n        }\n    }\n    result(condition, successAction, failAction) {\n        this.failResult((0, codegen_1.not)(condition), successAction, failAction);\n    }\n    failResult(condition, successAction, failAction) {\n        this.gen.if(condition);\n        if (failAction)\n            failAction();\n        else\n            this.error();\n        if (successAction) {\n            this.gen.else();\n            successAction();\n            if (this.allErrors)\n                this.gen.endIf();\n        }\n        else {\n            if (this.allErrors)\n                this.gen.endIf();\n            else\n                this.gen.else();\n        }\n    }\n    pass(condition, failAction) {\n        this.failResult((0, codegen_1.not)(condition), undefined, failAction);\n    }\n    fail(condition) {\n        if (condition === undefined) {\n            this.error();\n            if (!this.allErrors)\n                this.gen.if(false); // this branch will be removed by gen.optimize\n            return;\n        }\n        this.gen.if(condition);\n        this.error();\n        if (this.allErrors)\n            this.gen.endIf();\n        else\n            this.gen.else();\n    }\n    fail$data(condition) {\n        if (!this.$data)\n            return this.fail(condition);\n        const { schemaCode } = this;\n        this.fail((0, codegen_1._) `${schemaCode} !== undefined && (${(0, codegen_1.or)(this.invalid$data(), condition)})`);\n    }\n    error(append, errorParams, errorPaths) {\n        if (errorParams) {\n            this.setParams(errorParams);\n            this._error(append, errorPaths);\n            this.setParams({});\n            return;\n        }\n        this._error(append, errorPaths);\n    }\n    _error(append, errorPaths) {\n        ;\n        (append ? errors_1.reportExtraError : errors_1.reportError)(this, this.def.error, errorPaths);\n    }\n    $dataError() {\n        (0, errors_1.reportError)(this, this.def.$dataError || errors_1.keyword$DataError);\n    }\n    reset() {\n        if (this.errsCount === undefined)\n            throw new Error('add \"trackErrors\" to keyword definition');\n        (0, errors_1.resetErrorsCount)(this.gen, this.errsCount);\n    }\n    ok(cond) {\n        if (!this.allErrors)\n            this.gen.if(cond);\n    }\n    setParams(obj, assign) {\n        if (assign)\n            Object.assign(this.params, obj);\n        else\n            this.params = obj;\n    }\n    block$data(valid, codeBlock, $dataValid = codegen_1.nil) {\n        this.gen.block(() => {\n            this.check$data(valid, $dataValid);\n            codeBlock();\n        });\n    }\n    check$data(valid = codegen_1.nil, $dataValid = codegen_1.nil) {\n        if (!this.$data)\n            return;\n        const { gen, schemaCode, schemaType, def } = this;\n        gen.if((0, codegen_1.or)((0, codegen_1._) `${schemaCode} === undefined`, $dataValid));\n        if (valid !== codegen_1.nil)\n            gen.assign(valid, true);\n        if (schemaType.length || def.validateSchema) {\n            gen.elseIf(this.invalid$data());\n            this.$dataError();\n            if (valid !== codegen_1.nil)\n                gen.assign(valid, false);\n        }\n        gen.else();\n    }\n    invalid$data() {\n        const { gen, schemaCode, schemaType, def, it } = this;\n        return (0, codegen_1.or)(wrong$DataType(), invalid$DataSchema());\n        function wrong$DataType() {\n            if (schemaType.length) {\n                /* istanbul ignore if */\n                if (!(schemaCode instanceof codegen_1.Name))\n                    throw new Error(\"ajv implementation error\");\n                const st = Array.isArray(schemaType) ? schemaType : [schemaType];\n                return (0, codegen_1._) `${(0, dataType_2.checkDataTypes)(st, schemaCode, it.opts.strictNumbers, dataType_2.DataType.Wrong)}`;\n            }\n            return codegen_1.nil;\n        }\n        function invalid$DataSchema() {\n            if (def.validateSchema) {\n                const validateSchemaRef = gen.scopeValue(\"validate$data\", { ref: def.validateSchema }); // TODO value.code for standalone\n                return (0, codegen_1._) `!${validateSchemaRef}(${schemaCode})`;\n            }\n            return codegen_1.nil;\n        }\n    }\n    subschema(appl, valid) {\n        const subschema = (0, subschema_1.getSubschema)(this.it, appl);\n        (0, subschema_1.extendSubschemaData)(subschema, this.it, appl);\n        (0, subschema_1.extendSubschemaMode)(subschema, appl);\n        const nextContext = { ...this.it, ...subschema, items: undefined, props: undefined };\n        subschemaCode(nextContext, valid);\n        return nextContext;\n    }\n    mergeEvaluated(schemaCxt, toName) {\n        const { it, gen } = this;\n        if (!it.opts.unevaluated)\n            return;\n        if (it.props !== true && schemaCxt.props !== undefined) {\n            it.props = util_1.mergeEvaluated.props(gen, schemaCxt.props, it.props, toName);\n        }\n        if (it.items !== true && schemaCxt.items !== undefined) {\n            it.items = util_1.mergeEvaluated.items(gen, schemaCxt.items, it.items, toName);\n        }\n    }\n    mergeValidEvaluated(schemaCxt, valid) {\n        const { it, gen } = this;\n        if (it.opts.unevaluated && (it.props !== true || it.items !== true)) {\n            gen.if(valid, () => this.mergeEvaluated(schemaCxt, codegen_1.Name));\n            return true;\n        }\n    }\n}\nexports.KeywordCxt = KeywordCxt;\nfunction keywordCode(it, keyword, def, ruleType) {\n    const cxt = new KeywordCxt(it, def, keyword);\n    if (\"code\" in def) {\n        def.code(cxt, ruleType);\n    }\n    else if (cxt.$data && def.validate) {\n        (0, keyword_1.funcKeywordCode)(cxt, def);\n    }\n    else if (\"macro\" in def) {\n        (0, keyword_1.macroKeywordCode)(cxt, def);\n    }\n    else if (def.compile || def.validate) {\n        (0, keyword_1.funcKeywordCode)(cxt, def);\n    }\n}\nconst JSON_POINTER = /^\\/(?:[^~]|~0|~1)*$/;\nconst RELATIVE_JSON_POINTER = /^([0-9]+)(#|\\/(?:[^~]|~0|~1)*)?$/;\nfunction getData($data, { dataLevel, dataNames, dataPathArr }) {\n    let jsonPointer;\n    let data;\n    if ($data === \"\")\n        return names_1.default.rootData;\n    if ($data[0] === \"/\") {\n        if (!JSON_POINTER.test($data))\n            throw new Error(`Invalid JSON-pointer: ${$data}`);\n        jsonPointer = $data;\n        data = names_1.default.rootData;\n    }\n    else {\n        const matches = RELATIVE_JSON_POINTER.exec($data);\n        if (!matches)\n            throw new Error(`Invalid JSON-pointer: ${$data}`);\n        const up = +matches[1];\n        jsonPointer = matches[2];\n        if (jsonPointer === \"#\") {\n            if (up >= dataLevel)\n                throw new Error(errorMsg(\"property/index\", up));\n            return dataPathArr[dataLevel - up];\n        }\n        if (up > dataLevel)\n            throw new Error(errorMsg(\"data\", up));\n        data = dataNames[dataLevel - up];\n        if (!jsonPointer)\n            return data;\n    }\n    let expr = data;\n    const segments = jsonPointer.split(\"/\");\n    for (const segment of segments) {\n        if (segment) {\n            data = (0, codegen_1._) `${data}${(0, codegen_1.getProperty)((0, util_1.unescapeJsonPointer)(segment))}`;\n            expr = (0, codegen_1._) `${expr} && ${data}`;\n        }\n    }\n    return expr;\n    function errorMsg(pointerType, up) {\n        return `Cannot access ${pointerType} ${up} levels up, current level is ${dataLevel}`;\n    }\n}\nexports.getData = getData;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass ValidationError extends Error {\n    constructor(errors) {\n        super(\"validation failed\");\n        this.errors = errors;\n        this.ajv = this.validation = true;\n    }\n}\nexports.default = ValidationError;\n//# sourceMappingURL=validation_error.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst resolve_1 = require(\"./resolve\");\nclass MissingRefError extends Error {\n    constructor(resolver, baseId, ref, msg) {\n        super(msg || `can't resolve reference ${ref} from id ${baseId}`);\n        this.missingRef = (0, resolve_1.resolveUrl)(resolver, baseId, ref);\n        this.missingSchema = (0, resolve_1.normalizeId)((0, resolve_1.getFullPath)(resolver, this.missingRef));\n    }\n}\nexports.default = MissingRefError;\n//# sourceMappingURL=ref_error.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.resolveSchema = exports.getCompilingSchema = exports.resolveRef = exports.compileSchema = exports.SchemaEnv = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst validation_error_1 = require(\"../runtime/validation_error\");\nconst names_1 = require(\"./names\");\nconst resolve_1 = require(\"./resolve\");\nconst util_1 = require(\"./util\");\nconst validate_1 = require(\"./validate\");\nclass SchemaEnv {\n    constructor(env) {\n        var _a;\n        this.refs = {};\n        this.dynamicAnchors = {};\n        let schema;\n        if (typeof env.schema == \"object\")\n            schema = env.schema;\n        this.schema = env.schema;\n        this.schemaId = env.schemaId;\n        this.root = env.root || this;\n        this.baseId = (_a = env.baseId) !== null && _a !== void 0 ? _a : (0, resolve_1.normalizeId)(schema === null || schema === void 0 ? void 0 : schema[env.schemaId || \"$id\"]);\n        this.schemaPath = env.schemaPath;\n        this.localRefs = env.localRefs;\n        this.meta = env.meta;\n        this.$async = schema === null || schema === void 0 ? void 0 : schema.$async;\n        this.refs = {};\n    }\n}\nexports.SchemaEnv = SchemaEnv;\n// let codeSize = 0\n// let nodeCount = 0\n// Compiles schema in SchemaEnv\nfunction compileSchema(sch) {\n    // TODO refactor - remove compilations\n    const _sch = getCompilingSchema.call(this, sch);\n    if (_sch)\n        return _sch;\n    const rootId = (0, resolve_1.getFullPath)(this.opts.uriResolver, sch.root.baseId); // TODO if getFullPath removed 1 tests fails\n    const { es5, lines } = this.opts.code;\n    const { ownProperties } = this.opts;\n    const gen = new codegen_1.CodeGen(this.scope, { es5, lines, ownProperties });\n    let _ValidationError;\n    if (sch.$async) {\n        _ValidationError = gen.scopeValue(\"Error\", {\n            ref: validation_error_1.default,\n            code: (0, codegen_1._) `require(\"ajv/dist/runtime/validation_error\").default`,\n        });\n    }\n    const validateName = gen.scopeName(\"validate\");\n    sch.validateName = validateName;\n    const schemaCxt = {\n        gen,\n        allErrors: this.opts.allErrors,\n        data: names_1.default.data,\n        parentData: names_1.default.parentData,\n        parentDataProperty: names_1.default.parentDataProperty,\n        dataNames: [names_1.default.data],\n        dataPathArr: [codegen_1.nil],\n        dataLevel: 0,\n        dataTypes: [],\n        definedProperties: new Set(),\n        topSchemaRef: gen.scopeValue(\"schema\", this.opts.code.source === true\n            ? { ref: sch.schema, code: (0, codegen_1.stringify)(sch.schema) }\n            : { ref: sch.schema }),\n        validateName,\n        ValidationError: _ValidationError,\n        schema: sch.schema,\n        schemaEnv: sch,\n        rootId,\n        baseId: sch.baseId || rootId,\n        schemaPath: codegen_1.nil,\n        errSchemaPath: sch.schemaPath || (this.opts.jtd ? \"\" : \"#\"),\n        errorPath: (0, codegen_1._) `\"\"`,\n        opts: this.opts,\n        self: this,\n    };\n    let sourceCode;\n    try {\n        this._compilations.add(sch);\n        (0, validate_1.validateFunctionCode)(schemaCxt);\n        gen.optimize(this.opts.code.optimize);\n        // gen.optimize(1)\n        const validateCode = gen.toString();\n        sourceCode = `${gen.scopeRefs(names_1.default.scope)}return ${validateCode}`;\n        // console.log((codeSize += sourceCode.length), (nodeCount += gen.nodeCount))\n        if (this.opts.code.process)\n            sourceCode = this.opts.code.process(sourceCode, sch);\n        // console.log(\"\\n\\n\\n *** \\n\", sourceCode)\n        const makeValidate = new Function(`${names_1.default.self}`, `${names_1.default.scope}`, sourceCode);\n        const validate = makeValidate(this, this.scope.get());\n        this.scope.value(validateName, { ref: validate });\n        validate.errors = null;\n        validate.schema = sch.schema;\n        validate.schemaEnv = sch;\n        if (sch.$async)\n            validate.$async = true;\n        if (this.opts.code.source === true) {\n            validate.source = { validateName, validateCode, scopeValues: gen._values };\n        }\n        if (this.opts.unevaluated) {\n            const { props, items } = schemaCxt;\n            validate.evaluated = {\n                props: props instanceof codegen_1.Name ? undefined : props,\n                items: items instanceof codegen_1.Name ? undefined : items,\n                dynamicProps: props instanceof codegen_1.Name,\n                dynamicItems: items instanceof codegen_1.Name,\n            };\n            if (validate.source)\n                validate.source.evaluated = (0, codegen_1.stringify)(validate.evaluated);\n        }\n        sch.validate = validate;\n        return sch;\n    }\n    catch (e) {\n        delete sch.validate;\n        delete sch.validateName;\n        if (sourceCode)\n            this.logger.error(\"Error compiling schema, function code:\", sourceCode);\n        // console.log(\"\\n\\n\\n *** \\n\", sourceCode, this.opts)\n        throw e;\n    }\n    finally {\n        this._compilations.delete(sch);\n    }\n}\nexports.compileSchema = compileSchema;\nfunction resolveRef(root, baseId, ref) {\n    var _a;\n    ref = (0, resolve_1.resolveUrl)(this.opts.uriResolver, baseId, ref);\n    const schOrFunc = root.refs[ref];\n    if (schOrFunc)\n        return schOrFunc;\n    let _sch = resolve.call(this, root, ref);\n    if (_sch === undefined) {\n        const schema = (_a = root.localRefs) === null || _a === void 0 ? void 0 : _a[ref]; // TODO maybe localRefs should hold SchemaEnv\n        const { schemaId } = this.opts;\n        if (schema)\n            _sch = new SchemaEnv({ schema, schemaId, root, baseId });\n    }\n    if (_sch === undefined)\n        return;\n    return (root.refs[ref] = inlineOrCompile.call(this, _sch));\n}\nexports.resolveRef = resolveRef;\nfunction inlineOrCompile(sch) {\n    if ((0, resolve_1.inlineRef)(sch.schema, this.opts.inlineRefs))\n        return sch.schema;\n    return sch.validate ? sch : compileSchema.call(this, sch);\n}\n// Index of schema compilation in the currently compiled list\nfunction getCompilingSchema(schEnv) {\n    for (const sch of this._compilations) {\n        if (sameSchemaEnv(sch, schEnv))\n            return sch;\n    }\n}\nexports.getCompilingSchema = getCompilingSchema;\nfunction sameSchemaEnv(s1, s2) {\n    return s1.schema === s2.schema && s1.root === s2.root && s1.baseId === s2.baseId;\n}\n// resolve and compile the references ($ref)\n// TODO returns AnySchemaObject (if the schema can be inlined) or validation function\nfunction resolve(root, // information about the root schema for the current schema\nref // reference to resolve\n) {\n    let sch;\n    while (typeof (sch = this.refs[ref]) == \"string\")\n        ref = sch;\n    return sch || this.schemas[ref] || resolveSchema.call(this, root, ref);\n}\n// Resolve schema, its root and baseId\nfunction resolveSchema(root, // root object with properties schema, refs TODO below SchemaEnv is assigned to it\nref // reference to resolve\n) {\n    const p = this.opts.uriResolver.parse(ref);\n    const refPath = (0, resolve_1._getFullPath)(this.opts.uriResolver, p);\n    let baseId = (0, resolve_1.getFullPath)(this.opts.uriResolver, root.baseId, undefined);\n    // TODO `Object.keys(root.schema).length > 0` should not be needed - but removing breaks 2 tests\n    if (Object.keys(root.schema).length > 0 && refPath === baseId) {\n        return getJsonPointer.call(this, p, root);\n    }\n    const id = (0, resolve_1.normalizeId)(refPath);\n    const schOrRef = this.refs[id] || this.schemas[id];\n    if (typeof schOrRef == \"string\") {\n        const sch = resolveSchema.call(this, root, schOrRef);\n        if (typeof (sch === null || sch === void 0 ? void 0 : sch.schema) !== \"object\")\n            return;\n        return getJsonPointer.call(this, p, sch);\n    }\n    if (typeof (schOrRef === null || schOrRef === void 0 ? void 0 : schOrRef.schema) !== \"object\")\n        return;\n    if (!schOrRef.validate)\n        compileSchema.call(this, schOrRef);\n    if (id === (0, resolve_1.normalizeId)(ref)) {\n        const { schema } = schOrRef;\n        const { schemaId } = this.opts;\n        const schId = schema[schemaId];\n        if (schId)\n            baseId = (0, resolve_1.resolveUrl)(this.opts.uriResolver, baseId, schId);\n        return new SchemaEnv({ schema, schemaId, root, baseId });\n    }\n    return getJsonPointer.call(this, p, schOrRef);\n}\nexports.resolveSchema = resolveSchema;\nconst PREVENT_SCOPE_CHANGE = new Set([\n    \"properties\",\n    \"patternProperties\",\n    \"enum\",\n    \"dependencies\",\n    \"definitions\",\n]);\nfunction getJsonPointer(parsedRef, { baseId, schema, root }) {\n    var _a;\n    if (((_a = parsedRef.fragment) === null || _a === void 0 ? void 0 : _a[0]) !== \"/\")\n        return;\n    for (const part of parsedRef.fragment.slice(1).split(\"/\")) {\n        if (typeof schema === \"boolean\")\n            return;\n        const partSchema = schema[(0, util_1.unescapeFragment)(part)];\n        if (partSchema === undefined)\n            return;\n        schema = partSchema;\n        // TODO PREVENT_SCOPE_CHANGE could be defined in keyword def?\n        const schId = typeof schema === \"object\" && schema[this.opts.schemaId];\n        if (!PREVENT_SCOPE_CHANGE.has(part) && schId) {\n            baseId = (0, resolve_1.resolveUrl)(this.opts.uriResolver, baseId, schId);\n        }\n    }\n    let env;\n    if (typeof schema != \"boolean\" && schema.$ref && !(0, util_1.schemaHasRulesButRef)(schema, this.RULES)) {\n        const $ref = (0, resolve_1.resolveUrl)(this.opts.uriResolver, baseId, schema.$ref);\n        env = resolveSchema.call(this, root, $ref);\n    }\n    // even though resolution failed we need to return SchemaEnv to throw exception\n    // so that compileAsync loads missing schema.\n    const { schemaId } = this.opts;\n    env = env || new SchemaEnv({ schema, schemaId, root, baseId });\n    if (env.schema !== env.root.schema)\n        return env;\n    return undefined;\n}\n//# sourceMappingURL=index.js.map","/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.URI = global.URI || {})));\n}(this, (function (exports) { 'use strict';\n\nfunction merge() {\n    for (var _len = arguments.length, sets = Array(_len), _key = 0; _key < _len; _key++) {\n        sets[_key] = arguments[_key];\n    }\n\n    if (sets.length > 1) {\n        sets[0] = sets[0].slice(0, -1);\n        var xl = sets.length - 1;\n        for (var x = 1; x < xl; ++x) {\n            sets[x] = sets[x].slice(1, -1);\n        }\n        sets[xl] = sets[xl].slice(1);\n        return sets.join('');\n    } else {\n        return sets[0];\n    }\n}\nfunction subexp(str) {\n    return \"(?:\" + str + \")\";\n}\nfunction typeOf(o) {\n    return o === undefined ? \"undefined\" : o === null ? \"null\" : Object.prototype.toString.call(o).split(\" \").pop().split(\"]\").shift().toLowerCase();\n}\nfunction toUpperCase(str) {\n    return str.toUpperCase();\n}\nfunction toArray(obj) {\n    return obj !== undefined && obj !== null ? obj instanceof Array ? obj : typeof obj.length !== \"number\" || obj.split || obj.setInterval || obj.call ? [obj] : Array.prototype.slice.call(obj) : [];\n}\nfunction assign(target, source) {\n    var obj = target;\n    if (source) {\n        for (var key in source) {\n            obj[key] = source[key];\n        }\n    }\n    return obj;\n}\n\nfunction buildExps(isIRI) {\n    var ALPHA$$ = \"[A-Za-z]\",\n        CR$ = \"[\\\\x0D]\",\n        DIGIT$$ = \"[0-9]\",\n        DQUOTE$$ = \"[\\\\x22]\",\n        HEXDIG$$ = merge(DIGIT$$, \"[A-Fa-f]\"),\n        //case-insensitive\n    LF$$ = \"[\\\\x0A]\",\n        SP$$ = \"[\\\\x20]\",\n        PCT_ENCODED$ = subexp(subexp(\"%[EFef]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%[89A-Fa-f]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%\" + HEXDIG$$ + HEXDIG$$)),\n        //expanded\n    GEN_DELIMS$$ = \"[\\\\:\\\\/\\\\?\\\\#\\\\[\\\\]\\\\@]\",\n        SUB_DELIMS$$ = \"[\\\\!\\\\$\\\\&\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\=]\",\n        RESERVED$$ = merge(GEN_DELIMS$$, SUB_DELIMS$$),\n        UCSCHAR$$ = isIRI ? \"[\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF]\" : \"[]\",\n        //subset, excludes bidi control characters\n    IPRIVATE$$ = isIRI ? \"[\\\\uE000-\\\\uF8FF]\" : \"[]\",\n        //subset\n    UNRESERVED$$ = merge(ALPHA$$, DIGIT$$, \"[\\\\-\\\\.\\\\_\\\\~]\", UCSCHAR$$),\n        SCHEME$ = subexp(ALPHA$$ + merge(ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\") + \"*\"),\n        USERINFO$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\")) + \"*\"),\n        DEC_OCTET$ = subexp(subexp(\"25[0-5]\") + \"|\" + subexp(\"2[0-4]\" + DIGIT$$) + \"|\" + subexp(\"1\" + DIGIT$$ + DIGIT$$) + \"|\" + subexp(\"[1-9]\" + DIGIT$$) + \"|\" + DIGIT$$),\n        DEC_OCTET_RELAXED$ = subexp(subexp(\"25[0-5]\") + \"|\" + subexp(\"2[0-4]\" + DIGIT$$) + \"|\" + subexp(\"1\" + DIGIT$$ + DIGIT$$) + \"|\" + subexp(\"0?[1-9]\" + DIGIT$$) + \"|0?0?\" + DIGIT$$),\n        //relaxed parsing rules\n    IPV4ADDRESS$ = subexp(DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$),\n        H16$ = subexp(HEXDIG$$ + \"{1,4}\"),\n        LS32$ = subexp(subexp(H16$ + \"\\\\:\" + H16$) + \"|\" + IPV4ADDRESS$),\n        IPV6ADDRESS1$ = subexp(subexp(H16$ + \"\\\\:\") + \"{6}\" + LS32$),\n        //                           6( h16 \":\" ) ls32\n    IPV6ADDRESS2$ = subexp(\"\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{5}\" + LS32$),\n        //                      \"::\" 5( h16 \":\" ) ls32\n    IPV6ADDRESS3$ = subexp(subexp(H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{4}\" + LS32$),\n        //[               h16 ] \"::\" 4( h16 \":\" ) ls32\n    IPV6ADDRESS4$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,1}\" + H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{3}\" + LS32$),\n        //[ *1( h16 \":\" ) h16 ] \"::\" 3( h16 \":\" ) ls32\n    IPV6ADDRESS5$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,2}\" + H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{2}\" + LS32$),\n        //[ *2( h16 \":\" ) h16 ] \"::\" 2( h16 \":\" ) ls32\n    IPV6ADDRESS6$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,3}\" + H16$) + \"?\\\\:\\\\:\" + H16$ + \"\\\\:\" + LS32$),\n        //[ *3( h16 \":\" ) h16 ] \"::\"    h16 \":\"   ls32\n    IPV6ADDRESS7$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,4}\" + H16$) + \"?\\\\:\\\\:\" + LS32$),\n        //[ *4( h16 \":\" ) h16 ] \"::\"              ls32\n    IPV6ADDRESS8$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,5}\" + H16$) + \"?\\\\:\\\\:\" + H16$),\n        //[ *5( h16 \":\" ) h16 ] \"::\"              h16\n    IPV6ADDRESS9$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,6}\" + H16$) + \"?\\\\:\\\\:\"),\n        //[ *6( h16 \":\" ) h16 ] \"::\"\n    IPV6ADDRESS$ = subexp([IPV6ADDRESS1$, IPV6ADDRESS2$, IPV6ADDRESS3$, IPV6ADDRESS4$, IPV6ADDRESS5$, IPV6ADDRESS6$, IPV6ADDRESS7$, IPV6ADDRESS8$, IPV6ADDRESS9$].join(\"|\")),\n        ZONEID$ = subexp(subexp(UNRESERVED$$ + \"|\" + PCT_ENCODED$) + \"+\"),\n        //RFC 6874\n    IPV6ADDRZ$ = subexp(IPV6ADDRESS$ + \"\\\\%25\" + ZONEID$),\n        //RFC 6874\n    IPV6ADDRZ_RELAXED$ = subexp(IPV6ADDRESS$ + subexp(\"\\\\%25|\\\\%(?!\" + HEXDIG$$ + \"{2})\") + ZONEID$),\n        //RFC 6874, with relaxed parsing rules\n    IPVFUTURE$ = subexp(\"[vV]\" + HEXDIG$$ + \"+\\\\.\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\") + \"+\"),\n        IP_LITERAL$ = subexp(\"\\\\[\" + subexp(IPV6ADDRZ_RELAXED$ + \"|\" + IPV6ADDRESS$ + \"|\" + IPVFUTURE$) + \"\\\\]\"),\n        //RFC 6874\n    REG_NAME$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$)) + \"*\"),\n        HOST$ = subexp(IP_LITERAL$ + \"|\" + IPV4ADDRESS$ + \"(?!\" + REG_NAME$ + \")\" + \"|\" + REG_NAME$),\n        PORT$ = subexp(DIGIT$$ + \"*\"),\n        AUTHORITY$ = subexp(subexp(USERINFO$ + \"@\") + \"?\" + HOST$ + subexp(\"\\\\:\" + PORT$) + \"?\"),\n        PCHAR$ = subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@]\")),\n        SEGMENT$ = subexp(PCHAR$ + \"*\"),\n        SEGMENT_NZ$ = subexp(PCHAR$ + \"+\"),\n        SEGMENT_NZ_NC$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\@]\")) + \"+\"),\n        PATH_ABEMPTY$ = subexp(subexp(\"\\\\/\" + SEGMENT$) + \"*\"),\n        PATH_ABSOLUTE$ = subexp(\"\\\\/\" + subexp(SEGMENT_NZ$ + PATH_ABEMPTY$) + \"?\"),\n        //simplified\n    PATH_NOSCHEME$ = subexp(SEGMENT_NZ_NC$ + PATH_ABEMPTY$),\n        //simplified\n    PATH_ROOTLESS$ = subexp(SEGMENT_NZ$ + PATH_ABEMPTY$),\n        //simplified\n    PATH_EMPTY$ = \"(?!\" + PCHAR$ + \")\",\n        PATH$ = subexp(PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\n        QUERY$ = subexp(subexp(PCHAR$ + \"|\" + merge(\"[\\\\/\\\\?]\", IPRIVATE$$)) + \"*\"),\n        FRAGMENT$ = subexp(subexp(PCHAR$ + \"|[\\\\/\\\\?]\") + \"*\"),\n        HIER_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\n        URI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\n        RELATIVE_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$),\n        RELATIVE$ = subexp(RELATIVE_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\n        URI_REFERENCE$ = subexp(URI$ + \"|\" + RELATIVE$),\n        ABSOLUTE_URI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\"),\n        GENERIC_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n        RELATIVE_REF$ = \"^(){0}\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n        ABSOLUTE_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?$\",\n        SAMEDOC_REF$ = \"^\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n        AUTHORITY_REF$ = \"^\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?$\";\n    return {\n        NOT_SCHEME: new RegExp(merge(\"[^]\", ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\"), \"g\"),\n        NOT_USERINFO: new RegExp(merge(\"[^\\\\%\\\\:]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_HOST: new RegExp(merge(\"[^\\\\%\\\\[\\\\]\\\\:]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_PATH: new RegExp(merge(\"[^\\\\%\\\\/\\\\:\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_PATH_NOSCHEME: new RegExp(merge(\"[^\\\\%\\\\/\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_QUERY: new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@\\\\/\\\\?]\", IPRIVATE$$), \"g\"),\n        NOT_FRAGMENT: new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@\\\\/\\\\?]\"), \"g\"),\n        ESCAPE: new RegExp(merge(\"[^]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        UNRESERVED: new RegExp(UNRESERVED$$, \"g\"),\n        OTHER_CHARS: new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, RESERVED$$), \"g\"),\n        PCT_ENCODED: new RegExp(PCT_ENCODED$, \"g\"),\n        IPV4ADDRESS: new RegExp(\"^(\" + IPV4ADDRESS$ + \")$\"),\n        IPV6ADDRESS: new RegExp(\"^\\\\[?(\" + IPV6ADDRESS$ + \")\" + subexp(subexp(\"\\\\%25|\\\\%(?!\" + HEXDIG$$ + \"{2})\") + \"(\" + ZONEID$ + \")\") + \"?\\\\]?$\") //RFC 6874, with relaxed parsing rules\n    };\n}\nvar URI_PROTOCOL = buildExps(false);\n\nvar IRI_PROTOCOL = buildExps(true);\n\nvar slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar toConsumableArray = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n};\n\n/** Highest positive signed 32-bit float value */\n\nvar maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1\n\n/** Bootstring parameters */\nvar base = 36;\nvar tMin = 1;\nvar tMax = 26;\nvar skew = 38;\nvar damp = 700;\nvar initialBias = 72;\nvar initialN = 128; // 0x80\nvar delimiter = '-'; // '\\x2D'\n\n/** Regular expressions */\nvar regexPunycode = /^xn--/;\nvar regexNonASCII = /[^\\0-\\x7E]/; // non-ASCII chars\nvar regexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g; // RFC 3490 separators\n\n/** Error messages */\nvar errors = {\n\t'overflow': 'Overflow: input needs wider integers to process',\n\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t'invalid-input': 'Invalid input'\n};\n\n/** Convenience shortcuts */\nvar baseMinusTMin = base - tMin;\nvar floor = Math.floor;\nvar stringFromCharCode = String.fromCharCode;\n\n/*--------------------------------------------------------------------------*/\n\n/**\n * A generic error utility function.\n * @private\n * @param {String} type The error type.\n * @returns {Error} Throws a `RangeError` with the applicable error message.\n */\nfunction error$1(type) {\n\tthrow new RangeError(errors[type]);\n}\n\n/**\n * A generic `Array#map` utility function.\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} callback The function that gets called for every array\n * item.\n * @returns {Array} A new array of values returned by the callback function.\n */\nfunction map(array, fn) {\n\tvar result = [];\n\tvar length = array.length;\n\twhile (length--) {\n\t\tresult[length] = fn(array[length]);\n\t}\n\treturn result;\n}\n\n/**\n * A simple `Array#map`-like wrapper to work with domain name strings or email\n * addresses.\n * @private\n * @param {String} domain The domain name or email address.\n * @param {Function} callback The function that gets called for every\n * character.\n * @returns {Array} A new string of characters returned by the callback\n * function.\n */\nfunction mapDomain(string, fn) {\n\tvar parts = string.split('@');\n\tvar result = '';\n\tif (parts.length > 1) {\n\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t// the local part (i.e. everything up to `@`) intact.\n\t\tresult = parts[0] + '@';\n\t\tstring = parts[1];\n\t}\n\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\tstring = string.replace(regexSeparators, '\\x2E');\n\tvar labels = string.split('.');\n\tvar encoded = map(labels, fn).join('.');\n\treturn result + encoded;\n}\n\n/**\n * Creates an array containing the numeric code points of each Unicode\n * character in the string. While JavaScript uses UCS-2 internally,\n * this function will convert a pair of surrogate halves (each of which\n * UCS-2 exposes as separate characters) into a single code point,\n * matching UTF-16.\n * @see `punycode.ucs2.encode`\n * @see <https://mathiasbynens.be/notes/javascript-encoding>\n * @memberOf punycode.ucs2\n * @name decode\n * @param {String} string The Unicode input string (UCS-2).\n * @returns {Array} The new array of code points.\n */\nfunction ucs2decode(string) {\n\tvar output = [];\n\tvar counter = 0;\n\tvar length = string.length;\n\twhile (counter < length) {\n\t\tvar value = string.charCodeAt(counter++);\n\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t// It's a high surrogate, and there is a next character.\n\t\t\tvar extra = string.charCodeAt(counter++);\n\t\t\tif ((extra & 0xFC00) == 0xDC00) {\n\t\t\t\t// Low surrogate.\n\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t} else {\n\t\t\t\t// It's an unmatched surrogate; only append this code unit, in case the\n\t\t\t\t// next code unit is the high surrogate of a surrogate pair.\n\t\t\t\toutput.push(value);\n\t\t\t\tcounter--;\n\t\t\t}\n\t\t} else {\n\t\t\toutput.push(value);\n\t\t}\n\t}\n\treturn output;\n}\n\n/**\n * Creates a string based on an array of numeric code points.\n * @see `punycode.ucs2.decode`\n * @memberOf punycode.ucs2\n * @name encode\n * @param {Array} codePoints The array of numeric code points.\n * @returns {String} The new Unicode string (UCS-2).\n */\nvar ucs2encode = function ucs2encode(array) {\n\treturn String.fromCodePoint.apply(String, toConsumableArray(array));\n};\n\n/**\n * Converts a basic code point into a digit/integer.\n * @see `digitToBasic()`\n * @private\n * @param {Number} codePoint The basic numeric code point value.\n * @returns {Number} The numeric value of a basic code point (for use in\n * representing integers) in the range `0` to `base - 1`, or `base` if\n * the code point does not represent a value.\n */\nvar basicToDigit = function basicToDigit(codePoint) {\n\tif (codePoint - 0x30 < 0x0A) {\n\t\treturn codePoint - 0x16;\n\t}\n\tif (codePoint - 0x41 < 0x1A) {\n\t\treturn codePoint - 0x41;\n\t}\n\tif (codePoint - 0x61 < 0x1A) {\n\t\treturn codePoint - 0x61;\n\t}\n\treturn base;\n};\n\n/**\n * Converts a digit/integer into a basic code point.\n * @see `basicToDigit()`\n * @private\n * @param {Number} digit The numeric value of a basic code point.\n * @returns {Number} The basic code point whose value (when used for\n * representing integers) is `digit`, which needs to be in the range\n * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n * used; else, the lowercase form is used. The behavior is undefined\n * if `flag` is non-zero and `digit` has no uppercase form.\n */\nvar digitToBasic = function digitToBasic(digit, flag) {\n\t//  0..25 map to ASCII a..z or A..Z\n\t// 26..35 map to ASCII 0..9\n\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n};\n\n/**\n * Bias adaptation function as per section 3.4 of RFC 3492.\n * https://tools.ietf.org/html/rfc3492#section-3.4\n * @private\n */\nvar adapt = function adapt(delta, numPoints, firstTime) {\n\tvar k = 0;\n\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\tdelta += floor(delta / numPoints);\n\tfor (; /* no initialization */delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\tdelta = floor(delta / baseMinusTMin);\n\t}\n\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n};\n\n/**\n * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n * symbols.\n * @memberOf punycode\n * @param {String} input The Punycode string of ASCII-only symbols.\n * @returns {String} The resulting string of Unicode symbols.\n */\nvar decode = function decode(input) {\n\t// Don't use UCS-2.\n\tvar output = [];\n\tvar inputLength = input.length;\n\tvar i = 0;\n\tvar n = initialN;\n\tvar bias = initialBias;\n\n\t// Handle the basic code points: let `basic` be the number of input code\n\t// points before the last delimiter, or `0` if there is none, then copy\n\t// the first basic code points to the output.\n\n\tvar basic = input.lastIndexOf(delimiter);\n\tif (basic < 0) {\n\t\tbasic = 0;\n\t}\n\n\tfor (var j = 0; j < basic; ++j) {\n\t\t// if it's not a basic code point\n\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\terror$1('not-basic');\n\t\t}\n\t\toutput.push(input.charCodeAt(j));\n\t}\n\n\t// Main decoding loop: start just after the last delimiter if any basic code\n\t// points were copied; start at the beginning otherwise.\n\n\tfor (var index = basic > 0 ? basic + 1 : 0; index < inputLength;) /* no final expression */{\n\n\t\t// `index` is the index of the next character to be consumed.\n\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t// which gets added to `i`. The overflow checking is easier\n\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t// value at the end to obtain `delta`.\n\t\tvar oldi = i;\n\t\tfor (var w = 1, k = base;; /* no condition */k += base) {\n\n\t\t\tif (index >= inputLength) {\n\t\t\t\terror$1('invalid-input');\n\t\t\t}\n\n\t\t\tvar digit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\terror$1('overflow');\n\t\t\t}\n\n\t\t\ti += digit * w;\n\t\t\tvar t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;\n\n\t\t\tif (digit < t) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tvar baseMinusT = base - t;\n\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\terror$1('overflow');\n\t\t\t}\n\n\t\t\tw *= baseMinusT;\n\t\t}\n\n\t\tvar out = output.length + 1;\n\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t// incrementing `n` each time, so we'll fix that now:\n\t\tif (floor(i / out) > maxInt - n) {\n\t\t\terror$1('overflow');\n\t\t}\n\n\t\tn += floor(i / out);\n\t\ti %= out;\n\n\t\t// Insert `n` at position `i` of the output.\n\t\toutput.splice(i++, 0, n);\n\t}\n\n\treturn String.fromCodePoint.apply(String, output);\n};\n\n/**\n * Converts a string of Unicode symbols (e.g. a domain name label) to a\n * Punycode string of ASCII-only symbols.\n * @memberOf punycode\n * @param {String} input The string of Unicode symbols.\n * @returns {String} The resulting Punycode string of ASCII-only symbols.\n */\nvar encode = function encode(input) {\n\tvar output = [];\n\n\t// Convert the input in UCS-2 to an array of Unicode code points.\n\tinput = ucs2decode(input);\n\n\t// Cache the length.\n\tvar inputLength = input.length;\n\n\t// Initialize the state.\n\tvar n = initialN;\n\tvar delta = 0;\n\tvar bias = initialBias;\n\n\t// Handle the basic code points.\n\tvar _iteratorNormalCompletion = true;\n\tvar _didIteratorError = false;\n\tvar _iteratorError = undefined;\n\n\ttry {\n\t\tfor (var _iterator = input[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\tvar _currentValue2 = _step.value;\n\n\t\t\tif (_currentValue2 < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(_currentValue2));\n\t\t\t}\n\t\t}\n\t} catch (err) {\n\t\t_didIteratorError = true;\n\t\t_iteratorError = err;\n\t} finally {\n\t\ttry {\n\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t_iterator.return();\n\t\t\t}\n\t\t} finally {\n\t\t\tif (_didIteratorError) {\n\t\t\t\tthrow _iteratorError;\n\t\t\t}\n\t\t}\n\t}\n\n\tvar basicLength = output.length;\n\tvar handledCPCount = basicLength;\n\n\t// `handledCPCount` is the number of code points that have been handled;\n\t// `basicLength` is the number of basic code points.\n\n\t// Finish the basic string with a delimiter unless it's empty.\n\tif (basicLength) {\n\t\toutput.push(delimiter);\n\t}\n\n\t// Main encoding loop:\n\twhile (handledCPCount < inputLength) {\n\n\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t// larger one:\n\t\tvar m = maxInt;\n\t\tvar _iteratorNormalCompletion2 = true;\n\t\tvar _didIteratorError2 = false;\n\t\tvar _iteratorError2 = undefined;\n\n\t\ttry {\n\t\t\tfor (var _iterator2 = input[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t\t\t\tvar currentValue = _step2.value;\n\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow.\n\t\t} catch (err) {\n\t\t\t_didIteratorError2 = true;\n\t\t\t_iteratorError2 = err;\n\t\t} finally {\n\t\t\ttry {\n\t\t\t\tif (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t\t\t\t\t_iterator2.return();\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tif (_didIteratorError2) {\n\t\t\t\t\tthrow _iteratorError2;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar handledCPCountPlusOne = handledCPCount + 1;\n\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\terror$1('overflow');\n\t\t}\n\n\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\tn = m;\n\n\t\tvar _iteratorNormalCompletion3 = true;\n\t\tvar _didIteratorError3 = false;\n\t\tvar _iteratorError3 = undefined;\n\n\t\ttry {\n\t\t\tfor (var _iterator3 = input[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n\t\t\t\tvar _currentValue = _step3.value;\n\n\t\t\t\tif (_currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror$1('overflow');\n\t\t\t\t}\n\t\t\t\tif (_currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer.\n\t\t\t\t\tvar q = delta;\n\t\t\t\t\tfor (var k = base;; /* no condition */k += base) {\n\t\t\t\t\t\tvar t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar qMinusT = q - t;\n\t\t\t\t\t\tvar baseMinusT = base - t;\n\t\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0)));\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (err) {\n\t\t\t_didIteratorError3 = true;\n\t\t\t_iteratorError3 = err;\n\t\t} finally {\n\t\t\ttry {\n\t\t\t\tif (!_iteratorNormalCompletion3 && _iterator3.return) {\n\t\t\t\t\t_iterator3.return();\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tif (_didIteratorError3) {\n\t\t\t\t\tthrow _iteratorError3;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t++delta;\n\t\t++n;\n\t}\n\treturn output.join('');\n};\n\n/**\n * Converts a Punycode string representing a domain name or an email address\n * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n * it doesn't matter if you call it on a string that has already been\n * converted to Unicode.\n * @memberOf punycode\n * @param {String} input The Punycoded domain name or email address to\n * convert to Unicode.\n * @returns {String} The Unicode representation of the given Punycode\n * string.\n */\nvar toUnicode = function toUnicode(input) {\n\treturn mapDomain(input, function (string) {\n\t\treturn regexPunycode.test(string) ? decode(string.slice(4).toLowerCase()) : string;\n\t});\n};\n\n/**\n * Converts a Unicode string representing a domain name or an email address to\n * Punycode. Only the non-ASCII parts of the domain name will be converted,\n * i.e. it doesn't matter if you call it with a domain that's already in\n * ASCII.\n * @memberOf punycode\n * @param {String} input The domain name or email address to convert, as a\n * Unicode string.\n * @returns {String} The Punycode representation of the given domain name or\n * email address.\n */\nvar toASCII = function toASCII(input) {\n\treturn mapDomain(input, function (string) {\n\t\treturn regexNonASCII.test(string) ? 'xn--' + encode(string) : string;\n\t});\n};\n\n/*--------------------------------------------------------------------------*/\n\n/** Define the public API */\nvar punycode = {\n\t/**\n  * A string representing the current Punycode.js version number.\n  * @memberOf punycode\n  * @type String\n  */\n\t'version': '2.1.0',\n\t/**\n  * An object of methods to convert from JavaScript's internal character\n  * representation (UCS-2) to Unicode code points, and back.\n  * @see <https://mathiasbynens.be/notes/javascript-encoding>\n  * @memberOf punycode\n  * @type Object\n  */\n\t'ucs2': {\n\t\t'decode': ucs2decode,\n\t\t'encode': ucs2encode\n\t},\n\t'decode': decode,\n\t'encode': encode,\n\t'toASCII': toASCII,\n\t'toUnicode': toUnicode\n};\n\n/**\n * URI.js\n *\n * @fileoverview An RFC 3986 compliant, scheme extendable URI parsing/validating/resolving library for JavaScript.\n * @author <a href=\"mailto:gary.court@gmail.com\">Gary Court</a>\n * @see http://github.com/garycourt/uri-js\n */\n/**\n * Copyright 2011 Gary Court. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification, are\n * permitted provided that the following conditions are met:\n *\n *    1. Redistributions of source code must retain the above copyright notice, this list of\n *       conditions and the following disclaimer.\n *\n *    2. Redistributions in binary form must reproduce the above copyright notice, this list\n *       of conditions and the following disclaimer in the documentation and/or other materials\n *       provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY GARY COURT ``AS IS'' AND ANY EXPRESS OR IMPLIED\n * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL GARY COURT OR\n * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\n * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * The views and conclusions contained in the software and documentation are those of the\n * authors and should not be interpreted as representing official policies, either expressed\n * or implied, of Gary Court.\n */\nvar SCHEMES = {};\nfunction pctEncChar(chr) {\n    var c = chr.charCodeAt(0);\n    var e = void 0;\n    if (c < 16) e = \"%0\" + c.toString(16).toUpperCase();else if (c < 128) e = \"%\" + c.toString(16).toUpperCase();else if (c < 2048) e = \"%\" + (c >> 6 | 192).toString(16).toUpperCase() + \"%\" + (c & 63 | 128).toString(16).toUpperCase();else e = \"%\" + (c >> 12 | 224).toString(16).toUpperCase() + \"%\" + (c >> 6 & 63 | 128).toString(16).toUpperCase() + \"%\" + (c & 63 | 128).toString(16).toUpperCase();\n    return e;\n}\nfunction pctDecChars(str) {\n    var newStr = \"\";\n    var i = 0;\n    var il = str.length;\n    while (i < il) {\n        var c = parseInt(str.substr(i + 1, 2), 16);\n        if (c < 128) {\n            newStr += String.fromCharCode(c);\n            i += 3;\n        } else if (c >= 194 && c < 224) {\n            if (il - i >= 6) {\n                var c2 = parseInt(str.substr(i + 4, 2), 16);\n                newStr += String.fromCharCode((c & 31) << 6 | c2 & 63);\n            } else {\n                newStr += str.substr(i, 6);\n            }\n            i += 6;\n        } else if (c >= 224) {\n            if (il - i >= 9) {\n                var _c = parseInt(str.substr(i + 4, 2), 16);\n                var c3 = parseInt(str.substr(i + 7, 2), 16);\n                newStr += String.fromCharCode((c & 15) << 12 | (_c & 63) << 6 | c3 & 63);\n            } else {\n                newStr += str.substr(i, 9);\n            }\n            i += 9;\n        } else {\n            newStr += str.substr(i, 3);\n            i += 3;\n        }\n    }\n    return newStr;\n}\nfunction _normalizeComponentEncoding(components, protocol) {\n    function decodeUnreserved(str) {\n        var decStr = pctDecChars(str);\n        return !decStr.match(protocol.UNRESERVED) ? str : decStr;\n    }\n    if (components.scheme) components.scheme = String(components.scheme).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_SCHEME, \"\");\n    if (components.userinfo !== undefined) components.userinfo = String(components.userinfo).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_USERINFO, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.host !== undefined) components.host = String(components.host).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_HOST, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.path !== undefined) components.path = String(components.path).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(components.scheme ? protocol.NOT_PATH : protocol.NOT_PATH_NOSCHEME, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.query !== undefined) components.query = String(components.query).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_QUERY, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.fragment !== undefined) components.fragment = String(components.fragment).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_FRAGMENT, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    return components;\n}\n\nfunction _stripLeadingZeros(str) {\n    return str.replace(/^0*(.*)/, \"$1\") || \"0\";\n}\nfunction _normalizeIPv4(host, protocol) {\n    var matches = host.match(protocol.IPV4ADDRESS) || [];\n\n    var _matches = slicedToArray(matches, 2),\n        address = _matches[1];\n\n    if (address) {\n        return address.split(\".\").map(_stripLeadingZeros).join(\".\");\n    } else {\n        return host;\n    }\n}\nfunction _normalizeIPv6(host, protocol) {\n    var matches = host.match(protocol.IPV6ADDRESS) || [];\n\n    var _matches2 = slicedToArray(matches, 3),\n        address = _matches2[1],\n        zone = _matches2[2];\n\n    if (address) {\n        var _address$toLowerCase$ = address.toLowerCase().split('::').reverse(),\n            _address$toLowerCase$2 = slicedToArray(_address$toLowerCase$, 2),\n            last = _address$toLowerCase$2[0],\n            first = _address$toLowerCase$2[1];\n\n        var firstFields = first ? first.split(\":\").map(_stripLeadingZeros) : [];\n        var lastFields = last.split(\":\").map(_stripLeadingZeros);\n        var isLastFieldIPv4Address = protocol.IPV4ADDRESS.test(lastFields[lastFields.length - 1]);\n        var fieldCount = isLastFieldIPv4Address ? 7 : 8;\n        var lastFieldsStart = lastFields.length - fieldCount;\n        var fields = Array(fieldCount);\n        for (var x = 0; x < fieldCount; ++x) {\n            fields[x] = firstFields[x] || lastFields[lastFieldsStart + x] || '';\n        }\n        if (isLastFieldIPv4Address) {\n            fields[fieldCount - 1] = _normalizeIPv4(fields[fieldCount - 1], protocol);\n        }\n        var allZeroFields = fields.reduce(function (acc, field, index) {\n            if (!field || field === \"0\") {\n                var lastLongest = acc[acc.length - 1];\n                if (lastLongest && lastLongest.index + lastLongest.length === index) {\n                    lastLongest.length++;\n                } else {\n                    acc.push({ index: index, length: 1 });\n                }\n            }\n            return acc;\n        }, []);\n        var longestZeroFields = allZeroFields.sort(function (a, b) {\n            return b.length - a.length;\n        })[0];\n        var newHost = void 0;\n        if (longestZeroFields && longestZeroFields.length > 1) {\n            var newFirst = fields.slice(0, longestZeroFields.index);\n            var newLast = fields.slice(longestZeroFields.index + longestZeroFields.length);\n            newHost = newFirst.join(\":\") + \"::\" + newLast.join(\":\");\n        } else {\n            newHost = fields.join(\":\");\n        }\n        if (zone) {\n            newHost += \"%\" + zone;\n        }\n        return newHost;\n    } else {\n        return host;\n    }\n}\nvar URI_PARSE = /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:([^\\/?#@]*)@)?(\\[[^\\/?#\\]]+\\]|[^\\/?#:]*)(?:\\:(\\d*))?))?([^?#]*)(?:\\?([^#]*))?(?:#((?:.|\\n|\\r)*))?/i;\nvar NO_MATCH_IS_UNDEFINED = \"\".match(/(){0}/)[1] === undefined;\nfunction parse(uriString) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var components = {};\n    var protocol = options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL;\n    if (options.reference === \"suffix\") uriString = (options.scheme ? options.scheme + \":\" : \"\") + \"//\" + uriString;\n    var matches = uriString.match(URI_PARSE);\n    if (matches) {\n        if (NO_MATCH_IS_UNDEFINED) {\n            //store each component\n            components.scheme = matches[1];\n            components.userinfo = matches[3];\n            components.host = matches[4];\n            components.port = parseInt(matches[5], 10);\n            components.path = matches[6] || \"\";\n            components.query = matches[7];\n            components.fragment = matches[8];\n            //fix port number\n            if (isNaN(components.port)) {\n                components.port = matches[5];\n            }\n        } else {\n            //IE FIX for improper RegExp matching\n            //store each component\n            components.scheme = matches[1] || undefined;\n            components.userinfo = uriString.indexOf(\"@\") !== -1 ? matches[3] : undefined;\n            components.host = uriString.indexOf(\"//\") !== -1 ? matches[4] : undefined;\n            components.port = parseInt(matches[5], 10);\n            components.path = matches[6] || \"\";\n            components.query = uriString.indexOf(\"?\") !== -1 ? matches[7] : undefined;\n            components.fragment = uriString.indexOf(\"#\") !== -1 ? matches[8] : undefined;\n            //fix port number\n            if (isNaN(components.port)) {\n                components.port = uriString.match(/\\/\\/(?:.|\\n)*\\:(?:\\/|\\?|\\#|$)/) ? matches[4] : undefined;\n            }\n        }\n        if (components.host) {\n            //normalize IP hosts\n            components.host = _normalizeIPv6(_normalizeIPv4(components.host, protocol), protocol);\n        }\n        //determine reference type\n        if (components.scheme === undefined && components.userinfo === undefined && components.host === undefined && components.port === undefined && !components.path && components.query === undefined) {\n            components.reference = \"same-document\";\n        } else if (components.scheme === undefined) {\n            components.reference = \"relative\";\n        } else if (components.fragment === undefined) {\n            components.reference = \"absolute\";\n        } else {\n            components.reference = \"uri\";\n        }\n        //check for reference errors\n        if (options.reference && options.reference !== \"suffix\" && options.reference !== components.reference) {\n            components.error = components.error || \"URI is not a \" + options.reference + \" reference.\";\n        }\n        //find scheme handler\n        var schemeHandler = SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()];\n        //check if scheme can't handle IRIs\n        if (!options.unicodeSupport && (!schemeHandler || !schemeHandler.unicodeSupport)) {\n            //if host component is a domain name\n            if (components.host && (options.domainHost || schemeHandler && schemeHandler.domainHost)) {\n                //convert Unicode IDN -> ASCII IDN\n                try {\n                    components.host = punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase());\n                } catch (e) {\n                    components.error = components.error || \"Host's domain name can not be converted to ASCII via punycode: \" + e;\n                }\n            }\n            //convert IRI -> URI\n            _normalizeComponentEncoding(components, URI_PROTOCOL);\n        } else {\n            //normalize encodings\n            _normalizeComponentEncoding(components, protocol);\n        }\n        //perform scheme specific parsing\n        if (schemeHandler && schemeHandler.parse) {\n            schemeHandler.parse(components, options);\n        }\n    } else {\n        components.error = components.error || \"URI can not be parsed.\";\n    }\n    return components;\n}\n\nfunction _recomposeAuthority(components, options) {\n    var protocol = options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL;\n    var uriTokens = [];\n    if (components.userinfo !== undefined) {\n        uriTokens.push(components.userinfo);\n        uriTokens.push(\"@\");\n    }\n    if (components.host !== undefined) {\n        //normalize IP hosts, add brackets and escape zone separator for IPv6\n        uriTokens.push(_normalizeIPv6(_normalizeIPv4(String(components.host), protocol), protocol).replace(protocol.IPV6ADDRESS, function (_, $1, $2) {\n            return \"[\" + $1 + ($2 ? \"%25\" + $2 : \"\") + \"]\";\n        }));\n    }\n    if (typeof components.port === \"number\" || typeof components.port === \"string\") {\n        uriTokens.push(\":\");\n        uriTokens.push(String(components.port));\n    }\n    return uriTokens.length ? uriTokens.join(\"\") : undefined;\n}\n\nvar RDS1 = /^\\.\\.?\\//;\nvar RDS2 = /^\\/\\.(\\/|$)/;\nvar RDS3 = /^\\/\\.\\.(\\/|$)/;\nvar RDS5 = /^\\/?(?:.|\\n)*?(?=\\/|$)/;\nfunction removeDotSegments(input) {\n    var output = [];\n    while (input.length) {\n        if (input.match(RDS1)) {\n            input = input.replace(RDS1, \"\");\n        } else if (input.match(RDS2)) {\n            input = input.replace(RDS2, \"/\");\n        } else if (input.match(RDS3)) {\n            input = input.replace(RDS3, \"/\");\n            output.pop();\n        } else if (input === \".\" || input === \"..\") {\n            input = \"\";\n        } else {\n            var im = input.match(RDS5);\n            if (im) {\n                var s = im[0];\n                input = input.slice(s.length);\n                output.push(s);\n            } else {\n                throw new Error(\"Unexpected dot segment condition\");\n            }\n        }\n    }\n    return output.join(\"\");\n}\n\nfunction serialize(components) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var protocol = options.iri ? IRI_PROTOCOL : URI_PROTOCOL;\n    var uriTokens = [];\n    //find scheme handler\n    var schemeHandler = SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()];\n    //perform scheme specific serialization\n    if (schemeHandler && schemeHandler.serialize) schemeHandler.serialize(components, options);\n    if (components.host) {\n        //if host component is an IPv6 address\n        if (protocol.IPV6ADDRESS.test(components.host)) {}\n        //TODO: normalize IPv6 address as per RFC 5952\n\n        //if host component is a domain name\n        else if (options.domainHost || schemeHandler && schemeHandler.domainHost) {\n                //convert IDN via punycode\n                try {\n                    components.host = !options.iri ? punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase()) : punycode.toUnicode(components.host);\n                } catch (e) {\n                    components.error = components.error || \"Host's domain name can not be converted to \" + (!options.iri ? \"ASCII\" : \"Unicode\") + \" via punycode: \" + e;\n                }\n            }\n    }\n    //normalize encoding\n    _normalizeComponentEncoding(components, protocol);\n    if (options.reference !== \"suffix\" && components.scheme) {\n        uriTokens.push(components.scheme);\n        uriTokens.push(\":\");\n    }\n    var authority = _recomposeAuthority(components, options);\n    if (authority !== undefined) {\n        if (options.reference !== \"suffix\") {\n            uriTokens.push(\"//\");\n        }\n        uriTokens.push(authority);\n        if (components.path && components.path.charAt(0) !== \"/\") {\n            uriTokens.push(\"/\");\n        }\n    }\n    if (components.path !== undefined) {\n        var s = components.path;\n        if (!options.absolutePath && (!schemeHandler || !schemeHandler.absolutePath)) {\n            s = removeDotSegments(s);\n        }\n        if (authority === undefined) {\n            s = s.replace(/^\\/\\//, \"/%2F\"); //don't allow the path to start with \"//\"\n        }\n        uriTokens.push(s);\n    }\n    if (components.query !== undefined) {\n        uriTokens.push(\"?\");\n        uriTokens.push(components.query);\n    }\n    if (components.fragment !== undefined) {\n        uriTokens.push(\"#\");\n        uriTokens.push(components.fragment);\n    }\n    return uriTokens.join(\"\"); //merge tokens into a string\n}\n\nfunction resolveComponents(base, relative) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var skipNormalization = arguments[3];\n\n    var target = {};\n    if (!skipNormalization) {\n        base = parse(serialize(base, options), options); //normalize base components\n        relative = parse(serialize(relative, options), options); //normalize relative components\n    }\n    options = options || {};\n    if (!options.tolerant && relative.scheme) {\n        target.scheme = relative.scheme;\n        //target.authority = relative.authority;\n        target.userinfo = relative.userinfo;\n        target.host = relative.host;\n        target.port = relative.port;\n        target.path = removeDotSegments(relative.path || \"\");\n        target.query = relative.query;\n    } else {\n        if (relative.userinfo !== undefined || relative.host !== undefined || relative.port !== undefined) {\n            //target.authority = relative.authority;\n            target.userinfo = relative.userinfo;\n            target.host = relative.host;\n            target.port = relative.port;\n            target.path = removeDotSegments(relative.path || \"\");\n            target.query = relative.query;\n        } else {\n            if (!relative.path) {\n                target.path = base.path;\n                if (relative.query !== undefined) {\n                    target.query = relative.query;\n                } else {\n                    target.query = base.query;\n                }\n            } else {\n                if (relative.path.charAt(0) === \"/\") {\n                    target.path = removeDotSegments(relative.path);\n                } else {\n                    if ((base.userinfo !== undefined || base.host !== undefined || base.port !== undefined) && !base.path) {\n                        target.path = \"/\" + relative.path;\n                    } else if (!base.path) {\n                        target.path = relative.path;\n                    } else {\n                        target.path = base.path.slice(0, base.path.lastIndexOf(\"/\") + 1) + relative.path;\n                    }\n                    target.path = removeDotSegments(target.path);\n                }\n                target.query = relative.query;\n            }\n            //target.authority = base.authority;\n            target.userinfo = base.userinfo;\n            target.host = base.host;\n            target.port = base.port;\n        }\n        target.scheme = base.scheme;\n    }\n    target.fragment = relative.fragment;\n    return target;\n}\n\nfunction resolve(baseURI, relativeURI, options) {\n    var schemelessOptions = assign({ scheme: 'null' }, options);\n    return serialize(resolveComponents(parse(baseURI, schemelessOptions), parse(relativeURI, schemelessOptions), schemelessOptions, true), schemelessOptions);\n}\n\nfunction normalize(uri, options) {\n    if (typeof uri === \"string\") {\n        uri = serialize(parse(uri, options), options);\n    } else if (typeOf(uri) === \"object\") {\n        uri = parse(serialize(uri, options), options);\n    }\n    return uri;\n}\n\nfunction equal(uriA, uriB, options) {\n    if (typeof uriA === \"string\") {\n        uriA = serialize(parse(uriA, options), options);\n    } else if (typeOf(uriA) === \"object\") {\n        uriA = serialize(uriA, options);\n    }\n    if (typeof uriB === \"string\") {\n        uriB = serialize(parse(uriB, options), options);\n    } else if (typeOf(uriB) === \"object\") {\n        uriB = serialize(uriB, options);\n    }\n    return uriA === uriB;\n}\n\nfunction escapeComponent(str, options) {\n    return str && str.toString().replace(!options || !options.iri ? URI_PROTOCOL.ESCAPE : IRI_PROTOCOL.ESCAPE, pctEncChar);\n}\n\nfunction unescapeComponent(str, options) {\n    return str && str.toString().replace(!options || !options.iri ? URI_PROTOCOL.PCT_ENCODED : IRI_PROTOCOL.PCT_ENCODED, pctDecChars);\n}\n\nvar handler = {\n    scheme: \"http\",\n    domainHost: true,\n    parse: function parse(components, options) {\n        //report missing host\n        if (!components.host) {\n            components.error = components.error || \"HTTP URIs must have a host.\";\n        }\n        return components;\n    },\n    serialize: function serialize(components, options) {\n        var secure = String(components.scheme).toLowerCase() === \"https\";\n        //normalize the default port\n        if (components.port === (secure ? 443 : 80) || components.port === \"\") {\n            components.port = undefined;\n        }\n        //normalize the empty path\n        if (!components.path) {\n            components.path = \"/\";\n        }\n        //NOTE: We do not parse query strings for HTTP URIs\n        //as WWW Form Url Encoded query strings are part of the HTML4+ spec,\n        //and not the HTTP spec.\n        return components;\n    }\n};\n\nvar handler$1 = {\n    scheme: \"https\",\n    domainHost: handler.domainHost,\n    parse: handler.parse,\n    serialize: handler.serialize\n};\n\nfunction isSecure(wsComponents) {\n    return typeof wsComponents.secure === 'boolean' ? wsComponents.secure : String(wsComponents.scheme).toLowerCase() === \"wss\";\n}\n//RFC 6455\nvar handler$2 = {\n    scheme: \"ws\",\n    domainHost: true,\n    parse: function parse(components, options) {\n        var wsComponents = components;\n        //indicate if the secure flag is set\n        wsComponents.secure = isSecure(wsComponents);\n        //construct resouce name\n        wsComponents.resourceName = (wsComponents.path || '/') + (wsComponents.query ? '?' + wsComponents.query : '');\n        wsComponents.path = undefined;\n        wsComponents.query = undefined;\n        return wsComponents;\n    },\n    serialize: function serialize(wsComponents, options) {\n        //normalize the default port\n        if (wsComponents.port === (isSecure(wsComponents) ? 443 : 80) || wsComponents.port === \"\") {\n            wsComponents.port = undefined;\n        }\n        //ensure scheme matches secure flag\n        if (typeof wsComponents.secure === 'boolean') {\n            wsComponents.scheme = wsComponents.secure ? 'wss' : 'ws';\n            wsComponents.secure = undefined;\n        }\n        //reconstruct path from resource name\n        if (wsComponents.resourceName) {\n            var _wsComponents$resourc = wsComponents.resourceName.split('?'),\n                _wsComponents$resourc2 = slicedToArray(_wsComponents$resourc, 2),\n                path = _wsComponents$resourc2[0],\n                query = _wsComponents$resourc2[1];\n\n            wsComponents.path = path && path !== '/' ? path : undefined;\n            wsComponents.query = query;\n            wsComponents.resourceName = undefined;\n        }\n        //forbid fragment component\n        wsComponents.fragment = undefined;\n        return wsComponents;\n    }\n};\n\nvar handler$3 = {\n    scheme: \"wss\",\n    domainHost: handler$2.domainHost,\n    parse: handler$2.parse,\n    serialize: handler$2.serialize\n};\n\nvar O = {};\nvar isIRI = true;\n//RFC 3986\nvar UNRESERVED$$ = \"[A-Za-z0-9\\\\-\\\\.\\\\_\\\\~\" + (isIRI ? \"\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF\" : \"\") + \"]\";\nvar HEXDIG$$ = \"[0-9A-Fa-f]\"; //case-insensitive\nvar PCT_ENCODED$ = subexp(subexp(\"%[EFef]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%[89A-Fa-f]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%\" + HEXDIG$$ + HEXDIG$$)); //expanded\n//RFC 5322, except these symbols as per RFC 6068: @ : / ? # [ ] & ; =\n//const ATEXT$$ = \"[A-Za-z0-9\\\\!\\\\#\\\\$\\\\%\\\\&\\\\'\\\\*\\\\+\\\\-\\\\/\\\\=\\\\?\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\";\n//const WSP$$ = \"[\\\\x20\\\\x09]\";\n//const OBS_QTEXT$$ = \"[\\\\x01-\\\\x08\\\\x0B\\\\x0C\\\\x0E-\\\\x1F\\\\x7F]\";  //(%d1-8 / %d11-12 / %d14-31 / %d127)\n//const QTEXT$$ = merge(\"[\\\\x21\\\\x23-\\\\x5B\\\\x5D-\\\\x7E]\", OBS_QTEXT$$);  //%d33 / %d35-91 / %d93-126 / obs-qtext\n//const VCHAR$$ = \"[\\\\x21-\\\\x7E]\";\n//const WSP$$ = \"[\\\\x20\\\\x09]\";\n//const OBS_QP$ = subexp(\"\\\\\\\\\" + merge(\"[\\\\x00\\\\x0D\\\\x0A]\", OBS_QTEXT$$));  //%d0 / CR / LF / obs-qtext\n//const FWS$ = subexp(subexp(WSP$$ + \"*\" + \"\\\\x0D\\\\x0A\") + \"?\" + WSP$$ + \"+\");\n//const QUOTED_PAIR$ = subexp(subexp(\"\\\\\\\\\" + subexp(VCHAR$$ + \"|\" + WSP$$)) + \"|\" + OBS_QP$);\n//const QUOTED_STRING$ = subexp('\\\\\"' + subexp(FWS$ + \"?\" + QCONTENT$) + \"*\" + FWS$ + \"?\" + '\\\\\"');\nvar ATEXT$$ = \"[A-Za-z0-9\\\\!\\\\$\\\\%\\\\'\\\\*\\\\+\\\\-\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\";\nvar QTEXT$$ = \"[\\\\!\\\\$\\\\%\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\-\\\\.0-9\\\\<\\\\>A-Z\\\\x5E-\\\\x7E]\";\nvar VCHAR$$ = merge(QTEXT$$, \"[\\\\\\\"\\\\\\\\]\");\nvar SOME_DELIMS$$ = \"[\\\\!\\\\$\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\:\\\\@]\";\nvar UNRESERVED = new RegExp(UNRESERVED$$, \"g\");\nvar PCT_ENCODED = new RegExp(PCT_ENCODED$, \"g\");\nvar NOT_LOCAL_PART = new RegExp(merge(\"[^]\", ATEXT$$, \"[\\\\.]\", '[\\\\\"]', VCHAR$$), \"g\");\nvar NOT_HFNAME = new RegExp(merge(\"[^]\", UNRESERVED$$, SOME_DELIMS$$), \"g\");\nvar NOT_HFVALUE = NOT_HFNAME;\nfunction decodeUnreserved(str) {\n    var decStr = pctDecChars(str);\n    return !decStr.match(UNRESERVED) ? str : decStr;\n}\nvar handler$4 = {\n    scheme: \"mailto\",\n    parse: function parse$$1(components, options) {\n        var mailtoComponents = components;\n        var to = mailtoComponents.to = mailtoComponents.path ? mailtoComponents.path.split(\",\") : [];\n        mailtoComponents.path = undefined;\n        if (mailtoComponents.query) {\n            var unknownHeaders = false;\n            var headers = {};\n            var hfields = mailtoComponents.query.split(\"&\");\n            for (var x = 0, xl = hfields.length; x < xl; ++x) {\n                var hfield = hfields[x].split(\"=\");\n                switch (hfield[0]) {\n                    case \"to\":\n                        var toAddrs = hfield[1].split(\",\");\n                        for (var _x = 0, _xl = toAddrs.length; _x < _xl; ++_x) {\n                            to.push(toAddrs[_x]);\n                        }\n                        break;\n                    case \"subject\":\n                        mailtoComponents.subject = unescapeComponent(hfield[1], options);\n                        break;\n                    case \"body\":\n                        mailtoComponents.body = unescapeComponent(hfield[1], options);\n                        break;\n                    default:\n                        unknownHeaders = true;\n                        headers[unescapeComponent(hfield[0], options)] = unescapeComponent(hfield[1], options);\n                        break;\n                }\n            }\n            if (unknownHeaders) mailtoComponents.headers = headers;\n        }\n        mailtoComponents.query = undefined;\n        for (var _x2 = 0, _xl2 = to.length; _x2 < _xl2; ++_x2) {\n            var addr = to[_x2].split(\"@\");\n            addr[0] = unescapeComponent(addr[0]);\n            if (!options.unicodeSupport) {\n                //convert Unicode IDN -> ASCII IDN\n                try {\n                    addr[1] = punycode.toASCII(unescapeComponent(addr[1], options).toLowerCase());\n                } catch (e) {\n                    mailtoComponents.error = mailtoComponents.error || \"Email address's domain name can not be converted to ASCII via punycode: \" + e;\n                }\n            } else {\n                addr[1] = unescapeComponent(addr[1], options).toLowerCase();\n            }\n            to[_x2] = addr.join(\"@\");\n        }\n        return mailtoComponents;\n    },\n    serialize: function serialize$$1(mailtoComponents, options) {\n        var components = mailtoComponents;\n        var to = toArray(mailtoComponents.to);\n        if (to) {\n            for (var x = 0, xl = to.length; x < xl; ++x) {\n                var toAddr = String(to[x]);\n                var atIdx = toAddr.lastIndexOf(\"@\");\n                var localPart = toAddr.slice(0, atIdx).replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_LOCAL_PART, pctEncChar);\n                var domain = toAddr.slice(atIdx + 1);\n                //convert IDN via punycode\n                try {\n                    domain = !options.iri ? punycode.toASCII(unescapeComponent(domain, options).toLowerCase()) : punycode.toUnicode(domain);\n                } catch (e) {\n                    components.error = components.error || \"Email address's domain name can not be converted to \" + (!options.iri ? \"ASCII\" : \"Unicode\") + \" via punycode: \" + e;\n                }\n                to[x] = localPart + \"@\" + domain;\n            }\n            components.path = to.join(\",\");\n        }\n        var headers = mailtoComponents.headers = mailtoComponents.headers || {};\n        if (mailtoComponents.subject) headers[\"subject\"] = mailtoComponents.subject;\n        if (mailtoComponents.body) headers[\"body\"] = mailtoComponents.body;\n        var fields = [];\n        for (var name in headers) {\n            if (headers[name] !== O[name]) {\n                fields.push(name.replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFNAME, pctEncChar) + \"=\" + headers[name].replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFVALUE, pctEncChar));\n            }\n        }\n        if (fields.length) {\n            components.query = fields.join(\"&\");\n        }\n        return components;\n    }\n};\n\nvar URN_PARSE = /^([^\\:]+)\\:(.*)/;\n//RFC 2141\nvar handler$5 = {\n    scheme: \"urn\",\n    parse: function parse$$1(components, options) {\n        var matches = components.path && components.path.match(URN_PARSE);\n        var urnComponents = components;\n        if (matches) {\n            var scheme = options.scheme || urnComponents.scheme || \"urn\";\n            var nid = matches[1].toLowerCase();\n            var nss = matches[2];\n            var urnScheme = scheme + \":\" + (options.nid || nid);\n            var schemeHandler = SCHEMES[urnScheme];\n            urnComponents.nid = nid;\n            urnComponents.nss = nss;\n            urnComponents.path = undefined;\n            if (schemeHandler) {\n                urnComponents = schemeHandler.parse(urnComponents, options);\n            }\n        } else {\n            urnComponents.error = urnComponents.error || \"URN can not be parsed.\";\n        }\n        return urnComponents;\n    },\n    serialize: function serialize$$1(urnComponents, options) {\n        var scheme = options.scheme || urnComponents.scheme || \"urn\";\n        var nid = urnComponents.nid;\n        var urnScheme = scheme + \":\" + (options.nid || nid);\n        var schemeHandler = SCHEMES[urnScheme];\n        if (schemeHandler) {\n            urnComponents = schemeHandler.serialize(urnComponents, options);\n        }\n        var uriComponents = urnComponents;\n        var nss = urnComponents.nss;\n        uriComponents.path = (nid || options.nid) + \":\" + nss;\n        return uriComponents;\n    }\n};\n\nvar UUID = /^[0-9A-Fa-f]{8}(?:\\-[0-9A-Fa-f]{4}){3}\\-[0-9A-Fa-f]{12}$/;\n//RFC 4122\nvar handler$6 = {\n    scheme: \"urn:uuid\",\n    parse: function parse(urnComponents, options) {\n        var uuidComponents = urnComponents;\n        uuidComponents.uuid = uuidComponents.nss;\n        uuidComponents.nss = undefined;\n        if (!options.tolerant && (!uuidComponents.uuid || !uuidComponents.uuid.match(UUID))) {\n            uuidComponents.error = uuidComponents.error || \"UUID is not valid.\";\n        }\n        return uuidComponents;\n    },\n    serialize: function serialize(uuidComponents, options) {\n        var urnComponents = uuidComponents;\n        //normalize UUID\n        urnComponents.nss = (uuidComponents.uuid || \"\").toLowerCase();\n        return urnComponents;\n    }\n};\n\nSCHEMES[handler.scheme] = handler;\nSCHEMES[handler$1.scheme] = handler$1;\nSCHEMES[handler$2.scheme] = handler$2;\nSCHEMES[handler$3.scheme] = handler$3;\nSCHEMES[handler$4.scheme] = handler$4;\nSCHEMES[handler$5.scheme] = handler$5;\nSCHEMES[handler$6.scheme] = handler$6;\n\nexports.SCHEMES = SCHEMES;\nexports.pctEncChar = pctEncChar;\nexports.pctDecChars = pctDecChars;\nexports.parse = parse;\nexports.removeDotSegments = removeDotSegments;\nexports.serialize = serialize;\nexports.resolveComponents = resolveComponents;\nexports.resolve = resolve;\nexports.normalize = normalize;\nexports.equal = equal;\nexports.escapeComponent = escapeComponent;\nexports.unescapeComponent = unescapeComponent;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=uri.all.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst uri = require(\"uri-js\");\nuri.code = 'require(\"ajv/dist/runtime/uri\").default';\nexports.default = uri;\n//# sourceMappingURL=uri.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CodeGen = exports.Name = exports.nil = exports.stringify = exports.str = exports._ = exports.KeywordCxt = void 0;\nvar validate_1 = require(\"./compile/validate\");\nObject.defineProperty(exports, \"KeywordCxt\", { enumerable: true, get: function () { return validate_1.KeywordCxt; } });\nvar codegen_1 = require(\"./compile/codegen\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return codegen_1._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return codegen_1.str; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return codegen_1.stringify; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return codegen_1.nil; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return codegen_1.Name; } });\nObject.defineProperty(exports, \"CodeGen\", { enumerable: true, get: function () { return codegen_1.CodeGen; } });\nconst validation_error_1 = require(\"./runtime/validation_error\");\nconst ref_error_1 = require(\"./compile/ref_error\");\nconst rules_1 = require(\"./compile/rules\");\nconst compile_1 = require(\"./compile\");\nconst codegen_2 = require(\"./compile/codegen\");\nconst resolve_1 = require(\"./compile/resolve\");\nconst dataType_1 = require(\"./compile/validate/dataType\");\nconst util_1 = require(\"./compile/util\");\nconst $dataRefSchema = require(\"./refs/data.json\");\nconst uri_1 = require(\"./runtime/uri\");\nconst defaultRegExp = (str, flags) => new RegExp(str, flags);\ndefaultRegExp.code = \"new RegExp\";\nconst META_IGNORE_OPTIONS = [\"removeAdditional\", \"useDefaults\", \"coerceTypes\"];\nconst EXT_SCOPE_NAMES = new Set([\n    \"validate\",\n    \"serialize\",\n    \"parse\",\n    \"wrapper\",\n    \"root\",\n    \"schema\",\n    \"keyword\",\n    \"pattern\",\n    \"formats\",\n    \"validate$data\",\n    \"func\",\n    \"obj\",\n    \"Error\",\n]);\nconst removedOptions = {\n    errorDataPath: \"\",\n    format: \"`validateFormats: false` can be used instead.\",\n    nullable: '\"nullable\" keyword is supported by default.',\n    jsonPointers: \"Deprecated jsPropertySyntax can be used instead.\",\n    extendRefs: \"Deprecated ignoreKeywordsWithRef can be used instead.\",\n    missingRefs: \"Pass empty schema with $id that should be ignored to ajv.addSchema.\",\n    processCode: \"Use option `code: {process: (code, schemaEnv: object) => string}`\",\n    sourceCode: \"Use option `code: {source: true}`\",\n    strictDefaults: \"It is default now, see option `strict`.\",\n    strictKeywords: \"It is default now, see option `strict`.\",\n    uniqueItems: '\"uniqueItems\" keyword is always validated.',\n    unknownFormats: \"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).\",\n    cache: \"Map is used as cache, schema object as key.\",\n    serialize: \"Map is used as cache, schema object as key.\",\n    ajvErrors: \"It is default now.\",\n};\nconst deprecatedOptions = {\n    ignoreKeywordsWithRef: \"\",\n    jsPropertySyntax: \"\",\n    unicode: '\"minLength\"/\"maxLength\" account for unicode characters by default.',\n};\nconst MAX_EXPRESSION = 200;\n// eslint-disable-next-line complexity\nfunction requiredOptions(o) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0;\n    const s = o.strict;\n    const _optz = (_a = o.code) === null || _a === void 0 ? void 0 : _a.optimize;\n    const optimize = _optz === true || _optz === undefined ? 1 : _optz || 0;\n    const regExp = (_c = (_b = o.code) === null || _b === void 0 ? void 0 : _b.regExp) !== null && _c !== void 0 ? _c : defaultRegExp;\n    const uriResolver = (_d = o.uriResolver) !== null && _d !== void 0 ? _d : uri_1.default;\n    return {\n        strictSchema: (_f = (_e = o.strictSchema) !== null && _e !== void 0 ? _e : s) !== null && _f !== void 0 ? _f : true,\n        strictNumbers: (_h = (_g = o.strictNumbers) !== null && _g !== void 0 ? _g : s) !== null && _h !== void 0 ? _h : true,\n        strictTypes: (_k = (_j = o.strictTypes) !== null && _j !== void 0 ? _j : s) !== null && _k !== void 0 ? _k : \"log\",\n        strictTuples: (_m = (_l = o.strictTuples) !== null && _l !== void 0 ? _l : s) !== null && _m !== void 0 ? _m : \"log\",\n        strictRequired: (_p = (_o = o.strictRequired) !== null && _o !== void 0 ? _o : s) !== null && _p !== void 0 ? _p : false,\n        code: o.code ? { ...o.code, optimize, regExp } : { optimize, regExp },\n        loopRequired: (_q = o.loopRequired) !== null && _q !== void 0 ? _q : MAX_EXPRESSION,\n        loopEnum: (_r = o.loopEnum) !== null && _r !== void 0 ? _r : MAX_EXPRESSION,\n        meta: (_s = o.meta) !== null && _s !== void 0 ? _s : true,\n        messages: (_t = o.messages) !== null && _t !== void 0 ? _t : true,\n        inlineRefs: (_u = o.inlineRefs) !== null && _u !== void 0 ? _u : true,\n        schemaId: (_v = o.schemaId) !== null && _v !== void 0 ? _v : \"$id\",\n        addUsedSchema: (_w = o.addUsedSchema) !== null && _w !== void 0 ? _w : true,\n        validateSchema: (_x = o.validateSchema) !== null && _x !== void 0 ? _x : true,\n        validateFormats: (_y = o.validateFormats) !== null && _y !== void 0 ? _y : true,\n        unicodeRegExp: (_z = o.unicodeRegExp) !== null && _z !== void 0 ? _z : true,\n        int32range: (_0 = o.int32range) !== null && _0 !== void 0 ? _0 : true,\n        uriResolver: uriResolver,\n    };\n}\nclass Ajv {\n    constructor(opts = {}) {\n        this.schemas = {};\n        this.refs = {};\n        this.formats = {};\n        this._compilations = new Set();\n        this._loading = {};\n        this._cache = new Map();\n        opts = this.opts = { ...opts, ...requiredOptions(opts) };\n        const { es5, lines } = this.opts.code;\n        this.scope = new codegen_2.ValueScope({ scope: {}, prefixes: EXT_SCOPE_NAMES, es5, lines });\n        this.logger = getLogger(opts.logger);\n        const formatOpt = opts.validateFormats;\n        opts.validateFormats = false;\n        this.RULES = (0, rules_1.getRules)();\n        checkOptions.call(this, removedOptions, opts, \"NOT SUPPORTED\");\n        checkOptions.call(this, deprecatedOptions, opts, \"DEPRECATED\", \"warn\");\n        this._metaOpts = getMetaSchemaOptions.call(this);\n        if (opts.formats)\n            addInitialFormats.call(this);\n        this._addVocabularies();\n        this._addDefaultMetaSchema();\n        if (opts.keywords)\n            addInitialKeywords.call(this, opts.keywords);\n        if (typeof opts.meta == \"object\")\n            this.addMetaSchema(opts.meta);\n        addInitialSchemas.call(this);\n        opts.validateFormats = formatOpt;\n    }\n    _addVocabularies() {\n        this.addKeyword(\"$async\");\n    }\n    _addDefaultMetaSchema() {\n        const { $data, meta, schemaId } = this.opts;\n        let _dataRefSchema = $dataRefSchema;\n        if (schemaId === \"id\") {\n            _dataRefSchema = { ...$dataRefSchema };\n            _dataRefSchema.id = _dataRefSchema.$id;\n            delete _dataRefSchema.$id;\n        }\n        if (meta && $data)\n            this.addMetaSchema(_dataRefSchema, _dataRefSchema[schemaId], false);\n    }\n    defaultMeta() {\n        const { meta, schemaId } = this.opts;\n        return (this.opts.defaultMeta = typeof meta == \"object\" ? meta[schemaId] || meta : undefined);\n    }\n    validate(schemaKeyRef, // key, ref or schema object\n    data // to be validated\n    ) {\n        let v;\n        if (typeof schemaKeyRef == \"string\") {\n            v = this.getSchema(schemaKeyRef);\n            if (!v)\n                throw new Error(`no schema with key or ref \"${schemaKeyRef}\"`);\n        }\n        else {\n            v = this.compile(schemaKeyRef);\n        }\n        const valid = v(data);\n        if (!(\"$async\" in v))\n            this.errors = v.errors;\n        return valid;\n    }\n    compile(schema, _meta) {\n        const sch = this._addSchema(schema, _meta);\n        return (sch.validate || this._compileSchemaEnv(sch));\n    }\n    compileAsync(schema, meta) {\n        if (typeof this.opts.loadSchema != \"function\") {\n            throw new Error(\"options.loadSchema should be a function\");\n        }\n        const { loadSchema } = this.opts;\n        return runCompileAsync.call(this, schema, meta);\n        async function runCompileAsync(_schema, _meta) {\n            await loadMetaSchema.call(this, _schema.$schema);\n            const sch = this._addSchema(_schema, _meta);\n            return sch.validate || _compileAsync.call(this, sch);\n        }\n        async function loadMetaSchema($ref) {\n            if ($ref && !this.getSchema($ref)) {\n                await runCompileAsync.call(this, { $ref }, true);\n            }\n        }\n        async function _compileAsync(sch) {\n            try {\n                return this._compileSchemaEnv(sch);\n            }\n            catch (e) {\n                if (!(e instanceof ref_error_1.default))\n                    throw e;\n                checkLoaded.call(this, e);\n                await loadMissingSchema.call(this, e.missingSchema);\n                return _compileAsync.call(this, sch);\n            }\n        }\n        function checkLoaded({ missingSchema: ref, missingRef }) {\n            if (this.refs[ref]) {\n                throw new Error(`AnySchema ${ref} is loaded but ${missingRef} cannot be resolved`);\n            }\n        }\n        async function loadMissingSchema(ref) {\n            const _schema = await _loadSchema.call(this, ref);\n            if (!this.refs[ref])\n                await loadMetaSchema.call(this, _schema.$schema);\n            if (!this.refs[ref])\n                this.addSchema(_schema, ref, meta);\n        }\n        async function _loadSchema(ref) {\n            const p = this._loading[ref];\n            if (p)\n                return p;\n            try {\n                return await (this._loading[ref] = loadSchema(ref));\n            }\n            finally {\n                delete this._loading[ref];\n            }\n        }\n    }\n    // Adds schema to the instance\n    addSchema(schema, // If array is passed, `key` will be ignored\n    key, // Optional schema key. Can be passed to `validate` method instead of schema object or id/ref. One schema per instance can have empty `id` and `key`.\n    _meta, // true if schema is a meta-schema. Used internally, addMetaSchema should be used instead.\n    _validateSchema = this.opts.validateSchema // false to skip schema validation. Used internally, option validateSchema should be used instead.\n    ) {\n        if (Array.isArray(schema)) {\n            for (const sch of schema)\n                this.addSchema(sch, undefined, _meta, _validateSchema);\n            return this;\n        }\n        let id;\n        if (typeof schema === \"object\") {\n            const { schemaId } = this.opts;\n            id = schema[schemaId];\n            if (id !== undefined && typeof id != \"string\") {\n                throw new Error(`schema ${schemaId} must be string`);\n            }\n        }\n        key = (0, resolve_1.normalizeId)(key || id);\n        this._checkUnique(key);\n        this.schemas[key] = this._addSchema(schema, _meta, key, _validateSchema, true);\n        return this;\n    }\n    // Add schema that will be used to validate other schemas\n    // options in META_IGNORE_OPTIONS are alway set to false\n    addMetaSchema(schema, key, // schema key\n    _validateSchema = this.opts.validateSchema // false to skip schema validation, can be used to override validateSchema option for meta-schema\n    ) {\n        this.addSchema(schema, key, true, _validateSchema);\n        return this;\n    }\n    //  Validate schema against its meta-schema\n    validateSchema(schema, throwOrLogError) {\n        if (typeof schema == \"boolean\")\n            return true;\n        let $schema;\n        $schema = schema.$schema;\n        if ($schema !== undefined && typeof $schema != \"string\") {\n            throw new Error(\"$schema must be a string\");\n        }\n        $schema = $schema || this.opts.defaultMeta || this.defaultMeta();\n        if (!$schema) {\n            this.logger.warn(\"meta-schema not available\");\n            this.errors = null;\n            return true;\n        }\n        const valid = this.validate($schema, schema);\n        if (!valid && throwOrLogError) {\n            const message = \"schema is invalid: \" + this.errorsText();\n            if (this.opts.validateSchema === \"log\")\n                this.logger.error(message);\n            else\n                throw new Error(message);\n        }\n        return valid;\n    }\n    // Get compiled schema by `key` or `ref`.\n    // (`key` that was passed to `addSchema` or full schema reference - `schema.$id` or resolved id)\n    getSchema(keyRef) {\n        let sch;\n        while (typeof (sch = getSchEnv.call(this, keyRef)) == \"string\")\n            keyRef = sch;\n        if (sch === undefined) {\n            const { schemaId } = this.opts;\n            const root = new compile_1.SchemaEnv({ schema: {}, schemaId });\n            sch = compile_1.resolveSchema.call(this, root, keyRef);\n            if (!sch)\n                return;\n            this.refs[keyRef] = sch;\n        }\n        return (sch.validate || this._compileSchemaEnv(sch));\n    }\n    // Remove cached schema(s).\n    // If no parameter is passed all schemas but meta-schemas are removed.\n    // If RegExp is passed all schemas with key/id matching pattern but meta-schemas are removed.\n    // Even if schema is referenced by other schemas it still can be removed as other schemas have local references.\n    removeSchema(schemaKeyRef) {\n        if (schemaKeyRef instanceof RegExp) {\n            this._removeAllSchemas(this.schemas, schemaKeyRef);\n            this._removeAllSchemas(this.refs, schemaKeyRef);\n            return this;\n        }\n        switch (typeof schemaKeyRef) {\n            case \"undefined\":\n                this._removeAllSchemas(this.schemas);\n                this._removeAllSchemas(this.refs);\n                this._cache.clear();\n                return this;\n            case \"string\": {\n                const sch = getSchEnv.call(this, schemaKeyRef);\n                if (typeof sch == \"object\")\n                    this._cache.delete(sch.schema);\n                delete this.schemas[schemaKeyRef];\n                delete this.refs[schemaKeyRef];\n                return this;\n            }\n            case \"object\": {\n                const cacheKey = schemaKeyRef;\n                this._cache.delete(cacheKey);\n                let id = schemaKeyRef[this.opts.schemaId];\n                if (id) {\n                    id = (0, resolve_1.normalizeId)(id);\n                    delete this.schemas[id];\n                    delete this.refs[id];\n                }\n                return this;\n            }\n            default:\n                throw new Error(\"ajv.removeSchema: invalid parameter\");\n        }\n    }\n    // add \"vocabulary\" - a collection of keywords\n    addVocabulary(definitions) {\n        for (const def of definitions)\n            this.addKeyword(def);\n        return this;\n    }\n    addKeyword(kwdOrDef, def // deprecated\n    ) {\n        let keyword;\n        if (typeof kwdOrDef == \"string\") {\n            keyword = kwdOrDef;\n            if (typeof def == \"object\") {\n                this.logger.warn(\"these parameters are deprecated, see docs for addKeyword\");\n                def.keyword = keyword;\n            }\n        }\n        else if (typeof kwdOrDef == \"object\" && def === undefined) {\n            def = kwdOrDef;\n            keyword = def.keyword;\n            if (Array.isArray(keyword) && !keyword.length) {\n                throw new Error(\"addKeywords: keyword must be string or non-empty array\");\n            }\n        }\n        else {\n            throw new Error(\"invalid addKeywords parameters\");\n        }\n        checkKeyword.call(this, keyword, def);\n        if (!def) {\n            (0, util_1.eachItem)(keyword, (kwd) => addRule.call(this, kwd));\n            return this;\n        }\n        keywordMetaschema.call(this, def);\n        const definition = {\n            ...def,\n            type: (0, dataType_1.getJSONTypes)(def.type),\n            schemaType: (0, dataType_1.getJSONTypes)(def.schemaType),\n        };\n        (0, util_1.eachItem)(keyword, definition.type.length === 0\n            ? (k) => addRule.call(this, k, definition)\n            : (k) => definition.type.forEach((t) => addRule.call(this, k, definition, t)));\n        return this;\n    }\n    getKeyword(keyword) {\n        const rule = this.RULES.all[keyword];\n        return typeof rule == \"object\" ? rule.definition : !!rule;\n    }\n    // Remove keyword\n    removeKeyword(keyword) {\n        // TODO return type should be Ajv\n        const { RULES } = this;\n        delete RULES.keywords[keyword];\n        delete RULES.all[keyword];\n        for (const group of RULES.rules) {\n            const i = group.rules.findIndex((rule) => rule.keyword === keyword);\n            if (i >= 0)\n                group.rules.splice(i, 1);\n        }\n        return this;\n    }\n    // Add format\n    addFormat(name, format) {\n        if (typeof format == \"string\")\n            format = new RegExp(format);\n        this.formats[name] = format;\n        return this;\n    }\n    errorsText(errors = this.errors, // optional array of validation errors\n    { separator = \", \", dataVar = \"data\" } = {} // optional options with properties `separator` and `dataVar`\n    ) {\n        if (!errors || errors.length === 0)\n            return \"No errors\";\n        return errors\n            .map((e) => `${dataVar}${e.instancePath} ${e.message}`)\n            .reduce((text, msg) => text + separator + msg);\n    }\n    $dataMetaSchema(metaSchema, keywordsJsonPointers) {\n        const rules = this.RULES.all;\n        metaSchema = JSON.parse(JSON.stringify(metaSchema));\n        for (const jsonPointer of keywordsJsonPointers) {\n            const segments = jsonPointer.split(\"/\").slice(1); // first segment is an empty string\n            let keywords = metaSchema;\n            for (const seg of segments)\n                keywords = keywords[seg];\n            for (const key in rules) {\n                const rule = rules[key];\n                if (typeof rule != \"object\")\n                    continue;\n                const { $data } = rule.definition;\n                const schema = keywords[key];\n                if ($data && schema)\n                    keywords[key] = schemaOrData(schema);\n            }\n        }\n        return metaSchema;\n    }\n    _removeAllSchemas(schemas, regex) {\n        for (const keyRef in schemas) {\n            const sch = schemas[keyRef];\n            if (!regex || regex.test(keyRef)) {\n                if (typeof sch == \"string\") {\n                    delete schemas[keyRef];\n                }\n                else if (sch && !sch.meta) {\n                    this._cache.delete(sch.schema);\n                    delete schemas[keyRef];\n                }\n            }\n        }\n    }\n    _addSchema(schema, meta, baseId, validateSchema = this.opts.validateSchema, addSchema = this.opts.addUsedSchema) {\n        let id;\n        const { schemaId } = this.opts;\n        if (typeof schema == \"object\") {\n            id = schema[schemaId];\n        }\n        else {\n            if (this.opts.jtd)\n                throw new Error(\"schema must be object\");\n            else if (typeof schema != \"boolean\")\n                throw new Error(\"schema must be object or boolean\");\n        }\n        let sch = this._cache.get(schema);\n        if (sch !== undefined)\n            return sch;\n        baseId = (0, resolve_1.normalizeId)(id || baseId);\n        const localRefs = resolve_1.getSchemaRefs.call(this, schema, baseId);\n        sch = new compile_1.SchemaEnv({ schema, schemaId, meta, baseId, localRefs });\n        this._cache.set(sch.schema, sch);\n        if (addSchema && !baseId.startsWith(\"#\")) {\n            // TODO atm it is allowed to overwrite schemas without id (instead of not adding them)\n            if (baseId)\n                this._checkUnique(baseId);\n            this.refs[baseId] = sch;\n        }\n        if (validateSchema)\n            this.validateSchema(schema, true);\n        return sch;\n    }\n    _checkUnique(id) {\n        if (this.schemas[id] || this.refs[id]) {\n            throw new Error(`schema with key or id \"${id}\" already exists`);\n        }\n    }\n    _compileSchemaEnv(sch) {\n        if (sch.meta)\n            this._compileMetaSchema(sch);\n        else\n            compile_1.compileSchema.call(this, sch);\n        /* istanbul ignore if */\n        if (!sch.validate)\n            throw new Error(\"ajv implementation error\");\n        return sch.validate;\n    }\n    _compileMetaSchema(sch) {\n        const currentOpts = this.opts;\n        this.opts = this._metaOpts;\n        try {\n            compile_1.compileSchema.call(this, sch);\n        }\n        finally {\n            this.opts = currentOpts;\n        }\n    }\n}\nexports.default = Ajv;\nAjv.ValidationError = validation_error_1.default;\nAjv.MissingRefError = ref_error_1.default;\nfunction checkOptions(checkOpts, options, msg, log = \"error\") {\n    for (const key in checkOpts) {\n        const opt = key;\n        if (opt in options)\n            this.logger[log](`${msg}: option ${key}. ${checkOpts[opt]}`);\n    }\n}\nfunction getSchEnv(keyRef) {\n    keyRef = (0, resolve_1.normalizeId)(keyRef); // TODO tests fail without this line\n    return this.schemas[keyRef] || this.refs[keyRef];\n}\nfunction addInitialSchemas() {\n    const optsSchemas = this.opts.schemas;\n    if (!optsSchemas)\n        return;\n    if (Array.isArray(optsSchemas))\n        this.addSchema(optsSchemas);\n    else\n        for (const key in optsSchemas)\n            this.addSchema(optsSchemas[key], key);\n}\nfunction addInitialFormats() {\n    for (const name in this.opts.formats) {\n        const format = this.opts.formats[name];\n        if (format)\n            this.addFormat(name, format);\n    }\n}\nfunction addInitialKeywords(defs) {\n    if (Array.isArray(defs)) {\n        this.addVocabulary(defs);\n        return;\n    }\n    this.logger.warn(\"keywords option as map is deprecated, pass array\");\n    for (const keyword in defs) {\n        const def = defs[keyword];\n        if (!def.keyword)\n            def.keyword = keyword;\n        this.addKeyword(def);\n    }\n}\nfunction getMetaSchemaOptions() {\n    const metaOpts = { ...this.opts };\n    for (const opt of META_IGNORE_OPTIONS)\n        delete metaOpts[opt];\n    return metaOpts;\n}\nconst noLogs = { log() { }, warn() { }, error() { } };\nfunction getLogger(logger) {\n    if (logger === false)\n        return noLogs;\n    if (logger === undefined)\n        return console;\n    if (logger.log && logger.warn && logger.error)\n        return logger;\n    throw new Error(\"logger must implement log, warn and error methods\");\n}\nconst KEYWORD_NAME = /^[a-z_$][a-z0-9_$:-]*$/i;\nfunction checkKeyword(keyword, def) {\n    const { RULES } = this;\n    (0, util_1.eachItem)(keyword, (kwd) => {\n        if (RULES.keywords[kwd])\n            throw new Error(`Keyword ${kwd} is already defined`);\n        if (!KEYWORD_NAME.test(kwd))\n            throw new Error(`Keyword ${kwd} has invalid name`);\n    });\n    if (!def)\n        return;\n    if (def.$data && !(\"code\" in def || \"validate\" in def)) {\n        throw new Error('$data keyword must have \"code\" or \"validate\" function');\n    }\n}\nfunction addRule(keyword, definition, dataType) {\n    var _a;\n    const post = definition === null || definition === void 0 ? void 0 : definition.post;\n    if (dataType && post)\n        throw new Error('keyword with \"post\" flag cannot have \"type\"');\n    const { RULES } = this;\n    let ruleGroup = post ? RULES.post : RULES.rules.find(({ type: t }) => t === dataType);\n    if (!ruleGroup) {\n        ruleGroup = { type: dataType, rules: [] };\n        RULES.rules.push(ruleGroup);\n    }\n    RULES.keywords[keyword] = true;\n    if (!definition)\n        return;\n    const rule = {\n        keyword,\n        definition: {\n            ...definition,\n            type: (0, dataType_1.getJSONTypes)(definition.type),\n            schemaType: (0, dataType_1.getJSONTypes)(definition.schemaType),\n        },\n    };\n    if (definition.before)\n        addBeforeRule.call(this, ruleGroup, rule, definition.before);\n    else\n        ruleGroup.rules.push(rule);\n    RULES.all[keyword] = rule;\n    (_a = definition.implements) === null || _a === void 0 ? void 0 : _a.forEach((kwd) => this.addKeyword(kwd));\n}\nfunction addBeforeRule(ruleGroup, rule, before) {\n    const i = ruleGroup.rules.findIndex((_rule) => _rule.keyword === before);\n    if (i >= 0) {\n        ruleGroup.rules.splice(i, 0, rule);\n    }\n    else {\n        ruleGroup.rules.push(rule);\n        this.logger.warn(`rule ${before} is not defined`);\n    }\n}\nfunction keywordMetaschema(def) {\n    let { metaSchema } = def;\n    if (metaSchema === undefined)\n        return;\n    if (def.$data && this.opts.$data)\n        metaSchema = schemaOrData(metaSchema);\n    def.validateSchema = this.compile(metaSchema, true);\n}\nconst $dataRef = {\n    $ref: \"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#\",\n};\nfunction schemaOrData(schema) {\n    return { anyOf: [schema, $dataRef] };\n}\n//# sourceMappingURL=core.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst def = {\n    keyword: \"id\",\n    code() {\n        throw new Error('NOT SUPPORTED: keyword \"id\", use \"$id\" for schema ID');\n    },\n};\nexports.default = def;\n//# sourceMappingURL=id.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.callRef = exports.getValidate = void 0;\nconst ref_error_1 = require(\"../../compile/ref_error\");\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst names_1 = require(\"../../compile/names\");\nconst compile_1 = require(\"../../compile\");\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"$ref\",\n    schemaType: \"string\",\n    code(cxt) {\n        const { gen, schema: $ref, it } = cxt;\n        const { baseId, schemaEnv: env, validateName, opts, self } = it;\n        const { root } = env;\n        if (($ref === \"#\" || $ref === \"#/\") && baseId === root.baseId)\n            return callRootRef();\n        const schOrEnv = compile_1.resolveRef.call(self, root, baseId, $ref);\n        if (schOrEnv === undefined)\n            throw new ref_error_1.default(it.opts.uriResolver, baseId, $ref);\n        if (schOrEnv instanceof compile_1.SchemaEnv)\n            return callValidate(schOrEnv);\n        return inlineRefSchema(schOrEnv);\n        function callRootRef() {\n            if (env === root)\n                return callRef(cxt, validateName, env, env.$async);\n            const rootName = gen.scopeValue(\"root\", { ref: root });\n            return callRef(cxt, (0, codegen_1._) `${rootName}.validate`, root, root.$async);\n        }\n        function callValidate(sch) {\n            const v = getValidate(cxt, sch);\n            callRef(cxt, v, sch, sch.$async);\n        }\n        function inlineRefSchema(sch) {\n            const schName = gen.scopeValue(\"schema\", opts.code.source === true ? { ref: sch, code: (0, codegen_1.stringify)(sch) } : { ref: sch });\n            const valid = gen.name(\"valid\");\n            const schCxt = cxt.subschema({\n                schema: sch,\n                dataTypes: [],\n                schemaPath: codegen_1.nil,\n                topSchemaRef: schName,\n                errSchemaPath: $ref,\n            }, valid);\n            cxt.mergeEvaluated(schCxt);\n            cxt.ok(valid);\n        }\n    },\n};\nfunction getValidate(cxt, sch) {\n    const { gen } = cxt;\n    return sch.validate\n        ? gen.scopeValue(\"validate\", { ref: sch.validate })\n        : (0, codegen_1._) `${gen.scopeValue(\"wrapper\", { ref: sch })}.validate`;\n}\nexports.getValidate = getValidate;\nfunction callRef(cxt, v, sch, $async) {\n    const { gen, it } = cxt;\n    const { allErrors, schemaEnv: env, opts } = it;\n    const passCxt = opts.passContext ? names_1.default.this : codegen_1.nil;\n    if ($async)\n        callAsyncRef();\n    else\n        callSyncRef();\n    function callAsyncRef() {\n        if (!env.$async)\n            throw new Error(\"async schema referenced by sync schema\");\n        const valid = gen.let(\"valid\");\n        gen.try(() => {\n            gen.code((0, codegen_1._) `await ${(0, code_1.callValidateCode)(cxt, v, passCxt)}`);\n            addEvaluatedFrom(v); // TODO will not work with async, it has to be returned with the result\n            if (!allErrors)\n                gen.assign(valid, true);\n        }, (e) => {\n            gen.if((0, codegen_1._) `!(${e} instanceof ${it.ValidationError})`, () => gen.throw(e));\n            addErrorsFrom(e);\n            if (!allErrors)\n                gen.assign(valid, false);\n        });\n        cxt.ok(valid);\n    }\n    function callSyncRef() {\n        cxt.result((0, code_1.callValidateCode)(cxt, v, passCxt), () => addEvaluatedFrom(v), () => addErrorsFrom(v));\n    }\n    function addErrorsFrom(source) {\n        const errs = (0, codegen_1._) `${source}.errors`;\n        gen.assign(names_1.default.vErrors, (0, codegen_1._) `${names_1.default.vErrors} === null ? ${errs} : ${names_1.default.vErrors}.concat(${errs})`); // TODO tagged\n        gen.assign(names_1.default.errors, (0, codegen_1._) `${names_1.default.vErrors}.length`);\n    }\n    function addEvaluatedFrom(source) {\n        var _a;\n        if (!it.opts.unevaluated)\n            return;\n        const schEvaluated = (_a = sch === null || sch === void 0 ? void 0 : sch.validate) === null || _a === void 0 ? void 0 : _a.evaluated;\n        // TODO refactor\n        if (it.props !== true) {\n            if (schEvaluated && !schEvaluated.dynamicProps) {\n                if (schEvaluated.props !== undefined) {\n                    it.props = util_1.mergeEvaluated.props(gen, schEvaluated.props, it.props);\n                }\n            }\n            else {\n                const props = gen.var(\"props\", (0, codegen_1._) `${source}.evaluated.props`);\n                it.props = util_1.mergeEvaluated.props(gen, props, it.props, codegen_1.Name);\n            }\n        }\n        if (it.items !== true) {\n            if (schEvaluated && !schEvaluated.dynamicItems) {\n                if (schEvaluated.items !== undefined) {\n                    it.items = util_1.mergeEvaluated.items(gen, schEvaluated.items, it.items);\n                }\n            }\n            else {\n                const items = gen.var(\"items\", (0, codegen_1._) `${source}.evaluated.items`);\n                it.items = util_1.mergeEvaluated.items(gen, items, it.items, codegen_1.Name);\n            }\n        }\n    }\n}\nexports.callRef = callRef;\nexports.default = def;\n//# sourceMappingURL=ref.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst id_1 = require(\"./id\");\nconst ref_1 = require(\"./ref\");\nconst core = [\n    \"$schema\",\n    \"$id\",\n    \"$defs\",\n    \"$vocabulary\",\n    { keyword: \"$comment\" },\n    \"definitions\",\n    id_1.default,\n    ref_1.default,\n];\nexports.default = core;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst ops = codegen_1.operators;\nconst KWDs = {\n    maximum: { okStr: \"<=\", ok: ops.LTE, fail: ops.GT },\n    minimum: { okStr: \">=\", ok: ops.GTE, fail: ops.LT },\n    exclusiveMaximum: { okStr: \"<\", ok: ops.LT, fail: ops.GTE },\n    exclusiveMinimum: { okStr: \">\", ok: ops.GT, fail: ops.LTE },\n};\nconst error = {\n    message: ({ keyword, schemaCode }) => (0, codegen_1.str) `must be ${KWDs[keyword].okStr} ${schemaCode}`,\n    params: ({ keyword, schemaCode }) => (0, codegen_1._) `{comparison: ${KWDs[keyword].okStr}, limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: Object.keys(KWDs),\n    type: \"number\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        cxt.fail$data((0, codegen_1._) `${data} ${KWDs[keyword].fail} ${schemaCode} || isNaN(${data})`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitNumber.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => (0, codegen_1.str) `must be multiple of ${schemaCode}`,\n    params: ({ schemaCode }) => (0, codegen_1._) `{multipleOf: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"multipleOf\",\n    type: \"number\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, schemaCode, it } = cxt;\n        // const bdt = bad$DataType(schemaCode, <string>def.schemaType, $data)\n        const prec = it.opts.multipleOfPrecision;\n        const res = gen.let(\"res\");\n        const invalid = prec\n            ? (0, codegen_1._) `Math.abs(Math.round(${res}) - ${res}) > 1e-${prec}`\n            : (0, codegen_1._) `${res} !== parseInt(${res})`;\n        cxt.fail$data((0, codegen_1._) `(${schemaCode} === 0 || (${res} = ${data}/${schemaCode}, ${invalid}))`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=multipleOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// https://mathiasbynens.be/notes/javascript-encoding\n// https://github.com/bestiejs/punycode.js - punycode.ucs2.decode\nfunction ucs2length(str) {\n    const len = str.length;\n    let length = 0;\n    let pos = 0;\n    let value;\n    while (pos < len) {\n        length++;\n        value = str.charCodeAt(pos++);\n        if (value >= 0xd800 && value <= 0xdbff && pos < len) {\n            // high surrogate, and there is a next character\n            value = str.charCodeAt(pos);\n            if ((value & 0xfc00) === 0xdc00)\n                pos++; // low surrogate\n        }\n    }\n    return length;\n}\nexports.default = ucs2length;\nucs2length.code = 'require(\"ajv/dist/runtime/ucs2length\").default';\n//# sourceMappingURL=ucs2length.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst ucs2length_1 = require(\"../../runtime/ucs2length\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxLength\" ? \"more\" : \"fewer\";\n        return (0, codegen_1.str) `must NOT have ${comp} than ${schemaCode} characters`;\n    },\n    params: ({ schemaCode }) => (0, codegen_1._) `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxLength\", \"minLength\"],\n    type: \"string\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode, it } = cxt;\n        const op = keyword === \"maxLength\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        const len = it.opts.unicode === false ? (0, codegen_1._) `${data}.length` : (0, codegen_1._) `${(0, util_1.useFunc)(cxt.gen, ucs2length_1.default)}(${data})`;\n        cxt.fail$data((0, codegen_1._) `${len} ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitLength.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => (0, codegen_1.str) `must match pattern \"${schemaCode}\"`,\n    params: ({ schemaCode }) => (0, codegen_1._) `{pattern: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"pattern\",\n    type: \"string\",\n    schemaType: \"string\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { data, $data, schema, schemaCode, it } = cxt;\n        // TODO regexp should be wrapped in try/catchs\n        const u = it.opts.unicodeRegExp ? \"u\" : \"\";\n        const regExp = $data ? (0, codegen_1._) `(new RegExp(${schemaCode}, ${u}))` : (0, code_1.usePattern)(cxt, schema);\n        cxt.fail$data((0, codegen_1._) `!${regExp}.test(${data})`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=pattern.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxProperties\" ? \"more\" : \"fewer\";\n        return (0, codegen_1.str) `must NOT have ${comp} than ${schemaCode} properties`;\n    },\n    params: ({ schemaCode }) => (0, codegen_1._) `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxProperties\", \"minProperties\"],\n    type: \"object\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        const op = keyword === \"maxProperties\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        cxt.fail$data((0, codegen_1._) `Object.keys(${data}).length ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitProperties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params: { missingProperty } }) => (0, codegen_1.str) `must have required property '${missingProperty}'`,\n    params: ({ params: { missingProperty } }) => (0, codegen_1._) `{missingProperty: ${missingProperty}}`,\n};\nconst def = {\n    keyword: \"required\",\n    type: \"object\",\n    schemaType: \"array\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, schema, schemaCode, data, $data, it } = cxt;\n        const { opts } = it;\n        if (!$data && schema.length === 0)\n            return;\n        const useLoop = schema.length >= opts.loopRequired;\n        if (it.allErrors)\n            allErrorsMode();\n        else\n            exitOnErrorMode();\n        if (opts.strictRequired) {\n            const props = cxt.parentSchema.properties;\n            const { definedProperties } = cxt.it;\n            for (const requiredKey of schema) {\n                if ((props === null || props === void 0 ? void 0 : props[requiredKey]) === undefined && !definedProperties.has(requiredKey)) {\n                    const schemaPath = it.schemaEnv.baseId + it.errSchemaPath;\n                    const msg = `required property \"${requiredKey}\" is not defined at \"${schemaPath}\" (strictRequired)`;\n                    (0, util_1.checkStrictMode)(it, msg, it.opts.strictRequired);\n                }\n            }\n        }\n        function allErrorsMode() {\n            if (useLoop || $data) {\n                cxt.block$data(codegen_1.nil, loopAllRequired);\n            }\n            else {\n                for (const prop of schema) {\n                    (0, code_1.checkReportMissingProp)(cxt, prop);\n                }\n            }\n        }\n        function exitOnErrorMode() {\n            const missing = gen.let(\"missing\");\n            if (useLoop || $data) {\n                const valid = gen.let(\"valid\", true);\n                cxt.block$data(valid, () => loopUntilMissing(missing, valid));\n                cxt.ok(valid);\n            }\n            else {\n                gen.if((0, code_1.checkMissingProp)(cxt, schema, missing));\n                (0, code_1.reportMissingProp)(cxt, missing);\n                gen.else();\n            }\n        }\n        function loopAllRequired() {\n            gen.forOf(\"prop\", schemaCode, (prop) => {\n                cxt.setParams({ missingProperty: prop });\n                gen.if((0, code_1.noPropertyInData)(gen, data, prop, opts.ownProperties), () => cxt.error());\n            });\n        }\n        function loopUntilMissing(missing, valid) {\n            cxt.setParams({ missingProperty: missing });\n            gen.forOf(missing, schemaCode, () => {\n                gen.assign(valid, (0, code_1.propertyInData)(gen, data, missing, opts.ownProperties));\n                gen.if((0, codegen_1.not)(valid), () => {\n                    cxt.error();\n                    gen.break();\n                });\n            }, codegen_1.nil);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=required.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxItems\" ? \"more\" : \"fewer\";\n        return (0, codegen_1.str) `must NOT have ${comp} than ${schemaCode} items`;\n    },\n    params: ({ schemaCode }) => (0, codegen_1._) `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxItems\", \"minItems\"],\n    type: \"array\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        const op = keyword === \"maxItems\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        cxt.fail$data((0, codegen_1._) `${data}.length ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// https://github.com/ajv-validator/ajv/issues/889\nconst equal = require(\"fast-deep-equal\");\nequal.code = 'require(\"ajv/dist/runtime/equal\").default';\nexports.default = equal;\n//# sourceMappingURL=equal.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst dataType_1 = require(\"../../compile/validate/dataType\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst equal_1 = require(\"../../runtime/equal\");\nconst error = {\n    message: ({ params: { i, j } }) => (0, codegen_1.str) `must NOT have duplicate items (items ## ${j} and ${i} are identical)`,\n    params: ({ params: { i, j } }) => (0, codegen_1._) `{i: ${i}, j: ${j}}`,\n};\nconst def = {\n    keyword: \"uniqueItems\",\n    type: \"array\",\n    schemaType: \"boolean\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schema, parentSchema, schemaCode, it } = cxt;\n        if (!$data && !schema)\n            return;\n        const valid = gen.let(\"valid\");\n        const itemTypes = parentSchema.items ? (0, dataType_1.getSchemaTypes)(parentSchema.items) : [];\n        cxt.block$data(valid, validateUniqueItems, (0, codegen_1._) `${schemaCode} === false`);\n        cxt.ok(valid);\n        function validateUniqueItems() {\n            const i = gen.let(\"i\", (0, codegen_1._) `${data}.length`);\n            const j = gen.let(\"j\");\n            cxt.setParams({ i, j });\n            gen.assign(valid, true);\n            gen.if((0, codegen_1._) `${i} > 1`, () => (canOptimize() ? loopN : loopN2)(i, j));\n        }\n        function canOptimize() {\n            return itemTypes.length > 0 && !itemTypes.some((t) => t === \"object\" || t === \"array\");\n        }\n        function loopN(i, j) {\n            const item = gen.name(\"item\");\n            const wrongType = (0, dataType_1.checkDataTypes)(itemTypes, item, it.opts.strictNumbers, dataType_1.DataType.Wrong);\n            const indices = gen.const(\"indices\", (0, codegen_1._) `{}`);\n            gen.for((0, codegen_1._) `;${i}--;`, () => {\n                gen.let(item, (0, codegen_1._) `${data}[${i}]`);\n                gen.if(wrongType, (0, codegen_1._) `continue`);\n                if (itemTypes.length > 1)\n                    gen.if((0, codegen_1._) `typeof ${item} == \"string\"`, (0, codegen_1._) `${item} += \"_\"`);\n                gen\n                    .if((0, codegen_1._) `typeof ${indices}[${item}] == \"number\"`, () => {\n                    gen.assign(j, (0, codegen_1._) `${indices}[${item}]`);\n                    cxt.error();\n                    gen.assign(valid, false).break();\n                })\n                    .code((0, codegen_1._) `${indices}[${item}] = ${i}`);\n            });\n        }\n        function loopN2(i, j) {\n            const eql = (0, util_1.useFunc)(gen, equal_1.default);\n            const outer = gen.name(\"outer\");\n            gen.label(outer).for((0, codegen_1._) `;${i}--;`, () => gen.for((0, codegen_1._) `${j} = ${i}; ${j}--;`, () => gen.if((0, codegen_1._) `${eql}(${data}[${i}], ${data}[${j}])`, () => {\n                cxt.error();\n                gen.assign(valid, false).break(outer);\n            })));\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=uniqueItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst equal_1 = require(\"../../runtime/equal\");\nconst error = {\n    message: \"must be equal to constant\",\n    params: ({ schemaCode }) => (0, codegen_1._) `{allowedValue: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"const\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schemaCode, schema } = cxt;\n        if ($data || (schema && typeof schema == \"object\")) {\n            cxt.fail$data((0, codegen_1._) `!${(0, util_1.useFunc)(gen, equal_1.default)}(${data}, ${schemaCode})`);\n        }\n        else {\n            cxt.fail((0, codegen_1._) `${schema} !== ${data}`);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=const.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst equal_1 = require(\"../../runtime/equal\");\nconst error = {\n    message: \"must be equal to one of the allowed values\",\n    params: ({ schemaCode }) => (0, codegen_1._) `{allowedValues: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"enum\",\n    schemaType: \"array\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schema, schemaCode, it } = cxt;\n        if (!$data && schema.length === 0)\n            throw new Error(\"enum must have non-empty array\");\n        const useLoop = schema.length >= it.opts.loopEnum;\n        let eql;\n        const getEql = () => (eql !== null && eql !== void 0 ? eql : (eql = (0, util_1.useFunc)(gen, equal_1.default)));\n        let valid;\n        if (useLoop || $data) {\n            valid = gen.let(\"valid\");\n            cxt.block$data(valid, loopEnum);\n        }\n        else {\n            /* istanbul ignore if */\n            if (!Array.isArray(schema))\n                throw new Error(\"ajv implementation error\");\n            const vSchema = gen.const(\"vSchema\", schemaCode);\n            valid = (0, codegen_1.or)(...schema.map((_x, i) => equalCode(vSchema, i)));\n        }\n        cxt.pass(valid);\n        function loopEnum() {\n            gen.assign(valid, false);\n            gen.forOf(\"v\", schemaCode, (v) => gen.if((0, codegen_1._) `${getEql()}(${data}, ${v})`, () => gen.assign(valid, true).break()));\n        }\n        function equalCode(vSchema, i) {\n            const sch = schema[i];\n            return typeof sch === \"object\" && sch !== null\n                ? (0, codegen_1._) `${getEql()}(${data}, ${vSchema}[${i}])`\n                : (0, codegen_1._) `${data} === ${sch}`;\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=enum.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst limitNumber_1 = require(\"./limitNumber\");\nconst multipleOf_1 = require(\"./multipleOf\");\nconst limitLength_1 = require(\"./limitLength\");\nconst pattern_1 = require(\"./pattern\");\nconst limitProperties_1 = require(\"./limitProperties\");\nconst required_1 = require(\"./required\");\nconst limitItems_1 = require(\"./limitItems\");\nconst uniqueItems_1 = require(\"./uniqueItems\");\nconst const_1 = require(\"./const\");\nconst enum_1 = require(\"./enum\");\nconst validation = [\n    // number\n    limitNumber_1.default,\n    multipleOf_1.default,\n    // string\n    limitLength_1.default,\n    pattern_1.default,\n    // object\n    limitProperties_1.default,\n    required_1.default,\n    // array\n    limitItems_1.default,\n    uniqueItems_1.default,\n    // any\n    { keyword: \"type\", schemaType: [\"string\", \"array\"] },\n    { keyword: \"nullable\", schemaType: \"boolean\" },\n    const_1.default,\n    enum_1.default,\n];\nexports.default = validation;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateAdditionalItems = void 0;\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params: { len } }) => (0, codegen_1.str) `must NOT have more than ${len} items`,\n    params: ({ params: { len } }) => (0, codegen_1._) `{limit: ${len}}`,\n};\nconst def = {\n    keyword: \"additionalItems\",\n    type: \"array\",\n    schemaType: [\"boolean\", \"object\"],\n    before: \"uniqueItems\",\n    error,\n    code(cxt) {\n        const { parentSchema, it } = cxt;\n        const { items } = parentSchema;\n        if (!Array.isArray(items)) {\n            (0, util_1.checkStrictMode)(it, '\"additionalItems\" is ignored when \"items\" is not an array of schemas');\n            return;\n        }\n        validateAdditionalItems(cxt, items);\n    },\n};\nfunction validateAdditionalItems(cxt, items) {\n    const { gen, schema, data, keyword, it } = cxt;\n    it.items = true;\n    const len = gen.const(\"len\", (0, codegen_1._) `${data}.length`);\n    if (schema === false) {\n        cxt.setParams({ len: items.length });\n        cxt.pass((0, codegen_1._) `${len} <= ${items.length}`);\n    }\n    else if (typeof schema == \"object\" && !(0, util_1.alwaysValidSchema)(it, schema)) {\n        const valid = gen.var(\"valid\", (0, codegen_1._) `${len} <= ${items.length}`); // TODO var\n        gen.if((0, codegen_1.not)(valid), () => validateItems(valid));\n        cxt.ok(valid);\n    }\n    function validateItems(valid) {\n        gen.forRange(\"i\", items.length, len, (i) => {\n            cxt.subschema({ keyword, dataProp: i, dataPropType: util_1.Type.Num }, valid);\n            if (!it.allErrors)\n                gen.if((0, codegen_1.not)(valid), () => gen.break());\n        });\n    }\n}\nexports.validateAdditionalItems = validateAdditionalItems;\nexports.default = def;\n//# sourceMappingURL=additionalItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateTuple = void 0;\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst code_1 = require(\"../code\");\nconst def = {\n    keyword: \"items\",\n    type: \"array\",\n    schemaType: [\"object\", \"array\", \"boolean\"],\n    before: \"uniqueItems\",\n    code(cxt) {\n        const { schema, it } = cxt;\n        if (Array.isArray(schema))\n            return validateTuple(cxt, \"additionalItems\", schema);\n        it.items = true;\n        if ((0, util_1.alwaysValidSchema)(it, schema))\n            return;\n        cxt.ok((0, code_1.validateArray)(cxt));\n    },\n};\nfunction validateTuple(cxt, extraItems, schArr = cxt.schema) {\n    const { gen, parentSchema, data, keyword, it } = cxt;\n    checkStrictTuple(parentSchema);\n    if (it.opts.unevaluated && schArr.length && it.items !== true) {\n        it.items = util_1.mergeEvaluated.items(gen, schArr.length, it.items);\n    }\n    const valid = gen.name(\"valid\");\n    const len = gen.const(\"len\", (0, codegen_1._) `${data}.length`);\n    schArr.forEach((sch, i) => {\n        if ((0, util_1.alwaysValidSchema)(it, sch))\n            return;\n        gen.if((0, codegen_1._) `${len} > ${i}`, () => cxt.subschema({\n            keyword,\n            schemaProp: i,\n            dataProp: i,\n        }, valid));\n        cxt.ok(valid);\n    });\n    function checkStrictTuple(sch) {\n        const { opts, errSchemaPath } = it;\n        const l = schArr.length;\n        const fullTuple = l === sch.minItems && (l === sch.maxItems || sch[extraItems] === false);\n        if (opts.strictTuples && !fullTuple) {\n            const msg = `\"${keyword}\" is ${l}-tuple, but minItems or maxItems/${extraItems} are not specified or different at path \"${errSchemaPath}\"`;\n            (0, util_1.checkStrictMode)(it, msg, opts.strictTuples);\n        }\n    }\n}\nexports.validateTuple = validateTuple;\nexports.default = def;\n//# sourceMappingURL=items.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst items_1 = require(\"./items\");\nconst def = {\n    keyword: \"prefixItems\",\n    type: \"array\",\n    schemaType: [\"array\"],\n    before: \"uniqueItems\",\n    code: (cxt) => (0, items_1.validateTuple)(cxt, \"items\"),\n};\nexports.default = def;\n//# sourceMappingURL=prefixItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst code_1 = require(\"../code\");\nconst additionalItems_1 = require(\"./additionalItems\");\nconst error = {\n    message: ({ params: { len } }) => (0, codegen_1.str) `must NOT have more than ${len} items`,\n    params: ({ params: { len } }) => (0, codegen_1._) `{limit: ${len}}`,\n};\nconst def = {\n    keyword: \"items\",\n    type: \"array\",\n    schemaType: [\"object\", \"boolean\"],\n    before: \"uniqueItems\",\n    error,\n    code(cxt) {\n        const { schema, parentSchema, it } = cxt;\n        const { prefixItems } = parentSchema;\n        it.items = true;\n        if ((0, util_1.alwaysValidSchema)(it, schema))\n            return;\n        if (prefixItems)\n            (0, additionalItems_1.validateAdditionalItems)(cxt, prefixItems);\n        else\n            cxt.ok((0, code_1.validateArray)(cxt));\n    },\n};\nexports.default = def;\n//# sourceMappingURL=items2020.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params: { min, max } }) => max === undefined\n        ? (0, codegen_1.str) `must contain at least ${min} valid item(s)`\n        : (0, codegen_1.str) `must contain at least ${min} and no more than ${max} valid item(s)`,\n    params: ({ params: { min, max } }) => max === undefined ? (0, codegen_1._) `{minContains: ${min}}` : (0, codegen_1._) `{minContains: ${min}, maxContains: ${max}}`,\n};\nconst def = {\n    keyword: \"contains\",\n    type: \"array\",\n    schemaType: [\"object\", \"boolean\"],\n    before: \"uniqueItems\",\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, data, it } = cxt;\n        let min;\n        let max;\n        const { minContains, maxContains } = parentSchema;\n        if (it.opts.next) {\n            min = minContains === undefined ? 1 : minContains;\n            max = maxContains;\n        }\n        else {\n            min = 1;\n        }\n        const len = gen.const(\"len\", (0, codegen_1._) `${data}.length`);\n        cxt.setParams({ min, max });\n        if (max === undefined && min === 0) {\n            (0, util_1.checkStrictMode)(it, `\"minContains\" == 0 without \"maxContains\": \"contains\" keyword ignored`);\n            return;\n        }\n        if (max !== undefined && min > max) {\n            (0, util_1.checkStrictMode)(it, `\"minContains\" > \"maxContains\" is always invalid`);\n            cxt.fail();\n            return;\n        }\n        if ((0, util_1.alwaysValidSchema)(it, schema)) {\n            let cond = (0, codegen_1._) `${len} >= ${min}`;\n            if (max !== undefined)\n                cond = (0, codegen_1._) `${cond} && ${len} <= ${max}`;\n            cxt.pass(cond);\n            return;\n        }\n        it.items = true;\n        const valid = gen.name(\"valid\");\n        if (max === undefined && min === 1) {\n            validateItems(valid, () => gen.if(valid, () => gen.break()));\n        }\n        else if (min === 0) {\n            gen.let(valid, true);\n            if (max !== undefined)\n                gen.if((0, codegen_1._) `${data}.length > 0`, validateItemsWithCount);\n        }\n        else {\n            gen.let(valid, false);\n            validateItemsWithCount();\n        }\n        cxt.result(valid, () => cxt.reset());\n        function validateItemsWithCount() {\n            const schValid = gen.name(\"_valid\");\n            const count = gen.let(\"count\", 0);\n            validateItems(schValid, () => gen.if(schValid, () => checkLimits(count)));\n        }\n        function validateItems(_valid, block) {\n            gen.forRange(\"i\", 0, len, (i) => {\n                cxt.subschema({\n                    keyword: \"contains\",\n                    dataProp: i,\n                    dataPropType: util_1.Type.Num,\n                    compositeRule: true,\n                }, _valid);\n                block();\n            });\n        }\n        function checkLimits(count) {\n            gen.code((0, codegen_1._) `${count}++`);\n            if (max === undefined) {\n                gen.if((0, codegen_1._) `${count} >= ${min}`, () => gen.assign(valid, true).break());\n            }\n            else {\n                gen.if((0, codegen_1._) `${count} > ${max}`, () => gen.assign(valid, false).break());\n                if (min === 1)\n                    gen.assign(valid, true);\n                else\n                    gen.if((0, codegen_1._) `${count} >= ${min}`, () => gen.assign(valid, true));\n            }\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=contains.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateSchemaDeps = exports.validatePropertyDeps = exports.error = void 0;\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst code_1 = require(\"../code\");\nexports.error = {\n    message: ({ params: { property, depsCount, deps } }) => {\n        const property_ies = depsCount === 1 ? \"property\" : \"properties\";\n        return (0, codegen_1.str) `must have ${property_ies} ${deps} when property ${property} is present`;\n    },\n    params: ({ params: { property, depsCount, deps, missingProperty } }) => (0, codegen_1._) `{property: ${property},\n    missingProperty: ${missingProperty},\n    depsCount: ${depsCount},\n    deps: ${deps}}`, // TODO change to reference\n};\nconst def = {\n    keyword: \"dependencies\",\n    type: \"object\",\n    schemaType: \"object\",\n    error: exports.error,\n    code(cxt) {\n        const [propDeps, schDeps] = splitDependencies(cxt);\n        validatePropertyDeps(cxt, propDeps);\n        validateSchemaDeps(cxt, schDeps);\n    },\n};\nfunction splitDependencies({ schema }) {\n    const propertyDeps = {};\n    const schemaDeps = {};\n    for (const key in schema) {\n        if (key === \"__proto__\")\n            continue;\n        const deps = Array.isArray(schema[key]) ? propertyDeps : schemaDeps;\n        deps[key] = schema[key];\n    }\n    return [propertyDeps, schemaDeps];\n}\nfunction validatePropertyDeps(cxt, propertyDeps = cxt.schema) {\n    const { gen, data, it } = cxt;\n    if (Object.keys(propertyDeps).length === 0)\n        return;\n    const missing = gen.let(\"missing\");\n    for (const prop in propertyDeps) {\n        const deps = propertyDeps[prop];\n        if (deps.length === 0)\n            continue;\n        const hasProperty = (0, code_1.propertyInData)(gen, data, prop, it.opts.ownProperties);\n        cxt.setParams({\n            property: prop,\n            depsCount: deps.length,\n            deps: deps.join(\", \"),\n        });\n        if (it.allErrors) {\n            gen.if(hasProperty, () => {\n                for (const depProp of deps) {\n                    (0, code_1.checkReportMissingProp)(cxt, depProp);\n                }\n            });\n        }\n        else {\n            gen.if((0, codegen_1._) `${hasProperty} && (${(0, code_1.checkMissingProp)(cxt, deps, missing)})`);\n            (0, code_1.reportMissingProp)(cxt, missing);\n            gen.else();\n        }\n    }\n}\nexports.validatePropertyDeps = validatePropertyDeps;\nfunction validateSchemaDeps(cxt, schemaDeps = cxt.schema) {\n    const { gen, data, keyword, it } = cxt;\n    const valid = gen.name(\"valid\");\n    for (const prop in schemaDeps) {\n        if ((0, util_1.alwaysValidSchema)(it, schemaDeps[prop]))\n            continue;\n        gen.if((0, code_1.propertyInData)(gen, data, prop, it.opts.ownProperties), () => {\n            const schCxt = cxt.subschema({ keyword, schemaProp: prop }, valid);\n            cxt.mergeValidEvaluated(schCxt, valid);\n        }, () => gen.var(valid, true) // TODO var\n        );\n        cxt.ok(valid);\n    }\n}\nexports.validateSchemaDeps = validateSchemaDeps;\nexports.default = def;\n//# sourceMappingURL=dependencies.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: \"property name must be valid\",\n    params: ({ params }) => (0, codegen_1._) `{propertyName: ${params.propertyName}}`,\n};\nconst def = {\n    keyword: \"propertyNames\",\n    type: \"object\",\n    schemaType: [\"object\", \"boolean\"],\n    error,\n    code(cxt) {\n        const { gen, schema, data, it } = cxt;\n        if ((0, util_1.alwaysValidSchema)(it, schema))\n            return;\n        const valid = gen.name(\"valid\");\n        gen.forIn(\"key\", data, (key) => {\n            cxt.setParams({ propertyName: key });\n            cxt.subschema({\n                keyword: \"propertyNames\",\n                data: key,\n                dataTypes: [\"string\"],\n                propertyName: key,\n                compositeRule: true,\n            }, valid);\n            gen.if((0, codegen_1.not)(valid), () => {\n                cxt.error(true);\n                if (!it.allErrors)\n                    gen.break();\n            });\n        });\n        cxt.ok(valid);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=propertyNames.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst names_1 = require(\"../../compile/names\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: \"must NOT have additional properties\",\n    params: ({ params }) => (0, codegen_1._) `{additionalProperty: ${params.additionalProperty}}`,\n};\nconst def = {\n    keyword: \"additionalProperties\",\n    type: [\"object\"],\n    schemaType: [\"boolean\", \"object\"],\n    allowUndefined: true,\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, data, errsCount, it } = cxt;\n        /* istanbul ignore if */\n        if (!errsCount)\n            throw new Error(\"ajv implementation error\");\n        const { allErrors, opts } = it;\n        it.props = true;\n        if (opts.removeAdditional !== \"all\" && (0, util_1.alwaysValidSchema)(it, schema))\n            return;\n        const props = (0, code_1.allSchemaProperties)(parentSchema.properties);\n        const patProps = (0, code_1.allSchemaProperties)(parentSchema.patternProperties);\n        checkAdditionalProperties();\n        cxt.ok((0, codegen_1._) `${errsCount} === ${names_1.default.errors}`);\n        function checkAdditionalProperties() {\n            gen.forIn(\"key\", data, (key) => {\n                if (!props.length && !patProps.length)\n                    additionalPropertyCode(key);\n                else\n                    gen.if(isAdditional(key), () => additionalPropertyCode(key));\n            });\n        }\n        function isAdditional(key) {\n            let definedProp;\n            if (props.length > 8) {\n                // TODO maybe an option instead of hard-coded 8?\n                const propsSchema = (0, util_1.schemaRefOrVal)(it, parentSchema.properties, \"properties\");\n                definedProp = (0, code_1.isOwnProperty)(gen, propsSchema, key);\n            }\n            else if (props.length) {\n                definedProp = (0, codegen_1.or)(...props.map((p) => (0, codegen_1._) `${key} === ${p}`));\n            }\n            else {\n                definedProp = codegen_1.nil;\n            }\n            if (patProps.length) {\n                definedProp = (0, codegen_1.or)(definedProp, ...patProps.map((p) => (0, codegen_1._) `${(0, code_1.usePattern)(cxt, p)}.test(${key})`));\n            }\n            return (0, codegen_1.not)(definedProp);\n        }\n        function deleteAdditional(key) {\n            gen.code((0, codegen_1._) `delete ${data}[${key}]`);\n        }\n        function additionalPropertyCode(key) {\n            if (opts.removeAdditional === \"all\" || (opts.removeAdditional && schema === false)) {\n                deleteAdditional(key);\n                return;\n            }\n            if (schema === false) {\n                cxt.setParams({ additionalProperty: key });\n                cxt.error();\n                if (!allErrors)\n                    gen.break();\n                return;\n            }\n            if (typeof schema == \"object\" && !(0, util_1.alwaysValidSchema)(it, schema)) {\n                const valid = gen.name(\"valid\");\n                if (opts.removeAdditional === \"failing\") {\n                    applyAdditionalSchema(key, valid, false);\n                    gen.if((0, codegen_1.not)(valid), () => {\n                        cxt.reset();\n                        deleteAdditional(key);\n                    });\n                }\n                else {\n                    applyAdditionalSchema(key, valid);\n                    if (!allErrors)\n                        gen.if((0, codegen_1.not)(valid), () => gen.break());\n                }\n            }\n        }\n        function applyAdditionalSchema(key, valid, errors) {\n            const subschema = {\n                keyword: \"additionalProperties\",\n                dataProp: key,\n                dataPropType: util_1.Type.Str,\n            };\n            if (errors === false) {\n                Object.assign(subschema, {\n                    compositeRule: true,\n                    createErrors: false,\n                    allErrors: false,\n                });\n            }\n            cxt.subschema(subschema, valid);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=additionalProperties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst validate_1 = require(\"../../compile/validate\");\nconst code_1 = require(\"../code\");\nconst util_1 = require(\"../../compile/util\");\nconst additionalProperties_1 = require(\"./additionalProperties\");\nconst def = {\n    keyword: \"properties\",\n    type: \"object\",\n    schemaType: \"object\",\n    code(cxt) {\n        const { gen, schema, parentSchema, data, it } = cxt;\n        if (it.opts.removeAdditional === \"all\" && parentSchema.additionalProperties === undefined) {\n            additionalProperties_1.default.code(new validate_1.KeywordCxt(it, additionalProperties_1.default, \"additionalProperties\"));\n        }\n        const allProps = (0, code_1.allSchemaProperties)(schema);\n        for (const prop of allProps) {\n            it.definedProperties.add(prop);\n        }\n        if (it.opts.unevaluated && allProps.length && it.props !== true) {\n            it.props = util_1.mergeEvaluated.props(gen, (0, util_1.toHash)(allProps), it.props);\n        }\n        const properties = allProps.filter((p) => !(0, util_1.alwaysValidSchema)(it, schema[p]));\n        if (properties.length === 0)\n            return;\n        const valid = gen.name(\"valid\");\n        for (const prop of properties) {\n            if (hasDefault(prop)) {\n                applyPropertySchema(prop);\n            }\n            else {\n                gen.if((0, code_1.propertyInData)(gen, data, prop, it.opts.ownProperties));\n                applyPropertySchema(prop);\n                if (!it.allErrors)\n                    gen.else().var(valid, true);\n                gen.endIf();\n            }\n            cxt.it.definedProperties.add(prop);\n            cxt.ok(valid);\n        }\n        function hasDefault(prop) {\n            return it.opts.useDefaults && !it.compositeRule && schema[prop].default !== undefined;\n        }\n        function applyPropertySchema(prop) {\n            cxt.subschema({\n                keyword: \"properties\",\n                schemaProp: prop,\n                dataProp: prop,\n            }, valid);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=properties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst util_2 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"patternProperties\",\n    type: \"object\",\n    schemaType: \"object\",\n    code(cxt) {\n        const { gen, schema, data, parentSchema, it } = cxt;\n        const { opts } = it;\n        const patterns = (0, code_1.allSchemaProperties)(schema);\n        const alwaysValidPatterns = patterns.filter((p) => (0, util_1.alwaysValidSchema)(it, schema[p]));\n        if (patterns.length === 0 ||\n            (alwaysValidPatterns.length === patterns.length &&\n                (!it.opts.unevaluated || it.props === true))) {\n            return;\n        }\n        const checkProperties = opts.strictSchema && !opts.allowMatchingProperties && parentSchema.properties;\n        const valid = gen.name(\"valid\");\n        if (it.props !== true && !(it.props instanceof codegen_1.Name)) {\n            it.props = (0, util_2.evaluatedPropsToName)(gen, it.props);\n        }\n        const { props } = it;\n        validatePatternProperties();\n        function validatePatternProperties() {\n            for (const pat of patterns) {\n                if (checkProperties)\n                    checkMatchingProperties(pat);\n                if (it.allErrors) {\n                    validateProperties(pat);\n                }\n                else {\n                    gen.var(valid, true); // TODO var\n                    validateProperties(pat);\n                    gen.if(valid);\n                }\n            }\n        }\n        function checkMatchingProperties(pat) {\n            for (const prop in checkProperties) {\n                if (new RegExp(pat).test(prop)) {\n                    (0, util_1.checkStrictMode)(it, `property ${prop} matches pattern ${pat} (use allowMatchingProperties)`);\n                }\n            }\n        }\n        function validateProperties(pat) {\n            gen.forIn(\"key\", data, (key) => {\n                gen.if((0, codegen_1._) `${(0, code_1.usePattern)(cxt, pat)}.test(${key})`, () => {\n                    const alwaysValid = alwaysValidPatterns.includes(pat);\n                    if (!alwaysValid) {\n                        cxt.subschema({\n                            keyword: \"patternProperties\",\n                            schemaProp: pat,\n                            dataProp: key,\n                            dataPropType: util_2.Type.Str,\n                        }, valid);\n                    }\n                    if (it.opts.unevaluated && props !== true) {\n                        gen.assign((0, codegen_1._) `${props}[${key}]`, true);\n                    }\n                    else if (!alwaysValid && !it.allErrors) {\n                        // can short-circuit if `unevaluatedProperties` is not supported (opts.next === false)\n                        // or if all properties were evaluated (props === true)\n                        gen.if((0, codegen_1.not)(valid), () => gen.break());\n                    }\n                });\n            });\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=patternProperties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"not\",\n    schemaType: [\"object\", \"boolean\"],\n    trackErrors: true,\n    code(cxt) {\n        const { gen, schema, it } = cxt;\n        if ((0, util_1.alwaysValidSchema)(it, schema)) {\n            cxt.fail();\n            return;\n        }\n        const valid = gen.name(\"valid\");\n        cxt.subschema({\n            keyword: \"not\",\n            compositeRule: true,\n            createErrors: false,\n            allErrors: false,\n        }, valid);\n        cxt.failResult(valid, () => cxt.reset(), () => cxt.error());\n    },\n    error: { message: \"must NOT be valid\" },\n};\nexports.default = def;\n//# sourceMappingURL=not.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst def = {\n    keyword: \"anyOf\",\n    schemaType: \"array\",\n    trackErrors: true,\n    code: code_1.validateUnion,\n    error: { message: \"must match a schema in anyOf\" },\n};\nexports.default = def;\n//# sourceMappingURL=anyOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: \"must match exactly one schema in oneOf\",\n    params: ({ params }) => (0, codegen_1._) `{passingSchemas: ${params.passing}}`,\n};\nconst def = {\n    keyword: \"oneOf\",\n    schemaType: \"array\",\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, it } = cxt;\n        /* istanbul ignore if */\n        if (!Array.isArray(schema))\n            throw new Error(\"ajv implementation error\");\n        if (it.opts.discriminator && parentSchema.discriminator)\n            return;\n        const schArr = schema;\n        const valid = gen.let(\"valid\", false);\n        const passing = gen.let(\"passing\", null);\n        const schValid = gen.name(\"_valid\");\n        cxt.setParams({ passing });\n        // TODO possibly fail straight away (with warning or exception) if there are two empty always valid schemas\n        gen.block(validateOneOf);\n        cxt.result(valid, () => cxt.reset(), () => cxt.error(true));\n        function validateOneOf() {\n            schArr.forEach((sch, i) => {\n                let schCxt;\n                if ((0, util_1.alwaysValidSchema)(it, sch)) {\n                    gen.var(schValid, true);\n                }\n                else {\n                    schCxt = cxt.subschema({\n                        keyword: \"oneOf\",\n                        schemaProp: i,\n                        compositeRule: true,\n                    }, schValid);\n                }\n                if (i > 0) {\n                    gen\n                        .if((0, codegen_1._) `${schValid} && ${valid}`)\n                        .assign(valid, false)\n                        .assign(passing, (0, codegen_1._) `[${passing}, ${i}]`)\n                        .else();\n                }\n                gen.if(schValid, () => {\n                    gen.assign(valid, true);\n                    gen.assign(passing, i);\n                    if (schCxt)\n                        cxt.mergeEvaluated(schCxt, codegen_1.Name);\n                });\n            });\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=oneOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"allOf\",\n    schemaType: \"array\",\n    code(cxt) {\n        const { gen, schema, it } = cxt;\n        /* istanbul ignore if */\n        if (!Array.isArray(schema))\n            throw new Error(\"ajv implementation error\");\n        const valid = gen.name(\"valid\");\n        schema.forEach((sch, i) => {\n            if ((0, util_1.alwaysValidSchema)(it, sch))\n                return;\n            const schCxt = cxt.subschema({ keyword: \"allOf\", schemaProp: i }, valid);\n            cxt.ok(valid);\n            cxt.mergeEvaluated(schCxt);\n        });\n    },\n};\nexports.default = def;\n//# sourceMappingURL=allOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params }) => (0, codegen_1.str) `must match \"${params.ifClause}\" schema`,\n    params: ({ params }) => (0, codegen_1._) `{failingKeyword: ${params.ifClause}}`,\n};\nconst def = {\n    keyword: \"if\",\n    schemaType: [\"object\", \"boolean\"],\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, parentSchema, it } = cxt;\n        if (parentSchema.then === undefined && parentSchema.else === undefined) {\n            (0, util_1.checkStrictMode)(it, '\"if\" without \"then\" and \"else\" is ignored');\n        }\n        const hasThen = hasSchema(it, \"then\");\n        const hasElse = hasSchema(it, \"else\");\n        if (!hasThen && !hasElse)\n            return;\n        const valid = gen.let(\"valid\", true);\n        const schValid = gen.name(\"_valid\");\n        validateIf();\n        cxt.reset();\n        if (hasThen && hasElse) {\n            const ifClause = gen.let(\"ifClause\");\n            cxt.setParams({ ifClause });\n            gen.if(schValid, validateClause(\"then\", ifClause), validateClause(\"else\", ifClause));\n        }\n        else if (hasThen) {\n            gen.if(schValid, validateClause(\"then\"));\n        }\n        else {\n            gen.if((0, codegen_1.not)(schValid), validateClause(\"else\"));\n        }\n        cxt.pass(valid, () => cxt.error(true));\n        function validateIf() {\n            const schCxt = cxt.subschema({\n                keyword: \"if\",\n                compositeRule: true,\n                createErrors: false,\n                allErrors: false,\n            }, schValid);\n            cxt.mergeEvaluated(schCxt);\n        }\n        function validateClause(keyword, ifClause) {\n            return () => {\n                const schCxt = cxt.subschema({ keyword }, schValid);\n                gen.assign(valid, schValid);\n                cxt.mergeValidEvaluated(schCxt, valid);\n                if (ifClause)\n                    gen.assign(ifClause, (0, codegen_1._) `${keyword}`);\n                else\n                    cxt.setParams({ ifClause: keyword });\n            };\n        }\n    },\n};\nfunction hasSchema(it, keyword) {\n    const schema = it.schema[keyword];\n    return schema !== undefined && !(0, util_1.alwaysValidSchema)(it, schema);\n}\nexports.default = def;\n//# sourceMappingURL=if.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: [\"then\", \"else\"],\n    schemaType: [\"object\", \"boolean\"],\n    code({ keyword, parentSchema, it }) {\n        if (parentSchema.if === undefined)\n            (0, util_1.checkStrictMode)(it, `\"${keyword}\" without \"if\" is ignored`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=thenElse.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst additionalItems_1 = require(\"./additionalItems\");\nconst prefixItems_1 = require(\"./prefixItems\");\nconst items_1 = require(\"./items\");\nconst items2020_1 = require(\"./items2020\");\nconst contains_1 = require(\"./contains\");\nconst dependencies_1 = require(\"./dependencies\");\nconst propertyNames_1 = require(\"./propertyNames\");\nconst additionalProperties_1 = require(\"./additionalProperties\");\nconst properties_1 = require(\"./properties\");\nconst patternProperties_1 = require(\"./patternProperties\");\nconst not_1 = require(\"./not\");\nconst anyOf_1 = require(\"./anyOf\");\nconst oneOf_1 = require(\"./oneOf\");\nconst allOf_1 = require(\"./allOf\");\nconst if_1 = require(\"./if\");\nconst thenElse_1 = require(\"./thenElse\");\nfunction getApplicator(draft2020 = false) {\n    const applicator = [\n        // any\n        not_1.default,\n        anyOf_1.default,\n        oneOf_1.default,\n        allOf_1.default,\n        if_1.default,\n        thenElse_1.default,\n        // object\n        propertyNames_1.default,\n        additionalProperties_1.default,\n        dependencies_1.default,\n        properties_1.default,\n        patternProperties_1.default,\n    ];\n    // array\n    if (draft2020)\n        applicator.push(prefixItems_1.default, items2020_1.default);\n    else\n        applicator.push(additionalItems_1.default, items_1.default);\n    applicator.push(contains_1.default);\n    return applicator;\n}\nexports.default = getApplicator;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => (0, codegen_1.str) `must match format \"${schemaCode}\"`,\n    params: ({ schemaCode }) => (0, codegen_1._) `{format: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"format\",\n    type: [\"number\", \"string\"],\n    schemaType: \"string\",\n    $data: true,\n    error,\n    code(cxt, ruleType) {\n        const { gen, data, $data, schema, schemaCode, it } = cxt;\n        const { opts, errSchemaPath, schemaEnv, self } = it;\n        if (!opts.validateFormats)\n            return;\n        if ($data)\n            validate$DataFormat();\n        else\n            validateFormat();\n        function validate$DataFormat() {\n            const fmts = gen.scopeValue(\"formats\", {\n                ref: self.formats,\n                code: opts.code.formats,\n            });\n            const fDef = gen.const(\"fDef\", (0, codegen_1._) `${fmts}[${schemaCode}]`);\n            const fType = gen.let(\"fType\");\n            const format = gen.let(\"format\");\n            // TODO simplify\n            gen.if((0, codegen_1._) `typeof ${fDef} == \"object\" && !(${fDef} instanceof RegExp)`, () => gen.assign(fType, (0, codegen_1._) `${fDef}.type || \"string\"`).assign(format, (0, codegen_1._) `${fDef}.validate`), () => gen.assign(fType, (0, codegen_1._) `\"string\"`).assign(format, fDef));\n            cxt.fail$data((0, codegen_1.or)(unknownFmt(), invalidFmt()));\n            function unknownFmt() {\n                if (opts.strictSchema === false)\n                    return codegen_1.nil;\n                return (0, codegen_1._) `${schemaCode} && !${format}`;\n            }\n            function invalidFmt() {\n                const callFormat = schemaEnv.$async\n                    ? (0, codegen_1._) `(${fDef}.async ? await ${format}(${data}) : ${format}(${data}))`\n                    : (0, codegen_1._) `${format}(${data})`;\n                const validData = (0, codegen_1._) `(typeof ${format} == \"function\" ? ${callFormat} : ${format}.test(${data}))`;\n                return (0, codegen_1._) `${format} && ${format} !== true && ${fType} === ${ruleType} && !${validData}`;\n            }\n        }\n        function validateFormat() {\n            const formatDef = self.formats[schema];\n            if (!formatDef) {\n                unknownFormat();\n                return;\n            }\n            if (formatDef === true)\n                return;\n            const [fmtType, format, fmtRef] = getFormat(formatDef);\n            if (fmtType === ruleType)\n                cxt.pass(validCondition());\n            function unknownFormat() {\n                if (opts.strictSchema === false) {\n                    self.logger.warn(unknownMsg());\n                    return;\n                }\n                throw new Error(unknownMsg());\n                function unknownMsg() {\n                    return `unknown format \"${schema}\" ignored in schema at path \"${errSchemaPath}\"`;\n                }\n            }\n            function getFormat(fmtDef) {\n                const code = fmtDef instanceof RegExp\n                    ? (0, codegen_1.regexpCode)(fmtDef)\n                    : opts.code.formats\n                        ? (0, codegen_1._) `${opts.code.formats}${(0, codegen_1.getProperty)(schema)}`\n                        : undefined;\n                const fmt = gen.scopeValue(\"formats\", { key: schema, ref: fmtDef, code });\n                if (typeof fmtDef == \"object\" && !(fmtDef instanceof RegExp)) {\n                    return [fmtDef.type || \"string\", fmtDef.validate, (0, codegen_1._) `${fmt}.validate`];\n                }\n                return [\"string\", fmtDef, fmt];\n            }\n            function validCondition() {\n                if (typeof formatDef == \"object\" && !(formatDef instanceof RegExp) && formatDef.async) {\n                    if (!schemaEnv.$async)\n                        throw new Error(\"async format in sync schema\");\n                    return (0, codegen_1._) `await ${fmtRef}(${data})`;\n                }\n                return typeof format == \"function\" ? (0, codegen_1._) `${fmtRef}(${data})` : (0, codegen_1._) `${fmtRef}.test(${data})`;\n            }\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=format.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst format_1 = require(\"./format\");\nconst format = [format_1.default];\nexports.default = format;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.contentVocabulary = exports.metadataVocabulary = void 0;\nexports.metadataVocabulary = [\n    \"title\",\n    \"description\",\n    \"default\",\n    \"deprecated\",\n    \"readOnly\",\n    \"writeOnly\",\n    \"examples\",\n];\nexports.contentVocabulary = [\n    \"contentMediaType\",\n    \"contentEncoding\",\n    \"contentSchema\",\n];\n//# sourceMappingURL=metadata.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst core_1 = require(\"./core\");\nconst validation_1 = require(\"./validation\");\nconst applicator_1 = require(\"./applicator\");\nconst format_1 = require(\"./format\");\nconst metadata_1 = require(\"./metadata\");\nconst draft7Vocabularies = [\n    core_1.default,\n    validation_1.default,\n    (0, applicator_1.default)(),\n    format_1.default,\n    metadata_1.metadataVocabulary,\n    metadata_1.contentVocabulary,\n];\nexports.default = draft7Vocabularies;\n//# sourceMappingURL=draft7.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiscrError = void 0;\nvar DiscrError;\n(function (DiscrError) {\n    DiscrError[\"Tag\"] = \"tag\";\n    DiscrError[\"Mapping\"] = \"mapping\";\n})(DiscrError = exports.DiscrError || (exports.DiscrError = {}));\n//# sourceMappingURL=types.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst types_1 = require(\"../discriminator/types\");\nconst compile_1 = require(\"../../compile\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params: { discrError, tagName } }) => discrError === types_1.DiscrError.Tag\n        ? `tag \"${tagName}\" must be string`\n        : `value of tag \"${tagName}\" must be in oneOf`,\n    params: ({ params: { discrError, tag, tagName } }) => (0, codegen_1._) `{error: ${discrError}, tag: ${tagName}, tagValue: ${tag}}`,\n};\nconst def = {\n    keyword: \"discriminator\",\n    type: \"object\",\n    schemaType: \"object\",\n    error,\n    code(cxt) {\n        const { gen, data, schema, parentSchema, it } = cxt;\n        const { oneOf } = parentSchema;\n        if (!it.opts.discriminator) {\n            throw new Error(\"discriminator: requires discriminator option\");\n        }\n        const tagName = schema.propertyName;\n        if (typeof tagName != \"string\")\n            throw new Error(\"discriminator: requires propertyName\");\n        if (schema.mapping)\n            throw new Error(\"discriminator: mapping is not supported\");\n        if (!oneOf)\n            throw new Error(\"discriminator: requires oneOf keyword\");\n        const valid = gen.let(\"valid\", false);\n        const tag = gen.const(\"tag\", (0, codegen_1._) `${data}${(0, codegen_1.getProperty)(tagName)}`);\n        gen.if((0, codegen_1._) `typeof ${tag} == \"string\"`, () => validateMapping(), () => cxt.error(false, { discrError: types_1.DiscrError.Tag, tag, tagName }));\n        cxt.ok(valid);\n        function validateMapping() {\n            const mapping = getMapping();\n            gen.if(false);\n            for (const tagValue in mapping) {\n                gen.elseIf((0, codegen_1._) `${tag} === ${tagValue}`);\n                gen.assign(valid, applyTagSchema(mapping[tagValue]));\n            }\n            gen.else();\n            cxt.error(false, { discrError: types_1.DiscrError.Mapping, tag, tagName });\n            gen.endIf();\n        }\n        function applyTagSchema(schemaProp) {\n            const _valid = gen.name(\"valid\");\n            const schCxt = cxt.subschema({ keyword: \"oneOf\", schemaProp }, _valid);\n            cxt.mergeEvaluated(schCxt, codegen_1.Name);\n            return _valid;\n        }\n        function getMapping() {\n            var _a;\n            const oneOfMapping = {};\n            const topRequired = hasRequired(parentSchema);\n            let tagRequired = true;\n            for (let i = 0; i < oneOf.length; i++) {\n                let sch = oneOf[i];\n                if ((sch === null || sch === void 0 ? void 0 : sch.$ref) && !(0, util_1.schemaHasRulesButRef)(sch, it.self.RULES)) {\n                    sch = compile_1.resolveRef.call(it.self, it.schemaEnv.root, it.baseId, sch === null || sch === void 0 ? void 0 : sch.$ref);\n                    if (sch instanceof compile_1.SchemaEnv)\n                        sch = sch.schema;\n                }\n                const propSch = (_a = sch === null || sch === void 0 ? void 0 : sch.properties) === null || _a === void 0 ? void 0 : _a[tagName];\n                if (typeof propSch != \"object\") {\n                    throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have \"properties/${tagName}\"`);\n                }\n                tagRequired = tagRequired && (topRequired || hasRequired(sch));\n                addMappings(propSch, i);\n            }\n            if (!tagRequired)\n                throw new Error(`discriminator: \"${tagName}\" must be required`);\n            return oneOfMapping;\n            function hasRequired({ required }) {\n                return Array.isArray(required) && required.includes(tagName);\n            }\n            function addMappings(sch, i) {\n                if (sch.const) {\n                    addMapping(sch.const, i);\n                }\n                else if (sch.enum) {\n                    for (const tagValue of sch.enum) {\n                        addMapping(tagValue, i);\n                    }\n                }\n                else {\n                    throw new Error(`discriminator: \"properties/${tagName}\" must have \"const\" or \"enum\"`);\n                }\n            }\n            function addMapping(tagValue, i) {\n                if (typeof tagValue != \"string\" || tagValue in oneOfMapping) {\n                    throw new Error(`discriminator: \"${tagName}\" values must be unique strings`);\n                }\n                oneOfMapping[tagValue] = i;\n            }\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MissingRefError = exports.ValidationError = exports.CodeGen = exports.Name = exports.nil = exports.stringify = exports.str = exports._ = exports.KeywordCxt = void 0;\nconst core_1 = require(\"./core\");\nconst draft7_1 = require(\"./vocabularies/draft7\");\nconst discriminator_1 = require(\"./vocabularies/discriminator\");\nconst draft7MetaSchema = require(\"./refs/json-schema-draft-07.json\");\nconst META_SUPPORT_DATA = [\"/properties\"];\nconst META_SCHEMA_ID = \"http://json-schema.org/draft-07/schema\";\nclass Ajv extends core_1.default {\n    _addVocabularies() {\n        super._addVocabularies();\n        draft7_1.default.forEach((v) => this.addVocabulary(v));\n        if (this.opts.discriminator)\n            this.addKeyword(discriminator_1.default);\n    }\n    _addDefaultMetaSchema() {\n        super._addDefaultMetaSchema();\n        if (!this.opts.meta)\n            return;\n        const metaSchema = this.opts.$data\n            ? this.$dataMetaSchema(draft7MetaSchema, META_SUPPORT_DATA)\n            : draft7MetaSchema;\n        this.addMetaSchema(metaSchema, META_SCHEMA_ID, false);\n        this.refs[\"http://json-schema.org/schema\"] = META_SCHEMA_ID;\n    }\n    defaultMeta() {\n        return (this.opts.defaultMeta =\n            super.defaultMeta() || (this.getSchema(META_SCHEMA_ID) ? META_SCHEMA_ID : undefined));\n    }\n}\nmodule.exports = exports = Ajv;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Ajv;\nvar validate_1 = require(\"./compile/validate\");\nObject.defineProperty(exports, \"KeywordCxt\", { enumerable: true, get: function () { return validate_1.KeywordCxt; } });\nvar codegen_1 = require(\"./compile/codegen\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return codegen_1._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return codegen_1.str; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return codegen_1.stringify; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return codegen_1.nil; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return codegen_1.Name; } });\nObject.defineProperty(exports, \"CodeGen\", { enumerable: true, get: function () { return codegen_1.CodeGen; } });\nvar validation_error_1 = require(\"./runtime/validation_error\");\nObject.defineProperty(exports, \"ValidationError\", { enumerable: true, get: function () { return validation_error_1.default; } });\nvar ref_error_1 = require(\"./compile/ref_error\");\nObject.defineProperty(exports, \"MissingRefError\", { enumerable: true, get: function () { return ref_error_1.default; } });\n//# sourceMappingURL=ajv.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.formatNames = exports.fastFormats = exports.fullFormats = void 0;\nfunction fmtDef(validate, compare) {\n    return { validate, compare };\n}\nexports.fullFormats = {\n    // date: http://tools.ietf.org/html/rfc3339#section-5.6\n    date: fmtDef(date, compareDate),\n    // date-time: http://tools.ietf.org/html/rfc3339#section-5.6\n    time: fmtDef(time, compareTime),\n    \"date-time\": fmtDef(date_time, compareDateTime),\n    // duration: https://tools.ietf.org/html/rfc3339#appendix-A\n    duration: /^P(?!$)((\\d+Y)?(\\d+M)?(\\d+D)?(T(?=\\d)(\\d+H)?(\\d+M)?(\\d+S)?)?|(\\d+W)?)$/,\n    uri,\n    \"uri-reference\": /^(?:[a-z][a-z0-9+\\-.]*:)?(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'\"()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\\?(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,\n    // uri-template: https://tools.ietf.org/html/rfc6570\n    \"uri-template\": /^(?:(?:[^\\x00-\\x20\"'<>%\\\\^`{|}]|%[0-9a-f]{2})|\\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?)*\\})*$/i,\n    // For the source: https://gist.github.com/dperini/729294\n    // For test cases: https://mathiasbynens.be/demo/url-regex\n    url: /^(?:https?|ftp):\\/\\/(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u{00a1}-\\u{ffff}]+-)*[a-z0-9\\u{00a1}-\\u{ffff}]+)(?:\\.(?:[a-z0-9\\u{00a1}-\\u{ffff}]+-)*[a-z0-9\\u{00a1}-\\u{ffff}]+)*(?:\\.(?:[a-z\\u{00a1}-\\u{ffff}]{2,})))(?::\\d{2,5})?(?:\\/[^\\s]*)?$/iu,\n    email: /^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,\n    hostname: /^(?=.{1,253}\\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\\.?$/i,\n    // optimized https://www.safaribooksonline.com/library/view/regular-expressions-cookbook/9780596802837/ch07s16.html\n    ipv4: /^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,\n    ipv6: /^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))$/i,\n    regex,\n    // uuid: http://tools.ietf.org/html/rfc4122\n    uuid: /^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,\n    // JSON-pointer: https://tools.ietf.org/html/rfc6901\n    // uri fragment: https://tools.ietf.org/html/rfc3986#appendix-A\n    \"json-pointer\": /^(?:\\/(?:[^~/]|~0|~1)*)*$/,\n    \"json-pointer-uri-fragment\": /^#(?:\\/(?:[a-z0-9_\\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,\n    // relative JSON-pointer: http://tools.ietf.org/html/draft-luff-relative-json-pointer-00\n    \"relative-json-pointer\": /^(?:0|[1-9][0-9]*)(?:#|(?:\\/(?:[^~/]|~0|~1)*)*)$/,\n    // the following formats are used by the openapi specification: https://spec.openapis.org/oas/v3.0.0#data-types\n    // byte: https://github.com/miguelmota/is-base64\n    byte,\n    // signed 32 bit integer\n    int32: { type: \"number\", validate: validateInt32 },\n    // signed 64 bit integer\n    int64: { type: \"number\", validate: validateInt64 },\n    // C-type float\n    float: { type: \"number\", validate: validateNumber },\n    // C-type double\n    double: { type: \"number\", validate: validateNumber },\n    // hint to the UI to hide input strings\n    password: true,\n    // unchecked string payload\n    binary: true,\n};\nexports.fastFormats = {\n    ...exports.fullFormats,\n    date: fmtDef(/^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d$/, compareDate),\n    time: fmtDef(/^(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d(?::?\\d\\d)?)?$/i, compareTime),\n    \"date-time\": fmtDef(/^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d[t\\s](?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d(?::?\\d\\d)?)$/i, compareDateTime),\n    // uri: https://github.com/mafintosh/is-my-json-valid/blob/master/formats.js\n    uri: /^(?:[a-z][a-z0-9+\\-.]*:)(?:\\/?\\/)?[^\\s]*$/i,\n    \"uri-reference\": /^(?:(?:[a-z][a-z0-9+\\-.]*:)?\\/?\\/)?(?:[^\\\\\\s#][^\\s#]*)?(?:#[^\\\\\\s]*)?$/i,\n    // email (sources from jsen validator):\n    // http://stackoverflow.com/questions/201323/using-a-regular-expression-to-validate-an-email-address#answer-8829363\n    // http://www.w3.org/TR/html5/forms.html#valid-e-mail-address (search for 'wilful violation')\n    email: /^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,\n};\nexports.formatNames = Object.keys(exports.fullFormats);\nfunction isLeapYear(year) {\n    // https://tools.ietf.org/html/rfc3339#appendix-C\n    return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);\n}\nconst DATE = /^(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)$/;\nconst DAYS = [0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\nfunction date(str) {\n    // full-date from http://tools.ietf.org/html/rfc3339#section-5.6\n    const matches = DATE.exec(str);\n    if (!matches)\n        return false;\n    const year = +matches[1];\n    const month = +matches[2];\n    const day = +matches[3];\n    return (month >= 1 &&\n        month <= 12 &&\n        day >= 1 &&\n        day <= (month === 2 && isLeapYear(year) ? 29 : DAYS[month]));\n}\nfunction compareDate(d1, d2) {\n    if (!(d1 && d2))\n        return undefined;\n    if (d1 > d2)\n        return 1;\n    if (d1 < d2)\n        return -1;\n    return 0;\n}\nconst TIME = /^(\\d\\d):(\\d\\d):(\\d\\d)(\\.\\d+)?(z|[+-]\\d\\d(?::?\\d\\d)?)?$/i;\nfunction time(str, withTimeZone) {\n    const matches = TIME.exec(str);\n    if (!matches)\n        return false;\n    const hour = +matches[1];\n    const minute = +matches[2];\n    const second = +matches[3];\n    const timeZone = matches[5];\n    return (((hour <= 23 && minute <= 59 && second <= 59) ||\n        (hour === 23 && minute === 59 && second === 60)) &&\n        (!withTimeZone || timeZone !== \"\"));\n}\nfunction compareTime(t1, t2) {\n    if (!(t1 && t2))\n        return undefined;\n    const a1 = TIME.exec(t1);\n    const a2 = TIME.exec(t2);\n    if (!(a1 && a2))\n        return undefined;\n    t1 = a1[1] + a1[2] + a1[3] + (a1[4] || \"\");\n    t2 = a2[1] + a2[2] + a2[3] + (a2[4] || \"\");\n    if (t1 > t2)\n        return 1;\n    if (t1 < t2)\n        return -1;\n    return 0;\n}\nconst DATE_TIME_SEPARATOR = /t|\\s/i;\nfunction date_time(str) {\n    // http://tools.ietf.org/html/rfc3339#section-5.6\n    const dateTime = str.split(DATE_TIME_SEPARATOR);\n    return dateTime.length === 2 && date(dateTime[0]) && time(dateTime[1], true);\n}\nfunction compareDateTime(dt1, dt2) {\n    if (!(dt1 && dt2))\n        return undefined;\n    const [d1, t1] = dt1.split(DATE_TIME_SEPARATOR);\n    const [d2, t2] = dt2.split(DATE_TIME_SEPARATOR);\n    const res = compareDate(d1, d2);\n    if (res === undefined)\n        return undefined;\n    return res || compareTime(t1, t2);\n}\nconst NOT_URI_FRAGMENT = /\\/|:/;\nconst URI = /^(?:[a-z][a-z0-9+\\-.]*:)(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\\?(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;\nfunction uri(str) {\n    // http://jmrware.com/articles/2009/uri_regexp/URI_regex.html + optional protocol + required \".\"\n    return NOT_URI_FRAGMENT.test(str) && URI.test(str);\n}\nconst BYTE = /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;\nfunction byte(str) {\n    BYTE.lastIndex = 0;\n    return BYTE.test(str);\n}\nconst MIN_INT32 = -(2 ** 31);\nconst MAX_INT32 = 2 ** 31 - 1;\nfunction validateInt32(value) {\n    return Number.isInteger(value) && value <= MAX_INT32 && value >= MIN_INT32;\n}\nfunction validateInt64(value) {\n    // JSON and javascript max Int is 2**53, so any int that passes isInteger is valid for Int64\n    return Number.isInteger(value);\n}\nfunction validateNumber() {\n    return true;\n}\nconst Z_ANCHOR = /[^\\\\]\\\\Z/;\nfunction regex(str) {\n    if (Z_ANCHOR.test(str))\n        return false;\n    try {\n        new RegExp(str);\n        return true;\n    }\n    catch (e) {\n        return false;\n    }\n}\n//# sourceMappingURL=formats.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.formatLimitDefinition = void 0;\nconst ajv_1 = require(\"ajv\");\nconst codegen_1 = require(\"ajv/dist/compile/codegen\");\nconst ops = codegen_1.operators;\nconst KWDs = {\n    formatMaximum: { okStr: \"<=\", ok: ops.LTE, fail: ops.GT },\n    formatMinimum: { okStr: \">=\", ok: ops.GTE, fail: ops.LT },\n    formatExclusiveMaximum: { okStr: \"<\", ok: ops.LT, fail: ops.GTE },\n    formatExclusiveMinimum: { okStr: \">\", ok: ops.GT, fail: ops.LTE },\n};\nconst error = {\n    message: ({ keyword, schemaCode }) => codegen_1.str `should be ${KWDs[keyword].okStr} ${schemaCode}`,\n    params: ({ keyword, schemaCode }) => codegen_1._ `{comparison: ${KWDs[keyword].okStr}, limit: ${schemaCode}}`,\n};\nexports.formatLimitDefinition = {\n    keyword: Object.keys(KWDs),\n    type: \"string\",\n    schemaType: \"string\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, schemaCode, keyword, it } = cxt;\n        const { opts, self } = it;\n        if (!opts.validateFormats)\n            return;\n        const fCxt = new ajv_1.KeywordCxt(it, self.RULES.all.format.definition, \"format\");\n        if (fCxt.$data)\n            validate$DataFormat();\n        else\n            validateFormat();\n        function validate$DataFormat() {\n            const fmts = gen.scopeValue(\"formats\", {\n                ref: self.formats,\n                code: opts.code.formats,\n            });\n            const fmt = gen.const(\"fmt\", codegen_1._ `${fmts}[${fCxt.schemaCode}]`);\n            cxt.fail$data(codegen_1.or(codegen_1._ `typeof ${fmt} != \"object\"`, codegen_1._ `${fmt} instanceof RegExp`, codegen_1._ `typeof ${fmt}.compare != \"function\"`, compareCode(fmt)));\n        }\n        function validateFormat() {\n            const format = fCxt.schema;\n            const fmtDef = self.formats[format];\n            if (!fmtDef || fmtDef === true)\n                return;\n            if (typeof fmtDef != \"object\" ||\n                fmtDef instanceof RegExp ||\n                typeof fmtDef.compare != \"function\") {\n                throw new Error(`\"${keyword}\": format \"${format}\" does not define \"compare\" function`);\n            }\n            const fmt = gen.scopeValue(\"formats\", {\n                key: format,\n                ref: fmtDef,\n                code: opts.code.formats ? codegen_1._ `${opts.code.formats}${codegen_1.getProperty(format)}` : undefined,\n            });\n            cxt.fail$data(compareCode(fmt));\n        }\n        function compareCode(fmt) {\n            return codegen_1._ `${fmt}.compare(${data}, ${schemaCode}) ${KWDs[keyword].fail} 0`;\n        }\n    },\n    dependencies: [\"format\"],\n};\nconst formatLimitPlugin = (ajv) => {\n    ajv.addKeyword(exports.formatLimitDefinition);\n    return ajv;\n};\nexports.default = formatLimitPlugin;\n//# sourceMappingURL=limit.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst formats_1 = require(\"./formats\");\nconst limit_1 = require(\"./limit\");\nconst codegen_1 = require(\"ajv/dist/compile/codegen\");\nconst fullName = new codegen_1.Name(\"fullFormats\");\nconst fastName = new codegen_1.Name(\"fastFormats\");\nconst formatsPlugin = (ajv, opts = { keywords: true }) => {\n    if (Array.isArray(opts)) {\n        addFormats(ajv, opts, formats_1.fullFormats, fullName);\n        return ajv;\n    }\n    const [formats, exportName] = opts.mode === \"fast\" ? [formats_1.fastFormats, fastName] : [formats_1.fullFormats, fullName];\n    const list = opts.formats || formats_1.formatNames;\n    addFormats(ajv, list, formats, exportName);\n    if (opts.keywords)\n        limit_1.default(ajv);\n    return ajv;\n};\nformatsPlugin.get = (name, mode = \"full\") => {\n    const formats = mode === \"fast\" ? formats_1.fastFormats : formats_1.fullFormats;\n    const f = formats[name];\n    if (!f)\n        throw new Error(`Unknown format \"${name}\"`);\n    return f;\n};\nfunction addFormats(ajv, list, fs, exportName) {\n    var _a;\n    var _b;\n    (_a = (_b = ajv.opts.code).formats) !== null && _a !== void 0 ? _a : (_b.formats = codegen_1._ `require(\"ajv-formats/dist/formats\").${exportName}`);\n    for (const f of list)\n        ajv.addFormat(f, fs[f]);\n}\nmodule.exports = exports = formatsPlugin;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = formatsPlugin;\n//# sourceMappingURL=index.js.map","import { ADDITIONAL_PROPERTY_FLAG, RJSF_ADDITONAL_PROPERTIES_FLAG, toErrorSchema, getDefaultFormState, createErrorHandler, unwrapErrorHandler, validationDataMerge, getUiOptions, PROPERTIES_KEY, toErrorList, ID_KEY, withIdRefPrefix, ROOT_SCHEMA_PREFIX, hashForSchema, JUNK_OPTION_ID } from '@rjsf/utils';\nimport Ajv from 'ajv';\nimport addFormats from 'ajv-formats';\nimport isObject from 'lodash-es/isObject';\nimport get from 'lodash-es/get';\nimport isEqual from 'lodash-es/isEqual';\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\n\nvar AJV_CONFIG = {\n  allErrors: true,\n  multipleOfPrecision: 8,\n  strict: false,\n  verbose: true\n};\nvar COLOR_FORMAT_REGEX = /^(#?([0-9A-Fa-f]{3}){1,2}\\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\\(\\s*\\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\b\\s*,\\s*\\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\b\\s*,\\s*\\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\b\\s*\\))|(rgb\\(\\s*(\\d?\\d%|100%)+\\s*,\\s*(\\d?\\d%|100%)+\\s*,\\s*(\\d?\\d%|100%)+\\s*\\)))$/;\nvar DATA_URL_FORMAT_REGEX = /^data:([a-z]+\\/[a-z0-9-+.]+)?;(?:name=(.*);)?base64,(.*)$/;\n/** Creates an Ajv version 8 implementation object with standard support for the 'color` and `data-url` custom formats.\r\n * If `additionalMetaSchemas` are provided then the Ajv instance is modified to add each of the meta schemas in the\r\n * list. If `customFormats` are provided then those additional formats are added to the list of supported formats. If\r\n * `ajvOptionsOverrides` are provided then they are spread on top of the default `AJV_CONFIG` options when constructing\r\n * the `Ajv` instance. With Ajv v8, the JSON Schema formats are not provided by default, but can be plugged in. By\r\n * default, all formats from the `ajv-formats` library are added. To disable this capability, set the `ajvFormatOptions`\r\n * parameter to `false`. Additionally, you can configure the `ajv-formats` by providing a custom set of\r\n * [format options](https://github.com/ajv-validator/ajv-formats) to the `ajvFormatOptions` parameter.\r\n *\r\n * @param [additionalMetaSchemas] - The list of additional meta schemas that the validator can access\r\n * @param [customFormats] - The set of additional custom formats that the validator will support\r\n * @param [ajvOptionsOverrides={}] - The set of validator config override options\r\n * @param [ajvFormatOptions] - The `ajv-format` options to use when adding formats to `ajv`; pass `false` to disable it\r\n * @param [AjvClass] - The `Ajv` class to use when creating the validator instance\r\n */\nfunction createAjvInstance(additionalMetaSchemas, customFormats, ajvOptionsOverrides, ajvFormatOptions, AjvClass) {\n  if (ajvOptionsOverrides === void 0) {\n    ajvOptionsOverrides = {};\n  }\n  if (AjvClass === void 0) {\n    AjvClass = Ajv;\n  }\n  var ajv = new AjvClass(_extends({}, AJV_CONFIG, ajvOptionsOverrides));\n  if (ajvFormatOptions) {\n    addFormats(ajv, ajvFormatOptions);\n  } else if (ajvFormatOptions !== false) {\n    addFormats(ajv);\n  }\n  // add custom formats\n  ajv.addFormat('data-url', DATA_URL_FORMAT_REGEX);\n  ajv.addFormat('color', COLOR_FORMAT_REGEX);\n  // Add RJSF-specific additional properties keywords so Ajv doesn't report errors if strict is enabled.\n  ajv.addKeyword(ADDITIONAL_PROPERTY_FLAG);\n  ajv.addKeyword(RJSF_ADDITONAL_PROPERTIES_FLAG);\n  // add more schemas to validate against\n  if (Array.isArray(additionalMetaSchemas)) {\n    ajv.addMetaSchema(additionalMetaSchemas);\n  }\n  // add more custom formats to validate against\n  if (isObject(customFormats)) {\n    Object.keys(customFormats).forEach(function (formatName) {\n      ajv.addFormat(formatName, customFormats[formatName]);\n    });\n  }\n  return ajv;\n}\n\nvar _excluded = [\"instancePath\", \"keyword\", \"params\", \"schemaPath\", \"parentSchema\"];\n/** Transforming the error output from ajv to format used by @rjsf/utils.\r\n * At some point, components should be updated to support ajv.\r\n *\r\n * @param errors - The list of AJV errors to convert to `RJSFValidationErrors`\r\n * @param [uiSchema] - An optional uiSchema that is passed to `transformErrors` and `customValidate`\r\n */\nfunction transformRJSFValidationErrors(errors, uiSchema) {\n  if (errors === void 0) {\n    errors = [];\n  }\n  return errors.map(function (e) {\n    var instancePath = e.instancePath,\n      keyword = e.keyword,\n      params = e.params,\n      schemaPath = e.schemaPath,\n      parentSchema = e.parentSchema,\n      rest = _objectWithoutPropertiesLoose(e, _excluded);\n    var _rest$message = rest.message,\n      message = _rest$message === void 0 ? '' : _rest$message;\n    var property = instancePath.replace(/\\//g, '.');\n    var stack = (property + \" \" + message).trim();\n    if ('missingProperty' in params) {\n      property = property ? property + \".\" + params.missingProperty : params.missingProperty;\n      var currentProperty = params.missingProperty;\n      var uiSchemaTitle = getUiOptions(get(uiSchema, \"\" + property.replace(/^\\./, ''))).title;\n      if (uiSchemaTitle) {\n        message = message.replace(currentProperty, uiSchemaTitle);\n      } else {\n        var parentSchemaTitle = get(parentSchema, [PROPERTIES_KEY, currentProperty, 'title']);\n        if (parentSchemaTitle) {\n          message = message.replace(currentProperty, parentSchemaTitle);\n        }\n      }\n      stack = message;\n    } else {\n      var _uiSchemaTitle = getUiOptions(get(uiSchema, \"\" + property.replace(/^\\./, ''))).title;\n      if (_uiSchemaTitle) {\n        stack = (\"'\" + _uiSchemaTitle + \"' \" + message).trim();\n      } else {\n        var _parentSchemaTitle = parentSchema === null || parentSchema === void 0 ? void 0 : parentSchema.title;\n        if (_parentSchemaTitle) {\n          stack = (\"'\" + _parentSchemaTitle + \"' \" + message).trim();\n        }\n      }\n    }\n    // put data in expected format\n    return {\n      name: keyword,\n      property: property,\n      message: message,\n      params: params,\n      stack: stack,\n      schemaPath: schemaPath\n    };\n  });\n}\n/** This function processes the `formData` with an optional user contributed `customValidate` function, which receives\r\n * the form data and a `errorHandler` function that will be used to add custom validation errors for each field. Also\r\n * supports a `transformErrors` function that will take the raw AJV validation errors, prior to custom validation and\r\n * transform them in what ever way it chooses.\r\n *\r\n * @param validator - The `ValidatorType` implementation used for the `getDefaultFormState()` call\r\n * @param rawErrors - The list of raw `ErrorObject`s to process\r\n * @param formData - The form data to validate\r\n * @param schema - The schema against which to validate the form data\r\n * @param [customValidate] - An optional function that is used to perform custom validation\r\n * @param [transformErrors] - An optional function that is used to transform errors after AJV validation\r\n * @param [uiSchema] - An optional uiSchema that is passed to `transformErrors` and `customValidate`\r\n */\nfunction processRawValidationErrors(validator, rawErrors, formData, schema, customValidate, transformErrors, uiSchema) {\n  var invalidSchemaError = rawErrors.validationError;\n  var errors = transformRJSFValidationErrors(rawErrors.errors, uiSchema);\n  if (invalidSchemaError) {\n    errors = [].concat(errors, [{\n      stack: invalidSchemaError.message\n    }]);\n  }\n  if (typeof transformErrors === 'function') {\n    errors = transformErrors(errors, uiSchema);\n  }\n  var errorSchema = toErrorSchema(errors);\n  if (invalidSchemaError) {\n    errorSchema = _extends({}, errorSchema, {\n      $schema: {\n        __errors: [invalidSchemaError.message]\n      }\n    });\n  }\n  if (typeof customValidate !== 'function') {\n    return {\n      errors: errors,\n      errorSchema: errorSchema\n    };\n  }\n  // Include form data with undefined values, which is required for custom validation.\n  var newFormData = getDefaultFormState(validator, schema, formData, schema, true);\n  var errorHandler = customValidate(newFormData, createErrorHandler(newFormData), uiSchema);\n  var userErrorSchema = unwrapErrorHandler(errorHandler);\n  return validationDataMerge({\n    errors: errors,\n    errorSchema: errorSchema\n  }, userErrorSchema);\n}\n\n/** `ValidatorType` implementation that uses the AJV 8 validation mechanism.\r\n */\nvar AJV8Validator = /*#__PURE__*/function () {\n  /** Constructs an `AJV8Validator` instance using the `options`\r\n   *\r\n   * @param options - The `CustomValidatorOptionsType` options that are used to create the AJV instance\r\n   * @param [localizer] - If provided, is used to localize a list of Ajv `ErrorObject`s\r\n   */\n  function AJV8Validator(options, localizer) {\n    /** The AJV instance to use for all validations\r\n     *\r\n     * @private\r\n     */\n    this.ajv = void 0;\n    /** The Localizer function to use for localizing Ajv errors\r\n     *\r\n     * @private\r\n     */\n    this.localizer = void 0;\n    var additionalMetaSchemas = options.additionalMetaSchemas,\n      customFormats = options.customFormats,\n      ajvOptionsOverrides = options.ajvOptionsOverrides,\n      ajvFormatOptions = options.ajvFormatOptions,\n      AjvClass = options.AjvClass;\n    this.ajv = createAjvInstance(additionalMetaSchemas, customFormats, ajvOptionsOverrides, ajvFormatOptions, AjvClass);\n    this.localizer = localizer;\n  }\n  /** Converts an `errorSchema` into a list of `RJSFValidationErrors`\r\n   *\r\n   * @param errorSchema - The `ErrorSchema` instance to convert\r\n   * @param [fieldPath=[]] - The current field path, defaults to [] if not specified\r\n   * @deprecated - Use the `toErrorList()` function provided by `@rjsf/utils` instead. This function will be removed in\r\n   *        the next major release.\r\n   */\n  var _proto = AJV8Validator.prototype;\n  _proto.toErrorList = function toErrorList$1(errorSchema, fieldPath) {\n    if (fieldPath === void 0) {\n      fieldPath = [];\n    }\n    return toErrorList(errorSchema, fieldPath);\n  }\n  /** Runs the pure validation of the `schema` and `formData` without any of the RJSF functionality. Provided for use\r\n   * by the playground. Returns the `errors` from the validation\r\n   *\r\n   * @param schema - The schema against which to validate the form data   * @param schema\r\n   * @param formData - The form data to validate\r\n   */;\n  _proto.rawValidation = function rawValidation(schema, formData) {\n    var compilationError = undefined;\n    var compiledValidator;\n    if (schema[ID_KEY]) {\n      compiledValidator = this.ajv.getSchema(schema[ID_KEY]);\n    }\n    try {\n      if (compiledValidator === undefined) {\n        compiledValidator = this.ajv.compile(schema);\n      }\n      compiledValidator(formData);\n    } catch (err) {\n      compilationError = err;\n    }\n    var errors;\n    if (compiledValidator) {\n      if (typeof this.localizer === 'function') {\n        this.localizer(compiledValidator.errors);\n      }\n      errors = compiledValidator.errors || undefined;\n      // Clear errors to prevent persistent errors, see #1104\n      compiledValidator.errors = null;\n    }\n    return {\n      errors: errors,\n      validationError: compilationError\n    };\n  }\n  /** This function processes the `formData` with an optional user contributed `customValidate` function, which receives\r\n   * the form data and a `errorHandler` function that will be used to add custom validation errors for each field. Also\r\n   * supports a `transformErrors` function that will take the raw AJV validation errors, prior to custom validation and\r\n   * transform them in what ever way it chooses.\r\n   *\r\n   * @param formData - The form data to validate\r\n   * @param schema - The schema against which to validate the form data\r\n   * @param [customValidate] - An optional function that is used to perform custom validation\r\n   * @param [transformErrors] - An optional function that is used to transform errors after AJV validation\r\n   * @param [uiSchema] - An optional uiSchema that is passed to `transformErrors` and `customValidate`\r\n   */;\n  _proto.validateFormData = function validateFormData(formData, schema, customValidate, transformErrors, uiSchema) {\n    var rawErrors = this.rawValidation(schema, formData);\n    return processRawValidationErrors(this, rawErrors, formData, schema, customValidate, transformErrors, uiSchema);\n  }\n  /** Validates data against a schema, returning true if the data is valid, or\r\n   * false otherwise. If the schema is invalid, then this function will return\r\n   * false.\r\n   *\r\n   * @param schema - The schema against which to validate the form data\r\n   * @param formData - The form data to validate\r\n   * @param rootSchema - The root schema used to provide $ref resolutions\r\n   */;\n  _proto.isValid = function isValid(schema, formData, rootSchema) {\n    var _rootSchema$ID_KEY;\n    var rootSchemaId = (_rootSchema$ID_KEY = rootSchema[ID_KEY]) != null ? _rootSchema$ID_KEY : ROOT_SCHEMA_PREFIX;\n    try {\n      // add the rootSchema ROOT_SCHEMA_PREFIX as id.\n      // then rewrite the schema ref's to point to the rootSchema\n      // this accounts for the case where schema have references to models\n      // that lives in the rootSchema but not in the schema in question.\n      if (this.ajv.getSchema(rootSchemaId) === undefined) {\n        this.ajv.addSchema(rootSchema, rootSchemaId);\n      }\n      var schemaWithIdRefPrefix = withIdRefPrefix(schema);\n      var compiledValidator;\n      if (schemaWithIdRefPrefix[ID_KEY]) {\n        compiledValidator = this.ajv.getSchema(schemaWithIdRefPrefix[ID_KEY]);\n      }\n      if (compiledValidator === undefined) {\n        compiledValidator = this.ajv.compile(schemaWithIdRefPrefix);\n      }\n      var result = compiledValidator(formData);\n      return result;\n    } catch (e) {\n      console.warn('Error encountered compiling schema:', e);\n      return false;\n    } finally {\n      // TODO: A function should be called if the root schema changes so we don't have to remove and recompile the schema every run.\n      // make sure we remove the rootSchema from the global ajv instance\n      this.ajv.removeSchema(rootSchemaId);\n    }\n  };\n  return AJV8Validator;\n}();\n\n/** Creates and returns a customized implementation of the `ValidatorType` with the given customization `options` if\r\n * provided. If a `localizer` is provided, it is used to translate the messages generated by the underlying AJV\r\n * validation.\r\n *\r\n * @param [options={}] - The `CustomValidatorOptionsType` options that are used to create the `ValidatorType` instance\r\n * @param [localizer] - If provided, is used to localize a list of Ajv `ErrorObject`s\r\n * @returns - The custom validator implementation resulting from the set of parameters provided\r\n */\nfunction customizeValidator(options, localizer) {\n  if (options === void 0) {\n    options = {};\n  }\n  return new AJV8Validator(options, localizer);\n}\n\n/** `ValidatorType` implementation that uses an AJV 8 precompiled validator as created by the\r\n * `compileSchemaValidators()` function provided by the `@rjsf/validator-ajv8` library.\r\n */\nvar AJV8PrecompiledValidator = /*#__PURE__*/function () {\n  /** Constructs an `AJV8PrecompiledValidator` instance using the `validateFns` and `rootSchema`\r\n   *\r\n   * @param validateFns - The map of the validation functions that are generated by the `schemaCompile()` function\r\n   * @param rootSchema - The root schema that was used with the `compileSchema()` function\r\n   * @param [localizer] - If provided, is used to localize a list of Ajv `ErrorObject`s\r\n   * @throws - Error when the base schema of the precompiled validator does not have a matching validator function\r\n   */\n  function AJV8PrecompiledValidator(validateFns, rootSchema, localizer) {\n    /** The root schema object used to construct this validator\r\n     *\r\n     * @private\r\n     */\n    this.rootSchema = void 0;\n    /** The `ValidatorFunctions` map used to construct this validator\r\n     *\r\n     * @private\r\n     */\n    this.validateFns = void 0;\n    /** The main validator function associated with the base schema in the `precompiledValidator`\r\n     *\r\n     * @private\r\n     */\n    this.mainValidator = void 0;\n    /** The Localizer function to use for localizing Ajv errors\r\n     *\r\n     * @private\r\n     */\n    this.localizer = void 0;\n    this.rootSchema = rootSchema;\n    this.validateFns = validateFns;\n    this.localizer = localizer;\n    this.mainValidator = this.getValidator(rootSchema);\n  }\n  /** Returns the precompiled validator associated with the given `schema` from the map of precompiled validator\r\n   * functions.\r\n   *\r\n   * @param schema - The schema for which a precompiled validator function is desired\r\n   * @returns - The precompiled validator function associated with this schema\r\n   */\n  var _proto = AJV8PrecompiledValidator.prototype;\n  _proto.getValidator = function getValidator(schema) {\n    var key = get(schema, ID_KEY) || hashForSchema(schema);\n    var validator = this.validateFns[key];\n    if (!validator) {\n      throw new Error(\"No precompiled validator function was found for the given schema for \\\"\" + key + \"\\\"\");\n    }\n    return validator;\n  }\n  /** Converts an `errorSchema` into a list of `RJSFValidationErrors`\r\n   *\r\n   * @param errorSchema - The `ErrorSchema` instance to convert\r\n   * @param [fieldPath=[]] - The current field path, defaults to [] if not specified\r\n   * @deprecated - Use the `toErrorList()` function provided by `@rjsf/utils` instead. This function will be removed in\r\n   *        the next major release.\r\n   */;\n  _proto.toErrorList = function toErrorList$1(errorSchema, fieldPath) {\n    if (fieldPath === void 0) {\n      fieldPath = [];\n    }\n    return toErrorList(errorSchema, fieldPath);\n  }\n  /** Runs the pure validation of the `schema` and `formData` without any of the RJSF functionality. Provided for use\r\n   * by the playground. Returns the `errors` from the validation\r\n   *\r\n   * @param schema - The schema against which to validate the form data   * @param schema\r\n   * @param formData - The form data to validate\r\n   * @throws - Error when the schema provided does not match the base schema of the precompiled validator\r\n   */;\n  _proto.rawValidation = function rawValidation(schema, formData) {\n    if (!isEqual(schema, this.rootSchema)) {\n      throw new Error('The schema associated with the precompiled schema differs from the schema provided for validation');\n    }\n    this.mainValidator(formData);\n    if (typeof this.localizer === 'function') {\n      this.localizer(this.mainValidator.errors);\n    }\n    var errors = this.mainValidator.errors || undefined;\n    // Clear errors to prevent persistent errors, see #1104\n    this.mainValidator.errors = null;\n    return {\n      errors: errors\n    };\n  }\n  /** This function processes the `formData` with an optional user contributed `customValidate` function, which receives\r\n   * the form data and a `errorHandler` function that will be used to add custom validation errors for each field. Also\r\n   * supports a `transformErrors` function that will take the raw AJV validation errors, prior to custom validation and\r\n   * transform them in what ever way it chooses.\r\n   *\r\n   * @param formData - The form data to validate\r\n   * @param schema - The schema against which to validate the form data\r\n   * @param [customValidate] - An optional function that is used to perform custom validation\r\n   * @param [transformErrors] - An optional function that is used to transform errors after AJV validation\r\n   * @param [uiSchema] - An optional uiSchema that is passed to `transformErrors` and `customValidate`\r\n   */;\n  _proto.validateFormData = function validateFormData(formData, schema, customValidate, transformErrors, uiSchema) {\n    var rawErrors = this.rawValidation(schema, formData);\n    return processRawValidationErrors(this, rawErrors, formData, schema, customValidate, transformErrors, uiSchema);\n  }\n  /** Validates data against a schema, returning true if the data is valid, or false otherwise. If the schema is\r\n   * invalid, then this function will return false.\r\n   *\r\n   * @param schema - The schema against which to validate the form data\r\n   * @param formData - The form data to validate\r\n   * @param rootSchema - The root schema used to provide $ref resolutions\r\n   * @returns - true if the formData validates against the schema, false otherwise\r\n   * @throws - Error when the schema provided does not match the base schema of the precompiled validator OR if there\r\n   *        isn't a precompiled validator function associated with the schema\r\n   */;\n  _proto.isValid = function isValid(schema, formData, rootSchema) {\n    if (!isEqual(rootSchema, this.rootSchema)) {\n      throw new Error('The schema associated with the precompiled validator differs from the rootSchema provided for validation');\n    }\n    if (get(schema, ID_KEY) === JUNK_OPTION_ID) {\n      return false;\n    }\n    var validator = this.getValidator(schema);\n    return validator(formData);\n  };\n  return AJV8PrecompiledValidator;\n}();\n\n/** Creates and returns a `ValidatorType` interface that is implemented with a precompiled validator. If a `localizer`\r\n * is provided, it is used to translate the messages generated by the underlying AJV validation.\r\n *\r\n * NOTE: The `validateFns` parameter is an object obtained by importing from a precompiled validation file created via\r\n * the `compileSchemaValidators()` function.\r\n *\r\n * @param validateFns - The map of the validation functions that are created by the `compileSchemaValidators()` function\r\n * @param rootSchema - The root schema that was used with the `compileSchemaValidators()` function\r\n * @param [localizer] - If provided, is used to localize a list of Ajv `ErrorObject`s\r\n * @returns - The precompiled validator implementation resulting from the set of parameters provided\r\n */\nfunction createPrecompiledValidator(validateFns, rootSchema, localizer) {\n  return new AJV8PrecompiledValidator(validateFns, rootSchema, localizer);\n}\n\nvar index = /*#__PURE__*/customizeValidator();\n\nexport { createPrecompiledValidator, customizeValidator, index as default };\n//# sourceMappingURL=validator-ajv8.esm.js.map\n","import { UiSchema } from '@rjsf/utils'\nimport { JSONSchema7 } from 'json-schema'\n\nexport const writeHeaderOption = 'First line is the columns names.'\nexport const includeRowIdAndRowVersionOption =\n  'Include row metadata (Row Id and Row Version).'\nexport const csvOption = 'Comma Separated Values (CSV)'\nexport const tsvOption = 'Tab Separated Values (TSV)'\n\n// Step 1\nconst stepOneFormSchema: JSONSchema7 = {\n  type: 'object',\n  properties: {\n    'File Type': {\n      type: 'string',\n      oneOf: [\n        {\n          const: csvOption,\n          title: csvOption,\n        },\n        {\n          const: tsvOption,\n          title: tsvOption,\n        },\n      ],\n    },\n    Contents: {\n      type: 'array',\n      title: 'Contents',\n      items: {\n        type: 'string',\n        enum: [writeHeaderOption, includeRowIdAndRowVersionOption],\n      },\n      uniqueItems: true,\n    },\n  },\n}\n\nconst stepOneFormUISchema: UiSchema = {\n  'File Type': {\n    'ui:widget': 'radio',\n  },\n  Contents: {\n    'ui:widget': 'checkboxes',\n  },\n}\n\n// Step 2\nconst stepTwoFormSchema: JSONSchema7 = {\n  description:\n    'File is ready for download. Select the download button to download the file.',\n  type: 'object',\n}\n\nconst stepTwoFormUISchema: UiSchema = {}\n\nexport const formSchemaArray = [stepOneFormSchema, stepTwoFormSchema]\nexport const formSchemaUIArray = [stepOneFormUISchema, stepTwoFormUISchema]\n","import React from 'react'\nimport { Button } from '@mui/material'\nimport Form, { IChangeEvent } from '@rjsf/core'\nimport validator from '@rjsf/validator-ajv8'\nimport SynapseClient from '../../synapse-client'\nimport {\n  DownloadFromTableRequest,\n  DownloadFromTableResult,\n  SortItem,\n  QueryBundleRequest,\n} from '@sage-bionetworks/synapse-types'\n\nimport {\n  csvOption,\n  formSchemaArray,\n  formSchemaUIArray,\n  includeRowIdAndRowVersionOption,\n  writeHeaderOption,\n} from './ModalDownload.FormSchema'\nimport { parseEntityIdFromSqlStatement } from '../../utils/functions/SqlFunctions'\nimport { SynapseContext } from '../../utils/context/SynapseContext'\nimport { DialogBase } from '../DialogBase'\n\ntype ModalDownloadState = {\n  isLoading: boolean\n  step: number\n  data?: DownloadFromTableResult\n  formData: Record<string, unknown>\n}\n\nexport type ModalDownloadProps = {\n  onClose: (...args: any[]) => void\n  includeEntityEtag?: boolean\n  queryBundleRequest?: QueryBundleRequest // either the query bundle request needs to be provided, or getLastQueryRequest\n  getLastQueryRequest?: () => QueryBundleRequest\n  offset?: number\n  limit?: number\n  sort?: SortItem[]\n}\n\nexport class ModalDownload extends React.Component<\n  ModalDownloadProps,\n  ModalDownloadState\n> {\n  static contextType = SynapseContext\n  declare context: NonNullable<React.ContextType<typeof SynapseContext>>\n\n  constructor(props: ModalDownloadProps) {\n    super(props)\n    this.state = {\n      isLoading: false,\n      step: 0,\n      formData: {\n        'File Type': csvOption,\n        Contents: [writeHeaderOption, includeRowIdAndRowVersionOption],\n      },\n    }\n  }\n\n  handleSubmit = (event: IChangeEvent) => {\n    if (this.state.step === 0) {\n      this.handleDownloadSetup(event)\n    } else {\n      this.onDownload()\n    }\n  }\n\n  handleDownloadSetup = (event: IChangeEvent) => {\n    this.setState({\n      isLoading: true,\n    })\n    const { formData } = event\n    const fileType = formData['File Type']\n    const contents = formData.Contents as string[]\n    const { queryBundleRequest, getLastQueryRequest } = this.props\n    const separator = fileType === csvOption ? ',' : '\\t'\n    const writeHeader = contents.includes(writeHeaderOption)\n    const includeRowIdAndRowVersion = contents.includes(\n      includeRowIdAndRowVersionOption,\n    )\n    const queryRequest = queryBundleRequest ?? getLastQueryRequest!()\n    const sql = queryRequest.query.sql\n    const downloadFromTableRequest: DownloadFromTableRequest = {\n      sql,\n      entityId: parseEntityIdFromSqlStatement(sql),\n      selectedFacets: queryRequest.query.selectedFacets,\n      concreteType:\n        'org.sagebionetworks.repo.model.table.DownloadFromTableRequest',\n      writeHeader,\n      includeRowIdAndRowVersion,\n      csvTableDescriptor: { separator },\n      additionalFilters: queryRequest.query.additionalFilters,\n    }\n    SynapseClient.getDownloadFromTableRequest(\n      downloadFromTableRequest,\n      this.context.accessToken,\n    )\n      .then(data => {\n        this.setState({\n          isLoading: false,\n          step: 1,\n          data,\n        })\n      })\n      .catch(err => {\n        console.log('Error getDownloadFromTableRequest: ', err)\n      })\n  }\n\n  onDownload = () => {\n    const { data } = this.state\n    // data will always be defined if calling this function\n    SynapseClient.getFileHandleByIdURL(\n      data!.resultsFileHandleId,\n      this.context.accessToken,\n    ).then(url => {\n      window.location.href = url\n      this.props.onClose()\n    })\n  }\n\n  handleChange = (event: IChangeEvent) => {\n    const { formData } = event\n    this.setState({\n      formData,\n    })\n  }\n\n  render() {\n    const spinnerStyle: React.CSSProperties = {\n      height: 50,\n      width: 50,\n      backgroundSize: 50,\n    }\n    return (\n      <DialogBase\n        open={true}\n        onCancel={this.props.onClose}\n        title=\"Download query results\"\n        content={\n          <>\n            <Form\n              validator={validator}\n              id=\"modal-download-form\"\n              schema={formSchemaArray[this.state.step]}\n              uiSchema={formSchemaUIArray[this.state.step]}\n              onChange={this.handleChange}\n              formData={this.state.formData}\n              onSubmit={this.handleSubmit}\n            >\n              {this.state.isLoading && (\n                <div className=\"SRC-centerAndJustifyContent\">\n                  <div className=\"SRC-center-text\">\n                    <p> Creating the File </p>\n                    <div style={spinnerStyle} className=\"spinner\" />\n                    <p> Loading... </p>\n                  </div>\n                </div>\n              )}\n              <React.Fragment />\n            </Form>\n          </>\n        }\n        actions={\n          <>\n            <Button\n              variant=\"outlined\"\n              color=\"primary\"\n              onClick={this.props.onClose}\n            >\n              Cancel\n            </Button>\n            <Button\n              form=\"modal-download-form\"\n              type=\"submit\"\n              variant=\"contained\"\n              color=\"primary\"\n            >\n              {this.state.step === 0 ? 'Next' : 'Download'}\n            </Button>\n          </>\n        }\n      />\n    )\n  }\n}\n\nexport default ModalDownload\n","import { QueryBundleRequest } from '@sage-bionetworks/synapse-types'\nimport { Query } from '@sage-bionetworks/synapse-types'\nimport { SynapseConstants } from '../index'\nimport { parseEntityIdFromSqlStatement } from './SqlFunctions'\n\n//id consists of a component class/function name and it's index\nfunction getComponentSearchHashId(\n  componentName: string,\n  componentIndex: number,\n): string {\n  return `${componentName}${componentIndex}`\n}\n\n//returns updated search string with the component's info\nfunction patchSearchString(\n  componentSearchHashId: string,\n  stringifiedQuery: string,\n): string | undefined {\n  const searchString = window.location.search\n\n  const searchFragment = `${componentSearchHashId}=${stringifiedQuery}`\n  if (!searchString) {\n    return searchFragment\n  }\n\n  if (!searchString.includes(`${componentSearchHashId}=`)) {\n    //substr(1) because we don't want '?' character\n    return `${searchString.substr(1)}&${searchFragment}`\n  }\n  const searchHashes = window.location.search\n    .slice(searchString.indexOf('?') + 1)\n    .split('&')\n\n  const searchHashesUpdated = searchHashes\n    .map(item => {\n      const split = item.split('=')\n      if (split[0] === componentSearchHashId) {\n        return `${searchFragment}`\n      } else return item\n    })\n    .join('&')\n  return searchHashesUpdated\n}\n\n//gets a value for the search param for the component from the url\nexport function getSearchParamValueFromUrl(\n  componentName: string,\n  componentIndex: number,\n): string | undefined {\n  if (!window.location.search) {\n    return undefined\n  }\n  const componentSearchHashId = getComponentSearchHashId(\n    componentName,\n    componentIndex,\n  )\n  const hashes = window.location.search\n    .slice(window.location.search.indexOf('?') + 1)\n    .split('&')\n  const getSearchParamValue = hashes\n    .filter(item => {\n      const hash = item.split('=')\n      return hash[0] === componentSearchHashId\n    })\n    .map(item => item.split('=')[1])[0]\n  return getSearchParamValue\n    ? decodeURIComponent(getSearchParamValue)\n    : undefined\n}\n\n//updates the url with the components new search params\nexport function updateUrlWithNewSearchParam(\n  componentName: string,\n  componentIndex: number | undefined,\n  stringifiedQuery: string,\n) {\n  const componentSearchHashId =\n    componentIndex !== undefined\n      ? getComponentSearchHashId(componentName, componentIndex)\n      : componentName\n  const searchString = patchSearchString(\n    componentSearchHashId,\n    stringifiedQuery,\n  )\n  const location = window.location\n  const newURL = `${location.protocol}//${location.hostname}${\n    location.port ? ':' + location.port : ''\n  }${location.pathname}?${searchString}`\n\n  window.history.replaceState('object or string', 'Title', newURL)\n}\n\nexport function getQueryRequestFromLink(\n  componentName: string,\n  componentIndex: number,\n): QueryBundleRequest | undefined {\n  const searchParamValue = getSearchParamValueFromUrl(\n    componentName,\n    componentIndex,\n  )\n\n  let initQueryRequest: QueryBundleRequest | undefined = undefined\n  if (searchParamValue) {\n    const query = JSON.parse(searchParamValue) as Query\n    if (query.sql) {\n      initQueryRequest = {\n        concreteType: 'org.sagebionetworks.repo.model.table.QueryBundleRequest',\n        partMask:\n          SynapseConstants.BUNDLE_MASK_QUERY_COLUMN_MODELS |\n          SynapseConstants.BUNDLE_MASK_QUERY_FACETS |\n          SynapseConstants.BUNDLE_MASK_QUERY_SELECT_COLUMNS |\n          SynapseConstants.BUNDLE_MASK_QUERY_RESULTS |\n          SynapseConstants.BUNDLE_MASK_QUERY_COUNT,\n        entityId: parseEntityIdFromSqlStatement(query.sql),\n        query,\n      }\n    }\n  }\n  return initQueryRequest\n}\n","import { useCallback, useEffect, useMemo, useState } from 'react'\nimport {\n  FacetColumnRequest,\n  QueryBundleRequest,\n} from '@sage-bionetworks/synapse-types'\nimport { cloneDeep, isEqual } from 'lodash-es'\nimport * as DeepLinkingUtils from '../utils/functions/deepLinkingUtils'\nimport { DEFAULT_PAGE_SIZE } from '../utils/SynapseConstants'\nimport { parseEntityIdAndVersionFromSqlStatement } from '../utils/functions/SqlFunctions'\nimport { QueryFilter } from '@sage-bionetworks/synapse-types'\nimport useDeepCompareEffect from 'use-deep-compare-effect'\nimport {\n  isColumnMultiValueFunctionQueryFilter,\n  isColumnSingleValueQueryFilter,\n  isFacetColumnValuesRequest,\n} from '../utils/types/IsType'\n\nexport type ImmutableTableQueryResult = {\n  /** The ID of the table parsed from the SQL query */\n  entityId: string\n  /** The version number of the table parsed from the SQL query */\n  versionNumber?: number\n  getInitQueryRequest: () => QueryBundleRequest\n  getLastQueryRequest: () => QueryBundleRequest\n  setQuery: (\n    queryRequest:\n      | QueryBundleRequest\n      | ((lastQueryRequest: QueryBundleRequest) => QueryBundleRequest),\n  ) => void\n  pageSize: number\n  /** The current page of results. The first page is `1` */\n  currentPage: number\n  setPageSize: (pageSize: number) => void\n  /** pageNumber is 1-indexed */\n  goToPage: (pageNumber: number) => void\n  /** Resets the query to the initial state, clearing all user-specified filters */\n  resetQuery: () => void\n  /** Removes a particular selected facet from the query */\n  removeSelectedFacet: (facet: FacetColumnRequest) => void\n  /** Removes a particular value from a selected facet. If the value is the last value in the FacetColumnRequest, the selected facet will be removed. */\n  removeValueFromSelectedFacet: (\n    facet: FacetColumnRequest,\n    value: string,\n  ) => void\n  /** Removes a particular QueryFilter from the query */\n  removeQueryFilter: (filter: QueryFilter) => void\n  /** Removes a particular value from a QueryFilter. If the value is the last value in the filter, the filter will be removed. */\n  removeValueFromQueryFilter: (filter: QueryFilter, value: string) => void\n\n  /**\n   * TODO: This hook could handle all potential query transformations, such as\n   *    - addFacetFilter, removeFacetFilter, clearFacetFilters\n   *    - addAdditionalFilter, remove..., clear...\n   *\n   * This could be preferable to allowing any QueryContext subscriber to arbitrarily update the query with `setQuery`\n   *  because we could uniformly handle all complex stateful logic in this hook\n   */\n}\n\nexport type UseImmutableTableQueryOptions = {\n  /** The initial table query request object */\n  initQueryRequest: QueryBundleRequest\n  /** Whether the URL should update when the query is modified. */\n  shouldDeepLink?: boolean\n  /** Unique index for the component on the page so URL updates do not conflict between table query components */\n  componentIndex?: number\n  /** Callback invoked when the query is modified */\n  onQueryChange?: (newQueryJson: string) => void\n}\n\n/**\n * Custom hook that maintains and manages the state of a Synapse Table query.\n * @param options\n * @returns\n */\nexport default function useImmutableTableQuery(\n  options: UseImmutableTableQueryOptions,\n): ImmutableTableQueryResult {\n  const {\n    initQueryRequest,\n    componentIndex = 0,\n    shouldDeepLink = false,\n    onQueryChange,\n  } = options\n\n  const [lastQueryRequest, setLastQueryRequest] =\n    useState<QueryBundleRequest>(initQueryRequest)\n\n  /**\n   * Inspect the URL on mount to see if we have a particular query request that we must show.\n   */\n  useEffect(() => {\n    const query = DeepLinkingUtils.getQueryRequestFromLink(\n      'QueryWrapper',\n      componentIndex,\n    )\n    if (query) {\n      setLastQueryRequest(query)\n    }\n  }, [componentIndex])\n\n  /**\n   * Pass down a deep clone (so no side effects on the child's part) of the\n   * last query request made\n   *\n   * @returns\n   * @memberof QueryWrapper\n   */\n  const getLastQueryRequest = useCallback(() => {\n    return cloneDeep(lastQueryRequest)\n  }, [lastQueryRequest])\n\n  /**\n   * Pass down a deep clone (so no side effects on the child's part) of the\n   * first query request made\n   *\n   * @returns\n   * @memberof QueryWrapper\n   */\n  const getInitQueryRequest = useCallback((): QueryBundleRequest => {\n    return cloneDeep(initQueryRequest)\n  }, [initQueryRequest])\n\n  /**\n   * Execute the given query request, updating all the data in the QueryContext to match the new query\n   * @param {*} queryRequest Query request as specified by\n   *                         https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/table/Query.html\n   */\n  const setQuery = useCallback(\n    (\n      queryRequest:\n        | QueryBundleRequest\n        | ((lastQueryRequest: QueryBundleRequest) => QueryBundleRequest),\n    ): void => {\n      let newQueryRequest: QueryBundleRequest\n      if (typeof queryRequest === 'function') {\n        newQueryRequest = queryRequest(getLastQueryRequest())\n      } else {\n        newQueryRequest = queryRequest\n      }\n\n      // Clone the query request before storing it in state, in case the original is mutated\n      const clonedQueryRequest = cloneDeep(newQueryRequest)\n      setLastQueryRequest(clonedQueryRequest)\n\n      if (clonedQueryRequest.query) {\n        const clonedQueryJson = JSON.stringify(clonedQueryRequest.query)\n        if (shouldDeepLink) {\n          const encodedQuery = encodeURIComponent(clonedQueryJson)\n          DeepLinkingUtils.updateUrlWithNewSearchParam(\n            'QueryWrapper',\n            componentIndex,\n            encodedQuery,\n          )\n        }\n        if (onQueryChange) {\n          onQueryChange(clonedQueryJson)\n        }\n      }\n    },\n    [componentIndex, getLastQueryRequest, onQueryChange, shouldDeepLink],\n  )\n\n  const { entityId, versionNumber } = useMemo(\n    () => parseEntityIdAndVersionFromSqlStatement(lastQueryRequest.query.sql)!,\n    [lastQueryRequest.query.sql],\n  )\n\n  const pageSize = lastQueryRequest.query.limit ?? DEFAULT_PAGE_SIZE\n  const currentPage = Math.ceil(\n    ((lastQueryRequest.query.offset ?? 0) + Number(pageSize)) / pageSize,\n  )\n\n  const setPageSize = useCallback(\n    (pageSize: number) => {\n      setQuery(currentQuery => {\n        currentQuery.query.limit = pageSize\n        return currentQuery\n      })\n    },\n    [setQuery],\n  )\n\n  const goToPage = useCallback(\n    (pageNumber: number) => {\n      setQuery(currentQuery => {\n        currentQuery.query.offset = (pageNumber - 1) * pageSize\n        return currentQuery\n      })\n    },\n    [pageSize, setQuery],\n  )\n\n  const resetQuery = useCallback(() => {\n    setQuery(initQueryRequest)\n  }, [initQueryRequest, setQuery])\n\n  /* If the initial query changes, then reset the query to match the new prop */\n  useDeepCompareEffect(() => {\n    if (lastQueryRequest != initQueryRequest) {\n      resetQuery()\n    }\n  }, [initQueryRequest])\n\n  const removeSelectedFacet = useCallback(\n    (facetColumnRequest: FacetColumnRequest) => {\n      setQuery(currentQuery => {\n        currentQuery.query.selectedFacets = (\n          currentQuery.query.selectedFacets ?? []\n        ).filter(facet => {\n          // Use lodash for deep comparison\n          return !isEqual(facet, facetColumnRequest)\n        })\n        return currentQuery\n      })\n    },\n    [setQuery],\n  )\n\n  const removeValueFromSelectedFacet = useCallback(\n    (facet: FacetColumnRequest, value: string) => {\n      setQuery(currentQuery => {\n        currentQuery.query.selectedFacets = (\n          currentQuery.query.selectedFacets ?? []\n        )\n          // Modify the requested filter\n          .map(facetColumnRequest => {\n            if (\n              isFacetColumnValuesRequest(facetColumnRequest) &&\n              isEqual(facetColumnRequest, facet)\n            ) {\n              // Remove the value from the filter\n              facetColumnRequest.facetValues =\n                facetColumnRequest.facetValues.filter(v => v !== value)\n            }\n            return facetColumnRequest\n          })\n          // Remove filters that have no values\n          .filter(facetColumnRequest => {\n            if (isFacetColumnValuesRequest(facetColumnRequest)) {\n              // Remove the value from the filter\n              return (\n                Array.isArray(facetColumnRequest.facetValues) &&\n                facetColumnRequest.facetValues.length > 0\n              )\n            }\n            return true\n          })\n        return currentQuery\n      })\n    },\n    [setQuery],\n  )\n\n  const removeQueryFilter = useCallback(\n    (queryFilter: QueryFilter) => {\n      setQuery(currentQuery => {\n        currentQuery.query.additionalFilters = (\n          currentQuery.query.additionalFilters ?? []\n        ).filter(qf => {\n          // Use lodash for deep comparison\n          return !isEqual(qf, queryFilter)\n        })\n        return currentQuery\n      })\n    },\n    [setQuery],\n  )\n\n  const removeValueFromQueryFilter = useCallback(\n    (queryFilter: QueryFilter, value: string) => {\n      setQuery(currentQuery => {\n        currentQuery.query.additionalFilters = (\n          currentQuery.query.additionalFilters ?? []\n        )\n          // Modify the requested filter\n          .map(qf => {\n            if (\n              (isColumnSingleValueQueryFilter(qf) ||\n                isColumnMultiValueFunctionQueryFilter(qf)) &&\n              isEqual(qf, queryFilter)\n            ) {\n              // Remove the value from the filter\n              qf.values = qf.values.filter(v => v !== value)\n            }\n            return qf\n          })\n          // Remove filters that have no values\n          .filter(qf => {\n            if (\n              isColumnSingleValueQueryFilter(qf) ||\n              isColumnMultiValueFunctionQueryFilter(qf)\n            ) {\n              // Remove the value from the filter\n              return Array.isArray(qf.values) && qf.values.length > 0\n            }\n            return true\n          })\n        return currentQuery\n      })\n    },\n    [setQuery],\n  )\n\n  return {\n    entityId,\n    versionNumber,\n    getInitQueryRequest,\n    getLastQueryRequest,\n    setQuery,\n    pageSize,\n    currentPage,\n    setPageSize,\n    goToPage,\n    resetQuery,\n    removeSelectedFacet,\n    removeValueFromSelectedFacet,\n    removeQueryFilter,\n    removeValueFromQueryFilter,\n  }\n}\n","import React, { useCallback } from 'react'\nimport { useMemo, useState } from 'react'\nimport { useDeepCompareEffectNoCheck } from 'use-deep-compare-effect'\nimport {\n  isFacetAvailable,\n  hasResettableFilters as hasResettableFiltersUtil,\n  removeLockedColumnFromFacetData,\n} from '../../utils/functions/queryUtils'\nimport {\n  useGetEntity,\n  useGetQueryResultBundleWithAsyncStatus,\n} from '../../synapse-queries'\nimport {\n  AsynchronousJobStatus,\n  QueryBundleRequest,\n  QueryResultBundle,\n  Table,\n} from '@sage-bionetworks/synapse-types'\nimport {\n  LockedColumn,\n  PaginatedQueryContextType,\n  QueryContextProvider,\n} from '../QueryContext/QueryContext'\nimport useImmutableTableQuery from '../useImmutableTableQuery'\n\nexport type QueryWrapperProps = {\n  children: React.ReactNode | React.ReactNode[]\n  initQueryRequest: QueryBundleRequest\n  componentIndex?: number //used for deep linking\n  shouldDeepLink?: boolean\n  onQueryChange?: (newQueryJson: string) => void\n  onQueryResultBundleChange?: (newQueryResultBundleJson: string) => void\n  lockedColumn?: LockedColumn\n  onViewSharingSettingsClicked?: (benefactorId: string) => void\n}\n\n/**\n * Component that manages the state of a Synapse table query. Data can be accessed via QueryContext using\n * either `useQueryContext` or `QueryContextConsumer`.\n */\nexport function QueryWrapper(props: QueryWrapperProps) {\n  const {\n    initQueryRequest,\n    onQueryChange,\n    onQueryResultBundleChange,\n    lockedColumn,\n    componentIndex,\n    shouldDeepLink,\n    onViewSharingSettingsClicked,\n  } = props\n\n  const [currentAsyncStatus, setCurrentAsyncStatus] = useState<\n    AsynchronousJobStatus<QueryBundleRequest, QueryResultBundle> | undefined\n  >(undefined)\n\n  const {\n    entityId,\n    versionNumber,\n    getInitQueryRequest,\n    getLastQueryRequest,\n    setQuery,\n    currentPage,\n    pageSize,\n    goToPage,\n    setPageSize,\n    resetQuery,\n    removeSelectedFacet,\n    removeValueFromSelectedFacet,\n    removeQueryFilter,\n    removeValueFromQueryFilter,\n  } = useImmutableTableQuery({\n    initQueryRequest,\n    shouldDeepLink,\n    componentIndex,\n    onQueryChange,\n  })\n\n  const lastQueryRequest = useMemo(() => {\n    return getLastQueryRequest()\n  }, [getLastQueryRequest])\n\n  const {\n    data: asyncJobStatus,\n    isLoading: queryIsLoading,\n    error,\n    isPreviousData: newQueryIsFetching,\n  } = useGetQueryResultBundleWithAsyncStatus(\n    lastQueryRequest,\n    {\n      // We use `keepPreviousData` because we don't want to clear out the current data when the query is modified via the UI\n      keepPreviousData: true,\n    },\n    setCurrentAsyncStatus,\n  )\n\n  const data = asyncJobStatus?.responseBody\n\n  // Indicate if we're fetching data for the first time (queryIsLoading) or if we're fetching data for a brand-new query (newQueryIsFetching)\n  const isLoadingNewBundle = queryIsLoading || newQueryIsFetching\n\n  const { data: entity } = useGetEntity<Table>(entityId, versionNumber)\n\n  // data is sometimes undefined, which useDeepCompareEffect doesn't like, so use useDeepCompareEffectNoCheck instead\n  useDeepCompareEffectNoCheck(() => {\n    if (data && onQueryResultBundleChange) {\n      onQueryResultBundleChange(JSON.stringify(data))\n    }\n  }, [data, onQueryResultBundleChange])\n\n  const isFacetsAvailable = data\n    ? isFacetAvailable(data.facets, data.selectColumns)\n    : true\n\n  /**\n   * Remove a particular facet name (e.g. study) and all possible values based on the parameter specified in the url\n   * this is to remove the facet from the charts, search and filter.\n   * @return data: QueryResultBundle\n   */\n  const dataWithLockedColumnFacetRemoved = useMemo(() => {\n    return removeLockedColumnFromFacetData(data, lockedColumn)\n  }, [data, lockedColumn])\n\n  const hasResettableFilters = useMemo(() => {\n    const request = getLastQueryRequest()\n    return hasResettableFiltersUtil(request.query, lockedColumn)\n  }, [getLastQueryRequest, lockedColumn])\n\n  const getColumnModel = useCallback(\n    (columnName: string) => {\n      return data?.columnModels?.find(cm => cm.name === columnName) ?? null\n    },\n    [data?.columnModels],\n  )\n\n  const context: PaginatedQueryContextType = {\n    data: dataWithLockedColumnFacetRemoved,\n    currentPage,\n    pageSize,\n    setPageSize,\n    isLoadingNewBundle: isLoadingNewBundle,\n    getLastQueryRequest,\n    getInitQueryRequest,\n    error: error,\n    entity,\n    executeQueryRequest: setQuery,\n    isFacetsAvailable,\n    asyncJobStatus: currentAsyncStatus,\n    goToPage,\n    hasResettableFilters,\n    removeSelectedFacet,\n    removeValueFromSelectedFacet,\n    resetQuery,\n    removeQueryFilter,\n    removeValueFromQueryFilter,\n    lockedColumn,\n    getColumnModel,\n    onViewSharingSettingsClicked,\n  }\n  /**\n   * Render the children without any formatting\n   */\n  const { children } = props\n  return (\n    <QueryContextProvider queryContext={context}>\n      {children}\n    </QueryContextProvider>\n  )\n}\n","import React from 'react'\nimport { useCallback, useEffect, useMemo, useState } from 'react'\nimport {\n  isFacetAvailable,\n  hasResettableFilters as isFilteredUtil,\n  removeLockedColumnFromFacetData,\n} from '../utils/functions/queryUtils'\nimport { useGetEntity, useInfiniteQueryResultBundle } from '../synapse-queries'\nimport {\n  AsynchronousJobStatus,\n  QueryBundleRequest,\n  QueryResultBundle,\n  Table,\n} from '@sage-bionetworks/synapse-types'\nimport {\n  InfiniteQueryContextType,\n  LockedColumn,\n  QueryContextProvider,\n} from './QueryContext/QueryContext'\nimport useImmutableTableQuery from './useImmutableTableQuery'\n\nexport type InfiniteQueryWrapperProps = {\n  children: React.ReactNode | React.ReactNode[]\n  initQueryRequest: QueryBundleRequest\n  componentIndex?: number //used for deep linking\n  shouldDeepLink?: boolean\n  onQueryChange?: (newQueryJson: string) => void\n  onQueryResultBundleChange?: (newQueryResultBundleJson: string) => void\n  lockedColumn?: LockedColumn\n  onViewSharingSettingsClicked?: (benefactorId: string) => void\n}\n\n/**\n * Component that manages the state of a Synapse table query. Data can be accessed via QueryContext using\n * either `useQueryContext` or `QueryContextConsumer`.\n */\nexport function InfiniteQueryWrapper(props: InfiniteQueryWrapperProps) {\n  const {\n    initQueryRequest,\n    onQueryChange,\n    onQueryResultBundleChange,\n    lockedColumn,\n    componentIndex,\n    shouldDeepLink,\n    onViewSharingSettingsClicked,\n  } = props\n  const [currentAsyncStatus, setCurrentAsyncStatus] = useState<\n    AsynchronousJobStatus<QueryBundleRequest, QueryResultBundle> | undefined\n  >(undefined)\n\n  const {\n    entityId,\n    versionNumber,\n    getInitQueryRequest,\n    getLastQueryRequest,\n    setQuery,\n    resetQuery,\n    removeQueryFilter,\n    removeValueFromQueryFilter,\n    removeSelectedFacet,\n    removeValueFromSelectedFacet,\n  } = useImmutableTableQuery({\n    initQueryRequest,\n    componentIndex,\n    shouldDeepLink,\n    onQueryChange,\n  })\n\n  const lastQueryRequest = useMemo(() => {\n    return getLastQueryRequest()\n  }, [getLastQueryRequest])\n\n  const {\n    data: infiniteData,\n    hasNextPage,\n    fetchPreviousPage,\n    fetchNextPage,\n    isFetchingNextPage,\n    isLoading: queryIsLoading,\n    error,\n    isPreviousData: newQueryIsFetching,\n  } = useInfiniteQueryResultBundle(\n    lastQueryRequest,\n    {\n      // We use `keepPreviousData` because we don't want to clear out the current data when the query is modified via the UI\n      keepPreviousData: true,\n    },\n    setCurrentAsyncStatus,\n  )\n\n  // Indicate if we're fetching data for the first time (queryIsLoading) or if we're fetching data for a brand-new query (newQueryIsFetching)\n  const isLoadingNewBundle = queryIsLoading || newQueryIsFetching\n\n  const { data: entity } = useGetEntity<Table>(entityId, versionNumber)\n\n  /**\n   * Since we're showing an infinite list of data, use custom pagination handling instead of pagination utils provided by\n   * useImmutableTableQuery\n   */\n  const [currentPage, setCurrentPage] = useState<number | 'ALL'>(0)\n\n  async function appendNextPageToResults(): Promise<void> {\n    if (!hasNextPage) {\n      throw new Error(\n        'Called appendNextPageToResults when there is no next page',\n      )\n    }\n    await fetchNextPage()\n    setCurrentPage('ALL')\n  }\n\n  async function goToNextPage(): Promise<void> {\n    if (!hasNextPage) {\n      throw new Error('Called goToNextPage when there is no next page')\n    }\n    if (currentPage === 'ALL') {\n      throw new Error('Cannot go to next page when all pages are displayed')\n    }\n    await fetchNextPage()\n    setCurrentPage(currentPage + 1)\n  }\n\n  const hasPreviousPage = currentPage !== 'ALL' && currentPage > 0\n\n  async function goToPreviousPage(): Promise<void> {\n    if (currentPage === 'ALL') {\n      throw new Error('Cannot go to previous page when all pages are displayed')\n    }\n    if (!hasPreviousPage) {\n      throw new Error('Called goToNextPage when there is no next page')\n    }\n\n    await fetchPreviousPage()\n    setCurrentPage(currentPage - 1)\n  }\n\n  const data: QueryResultBundle | undefined = useMemo(() => {\n    if (\n      infiniteData == null ||\n      infiniteData.pages.length === 0 ||\n      infiniteData.pages[0].responseBody == null\n    ) {\n      return undefined\n    }\n\n    if (currentPage === 'ALL') {\n      // Modify the first page so the result is the concatenation of all the fetched rows.\n      return {\n        ...infiniteData?.pages[0].responseBody,\n        queryResult: {\n          ...infiniteData?.pages[0].responseBody?.queryResult,\n          queryResults: {\n            ...infiniteData?.pages[0].responseBody?.queryResult?.queryResults,\n            rows:\n              infiniteData.pages.flatMap(\n                page => page.responseBody!.queryResult?.queryResults.rows,\n              ) ?? [],\n          },\n        },\n      } as QueryResultBundle\n    }\n\n    return infiniteData?.pages[currentPage].responseBody\n  }, [currentPage, infiniteData])\n\n  useEffect(() => {\n    if (data && onQueryResultBundleChange) {\n      onQueryResultBundleChange(JSON.stringify(data))\n    }\n  }, [data, onQueryResultBundleChange])\n\n  const isFacetsAvailable = data\n    ? isFacetAvailable(data.facets, data.selectColumns)\n    : true\n\n  /**\n   * Remove a particular facet name (e.g. study) and all possible values based on the parameter specified in the url\n   * this is to remove the facet from the charts, search and filter.\n   * @return data: QueryResultBundle\n   */\n  const dataWithLockedColumnFacetRemoved = useMemo(() => {\n    return removeLockedColumnFromFacetData(data, lockedColumn)\n  }, [data, lockedColumn])\n\n  const hasResettableFilters = useMemo(() => {\n    const request = getLastQueryRequest()\n    return isFilteredUtil(request.query, lockedColumn)\n  }, [getLastQueryRequest, lockedColumn])\n\n  const getColumnModel = useCallback(\n    (columnName: string) => {\n      return data?.columnModels?.find(cm => cm.name === columnName) ?? null\n    },\n    [data?.columnModels],\n  )\n\n  const context: InfiniteQueryContextType = {\n    data: dataWithLockedColumnFacetRemoved,\n    isLoadingNewPage: isFetchingNextPage,\n    hasNextPage: !!hasNextPage,\n    hasPreviousPage: hasPreviousPage,\n    isLoadingNewBundle: isLoadingNewBundle,\n    getLastQueryRequest,\n    getInitQueryRequest,\n    error: error,\n    entity,\n    executeQueryRequest: setQuery,\n    isFacetsAvailable,\n    asyncJobStatus: currentAsyncStatus,\n    appendNextPageToResults: appendNextPageToResults,\n    goToNextPage,\n    goToPreviousPage,\n    hasResettableFilters,\n    resetQuery,\n    removeQueryFilter,\n    removeValueFromQueryFilter,\n    removeSelectedFacet,\n    removeValueFromSelectedFacet,\n    lockedColumn,\n    getColumnModel,\n    onViewSharingSettingsClicked,\n  }\n  /**\n   * Render the children without any formatting\n   */\n  const { children } = props\n  return (\n    <QueryContextProvider queryContext={context}>\n      {children}\n    </QueryContextProvider>\n  )\n}\n","import React, { useState } from 'react'\nimport { Renewal, Request } from '@sage-bionetworks/synapse-types'\nimport { AlertProps } from './DataAccessRequestAccessorsFilesForm'\nimport {\n  Alert,\n  Box,\n  Button,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  IconButton,\n  Stack,\n  Typography,\n} from '@mui/material'\nimport IconSvg from '../../IconSvg/IconSvg'\nimport { useUpdateDataAccessRequest } from '../../../synapse-queries'\n\nexport type CancelRequestDataAccessProps = {\n  /* The data access request with unsaved changes */\n  modifiedDataAccessRequest: Request | Renewal | undefined\n  onHide: () => void\n}\n\nfunction CancelRequestDataAccess(props: CancelRequestDataAccessProps) {\n  const { modifiedDataAccessRequest, onHide } = props\n  const [alert, setAlert] = useState<AlertProps | undefined>()\n  const [showCloseBtn, setShowCloseBtn] = useState<boolean>(false)\n\n  const { mutate: updateRequest } = useUpdateDataAccessRequest({\n    onSuccess: () => {\n      onHide()\n    },\n    onError: e => {\n      setAlert({\n        key: 'error',\n        message: `Sorry, there is an error in submitting your request. ${\n          e.reason ? e.reason + '.' : ' '\n        }Please close this dialog and try again later.`,\n      })\n      setShowCloseBtn(true)\n    },\n  })\n\n  function handleSave() {\n    if (modifiedDataAccessRequest) {\n      updateRequest(modifiedDataAccessRequest)\n    }\n  }\n\n  return (\n    <>\n      <DialogTitle>\n        <Stack direction=\"row\" alignItems={'center'} gap={'5px'}>\n          Save Changes\n          <Box sx={{ flexGrow: 1 }} />\n          <IconButton onClick={onHide}>\n            <IconSvg icon={'close'} wrap={false} sx={{ color: 'grey.700' }} />\n          </IconButton>\n        </Stack>\n      </DialogTitle>\n\n      <DialogContent>\n        <Typography variant={'body1'}>\n          Would you like to save your recent changes?\n        </Typography>\n        {alert && <Alert severity={alert.key}>{alert.message}</Alert>}\n      </DialogContent>\n\n      <DialogActions>\n        {!showCloseBtn && (\n          <>\n            <Button variant=\"outlined\" onClick={onHide}>\n              Cancel\n            </Button>\n            <Button\n              variant=\"contained\"\n              onClick={() => {\n                handleSave()\n              }}\n            >\n              Save changes\n            </Button>\n          </>\n        )}\n        {showCloseBtn && (\n          <Button variant=\"contained\" onClick={onHide}>\n            Close\n          </Button>\n        )}\n      </DialogActions>\n    </>\n  )\n}\n\nexport default CancelRequestDataAccess\n","import React from 'react'\nimport { useGetAccessRequirementWikiPageKey } from '../../../synapse-queries'\nimport { useCanShowManagedACTWikiInWizard } from '../AccessRequirementListUtils'\nimport { Grid, Typography } from '@mui/material'\nimport MarkdownSynapse from '../../Markdown/MarkdownSynapse'\n\ntype ManagedACTAccessRequirementFormWikiWrapperProps = React.PropsWithChildren<{\n  managedACTAccessRequirementId: string\n}>\n\n/**\n * Renders the child content next to the wiki associated with the provided ManagedACTAccessRequirement. Utilizes a grid\n * layout where the wiki content will not appear on small screen sizes.\n *\n * @param props\n * @constructor\n */\nexport default function ManagedACTAccessRequirementFormWikiWrapper(\n  props: ManagedACTAccessRequirementFormWikiWrapperProps,\n) {\n  const { children, managedACTAccessRequirementId } = props\n  const { data: wikiPage } = useGetAccessRequirementWikiPageKey(\n    managedACTAccessRequirementId,\n    {\n      enabled: !!managedACTAccessRequirementId,\n    },\n  )\n\n  const canShowWiki = useCanShowManagedACTWikiInWizard()\n\n  return (\n    <Grid container spacing={5}>\n      <Grid\n        item\n        xs={12}\n        md={6}\n        lg={5}\n        sx={{\n          maxHeight: '500px',\n          overflow: 'auto',\n          pr: {\n            xs: 0,\n            md: 1,\n          },\n        }}\n      >\n        {children}\n      </Grid>\n      {canShowWiki && (\n        <Grid\n          item\n          md={6}\n          lg={7}\n          sx={{\n            maxHeight: '500px',\n            overflowY: 'scroll',\n            pr: 1,\n          }}\n        >\n          <Typography variant={'headline3'} sx={{ mb: 2 }}>\n            Instructions\n          </Typography>\n          {wikiPage && (\n            <MarkdownSynapse\n              wikiId={wikiPage.wikiPageId}\n              ownerId={wikiPage.ownerObjectId}\n              objectType={wikiPage.ownerObjectType}\n              loadingSkeletonRowCount={15}\n            />\n          )}\n        </Grid>\n      )}\n    </Grid>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport {\n  ManagedACTAccessRequirement,\n  ResearchProject,\n} from '@sage-bionetworks/synapse-types'\nimport { AlertProps } from './DataAccessRequestAccessorsFilesForm'\nimport {\n  Alert,\n  Box,\n  Button,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  IconButton,\n  Stack,\n  Typography,\n} from '@mui/material'\nimport IconSvg from '../../IconSvg/IconSvg'\nimport {\n  useGetResearchProject,\n  useUpdateResearchProject,\n} from '../../../synapse-queries'\nimport TextField from '../../TextField/TextField'\nimport ManagedACTAccessRequirementFormWikiWrapper from './ManagedACTAccessRequirementFormWikiWrapper'\n\nexport type ResearchProjectFormProps = {\n  /* The access requirement to which the research project refers */\n  managedACTAccessRequirement: ManagedACTAccessRequirement\n  onSave?: (researchProject: ResearchProject) => void\n  onHide?: () => void\n}\n\n/**\n * Step 1 of the Data Access Request/Renewal flow prompts the user to provide information about their ResearchProject.\n */\nexport default function ResearchProjectForm(props: ResearchProjectFormProps) {\n  const { onSave, managedACTAccessRequirement, onHide } = props\n  const [projectLead, setProjectLead] = useState<string | undefined>(undefined)\n  const [institution, setInstitution] = useState<string | undefined>(undefined)\n  const [intendedDataUseStatement, setIntendedDataUseStatement] = useState<\n    string | undefined\n  >(undefined)\n  const [alert, setAlert] = useState<AlertProps | undefined>()\n\n  const { data: existingResearchProject, isLoading: isLoadingInitialData } =\n    useGetResearchProject(String(managedACTAccessRequirement.id), {\n      // Infinite staleTime ensures this won't be refetched unless explicitly invalidated by the mutation\n      staleTime: Infinity,\n      onError: e => {\n        console.log(\n          'RequestDataAccessStep1: Error getting research project data: ',\n          e,\n        )\n      },\n    })\n\n  // Populate the form with existing data if it exists\n  useEffect(() => {\n    if (projectLead == undefined && existingResearchProject?.projectLead) {\n      setProjectLead(existingResearchProject?.projectLead)\n    }\n    if (institution == undefined && existingResearchProject?.institution) {\n      setInstitution(existingResearchProject?.institution)\n    }\n    if (\n      intendedDataUseStatement == undefined &&\n      existingResearchProject?.intendedDataUseStatement\n    ) {\n      setIntendedDataUseStatement(\n        existingResearchProject?.intendedDataUseStatement,\n      )\n    }\n  }, [\n    existingResearchProject?.institution,\n    existingResearchProject?.intendedDataUseStatement,\n    existingResearchProject?.projectLead,\n    institution,\n    intendedDataUseStatement,\n    projectLead,\n  ])\n\n  const { mutate, isLoading: isLoadingUpdate } = useUpdateResearchProject({\n    onSuccess: data => {\n      if (onSave) {\n        onSave(data)\n      }\n    },\n    onError: e => {\n      console.log(\n        'RequestDataAccessStep1: Error updating research project data: ',\n        e,\n      )\n      setAlert({\n        key: 'error',\n        message: getErrorMessage(e.reason),\n      })\n    },\n  })\n\n  const isLoading = isLoadingInitialData || isLoadingUpdate\n\n  const getErrorMessage = (reason: string = '') => {\n    return (\n      <>\n        <strong>Unable to update research project data.</strong>\n        <br />\n        {reason}\n      </>\n    )\n  }\n\n  const handleSubmit = (e: React.FormEvent<HTMLElement>) => {\n    e.preventDefault()\n    mutate({\n      ...existingResearchProject,\n      accessRequirementId: String(managedACTAccessRequirement.id),\n      institution: institution,\n      projectLead: projectLead,\n      intendedDataUseStatement: intendedDataUseStatement,\n    })\n  }\n\n  return (\n    <>\n      <DialogTitle>\n        <Stack direction=\"row\" alignItems={'center'} gap={'5px'}>\n          Request Access\n          <Box sx={{ flexGrow: 1 }} />\n          <IconButton onClick={onHide}>\n            <IconSvg icon={'close'} wrap={false} sx={{ color: 'grey.700' }} />\n          </IconButton>\n        </Stack>\n      </DialogTitle>\n      <DialogContent>\n        <ManagedACTAccessRequirementFormWikiWrapper\n          managedACTAccessRequirementId={String(managedACTAccessRequirement.id)}\n        >\n          <form onSubmit={handleSubmit}>\n            <Typography variant={'body1'}>\n              Please tell us about your project.\n            </Typography>\n            <TextField\n              id={'project-lead'}\n              label={'Project Lead'}\n              disabled={isLoading}\n              type=\"text\"\n              value={projectLead}\n              required\n              onChange={e => setProjectLead(e.target.value)}\n            />\n            <TextField\n              id={'institution'}\n              label={'Institution'}\n              type=\"text\"\n              disabled={isLoading}\n              value={institution}\n              required\n              onChange={e => setInstitution(e.target.value)}\n            />\n\n            {managedACTAccessRequirement.isIDURequired && (\n              <TextField\n                id={'data-use'}\n                label={\n                  <>\n                    Intended Data Use Statement -\n                    {managedACTAccessRequirement.isIDUPublic && (\n                      <i id={'idu-visible'}>\n                        this will be visible to the public\n                      </i>\n                    )}\n                  </>\n                }\n                required\n                multiline\n                rows={9}\n                disabled={isLoading}\n                value={intendedDataUseStatement}\n                onChange={e => setIntendedDataUseStatement(e.target.value)}\n              />\n            )}\n          </form>\n        </ManagedACTAccessRequirementFormWikiWrapper>\n        {alert && <Alert severity={alert.key}>{alert.message}</Alert>}\n      </DialogContent>\n      <DialogActions>\n        <Button variant=\"outlined\" disabled={isLoading} onClick={onHide}>\n          Cancel\n        </Button>\n        <Button\n          variant=\"contained\"\n          type=\"submit\"\n          disabled={isLoading}\n          onClick={handleSubmit}\n        >\n          {isLoadingUpdate ? 'Saving...' : 'Save changes'}\n        </Button>\n      </DialogActions>\n    </>\n  )\n}\n","import React from 'react'\nimport { Form } from 'react-bootstrap'\nimport { Button, Stack, Typography } from '@mui/material'\nimport UserCard from '../../UserCard/UserCard'\nimport {\n  AccessorChange,\n  AccessType,\n  TYPE_FILTER,\n  UserGroupHeader,\n} from '@sage-bionetworks/synapse-types'\nimport IconSvg from '../../IconSvg/IconSvg'\nimport { RadioGroup } from '../../widgets/RadioGroup'\nimport { useGetCurrentUserProfile } from '../../../synapse-queries'\nimport UserSearchBoxV2 from '../../UserSearchBoxV2'\n\nexport type DataAccessRequestAccessorsEditorProps = {\n  /* The current set of accessor changes for a data access request */\n  accessorChanges: AccessorChange[]\n  /* Invoked when the set of accessors is updated */\n  onChange: (updater: (prevValue: AccessorChange[]) => AccessorChange[]) => void\n  /* Whether this request is a renewal */\n  isRenewal: boolean\n  /* Text to show to inform the user about requirements accessors may need to meet */\n  helpText: React.ReactNode\n}\n\n/**\n * Component that handles adding/removing/revoking accessors for a data access request.\n */\nexport default function DataAccessRequestAccessorsEditor(\n  props: DataAccessRequestAccessorsEditorProps,\n) {\n  const { accessorChanges, onChange, isRenewal, helpText } = props\n  const { data: user } = useGetCurrentUserProfile()\n\n  const onSelectUserCallback = (\n    id: string | null,\n    ugh: UserGroupHeader | null,\n  ) => {\n    if (ugh) {\n      onChange(previousValue => {\n        const currentAccessorIds = previousValue.map(ac => ac.userId)\n        // if user is not already in the accessor list (prevent duplicates in accessor list)\n        if (!currentAccessorIds.includes(ugh.ownerId)) {\n          const selectedAccessor: AccessorChange = {\n            userId: ugh.ownerId,\n            type: AccessType.GAIN_ACCESS,\n          }\n          previousValue.push(selectedAccessor)\n        }\n        return previousValue\n      })\n    }\n  }\n\n  const onClearAccessor = (userId: string) => {\n    onChange(previousValue => {\n      return previousValue.filter(item => item.userId !== userId)\n    })\n  }\n\n  // For renewal only\n  const onAccessorAccessTypeChange = (\n    accessType: AccessType,\n    userId: string,\n  ) => {\n    onChange(previousValue => {\n      const indexOfUser = previousValue.findIndex(\n        item => item.userId === userId,\n      )\n      previousValue[indexOfUser].type = accessType\n      return previousValue\n    })\n  }\n\n  return (\n    <>\n      <Form.Group>\n        <Typography variant={'headline3'} sx={{ mt: 4, mb: 2 }}>\n          Data Requesters\n        </Typography>\n        <Typography\n          variant={'body1'}\n          sx={{ mb: 1 }}\n          className={'requester-label'}\n        >\n          {helpText}\n        </Typography>\n        <UserSearchBoxV2\n          inputId={'requesters'}\n          typeFilter={TYPE_FILTER.USERS_ONLY}\n          onChange={onSelectUserCallback}\n          filterPredicate={userGroupHeader =>\n            !accessorChanges\n              .map(ac => ac.userId)\n              .includes(userGroupHeader.ownerId)\n          }\n          value={null}\n        />\n      </Form.Group>\n      <Form.Group>\n        <Stack gap={1}>\n          {accessorChanges.map((ac, i) => {\n            return (\n              <div className={'list-items'} key={`accessor-${i}`}>\n                <UserCard\n                  size={'SMALL USER CARD'}\n                  ownerId={ac.userId}\n                  showAccountLevelIcon={true}\n                  disableLink={true}\n                  showFullName={true}\n                />\n                {\n                  // only display delete button if the user profile is not the current user and has not had access before\n                  user?.ownerId !== ac.userId &&\n                    ac.type === AccessType.GAIN_ACCESS && (\n                      <Button\n                        aria-label={`Remove user`}\n                        variant={'text'}\n                        sx={{\n                          ml: 1,\n                          px: 0,\n                        }}\n                        onClick={() => onClearAccessor(ac.userId)}\n                      >\n                        <IconSvg icon=\"clear\" />\n                      </Button>\n                    )\n                }\n                {\n                  // Renewal/Revoke data access, only display if isRenewal is true\n                  // TODO: It's possible to that the accessors list is in an illegal state with no way to recover -- see PLFM-7893\n                  isRenewal &&\n                    user?.ownerId !== ac.userId &&\n                    ac.type !== AccessType.GAIN_ACCESS && (\n                      <>\n                        <RadioGroup\n                          id={`accessor-renewal-${ac.userId}`}\n                          value={ac.type}\n                          options={[\n                            {\n                              label: 'Renew',\n                              value: AccessType.RENEW_ACCESS,\n                            },\n                            {\n                              label: 'Revoke',\n                              value: AccessType.REVOKE_ACCESS,\n                            },\n                          ]}\n                          onChange={(value: string) =>\n                            onAccessorAccessTypeChange(\n                              value as AccessType,\n                              ac.userId,\n                            )\n                          }\n                        ></RadioGroup>\n                      </>\n                    )\n                }\n              </div>\n            )\n          })}\n        </Stack>\n      </Form.Group>\n    </>\n  )\n}\n","import React from 'react'\nimport { Button, ButtonProps } from '@mui/material'\nimport {\n  BatchFileRequest,\n  FileHandleAssociation,\n} from '@sage-bionetworks/synapse-types'\nimport { getFiles } from '../synapse-client/SynapseClient'\nimport { useSynapseContext } from '../utils/context/SynapseContext'\n\nexport type DirectFileDownloadButtonProps = Omit<ButtonProps, 'onClick'> & {\n  fileHandleAssociation: FileHandleAssociation\n  fileName: string | undefined\n}\n\nfunction DirectDownloadButton(props: DirectFileDownloadButtonProps) {\n  const { fileHandleAssociation, fileName, ...buttonProps } = props\n  const { accessToken } = useSynapseContext()\n\n  const getDownloadLink = async () => {\n    if (!fileHandleAssociation.fileHandleId || !accessToken) return\n\n    const batchFileRequest: BatchFileRequest = {\n      requestedFiles: [fileHandleAssociation],\n      includePreSignedURLs: true,\n      includeFileHandles: false,\n      includePreviewPreSignedURLs: false,\n    }\n    const file = await getFiles(batchFileRequest, accessToken)\n    const preSignedURL = file.requestedFiles[0].preSignedURL\n    if (!preSignedURL) {\n      console.log('Fail to get file download link')\n    } else {\n      window.open(preSignedURL)\n    }\n  }\n\n  return (\n    <Button\n      {...buttonProps}\n      onClick={() => {\n        getDownloadLink()\n      }}\n    >\n      {fileName}\n    </Button>\n  )\n}\n\nexport default DirectDownloadButton\n","import {\n  FileHandleAssociation,\n  UploadCallbackResp,\n} from '@sage-bionetworks/synapse-types'\nimport { useGetFileBatch } from '../../../synapse-queries/file/useFiles'\nimport { Box, Button } from '@mui/material'\nimport FileUpload from '../../FileUpload/FileUpload'\nimport IconSvg from '../../IconSvg/IconSvg'\nimport DirectDownloadButton from '../../DirectDownloadButton'\nimport React, { useState } from 'react'\n\ntype UploadDocumentFieldProps = {\n  id: string\n  documentName: string\n  uploadCallback: (data: UploadCallbackResp) => void\n  /* The fileHandleAssociations corresponding to an existing upload */\n  fileHandleAssociations?: FileHandleAssociation[]\n  isMultiFileUpload?: boolean\n  onClearAttachment?: (fileHandleId: string) => void\n  isLoading?: boolean\n}\n\nexport function UploadDocumentField(props: UploadDocumentFieldProps) {\n  const {\n    fileHandleAssociations = [],\n    uploadCallback,\n    id,\n    documentName,\n    isMultiFileUpload = false,\n    onClearAttachment,\n    isLoading = false,\n  } = props\n  const [isUploading, setIsUploading] = useState(false)\n\n  const { data: fileData } = useGetFileBatch(\n    {\n      includeFileHandles: true,\n      includePreSignedURLs: false,\n      includePreviewPreSignedURLs: false,\n      requestedFiles: fileHandleAssociations,\n    },\n    { enabled: fileHandleAssociations.length > 0 },\n  )\n\n  return (\n    <Box\n      id={id}\n      display={'flex'}\n      flexDirection={isMultiFileUpload ? 'column' : 'row'}\n      alignItems={isMultiFileUpload ? 'flex-start' : 'center'}\n      justifyContent={'flex-start'}\n      gap={2}\n      sx={{ my: 2 }}\n    >\n      <FileUpload\n        id={`${id}-upload`}\n        onUploadStart={() => setIsUploading(true)}\n        onComplete={res => {\n          setIsUploading(false)\n          uploadCallback(res)\n        }}\n        label={`Upload ${documentName}`}\n        buttonProps={{\n          disabled: isLoading,\n          variant: 'outlined',\n          endIcon: <IconSvg icon={'upload'} wrap={false} />,\n        }}\n      />\n      {fileHandleAssociations.map((fha, index) => {\n        const fileHandle = fileData?.requestedFiles.find(\n          result => result.fileHandleId === fha.fileHandleId,\n        )?.fileHandle\n        return (\n          <Box key={fha.fileHandleId}>\n            <DirectDownloadButton\n              key={index}\n              id={`${id}-download-${index}`}\n              variant={'text'}\n              endIcon={<IconSvg icon={'download'} wrap={false} />}\n              color={'primary'}\n              fileHandleAssociation={fha}\n              fileName={fileHandle?.fileName}\n              sx={{\n                /* Do not apply text-transform because the text is a raw filename */\n                textTransform: 'none',\n              }}\n            />\n            {onClearAttachment && (\n              <Button\n                className={'clear-x'}\n                variant={'text'}\n                onClick={() => onClearAttachment(fha.fileHandleId)}\n              >\n                <IconSvg icon=\"clear\" />\n              </Button>\n            )}\n          </Box>\n        )\n      })}\n      {isUploading && (\n        <Button\n          disabled={true}\n          variant={'text'}\n          endIcon={<IconSvg icon={'download'} wrap={false} />}\n        >\n          Uploading...\n        </Button>\n      )}\n    </Box>\n  )\n}\n","import { Box, Typography } from '@mui/material'\nimport DirectDownloadButton from '../../DirectDownloadButton'\nimport { FileHandleAssociation } from '@sage-bionetworks/synapse-types'\nimport IconSvg from '../../IconSvg/IconSvg'\nimport React from 'react'\nimport { useGetFileBatch } from '../../../synapse-queries/file/useFiles'\n\nexport type DownloadDocumentTemplateProps = {\n  title: React.ReactNode\n  description: React.ReactNode\n  fileHandleAssociation: FileHandleAssociation\n  downloadButtonText: string\n}\n\nexport default function DocumentTemplate(props: DownloadDocumentTemplateProps) {\n  const { title, description, fileHandleAssociation, downloadButtonText } =\n    props\n\n  // get batch of files\n  const { data: fileData } = useGetFileBatch(\n    {\n      requestedFiles: [fileHandleAssociation],\n      includeFileHandles: true,\n      includePreSignedURLs: false,\n      includePreviewPreSignedURLs: false,\n    },\n    {\n      enabled: !!fileHandleAssociation,\n    },\n  )\n\n  const fileName = fileData?.requestedFiles[0]?.fileHandle?.fileName\n\n  return (\n    <>\n      <Typography variant={'headline3'} sx={{ mt: 4, mb: 2 }}>\n        {title}\n      </Typography>\n      <Typography variant={'body1'} sx={{ my: 2 }}>\n        {description}\n      </Typography>\n      <Typography variant={'body1'}>Download this file:</Typography>\n      <Typography variant={'smallText1'} sx={{ my: 0.5 }}>\n        <strong>{fileName}</strong>\n      </Typography>\n      <Box\n        display={'flex'}\n        alignItems={'center'}\n        justifyContent={'flex-start'}\n        gap={2}\n        sx={{\n          backgroundColor: 'tertiary.100',\n          p: 2.5,\n          my: 2,\n          flexWrap: { xs: 'nowrap', md: 'wrap-reverse' },\n        }}\n      >\n        <DirectDownloadButton\n          variant={'outlined'}\n          fileHandleAssociation={fileHandleAssociation}\n          fileName={downloadButtonText}\n          endIcon={<IconSvg icon={'download'} wrap={false} />}\n          sx={{ whiteSpace: 'nowrap', flexShrink: 0 }}\n        />\n        <Typography variant={'body1'}>\n          You must fill out and upload this exact version of the template.{' '}\n          <strong>No other versions will be accepted.</strong>\n        </Typography>\n      </Box>\n    </>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport {\n  AccessorChange,\n  AccessType,\n  FileHandleAssociateType,\n  FileHandleAssociation,\n  FileUploadComplete,\n  ManagedACTAccessRequirement,\n  Renewal,\n  Request,\n  RestrictableObjectType,\n  UploadCallbackResp,\n} from '@sage-bionetworks/synapse-types'\nimport IconSvg from '../../IconSvg/IconSvg'\nimport {\n  Alert,\n  AlertProps as MuiAlertProps,\n  Box,\n  Button,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Divider,\n  IconButton,\n  Link,\n  Stack,\n  Typography,\n} from '@mui/material'\nimport {\n  useGetCurrentUserProfile,\n  useGetDataAccessRequestForUpdate,\n  useSubmitDataAccessRequest,\n  useUpdateDataAccessRequest,\n} from '../../../synapse-queries'\nimport { SynapseClientError } from '../../../utils/SynapseClientError'\nimport TextField from '../../TextField/TextField'\nimport DataAccessRequestAccessorsEditor, {\n  DataAccessRequestAccessorsEditorProps,\n} from './DataAccessRequestAccessorsEditor'\nimport { UploadDocumentField } from './UploadDocumentField'\nimport DocumentTemplate from './DocumentTemplate'\nimport ManagedACTAccessRequirementFormWikiWrapper from './ManagedACTAccessRequirementFormWikiWrapper'\nimport { SynapseErrorBoundary } from '../../error/ErrorBanner'\nimport { deepEquals } from '@rjsf/utils'\nimport { useSynapseContext } from '../../../utils'\n\nfunction AccessorRequirementHelpText(props: {\n  managedACTAccessRequirement: ManagedACTAccessRequirement\n}) {\n  const { managedACTAccessRequirement } = props\n  let link: string = ''\n  let msg: string = ''\n\n  if (\n    managedACTAccessRequirement.isCertifiedUserRequired &&\n    managedACTAccessRequirement.isValidatedProfileRequired\n  ) {\n    link = 'https://help.synapse.org/docs/User-Types.2007072795.html'\n    msg =\n      'All data requesters must be certified users and have a validated user profile.'\n  } else if (managedACTAccessRequirement.isCertifiedUserRequired) {\n    link =\n      'https://help.synapse.org/docs/User-Types.2007072795.html#UserAccountTiers-CertifiedUsers'\n    msg = 'All data requesters must be a certified user.'\n  } else if (managedACTAccessRequirement.isValidatedProfileRequired) {\n    link =\n      'https://help.synapse.org/docs/User-Types.2007072795.html#UserAccountTiers-ValidatedUsers'\n    msg = 'All data requesters must have a validated user profile.'\n  }\n  return link && msg ? (\n    <>\n      {managedACTAccessRequirement.isDUCRequired ? (\n        <>\n          This list should match those listed on your DUC.\n          <br />\n        </>\n      ) : (\n        ''\n      )}\n      {msg}{' '}\n      <Link href={link} target={'_blank'} rel={'noreferrer'}>\n        Learn more\n      </Link>\n    </>\n  ) : (\n    <></>\n  )\n}\n\nexport type DataAccessRequestAccessorsFilesFormProps = {\n  /**\n   * The ID of the entity of interest. This corresponds to the subjectId of the {@link CreateSubmissionRequest}\n   */\n  entityId: string\n  /* The access requirement to which the user is requesting access */\n  managedACTAccessRequirement: ManagedACTAccessRequirement\n  onSubmissionCreated: () => void\n  researchProjectId: string\n  onHide: () => void\n  /* Callback invoked when the user clicks cancel. The unsaved, modified dataAccessRequest is returned so the calling component may prompt the user to save this data */\n  onCancel: (modifiedDataAccessRequest: Request | Renewal) => void\n}\n\nexport type AlertProps = {\n  key: MuiAlertProps['severity']\n  message: string | JSX.Element\n}\n\n/**\n * Step 2 of the Data Access Request/Renewal flow prompts the user to\n * - Manage the list of accessors, i.e. Synapse users who will gain, renew, or lose access\n * - Download and upload documents required by the Access Requirement\n * - If a renewal, provide publications and a summary of use statement.\n *\n * The component expects a researchProjectId, which should reference complete researchProject created in Step 1.\n * The user may click a \"Submit\" button, which will save the request and issue a data access submission that references\n * the requestId created/updated in this component.\n */\nexport default function DataAccessRequestAccessorsFilesForm(\n  props: DataAccessRequestAccessorsFilesFormProps,\n) {\n  const {\n    onSubmissionCreated,\n    managedACTAccessRequirement,\n    entityId,\n    researchProjectId,\n    onCancel,\n  } = props\n  const { accessToken } = useSynapseContext()\n  const isLoggedIn = Boolean(accessToken)\n  const { data: user } = useGetCurrentUserProfile({ enabled: isLoggedIn })\n  const [alert, setAlert] = useState<AlertProps | undefined>()\n  const [accessorChanges, setAccessorChanges] = useState<\n    AccessorChange[] | undefined\n  >()\n  const [summaryOfUse, setSummaryOfUse] = useState<string | undefined>()\n  const [publication, setPublication] = useState<string | undefined>()\n\n  const { data: dataAccessRequest, isLoading: isLoadingGetDataAccessRequest } =\n    useGetDataAccessRequestForUpdate(String(managedACTAccessRequirement.id), {\n      enabled: isLoggedIn,\n      // Infinite staleTime ensures this won't get re-fetched unless explicitly invalidated by the mutation\n      staleTime: Infinity,\n      // This call should never fail, so if we run into an error, throwing to an error boundary is acceptable\n      useErrorBoundary: true,\n    })\n\n  const isRenewal =\n    dataAccessRequest?.concreteType ===\n    'org.sagebionetworks.repo.model.dataaccess.Renewal'\n\n  function onError(e: SynapseClientError) {\n    console.log('RequestDataAccessStep2: Error updating form', e)\n    setAlert({\n      key: 'error',\n      message: getErrorMessage(e.reason),\n    })\n  }\n\n  const { mutate: submit, isLoading: isLoadingSubmitDataAccessRequest } =\n    useSubmitDataAccessRequest({\n      onSuccess: () => {\n        onSubmissionCreated()\n      },\n      onError: onError,\n    })\n\n  const {\n    mutateAsync: updateRequestAsync,\n    isLoading: isLoadingUpdateDataAccessRequest,\n  } = useUpdateDataAccessRequest({\n    onError: onError,\n  })\n\n  const isLoading =\n    isLoadingGetDataAccessRequest ||\n    isLoadingUpdateDataAccessRequest ||\n    isLoadingSubmitDataAccessRequest\n\n  /**\n   * This effect comprises a collection of updates we should immediately apply to a data access request.\n   */\n  useEffect(() => {\n    if (dataAccessRequest && user) {\n      let shouldUpdate = false\n\n      // Attach the researchProjectId to the request\n      if (!dataAccessRequest.researchProjectId) {\n        dataAccessRequest.researchProjectId = researchProjectId\n        shouldUpdate = true\n      }\n\n      // Add the current user with GAIN_ACCESS to the list of accessors\n      const currentUserWithGainAccess: AccessorChange = {\n        userId: user.ownerId,\n        type: isRenewal ? AccessType.RENEW_ACCESS : AccessType.GAIN_ACCESS,\n      }\n      if (\n        !dataAccessRequest.accessorChanges ||\n        !dataAccessRequest.accessorChanges.find(item =>\n          deepEquals(item, currentUserWithGainAccess),\n        )\n      ) {\n        dataAccessRequest.accessorChanges = [\n          currentUserWithGainAccess,\n          ...(dataAccessRequest.accessorChanges || []),\n        ]\n        shouldUpdate = true\n      }\n\n      // SWC-5765: Filter out duplicate accessors\n      const seen = new Set()\n      const uniqueAccessorChanges = dataAccessRequest.accessorChanges.filter(\n        accessorChange => {\n          return seen.has(accessorChange.userId)\n            ? false\n            : seen.add(accessorChange.userId)\n        },\n      )\n      if (\n        uniqueAccessorChanges.length !==\n        dataAccessRequest.accessorChanges.length\n      ) {\n        dataAccessRequest.accessorChanges = uniqueAccessorChanges\n        shouldUpdate = true\n      }\n\n      if (shouldUpdate) {\n        updateRequestAsync(dataAccessRequest)\n      }\n    }\n  }, [\n    dataAccessRequest,\n    isRenewal,\n    researchProjectId,\n    updateRequestAsync,\n    user,\n  ])\n\n  /**\n   * Fields other than uploaded files are NOT immediately synced with the server. Set local state if these values exist in the\n   * fetched object, and no value exists in local state.\n   */\n  useEffect(() => {\n    if (dataAccessRequest) {\n      if (dataAccessRequest.accessorChanges && accessorChanges == undefined) {\n        setAccessorChanges(dataAccessRequest.accessorChanges)\n      }\n      if (\n        isRenewal &&\n        dataAccessRequest.publication &&\n        publication == undefined\n      ) {\n        setPublication(dataAccessRequest.publication)\n      }\n      if (\n        isRenewal &&\n        dataAccessRequest.summaryOfUse &&\n        summaryOfUse == undefined\n      ) {\n        setSummaryOfUse(dataAccessRequest.summaryOfUse)\n      }\n    }\n  }, [dataAccessRequest])\n\n  function getDataAccessRequestWithLocalState(): Request | Renewal {\n    return {\n      ...dataAccessRequest,\n      // append local state to the request\n      accessorChanges: accessorChanges,\n      publication,\n      summaryOfUse,\n    } as Request | Renewal\n  }\n\n  async function handleSubmit() {\n    if (dataAccessRequest) {\n      // Save the request\n      const requestObject = await updateRequestAsync(\n        getDataAccessRequestWithLocalState(),\n      )\n      // Create a submission and attach the request\n      submit({\n        request: {\n          requestId: requestObject.id,\n          requestEtag: requestObject.etag,\n          subjectId: entityId,\n          subjectType: RestrictableObjectType.ENTITY,\n        },\n        accessRequirementId: String(managedACTAccessRequirement.id),\n      })\n    }\n  }\n\n  const getErrorMessage = (reason: string = '') => {\n    return (\n      <>\n        <strong>Sorry, there is an error in submitting your request.</strong>\n        <br />\n        {reason}\n      </>\n    )\n  }\n\n  const onAccessorChange: DataAccessRequestAccessorsEditorProps['onChange'] =\n    updater => {\n      // Copy the array so the caller doesn't have to worry about immutability\n      setAccessorChanges([...updater(accessorChanges || [])])\n    }\n\n  const onClearAttachment = (fid: string) => {\n    updateRequestAsync({\n      ...dataAccessRequest!,\n      attachments: dataAccessRequest!.attachments?.filter(item => item !== fid),\n    })\n  }\n\n  const uploadCallback = (\n    data: UploadCallbackResp,\n    context: keyof Pick<\n      Request,\n      'attachments' | 'irbFileHandleId' | 'ducFileHandleId'\n    >,\n  ) => {\n    if (data.resp && data.success) {\n      // Files are uploaded and synced with the server immediately\n      const uploadResponse: FileUploadComplete = data.resp\n      if (context === 'attachments') {\n        updateRequestAsync({\n          ...dataAccessRequest!,\n          attachments: [\n            ...(dataAccessRequest!.attachments || []),\n            uploadResponse.fileHandleId,\n          ],\n        })\n      } else {\n        updateRequestAsync({\n          ...dataAccessRequest!,\n          [context]: uploadResponse.fileHandleId,\n        })\n      }\n    } else if (!data.success && data.error) {\n      // show the error\n      console.log(\n        'RequestDataAccessStep2: Error uploading the file',\n        data.error,\n      )\n      setAlert({\n        key: 'error',\n        message: getErrorMessage(data.error.reason),\n      })\n    }\n  }\n\n  const ducFileHandleAssociation: FileHandleAssociation[] =\n    dataAccessRequest?.ducFileHandleId\n      ? [\n          {\n            fileHandleId: dataAccessRequest?.ducFileHandleId,\n            associateObjectType:\n              FileHandleAssociateType.DataAccessRequestAttachment,\n            associateObjectId: String(dataAccessRequest.id),\n          },\n        ]\n      : []\n  const irbFileHandleAssociation: FileHandleAssociation[] =\n    dataAccessRequest?.irbFileHandleId\n      ? [\n          {\n            fileHandleId: dataAccessRequest.irbFileHandleId,\n            associateObjectType:\n              FileHandleAssociateType.DataAccessRequestAttachment,\n            associateObjectId: String(dataAccessRequest.id),\n          },\n        ]\n      : []\n\n  const attachmentFileHandleAssociations: FileHandleAssociation[] =\n    (dataAccessRequest?.attachments || []).map(attachmentFileHandleId => ({\n      fileHandleId: attachmentFileHandleId,\n      associateObjectType: FileHandleAssociateType.DataAccessRequestAttachment,\n      associateObjectId: String(dataAccessRequest!.id),\n    })) ?? []\n\n  return (\n    <>\n      <DialogTitle>\n        <Stack direction=\"row\" alignItems={'center'} gap={'5px'}>\n          Request Access\n          <Box sx={{ flexGrow: 1 }} />\n          <IconButton onClick={props.onHide}>\n            <IconSvg icon={'close'} wrap={false} sx={{ color: 'grey.700' }} />\n          </IconButton>\n        </Stack>\n      </DialogTitle>\n      <DialogContent>\n        <ManagedACTAccessRequirementFormWikiWrapper\n          managedACTAccessRequirementId={String(managedACTAccessRequirement.id)}\n        >\n          <Box\n            component={'form'}\n            sx={{\n              // Must set a minHeight to ensure the user picker in the DataAccessRequestAccessorsEditor doesn't get cut off\n              minHeight: '475px',\n            }}\n            onSubmit={e => e.preventDefault()}\n          >\n            <Typography variant={'body1'} sx={{ mb: 2 }}>\n              Please provide the information below to submit the request for\n              access.\n            </Typography>\n\n            {dataAccessRequest && user && (\n              <DataAccessRequestAccessorsEditor\n                accessorChanges={accessorChanges || []}\n                onChange={onAccessorChange}\n                isRenewal={isRenewal}\n                helpText={\n                  <AccessorRequirementHelpText\n                    managedACTAccessRequirement={managedACTAccessRequirement}\n                  />\n                }\n              />\n            )}\n\n            {(managedACTAccessRequirement?.isDUCRequired ||\n              managedACTAccessRequirement?.isIRBApprovalRequired ||\n              managedACTAccessRequirement?.areOtherAttachmentsRequired ||\n              isRenewal) && <Divider sx={{ my: 4 }} />}\n            {/* DUC */}\n            {managedACTAccessRequirement?.isDUCRequired && (\n              <>\n                {managedACTAccessRequirement?.ducTemplateFileHandleId && (\n                  <DocumentTemplate\n                    title={'Download DUC Template'}\n                    description={\n                      'As a first step, you will need to download the most current version of the Data Use Certificate.'\n                    }\n                    fileHandleAssociation={{\n                      fileHandleId:\n                        managedACTAccessRequirement.ducTemplateFileHandleId,\n                      associateObjectType:\n                        FileHandleAssociateType.AccessRequirementAttachment,\n                      associateObjectId: String(managedACTAccessRequirement.id),\n                    }}\n                    downloadButtonText={'Download DUC Template'}\n                  />\n                )}\n                <Typography variant={'headline3'} sx={{ mt: 4, mb: 2 }}>\n                  Fill out and upload a Data Use Certificate\n                </Typography>\n                <Typography variant={'body1'} sx={{ my: 2 }}>\n                  You must download and fill out a Data Use Certificate (DUC).\n                  Be sure to upload the completed DUC below once you&apos;ve\n                  completed it.\n                </Typography>\n                <Typography variant={'body1'} component={'ol'}>\n                  <li>Download the DUC template file.</li>\n                  <li>\n                    Fill out the DUC template, following the instructions in the\n                    file.\n                  </li>\n                  <li>\n                    Upload the completed certificate using the button below:\n                  </li>\n                </Typography>\n                <SynapseErrorBoundary>\n                  <UploadDocumentField\n                    id={'duc'}\n                    isLoading={isLoading}\n                    uploadCallback={resp =>\n                      uploadCallback(resp, 'ducFileHandleId')\n                    }\n                    documentName={'Data Use Certificate'}\n                    fileHandleAssociations={ducFileHandleAssociation}\n                  />\n                </SynapseErrorBoundary>\n                {(managedACTAccessRequirement?.isIRBApprovalRequired ||\n                  managedACTAccessRequirement?.areOtherAttachmentsRequired ||\n                  isRenewal) && <Divider sx={{ my: 4 }} />}\n              </>\n            )}\n\n            {/* IRB */}\n            {managedACTAccessRequirement?.isIRBApprovalRequired && (\n              <>\n                <Typography variant={'headline3'} sx={{ my: 2 }}>\n                  IRB Approval\n                </Typography>\n                <Typography variant={'body1'} sx={{ my: 2 }}>\n                  Upload a signed IRB letter on institutional letterhead. The\n                  letter must include the names of all the datasets requested,\n                  as well as the names of the data requesters above. Use the\n                  button below to upload the document.\n                </Typography>\n                <SynapseErrorBoundary>\n                  <UploadDocumentField\n                    id={'irb'}\n                    isLoading={isLoading}\n                    documentName={'IRB Approval Letter'}\n                    uploadCallback={resp =>\n                      uploadCallback(resp, 'irbFileHandleId')\n                    }\n                    fileHandleAssociations={irbFileHandleAssociation}\n                  />\n                </SynapseErrorBoundary>\n                {(managedACTAccessRequirement?.areOtherAttachmentsRequired ||\n                  isRenewal) && <Divider sx={{ my: 4 }} />}\n              </>\n            )}\n\n            {\n              /* Attachments */\n              managedACTAccessRequirement?.areOtherAttachmentsRequired && (\n                <>\n                  <Typography variant={'headline3'} sx={{ my: 2 }}>\n                    Upload other required documents\n                  </Typography>\n                  <Typography variant={'body1'} sx={{ my: 2 }}>\n                    You must upload other required documents. Please review the\n                    instructions to gain data access to determine which\n                    documents must also be uploaded.\n                  </Typography>\n                  <SynapseErrorBoundary>\n                    <UploadDocumentField\n                      id={'file-attachment'}\n                      isLoading={isLoading}\n                      documentName={'Attachment'}\n                      uploadCallback={res => uploadCallback(res, 'attachments')}\n                      isMultiFileUpload={true}\n                      fileHandleAssociations={attachmentFileHandleAssociations}\n                      onClearAttachment={onClearAttachment}\n                    />\n                  </SynapseErrorBoundary>\n\n                  {isRenewal && <Divider sx={{ my: 4 }} />}\n                </>\n              )\n            }\n\n            {\n              // Publications & Summary of Use\n              isRenewal && (\n                <>\n                  <TextField\n                    id={'publications'}\n                    label={'Publication(s)'}\n                    disabled={isLoadingSubmitDataAccessRequest}\n                    multiline\n                    rows={3}\n                    value={publication}\n                    onChange={(e: React.ChangeEvent<HTMLTextAreaElement>) =>\n                      setPublication(e.target.value)\n                    }\n                  />\n                  <TextField\n                    id={'summaryOfUse'}\n                    label={'Summary of use'}\n                    value={summaryOfUse}\n                    disabled={isLoadingSubmitDataAccessRequest}\n                    multiline\n                    rows={3}\n                    onChange={(e: React.ChangeEvent<HTMLTextAreaElement>) =>\n                      setSummaryOfUse(e.target.value)\n                    }\n                  />\n                </>\n              )\n            }\n          </Box>\n        </ManagedACTAccessRequirementFormWikiWrapper>\n        {alert && <Alert severity={alert.key}>{alert.message}</Alert>}\n      </DialogContent>\n      <DialogActions>\n        {\n          <>\n            <Button\n              variant=\"outlined\"\n              disabled={isLoadingSubmitDataAccessRequest}\n              onClick={() => {\n                if (dataAccessRequest) {\n                  // include the local state in the onCancel callback so the user may save their changes\n                  onCancel(getDataAccessRequestWithLocalState())\n                }\n              }}\n            >\n              Cancel\n            </Button>\n            <Button\n              variant=\"contained\"\n              disabled={isLoadingSubmitDataAccessRequest}\n              onClick={() => {\n                handleSubmit()\n              }}\n            >\n              Submit\n            </Button>\n          </>\n        }\n      </DialogActions>\n    </>\n  )\n}\n","import React from 'react'\nimport {\n  Box,\n  Button,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  IconButton,\n  Stack,\n  Typography,\n} from '@mui/material'\nimport IconSvg from '../../IconSvg/IconSvg'\n\nexport type RequestDataAccessSuccessProps = {\n  onHide: () => void\n}\n\nexport default function RequestDataAccessSuccess(\n  props: RequestDataAccessSuccessProps,\n) {\n  const { onHide } = props\n  return (\n    <>\n      <DialogTitle>\n        <Stack direction=\"row\" alignItems={'center'} gap={'5px'}>\n          Your Data Access Request Has Been Submitted\n          <Box sx={{ flexGrow: 1 }} />\n          <IconButton onClick={onHide}>\n            <IconSvg icon={'close'} wrap={false} sx={{ color: 'grey.700' }} />\n          </IconButton>\n        </Stack>\n      </DialogTitle>\n\n      <DialogContent>\n        <Typography variant=\"body1\">\n          Your data access request been submitted and is currently being\n          reviewed. Please allow for up to 2 weeks for your request to be\n          reviewed and approved.\n        </Typography>\n      </DialogContent>\n      <DialogActions>\n        <Button variant=\"contained\" onClick={onHide}>\n          Finish\n        </Button>\n      </DialogActions>\n    </>\n  )\n}\n","import React, { useState } from 'react'\nimport MarkdownSynapse from '../../Markdown/MarkdownSynapse'\nimport { ACTAccessRequirement } from '@sage-bionetworks/synapse-types'\nimport { useSynapseContext } from '../../../utils/context/SynapseContext'\nimport { PRODUCTION_ENDPOINT_CONFIG } from '../../../utils/functions/getEndpoint'\nimport { Box, ButtonProps, Link, Typography } from '@mui/material'\nimport { useGetAccessRequirementStatus } from '../../../synapse-queries'\nimport RequirementItem from './RequirementItem'\nimport { RequirementItemStatus } from '../AccessApprovalCheckMark'\n\nexport type UnmanagedACTAccessRequirementItemProps = {\n  entityId: string\n  accessRequirement: ACTAccessRequirement\n  onHide: () => void\n}\n\n/**\n * Renders a {@link RequirementItem} for the deprecated {@link ACTAccessRequirement}.\n *\n * For {@link ManagedACTAccessRequirement}s, see {@link ManagedACTAccessRequirementItem}\n *\n * For {@link SelfSignAccessRequirement} and {@link TermsOfUseAccessRequirement}, see {@link SelfSignAccessRequirementItem}\n */\nexport default function UnmanagedACTAccessRequirementItem(\n  props: UnmanagedACTAccessRequirementItemProps,\n) {\n  const { accessRequirement, entityId, onHide } = props\n  const { accessToken } = useSynapseContext()\n\n  const { data: accessRequirementStatus, isLoading: isLoadingStatus } =\n    useGetAccessRequirementStatus(String(accessRequirement.id))\n\n  const isApproved = accessRequirementStatus?.isApproved\n\n  const [showACTContactInfoInstructions, setShowACTContactInfoInstructions] =\n    useState<boolean>(false)\n\n  let acceptButtonText = ''\n  if (\n    window.location.hostname === 'www.synapse.org' ||\n    window.location.hostname === 'staging.synapse.org'\n  ) {\n    acceptButtonText = 'Request access'\n  } else {\n    acceptButtonText = 'Request access via Synapse.org'\n  }\n\n  const gotoSynapseAccessRequirementPage = () => {\n    window.open(\n      `${PRODUCTION_ENDPOINT_CONFIG.PORTAL}#!AccessRequirement:AR_ID=${accessRequirement.id}&TYPE=ENTITY&ID=${entityId}`,\n    )\n  }\n  const onAcceptClicked = () => {\n    gotoSynapseAccessRequirementPage()\n    // PORTALS-1483: and close the dialog.\n    if (onHide) {\n      onHide()\n    }\n  }\n\n  const actContactInfo = accessRequirement.actContactInfo\n\n  let actions: ButtonProps[] | undefined = undefined\n\n  if (!!accessToken && !isApproved) {\n    actions = [\n      {\n        variant: 'outlined',\n        onClick: onAcceptClicked,\n        children: acceptButtonText,\n      },\n      {\n        variant: 'text',\n        onClick: onHide,\n        children: 'I do not accept',\n      },\n    ]\n  }\n\n  return (\n    <RequirementItem\n      data-testid={'UnmanagedACTAccessRequirementItem'}\n      status={\n        isLoadingStatus\n          ? RequirementItemStatus.LOADING\n          : isApproved\n          ? RequirementItemStatus.COMPLETE\n          : RequirementItemStatus.LOCKED\n      }\n      actions={actions}\n    >\n      {isApproved ? (\n        <>\n          <Typography variant={'body1'}>\n            Your data access request has been approved.{' '}\n            <Link\n              role={'button'}\n              onClick={() =>\n                setShowACTContactInfoInstructions(\n                  !showACTContactInfoInstructions,\n                )\n              }\n            >\n              {showACTContactInfoInstructions\n                ? 'Hide Instructions'\n                : 'View Instructions'}\n            </Link>\n          </Typography>\n          {showACTContactInfoInstructions && (\n            <Box sx={{ my: 1 }}>\n              <MarkdownSynapse markdown={actContactInfo} />\n            </Box>\n          )}\n        </>\n      ) : (\n        <MarkdownSynapse markdown={actContactInfo} />\n      )}\n    </RequirementItem>\n  )\n}\n","import React from 'react'\nimport { useState } from 'react'\nimport MarkdownSynapse from '../../Markdown/MarkdownSynapse'\nimport {\n  ManagedACTAccessRequirement,\n  SubmissionState,\n} from '@sage-bionetworks/synapse-types'\nimport { ManagedACTAccessRequirementStatus } from '@sage-bionetworks/synapse-types'\nimport { AlertProps } from './DataAccessRequestAccessorsFilesForm'\nimport { Alert, Box, ButtonProps, Link, Typography } from '@mui/material'\nimport RequirementItem from '../RequirementItem/RequirementItem'\nimport {\n  useCancelDataAccessRequest,\n  useGetAccessRequirementStatus,\n  useGetAccessRequirementWikiPageKey,\n} from '../../../synapse-queries'\nimport { RequirementItemStatus } from '../AccessApprovalCheckMark'\n\nexport type ManagedACTAccessRequirementItemProps = {\n  entityId: string\n  accessRequirement: ManagedACTAccessRequirement\n  onHide: () => void\n  onRequestAccess: () => void\n}\n\n/**\n * Renders a {@link RequirementItem} for a ManagedACTAccessRequirement, which allows a user to see if they have met the\n * requirement, and if not, complete a data access request to apply for access.\n */\nexport default function ManagedACTAccessRequirementItem(\n  props: ManagedACTAccessRequirementItemProps,\n) {\n  const { accessRequirement, onHide, onRequestAccess } = props\n  const { data: wikiPage } = useGetAccessRequirementWikiPageKey(\n    accessRequirement.id.toString(),\n  )\n  const { data: accessRequirementStatus, isLoading } =\n    useGetAccessRequirementStatus<ManagedACTAccessRequirementStatus>(\n      String(accessRequirement.id),\n    )\n  const { mutate: cancelDataAccessRequest } = useCancelDataAccessRequest({\n    onError: e => {\n      console.error('Error cancelling data access request', e)\n      setAlert({\n        key: 'error',\n        message: (\n          <>\n            <strong>Error canceling your data access request.</strong>\n            <br />\n            Please try again later.\n          </>\n        ),\n      })\n    },\n  })\n\n  const [hideMarkdown, setHideMarkdown] = useState<boolean>(true)\n  const [alert, setAlert] = useState<AlertProps | undefined>()\n\n  const isApproved = accessRequirementStatus?.isApproved\n\n  let markdown = <></>\n\n  if (wikiPage) {\n    markdown = (\n      <div>\n        {\n          <MarkdownSynapse // remove React mount/unmount error\n            wikiId={wikiPage.wikiPageId}\n            ownerId={wikiPage.ownerObjectId}\n            objectType={wikiPage.ownerObjectType}\n          />\n        }\n        {\n          /* Alert message */\n          alert && (\n            <Alert\n              className={'access-requirement-list-alert'}\n              severity={alert.key}\n            >\n              {alert.message}\n            </Alert>\n          )\n        }\n        {accessRequirementStatus?.currentSubmissionStatus?.state ===\n          SubmissionState.SUBMITTED && (\n          <Alert className={'access-requirement-list-alert'} severity={'info'}>\n            <strong>You have submitted a data access request.</strong>\n          </Alert>\n        )}\n        {accessRequirementStatus?.currentSubmissionStatus?.state ===\n          SubmissionState.APPROVED &&\n          isApproved && (\n            <Alert\n              className={'access-requirement-list-alert'}\n              severity={'success'}\n            >\n              <strong>Your data access request has been approved.</strong>\n            </Alert>\n          )}\n        {accessRequirementStatus?.currentSubmissionStatus?.state ===\n          SubmissionState.APPROVED &&\n          !isApproved && (\n            <Alert\n              className={'access-requirement-list-alert'}\n              severity={'warning'}\n            >\n              <strong>Your data access request has been revoked.</strong>\n            </Alert>\n          )}\n        {accessRequirementStatus?.currentSubmissionStatus?.state ===\n          SubmissionState.REJECTED && (\n          <Alert className={'access-requirement-list-alert'} severity={'error'}>\n            <>\n              <strong>Your data access request has been rejected.</strong>\n              <br />\n              {accessRequirementStatus?.currentSubmissionStatus\n                .rejectedReason || ''}\n            </>\n          </Alert>\n        )}\n        {accessRequirementStatus?.currentSubmissionStatus?.state ===\n          SubmissionState.CANCELLED && (\n          <Alert\n            className={'access-requirement-list-alert'}\n            severity={'success'}\n          >\n            <strong>Your data access request has been canceled.</strong>\n          </Alert>\n        )}\n      </div>\n    )\n  }\n\n  const actions: ButtonProps[] = []\n\n  if (accessRequirementStatus) {\n    if (accessRequirementStatus.currentSubmissionStatus == null) {\n      actions.push({\n        variant: 'outlined',\n        onClick: onRequestAccess,\n        children: 'Request access',\n      })\n      actions.push({\n        variant: 'text',\n        onClick: onHide,\n        children: 'I do not accept',\n      })\n    } else if (\n      [\n        SubmissionState.APPROVED,\n        SubmissionState.REJECTED,\n        SubmissionState.CANCELLED,\n      ].includes(accessRequirementStatus.currentSubmissionStatus.state)\n    ) {\n      actions.push({\n        variant: 'outlined',\n        onClick: onRequestAccess,\n        children: 'Update Request',\n      })\n    } else if (\n      accessRequirementStatus.currentSubmissionStatus.state ===\n      SubmissionState.SUBMITTED\n    ) {\n      actions.push({\n        variant: 'outlined',\n        onClick: () => {\n          cancelDataAccessRequest({\n            submissionId:\n              accessRequirementStatus.currentSubmissionStatus!.submissionId,\n            accessRequirementId: String(accessRequirement.id),\n          })\n        },\n        children: 'Cancel Request',\n      })\n    }\n  }\n\n  let requirementItemState: RequirementItemStatus =\n    RequirementItemStatus.LOADING\n  if (!isLoading) {\n    switch (accessRequirementStatus?.currentSubmissionStatus?.state) {\n      case SubmissionState.APPROVED:\n        requirementItemState = accessRequirementStatus?.isApproved\n          ? RequirementItemStatus.COMPLETE\n          : RequirementItemStatus.LOCKED\n        break\n      case SubmissionState.SUBMITTED:\n        requirementItemState = RequirementItemStatus.PENDING\n        break\n      case SubmissionState.REJECTED:\n      case SubmissionState.CANCELLED:\n      default:\n        requirementItemState = RequirementItemStatus.LOCKED\n    }\n  }\n\n  return (\n    <RequirementItem\n      data-testid=\"ManagedACTAccessRequirementItem\"\n      status={requirementItemState}\n      actions={actions}\n    >\n      {/*  If not approved, show the terms */}\n      {!isApproved && <>{markdown}</>}\n      {isApproved && (\n        <>\n          <Typography variant={'body1'}>\n            Your data access request has been approved.{' '}\n            <Link\n              role={'button'}\n              onClick={() => {\n                setHideMarkdown(!hideMarkdown)\n              }}\n            >\n              {hideMarkdown ? 'View Terms' : 'Hide Terms'}\n            </Link>\n          </Typography>\n          {!hideMarkdown && <Box sx={{ my: 1 }}>{markdown}</Box>}\n        </>\n      )}\n    </RequirementItem>\n  )\n}\n","import React, { useState } from 'react'\nimport MarkdownSynapse from '../../Markdown/MarkdownSynapse'\nimport {\n  AccessApproval,\n  ApprovalState,\n  SelfSignAccessRequirement,\n  TermsOfUseAccessRequirement,\n} from '@sage-bionetworks/synapse-types'\nimport { useSynapseContext } from '../../../utils/context/SynapseContext'\nimport { Alert, Box, ButtonProps, Link, Typography } from '@mui/material'\nimport {\n  useCreateAccessApproval,\n  useGetAccessRequirementStatus,\n  useGetAccessRequirementWikiPageKey,\n  useGetCurrentUserBundle,\n  useGetCurrentUserProfile,\n} from '../../../synapse-queries'\nimport RequirementItem from './RequirementItem'\nimport { RequirementItemStatus } from '../AccessApprovalCheckMark'\nimport { isTermsOfUseAccessRequirement } from '../../../utils/types/IsType'\n\nexport type SelfSignAccessRequirementItemProps = {\n  accessRequirement: SelfSignAccessRequirement | TermsOfUseAccessRequirement\n  onHide: () => void\n}\n\n/**\n * Renders a {@link RequirementItem} for an self-sign Access Requirement, including {@link SelfSignAccessRequirement} or\n * {@link TermsOfUseAccessRequirement}.\n *\n * For {@link ManagedACTAccessRequirement}s, see {@link RequestDataAccess}\n */\nexport default function SelfSignAccessRequirementItem(\n  props: SelfSignAccessRequirementItemProps,\n) {\n  const { accessRequirement, onHide } = props\n  const { accessToken } = useSynapseContext()\n  const isSignedIn = !!accessToken\n  const isTermsOfUse = isTermsOfUseAccessRequirement(accessRequirement)\n\n  const { data: user } = useGetCurrentUserProfile()\n  const { data: userBundle } = useGetCurrentUserBundle()\n\n  const certificationRequirementNotMet =\n    isSignedIn &&\n    userBundle &&\n    !isTermsOfUse &&\n    accessRequirement.isCertifiedUserRequired &&\n    !userBundle.isCertified\n  const verificationRequirementNotMet =\n    isSignedIn &&\n    userBundle &&\n    !isTermsOfUse &&\n    accessRequirement.isValidatedProfileRequired &&\n    !userBundle.isVerified\n\n  const { data: accessRequirementStatus, isLoading: isLoadingStatus } =\n    useGetAccessRequirementStatus(String(accessRequirement.id))\n\n  const isApproved = accessRequirementStatus?.isApproved\n\n  const { data: wikiPage } = useGetAccessRequirementWikiPageKey(\n    accessRequirement.id.toString(),\n    // TermsOfUse ARs have the terms embedded in the AR, there is no Wiki.\n    { enabled: !isTermsOfUse },\n  )\n\n  const [showTerms, setShowTerms] = useState<boolean>(false)\n\n  const {\n    mutate: createAccessApproval,\n    isLoading,\n    error,\n  } = useCreateAccessApproval({\n    onError: err => {\n      console.error('Error creating access approval: ', err)\n    },\n  })\n\n  const onAcceptClicked = () => {\n    const accessApprovalRequest: AccessApproval = {\n      requirementId: accessRequirement?.id,\n      submitterId: user?.ownerId!,\n      accessorId: user?.ownerId!,\n      state: ApprovalState.APPROVED,\n    }\n\n    createAccessApproval(accessApprovalRequest)\n  }\n\n  let renderedTerms = <></>\n  if (isTermsOfUse) {\n    renderedTerms = <MarkdownSynapse markdown={accessRequirement.termsOfUse} />\n  } else if (wikiPage) {\n    renderedTerms = (\n      <MarkdownSynapse\n        wikiId={wikiPage?.wikiPageId}\n        ownerId={wikiPage?.ownerObjectId}\n        objectType={wikiPage?.ownerObjectType}\n      />\n    )\n  }\n  let actions: ButtonProps[] | undefined = undefined\n\n  if (!!accessToken && !isApproved) {\n    let acceptButtonText = 'I Accept Terms of Use'\n    let acceptButtonDisabled = false\n    if (certificationRequirementNotMet || verificationRequirementNotMet) {\n      acceptButtonDisabled = true\n      acceptButtonText = `You must ${\n        certificationRequirementNotMet ? 'be certified' : ''\n      }${\n        certificationRequirementNotMet && verificationRequirementNotMet\n          ? ' and '\n          : ''\n      }${\n        verificationRequirementNotMet ? 'have a validated user profile' : ''\n      } to accept`\n    }\n\n    actions = [\n      {\n        variant: 'outlined',\n        onClick: onAcceptClicked,\n        children: acceptButtonText,\n        disabled: isLoading || acceptButtonDisabled,\n      },\n      {\n        variant: 'text',\n        onClick: onHide,\n        children: 'I do not accept',\n      },\n    ]\n  }\n\n  return (\n    <RequirementItem\n      data-testid=\"SelfSignAccessRequirementItem\"\n      status={\n        isLoadingStatus\n          ? RequirementItemStatus.LOADING\n          : isApproved\n          ? RequirementItemStatus.COMPLETE\n          : RequirementItemStatus.LOCKED\n      }\n      actions={actions}\n    >\n      {isApproved ? (\n        <>\n          <Typography variant={'body1'}>\n            You have accepted the terms of use.{' '}\n            <Link role=\"button\" onClick={() => setShowTerms(!showTerms)}>\n              {showTerms ? 'Hide Terms' : 'View Terms'}\n            </Link>\n          </Typography>\n          {showTerms && <Box sx={{ my: 1 }}>{renderedTerms}</Box>}\n        </>\n      ) : (\n        renderedTerms\n      )}\n      {error && <Alert severity=\"error\">{error.reason}</Alert>}\n    </RequirementItem>\n  )\n}\n","import {\n  AccessRequirement,\n  ManagedACTAccessRequirement,\n} from '@sage-bionetworks/synapse-types'\nimport UnmanagedACTAccessRequirementItem from './RequirementItem/UnmanagedACTAccessRequirementItem'\nimport ManagedACTAccessRequirementItem from './ManagedACTAccessRequirementRequestFlow/ManagedACTAccessRequirementItem'\nimport React from 'react'\nimport SelfSignAccessRequirementItem from './RequirementItem/SelfSignAccessRequirementItem'\n\nexport type AccessRequirementListItemProps = {\n  accessRequirement: AccessRequirement\n  entityId: string\n  onHide: () => void\n  onRequestAccess: (accessRequirement: ManagedACTAccessRequirement) => void\n}\n\n/**\n * Renders an individual AR item for the AccessRequirementList\n */\nexport function AccessRequirementListItem(\n  props: AccessRequirementListItemProps,\n) {\n  const { accessRequirement, entityId, onHide, onRequestAccess } = props\n  switch (accessRequirement.concreteType) {\n    case 'org.sagebionetworks.repo.model.SelfSignAccessRequirement':\n    case 'org.sagebionetworks.repo.model.TermsOfUseAccessRequirement':\n      return (\n        <SelfSignAccessRequirementItem\n          accessRequirement={accessRequirement}\n          onHide={onHide}\n        />\n      )\n    case 'org.sagebionetworks.repo.model.ACTAccessRequirement':\n      return (\n        <UnmanagedACTAccessRequirementItem\n          accessRequirement={accessRequirement}\n          onHide={onHide}\n          entityId={entityId}\n        />\n      )\n    case 'org.sagebionetworks.repo.model.ManagedACTAccessRequirement':\n      return (\n        <ManagedACTAccessRequirementItem\n          accessRequirement={accessRequirement}\n          onHide={onHide}\n          entityId={entityId}\n          onRequestAccess={() => {\n            onRequestAccess(accessRequirement)\n          }}\n        />\n      )\n    // case not supported yet\n    default:\n      console.warn(\n        'Unsupported access requirement type:',\n        accessRequirement.concreteType,\n      )\n      return <></>\n  }\n}\n","import React, { useMemo, useState } from 'react'\nimport { PRODUCTION_ENDPOINT_CONFIG } from '../../utils/functions/getEndpoint'\nimport useGetInfoFromIds, {\n  UseGetInfoFromIdsProps,\n} from '../../utils/hooks/useGetInfoFromIds'\nimport {\n  AccessRequirement,\n  EntityHeader,\n  ManagedACTAccessRequirement,\n  Renewal,\n  Request,\n} from '@sage-bionetworks/synapse-types'\nimport IconSvg from '../IconSvg/IconSvg'\nimport StandaloneLoginForm from '../Authentication/StandaloneLoginForm'\nimport CancelRequestDataAccess from './ManagedACTAccessRequirementRequestFlow/CancelRequestDataAccess'\nimport ResearchProjectForm from './ManagedACTAccessRequirementRequestFlow/ResearchProjectForm'\nimport DataAccessRequestAccessorsFilesForm from './ManagedACTAccessRequirementRequestFlow/DataAccessRequestAccessorsFilesForm'\nimport RequestDataAccessSuccess from './ManagedACTAccessRequirementRequestFlow/RequestDataAccessSuccess'\nimport {\n  Box,\n  Dialog,\n  DialogContent,\n  DialogTitle,\n  IconButton,\n  Link,\n  Stack,\n  styled,\n  Typography,\n  TypographyProps,\n} from '@mui/material'\nimport AuthenticatedRequirement from './RequirementItem/AuthenticatedRequirement'\nimport CertificationRequirement from './RequirementItem/CertificationRequirement'\nimport ValidationRequirement from './RequirementItem/ValidationRequirement'\nimport { StyledComponent } from '@emotion/styled'\nimport {\n  useGetAccessRequirementsForEntity,\n  useGetAccessRequirementsForTeam,\n  useSortAccessRequirementIdsByCompletion,\n} from '../../synapse-queries'\nimport TwoFactorAuthEnabledRequirement from './RequirementItem/TwoFactorAuthEnabledRequirement'\nimport { AccessRequirementListItem } from './AccessRequirementListItem'\nimport { useSynapseContext } from '../../utils/context/SynapseContext'\nimport { useCanShowManagedACTWikiInWizard } from './AccessRequirementListUtils'\n\nexport type AccessRequirementListProps = {\n  entityId: string // will show this entity info\n  teamId?: string // will show this team info\n  accessRequirementFromProps?: Array<AccessRequirement>\n  onHide: () => void\n  renderAsModal?: boolean\n  numberOfFilesAffected?: number // if provided, will show this instead of the entity information\n  requestObjectName?: string // if provided, will show this instead of the entity information or numberOfFilesAffected\n  dialogTitle?: string // if provided, will show this instead of Data Access Request\n}\n\nconst SUPPORTED_ACCESS_REQUIREMENTS = new Set<\n  AccessRequirement['concreteType']\n>([\n  'org.sagebionetworks.repo.model.SelfSignAccessRequirement',\n  'org.sagebionetworks.repo.model.TermsOfUseAccessRequirement',\n  'org.sagebionetworks.repo.model.ManagedACTAccessRequirement',\n  'org.sagebionetworks.repo.model.ACTAccessRequirement',\n])\n\nconst DialogSubsectionHeader: StyledComponent<TypographyProps> = styled(\n  Typography,\n  {\n    label: 'DialogSubsectionHeader',\n  },\n)(({ theme }) => ({\n  marginTop: theme.spacing(4),\n  marginBottom: theme.spacing(2),\n  paddingBottom: theme.spacing(1),\n  fontSize: '18px',\n  fontWeight: 'bold',\n  borderBottom: '1px solid',\n  borderColor: theme.palette.grey['200'],\n}))\nDialogSubsectionHeader.defaultProps = {\n  ...DialogSubsectionHeader.defaultProps,\n  variant: 'h4',\n}\n\nexport const checkHasUnsupportedRequirement = (\n  accessRequirements: Array<AccessRequirement>,\n): boolean => {\n  return accessRequirements.filter(isARUnsupported).length > 0\n}\n\nconst isARUnsupported = (accessRequirement: AccessRequirement) => {\n  return !SUPPORTED_ACCESS_REQUIREMENTS.has(accessRequirement.concreteType)\n}\n\n/**\n * Represents a distinct screen in the wizard used to apply to a ManagedACTAccessRequirement\n */\nenum RequestDataStep {\n  SHOW_ALL_ARS = 0,\n  UPDATE_RESEARCH_PROJECT = 1,\n  UPDATE_ACCESSORS_AND_FILES = 2,\n  PROMPT_CANCEL = 3,\n  PROMPT_LOGIN = 4,\n  COMPLETE = 5,\n}\n\nexport type RequestDataStepCallbackArgs = {\n  step: RequestDataStep\n  managedACTAccessRequirement?: ManagedACTAccessRequirement\n  researchProjectId?: string\n  dataAccessRequest?: Request | Renewal\n}\n\n/**\n * The AccessRequirementListV2 component renders a set of {@link AccessRequirement}s (either pre-defined, or those applied\n * to an entity, based on provided props).\n *\n * The component shows the user the approval status of each AR and provides a workflow for accepting the terms of or\n * creating a submission for any of the Access Requirements.\n */\nexport default function AccessRequirementList(\n  props: AccessRequirementListProps,\n) {\n  const {\n    entityId,\n    teamId,\n    onHide,\n    accessRequirementFromProps,\n    renderAsModal,\n    numberOfFilesAffected,\n    requestObjectName,\n    dialogTitle = 'Data Access Request',\n  } = props\n  const { accessToken } = useSynapseContext()\n  const isSignedIn = !!accessToken\n  const [requestDataStep, setRequestDataStep] = useState<RequestDataStep>(\n    RequestDataStep.SHOW_ALL_ARS,\n  )\n  const [managedACTAccessRequirement, setManagedACTAccessRequirement] =\n    useState<ManagedACTAccessRequirement>()\n  const [researchProjectId, setResearchProjectId] = useState<string>('')\n  const [dataAccessRequest, setDataAccessRequest] = useState<\n    Request | Renewal | undefined\n  >()\n\n  const entityHeaderProps: UseGetInfoFromIdsProps<EntityHeader> = {\n    ids: [entityId],\n    type: 'ENTITY_HEADER',\n  }\n  const canShowManagedACTWikiInWizard = useCanShowManagedACTWikiInWizard()\n\n  const entityInformation = useGetInfoFromIds<EntityHeader>(entityHeaderProps)\n\n  const { data: fetchedRequirementsForTeam } = useGetAccessRequirementsForTeam(\n    teamId!,\n    {\n      enabled: Boolean(!accessRequirementFromProps && teamId),\n    },\n  )\n  const { data: fetchedRequirementsForEntity } =\n    useGetAccessRequirementsForEntity(entityId, {\n      enabled: Boolean(!accessRequirementFromProps && entityId && !teamId),\n    })\n\n  const fetchedRequirements = teamId\n    ? fetchedRequirementsForTeam\n    : fetchedRequirementsForEntity\n\n  const accessRequirements = accessRequirementFromProps ?? fetchedRequirements\n\n  /**\n   * Set the initial ordering of the Access Requirements to show complete ARs first. The individual AR Item components\n   * retrieve and render status independently, so this data only determines ordering. For this reason, the query data\n   * should not be invalidated or updated as the user progresses through the workflow.\n   */\n  const { data: sortedAccessRequirementIds } =\n    useSortAccessRequirementIdsByCompletion(\n      (accessRequirements ?? []).map(ar => String(ar.id)),\n      {\n        enabled: !!accessRequirements,\n        // Set the stale time to infinity because we don't want to refetch this and change the order\n        staleTime: Infinity,\n      },\n    )\n\n  const requestDataStepCallback = (props: RequestDataStepCallbackArgs) => {\n    const {\n      managedACTAccessRequirement,\n      step,\n      researchProjectId,\n      dataAccessRequest: newDataAccessRequest,\n    } = props\n    if (managedACTAccessRequirement) {\n      // required for step 1, 2 form\n      setManagedACTAccessRequirement(managedACTAccessRequirement)\n    }\n    if (researchProjectId) {\n      setResearchProjectId(researchProjectId)\n    }\n    if (newDataAccessRequest) {\n      setDataAccessRequest(newDataAccessRequest)\n    }\n    setRequestDataStep(step)\n  }\n\n  const anyARsRequireTwoFactorAuth = accessRequirements?.some(\n    accessRequirement =>\n      accessRequirement.concreteType ===\n        'org.sagebionetworks.repo.model.ManagedACTAccessRequirement' &&\n      accessRequirement.isTwoFaRequired,\n  )\n\n  const anyARsRequireCertification = accessRequirements?.some(\n    accessRequirement =>\n      (accessRequirement.concreteType ===\n        'org.sagebionetworks.repo.model.ManagedACTAccessRequirement' ||\n        accessRequirement.concreteType ===\n          'org.sagebionetworks.repo.model.SelfSignAccessRequirement') &&\n      accessRequirement.isCertifiedUserRequired,\n  )\n\n  const anyARsRequireProfileValidation = accessRequirements?.some(\n    accessRequirement =>\n      (accessRequirement.concreteType ===\n        'org.sagebionetworks.repo.model.ManagedACTAccessRequirement' ||\n        accessRequirement.concreteType ===\n          'org.sagebionetworks.repo.model.SelfSignAccessRequirement') &&\n      accessRequirement.isValidatedProfileRequired,\n  )\n\n  const requestDetails = useMemo(() => {\n    // Prioritize requestObjectName, then the number of files affected, then the entity name\n    if (requestObjectName) return requestObjectName\n    if (numberOfFilesAffected)\n      return (\n        <>\n          <IconSvg icon=\"file\" sx={{ width: '30px' }} /> {numberOfFilesAffected}{' '}\n          File(s)\n        </>\n      )\n    return (\n      <>\n        <IconSvg icon=\"file\" sx={{ width: '30px' }} />{' '}\n        <Link\n          href={`${PRODUCTION_ENDPOINT_CONFIG.PORTAL}#!Synapse:${entityId}`}\n        >\n          {entityInformation[0]?.name}\n        </Link>\n      </>\n    )\n  }, [entityId, entityInformation, numberOfFilesAffected, requestObjectName])\n\n  const content = (\n    <>\n      <DialogTitle>\n        <Stack direction=\"row\" alignItems={'center'} gap={'5px'}>\n          {dialogTitle}\n          <Box sx={{ flexGrow: 1 }} />\n          <IconButton onClick={onHide}>\n            <IconSvg icon={'close'} wrap={false} sx={{ color: 'grey.700' }} />\n          </IconButton>\n        </Stack>\n      </DialogTitle>\n\n      <DialogContent>\n        <DialogSubsectionHeader sx={{ mt: 0 }}>\n          What is this request for?\n        </DialogSubsectionHeader>\n        <Typography variant={'body1'} component={'span'}>\n          {requestDetails}\n        </Typography>\n        <DialogSubsectionHeader>What do I need to do?</DialogSubsectionHeader>\n        <AuthenticatedRequirement />\n        {anyARsRequireCertification && <CertificationRequirement />}\n        {anyARsRequireProfileValidation && <ValidationRequirement />}\n        {anyARsRequireTwoFactorAuth && <TwoFactorAuthEnabledRequirement />}\n        {sortedAccessRequirementIds\n          ?.map(id => accessRequirements!.find(ar => id === String(ar.id))!)\n          ?.map(accessRequirement => {\n            return (\n              <AccessRequirementListItem\n                key={accessRequirement.id}\n                accessRequirement={accessRequirement}\n                entityId={entityId}\n                onHide={onHide}\n                onRequestAccess={accessRequirement => {\n                  const nextStep = isSignedIn\n                    ? RequestDataStep.UPDATE_RESEARCH_PROJECT\n                    : RequestDataStep.PROMPT_LOGIN\n                  requestDataStepCallback({\n                    managedACTAccessRequirement: accessRequirement,\n                    step: nextStep,\n                  })\n                }}\n              />\n            )\n          })}\n      </DialogContent>\n    </>\n  )\n\n  const dialogWidth =\n    [\n      RequestDataStep.UPDATE_ACCESSORS_AND_FILES,\n      RequestDataStep.UPDATE_RESEARCH_PROJECT,\n    ].includes(requestDataStep) && canShowManagedACTWikiInWizard\n      ? 'xl'\n      : 'md'\n\n  let renderContent = content\n  if (renderAsModal) {\n    switch (requestDataStep) {\n      case RequestDataStep.UPDATE_RESEARCH_PROJECT:\n        renderContent = (\n          <ResearchProjectForm\n            managedACTAccessRequirement={managedACTAccessRequirement!}\n            onSave={researchProject => {\n              requestDataStepCallback({\n                managedACTAccessRequirement,\n                step: RequestDataStep.UPDATE_ACCESSORS_AND_FILES,\n                researchProjectId: researchProject.id,\n              })\n            }}\n            onHide={onHide}\n          />\n        )\n        break\n      case RequestDataStep.UPDATE_ACCESSORS_AND_FILES:\n        renderContent = (\n          <DataAccessRequestAccessorsFilesForm\n            researchProjectId={researchProjectId}\n            managedACTAccessRequirement={managedACTAccessRequirement!}\n            entityId={entityId} // for form submission after save\n            onHide={onHide}\n            onCancel={dataAccessRequestInProgress => {\n              requestDataStepCallback({\n                step: RequestDataStep.PROMPT_CANCEL,\n                dataAccessRequest: dataAccessRequestInProgress,\n              })\n            }}\n            onSubmissionCreated={() => {\n              requestDataStepCallback({ step: RequestDataStep.COMPLETE })\n            }}\n          />\n        )\n        break\n      case RequestDataStep.PROMPT_CANCEL:\n        renderContent = (\n          <CancelRequestDataAccess\n            modifiedDataAccessRequest={dataAccessRequest}\n            onHide={onHide} // for closing dialogs\n          />\n        )\n        break\n      case RequestDataStep.PROMPT_LOGIN:\n        renderContent = (\n          <>\n            <DialogTitle>Please Log In</DialogTitle>\n            <DialogContent className={'AccessRequirementList login-modal '}>\n              <StandaloneLoginForm\n                sessionCallback={() => {\n                  window.location.reload()\n                }}\n              />\n            </DialogContent>\n          </>\n        )\n        break\n      case RequestDataStep.COMPLETE:\n        renderContent = <RequestDataAccessSuccess onHide={onHide} />\n        break\n      case RequestDataStep.SHOW_ALL_ARS:\n        renderContent = content\n        break\n      default:\n        renderContent = content\n    }\n    return (\n      <Dialog maxWidth={dialogWidth} fullWidth open={true} onClose={onHide}>\n        {renderContent}\n      </Dialog>\n    )\n  }\n  return <Box>{renderContent}</Box>\n}\n","import React, { useState } from 'react'\nimport { useGetAccessRequirements } from '../../synapse-queries/dataaccess/useAccessRequirements'\nimport { SelfSignAccessRequirement } from '@sage-bionetworks/synapse-types'\nimport {\n  EASY_DIFFICULTY,\n  MEDIUM_DIFFICULTY,\n  VARIABLE_DIFFICULTY,\n} from '../../utils/SynapseConstants'\nimport AccessRequirementList from '../AccessRequirementList/AccessRequirementList'\nimport { ActionRequiredCard } from './ActionRequiredCard'\nimport WideButton from '../../components/styled/WideButton'\n\nexport type MeetAccessRequirementCardProps = {\n  accessRequirementId: number\n  count?: number\n}\nexport const TERMS_OF_USE_TITLE =\n  'Requires Acceptance of Data-Specific Terms of Use'\nexport const SELF_SIGN_TITLE =\n  'Requires Acceptance of Data-Specific Terms of Use'\nexport const ACT_TITLE =\n  'Requires Approval of Data-Specific Access Requirements'\nexport const LOCK_TITLE = 'Access Restricted'\n\nexport const MeetAccessRequirementCard: React.FunctionComponent<\n  MeetAccessRequirementCardProps\n> = ({ accessRequirementId, count }: MeetAccessRequirementCardProps) => {\n  const { data: ar, isLoading } = useGetAccessRequirements(\n    accessRequirementId,\n    { useErrorBoundary: true },\n  )\n  const [isShowingAccessRequirement, setIsShowingAccessRequirement] =\n    useState<boolean>(false)\n  let title: string | undefined = undefined\n  let iconType = ''\n  let description = ''\n\n  if (!isLoading && ar) {\n    switch (ar.concreteType) {\n      case 'org.sagebionetworks.repo.model.TermsOfUseAccessRequirement':\n        title = TERMS_OF_USE_TITLE\n        iconType = EASY_DIFFICULTY\n        description = ar.name ?? ''\n        break\n      case 'org.sagebionetworks.repo.model.SelfSignAccessRequirement': {\n        title = SELF_SIGN_TITLE\n        const selfSignAR: SelfSignAccessRequirement = ar\n        if (selfSignAR.isValidatedProfileRequired) {\n          iconType = VARIABLE_DIFFICULTY\n        } else if (selfSignAR.isCertifiedUserRequired) {\n          iconType = MEDIUM_DIFFICULTY\n        } else {\n          iconType = EASY_DIFFICULTY\n        }\n        description = ar.name ?? ''\n        break\n      }\n      case 'org.sagebionetworks.repo.model.ManagedACTAccessRequirement':\n      case 'org.sagebionetworks.repo.model.ACTAccessRequirement':\n        title = ACT_TITLE\n        iconType = VARIABLE_DIFFICULTY\n        description = ar.name ?? ''\n        break\n      case 'org.sagebionetworks.repo.model.LockAccessRequirement':\n        title = LOCK_TITLE\n        iconType = VARIABLE_DIFFICULTY\n        description =\n          'Access restricted pending review by Synapse Access and Compliance Team.'\n        break\n    }\n  }\n\n  return (\n    <>\n      <ActionRequiredCard\n        isLoading={isLoading}\n        title={title}\n        description={description}\n        iconType={iconType}\n        count={count}\n        actionNode={\n          <WideButton\n            variant=\"contained\"\n            onClick={() => setIsShowingAccessRequirement(true)}\n          >\n            Start\n          </WideButton>\n        }\n      />\n      {isShowingAccessRequirement && ar && (\n        <AccessRequirementList\n          entityId={ar.subjectIds[0].id}\n          accessRequirementFromProps={[ar]}\n          renderAsModal={true}\n          numberOfFilesAffected={count}\n          onHide={() => setIsShowingAccessRequirement(false)}\n        />\n      )}\n    </>\n  )\n}\n","import React, { useState } from 'react'\nimport { EASY_DIFFICULTY } from '../../utils/SynapseConstants'\nimport AccessRequirementList from '../AccessRequirementList/AccessRequirementList'\nimport { ActionRequiredCard } from './ActionRequiredCard'\nimport WideButton from '../../components/styled/WideButton'\nimport { useGetAccessRequirements } from '../../synapse-queries'\n\nexport type EnableTwoFaRequirementCardProps = {\n  accessRequirementId: number\n  count?: number\n}\nexport const REQUIRES_2FA_CARD_TITLE = 'Requires Two-Factor Authentication'\n\nexport function EnableTwoFaRequirementCard(\n  props: EnableTwoFaRequirementCardProps,\n) {\n  const { accessRequirementId, count } = props\n  const { data: ar, isLoading } = useGetAccessRequirements(\n    accessRequirementId,\n    {\n      useErrorBoundary: true,\n    },\n  )\n\n  const [isShowingAccessRequirement, setIsShowingAccessRequirement] =\n    useState<boolean>(false)\n\n  return (\n    <>\n      <ActionRequiredCard\n        isLoading={isLoading}\n        title={REQUIRES_2FA_CARD_TITLE}\n        iconType={EASY_DIFFICULTY}\n        description={ar?.name ?? ''}\n        count={count}\n        actionNode={\n          <WideButton\n            variant=\"contained\"\n            onClick={() => setIsShowingAccessRequirement(true)}\n          >\n            Start\n          </WideButton>\n        }\n      />\n      {isShowingAccessRequirement && ar && (\n        <AccessRequirementList\n          entityId={ar.subjectIds[0].id}\n          accessRequirementFromProps={[ar]}\n          renderAsModal={true}\n          numberOfFilesAffected={count}\n          onHide={() => setIsShowingAccessRequirement(false)}\n        />\n      )}\n    </>\n  )\n}\n","import React from 'react'\nimport { Action } from '@sage-bionetworks/synapse-types'\nimport { MeetAccessRequirementCard } from './MeetAccessRequirementCard'\nimport { RequestDownloadCard } from './RequestDownloadCard'\nimport { EnableTwoFaRequirementCard } from './EnableTwoFaRequirementCard'\n\nexport type ActionRequiredListItemProps = {\n  action: Action\n  count?: number\n  /** Invoked when a user clicks \"View Sharing Settings\" for a set of files that require the Download permission*/\n  onViewSharingSettingsClicked?: (benefactorId: string) => void\n}\n\nexport function ActionRequiredListItem(props: ActionRequiredListItemProps) {\n  const { action, count, onViewSharingSettingsClicked } = props\n  switch (action.concreteType) {\n    case 'org.sagebionetworks.repo.model.download.MeetAccessRequirement': {\n      return (\n        <MeetAccessRequirementCard\n          key={action.accessRequirementId}\n          accessRequirementId={action.accessRequirementId}\n          count={count}\n        />\n      )\n    }\n    case 'org.sagebionetworks.repo.model.download.RequestDownload': {\n      return (\n        <RequestDownloadCard\n          key={action.benefactorId}\n          entityId={`syn${action.benefactorId}`}\n          count={count}\n          onViewSharingSettingsClicked={onViewSharingSettingsClicked}\n        />\n      )\n    }\n    case 'org.sagebionetworks.repo.model.download.EnableTwoFa': {\n      return (\n        <EnableTwoFaRequirementCard\n          key={action.accessRequirementId}\n          accessRequirementId={action.accessRequirementId}\n          count={count}\n        />\n      )\n    }\n\n    // case not supported yet\n    default:\n      return <></>\n  }\n}\n","import React from 'react'\nimport { Action } from '@sage-bionetworks/synapse-types'\nimport { useGetEntityActionsRequired } from '../../synapse-queries'\nimport { ActionRequiredListItem } from '../DownloadCart/ActionRequiredListItem'\n\nexport type EntityActionsRequiredProps = {\n  entityId: string\n  onViewSharingSettingsClicked?: (benefactorId: string) => void\n}\n\nexport const EntityActionsRequired: React.FunctionComponent<\n  EntityActionsRequiredProps\n> = props => {\n  const { entityId, onViewSharingSettingsClicked } = props\n  const { data: actionRequiredList } = useGetEntityActionsRequired(entityId)\n  const actions = actionRequiredList?.actions\n\n  return (\n    <>\n      {actions && actions.length > 0 && (\n        <div className=\"EntityActionsRequired\">\n          {actions.map((action: Action, index) => {\n            if (action) {\n              return (\n                <ActionRequiredListItem\n                  key={index}\n                  action={action}\n                  onViewSharingSettingsClicked={onViewSharingSettingsClicked}\n                />\n              )\n            } else return false\n          })}\n        </div>\n      )}\n    </>\n  )\n}\n","import React from 'react'\nimport { ErrorBanner } from './error/ErrorBanner'\nimport { useQueryContext } from './QueryContext/QueryContext'\nimport { EntityActionsRequired } from './AccessRequirement/EntityActionsRequired'\nimport { useSynapseContext } from '../utils'\n\n/**\n * Error banner that automatically pulls the error from QueryContext.  If 403, shows entity actions required\n */\nexport const QueryWrapperErrorBanner = () => {\n  const { error, getLastQueryRequest, onViewSharingSettingsClicked } =\n    useQueryContext()\n  const { entityId } = getLastQueryRequest()\n  const { accessToken } = useSynapseContext()\n\n  if (error?.status == 403 && accessToken) {\n    return (\n      <EntityActionsRequired\n        entityId={entityId}\n        onViewSharingSettingsClicked={onViewSharingSettingsClicked}\n      />\n    )\n  } else {\n    return <ErrorBanner error={error} />\n  }\n}\n","import { Collapse } from '@mui/material'\nimport React from 'react'\nimport { CSSTransition } from 'react-transition-group'\nimport {\n  ColumnModel,\n  ColumnMultiValueFunction,\n  ColumnMultiValueFunctionQueryFilter,\n  ColumnSingleValueFilterOperator,\n  ColumnSingleValueQueryFilter,\n  ColumnTypeEnum,\n  QueryFilter,\n} from '@sage-bionetworks/synapse-types'\nimport { QueryVisualizationContextType } from './QueryVisualizationWrapper'\nimport { LockedColumn, QueryContextType } from './QueryContext/QueryContext'\nimport IconSvg from './IconSvg/IconSvg'\nimport {\n  isColumnMultiValueFunctionQueryFilter,\n  isColumnSingleValueQueryFilter,\n} from '../utils/types/IsType'\n\ntype SearchState = {\n  show: boolean\n  /* \n    When the component is revealed in queryplotnav we want to focus on the input field and reveal the dropdown\n    there is an issue where the method handleClickOutsideForm will override the state from componentDidUpdate\n    so we track when componentDidUpdate just fired so that `show` is not overriden on the click event which\n    triggers componentDidUpdate \n  */\n  didUpdateRanLast: boolean\n  searchText: string\n  columnName: string\n}\n\nexport type SearchableColumnsV2 = string[]\n\nexport type SearchV2Props = {\n  queryContext: QueryContextType\n  queryVisualizationContext: QueryVisualizationContextType\n  isQueryWrapperMenuChild?: boolean\n  defaultColumn?: string\n  searchable?: SearchableColumnsV2\n  lockedColumn?: LockedColumn\n  fullTextSearchHelpURL?: string\n}\n\ntype InternalSearchProps = SearchV2Props\n\nclass Search extends React.Component<InternalSearchProps, SearchState> {\n  public searchFormRef: React.RefObject<HTMLFormElement>\n  public radioFormRef: React.RefObject<HTMLFormElement>\n\n  constructor(props: InternalSearchProps) {\n    super(props)\n    this.state = {\n      show: false,\n      didUpdateRanLast: false,\n      searchText: '',\n      columnName: this.props.defaultColumn ?? '',\n    }\n    this.searchFormRef = React.createRef()\n    this.radioFormRef = React.createRef()\n  }\n\n  componentDidMount() {\n    // @ts-ignore\n    document.addEventListener('click', this.handleClickOutsideForm)\n  }\n\n  componentDidUpdate(prevProps: InternalSearchProps) {\n    if (\n      !prevProps.queryVisualizationContext?.showSearchBar &&\n      this.props.queryVisualizationContext?.showSearchBar\n    ) {\n      this.setState({\n        show: true,\n        didUpdateRanLast: true,\n      })\n      this.searchFormRef?.current?.querySelector('input')?.focus()\n    }\n  }\n\n  componentWillUnmount() {\n    // @ts-ignore\n    document.removeEventListener('click', this.handleClickOutsideForm)\n  }\n\n  handleClickOutsideForm = (event: React.SyntheticEvent) => {\n    if (\n      // @ts-ignore\n      !this.searchFormRef.current?.contains(event?.target) &&\n      // @ts-ignore\n      !this.radioFormRef.current?.contains(event?.target)\n    ) {\n      if (this.state.didUpdateRanLast) {\n        this.setState({\n          didUpdateRanLast: false,\n        })\n      } else {\n        this.setState({\n          show: false,\n        })\n      }\n    }\n  }\n\n  public search = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    // form completion by default causes the page to reload, so we prevent that\n    event.preventDefault()\n    const { searchText } = this.state\n    let { columnName } = this.state\n    const { searchable, lockedColumn } = this.props\n    if (columnName === '') {\n      if (searchable) {\n        // If searchable column names are defined in the config, grab the first one (that is not locked)\n        columnName = searchable.filter(\n          colName => colName !== lockedColumn?.columnName,\n        )[0]\n      } else {\n        // Otherwise, get the first column model that can be searched.\n        // And for study details page: if lockedColumn is defined, remove it from the search\n        const searchableColumnModels =\n          this.props.queryContext?.data?.columnModels\n            ?.filter(el => el.name !== lockedColumn?.columnName)\n            .filter(el => this.isSupportedColumn(el))\n        columnName = searchableColumnModels?.[0].name ?? ''\n      }\n    }\n    this.setState({\n      show: false,\n    })\n    const { executeQueryRequest, getLastQueryRequest } = this.props.queryContext\n\n    const lastQueryRequestDeepClone = getLastQueryRequest()\n\n    const { additionalFilters = [] } = lastQueryRequestDeepClone.query\n\n    const indexOfColumn = additionalFilters.findIndex((el: QueryFilter) => {\n      if (\n        isColumnSingleValueQueryFilter(el) ||\n        (isColumnMultiValueFunctionQueryFilter(el) &&\n          el.columnName === columnName)\n      ) {\n        return true\n      }\n      return false\n    })\n    if (indexOfColumn === -1) {\n      // get the column model to figure out what kind of filter we should apply.\n      const columnModel: ColumnModel | undefined =\n        this.props.queryContext?.data?.columnModels?.filter(\n          el => el.name === columnName,\n        )[0]\n      if (columnModel?.columnType.endsWith('_LIST')) {\n        const columnMultiValueQueryFilter: ColumnMultiValueFunctionQueryFilter =\n          {\n            columnName,\n            function: ColumnMultiValueFunction.HAS_LIKE,\n            values: [`%${searchText}%`],\n            concreteType:\n              'org.sagebionetworks.repo.model.table.ColumnMultiValueFunctionQueryFilter',\n          }\n        additionalFilters.push(columnMultiValueQueryFilter)\n      } else {\n        const columnSingleValueQueryFilter: ColumnSingleValueQueryFilter = {\n          columnName,\n          operator: ColumnSingleValueFilterOperator.LIKE,\n          values: [`%${searchText}%`],\n          concreteType:\n            'org.sagebionetworks.repo.model.table.ColumnSingleValueQueryFilter',\n        }\n        additionalFilters.push(columnSingleValueQueryFilter)\n      }\n    } else {\n      ;(\n        additionalFilters[indexOfColumn] as\n          | ColumnSingleValueQueryFilter\n          | ColumnMultiValueFunctionQueryFilter\n      ).values.push(`%${searchText}%`)\n    }\n    lastQueryRequestDeepClone.query.additionalFilters = additionalFilters\n    executeQueryRequest(lastQueryRequestDeepClone)\n  }\n\n  public handleChange = (event: React.FormEvent<HTMLInputElement>) => {\n    this.setState({\n      searchText: event.currentTarget.value,\n    })\n  }\n\n  public isSupportedColumn = (columnModel?: ColumnModel) => {\n    switch (columnModel?.columnType) {\n      case ColumnTypeEnum.FILEHANDLEID:\n      case ColumnTypeEnum.ENTITYID:\n      case ColumnTypeEnum.DATE:\n      case ColumnTypeEnum.DATE_LIST:\n      case ColumnTypeEnum.USERID:\n        return false\n      default:\n        return true\n    }\n  }\n\n  public isSupportedColumnAndInProps = (columnModel?: ColumnModel) => {\n    if (this.isSupportedColumn(columnModel)) {\n      // return true if the searchable array contains this column name\n      const { searchable } = this.props\n      return searchable?.some(e => e === columnModel?.name)\n    }\n    return false\n  }\n\n  render() {\n    const {\n      searchable,\n      lockedColumn,\n      queryContext: { data },\n      queryVisualizationContext: { showSearchBar, getColumnDisplayName },\n    } = this.props\n    const { searchText, show, columnName } = this.state\n    let searchColumns: string[] = []\n\n    // searchable specifies the order of the columns to search\n    if (searchable) {\n      searchColumns = searchable\n        .map(el => data?.columnModels?.find(model => model.name === el))\n        .filter(this.isSupportedColumnAndInProps)\n        .map(el => el!.name)\n    } else if (data?.columnModels) {\n      searchColumns = data.columnModels\n        ?.filter(this.isSupportedColumn)\n        .map(el => el.name)\n    }\n\n    // For study details page: if lockedColumn is defined, remove it from the radio dropdown\n    if (searchColumns.length && lockedColumn?.columnName) {\n      searchColumns = searchColumns.filter(\n        el => el !== lockedColumn?.columnName,\n      )\n    }\n    return (\n      <div className={`QueryWrapperSearchInput`}>\n        <Collapse in={showSearchBar}>\n          <form\n            className=\"QueryWrapperSearchInput__searchbar\"\n            onSubmit={this.search}\n            onClick={() => {\n              this.setState({ show: true })\n            }}\n            ref={this.searchFormRef}\n          >\n            <span className=\"QueryWrapperSearchInput__searchbar__searchicon\">\n              <IconSvg icon=\"search\" />\n            </span>\n            <input\n              onChange={this.handleChange}\n              onClick={() => {\n                this.setState({\n                  show: true,\n                })\n              }}\n              placeholder=\"Enter Search Terms\"\n              value={searchText}\n              type=\"text\"\n            />\n            {this.state.searchText.length > 0 && (\n              <button\n                className=\"QueryWrapperSearchInput__searchbar__clearbutton\"\n                type=\"button\"\n                onClick={() => {\n                  this.setState({\n                    searchText: '',\n                  })\n                }}\n              >\n                <IconSvg icon=\"close\" />\n              </button>\n            )}\n          </form>\n        </Collapse>\n        <div className=\"QueryWrapperSearchInput__dropdown_pos\">\n          <CSSTransition\n            in={show}\n            classNames=\"QueryWrapperSearchInput__animate_dropdown\"\n            timeout={{ enter: 0, exit: 300 }}\n          >\n            <form\n              ref={this.radioFormRef}\n              className=\"QueryWrapperSearchInput__column-select QueryWrapperSearchInput__animate_height\"\n            >\n              <p className=\"deemphasized\">\n                <i> Search In Field: </i>\n              </p>\n              {searchColumns.map((name, index) => {\n                const displayName = getColumnDisplayName(name)\n                const isSelected =\n                  (columnName === '' && index === 0) || columnName === name\n                return (\n                  <div className=\"radio\" key={`search-field-${name}-${index}`}>\n                    <label>\n                      <span>\n                        <input\n                          id={name}\n                          type=\"radio\"\n                          value={name}\n                          checked={isSelected}\n                          onClick={() => {\n                            this.searchFormRef?.current\n                              ?.querySelector('input')\n                              ?.focus()\n                            this.setState({\n                              columnName: name,\n                            })\n                          }}\n                        />\n                        <span>{displayName}</span>\n                      </span>\n                    </label>\n                  </div>\n                )\n              })}\n            </form>\n          </CSSTransition>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Search\n","import { SearchTwoTone } from '@mui/icons-material'\nimport { Collapse } from '@mui/material'\nimport React, { useEffect, useRef, useState } from 'react'\nimport { HelpPopover } from './HelpPopover'\nimport { useQueryVisualizationContext } from './QueryVisualizationWrapper'\nimport { useQueryContext } from './QueryContext/QueryContext'\n\nexport type SqlEditorProps = {\n  helpMessage?: string\n  helpUrl?: string\n}\n\nconst helpMessageCopy =\n  'The data within tables and views can be retrieved by using a SQL-like query language either from the web interface or from the programmatic clients.'\nconst helpLink =\n  'https://help.synapse.org/docs/Querying-Tables,-Views,-and-Datasets.2667642897.html#QueryingTables,Views,andDatasets-UsingAdvancedSearchQueries'\n\nexport const SqlEditor: React.FunctionComponent<SqlEditorProps> = ({\n  helpMessage = helpMessageCopy,\n  helpUrl = helpLink,\n}: SqlEditorProps) => {\n  const { executeQueryRequest, getLastQueryRequest } = useQueryContext()\n  const { showSqlEditor } = useQueryVisualizationContext()\n\n  const [sql, setSql] = useState('')\n  const inputRef = useRef<HTMLInputElement>(null)\n  useEffect(() => {\n    if (showSqlEditor) {\n      const defaultSql = getLastQueryRequest().query.sql\n\n      setSql(defaultSql)\n      inputRef.current?.focus()\n    }\n  }, [showSqlEditor, getLastQueryRequest])\n\n  const search = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault()\n    const lastQueryRequestDeepClone = getLastQueryRequest()\n    lastQueryRequestDeepClone.query.sql = sql\n    lastQueryRequestDeepClone.query.offset = 0\n    lastQueryRequestDeepClone.query.additionalFilters = []\n    lastQueryRequestDeepClone.query.selectedFacets = []\n    executeQueryRequest(lastQueryRequestDeepClone)\n  }\n\n  const handleChange = (event: React.FormEvent<HTMLInputElement>) => {\n    inputRef.current?.setCustomValidity('')\n    setSql(event.currentTarget.value)\n  }\n\n  return (\n    <div className={`QueryWrapperSqlEditorInput`}>\n      <Collapse in={showSqlEditor} timeout={{ enter: 300, exit: 300 }}>\n        <div className=\"QueryWrapperSqlEditorInput__helppopoverwrapper\">\n          <form\n            className=\"QueryWrapperSqlEditorInput__searchbar\"\n            onSubmit={search}\n          >\n            <SearchTwoTone className=\"QueryWrapperSqlEditorInput__searchbar__searchicon\" />\n            <input\n              ref={inputRef}\n              onChange={handleChange}\n              placeholder=\"Enter Query\"\n              value={sql}\n              type=\"text\"\n            />\n          </form>\n          <div className=\"QueryWrapperSqlEditorInput__helppopover\">\n            <HelpPopover\n              markdownText={helpMessage}\n              helpUrl={helpUrl}\n              placement=\"right\"\n            />\n          </div>\n        </div>\n      </Collapse>\n    </div>\n  )\n}\n\nexport default SqlEditor\n","import React from 'react'\nimport { ConfirmationDialog } from '../../ConfirmationDialog/ConfirmationDialog'\nimport { Link, Typography } from '@mui/material'\nimport { SRC_SIGN_IN_CLASS } from '../../../utils/SynapseConstants'\n\nexport type DownloadLoginModalProps = {\n  showModal?: boolean\n  onHide: () => void\n}\n\nexport const CONFIRM_BUTTON_TEXT = 'Sign in'\n\nconst content = (\n  <>\n    <Typography variant=\"smallText1\" marginBottom=\"10px\">\n      Anyone can browse public content on the Synapse website, but in order to\n      download and create content you will need to register for an account using\n      an email address.\n    </Typography>\n    <Typography variant=\"smallText1\">\n      To find out more see&nbsp;\n      <Link\n        href=\"https://help.synapse.org/docs/Managing-your-account.2055405596.html\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        User Accounts\n      </Link>\n      <span> and </span>\n      <Link\n        href=\"https://help.synapse.org/docs/Synapse-Governance.2004255211.html\"\n        rel=\"noopener noreferrer\"\n        target=\"_blank\"\n      >\n        Governance Overview\n      </Link>\n      .\n    </Typography>\n  </>\n)\n\nexport const DownloadLoginModal: React.FunctionComponent<\n  DownloadLoginModalProps\n> = props => {\n  return (\n    <ConfirmationDialog\n      open={true}\n      title=\"Sign In Required\"\n      content={content}\n      onCancel={() => props.onHide()}\n      onConfirm={() => props.onHide()}\n      confirmButtonText={CONFIRM_BUTTON_TEXT}\n      confirmButtonClassName={SRC_SIGN_IN_CLASS}\n    />\n  )\n}\n","import { Box, Link, Tab, Tabs, Typography } from '@mui/material'\nimport React, { useState } from 'react'\nimport { ConfirmationDialog } from './ConfirmationDialog/ConfirmationDialog'\n\nexport enum ProgrammaticOptionsTabs {\n  COMMAND_LINE = 'Command Line',\n  R = 'R',\n  PYTHON = 'Python',\n}\n\nexport type ProgrammaticInstructionsModalProps = {\n  show: boolean\n  title: string\n  onClose: () => void\n  pythonNotes?: React.ReactElement\n  pythonCode?: string\n  rNotes?: React.ReactElement\n  rCode?: string\n  cliNotes?: React.ReactElement\n  cliCode?: string\n  helpMarkdown?: string\n  helpUrl?: string\n}\n\n/**\n * Modal used to show programmatic instructions\n * @param props\n * @returns\n */\n\nexport const ProgrammaticInstructionsModal = ({\n  show,\n  title,\n  onClose,\n  pythonNotes,\n  pythonCode,\n  rNotes,\n  rCode,\n  cliNotes,\n  cliCode,\n  helpMarkdown,\n  helpUrl,\n}: ProgrammaticInstructionsModalProps) => {\n  let defaultTab\n  if (cliCode) {\n    defaultTab = ProgrammaticOptionsTabs.COMMAND_LINE\n  } else if (pythonCode) {\n    defaultTab = ProgrammaticOptionsTabs.PYTHON\n  } else {\n    defaultTab = ProgrammaticOptionsTabs.R\n  }\n  const [currentTab, setCurrentTab] =\n    useState<ProgrammaticOptionsTabs>(defaultTab)\n\n  const installationInstructions = (\n    <Typography variant=\"body1\">\n      Installation instructions are available at our{' '}\n      <Link\n        href={\n          'https://help.synapse.org/docs/Installing-Synapse-API-Clients.1985249668.html'\n        }\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        Synapse API Documentation Site\n      </Link>\n      .\n    </Typography>\n  )\n\n  const dialogContent = (\n    <>\n      <Box\n        sx={{\n          borderBottom: 1,\n          borderColor: 'divider',\n          marginBottom: 4,\n        }}\n      >\n        <Tabs\n          value={currentTab}\n          onChange={(\n            event: React.SyntheticEvent,\n            newValue: ProgrammaticOptionsTabs,\n          ) => {\n            event.stopPropagation()\n            setCurrentTab(newValue)\n          }}\n          textColor=\"secondary\"\n          indicatorColor=\"secondary\"\n        >\n          {cliCode && (\n            <Tab\n              value={ProgrammaticOptionsTabs.COMMAND_LINE}\n              label={ProgrammaticOptionsTabs.COMMAND_LINE}\n            />\n          )}\n          {rCode && (\n            <Tab\n              value={ProgrammaticOptionsTabs.R}\n              label={ProgrammaticOptionsTabs.R}\n            />\n          )}\n          {pythonCode && (\n            <Tab\n              value={ProgrammaticOptionsTabs.PYTHON}\n              label={ProgrammaticOptionsTabs.PYTHON}\n            />\n          )}\n        </Tabs>\n      </Box>\n      <Box sx={{ '& > p': { marginBottom: 3 } }}>\n        {currentTab === ProgrammaticOptionsTabs.COMMAND_LINE && (\n          <>\n            <Typography variant=\"body1\">{cliNotes}</Typography>\n            {installationInstructions}\n            <pre> {cliCode} </pre>\n          </>\n        )}\n        {currentTab === ProgrammaticOptionsTabs.R && (\n          <>\n            <Typography variant=\"body1\">{rNotes}</Typography>\n            {installationInstructions}\n            <pre>{rCode}</pre>\n          </>\n        )}\n        {currentTab === ProgrammaticOptionsTabs.PYTHON && (\n          <>\n            <Typography variant=\"body1\">{pythonNotes}</Typography>\n            {installationInstructions}\n            <pre>{pythonCode}</pre>\n          </>\n        )}\n      </Box>\n    </>\n  )\n\n  const titleHelpPopoverProps = helpMarkdown\n    ? {\n        markdownText: helpMarkdown,\n        helpUrl: helpUrl,\n      }\n    : undefined\n\n  return (\n    <ConfirmationDialog\n      open={show}\n      title={title}\n      onCancel={onClose}\n      onConfirm={onClose}\n      maxWidth=\"md\"\n      titleHelpPopoverProps={titleHelpPopoverProps}\n      content={dialogContent}\n    />\n  )\n}\n\nexport default ProgrammaticInstructionsModal\n","import React, { useEffect, useMemo, useState } from 'react'\nimport { Link } from '@mui/material'\nimport { QueryBundleRequest } from '@sage-bionetworks/synapse-types'\nimport { ProgrammaticInstructionsModal } from '../ProgrammaticInstructionsModal'\nimport { useGetQueryResultBundleWithAsyncStatus } from '../../synapse-queries'\nimport { SynapseConstants } from '../../utils'\n\nexport type ProgrammaticTableDownloadProps = {\n  queryBundleRequest: QueryBundleRequest\n  onHide: () => void\n}\n\nexport function ProgrammaticTableDownload({\n  queryBundleRequest,\n  onHide,\n}: ProgrammaticTableDownloadProps) {\n  const [generatedSql, setGeneratedSql] = useState('...')\n\n  const {\n    data: asyncJobStatus,\n    isLoading: queryIsLoading,\n    isPreviousData: newQueryIsFetching,\n  } = useGetQueryResultBundleWithAsyncStatus(\n    {\n      ...queryBundleRequest,\n      partMask: SynapseConstants.BUNDLE_MASK_COMBINED_SQL,\n    },\n    {\n      keepPreviousData: true,\n      useErrorBoundary: true,\n    },\n  )\n\n  const combinedSql = asyncJobStatus?.responseBody?.combinedSql\n  const isLoadingNewBundle = queryIsLoading || newQueryIsFetching\n\n  useEffect(() => {\n    if (combinedSql && !isLoadingNewBundle) {\n      // SWC-5686: The ID column is required by the client, and this column may not have been selected!\n      // Change the SQL to \"SELECT * ...\"\n      const indexOfFrom = combinedSql.toUpperCase().indexOf('FROM SYN')\n      const selectStarTransformedSql = `SELECT * ${combinedSql.substring(\n        indexOfFrom,\n      )}`\n      setGeneratedSql(selectStarTransformedSql)\n    }\n  }, [combinedSql, isLoadingNewBundle])\n\n  // Replace quotation marks with escaped quotations. For CLI, also escape backticks.\n  const commandLineSql = useMemo(\n    () => generatedSql.replace(/([\"`])/g, '\\\\$1'),\n    [generatedSql],\n  )\n\n  const clientSql = useMemo(\n    () => generatedSql.replace(/\"/g, '\\\\\"'),\n    [generatedSql],\n  )\n\n  return (\n    <ProgrammaticInstructionsModal\n      show={true}\n      onClose={onHide}\n      title=\"Download Programmatically\"\n      cliNotes={\n        <>\n          This command line code will download Synapse files AND file\n          annotations to your working directory.\n        </>\n      }\n      cliCode={`synapse get -q \"${commandLineSql}\"`}\n      rNotes={\n        <>\n          This R code will download file annotations only. Use{' '}\n          <Link\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            href=\"https://help.synapse.org/docs/Get-Started-with-Downloading-Data.2004254837.html#GetStartedwithDownloadingData-DownloadingFiles\"\n          >\n            synGet{'()'}\n          </Link>{' '}\n          to loop over the list of Synapse IDs from the file annotations to\n          download files.\n        </>\n      }\n      rCode={`query ${'<-'} synTableQuery(\"${clientSql}\")${'\\n'}read.table(query$filepath, sep = \",\")`}\n      pythonNotes={\n        <>\n          This Python code will download file annotations only. Use{' '}\n          <Link\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            href=\"https://help.synapse.org/docs/Get-Started-with-Downloading-Data.2004254837.html#GetStartedwithDownloadingData-DownloadingFiles\"\n          >\n            syn.get\n          </Link>{' '}\n          to loop over the list of Synapse IDs from the file annotations to\n          download files.\n        </>\n      }\n      pythonCode={`query = syn.tableQuery(\"${clientSql}\")${'\\n'}query.asDataFrame()`}\n    />\n  )\n}\n\nexport default ProgrammaticTableDownload\n","import { QueryContextType } from '../../QueryContext'\nimport { QueryVisualizationContextType } from '../../QueryVisualizationWrapper'\nimport pluralize from 'pluralize'\nimport { upperFirst } from 'lodash-es'\n\nconst TO_DOWNLOAD_CART = 'to Download Cart'\n\n/**\n * If the user invokes an action on the table (such as \"Send to CAVATICA\"), we want to tell the user how many rows they\n * will perform the action on.\n *\n * If selection is enabled and rows have been selected, return the number of selected rows.\n * If no rows have been selected, return the total number of query results.\n * If the total number of query results is unknown, return undefined.\n * @param hasSelectedRows\n * @param selectedRows\n * @param data\n */\nexport function getNumberOfResultsToInvokeAction(\n  hasSelectedRows: QueryVisualizationContextType['hasSelectedRows'],\n  selectedRows: QueryVisualizationContextType['selectedRows'],\n  data: QueryContextType['data'],\n) {\n  return hasSelectedRows ? selectedRows.length : data?.queryCount\n}\n\n/**\n * Returns copy for how to reference the number of results that will be affected by an action, such as \"Send to CAVATICA\".\n * Utilizes the unit description to return a count and pluralized unit description.\n *\n * If the user has not selected rows or applied any filters, return \"all <unit>s\".\n * If the user has applied filters but not selected rows, return the total number of query results to indicate that the filtered result set is used. e.g. '2 <unit>s'\n *   - If the total number of query results is unknown, the count is not included. e.g. '<unit>s'\n * If the user has selected rows, return the number of selected rows. e.g. '2 <unit>s'\n * @param hasResettableFilters\n * @param hasSelectedRows\n * @param selectedRows\n * @param data\n * @param unitDescription\n */\nexport function getNumberOfResultsToInvokeActionCopy(\n  hasResettableFilters: QueryContextType['hasResettableFilters'],\n  hasSelectedRows: QueryVisualizationContextType['hasSelectedRows'],\n  selectedRows: QueryVisualizationContextType['selectedRows'],\n  data: QueryContextType['data'],\n  unitDescription: QueryVisualizationContextType['unitDescription'],\n) {\n  if (!hasResettableFilters && !hasSelectedRows) {\n    return `all ${pluralize(unitDescription)}`\n  }\n\n  const numberOfResultsToInvokeAction = getNumberOfResultsToInvokeAction(\n    hasSelectedRows,\n    selectedRows,\n    data,\n  )\n  if (numberOfResultsToInvokeAction != null) {\n    return `${numberOfResultsToInvokeAction.toLocaleString()} ${pluralize(\n      unitDescription,\n      numberOfResultsToInvokeAction,\n    )}`\n  }\n  // Null count, so just return the pluralized unit description\n  return pluralize(unitDescription)\n}\n\n/**\n * Returns copy for how to reference the number of results that will be sent to the download list.\n * Utilizes the unit description to return a count and pluralized unit description.\n * @param hasResettableFilters\n * @param hasSelectedRows\n * @param selectedRows\n * @param data\n * @param unitDescription\n */\nexport function getNumberOfResultsToAddToDownloadListCopy(\n  hasResettableFilters: QueryContextType['hasResettableFilters'],\n  hasSelectedRows: QueryVisualizationContextType['hasSelectedRows'],\n  selectedRows: QueryVisualizationContextType['selectedRows'],\n  data: QueryContextType['data'],\n  unitDescription: QueryVisualizationContextType['unitDescription'],\n) {\n  if (!hasResettableFilters && !hasSelectedRows) {\n    return `Add All ${upperFirst(\n      pluralize(unitDescription),\n    )} ${TO_DOWNLOAD_CART}`\n  }\n\n  const numberOfResultsToInvokeAction = getNumberOfResultsToInvokeAction(\n    hasSelectedRows,\n    selectedRows,\n    data,\n  )\n  if (numberOfResultsToInvokeAction != null) {\n    return `Add ${numberOfResultsToInvokeAction.toLocaleString()} Selected ${upperFirst(\n      pluralize(unitDescription, numberOfResultsToInvokeAction),\n    )} ${TO_DOWNLOAD_CART}`\n  }\n  // Null count\n  return `Add ${TO_DOWNLOAD_CART}`\n}\n","import React from 'react'\nimport { Dropdown } from 'react-bootstrap'\nimport ModalDownload from '../../ModalDownload/ModalDownload'\nimport { isDataset } from '../../../utils/functions/EntityTypeUtils'\nimport { useSynapseContext } from '../../../utils/context/SynapseContext'\nimport { Tooltip } from '@mui/material'\nimport { useQueryContext } from '../../QueryContext/QueryContext'\nimport { ElementWithTooltip } from '../../widgets/ElementWithTooltip'\nimport { DownloadLoginModal } from './DownloadLoginModal'\nimport ProgrammaticTableDownload from '../../ProgrammaticTableDownload/ProgrammaticTableDownload'\nimport { getNumberOfResultsToAddToDownloadListCopy } from '../TopLevelControls/TopLevelControlsUtils'\nimport { useQueryVisualizationContext } from '../../QueryVisualizationWrapper'\nimport { canTableQueryBeAddedToDownloadList } from '../../../utils/functions/queryUtils'\n\nexport type DownloadOptionsProps = {\n  onDownloadFiles: () => void\n  darkTheme?: boolean\n}\n\nexport const DownloadOptions: React.FunctionComponent<\n  DownloadOptionsProps\n> = props => {\n  const { accessToken } = useSynapseContext()\n  const {\n    entity,\n    data: queryResultBundle,\n    getLastQueryRequest,\n    hasResettableFilters,\n  } = useQueryContext()\n  const { hasSelectedRows, selectedRows } = useQueryVisualizationContext()\n  const queryBundleRequest = getLastQueryRequest()\n  const [showLoginModal, setShowLoginModal] = React.useState(false)\n  const [showExportMetadata, setShowExportMetadata] = React.useState(false)\n  const [showProgrammaticOptions, setShowProgrammaticOptions] =\n    React.useState(false)\n  const { onDownloadFiles, darkTheme = true } = props\n\n  const showAddQueryToDownloadList = canTableQueryBeAddedToDownloadList(entity)\n\n  // SWC-5878 - Disable downloading a \"Draft\" dataset\n  const disableDownload = entity && isDataset(entity) && entity.isLatestVersion\n\n  return (\n    <React.Fragment>\n      <Dropdown as=\"span\">\n        <ElementWithTooltip\n          tooltipText={'Download Options'}\n          size=\"lg\"\n          darkTheme={darkTheme}\n          icon={'download'}\n        ></ElementWithTooltip>\n        <Dropdown.Menu\n          className=\"SRC-primary-color-hover-dropdown\"\n          alignRight={true}\n        >\n          {showAddQueryToDownloadList && (\n            <Tooltip\n              title={\n                disableDownload\n                  ? 'A draft version of a dataset cannot be added to the Download Cart'\n                  : null\n              }\n              placement=\"left\"\n              enterNextDelay={300}\n              describeChild={true}\n            >\n              <Dropdown.Item\n                role=\"button\"\n                className={disableDownload ? 'ignoreLink' : undefined}\n                disabled={disableDownload}\n                // If disabled, add pointer-events-auto so the tooltip still works\n                style={disableDownload ? { pointerEvents: 'auto' } : {}}\n                onClick={() =>\n                  accessToken ? onDownloadFiles() : setShowLoginModal(true)\n                }\n              >\n                {getNumberOfResultsToAddToDownloadListCopy(\n                  hasResettableFilters,\n                  hasSelectedRows,\n                  selectedRows,\n                  queryResultBundle,\n                  'file',\n                )}\n              </Dropdown.Item>\n            </Tooltip>\n          )}\n          <Dropdown.Item\n            onClick={() => {\n              setShowExportMetadata(true)\n            }}\n          >\n            Export Table\n          </Dropdown.Item>\n          <Tooltip\n            title={\n              disableDownload\n                ? 'A draft version of a dataset cannot be downloaded programmatically'\n                : null\n            }\n            placement=\"left\"\n            enterNextDelay={300}\n            describeChild={true}\n          >\n            <Dropdown.Item\n              className={disableDownload ? 'ignoreLink' : undefined}\n              disabled={disableDownload}\n              // If disabled, add pointer-events-auto so the tooltip still works\n              style={disableDownload ? { pointerEvents: 'auto' } : {}}\n              onClick={() => setShowProgrammaticOptions(true)}\n            >\n              Programmatic Options\n            </Dropdown.Item>\n          </Tooltip>\n        </Dropdown.Menu>\n      </Dropdown>\n      {showLoginModal && (\n        <DownloadLoginModal\n          showModal={showLoginModal}\n          onHide={() => setShowLoginModal(false)}\n        ></DownloadLoginModal>\n      )}\n      {\n        // modal can render anywhere, this is not a particular location\n        showExportMetadata && (\n          <ModalDownload\n            onClose={() => setShowExportMetadata(false)}\n            queryBundleRequest={queryBundleRequest}\n          />\n        )\n      }\n      {showProgrammaticOptions && queryResultBundle && (\n        <ProgrammaticTableDownload\n          onHide={() => setShowProgrammaticOptions(false)}\n          queryBundleRequest={queryBundleRequest}\n        ></ProgrammaticTableDownload>\n      )}\n    </React.Fragment>\n  )\n}\n","import React, { useState } from 'react'\nimport { Dropdown } from 'react-bootstrap'\nimport { ElementWithTooltip } from '../../widgets/ElementWithTooltip'\nimport { SelectColumn } from '@sage-bionetworks/synapse-types'\nimport IconSvg from '../../IconSvg/IconSvg'\nimport { useQueryVisualizationContext } from '../../QueryVisualizationWrapper'\n\ntype ColumnSelectionProps = {\n  headers?: SelectColumn[]\n  isColumnSelected: string[]\n  /* \n      The dropdown state is held in SynapseTable because the EllipsisDropdown has\n      an option to open the dropdown, 'show columns'\n    */\n  show?: boolean\n  onChange?: () => void\n  toggleColumnSelection: (name: string) => void\n  darkTheme?: boolean\n}\n\ntype MetadataEvent = {\n  source: 'select' | 'click' | 'rootClose' | 'keydown'\n}\n\nconst tooltipColumnSelectionId = 'addAndRemoveColumns'\n\nexport const ColumnSelection: React.FunctionComponent<ColumnSelectionProps> = (\n  props: ColumnSelectionProps,\n) => {\n  const { headers, isColumnSelected, toggleColumnSelection, darkTheme } = props\n\n  const { getColumnDisplayName } = useQueryVisualizationContext()\n  const [show, setShow] = useState(false)\n  const onDropdownClick = (\n    _show: boolean,\n    _event: React.SyntheticEvent<Dropdown, Event>,\n    metadata: MetadataEvent,\n  ) => {\n    if (metadata.source === 'rootClose') {\n      setShow(false)\n    } else {\n      setShow(true)\n    }\n  }\n  return (\n    <Dropdown\n      as=\"span\"\n      onToggle={(\n        show: boolean,\n        event: React.SyntheticEvent<Dropdown, Event>,\n        metadata: MetadataEvent,\n      ) => onDropdownClick(show, event, metadata)}\n      show={show}\n      drop=\"down\"\n    >\n      <ElementWithTooltip\n        tooltipText={'Show/Hide Columns'}\n        icon={darkTheme ? 'columnsdark' : 'columns'}\n        darkTheme={darkTheme}\n      ></ElementWithTooltip>\n\n      {/* There's a known issue if the number of dropdown items is very large, ~30+, the dropdown\n          will unexpectedly render with the list going upwards instead of downwards.\n        */}\n      <Dropdown.Menu\n        id={`${tooltipColumnSelectionId}-dropdown`}\n        className=\"SRC-primary-color-hover-dropdown\"\n        alignRight={true}\n      >\n        {headers?.map(header => {\n          const { name } = header\n          const isCurrentColumnSelected = isColumnSelected.includes(name)\n          const iconStyle: React.CSSProperties = {\n            width: '11px',\n            marginRight: '10px',\n            visibility: isCurrentColumnSelected ? undefined : 'hidden',\n          }\n          const maybeShowPrimaryColor = isCurrentColumnSelected\n            ? 'SRC-primary-text-color'\n            : ''\n          return (\n            <Dropdown.Item\n              onClick={() => toggleColumnSelection(name)}\n              key={name}\n            >\n              <span className={maybeShowPrimaryColor} style={iconStyle}>\n                <IconSvg icon=\"check\" sx={{ width: '14px' }} />\n              </span>\n              {getColumnDisplayName(name)}\n            </Dropdown.Item>\n          )\n        })}\n      </Dropdown.Menu>\n    </Dropdown>\n  )\n}\n","import { WarningSharp } from '@mui/icons-material'\nimport React from 'react'\nimport { SynapseConstants } from '../utils'\nimport { isDataset } from '../utils/functions/EntityTypeUtils'\nimport useGetQueryResultBundle from '../synapse-queries/entity/useGetQueryResultBundle'\nimport { QueryBundleRequest, Table } from '@sage-bionetworks/synapse-types'\nimport { Typography } from '@mui/material'\nimport { HelpPopover } from './HelpPopover'\n\nconst DATASETS_CURRENT_VERSION_HELP =\n  'Files may be unavailable because you do not have permission to see them, they have been deleted, or the Dataset has been misconfigured.'\n\n// Help text for snapshot does not indicate that files were deleted, because the deleted file would have been captured in the snapshot\nconst DATASETS_SNAPSHOT_HELP =\n  'Files may be unavailable because you do not have permission to see them or the Dataset was misconfigured.'\n\nexport type MissingQueryResultsWarningProps = {\n  entity: Table\n  versionNumber?: number\n}\n\n/**\n * If possible, this component will render a warning message if results may be missing from the query due to user permissions or\n * entities being deleted. If not possible, it will render an empty fragment.\n */\nconst MissingQueryResultsWarning: React.FunctionComponent<\n  MissingQueryResultsWarningProps\n> = ({ entity }) => {\n  // Currently, Datasets are the only table type for which we can reliably get this info.\n  // Other cases will need a new service, tracked by PLFM-7046\n  const isMissingResultsCalculable = entity && isDataset(entity)\n\n  const request: QueryBundleRequest = {\n    concreteType: 'org.sagebionetworks.repo.model.table.QueryBundleRequest',\n    query: {\n      sql: `SELECT * FROM ${entity.id!}${\n        !entity.isLatestVersion && entity.versionNumber\n          ? `.${entity.versionNumber}`\n          : ''\n      }`,\n    },\n    entityId: entity.id!,\n    partMask: SynapseConstants.BUNDLE_MASK_QUERY_COUNT,\n  }\n\n  const { data: queryResult } = useGetQueryResultBundle(request, {\n    enabled: isMissingResultsCalculable,\n  })\n  if (isMissingResultsCalculable && queryResult && entity) {\n    const totalVisibleResults = queryResult.queryCount!\n    const totalResults = entity.items?.length ?? 0\n\n    if (totalVisibleResults === totalResults) {\n      // All of the results are visible, so there is no need to show a warning.\n      return <></>\n    }\n\n    const difference = totalResults - totalVisibleResults\n\n    let helpMessage = ''\n\n    if (entity.isLatestVersion) {\n      helpMessage = DATASETS_CURRENT_VERSION_HELP\n    } else {\n      helpMessage = DATASETS_SNAPSHOT_HELP\n    }\n\n    return (\n      <Typography\n        className=\"SRC-centerContent\"\n        style={{\n          marginLeft: 10,\n        }}\n        variant=\"smallText1\"\n        color=\"textSecondary\"\n      >\n        <WarningSharp\n          className=\"SRC-color-warning\"\n          style={{ fontSize: '16px' }}\n        />\n        {difference.toLocaleString() + ' Unavailable'}\n        <HelpPopover\n          className=\"SRC-margin-left-5\"\n          markdownText={helpMessage}\n          placement=\"right\"\n        ></HelpPopover>\n      </Typography>\n    )\n  } else {\n    return <></>\n  }\n}\n\nexport default MissingQueryResultsWarning\n","import React from 'react'\n\nimport SvgIcon, { SvgIconProps } from '@mui/material/SvgIcon'\n\nexport const Cavatica = (props: SvgIconProps) => {\n  return (\n    <SvgIcon {...props} height={20} viewBox=\"0 0 828 828\">\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M431.861 124.107C429.221 125.451 426.3 126.325 423.211 126.618L415.557 269.363C425.193 272.363 432.244 281.226 432.538 291.777L546.545 306.978C547.637 304.478 549.14 302.198 550.968 300.223L431.861 124.107ZM440.166 117.167L559.852 294.141C562.599 293.058 565.591 292.463 568.722 292.463C570.453 292.463 572.141 292.645 573.769 292.99L610.725 206.16C604.806 201.75 600.973 194.698 600.973 186.75C600.973 185.26 601.107 183.801 601.365 182.386L441.299 115.545C440.943 116.102 440.565 116.643 440.166 117.167ZM592.91 316.651C592.91 308.875 589.241 301.955 583.538 297.53L620.577 210.504C622.062 210.789 623.594 210.938 625.161 210.938C626.63 210.938 628.069 210.807 629.466 210.556L731.473 433.838C730.391 434.8 729.396 435.857 728.5 436.997L590.583 327.017C592.076 323.875 592.91 320.361 592.91 316.651ZM583.917 335.473C581.689 337.273 579.135 338.687 576.358 339.61L583.089 517.099C590.244 517.108 596.671 520.225 601.094 525.171L724.074 457.849C723.597 455.954 723.344 453.97 723.344 451.927C723.344 450.256 723.513 448.625 723.836 447.049L583.917 335.473ZM728.974 467.442L606.306 534.593C606.917 536.719 607.244 538.965 607.244 541.287C607.244 548.415 604.161 554.822 599.256 559.249L641.245 621.527C643.538 620.712 645.991 620.232 648.544 620.149L730.593 469.194C730.025 468.637 729.485 468.052 728.974 467.442ZM583.056 565.476C585.404 565.476 587.675 565.141 589.822 564.517L632.158 627.31C631.966 627.503 631.778 627.699 631.594 627.899L410.195 538.521L559.218 545.414C561.176 556.807 571.104 565.476 583.056 565.476ZM398.804 545.534C396.287 548.348 393.122 550.569 389.543 551.963L409.137 701.286C417.873 701.562 425.441 706.471 429.464 713.637L625.468 648.181C625.267 646.925 625.162 645.637 625.162 644.324C625.162 641.892 625.521 639.543 626.189 637.329L398.804 545.534ZM562.043 339.906C563.203 340.239 564.398 340.487 565.622 340.643L572.407 519.563C566.319 522.552 561.672 528.026 559.786 534.662L404.882 527.497C404.474 522.293 402.419 517.552 399.238 513.794L562.043 339.906ZM410.775 316.532C419.563 315.66 426.967 310.086 430.436 302.36L544.551 317.575C544.802 324.26 547.766 330.252 552.374 334.479L390.572 507.295C390.475 507.252 390.377 507.209 390.279 507.167C390.238 507.15 390.198 507.133 390.158 507.116L390.076 507.082C390.033 507.064 389.99 507.046 389.947 507.028L389.865 506.995L389.777 506.959L410.775 316.532ZM379.129 505.281L400.089 315.201C392.761 312.535 387.086 306.428 385.018 298.835L257.588 294.164C256.151 297.414 254.02 300.287 251.382 302.596L371.2 507.193C373.659 506.132 376.329 505.468 379.129 505.281ZM259.627 283.465L384.573 288.044C386.438 277.936 394.588 270.031 404.819 268.531L412.502 125.228C410.883 124.629 409.345 123.86 407.91 122.945L256.526 272.5C258.369 275.76 259.478 279.489 259.627 283.465ZM362.471 513.594L241.899 307.711C240.201 308.179 238.428 308.466 236.602 308.551L212.287 436.373C220.668 440.173 226.498 448.613 226.498 458.415C226.498 459.246 226.456 460.068 226.374 460.879L359.809 517.332C360.578 516.001 361.471 514.75 362.471 513.594ZM398.548 703.346L378.889 553.531C372.829 553.065 367.395 550.367 363.407 546.257L210.476 626.279C210.993 628.246 211.268 630.31 211.268 632.439C211.268 633.973 211.125 635.474 210.852 636.929L387.408 713.365C389.959 708.957 393.861 705.428 398.548 703.346ZM205.482 616.74L357.805 537.036C357.01 534.64 356.58 532.077 356.58 529.415C356.58 528.832 356.601 528.255 356.641 527.683L222.907 471.103C219.186 477.13 212.894 481.402 205.56 482.387L197.048 610.394C200.309 611.871 203.185 614.051 205.482 616.74ZM178.121 458.415C178.121 469.164 185.133 478.276 194.832 481.425L186.398 608.26C184.797 608.304 183.234 608.504 181.725 608.845L94.2764 412.358C95.9686 411.18 97.5031 409.79 98.8419 408.229L179.06 451.717C178.449 453.844 178.121 456.091 178.121 458.415ZM184.274 442.296C188.584 437.476 194.798 434.395 201.734 434.233L226.002 306.661C217.341 302.979 211.268 294.394 211.268 284.389C211.268 275.81 215.734 268.274 222.469 263.98L194.346 201.663C193.431 201.768 192.501 201.822 191.558 201.822C189.935 201.822 188.349 201.662 186.816 201.357L94.3034 372.649C100.563 377.021 104.658 384.279 104.658 392.494C104.658 394.639 104.379 396.719 103.855 398.699L184.274 442.296ZM235.456 260.201C234.505 260.201 233.567 260.256 232.644 260.363L204.526 198.055C211.271 193.763 215.746 186.221 215.746 177.633C215.746 177.057 215.726 176.486 215.687 175.92L399.494 113.808C399.759 114.312 400.042 114.805 400.341 115.286L249.271 264.532C245.355 261.802 240.592 260.201 235.456 260.201ZM172.016 613.512C166.455 617.944 162.891 624.775 162.891 632.439C162.891 645.798 173.72 656.628 187.079 656.628C195.062 656.628 202.141 652.761 206.547 646.798L384.232 723.723C384.191 724.297 384.17 724.877 384.17 725.462C384.17 738.821 395 749.651 408.359 749.651C421.718 749.651 432.547 738.821 432.547 725.462C432.547 724.963 432.532 724.466 432.502 723.974L629.521 658.179C633.894 664.427 641.145 668.513 649.351 668.513C662.71 668.513 673.539 657.683 673.539 644.324C673.539 634.62 667.825 626.25 659.577 622.397L739.776 474.845C742.211 475.669 744.82 476.115 747.533 476.115C760.891 476.115 771.721 465.286 771.721 451.927C771.721 438.568 760.891 427.738 747.533 427.738C745.247 427.738 743.036 428.055 740.94 428.648L639.371 206.326C645.418 201.929 649.35 194.799 649.35 186.75C649.35 173.391 638.52 162.561 625.161 162.561C617.133 162.561 610.018 166.472 605.618 172.493L444.924 105.391C445.034 104.455 445.09 103.503 445.09 102.538C445.09 89.179 434.26 78.3494 420.901 78.3494C407.543 78.3494 396.713 89.179 396.713 102.538C396.713 102.819 396.718 103.099 396.727 103.378L212.553 165.614C208.382 158.343 200.542 153.445 191.558 153.445C178.199 153.445 167.369 164.274 167.369 177.633C167.369 185.513 171.137 192.513 176.97 196.93L84.2531 368.6C83.0204 368.406 81.7569 368.306 80.4698 368.306C67.1108 368.306 56.2812 379.135 56.2812 392.494C56.2812 405.853 67.1108 416.683 80.4698 416.683C81.7672 416.683 83.0407 416.581 84.2827 416.384L172.016 613.512Z\"\n        fill=\"url(#paint0_linear_271_30503)\"\n      />\n      <defs>\n        <linearGradient\n          id=\"paint0_linear_271_30503\"\n          x1=\"163.941\"\n          y1=\"159.14\"\n          x2=\"682.43\"\n          y2=\"676.053\"\n          gradientUnits=\"userSpaceOnUse\"\n        >\n          <stop stopColor=\"#9E5AA4\" />\n          <stop offset=\"0.526649\" stopColor=\"#7387C2\" />\n          <stop offset=\"1\" stopColor=\"#11AADE\" />\n        </linearGradient>\n      </defs>\n    </SvgIcon>\n  )\n}\n","import { Badge, BadgeProps, styled } from '@mui/material'\nimport { StyledComponent } from '@emotion/styled'\n\n/**\n * Renders a badge component in-line with other content, instead of as an overlay.\n */\nexport const InlineBadge: StyledComponent<BadgeProps> = styled(Badge, {\n  label: 'InlineBadge',\n})(({ theme }) => ({\n  position: 'static',\n  justifyContent: 'flex-end',\n  alignItems: 'center',\n  '.MuiBadge-badge': {\n    minWidth: 'unset',\n    position: 'relative',\n    transform: 'none',\n  },\n}))\n\nexport default InlineBadge\n","import React from 'react'\nimport { Box, Button, Paper, Typography } from '@mui/material'\nimport InlineBadge from '../../styled/InlineBadge'\n\nexport type RowSelectionUIProps = {\n  show?: boolean\n  selectedRowCount: number\n  onClearSelection: () => void\n  customControls?: React.ReactNode\n}\n\n/**\n * UI-only component for displaying the number of table rows selected, along with actions that can be performed on those rows\n */\nexport function RowSelectionUI(props: RowSelectionUIProps) {\n  const {\n    show = true,\n    selectedRowCount,\n    onClearSelection,\n    customControls = <></>,\n  } = props\n  if (!show) {\n    return <></>\n  }\n\n  return (\n    <Paper\n      sx={{\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        position: 'fixed',\n        bottom: 0,\n        left: 0,\n        width: '100%',\n        height: '70px',\n        zIndex: 1,\n        px: 2.5,\n      }}\n    >\n      <Button\n        variant=\"text\"\n        color=\"error\"\n        onClick={() => {\n          onClearSelection()\n        }}\n      >\n        Clear Selection\n      </Button>\n      <Box display={'flex'} gap={2.5} alignItems={'center'}>\n        <Box display={'flex'} gap={1.5}>\n          <InlineBadge\n            badgeContent={selectedRowCount.toLocaleString()}\n            color=\"primary\"\n            max={Infinity}\n          />\n          <Typography variant=\"body1\">Rows Selected</Typography>\n        </Box>\n        {customControls}\n      </Box>\n    </Paper>\n  )\n}\n","import React from 'react'\nimport { CustomControl } from '../TopLevelControls/TopLevelControls'\nimport { Button } from '@mui/material'\nimport { RowSelectionUI } from './RowSelectionUI'\nimport { useQueryContext } from '../../QueryContext'\nimport { useQueryVisualizationContext } from '../../QueryVisualizationWrapper'\nimport { Cavatica } from '../../../assets/icons/Cavatica'\nimport { GetAppTwoTone } from '@mui/icons-material'\nimport { canTableQueryBeAddedToDownloadList } from '../../../utils/functions/queryUtils'\n\nexport type RowSelectionControlsProps = {\n  showExportToCavatica?: boolean\n  customControls?: CustomControl[]\n}\n\n/**\n * This component is responsible for rendering the RowSelectionUI and the custom controls. Must be wrapped in a\n * QueryContext and a QueryVisualizationContext.\n * @param props\n * @constructor\n */\nexport function RowSelectionControls(props: RowSelectionControlsProps) {\n  const { customControls = [], showExportToCavatica = false } = props\n  const { data, entity, executeQueryRequest, getLastQueryRequest } =\n    useQueryContext()\n  const {\n    selectedRows,\n    setSelectedRows,\n    setIsShowingExportToCavaticaModal,\n    setShowDownloadConfirmation,\n  } = useQueryVisualizationContext()\n\n  const refresh = () => {\n    // clear selection\n    setSelectedRows([])\n    // refresh the data\n    executeQueryRequest(getLastQueryRequest())\n  }\n\n  const showAddToDownloadCart = canTableQueryBeAddedToDownloadList(entity)\n\n  return (\n    <RowSelectionUI\n      show={selectedRows.length > 0}\n      selectedRowCount={selectedRows.length}\n      onClearSelection={() => setSelectedRows([])}\n      customControls={\n        <>\n          {customControls.map(customControl => {\n            return (\n              <Button\n                key={customControl.buttonText}\n                variant=\"contained\"\n                onClick={() =>\n                  customControl.onClick({ data, selectedRows, refresh })\n                }\n                startIcon={customControl.icon}\n              >\n                {customControl.buttonText}\n              </Button>\n            )\n          })}\n          {showExportToCavatica && (\n            <Button\n              variant=\"outlined\"\n              onClick={() => {\n                setIsShowingExportToCavaticaModal(true)\n              }}\n              startIcon={<Cavatica />}\n            >\n              Send to CAVATICA\n            </Button>\n          )}\n          {showAddToDownloadCart && (\n            <Button\n              variant=\"contained\"\n              onClick={() => {\n                setShowDownloadConfirmation(true)\n              }}\n              startIcon={<GetAppTwoTone />}\n            >\n              Add to Download Cart\n            </Button>\n          )}\n        </>\n      }\n    />\n  )\n}\n","import React from 'react'\nimport Skeleton, { SkeletonProps } from '@mui/material/Skeleton'\n\n/**\n * Skeleton with a display value of `inline-block`. MUI applies `display: block` with high specificity, so it's easiest to just apply the style to the component.\n */\nexport const SkeletonInlineBlock: React.FC<SkeletonProps> = props => {\n  return (\n    <Skeleton\n      style={{ ...props.style, display: 'inline-block' }}\n      {...props}\n    ></Skeleton>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport Skeleton from '@mui/material/Skeleton'\nimport { times } from 'lodash-es'\n\nexport type SkeletonParagraphProps = {\n  numRows?: number\n  rowHeight?: string\n  className?: string\n}\n\n/**\n * Skeleton component designed to mimic a paragraph.\n */\nexport const SkeletonParagraph: React.FC<SkeletonParagraphProps> = ({\n  numRows = 5,\n  rowHeight,\n  className,\n}) => {\n  const [skeletons, setSkeletons] = useState<JSX.Element[]>([])\n\n  useEffect(() => {\n    const elements: JSX.Element[] = []\n    times(numRows, i => {\n      elements.push(\n        <React.Fragment key={i}>\n          <Skeleton\n            height={rowHeight}\n            width={i === numRows - 1 ? '35%' : '100%'}\n          ></Skeleton>\n        </React.Fragment>,\n      )\n    })\n    setSkeletons(elements)\n  }, [numRows, rowHeight])\n\n  return <div className={className}>{skeletons}</div>\n}\n","import SynapseClient from '../../synapse-client'\nimport { displayToast } from '../../components/ToastMessage/ToastMessage'\nimport { parseEntityIdFromSqlStatement } from '../../utils/functions/SqlFunctions'\nimport { useSynapseContext } from '../../utils/context/SynapseContext'\nimport {\n  DownloadFromTableRequest,\n  QueryBundleRequest,\n  SelectColumn,\n} from '@sage-bionetworks/synapse-types'\n\nexport function useExportToCavatica(\n  queryBundleRequest: QueryBundleRequest,\n  selectColumns?: SelectColumn[],\n) {\n  const { accessToken } = useSynapseContext()\n  const separator = ','\n  const writeHeader = true\n  const includeRowIdAndRowVersion = false\n  const originalSql = queryBundleRequest.query.sql\n  return async () => {\n    try {\n      // add drs_uri to select\n      const selectColumnsList = selectColumns?.map(col => col.name).join(',')\n      const sql = `SELECT CONCAT('drs://repo-prod.prod.sagebase.org/syn', id, '.', currentVersion) AS drs_uri, name as file_name, ${selectColumnsList} FROM ${originalSql.slice(\n        originalSql.toLowerCase().indexOf('from') + 'from'.length + 1,\n      )}`\n      const downloadFromTableRequest: DownloadFromTableRequest = {\n        sql,\n        entityId: parseEntityIdFromSqlStatement(sql),\n        selectedFacets: queryBundleRequest.query.selectedFacets,\n        concreteType:\n          'org.sagebionetworks.repo.model.table.DownloadFromTableRequest',\n        writeHeader,\n        includeRowIdAndRowVersion,\n        csvTableDescriptor: { separator },\n        additionalFilters: queryBundleRequest.query.additionalFilters,\n      }\n      const result = await SynapseClient.getDownloadFromTableRequest(\n        downloadFromTableRequest,\n        accessToken,\n      )\n      const presignedURL = await SynapseClient.getFileHandleByIdURL(\n        result.resultsFileHandleId,\n        accessToken,\n      )\n      // Send this presigned URL to the CAVATICA landing page where it can be processed\n      // NOTE: This dev environment redirect link only works if you are in the Seven Bridges VPN, so this cannot be tested by Sage\n      // const cavaticaURL = `https://synapse-vayu.sbgenomics.com/import-redirect/drs/csv/?URL=${encodeURIComponent(\n      //   presignedURL,\n      // )}`\n      // This is the production redirect link.\n      // TODO: Pass DRS url to manifest file rather than presigned URL\n      const cavaticaURL = `https://cavatica.sbgenomics.com/import-redirect/drs/csv/?URL=${encodeURIComponent(\n        presignedURL,\n      )}`\n      window.open(cavaticaURL, '_blank')\n    } catch (_err) {\n      displayToast(_err.reason, 'danger')\n    }\n  }\n}\n","import {\n  ActionRequiredCount,\n  AsynchronousJobStatus,\n  ColumnModel,\n  QueryBundleRequest,\n  QueryResultBundle,\n} from '@sage-bionetworks/synapse-types'\nimport { useMemo } from 'react'\nimport { cloneDeep } from 'lodash-es'\nimport { getFileColumnModelId } from '../../components/SynapseTable/SynapseTableUtils'\nimport { SynapseConstants } from '../../utils'\nimport { useGetQueryResultBundleWithAsyncStatus } from './useGetQueryResultBundle'\nimport { UseQueryOptions } from 'react-query'\nimport { SynapseClientError } from '../../utils/SynapseClientError'\n\nexport function useGetActionsRequiredForTableQuery(\n  queryBundleRequest: QueryBundleRequest,\n  columnModels: ColumnModel[],\n  fileColumnModelId?: number,\n  options?: UseQueryOptions<\n    AsynchronousJobStatus<QueryBundleRequest, QueryResultBundle>,\n    SynapseClientError,\n    ActionRequiredCount[]\n  >,\n) {\n  const queryRequestCopy = useMemo(() => {\n    const request = cloneDeep(queryBundleRequest)\n    const fileColumnId = fileColumnModelId || getFileColumnModelId(columnModels)\n    if (fileColumnId) {\n      request.query.selectFileColumn = Number(fileColumnId)\n    }\n    request.partMask = SynapseConstants.BUNDLE_MASK_ACTIONS_REQUIRED\n    return request\n  }, [columnModels, fileColumnModelId, queryBundleRequest])\n\n  return useGetQueryResultBundleWithAsyncStatus<ActionRequiredCount[]>(\n    queryRequestCopy,\n    {\n      ...options,\n      enabled:\n        (options?.enabled ?? true) &&\n        queryRequestCopy.query.selectFileColumn !== undefined,\n      select: data => {\n        return data?.responseBody?.actionsRequired!\n      },\n    },\n  )\n}\n","import {\n  ColumnModel,\n  ColumnSingleValueFilterOperator,\n  ColumnSingleValueQueryFilter,\n  QueryFilter,\n  Row,\n} from '@sage-bionetworks/synapse-types'\n\nexport function getPrimaryKeyINFilter(\n  primaryKeyColumnNames: string[],\n  selectedRows: Row[],\n  columnModels: ColumnModel[],\n): QueryFilter {\n  if (!primaryKeyColumnNames || primaryKeyColumnNames.length !== 1) {\n    // If the key is undefined, then the user should have never been able to apply a filter\n    // TODO: Handling a composite key would be tricky since the QueryFilter API currently only allows you to specify one column\n    throw new Error('rowSelectionPrimaryKey must be defined and have length 1')\n  }\n  // Apply a filter that should only return the selected rows\n  const primaryKeyColumnIndex = columnModels.findIndex(\n    cm => cm.name === primaryKeyColumnNames[0],\n  )\n  const filter: ColumnSingleValueQueryFilter = {\n    concreteType:\n      'org.sagebionetworks.repo.model.table.ColumnSingleValueQueryFilter',\n    columnName: primaryKeyColumnNames[0],\n    operator: ColumnSingleValueFilterOperator.IN,\n    values: selectedRows.map(row => row.values[primaryKeyColumnIndex]!),\n  }\n  return filter\n}\n","import React, { useMemo } from 'react'\nimport { ConfirmationDialog } from '../ConfirmationDialog'\nimport { Box, Link, Stack, Typography } from '@mui/material'\nimport { ActionRequiredListItem } from '../DownloadCart/ActionRequiredListItem'\nimport {\n  ActionRequiredCount,\n  ColumnModel,\n} from '@sage-bionetworks/synapse-types'\nimport { useQueryContext } from '../QueryContext'\nimport { SkeletonParagraph } from '../Skeleton'\nimport { useExportToCavatica } from '../../synapse-queries/entity/useExportToCavatica'\nimport { useQueryVisualizationContext } from '../QueryVisualizationWrapper'\nimport { getNumberOfResultsToInvokeActionCopy } from './TopLevelControls/TopLevelControlsUtils'\nimport { useGetActionsRequiredForTableQuery } from '../../synapse-queries/entity/useActionsRequiredForTableQuery'\nimport { getPrimaryKeyINFilter } from '../../utils/functions/QueryFilterUtils'\n\nexport type SendToCavaticaConfirmationDialogProps = {\n  cavaticaHelpURL?: string\n}\n\nexport default function SendToCavaticaConfirmationDialog(\n  props: SendToCavaticaConfirmationDialogProps,\n) {\n  const { cavaticaHelpURL } = props\n  const {\n    data,\n    getLastQueryRequest,\n    onViewSharingSettingsClicked,\n    hasResettableFilters,\n  } = useQueryContext()\n  const {\n    isShowingExportToCavaticaModal,\n    setIsShowingExportToCavaticaModal,\n    selectedRows,\n    hasSelectedRows,\n    unitDescription,\n    rowSelectionPrimaryKey,\n  } = useQueryVisualizationContext()\n\n  const cavaticaQueryRequest = useMemo(() => {\n    const request = getLastQueryRequest()\n    if (hasSelectedRows && rowSelectionPrimaryKey && data?.columnModels) {\n      request.query.additionalFilters = [\n        ...(request.query.additionalFilters || []),\n        getPrimaryKeyINFilter(\n          rowSelectionPrimaryKey,\n          selectedRows,\n          data.columnModels,\n        ),\n      ]\n    }\n    return request\n  }, [\n    getLastQueryRequest,\n    hasSelectedRows,\n    rowSelectionPrimaryKey,\n    data?.columnModels,\n    selectedRows,\n  ])\n\n  const exportToCavatica = useExportToCavatica(\n    cavaticaQueryRequest,\n    data?.queryResult?.queryResults.headers,\n  )\n\n  const { data: actions, isLoading } = useGetActionsRequiredForTableQuery(\n    cavaticaQueryRequest,\n    data?.columnModels as ColumnModel[],\n    undefined,\n    {\n      useErrorBoundary: true,\n      enabled: !!data?.columnModels,\n    },\n  )\n\n  const confirmButtonText = `Send ${getNumberOfResultsToInvokeActionCopy(\n    hasResettableFilters,\n    hasSelectedRows,\n    selectedRows,\n    data,\n    unitDescription,\n  )} to CAVATICA`\n\n  return (\n    <ConfirmationDialog\n      open={isShowingExportToCavaticaModal}\n      title=\"Send to CAVATICA\"\n      content={\n        <>\n          <Box\n            sx={{\n              backgroundColor: 'grey.100',\n              border: '1px solid',\n              borderColor: 'grey.300',\n              marginBottom: '15px',\n              padding: '10px 20px 10px 20px',\n            }}\n          >\n            <Typography variant=\"body1\" sx={{ textAlign: 'center' }}>\n              CAVATICA is a data analysis and sharing platform.\n              {cavaticaHelpURL && (\n                <>\n                  {' '}\n                  Read more about CAVATICA{' '}\n                  <Link href={cavaticaHelpURL} target=\"_blank\">\n                    here\n                  </Link>\n                  .\n                </>\n              )}\n            </Typography>\n          </Box>\n          <Typography\n            variant=\"body1\"\n            sx={{ fontWeight: 700, marginBottom: '10px' }}\n          >\n            You must meet these requirements from CAVATICA to send data:\n          </Typography>\n          <Typography\n            variant=\"body1\"\n            sx={{ marginLeft: '10px', marginBottom: '10px' }}\n          >\n            1. You must be logged in to a CAVATICA account.\n            <br />\n            2. You must connect your CAVATICA account to Synapse.\n          </Typography>\n          <Typography variant=\"body1\">\n            <Link\n              href=\"https://help.eliteportal.org/help/limited-data-commons#LimitedDataCommons-GainingAccess\"\n              target=\"_blank\"\n            >\n              Click here for instructions\n            </Link>\n          </Typography>\n          <Box\n            sx={{\n              backgroundColor: 'grey.100',\n              marginTop: '15px',\n              padding: '10px 20px 10px 20px',\n            }}\n          >\n            <Typography variant=\"body1\">\n              Note that we cannot provide support for CAVATICA. Please contact\n              CAVATICA’s{' '}\n              <Link href=\"mailto:support@sevenbridges.com \"> support</Link> for\n              issues related to the above.\n            </Typography>\n          </Box>\n          {isLoading ? (\n            <SkeletonParagraph numRows={4} />\n          ) : (\n            actions &&\n            actions.length > 0 && (\n              <>\n                <Typography\n                  variant=\"body1\"\n                  sx={{ fontWeight: 700, my: '10px' }}\n                >\n                  You must also take these actions before sending the selected\n                  data to CAVATICA:\n                </Typography>\n                <Typography\n                  variant=\"body1\"\n                  sx={{ marginLeft: '10px', marginBottom: '10px' }}\n                >\n                  The data you’ve selected is contains potentially identifying\n                  information about study participants.\n                  <br />\n                  You must take the following actions before we can send this\n                  data to CAVATICA.\n                </Typography>\n                <Stack gap={3}>\n                  {actions.map((item: ActionRequiredCount, index) => {\n                    if (item) {\n                      return (\n                        <ActionRequiredListItem\n                          key={index}\n                          action={item.action}\n                          count={item.count}\n                          onViewSharingSettingsClicked={\n                            onViewSharingSettingsClicked\n                          }\n                        />\n                      )\n                    } else return false\n                  })}\n                </Stack>\n              </>\n            )\n          )}\n          <Typography\n            variant=\"body1\"\n            sx={{ fontWeight: 700, marginTop: '15px' }}\n          >\n            When completed, click “Send to CAVATICA“ to finish the process\n            outside this application. You will be redirected to CAVATICA.\n          </Typography>\n        </>\n      }\n      confirmButtonText={confirmButtonText}\n      confirmButtonDisabled={isLoading || (actions && actions.length > 0)}\n      onConfirm={() => {\n        exportToCavatica()\n      }}\n      onCancel={() => setIsShowingExportToCavaticaModal(false)}\n      maxWidth=\"md\"\n    />\n  )\n}\n","import { cloneDeep } from 'lodash-es'\nimport React, { useMemo, useState } from 'react'\nimport { SQL_EDITOR } from '../../../utils/SynapseConstants'\nimport { Query, QueryResultBundle, Row } from '@sage-bionetworks/synapse-types'\nimport { useQueryVisualizationContext } from '../../QueryVisualizationWrapper'\nimport { useQueryContext } from '../../QueryContext'\nimport { ElementWithTooltip } from '../../widgets/ElementWithTooltip'\nimport { ColumnSelection, DownloadOptions } from '../table-top'\nimport { Button, Divider, Tooltip, Typography } from '@mui/material'\nimport QueryCount from '../../QueryCount/QueryCount'\nimport { Icon } from '../../row_renderers/utils'\nimport MissingQueryResultsWarning from '../../MissingQueryResultsWarning'\nimport { Cavatica } from '../../../assets/icons/Cavatica'\nimport { RowSelectionControls } from '../RowSelection/RowSelectionControls'\nimport SendToCavaticaConfirmationDialog from '../SendToCavaticaConfirmationDialog'\nimport {\n  getNumberOfResultsToInvokeAction,\n  getNumberOfResultsToInvokeActionCopy,\n} from './TopLevelControlsUtils'\n\nexport type TopLevelControlsProps = {\n  name?: string\n  hideDownload?: boolean\n  hideVisualizationsControl?: boolean\n  hideFacetFilterControl?: boolean\n  hideQueryCount?: boolean\n  hideSqlEditorControl?: boolean\n  showColumnSelection?: boolean\n  customControls?: CustomControl[]\n  showExportToCavatica?: boolean\n  cavaticaHelpURL?: string\n}\n\nexport type Control = {\n  key: string\n  icon: string\n  tooltipText: string\n}\n\nexport type CustomControlCallbackData = {\n  data: QueryResultBundle | undefined\n  selectedRows: Row[] | undefined\n  refresh: () => void\n}\n\nexport type CustomControl = {\n  buttonText: string\n  onClick: (event: CustomControlCallbackData) => void\n  classNames?: string\n  icon?: React.ReactNode\n}\n\nconst TopLevelControls = (props: TopLevelControlsProps) => {\n  const {\n    name,\n    showColumnSelection = false,\n    hideDownload = false,\n    hideVisualizationsControl = false,\n    hideFacetFilterControl = false,\n    hideQueryCount = false,\n    hideSqlEditorControl = true,\n    customControls,\n    showExportToCavatica = false,\n    cavaticaHelpURL,\n  } = props\n\n  const {\n    data,\n    entity,\n    getInitQueryRequest,\n    lockedColumn,\n    hasResettableFilters,\n  } = useQueryContext()\n\n  const {\n    setShowSearchBar,\n    columnsToShowInTable,\n    isRowSelectionVisible,\n    selectedRows,\n    hasSelectedRows,\n    setColumnsToShowInTable,\n    setIsShowingExportToCavaticaModal,\n    unitDescription,\n    setShowDownloadConfirmation,\n    showCopyToClipboard,\n    setShowFacetVisualization,\n    setShowSqlEditor,\n    showFacetFilter,\n    setShowFacetFilter,\n  } = useQueryVisualizationContext()\n\n  const [hasRecentlyCopiedToClipboard, setHasRecentlyCopiedToClipboard] =\n    useState(false)\n\n  /**\n   * We show the total number of results that would be shown if the user removed their filters.\n   * To do this, we have to create a query that captures those results.\n   */\n  const unfilteredResultsQuery: Query = useMemo(() => {\n    const initQueryRequest = getInitQueryRequest()\n    return {\n      sql: initQueryRequest.query.sql,\n      selectedFacets: (initQueryRequest.query.selectedFacets ?? []).filter(\n        facet => facet.columnName === lockedColumn?.columnName,\n      ),\n      additionalFilters: (\n        initQueryRequest.query.additionalFilters ?? []\n      ).filter(qf =>\n        'columnName' in qf\n          ? qf['columnName'] === lockedColumn?.columnName\n          : true,\n      ),\n    }\n  }, [getInitQueryRequest, lockedColumn?.columnName])\n\n  /**\n   * Handles the toggle of a column select, this will cause the table to\n   * either show the column or hide depending on the prior state of the column\n   *\n   * @memberof SynapseTable\n   */\n  const toggleColumnSelection = (columnName: string) => {\n    let columnsToShowInTableCopy = cloneDeep(columnsToShowInTable)\n    if (columnsToShowInTableCopy.includes(columnName)) {\n      columnsToShowInTableCopy = columnsToShowInTableCopy.filter(\n        el => el !== columnName,\n      )\n    } else {\n      columnsToShowInTableCopy.push(columnName)\n    }\n    setColumnsToShowInTable(columnsToShowInTableCopy)\n  }\n\n  const numberOfResultsToInvokeAction = getNumberOfResultsToInvokeAction(\n    hasSelectedRows,\n    selectedRows,\n    data,\n  )\n  const numberOfResultsToInvokeActionAsText =\n    getNumberOfResultsToInvokeActionCopy(\n      hasResettableFilters,\n      hasSelectedRows,\n      selectedRows,\n      data,\n      unitDescription,\n    )\n  return (\n    <div className={`TopLevelControls`} data-testid=\"TopLevelControls\">\n      <div>\n        <div className=\"TopLevelControls__querycount\">\n          {name && (\n            <>\n              <Typography variant=\"sectionTitle\" role=\"heading\">\n                {name}{' '}\n                {!hideQueryCount && (\n                  <QueryCount query={unfilteredResultsQuery} parens={true} />\n                )}\n              </Typography>\n              {!hideQueryCount && entity && (\n                <MissingQueryResultsWarning entity={entity} />\n              )}\n            </>\n          )}\n          {!hideFacetFilterControl && (\n            <a\n              onClick={() => setShowFacetFilter(value => !value)}\n              className=\"TopLevelControls__querycount__facetFilterLink SRC-no-underline-on-hover\"\n            >\n              <Icon type={showFacetFilter ? 'close' : 'filter'}></Icon>\n              <span className=\"TopLevelControls__querycount__facetFilterLink__text\">\n                {showFacetFilter ? 'Hide' : 'Show'} filters\n              </span>\n            </a>\n          )}\n        </div>\n        <div className=\"TopLevelControls__actions\">\n          {showExportToCavatica && (\n            <>\n              <Tooltip\n                title={\n                  <>\n                    This action will send a reference to{' '}\n                    {hasSelectedRows\n                      ? 'each selected file'\n                      : 'every file in the current table'}{' '}\n                    to CAVATICA.{' '}\n                    {!hasSelectedRows && showFacetFilter && (\n                      <>\n                        You can change what is sent by applying filters using\n                        the controls in the sidebar.\n                      </>\n                    )}\n                    {hasSelectedRows && (\n                      <>\n                        You can change what is sent by selecting a different set\n                        of files.\n                      </>\n                    )}\n                  </>\n                }\n              >\n                <Button\n                  variant=\"text\"\n                  disabled={!numberOfResultsToInvokeAction}\n                  onClick={() => {\n                    setIsShowingExportToCavaticaModal(true)\n                  }}\n                  startIcon={<Cavatica />}\n                >\n                  Send {numberOfResultsToInvokeActionAsText} to CAVATICA\n                </Button>\n              </Tooltip>\n              <Divider orientation=\"vertical\" variant=\"middle\" flexItem />\n            </>\n          )}\n          <ElementWithTooltip\n            tooltipText={'Show / Hide Search Bar'}\n            callbackFn={() => setShowSearchBar(value => !value)}\n            darkTheme={true}\n            icon={'search'}\n          />\n          {showCopyToClipboard && (\n            <ElementWithTooltip\n              tooltipText={\n                hasRecentlyCopiedToClipboard\n                  ? 'Copied to clipboard'\n                  : 'Copy this search to the clipboard'\n              }\n              callbackFn={() => {\n                navigator.clipboard.writeText(window.location.href)\n                setHasRecentlyCopiedToClipboard(true)\n                setTimeout(() => {\n                  setHasRecentlyCopiedToClipboard(false)\n                }, 3000)\n              }}\n              darkTheme={true}\n              icon={'clipboard'}\n            />\n          )}\n          {!hideVisualizationsControl && (\n            <ElementWithTooltip\n              tooltipText={'Show / Hide Visualizations'}\n              callbackFn={() => setShowFacetVisualization(value => !value)}\n              darkTheme={true}\n              icon={'chart'}\n            />\n          )}\n          {!hideDownload && (\n            <DownloadOptions\n              darkTheme={true}\n              onDownloadFiles={() => setShowDownloadConfirmation(true)}\n            />\n          )}\n\n          {!hideSqlEditorControl && (\n            <ElementWithTooltip\n              tooltipText={'Show / Hide the Advanced Query Editor'}\n              callbackFn={() => setShowSqlEditor(value => !value)}\n              darkTheme={true}\n              icon={SQL_EDITOR}\n            />\n          )}\n\n          {isRowSelectionVisible && (\n            <RowSelectionControls\n              customControls={customControls}\n              showExportToCavatica={showExportToCavatica}\n            />\n          )}\n          {showColumnSelection && (\n            <ColumnSelection\n              headers={data?.selectColumns}\n              isColumnSelected={columnsToShowInTable}\n              toggleColumnSelection={toggleColumnSelection}\n              darkTheme={true}\n            />\n          )}\n          <SendToCavaticaConfirmationDialog cavaticaHelpURL={cavaticaHelpURL} />\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default TopLevelControls\n","import { uniqueId as _uniqueId } from 'lodash-es'\nimport React, { useEffect, useState } from 'react'\n\nexport type CheckboxProps = {\n  label: string\n  hideLabel?: boolean\n  checked?: boolean\n  className?: string\n  onChange: (newValue: boolean) => void\n  isSelectAll?: boolean\n  children?: React.ReactChild\n  onClick?: (event: React.SyntheticEvent<HTMLDivElement>) => void\n  disabled?: boolean\n  'data-testid'?: string\n}\n\nexport const Checkbox: React.FunctionComponent<CheckboxProps> = (\n  props: CheckboxProps,\n) => {\n  const {\n    checked: propsChecked = false,\n    hideLabel = false,\n    isSelectAll = false,\n    disabled = false,\n  } = props\n  const [checked, setChecked] = useState<boolean>(propsChecked)\n  const [uniqueId] = useState(_uniqueId('src-checkbox-'))\n\n  useEffect(() => {\n    setChecked(propsChecked)\n  }, [propsChecked])\n\n  const handleCheckboxChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    props.onChange(event.target.checked)\n    if (isSelectAll && event.target.checked === false) {\n      /* \n         You can click the all checkbox from off -> on\n         but clicking it off is a no-op\n      */\n      setChecked(true)\n    } else {\n      setChecked(event.target.checked)\n    }\n  }\n\n  let className = 'checkbox'\n  if (props.className) {\n    className += ` ${props.className}`\n  }\n\n  return (\n    <div className={className} onClick={props.onClick}>\n      <input\n        aria-label={props.label}\n        type=\"checkbox\"\n        checked={checked}\n        id={uniqueId}\n        onChange={handleCheckboxChange}\n        disabled={disabled}\n        data-testid={props['data-testid']}\n      />\n      {<label htmlFor={uniqueId}>{hideLabel ? <></> : props.label}</label>}\n      {props.children ?? <></>}\n    </div>\n  )\n}\n","import React from 'react'\n\ntype IconPlusProps = {\n  title?: string\n}\n\nconst IconPlus = (props: React.SVGProps<SVGSVGElement> & IconPlusProps) => (\n  <svg\n    {...props}\n    className={`Icon-Plus ${props.className ?? ''}`}\n    width=\"15\"\n    height=\"14\"\n    viewBox=\"0 0 15 14\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    {props.title && <title>{props.title}</title>}\n    <path d=\"M14.3887 8H8.38867V14H6.38867V8H0.388672V6H6.38867V0H8.38867V6H14.3887V8Z\" />\n  </svg>\n)\n\nexport default IconPlus\n","import React from 'react'\n\ntype IconMinusProps = {\n  title?: string\n}\n\nconst IconMinus = (props: React.SVGProps<SVGSVGElement> & IconMinusProps) => (\n  <svg\n    {...props}\n    className={`Icon-Minus ${props.className ?? ''}`}\n    width=\"15\"\n    height=\"2\"\n    viewBox=\"0 0 15 2\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    {props.title && <title>{props.title}</title>}\n    <path d=\"M14.3887 2H8.38867H6.38867H0.388672V0H6.38867H8.38867H14.3887V2Z\" />\n  </svg>\n)\n\nexport default IconMinus\n","import React from 'react'\nimport IconPlus from '../../../assets/icons/IconPlus'\nimport IconMinus from '../../../assets/icons/IconMinus'\nimport { useQueryVisualizationContext } from '../../QueryVisualizationWrapper'\n\nexport type FacetFilterHeaderProps = {\n  label: string\n  isCollapsed: boolean\n  onClick: (newValue: boolean) => void\n}\n\nexport const FacetFilterHeader: React.FunctionComponent<\n  FacetFilterHeaderProps\n> = ({ label, isCollapsed, onClick }: FacetFilterHeaderProps) => {\n  const { getColumnDisplayName } = useQueryVisualizationContext()\n  return (\n    <div className=\"FacetFilterHeader\">\n      <label className=\"FacetFilterHeader__label\">\n        {getColumnDisplayName(label)}\n      </label>\n      <button\n        className=\"FacetFilterHeader__collapseToggleBtn\"\n        onClick={() => onClick(!isCollapsed)}\n      >\n        {isCollapsed ? (\n          <IconPlus className=\"icon-plus\" title=\"Expand Menu\" />\n        ) : (\n          <IconMinus className=\"icon-minus\" title=\"Collapse Menu\" />\n        )}\n      </button>\n    </div>\n  )\n}\n","import { Collapse } from '@mui/material'\nimport React, { useState } from 'react'\nimport { Dropdown } from 'react-bootstrap'\nimport useDeepCompareEffect from 'use-deep-compare-effect'\nimport { ElementWithTooltip } from '../ElementWithTooltip'\nimport { SynapseConstants } from '../../../utils'\nimport useGetInfoFromIds from '../../../utils/hooks/useGetInfoFromIds'\nimport {\n  ColumnTypeEnum,\n  Evaluation,\n  UserGroupHeader,\n} from '@sage-bionetworks/synapse-types'\nimport { EntityHeader } from '@sage-bionetworks/synapse-types'\nimport {\n  FacetColumnResultValueCount,\n  SelectColumn,\n} from '@sage-bionetworks/synapse-types'\nimport IconSvg from '../../IconSvg/IconSvg'\nimport { Checkbox } from '../Checkbox'\nimport { FacetFilterHeader } from './FacetFilterHeader'\n\nexport type EnumFacetFilterProps = {\n  facetValues: FacetColumnResultValueCount[]\n  columnModel: SelectColumn\n  onChange: (facetNamesMap: Record<string, boolean>) => void\n  onClear: () => void\n  containerAs?: 'Collapsible' | 'Dropdown'\n  dropdownType?: 'Icon' | 'SelectBox'\n  collapsed?: boolean\n}\n\nfunction valueToId(value: string): string {\n  return value.replace(/\\s/g, '').toLowerCase()\n}\n\nfunction valueToLabel(\n  facet: FacetColumnResultValueCount,\n  profiles: UserGroupHeader[] = [],\n  entityHeaders: EntityHeader[] = [],\n  evaluations: Evaluation[] = [],\n): string {\n  const { value } = facet\n  let displayValue = value\n  if (value === SynapseConstants.VALUE_NOT_SET) {\n    displayValue = SynapseConstants.FRIENDLY_VALUE_NOT_SET\n  }\n  const profile = profiles.find(profile => profile.ownerId === value)\n  if (profile) {\n    displayValue = profile ? profile.userName : `unknown (${value})`\n  }\n\n  const eh = entityHeaders.find(eh => eh.id === value)\n  if (eh) {\n    displayValue = eh ? eh.name : `unknown (${value})`\n  }\n\n  const evaluation = evaluations.find(evaluation => evaluation.id === value)\n  if (evaluation?.name) {\n    displayValue = evaluation.name\n  }\n\n  return `${displayValue}`\n}\n\nfunction formatFacetValuesForDisplay(\n  facetValues: FacetColumnResultValueCount[],\n  isShowAll: boolean,\n  visibleItemsCount: number,\n) {\n  //sort facets by count\n  const facets = [...facetValues.sort((a, b) => b.count - a.count)]\n  if (isShowAll || facets.length <= visibleItemsCount) {\n    return facets\n  } else {\n    //if we are not hiding elected facets\n    if (facets.slice(visibleItemsCount).find(item => item.isSelected)) {\n      return facets\n    } else {\n      return facets.splice(0, visibleItemsCount)\n    }\n  }\n}\n\n/************* QUERY ENUM CONMPONENT  *************/\n\nexport const EnumFacetFilter: React.FunctionComponent<EnumFacetFilterProps> = ({\n  facetValues,\n  columnModel,\n  onClear,\n  onChange,\n  containerAs = 'Collapsible',\n  dropdownType = 'Icon',\n  collapsed = false,\n}: EnumFacetFilterProps) => {\n  const [isShowAll, setIsShowAll] = useState<boolean>(false)\n  const [isCollapsed, setIsCollapsed] = useState<boolean>(collapsed)\n  const [isShowDropdown, setIsShowDropdown] = useState<boolean>(false)\n  const [showSearch, setShowSearch] = useState<boolean>(false)\n  const [searchTerm, setSearchText] = useState<string>('')\n  const [filteredSet, setFilteredSet] =\n    useState<FacetColumnResultValueCount[]>(facetValues)\n\n  useDeepCompareEffect(() => {\n    setFilteredSet(facetValues)\n  }, [facetValues])\n\n  const visibleItemsCount = 5\n  const selectionDelay = 1500 // in ms\n  const textInput: React.RefObject<HTMLInputElement> = React.createRef()\n  const selectedValuesMap: Record<string, boolean> = {}\n  let timer: ReturnType<typeof setTimeout>\n\n  const allIsSelected = facetValues.filter(item => item.isSelected).length === 0\n\n  const userIds =\n    columnModel?.columnType === ColumnTypeEnum.USERID ||\n    columnModel?.columnType === ColumnTypeEnum.USERID_LIST\n      ? facetValues.map(facet => facet.value)\n      : []\n  const userGroupHeaders = useGetInfoFromIds<UserGroupHeader>({\n    ids: userIds,\n    type: 'USER_PROFILE',\n  })\n\n  const entityIds =\n    columnModel?.columnType === ColumnTypeEnum.ENTITYID ||\n    columnModel?.columnType === ColumnTypeEnum.ENTITYID_LIST\n      ? facetValues.map(facet => facet.value)\n      : []\n  const entityHeaders = useGetInfoFromIds<EntityHeader>({\n    ids: entityIds,\n    type: 'ENTITY_HEADER',\n  })\n\n  const evaluationIds =\n    columnModel?.columnType === ColumnTypeEnum.EVALUATIONID\n      ? facetValues.map(facet => facet.value)\n      : []\n  const evaluations = useGetInfoFromIds<Evaluation>({\n    ids: evaluationIds,\n    type: 'EVALUATION_QUEUE',\n  })\n\n  const handleTextInputFilterEvent = (\n    e: React.ChangeEvent<HTMLInputElement>,\n  ) => {\n    const inputValue: string = e.target.value\n    setSearchText(inputValue)\n    setIsShowAll(true) // While in filter search mode, display all filtered values\n\n    if (!inputValue) {\n      // if input field is empty, display all facet values\n      facetValues.forEach(obj => {\n        obj.isSelected = false\n      })\n      setFilteredSet(facetValues)\n    } else {\n      // display only facet values that contain text from the text input field\n      const filtered = facetValues.filter(obj => {\n        const label = valueToLabel(\n          obj,\n          userGroupHeaders,\n          entityHeaders,\n          evaluations,\n        )\n        return label.toLowerCase().indexOf(inputValue.trim().toLowerCase()) > -1\n          ? obj\n          : null\n      })\n      setFilteredSet(filtered)\n    }\n  }\n\n  if (!columnModel) {\n    return <></>\n  }\n  const isDropdown = containerAs === 'Dropdown'\n  const content = (\n    <div className={isDropdown ? 'EnumFacetFilter__dropdown_menu' : ''}>\n      <div className=\"EnumFacetFilter__checkboxContainer--forAll\">\n        <div\n          className={\n            showSearch\n              ? 'EnumFacetFilter__search active'\n              : 'EnumFacetFilter__search'\n          }\n        >\n          <button // Close Search Button\n            className=\"EnumFacetFilter__closeSearch\"\n            onClick={() => {\n              setFilteredSet(facetValues)\n              setShowSearch(false)\n              setIsShowAll(false)\n            }}\n          >\n            <span className=\"EnumFacetFilter__previous\">\n              <IconSvg icon=\"arrowBack\" />\n            </span>\n          </button>\n          {searchTerm.length > 0 && (\n            <button // Clear Search Filter Text Button\n              className=\"EnumFacetFilter__resetSearch\"\n              onClick={() => {\n                setSearchText('')\n                textInput.current?.focus()\n              }}\n            >\n              <span className=\"EnumFacetFilter__reset\">\n                <IconSvg icon=\"close\" />\n              </span>\n            </button>\n          )}\n          <input // Search Filter Text\n            type=\"text\"\n            placeholder=\"Find values\"\n            value={searchTerm}\n            ref={textInput}\n            onChange={e => {\n              handleTextInputFilterEvent(e)\n            }}\n          />\n        </div>\n        {!showSearch && (\n          <div className=\"EnumFacetFilter__checkAll\">\n            <Checkbox\n              className=\"EnumFacetFilter__checkbox\"\n              onChange={() => {\n                onClear()\n              }}\n              key=\"select_all\"\n              checked={allIsSelected}\n              label=\"All\"\n              isSelectAll={true}\n            ></Checkbox>\n            <button\n              className=\"EnumFacetFilter__searchbtn\"\n              onClick={() => {\n                setSearchText('')\n                setShowSearch(true)\n                textInput.current?.focus()\n              }}\n            >\n              <span className=\"EnumFacetFilter__searchicon\">\n                <IconSvg icon=\"search\" />\n              </span>\n            </button>\n          </div>\n        )}\n      </div>\n      <div>\n        {filteredSet.length > 0 &&\n          formatFacetValuesForDisplay(\n            filteredSet,\n            isShowAll || isDropdown,\n            visibleItemsCount,\n          ).map((facet, index: number) => (\n            <EnumFacetFilterOption\n              key={`checkLabel${index}`}\n              id={valueToId(facet.value)}\n              index={index}\n              label={valueToLabel(\n                facet,\n                userGroupHeaders,\n                entityHeaders,\n                evaluations,\n              )}\n              count={facet.count}\n              isDropdown={isDropdown}\n              initialIsSelected={facet.isSelected}\n              onChange={(isChecked: boolean) => {\n                selectedValuesMap[facet.value] = isChecked\n                clearTimeout(timer)\n                timer = setTimeout(() => {\n                  onChange(selectedValuesMap)\n                  setIsShowDropdown(false)\n                }, selectionDelay)\n              }}\n            />\n          ))}\n        {!isDropdown && (\n          <>\n            {!isShowAll && filteredSet.length > visibleItemsCount && (\n              <button\n                className=\"EnumFacetFilter__showMoreFacetsBtn\"\n                onClick={() => setIsShowAll(true)}\n              >\n                <div className=\"EnumFacetFilter__checkboxContainer\">\n                  <div className=\"EnumFacetFilter__showMoreFacetsLabel\">\n                    Show all ({filteredSet.length})\n                  </div>\n                </div>\n              </button>\n            )}\n            {isShowAll && filteredSet.length > visibleItemsCount && (\n              <button\n                className=\"EnumFacetFilter__showMoreFacetsBtn\"\n                onClick={() => setIsShowAll(false)}\n              >\n                <div className=\"EnumFacetFilter__checkboxContainer\">\n                  <div className=\"EnumFacetFilter__showMoreFacetsLabel\">\n                    Show less\n                  </div>\n                </div>\n              </button>\n            )}\n          </>\n        )}\n        {filteredSet.length <= 0 && (\n          <div className=\"EnumFacetFilter__noMatch\">No match found</div>\n        )}\n      </div>\n    </div>\n  )\n\n  const onToggle = () => setIsShowDropdown(!isShowDropdown)\n\n  if (isDropdown) {\n    if (dropdownType === 'SelectBox') {\n      return (\n        <Dropdown\n          className={'EnumFacetFilter EnumFacetFilterSelect'}\n          show={isShowDropdown}\n          onToggle={onToggle}\n        >\n          <Dropdown.Toggle className=\"secondary-caret\" variant=\"gray-select\">\n            {allIsSelected && 'All'}\n            {!allIsSelected &&\n              facetValues.filter(item => item.isSelected).length === 1 &&\n              facetValues.filter(item => item.isSelected)[0].value}\n            {!allIsSelected &&\n              facetValues.filter(item => item.isSelected).length > 1 &&\n              'Multiple Values Selected'}\n          </Dropdown.Toggle>\n          <Dropdown.Menu>{content}</Dropdown.Menu>\n        </Dropdown>\n      )\n    } else {\n      return (\n        <Dropdown\n          className=\"EnumFacetFilter\"\n          show={isShowDropdown}\n          onToggle={onToggle}\n        >\n          <ElementWithTooltip\n            tooltipText=\"Filter by specific facet\"\n            key=\"facetFilterTooltip\"\n            darkTheme={false}\n            icon={'filter'}\n          />\n          <Dropdown.Menu>{content}</Dropdown.Menu>\n        </Dropdown>\n      )\n    }\n  } else {\n    return (\n      <>\n        <FacetFilterHeader\n          isCollapsed={isCollapsed}\n          label={columnModel.name}\n          onClick={(isCollapsed: boolean) => setIsCollapsed(isCollapsed)}\n        />\n        <Collapse className=\"EnumFacetFilter\" in={!isCollapsed}>\n          {content}\n        </Collapse>\n      </>\n    )\n  }\n}\n\ntype EnumFacetFilterOptionProps = {\n  readonly id: string\n  readonly index: number\n  readonly label: string\n  readonly count: number\n  readonly isDropdown: boolean\n  readonly initialIsSelected: boolean\n  readonly onChange: (selected: boolean) => void\n}\n\nfunction EnumFacetFilterOption({\n  id,\n  index,\n  label,\n  count,\n  isDropdown,\n  initialIsSelected,\n  onChange,\n}: EnumFacetFilterOptionProps) {\n  const [isSelected, setIsSelected] = useState(initialIsSelected)\n\n  React.useEffect(() => {\n    setIsSelected(initialIsSelected)\n  }, [initialIsSelected])\n\n  return (\n    <div\n      className=\"EnumFacetFilter__checkboxContainer\"\n      onClick={() => {\n        if (isDropdown) {\n          setIsSelected(!isSelected)\n          onChange(!isSelected)\n        }\n      }}\n    >\n      <Checkbox\n        className=\"EnumFacetFilter__checkbox\"\n        onClick={event => event.stopPropagation()}\n        onChange={newValue => {\n          setIsSelected(newValue)\n          onChange(newValue)\n        }}\n        key={`${id}-${index}`}\n        checked={isSelected}\n        label={label}\n      ></Checkbox>\n      {isDropdown && <span className=\"EnumFacetFilter__count\">({count})</span>}\n      {!isDropdown && <div className=\"EnumFacetFilter__count\">{count}</div>}\n    </div>\n  )\n}\n","import React from 'react'\nimport { FacetColumnResult } from '@sage-bionetworks/synapse-types'\nimport IconSvg from '../../IconSvg/IconSvg'\nimport { useQueryVisualizationContext } from '../../QueryVisualizationWrapper'\n\nexport type FacetChipProps = {\n  facet: FacetColumnResult\n  isChecked: boolean\n  onClick: () => void\n}\n\nexport const FacetChip: React.FC<FacetChipProps> = ({\n  facet,\n  isChecked,\n  onClick,\n}) => {\n  const { getColumnDisplayName } = useQueryVisualizationContext()\n  return (\n    <button className={`Chip ${isChecked ? 'Checked' : ''}`} onClick={onClick}>\n      {getColumnDisplayName(facet.columnName)}\n      <IconSvg\n        icon={isChecked ? 'check' : 'add'}\n        sx={{\n          width: '14px',\n          paddingLeft: '0.2rem',\n        }}\n      ></IconSvg>\n    </button>\n  )\n}\n","import React, { useState } from 'react'\nimport dayjs from 'dayjs'\n\ntype ControlType = 'number' | 'date'\n\nexport type RangeValues<T = string | number> = {\n  min?: T\n  max?: T\n}\n\nexport type RangeProps = {\n  type: ControlType\n  initialValues?: RangeValues\n  className?: string\n  errorText?: string\n  onChange: (newValues: RangeValues) => void\n}\n\nexport const Range: React.FunctionComponent<RangeProps> = (\n  props: RangeProps,\n) => {\n  const errorText = 'Min value should be less then max value'\n  const [error, setError] = useState(false)\n  const [values, setValues] = useState(() =>\n    props.type === 'number' && props.initialValues\n      ? props.initialValues\n      : (props.initialValues && {\n          min: dayjs(props.initialValues.min).format('YYYY-MM-DD'),\n          max: dayjs(props.initialValues.max).format('YYYY-MM-DD'),\n        }) || {\n          min: undefined,\n          max: undefined,\n        },\n  )\n\n  const className = props.className ? `range ${props.className}` : `range`\n\n  const isValid = (\n    { min, max }: RangeValues,\n\n    type: ControlType = 'number',\n  ) => {\n    if (\n      min === null ||\n      min === undefined ||\n      max === null ||\n      max === undefined\n    ) {\n      setError(false)\n      return true\n    }\n\n    if (type === 'number') {\n      if (Number(min) > Number(max)) {\n        setError(true)\n        return false\n      }\n    } else if (Date.parse(min as string) > Date.parse(max as string)) {\n      setError(true)\n      return false\n    }\n    setError(false)\n    return true\n  }\n\n  const handleAppyChanges = (\n    values: RangeValues,\n    callBackFn: (newValues: RangeValues) => void,\n    type: ControlType = 'number',\n  ) => {\n    if (isValid(values, type)) {\n      callBackFn(values)\n    }\n  }\n\n  return (\n    <div className={className} style={{ display: 'flex', flexWrap: 'wrap' }}>\n      <div style={{ marginRight: '10px' }}>\n        <input\n          aria-label=\"min\"\n          key=\"range_min\"\n          type={props.type}\n          value={values.min}\n          onChange={({ target }: React.ChangeEvent<HTMLInputElement>) =>\n            setValues({ min: target.value, max: values.max })\n          }\n        />\n        <div>to</div>\n        <input\n          aria-label=\"max\"\n          key=\"range_max\"\n          type={props.type}\n          value={values.max}\n          onChange={({ target }: React.ChangeEvent<HTMLInputElement>) =>\n            setValues({ min: values.min, max: target.value })\n          }\n        />\n      </div>\n      <button\n        className=\"btn btn-link SRC-noPadding\"\n        onClick={() => handleAppyChanges(values, props.onChange, props.type)}\n      >\n        Apply\n      </button>\n      {error && (\n        <div className=\"SRC-danger-color\">{props.errorText || errorText}</div>\n      )}\n    </div>\n  )\n}\n","import { Collapse } from '@mui/material'\nimport React from 'react'\nimport { useState } from 'react'\nimport {\n  FRIENDLY_VALUE_NOT_SET,\n  VALUE_NOT_SET,\n} from '../../../utils/SynapseConstants'\nimport { SelectColumn } from '@sage-bionetworks/synapse-types'\nimport { FacetColumnResultRange } from '@sage-bionetworks/synapse-types'\nimport { RadioGroup } from '../RadioGroup'\nimport { Range, RangeValues } from '../Range'\nimport { RangeSlider } from '../RangeSlider'\nimport { FacetFilterHeader } from './FacetFilterHeader'\n\nexport enum RadioValuesEnum {\n  NOT_SET = 'org.sagebionetworks.UNDEFINED_NULL_NOTSET',\n  RANGE = 'RANGE',\n  ANY = '',\n}\n\nexport type RangeFacetFilterProps = {\n  facetResult: FacetColumnResultRange\n  columnModel: SelectColumn\n  onChange: (range: (RadioValuesEnum | number | string | undefined)[]) => void\n  collapsed?: boolean\n}\n\nexport type RangeFacetFilterState = {\n  facetResult: FacetColumnResultRange\n  columnModel: SelectColumn\n}\n\nexport const RangeFacetFilter: React.FunctionComponent<\n  RangeFacetFilterProps\n> = ({\n  facetResult,\n  columnModel,\n  onChange,\n  collapsed = false,\n}: RangeFacetFilterProps) => {\n  const [isCollapsed, setIsCollapsed] = useState<boolean>(collapsed)\n  const options = [\n    { label: FRIENDLY_VALUE_NOT_SET, value: RadioValuesEnum.NOT_SET },\n    { label: 'Any', value: RadioValuesEnum.ANY },\n    { label: 'Range', value: RadioValuesEnum.RANGE },\n  ]\n\n  let { columnMin, columnMax, selectedMin, selectedMax } = facetResult // the upper bound of the selected range\n\n  const hasAnyValue = !selectedMin && !selectedMax\n\n  selectedMin = selectedMin || columnMin\n  selectedMax = selectedMax || columnMax\n\n  const rangeType = columnModel.columnType === 'DOUBLE' ? 'number' : 'date'\n\n  const getRadioValue = (min: string, isAnyValue: boolean) => {\n    if (isAnyValue) {\n      return RadioValuesEnum.ANY\n    } else if (min === VALUE_NOT_SET) {\n      return RadioValuesEnum.NOT_SET\n    }\n    return RadioValuesEnum.RANGE\n  }\n\n  const handleRadioGroupChange = (\n    radioValue: RadioValuesEnum,\n    onChangeCallback: (\n      range: (RadioValuesEnum | number | string | undefined)[],\n    ) => void,\n  ) => {\n    setRadioValue(radioValue)\n\n    if (radioValue !== RadioValuesEnum.RANGE) {\n      onChangeCallback([radioValue, radioValue])\n    }\n  }\n\n  const [radioValue, setRadioValue] = useState(\n    getRadioValue(selectedMin, hasAnyValue),\n  )\n\n  const result = (\n    <div>\n      <FacetFilterHeader\n        isCollapsed={isCollapsed}\n        label={columnModel.name}\n        onClick={(isCollapsed: boolean) => setIsCollapsed(isCollapsed)}\n      ></FacetFilterHeader>\n      <Collapse in={!isCollapsed}>\n        <RadioGroup\n          value={radioValue}\n          id=\"rangeSelector\"\n          options={options}\n          onChange={(radioValue: string) =>\n            handleRadioGroupChange(radioValue as RadioValuesEnum, onChange)\n          }\n        ></RadioGroup>\n        {radioValue === RadioValuesEnum.RANGE &&\n          (columnMin === columnMax ? (\n            <label>{columnMax}</label>\n          ) : (\n            <>\n              {columnModel.columnType === 'INTEGER' && (\n                <RangeSlider\n                  key=\"RangeSlider\"\n                  domain={[columnMin, columnMax]}\n                  initialValues={{ min: selectedMin, max: selectedMax }}\n                  step={1}\n                  doUpdateOnApply={true}\n                  onChange={(values: RangeValues) =>\n                    onChange([values.min, values.max])\n                  }\n                >\n                  ) {'>'}\n                </RangeSlider>\n              )}\n\n              {(columnModel.columnType === 'DATE' ||\n                columnModel.columnType === 'DOUBLE') && (\n                <Range\n                  key=\"Range\"\n                  initialValues={{\n                    min: selectedMin,\n                    max: selectedMax,\n                  }}\n                  type={rangeType}\n                  onChange={(values: RangeValues) =>\n                    onChange([values.min, values.max])\n                  }\n                ></Range>\n              )}\n            </>\n          ))}\n      </Collapse>\n    </div>\n  )\n  return result\n}\n","import React from 'react'\nimport { useDeepCompareEffectNoCheck } from 'use-deep-compare-effect'\nimport { isSingleNotSetValue } from '../../../utils/functions/queryUtils'\nimport {\n  FacetColumnRangeRequest,\n  FacetColumnRequest,\n  FacetColumnResult,\n  FacetColumnResultRange,\n  FacetColumnResultValues,\n  FacetColumnValuesRequest,\n  QueryBundleRequest,\n} from '@sage-bionetworks/synapse-types'\nimport { useQueryContext } from '../../QueryContext/QueryContext'\nimport { EnumFacetFilter } from './EnumFacetFilter'\nimport { FacetChip } from './FacetChip'\nimport { RangeFacetFilter } from './RangeFacetFilter'\nimport { Box, Skeleton, Stack } from '@mui/material'\nimport { sortBy } from 'lodash-es'\n\nexport type FacetFilterControlsProps = {\n  /* The set of faceted column names that should be shown in the Facet controls. If undefined, all faceted columns with at least one non-null value will be shown. */\n  availableFacets?: string[]\n}\n\nconst convertFacetToFacetColumnValuesRequest = (\n  facet: FacetColumnResultValues,\n): FacetColumnValuesRequest => ({\n  concreteType: 'org.sagebionetworks.repo.model.table.FacetColumnValuesRequest',\n  columnName: facet.columnName,\n  facetValues: facet.facetValues\n    .filter(facet => facet.isSelected)\n    .map(facet => facet.value),\n})\n\nconst convertFacetColumnRangeRequest = (\n  facet: FacetColumnResultRange,\n): FacetColumnRangeRequest => {\n  let result: FacetColumnRangeRequest = {\n    concreteType:\n      'org.sagebionetworks.repo.model.table.FacetColumnRangeRequest',\n    columnName: facet.columnName, // The name of the faceted column\n  }\n\n  if (facet.columnMin) {\n    result = { ...result, min: facet.columnMin, max: facet.columnMax }\n  }\n  return result\n}\n\nconst patchRequestFacets = (\n  changedFacet: FacetColumnRequest,\n  lastRequest?: QueryBundleRequest,\n): FacetColumnRequest[] => {\n  const selections = lastRequest?.query?.selectedFacets ?? []\n  const changedFacetIndex = selections.findIndex(\n    facet => facet.columnName === changedFacet.columnName,\n  )\n\n  const isEmptyValuesFacet =\n    changedFacet.concreteType ===\n      'org.sagebionetworks.repo.model.table.FacetColumnValuesRequest' &&\n    (!changedFacet.facetValues || !changedFacet.facetValues.length)\n  if (changedFacetIndex > -1) {\n    if (isEmptyValuesFacet) {\n      selections.splice(changedFacetIndex, 1)\n    } else {\n      selections[changedFacetIndex] = changedFacet\n    }\n  } else {\n    selections.push(changedFacet)\n  }\n  return selections\n}\n\nexport function applyChangesToValuesColumn(\n  lastRequest: QueryBundleRequest | undefined,\n  facet: FacetColumnResultValues,\n  onChangeFn: (result: FacetColumnRequest[]) => void,\n  facetName?: string,\n  checked: boolean = false,\n) {\n  if (facetName) {\n    facet.facetValues.forEach(facetValue => {\n      if (facetValue.value === facetName) {\n        facetValue.isSelected = checked\n      }\n    })\n  } else {\n    // else clear all\n    facet.facetValues.forEach(facet => {\n      facet.isSelected = false\n    })\n  }\n\n  const changedFacet = convertFacetToFacetColumnValuesRequest(facet)\n  const result = patchRequestFacets(changedFacet, lastRequest)\n  onChangeFn(result)\n}\n\n// This handles multiple checkbox selection with delay refresh\nexport const applyMultipleChangesToValuesColumn = (\n  lastRequest: QueryBundleRequest | undefined,\n  facet: FacetColumnResultValues,\n  onChangeFn: (result: FacetColumnRequest[]) => void,\n  facetNameMap?: Record<string, string | boolean>,\n) => {\n  const facetNames = (facetNameMap && Object.keys(facetNameMap)) || []\n  if (facetNames.length) {\n    facet.facetValues.forEach(facetValue => {\n      if (facetNames.includes(facetValue.value)) {\n        facetValue.isSelected = facetNameMap\n          ? !!facetNameMap[facetValue.value]\n          : false\n      }\n    })\n  }\n  const changedFacet = convertFacetToFacetColumnValuesRequest(facet)\n  const result = patchRequestFacets(changedFacet, lastRequest)\n  onChangeFn(result)\n}\n\n//rangeChanges\nexport const applyChangesToRangeColumn = (\n  lastRequest: QueryBundleRequest | undefined,\n  facet: FacetColumnResultRange,\n  onChangeFn: (result: FacetColumnRequest[]) => void,\n  values: string[],\n) => {\n  facet.columnMin = values[0]\n  facet.columnMax = values[1]\n  const changedFacet = convertFacetColumnRangeRequest(facet)\n  const result = patchRequestFacets(changedFacet, lastRequest)\n  onChangeFn(result)\n}\n\n/**\n * Determines which facet filters should be shown after loading a new bundle. The shown facets will be the first\n * three available facets, plus any other facets that have a filter applied.\n * @param facets\n * @param selectedFacets\n * @returns the columnNames of the facets that should be shown.\n */\nexport function getDefaultShownFacetFilters(\n  facets: FacetColumnResult[],\n  selectedFacets?: FacetColumnRequest[],\n): Set<string> {\n  const columnsWithExistingFilters = (selectedFacets ?? []).map(\n    fcr => fcr.columnName,\n  )\n  return new Set([\n    ...facets.slice(0, 3).map(f => f.columnName),\n    ...columnsWithExistingFilters,\n  ])\n}\n\nfunction FacetFilterSkeleton() {\n  const facetFilterFormRow = (\n    <Stack direction={'row'} gap={'10px'} sx={{ my: 1 }}>\n      <Skeleton width={'15px'} />\n      <Skeleton width={'40%'} />\n    </Stack>\n  )\n  return (\n    <Box className={'FacetFilterControls__facet'}>\n      <Box className={'FacetFilterHeader'}>\n        <Skeleton width={'100%'} />\n      </Box>\n      <Box>\n        {facetFilterFormRow}\n        {facetFilterFormRow}\n        {facetFilterFormRow}\n      </Box>\n    </Box>\n  )\n}\n\nfunction FacetFilterControlsSkeleton() {\n  return (\n    <div className={`FacetFilterControls`}>\n      <FacetFilterSkeleton />\n      <FacetFilterSkeleton />\n      <FacetFilterSkeleton />\n      <FacetFilterSkeleton />\n    </div>\n  )\n}\n\nfunction FacetFilterControls(props: FacetFilterControlsProps) {\n  const { availableFacets } = props\n  const {\n    data: data,\n    getLastQueryRequest,\n    executeQueryRequest,\n  } = useQueryContext()\n  const lastRequest = getLastQueryRequest()\n\n  const facets = data!\n    .facets!.filter(\n      facet =>\n        // If availableFacets is configured, remove those that don't match.\n        availableFacets == null || availableFacets.includes(facet.columnName),\n    )\n    .filter(\n      facet =>\n        // Don't show facets where there are no values\n        !isSingleNotSetValue(facet),\n    )\n\n  // Controls which facet filter sections are shown/hidden by clicking on chips\n  const [facetFiltersShown, setFacetFiltersShown] = React.useState<Set<string>>(\n    getDefaultShownFacetFilters(facets, lastRequest.query.selectedFacets),\n  )\n\n  /**\n   * When the data facets change, reset the initially-selected chips\n   */\n  useDeepCompareEffectNoCheck(() => {\n    // Select the first three facet columns, plus any columns where a facet is already filtered\n    setFacetFiltersShown(\n      getDefaultShownFacetFilters(facets, lastRequest.query.selectedFacets),\n    )\n  }, [facets])\n\n  const columnModels = data!.selectColumns\n\n  const applyChanges = (facets: FacetColumnRequest[]) => {\n    const queryRequest: QueryBundleRequest = getLastQueryRequest()\n    queryRequest.query.selectedFacets = facets\n    queryRequest.query.offset = 0\n    executeQueryRequest(queryRequest)\n  }\n\n  const toggleShowFacetFilter = (facet: FacetColumnResult) => {\n    const newFacetFilterShown = new Set(facetFiltersShown)\n    if (newFacetFilterShown.has(facet.columnName)) {\n      newFacetFilterShown.delete(facet.columnName)\n    } else {\n      newFacetFilterShown.add(facet.columnName)\n    }\n    setFacetFiltersShown(newFacetFilterShown)\n  }\n\n  return (\n    <div className={`FacetFilterControls`}>\n      {(facets ?? [])\n        .filter(facet => facetFiltersShown.has(facet.columnName))\n        .map(facet => {\n          const columnModel = columnModels!.find(\n            model => model.name === facet.columnName,\n          )\n          return (\n            <div className=\"FacetFilterControls__facet\" key={facet.columnName}>\n              {facet.facetType === 'enumeration' && columnModel && (\n                <EnumFacetFilter\n                  containerAs=\"Collapsible\"\n                  collapsed={false}\n                  facetValues={facet.facetValues}\n                  columnModel={columnModel}\n                  onChange={(facetNamesMap: Record<string, boolean>) =>\n                    applyMultipleChangesToValuesColumn(\n                      lastRequest,\n                      facet,\n                      applyChanges,\n                      facetNamesMap,\n                    )\n                  }\n                  onClear={() =>\n                    applyChangesToValuesColumn(lastRequest, facet, applyChanges)\n                  }\n                ></EnumFacetFilter>\n              )}\n              {facet.facetType === 'range' && columnModel && (\n                <RangeFacetFilter\n                  facetResult={facet}\n                  columnModel={columnModel}\n                  collapsed={false}\n                  onChange={(values: (string | number | undefined)[]) =>\n                    applyChangesToRangeColumn(\n                      lastRequest,\n                      facet,\n                      applyChanges,\n                      values as string[],\n                    )\n                  }\n                ></RangeFacetFilter>\n              )}\n            </div>\n          )\n        })}\n      <div>\n        <div className=\"AvailableFacet\">\n          <label className=\"AvailableFacet__label\">Available Facets</label>\n        </div>\n        {sortBy(facets, ['columnName']).map(facet => {\n          return (\n            <FacetChip\n              key={facet.columnName}\n              facet={facet}\n              onClick={() => toggleShowFacetFilter(facet)}\n              isChecked={facetFiltersShown.has(facet.columnName)}\n            />\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n\nexport default function FacetFilterControlsOrLoader(\n  props: FacetFilterControlsProps,\n) {\n  const { data, isLoadingNewBundle } = useQueryContext()\n  if (isLoadingNewBundle) {\n    return <FacetFilterControlsSkeleton />\n  } else if (data == null || data.facets == null) {\n    return <></>\n  }\n  return <FacetFilterControls {...props} />\n}\n","export const MAX_LEGEND_LENGTH: number = 30\n\nexport function truncate(str: string | undefined, n: number) {\n  if (!str) {\n    return str\n  }\n  const trimmedStr: string = str.trim()\n  return trimmedStr.length > n ? trimmedStr.substring(0, n - 1) + '…' : str\n}\n\nexport type FacetWithLabel = {\n  label: string\n  count: number\n}\n\nexport type FacetPlotLegendProps = {\n  labels?: FacetWithLabel[]\n  colors?: string[]\n  isExpanded: boolean\n}\n","import React from 'react'\nimport {\n  FacetPlotLegendProps,\n  MAX_LEGEND_LENGTH,\n  truncate,\n} from './FacetPlotLegendUtils'\nimport { ElementWithTooltip } from '../ElementWithTooltip'\nimport { Box, Typography } from '@mui/material'\n\nexport function FacetPlotLegendList(props: FacetPlotLegendProps) {\n  const { labels, colors = [], isExpanded } = props\n  if (!labels) {\n    return <></>\n  }\n  const numLegendItems = isExpanded\n    ? Math.min(labels.length, 9)\n    : Math.min(labels.length, 4)\n  if (numLegendItems === 0) {\n    return <></>\n  }\n  return (\n    <div\n      className={`FacetNavPanel__body__legend${isExpanded ? '--expanded' : ''}`}\n    >\n      {labels.slice(0, numLegendItems).map((facetValue, index) => {\n        const labelDisplay = truncate(facetValue.label, MAX_LEGEND_LENGTH)\n        return (\n          <ElementWithTooltip\n            tooltipText={facetValue.label}\n            key={facetValue.label}\n          >\n            <Box sx={{ display: 'flex', alignItems: 'center', gap: '10px' }}>\n              <Box\n                sx={{\n                  width: '14px',\n                  height: '14px',\n                  cursor: 'default',\n                  backgroundColor: colors[index],\n                }}\n                key={`legendLabel_${index}`}\n                style={{ cursor: 'default' }}\n              />\n              <Typography variant=\"body2\">{labelDisplay}</Typography>\n              <Typography variant=\"body2\" sx={{ color: 'grey.600' }}>\n                {facetValue.count}\n              </Typography>\n            </Box>\n          </ElementWithTooltip>\n        )\n      })}\n    </div>\n  )\n}\n","import { InfoOutlined } from '@mui/icons-material'\nimport Plotly from 'plotly.js-basic-dist'\nimport React, { useCallback, useState } from 'react'\nimport { Dropdown } from 'react-bootstrap'\nimport createPlotlyComponent from 'react-plotly.js/factory'\nimport { SizeMe } from 'react-sizeme'\nimport { SkeletonInlineBlock } from '../../Skeleton/SkeletonInlineBlock'\nimport getColorPalette from '../../ColorGradient'\nimport { ElementWithTooltip } from '../ElementWithTooltip'\nimport { SynapseConstants } from '../../../utils'\nimport SynapseClient from '../../../synapse-client'\nimport { useSynapseContext } from '../../../utils/context/SynapseContext'\nimport {\n  ColumnTypeEnum,\n  FacetColumnRequest,\n  FacetColumnResultValueCount,\n  FacetColumnResultValues,\n} from '@sage-bionetworks/synapse-types'\nimport loadingScreen from '../../LoadingScreen'\nimport { useQueryVisualizationContext } from '../../QueryVisualizationWrapper'\nimport { useQueryContext } from '../../QueryContext/QueryContext'\nimport { EnumFacetFilter } from '../query-filter/EnumFacetFilter'\nimport {\n  applyChangesToValuesColumn,\n  applyMultipleChangesToValuesColumn,\n} from '../query-filter/FacetFilterControls'\nimport { Tooltip } from '@mui/material'\nimport { useQuery } from 'react-query'\nimport { ConfirmationDialog } from '../../ConfirmationDialog/ConfirmationDialog'\nimport { FacetPlotLegendList } from './FacetPlotLegendList'\nimport { FacetWithLabel, truncate } from './FacetPlotLegendUtils'\n\nconst Plot = createPlotlyComponent(Plotly)\n\nexport type FacetNavPanelProps = {\n  applyChangesToGraphSlice: (\n    facet: FacetColumnResultValues,\n    value: FacetColumnResultValueCount | undefined,\n    isSelected: boolean,\n  ) => void\n  applyChangesToFacetFilter: (facets: FacetColumnRequest[]) => void\n  index: number\n  facetToPlot: FacetColumnResultValues\n  plotType: PlotType\n  onSetPlotType: (plotType: PlotType) => void\n  onHide: () => void\n  isModalView: boolean\n  onCloseModal?: () => void\n}\n\nconst maxLabelLength: number = 19\n\nexport type PlotType = 'PIE' | 'BAR'\n\nconst layout: Partial<Plotly.Layout> = {\n  showlegend: false,\n  annotations: [],\n  margin: { l: 0, r: 0, b: 0, t: 0, pad: 0 },\n  yaxis: {\n    visible: false,\n    showgrid: false,\n  },\n  xaxis: {\n    visible: false,\n    showgrid: false,\n  },\n}\n\nexport type GraphData = {\n  data: Plotly.Data[]\n  labels: FacetWithLabel[]\n  colors: string[]\n}\n\nexport async function extractPlotDataArray(\n  facetToPlot: FacetColumnResultValues,\n  columnType: ColumnTypeEnum | undefined,\n  index: number,\n  plotType: PlotType,\n  accessToken?: string,\n) {\n  const { colorPalette } = getColorPalette(\n    index,\n    facetToPlot.facetValues.length,\n  )\n\n  const getLabels = async (\n    facetValues: FacetColumnResultValueCount[],\n    columnType?: ColumnTypeEnum,\n    accessToken?: string,\n  ) => {\n    const map = new Map<string, string>()\n    map.set(\n      SynapseConstants.VALUE_NOT_SET,\n      SynapseConstants.FRIENDLY_VALUE_NOT_SET,\n    )\n    // Filter out empties\n    const filteredValues = facetValues\n      .map(value => value.value)\n      .filter(val => val !== SynapseConstants.VALUE_NOT_SET)\n    if (\n      columnType === ColumnTypeEnum.ENTITYID ||\n      columnType === ColumnTypeEnum.ENTITYID_LIST\n    ) {\n      // TODO: Pagination\n      const response = await SynapseClient.getEntityHeadersByIds(\n        filteredValues,\n        accessToken,\n      )\n      for (const header of response.results) {\n        map.set(header.id, header.name)\n      }\n    } else if (\n      columnType === ColumnTypeEnum.USERID ||\n      columnType === ColumnTypeEnum.USERID_LIST\n    ) {\n      const response = await SynapseClient.getGroupHeadersBatch(\n        filteredValues,\n        accessToken,\n      )\n      for (const header of response.children) {\n        map.set(header.ownerId, header.userName)\n      }\n    }\n\n    return facetValues.map(facetValue => ({\n      facet: facetValue,\n      label: getLabel(facetValue, false, map),\n      truncatedLabel: getLabel(facetValue, true, map),\n      count: facetValue.count,\n    }))\n  }\n\n  const getLabel = (\n    facetValue: FacetColumnResultValueCount,\n    truncateFlag: boolean,\n    labelMap: Map<string, string>,\n  ): string => {\n    let label = labelMap.get(facetValue.value) ?? facetValue.value\n    if (truncateFlag) {\n      label = truncate(label, maxLabelLength)!\n    }\n    return label\n  }\n\n  const labels = await getLabels(\n    facetToPlot.facetValues,\n    columnType,\n    accessToken,\n  )\n  const text = labels.map(el => el.truncatedLabel)\n\n  const anyFacetsSelected = facetToPlot.facetValues.some(\n    value => value.isSelected,\n  )\n\n  const selectionAwareColorPalette = anyFacetsSelected\n    ? facetToPlot.facetValues.map((facetValue, index) =>\n        facetValue.isSelected\n          ? colorPalette[index]\n          : colorPalette[index]\n              .replace('rgb(', 'rgba(')\n              .replace(')', ', 0.25)'),\n      )\n    : colorPalette\n  const singleChartData: Plotly.Data = {\n    values:\n      plotType === 'PIE'\n        ? facetToPlot.facetValues.map(facet => facet.count)\n        : undefined,\n    labels: labels.map(el => el.label),\n    text,\n    x:\n      plotType === 'BAR'\n        ? facetToPlot.facetValues.map(\n            facet =>\n              labels.find(label => label.facet === facet)?.label ?? facet.value,\n          )\n        : undefined,\n    y:\n      plotType === 'BAR'\n        ? facetToPlot.facetValues.map(facet => facet.count)\n        : undefined,\n    // @ts-expect-error\n    facetEnumerationValues: facetToPlot.facetValues.map(\n      facetValue => facetValue.value,\n    ),\n    name: facetToPlot.columnName,\n    hovertemplate:\n      plotType === 'PIE'\n        ? '<b>%{text}</b><br>%{value} (%{percent})<br><extra></extra>'\n        : '<b>%{text}: </b><br>%{value} <br><extra></extra>',\n    textinfo: 'none',\n    type: plotType === 'PIE' ? 'pie' : 'bar',\n    pull:\n      plotType === 'PIE'\n        ? facetToPlot.facetValues.map(facetValue =>\n            facetValue.isSelected ? 0.1 : 0,\n          )\n        : undefined,\n    marker: {\n      colors: plotType === 'PIE' ? selectionAwareColorPalette : undefined,\n      color: plotType === 'BAR' ? selectionAwareColorPalette : undefined,\n    },\n  }\n\n  const result = {\n    data: [singleChartData],\n    labels,\n    colors:\n      plotType === 'PIE'\n        ? ((singleChartData as any).marker?.colors as string[])\n        : ((singleChartData as any).marker?.color as string[]),\n  }\n  return result\n}\n\nconst applyFacetFilter = (\n  event: Plotly.PlotMouseEvent,\n  allFacetValues: FacetColumnResultValues,\n  callbackApplyFn: FacetNavPanelProps['applyChangesToGraphSlice'],\n) => {\n  if (event.points && event.points[0]) {\n    const plotPointData: any = event.points[0]\n    const facetValueClickedValue =\n      plotPointData.data.facetEnumerationValues[plotPointData.pointNumber]\n    const facetValueClicked = allFacetValues.facetValues.find(\n      facet => facet.value === facetValueClickedValue,\n    )\n    callbackApplyFn(\n      allFacetValues,\n      facetValueClicked,\n      !facetValueClicked!.isSelected,\n    )\n  }\n}\n\nexport function getPlotStyle(\n  parentWidth: number | null,\n  plotType: PlotType,\n  maxHeight: number,\n): { width: string; height: string } {\n  const quotient = plotType === 'BAR' ? 0.8 : 0.6\n  const width = parentWidth ? parentWidth * quotient : 200\n  let height = plotType === 'PIE' ? width : width / 3\n  // max height of .FacetNav row col* is 200px, so the effective plot height max is around 150 unless it's expanded\n  if (height > maxHeight) {\n    height = maxHeight\n  }\n\n  return {\n    width: `${width}px`,\n    height: `${height}px`,\n  }\n}\n\nconst getClassNameForPlotDiv = (isExpanded: boolean, plotType: PlotType) => {\n  if (!isExpanded) {\n    return 'FacetNavPanel__body__plot'\n  }\n  return `FacetNavPanel__body__plot--expanded${\n    plotType === 'BAR' ? 'Bar' : 'Pie'\n  }`\n}\n\nconst FacetNavPanel: React.FunctionComponent<FacetNavPanelProps> = (\n  props: FacetNavPanelProps,\n): JSX.Element => {\n  const {\n    onHide,\n    isModalView,\n    applyChangesToFacetFilter,\n    applyChangesToGraphSlice,\n    index,\n    facetToPlot,\n    plotType,\n    onSetPlotType,\n  } = props\n  const { accessToken } = useSynapseContext()\n  const { data, isLoadingNewBundle, getLastQueryRequest } = useQueryContext()\n\n  const { getColumnDisplayName } = useQueryVisualizationContext()\n\n  const [showModal, setShowModal] = useState(false)\n\n  const plotTitle = getColumnDisplayName(facetToPlot.columnName)\n\n  const getColumnType = useCallback(\n    (): ColumnTypeEnum | undefined =>\n      data?.columnModels?.find(\n        columnModel => columnModel.name === facetToPlot.columnName,\n      )?.columnType as ColumnTypeEnum,\n    [data, facetToPlot.columnName],\n  )\n\n  const { data: plotData } = useQuery(\n    [\n      'extractPlotDataArray',\n      facetToPlot,\n      getColumnType(),\n      index,\n      plotType,\n      accessToken,\n    ],\n    () =>\n      extractPlotDataArray(\n        facetToPlot,\n        getColumnType(),\n        index,\n        plotType,\n        accessToken,\n      ),\n    {\n      enabled: !!facetToPlot,\n    },\n  )\n\n  /* rendering functions */\n  const ChartSelectionToggle = (): JSX.Element => (\n    <div\n      onClick={event => {\n        event.stopPropagation()\n      }}\n      className=\"bootstrap-4-backport SRC-labeled-dropdown\"\n    >\n      <span className=\"SRC-labeled-dropdown__label\">Chart Type</span>\n      <Dropdown>\n        <Dropdown.Toggle className=\"secondary-caret\" variant=\"gray-select\">\n          {plotType === 'PIE' ? 'Pie Chart' : 'Bar Chart'}\n        </Dropdown.Toggle>\n        <Dropdown.Menu className=\"chart-tools\">\n          <Dropdown.Item as=\"button\" onClick={() => onSetPlotType('BAR')}>\n            Bar Chart\n          </Dropdown.Item>\n          <Dropdown.Item as=\"button\" onClick={() => onSetPlotType('PIE')}>\n            Pie Chart\n          </Dropdown.Item>\n        </Dropdown.Menu>\n      </Dropdown>\n    </div>\n  )\n\n  if ((!data && isLoadingNewBundle) || !facetToPlot) {\n    return (\n      <div className=\"SRC-loadingContainer SRC-centerContentColumn\">\n        {loadingScreen}\n      </div>\n    )\n  } else {\n    return (\n      <>\n        <ConfirmationDialog\n          open={showModal}\n          onCancel={() => setShowModal(false)}\n          title={plotTitle ?? ''}\n          content={<FacetNavPanel {...props} isModalView={true} />}\n          hasCancelButton={false}\n          confirmButtonText=\"Apply Filters\"\n          onConfirm={() => setShowModal(false)}\n        />\n        <div\n          role=\"graphics-document\"\n          className={`FacetNavPanel${isModalView ? '--expanded' : ''}`}\n        >\n          {!isModalView && (\n            <div className=\"FacetNavPanel__title\">\n              {!data && isLoadingNewBundle ? (\n                <SkeletonInlineBlock width={100} />\n              ) : (\n                <span className=\"FacetNavPanel__title__name\">{plotTitle}</span>\n              )}\n              <div className=\"FacetNavPanel__title__tools\">\n                <EnumFacetFilter\n                  facetValues={facetToPlot.facetValues}\n                  columnModel={\n                    data?.columnModels!.find(\n                      el => el.name === facetToPlot.columnName,\n                    )!\n                  }\n                  onChange={facetNamesMap => {\n                    applyMultipleChangesToValuesColumn(\n                      getLastQueryRequest(),\n                      facetToPlot,\n                      applyChangesToFacetFilter,\n                      facetNamesMap,\n                    )\n                  }}\n                  onClear={() => {\n                    applyChangesToValuesColumn(\n                      getLastQueryRequest(),\n                      facetToPlot,\n                      applyChangesToFacetFilter,\n                    )\n                  }}\n                  containerAs=\"Dropdown\"\n                />\n                <ElementWithTooltip\n                  tooltipText=\"Expand to large graph\"\n                  key=\"expandGraph\"\n                  callbackFn={() => setShowModal(true)}\n                  className=\"SRC-primary-color\"\n                  darkTheme={false}\n                  icon={'expand'}\n                />\n                <ElementWithTooltip\n                  tooltipText=\"Hide graph under Show More\"\n                  key=\"hideGraph\"\n                  callbackFn={() => onHide()}\n                  className=\"SRC-primary-color\"\n                  darkTheme={false}\n                  icon={'close'}\n                />\n              </div>\n            </div>\n          )}\n          {isModalView && (\n            <>\n              <div className={'bootstrap-4-backport SRC-labeled-dropdown'}>\n                <span className=\"SRC-labeled-dropdown__label\">\n                  Filter All Data By\n                </span>\n                <EnumFacetFilter\n                  facetValues={facetToPlot.facetValues}\n                  columnModel={\n                    data?.columnModels!.find(\n                      el => el.name === facetToPlot.columnName,\n                    )!\n                  }\n                  onChange={facetNamesMap => {\n                    applyMultipleChangesToValuesColumn(\n                      getLastQueryRequest(),\n                      facetToPlot,\n                      applyChangesToFacetFilter,\n                      facetNamesMap,\n                    )\n                  }}\n                  onClear={() => {\n                    applyChangesToValuesColumn(\n                      getLastQueryRequest(),\n                      facetToPlot,\n                      applyChangesToFacetFilter,\n                    )\n                  }}\n                  containerAs=\"Dropdown\"\n                  dropdownType=\"SelectBox\"\n                />\n                <Tooltip title=\"Selecting items in this dropdown will affect all facets on the Explore page.\">\n                  <InfoOutlined className=\"SRC-hand-cursor SRC-secondary-text-color\" />\n                </Tooltip>\n              </div>\n              <ChartSelectionToggle />\n            </>\n          )}\n          <div\n            className={`FacetNavPanel__body${isModalView ? '--expanded' : ''}`}\n            role=\"graphics-object\"\n          >\n            <SizeMe monitorHeight noPlaceholder>\n              {({ size }) => (\n                <div className={getClassNameForPlotDiv(isModalView, plotType)}>\n                  <Plot\n                    key={`${facetToPlot.columnName}-${plotType}-${size.width}`}\n                    layout={layout}\n                    data={plotData?.data ?? []}\n                    style={getPlotStyle(\n                      size.width,\n                      plotType,\n                      isModalView ? 300 : 150,\n                    )}\n                    config={{ displayModeBar: false }}\n                    onClick={evt =>\n                      applyFacetFilter(\n                        evt,\n                        facetToPlot,\n                        applyChangesToGraphSlice,\n                      )\n                    }\n                  ></Plot>\n                </div>\n              )}\n            </SizeMe>\n            <FacetPlotLegendList\n              labels={plotData?.labels}\n              colors={plotData?.colors}\n              isExpanded={isModalView}\n            />\n          </div>\n        </div>\n      </>\n    )\n  }\n}\n\nexport default FacetNavPanel\n","import React from 'react'\nimport {\n  QueryContextType,\n  useQueryContext,\n} from '../../QueryContext/QueryContext'\nimport {\n  ColumnMultiValueFunctionQueryFilter,\n  ColumnSingleValueQueryFilter,\n  QueryFilter,\n  TextMatchesQueryFilter,\n} from '@sage-bionetworks/synapse-types'\nimport SelectionCriteriaPill, {\n  SelectionCriteriaPillProps,\n} from './SelectionCriteriaPill'\nimport { FacetColumnRequest } from '@sage-bionetworks/synapse-types'\nimport {\n  QueryVisualizationContextType,\n  useQueryVisualizationContext,\n} from '../../QueryVisualizationWrapper'\nimport {\n  isColumnMultiValueFunctionQueryFilter,\n  isColumnSingleValueQueryFilter,\n  isFacetColumnValuesRequest,\n  isFacetColumnRangeRequest,\n  isTextMatchesQueryFilter,\n} from '../../../utils/types/IsType'\nimport pluralize from 'pluralize'\n\nconst MAX_VALUES_IN_FILTER_FOR_INDIVIDUAL_PILLS = 4\n\nfunction getPillPropsFromColumnQueryFilter(\n  queryFilter:\n    | ColumnSingleValueQueryFilter\n    | ColumnMultiValueFunctionQueryFilter,\n  queryContext: QueryContextType,\n  queryVisualizationContext: QueryVisualizationContextType,\n): SelectionCriteriaPillProps[] {\n  const { getColumnDisplayName } = queryVisualizationContext\n  const columnModel = queryContext.getColumnModel(queryFilter.columnName)!\n  // ColumnSingleValueQueryFilter and ColumnMultiValueQueryFilter both allow for a list of values\n  // If there are more than _n_ values, consolidate to one pill\n  if (queryFilter.values.length > MAX_VALUES_IN_FILTER_FOR_INDIVIDUAL_PILLS) {\n    const text = `${pluralize(\n      getColumnDisplayName(queryFilter.columnName),\n    )} (${queryFilter.values.length.toLocaleString()})`\n\n    return [\n      {\n        key: `queryFilter-${queryFilter.concreteType}-${queryFilter.columnName}`,\n        innerText: text,\n        tooltipText: text,\n        onRemoveFilter: () => {\n          queryContext.removeQueryFilter(queryFilter)\n        },\n      },\n    ]\n  }\n  // otherwise render one pill per value\n  return queryFilter.values.map(value => {\n    let filterValue = value\n\n    if (value?.startsWith('%') && value?.endsWith('%')) {\n      // strip '%' wildcard character when using a LIKE condition\n      filterValue = filterValue.substring(1, filterValue.length - 1)\n    }\n    filterValue = queryVisualizationContext.getDisplayValue(\n      filterValue,\n      columnModel.columnType,\n    )\n    const text = `${getColumnDisplayName(\n      queryFilter.columnName,\n    )}: ${filterValue}`\n    return {\n      key: `queryFilter-${queryFilter.concreteType}-${queryFilter.columnName}-${value}`,\n      innerText: text,\n      tooltipText: text,\n      onRemoveFilter: () => {\n        queryContext.removeValueFromQueryFilter(queryFilter, value)\n      },\n    }\n  })\n}\n\nfunction getPillPropsFromTextMatchesQueryFilter(\n  queryFilter: TextMatchesQueryFilter,\n  queryContext: QueryContextType,\n): SelectionCriteriaPillProps {\n  return {\n    key: `queryFilter-${queryFilter.concreteType}-${queryFilter.searchExpression}`,\n    innerText: queryFilter.searchExpression,\n    tooltipText: `Text matches: \"${queryFilter.searchExpression}\"`,\n    onRemoveFilter: () => {\n      queryContext.removeQueryFilter(queryFilter)\n    },\n  }\n}\n\nfunction getPillPropsFromQueryFilters(\n  queryFilters: QueryFilter[],\n  queryContext: QueryContextType,\n  queryVisualizationContext: QueryVisualizationContextType,\n): SelectionCriteriaPillProps[] {\n  return queryFilters.flatMap(queryFilter => {\n    if (\n      isColumnSingleValueQueryFilter(queryFilter) ||\n      isColumnMultiValueFunctionQueryFilter(queryFilter)\n    ) {\n      if (queryFilter.columnName === queryContext.lockedColumn?.columnName) {\n        return []\n      }\n      return getPillPropsFromColumnQueryFilter(\n        queryFilter,\n        queryContext,\n        queryVisualizationContext,\n      )\n    } else if (isTextMatchesQueryFilter(queryFilter)) {\n      return [getPillPropsFromTextMatchesQueryFilter(queryFilter, queryContext)]\n    } else {\n      console.log(\n        'Unknown query filter type',\n        (queryFilter as any).concreteType,\n      )\n      return []\n    }\n  })\n}\n\nfunction getPillPropsFromFacetFilters(\n  selectedFacets: FacetColumnRequest[],\n  queryContext: QueryContextType,\n  queryVisualizationContext: QueryVisualizationContextType,\n): SelectionCriteriaPillProps[] {\n  return selectedFacets.flatMap(selectedFacet => {\n    if (selectedFacet.columnName === queryContext.lockedColumn?.columnName) {\n      return []\n    }\n    const columnModel = queryContext.getColumnModel(selectedFacet.columnName)!\n    const { getColumnDisplayName, getDisplayValue } = queryVisualizationContext\n    if (isFacetColumnValuesRequest(selectedFacet)) {\n      // If there are more than _n_ values, consolidate to one pill\n      if (\n        selectedFacet.facetValues.length >\n        MAX_VALUES_IN_FILTER_FOR_INDIVIDUAL_PILLS\n      ) {\n        const text = `${pluralize(\n          getColumnDisplayName(selectedFacet.columnName),\n        )} (${selectedFacet.facetValues.length.toLocaleString()})`\n        return [\n          {\n            key: `facet-${selectedFacet.concreteType}-${selectedFacet.columnName}`,\n            innerText: text,\n            tooltipText: text,\n            onRemoveFilter: () => {\n              queryContext.removeSelectedFacet(selectedFacet)\n            },\n          },\n        ]\n      }\n      // otherwise render one pill per value\n\n      return selectedFacet.facetValues.map(facetValue => {\n        const innerText = getDisplayValue(facetValue, columnModel.columnType)\n        return {\n          key: `facet-${selectedFacet.concreteType}-${selectedFacet.columnName}-${facetValue}`,\n          innerText: innerText,\n          tooltipText: `${getColumnDisplayName(\n            selectedFacet.columnName,\n          )}: ${innerText}`,\n          onRemoveFilter: () => {\n            queryContext.removeValueFromSelectedFacet(selectedFacet, facetValue)\n          },\n        }\n      })\n    } else if (isFacetColumnRangeRequest(selectedFacet)) {\n      const innerText = `${selectedFacet.min} - ${selectedFacet.max}`\n      return [\n        {\n          key: `facet-${selectedFacet.concreteType}-${selectedFacet.columnName}-${selectedFacet.min}-${selectedFacet.max}`,\n          innerText: innerText,\n          tooltipText: `${getColumnDisplayName(\n            selectedFacet.columnName,\n          )}: ${innerText}`,\n          onRemoveFilter: () => {\n            queryContext.removeSelectedFacet(selectedFacet)\n          },\n        },\n      ]\n    } else {\n      console.log(\n        'Unknown facet type',\n        (selectedFacet as unknown as FacetColumnRequest).concreteType,\n      )\n      return []\n    }\n  })\n}\n\nfunction SelectionCriteriaPills() {\n  const queryContext = useQueryContext()\n  const queryVisualizationContext = useQueryVisualizationContext()\n  const { getLastQueryRequest } = queryContext\n  const lastQueryRequest = getLastQueryRequest()\n\n  const queryFilterPillProps = getPillPropsFromQueryFilters(\n    lastQueryRequest.query?.additionalFilters ?? [],\n    queryContext,\n    queryVisualizationContext,\n  )\n\n  const facetPillProps = getPillPropsFromFacetFilters(\n    lastQueryRequest.query.selectedFacets ?? [],\n    queryContext,\n    queryVisualizationContext,\n  )\n\n  const allPills = [...queryFilterPillProps, ...facetPillProps]\n\n  return (\n    <>\n      {allPills.map(pillProps => {\n        // Encode the key because the facet may include an illegal character\n        const key = encodeURIComponent(pillProps.key)\n        return <SelectionCriteriaPill {...pillProps} key={key} />\n      })}\n    </>\n  )\n}\n\nexport default SelectionCriteriaPills\n","import React from 'react'\nimport { SkeletonInlineBlock } from './Skeleton/SkeletonInlineBlock'\nimport { FacetColumnRequest } from '@sage-bionetworks/synapse-types'\nimport { useQueryVisualizationContext } from './QueryVisualizationWrapper'\nimport { useQueryContext } from './QueryContext/QueryContext'\nimport IconSvg from './IconSvg/IconSvg'\nimport SelectionCriteriaPills from './widgets/facet-nav/SelectionCriteriaPills'\n\nexport type TotalQueryResultsProps = {\n  style?: React.CSSProperties\n  frontText: string\n  endText?: string\n  applyChanges?: (newFacets: FacetColumnRequest[]) => void\n  hideIfUnfiltered?: boolean\n}\n\nfunction TotalQueryResults(props: TotalQueryResultsProps) {\n  const { style, frontText, endText = '', hideIfUnfiltered = false } = props\n  const { data, isLoadingNewBundle, resetQuery, error, hasResettableFilters } =\n    useQueryContext()\n\n  const { unitDescription } = useQueryVisualizationContext()\n\n  const total = data?.queryCount\n\n  const showClearAll = hasResettableFilters\n  if (error) {\n    return <></>\n  }\n  return (\n    <div\n      className={`TotalQueryResults ${\n        hasResettableFilters ? 'hasFilters' : ''\n      }`}\n      style={style}\n    >\n      {isLoadingNewBundle ? (\n        <SkeletonInlineBlock width={100} />\n      ) : (\n        <>\n          {(hasResettableFilters || !hideIfUnfiltered) && (\n            <div className=\"TotalQueryResults__topbar\">\n              <span className=\"SRC-boldText\">\n                {frontText} {total?.toLocaleString()} {unitDescription}{' '}\n                {endText}\n              </span>\n              {showClearAll && (\n                <a\n                  onClick={resetQuery}\n                  className=\"TotalQueryResults__topbar__clearall\"\n                >\n                  <IconSvg icon=\"deleteSweep\" />\n                  Clear all filters\n                </a>\n              )}\n            </div>\n          )}\n          <div className=\"TotalQueryResults__selections\">\n            <SelectionCriteriaPills />\n          </div>\n        </>\n      )}\n    </div>\n  )\n}\n\nexport default TotalQueryResults\n","import React, { useEffect, useMemo, useState } from 'react'\nimport { isSingleNotSetValue } from '../../../utils/functions/queryUtils'\nimport {\n  FacetColumnRequest,\n  FacetColumnResult,\n  FacetColumnResultValueCount,\n  FacetColumnResultValues,\n  QueryResultBundle,\n} from '@sage-bionetworks/synapse-types'\nimport { useQueryVisualizationContext } from '../../QueryVisualizationWrapper'\nimport { useQueryContext } from '../../QueryContext/QueryContext'\nimport { applyChangesToValuesColumn } from '../query-filter/FacetFilterControls'\nimport FacetNavPanel, { PlotType } from './FacetNavPanel'\nimport TotalQueryResults from '../../TotalQueryResults'\nimport WideButton from '../../styled/WideButton'\n\n/*\nTODO: This component has a few bugs when its props are updated with new data, this should be handled\nat some point. As of the moment the portal doesn't have a case when the props will update,\nit will always mount this component.\n*/\n\nexport type FacetNavProps = {\n  facetsToPlot?: string[]\n}\n\ntype UiFacetState = {\n  name: string\n  isHidden: boolean\n  plotType: PlotType\n  index?: number\n}\n\nconst DEFAULT_VISIBLE_FACETS = 2\n\ntype ShowMoreState = 'MORE' | 'LESS' | 'NONE'\n\nexport function getFacets(\n  data: QueryResultBundle | undefined,\n  facetsToPlot?: string[],\n): FacetColumnResult[] {\n  const result =\n    data?.facets?.filter(item => {\n      const isFacetToPlot =\n        item.facetType === 'enumeration' &&\n        (!facetsToPlot?.length || facetsToPlot.indexOf(item.columnName) > -1)\n      // PORTALS-1993: only plot if the facet has count data\n      return (\n        isFacetToPlot &&\n        item.facetValues.length > 0 &&\n        !isSingleNotSetValue(item)\n      )\n    }) ?? []\n  return result\n}\n\nconst FacetNav: React.FunctionComponent<FacetNavProps> = ({\n  facetsToPlot,\n}: FacetNavProps): JSX.Element => {\n  const {\n    data,\n    getLastQueryRequest,\n    isLoadingNewBundle,\n    executeQueryRequest,\n    error,\n    asyncJobStatus,\n  } = useQueryContext()\n\n  const { showFacetVisualization } = useQueryVisualizationContext()\n  const [facetUiStateArray, setFacetUiStateArray] = useState<UiFacetState[]>([])\n  const [isFirstTime, setIsFirstTime] = useState(true)\n\n  const lastQueryRequest = getLastQueryRequest()\n\n  useEffect(() => {\n    const result = getFacets(data, facetsToPlot)\n    if (result.length === 0) {\n      return\n    }\n    if (isFirstTime) {\n      setFacetUiStateArray(\n        result.map((item, index) => ({\n          name: item.columnName,\n          isHidden: index >= DEFAULT_VISIBLE_FACETS,\n          plotType: 'PIE',\n        })),\n      )\n      setIsFirstTime(false)\n    }\n  }, [data, isFirstTime, facetsToPlot])\n\n  // when 'show more/less' is clicked\n  const onShowMoreClick = (shouldShowMore: boolean) => {\n    setFacetUiStateArray(facetUiStateArray => {\n      return facetUiStateArray.map((item, index) => {\n        if (shouldShowMore) {\n          // show everything\n          return { ...item, isHidden: false }\n        }\n        // otherwise hide everything except the first three items\n        return { ...item, isHidden: index >= DEFAULT_VISIBLE_FACETS }\n      })\n    })\n  }\n\n  // what needs to happen after the filters are adjusted from the plot\n  const applyChangesFromQueryFilter = (facets: FacetColumnRequest[]) => {\n    lastQueryRequest.query.selectedFacets = facets\n    lastQueryRequest.query.offset = 0\n    executeQueryRequest(lastQueryRequest)\n  }\n\n  // don't show hidden facets\n  const isFacetHiddenInGrid = (columnName: string) => {\n    const itemHidden = facetUiStateArray.find(\n      item => item.name === columnName && item.isHidden === true,\n    )\n    const result = itemHidden !== undefined\n    return result\n  }\n\n  const showMoreButtonState = useMemo<ShowMoreState>(() => {\n    if (\n      // if at least one item is hidden\n      facetUiStateArray.find(item => item.isHidden === true)\n    ) {\n      return 'MORE'\n    } else if (facetUiStateArray.length <= DEFAULT_VISIBLE_FACETS) {\n      return 'NONE'\n    } else {\n      return 'LESS'\n    }\n  }, [facetUiStateArray])\n\n  // hides facet graph\n  const hideFacetInGrid = (columnName: string) => {\n    setUiPropertyForFacet(columnName, 'isHidden', true)\n  }\n\n  const setPlotType = (columnName: string, plotType: PlotType) => {\n    setUiPropertyForFacet(columnName, 'plotType', plotType)\n  }\n\n  const getPlotType = (columnName: string): PlotType => {\n    const plotType = facetUiStateArray.find(\n      item => item.name === columnName,\n    )?.plotType\n    return plotType ?? 'PIE'\n  }\n\n  const setUiPropertyForFacet = (\n    columnName: string,\n    propName: keyof UiFacetState,\n    value: boolean | PlotType, // 'the possible values of the above type' (currently can't be specified in TS using symbols)\n  ) => {\n    setFacetUiStateArray(facetUiStateArray =>\n      facetUiStateArray.map(item =>\n        item.name === columnName ? { ...item, [propName]: value } : item,\n      ),\n    )\n  }\n\n  const facets = getFacets(data, facetsToPlot)\n\n  const colorTracker = getFacets(data, facetsToPlot).map((el, index) => {\n    return {\n      columnName: el.columnName,\n      colorIndex: index,\n    }\n  })\n  const hasFacetsOrFilters =\n    (lastQueryRequest?.query.selectedFacets !== undefined &&\n      lastQueryRequest.query.selectedFacets.length > 0) ||\n    (lastQueryRequest?.query.additionalFilters !== undefined &&\n      lastQueryRequest?.query.additionalFilters.length > 0)\n  if (error) {\n    return <></>\n  } else if (!data && isLoadingNewBundle) {\n    return (\n      <div className=\"SRC-loadingContainer SRC-centerContentColumn\">\n        {asyncJobStatus?.progressMessage && (\n          <div>\n            <span className=\"spinner\" />\n            {asyncJobStatus.progressMessage}\n          </div>\n        )}\n      </div>\n    )\n  } else {\n    return (\n      <>\n        <TotalQueryResults\n          frontText={''}\n          endText={hasFacetsOrFilters ? 'filtered by' : ''}\n          hideIfUnfiltered={true}\n        />\n        {facets.length > 0 && (\n          <div\n            className={`FacetNav ${showFacetVisualization ? '' : 'hidden'} ${\n              showMoreButtonState === 'LESS' ? 'less' : ''\n            }`}\n          >\n            <div className=\"FacetNav__row\" role=\"list\">\n              {facets.map(facet => (\n                <div\n                  className=\"col-sm-12 col-md-4\"\n                  style={{\n                    display: isFacetHiddenInGrid(facet.columnName)\n                      ? 'none'\n                      : 'block',\n                  }}\n                  key={facet.columnName}\n                >\n                  <FacetNavPanel\n                    index={\n                      colorTracker.find(\n                        el => el.columnName === facet.columnName,\n                      )?.colorIndex!\n                    }\n                    onHide={() => hideFacetInGrid(facet.columnName)}\n                    plotType={getPlotType(facet.columnName)}\n                    onSetPlotType={(plotType: PlotType) =>\n                      setPlotType(facet.columnName, plotType)\n                    }\n                    facetToPlot={facet as FacetColumnResultValues}\n                    /*\n                      TODO: Simplify the nested functions below, all the logic should be contained\n                      in the EnumFacetFilter component.\n                    */\n                    applyChangesToFacetFilter={applyChangesFromQueryFilter}\n                    applyChangesToGraphSlice={(\n                      facet: FacetColumnResultValues,\n                      value: FacetColumnResultValueCount | undefined,\n                      isSelected: boolean,\n                    ) =>\n                      applyChangesToValuesColumn(\n                        lastQueryRequest,\n                        facet,\n                        applyChangesFromQueryFilter,\n                        value?.value,\n                        isSelected,\n                      )\n                    }\n                    isModalView={false}\n                  />\n                </div>\n              ))}\n            </div>\n            {showMoreButtonState !== 'NONE' && (\n              <div className=\"FacetNav__showMoreContainer\">\n                <WideButton\n                  variant=\"contained\"\n                  color=\"secondary\"\n                  onClick={() =>\n                    onShowMoreClick(showMoreButtonState === 'MORE')\n                  }\n                  sx={{ width: '250px' }}\n                >\n                  {showMoreButtonState === 'LESS'\n                    ? 'Hide Charts'\n                    : 'View All Charts'}\n                </WideButton>\n              </div>\n            )}\n          </div>\n        )}\n      </>\n    )\n  }\n}\n\nexport default FacetNav\n","import { Widget, WidgetProps, EnumOptionsType } from '@rjsf/utils'\nimport React from 'react'\nimport { Autocomplete, TextField } from '@mui/material'\nimport { createFilterOptions } from '@mui/material/Autocomplete'\nimport { isObject } from 'lodash-es'\n\nconst filter = createFilterOptions<EnumOptionsType>()\n\n/**\n * This function finds the enum option that has the corresponding value and returns it.\n *\n * If value is nullish, this fn returns undefined. If there is no corresponding option, then a new object is returned\n * where the label and value are set to the provided value.\n */\nexport function findValueOption(\n  value: string | null | undefined,\n  options: EnumOptionsType[],\n): EnumOptionsType | undefined {\n  if (value == null) {\n    return undefined\n  }\n\n  const correspondingOption = options.filter(option => option.value === value)\n  if (correspondingOption.length > 0) {\n    return correspondingOption[0]\n  } else {\n    return { value: value, label: value }\n  }\n}\n\ntype SelectWidgetProps = WidgetProps & {\n  isClearable?: boolean\n}\n\n/**\n * Select widget compatible with react-jsonschema-form enumerations\n */\nexport const SelectWidget: Widget = (props: SelectWidgetProps) => {\n  const {\n    id,\n    options,\n    value,\n    required,\n    disabled,\n    readonly,\n    multiple,\n    autofocus,\n    onChange,\n    onBlur,\n    onFocus,\n    placeholder,\n    isClearable = true,\n    rawErrors,\n  } = props\n  const { enumOptions } = options as {\n    enumOptions: EnumOptionsType[]\n  }\n  return (\n    <Autocomplete\n      id={id}\n      value={findValueOption(value, enumOptions)}\n      freeSolo\n      forcePopupIcon\n      selectOnFocus\n      clearOnBlur\n      handleHomeEndKeys\n      options={enumOptions}\n      readOnly={readonly}\n      disabled={disabled}\n      multiple={multiple}\n      disableClearable={!isClearable}\n      onChange={(event, newValue) => {\n        if (isObject(newValue) && 'inputValue' in newValue) {\n          // Create a new value from the user input\n          onChange(newValue.inputValue)\n        } else if (isObject(newValue) && 'value' in newValue) {\n          onChange(newValue.value)\n        } else if (typeof newValue === 'string') {\n          onChange(newValue)\n        } else {\n          onChange(newValue)\n        }\n      }}\n      renderInput={params => (\n        <TextField\n          {...params}\n          required={required}\n          placeholder={placeholder}\n          error={rawErrors && rawErrors.length > 0}\n          autoFocus={autofocus}\n          onFocus={onFocus && (() => onFocus(id, value?.value))}\n          onBlur={onBlur && (() => onBlur(id, value?.value))}\n        />\n      )}\n      filterOptions={(options, params) => {\n        const filtered = filter(options, params)\n\n        const { inputValue } = params\n        // Suggest the creation of a new value\n        const isExisting = options.some(option => inputValue === option.label)\n        if (inputValue !== '' && !isExisting) {\n          filtered.push({\n            value: inputValue,\n            label: `Set to custom value \"${inputValue}\"`,\n          })\n        }\n\n        return filtered\n      }}\n    />\n  )\n}\n","import React, { useState } from 'react'\nimport { SortConfiguration } from './CardContainerLogic'\nimport { useQueryContext } from './QueryContext/QueryContext'\nimport { SortDirection, SortItem } from '@sage-bionetworks/synapse-types'\nimport { Typography } from '@mui/material'\nimport Select, { components, ControlProps, GroupBase } from 'react-select'\nimport { findValueOption } from './SchemaDrivenAnnotationEditor/widget/SelectWidget'\nimport { useQueryVisualizationContext } from './QueryVisualizationWrapper'\n\nexport type QuerySortSelectorProps = {\n  sortConfig: SortConfiguration\n}\n\nexport type EnumOption = { value: string; label: string }\n\n/**\n * We want to apply the 'form-control' bootstrap class to react-select's Control component, and the easiest way to do that is to make a custom version\n */\nexport const Control = ({\n  children,\n  ...rest\n}: ControlProps<any, boolean, GroupBase<any>>) => {\n  return (\n    <components.Control {...rest} className=\"form-control\">\n      {children}\n    </components.Control>\n  )\n}\n\nconst QuerySortSelector: React.FunctionComponent<QuerySortSelectorProps> = ({\n  sortConfig,\n}) => {\n  const { defaultColumn, defaultDirection, sortableColumns } = sortConfig\n  const queryContext = useQueryContext()\n  const { getLastQueryRequest, executeQueryRequest } = queryContext\n  const { getColumnDisplayName } = useQueryVisualizationContext()\n  const [sortColumn, setSortColumn] = useState<string | undefined>(\n    defaultColumn,\n  )\n  const [sortDirection, setSortDirection] = useState(defaultDirection)\n\n  const enumOptions: EnumOption[] = sortableColumns.map(sortableColumn => {\n    return {\n      value: sortableColumn,\n      label: getColumnDisplayName(sortableColumn)!,\n    }\n  })\n\n  const onChange = (value?: string) => {\n    const lastQueryRequestDeepClone = getLastQueryRequest()\n    let newSortDirection: SortDirection = 'ASC'\n    if (value === sortColumn) {\n      // flip sort direction\n      newSortDirection = sortDirection === 'ASC' ? 'DESC' : 'ASC'\n    }\n\n    const newSortItems: SortItem[] | undefined = value\n      ? [\n          {\n            column: value,\n            direction: newSortDirection,\n          },\n        ]\n      : undefined\n    lastQueryRequestDeepClone.query.sort = newSortItems\n    executeQueryRequest(lastQueryRequestDeepClone)\n    setSortColumn(value)\n    setSortDirection(newSortDirection)\n  }\n\n  return (\n    <div className=\"QuerySortSelector bootstrap-4-backport\">\n      <Typography variant=\"label\" className=\"sort-by-label SRC-inlineBlock\">\n        Sort by\n      </Typography>\n      <Select\n        className=\"react-select-container SRC-inlineBlock\"\n        value={findValueOption(sortColumn, enumOptions)}\n        options={enumOptions}\n        onChange={option => onChange((option as EnumOption | null)?.value)}\n        components={{ Control }}\n        styles={{\n          control: provided => ({\n            ...provided,\n            marginLeft: '15px',\n          }),\n        }}\n      />\n    </div>\n  )\n}\n\nexport default QuerySortSelector\n","import React from 'react'\nimport { SynapseConstants } from '../../utils'\nimport {\n  getAdditionalFilters,\n  parseEntityIdFromSqlStatement,\n  SQLOperator,\n} from '../../utils/functions/SqlFunctions'\nimport {\n  QueryBundleRequest,\n  SortDirection,\n} from '@sage-bionetworks/synapse-types'\nimport CardContainer from '../CardContainer/CardContainer'\nimport { ErrorBanner } from '../error/ErrorBanner'\nimport { GenericCardSchema } from '../GenericCard'\nimport { IconSvgProps } from '../IconSvg'\nimport {\n  QueryVisualizationWrapper,\n  QueryVisualizationWrapperProps,\n} from '../QueryVisualizationWrapper'\nimport { QueryContextConsumer } from '../QueryContext'\nimport { InfiniteQueryWrapper } from '../InfiniteQueryWrapper'\nimport QuerySortSelector from '../QuerySortSelector'\nimport { NoContentPlaceholderType } from '../SynapseTable/NoContentPlaceholderType'\nimport { IconOptions } from '../Icon/Icon'\nimport { DEFAULT_PAGE_SIZE } from '../../utils/SynapseConstants'\n\n/**\n *  Used when a column value should link to an external URL defined by a value in another column.\n *  Currently only works in SynapseTable (not cards!)\n */\nexport interface ColumnSpecifiedLink {\n  isMarkdown: false\n  /* The column which should have the displayed value */\n  matchColumnName: string\n  /* The column which has the link. If the link is empty, the value will be displayed without a link. */\n  linkColumnName: string\n  // If set, also show a tooltip\n  tooltipText?: string\n}\n\nexport enum TargetEnum {\n  CURRENT_WINDOW = '_self',\n  NEW_WINDOW = '_blank',\n  PARENT_FRAME = '_parent',\n  FULL_WINDOW_BODY = '_top',\n}\n\nexport interface CardLink {\n  baseURL: string\n  // the key that will go into the url\n  URLColumnName: string\n  // the column name whose value will be used as the display text\n  matchColumnName: string\n  // If set, use the rowID as the column value.  Otherwise, use the value in the matchColumnName column\n  overrideValueWithRowID?: boolean\n  // If true, value will be processed as Markdown\n  isMarkdown: false\n  // the value that will go into the url link should be surrounded with parenthesis, making the search\n  // param study=(ROSMAP) instead of study=ROSMAP\n  wrapValueWithParens?: boolean\n  // If set and a value exists in this column for the row, just use this value for the href\n  overrideLinkURLColumnName?: string\n  // If set, also show a tooltip\n  tooltipText?: string\n  // If set, will specify where to open the link\n  target?: TargetEnum\n}\n\nexport type MarkdownLink = {\n  isMarkdown: true\n  // the columns whos value will be used for the markdown\n  matchColumnName: string\n  // If set, also show a tooltip\n  tooltipText?: string\n}\n\nexport type SortConfiguration = {\n  // the column that the query should be sorted on by default\n  defaultColumn: string\n  // the direction that the defaultColumn should be sorted on by default\n  defaultDirection: SortDirection\n  // the columns that the UI should surface as sortable\n  sortableColumns: string[]\n}\n\nexport type CTACardLink = {\n  // link text\n  text: string\n  // column name to use for href\n  link: string\n}\n\nexport type DescriptionConfig = {\n  isMarkdown?: boolean\n  showFullDescriptionByDefault?: boolean\n}\n\n// Specify the indices in the values [] that should be rendered specially\nexport type LabelLinkConfig = (MarkdownLink | CardLink | ColumnSpecifiedLink)[]\n\nexport type ColumnIconConfigs = {\n  columns: {\n    [index: string]: {\n      [index: string]: IconSvgProps\n    }\n  }\n}\n\nexport type CommonCardProps = {\n  genericCardSchema?: GenericCardSchema\n  secondaryLabelLimit?: number\n  titleLinkConfig?: CardLink\n  ctaLinkConfig?: CTACardLink\n  labelLinkConfig?: LabelLinkConfig\n  descriptionConfig?: DescriptionConfig\n  rgbIndex?: number\n  columnIconOptions?: ColumnIconConfigs\n}\nexport type CardConfiguration = {\n  type: string\n  hasInternalLink?: boolean\n  iconOptions?: IconOptions\n} & CommonCardProps\n\nexport type CardContainerLogicProps = {\n  limit?: number\n  title?: string\n  sqlOperator?: SQLOperator\n  searchParams?: Record<string, string>\n  isHeader?: boolean\n  isAlignToLeftNav?: boolean\n  sql: string\n  sortConfig?: SortConfiguration\n} & CardConfiguration &\n  Pick<\n    QueryVisualizationWrapperProps,\n    | 'rgbIndex'\n    | 'unitDescription'\n    | 'columnAliases'\n    | 'noContentPlaceholderType'\n  >\n\n/**\n * Class wraps around CardContainer and serves as a standalone logic container for rendering cards.\n */\nexport const CardContainerLogic = (props: CardContainerLogicProps) => {\n  const entityId = parseEntityIdFromSqlStatement(props.sql)\n  const queryFilters = getAdditionalFilters(\n    entityId,\n    props.searchParams,\n    props.sqlOperator,\n  )\n  const { sortConfig, columnAliases } = props\n  const defaultSortItems = sortConfig\n    ? [\n        {\n          column: sortConfig.defaultColumn,\n          direction: sortConfig.defaultDirection,\n        },\n      ]\n    : undefined\n  const initQueryRequest: QueryBundleRequest = {\n    concreteType: 'org.sagebionetworks.repo.model.table.QueryBundleRequest',\n    entityId: entityId,\n    query: {\n      sql: props.sql,\n      limit: props.limit ?? DEFAULT_PAGE_SIZE,\n      sort: defaultSortItems,\n      additionalFilters: queryFilters,\n    },\n    partMask:\n      SynapseConstants.BUNDLE_MASK_QUERY_RESULTS |\n      SynapseConstants.BUNDLE_MASK_QUERY_COUNT |\n      SynapseConstants.BUNDLE_MASK_QUERY_SELECT_COLUMNS |\n      SynapseConstants.BUNDLE_MASK_QUERY_MAX_ROWS_PER_PAGE |\n      SynapseConstants.BUNDLE_MASK_QUERY_COLUMN_MODELS |\n      SynapseConstants.BUNDLE_MASK_QUERY_FACETS |\n      SynapseConstants.BUNDLE_MASK_SUM_FILES_SIZE_BYTES |\n      SynapseConstants.BUNDLE_MASK_LAST_UPDATED_ON,\n  }\n\n  return (\n    <InfiniteQueryWrapper {...props} initQueryRequest={initQueryRequest}>\n      <QueryVisualizationWrapper\n        rgbIndex={props.rgbIndex}\n        unitDescription={props.unitDescription}\n        columnAliases={columnAliases}\n        noContentPlaceholderType={\n          props.noContentPlaceholderType ?? NoContentPlaceholderType.STATIC\n        }\n      >\n        {sortConfig && <QuerySortSelector sortConfig={sortConfig} />}\n        <CardContainer {...props} />\n        <QueryContextConsumer>\n          {queryContext => <ErrorBanner error={queryContext?.error} />}\n        </QueryContextConsumer>\n      </QueryVisualizationWrapper>\n    </InfiniteQueryWrapper>\n  )\n}\n\nexport default CardContainerLogic\n","import { CardFooter } from './row_renderers/utils'\nimport { DescriptionConfig } from './CardContainerLogic'\nimport MarkdownSynapse from './Markdown/MarkdownSynapse'\nimport React, { useState, useEffect } from 'react'\n\nexport type HeaderCardProps = {\n  rgbIndex?: number\n  type: string\n  title: string\n  subTitle?: string\n  description: string\n  secondaryLabelLimit?: number\n  values?: string[][]\n  isAlignToLeftNav?: boolean\n  descriptionConfig?: DescriptionConfig\n  href?: string\n  target?: string\n  icon: JSX.Element\n}\n\nconst HeaderCard: React.FunctionComponent<HeaderCardProps> = ({\n  type,\n  title,\n  subTitle = '',\n  description,\n  values,\n  secondaryLabelLimit,\n  isAlignToLeftNav,\n  descriptionConfig,\n  href,\n  target,\n  rgbIndex,\n  icon,\n}) => {\n  // store old document title and description so that we can restore when this component is removed\n  const descriptionElement: Element | null = document.querySelector(\n    'meta[name=\"description\"]',\n  )\n  const [docTitle] = useState<string>(document.title)\n  const [docDescription] = useState<string>(\n    descriptionElement ? descriptionElement.getAttribute('content')! : '',\n  )\n  useEffect(() => {\n    // update page title and description based on header card values\n    if (title && document.title !== title) {\n      document.title = title\n    }\n\n    if (description || subTitle) {\n      descriptionElement?.setAttribute(\n        'content',\n        description ? description : subTitle,\n      )\n    }\n\n    return function cleanup() {\n      document.title = docTitle\n      descriptionElement?.setAttribute('content', docDescription)\n    }\n  })\n\n  return (\n    <div\n      className={`SRC-portalCard SRC-portalCardHeader ${\n        isAlignToLeftNav ? 'isAlignToLeftNav' : ''\n      }`}\n    >\n      <div className=\"container-fluid container-full-width\">\n        <div className=\"row\">\n          <div className=\"col-md-offset-1 col-md-10\">\n            <div className=\"SRC-portalCardMain\">\n              {icon}\n              <div style={{ width: '100%' }}>\n                <div className=\"SRC-cardContent\" style={{ marginLeft: '15px' }}>\n                  <div className=\"SRC-type\">{type}</div>\n                  <div>\n                    <h3 className=\"SRC-boldText\" style={{ margin: 'none' }}>\n                      {href ? (\n                        <a\n                          target={target}\n                          href={href}\n                          className=\"highlight-link\"\n                        >\n                          {title}\n                        </a>\n                      ) : (\n                        <span> {title} </span>\n                      )}\n                    </h3>\n                  </div>\n                  {subTitle && <div className=\"SRC-author\"> {subTitle} </div>}\n                  {description && (\n                    <span className=\"SRC-font-size-base\">\n                      {descriptionConfig?.isMarkdown ? (\n                        <MarkdownSynapse markdown={description} />\n                      ) : (\n                        description\n                      )}\n                    </span>\n                  )}\n                </div>\n                <div\n                  style={{\n                    borderTop: '1px solid rgba(26, 28, 41, 0.2)',\n                    marginTop: '15px',\n                    paddingTop: '5px',\n                  }}\n                />\n                <div className=\"SRC-cardContent\">\n                  {values && (\n                    <CardFooter\n                      isHeader={true}\n                      secondaryLabelLimit={secondaryLabelLimit}\n                      values={values}\n                    />\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default HeaderCard\n","import {\n  BatchFileRequest,\n  BatchFileResult,\n  FileHandleAssociation,\n} from '@sage-bionetworks/synapse-types'\nimport React, { useEffect, useState } from 'react'\nimport { SynapseConstants } from '../../utils'\nimport SynapseClient from '../../synapse-client'\nimport { useSynapseContext } from '../../utils/context/SynapseContext'\nimport IconSvg from '../IconSvg/IconSvg'\n\ntype FileHandleLinkProps = {\n  fileHandleAssociation: FileHandleAssociation\n  redirect?: boolean\n  showDownloadIcon: boolean\n  displayValue?: string\n}\nexport const FileHandleLink = (props: FileHandleLinkProps) => {\n  const {\n    fileHandleAssociation,\n    showDownloadIcon,\n    redirect = false,\n    displayValue,\n  } = props\n  const { accessToken } = useSynapseContext()\n\n  const [batchFileResult, setBatchFileResult] = useState<\n    BatchFileResult | undefined\n  >()\n\n  useEffect(() => {\n    if (displayValue === undefined) {\n      const getFiles = async () => {\n        const batchFileRequest: BatchFileRequest = {\n          requestedFiles: [fileHandleAssociation],\n          includeFileHandles: true,\n          includePreSignedURLs: false,\n          includePreviewPreSignedURLs: false,\n        }\n        setBatchFileResult(\n          await SynapseClient.getFiles(batchFileRequest, accessToken),\n        )\n      }\n      getFiles()\n    }\n  }, [accessToken, displayValue, fileHandleAssociation])\n\n  let fileName = undefined\n  if (batchFileResult) {\n    fileName = batchFileResult.requestedFiles[0].fileHandle?.fileName\n  }\n\n  return (\n    <button\n      onClick={() => {\n        if (accessToken && fileHandleAssociation) {\n          SynapseClient.getActualFileHandleByIdURL(\n            fileHandleAssociation.fileHandleId,\n            accessToken,\n            fileHandleAssociation.associateObjectType,\n            fileHandleAssociation.associateObjectId,\n            redirect,\n          )\n            .then(url => {\n              window.open(url, '_blank')\n            })\n            .catch(err => {\n              console.error('Error on retrieving file handle url ', err)\n            })\n        }\n      }}\n      className={`SRC-primary-text-color ${SynapseConstants.SRC_SIGN_IN_CLASS}`}\n      type=\"button\"\n      style={{ padding: 0 }}\n    >\n      {displayValue ?? fileName ?? fileHandleAssociation.fileHandleId}\n      {showDownloadIcon && <IconSvg icon=\"download\" />}\n    </button>\n  )\n}\n","import { FileHandleAssociation } from '@sage-bionetworks/synapse-types'\nimport React, { useEffect, useState } from 'react'\nimport SynapseClient from '../../synapse-client'\nimport { useInView } from 'react-intersection-observer'\nimport { useSynapseContext } from '../../utils/context/SynapseContext'\n\ntype ImageFileHandleProps = {\n  fileHandleAssociation: FileHandleAssociation\n}\n\nexport const ImageFileHandle = (props: ImageFileHandleProps) => {\n  const {\n    fileHandleAssociation: {\n      fileHandleId,\n      associateObjectId,\n      associateObjectType,\n    },\n  } = props\n  const { accessToken } = useSynapseContext()\n  const [url, setUrl] = useState<string>()\n  const { ref, inView } = useInView({\n    triggerOnce: true,\n    rootMargin: '500px 0px',\n  })\n\n  useEffect(() => {\n    const getData = () => {\n      if (fileHandleId && associateObjectId && associateObjectType && inView) {\n        SynapseClient.getActualFileHandleByIdURL(\n          fileHandleId,\n          accessToken,\n          associateObjectType,\n          associateObjectId,\n          false,\n        )\n          .then(url => {\n            setUrl(url)\n          })\n          .catch(err => {\n            console.error('Error on retrieving file handle url ', err)\n          })\n      }\n    }\n\n    getData()\n  }, [\n    inView,\n    fileHandleId,\n    associateObjectId,\n    accessToken,\n    associateObjectType,\n  ])\n\n  return (\n    <span ref={ref}>\n      {url && (\n        <img src={url} alt=\"\" className=\"ImageFileHandle\" loading=\"lazy\"></img>\n      )}\n    </span>\n  )\n}\n","import { isEmpty } from 'lodash-es'\nimport React from 'react'\nimport { SynapseConstants } from '../../utils'\nimport { isTableEntity } from '../../utils/functions/EntityTypeUtils'\nimport { PRODUCTION_ENDPOINT_CONFIG } from '../../utils/functions/getEndpoint'\nimport {\n  DOI_REGEX,\n  SYNAPSE_ENTITY_ID_REGEX,\n} from '../../utils/functions/RegularExpressions'\nimport { SMALL_USER_CARD } from '../../utils/SynapseConstants'\nimport { SynapseContext } from '../../utils/context/SynapseContext'\nimport {\n  ColumnModel,\n  ColumnType,\n  ColumnTypeEnum,\n  Entity,\n  FileHandleAssociateType,\n  FileHandleAssociation,\n  Row,\n  SelectColumn,\n} from '@sage-bionetworks/synapse-types'\nimport { Tooltip } from '@mui/material'\nimport {\n  CardLink,\n  ColumnIconConfigs,\n  ColumnSpecifiedLink,\n  CommonCardProps,\n  DescriptionConfig,\n  MarkdownLink,\n  TargetEnum,\n} from '../CardContainerLogic'\nimport HeaderCard from '../HeaderCard'\nimport IconList from '../IconList'\nimport IconSvg, { type2SvgIconName } from '../IconSvg/IconSvg'\nimport MarkdownSynapse from '../Markdown/MarkdownSynapse'\nimport { QueryContextType } from '../QueryContext'\nimport { CardFooter, Icon } from '../row_renderers/utils'\nimport UserCard from '../UserCard/UserCard'\nimport { FileHandleLink } from '../widgets/FileHandleLink'\nimport { ImageFileHandle } from '../widgets/ImageFileHandle'\nimport { QueryVisualizationContextType } from '../QueryVisualizationWrapper'\nimport { IconOptions } from '../Icon/Icon'\n\nexport type KeyToAlias = {\n  key: string\n  alias?: string\n}\n\nexport type KeyToAliasMap = {\n  [index: number]: KeyToAlias\n  [index: string]: KeyToAlias\n}\n\nexport type GenericCardSchema = {\n  type: string\n  title: string\n  subTitle?: string\n  description?: string\n  icon?: string\n  imageFileHandleColumnName?: string\n  thumbnailRequiresPadding?: boolean\n  secondaryLabels?: string[]\n  link?: string\n  dataTypeIconNames?: string\n}\n\nexport type GenericCardProps = {\n  selectColumns?: SelectColumn[]\n  columnModels?: ColumnModel[]\n  iconOptions?: IconOptions\n  useTypeColumnForIcon?: boolean\n  isHeader?: boolean\n  isAlignToLeftNav?: boolean\n  // Maps columnName to index\n  schema: Record<string, number>\n  // Row values\n  data: string[]\n  rowId?: number\n  tableId: string | undefined\n  columnIconOptions?: ColumnIconConfigs\n  queryContext: QueryContextType\n  queryVisualizationContext: QueryVisualizationContextType\n} & CommonCardProps\n\nexport type GenericCardState = {\n  hasClickedShowMore: boolean\n}\n\nconst CHAR_COUNT_CUTOFF = 400\nexport const CARD_SHORT_DESCRIPTION_CSS = 'SRC-short-description'\nexport const CARD_LONG_DESCRIPTION_CSS = 'SRC-long-description'\n\n// This function isn't in the class only for ease of testing with renderShortDescription\nexport const getCutoff = (summary: string) => {\n  let previewText = ''\n  const summarySplit = summary.split(' ')\n  // find num words to join such that its >= char_count_cutoff\n  let i = 0\n  while (previewText.length < CHAR_COUNT_CUTOFF && i < summarySplit.length) {\n    previewText += `${summarySplit[i]} `\n    i += 1\n  }\n  previewText = previewText.trim()\n  return { previewText }\n}\n\nexport const getFileHandleAssociation = (\n  table?: Entity,\n  fileHandleId?: string,\n  rowSynapseId?: string, // only applicable if this is an EntityView\n) => {\n  let fileHandleAssociation: FileHandleAssociation | undefined = undefined\n  if (table && fileHandleId) {\n    if (isTableEntity(table)) {\n      // The file handle is in the table\n      fileHandleAssociation = {\n        fileHandleId,\n        associateObjectId: table?.id ?? '',\n        associateObjectType: FileHandleAssociateType.TableEntity,\n      }\n    } else if (rowSynapseId) {\n      // We're looking at a view, so the FileEntity (whose ID matches the row ID) gives permission to download the file handle\n      fileHandleAssociation = {\n        fileHandleId,\n        associateObjectId: rowSynapseId,\n        associateObjectType: FileHandleAssociateType.FileEntity,\n      }\n    }\n  }\n  return fileHandleAssociation\n}\n\nexport const getValueOrMultiValue = ({\n  columnName,\n  value,\n  selectColumns,\n  columnModels,\n}: {\n  columnName?: string\n  value?: string\n  selectColumns?: SelectColumn[]\n  columnModels?: ColumnModel[]\n}): ValueOrMultiValue => {\n  if (!value) {\n    return {\n      str: '',\n      strList: undefined,\n      columnModelType: undefined,\n    }\n  }\n  const selectedColumnOrUndefined =\n    selectColumns?.find(el => el.name === columnName) ||\n    columnModels?.find(el => el.name === columnName)\n  const isMultiValue = selectedColumnOrUndefined?.columnType.endsWith('_LIST')\n\n  if (isMultiValue) {\n    let val: any = value\n    let strList: any\n    try {\n      strList = JSON.parse(val)\n      val = (strList as string[]).join(', ')\n      return {\n        strList,\n        str: val,\n        columnModelType: selectedColumnOrUndefined?.columnType,\n      }\n    } catch (e) {\n      console.error(\n        'Could not parse multivalue string ',\n        val,\n        ' caught err ',\n        e,\n      )\n    }\n  }\n  return { str: value, columnModelType: selectedColumnOrUndefined?.columnType }\n}\n\nexport const getColumnIndex = (\n  columnName?: string,\n  selectColumns?: SelectColumn[],\n  columnModels?: ColumnModel[],\n): number | undefined => {\n  return (\n    selectColumns?.findIndex(el => el.name === columnName) ||\n    columnModels?.findIndex(el => el.name === columnName)\n  )\n}\n\n// SWC-6115: special rendering of the version column (for Views)\nexport const VersionLabel: React.FC<{\n  synapseId: string\n  version: string\n}> = props => {\n  const { synapseId, version } = props\n  return (\n    <span>\n      {version}&nbsp;&nbsp;\n      <a\n        target={TargetEnum.NEW_WINDOW}\n        rel=\"noopener noreferrer\"\n        href={`${PRODUCTION_ENDPOINT_CONFIG.PORTAL}#!Synapse:${synapseId}.${version}`}\n      >\n        (Show Version History on Synapse)\n      </a>\n    </span>\n  )\n}\n\ntype SynapseCardLabelProps = {\n  value: string\n  columnName: string\n  labelLink: CardLink | MarkdownLink | ColumnSpecifiedLink | undefined\n  selectColumns: SelectColumn[] | undefined\n  columnModels: ColumnModel[] | undefined\n  isHeader: boolean\n  className?: string\n  rowData: Row['values']\n  rowId?: number\n}\n\nexport const SynapseCardLabel: React.FC<SynapseCardLabelProps> = props => {\n  const {\n    value,\n    columnName,\n    labelLink,\n    selectColumns,\n    columnModels,\n    isHeader,\n    className,\n    rowData,\n    rowId,\n  } = props\n  if (!value) {\n    return <p>{value}</p>\n  }\n  const { strList, str, columnModelType } = getValueOrMultiValue({\n    columnName,\n    value,\n    selectColumns,\n    columnModels,\n  })\n\n  if (!str) {\n    // the array came back empty\n    return <p>{str}</p>\n  }\n\n  let newClassName = className\n  const style: React.CSSProperties = {}\n  if (isHeader) {\n    newClassName = className?.concat(' ', 'SRC-lightLink')\n  }\n  // PORTALS-1913: special rendering for user ID lists\n  if (columnModelType === ColumnTypeEnum.USERID_LIST && strList) {\n    return (\n      <p>\n        {strList.map((val: string, index: number) => {\n          return (\n            <React.Fragment key={val}>\n              <UserCard\n                ownerId={val}\n                size={SMALL_USER_CARD}\n                className={newClassName}\n              />\n              {/* \\u00a0 is a nbsp; */}\n              {index < strList.length - 1 && ',\\u00a0\\u00a0'}\n            </React.Fragment>\n          )\n        })}\n      </p>\n    )\n  }\n  if (columnModelType === ColumnTypeEnum.USERID && str) {\n    return (\n      <UserCard ownerId={str} size={SMALL_USER_CARD} className={newClassName} />\n    )\n  }\n\n  if (!labelLink) {\n    // if this looks like a Synapse ID, then autolink.\n    if (str.match(SYNAPSE_ENTITY_ID_REGEX)) {\n      // its a synId\n      return (\n        <a\n          target={TargetEnum.NEW_WINDOW}\n          rel=\"noopener noreferrer\"\n          href={`${PRODUCTION_ENDPOINT_CONFIG.PORTAL}#!Synapse:${str}`}\n          className={newClassName}\n        >\n          {str}\n        </a>\n      )\n    } else {\n      // they don't need a link\n      return <p>{str}</p>\n    }\n  }\n\n  let labelContent: JSX.Element\n  if (labelLink.isMarkdown) {\n    if (strList) {\n      labelContent = (\n        <p>\n          {strList.map((el, index) => {\n            return (\n              <React.Fragment key={el}>\n                <MarkdownSynapse key={el} renderInline={true} markdown={el} />\n                {/* \\u00a0 is a nbsp; */}\n                {index < strList.length - 1 && ',\\u00a0\\u00a0'}\n              </React.Fragment>\n            )\n          })}\n        </p>\n      )\n    } else {\n      labelContent = <MarkdownSynapse renderInline={true} markdown={value} />\n    }\n  } else {\n    const split = strList ? strList : str.split(',')\n    let linkTarget: TargetEnum | undefined = undefined\n    if ('target' in labelLink) {\n      linkTarget = labelLink.target!\n    }\n    if ('linkColumnName' in labelLink) {\n      const linkIndex = getColumnIndex(\n        labelLink.linkColumnName,\n        selectColumns,\n        columnModels,\n      )\n      if (linkIndex == null) {\n        console.warn(\n          `Could not determine column index of ${labelLink.linkColumnName}`,\n        )\n        labelContent = <>{value}</>\n      } else {\n        const href = rowData[linkIndex]\n\n        if (isEmpty(href)) {\n          labelContent = <>{value}</>\n        } else {\n          labelContent = (\n            <p>\n              {split.map((el, index) => {\n                return (\n                  <React.Fragment key={el}>\n                    <a\n                      href={href ?? undefined}\n                      target={linkTarget ?? TargetEnum.NEW_WINDOW}\n                      rel=\"noopener noreferrer\"\n                      key={el}\n                      className={newClassName}\n                      style={style}\n                    >\n                      {el}\n                    </a>\n                    {index < split.length - 1 && (\n                      <span style={{ marginRight: 4 }}>, </span>\n                    )}\n                  </React.Fragment>\n                )\n              })}\n            </p>\n          )\n        }\n      }\n    } else {\n      labelContent = (\n        <p>\n          {split.map((el, index) => {\n            const { baseURL, URLColumnName, wrapValueWithParens } = labelLink\n            const elOrRowId = labelLink.overrideValueWithRowID\n              ? `syn${rowId}`\n              : el\n            const value = wrapValueWithParens ? `(${elOrRowId})` : elOrRowId\n            const href = `/${baseURL}?${URLColumnName}=${value}`\n\n            return (\n              <React.Fragment key={el}>\n                <a\n                  href={href}\n                  key={el}\n                  className={newClassName}\n                  style={style}\n                  target={linkTarget ?? TargetEnum.CURRENT_WINDOW}\n                >\n                  {el}\n                </a>\n                {index < split.length - 1 && (\n                  <span style={{ marginRight: 4 }}>, </span>\n                )}\n              </React.Fragment>\n            )\n          })}\n        </p>\n      )\n    }\n  }\n\n  if (labelLink.tooltipText) {\n    // wrap in a tooltip\n    return (\n      <Tooltip title={labelLink.tooltipText} enterNextDelay={300}>\n        <span>{labelContent}</span>\n      </Tooltip>\n    )\n  } else {\n    return labelContent\n  }\n}\n\ntype ValueOrMultiValue = {\n  str: string\n  strList?: string[]\n  columnModelType?: ColumnType\n}\n\nexport function getCardLinkHref(\n  cardLink: CardLink | undefined,\n  data: string[] | undefined,\n  schema?: Record<string, number>,\n  rowId?: number,\n): string | undefined {\n  if (cardLink) {\n    if (!data || !schema) {\n      throw Error('Must specify CardLink and data for linking to work')\n    }\n    const {\n      matchColumnName,\n      URLColumnName,\n      overrideLinkURLColumnName,\n      overrideValueWithRowID,\n    } = cardLink\n\n    // PORTALS-2088:  Return the link, unless...\n    // an overrideLinkURLColumnName has been set and it's value is defined.\n    // In this case, just use the overrideLinkURLColumnName value\n    if (overrideLinkURLColumnName && schema[overrideLinkURLColumnName]) {\n      const indexOfOverrideLinkURLColumnName = schema[overrideLinkURLColumnName]\n      const overrideLinkValue = data[indexOfOverrideLinkURLColumnName]\n      if (overrideLinkValue) {\n        return overrideLinkValue\n      }\n    }\n\n    const indexInData = schema[matchColumnName]\n    if (indexInData === undefined) {\n      console.error(\n        `Could not find match for data: ${data} with columnName ${matchColumnName}`,\n      )\n    } else {\n      const value = overrideValueWithRowID ? `syn${rowId}` : data[indexInData]\n      if (value) {\n        // value is defined!\n        return `/${cardLink.baseURL}?${URLColumnName}=${value}`\n      }\n    }\n  }\n  return undefined\n}\n\nexport function getLinkParams(\n  link: string,\n  cardLinkConfig: CardLink | undefined,\n  data: string[] | undefined,\n  schema?: Record<string, number>,\n  rowId?: number,\n) {\n  link = link.trim()\n  let href = link\n  let defaultTarget = TargetEnum.CURRENT_WINDOW\n  if (link.match(SYNAPSE_ENTITY_ID_REGEX)) {\n    // its a synId\n    href = `${PRODUCTION_ENDPOINT_CONFIG.PORTAL}#!Synapse:${link}`\n  } else if (link.match(DOI_REGEX)) {\n    defaultTarget = TargetEnum.NEW_WINDOW\n    href = `https://dx.doi.org/${link}`\n  } else if (!cardLinkConfig) {\n    defaultTarget = TargetEnum.NEW_WINDOW\n  } else if (cardLinkConfig) {\n    href = getCardLinkHref(cardLinkConfig, data, schema, rowId) ?? ''\n    if (href.includes('/DetailsPage')) {\n      defaultTarget = TargetEnum.NEW_WINDOW\n    }\n  }\n\n  const target = cardLinkConfig?.target ?? defaultTarget\n  return { href, target }\n}\n\nexport function LongDescription(props: {\n  description: string\n  hasClickedShowMore: boolean\n  descriptionSubTitle: string\n  descriptionConfig?: DescriptionConfig\n}) {\n  const {\n    description,\n    hasClickedShowMore,\n    descriptionSubTitle,\n    descriptionConfig,\n  } = props\n  let content: JSX.Element | string = description\n  if (descriptionConfig?.isMarkdown) {\n    content = <MarkdownSynapse markdown={content} />\n  }\n  const show =\n    hasClickedShowMore || descriptionConfig?.showFullDescriptionByDefault\n  return (\n    <div className={show ? '' : 'SRC-hidden'}>\n      <span\n        data-search-handle={descriptionSubTitle}\n        className={`SRC-font-size-base ${CARD_LONG_DESCRIPTION_CSS}`}\n      >\n        {content}\n      </span>\n    </div>\n  )\n}\n\nexport function ShortDescription(props: {\n  description: string\n  hasClickedShowMore: boolean\n  descriptionSubTitle: string\n  descriptionConfig?: DescriptionConfig\n  toggleShowMore: () => void\n}) {\n  const {\n    description,\n    hasClickedShowMore,\n    descriptionSubTitle,\n    descriptionConfig,\n    toggleShowMore,\n  } = props\n  if (descriptionConfig?.showFullDescriptionByDefault) {\n    return <></>\n  }\n  return (\n    <div className={hasClickedShowMore ? 'SRC-hidden' : ''}>\n      <span\n        data-search-handle={descriptionSubTitle}\n        className={`SRC-font-size-base ${CARD_SHORT_DESCRIPTION_CSS} SRC-short-description`}\n      >\n        {getCutoff(description).previewText}\n      </span>\n      {description.length >= CHAR_COUNT_CUTOFF && (\n        <a\n          style={{\n            fontSize: '16px',\n            cursor: 'pointer',\n            marginLeft: '5px',\n          }}\n          className=\"highlight-link\"\n          onClick={toggleShowMore}\n        >\n          ...Show More\n        </a>\n      )}\n    </div>\n  )\n}\n\n/**\n * Renders a card from a table query\n */\nexport default class GenericCard extends React.Component<\n  GenericCardProps,\n  GenericCardState\n> {\n  static contextType = SynapseContext\n\n  constructor(props: GenericCardProps) {\n    super(props)\n    this.state = {\n      hasClickedShowMore: false,\n    }\n  }\n\n  getCutoff = (summary: string) => {\n    let previewText = ''\n    const summarySplit = summary.split(' ')\n    // find num words to join such that its >= char_count_cutoff\n    let i = 0\n    while (previewText.length < CHAR_COUNT_CUTOFF && i < summarySplit.length) {\n      previewText += `${summarySplit[i]} `\n      i += 1\n    }\n    previewText = previewText.trim()\n    return { previewText }\n  }\n\n  toggleShowMore = () => {\n    this.setState({\n      hasClickedShowMore: true,\n    })\n  }\n\n  renderTitle = ({\n    href,\n    target,\n    titleSearchHandle,\n    title,\n  }: {\n    target: string\n    titleSearchHandle: string | undefined\n    title: string\n    href: string\n  }) => {\n    if (href) {\n      return (\n        <a\n          data-search-handle={titleSearchHandle}\n          target={target}\n          href={href}\n          className=\"highlight-link\"\n        >\n          {title}\n        </a>\n      )\n    } else {\n      return <span data-search-handle={titleSearchHandle}> {title} </span>\n    }\n  }\n\n  render() {\n    const {\n      schema,\n      data,\n      rowId,\n      genericCardSchema,\n      secondaryLabelLimit,\n      selectColumns,\n      columnModels,\n      iconOptions,\n      useTypeColumnForIcon = false,\n      isHeader = false,\n      titleLinkConfig,\n      ctaLinkConfig,\n      labelLinkConfig,\n      descriptionConfig,\n      rgbIndex,\n      columnIconOptions,\n      queryContext: { entity: table },\n      queryVisualizationContext: { getColumnDisplayName },\n    } = this.props\n    // GenericCard inherits properties from CommonCardProps so that the properties have the same name\n    // and type, but theres one nuance which is that we can't override if one specific property will be\n    // defined, so we assert genericCardSchema is not null and assign to genericCardSchemaDefined\n    const genericCardSchemaDefined = genericCardSchema!\n    const { hasClickedShowMore } = this.state\n    const { link = '', type } = genericCardSchemaDefined\n    const title = data[schema[genericCardSchemaDefined.title]]\n    let subTitle =\n      genericCardSchemaDefined.subTitle &&\n      data[schema[genericCardSchemaDefined.subTitle]]\n    subTitle =\n      genericCardSchemaDefined?.subTitle &&\n      getValueOrMultiValue({\n        value: subTitle,\n        columnName: genericCardSchemaDefined?.subTitle,\n        selectColumns,\n        columnModels,\n      }).str\n    const description = data[schema[genericCardSchemaDefined.description || '']]\n    const iconValue = data[schema[genericCardSchemaDefined.icon || '']]\n    const dataTypeIconNames =\n      data[schema[genericCardSchemaDefined.dataTypeIconNames || '']]\n    const imageFileHandleIdValue =\n      data[schema[genericCardSchemaDefined.imageFileHandleColumnName || '']]\n    const titleColumnModel = columnModels?.find(\n      el => genericCardSchemaDefined.link === el.name,\n    )\n    const titleColumnType = titleColumnModel?.columnType\n    // wrap link in parens because undefined would throw an error\n    const linkValue: string = data[schema[link]] || ''\n    const { href, target } = getLinkParams(\n      linkValue,\n      titleLinkConfig,\n      data,\n      schema,\n      rowId,\n    )\n    const values: string[][] = []\n    const { secondaryLabels = [] } = genericCardSchemaDefined\n    const isView = table && !isTableEntity(table)\n    for (let i = 0; i < secondaryLabels.length; i += 1) {\n      const columnName = secondaryLabels[i]\n      let value: any = data[schema[columnName]]\n      let columnDisplayName\n      if (value) {\n        // SWC-6115: special rendering of the version column (for Views)\n        if (isView && columnName === 'currentVersion') {\n          const synapseId = data[schema.id]\n          const version = value\n          value = VersionLabel({ synapseId, version })\n          columnDisplayName = 'Version'\n        } else {\n          const labelLink = labelLinkConfig?.find(\n            el => el.matchColumnName === columnName,\n          )\n          value = (\n            <SynapseCardLabel\n              value={value}\n              columnName={columnName}\n              labelLink={labelLink}\n              isHeader={isHeader}\n              selectColumns={selectColumns}\n              columnModels={columnModels}\n              rowData={data}\n            />\n          )\n          columnDisplayName = getColumnDisplayName(columnName)\n        }\n        const keyValue = [columnDisplayName, value, columnName]\n        values.push(keyValue)\n      }\n    }\n\n    const fileHandleId = imageFileHandleIdValue || linkValue\n\n    /**\n     * To show a direct download link to a file, we need to determine the association that gives permission to download the file.\n     */\n    const fileHandleAssociation = getFileHandleAssociation(\n      table,\n      fileHandleId,\n      data[schema.id],\n    )\n\n    const showFooter = values.length > 0\n\n    const style: React.CSSProperties = {\n      // undefined, take default value from class\n      marginTop: isHeader ? '0px' : undefined,\n      marginBottom: isHeader ? '0px' : undefined,\n      paddingBottom: showFooter || imageFileHandleIdValue ? undefined : '15px',\n    }\n    const icon: JSX.Element = (\n      <>\n        {!useTypeColumnForIcon && imageFileHandleIdValue && (\n          <div\n            className=\"SRC-imageThumbnail\"\n            style={{\n              padding: genericCardSchemaDefined.thumbnailRequiresPadding\n                ? '21px'\n                : undefined,\n            }}\n          >\n            {fileHandleAssociation && (\n              <ImageFileHandle fileHandleAssociation={fileHandleAssociation} />\n            )}\n          </div>\n        )}\n        {!useTypeColumnForIcon && !imageFileHandleIdValue && (\n          <div className=\"SRC-cardThumbnail\">\n            <Icon iconOptions={iconOptions} value={iconValue} type={type} />\n          </div>\n        )}\n        {useTypeColumnForIcon && (\n          <div className=\"SRC-cardThumbnail\">\n            <IconSvg\n              icon={\n                type2SvgIconName[\n                  data[schema['type']] as keyof typeof type2SvgIconName\n                ]\n              }\n            />\n          </div>\n        )}\n      </>\n    )\n\n    if (isHeader) {\n      return (\n        <HeaderCard\n          descriptionConfig={descriptionConfig}\n          title={title}\n          subTitle={subTitle}\n          description={description}\n          type={type}\n          icon={icon}\n          values={values}\n          href={href}\n          target={target}\n          isAlignToLeftNav={true}\n          secondaryLabelLimit={secondaryLabelLimit}\n          rgbIndex={rgbIndex}\n        />\n      )\n    }\n\n    const titleSearchHandle = getColumnDisplayName(\n      genericCardSchemaDefined.title,\n    )\n    const stubTitleSearchHandle = getColumnDisplayName(\n      genericCardSchemaDefined.subTitle || '',\n    )\n    const descriptionSubTitle = getColumnDisplayName(\n      genericCardSchemaDefined.description || '',\n    )\n\n    let ctaHref: string | undefined = undefined,\n      ctaTarget: string | undefined = undefined\n    if (ctaLinkConfig) {\n      const ctaLinkValue: string = data[schema[ctaLinkConfig.link]] || ''\n      const { href: newCtaHref, target: newCtaTarget } = getLinkParams(\n        ctaLinkValue,\n        undefined, //card link config\n        data,\n        schema,\n        rowId,\n      )\n      ctaHref = newCtaHref\n      ctaTarget = newCtaTarget\n    }\n\n    return (\n      <div style={style} className={'SRC-portalCard'}>\n        <div className={'SRC-portalCardMain'}>\n          {icon}\n          <div className=\"SRC-cardContent\">\n            <div className=\"SRC-type\">{type}</div>\n            {\n              // If the portal configs has columnIconOptions.columns.dataType option\n              // and the column value is not null, display the card data type icons\n              columnIconOptions?.columns?.dataType &&\n                dataTypeIconNames?.length && (\n                  <div style={{ marginTop: '20px' }}>\n                    <IconList\n                      iconConfigs={columnIconOptions.columns.dataType}\n                      iconNames={JSON.parse(dataTypeIconNames)}\n                      useBackground={true}\n                      useTheme={true}\n                    />\n                  </div>\n                )\n            }\n            <div>\n              <h3\n                className=\"SRC-boldText SRC-blackText\"\n                style={{ margin: 'none' }}\n              >\n                {!titleLinkConfig &&\n                titleColumnType === ColumnTypeEnum.FILEHANDLEID &&\n                fileHandleAssociation ? (\n                  <FileHandleLink\n                    fileHandleAssociation={fileHandleAssociation}\n                    showDownloadIcon={type !== SynapseConstants.EXPERIMENTAL}\n                    displayValue={title}\n                  />\n                ) : (\n                  this.renderTitle({\n                    href,\n                    target,\n                    titleSearchHandle,\n                    title,\n                  })\n                )}\n              </h3>\n            </div>\n            {subTitle && (\n              <div\n                data-search-handle={stubTitleSearchHandle}\n                className=\"SRC-author\"\n              >\n                {subTitle}\n              </div>\n            )}\n            {/* \n              Below is a hack that allows word highlighting to work, the Search component insert's\n              html elements outside of the React DOM which if detected would break the app,\n              but as written below this avoids that reconcilliation process.\n            */}\n            {description && (\n              <ShortDescription\n                description={description}\n                hasClickedShowMore={hasClickedShowMore}\n                descriptionSubTitle={descriptionSubTitle}\n                descriptionConfig={descriptionConfig}\n                toggleShowMore={this.toggleShowMore}\n              />\n            )}\n            {description && (\n              <LongDescription\n                description={description}\n                hasClickedShowMore={hasClickedShowMore}\n                descriptionSubTitle={descriptionSubTitle}\n                descriptionConfig={descriptionConfig}\n              />\n            )}\n            {ctaLinkConfig && ctaHref && ctaTarget && (\n              <div className=\"SRC-portalCardCTALink bootstrap-4-backport\">\n                <a target={ctaTarget} rel=\"noopener noreferrer\" href={ctaHref}>\n                  {ctaLinkConfig.text}\n                </a>\n              </div>\n            )}\n          </div>\n        </div>\n        {showFooter && (\n          <CardFooter\n            isHeader={false}\n            secondaryLabelLimit={secondaryLabelLimit}\n            values={values}\n            columnIconOptions={columnIconOptions}\n            className={`${imageFileHandleIdValue ? 'hasImage' : 'hasIcon'}`}\n          />\n        )}\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport { DATASET } from '../../utils/SynapseConstants'\nimport { calculateFriendlyFileSize } from '../../utils/functions/calculateFriendlyFileSize'\nimport * as Utils from './utils'\nimport { GenericCardSchema, getValueOrMultiValue } from '../GenericCard'\nimport { SelectColumn, ColumnModel } from '@sage-bionetworks/synapse-types'\nimport { Button } from '@mui/material'\nimport { PRODUCTION_ENDPOINT_CONFIG } from '../../utils/functions/getEndpoint'\nimport { QueryVisualizationContextType } from '../QueryVisualizationWrapper'\n\nexport type DatasetProps = {\n  data?: any\n  schema?: any\n  secondaryLabelLimit?: number\n  selectColumns?: SelectColumn[]\n  columnModels?: ColumnModel[]\n  genericCardSchema?: GenericCardSchema\n  queryVisualizationContext: QueryVisualizationContextType\n}\n\nclass Dataset extends React.Component<DatasetProps, never> {\n  constructor(props: DatasetProps) {\n    super(props)\n    this.handleLinkClick = this.handleLinkClick.bind(this)\n  }\n\n  public handleLinkClick =\n    (link: string) => (event: React.MouseEvent<HTMLButtonElement>) => {\n      event.preventDefault()\n      window.open(\n        `${PRODUCTION_ENDPOINT_CONFIG.PORTAL}#!Synapse:${link}`,\n        '_blank',\n      )\n    }\n\n  public render() {\n    const {\n      data,\n      schema,\n      selectColumns,\n      columnModels,\n      genericCardSchema,\n      queryVisualizationContext: { getColumnDisplayName },\n    } = this.props\n    const datasetName = data[schema.datasetName]\n    const summary = data[schema.summary]\n    const tumorType = getValueOrMultiValue({\n      columnName: 'tumorType',\n      value: data[schema.tumorType],\n      selectColumns,\n      columnModels,\n    }).str\n    const diseaseFocus = getValueOrMultiValue({\n      columnName: 'diseaseFocus',\n      value: data[schema.diseaseFocus],\n      selectColumns,\n      columnModels,\n    }).str\n    const id = data[schema.id]\n    const fundingAgency = data[schema.fundingAgency]\n    const fileCount = data[schema.fileCount]\n    const fileSize = calculateFriendlyFileSize(data[schema.fileSize])\n    const values = [\n      [\n        'FUNDER',\n        getValueOrMultiValue({\n          columnName: 'fundingAgency',\n          value: fundingAgency,\n          selectColumns,\n          columnModels,\n        }).str,\n      ],\n      ['SIZE', fileSize],\n      ['FILES', fileCount],\n    ]\n    if (genericCardSchema && genericCardSchema.secondaryLabels) {\n      const { secondaryLabels } = genericCardSchema\n      for (let i = 0; i < secondaryLabels.length; i++) {\n        const columnName = secondaryLabels[i]\n        const value: any = data[schema[columnName]]\n        let columnDisplayName\n        if (value) {\n          columnDisplayName = getColumnDisplayName(columnName)\n          const keyValue = [columnDisplayName, value, columnName]\n          values.push(keyValue)\n        }\n      }\n    }\n\n    return (\n      <div className=\"SRC-portalCard SRC-typeDataset  \">\n        <div className=\"SRC-cardThumbnail\">\n          <Utils.Icon type={DATASET} />\n          <div>{fileSize}</div>\n        </div>\n        <div className=\"SRC-cardContent SRC-dataset\">\n          <div className=\"SRC-type\">Dataset </div>\n          <div>\n            <h3>\n              <a\n                target=\"_self\"\n                href={`${PRODUCTION_ENDPOINT_CONFIG.PORTAL}#!Synapse:${id}`}\n              >\n                {datasetName}\n              </a>\n            </h3>\n          </div>\n          <div className=\"SRC-description-dataset\">\n            <p className=\"SRC-description-text\">{summary}</p>\n            <div className=\"SRC-cardAction\">\n              <Button\n                className=\"SRC-datasetButton\"\n                onClick={this.handleLinkClick(id)}\n                color=\"secondary\"\n                variant=\"contained\"\n              >\n                Download Dataset\n              </Button>\n            </div>\n          </div>\n          <div className=\"SRC-cardAnnotations\">\n            <Utils.ChipContainer chips={[tumorType, diseaseFocus]} />\n          </div>\n        </div>\n        <Utils.CardFooter\n          isHeader={false}\n          secondaryLabelLimit={this.props.secondaryLabelLimit}\n          values={values}\n        />\n      </div>\n    )\n  }\n}\nexport default Dataset\n","import React from 'react'\nimport WideButton from '../styled/WideButton'\n\nexport type FunderProps = {\n  data?: any\n  schema?: any\n}\n\nexport default class Funder extends React.Component<FunderProps, never> {\n  constructor(props: FunderProps) {\n    super(props)\n    this.handleLinkClick = this.handleLinkClick.bind(this)\n  }\n  public handleLinkClick =\n    (link: string) => (event: React.MouseEvent<HTMLButtonElement>) => {\n      event.preventDefault()\n      window.open(link, '_blank')\n    }\n  public render() {\n    const { data, schema } = this.props\n    const organizationName = data[schema.organizationName]\n    const organizationPath = data[schema.organizationPath]\n    const summary = data[schema.summary]\n    const website = data[schema.website]\n    const logoHref: string = data[schema.logo]\n    // remove leading http(s):// and trailing /\n    let websiteDisplayName = website.replace('https://', '')\n    websiteDisplayName = websiteDisplayName.replace('http://', '')\n    if (websiteDisplayName.charAt(websiteDisplayName.length - 1) === '/') {\n      websiteDisplayName = websiteDisplayName.substring(\n        0,\n        websiteDisplayName.length - 1,\n      )\n    }\n    const isOnOrgPath = window.location.hash.substring(1) === organizationPath\n    const style: any = {}\n    let showOrgLink\n    if (!isOnOrgPath) {\n      showOrgLink = (\n        <div className=\"SRC-marginAuto SRC-cardAction\">\n          <WideButton\n            href={organizationPath}\n            variant=\"contained\"\n            color=\"secondary\"\n          >\n            View Funded Research\n          </WideButton>\n        </div>\n      )\n    } else {\n      style.paddingBottom = '42px'\n    }\n    return (\n      <div className=\"SRC-portalCard SRC-typeFunder \" style={style}>\n        <div className=\"SRC-cardContent\">\n          <div className=\"SRC-type\">Organization</div>\n          {logoHref && (\n            <div className=\"SRC-cardThumbnail\">\n              <img alt=\"funder logo\" className=\"SRC-logo\" src={logoHref} />\n            </div>\n          )}\n          <div>\n            <h3>\n              {isOnOrgPath && organizationName}\n              {!isOnOrgPath && (\n                <a href={organizationPath}>{organizationName}</a>\n              )}\n            </h3>\n          </div>\n          <div className=\"SRC-website\">\n            <a rel=\"noopener noreferrer\" target=\"_blank\" href={website}>\n              {websiteDisplayName}\n            </a>\n          </div>\n          <div className=\"SRC-description\">{summary}</div>\n        </div>\n        {showOrgLink}\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport UserCard from '../UserCard/UserCard'\nimport IconSvg from '../IconSvg/IconSvg'\nimport { ShowMore } from './utils'\nimport { UnitType } from 'dayjs'\nimport { Skeleton } from '@mui/material'\nimport { SkeletonTable } from '../Skeleton/SkeletonTable'\n\ntype ObservationCardSchema = {\n  submitterName: string\n  submitterUserId: string\n  time: string\n  timeUnits: UnitType\n  text: string\n  tag: string\n}\n\nexport type ObservationCardProps = {\n  schema: ObservationCardSchema\n  data: Record<ObservationCardSchema[keyof ObservationCardSchema], string>\n}\n\n/**\n * Specialized Observation Card, initially implemented for the NF portal.\n * Expects the following columns: submitterName, submitterUserId, time, timeUnits, text, and tag.\n */\nexport const ObservationCard: React.FunctionComponent<ObservationCardProps> = ({\n  data,\n  schema,\n}: ObservationCardProps) => {\n  const submitterName = data[schema.submitterName]\n  const submitterUserId = data[schema.submitterUserId]\n  const time = data[schema.time]\n  const timeUnits = data[schema.timeUnits] as UnitType\n  const text = data[schema.text]\n  const tag = data[schema.tag]\n  return (\n    <div className=\"SRC-portalCard ObservationCard\">\n      <div className=\"ObservationCard__submitter\">\n        {!submitterUserId && <div>{submitterName}</div>}\n        {submitterUserId && (\n          <UserCard size={'SMALL USER CARD'} ownerId={submitterUserId} />\n        )}\n      </div>\n      {time && (\n        <div className=\"ObservationCard__time\">\n          <IconSvg icon=\"time\" />\n          <span>\n            {`${time} ${timeUnits}`}\n            {Number(time) > 1 ? 's' : ''}\n          </span>\n        </div>\n      )}\n      <div className=\"ObservationCard__text\">\n        <ShowMore summary={text} />\n      </div>\n      <div className=\"ObservationCard__tags\">\n        {tag && <span className=\"SRC-tag\">{tag}</span>}\n      </div>\n    </div>\n  )\n}\n\nexport const LoadingObservationCard: React.FunctionComponent = () => {\n  return (\n    <div className=\"SRC-portalCard ObservationCard\">\n      <div className=\"ObservationCard__submitter\">\n        <span>\n          <Skeleton width=\"100px\" />\n        </span>\n      </div>\n      <div className=\"ObservationCard__time\">\n        <IconSvg icon=\"time\" />\n      </div>\n      <div className=\"ObservationCard__text\">\n        <SkeletonTable numCols={1} numRows={4} />\n      </div>\n      <div className=\"ObservationCard__tags\">\n        <Skeleton width=\"80px\" />\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport useGetInfoFromIds from '../../utils/hooks/useGetInfoFromIds'\nimport {\n  DATASET,\n  FUNDER,\n  GENERIC_CARD,\n  MEDIUM_USER_CARD,\n  OBSERVATION_CARD,\n} from '../../utils/SynapseConstants'\nimport {\n  ColumnTypeEnum,\n  EntityHeader,\n  Row,\n} from '@sage-bionetworks/synapse-types'\nimport { CardConfiguration } from '../CardContainerLogic'\nimport GenericCard from '../GenericCard'\nimport loadingScreen from '../LoadingScreen'\nimport { useInfiniteQueryContext } from '../QueryContext'\nimport { useQueryVisualizationContext } from '../QueryVisualizationWrapper'\nimport { Dataset, Funder } from '../row_renderers'\nimport {\n  LoadingObservationCard,\n  ObservationCard,\n} from '../row_renderers/ObservationCard'\nimport TotalQueryResults from '../TotalQueryResults'\nimport UserCardList from '../UserCardList/UserCardList'\nimport WideButton from '../styled/WideButton'\nimport { Box } from '@mui/material'\n\nexport type CardContainerProps = {\n  isHeader?: boolean\n  isAlignToLeftNav?: boolean\n  title?: string\n  isLoading?: boolean\n  unitDescription?: string\n} & CardConfiguration\n\nfunction Card(props: { propsToPass: any; type: string }) {\n  const { propsToPass, type } = props\n  switch (type) {\n    case DATASET:\n      return <Dataset {...propsToPass} />\n    case FUNDER:\n      return <Funder {...propsToPass} />\n    case GENERIC_CARD:\n      return <GenericCard {...propsToPass} />\n    case OBSERVATION_CARD:\n      return <ObservationCard {...propsToPass} />\n    default:\n      return <div /> // this should never happen\n  }\n}\n\nexport function CardContainer(props: CardContainerProps) {\n  const {\n    isHeader = false,\n    unitDescription,\n    type,\n    isLoading,\n    secondaryLabelLimit = 3,\n    title,\n    ...rest\n  } = props\n  const infiniteQueryContext = useInfiniteQueryContext()\n  const { NoContentPlaceholder } = useQueryVisualizationContext()\n  const { data, appendNextPageToResults, hasNextPage } = infiniteQueryContext\n\n  const queryVisualizationContext = useQueryVisualizationContext()\n\n  const ids = data?.queryResult!.queryResults.tableId\n    ? [data?.queryResult.queryResults.tableId]\n    : []\n  const tableEntityConcreteType = useGetInfoFromIds<EntityHeader>({\n    ids,\n    type: 'ENTITY_HEADER',\n  })\n  // the cards only show the loading screen on initial load, this occurs when data is undefined\n  if (!data) {\n    return (\n      <div>\n        {isLoading && type === OBSERVATION_CARD && <LoadingObservationCard />}\n        {isLoading && type !== OBSERVATION_CARD && loadingScreen}\n      </div>\n    )\n  } else if (data && data.queryResult!.queryResults.rows.length === 0) {\n    // Show \"no results\" UI (see PORTALS-1497)\n    return <NoContentPlaceholder />\n  }\n  const schema: Record<string, number> = {}\n  data.queryResult!.queryResults.headers.forEach((element, index) => {\n    schema[element.name] = index\n  })\n  const showViewMoreButton = hasNextPage && (\n    <Box display=\"flex\" justifyContent=\"flex-end\">\n      <WideButton\n        variant=\"contained\"\n        color=\"secondary\"\n        size=\"large\"\n        onClick={() => {\n          appendNextPageToResults()\n        }}\n      >\n        View More\n      </WideButton>\n    </Box>\n  )\n  let cards\n  if (type === MEDIUM_USER_CARD) {\n    // Hard coding ownerId as a column name containing the user profile ownerId\n    // for each row, grab the column with the ownerId\n    const userIdColumnIndex = data.queryResult!.queryResults.headers.findIndex(\n      el => el.columnType === ColumnTypeEnum.USERID,\n    )\n    if (userIdColumnIndex === -1) {\n      throw Error(\n        'Type MEDIUM_USER_CARD specified but no columnType USERID found',\n      )\n    }\n    const listIds = data.queryResult!.queryResults.rows.map(\n      el => el.values[userIdColumnIndex],\n    )\n    cards = <UserCardList data={data} list={listIds} size={MEDIUM_USER_CARD} />\n  } else {\n    // render the cards\n    const cardsData = data.queryResult!.queryResults.rows\n    cards = cardsData.length ? (\n      cardsData.map((rowData: Row, index) => {\n        const key = JSON.stringify(rowData.values)\n        const propsForCard = {\n          key,\n          type,\n          schema,\n          isHeader,\n          secondaryLabelLimit,\n          rowId: rowData.rowId,\n          data: rowData.values,\n          selectColumns: data.selectColumns,\n          columnModels: data.columnModels,\n          tableEntityConcreteType:\n            tableEntityConcreteType[0] && tableEntityConcreteType[0].type,\n          tableId: data?.queryResult!.queryResults.tableId,\n          queryContext: infiniteQueryContext,\n          queryVisualizationContext,\n          ...rest,\n        }\n        return (\n          <Card\n            key={rowData.rowId ?? index}\n            propsToPass={propsForCard}\n            type={type}\n          />\n        )\n      })\n    ) : (\n      <></>\n    )\n  }\n\n  return (\n    <div role=\"list\">\n      {title && <h2 className=\"SRC-card-overview-title\">{title}</h2>}\n      {!title && unitDescription && (\n        <TotalQueryResults frontText={'Displaying'} />\n      )}\n      {/* ReactCSSTransitionGroup adds css fade in property for cards that come into view */}\n      {cards}\n      {showViewMoreButton}\n    </div>\n  )\n}\n\nexport default CardContainer\n","!function webpackUniversalModuleDefinition(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.ColumnResizer=t():e.ColumnResizer=t()}(this,(()=>(()=>{\"use strict\";var e={887:e=>{e.exports=function hash(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return t>>>0}}},t={};function __webpack_require__(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,__webpack_require__),o.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var r={};return(()=>{__webpack_require__.r(r),__webpack_require__.d(r,{default:()=>n});var e=__webpack_require__(887),t=__webpack_require__.n(e);function _typeof(e){return _typeof=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},_typeof(e)}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,_toPropertyKey(i.key),i)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,\"prototype\",{writable:!1}),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function _defineProperty(e,t,r){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if(\"object\"!==_typeof(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||\"default\");if(\"object\"!==_typeof(i))return i;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}(e,\"string\");return\"symbol\"===_typeof(t)?t:String(t)}var i,o=(i=0,function(){return i++}),n=_createClass((function ColumnResizer(e){var r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,ColumnResizer),_defineProperty(this,\"ID\",\"id\"),_defineProperty(this,\"PX\",\"px\"),_defineProperty(this,\"RESIZABLE\",\"grip-resizable\"),_defineProperty(this,\"FLEX\",\"grip-flex\"),_defineProperty(this,\"legacyIE\",navigator.userAgent.indexOf(\"Trident/4.0\")>0),_defineProperty(this,\"reset\",(function(e){return r.init(e)})),_defineProperty(this,\"onResize\",(function(){var e=r.tb;if(e.classList.remove(r.RESIZABLE),e.opt.fixed){e.tableWidth=Number(window.getComputedStyle(e).width.replace(/px/,\"\")).valueOf();for(var t=0,i=0;i<e.columnCnt;i++)t+=e.columns[i].w;for(var o=0;o<e.columnCnt;o++)e.columns[o].style.width=Math.round(1e3*e.columns[o].w/t)/10+\"%\",e.columns[o].locked=!0,e.opt.currentWidths[o]=Number(window.getComputedStyle(e.columns[o]).width.replace(/px/,\"\")).valueOf()}else r.applyBounds(),\"flex\"===e.opt.resizeMode&&e.opt.serialize&&r.serializeStore();e.classList.add(r.RESIZABLE),r.syncGrips()})),_defineProperty(this,\"onGripMouseDown\",(function(e){var t=e.target.parentNode.data,i=r.tb,o=i.grips[t.i],n=e.touches;if(o.ox=n?n[0].pageX:e.pageX,o.l=o.offsetLeft,o.x=o.l,r.createStyle(document.querySelector(\"head\"),\"*{cursor:\"+i.opt.dragCursor+\"!important}\"),document.addEventListener(\"touchmove\",r.onGripDrag),document.addEventListener(\"mousemove\",r.onGripDrag),document.addEventListener(\"touchend\",r.onGripDragOver),document.addEventListener(\"mouseup\",r.onGripDragOver),o.classList.add(i.opt.draggingClass),r.grip=o,i.columns[t.i].locked)for(var l,a=0;a<i.columnCnt;a++)(l=i.columns[a]).locked=!1,l.w=Number(window.getComputedStyle(l).width.replace(/px/,\"\")).valueOf();e.preventDefault()})),_defineProperty(this,\"onGripDrag\",(function(e){var t=r.grip;if(t){var i=t.t,o=e.touches,n=(o?o[0].pageX:e.pageX)-t.ox+t.l,l=i.opt.minWidth,a=t.i,s=1.5*i.cellSpace+l+i.borderSpace,d=a===i.columnCnt-1,p=a?i.grips[a-1].offsetLeft+i.cellSpace+l:s,u=i.opt.fixed?a===i.columnCnt-1?i.tableWidth-s:i.grips[a+1].offsetLeft-i.cellSpace-l:1/0;if(n=Math.max(p,Math.min(u,n)),t.x=n,t.style.left=n+r.PX,d&&(t.w=i.columns[a].w+n-t.l),i.opt.liveDrag){d?(i.columns[a].style.width=t.w+r.PX,!i.opt.fixed&&i.opt.overflow?i.style.minWidth=i.tableWidth+n-t.l+r.PX:i.tableWidth=Number(window.getComputedStyle(i).width.replace(/px/,\"\")).valueOf()):r.syncCols(i,a,!1,i.opt),r.syncGrips();var c=i.opt.onDrag;c&&c(e)}e.preventDefault()}})),_defineProperty(this,\"onGripDragOver\",(function(e){var t=r.grip;document.removeEventListener(\"touchend\",r.onGripDragOver),document.removeEventListener(\"mouseup\",r.onGripDragOver),document.removeEventListener(\"touchmove\",r.onGripDrag),document.removeEventListener(\"mousemove\",r.onGripDrag);var i=document.querySelector(\"head\").lastChild;if(i.parentNode.removeChild(i),t){if(t.classList.remove(t.t.opt.draggingClass),t.x-t.l!=0){var o=t.t,n=o.opt.onResize,l=t.i;if(l===o.columnCnt-1){var a=o.columns[l];a.style.width=t.w+r.PX,a.w=t.w}else r.syncCols(o,l,!0,o.opt);o.opt.fixed||r.applyBounds(),r.syncGrips(),n&&n(e),o.opt.serialize&&r.serializeStore()}r.grip=null}})),_defineProperty(this,\"init\",(function(e){if(e.disable)return r.destroy();var t=r.tb,i=t.getAttribute(r.ID)||r.RESIZABLE+o();if(!t.matches(\"table\")||t.extended&&!e.partialRefresh)return null;var n=document.querySelector(\"head\");if(r.createStyle(n,\" .grip-resizable{table-layout:fixed;} .grip-resizable > tbody > tr > td, .grip-resizable > tbody > tr > th{overflow:hidden} .grip-padding > tbody > tr > td, .grip-padding > tbody > tr > th{padding-left:0!important; padding-right:0!important;} .grip-container{ height:0px; position:relative;} .grip-handle{margin-left:-5px; position:absolute; z-index:5; } .grip-handle .grip-resizable{position:absolute;background-color:red;filter:alpha(opacity=1);opacity:0;width:10px;height:100%;cursor: col-resize;top:0px} .grip-lastgrip{position:absolute; width:1px; } .grip-drag{ border-left:1px dotted black;\\t} .grip-flex{width:auto!important;} .grip-handle.grip-disabledgrip .grip-resizable{cursor:default; display:none;}\"),e.hoverCursor&&\"col-resize\"!==e.hoverCursor){var l=\".grip-handle .grip-resizable:hover{cursor:\"+e.hoverCursor+\"!important}\";r.createStyle(n,l)}t.setAttribute(r.ID,i);var a=t.opt;t.opt=r.extendOptions(e);var s=r.getTableHeaders(t);if(r.extendTable(s),e.remoteTable&&e.remoteTable.matches(\"table\")){var d=r.getTableHeaders(t.opt.remoteTable);s.length===d.length?r.extendRemoteTable(t.opt.remoteTable,d,t):console.warn(\"column count for remote table did not match\")}return a})),_defineProperty(this,\"applyBounds\",(function(){var e=r.tb,t=e.columns.map((function(e){return window.getComputedStyle(e).width}));e.style.width=window.getComputedStyle(e).width,e.tableWidth=Number(e.style.width.replace(/px/,\"\")).valueOf(),e.classList.remove(r.FLEX),e.columns.forEach((function(r,i){r.style.width=t[i];var o=Number(t[i].replace(/px/,\"\")).valueOf();r.w=o,e.opt.currentWidths[i]=o})),e.classList.add(r.FLEX)})),_defineProperty(this,\"serializeStore\",(function(){var e=r.store,t=r.tb;e[t.getAttribute(r.ID)]=\"\";for(var i=0,o=0;o<t.columns.length;o++){var n=window.getComputedStyle(t.columns[o]).width.replace(/px/,\"\");e[t.getAttribute(r.ID)]+=n+\";\",i+=Number(n).valueOf()}e[t.getAttribute(r.ID)]+=i.toString(),t.opt.fixed||(e[t.getAttribute(r.ID)]+=\";\"+window.getComputedStyle(t).width.replace(/px/,\"\"))})),_defineProperty(this,\"syncGrips\",(function(){var e=r.tb;e.gripContainer.style.width=e.tableWidth+r.PX;for(var t=0;t<e.columnCnt;t++){var i=e.columns[t],o=i.getBoundingClientRect(),n=e.getBoundingClientRect();e.grips[t].style.left=o.left-n.left+i.offsetWidth+e.cellSpace/2+r.PX,e.grips[t].style.height=(e.opt.headerOnly?e.columns[0].offsetHeight:e.offsetHeight)+r.PX}})),_defineProperty(this,\"destroy\",(function(){var e=r.tb,t=e.getAttribute(r.ID);return t?(r.store[t]=\"\",e.classList.remove(r.RESIZABLE),e.classList.remove(r.FLEX),e.remote&&(e.remote.classList.remove(r.RESIZABLE),e.remote.classList.remove(r.FLEX)),e.gripContainer&&e.gripContainer.parentNode&&e.gripContainer.parentNode.removeChild(e.gripContainer),delete e.extended,e.opt):null})),_defineProperty(this,\"createStyle\",(function(e,r){var i=t()(r).toString(),o=e.querySelectorAll(\"style\"),n=Array.from(o).filter((function(e){return e.gripid===i}));if(!n.length){var l=document.createElement(\"style\");l.type=\"text/css\",l.gripid=i,l.styleSheet?l.styleSheet.cssText=r:l.appendChild(document.createTextNode(r)),e.appendChild(l)}})),_defineProperty(this,\"extendOptions\",(function(e){var t=Object.assign({},ColumnResizer.DEFAULTS,e);switch(t.fixed=!0,t.overflow=!1,t.resizeMode){case\"flex\":t.fixed=!1;break;case\"overflow\":t.fixed=!1,t.overflow=!0}return t})),_defineProperty(this,\"getTableHeaders\",(function(e){var t=\"#\"+e.id,i=Array.from(e.querySelectorAll(t+\">thead>tr:nth-of-type(1)>th\"));return(i=i.concat(Array.from(e.querySelectorAll(t+\">thead>tr:nth-of-type(1)>td\")))).length||(i=(i=(i=(i=Array.from(e.querySelectorAll(t+\">tbody>tr:nth-of-type(1)>th\"))).concat(Array.from(e.querySelectorAll(t+\">tr:nth-of-type(1)>th\")))).concat(Array.from(e.querySelectorAll(t+\">tbody>tr:nth-of-type(1)>td\")))).concat(Array.from(e.querySelectorAll(t+\">tr:nth-of-type(1)>td\")))),r.filterInvisible(i,!1)})),_defineProperty(this,\"filterInvisible\",(function(e,t){return e.filter((function(e){var r=t?-1:e.offsetWidth,i=t?-1:e.offsetHeight;return!(0===r&&0===i||e.style&&e.style.display&&\"none\"===window.getComputedStyle(e).display||!1)}))})),_defineProperty(this,\"extendTable\",(function(e){var t=r.tb;t.opt.removePadding&&t.classList.add(\"grip-padding\"),t.classList.add(r.RESIZABLE),t.insertAdjacentHTML(\"beforebegin\",'<div class=\"grip-container\"/>'),t.grips=[],t.columns=[],t.tableWidth=Number(window.getComputedStyle(t).width.replace(/px/,\"\")).valueOf(),t.gripContainer=t.previousElementSibling,t.opt.marginLeft&&(t.gripContainer.style.marginLeft=t.opt.marginLeft),t.opt.marginRight&&(t.gripContainer.style.marginRight=t.opt.marginRight),t.cellSpace=parseInt(r.legacyIE?t.cellSpacing||t.currentStyle.borderSpacing:window.getComputedStyle(t).borderSpacing.split(\" \")[0].replace(/px/,\"\"))||2,t.borderSpace=parseInt(r.legacyIE?t.border||t.currentStyle.borderLeftWidth:window.getComputedStyle(t).borderLeftWidth.replace(/px/,\"\"))||1,t.extended=!0,r.createGrips(e)})),_defineProperty(this,\"extendRemoteTable\",(function(e,t,i){i.opt.removePadding&&e.classList.add(\"grip-padding\"),e.classList.add(r.RESIZABLE),e.getAttribute(r.ID)||e.setAttribute(r.ID,i.getAttribute(r.ID)+\"remote\"),e.columns=[],t.forEach((function(o,n){var l=t[n];l.w=i.columns[n].w,l.style.width=l.w+r.PX,l.removeAttribute(\"width\"),e.columns.push(l)})),e.tableWidth=i.tableWidth,e.cellSpace=i.cellSpace,e.borderSpace=i.borderSpace;var o=Array.from(e.querySelectorAll(\"col\"));e.columnGrp=r.filterInvisible(o,!0),e.columnGrp.forEach((function(e,t){e.removeAttribute(\"width\"),e.style.width=i.columnGrp[t].style.width})),i.remote=e})),_defineProperty(this,\"createGrips\",(function(e){var t=r.tb;t.columnGrp=r.filterInvisible(Array.from(t.querySelectorAll(\"col\")),!0),t.columnGrp.forEach((function(e){e.removeAttribute(\"width\")})),t.columnCnt=e.length;var i=!1;r.store[t.getAttribute(r.ID)]&&(r.deserializeStore(e),i=!0),e.forEach((function(o,n){var l=e[n],a=-1!==t.opt.disabledColumns.indexOf(n);r.createDiv(t.gripContainer,\"grip-handle\");var s=t.gripContainer.lastChild;!a&&t.opt.gripInnerHtml&&(s.innerHTML=t.opt.gripInnerHtml),r.createDiv(s,r.RESIZABLE),n===t.columnCnt-1&&(s.classList.add(\"grip-lastgrip\"),t.opt.fixed&&(s.innerHTML=\"\")),s.addEventListener(\"touchstart\",r.onGripMouseDown,{capture:!0,passive:!0}),s.addEventListener(\"mousedown\",r.onGripMouseDown,!0),a?s.classList.add(\"grip-disabledgrip\"):(s.classList.remove(\"grip-disabledgrip\"),s.addEventListener(\"touchstart\",r.onGripMouseDown,{capture:!0,passive:!0}),s.addEventListener(\"mousedown\",r.onGripMouseDown,!0)),s.t=t,s.i=n,t.opt.widths[n]?l.w=t.opt.widths[n]:l.w=i?Number(l.style.width.replace(/px/,\"\")).valueOf():Number(window.getComputedStyle(l).width.replace(/px/,\"\")).valueOf(),t.opt.currentWidths[n]=l.w,l.style.width=l.w+r.PX,l.removeAttribute(\"width\"),s.data={i:n,t:t.getAttribute(r.ID),last:n===t.columnCnt-1},t.grips.push(s),t.columns.push(l)}));var o=Array.from(t.querySelectorAll(\"td\"));o.concat(Array.from(t.querySelectorAll(\"th\"))),(o=(o=o.filter((function(t){for(var r=0;r<e.length;r++)if(e[r]===t)return!1;return!0}))).filter((function(e){return!(e.querySelectorAll(\"table th\").length||e.querySelectorAll(\"table td\").length)}))).forEach((function(e){e.removeAttribute(\"width\")})),t.opt.fixed||(t.removeAttribute(\"width\"),t.classList.add(r.FLEX)),r.syncGrips()})),_defineProperty(this,\"deserializeStore\",(function(e){var t=r.tb;if(t.columnGrp.forEach((function(e){e.removeAttribute(\"width\")})),t.opt.flush)r.store[t.getAttribute(r.ID)]=\"\";else{var i=r.store[t.getAttribute(r.ID)].split(\";\"),o=i[t.columnCnt+1];!t.opt.fixed&&o&&(t.style.width=o+r.PX,t.opt.overflow&&(t.style.minWidth=o+r.PX,t.tableWidth=Number(o).valueOf()));for(var n=0;n<t.columnCnt;n++)e[n].style.width=i[n]+r.PX,t.columnGrp[n]&&(t.columnGrp[n].style.width=100*Number(i[n]).valueOf()/Number(i[t.columnCnt]).valueOf()+\"%\")}})),_defineProperty(this,\"createDiv\",(function(e,t,r){var i=document.createElement(\"div\");i.classList.add(t),r&&(i.innerHTML=r),e.appendChild(i)})),_defineProperty(this,\"syncCols\",(function(e,t,i,o){var n=e.remote,l=r.grip.x-r.grip.l,a=e.columns[t],s=e.columns[t+1];if(a&&s){var d=a.w+l,p=s.w-l,u=d+r.PX;if(a.style.width=u,e.columnGrp[t]&&e.columnGrp[t].style.width&&(e.columnGrp[t].style.width=u),n&&(n.columns[t].style.width=u,n.columnGrp[t]&&n.columnGrp[t].style.width&&(n.columnGrp[t].style.width=u)),o.fixed){var c=p+r.PX;s.style.width=c,e.columnGrp[t+1]&&e.columnGrp[t+1].style.width&&(e.columnGrp[t+1].style.width=c),n&&(n.columns[t+1].style.width=c,n.columnGrp[t+1]&&n.columnGrp[t+1].style.width&&(n.columnGrp[t+1].style.width=c))}else o.overflow&&(e.style.minWidth=e.tableWidth+l+r.PX);i&&(a.w=d,s.w=o.fixed?p:s.w,n&&(n.columns[t].w=d,n.columns[t+1].w=o.fixed?p:s.w))}}));try{this.store=sessionStorage}catch(e){this.store={}}this.grip=null,this.tb=e,window.addEventListener(\"resize\",this.onResize),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector),this.init(i)}));n.DEFAULTS={resizeMode:\"fit\",draggingClass:\"grip-drag\",gripInnerHtml:\"\",liveDrag:!1,minWidth:15,headerOnly:!1,hoverCursor:\"col-resize\",dragCursor:\"col-resize\",flush:!1,marginLeft:null,marginRight:null,remoteTable:null,disable:!1,partialRefresh:!1,disabledColumns:[],removePadding:!0,widths:[],currentWidths:[],serialize:!0,onDrag:null,onResize:null}})(),r})()));\n//# sourceMappingURL=column-resizer.js.map","import React from 'react'\nimport IconSvg from './IconSvg/IconSvg'\nimport { useSynapseContext } from '../utils/context/SynapseContext'\nimport { displayToast } from './ToastMessage/ToastMessage'\nimport { Link, Tooltip } from '@mui/material'\nimport { useAddFileToDownloadList } from '../synapse-queries/download/useDownloadList'\nimport { useGetEntity } from '../synapse-queries'\n\nexport type AddToDownloadListV2Props = {\n  entityId: string\n  entityVersionNumber?: number\n}\n\nconst AddToDownloadListV2: React.FunctionComponent<\n  AddToDownloadListV2Props\n> = props => {\n  const { entityId, entityVersionNumber } = props\n  const { accessToken } = useSynapseContext()\n  const isLoggedIn = !!accessToken\n\n  const { data: entity } = useGetEntity(entityId, entityVersionNumber)\n\n  const { mutate: addToDownloadList } = useAddFileToDownloadList({\n    onSuccess: () => {\n      displayToast(\n        `${\n          entity?.name ?? entityId\n        } was successfully added to your Download Cart.`,\n        'success',\n      )\n    },\n    onError: e => {\n      displayToast(\n        `Unable to add the file to your Download Cart. ${e.reason}`,\n        'danger',\n      )\n    },\n  })\n\n  if (!isLoggedIn) {\n    return <></>\n  }\n\n  return (\n    <>\n      <Tooltip\n        title=\"Add this file to your Download Cart\"\n        placement=\"right\"\n        enterNextDelay={300}\n      >\n        <Link\n          data-testid=\"AddToDownloadListV2\"\n          onClick={() => {\n            addToDownloadList({ entityId, entityVersionNumber })\n          }}\n          className=\"ignoreLink\"\n        >\n          <IconSvg icon={'addToCart'} />\n        </Link>\n      </Tooltip>\n    </>\n  )\n}\n\nexport default AddToDownloadListV2\n","/////////////////////////////////////////////////////////////////////////////////\n/* UAParser.js v1.0.33\n   Copyright © 2012-2021 Faisal Salman <f@faisalman.com>\n   MIT License *//*\n   Detect Browser, Engine, OS, CPU, and Device type/model from User-Agent data.\n   Supports browser & node.js environment. \n   Demo   : https://faisalman.github.io/ua-parser-js\n   Source : https://github.com/faisalman/ua-parser-js */\n/////////////////////////////////////////////////////////////////////////////////\n\n(function (window, undefined) {\n\n    'use strict';\n\n    //////////////\n    // Constants\n    /////////////\n\n\n    var LIBVERSION  = '1.0.33',\n        EMPTY       = '',\n        UNKNOWN     = '?',\n        FUNC_TYPE   = 'function',\n        UNDEF_TYPE  = 'undefined',\n        OBJ_TYPE    = 'object',\n        STR_TYPE    = 'string',\n        MAJOR       = 'major',\n        MODEL       = 'model',\n        NAME        = 'name',\n        TYPE        = 'type',\n        VENDOR      = 'vendor',\n        VERSION     = 'version',\n        ARCHITECTURE= 'architecture',\n        CONSOLE     = 'console',\n        MOBILE      = 'mobile',\n        TABLET      = 'tablet',\n        SMARTTV     = 'smarttv',\n        WEARABLE    = 'wearable',\n        EMBEDDED    = 'embedded',\n        UA_MAX_LENGTH = 350;\n\n    var AMAZON  = 'Amazon',\n        APPLE   = 'Apple',\n        ASUS    = 'ASUS',\n        BLACKBERRY = 'BlackBerry',\n        BROWSER = 'Browser',\n        CHROME  = 'Chrome',\n        EDGE    = 'Edge',\n        FIREFOX = 'Firefox',\n        GOOGLE  = 'Google',\n        HUAWEI  = 'Huawei',\n        LG      = 'LG',\n        MICROSOFT = 'Microsoft',\n        MOTOROLA  = 'Motorola',\n        OPERA   = 'Opera',\n        SAMSUNG = 'Samsung',\n        SHARP   = 'Sharp',\n        SONY    = 'Sony',\n        XIAOMI  = 'Xiaomi',\n        ZEBRA   = 'Zebra',\n        FACEBOOK   = 'Facebook';\n\n    ///////////\n    // Helper\n    //////////\n\n    var extend = function (regexes, extensions) {\n            var mergedRegexes = {};\n            for (var i in regexes) {\n                if (extensions[i] && extensions[i].length % 2 === 0) {\n                    mergedRegexes[i] = extensions[i].concat(regexes[i]);\n                } else {\n                    mergedRegexes[i] = regexes[i];\n                }\n            }\n            return mergedRegexes;\n        },\n        enumerize = function (arr) {\n            var enums = {};\n            for (var i=0; i<arr.length; i++) {\n                enums[arr[i].toUpperCase()] = arr[i];\n            }\n            return enums;\n        },\n        has = function (str1, str2) {\n            return typeof str1 === STR_TYPE ? lowerize(str2).indexOf(lowerize(str1)) !== -1 : false;\n        },\n        lowerize = function (str) {\n            return str.toLowerCase();\n        },\n        majorize = function (version) {\n            return typeof(version) === STR_TYPE ? version.replace(/[^\\d\\.]/g, EMPTY).split('.')[0] : undefined;\n        },\n        trim = function (str, len) {\n            if (typeof(str) === STR_TYPE) {\n                str = str.replace(/^\\s\\s*/, EMPTY);\n                return typeof(len) === UNDEF_TYPE ? str : str.substring(0, UA_MAX_LENGTH);\n            }\n    };\n\n    ///////////////\n    // Map helper\n    //////////////\n\n    var rgxMapper = function (ua, arrays) {\n\n            var i = 0, j, k, p, q, matches, match;\n\n            // loop through all regexes maps\n            while (i < arrays.length && !matches) {\n\n                var regex = arrays[i],       // even sequence (0,2,4,..)\n                    props = arrays[i + 1];   // odd sequence (1,3,5,..)\n                j = k = 0;\n\n                // try matching uastring with regexes\n                while (j < regex.length && !matches) {\n\n                    matches = regex[j++].exec(ua);\n\n                    if (!!matches) {\n                        for (p = 0; p < props.length; p++) {\n                            match = matches[++k];\n                            q = props[p];\n                            // check if given property is actually array\n                            if (typeof q === OBJ_TYPE && q.length > 0) {\n                                if (q.length === 2) {\n                                    if (typeof q[1] == FUNC_TYPE) {\n                                        // assign modified match\n                                        this[q[0]] = q[1].call(this, match);\n                                    } else {\n                                        // assign given value, ignore regex match\n                                        this[q[0]] = q[1];\n                                    }\n                                } else if (q.length === 3) {\n                                    // check whether function or regex\n                                    if (typeof q[1] === FUNC_TYPE && !(q[1].exec && q[1].test)) {\n                                        // call function (usually string mapper)\n                                        this[q[0]] = match ? q[1].call(this, match, q[2]) : undefined;\n                                    } else {\n                                        // sanitize match using given regex\n                                        this[q[0]] = match ? match.replace(q[1], q[2]) : undefined;\n                                    }\n                                } else if (q.length === 4) {\n                                        this[q[0]] = match ? q[3].call(this, match.replace(q[1], q[2])) : undefined;\n                                }\n                            } else {\n                                this[q] = match ? match : undefined;\n                            }\n                        }\n                    }\n                }\n                i += 2;\n            }\n        },\n\n        strMapper = function (str, map) {\n\n            for (var i in map) {\n                // check if current value is array\n                if (typeof map[i] === OBJ_TYPE && map[i].length > 0) {\n                    for (var j = 0; j < map[i].length; j++) {\n                        if (has(map[i][j], str)) {\n                            return (i === UNKNOWN) ? undefined : i;\n                        }\n                    }\n                } else if (has(map[i], str)) {\n                    return (i === UNKNOWN) ? undefined : i;\n                }\n            }\n            return str;\n    };\n\n    ///////////////\n    // String map\n    //////////////\n\n    // Safari < 3.0\n    var oldSafariMap = {\n            '1.0'   : '/8',\n            '1.2'   : '/1',\n            '1.3'   : '/3',\n            '2.0'   : '/412',\n            '2.0.2' : '/416',\n            '2.0.3' : '/417',\n            '2.0.4' : '/419',\n            '?'     : '/'\n        },\n        windowsVersionMap = {\n            'ME'        : '4.90',\n            'NT 3.11'   : 'NT3.51',\n            'NT 4.0'    : 'NT4.0',\n            '2000'      : 'NT 5.0',\n            'XP'        : ['NT 5.1', 'NT 5.2'],\n            'Vista'     : 'NT 6.0',\n            '7'         : 'NT 6.1',\n            '8'         : 'NT 6.2',\n            '8.1'       : 'NT 6.3',\n            '10'        : ['NT 6.4', 'NT 10.0'],\n            'RT'        : 'ARM'\n    };\n\n    //////////////\n    // Regex map\n    /////////////\n\n    var regexes = {\n\n        browser : [[\n\n            /\\b(?:crmo|crios)\\/([\\w\\.]+)/i                                      // Chrome for Android/iOS\n            ], [VERSION, [NAME, 'Chrome']], [\n            /edg(?:e|ios|a)?\\/([\\w\\.]+)/i                                       // Microsoft Edge\n            ], [VERSION, [NAME, 'Edge']], [\n\n            // Presto based\n            /(opera mini)\\/([-\\w\\.]+)/i,                                        // Opera Mini\n            /(opera [mobiletab]{3,6})\\b.+version\\/([-\\w\\.]+)/i,                 // Opera Mobi/Tablet\n            /(opera)(?:.+version\\/|[\\/ ]+)([\\w\\.]+)/i                           // Opera\n            ], [NAME, VERSION], [\n            /opios[\\/ ]+([\\w\\.]+)/i                                             // Opera mini on iphone >= 8.0\n            ], [VERSION, [NAME, OPERA+' Mini']], [\n            /\\bopr\\/([\\w\\.]+)/i                                                 // Opera Webkit\n            ], [VERSION, [NAME, OPERA]], [\n\n            // Mixed\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /(lunascape|maxthon|netfront|jasmine|blazer)[\\/ ]?([\\w\\.]*)/i,      // Lunascape/Maxthon/Netfront/Jasmine/Blazer\n            // Trident based\n            /(avant |iemobile|slim)(?:browser)?[\\/ ]?([\\w\\.]*)/i,               // Avant/IEMobile/SlimBrowser\n            /(ba?idubrowser)[\\/ ]?([\\w\\.]+)/i,                                  // Baidu Browser\n            /(?:ms|\\()(ie) ([\\w\\.]+)/i,                                         // Internet Explorer\n\n            // Webkit/KHTML based                                               // Flock/RockMelt/Midori/Epiphany/Silk/Skyfire/Bolt/Iron/Iridium/PhantomJS/Bowser/QupZilla/Falkon\n            /(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\\/([-\\w\\.]+)/i,\n                                                                                // Rekonq/Puffin/Brave/Whale/QQBrowserLite/QQ, aka ShouQ\n            /(weibo)__([\\d\\.]+)/i                                               // Weibo\n            ], [NAME, VERSION], [\n            /(?:\\buc? ?browser|(?:juc.+)ucweb)[\\/ ]?([\\w\\.]+)/i                 // UCBrowser\n            ], [VERSION, [NAME, 'UC'+BROWSER]], [\n            /microm.+\\bqbcore\\/([\\w\\.]+)/i,                                     // WeChat Desktop for Windows Built-in Browser\n            /\\bqbcore\\/([\\w\\.]+).+microm/i\n            ], [VERSION, [NAME, 'WeChat(Win) Desktop']], [\n            /micromessenger\\/([\\w\\.]+)/i                                        // WeChat\n            ], [VERSION, [NAME, 'WeChat']], [\n            /konqueror\\/([\\w\\.]+)/i                                             // Konqueror\n            ], [VERSION, [NAME, 'Konqueror']], [\n            /trident.+rv[: ]([\\w\\.]{1,9})\\b.+like gecko/i                       // IE11\n            ], [VERSION, [NAME, 'IE']], [\n            /yabrowser\\/([\\w\\.]+)/i                                             // Yandex\n            ], [VERSION, [NAME, 'Yandex']], [\n            /(avast|avg)\\/([\\w\\.]+)/i                                           // Avast/AVG Secure Browser\n            ], [[NAME, /(.+)/, '$1 Secure '+BROWSER], VERSION], [\n            /\\bfocus\\/([\\w\\.]+)/i                                               // Firefox Focus\n            ], [VERSION, [NAME, FIREFOX+' Focus']], [\n            /\\bopt\\/([\\w\\.]+)/i                                                 // Opera Touch\n            ], [VERSION, [NAME, OPERA+' Touch']], [\n            /coc_coc\\w+\\/([\\w\\.]+)/i                                            // Coc Coc Browser\n            ], [VERSION, [NAME, 'Coc Coc']], [\n            /dolfin\\/([\\w\\.]+)/i                                                // Dolphin\n            ], [VERSION, [NAME, 'Dolphin']], [\n            /coast\\/([\\w\\.]+)/i                                                 // Opera Coast\n            ], [VERSION, [NAME, OPERA+' Coast']], [\n            /miuibrowser\\/([\\w\\.]+)/i                                           // MIUI Browser\n            ], [VERSION, [NAME, 'MIUI '+BROWSER]], [\n            /fxios\\/([-\\w\\.]+)/i                                                // Firefox for iOS\n            ], [VERSION, [NAME, FIREFOX]], [\n            /\\bqihu|(qi?ho?o?|360)browser/i                                     // 360\n            ], [[NAME, '360 '+BROWSER]], [\n            /(oculus|samsung|sailfish|huawei)browser\\/([\\w\\.]+)/i\n            ], [[NAME, /(.+)/, '$1 '+BROWSER], VERSION], [                      // Oculus/Samsung/Sailfish/Huawei Browser\n            /(comodo_dragon)\\/([\\w\\.]+)/i                                       // Comodo Dragon\n            ], [[NAME, /_/g, ' '], VERSION], [\n            /(electron)\\/([\\w\\.]+) safari/i,                                    // Electron-based App\n            /(tesla)(?: qtcarbrowser|\\/(20\\d\\d\\.[-\\w\\.]+))/i,                   // Tesla\n            /m?(qqbrowser|baiduboxapp|2345Explorer)[\\/ ]?([\\w\\.]+)/i            // QQBrowser/Baidu App/2345 Browser\n            ], [NAME, VERSION], [\n            /(metasr)[\\/ ]?([\\w\\.]+)/i,                                         // SouGouBrowser\n            /(lbbrowser)/i,                                                     // LieBao Browser\n            /\\[(linkedin)app\\]/i                                                // LinkedIn App for iOS & Android\n            ], [NAME], [\n\n            // WebView\n            /((?:fban\\/fbios|fb_iab\\/fb4a)(?!.+fbav)|;fbav\\/([\\w\\.]+);)/i       // Facebook App for iOS & Android\n            ], [[NAME, FACEBOOK], VERSION], [\n            /safari (line)\\/([\\w\\.]+)/i,                                        // Line App for iOS\n            /\\b(line)\\/([\\w\\.]+)\\/iab/i,                                        // Line App for Android\n            /(chromium|instagram)[\\/ ]([-\\w\\.]+)/i                              // Chromium/Instagram\n            ], [NAME, VERSION], [\n            /\\bgsa\\/([\\w\\.]+) .*safari\\//i                                      // Google Search Appliance on iOS\n            ], [VERSION, [NAME, 'GSA']], [\n\n            /headlesschrome(?:\\/([\\w\\.]+)| )/i                                  // Chrome Headless\n            ], [VERSION, [NAME, CHROME+' Headless']], [\n\n            / wv\\).+(chrome)\\/([\\w\\.]+)/i                                       // Chrome WebView\n            ], [[NAME, CHROME+' WebView'], VERSION], [\n\n            /droid.+ version\\/([\\w\\.]+)\\b.+(?:mobile safari|safari)/i           // Android Browser\n            ], [VERSION, [NAME, 'Android '+BROWSER]], [\n\n            /(chrome|omniweb|arora|[tizenoka]{5} ?browser)\\/v?([\\w\\.]+)/i       // Chrome/OmniWeb/Arora/Tizen/Nokia\n            ], [NAME, VERSION], [\n\n            /version\\/([\\w\\.\\,]+) .*mobile\\/\\w+ (safari)/i                      // Mobile Safari\n            ], [VERSION, [NAME, 'Mobile Safari']], [\n            /version\\/([\\w(\\.|\\,)]+) .*(mobile ?safari|safari)/i                // Safari & Safari Mobile\n            ], [VERSION, NAME], [\n            /webkit.+?(mobile ?safari|safari)(\\/[\\w\\.]+)/i                      // Safari < 3.0\n            ], [NAME, [VERSION, strMapper, oldSafariMap]], [\n\n            /(webkit|khtml)\\/([\\w\\.]+)/i\n            ], [NAME, VERSION], [\n\n            // Gecko based\n            /(navigator|netscape\\d?)\\/([-\\w\\.]+)/i                              // Netscape\n            ], [[NAME, 'Netscape'], VERSION], [\n            /mobile vr; rv:([\\w\\.]+)\\).+firefox/i                               // Firefox Reality\n            ], [VERSION, [NAME, FIREFOX+' Reality']], [\n            /ekiohf.+(flow)\\/([\\w\\.]+)/i,                                       // Flow\n            /(swiftfox)/i,                                                      // Swiftfox\n            /(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\\/ ]?([\\w\\.\\+]+)/i,\n                                                                                // IceDragon/Iceweasel/Camino/Chimera/Fennec/Maemo/Minimo/Conkeror/Klar\n            /(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([-\\w\\.]+)$/i,\n                                                                                // Firefox/SeaMonkey/K-Meleon/IceCat/IceApe/Firebird/Phoenix\n            /(firefox)\\/([\\w\\.]+)/i,                                            // Other Firefox-based\n            /(mozilla)\\/([\\w\\.]+) .+rv\\:.+gecko\\/\\d+/i,                         // Mozilla\n\n            // Other\n            /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\\. ]?browser)[-\\/ ]?v?([\\w\\.]+)/i,\n                                                                                // Polaris/Lynx/Dillo/iCab/Doris/Amaya/w3m/NetSurf/Sleipnir/Obigo/Mosaic/Go/ICE/UP.Browser\n            /(links) \\(([\\w\\.]+)/i                                              // Links\n            ], [NAME, VERSION], [\n            \n            /(cobalt)\\/([\\w\\.]+)/i                                              // Cobalt\n            ], [NAME, [VERSION, /master.|lts./, \"\"]]\n        ],\n\n        cpu : [[\n\n            /(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\\)]/i                     // AMD64 (x64)\n            ], [[ARCHITECTURE, 'amd64']], [\n\n            /(ia32(?=;))/i                                                      // IA32 (quicktime)\n            ], [[ARCHITECTURE, lowerize]], [\n\n            /((?:i[346]|x)86)[;\\)]/i                                            // IA32 (x86)\n            ], [[ARCHITECTURE, 'ia32']], [\n\n            /\\b(aarch64|arm(v?8e?l?|_?64))\\b/i                                 // ARM64\n            ], [[ARCHITECTURE, 'arm64']], [\n\n            /\\b(arm(?:v[67])?ht?n?[fl]p?)\\b/i                                   // ARMHF\n            ], [[ARCHITECTURE, 'armhf']], [\n\n            // PocketPC mistakenly identified as PowerPC\n            /windows (ce|mobile); ppc;/i\n            ], [[ARCHITECTURE, 'arm']], [\n\n            /((?:ppc|powerpc)(?:64)?)(?: mac|;|\\))/i                            // PowerPC\n            ], [[ARCHITECTURE, /ower/, EMPTY, lowerize]], [\n\n            /(sun4\\w)[;\\)]/i                                                    // SPARC\n            ], [[ARCHITECTURE, 'sparc']], [\n\n            /((?:avr32|ia64(?=;))|68k(?=\\))|\\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\\b|pa-risc)/i\n                                                                                // IA64, 68K, ARM/64, AVR/32, IRIX/64, MIPS/64, SPARC/64, PA-RISC\n            ], [[ARCHITECTURE, lowerize]]\n        ],\n\n        device : [[\n\n            //////////////////////////\n            // MOBILES & TABLETS\n            // Ordered by popularity\n            /////////////////////////\n\n            // Samsung\n            /\\b(sch-i[89]0\\d|shw-m380s|sm-[ptx]\\w{2,4}|gt-[pn]\\d{2,4}|sgh-t8[56]9|nexus 10)/i\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, TABLET]], [\n            /\\b((?:s[cgp]h|gt|sm)-\\w+|galaxy nexus)/i,\n            /samsung[- ]([-\\w]+)/i,\n            /sec-(sgh\\w+)/i\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, MOBILE]], [\n\n            // Apple\n            /\\((ip(?:hone|od)[\\w ]*);/i                                         // iPod/iPhone\n            ], [MODEL, [VENDOR, APPLE], [TYPE, MOBILE]], [\n            /\\((ipad);[-\\w\\),; ]+apple/i,                                       // iPad\n            /applecoremedia\\/[\\w\\.]+ \\((ipad)/i,\n            /\\b(ipad)\\d\\d?,\\d\\d?[;\\]].+ios/i\n            ], [MODEL, [VENDOR, APPLE], [TYPE, TABLET]], [\n            /(macintosh);/i\n            ], [MODEL, [VENDOR, APPLE]], [\n\n            // Huawei\n            /\\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\\d{2})\\b(?!.+d\\/s)/i\n            ], [MODEL, [VENDOR, HUAWEI], [TYPE, TABLET]], [\n            /(?:huawei|honor)([-\\w ]+)[;\\)]/i,\n            /\\b(nexus 6p|\\w{2,4}e?-[atu]?[ln][\\dx][012359c][adn]?)\\b(?!.+d\\/s)/i\n            ], [MODEL, [VENDOR, HUAWEI], [TYPE, MOBILE]], [\n\n            // Xiaomi\n            /\\b(poco[\\w ]+)(?: bui|\\))/i,                                       // Xiaomi POCO\n            /\\b; (\\w+) build\\/hm\\1/i,                                           // Xiaomi Hongmi 'numeric' models\n            /\\b(hm[-_ ]?note?[_ ]?(?:\\d\\w)?) bui/i,                             // Xiaomi Hongmi\n            /\\b(redmi[\\-_ ]?(?:note|k)?[\\w_ ]+)(?: bui|\\))/i,                   // Xiaomi Redmi\n            /\\b(mi[-_ ]?(?:a\\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\\d?\\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\\))/i // Xiaomi Mi\n            ], [[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, MOBILE]], [\n            /\\b(mi[-_ ]?(?:pad)(?:[\\w_ ]+))(?: bui|\\))/i                        // Mi Pad tablets\n            ],[[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, TABLET]], [\n\n            // OPPO\n            /; (\\w+) bui.+ oppo/i,\n            /\\b(cph[12]\\d{3}|p(?:af|c[al]|d\\w|e[ar])[mt]\\d0|x9007|a101op)\\b/i\n            ], [MODEL, [VENDOR, 'OPPO'], [TYPE, MOBILE]], [\n\n            // Vivo\n            /vivo (\\w+)(?: bui|\\))/i,\n            /\\b(v[12]\\d{3}\\w?[at])(?: bui|;)/i\n            ], [MODEL, [VENDOR, 'Vivo'], [TYPE, MOBILE]], [\n\n            // Realme\n            /\\b(rmx[12]\\d{3})(?: bui|;|\\))/i\n            ], [MODEL, [VENDOR, 'Realme'], [TYPE, MOBILE]], [\n\n            // Motorola\n            /\\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\\b[\\w ]+build\\//i,\n            /\\bmot(?:orola)?[- ](\\w*)/i,\n            /((?:moto[\\w\\(\\) ]+|xt\\d{3,4}|nexus 6)(?= bui|\\)))/i\n            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, MOBILE]], [\n            /\\b(mz60\\d|xoom[2 ]{0,2}) build\\//i\n            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, TABLET]], [\n\n            // LG\n            /((?=lg)?[vl]k\\-?\\d{3}) bui| 3\\.[-\\w; ]{10}lg?-([06cv9]{3,4})/i\n            ], [MODEL, [VENDOR, LG], [TYPE, TABLET]], [\n            /(lm(?:-?f100[nv]?|-[\\w\\.]+)(?= bui|\\))|nexus [45])/i,\n            /\\blg[-e;\\/ ]+((?!browser|netcast|android tv)\\w+)/i,\n            /\\blg-?([\\d\\w]+) bui/i\n            ], [MODEL, [VENDOR, LG], [TYPE, MOBILE]], [\n\n            // Lenovo\n            /(ideatab[-\\w ]+)/i,\n            /lenovo ?(s[56]000[-\\w]+|tab(?:[\\w ]+)|yt[-\\d\\w]{6}|tb[-\\d\\w]{6})/i\n            ], [MODEL, [VENDOR, 'Lenovo'], [TYPE, TABLET]], [\n\n            // Nokia\n            /(?:maemo|nokia).*(n900|lumia \\d+)/i,\n            /nokia[-_ ]?([-\\w\\.]*)/i\n            ], [[MODEL, /_/g, ' '], [VENDOR, 'Nokia'], [TYPE, MOBILE]], [\n\n            // Google\n            /(pixel c)\\b/i                                                      // Google Pixel C\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, TABLET]], [\n            /droid.+; (pixel[\\daxl ]{0,6})(?: bui|\\))/i                         // Google Pixel\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, MOBILE]], [\n\n            // Sony\n            /droid.+ (a?\\d[0-2]{2}so|[c-g]\\d{4}|so[-gl]\\w+|xq-a\\w[4-7][12])(?= bui|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i\n            ], [MODEL, [VENDOR, SONY], [TYPE, MOBILE]], [\n            /sony tablet [ps]/i,\n            /\\b(?:sony)?sgp\\w+(?: bui|\\))/i\n            ], [[MODEL, 'Xperia Tablet'], [VENDOR, SONY], [TYPE, TABLET]], [\n\n            // OnePlus\n            / (kb2005|in20[12]5|be20[12][59])\\b/i,\n            /(?:one)?(?:plus)? (a\\d0\\d\\d)(?: b|\\))/i\n            ], [MODEL, [VENDOR, 'OnePlus'], [TYPE, MOBILE]], [\n\n            // Amazon\n            /(alexa)webm/i,\n            /(kf[a-z]{2}wi)( bui|\\))/i,                                         // Kindle Fire without Silk\n            /(kf[a-z]+)( bui|\\)).+silk\\//i                                      // Kindle Fire HD\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, TABLET]], [\n            /((?:sd|kf)[0349hijorstuw]+)( bui|\\)).+silk\\//i                     // Fire Phone\n            ], [[MODEL, /(.+)/g, 'Fire Phone $1'], [VENDOR, AMAZON], [TYPE, MOBILE]], [\n\n            // BlackBerry\n            /(playbook);[-\\w\\),; ]+(rim)/i                                      // BlackBerry PlayBook\n            ], [MODEL, VENDOR, [TYPE, TABLET]], [\n            /\\b((?:bb[a-f]|st[hv])100-\\d)/i,\n            /\\(bb10; (\\w+)/i                                                    // BlackBerry 10\n            ], [MODEL, [VENDOR, BLACKBERRY], [TYPE, MOBILE]], [\n\n            // Asus\n            /(?:\\b|asus_)(transfo[prime ]{4,10} \\w+|eeepc|slider \\w+|nexus 7|padfone|p00[cj])/i\n            ], [MODEL, [VENDOR, ASUS], [TYPE, TABLET]], [\n            / (z[bes]6[027][012][km][ls]|zenfone \\d\\w?)\\b/i\n            ], [MODEL, [VENDOR, ASUS], [TYPE, MOBILE]], [\n\n            // HTC\n            /(nexus 9)/i                                                        // HTC Nexus 9\n            ], [MODEL, [VENDOR, 'HTC'], [TYPE, TABLET]], [\n            /(htc)[-;_ ]{1,2}([\\w ]+(?=\\)| bui)|\\w+)/i,                         // HTC\n\n            // ZTE\n            /(zte)[- ]([\\w ]+?)(?: bui|\\/|\\))/i,\n            /(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\\w]*)/i         // Alcatel/GeeksPhone/Nexian/Panasonic/Sony\n            ], [VENDOR, [MODEL, /_/g, ' '], [TYPE, MOBILE]], [\n\n            // Acer\n            /droid.+; ([ab][1-7]-?[0178a]\\d\\d?)/i\n            ], [MODEL, [VENDOR, 'Acer'], [TYPE, TABLET]], [\n\n            // Meizu\n            /droid.+; (m[1-5] note) bui/i,\n            /\\bmz-([-\\w]{2,})/i\n            ], [MODEL, [VENDOR, 'Meizu'], [TYPE, MOBILE]], [\n\n            // Sharp\n            /\\b(sh-?[altvz]?\\d\\d[a-ekm]?)/i\n            ], [MODEL, [VENDOR, SHARP], [TYPE, MOBILE]], [\n\n            // MIXED\n            /(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\\w]*)/i,\n                                                                                // BlackBerry/BenQ/Palm/Sony-Ericsson/Acer/Asus/Dell/Meizu/Motorola/Polytron\n            /(hp) ([\\w ]+\\w)/i,                                                 // HP iPAQ\n            /(asus)-?(\\w+)/i,                                                   // Asus\n            /(microsoft); (lumia[\\w ]+)/i,                                      // Microsoft Lumia\n            /(lenovo)[-_ ]?([-\\w]+)/i,                                          // Lenovo\n            /(jolla)/i,                                                         // Jolla\n            /(oppo) ?([\\w ]+) bui/i                                             // OPPO\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n\n            /(archos) (gamepad2?)/i,                                            // Archos\n            /(hp).+(touchpad(?!.+tablet)|tablet)/i,                             // HP TouchPad\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /(nook)[\\w ]+build\\/(\\w+)/i,                                        // Nook\n            /(dell) (strea[kpr\\d ]*[\\dko])/i,                                   // Dell Streak\n            /(le[- ]+pan)[- ]+(\\w{1,9}) bui/i,                                  // Le Pan Tablets\n            /(trinity)[- ]*(t\\d{3}) bui/i,                                      // Trinity Tablets\n            /(gigaset)[- ]+(q\\w{1,9}) bui/i,                                    // Gigaset Tablets\n            /(vodafone) ([\\w ]+)(?:\\)| bui)/i                                   // Vodafone\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /(surface duo)/i                                                    // Surface Duo\n            ], [MODEL, [VENDOR, MICROSOFT], [TYPE, TABLET]], [\n            /droid [\\d\\.]+; (fp\\du?)(?: b|\\))/i                                 // Fairphone\n            ], [MODEL, [VENDOR, 'Fairphone'], [TYPE, MOBILE]], [\n            /(u304aa)/i                                                         // AT&T\n            ], [MODEL, [VENDOR, 'AT&T'], [TYPE, MOBILE]], [\n            /\\bsie-(\\w*)/i                                                      // Siemens\n            ], [MODEL, [VENDOR, 'Siemens'], [TYPE, MOBILE]], [\n            /\\b(rct\\w+) b/i                                                     // RCA Tablets\n            ], [MODEL, [VENDOR, 'RCA'], [TYPE, TABLET]], [\n            /\\b(venue[\\d ]{2,7}) b/i                                            // Dell Venue Tablets\n            ], [MODEL, [VENDOR, 'Dell'], [TYPE, TABLET]], [\n            /\\b(q(?:mv|ta)\\w+) b/i                                              // Verizon Tablet\n            ], [MODEL, [VENDOR, 'Verizon'], [TYPE, TABLET]], [\n            /\\b(?:barnes[& ]+noble |bn[rt])([\\w\\+ ]*) b/i                       // Barnes & Noble Tablet\n            ], [MODEL, [VENDOR, 'Barnes & Noble'], [TYPE, TABLET]], [\n            /\\b(tm\\d{3}\\w+) b/i\n            ], [MODEL, [VENDOR, 'NuVision'], [TYPE, TABLET]], [\n            /\\b(k88) b/i                                                        // ZTE K Series Tablet\n            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, TABLET]], [\n            /\\b(nx\\d{3}j) b/i                                                   // ZTE Nubia\n            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, MOBILE]], [\n            /\\b(gen\\d{3}) b.+49h/i                                              // Swiss GEN Mobile\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, MOBILE]], [\n            /\\b(zur\\d{3}) b/i                                                   // Swiss ZUR Tablet\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, TABLET]], [\n            /\\b((zeki)?tb.*\\b) b/i                                              // Zeki Tablets\n            ], [MODEL, [VENDOR, 'Zeki'], [TYPE, TABLET]], [\n            /\\b([yr]\\d{2}) b/i,\n            /\\b(dragon[- ]+touch |dt)(\\w{5}) b/i                                // Dragon Touch Tablet\n            ], [[VENDOR, 'Dragon Touch'], MODEL, [TYPE, TABLET]], [\n            /\\b(ns-?\\w{0,9}) b/i                                                // Insignia Tablets\n            ], [MODEL, [VENDOR, 'Insignia'], [TYPE, TABLET]], [\n            /\\b((nxa|next)-?\\w{0,9}) b/i                                        // NextBook Tablets\n            ], [MODEL, [VENDOR, 'NextBook'], [TYPE, TABLET]], [\n            /\\b(xtreme\\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i                  // Voice Xtreme Phones\n            ], [[VENDOR, 'Voice'], MODEL, [TYPE, MOBILE]], [\n            /\\b(lvtel\\-)?(v1[12]) b/i                                           // LvTel Phones\n            ], [[VENDOR, 'LvTel'], MODEL, [TYPE, MOBILE]], [\n            /\\b(ph-1) /i                                                        // Essential PH-1\n            ], [MODEL, [VENDOR, 'Essential'], [TYPE, MOBILE]], [\n            /\\b(v(100md|700na|7011|917g).*\\b) b/i                               // Envizen Tablets\n            ], [MODEL, [VENDOR, 'Envizen'], [TYPE, TABLET]], [\n            /\\b(trio[-\\w\\. ]+) b/i                                              // MachSpeed Tablets\n            ], [MODEL, [VENDOR, 'MachSpeed'], [TYPE, TABLET]], [\n            /\\btu_(1491) b/i                                                    // Rotor Tablets\n            ], [MODEL, [VENDOR, 'Rotor'], [TYPE, TABLET]], [\n            /(shield[\\w ]+) b/i                                                 // Nvidia Shield Tablets\n            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, TABLET]], [\n            /(sprint) (\\w+)/i                                                   // Sprint Phones\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n            /(kin\\.[onetw]{3})/i                                                // Microsoft Kin\n            ], [[MODEL, /\\./g, ' '], [VENDOR, MICROSOFT], [TYPE, MOBILE]], [\n            /droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\\)/i             // Zebra\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, TABLET]], [\n            /droid.+; (ec30|ps20|tc[2-8]\\d[kx])\\)/i\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, MOBILE]], [\n\n            ///////////////////\n            // CONSOLES\n            ///////////////////\n\n            /(ouya)/i,                                                          // Ouya\n            /(nintendo) ([wids3utch]+)/i                                        // Nintendo\n            ], [VENDOR, MODEL, [TYPE, CONSOLE]], [\n            /droid.+; (shield) bui/i                                            // Nvidia\n            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, CONSOLE]], [\n            /(playstation [345portablevi]+)/i                                   // Playstation\n            ], [MODEL, [VENDOR, SONY], [TYPE, CONSOLE]], [\n            /\\b(xbox(?: one)?(?!; xbox))[\\); ]/i                                // Microsoft Xbox\n            ], [MODEL, [VENDOR, MICROSOFT], [TYPE, CONSOLE]], [\n\n            ///////////////////\n            // SMARTTVS\n            ///////////////////\n\n            /smart-tv.+(samsung)/i                                              // Samsung\n            ], [VENDOR, [TYPE, SMARTTV]], [\n            /hbbtv.+maple;(\\d+)/i\n            ], [[MODEL, /^/, 'SmartTV'], [VENDOR, SAMSUNG], [TYPE, SMARTTV]], [\n            /(nux; netcast.+smarttv|lg (netcast\\.tv-201\\d|android tv))/i        // LG SmartTV\n            ], [[VENDOR, LG], [TYPE, SMARTTV]], [\n            /(apple) ?tv/i                                                      // Apple TV\n            ], [VENDOR, [MODEL, APPLE+' TV'], [TYPE, SMARTTV]], [\n            /crkey/i                                                            // Google Chromecast\n            ], [[MODEL, CHROME+'cast'], [VENDOR, GOOGLE], [TYPE, SMARTTV]], [\n            /droid.+aft(\\w)( bui|\\))/i                                          // Fire TV\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, SMARTTV]], [\n            /\\(dtv[\\);].+(aquos)/i,\n            /(aquos-tv[\\w ]+)\\)/i                                               // Sharp\n            ], [MODEL, [VENDOR, SHARP], [TYPE, SMARTTV]],[\n            /(bravia[\\w ]+)( bui|\\))/i                                              // Sony\n            ], [MODEL, [VENDOR, SONY], [TYPE, SMARTTV]], [\n            /(mitv-\\w{5}) bui/i                                                 // Xiaomi\n            ], [MODEL, [VENDOR, XIAOMI], [TYPE, SMARTTV]], [\n            /\\b(roku)[\\dx]*[\\)\\/]((?:dvp-)?[\\d\\.]*)/i,                          // Roku\n            /hbbtv\\/\\d+\\.\\d+\\.\\d+ +\\([\\w ]*; *(\\w[^;]*);([^;]*)/i               // HbbTV devices\n            ], [[VENDOR, trim], [MODEL, trim], [TYPE, SMARTTV]], [\n            /\\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\\b/i                   // SmartTV from Unidentified Vendors\n            ], [[TYPE, SMARTTV]], [\n\n            ///////////////////\n            // WEARABLES\n            ///////////////////\n\n            /((pebble))app/i                                                    // Pebble\n            ], [VENDOR, MODEL, [TYPE, WEARABLE]], [\n            /droid.+; (glass) \\d/i                                              // Google Glass\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, WEARABLE]], [\n            /droid.+; (wt63?0{2,3})\\)/i\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, WEARABLE]], [\n            /(quest( 2)?)/i                                                     // Oculus Quest\n            ], [MODEL, [VENDOR, FACEBOOK], [TYPE, WEARABLE]], [\n\n            ///////////////////\n            // EMBEDDED\n            ///////////////////\n\n            /(tesla)(?: qtcarbrowser|\\/[-\\w\\.]+)/i                              // Tesla\n            ], [VENDOR, [TYPE, EMBEDDED]], [\n\n            ////////////////////\n            // MIXED (GENERIC)\n            ///////////////////\n\n            /droid .+?; ([^;]+?)(?: bui|\\) applew).+? mobile safari/i           // Android Phones from Unidentified Vendors\n            ], [MODEL, [TYPE, MOBILE]], [\n            /droid .+?; ([^;]+?)(?: bui|\\) applew).+?(?! mobile) safari/i       // Android Tablets from Unidentified Vendors\n            ], [MODEL, [TYPE, TABLET]], [\n            /\\b((tablet|tab)[;\\/]|focus\\/\\d(?!.+mobile))/i                      // Unidentifiable Tablet\n            ], [[TYPE, TABLET]], [\n            /(phone|mobile(?:[;\\/]| [ \\w\\/\\.]*safari)|pda(?=.+windows ce))/i    // Unidentifiable Mobile\n            ], [[TYPE, MOBILE]], [\n            /(android[-\\w\\. ]{0,9});.+buil/i                                    // Generic Android Device\n            ], [MODEL, [VENDOR, 'Generic']]\n        ],\n\n        engine : [[\n\n            /windows.+ edge\\/([\\w\\.]+)/i                                       // EdgeHTML\n            ], [VERSION, [NAME, EDGE+'HTML']], [\n\n            /webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i                         // Blink\n            ], [VERSION, [NAME, 'Blink']], [\n\n            /(presto)\\/([\\w\\.]+)/i,                                             // Presto\n            /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\\/([\\w\\.]+)/i, // WebKit/Trident/NetFront/NetSurf/Amaya/Lynx/w3m/Goanna\n            /ekioh(flow)\\/([\\w\\.]+)/i,                                          // Flow\n            /(khtml|tasman|links)[\\/ ]\\(?([\\w\\.]+)/i,                           // KHTML/Tasman/Links\n            /(icab)[\\/ ]([23]\\.[\\d\\.]+)/i                                       // iCab\n            ], [NAME, VERSION], [\n\n            /rv\\:([\\w\\.]{1,9})\\b.+(gecko)/i                                     // Gecko\n            ], [VERSION, NAME]\n        ],\n\n        os : [[\n\n            // Windows\n            /microsoft (windows) (vista|xp)/i                                   // Windows (iTunes)\n            ], [NAME, VERSION], [\n            /(windows) nt 6\\.2; (arm)/i,                                        // Windows RT\n            /(windows (?:phone(?: os)?|mobile))[\\/ ]?([\\d\\.\\w ]*)/i,            // Windows Phone\n            /(windows)[\\/ ]?([ntce\\d\\. ]+\\w)(?!.+xbox)/i\n            ], [NAME, [VERSION, strMapper, windowsVersionMap]], [\n            /(win(?=3|9|n)|win 9x )([nt\\d\\.]+)/i\n            ], [[NAME, 'Windows'], [VERSION, strMapper, windowsVersionMap]], [\n\n            // iOS/macOS\n            /ip[honead]{2,4}\\b(?:.*os ([\\w]+) like mac|; opera)/i,              // iOS\n            /cfnetwork\\/.+darwin/i\n            ], [[VERSION, /_/g, '.'], [NAME, 'iOS']], [\n            /(mac os x) ?([\\w\\. ]*)/i,\n            /(macintosh|mac_powerpc\\b)(?!.+haiku)/i                             // Mac OS\n            ], [[NAME, 'Mac OS'], [VERSION, /_/g, '.']], [\n\n            // Mobile OSes\n            /droid ([\\w\\.]+)\\b.+(android[- ]x86|harmonyos)/i                    // Android-x86/HarmonyOS\n            ], [VERSION, NAME], [                                               // Android/WebOS/QNX/Bada/RIM/Maemo/MeeGo/Sailfish OS\n            /(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\\/ ]?([\\w\\.]*)/i,\n            /(blackberry)\\w*\\/([\\w\\.]*)/i,                                      // Blackberry\n            /(tizen|kaios)[\\/ ]([\\w\\.]+)/i,                                     // Tizen/KaiOS\n            /\\((series40);/i                                                    // Series 40\n            ], [NAME, VERSION], [\n            /\\(bb(10);/i                                                        // BlackBerry 10\n            ], [VERSION, [NAME, BLACKBERRY]], [\n            /(?:symbian ?os|symbos|s60(?=;)|series60)[-\\/ ]?([\\w\\.]*)/i         // Symbian\n            ], [VERSION, [NAME, 'Symbian']], [\n            /mozilla\\/[\\d\\.]+ \\((?:mobile|tablet|tv|mobile; [\\w ]+); rv:.+ gecko\\/([\\w\\.]+)/i // Firefox OS\n            ], [VERSION, [NAME, FIREFOX+' OS']], [\n            /web0s;.+rt(tv)/i,\n            /\\b(?:hp)?wos(?:browser)?\\/([\\w\\.]+)/i                              // WebOS\n            ], [VERSION, [NAME, 'webOS']], [\n\n            // Google Chromecast\n            /crkey\\/([\\d\\.]+)/i                                                 // Google Chromecast\n            ], [VERSION, [NAME, CHROME+'cast']], [\n            /(cros) [\\w]+ ([\\w\\.]+\\w)/i                                         // Chromium OS\n            ], [[NAME, 'Chromium OS'], VERSION],[\n\n            // Console\n            /(nintendo|playstation) ([wids345portablevuch]+)/i,                 // Nintendo/Playstation\n            /(xbox); +xbox ([^\\);]+)/i,                                         // Microsoft Xbox (360, One, X, S, Series X, Series S)\n\n            // Other\n            /\\b(joli|palm)\\b ?(?:os)?\\/?([\\w\\.]*)/i,                            // Joli/Palm\n            /(mint)[\\/\\(\\) ]?(\\w*)/i,                                           // Mint\n            /(mageia|vectorlinux)[; ]/i,                                        // Mageia/VectorLinux\n            /([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\\/ ]?(?!chrom|package)([-\\w\\.]*)/i,\n                                                                                // Ubuntu/Debian/SUSE/Gentoo/Arch/Slackware/Fedora/Mandriva/CentOS/PCLinuxOS/RedHat/Zenwalk/Linpus/Raspbian/Plan9/Minix/RISCOS/Contiki/Deepin/Manjaro/elementary/Sabayon/Linspire\n            /(hurd|linux) ?([\\w\\.]*)/i,                                         // Hurd/Linux\n            /(gnu) ?([\\w\\.]*)/i,                                                // GNU\n            /\\b([-frentopcghs]{0,5}bsd|dragonfly)[\\/ ]?(?!amd|[ix346]{1,2}86)([\\w\\.]*)/i, // FreeBSD/NetBSD/OpenBSD/PC-BSD/GhostBSD/DragonFly\n            /(haiku) (\\w+)/i                                                    // Haiku\n            ], [NAME, VERSION], [\n            /(sunos) ?([\\w\\.\\d]*)/i                                             // Solaris\n            ], [[NAME, 'Solaris'], VERSION], [\n            /((?:open)?solaris)[-\\/ ]?([\\w\\.]*)/i,                              // Solaris\n            /(aix) ((\\d)(?=\\.|\\)| )[\\w\\.])*/i,                                  // AIX\n            /\\b(beos|os\\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,            // BeOS/OS2/AmigaOS/MorphOS/OpenVMS/Fuchsia/HP-UX\n            /(unix) ?([\\w\\.]*)/i                                                // UNIX\n            ], [NAME, VERSION]\n        ]\n    };\n\n    /////////////////\n    // Constructor\n    ////////////////\n\n    var UAParser = function (ua, extensions) {\n\n        if (typeof ua === OBJ_TYPE) {\n            extensions = ua;\n            ua = undefined;\n        }\n\n        if (!(this instanceof UAParser)) {\n            return new UAParser(ua, extensions).getResult();\n        }\n\n        var _ua = ua || ((typeof window !== UNDEF_TYPE && window.navigator && window.navigator.userAgent) ? window.navigator.userAgent : EMPTY);\n        var _rgxmap = extensions ? extend(regexes, extensions) : regexes;\n\n        this.getBrowser = function () {\n            var _browser = {};\n            _browser[NAME] = undefined;\n            _browser[VERSION] = undefined;\n            rgxMapper.call(_browser, _ua, _rgxmap.browser);\n            _browser.major = majorize(_browser.version);\n            return _browser;\n        };\n        this.getCPU = function () {\n            var _cpu = {};\n            _cpu[ARCHITECTURE] = undefined;\n            rgxMapper.call(_cpu, _ua, _rgxmap.cpu);\n            return _cpu;\n        };\n        this.getDevice = function () {\n            var _device = {};\n            _device[VENDOR] = undefined;\n            _device[MODEL] = undefined;\n            _device[TYPE] = undefined;\n            rgxMapper.call(_device, _ua, _rgxmap.device);\n            return _device;\n        };\n        this.getEngine = function () {\n            var _engine = {};\n            _engine[NAME] = undefined;\n            _engine[VERSION] = undefined;\n            rgxMapper.call(_engine, _ua, _rgxmap.engine);\n            return _engine;\n        };\n        this.getOS = function () {\n            var _os = {};\n            _os[NAME] = undefined;\n            _os[VERSION] = undefined;\n            rgxMapper.call(_os, _ua, _rgxmap.os);\n            return _os;\n        };\n        this.getResult = function () {\n            return {\n                ua      : this.getUA(),\n                browser : this.getBrowser(),\n                engine  : this.getEngine(),\n                os      : this.getOS(),\n                device  : this.getDevice(),\n                cpu     : this.getCPU()\n            };\n        };\n        this.getUA = function () {\n            return _ua;\n        };\n        this.setUA = function (ua) {\n            _ua = (typeof ua === STR_TYPE && ua.length > UA_MAX_LENGTH) ? trim(ua, UA_MAX_LENGTH) : ua;\n            return this;\n        };\n        this.setUA(_ua);\n        return this;\n    };\n\n    UAParser.VERSION = LIBVERSION;\n    UAParser.BROWSER =  enumerize([NAME, VERSION, MAJOR]);\n    UAParser.CPU = enumerize([ARCHITECTURE]);\n    UAParser.DEVICE = enumerize([MODEL, VENDOR, TYPE, CONSOLE, MOBILE, SMARTTV, TABLET, WEARABLE, EMBEDDED]);\n    UAParser.ENGINE = UAParser.OS = enumerize([NAME, VERSION]);\n\n    ///////////\n    // Export\n    //////////\n\n    // check js environment\n    if (typeof(exports) !== UNDEF_TYPE) {\n        // nodejs env\n        if (typeof module !== UNDEF_TYPE && module.exports) {\n            exports = module.exports = UAParser;\n        }\n        exports.UAParser = UAParser;\n    } else {\n        // requirejs env (optional)\n        if (typeof(define) === FUNC_TYPE && define.amd) {\n            define(function () {\n                return UAParser;\n            });\n        } else if (typeof window !== UNDEF_TYPE) {\n            // browser env\n            window.UAParser = UAParser;\n        }\n    }\n\n    // jQuery/Zepto specific (optional)\n    // Note:\n    //   In AMD env the global scope should be kept clean, but jQuery is an exception.\n    //   jQuery always exports to global scope, unless jQuery.noConflict(true) is used,\n    //   and we should catch that.\n    var $ = typeof window !== UNDEF_TYPE && (window.jQuery || window.Zepto);\n    if ($ && !$.ua) {\n        var parser = new UAParser();\n        $.ua = parser.getResult();\n        $.ua.get = function () {\n            return parser.getUA();\n        };\n        $.ua.set = function (ua) {\n            parser.setUA(ua);\n            var result = parser.getResult();\n            for (var prop in result) {\n                $.ua[prop] = result[prop];\n            }\n        };\n    }\n\n})(typeof window === 'object' ? window : this);\n","import React, { useEffect, useState } from 'react'\nimport {\n  BatchFileRequest,\n  FileEntity,\n  FileHandle,\n  FileHandleAssociateType,\n  FileHandleAssociation,\n} from '@sage-bionetworks/synapse-types'\nimport {\n  getFiles,\n  getFileResult,\n  getEntity,\n} from '../synapse-client/SynapseClient'\nimport IconSvg from './IconSvg/IconSvg'\nimport { useInView } from 'react-intersection-observer'\nimport { useSynapseContext } from '../utils/context/SynapseContext'\nimport { TOOLTIP_DELAY_SHOW } from './SynapseTable/SynapseTableConstants'\nimport { UAParser } from 'ua-parser-js'\nimport { Tooltip } from '@mui/material'\nimport { implementsExternalFileHandleInterface } from '../utils/types/IsType'\n\nexport type DirectFileDownloadProps = {\n  associatedObjectId: string\n  entityVersionNumber?: string\n  associatedObjectType?: FileHandleAssociateType\n  fileHandleId?: string\n  displayFileName?: boolean\n  onClickCallback?: (isExternalLink: boolean) => void // callback if you want to know when the link was clicked\n  stopPropagation?: boolean\n}\n\nconst DirectDownload: React.FunctionComponent<\n  DirectFileDownloadProps\n> = props => {\n  const { accessToken } = useSynapseContext()\n  const {\n    associatedObjectId,\n    entityVersionNumber,\n    associatedObjectType,\n    fileHandleId,\n    displayFileName,\n    onClickCallback,\n    stopPropagation = false,\n  } = props\n  const { ref, inView } = useInView()\n  const [isExternalFile, setIsExternalFile] = useState<boolean>(false)\n  const [hasFileAccess, setHasFileAccess] = useState<boolean>(false)\n  const [fileEntity, setFileEntity] = useState<FileEntity>()\n  const [externalURL, setExternalURL] = useState<string>()\n  const [fileName, setFileName] = useState<string>('')\n  let mounted = true\n\n  useEffect(() => {\n    if (mounted && inView) {\n      getFileEntityFileHandle()\n    }\n    return () => {\n      mounted = false\n    }\n  }, [accessToken, inView])\n\n  const getDownloadLink = async () => {\n    let preSignedURL\n    // SWC-5907: opening in the file must be strictly done in the same click event process (Safari only).\n    // https://stackoverflow.com/questions/6628949/window-open-popup-getting-blocked-during-click-event\n    const parser = new UAParser()\n    const isSafari = parser.getBrowser().name == 'Safari'\n    let safariDownloadWindow: Window | null = null\n    if (isSafari) {\n      safariDownloadWindow = window.open(\n        '',\n        'Safari Download',\n        'toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,popup,width=600,height=200',\n      )\n      safariDownloadWindow!.document.body.innerHTML =\n        'Downloading file on Safari...'\n    }\n    try {\n      if (associatedObjectType === FileHandleAssociateType.TableEntity) {\n        const files = await getTableEntityFileHandle(true)\n        preSignedURL = files.requestedFiles[0].preSignedURL!\n      } else {\n        const file = await getFileResult(fileEntity!, accessToken, false, true)\n        preSignedURL = file.preSignedURL\n      }\n    } catch (e) {\n      console.log('Fail to get file download link: ', e)\n    }\n\n    if (!preSignedURL) {\n      safariDownloadWindow?.close()\n      console.log('Fail to get file download link')\n    } else {\n      if (isSafari && safariDownloadWindow) {\n        safariDownloadWindow.location = preSignedURL\n        setTimeout(() => {\n          if (safariDownloadWindow) {\n            safariDownloadWindow.close()\n          }\n        }, 10000)\n      } else {\n        window.open(preSignedURL)\n      }\n      if (onClickCallback) {\n        onClickCallback(isExternalFile)\n      }\n    }\n  }\n\n  const hasFileHandle = (fh: FileHandle) => {\n    if (fh && !(fh as any)['isPreview']) {\n      setHasFileAccess(true)\n      return true\n    } else {\n      setHasFileAccess(false)\n      return false\n    }\n  }\n\n  const getTableEntityFileHandle = (includePreSignedURLs: boolean = false) => {\n    const fileHandleAssociationList: FileHandleAssociation[] = [\n      {\n        associateObjectId: associatedObjectId,\n        associateObjectType: associatedObjectType!,\n        fileHandleId: fileHandleId!,\n      },\n    ]\n    const batchFileRequest: BatchFileRequest = {\n      includeFileHandles: true,\n      includePreSignedURLs: includePreSignedURLs,\n      includePreviewPreSignedURLs: false,\n      requestedFiles: fileHandleAssociationList,\n    }\n    return getFiles(batchFileRequest, accessToken)\n  }\n\n  const getFileEntityFileHandle = () => {\n    return getEntity(accessToken, associatedObjectId, entityVersionNumber)\n      .then(async entity => {\n        // From file view\n        if (Object.hasOwn(entity, 'dataFileHandleId')) {\n          // looks like a FileEntity, get the FileHandle\n          setFileEntity(entity as FileEntity)\n          return getFileResult(\n            // TODO: Why can we just use getFiles here?\n            entity as FileEntity,\n            accessToken,\n            true,\n          )\n            .then(data => {\n              const fh = data.fileHandle\n              if (fh && hasFileHandle(fh)) {\n                // have file access and not file preview\n                if (implementsExternalFileHandleInterface(fh)) {\n                  setIsExternalFile(true)\n                  setExternalURL((fh as any)['externalURL'])\n                }\n              }\n            })\n            .catch(err => {\n              console.log('Error on getFileEntityFileHandle = ', err)\n            })\n        } else if (\n          associatedObjectType === FileHandleAssociateType.TableEntity\n        ) {\n          const files = await getTableEntityFileHandle()\n          const fh: FileHandle = files.requestedFiles[0].fileHandle!\n          if (displayFileName && fh && hasFileHandle(fh)) {\n            setFileName(fh.fileName)\n          }\n        }\n\n        return Promise.resolve()\n      })\n      .catch(err => {\n        console.log('Error on getEntity = ', err)\n      })\n  }\n\n  const getIcon = () => {\n    if (isExternalFile) {\n      return (\n        <button\n          className={'btn-download-icon'}\n          onClick={event => {\n            if (onClickCallback) {\n              onClickCallback(isExternalFile)\n              if (stopPropagation) event.stopPropagation()\n            }\n          }}\n        >\n          <a\n            className=\"ignoreLink\"\n            rel=\"noreferrer\"\n            href={externalURL}\n            target=\"_blank\"\n          >\n            <IconSvg icon=\"openInNewWindow\" />\n          </a>\n        </button>\n      )\n    }\n    if (hasFileAccess) {\n      return (\n        <button\n          className={'btn-download-icon'}\n          onClick={event => {\n            getDownloadLink()\n            if (stopPropagation) event.stopPropagation()\n          }}\n        >\n          <IconSvg icon=\"download\" />\n          {displayFileName && fileName ? fileName : ''}\n        </button>\n      )\n    }\n    return <></>\n  }\n\n  return (\n    <Tooltip\n      title={\n        isExternalFile\n          ? 'Navigate to external link'\n          : 'Download this file individually'\n      }\n      enterNextDelay={TOOLTIP_DELAY_SHOW}\n      placement=\"left\"\n    >\n      <span ref={ref}>{getIcon()}</span>\n    </Tooltip>\n  )\n}\n\nexport default DirectDownload\n","import React, { useMemo } from 'react'\nimport SynapseClient from '../../synapse-client'\nimport {\n  BackendDestinationEnum,\n  getEndpoint,\n} from '../../utils/functions/getEndpoint'\nimport { useGetRestrictionInformation } from '../../synapse-queries/dataaccess/useAccessRequirements'\nimport useGetEntityBundle from '../../synapse-queries/entity/useEntityBundle'\nimport { SRC_SIGN_IN_CLASS } from '../../utils/SynapseConstants'\nimport { useSynapseContext } from '../../utils/context/SynapseContext'\nimport {\n  AccessRequirement,\n  RestrictableObjectType,\n  RestrictionInformationRequest,\n  RestrictionLevel,\n} from '@sage-bionetworks/synapse-types'\nimport AccessRequirementList, {\n  checkHasUnsupportedRequirement,\n} from '../AccessRequirementList/AccessRequirementList'\nimport IconSvg, { IconName } from '../IconSvg/IconSvg'\nimport { Theme, useTheme } from '@mui/material'\nimport { isFileEntity } from '../../utils/types/IsType'\n\nexport type HasAccessProps = {\n  onHide?: () => void\n  entityId: string\n  entityVersionNumber?: string\n  className?: string\n}\n\nexport enum FileHandleDownloadTypeEnum {\n  Accessible = 'Accessible',\n  AccessBlockedByRestriction = 'AccessBlockedByRestriction',\n  AccessBlockedByACL = 'AccessBlockedByACL',\n  AccessBlockedToAnonymous = 'AccessBlockedToAnonymous',\n  NoFileHandle = 'NoFileHandle',\n}\n\nconst iconConfiguration: Record<\n  FileHandleDownloadTypeEnum,\n  { icon: IconName; color: (theme: Theme) => string; tooltipText: string }\n> = {\n  [FileHandleDownloadTypeEnum.AccessBlockedToAnonymous]: {\n    icon: 'accessClosed',\n    color: theme => theme.palette.warning.main,\n    tooltipText: 'You must sign in to access this file.',\n  },\n  [FileHandleDownloadTypeEnum.AccessBlockedByRestriction]: {\n    icon: 'accessClosed',\n    color: theme => theme.palette.warning.main,\n    tooltipText: 'You must request access to this restricted file.',\n  },\n  [FileHandleDownloadTypeEnum.AccessBlockedByACL]: {\n    icon: 'accessClosed',\n    color: theme => theme.palette.warning.main,\n    tooltipText: 'You do not have download access for this item.',\n  },\n\n  [FileHandleDownloadTypeEnum.Accessible]: {\n    icon: 'accessOpen',\n    color: theme => theme.palette.success.main,\n    tooltipText: '',\n  },\n\n  [FileHandleDownloadTypeEnum.NoFileHandle]: {\n    icon: 'accessOpen',\n    color: theme => theme.palette.success.main,\n    tooltipText: '',\n  },\n}\n\nfunction AccessIcon(props: { downloadType: FileHandleDownloadTypeEnum }) {\n  const { downloadType } = props\n  const theme = useTheme()\n  if (downloadType) {\n    const configuration = iconConfiguration[downloadType]\n    return (\n      <IconSvg\n        icon={configuration.icon}\n        label={configuration.tooltipText}\n        sx={{\n          color: configuration.color(theme),\n          height: '16px',\n          verticalAlign: 'text-top',\n        }}\n      />\n    )\n  }\n  // nothing is rendered until downloadType is determined\n  return <></>\n}\n\n/**\n * Determines whether an Entity is accessible for download, or if it is blocked by the ACL or unmet Access Requirements.\n *\n * To make download available, and determine if the file is downloadable via the web, see {@link DirectDownload.tsx}\n * @param entityId\n * @param entityVersionNumber\n * @returns\n */\nexport function useGetFileHandleDownloadType(\n  entityId: string,\n  entityVersionNumber?: string,\n) {\n  const [fileHandleDownloadType, setFileHandleDownloadType] =\n    React.useState<FileHandleDownloadTypeEnum>()\n\n  const { accessToken } = useSynapseContext()\n  const parsedVersionNumber = parseInt(entityVersionNumber ?? '')\n  const { data: entityBundle, error: entityFetchError } = useGetEntityBundle(\n    entityId,\n    Number.isNaN(parsedVersionNumber) ? undefined : parsedVersionNumber,\n    {\n      includeEntity: true,\n      includePermissions: true,\n    },\n  )\n\n  const restrictionInformationRequest: RestrictionInformationRequest =\n    React.useMemo(\n      () => ({\n        restrictableObjectType: RestrictableObjectType.ENTITY,\n        objectId: entityId,\n      }),\n      [entityId],\n    )\n\n  const { data: restrictionInformation } = useGetRestrictionInformation(\n    restrictionInformationRequest,\n  )\n\n  const entity = entityBundle?.entity\n  const permissions = entityBundle?.permissions\n\n  React.useEffect(() => {\n    if (\n      restrictionInformation &&\n      restrictionInformation.hasUnmetAccessRequirement\n    ) {\n      setFileHandleDownloadType(\n        FileHandleDownloadTypeEnum.AccessBlockedByRestriction,\n      )\n    } else if (entity && permissions?.canDownload) {\n      if (isFileEntity(entity) && entity.dataFileHandleId) {\n        setFileHandleDownloadType(FileHandleDownloadTypeEnum.Accessible)\n      } else {\n        setFileHandleDownloadType(FileHandleDownloadTypeEnum.NoFileHandle)\n      }\n    } else if (permissions && !permissions.canDownload) {\n      setFileHandleDownloadType(\n        accessToken\n          ? FileHandleDownloadTypeEnum.AccessBlockedByACL\n          : FileHandleDownloadTypeEnum.AccessBlockedToAnonymous,\n      )\n    }\n  }, [\n    accessToken,\n    entity,\n    entityFetchError,\n    permissions,\n    restrictionInformation,\n  ])\n\n  return fileHandleDownloadType\n}\n\n/**\n * HasAccess shows if the user has access to the file or not. If the user doesn't have access due to a restriction,\n * then a link will be shown that opens a modal with steps to request access.\n */\nexport function HasAccessV2(props: HasAccessProps) {\n  const [displayAccessRequirement, setDisplayAccessRequirement] =\n    React.useState(false)\n  const [accessRequirements, setAccessRequirements] = React.useState<\n    AccessRequirement[]\n  >([])\n\n  const { entityId, entityVersionNumber } = props\n\n  const fileHandleDownloadType = useGetFileHandleDownloadType(\n    entityId,\n    entityVersionNumber,\n  )\n\n  const { accessToken } = useSynapseContext()\n\n  const restrictionInformationRequest: RestrictionInformationRequest =\n    React.useMemo(\n      () => ({\n        restrictableObjectType: RestrictableObjectType.ENTITY,\n        objectId: entityId,\n      }),\n      [entityId],\n    )\n\n  const { data: restrictionInformation } = useGetRestrictionInformation(\n    restrictionInformationRequest,\n  )\n\n  const handleGetAccess = () => {\n    // TODO: The fetch should really happen in the AR List component.\n    // If we need to open the AR page in synapse, the logic should be in the modal and it should just close itself right away\n    SynapseClient.getAllAccessRequirements(accessToken, entityId).then(\n      requirements => {\n        if (checkHasUnsupportedRequirement(requirements)) {\n          window.open(\n            `${getEndpoint(\n              BackendDestinationEnum.PORTAL_ENDPOINT,\n            )}#!AccessRequirements:ID=${entityId}&TYPE=ENTITY`,\n            '_blank',\n          )\n        } else {\n          setAccessRequirements(requirements)\n          setDisplayAccessRequirement(true)\n        }\n      },\n    )\n  }\n\n  // Show Access Requirements\n  const accessRequirementsJsx = useMemo(() => {\n    if (!restrictionInformation) {\n      // loading\n      return <></>\n    }\n    const hasUnmetAccessRequirement =\n      restrictionInformation?.hasUnmetAccessRequirement\n    const restrictionLevel = restrictionInformation?.restrictionLevel\n    let linkText = ''\n\n    if (hasUnmetAccessRequirement) {\n      linkText = 'Request Access'\n    } else if (RestrictionLevel.OPEN === restrictionLevel) {\n      // they need to sign in\n      return <></>\n    } else {\n      linkText = 'View Terms'\n    }\n    return (\n      <>\n        <a\n          style={{\n            fontSize: '14px',\n            cursor: 'pointer',\n            marginLeft: '5px',\n            verticalAlign: 'top',\n          }}\n          className={props.className}\n          onClick={handleGetAccess}\n        >\n          {linkText}\n        </a>\n        {displayAccessRequirement && (\n          <AccessRequirementList\n            entityId={entityId}\n            accessRequirementFromProps={accessRequirements}\n            renderAsModal={true}\n            onHide={() => {\n              setDisplayAccessRequirement(false)\n            }}\n          />\n        )}\n      </>\n    )\n  }, [\n    entityId,\n    restrictionInformation,\n    accessRequirements,\n    displayAccessRequirement,\n  ])\n\n  if (fileHandleDownloadType === undefined) {\n    // note, this can't be \"if (!downloadType)\" since DownloadTypeEnum has a 0 value (which is falsy)\n    // loading\n    return <></>\n  }\n  const iconContainer =\n    fileHandleDownloadType ===\n    FileHandleDownloadTypeEnum.AccessBlockedToAnonymous ? (\n      <button\n        type=\"button\"\n        className={SRC_SIGN_IN_CLASS}\n        onClick={ev => {\n          if (ev.isTrusted) {\n            /*\n                There is a tricky problem - \n                The portals listens to click events for buttons with the class SRC_SIGN_IN_CLASS set, it listens to this event\n                so that it can display the login modal.\n\n                This button has an svg inside of it which is problematic because more often than not clicking this button will \n                instead click that svg. The event listener in the portals will break as a result.\n\n                Though the svg may get the actual click event, because of event bubbling this button will get its onClick called.\n                Once onClick is called we can manually dispatch an event off of this button. This does pose a problem, we end up in a \n                infinite loop because this button keeps disptaching click events, so we can use the isTrusted to recognize if onClick was\n                triggered programmatically or by user click. Lastly, using { bubbles: true } ensures the event bubbles up to the document level.\n\n              */\n            const clickEvent = new MouseEvent('click', { bubbles: true })\n            ev.currentTarget.dispatchEvent(clickEvent)\n          }\n        }}\n      >\n        <AccessIcon downloadType={fileHandleDownloadType} />\n      </button>\n    ) : (\n      <AccessIcon downloadType={fileHandleDownloadType} />\n    )\n\n  return (\n    <span style={{ whiteSpace: 'nowrap' }}>\n      {iconContainer}\n      {accessRequirementsJsx}\n    </span>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport { useInView } from 'react-intersection-observer'\nimport { getEntityHeadersByIds } from '../synapse-client/SynapseClient'\nimport { useSynapseContext } from '../utils/context/SynapseContext'\nimport { EntityLink } from './EntityLink'\n\nexport type EntityIdListProps = {\n  entityIdList: string[]\n}\n\nconst EntityIdList: React.FC<EntityIdListProps> = props => {\n  const { accessToken } = useSynapseContext()\n  const { entityIdList } = props\n  const [entityLinkArray, setEntityLinkArray] = useState([<></>])\n  const { ref, inView } = useInView()\n  let mounted: boolean = true\n\n  useEffect(() => {\n    if (inView) {\n      getEntityTypes()\n    }\n    return () => {\n      mounted = false\n    }\n  }, [entityIdList, inView])\n\n  const getEntityTypes = () => {\n    if (!entityIdList.length) return\n\n    getEntityHeadersByIds(entityIdList, accessToken)\n      .then(entity => {\n        if (mounted) {\n          const newEntityList = entity.results.map(el => {\n            return (\n              <p key={el.id}>\n                <EntityLink entity={el} displayTextField={'name'} />\n              </p>\n            )\n          })\n          setEntityLinkArray(newEntityList)\n        }\n      })\n      .catch(e => {\n        console.log('EntityIdList: Error getting entity headers', e)\n      })\n  }\n\n  return <span ref={ref}>{entityLinkArray}</span>\n}\n\nexport default EntityIdList\n","import React, { useEffect, useState } from 'react'\nimport { useInView } from 'react-intersection-observer'\nimport { getEvaluation } from '../synapse-client/SynapseClient'\nimport { useSynapseContext } from '../utils/context/SynapseContext'\n\nexport type EvaluationIdRendererProps = {\n  evaluationId: string\n}\n\nconst EvaluationIdRenderer: React.FC<EvaluationIdRendererProps> = props => {\n  const { accessToken } = useSynapseContext()\n  const { evaluationId } = props\n  const [evaluationName, setEvaluationName] = useState<string>()\n  const { ref, inView } = useInView()\n  let mounted: boolean = true\n\n  useEffect(() => {\n    if (mounted && inView) {\n      getEvaluationQueue()\n    }\n    return () => {\n      mounted = false\n    }\n  }, [evaluationId, inView])\n\n  const getEvaluationQueue = () => {\n    if (!evaluationId) return\n\n    getEvaluation(evaluationId, accessToken)\n      .then(evaluationQueue => {\n        setEvaluationName(evaluationQueue.name)\n      })\n      .catch(e => {\n        console.log(\n          'EvaluationIdListRenderer: Error getting evaluation queue names',\n          e,\n        )\n      })\n  }\n\n  return <span ref={ref}>{evaluationName}</span>\n}\n\nexport default EvaluationIdRenderer\n","import React, { useEffect, useState } from 'react'\nimport { useInView } from 'react-intersection-observer'\nimport { getUserProfiles } from '../synapse-client/SynapseClient'\nimport { useSynapseContext } from '../utils/context/SynapseContext'\nimport { UserCardSmall } from './UserCard/UserCardSmall'\n\nexport type UserIdListProps = {\n  userIds: string[]\n}\n\nconst UserIdList: React.FC<UserIdListProps> = props => {\n  const { accessToken } = useSynapseContext()\n  const { userIds } = props\n  const [profileCards, setProfileCards] = useState<JSX.Element[]>()\n  const { ref, inView } = useInView()\n  let mounted: boolean = true\n\n  useEffect(() => {\n    if (mounted && inView) {\n      getUserProfilesToRender()\n    }\n    return () => {\n      mounted = false\n    }\n  }, [userIds, inView])\n\n  const getUserProfilesToRender = () => {\n    if (!userIds.length) return\n\n    getUserProfiles(userIds, accessToken)\n      .then(userProfiles => {\n        const list = userProfiles.list.map(el => (\n          <UserCardSmall\n            key={el.ownerId}\n            userProfile={el}\n            className=\"SRC-marginFifteen\"\n          />\n        ))\n        setProfileCards(list)\n      })\n      .catch(e => {\n        console.log('UserIdList: Error getting user profiles', e)\n      })\n  }\n\n  return <span ref={ref}>{profileCards}</span>\n}\n\nexport default UserIdList\n","import React from 'react'\nimport dayjs from 'dayjs'\nimport { formatDate } from '../../utils/functions/DateFormatter'\nimport {\n  isDataset,\n  isDatasetCollection,\n  isEntityView,\n} from '../../utils/functions/EntityTypeUtils'\nimport { PRODUCTION_ENDPOINT_CONFIG } from '../../utils/functions/getEndpoint'\nimport { AUTHENTICATED_USERS } from '../../utils/SynapseConstants'\nimport {\n  ColumnModel,\n  ColumnType,\n  ColumnTypeEnum,\n  EntityHeader,\n  FileHandleAssociateType,\n  Row,\n  SelectColumn,\n  UserGroupHeader,\n  UserProfile,\n} from '@sage-bionetworks/synapse-types'\nimport {\n  CardLink,\n  ColumnSpecifiedLink,\n  MarkdownLink,\n} from '../CardContainerLogic'\nimport DirectDownload from '../DirectDownload'\nimport EntityIdList from '../EntityIdList'\nimport { EntityLink } from '../EntityLink'\nimport EvaluationIdRenderer from '../EvaluationIdRenderer'\nimport { SynapseCardLabel } from '../GenericCard'\nimport IconSvg, { IconName } from '../IconSvg/IconSvg'\nimport { useQueryContext } from '../QueryContext/QueryContext'\nimport { NOT_SET_DISPLAY_VALUE } from '../SynapseTable/SynapseTableConstants'\nimport UserCard from '../UserCard/UserCard'\nimport UserIdList from '../UserIdList'\n\nexport type SynapseTableCellProps = {\n  columnType: ColumnType\n  columnValue: string | null\n  isBold: string\n  columnLinkConfig?: CardLink | MarkdownLink | ColumnSpecifiedLink\n  mapEntityIdToHeader: Record<string, EntityHeader>\n  mapUserIdToHeader: Record<string, UserGroupHeader | UserProfile>\n  columnName: string\n  selectColumns?: SelectColumn[]\n  columnModels?: ColumnModel[]\n  rowData: Row['values']\n  rowId?: number\n  rowVersionNumber?: number\n}\n\nexport const SynapseTableCell: React.FC<SynapseTableCellProps> = ({\n  columnType,\n  columnValue,\n  isBold,\n  mapEntityIdToHeader,\n  mapUserIdToHeader,\n  columnLinkConfig,\n  columnName,\n  selectColumns,\n  columnModels,\n  rowData,\n  rowId,\n  rowVersionNumber,\n}) => {\n  const { entity } = useQueryContext()\n\n  if (!columnValue) {\n    return <p className=\"SRC-inactive\"> {NOT_SET_DISPLAY_VALUE}</p>\n  }\n\n  if (columnLinkConfig) {\n    return (\n      <SynapseCardLabel\n        value={columnValue}\n        columnName={columnName}\n        selectColumns={selectColumns}\n        columnModels={columnModels}\n        isHeader={false}\n        labelLink={columnLinkConfig}\n        rowData={rowData}\n        rowId={rowId}\n      />\n    )\n  }\n\n  // PORTALS-2095: Special case. If this is an EntityView, and we are rendering the 'id' or 'name' column,\n  // and we have a rowId and rowVersionNumber (should always be the case), and our entityIdToHeader map\n  // contains the row Synapse ID, then auto-link.\n  if (\n    entity &&\n    (isEntityView(entity) ||\n      isDataset(entity) ||\n      isDatasetCollection(entity)) &&\n    (columnName === 'id' || columnName === 'name') &&\n    rowId &&\n    rowVersionNumber\n  ) {\n    const synId = `syn${rowId.toString()}`\n    const entity = mapEntityIdToHeader[synId] ?? synId\n    return (\n      <p>\n        <EntityLink\n          entity={entity}\n          versionNumber={rowVersionNumber}\n          className={`${isBold}`}\n          showIcon={false}\n          displayTextField={columnName}\n        />\n      </p>\n    )\n  }\n\n  switch (columnType) {\n    case ColumnTypeEnum.ENTITYID:\n      return (\n        <p>\n          <EntityLink\n            entity={mapEntityIdToHeader[columnValue] ?? columnValue}\n            className={`${isBold}`}\n            displayTextField={'name'}\n          />\n        </p>\n      )\n      break\n    case ColumnTypeEnum.DATE_LIST: {\n      const jsonData: number[] = JSON.parse(columnValue)\n      return (\n        <p>\n          {jsonData.map((val: number, index: number) => {\n            return (\n              <span key={index} className={isBold}>\n                {formatDate(dayjs(Number(val)))}\n                {index !== jsonData.length - 1 ? ', ' : ''}\n              </span>\n            )\n          })}{' '}\n        </p>\n      )\n    }\n    case ColumnTypeEnum.BOOLEAN_LIST: {\n      const jsonData: boolean[] = JSON.parse(columnValue)\n      return (\n        <p>\n          {jsonData.map((val: boolean, index: number) => {\n            return (\n              <span key={index} className={isBold}>\n                {val ? 'true' : 'false'}\n                {index !== jsonData.length - 1 ? ', ' : ''}\n              </span>\n            )\n          })}\n        </p>\n      )\n    }\n    case ColumnTypeEnum.FILEHANDLEID:\n      return (\n        <>\n          {entity && (\n            <DirectDownload\n              associatedObjectId={entity.id!}\n              associatedObjectType={FileHandleAssociateType.TableEntity}\n              fileHandleId={columnValue}\n              displayFileName={true}\n            />\n          )}\n        </>\n      )\n    case ColumnTypeEnum.ENTITYID_LIST: {\n      const jsonData: string[] = JSON.parse(columnValue)\n      return (\n        <p>\n          <EntityIdList entityIdList={jsonData} />\n        </p>\n      )\n    }\n    case ColumnTypeEnum.USERID_LIST: {\n      const jsonData: string[] = JSON.parse(columnValue)\n      return <UserIdList userIds={jsonData} />\n    }\n    // handle other list types\n    case ColumnTypeEnum.STRING_LIST:\n    case ColumnTypeEnum.INTEGER_LIST: {\n      const jsonData: string[] = JSON.parse(columnValue)\n      return (\n        <p className={isBold}>\n          {jsonData.map((val: string, index: number) => {\n            return (\n              <React.Fragment key={val}>\n                {val}\n                {index !== jsonData.length - 1 ? ', ' : ''}\n              </React.Fragment>\n            )\n          })}\n        </p>\n      )\n    }\n    case ColumnTypeEnum.EVALUATIONID: {\n      return <EvaluationIdRenderer evaluationId={columnValue} />\n    }\n\n    case ColumnTypeEnum.DATE:\n      return <p className={isBold}>{formatDate(dayjs(Number(columnValue)))}</p>\n\n    case ColumnTypeEnum.USERID:\n      if (\n        Object.prototype.hasOwnProperty.call(mapUserIdToHeader, columnValue)\n      ) {\n        const cachedData = mapUserIdToHeader[columnValue]\n        const { ownerId, userName } = cachedData\n        if ('isIndividual' in cachedData) {\n          // is UserGroupHeader\n          const icon: IconName =\n            userName === AUTHENTICATED_USERS ? 'public' : 'people'\n          if (userName === AUTHENTICATED_USERS) {\n            return (\n              <span>\n                <IconSvg icon={icon} /> All registered Synapse users\n              </span>\n            )\n          }\n          return (\n            <a\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              href={`${PRODUCTION_ENDPOINT_CONFIG.PORTAL}#!Team:${ownerId}`}\n            >\n              <IconSvg icon={icon} /> {userName}\n            </a>\n          )\n        } else {\n          // isUserCard\n          return (\n            <UserCard\n              userProfile={cachedData}\n              preSignedURL={cachedData.clientPreSignedURL}\n              size={'SMALL USER CARD'}\n            />\n          )\n        }\n      }\n      break\n    case ColumnTypeEnum.LINK:\n      return (\n        <a target=\"_blank\" rel=\"noopener noreferrer\" href={columnValue}>\n          {columnValue}\n        </a>\n      )\n    case ColumnTypeEnum.STRING:\n    case ColumnTypeEnum.DOUBLE:\n    case ColumnTypeEnum.INTEGER:\n    case ColumnTypeEnum.BOOLEAN:\n    case ColumnTypeEnum.MEDIUMTEXT:\n    case ColumnTypeEnum.LARGETEXT: {\n      return <p className={isBold}>{columnValue}</p>\n    }\n    default:\n      console.warn(\n        `ColumnType ${columnType} has unspecified handler. Rendering the column value.`,\n      )\n      return <p className={isBold}>{columnValue}</p>\n  }\n  // We can reach this if we don't get a mapping of IDs to entities or principals.\n  // TODO: If we don't have a id:data mapping, we should render a component that can fetch the required data, rather than breaking from the case.\n  return <p className={isBold}>{columnValue}</p>\n}\n","import React from 'react'\nimport { Pagination } from '@mui/material'\nimport { usePaginatedQueryContext } from '../QueryContext/QueryContext'\nimport { Typography } from '@mui/material'\n\nexport const TablePagination = () => {\n  const { data, goToPage, pageSize, setPageSize, currentPage } =\n    usePaginatedQueryContext()\n  const queryCount = data?.queryCount\n\n  const handlePage = (event: React.ChangeEvent<unknown>, value: number) => {\n    goToPage(value)\n  }\n\n  const handlePageSize = (event: React.ChangeEvent<{ value: unknown }>) => {\n    const value = event.target.value as number\n    setPageSize(value)\n  }\n\n  // PORTALS-2259: Special case.  If we're on the first page,\n  // and the total query count is less than the min page size, then do not show pagination UI.\n  if (currentPage == 1 && queryCount && queryCount < 10) {\n    return <></>\n  }\n\n  return (\n    <div>\n      <Pagination\n        page={currentPage}\n        count={Math.ceil(queryCount! / pageSize)}\n        color=\"secondary\"\n        onChange={handlePage}\n        style={{ display: 'inline-block', float: 'left' }}\n      />\n      <Typography variant=\"body1\" style={{ display: 'inline-block' }}>\n        {`${queryCount?.toLocaleString()} total rows /`}\n      </Typography>\n      <select\n        name=\"page size\"\n        onChange={handlePageSize}\n        style={{ padding: '4px', marginLeft: '4px' }}\n        value={pageSize}\n      >\n        <option value={10}>10 per page</option>\n        <option value={25}>25 per page</option>\n        <option value={100}>100 per page</option>\n        <option value={500}>500 per page</option>\n      </select>\n      {\n        //TODO: PORTALS-2546: convert to MUI?\n        /* <FormControl>\n        <Select\n          value={pageSize}\n          size=\"small\"\n          onChange={handlePageSize}\n          sx={{border: 'solid 1px #e5e7eb'}}\n        >\n          <MenuItem value={10}>10 per page</MenuItem>\n          <MenuItem value={25}>25 per page</MenuItem>\n          <MenuItem value={100}>100 per page</MenuItem>\n          <MenuItem value={500}>500 per page</MenuItem>\n        </Select>\n      </FormControl> */\n      }\n    </div>\n  )\n}\n","import React from 'react'\nimport { IconButton, Tooltip } from '@mui/material'\nimport { TOOLTIP_DELAY_SHOW } from './SynapseTable/SynapseTableConstants'\nimport IconSvg from './IconSvg/IconSvg'\n\nexport type InteractiveCopyIdsIconProps = {\n  onCopy: () => void\n}\n\nexport const InteractiveCopyIdsIcon = (props: InteractiveCopyIdsIconProps) => {\n  const { onCopy } = props\n  return (\n    <Tooltip\n      title=\"Copy IDs to the clipboard\"\n      enterNextDelay={TOOLTIP_DELAY_SHOW}\n      placement=\"right\"\n    >\n      <IconButton\n        sx={{ height: '40px' }}\n        data-testid=\"copySynIdsButton\"\n        onClick={onCopy}\n      >\n        <IconSvg icon=\"contentCopy\" />\n      </IconButton>\n    </Tooltip>\n  )\n}\n","import React from 'react'\nimport { useQueryContext } from '../QueryContext/QueryContext'\nimport { useSynapseContext } from '../../utils/context/SynapseContext'\nimport { InteractiveCopyIdsIcon } from '../InteractiveCopyIdsIcon'\nimport { displayToast } from '../ToastMessage/ToastMessage'\nimport { QueryResultBundle, Row } from '@sage-bionetworks/synapse-types'\nimport { SynapseSpinner } from '../LoadingScreen'\nimport { SynapseConstants } from '../../utils'\nimport { getFullQueryTableResults } from '../../synapse-client/SynapseClient'\nimport { parseEntityIdAndVersionFromSqlStatement } from '../../utils/functions/SqlFunctions'\n\nconst EntityIDColumnCopyIcon = () => {\n  const synapseContext = useSynapseContext()\n  const queryContext = useQueryContext()\n  const [isLoading, setIsLoading] = React.useState(false)\n  const [idData, setIdData] = React.useState<QueryResultBundle>()\n  const [abortController, setAbortController] =\n    React.useState<AbortController>()\n\n  React.useEffect(() => {\n    if (!abortController) {\n      setAbortController(new AbortController())\n    }\n    return () => {\n      // clean up\n      if (abortController) {\n        abortController.abort()\n      }\n    }\n  }, [abortController])\n  /**\n   * handle copy IDs to clipboard\n   */\n  const handleCopyIdsToClipboard = () => {\n    setIsLoading(true)\n\n    // ask for all pages of data\n    const { getLastQueryRequest } = queryContext\n    const queryRequestClone = getLastQueryRequest()\n    const { sql: oldSql } = queryRequestClone.query\n    const { entityId, versionNumber } =\n      parseEntityIdAndVersionFromSqlStatement(oldSql)!\n    const versionNumberString = versionNumber ? `.${versionNumber}` : ''\n    queryRequestClone.partMask = SynapseConstants.BUNDLE_MASK_QUERY_RESULTS\n    const entityIdString = `${entityId}${versionNumberString}`\n    const indexOfEntityId = oldSql.indexOf(entityIdString)\n    queryRequestClone.query.sql = `select id from ${entityIdString}${oldSql.substring(\n      indexOfEntityId + entityIdString.length,\n    )}`\n    getFullQueryTableResults(\n      queryRequestClone,\n      synapseContext.accessToken,\n      abortController?.signal,\n    )\n      .then((data: QueryResultBundle) => {\n        setIdData(data)\n      })\n      .catch((err: any) => {\n        console.error(err)\n        displayToast('Unable to query for all Synapse IDs to copy', 'danger')\n      })\n      .finally(() => {\n        setIsLoading(false)\n      })\n  }\n\n  React.useEffect(() => {\n    if (idData) {\n      const { rows } = idData.queryResult!.queryResults\n      const synIDs = rows\n        .map((row: Row) => {\n          return `${row.values[0]}`\n        })\n        .join('\\n')\n      // https://caniuse.com/mdn-api_clipboard_writetext\n      navigator.clipboard.writeText(synIDs).then(() => {\n        displayToast('Successfully copied to clipboard')\n        setIdData(undefined)\n      })\n    }\n  }, [idData])\n\n  return isLoading ? (\n    <SynapseSpinner size={25} />\n  ) : (\n    <InteractiveCopyIdsIcon\n      onCopy={() => {\n        handleCopyIdsToClipboard()\n      }}\n    />\n  )\n}\n\nexport default EntityIDColumnCopyIcon\n","var resizeObservers = [];\nexport { resizeObservers };\n","import { resizeObservers } from '../utils/resizeObservers';\nvar hasActiveObservations = function () {\n    return resizeObservers.some(function (ro) { return ro.activeTargets.length > 0; });\n};\nexport { hasActiveObservations };\n","import { resizeObservers } from '../utils/resizeObservers';\nvar hasSkippedObservations = function () {\n    return resizeObservers.some(function (ro) { return ro.skippedTargets.length > 0; });\n};\nexport { hasSkippedObservations };\n","var msg = 'ResizeObserver loop completed with undelivered notifications.';\nvar deliverResizeLoopError = function () {\n    var event;\n    if (typeof ErrorEvent === 'function') {\n        event = new ErrorEvent('error', {\n            message: msg\n        });\n    }\n    else {\n        event = document.createEvent('Event');\n        event.initEvent('error', false, false);\n        event.message = msg;\n    }\n    window.dispatchEvent(event);\n};\nexport { deliverResizeLoopError };\n","var ResizeObserverBoxOptions;\n(function (ResizeObserverBoxOptions) {\n    ResizeObserverBoxOptions[\"BORDER_BOX\"] = \"border-box\";\n    ResizeObserverBoxOptions[\"CONTENT_BOX\"] = \"content-box\";\n    ResizeObserverBoxOptions[\"DEVICE_PIXEL_CONTENT_BOX\"] = \"device-pixel-content-box\";\n})(ResizeObserverBoxOptions || (ResizeObserverBoxOptions = {}));\nexport { ResizeObserverBoxOptions };\n","export var freeze = function (obj) { return Object.freeze(obj); };\n","import { freeze } from './utils/freeze';\nvar ResizeObserverSize = (function () {\n    function ResizeObserverSize(inlineSize, blockSize) {\n        this.inlineSize = inlineSize;\n        this.blockSize = blockSize;\n        freeze(this);\n    }\n    return ResizeObserverSize;\n}());\nexport { ResizeObserverSize };\n","import { freeze } from './utils/freeze';\nvar DOMRectReadOnly = (function () {\n    function DOMRectReadOnly(x, y, width, height) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.top = this.y;\n        this.left = this.x;\n        this.bottom = this.top + this.height;\n        this.right = this.left + this.width;\n        return freeze(this);\n    }\n    DOMRectReadOnly.prototype.toJSON = function () {\n        var _a = this, x = _a.x, y = _a.y, top = _a.top, right = _a.right, bottom = _a.bottom, left = _a.left, width = _a.width, height = _a.height;\n        return { x: x, y: y, top: top, right: right, bottom: bottom, left: left, width: width, height: height };\n    };\n    DOMRectReadOnly.fromRect = function (rectangle) {\n        return new DOMRectReadOnly(rectangle.x, rectangle.y, rectangle.width, rectangle.height);\n    };\n    return DOMRectReadOnly;\n}());\nexport { DOMRectReadOnly };\n","var isSVG = function (target) { return target instanceof SVGElement && 'getBBox' in target; };\nvar isHidden = function (target) {\n    if (isSVG(target)) {\n        var _a = target.getBBox(), width = _a.width, height = _a.height;\n        return !width && !height;\n    }\n    var _b = target, offsetWidth = _b.offsetWidth, offsetHeight = _b.offsetHeight;\n    return !(offsetWidth || offsetHeight || target.getClientRects().length);\n};\nvar isElement = function (obj) {\n    var _a;\n    if (obj instanceof Element) {\n        return true;\n    }\n    var scope = (_a = obj === null || obj === void 0 ? void 0 : obj.ownerDocument) === null || _a === void 0 ? void 0 : _a.defaultView;\n    return !!(scope && obj instanceof scope.Element);\n};\nvar isReplacedElement = function (target) {\n    switch (target.tagName) {\n        case 'INPUT':\n            if (target.type !== 'image') {\n                break;\n            }\n        case 'VIDEO':\n        case 'AUDIO':\n        case 'EMBED':\n        case 'OBJECT':\n        case 'CANVAS':\n        case 'IFRAME':\n        case 'IMG':\n            return true;\n    }\n    return false;\n};\nexport { isSVG, isHidden, isElement, isReplacedElement };\n","export var global = typeof window !== 'undefined' ? window : {};\n","import { ResizeObserverBoxOptions } from '../ResizeObserverBoxOptions';\nimport { ResizeObserverSize } from '../ResizeObserverSize';\nimport { DOMRectReadOnly } from '../DOMRectReadOnly';\nimport { isSVG, isHidden } from '../utils/element';\nimport { freeze } from '../utils/freeze';\nimport { global } from '../utils/global';\nvar cache = new WeakMap();\nvar scrollRegexp = /auto|scroll/;\nvar verticalRegexp = /^tb|vertical/;\nvar IE = (/msie|trident/i).test(global.navigator && global.navigator.userAgent);\nvar parseDimension = function (pixel) { return parseFloat(pixel || '0'); };\nvar size = function (inlineSize, blockSize, switchSizes) {\n    if (inlineSize === void 0) { inlineSize = 0; }\n    if (blockSize === void 0) { blockSize = 0; }\n    if (switchSizes === void 0) { switchSizes = false; }\n    return new ResizeObserverSize((switchSizes ? blockSize : inlineSize) || 0, (switchSizes ? inlineSize : blockSize) || 0);\n};\nvar zeroBoxes = freeze({\n    devicePixelContentBoxSize: size(),\n    borderBoxSize: size(),\n    contentBoxSize: size(),\n    contentRect: new DOMRectReadOnly(0, 0, 0, 0)\n});\nvar calculateBoxSizes = function (target, forceRecalculation) {\n    if (forceRecalculation === void 0) { forceRecalculation = false; }\n    if (cache.has(target) && !forceRecalculation) {\n        return cache.get(target);\n    }\n    if (isHidden(target)) {\n        cache.set(target, zeroBoxes);\n        return zeroBoxes;\n    }\n    var cs = getComputedStyle(target);\n    var svg = isSVG(target) && target.ownerSVGElement && target.getBBox();\n    var removePadding = !IE && cs.boxSizing === 'border-box';\n    var switchSizes = verticalRegexp.test(cs.writingMode || '');\n    var canScrollVertically = !svg && scrollRegexp.test(cs.overflowY || '');\n    var canScrollHorizontally = !svg && scrollRegexp.test(cs.overflowX || '');\n    var paddingTop = svg ? 0 : parseDimension(cs.paddingTop);\n    var paddingRight = svg ? 0 : parseDimension(cs.paddingRight);\n    var paddingBottom = svg ? 0 : parseDimension(cs.paddingBottom);\n    var paddingLeft = svg ? 0 : parseDimension(cs.paddingLeft);\n    var borderTop = svg ? 0 : parseDimension(cs.borderTopWidth);\n    var borderRight = svg ? 0 : parseDimension(cs.borderRightWidth);\n    var borderBottom = svg ? 0 : parseDimension(cs.borderBottomWidth);\n    var borderLeft = svg ? 0 : parseDimension(cs.borderLeftWidth);\n    var horizontalPadding = paddingLeft + paddingRight;\n    var verticalPadding = paddingTop + paddingBottom;\n    var horizontalBorderArea = borderLeft + borderRight;\n    var verticalBorderArea = borderTop + borderBottom;\n    var horizontalScrollbarThickness = !canScrollHorizontally ? 0 : target.offsetHeight - verticalBorderArea - target.clientHeight;\n    var verticalScrollbarThickness = !canScrollVertically ? 0 : target.offsetWidth - horizontalBorderArea - target.clientWidth;\n    var widthReduction = removePadding ? horizontalPadding + horizontalBorderArea : 0;\n    var heightReduction = removePadding ? verticalPadding + verticalBorderArea : 0;\n    var contentWidth = svg ? svg.width : parseDimension(cs.width) - widthReduction - verticalScrollbarThickness;\n    var contentHeight = svg ? svg.height : parseDimension(cs.height) - heightReduction - horizontalScrollbarThickness;\n    var borderBoxWidth = contentWidth + horizontalPadding + verticalScrollbarThickness + horizontalBorderArea;\n    var borderBoxHeight = contentHeight + verticalPadding + horizontalScrollbarThickness + verticalBorderArea;\n    var boxes = freeze({\n        devicePixelContentBoxSize: size(Math.round(contentWidth * devicePixelRatio), Math.round(contentHeight * devicePixelRatio), switchSizes),\n        borderBoxSize: size(borderBoxWidth, borderBoxHeight, switchSizes),\n        contentBoxSize: size(contentWidth, contentHeight, switchSizes),\n        contentRect: new DOMRectReadOnly(paddingLeft, paddingTop, contentWidth, contentHeight)\n    });\n    cache.set(target, boxes);\n    return boxes;\n};\nvar calculateBoxSize = function (target, observedBox, forceRecalculation) {\n    var _a = calculateBoxSizes(target, forceRecalculation), borderBoxSize = _a.borderBoxSize, contentBoxSize = _a.contentBoxSize, devicePixelContentBoxSize = _a.devicePixelContentBoxSize;\n    switch (observedBox) {\n        case ResizeObserverBoxOptions.DEVICE_PIXEL_CONTENT_BOX:\n            return devicePixelContentBoxSize;\n        case ResizeObserverBoxOptions.BORDER_BOX:\n            return borderBoxSize;\n        default:\n            return contentBoxSize;\n    }\n};\nexport { calculateBoxSize, calculateBoxSizes };\n","import { calculateBoxSizes } from './algorithms/calculateBoxSize';\nimport { freeze } from './utils/freeze';\nvar ResizeObserverEntry = (function () {\n    function ResizeObserverEntry(target) {\n        var boxes = calculateBoxSizes(target);\n        this.target = target;\n        this.contentRect = boxes.contentRect;\n        this.borderBoxSize = freeze([boxes.borderBoxSize]);\n        this.contentBoxSize = freeze([boxes.contentBoxSize]);\n        this.devicePixelContentBoxSize = freeze([boxes.devicePixelContentBoxSize]);\n    }\n    return ResizeObserverEntry;\n}());\nexport { ResizeObserverEntry };\n","import { isHidden } from '../utils/element';\nvar calculateDepthForNode = function (node) {\n    if (isHidden(node)) {\n        return Infinity;\n    }\n    var depth = 0;\n    var parent = node.parentNode;\n    while (parent) {\n        depth += 1;\n        parent = parent.parentNode;\n    }\n    return depth;\n};\nexport { calculateDepthForNode };\n","import { resizeObservers } from '../utils/resizeObservers';\nimport { ResizeObserverEntry } from '../ResizeObserverEntry';\nimport { calculateDepthForNode } from './calculateDepthForNode';\nimport { calculateBoxSize } from './calculateBoxSize';\nvar broadcastActiveObservations = function () {\n    var shallowestDepth = Infinity;\n    var callbacks = [];\n    resizeObservers.forEach(function processObserver(ro) {\n        if (ro.activeTargets.length === 0) {\n            return;\n        }\n        var entries = [];\n        ro.activeTargets.forEach(function processTarget(ot) {\n            var entry = new ResizeObserverEntry(ot.target);\n            var targetDepth = calculateDepthForNode(ot.target);\n            entries.push(entry);\n            ot.lastReportedSize = calculateBoxSize(ot.target, ot.observedBox);\n            if (targetDepth < shallowestDepth) {\n                shallowestDepth = targetDepth;\n            }\n        });\n        callbacks.push(function resizeObserverCallback() {\n            ro.callback.call(ro.observer, entries, ro.observer);\n        });\n        ro.activeTargets.splice(0, ro.activeTargets.length);\n    });\n    for (var _i = 0, callbacks_1 = callbacks; _i < callbacks_1.length; _i++) {\n        var callback = callbacks_1[_i];\n        callback();\n    }\n    return shallowestDepth;\n};\nexport { broadcastActiveObservations };\n","import { resizeObservers } from '../utils/resizeObservers';\nimport { calculateDepthForNode } from './calculateDepthForNode';\nvar gatherActiveObservationsAtDepth = function (depth) {\n    resizeObservers.forEach(function processObserver(ro) {\n        ro.activeTargets.splice(0, ro.activeTargets.length);\n        ro.skippedTargets.splice(0, ro.skippedTargets.length);\n        ro.observationTargets.forEach(function processTarget(ot) {\n            if (ot.isActive()) {\n                if (calculateDepthForNode(ot.target) > depth) {\n                    ro.activeTargets.push(ot);\n                }\n                else {\n                    ro.skippedTargets.push(ot);\n                }\n            }\n        });\n    });\n};\nexport { gatherActiveObservationsAtDepth };\n","import { hasActiveObservations } from '../algorithms/hasActiveObservations';\nimport { hasSkippedObservations } from '../algorithms/hasSkippedObservations';\nimport { deliverResizeLoopError } from '../algorithms/deliverResizeLoopError';\nimport { broadcastActiveObservations } from '../algorithms/broadcastActiveObservations';\nimport { gatherActiveObservationsAtDepth } from '../algorithms/gatherActiveObservationsAtDepth';\nvar process = function () {\n    var depth = 0;\n    gatherActiveObservationsAtDepth(depth);\n    while (hasActiveObservations()) {\n        depth = broadcastActiveObservations();\n        gatherActiveObservationsAtDepth(depth);\n    }\n    if (hasSkippedObservations()) {\n        deliverResizeLoopError();\n    }\n    return depth > 0;\n};\nexport { process };\n","var trigger;\nvar callbacks = [];\nvar notify = function () { return callbacks.splice(0).forEach(function (cb) { return cb(); }); };\nvar queueMicroTask = function (callback) {\n    if (!trigger) {\n        var toggle_1 = 0;\n        var el_1 = document.createTextNode('');\n        var config = { characterData: true };\n        new MutationObserver(function () { return notify(); }).observe(el_1, config);\n        trigger = function () { el_1.textContent = \"\".concat(toggle_1 ? toggle_1-- : toggle_1++); };\n    }\n    callbacks.push(callback);\n    trigger();\n};\nexport { queueMicroTask };\n","import { queueMicroTask } from './queueMicroTask';\nvar queueResizeObserver = function (cb) {\n    queueMicroTask(function ResizeObserver() {\n        requestAnimationFrame(cb);\n    });\n};\nexport { queueResizeObserver };\n","import { process } from './process';\nimport { global } from './global';\nimport { queueResizeObserver } from './queueResizeObserver';\nvar watching = 0;\nvar isWatching = function () { return !!watching; };\nvar CATCH_PERIOD = 250;\nvar observerConfig = { attributes: true, characterData: true, childList: true, subtree: true };\nvar events = [\n    'resize',\n    'load',\n    'transitionend',\n    'animationend',\n    'animationstart',\n    'animationiteration',\n    'keyup',\n    'keydown',\n    'mouseup',\n    'mousedown',\n    'mouseover',\n    'mouseout',\n    'blur',\n    'focus'\n];\nvar time = function (timeout) {\n    if (timeout === void 0) { timeout = 0; }\n    return Date.now() + timeout;\n};\nvar scheduled = false;\nvar Scheduler = (function () {\n    function Scheduler() {\n        var _this = this;\n        this.stopped = true;\n        this.listener = function () { return _this.schedule(); };\n    }\n    Scheduler.prototype.run = function (timeout) {\n        var _this = this;\n        if (timeout === void 0) { timeout = CATCH_PERIOD; }\n        if (scheduled) {\n            return;\n        }\n        scheduled = true;\n        var until = time(timeout);\n        queueResizeObserver(function () {\n            var elementsHaveResized = false;\n            try {\n                elementsHaveResized = process();\n            }\n            finally {\n                scheduled = false;\n                timeout = until - time();\n                if (!isWatching()) {\n                    return;\n                }\n                if (elementsHaveResized) {\n                    _this.run(1000);\n                }\n                else if (timeout > 0) {\n                    _this.run(timeout);\n                }\n                else {\n                    _this.start();\n                }\n            }\n        });\n    };\n    Scheduler.prototype.schedule = function () {\n        this.stop();\n        this.run();\n    };\n    Scheduler.prototype.observe = function () {\n        var _this = this;\n        var cb = function () { return _this.observer && _this.observer.observe(document.body, observerConfig); };\n        document.body ? cb() : global.addEventListener('DOMContentLoaded', cb);\n    };\n    Scheduler.prototype.start = function () {\n        var _this = this;\n        if (this.stopped) {\n            this.stopped = false;\n            this.observer = new MutationObserver(this.listener);\n            this.observe();\n            events.forEach(function (name) { return global.addEventListener(name, _this.listener, true); });\n        }\n    };\n    Scheduler.prototype.stop = function () {\n        var _this = this;\n        if (!this.stopped) {\n            this.observer && this.observer.disconnect();\n            events.forEach(function (name) { return global.removeEventListener(name, _this.listener, true); });\n            this.stopped = true;\n        }\n    };\n    return Scheduler;\n}());\nvar scheduler = new Scheduler();\nvar updateCount = function (n) {\n    !watching && n > 0 && scheduler.start();\n    watching += n;\n    !watching && scheduler.stop();\n};\nexport { scheduler, updateCount };\n","import { ResizeObserverBoxOptions } from './ResizeObserverBoxOptions';\nimport { calculateBoxSize } from './algorithms/calculateBoxSize';\nimport { isSVG, isReplacedElement } from './utils/element';\nvar skipNotifyOnElement = function (target) {\n    return !isSVG(target)\n        && !isReplacedElement(target)\n        && getComputedStyle(target).display === 'inline';\n};\nvar ResizeObservation = (function () {\n    function ResizeObservation(target, observedBox) {\n        this.target = target;\n        this.observedBox = observedBox || ResizeObserverBoxOptions.CONTENT_BOX;\n        this.lastReportedSize = {\n            inlineSize: 0,\n            blockSize: 0\n        };\n    }\n    ResizeObservation.prototype.isActive = function () {\n        var size = calculateBoxSize(this.target, this.observedBox, true);\n        if (skipNotifyOnElement(this.target)) {\n            this.lastReportedSize = size;\n        }\n        if (this.lastReportedSize.inlineSize !== size.inlineSize\n            || this.lastReportedSize.blockSize !== size.blockSize) {\n            return true;\n        }\n        return false;\n    };\n    return ResizeObservation;\n}());\nexport { ResizeObservation };\n","var ResizeObserverDetail = (function () {\n    function ResizeObserverDetail(resizeObserver, callback) {\n        this.activeTargets = [];\n        this.skippedTargets = [];\n        this.observationTargets = [];\n        this.observer = resizeObserver;\n        this.callback = callback;\n    }\n    return ResizeObserverDetail;\n}());\nexport { ResizeObserverDetail };\n","import { scheduler, updateCount } from './utils/scheduler';\nimport { ResizeObservation } from './ResizeObservation';\nimport { ResizeObserverDetail } from './ResizeObserverDetail';\nimport { resizeObservers } from './utils/resizeObservers';\nvar observerMap = new WeakMap();\nvar getObservationIndex = function (observationTargets, target) {\n    for (var i = 0; i < observationTargets.length; i += 1) {\n        if (observationTargets[i].target === target) {\n            return i;\n        }\n    }\n    return -1;\n};\nvar ResizeObserverController = (function () {\n    function ResizeObserverController() {\n    }\n    ResizeObserverController.connect = function (resizeObserver, callback) {\n        var detail = new ResizeObserverDetail(resizeObserver, callback);\n        observerMap.set(resizeObserver, detail);\n    };\n    ResizeObserverController.observe = function (resizeObserver, target, options) {\n        var detail = observerMap.get(resizeObserver);\n        var firstObservation = detail.observationTargets.length === 0;\n        if (getObservationIndex(detail.observationTargets, target) < 0) {\n            firstObservation && resizeObservers.push(detail);\n            detail.observationTargets.push(new ResizeObservation(target, options && options.box));\n            updateCount(1);\n            scheduler.schedule();\n        }\n    };\n    ResizeObserverController.unobserve = function (resizeObserver, target) {\n        var detail = observerMap.get(resizeObserver);\n        var index = getObservationIndex(detail.observationTargets, target);\n        var lastObservation = detail.observationTargets.length === 1;\n        if (index >= 0) {\n            lastObservation && resizeObservers.splice(resizeObservers.indexOf(detail), 1);\n            detail.observationTargets.splice(index, 1);\n            updateCount(-1);\n        }\n    };\n    ResizeObserverController.disconnect = function (resizeObserver) {\n        var _this = this;\n        var detail = observerMap.get(resizeObserver);\n        detail.observationTargets.slice().forEach(function (ot) { return _this.unobserve(resizeObserver, ot.target); });\n        detail.activeTargets.splice(0, detail.activeTargets.length);\n    };\n    return ResizeObserverController;\n}());\nexport { ResizeObserverController };\n","import { ResizeObserverController } from './ResizeObserverController';\nimport { isElement } from './utils/element';\nvar ResizeObserver = (function () {\n    function ResizeObserver(callback) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (typeof callback !== 'function') {\n            throw new TypeError(\"Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.\");\n        }\n        ResizeObserverController.connect(this, callback);\n    }\n    ResizeObserver.prototype.observe = function (target, options) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (!isElement(target)) {\n            throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n        }\n        ResizeObserverController.observe(this, target, options);\n    };\n    ResizeObserver.prototype.unobserve = function (target) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (!isElement(target)) {\n            throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n        }\n        ResizeObserverController.unobserve(this, target);\n    };\n    ResizeObserver.prototype.disconnect = function () {\n        ResizeObserverController.disconnect(this);\n    };\n    ResizeObserver.toString = function () {\n        return 'function ResizeObserver () { [polyfill code] }';\n    };\n    return ResizeObserver;\n}());\nexport { ResizeObserver };\n","import React from 'react';\nconst usePassiveLayoutEffect = React[typeof document !== 'undefined' && document.createElement !== void 0 ? 'useLayoutEffect' : 'useEffect'];\nexport default usePassiveLayoutEffect;","import * as React from 'react';\n\nconst useLatest = current => {\n  const storedValue = React.useRef(current);\n  React.useEffect(() => {\n    storedValue.current = current;\n  });\n  return storedValue;\n};\n\nexport default useLatest;","/* eslint-disable no-return-assign */\n\n/* eslint-disable no-underscore-dangle */\nimport { ResizeObserver as Polyfill } from '@juggle/resize-observer';\nimport useLayoutEffect from '@react-hook/passive-layout-effect';\nimport useLatest from '@react-hook/latest';\nconst ResizeObserver = typeof window !== 'undefined' && 'ResizeObserver' in window ? // @ts-ignore\nwindow.ResizeObserver : Polyfill;\n/**\n * A React hook that fires a callback whenever ResizeObserver detects a change to its size\n *\n * @param target A React ref created by `useRef()` or an HTML element\n * @param callback Invoked with a single `ResizeObserverEntry` any time\n *   the `target` resizes\n */\n\nfunction _ref() {}\n\nfunction useResizeObserver(target, callback) {\n  const resizeObserver = getResizeObserver();\n  const storedCallback = useLatest(callback);\n  useLayoutEffect(() => {\n    let didUnsubscribe = false;\n    const targetEl = target && 'current' in target ? target.current : target;\n    if (!targetEl) return _ref;\n\n    function cb(entry, observer) {\n      if (didUnsubscribe) return;\n      storedCallback.current(entry, observer);\n    }\n\n    resizeObserver.subscribe(targetEl, cb);\n    return () => {\n      didUnsubscribe = true;\n      resizeObserver.unsubscribe(targetEl, cb);\n    };\n  }, [target, resizeObserver, storedCallback]);\n  return resizeObserver.observer;\n}\n\nfunction createResizeObserver() {\n  let ticking = false;\n  let allEntries = [];\n  const callbacks = new Map();\n  const observer = new ResizeObserver((entries, obs) => {\n    allEntries = allEntries.concat(entries);\n\n    function _ref2() {\n      const triggered = new Set();\n\n      for (let i = 0; i < allEntries.length; i++) {\n        if (triggered.has(allEntries[i].target)) continue;\n        triggered.add(allEntries[i].target);\n        const cbs = callbacks.get(allEntries[i].target);\n        cbs === null || cbs === void 0 ? void 0 : cbs.forEach(cb => cb(allEntries[i], obs));\n      }\n\n      allEntries = [];\n      ticking = false;\n    }\n\n    if (!ticking) {\n      window.requestAnimationFrame(_ref2);\n    }\n\n    ticking = true;\n  });\n  return {\n    observer,\n\n    subscribe(target, callback) {\n      var _callbacks$get;\n\n      observer.observe(target);\n      const cbs = (_callbacks$get = callbacks.get(target)) !== null && _callbacks$get !== void 0 ? _callbacks$get : [];\n      cbs.push(callback);\n      callbacks.set(target, cbs);\n    },\n\n    unsubscribe(target, callback) {\n      var _callbacks$get2;\n\n      const cbs = (_callbacks$get2 = callbacks.get(target)) !== null && _callbacks$get2 !== void 0 ? _callbacks$get2 : [];\n\n      if (cbs.length === 1) {\n        observer.unobserve(target);\n        callbacks.delete(target);\n        return;\n      }\n\n      const cbIndex = cbs.indexOf(callback);\n      if (cbIndex !== -1) cbs.splice(cbIndex, 1);\n      callbacks.set(target, cbs);\n    }\n\n  };\n}\n\nlet _resizeObserver;\n\nconst getResizeObserver = () => !_resizeObserver ? _resizeObserver = createResizeObserver() : _resizeObserver;\n\nexport default useResizeObserver;","import React, { useRef, useState } from 'react'\nimport IconSvg from '../IconSvg/IconSvg'\nimport useResizeObserver from '@react-hook/resize-observer'\n\nexport default function ExpandableTableDataCell(\n  props: JSX.IntrinsicElements['td'],\n) {\n  const [isExpanded, setIsExpanded] = useState(false)\n  const [isOverflowingWhenNotExpanded, setIsOverflowingWhenNotExpanded] =\n    useState(false)\n  const tdRef = useRef<HTMLTableDataCellElement | null>(null)\n\n  /**\n   * When the cell is resized, check if it is overflowing.\n   */\n  useResizeObserver(tdRef, ({ target }) => {\n    // Don't check overflow if the cell has been expanded by the user!\n    if (!isExpanded) {\n      if (target) {\n        /**\n         * TODO: Not all content elements are <p> tags\n         *\n         * Doing this \"right\" would require a major SynapseTableCell refactor.\n         * Should we forward a ref to the <p>? Should we not wrap content so the `td` gets the correct scrollWidth?\n         *\n         * Note that the CSS also assumes that the table cell content is always wrapped in a <p>\n         */\n        const contentElement = target.getElementsByTagName('p')[0]\n        if (contentElement) {\n          setIsOverflowingWhenNotExpanded(\n            contentElement.scrollHeight > contentElement.clientHeight ||\n              contentElement.scrollWidth > contentElement.clientWidth,\n          )\n        }\n      }\n    }\n  })\n\n  return (\n    <td\n      {...props}\n      className={`ExpandableTableData ${\n        props.className ? props.className : ''\n      }`}\n      aria-expanded={isExpanded}\n      ref={tdRef}\n    >\n      {isOverflowingWhenNotExpanded && (\n        <button\n          className=\"ExpandableTableData__expandButton\"\n          onClick={() => setIsExpanded(!isExpanded)}\n        >\n          <IconSvg\n            icon={isExpanded ? 'minusBoxOutline' : 'addBoxOutline'}\n            sx={{\n              color: 'grey.600',\n              height: '16px',\n              verticalAlign: 'top',\n            }}\n          ></IconSvg>\n        </button>\n      )}\n      {props.children}\n    </td>\n  )\n}\n","import ColumnResizer from 'column-resizer'\nimport { cloneDeep, eq } from 'lodash-es'\nimport React from 'react'\nimport { DialogBase } from '../DialogBase'\nimport SynapseClient from '../../synapse-client'\nimport {\n  isDataset,\n  isDatasetCollection,\n  isEntityView,\n} from '../../utils/functions/EntityTypeUtils'\nimport { PRODUCTION_ENDPOINT_CONFIG } from '../../utils/functions/getEndpoint'\nimport { getUserProfileWithProfilePicAttached } from '../../utils/functions/getUserData'\nimport { SynapseContextType } from '../../utils/context/SynapseContext'\nimport {\n  ColumnModel,\n  ColumnType,\n  ColumnTypeEnum,\n  EntityHeader,\n  FacetColumnRequest,\n  FacetColumnResult,\n  FacetColumnResultValues,\n  QueryBundleRequest,\n  ReferenceList,\n  Row,\n  SelectColumn,\n  SortItem,\n  UserGroupHeader,\n  UserProfile,\n} from '@sage-bionetworks/synapse-types'\nimport AddToDownloadListV2 from '../AddToDownloadListV2'\nimport { LabelLinkConfig } from '../CardContainerLogic'\nimport DirectDownload from '../DirectDownload'\nimport { HasAccessV2 } from '../HasAccess/HasAccessV2'\nimport loadingScreen from '../LoadingScreen'\nimport ModalDownload from '../ModalDownload/ModalDownload'\nimport { QueryVisualizationContextType } from '../QueryVisualizationWrapper'\nimport { QueryContextType } from '../QueryContext/QueryContext'\nimport { Icon } from '../row_renderers/utils'\nimport { SynapseTableCell } from '../synapse_table_functions/SynapseTableCell'\nimport { Checkbox } from '../widgets/Checkbox'\nimport { EnumFacetFilter } from '../widgets/query-filter/EnumFacetFilter'\nimport {\n  applyChangesToValuesColumn,\n  applyMultipleChangesToValuesColumn,\n} from '../widgets/query-filter/FacetFilterControls'\nimport { ICON_STATE } from './SynapseTableConstants'\nimport {\n  getColumnIndicesWithType,\n  getUniqueEntities,\n  isFileViewOrDataset,\n} from './SynapseTableUtils'\nimport { TablePagination } from './TablePagination'\nimport EntityIDColumnCopyIcon from './EntityIDColumnCopyIcon'\nimport ExpandableTableDataCell from './ExpandableTableDataCell'\n\ntype Direction = '' | 'ASC' | 'DESC'\nexport const SORT_STATE: Direction[] = ['', 'DESC', 'ASC']\nexport const DOWNLOAD_OPTIONS_CONTAINER_CLASS = 'SRC-download-options-container'\nconst RESIZER_OPTIONS: any = {\n  resizeMode: 'overflow',\n  partialRefresh: 'true',\n  liveDrag: true,\n  headerOnly: 'true',\n}\ntype Info = {\n  index: number\n  name: string\n}\n\nexport type SynapseTableState = {\n  sortedColumnSelection: SortItem[]\n  columnIconSortState: number[]\n  isExportTableDownloadOpen: boolean\n  isExpanded: boolean\n  mapEntityIdToHeader: Record<string, EntityHeader>\n  mapUserIdToHeader: Record<string, UserGroupHeader | UserProfile>\n  isColumnSelectionOpen: boolean\n  isFetchingEntityHeaders: boolean\n}\n\nexport type SynapseTableProps = {\n  synapseContext: SynapseContextType\n  queryContext: QueryContextType\n  queryVisualizationContext: QueryVisualizationContextType\n  title?: string\n  showAccessColumn?: boolean\n  showDownloadColumn?: boolean\n  columnLinks?: LabelLinkConfig\n  hideDownload?: boolean\n}\n\nexport class SynapseTable extends React.Component<\n  SynapseTableProps,\n  SynapseTableState\n> {\n  constructor(props: SynapseTableProps) {\n    super(props)\n    this.componentDidMount = this.componentDidMount.bind(this)\n    this.componentWillUnmount = this.componentWillUnmount.bind(this)\n    this.componentDidUpdate = this.componentDidUpdate.bind(this)\n    this.shouldComponentUpdate = this.shouldComponentUpdate.bind(this)\n    this.handleColumnSortPress = this.handleColumnSortPress.bind(this)\n    this.findSelectionIndex = this.findSelectionIndex.bind(this)\n    this.advancedSearch = this.advancedSearch.bind(this)\n    this.getLengthOfPropsData = this.getLengthOfPropsData.bind(this)\n    this.configureFacetDropdown = this.configureFacetDropdown.bind(this)\n    this.enableResize = this.enableResize.bind(this)\n    this.disableResize = this.disableResize.bind(this)\n    this.isEntityViewOrDataset = this.isEntityViewOrDataset.bind(this)\n    this.allRowsHaveId = this.allRowsHaveId.bind(this)\n\n    // store the offset and sorted selection that is currently held\n    this.state = {\n      /* columnIconSortState tells what icon to display for a table\n         header. There are three states for a particular header-\n          0 - show descending icon but *deselected*\n          1 - show descending icon selected\n          2 - show ascending icon selected\n      */\n      columnIconSortState: [],\n      isExportTableDownloadOpen: false,\n      isExpanded: false,\n      isColumnSelectionOpen: false,\n      // sortedColumnSelection contains the columns which are\n      // selected currently and their sort status as eithet\n      // off, desc, or asc.\n      sortedColumnSelection: [],\n      mapEntityIdToHeader: {},\n      mapUserIdToHeader: {},\n      isFetchingEntityHeaders: false,\n    }\n    this.getEntityHeadersInData = this.getEntityHeadersInData.bind(this)\n  }\n\n  // instance variables\n  resizer: any\n  tableElement: HTMLTableElement | null | undefined = undefined\n\n  componentWillUnmount() {\n    this.disableResize()\n  }\n\n  componentDidMount() {\n    this.getEntityHeadersInData(true)\n    this.enableResize()\n  }\n\n  shouldComponentUpdate(\n    nextProps: SynapseTableProps,\n    nextState: Readonly<SynapseTableState>,\n  ): boolean {\n    // ignore isFetching state variables when checking for change in state\n    const {\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      isFetchingEntityHeaders: oldIsFetchingEntityHeaders,\n      ...oldState\n    } = this.state\n    const {\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      isFetchingEntityHeaders: newIsFetchingEntityHeaders,\n      ...newState\n    } = nextState\n    const isPropsChange = !eq(this.props, nextProps)\n    const isStateChange = !eq(oldState, newState)\n    const shouldComponentUpdate = isPropsChange || isStateChange\n    if (shouldComponentUpdate) {\n      this.disableResize()\n    }\n    return shouldComponentUpdate\n  }\n  componentDidUpdate(\n    prevProps: SynapseTableProps,\n    prevState: Readonly<SynapseTableState>,\n  ) {\n    // PORTALS-2081: if the data changed, then get the new entity headers\n    if (!eq(prevProps.queryContext.data, this.props.queryContext.data)) {\n      this.getEntityHeadersInData(false)\n    } else if (\n      prevProps.queryContext.entity &&\n      this.props.queryContext.entity &&\n      !eq(\n        isEntityView(prevProps.queryContext.entity),\n        isEntityView(this.props.queryContext.entity),\n      )\n    ) {\n      // if we determined that this is an entity view, force refresh the entity headers (for Views we need to get the rowIds!)\n      this.getEntityHeadersInData(true)\n    }\n    this.enableResize()\n  }\n\n  enableResize() {\n    if (!this.resizer) {\n      // only create the resizer if the tableElement is in the DOM and there's more than one select column in the data.\n      if (this.tableElement && this.getLengthOfPropsData() > 1) {\n        this.resizer = new ColumnResizer(this.tableElement, RESIZER_OPTIONS)\n      }\n    } else {\n      // TODO: use event driven solution instead of timeout.\n      // We need to give SynapseTableCell time to render (which will change the column size).\n      // Alternatively, we may be able to use SizeMe (or withSize() on Cell component) to respond to width change.\n      setTimeout(() => {\n        this.resizer.reset(RESIZER_OPTIONS)\n      }, 1000)\n    }\n  }\n\n  disableResize() {\n    if (this.resizer) {\n      this.resizer.reset({ disable: true })\n    }\n  }\n\n  public async getEntityHeadersInData(forceRefresh: boolean) {\n    const { data, entity } = this.props.queryContext\n    if (!data || !entity) {\n      return\n    } else if (this.state.isFetchingEntityHeaders && !forceRefresh) {\n      return\n    }\n    const mapEntityIdToHeader = cloneDeep(this.state.mapEntityIdToHeader)\n    const mapUserIdToHeader = cloneDeep(this.state.mapUserIdToHeader)\n    const entityIdColumnIndicies = getColumnIndicesWithType(\n      data,\n      ColumnTypeEnum.ENTITYID,\n    )\n    const userIdColumnIndicies = getColumnIndicesWithType(\n      data,\n      ColumnTypeEnum.USERID,\n    )\n\n    const distinctEntityIds = getUniqueEntities(\n      data,\n      mapEntityIdToHeader,\n      entityIdColumnIndicies,\n    )\n    // also include row entity ids if this is a view (it's possible that the ID column was not selected)\n    if (\n      (this.isEntityViewOrDataset() ||\n        (entity && isDatasetCollection(entity))) &&\n      this.allRowsHaveId()\n    ) {\n      const rows = data.queryResult?.queryResults?.rows ?? []\n      rows.forEach((row: Row) => {\n        const rowSynapseId = `syn${row.rowId}`\n        distinctEntityIds.add(rowSynapseId)\n      })\n    }\n    const distinctUserIds = getUniqueEntities(\n      data,\n      mapUserIdToHeader,\n      userIdColumnIndicies,\n    )\n    if (distinctEntityIds.size === 0 && distinctUserIds.size === 0) {\n      return\n    }\n    this.setState({\n      isFetchingEntityHeaders: true,\n    })\n    // Make call to resolve entity ids\n    if (distinctEntityIds.size > 0) {\n      const referenceList: ReferenceList = Array.from(distinctEntityIds).map(\n        id => {\n          return { targetId: id }\n        },\n      )\n      try {\n        const data = await SynapseClient.getEntityHeaders(\n          referenceList,\n          this.props.synapseContext.accessToken,\n        )\n        const { results } = data\n        results.forEach(el => {\n          mapEntityIdToHeader[el.id] = el\n        })\n      } catch (err) {\n        console.error('Error on retrieving entity header list , ', err)\n      }\n    }\n    const userProfileIds: string[] = []\n    if (distinctUserIds.size > 0) {\n      // Make call to get group headers and user profiles\n      const ids = Array.from(distinctUserIds)\n      // TODO: Grab Team Badge\n      try {\n        const data = await SynapseClient.getGroupHeadersBatch(\n          ids,\n          this.props.synapseContext.accessToken,\n        )\n        data.children.forEach(el => {\n          if (el.isIndividual) {\n            userProfileIds.push(el.ownerId)\n          } else {\n            mapUserIdToHeader[el.ownerId] = el\n          }\n        })\n      } catch (err) {\n        console.error('Error on getGroupHeaders batch: ', err)\n      }\n    }\n    if (userProfileIds.length > 0) {\n      try {\n        const data = await getUserProfileWithProfilePicAttached(userProfileIds)\n        data.list.forEach((el: UserProfile) => {\n          mapUserIdToHeader[el.ownerId] = el\n        })\n      } catch (err) {\n        console.error('Error on getUserProfile : ', err)\n      }\n    }\n    this.setState({\n      mapEntityIdToHeader,\n      mapUserIdToHeader,\n      isFetchingEntityHeaders: false,\n    })\n  }\n\n  /**\n   * Display the view\n   */\n  public render() {\n    if (\n      !this.props.queryContext.data &&\n      this.props.queryContext.isLoadingNewBundle\n    ) {\n      return loadingScreen\n    } else if (!this.props.queryContext.data) {\n      return <></>\n    }\n    // unpack all the data\n    const {\n      queryContext: { data },\n      queryVisualizationContext: { NoContentPlaceholder },\n    } = this.props\n    const { queryResult, columnModels = [] } = data\n    const { facets = [] } = data\n    const { isExpanded, isExportTableDownloadOpen } = this.state\n    const queryRequest = this.props.queryContext.getLastQueryRequest()\n    const className = ''\n    const hasResults = (data.queryResult?.queryResults.rows.length ?? 0) > 0\n    // Show the No Results UI if the current page has no rows, and this is the first page of data (offset === 0).\n    if (!hasResults && queryRequest.query.offset === 0) {\n      return <NoContentPlaceholder />\n    }\n\n    const { rows, headers } = queryResult!.queryResults\n\n    const table = (\n      <div>{this.renderTable(headers, columnModels, facets, rows)}</div>\n    )\n    const content = (\n      <>\n        <div className={className}>\n          {isExportTableDownloadOpen && (\n            <ModalDownload\n              onClose={() => {\n                this.setState({\n                  isExportTableDownloadOpen: false,\n                })\n              }}\n              queryBundleRequest={queryRequest}\n            />\n          )}\n          {/* FRAGILE, CHANGE WITH CAUTION, see - https://sagebionetworks.jira.com/browse/PORTALS-1539 */}\n          <div>{table}</div>\n        </div>\n      </>\n    )\n    return (\n      <React.Fragment>\n        {isExpanded && (\n          <DialogBase\n            open={true}\n            onCancel={() => this.setState({ isExpanded: false })}\n            content={content}\n            title={undefined}\n            maxWidth=\"xl\"\n            fullWidth\n            sx={{\n              '.MuiDialogTitle-root': {\n                padding: 0,\n              },\n              '.MuiDialogContent-root': {\n                border: 'transparent',\n              },\n            }}\n          />\n        )}\n        {!isExpanded && content}\n      </React.Fragment>\n    )\n  }\n\n  /**\n   * If this is a view/dataset and rows have an ID, then rows represent individual objects in Synapse.\n   * Presence of row IDs also indicates that the query is also necessarily not summary data, e.g. the query does\n   * not include an operation like GROUP BY, DISTINCT, etc., that would cause rows to not map 1:1 to Synapse Entities\n   */\n  private allRowsHaveId(): boolean {\n    const {\n      queryContext: { data },\n    } = this.props\n    return (\n      data?.queryResult?.queryResults.rows.every(row => !!row.rowId) ?? false\n    )\n  }\n\n  private isEntityViewOrDataset(): boolean {\n    const {\n      queryContext: { entity },\n    } = this.props\n    return (entity && (isEntityView(entity) || isDataset(entity))) ?? false\n  }\n\n  private renderTable = (\n    headers: SelectColumn[],\n    columnModels: ColumnModel[],\n    facets: FacetColumnResult[],\n    rows: Row[],\n  ) => {\n    const lastQueryRequest = this.props.queryContext.getLastQueryRequest?.()!\n    const {\n      queryContext: { entity },\n      queryVisualizationContext: { isRowSelectionVisible },\n      showAccessColumn,\n      showDownloadColumn,\n    } = this.props\n\n    const isShowingAccessColumn: boolean | undefined =\n      showAccessColumn &&\n      entity &&\n      this.isEntityViewOrDataset() &&\n      this.allRowsHaveId()\n    const isLoggedIn = !!this.props.synapseContext.accessToken\n\n    const rowsAreDownloadable =\n      entity &&\n      isFileViewOrDataset(entity) &&\n      isLoggedIn &&\n      this.allRowsHaveId()\n\n    const isShowingAddToV2DownloadListColumn: boolean = !!(\n      rowsAreDownloadable && !this.props.hideDownload\n    )\n\n    const isShowingDirectDownloadColumn =\n      rowsAreDownloadable && showDownloadColumn\n\n    /* min height ensure if no rows are selected that a dropdown menu is still accessible */\n    return (\n      <div className=\"SynapseTable SRC-overflowAuto\" data-testid=\"SynapseTable\">\n        <table\n          ref={node => (this.tableElement = node)}\n          className=\"table table-striped table-condensed\"\n        >\n          <thead className=\"SRC_bordered\">\n            <tr>\n              {this.createTableHeader(\n                headers,\n                columnModels,\n                facets,\n                isShowingAccessColumn,\n                isShowingDirectDownloadColumn,\n                isShowingAddToV2DownloadListColumn,\n                isRowSelectionVisible,\n                lastQueryRequest,\n              )}\n            </tr>\n          </thead>\n          <tbody>\n            {this.createTableRows(\n              rows,\n              headers,\n              isShowingAccessColumn,\n              isShowingDirectDownloadColumn,\n              isShowingAddToV2DownloadListColumn,\n              isRowSelectionVisible,\n            )}\n          </tbody>\n        </table>\n        <div className=\"bootstrap-4-backport\" style={{ textAlign: 'right' }}>\n          <TablePagination />\n        </div>\n      </div>\n    )\n  }\n\n  /**\n   * Handle a column having been selected\n   *\n   * @memberof SynapseTable\n   */\n  public handleColumnSortPress = (dict: Info) => (_: React.SyntheticEvent) => {\n    // by using Synthetic event we can use the handler on both key press and mouse click\n    let columnIconSortState = cloneDeep(this.state.columnIconSortState)\n    if (columnIconSortState.length === 0) {\n      columnIconSortState = Array(this.getLengthOfPropsData()).fill(0)\n    }\n    // get currently sorted items and remove/insert/update this selection\n    const sortedColumnSelection = cloneDeep(this.state.sortedColumnSelection)\n    const index = this.findSelectionIndex(sortedColumnSelection, dict.name)\n    // if its present then remove it\n    if (index !== -1) {\n      sortedColumnSelection.splice(index, 1)\n    }\n    columnIconSortState[dict.index] =\n      (columnIconSortState[dict.index] + 1) % ICON_STATE.length\n    if (columnIconSortState[dict.index] > 0) {\n      sortedColumnSelection.unshift({\n        column: dict.name,\n        direction: SORT_STATE[columnIconSortState[dict.index]],\n      })\n    }\n    const queryRequest = this.props.queryContext.getLastQueryRequest()\n    queryRequest.query.sort = sortedColumnSelection\n    queryRequest.query.offset = 0\n    this.props.queryContext.executeQueryRequest(queryRequest)\n    this.setState({\n      columnIconSortState,\n      sortedColumnSelection,\n    })\n  }\n\n  private createTableRows(\n    rows: Row[],\n    headers: SelectColumn[],\n    isShowingAccessColumn: boolean | undefined,\n    isShowingDownloadColumn: boolean | undefined,\n    isShowingAddToV2DownloadListColumn: boolean,\n    isRowSelectionVisible: boolean | undefined,\n  ) {\n    const rowsFormatted: JSX.Element[] = []\n    const {\n      queryContext: { data },\n      queryVisualizationContext: {\n        columnsToShowInTable,\n        selectedRows,\n        setSelectedRows,\n      },\n      columnLinks = [],\n    } = this.props\n    const { selectColumns = [], columnModels = [] } = data!\n    const { mapEntityIdToHeader, mapUserIdToHeader } = this.state\n\n    rows.forEach((row, rowIndex) => {\n      const entityVersionNumber = row.versionNumber?.toString()\n      const rowSynapseId = `syn${row.rowId}`\n\n      const rowContent = row.values.map(\n        (columnValue: string | null, colIndex: number) => {\n          const columnName = headers[colIndex].name\n          const isColumnActive = columnsToShowInTable.includes(columnName)\n          const columnLinkConfig = columnLinks.find(el => {\n            return el.matchColumnName === columnName\n          })\n          const index = this.findSelectionIndex(\n            this.state.sortedColumnSelection,\n            columnName,\n          )\n          const isBold = index === -1 ? '' : 'SRC-boldText'\n          if (isColumnActive) {\n            return (\n              <ExpandableTableDataCell\n                className=\"SRC_noBorderTop\"\n                key={`(${rowIndex}${columnValue}${colIndex})`}\n              >\n                <SynapseTableCell\n                  columnType={headers[colIndex].columnType}\n                  columnValue={columnValue}\n                  isBold={isBold}\n                  mapEntityIdToHeader={mapEntityIdToHeader}\n                  mapUserIdToHeader={mapUserIdToHeader}\n                  columnLinkConfig={columnLinkConfig}\n                  columnName={columnName}\n                  rowData={row.values}\n                  selectColumns={selectColumns}\n                  columnModels={columnModels}\n                  rowId={row.rowId}\n                  rowVersionNumber={row.versionNumber}\n                />\n              </ExpandableTableDataCell>\n            )\n          }\n          return <td className=\"SRC-hidden\" key={`(${rowIndex},${colIndex})`} />\n        },\n      )\n\n      // also push the access column value if we are showing user access for individual items (still shown if not logged in)\n      if (isShowingAccessColumn) {\n        rowContent.unshift(\n          <td key={rowSynapseId} className=\"SRC_noBorderTop\">\n            <HasAccessV2\n              key={rowSynapseId}\n              entityId={rowSynapseId}\n              entityVersionNumber={entityVersionNumber}\n            />\n          </td>,\n        )\n      }\n      const isFileEntity: boolean =\n        mapEntityIdToHeader[rowSynapseId]?.type ==\n        'org.sagebionetworks.repo.model.FileEntity'\n      if (isShowingDownloadColumn) {\n        // SWC-5790: If this is a FileEntity, the download icon should just go to entity page\n        rowContent.unshift(\n          <td\n            key={`direct-download-${rowSynapseId}`}\n            className=\"SRC_noBorderTop direct-download\"\n          >\n            {isFileEntity && (\n              <DirectDownload\n                associatedObjectId={rowSynapseId}\n                entityVersionNumber={entityVersionNumber}\n              ></DirectDownload>\n            )}\n          </td>,\n        )\n      }\n      if (isShowingAddToV2DownloadListColumn) {\n        rowContent.unshift(\n          <td\n            key={`add-to-download-list-v2-${rowSynapseId}`}\n            className=\"SRC_noBorderTop add-to-download-list-v2\"\n          >\n            {isFileEntity && (\n              <AddToDownloadListV2\n                entityId={rowSynapseId}\n                entityVersionNumber={parseInt(entityVersionNumber!)}\n              ></AddToDownloadListV2>\n            )}\n          </td>,\n        )\n      }\n\n      if (isRowSelectionVisible && selectedRows) {\n        rowContent.unshift(\n          <td key={`(${rowIndex},rowSelectColumn)`} className=\"SRC_noBorderTop\">\n            <Checkbox\n              label=\"\"\n              checked={!!selectedRows.find(r => r.rowId === row.rowId)}\n              onChange={(checked: boolean) => {\n                const cloneSelectedRows = [...selectedRows]\n                if (checked) {\n                  cloneSelectedRows.push(row)\n                } else {\n                  const index = cloneSelectedRows.indexOf(row)\n                  if (index > -1) {\n                    cloneSelectedRows.splice(index, 1)\n                  }\n                }\n                // update context on change\n                setSelectedRows(cloneSelectedRows)\n              }}\n            ></Checkbox>\n          </td>,\n        )\n      }\n\n      const rowFormatted = <tr key={row.rowId ?? rowIndex}>{rowContent}</tr>\n      rowsFormatted.push(rowFormatted)\n    })\n    return rowsFormatted\n  }\n\n  public isSortableColumn(column: ColumnType) {\n    switch (column) {\n      case ColumnTypeEnum.USERID:\n      case ColumnTypeEnum.ENTITYID:\n      case ColumnTypeEnum.FILEHANDLEID:\n      case ColumnTypeEnum.STRING_LIST:\n      case ColumnTypeEnum.INTEGER_LIST:\n      case ColumnTypeEnum.BOOLEAN_LIST:\n      case ColumnTypeEnum.DATE_LIST:\n      case ColumnTypeEnum.USERID_LIST:\n      case ColumnTypeEnum.ENTITYID_LIST:\n        return false\n      default:\n        return true\n    }\n  }\n\n  private createTableHeader(\n    headers: SelectColumn[],\n    columnModels: ColumnModel[],\n    facets: FacetColumnResult[],\n    isShowingAccessColumn: boolean | undefined,\n    isShowingDownloadColumn: boolean | undefined,\n    isShowingAddToV2DownloadListColumn: boolean,\n    isRowSelectionVisible: boolean | undefined,\n    lastQueryRequest: QueryBundleRequest,\n  ) {\n    const { sortedColumnSelection, columnIconSortState } = this.state\n    const {\n      queryVisualizationContext: { getColumnDisplayName, columnsToShowInTable },\n      queryContext: { lockedColumn },\n    } = this.props\n    const tableColumnHeaderElements: JSX.Element[] = headers.map(\n      (column: SelectColumn, index: number) => {\n        const isHeaderSelected = columnsToShowInTable.includes(column.name)\n        if (isHeaderSelected) {\n          // for background color\n          const isSelected: boolean =\n            this.findSelectionIndex(sortedColumnSelection, column.name) !== -1\n          // for icon state\n          const columnIndex: number =\n            columnIconSortState[index] === undefined\n              ? 0\n              : columnIconSortState[index]\n          // we have to figure out if the current column is a facet selection\n          const facetIndex: number = facets.findIndex(\n            (facetColumnResult: FacetColumnResult) => {\n              return facetColumnResult.columnName === column.name\n            },\n          )\n          // the header must be included in the facets and it has to be enumerable for current rendering capabilities\n          const isFacetSelection: boolean =\n            facetIndex !== -1 && facets[facetIndex].facetType === 'enumeration'\n          const facet = facets[facetIndex] as FacetColumnResultValues\n          const isSelectedSpanClass = isSelected\n            ? 'SRC-primary-background-color SRC-anchor-light'\n            : ''\n          const isSelectedIconClass = isSelected\n            ? 'SRC-selected-table-icon tool-icon'\n            : 'SRC-primary-text-color tool-icon'\n          const sortSpanBackgoundClass = `SRC-tableHead SRC-hand-cursor SRC-sortPadding SRC-primary-background-color-hover  ${isSelectedSpanClass}`\n          const displayColumnName: string | undefined = getColumnDisplayName(\n            column.name,\n          )\n          const columnModel = columnModels.find(el => el.name === column.name)!\n          const isLockedColumn =\n            column.name.toLowerCase() ===\n            lockedColumn?.columnName?.toLowerCase() // used in details page to disable filter the column\n          const isEntityIDColumn =\n            columnModel &&\n            columnModel.name == 'id' &&\n            columnModel.columnType == ColumnTypeEnum.ENTITYID\n          return (\n            <th key={column.name}>\n              <div className=\"SRC-split\">\n                <span style={{ whiteSpace: 'nowrap' }}>\n                  {displayColumnName}\n                </span>\n                <div className=\"SRC-centerContent\">\n                  {isFacetSelection &&\n                    !isLockedColumn &&\n                    this.configureFacetDropdown(\n                      facet,\n                      columnModel,\n                      lastQueryRequest,\n                    )}\n                  {this.isSortableColumn(column.columnType) && (\n                    <span\n                      role=\"button\"\n                      aria-label=\"sort\"\n                      tabIndex={0}\n                      className={sortSpanBackgoundClass}\n                      onKeyPress={this.handleColumnSortPress({\n                        index,\n                        name: column.name,\n                      })}\n                      onClick={this.handleColumnSortPress({\n                        index,\n                        name: column.name,\n                      })}\n                    >\n                      <Icon\n                        type={ICON_STATE[columnIndex]}\n                        cssClass={isSelectedIconClass}\n                      ></Icon>\n                    </span>\n                  )}\n                  {isEntityIDColumn && <EntityIDColumnCopyIcon />}\n                </div>\n              </div>\n            </th>\n          )\n        } else {\n          return <th className=\"SRC-hidden\" key={column.name} />\n        }\n      },\n    )\n    // also push the access column if we are showing user access for individual items (must be logged in)\n    if (isShowingAccessColumn) {\n      tableColumnHeaderElements.unshift(\n        <th key=\"accessColumn\">\n          <div className=\"SRC-centerContent\">\n            <span style={{ whiteSpace: 'nowrap' }}>Access</span>\n          </div>\n        </th>,\n      )\n    }\n    // add direct download column if logged in\n    if (isShowingDownloadColumn) {\n      tableColumnHeaderElements.unshift(\n        <th key=\"downloadColumn\">\n          <div className=\"SRC-centerContent\">&nbsp;</div>\n        </th>,\n      )\n    }\n    if (isShowingAddToV2DownloadListColumn) {\n      tableColumnHeaderElements.unshift(\n        <th\n          data-testid=\"AddToDownloadListV2ColumnHeader\"\n          key=\"addToV2DownloadListColumn\"\n        >\n          <div className=\"SRC-centerContent\">&nbsp;</div>\n        </th>,\n      )\n    }\n    if (isRowSelectionVisible) {\n      tableColumnHeaderElements.unshift(\n        <th key=\"rowSelectionColumn\">\n          <div className=\"SRC-centerContent\">{/* checkboxes column */}</div>\n        </th>,\n      )\n    }\n    return tableColumnHeaderElements\n  }\n\n  /**\n   * Utility to search through array of objects and find object with key \"column\"\n   * equal to input parameter \"name\"\n   *\n   * @param {*} sortedColumnSelection\n   * @param {*} name\n   * @returns -1 if not present, otherwise the index of the object\n   * @memberof SynapseTable\n   */\n  private findSelectionIndex(sortedColumnSelection: SortItem[], name: string) {\n    if (sortedColumnSelection.length !== 0) {\n      // find if the current selection exists already and remove it\n      return sortedColumnSelection.findIndex(\n        (el: SortItem) => el.column === name,\n      )\n    }\n    return -1\n  }\n\n  // Direct user to corresponding query on synapse\n  private advancedSearch(event: React.SyntheticEvent) {\n    event && event.preventDefault()\n    const lastQueryRequest = this.props.queryContext.getLastQueryRequest()\n    const { query } = lastQueryRequest\n    // base 64 encode the json of the query and go to url with the encoded object\n    const encodedQuery = btoa(JSON.stringify(query))\n    const synTable = lastQueryRequest.entityId\n    window.open(\n      `${PRODUCTION_ENDPOINT_CONFIG.PORTAL}#!Synapse:${synTable}/tables/query/${encodedQuery}`,\n      '_blank',\n    )\n  }\n\n  private getLengthOfPropsData() {\n    const { data } = this.props.queryContext\n    return data?.queryResult?.queryResults.headers.length ?? 0\n  }\n\n  /**\n   * Show the dropdown menu for a column that has been faceted\n   *\n   * @param {number} index this is column index of the query table data\n   * @param {string} columnName this is the name of the column\n   * @param {FacetColumnResult[]} facetColumnResults\n   * @param {number} facetIndex\n   * @returns\n   * @memberof SynapseTable\n   */\n  public configureFacetDropdown(\n    facetColumnResult: FacetColumnResultValues,\n    columnModel: ColumnModel,\n    lastQueryRequest: QueryBundleRequest,\n  ) {\n    return (\n      <EnumFacetFilter\n        containerAs=\"Dropdown\"\n        facetValues={facetColumnResult.facetValues}\n        columnModel={columnModel}\n        onChange={facetNamesMap => {\n          applyMultipleChangesToValuesColumn(\n            lastQueryRequest,\n            facetColumnResult,\n            this.applyChangesFromQueryFilter,\n            facetNamesMap,\n          )\n        }}\n        onClear={() => {\n          applyChangesToValuesColumn(\n            lastQueryRequest,\n            facetColumnResult,\n            this.applyChangesFromQueryFilter,\n          )\n        }}\n      />\n    )\n  }\n\n  public applyChangesFromQueryFilter = (facets: FacetColumnRequest[]) => {\n    const queryRequest: QueryBundleRequest =\n      this.props.queryContext.getLastQueryRequest()\n    queryRequest.query.selectedFacets = facets\n    queryRequest.query.offset = 0\n    this.props.queryContext.executeQueryRequest(queryRequest)\n  }\n}\n\nexport default SynapseTable\n","import dayjs from 'dayjs'\nimport React from 'react'\nimport { formatDate } from '../../utils/functions/DateFormatter'\nimport { Typography } from '@mui/material'\nimport { useQueryVisualizationContext } from '../QueryVisualizationWrapper'\nimport { useQueryContext } from '../QueryContext/QueryContext'\n\nexport default function LastUpdatedOn() {\n  const { data } = useQueryContext()\n  const { showLastUpdatedOn } = useQueryVisualizationContext()\n  return showLastUpdatedOn && data && data.lastUpdatedOn ? (\n    <div\n      style={{\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'flex-end',\n      }}\n    >\n      <Typography variant=\"body1Italic\">\n        Last updated on {formatDate(dayjs(data.lastUpdatedOn))}\n      </Typography>\n    </div>\n  ) : (\n    <></>\n  )\n}\n","import React from 'react'\nimport CardContainer from '../CardContainer'\nimport SynapseTable, { SynapseTableProps } from '../SynapseTable'\nimport { CardConfiguration } from '../CardContainerLogic'\nimport { useQueryContext } from '../QueryContext'\nimport { useSynapseContext } from '../../utils'\nimport { useQueryVisualizationContext } from '../QueryVisualizationWrapper'\nimport LastUpdatedOn from './LastUpdatedOn'\n\nexport type FilterAndViewProps = {\n  tableConfiguration:\n    | Omit<\n        SynapseTableProps,\n        'synapseContext' | 'queryContext' | 'queryVisualizationContext'\n      >\n    | undefined\n  cardConfiguration: CardConfiguration | undefined\n  hideDownload?: boolean\n}\n\nconst FilterAndView = (props: FilterAndViewProps) => {\n  const { tableConfiguration, cardConfiguration, hideDownload } = props\n  const synapseContext = useSynapseContext()\n  const queryContext = useQueryContext()\n  const queryVisualizationContext = useQueryVisualizationContext()\n  return (\n    <div className={`FilterAndView`}>\n      {tableConfiguration ? (\n        <SynapseTable\n          {...tableConfiguration}\n          synapseContext={synapseContext}\n          queryContext={queryContext}\n          queryVisualizationContext={queryVisualizationContext}\n          hideDownload={hideDownload}\n        />\n      ) : (\n        <></>\n      )}\n      {cardConfiguration ? <CardContainer {...cardConfiguration} /> : <></>}\n      <LastUpdatedOn />\n    </div>\n  )\n}\n\nexport default FilterAndView\n","import {\n  getEntity,\n  getFileHandleContent,\n  getFiles,\n} from '../../synapse-client/SynapseClient'\nimport { FileEntity } from '@sage-bionetworks/synapse-types'\nimport { Entity } from '@sage-bionetworks/synapse-types'\nimport { BatchFileResult } from '@sage-bionetworks/synapse-types'\nimport { FileHandle } from '@sage-bionetworks/synapse-types'\nimport { BatchFileRequest } from '@sage-bionetworks/synapse-types'\nimport {\n  FileHandleAssociation,\n  FileHandleAssociateType,\n} from '@sage-bionetworks/synapse-types'\n\nconst ESTIMATED_CORS_TIME_MS: number = 200\nconst ESTIMATED_DOWNLOAD_SPEED_EXPIRE_TIME_KEY: string =\n  'ESTIMATED_DOWNLOAD_SPEED_EXPIRE_TIME'\nconst ESTIMATED_DOWNLOAD_SPEED_KEY: string = 'ESTIMATED_DOWNLOAD_SPEED'\nconst TEST_FILE_ENTITY_ID: string = 'syn12600511'\n/**\n * Return the estimated download speed (bytes/second).  Result is cached.\n * Result is crude estimate since it's a single test file (small sample, only ~2MB), but is a valid test (since it's a Synapse file on s3).\n * The intent is to let the user know if the package download will take many hours to download.\n * @param accessToken\n */\nexport const testDownloadSpeed = (accessToken: string): Promise<number> => {\n  return new Promise((resolve, reject) => {\n    // check cache\n    const cachedSpeedExpireTime = localStorage.getItem(\n      ESTIMATED_DOWNLOAD_SPEED_EXPIRE_TIME_KEY,\n    )\n    const cachedSpeed = localStorage.getItem(ESTIMATED_DOWNLOAD_SPEED_KEY)\n    if (cachedSpeedExpireTime && cachedSpeed) {\n      // is this value expired?\n      const now: number = new Date().getTime()\n      if (now < Number(cachedSpeedExpireTime)) {\n        resolve(Number(cachedSpeed))\n        return\n      }\n    }\n\n    /**\n     * 1.  Get the test File Entity\n     * 2.  Get the file handle and presigned URL associated to the latest version of the test File Entity\n     * 3.  Start the timer and fetch the file content using that presigned URL\n     */\n    getEntity(accessToken, TEST_FILE_ENTITY_ID)\n      .then((entity: Entity) => {\n        const fileEntity: FileEntity = entity as FileEntity\n        const fileHandleAssociationList: FileHandleAssociation[] = [\n          {\n            associateObjectId: fileEntity.id!,\n            associateObjectType: FileHandleAssociateType.FileEntity,\n            fileHandleId: fileEntity.dataFileHandleId,\n          },\n        ]\n        const request: BatchFileRequest = {\n          includeFileHandles: true,\n          includePreSignedURLs: true,\n          includePreviewPreSignedURLs: false,\n          requestedFiles: fileHandleAssociationList,\n        }\n        getFiles(request, accessToken).then((data: BatchFileResult) => {\n          const presignedUrl: string = data.requestedFiles[0].preSignedURL!\n          // we know this file exists\n          const fileHandle: FileHandle = data.requestedFiles[0].fileHandle!\n          // start test!\n          const startMs = new Date().getTime()\n          return getFileHandleContent(fileHandle, presignedUrl).then(() => {\n            // console.log(`Transferred ${fileHandle.contentSize/1000000} MB in ${((new Date().getTime() - startMs - ESTIMATED_CORS_TIME_MS)/1000)} seconds`)\n            // bytes/second\n            const result =\n              fileHandle.contentSize /\n              ((new Date().getTime() - startMs - ESTIMATED_CORS_TIME_MS) / 1000)\n            // save result in cache (for 5 minutes)\n            const now: number = new Date().getTime()\n            localStorage.setItem(\n              ESTIMATED_DOWNLOAD_SPEED_EXPIRE_TIME_KEY,\n              (now + 1000 * 60 * 5).toString(),\n            )\n            localStorage.setItem(\n              ESTIMATED_DOWNLOAD_SPEED_KEY,\n              result.toString(),\n            )\n            resolve(result)\n          })\n        })\n      })\n      .catch(err => reject(err))\n  })\n}\n","!function(t,s){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=s():\"function\"==typeof define&&define.amd?define(s):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs_plugin_duration=s()}(this,(function(){\"use strict\";var t,s,n=1e3,i=6e4,e=36e5,r=864e5,o=/\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,u=31536e6,h=2592e6,a=/^(-|\\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,d={years:u,months:h,days:r,hours:e,minutes:i,seconds:n,milliseconds:1,weeks:6048e5},c=function(t){return t instanceof p},f=function(t,s,n){return new p(t,n,s.$l)},m=function(t){return s.p(t)+\"s\"},l=function(t){return t<0},$=function(t){return l(t)?Math.ceil(t):Math.floor(t)},y=function(t){return Math.abs(t)},g=function(t,s){return t?l(t)?{negative:!0,format:\"\"+y(t)+s}:{negative:!1,format:\"\"+t+s}:{negative:!1,format:\"\"}},p=function(){function l(t,s,n){var i=this;if(this.$d={},this.$l=n,void 0===t&&(this.$ms=0,this.parseFromMilliseconds()),s)return f(t*d[m(s)],this);if(\"number\"==typeof t)return this.$ms=t,this.parseFromMilliseconds(),this;if(\"object\"==typeof t)return Object.keys(t).forEach((function(s){i.$d[m(s)]=t[s]})),this.calMilliseconds(),this;if(\"string\"==typeof t){var e=t.match(a);if(e){var r=e.slice(2).map((function(t){return null!=t?Number(t):0}));return this.$d.years=r[0],this.$d.months=r[1],this.$d.weeks=r[2],this.$d.days=r[3],this.$d.hours=r[4],this.$d.minutes=r[5],this.$d.seconds=r[6],this.calMilliseconds(),this}}return this}var y=l.prototype;return y.calMilliseconds=function(){var t=this;this.$ms=Object.keys(this.$d).reduce((function(s,n){return s+(t.$d[n]||0)*d[n]}),0)},y.parseFromMilliseconds=function(){var t=this.$ms;this.$d.years=$(t/u),t%=u,this.$d.months=$(t/h),t%=h,this.$d.days=$(t/r),t%=r,this.$d.hours=$(t/e),t%=e,this.$d.minutes=$(t/i),t%=i,this.$d.seconds=$(t/n),t%=n,this.$d.milliseconds=t},y.toISOString=function(){var t=g(this.$d.years,\"Y\"),s=g(this.$d.months,\"M\"),n=+this.$d.days||0;this.$d.weeks&&(n+=7*this.$d.weeks);var i=g(n,\"D\"),e=g(this.$d.hours,\"H\"),r=g(this.$d.minutes,\"M\"),o=this.$d.seconds||0;this.$d.milliseconds&&(o+=this.$d.milliseconds/1e3);var u=g(o,\"S\"),h=t.negative||s.negative||i.negative||e.negative||r.negative||u.negative,a=e.format||r.format||u.format?\"T\":\"\",d=(h?\"-\":\"\")+\"P\"+t.format+s.format+i.format+a+e.format+r.format+u.format;return\"P\"===d||\"-P\"===d?\"P0D\":d},y.toJSON=function(){return this.toISOString()},y.format=function(t){var n=t||\"YYYY-MM-DDTHH:mm:ss\",i={Y:this.$d.years,YY:s.s(this.$d.years,2,\"0\"),YYYY:s.s(this.$d.years,4,\"0\"),M:this.$d.months,MM:s.s(this.$d.months,2,\"0\"),D:this.$d.days,DD:s.s(this.$d.days,2,\"0\"),H:this.$d.hours,HH:s.s(this.$d.hours,2,\"0\"),m:this.$d.minutes,mm:s.s(this.$d.minutes,2,\"0\"),s:this.$d.seconds,ss:s.s(this.$d.seconds,2,\"0\"),SSS:s.s(this.$d.milliseconds,3,\"0\")};return n.replace(o,(function(t,s){return s||String(i[t])}))},y.as=function(t){return this.$ms/d[m(t)]},y.get=function(t){var s=this.$ms,n=m(t);return\"milliseconds\"===n?s%=1e3:s=\"weeks\"===n?$(s/d[n]):this.$d[n],0===s?0:s},y.add=function(t,s,n){var i;return i=s?t*d[m(s)]:c(t)?t.$ms:f(t,this).$ms,f(this.$ms+i*(n?-1:1),this)},y.subtract=function(t,s){return this.add(t,s,!0)},y.locale=function(t){var s=this.clone();return s.$l=t,s},y.clone=function(){return f(this.$ms,this)},y.humanize=function(s){return t().add(this.$ms,\"ms\").locale(this.$l).fromNow(!s)},y.milliseconds=function(){return this.get(\"milliseconds\")},y.asMilliseconds=function(){return this.as(\"milliseconds\")},y.seconds=function(){return this.get(\"seconds\")},y.asSeconds=function(){return this.as(\"seconds\")},y.minutes=function(){return this.get(\"minutes\")},y.asMinutes=function(){return this.as(\"minutes\")},y.hours=function(){return this.get(\"hours\")},y.asHours=function(){return this.as(\"hours\")},y.days=function(){return this.get(\"days\")},y.asDays=function(){return this.as(\"days\")},y.weeks=function(){return this.get(\"weeks\")},y.asWeeks=function(){return this.as(\"weeks\")},y.months=function(){return this.get(\"months\")},y.asMonths=function(){return this.as(\"months\")},y.years=function(){return this.get(\"years\")},y.asYears=function(){return this.as(\"years\")},l}();return function(n,i,e){t=e,s=e().$utils(),e.duration=function(t,s){var n=e.locale();return f(t,{$l:n},s)},e.isDuration=c;var r=i.prototype.add,o=i.prototype.subtract;i.prototype.add=function(t,s){return c(t)&&(t=t.asMilliseconds()),r.bind(this)(t,s)},i.prototype.subtract=function(t,s){return c(t)&&(t=t.asMilliseconds()),o.bind(this)(t,s)}}}));","!function(r,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(r=\"undefined\"!=typeof globalThis?globalThis:r||self).dayjs_plugin_relativeTime=e()}(this,(function(){\"use strict\";return function(r,e,t){r=r||{};var n=e.prototype,o={future:\"in %s\",past:\"%s ago\",s:\"a few seconds\",m:\"a minute\",mm:\"%d minutes\",h:\"an hour\",hh:\"%d hours\",d:\"a day\",dd:\"%d days\",M:\"a month\",MM:\"%d months\",y:\"a year\",yy:\"%d years\"};function i(r,e,t,o){return n.fromToBase(r,e,t,o)}t.en.relativeTime=o,n.fromToBase=function(e,n,i,d,u){for(var f,a,s,l=i.$locale().relativeTime||o,h=r.thresholds||[{l:\"s\",r:44,d:\"second\"},{l:\"m\",r:89},{l:\"mm\",r:44,d:\"minute\"},{l:\"h\",r:89},{l:\"hh\",r:21,d:\"hour\"},{l:\"d\",r:35},{l:\"dd\",r:25,d:\"day\"},{l:\"M\",r:45},{l:\"MM\",r:10,d:\"month\"},{l:\"y\",r:17},{l:\"yy\",d:\"year\"}],m=h.length,c=0;c<m;c+=1){var y=h[c];y.d&&(f=d?t(e).diff(i,y.d,!0):i.diff(e,y.d,!0));var p=(r.rounding||Math.round)(Math.abs(f));if(s=f>0,p<=y.r||!y.r){p<=1&&c>0&&(y=h[c-1]);var v=l[y.l];u&&(p=u(\"\"+p)),a=\"string\"==typeof v?v.replace(\"%d\",p):v(p,n,y.l,s);break}}if(n)return a;var M=s?l.future:l.past;return\"function\"==typeof M?M(a):M.replace(\"%s\",a)},n.to=function(r,e){return i(r,e,this,!0)},n.from=function(r,e){return i(r,e,this)};var d=function(r){return r.$u?t.utc():t()};n.toNow=function(r){return this.to(d(this),r)},n.fromNow=function(r){return this.from(d(this),r)}}}));","import React, { useState, useEffect } from 'react'\nimport { testDownloadSpeed } from '../../utils/functions/testDownloadSpeed'\nimport { calculateFriendlyFileSize } from '../../utils/functions/calculateFriendlyFileSize'\nimport dayjs from 'dayjs'\nimport { TOOLTIP_DELAY_SHOW } from '../SynapseTable/SynapseTableConstants'\nimport { useSynapseContext } from '../../utils/context/SynapseContext'\nimport { SkeletonInlineBlock } from '../Skeleton/SkeletonInlineBlock'\nimport {\n  InsertDriveFileTwoTone,\n  LayersTwoTone,\n  WatchLaterTwoTone,\n} from '@mui/icons-material'\nimport { Tooltip } from '@mui/material'\nimport duration from 'dayjs/plugin/duration'\nimport relativeTime from 'dayjs/plugin/relativeTime'\n\ndayjs.extend(duration)\ndayjs.extend(relativeTime)\n\nexport type DownloadDetailsProps = {\n  numFiles: number\n  numBytes?: number\n}\n\ntype State = {\n  isLoading: boolean\n  downloadSpeed: number\n}\n\n/**\n * Displays download information including number of files, size of download, and time to download.\n * Prefer to use {@link ../DownloadCart/DownloadDetails} instead, particularly when you have information about file packaging in/eligibility\n * @param props\n * @returns\n */\nexport default function DownloadDetails(props: DownloadDetailsProps) {\n  const { numFiles, numBytes } = props\n  const { accessToken } = useSynapseContext()\n  const hasNumBytes = !!numBytes\n\n  const [state, setState] = useState<State>({\n    isLoading: hasNumBytes, // figure out the estimated download time iff we were given a byte count\n    downloadSpeed: 0,\n  })\n  const { isLoading, downloadSpeed } = state\n\n  useEffect(() => {\n    if (accessToken) {\n      testDownloadSpeed(accessToken).then(speed => {\n        setState({\n          isLoading: false,\n          downloadSpeed: speed,\n        })\n      })\n    }\n  }, [accessToken])\n\n  const timeEstimateInSeconds =\n    isLoading || downloadSpeed === 0 || !numBytes ? 0 : numBytes / downloadSpeed\n  const isTimeEstimateLoading = timeEstimateInSeconds === 0\n  const friendlyTime = isTimeEstimateLoading\n    ? ''\n    : dayjs.duration({ seconds: timeEstimateInSeconds }).humanize()\n\n  const isZeroFiles = numFiles === 0\n  const fileCountIconClass = isZeroFiles\n    ? 'SRC-inactive'\n    : 'SRC-primary-text-color'\n\n  const timeEstimateIconClass = isTimeEstimateLoading\n    ? 'SRC-inactive'\n    : 'SRC-primary-text-color'\n  return (\n    <span className=\"download-details-container\">\n      <span>\n        <InsertDriveFileTwoTone className={fileCountIconClass} />\n        {isZeroFiles ? (\n          <SkeletonInlineBlock width={50} />\n        ) : (\n          <>{numFiles.toLocaleString()}&nbsp;files</>\n        )}\n      </span>\n      {hasNumBytes && (\n        <Tooltip\n          title=\"This is the total size of all files. Zipped package(s) will likely be smaller.\"\n          enterNextDelay={TOOLTIP_DELAY_SHOW}\n          placement=\"top\"\n        >\n          <span data-testid=\"numBytesUI\">\n            <LayersTwoTone className={timeEstimateIconClass} />\n            {isTimeEstimateLoading ? (\n              <SkeletonInlineBlock width={50} />\n            ) : (\n              calculateFriendlyFileSize(numBytes)\n            )}\n          </span>\n        </Tooltip>\n      )}\n      {hasNumBytes && (\n        <Tooltip\n          title=\"This is an estimate of how long package download will take.\"\n          enterNextDelay={TOOLTIP_DELAY_SHOW}\n          placement=\"top\"\n        >\n          <span data-testid=\"downloadTimeEstimateUI\">\n            <WatchLaterTwoTone className={timeEstimateIconClass} />\n            {isLoading && numFiles > 0 ? (\n              <SkeletonInlineBlock width={50} />\n            ) : (\n              friendlyTime\n            )}\n          </span>\n        </Tooltip>\n      )}\n    </span>\n  )\n}\n","import React, { useMemo } from 'react'\nimport { Alert, AlertProps, Box, Button, Typography } from '@mui/material'\nimport { useSynapseContext } from '../../utils'\nimport SignInButton from '../SignInButton'\nimport DownloadDetails from './DownloadDetails'\nimport { useGetDownloadListStatistics } from '../../synapse-queries'\n\nenum StatusEnum {\n  LOADING_INFO,\n  PROCESSING,\n  INFO,\n  INFO_ITEMS_IN_LIST,\n  SIGNED_OUT,\n}\n\nexport type DownloadConfirmationUIProps = {\n  onAddToDownloadCart: () => void\n  fileCount: number\n  fileSize?: number\n  onCancel: () => void\n  isLoadingStats?: boolean\n  isAddingToDownloadCart?: boolean\n}\n\ntype UiStateDictionary = {\n  [key: string]: {\n    severity: AlertProps['severity']\n    infoText: string | JSX.Element\n    closeText: string\n  }\n}\n\n// css classes, text, and close button text associated with different stages\nconst StatusConstruct: UiStateDictionary = {\n  [StatusEnum.INFO]: {\n    severity: 'info',\n    infoText: 'Would you like to add these files to the download cart?',\n    closeText: 'Cancel',\n  },\n  [StatusEnum.INFO_ITEMS_IN_LIST]: {\n    severity: 'info',\n    infoText: (\n      <>\n        Note: Files that you add will be mixed in with the files already in your\n        download cart.\n        <br />\n        If you don&apos;t want to mix these files, clear your download cart\n        before continuing.\n      </>\n    ),\n    closeText: 'Cancel',\n  },\n  [StatusEnum.PROCESSING]: {\n    severity: 'info',\n    infoText: 'Adding files to download cart',\n    closeText: 'Cancel',\n  },\n\n  [StatusEnum.LOADING_INFO]: {\n    severity: 'info',\n    infoText: 'Calculating file size',\n    closeText: 'Cancel',\n  },\n  [StatusEnum.SIGNED_OUT]: {\n    severity: 'error',\n    closeText: 'Close',\n    infoText: (\n      <>\n        Please <SignInButton /> to add files to your download cart.\n      </>\n    ),\n  },\n}\n\ntype DownloadConfirmationContentProps = {\n  status: StatusEnum\n  fileCount: number\n  fileSize?: number\n}\n\nfunction DownloadConfirmationContent(props: DownloadConfirmationContentProps) {\n  const { status, fileCount, fileSize } = props\n  switch (status) {\n    case StatusEnum.LOADING_INFO:\n    case StatusEnum.PROCESSING:\n      return (\n        <>\n          <div className={'spinner white'} />\n          <Typography variant={'smallText1'}>\n            {StatusConstruct[status].infoText}\n          </Typography>\n        </>\n      )\n\n    case StatusEnum.SIGNED_OUT:\n      return (\n        <Typography variant={'smallText1'}>\n          {StatusConstruct[status].infoText}\n        </Typography>\n      )\n    case StatusEnum.INFO:\n    case StatusEnum.INFO_ITEMS_IN_LIST:\n      return (\n        <>\n          <DownloadDetails\n            numFiles={fileCount}\n            numBytes={fileSize}\n          ></DownloadDetails>\n          <Typography variant={'smallText1'} sx={{ flexGrow: 1 }}>\n            {StatusConstruct[status].infoText}\n          </Typography>\n        </>\n      )\n\n    default:\n      return <></>\n  }\n}\n\n/**\n * This component is used to display the download confirmation dialog that presents to a user the number of files and the\n * total size of the files they are about to add to their download cart.\n */\nexport function DownloadConfirmationUI(props: DownloadConfirmationUIProps) {\n  const {\n    onAddToDownloadCart,\n    onCancel,\n    fileCount,\n    fileSize,\n    isLoadingStats = false,\n    isAddingToDownloadCart = false,\n  } = props\n  const { accessToken } = useSynapseContext()\n\n  const { data: downloadListStatistics } = useGetDownloadListStatistics()\n\n  const status = useMemo(() => {\n    if (!accessToken) return StatusEnum.SIGNED_OUT\n    if (isLoadingStats) return StatusEnum.LOADING_INFO\n    if (isAddingToDownloadCart) return StatusEnum.PROCESSING\n    if (downloadListStatistics && downloadListStatistics.totalNumberOfFiles > 0)\n      return StatusEnum.INFO_ITEMS_IN_LIST\n    return StatusEnum.INFO\n  }, [\n    accessToken,\n    isLoadingStats,\n    isAddingToDownloadCart,\n    downloadListStatistics,\n  ])\n\n  return (\n    <>\n      <Alert\n        sx={{\n          pr: 4,\n          py: 1,\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n        }}\n        icon={StatusConstruct[status].severity === 'error' ? undefined : false}\n        severity={StatusConstruct[status].severity}\n        className={`download-confirmation`}\n        action={\n          <>\n            {status !== StatusEnum.PROCESSING && (\n              <Button variant=\"text\" color=\"primary\" onClick={onCancel}>\n                {StatusConstruct[status].closeText}\n              </Button>\n            )}\n\n            {(status === StatusEnum.INFO ||\n              status === StatusEnum.INFO_ITEMS_IN_LIST) && (\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => {\n                  onAddToDownloadCart()\n                }}\n                sx={{ ml: '5px' }}\n              >\n                Add\n              </Button>\n            )}\n          </>\n        }\n      >\n        <Box display=\"flex\" alignItems={'center'} gap={1}>\n          <DownloadConfirmationContent\n            status={status}\n            fileCount={fileCount}\n            fileSize={fileSize}\n          />\n        </Box>\n      </Alert>\n    </>\n  )\n}\n","import { displayToast } from '../ToastMessage'\n\nexport function displayFilesWereAddedToDownloadListSuccess(\n  downloadCartPageUrl: string,\n) {\n  displayToast(\n    'File(s) were successfully added to your Download Cart.',\n    'success',\n    {\n      primaryButtonConfig: {\n        text: 'View Download Cart',\n        onClick: () => {\n          window.location.href = downloadCartPageUrl\n        },\n      },\n    },\n  )\n}\n","import React from 'react'\nimport { useSynapseContext } from '../../utils'\nimport {\n  useAddQueryToDownloadList,\n  useGetEntityChildren,\n} from '../../synapse-queries'\nimport { displayToast } from '../ToastMessage'\nimport { DownloadConfirmationUI } from './DownloadConfirmationUI'\nimport { displayFilesWereAddedToDownloadListSuccess } from './DownloadConfirmationUtils'\nimport { EntityType } from '@sage-bionetworks/synapse-types'\n\nexport type FolderDownloadConfirmationProps = {\n  folderId: string\n  fnClose: () => void\n}\n\nexport function FolderDownloadConfirmation(\n  props: FolderDownloadConfirmationProps,\n) {\n  const { folderId, fnClose } = props\n  const { downloadCartPageUrl } = useSynapseContext()\n\n  const { data: entityChildrenData, isLoading: isLoadingStats } =\n    useGetEntityChildren({\n      parentId: folderId,\n      includeSumFileSizes: true,\n      includeTotalChildCount: true,\n      includeTypes: [EntityType.FILE],\n    })\n\n  const fileCount = entityChildrenData?.totalChildCount ?? 0\n  const fileSizeTotal = entityChildrenData?.sumFileSizesBytes\n\n  const { mutate: addToDownloadList, isLoading: isAddingToDownloadCart } =\n    useAddQueryToDownloadList({\n      onSuccess: () => {\n        displayFilesWereAddedToDownloadListSuccess(downloadCartPageUrl)\n        fnClose()\n      },\n      onError: error => {\n        displayToast(error.reason, 'danger')\n        fnClose()\n      },\n    })\n\n  return (\n    <DownloadConfirmationUI\n      onAddToDownloadCart={() =>\n        addToDownloadList({\n          parentId: folderId,\n          concreteType:\n            'org.sagebionetworks.repo.model.download.AddToDownloadListRequest',\n        })\n      }\n      fileCount={fileCount}\n      fileSize={fileSizeTotal}\n      isAddingToDownloadCart={isAddingToDownloadCart}\n      isLoadingStats={isLoadingStats}\n      onCancel={fnClose}\n    />\n  )\n}\n","import React, { useMemo } from 'react'\nimport { SynapseConstants, useSynapseContext } from '../../utils'\nimport {\n  useAddQueryToDownloadList,\n  useGetQueryResultBundleWithAsyncStatus,\n} from '../../synapse-queries'\nimport { displayToast } from '../ToastMessage'\nimport { DownloadConfirmationUI } from './DownloadConfirmationUI'\nimport { useQueryContext } from '../QueryContext'\nimport { useQueryVisualizationContext } from '../QueryVisualizationWrapper'\nimport { displayFilesWereAddedToDownloadListSuccess } from './DownloadConfirmationUtils'\nimport { getPrimaryKeyINFilter } from '../../utils/functions/QueryFilterUtils'\n\nexport function TableQueryDownloadConfirmation() {\n  const { data, getLastQueryRequest } = useQueryContext()\n  const {\n    setShowDownloadConfirmation,\n    hasSelectedRows,\n    selectedRows,\n    rowSelectionPrimaryKey,\n  } = useQueryVisualizationContext()\n  const queryBundleRequest = useMemo(() => {\n    const requestCopy = getLastQueryRequest()\n    requestCopy.partMask =\n      SynapseConstants.BUNDLE_MASK_QUERY_COUNT |\n      SynapseConstants.BUNDLE_MASK_SUM_FILES_SIZE_BYTES\n\n    if (hasSelectedRows && rowSelectionPrimaryKey && data?.columnModels) {\n      requestCopy.query.additionalFilters = [\n        ...(requestCopy.query.additionalFilters || []),\n        getPrimaryKeyINFilter(\n          rowSelectionPrimaryKey,\n          selectedRows,\n          data.columnModels,\n        ),\n      ]\n    }\n    return requestCopy\n  }, [\n    data?.columnModels,\n    getLastQueryRequest,\n    hasSelectedRows,\n    rowSelectionPrimaryKey,\n    selectedRows,\n  ])\n  const { downloadCartPageUrl } = useSynapseContext()\n\n  function onClose() {\n    setShowDownloadConfirmation(false)\n  }\n\n  const { mutate: addToDownloadList, isLoading: isAddingToDownloadCart } =\n    useAddQueryToDownloadList({\n      onSuccess: () => {\n        displayFilesWereAddedToDownloadListSuccess(downloadCartPageUrl)\n        onClose()\n      },\n      onError: error => {\n        displayToast(error.reason, 'danger')\n        onClose()\n      },\n    })\n\n  const { data: queryResultResponse, isLoading: isLoadingStats } =\n    useGetQueryResultBundleWithAsyncStatus(queryBundleRequest)\n\n  const fileCount = queryResultResponse?.responseBody?.queryCount ?? 0\n  const fileSizeTotal = queryResultResponse?.responseBody?.sumFileSizes\n    ?.greaterThan\n    ? undefined\n    : queryResultResponse?.responseBody?.sumFileSizes?.sumFileSizesBytes\n\n  return (\n    <DownloadConfirmationUI\n      onAddToDownloadCart={() =>\n        addToDownloadList({\n          query: queryBundleRequest?.query,\n          concreteType:\n            'org.sagebionetworks.repo.model.download.AddToDownloadListRequest',\n        })\n      }\n      fileCount={fileCount}\n      fileSize={fileSizeTotal}\n      isAddingToDownloadCart={isAddingToDownloadCart}\n      isLoadingStats={isLoadingStats}\n      onCancel={onClose}\n    />\n  )\n}\n","import React from 'react'\nimport { SynapseConstants } from '../../utils'\nimport { isTable } from '../../utils/functions/EntityTypeUtils'\nimport {\n  getAdditionalFilters,\n  parseEntityIdFromSqlStatement,\n  SQLOperator,\n} from '../../utils/functions'\nimport { useGetEntity } from '../../synapse-queries'\nimport { DEFAULT_PAGE_SIZE } from '../../utils/SynapseConstants'\nimport { Query, QueryBundleRequest } from '@sage-bionetworks/synapse-types'\nimport { CardConfiguration } from '../CardContainerLogic'\nimport FullTextSearch from '../FullTextSearch'\nimport ModalDownload from '../ModalDownload/ModalDownload'\nimport {\n  QueryVisualizationContextConsumer,\n  QueryVisualizationWrapper,\n  QueryVisualizationWrapperProps,\n} from '../QueryVisualizationWrapper'\nimport {\n  QueryWrapper as PaginatedQueryWrapper,\n  QueryWrapperProps,\n} from '../QueryWrapper/QueryWrapper'\nimport { InfiniteQueryWrapper } from '../InfiniteQueryWrapper'\nimport { QueryContextConsumer } from '../QueryContext'\nimport { QueryWrapperErrorBanner } from '../QueryWrapperErrorBanner'\nimport SearchV2, { SearchV2Props } from '../SearchV2'\nimport SqlEditor from '../SqlEditor'\nimport { SynapseTableProps } from '../SynapseTable'\nimport TopLevelControls, {\n  TopLevelControlsProps,\n} from '../SynapseTable/TopLevelControls/TopLevelControls'\nimport FacetNav, { FacetNavProps } from '../widgets/facet-nav/FacetNav'\nimport FacetFilterControls, {\n  FacetFilterControlsProps,\n} from '../widgets/query-filter/FacetFilterControls'\nimport FilterAndView from './FilterAndView'\nimport { NoContentPlaceholderType } from '../SynapseTable/NoContentPlaceholderType'\nimport { Box } from '@mui/material'\nimport { SynapseErrorBoundary } from '../error/ErrorBanner'\nimport { TableQueryDownloadConfirmation } from '../download_list'\n\nexport const QUERY_FILTERS_EXPANDED_CSS: string = 'isShowingFacetFilters'\nexport const QUERY_FILTERS_COLLAPSED_CSS: string = 'isHidingFacetFilters'\n\ntype QueryWrapperPlotNavOwnProps = {\n  sql: string\n  limit?: number\n  shouldDeepLink?: boolean\n  /** If onQueryChange is set, the callback will be invoked when the Query changes */\n  onQueryChange?: (newQueryJson: string) => void\n  /** If onQueryResultBundleChange is set, the callback will be invoked when the QueryResultBundle changes */\n  onQueryResultBundleChange?: (newQueryResultBundleJson: string) => void\n  /** If initQueryJson is set, it will be the Query used in the initial QueryBundleRequest */\n  initQueryJson?: string\n  tableConfiguration?: Omit<\n    SynapseTableProps,\n    'synapseContext' | 'queryContext' | 'queryVisualizationContext'\n  >\n  cardConfiguration?: CardConfiguration\n  searchConfiguration?: Omit<\n    SearchV2Props,\n    'queryContext' | 'queryVisualizationContext'\n  >\n  facetsToPlot?: string[]\n  availableFacets?: FacetFilterControlsProps['availableFacets']\n  defaultColumn?: string\n  defaultShowSearchBox?: boolean\n  lockedColumn?: QueryWrapperProps['lockedColumn']\n  onViewSharingSettingsClicked?: (benefactorId: string) => void\n} & Omit<TopLevelControlsProps, 'entityId'> &\n  Pick<\n    QueryVisualizationWrapperProps,\n    | 'defaultShowFacetVisualization'\n    | 'visibleColumnCount'\n    | 'columnAliases'\n    | 'rgbIndex'\n    | 'showLastUpdatedOn'\n    | 'noContentPlaceholderType'\n    | 'isRowSelectionVisible'\n    | 'unitDescription'\n    | 'rowSelectionPrimaryKey'\n  >\n\nexport type SearchParams = {\n  searchParams?: {\n    facetValue: string\n  }\n}\nexport type Operator = {\n  sqlOperator?: SQLOperator\n}\n\nexport type QueryWrapperPlotNavProps = SearchParams &\n  FacetNavProps &\n  Operator &\n  QueryWrapperPlotNavOwnProps\n\nconst QueryWrapperPlotNav: React.FunctionComponent<QueryWrapperPlotNavProps> = (\n  props: QueryWrapperPlotNavProps,\n) => {\n  const [showExportMetadata, setShowExportMetadata] = React.useState(false)\n  const {\n    searchParams,\n    sql,\n    sqlOperator,\n    tableConfiguration,\n    name,\n    cardConfiguration,\n    facetsToPlot,\n    availableFacets,\n    hideDownload,\n    hideQueryCount,\n    hideSqlEditorControl,\n    searchConfiguration,\n    limit = DEFAULT_PAGE_SIZE,\n    initQueryJson,\n    showLastUpdatedOn,\n    showExportToCavatica = false,\n    cavaticaHelpURL,\n    customControls,\n    isRowSelectionVisible,\n    unitDescription,\n    rowSelectionPrimaryKey,\n  } = props\n\n  const entityId = parseEntityIdFromSqlStatement(sql)\n  const additionalFilters = getAdditionalFilters(\n    entityId,\n    searchParams,\n    sqlOperator,\n  )\n  // use initQuery if set, otherwise use sql\n  const query: Query = initQueryJson\n    ? (JSON.parse(initQueryJson) as Query)\n    : {\n        sql,\n        additionalFilters,\n        limit: limit,\n        offset: 0,\n      }\n\n  const { data: entity } = useGetEntity(entityId)\n  const isFullTextSearchEnabled =\n    entity && isTable(entity) && entity.isSearchEnabled\n  const initQueryRequest: QueryBundleRequest = {\n    entityId,\n    concreteType: 'org.sagebionetworks.repo.model.table.QueryBundleRequest',\n    partMask:\n      SynapseConstants.BUNDLE_MASK_QUERY_RESULTS |\n      SynapseConstants.BUNDLE_MASK_QUERY_COUNT |\n      SynapseConstants.BUNDLE_MASK_QUERY_SELECT_COLUMNS |\n      SynapseConstants.BUNDLE_MASK_QUERY_MAX_ROWS_PER_PAGE |\n      SynapseConstants.BUNDLE_MASK_QUERY_COLUMN_MODELS |\n      SynapseConstants.BUNDLE_MASK_QUERY_FACETS |\n      SynapseConstants.BUNDLE_MASK_SUM_FILES_SIZE_BYTES |\n      SynapseConstants.BUNDLE_MASK_LAST_UPDATED_ON,\n    query,\n  }\n  const QueryWrapper = tableConfiguration\n    ? PaginatedQueryWrapper\n    : InfiniteQueryWrapper\n\n  return (\n    <QueryWrapper {...props} initQueryRequest={initQueryRequest}>\n      <QueryVisualizationWrapper\n        unitDescription={unitDescription}\n        rowSelectionPrimaryKey={rowSelectionPrimaryKey}\n        rgbIndex={props.rgbIndex}\n        columnAliases={props.columnAliases}\n        visibleColumnCount={props.visibleColumnCount}\n        defaultShowFacetVisualization={props.defaultShowFacetVisualization}\n        defaultShowSearchBar={\n          props.defaultShowSearchBox || isFullTextSearchEnabled\n        }\n        showLastUpdatedOn={showLastUpdatedOn}\n        noContentPlaceholderType={NoContentPlaceholderType.INTERACTIVE}\n        isRowSelectionVisible={isRowSelectionVisible}\n      >\n        <QueryContextConsumer>\n          {queryContext => {\n            if (queryContext === undefined) {\n              throw new Error(\n                'No queryContext found when using QueryContextConsumer',\n              )\n            }\n\n            const { isFacetsAvailable: isFaceted, isLoadingNewBundle } =\n              queryContext\n\n            return (\n              <QueryVisualizationContextConsumer>\n                {queryVisualizationContext => {\n                  if (queryVisualizationContext === undefined) {\n                    throw new Error(\n                      'No queryVisualizationContext found when using QueryVisualizationContextConsumer',\n                    )\n                  }\n\n                  return (\n                    <Box\n                      className={`QueryWrapperPlotNav ${\n                        queryVisualizationContext.showFacetFilter\n                          ? QUERY_FILTERS_EXPANDED_CSS\n                          : QUERY_FILTERS_COLLAPSED_CSS\n                      }`}\n                      sx={{\n                        '*': {\n                          cursor: isLoadingNewBundle ? 'wait' : undefined,\n                        },\n                      }}\n                    >\n                      <div className={`ErrorBannerWrapper`}>\n                        <QueryWrapperErrorBanner />\n                      </div>\n                      {isFullTextSearchEnabled ? (\n                        <FullTextSearch\n                          helpUrl={searchConfiguration?.fullTextSearchHelpURL}\n                        />\n                      ) : (\n                        <SearchV2\n                          {...searchConfiguration}\n                          queryContext={queryContext}\n                          queryVisualizationContext={queryVisualizationContext}\n                        />\n                      )}\n                      <SqlEditor />\n                      {queryVisualizationContext.showDownloadConfirmation && (\n                        <TableQueryDownloadConfirmation />\n                      )}\n                      <SynapseErrorBoundary>\n                        <TopLevelControls\n                          showColumnSelection={tableConfiguration !== undefined}\n                          name={name}\n                          hideDownload={hideDownload}\n                          hideQueryCount={hideQueryCount}\n                          hideFacetFilterControl={!isFaceted}\n                          hideVisualizationsControl={!isFaceted}\n                          hideSqlEditorControl={hideSqlEditorControl}\n                          showExportToCavatica={showExportToCavatica}\n                          cavaticaHelpURL={cavaticaHelpURL}\n                          customControls={customControls}\n                        />\n                      </SynapseErrorBoundary>\n                      {isFaceted && (\n                        <>\n                          <FacetFilterControls\n                            availableFacets={availableFacets}\n                          />\n                        </>\n                      )}\n                      <FacetNav facetsToPlot={facetsToPlot} />\n                      <FilterAndView\n                        tableConfiguration={tableConfiguration}\n                        hideDownload={hideDownload}\n                        cardConfiguration={cardConfiguration}\n                      />\n                      {showExportMetadata && (\n                        <ModalDownload\n                          getLastQueryRequest={queryContext.getLastQueryRequest}\n                          onClose={() => setShowExportMetadata(false)}\n                        />\n                      )}\n                    </Box>\n                  )\n                }}\n              </QueryVisualizationContextConsumer>\n            )\n          }}\n        </QueryContextConsumer>\n      </QueryVisualizationWrapper>\n    </QueryWrapper>\n  )\n}\n\nexport default QueryWrapperPlotNav\n","import React from 'react'\nimport {\n  getAdditionalFilters,\n  parseEntityIdFromSqlStatement,\n} from '../../utils/functions/SqlFunctions'\nimport SynapseTable, { SynapseTableProps } from '../SynapseTable/SynapseTable'\nimport { QueryBundleRequest } from '@sage-bionetworks/synapse-types'\nimport { SynapseConstants } from '../../utils'\nimport { QueryWrapper } from '../QueryWrapper/QueryWrapper'\nimport { QueryContextConsumer } from '../QueryContext/QueryContext'\nimport TopLevelControls, {\n  TopLevelControlsProps,\n} from '../SynapseTable/TopLevelControls/TopLevelControls'\nimport FullTextSearch from '../FullTextSearch'\nimport SearchV2, { SearchV2Props } from '../SearchV2'\nimport { useGetEntity } from '../../synapse-queries/entity/useEntity'\nimport TotalQueryResults from '../TotalQueryResults'\nimport SqlEditor from '../SqlEditor'\nimport { useSynapseContext } from '../../utils/context/SynapseContext'\nimport {\n  QueryVisualizationContextConsumer,\n  QueryVisualizationWrapper,\n  QueryVisualizationWrapperProps,\n} from '../QueryVisualizationWrapper'\nimport { isTable } from '../../utils/functions/EntityTypeUtils'\nimport LastUpdatedOn from '../QueryWrapperPlotNav/LastUpdatedOn'\nimport { NoContentPlaceholderType } from '../SynapseTable/NoContentPlaceholderType'\nimport { DEFAULT_PAGE_SIZE } from '../../utils/SynapseConstants'\nimport {\n  Operator,\n  SearchParams,\n} from '../QueryWrapperPlotNav/QueryWrapperPlotNav'\n\ntype StandaloneQueryWrapperOwnProps = {\n  sql: string\n  showTopLevelControls?: boolean\n  searchConfiguration?: Omit<\n    SearchV2Props,\n    'queryContext' | 'queryVisualizationContext'\n  >\n} & Omit<TopLevelControlsProps, 'entityId'> &\n  Pick<\n    QueryVisualizationWrapperProps,\n    | 'rgbIndex'\n    | 'unitDescription'\n    | 'columnAliases'\n    | 'noContentPlaceholderType'\n    | 'showLastUpdatedOn'\n  >\n\nexport type StandaloneQueryWrapperProps = Partial<\n  Omit<\n    SynapseTableProps,\n    'synapseContext' | 'queryContext' | 'queryVisualizationContext'\n  >\n> &\n  SearchParams &\n  Operator &\n  StandaloneQueryWrapperOwnProps\n\nconst generateInitQueryRequest = (sql: string): QueryBundleRequest => {\n  return {\n    partMask:\n      SynapseConstants.BUNDLE_MASK_QUERY_FACETS |\n      SynapseConstants.BUNDLE_MASK_QUERY_COUNT |\n      SynapseConstants.BUNDLE_MASK_QUERY_SELECT_COLUMNS |\n      SynapseConstants.BUNDLE_MASK_QUERY_COLUMN_MODELS |\n      SynapseConstants.BUNDLE_MASK_QUERY_RESULTS |\n      SynapseConstants.BUNDLE_MASK_LAST_UPDATED_ON,\n    entityId: parseEntityIdFromSqlStatement(sql),\n    concreteType: 'org.sagebionetworks.repo.model.table.QueryBundleRequest',\n    query: {\n      sql,\n      limit: DEFAULT_PAGE_SIZE,\n      offset: 0,\n    },\n  }\n}\n/**\n * This component was initially implemented on the portal side. It renders a SynapseTable if a title is provided.\n * If showTopLevelControls is set to true, then the SynapseTable will also include the TopLevelControls (search, export table, column selection).\n */\nconst StandaloneQueryWrapper: React.FunctionComponent<\n  StandaloneQueryWrapperProps\n> = (props: StandaloneQueryWrapperProps) => {\n  const {\n    title,\n    searchParams,\n    sqlOperator,\n    showAccessColumn,\n    sql,\n    hideDownload,\n    hideQueryCount,\n    name,\n    showTopLevelControls = false,\n    searchConfiguration,\n    unitDescription = 'Results',\n    rgbIndex,\n    showLastUpdatedOn,\n    noContentPlaceholderType = showTopLevelControls\n      ? NoContentPlaceholderType.INTERACTIVE\n      : NoContentPlaceholderType.STATIC,\n    ...rest\n  } = props\n\n  const derivedQueryRequestFromSearchParams = generateInitQueryRequest(sql)\n  const entityId = parseEntityIdFromSqlStatement(sql)\n  derivedQueryRequestFromSearchParams.query.additionalFilters =\n    getAdditionalFilters(entityId, searchParams, sqlOperator)\n\n  const synapseContext = useSynapseContext()\n\n  const { data: entity } = useGetEntity(entityId)\n  return (\n    <QueryWrapper\n      {...rest}\n      initQueryRequest={derivedQueryRequestFromSearchParams}\n    >\n      <QueryVisualizationWrapper\n        rgbIndex={rgbIndex}\n        unitDescription={unitDescription}\n        showLastUpdatedOn={showLastUpdatedOn}\n        noContentPlaceholderType={noContentPlaceholderType}\n        {...rest}\n      >\n        <QueryContextConsumer>\n          {queryContext => {\n            if (queryContext === undefined) {\n              throw new Error(\n                'No queryContext found when calling QueryContextConsumer',\n              )\n            }\n            return (\n              <QueryVisualizationContextConsumer>\n                {queryVisualizationContext => {\n                  if (queryVisualizationContext === undefined) {\n                    throw new Error(\n                      'No queryVisualizationContext found when calling QueryVisualizationContextConsumer',\n                    )\n                  }\n\n                  return (\n                    <>\n                      {showTopLevelControls && (\n                        <TopLevelControls\n                          showColumnSelection={true}\n                          name={name}\n                          hideDownload={hideDownload}\n                          hideQueryCount={hideQueryCount}\n                          hideFacetFilterControl={true}\n                          hideVisualizationsControl={true}\n                        />\n                      )}\n                      {entity && isTable(entity) && entity.isSearchEnabled ? (\n                        <FullTextSearch\n                          helpUrl={searchConfiguration?.fullTextSearchHelpURL}\n                        />\n                      ) : (\n                        <SearchV2\n                          {...searchConfiguration}\n                          queryContext={queryContext}\n                          queryVisualizationContext={queryVisualizationContext}\n                        />\n                      )}\n                      <SqlEditor />\n                      {showTopLevelControls && (\n                        <TotalQueryResults frontText={''} />\n                      )}\n                      <SynapseTable\n                        synapseContext={synapseContext}\n                        queryContext={queryContext}\n                        queryVisualizationContext={queryVisualizationContext}\n                        showAccessColumn={showAccessColumn}\n                        title={title}\n                        data-testid=\"SynapseTable\"\n                        {...rest}\n                      />\n                      <LastUpdatedOn />\n                    </>\n                  )\n                }}\n              </QueryVisualizationContextConsumer>\n            )\n          }}\n        </QueryContextConsumer>\n      </QueryVisualizationWrapper>\n    </QueryWrapper>\n  )\n}\n\nexport default StandaloneQueryWrapper\n","import React from 'react'\nimport QueryWrapperPlotNav from '../../QueryWrapperPlotNav/QueryWrapperPlotNav'\nimport StandaloneQueryWrapper from '../../StandaloneQueryWrapper/StandaloneQueryWrapper'\n\nexport type MarkdownSynapseTableProps = {\n  query: string\n  showquery: string\n  tableonly: string\n}\n\nexport default function MarkdownSynapseTable(props: MarkdownSynapseTableProps) {\n  const { query, showquery, tableonly } = props\n  const showQuery = showquery === 'true'\n  const tableOnly = tableonly === 'true'\n  const name = 'Items'\n  if (tableOnly) {\n    return <StandaloneQueryWrapper sql={query} name={name} />\n  }\n\n  return (\n    <QueryWrapperPlotNav\n      sql={query}\n      hideSqlEditorControl={!showQuery}\n      name={name}\n      defaultShowFacetVisualization={false}\n      tableConfiguration={{}}\n    />\n  )\n}\n","import React from 'react'\n\nconst TOC_CLASS = {\n  1: 'toc-indent1',\n  2: 'toc-indent2',\n  3: 'toc-indent3',\n  4: 'toc-indent4',\n  5: 'toc-indent5',\n  6: 'toc-indent6',\n}\n\ntype MarkdownTableOfContentsProps = {\n  originalMarkup: string\n}\n\nexport default function MarkdownTableOfContents(\n  props: MarkdownTableOfContentsProps,\n) {\n  const { originalMarkup } = props\n  const elements: any[] = []\n  const TOC_HEADER_REGEX_WITH_ID =\n    /<h([1-6]) id=\"(.*)\" .*toc=\"true\">(.*)<\\/h[1-6]>/gm\n  let text = ''\n  originalMarkup.replace(TOC_HEADER_REGEX_WITH_ID, (p1, p2, p3, p4) => {\n    text += p4\n    elements.push(\n      <div key={p4}>\n        <a\n          role=\"link\"\n          className={`link ${TOC_CLASS[Number(p2) as keyof typeof TOC_CLASS]}`}\n          data-anchor={p3}\n        >\n          {p4}\n        </a>\n      </div>,\n    )\n    return ''\n  })\n  return <div key={text}>{elements}</div>\n}\n","import React from 'react'\nimport { useGetUserGroupHeaderWithAlias } from '../../../synapse-queries'\nimport UserOrTeamBadge from '../../UserOrTeamBadge/UserOrTeamBadge'\n\nexport type MarkdownUserOrTeamBadgeProps = {\n  alias: string\n}\n\nexport default function MarkdownUserOrTeamBadge(\n  props: MarkdownUserOrTeamBadgeProps,\n) {\n  const { alias } = props\n  const { data: userGroupHeader } = useGetUserGroupHeaderWithAlias([alias])\n\n  return userGroupHeader ? (\n    <UserOrTeamBadge principalId={userGroupHeader[0].ownerId} />\n  ) : (\n    <></>\n  )\n}\n","import React from 'react'\nimport SynapseVideo, { SynapseVideoProps } from '../../widgets/SynapseVideo'\n\nexport type MarkdownVideoProps = SynapseVideoProps['params']\n\nexport default function MarkdownVideo(props: MarkdownVideoProps) {\n  return <SynapseVideo params={props} />\n}\n","import React from 'react'\nimport { SynapseErrorBoundary } from '../error/ErrorBanner'\nimport MarkdownButton, { ButtonLinkWidgetParams } from './widget/MarkdownButton'\nimport MarkdownEntityPreview, {\n  MarkdownEntityPreviewProps,\n} from './widget/MarkdownEntityPreview'\nimport MarkdownIDUReport, {\n  MarkdownIDUReportProps,\n} from './widget/MarkdownIDUReport'\nimport MarkdownProvenanceGraph, {\n  MarkdownProvenanceGraphProps,\n} from './widget/MarkdownProvenanceGraph'\nimport MarkdownSynapseImage, {\n  ImageWidgetParams,\n} from './widget/MarkdownSynapseImage'\nimport MarkdownSynapsePlot, {\n  PlotWidgetParams,\n} from './widget/MarkdownSynapsePlot'\nimport MarkdownSynapseTable, {\n  MarkdownSynapseTableProps,\n} from './widget/MarkdownSynapseTable'\nimport MarkdownTableOfContents from './widget/MarkdownTableOfContents'\nimport MarkdownUserOrTeamBadge, {\n  MarkdownUserOrTeamBadgeProps,\n} from './widget/MarkdownUserOrTeamBadge'\nimport MarkdownVideo, { MarkdownVideoProps } from './widget/MarkdownVideo'\n\ntype ButtonLink = {\n  widgetType: 'buttonlink'\n  widgetParamsMapped: ButtonLinkWidgetParams\n}\n\ntype Image = {\n  widgetType: 'image'\n  widgetParamsMapped: ImageWidgetParams\n}\n\ntype Plot = {\n  widgetType: 'plot'\n  widgetParamsMapped: PlotWidgetParams\n}\n\ntype TableOfContents = {\n  widgetType: 'toc'\n  widgetParamsMapped: never\n}\n\ntype UserBadge = {\n  widgetType: 'badge'\n  widgetParamsMapped: MarkdownUserOrTeamBadgeProps\n}\n\ntype IDUReport = {\n  widgetType: 'iduReport'\n  widgetParamsMapped: MarkdownIDUReportProps\n}\n\ntype Video = {\n  widgetType: 'video' | 'vimeo' | 'youtube'\n  widgetParamsMapped: MarkdownVideoProps\n}\n\ntype SynapseTableMarkdown = {\n  widgetType: 'synapsetable'\n  widgetParamsMapped: MarkdownSynapseTableProps\n}\n\ntype ProvenanceGraph = {\n  widgetType: 'provenance'\n  widgetParamsMapped: MarkdownProvenanceGraphProps\n}\n\ntype Preview = {\n  widgetType: 'preview'\n  widgetParamsMapped: MarkdownEntityPreviewProps\n}\n\ntype MarkdownWidgetDefinition =\n  | ButtonLink\n  | Image\n  | Plot\n  | TableOfContents\n  | UserBadge\n  | IDUReport\n  | Video\n  | SynapseTableMarkdown\n  | ProvenanceGraph\n  | Preview\n\nexport type MarkdownWidgetProps = MarkdownWidgetDefinition & {\n  originalMarkup: string\n}\n\nfunction MarkdownWidget(props: MarkdownWidgetProps) {\n  const { widgetType, widgetParamsMapped, originalMarkup } = props\n  switch (widgetType) {\n    case 'buttonlink':\n      return <MarkdownButton {...widgetParamsMapped} />\n    case 'image':\n      return <MarkdownSynapseImage {...widgetParamsMapped} />\n    case 'plot':\n      return <MarkdownSynapsePlot {...widgetParamsMapped} />\n    case 'toc':\n      return <MarkdownTableOfContents originalMarkup={originalMarkup} />\n    case 'badge':\n      return <MarkdownUserOrTeamBadge {...widgetParamsMapped} />\n    case 'iduReport':\n      return <MarkdownIDUReport {...widgetParamsMapped} />\n    case 'video':\n    case 'vimeo':\n    case 'youtube':\n      return <MarkdownVideo {...widgetParamsMapped} />\n    case 'synapsetable':\n      return <MarkdownSynapseTable {...widgetParamsMapped} />\n    case 'provenance':\n      return <MarkdownProvenanceGraph {...widgetParamsMapped} />\n    case 'preview':\n      return <MarkdownEntityPreview {...widgetParamsMapped} />\n    default:\n      console.warn(`Unsupported widget: ${widgetType}.`)\n      return <></>\n  }\n}\n\nexport default function MarkdownWidgetWithWrapper(props: MarkdownWidgetProps) {\n  // Wrap the widget in an error boundary.\n  return (\n    <SynapseErrorBoundary>\n      <MarkdownWidget {...props} />\n    </SynapseErrorBoundary>\n  )\n}\n","import React from 'react'\n\nexport type BookmarksProps = {\n  footnotes: string\n}\n\nclass Bookmarks extends React.Component<BookmarksProps, never> {\n  constructor(props: BookmarksProps) {\n    super(props)\n    this.renderBookmarks = this.renderBookmarks.bind(this)\n  }\n\n  /**\n   * Returns bookmarks\n   *\n   * @returns JSX for the embedded bookmarks in the markdown passed in as a prop\n   * @memberof Bookmarks\n   */\n  public renderBookmarks() {\n    const copyFootnotes: string = String(this.props.footnotes)\n\n    // find all the links embedded in the markdown below\n    const regex = /Synapse widget&gt;<\\/span>(.*)</g\n    let matchedGroup: RegExpExecArray | null\n    const output = []\n    // below we use regex.exec to find the find matched group containing the citation source\n    while ((matchedGroup = regex.exec(copyFootnotes))) {\n      output.push(matchedGroup[1])\n    }\n\n    // return all the links formatted accordingly\n    return output.map((el, index) => {\n      const isBeforeLastElement = index < output.length - 1\n      return (\n        <React.Fragment key={index}>\n          <button className=\"SRC-markdown-bookmark\" id={`bookmark${index}`}>\n            [{index + 1}]\n          </button>\n          <span dangerouslySetInnerHTML={{ __html: el }} />\n          {isBeforeLastElement && <br />}\n        </React.Fragment>\n      )\n    })\n  }\n\n  public render() {\n    return (\n      <React.Fragment>\n        <hr />\n        {this.renderBookmarks()}\n      </React.Fragment>\n    )\n  }\n}\n\nexport default Bookmarks\n","import React from 'react'\nimport MarkdownIt from 'markdown-it'\nimport xss from 'xss'\nimport SynapseClient from '../../synapse-client'\nimport { xssOptions } from '../../utils/functions/SanitizeHtmlUtils'\nimport { SynapseClientError } from '../../utils/SynapseClientError'\nimport { SynapseContext } from '../../utils/context/SynapseContext'\nimport {\n  FileHandleResults,\n  ObjectType,\n  WikiPage,\n} from '@sage-bionetworks/synapse-types'\nimport { ErrorBanner } from '../error/ErrorBanner'\nimport MarkdownWidget from './MarkdownWidget'\nimport {\n  SynapseWikiContextProvider,\n  SynapseWikiContextType,\n} from './SynapseWikiContext'\nimport Bookmarks from './widget/Bookmarks'\nimport { SkeletonTable } from '../Skeleton/SkeletonTable'\nimport { Link, Typography } from '@mui/material'\n\ndeclare const katex: any\ndeclare const markdownitSynapse: any\ndeclare const markdownitSub: any\ndeclare const markdownitSup: any\ndeclare const markdownitCentertext: any\ndeclare const markdownitSynapseHeading: any\ndeclare const markdownitSynapseTable: any\ndeclare const markdownitStrikethroughAlt: any\ndeclare const markdownitContainer: any\ndeclare const markdownitEmphasisAlt: any\ndeclare const markdownitInlineComments: any\ndeclare const markdownitBr: any\ndeclare const markdownitMath: any\n\ndeclare const markdownit: typeof MarkdownIt\n\nexport type MarkdownSynapseProps = {\n  ownerId?: string\n  wikiId?: string\n  markdown?: string\n  renderInline?: boolean\n  objectType?: ObjectType\n  loadingSkeletonRowCount?: number\n  onMarkdownProcessingDone?: (textContent: string | null | undefined) => void\n}\nconst md = markdownit({ html: true })\n\ntype MarkdownSynapseState = {\n  md: MarkdownIt\n  data: Partial<WikiPage>\n  fileHandles?: FileHandleResults\n  error: SynapseClientError | undefined\n  isLoading: boolean\n}\n/**\n * Basic Markdown functionality for Synapse, supporting Images/Plots/References/Bookmarks/buttonlinks\n *\n * @class Markdown\n * @extends {React.Component}\n */\nexport class MarkdownSynapse extends React.Component<\n  MarkdownSynapseProps,\n  MarkdownSynapseState\n> {\n  public markupRef: React.RefObject<HTMLInputElement>\n  static contextType = SynapseContext\n  declare context: NonNullable<React.ContextType<typeof SynapseContext>>\n\n  /**\n   * Creates an instance of Markdown.\n   * @param {*} props\n   */\n  constructor(props: MarkdownSynapseProps) {\n    super(props)\n    // markdownitSynapse wraps around markdownit object and uses its own dependencies\n    markdownitSynapse.init_markdown_it(\n      md,\n      markdownitSub,\n      markdownitSup,\n      markdownitCentertext,\n      markdownitSynapseHeading,\n      markdownitSynapseTable,\n      markdownitStrikethroughAlt,\n      markdownitContainer,\n      markdownitEmphasisAlt,\n      markdownitInlineComments,\n      markdownitBr,\n    )\n\n    const mathSuffix = ''\n    // Update the internal markdownit object with the wrapped synapse object\n    md.use(markdownitSynapse, mathSuffix, 'https://synapse.org').use(\n      markdownitMath,\n      mathSuffix,\n    )\n    const data: any = {}\n    if (this.props.markdown) {\n      data.markdown = this.props.markdown\n    }\n    this.state = {\n      md,\n      error: undefined,\n      fileHandles: undefined,\n      data,\n      isLoading: true,\n    }\n    this.markupRef = React.createRef()\n    this.handleLinkClicks = this.handleLinkClicks.bind(this)\n    // handle widgets and math markdown\n    this.renderMarkdown = this.renderMarkdown.bind(this)\n    this.recursiveRender = this.recursiveRender.bind(this)\n    this.processMath = this.processMath.bind(this)\n    // handle init calls to get wiki related items\n    this.getWikiAttachments = this.getWikiAttachments.bind(this)\n    this.getWikiPageMarkdown = this.getWikiPageMarkdown.bind(this)\n    this.createHTML = this.createHTML.bind(this)\n    this.stripHTML = this.stripHTML.bind(this)\n    this.addBookmarks = this.addBookmarks.bind(this)\n    this.addIdsToReferenceWidgets = this.addIdsToReferenceWidgets.bind(this)\n    this.addIdsToTocWidgets = this.addIdsToTocWidgets.bind(this)\n  }\n\n  public componentWillUnmount() {\n    // @ts-ignore TODO: find better documentation on typescript/react event params\n    this.markupRef.current &&\n      // @ts-ignore TODO: find better documentation on typescript/react event params\n      this.markupRef.current.removeEventListener('click', this.handleLinkClicks)\n  }\n\n  // Manually handle clicks to anchor tags where the scrollto isn't handled by page hash\n  public handleLinkClicks(event: React.MouseEvent<HTMLElement>) {\n    const genericElement = event.target as HTMLElement\n    if (genericElement.tagName === 'A' || genericElement.tagName === 'BUTTON') {\n      const anchor = event.target as HTMLAnchorElement\n      if (anchor.id.substring(0, 3) === 'ref') {\n        event.preventDefault()\n        // its a reference, so we scroll to the appropriate bookmark\n        const referenceNumber = Number(event.currentTarget.id.substring(3)) // e.g. ref2 => '2'\n        const goTo = this.markupRef.current!.querySelector(\n          `#bookmark${referenceNumber}`,\n        )\n        try {\n          goTo!.scrollIntoView({\n            behavior: 'smooth',\n            block: 'center',\n            inline: 'center',\n          })\n        } catch (e) {\n          console.log('error on scroll', e)\n        }\n      } else if (\n        event.currentTarget.id !== null &&\n        anchor.getAttribute('data-anchor')\n      ) {\n        event.preventDefault()\n        // handle table of contents widget\n        const idOfContent = anchor.getAttribute('data-anchor')\n        const goTo = this.markupRef.current!.querySelector(`#${idOfContent}`)\n        try {\n          goTo!.scrollIntoView({\n            behavior: 'smooth',\n            block: 'center',\n            inline: 'center',\n          })\n        } catch (e) {\n          console.log('error on scroll', e)\n        }\n      }\n    }\n  }\n\n  /**\n   * Given input text, generate markdown object to be passed onto inner html of some container.\n   * @param {String} markdown The text being written in plain markdown\n   * @returns {Object} Dictionary to be passed into dangerouslySetInnerHTML with markdown text\n   */\n  public createHTML(markdown?: string) {\n    if (!markdown) {\n      return { __html: '' }\n    }\n    // Note - renderInline parses out any block level elements contained in the markdown\n    const initText = this.props.renderInline\n      ? this.state.md.renderInline(markdown)\n      : this.state.md.render(markdown)\n    const cleanText = xss(initText, xssOptions)\n    return { __html: cleanText }\n  }\n\n  /**\n   * Find all math identified elements of the form [id^=\\\"mathjax-\\\"]\n   * (e.g. <dom element id=\"mathjax-10\"> text </dom element>)\n   * and transform them to their math markedown equivalents\n   */\n  public processMath() {\n    if (!this.markupRef.current) {\n      return\n    }\n    // use regex to grab all elements\n    const mathExpressions =\n      this.markupRef.current.querySelectorAll<HTMLElement>('[id^=\"mathjax-\"]')\n    // go through all obtained elements and transform them with katex\n    const regEx = new RegExp(/\\\\[()[\\]]/, 'g') // Look for a '\\' followed by either '(', ')', '[', or ']'. We delete these strings since they interfere with katex processing.\n    mathExpressions.forEach(element => {\n      if (element.textContent && !element.getAttribute('processed')) {\n        // only process a math element once, used to double/triple process\n        element.setAttribute('processed', 'true')\n        const textContent = element.textContent.replace(regEx, '')\n        return katex.render(textContent, element, {\n          // @ts-ignore\n          output: 'html',\n          throwOnError: false,\n        })\n      }\n    })\n  }\n  /**\n   * Process all the corresponding bookmark tags of the references made throughout the page\n   *\n   * @memberof MarkdownSynapse\n   */\n  public addBookmarks() {\n    markdownitSynapse.resetFootnotes()\n    this.createHTML(this.state.data.markdown)\n    const footnotesHtml = this.createHTML(markdownitSynapse.footnotes()).__html\n    if (footnotesHtml.length > 0) {\n      return <Bookmarks footnotes={footnotesHtml} />\n    }\n    return\n  }\n\n  public stripHTML(myHtmlString: string): string {\n    const el = document.createElement('div')\n    el.innerHTML = myHtmlString\n    return el.textContent || el.innerText || ''\n  }\n\n  /**\n   * Get wiki page markdown and file attachment handles\n   */\n  public async getWikiPageMarkdown() {\n    const { ownerId, wikiId, objectType } = this.props\n    if (!ownerId && !wikiId) {\n      return\n    }\n    try {\n      const wikiPage = await SynapseClient.getEntityWiki(\n        this.context.accessToken,\n        ownerId,\n        wikiId,\n        objectType,\n      )\n      try {\n        const fileHandles = await this.getWikiAttachments(\n          wikiId ? wikiId : wikiPage.id,\n        )\n        if (this.props.onMarkdownProcessingDone) {\n          const plainText = this.stripHTML(\n            this.createHTML(wikiPage.markdown).__html,\n          )\n          this.props.onMarkdownProcessingDone(plainText)\n        }\n        this.setState({\n          data: wikiPage,\n          fileHandles,\n          error: undefined,\n        })\n      } catch (fileHandlesErr) {\n        console.error('fileHandlesErr = ', fileHandlesErr)\n      }\n    } catch (err) {\n      console.error('Error on wiki markdown load\\n', err)\n      this.setState({\n        error: err,\n      })\n    }\n  }\n  public async getWikiAttachments(wikiId: string) {\n    const { ownerId, objectType } = this.props\n    if (!ownerId) {\n      console.error(\n        'Cannot get wiki attachments without ownerId on Markdown Component',\n      )\n      return undefined\n    }\n    return await SynapseClient.getWikiAttachmentsFromEntity(\n      this.context.accessToken,\n      ownerId,\n      wikiId,\n      objectType,\n    )\n      .then(data => {\n        return data\n      })\n      .catch(err => {\n        console.error('Error on wiki attachment load ', err)\n        return undefined\n      })\n  }\n\n  public addIdsToReferenceWidgets(text: string) {\n    const referenceRegex =\n      /<span id=\"wikiReference.*?<span data-widgetparams.*?span>/g\n    let referenceCount = 1\n\n    return text.replace(referenceRegex, () => {\n      // replace all reference tags with id's of the form id=\"ref<number>\"\" that we can read onClick\n      const current = referenceCount\n      referenceCount += 1\n      return `<a href=\"\" id=\"ref${current}\">[${current}]</a>`\n    })\n  }\n\n  public addIdsToTocWidgets(text: string) {\n    const tocId = 'SRC-header-'\n    let tocIdCount = 1\n    const TOC_HEADER_REGEX = /<h[1-6] toc=\"true\">.*<\\/h[1-6]>/gm\n\n    return text.replace(TOC_HEADER_REGEX, (match: string) => {\n      // replace with id of the form id=\"toc\" so we can read them with onclick events\n      const curTocId = tocIdCount\n      tocIdCount += 1\n      const matchWithId = `${match.substring(\n        0,\n        3,\n      )} id=\"${tocId}${curTocId}\"${match.substring(3)}`\n      return matchWithId\n    })\n  }\n\n  /**\n   * The 'main' method of this class that process all the markdown and transforms it to the appropriate\n   * Synapse widgets.\n   *\n   * @returns JSX of the markdown into widgets\n   * @memberof MarkdownSynapse\n   */\n  public renderMarkdown() {\n    // create initial markup\n    let markup = this.createHTML(this.state.data.markdown).__html\n    // process reference widgets\n    markup = this.addIdsToReferenceWidgets(markup)\n    // process table of contents widgets\n    markup = this.addIdsToTocWidgets(markup)\n    if (markup.length > 0) {\n      const domParser = new DOMParser()\n      const document = domParser.parseFromString(markup, 'text/html')\n      return <>{this.recursiveRender(document.body, markup)}</>\n    }\n    return\n  }\n\n  /**\n   * recursiveRender will render react tree from HTML tree\n   *\n   * @param {Node} element This will be either a text Node or an HTMLElement\n   * @param {string} markdown The original markdown, its kept as a special case for the table of contents widget\n   * @returns {*}\n   * @memberof MarkdownSynapse\n   */\n  public recursiveRender(element: Node, markdown: string): any {\n    /*\n      Recursively render the html tree created from the markdown, there are a few cases:\n      1. element is Node and is text in which case it is simply rendered\n      2. element is an HTMLElement and is: a self closing tag, has no children (e.g. <br>), or its a synapse widget and is \n      rendered accordingly\n      3. element is an HTMLElement and has children so we loop through its childNodes, recurively render those, and then render its own tag\n      as the parent of those child nodes. Note - childNodes was specifically chosen over .children because text Nodes\n      would not come through .children\n    */\n    if (element.nodeType === Node.TEXT_NODE) {\n      // case 1.\n      return <>{element.textContent}</>\n    } else if (\n      element.nodeType === Node.ELEMENT_NODE &&\n      element instanceof HTMLElement\n    ) {\n      const Tag: keyof JSX.IntrinsicElements =\n        element.tagName.toLowerCase() === 'body'\n          ? 'span'\n          : (element.tagName.toLowerCase() as keyof JSX.IntrinsicElements)\n      const widgetParams = element.getAttribute('data-widgetparams')\n      if (widgetParams) {\n        // case 2\n        // process widget\n        return this.processHTMLWidgetMapping(widgetParams, markdown)\n      }\n      // manually add on props, depending on what comes through the markdown their could\n      // be unforseen issues with attributes being misnamed according to what react will respect\n      // e.g. class instead of className\n      const attributes = element.attributes\n      const props: Record<string, string> = {}\n      for (let i = 0; i < attributes.length; i++) {\n        let name = ''\n        let value = ''\n        const attribute = attributes.item(i)\n        if (attribute) {\n          name = attribute.name\n          value = attribute.value\n        }\n        if (name && value) {\n          props[name] = value\n        }\n      }\n      if (element.childNodes.length === 0) {\n        // case 2\n        // e.g. self closing tag like <br/> or <img>\n        return <Tag {...props} />\n      }\n      // case 3\n      // recursively render children\n      const children = Array.from(element.childNodes).map((el, index) => {\n        return (\n          <React.Fragment key={index}>\n            {this.recursiveRender(el, markdown)}\n          </React.Fragment>\n        )\n      })\n      // Render tagName as parent element of the children below\n      switch (Tag) {\n        case 'p':\n          return (\n            <Typography variant={'body1'} {...props} component={Tag}>\n              {children}\n            </Typography>\n          )\n        case 'span':\n          return (\n            <Typography variant={'body1'} {...props} component={Tag}>\n              {children}\n            </Typography>\n          )\n        case 'h1':\n          return (\n            <Typography variant={'headline1'} {...props} component={Tag}>\n              {children}\n            </Typography>\n          )\n        case 'h2':\n          return (\n            <Typography variant={'headline2'} {...props} component={Tag}>\n              {children}\n            </Typography>\n          )\n        case 'h3':\n          return (\n            <Typography variant={'headline3'} {...props} component={Tag}>\n              {children}\n            </Typography>\n          )\n        case 'ol':\n          return (\n            <Typography variant={'body1'} {...props} component={Tag}>\n              {children}\n            </Typography>\n          )\n        case 'ul':\n          return (\n            <Typography variant={'body1'} {...props} component={Tag}>\n              {children}\n            </Typography>\n          )\n        case 'a':\n          return (\n            <Link {...props} component={Tag}>\n              {children}\n            </Link>\n          )\n        default:\n          return <Tag {...props}>{children}</Tag>\n      }\n    }\n  }\n\n  /**\n   *  When the markdown string is transferred over the network certain characters get transformed,\n   * this does a simple transformation back to the original user's string.\n   *\n   * @param {string} xml\n   * @returns\n   * @memberof MarkdownSynapse\n   */\n  public decodeXml(xml: string) {\n    const escapedOneToXmlSpecialMap = {\n      '&amp;': '&',\n      '&gt;': '>',\n      '&lt;': '<',\n      '&quot;': '\"',\n    }\n    return xml.replace(\n      /(&quot;|&lt;|&gt;|&amp;)/g,\n      (str: string, item: keyof typeof escapedOneToXmlSpecialMap) => {\n        return escapedOneToXmlSpecialMap[item]\n      },\n    )\n  }\n\n  /**\n   * Given widgetMap renders it in a React component (or originalMarkup in special cases.)\n   *\n   * @param {string} widgetMatch The synapse widget to be rendered\n   * @param {string} originalMarkup The original markup text, this is a special case for widgets that\n   * are html specific.\n   * @returns JSX of the widget to render\n   * @memberof MarkdownSynapse\n   */\n  public processHTMLWidgetMapping(\n    widgetParams: string,\n    originalMarkup: string,\n  ) {\n    // General workflow -\n    //   1. Capture widget parameters\n    //   2. Transform any widget xml parameters to standard text\n    //   3. Split those parameters into a map\n    //   4. Render that widget based on its parameters\n\n    // steps 1,2\n    const decodedWidgetParams = this.decodeXml(widgetParams)\n\n    // decodedWidgetParams look like {<widget>?param1=xxx&param2=yyy}\n    const questionIndex = decodedWidgetParams.indexOf('?')\n    if (questionIndex === -1) {\n      // e.g. toc is passed, there are no params\n      return (\n        <MarkdownWidget\n          key={JSON.stringify(decodedWidgetParams)}\n          widgetType={decodedWidgetParams as any}\n          widgetParamsMapped={{}}\n          originalMarkup={originalMarkup}\n        />\n      )\n    }\n    const widgetType = decodedWidgetParams.substring(0, questionIndex)\n    const widgetParamsMapped: Record<string, string> = {}\n    // map out params and their values\n    decodedWidgetParams\n      .substring(questionIndex + 1)\n      .split('&')\n      .forEach(keyPair => {\n        let [key, value] = keyPair.split('=')\n        value = decodeURIComponent(value)\n        widgetParamsMapped[key] = value\n      })\n    return (\n      <MarkdownWidget\n        key={JSON.stringify(decodedWidgetParams)}\n        widgetType={widgetType as any}\n        widgetParamsMapped={widgetParamsMapped}\n        originalMarkup={originalMarkup}\n      />\n    )\n  }\n\n  public async componentDidMount() {\n    if (this.state.data.markdown) {\n      this.setState({ isLoading: false })\n      if (this.props.onMarkdownProcessingDone) {\n        const plainText = this.stripHTML(\n          this.createHTML(this.state.data.markdown).__html,\n        )\n        this.props.onMarkdownProcessingDone(plainText)\n      }\n      return\n    }\n    // we use this.markupRef.current && because in testing environment refs aren't defined\n    // @ts-ignore\n    this.markupRef.current &&\n      // @ts-ignore\n      this.markupRef.current.addEventListener('click', this.handleLinkClicks)\n    // unpack and set default value if not specified\n    // get wiki attachments\n    await this.getWikiPageMarkdown()\n    this.processMath()\n    this.setState({ isLoading: false })\n  }\n\n  // on component update find and re-render the math/widget items accordingly\n  public async componentDidUpdate(prevProps: MarkdownSynapseProps) {\n    let shouldUpdate = this.props.ownerId !== prevProps.ownerId\n    shouldUpdate = shouldUpdate || this.props.wikiId !== prevProps.wikiId\n\n    // we have to carefully update the component so it doesn't encounter an infinite loop\n    if (shouldUpdate) {\n      await this.getWikiPageMarkdown()\n    }\n    this.processMath()\n  }\n\n  public render() {\n    const { renderInline, loadingSkeletonRowCount } = this.props\n    const { isLoading, error } = this.state\n\n    const wikiContext: SynapseWikiContextType = {\n      ownerId: this.props.ownerId,\n      wikiId: this.props.wikiId,\n      wikiPage: this.state.data,\n      fileHandles: this.state.fileHandles,\n    }\n\n    if (error) {\n      return <ErrorBanner error={error} />\n    }\n    const bookmarks = this.addBookmarks()\n    const content = (\n      <SynapseWikiContextProvider wikiContext={wikiContext}>\n        {isLoading && (\n          <>\n            {loadingSkeletonRowCount ? (\n              <SkeletonTable numCols={1} numRows={loadingSkeletonRowCount} />\n            ) : (\n              <span className=\"spinner\" />\n            )}\n          </>\n        )}\n        {this.renderMarkdown()}\n        {bookmarks && <div>{this.addBookmarks()}</div>}\n      </SynapseWikiContextProvider>\n    )\n    if (renderInline) {\n      return (\n        <span className=\"markdown markdown-inline\" ref={this.markupRef}>\n          {content}\n        </span>\n      )\n    }\n    return (\n      <div className=\"markdown\" ref={this.markupRef}>\n        {content}\n      </div>\n    )\n  }\n}\n\nexport default MarkdownSynapse\n","import React from 'react'\nimport { Tooltip, TooltipProps, tooltipClasses, styled } from '@mui/material'\nimport { StyledComponent } from '@emotion/styled'\n\nexport const LightTooltip: StyledComponent<TooltipProps> = styled(\n  ({ className, ...props }: TooltipProps) => (\n    <Tooltip {...props} classes={{ popper: className }} />\n  ),\n)(({ theme }) => ({\n  [`& .${tooltipClasses.tooltip}`]: {\n    backgroundColor: theme.palette.common.white,\n    color: theme.palette.grey[1000],\n    boxShadow: theme.shadows[1],\n    border: `1px solid ${theme.palette.grey[500]}`,\n  },\n  [`& .${tooltipClasses.arrow}`]: {\n    '&:before': {\n      boxShadow: theme.shadows[1],\n      border: `1px solid ${theme.palette.grey[500]}`,\n    },\n    color: theme.palette.common.white,\n  },\n}))\n\nexport default LightTooltip\n","import React, { useState } from 'react'\nimport {\n  Button,\n  Box,\n  TooltipProps,\n  tooltipClasses,\n  ButtonProps,\n} from '@mui/material'\nimport MarkdownSynapse, { MarkdownSynapseProps } from './MarkdownSynapse'\nimport { Typography } from '@mui/material'\nimport LightTooltip from '../styled/LightTooltip'\n\nexport type MarkdownPopoverProps = {\n  children: JSX.Element\n  contentProps: MarkdownSynapseProps\n  sx?: TooltipProps['sx']\n  placement?: TooltipProps['placement']\n  showCloseButton?: boolean\n  actionButton?: {\n    content: React.ReactElement\n    color?: ButtonProps['color']\n    variant?: ButtonProps['variant']\n    onClick: () => void\n    closePopoverOnClick?: boolean\n  }\n  maxWidth?: string\n  minWidth?: string\n}\n\nconst buttonBoxSx = {\n  display: 'flex',\n  justifyContent: 'space-between',\n  flexDirection: 'row-reverse',\n  '> button': {\n    flexGrow: 1,\n    maxWidth: '45%',\n  },\n}\n\nexport const MarkdownPopover: React.FunctionComponent<MarkdownPopoverProps> = ({\n  children,\n  contentProps,\n  placement = 'bottom-start',\n  showCloseButton = true,\n  actionButton,\n  sx,\n  maxWidth = '500px',\n  minWidth = '300px',\n}: MarkdownPopoverProps) => {\n  const [show, setShow] = useState(false)\n\n  const content = (\n    <Box sx={{ padding: '20px' }}>\n      <Typography variant=\"body1\" marginBottom={2}>\n        <MarkdownSynapse {...contentProps} />\n      </Typography>\n      <Box sx={buttonBoxSx}>\n        {actionButton && (\n          <Button\n            color={actionButton.color || 'primary'}\n            variant={actionButton.variant || 'contained'}\n            onClick={() => {\n              actionButton.onClick()\n              if (actionButton.closePopoverOnClick) {\n                setShow(false)\n              }\n            }}\n          >\n            {actionButton.content}\n          </Button>\n        )}\n        {showCloseButton && (\n          <Button variant=\"outlined\" onClick={() => setShow(false)}>\n            Close\n          </Button>\n        )}\n      </Box>\n    </Box>\n  )\n\n  return (\n    <LightTooltip\n      title={content}\n      placement={placement}\n      onClick={() => setShow(!show)}\n      open={show}\n      sx={{\n        ...sx,\n        [`& .${tooltipClasses.tooltip}`]: {\n          maxWidth: { maxWidth },\n          minWidth: { minWidth },\n        },\n      }}\n    >\n      <Box\n        role=\"button\"\n        className={'PopoverContainer'}\n        sx={{ display: 'inline-block', cursor: 'pointer' }}\n      >\n        {children}\n      </Box>\n    </LightTooltip>\n  )\n}\n","import React from 'react'\nimport { MarkdownPopover } from './Markdown/MarkdownPopover'\nimport { ButtonProps, TooltipProps } from '@mui/material'\nimport { HelpOutlineTwoTone } from '@mui/icons-material'\n\nexport type HelpPopoverProps = {\n  markdownText: string\n  helpUrl?: string\n  placement?: TooltipProps['placement']\n  showCloseButton?: boolean\n  className?: string\n}\n\nexport const HelpPopover: React.FunctionComponent<HelpPopoverProps> = ({\n  markdownText,\n  helpUrl,\n  placement = 'bottom',\n  showCloseButton = true,\n  className = '',\n}: HelpPopoverProps) => {\n  const actionButtonConfig = helpUrl\n    ? {\n        content: <>More info</>,\n        closePopoverOnClick: true,\n        onClick: () => window.open(helpUrl, '_blank'),\n        color: 'primary' as ButtonProps['color'],\n      }\n    : undefined\n  return (\n    <>\n      <MarkdownPopover\n        contentProps={{ markdown: markdownText }}\n        placement={placement}\n        actionButton={actionButtonConfig}\n        showCloseButton={showCloseButton}\n        maxWidth=\"350px\"\n      >\n        <HelpOutlineTwoTone className={`HelpButton ${className}`} />\n      </MarkdownPopover>\n    </>\n  )\n}\n","import CloseIcon from '@mui/icons-material/Close'\nimport {\n  Box,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentProps,\n  DialogProps,\n  DialogTitle,\n  IconButton,\n  Stack,\n  SxProps,\n} from '@mui/material'\nimport React from 'react'\nimport { HelpPopover, HelpPopoverProps } from './HelpPopover'\n\nexport type CloseButtonProps = {\n  sx?: SxProps\n  onClick?: () => void\n}\n\nexport const CLOSE_BUTTON_LABEL = 'close'\n\nexport const CloseButton: React.FC<CloseButtonProps> = ({\n  sx = { color: 'grey.700' },\n  onClick,\n}) => {\n  return (\n    <IconButton sx={sx} onClick={onClick} aria-label={CLOSE_BUTTON_LABEL}>\n      <CloseIcon />\n    </IconButton>\n  )\n}\n\nexport type DialogBaseProps = {\n  open: boolean\n  title: React.ReactNode\n  content: React.ReactNode\n  actions?: React.ReactNode\n  className?: string\n  onCancel: () => void\n  hasCloseButton?: boolean\n  titleHelpPopoverProps?: HelpPopoverProps\n  maxWidth?: DialogProps['maxWidth']\n  fullWidth?: boolean\n  sx?: DialogProps['sx']\n  contentProps?: DialogContentProps\n}\n\n/**\n * A dialog built using MUI components.\n */\nexport const DialogBase = ({\n  open,\n  title,\n  content,\n  actions,\n  className,\n  onCancel,\n  hasCloseButton = true,\n  titleHelpPopoverProps,\n  maxWidth = 'sm',\n  fullWidth = true,\n  sx,\n  contentProps = {},\n}: DialogBaseProps) => {\n  return (\n    <Dialog\n      fullWidth={fullWidth}\n      maxWidth={maxWidth}\n      open={open}\n      className={className}\n      onClose={() => onCancel()}\n      sx={sx}\n    >\n      <DialogTitle>\n        <Stack direction=\"row\" alignItems={'center'} gap={'5px'}>\n          {title}\n          {titleHelpPopoverProps && <HelpPopover {...titleHelpPopoverProps} />}\n          <Box sx={{ flexGrow: 1 }} />\n          {hasCloseButton && <CloseButton onClick={() => onCancel()} />}\n        </Stack>\n      </DialogTitle>\n      <DialogContent {...contentProps}>{content}</DialogContent>\n      {actions && <DialogActions>{actions}</DialogActions>}\n    </Dialog>\n  )\n}\n","import { Button, ButtonProps } from '@mui/material'\nimport React from 'react'\nimport { DialogBase, DialogBaseProps } from '../DialogBase'\n\nexport type ConfirmationButtonsProps = {\n  onConfirm: React.MouseEventHandler<HTMLButtonElement>\n  onCancel: DialogBaseProps['onCancel']\n  confirmButtonText?: string\n  confirmButtonClassName?: string\n  confirmButtonColor?: ButtonProps['color']\n  confirmButtonVariant?: ButtonProps['variant']\n  confirmButtonDisabled?: boolean\n  hasCancelButton?: boolean\n}\n\nexport const CANCEL_BUTTON_TEXT = 'Cancel'\n\nexport function CancelButton(props: { onCancel: () => void }) {\n  return (\n    <Button variant=\"outlined\" onClick={() => props.onCancel()}>\n      {CANCEL_BUTTON_TEXT}\n    </Button>\n  )\n}\n\nexport const ConfirmationButtons = (props: ConfirmationButtonsProps) => {\n  const {\n    confirmButtonText = 'OK',\n    confirmButtonClassName,\n    confirmButtonColor = 'primary',\n    confirmButtonVariant = 'contained',\n    confirmButtonDisabled = false,\n    onConfirm,\n    onCancel,\n    hasCancelButton = true,\n  } = props\n  return (\n    <>\n      {hasCancelButton && <CancelButton onCancel={onCancel} />}\n      <Button\n        variant={confirmButtonVariant}\n        className={confirmButtonClassName}\n        color={confirmButtonColor}\n        onClick={onConfirm}\n        disabled={confirmButtonDisabled}\n      >\n        {confirmButtonText}\n      </Button>\n    </>\n  )\n}\n\nexport type ConfirmationDialogProps = DialogBaseProps & ConfirmationButtonsProps\n\n/**\n * A confirmation dialog built using MUI components.\n */\nexport function ConfirmationDialog(props: ConfirmationDialogProps) {\n  const {\n    confirmButtonText,\n    confirmButtonClassName,\n    confirmButtonColor,\n    confirmButtonVariant,\n    confirmButtonDisabled,\n    onConfirm,\n    onCancel,\n    hasCancelButton,\n    ...rest\n  } = props\n  return (\n    <DialogBase\n      onCancel={onCancel}\n      actions={\n        <ConfirmationButtons\n          confirmButtonText={confirmButtonText}\n          confirmButtonClassName={confirmButtonClassName}\n          confirmButtonColor={confirmButtonColor}\n          confirmButtonVariant={confirmButtonVariant}\n          confirmButtonDisabled={confirmButtonDisabled}\n          onConfirm={onConfirm}\n          onCancel={onCancel}\n          hasCancelButton={hasCancelButton}\n        />\n      }\n      {...rest}\n    />\n  )\n}\n"],"names":["usePreviousProps","value","ref","React.useRef","React.useEffect","usePreviousProps$1","useBadge","parameters","badgeContentProp","invisibleProp","maxProp","showZero","prevProps","invisible","badgeContent","max","displayValue","stripDiacritics","string","createFilterOptions","config","ignoreAccents","ignoreCase","limit","matchFrom","stringify","trim","options","inputValue","getOptionLabel","input","filteredOptions","option","candidate","findIndex","array","comp","i","defaultFilterOptions","pageSize","defaultIsActiveElementInListbox","listboxRef","_listboxRef$current$p","useAutocomplete","props","unstable_isActiveElementInListbox","unstable_classNamePrefix","autoComplete","autoHighlight","autoSelect","blurOnSelect","clearOnBlur","clearOnEscape","componentName","defaultValue","disableClearable","disableCloseOnSelect","disabledProp","disabledItemsFocusable","disableListWrap","filterOptions","filterSelectedOptions","freeSolo","getOptionDisabled","getOptionLabelProp","_option$label","groupBy","handleHomeEndKeys","idProp","includeInputInList","inputValueProp","isOptionEqualToValue","multiple","onChange","onClose","onHighlightChange","onInputChange","onOpen","openProp","openOnFocus","readOnly","selectOnFocus","valueProp","id","useId","optionLabel","ignoreFocus","firstFocus","inputRef","anchorEl","setAnchorEl","React.useState","focusedTag","setFocusedTag","defaultHighlighted","highlightedIndexRef","setValueState","useControlled","setInputValueState","focused","setFocused","resetInputValue","React.useCallback","event","newValue","newInputValue","open","setOpenState","inputPristine","setInputPristine","inputValueIsSelectedValue","popupOpen","value2","previousProps","valueChange","listboxAvailable","focusTag","useEventCallback","tagToFocus","validOptionIndex","index","direction","nextFocus","nextFocusDisabled","setHighlightedIndex","reason","prev","listboxNode","element","scrollBottom","elementBottom","changeHighlightedIndex","diff","nextIndex","maxIndex","newIndex","checkHighlightedOptionExists","isSameValue","value1","label1","label2","val","previousHighlightedOption","syncHighlightedIndex","valueItem","currentOption","itemIndex","optionItem","handleListboxRef","node","setRef","handleOpen","handleClose","handleValue","details","isTouch","selectNewValue","reasonProp","origin","validTagIndex","handleFocusTag","nextTag","handleClear","handleKeyDown","other","disabled","handleFocus","handleBlur","handleInputChange","handleOptionMouseMove","handleOptionTouchStart","handleOptionClick","handleTagDelete","handlePopupIndicator","handleMouseDown","handleClick","handleInputMouseDown","dirty","groupedOptions","acc","group","_extends","selected","getListSubheaderUtilityClass","slot","generateUtilityClass","generateUtilityClasses","_excluded","useUtilityClasses","ownerState","classes","color","disableGutters","inset","disableSticky","slots","capitalize","composeClasses","ListSubheaderRoot","styled","styles","theme","ListSubheader","React.forwardRef","inProps","useThemeProps","className","component","_objectWithoutPropertiesLoose","_jsx","clsx","ListSubheader$1","getAutocompleteUtilityClass","autocompleteClasses","autocompleteClasses$1","_ClearIcon","_ArrowDropDownIcon","disablePortal","expanded","fullWidth","hasClearIcon","hasPopupIcon","inputFocused","size","AutocompleteRoot","inputClasses","inputBaseClasses","outlinedInputClasses","filledInputClasses","AutocompleteEndAdornment","AutocompleteClearIndicator","IconButton","AutocompletePopupIndicator","AutocompletePopper","Popper","AutocompletePaper","Paper","AutocompleteLoading","AutocompleteNoOptions","AutocompleteListbox","alpha","AutocompleteGroupLabel","AutocompleteGroupUl","Autocomplete","_slotProps$clearIndic","_slotProps$paper","_slotProps$popper","_slotProps$popupIndic","ChipProps","clearIcon","ClearIcon","clearText","closeText","componentsProps","forcePopupIcon","getLimitTagsText","more","limitTags","ListboxComponent","ListboxProps","loading","loadingText","noOptionsText","openText","PaperComponent","PopperComponent","popupIcon","ArrowDropDownIcon","renderGroupProp","renderInput","renderOptionProp","renderTags","slotProps","getRootProps","getInputProps","getInputLabelProps","getPopupIndicatorProps","getClearProps","getTagProps","getListboxProps","getOptionProps","startAdornment","getCustomizedTagProps","params","Chip","renderGroup","_jsxs","renderOption","props2","renderListOption","optionProps","clearIndicatorSlotProps","paperSlotProps","popperSlotProps","popupIndicatorSlotProps","React.Fragment","option2","index2","Autocomplete$1","getBadgeUtilityClass","badgeClasses","badgeClasses$1","RADIUS_STANDARD","RADIUS_DOT","anchorOrigin","overlap","variant","BadgeRoot","BadgeBadge","Badge","_ref","_slots$root","_ref2","_slots$badge","_slotProps$root","_slotProps$badge","anchorOriginProp","components","children","overlapProp","colorProp","variantProp","invisibleFromHook","displayValueFromHook","RootSlot","BadgeSlot","rootSlotProps","badgeSlotProps","rootProps","useSlotProps","badgeProps","Badge$1","getCircularProgressUtilityClass","_","t","_t","_t2","_t3","_t4","SIZE","circularRotateKeyframe","keyframes","circularDashKeyframe","disableShrink","CircularProgressRoot","css","CircularProgressSVG","CircularProgressCircle","CircularProgress","style","thickness","circleStyle","rootStyle","circumference","CircularProgress$1","GridContext","React.createContext","GridContext$1","getGridUtilityClass","SPACINGS","DIRECTIONS","WRAPS","GRID_SIZES","gridClasses","spacing","wrap","gridClasses$1","getOffset","parse","generateGrid","globalStyles","breakpoint","columnsBreakpointValues","resolveBreakpointValues","columnValue","width","themeSpacing","generateDirection","directionValues","handleBreakpoints","propValue","output","extractZeroValueBreakpointKeys","breakpoints","values","nonZeroKey","key","sortedBreakpointKeysByValue","b","generateRowGap","container","rowSpacing","rowSpacingValues","zeroValueBreakpointKeys","_zeroValueBreakpointK","generateColumnGap","columnSpacing","columnSpacingValues","_zeroValueBreakpointK2","resolveSpacingStyles","spacingStyles","GridRoot","item","zeroMinWidth","breakpointsStyles","resolveSpacingClasses","spacingClasses","breakpointsClasses","Grid","themeProps","useTheme","extendSxProp","columnsProp","columnSpacingProp","rowSpacingProp","columnsContext","React.useContext","columns","breakpointsValues","otherFiltered","Grid$1","getPaginationUtilityClass","usePagination","boundaryCount","count","defaultPage","hideNextButton","hidePrevButton","handleChange","pageProp","showFirstButton","showLastButton","siblingCount","page","setPageState","range","start","end","length","startPages","endPages","siblingsStart","siblingsEnd","itemList","buttonPage","type","items","getPaginationItemUtilityClass","paginationItemClasses","paginationItemClasses$1","FirstPageIcon","createSvgIcon","LastPageIcon","NavigateBeforeIcon","NavigateNextIcon","overridesResolver","shape","PaginationItemEllipsis","PaginationItemPage","ButtonBase","PaginationItemPageIcon","PaginationItem","Icon","PaginationItem$1","PaginationRoot","PaginationUl","defaultGetAriaLabel","Pagination","getItemAriaLabel","renderItem","Pagination$1","mutuallyExclusiveSetterFactory","setState","setMutuallyExclusiveState","arg","next","useMutuallyExclusiveState","initialValue1","initialValue2","_setValue1","React","_setValue2","setValue1","useMemo","setValue2","WarningSharp","WatchLaterTwoTone","_interopRequireDefault","require$$0","Close","default_1","_createSvgIcon","require$$1","_jsxRuntime","require$$2","_default","getDefaultWhiteList","whiteList","onAttr","name","onIgnoreAttr","REGEXP_URL_JAVASCRIPT","safeAttrValue","util","arr","j","fn","scope","str","parseStyle","cssLength","isParenthesisOpen","lastPos","retCSS","addNewAttr","source","ret","c","parser","DEFAULT","isNull","obj","shallowCopyObject","FilterCSS","me","sourcePosition","position","check","isWhite","opts","filterCSS","html","xss","exports","module","reg","match","getDefaultCSSWhiteList","defaultCSSFilter","onTag","tag","onIgnoreTag","onTagAttr","onIgnoreTagAttr","escapeHtml","REGEXP_LT","REGEXP_GT","cssFilter","friendlyAttrValue","REGEXP_DEFAULT_ON_TAG_ATTR_4","REGEXP_DEFAULT_ON_TAG_ATTR_7","REGEXP_DEFAULT_ON_TAG_ATTR_8","escapeAttrValue","REGEXP_QUOTE","REGEXP_QUOTE_2","REGEXP_ATTR_VALUE_1","REGEXP_ATTR_VALUE_COLON","REGEXP_ATTR_VALUE_NEWLINE","escapeQuote","unescapeQuote","escapeHtmlEntities","code","escapeDangerHtml5Entities","clearNonPrintableCharacter","str2","len","onIgnoreTagStripAll","StripTagBody","tags","isRemoveAllTag","isRemoveTag","removeList","posStart","rethtml","pos","stripCommentTag","retHtml","stripBlankChar","chars","char","getTagName","tagName","isClosing","parseTag","tagStart","quoteStart","currentPos","currentTagName","currentHtml","chariterator","ic","REGEXP_ILLEGAL_ATTR_NAME","parseAttr","lastMarkPos","retAttrs","tmpName","addAttr","v","findNextQuotationMark","findNextEqual","findBeforeEqual","stripQuoteWrap","isQuoteWrapString","text","require$$3","getAttrs","keysToLowerCase","FilterXSS","stripIgnoreTagBody","info","attrs","whiteAttrList","attrsHtml","isWhiteAttr","filterXSS","isWorkerEnv","xssOptions","MarkdownButton","widgetParamsMapped","buttonClasses","align","_highlight","highlight","alignLowerCase","buttonIsCenterAligned","buttonColor","button","jsx","WideButton","resolveLinkEntity","synId","versionNumber","accessToken","seen","currentEntity","getEntity","isLink","e","useResolveLinkEntity","useSynapseContext","useQuery","useGetEntityBundle","entityId","version","bundleRequest","ALL_ENTITY_BUNDLE_FIELDS","keyFactory","SynapseClient","useCleanHtml","rawHtml","isLoading","isTrusted","HtmlPreview","createdByUserId","frameEl","useRef","frameHeight","setFrameHeight","useState","teamMembership","useGetIsUserMemberOfTeam","TRUSTED_HTML_USERS_TEAM_ID","updateHeight","newHeightPx","useEffect","cleanHtml","SynapseSpinner","jsxs","Fragment","Alert","PreviewRendererType","MAX_FILE_SIZE","MB","FileHandleContentRenderer","fileHandle","fileHandleAssociation","previewType","batchFileRequest","content","useGetPresignedUrlContent","IMAGE_CONTENT_TYPES","MP4_EXTENSIONS","OGG_EXTENSIONS","VIDEO_EXTENSIONS","CODE_EXTENSIONS","MARKDOWN_EXTENSIONS","getFileExtension","fileName","getOriginalFileHandleRenderer","dataFileHandle","implementsCloudProviderFileHandleInterface","fileExtension","getPreviewFileHandleRenderer","previewFileHandle","originalFileHandle","contentType","FileEntityPreview","bundle","isLoggedIn","isFileEntity","dataFileHandleId","fh","SignInPrompt","FileHandleAssociateType","EntityPreview","resolvedLink","isLoadingLinkResolution","isResolvedLinkFileEntity","isLoadingBundle","MarkdownEntityPreview","parsedReference","parseSynId","parsedVersionNumber","useGetApprovedSubmissionInfoInfinite","accessRequirementId","request","useInfiniteQuery","context","SubmissionInfoCard","UserCard","SMALL_USER_CARD","formatDate","dayjs","MarkdownSynapse","accessorChange","LoadingSubmissionInfoCard","SkeletonTable","Skeleton","IDUReport","inView","useInView","data","status","hasNextPage","isFetchingNextPage","fetchNextPage","allRows","MarkdownIDUReport","accessRestrictionId","cc","names","out","tmp","k","createStoreImpl","createState","state","listeners","partial","replace","nextState","previousState","listener","getState","api","createStore","h","a","l","m","n","p","q","d","f","g","r","u","useSyncExternalStoreShim_production_min","shimModule","w","withSelector_production_min","withSelectorModule","useSyncExternalStoreWithSelector","useSyncExternalStoreExports","useStore","selector","equalityFn","slice","useDebugValue","shallow","objA","objB","keysA","noop","dispatch","Dispatch","parseTypenames","typenames","types","typename","callback","T","get","set","copy","that","args","xhtml","namespaces","namespace","prefix","creatorInherit","document","uri","creatorFixed","fullname","creator","none","selection_select","select","groups","subgroups","subgroup","subnode","Selection","x","empty","selectorAll","arrayAll","selection_selectAll","parents","matcher","childMatcher","find","childFind","childFirst","selection_selectChild","filter","childrenFilter","selection_selectChildren","selection_filter","sparse","update","selection_enter","EnterNode","parent","datum","child","constant$4","bindIndex","enter","exit","groupLength","dataLength","bindKey","nodeByKeyValue","keyValues","keyValue","selection_data","bind","constant","arraylike","enterGroup","updateGroup","exitGroup","i0","i1","previous","selection_exit","selection_join","onenter","onupdate","onexit","selection_merge","selection","groups0","groups1","m0","m1","merges","group0","group1","merge","selection_order","selection_sort","compare","ascending","compareNode","sortgroups","sortgroup","selection_call","selection_nodes","selection_node","selection_size","selection_empty","selection_each","attrRemove","attrRemoveNS","attrConstant","attrConstantNS","attrFunction","attrFunctionNS","selection_attr","defaultView","styleRemove","styleConstant","priority","styleFunction","selection_style","styleValue","propertyRemove","propertyConstant","propertyFunction","selection_property","classArray","classList","ClassList","classedAdd","list","classedRemove","classedTrue","classedFalse","classedFunction","selection_classed","textRemove","textConstant","textFunction","selection_text","htmlRemove","htmlConstant","htmlFunction","selection_html","raise","selection_raise","lower","selection_lower","selection_append","create","constantNull","selection_insert","before","remove","selection_remove","selection_cloneShallow","clone","selection_cloneDeep","selection_clone","deep","selection_datum","contextListener","onRemove","on","o","onAdd","selection_on","dispatchEvent","window","dispatchConstant","dispatchFunction","selection_dispatch","selection_iterator","root","selection_selection","sourceEvent","pointer","svg","point","rect","nonpassive","nonpassivecapture","nopropagation","noevent$1","dragDisable","view","noevent","yesdrag","noclick","constant$3","DragEvent","subject","target","identifier","active","y","dx","dy","defaultFilter","defaultContainer","defaultSubject","defaultTouchable","drag","touchable","gestures","mousedownx","mousedowny","mousemoving","touchending","clickDistance2","mousedowned","touchstarted","touchmoved","touchended","gesture","beforestart","mousemoved","mouseupped","nodrag","touches","touch","s","p0","define","constructor","factory","prototype","extend","definition","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","channels","color_formatHex","color_formatHex8","color_formatHsl","color_formatRgb","hslConvert","format","rgbn","Rgb","rgba","hsla","rgbConvert","rgb","opacity","clampi","clampa","rgb_formatHex","rgb_formatHex8","rgb_formatRgb","hex","Hsl","min","hsl","m2","hsl2rgb","clamph","clampt","constant$2","linear","exponential","gamma","nogamma","interpolateRgb","rgbGamma","colorRgb","interpolateNumber","reA","reB","zero","one","interpolateString","bi","am","bm","bs","number","degrees","identity","decompose","scaleX","scaleY","skewX","svgNode","parseCss","parseSvg","interpolateTransform","pxComma","pxParen","degParen","pop","translate","xa","ya","xb","yb","rotate","scale","interpolateTransformCss","interpolateTransformSvg","epsilon2","cosh","sinh","tanh","interpolateZoom","zoomRho","rho","rho2","rho4","zoom","p1","ux0","uy0","w0","ux1","uy1","w1","d2","S","d1","b0","b1","r0","r1","coshr0","_1","_2","_4","frame","timeout","interval","pokeDelay","taskHead","taskTail","clockLast","clockNow","clockSkew","clock","setFrame","now","clearNow","Timer","timer","delay","time","sleep","timerFlush","wake","nap","poke","t0","t1","t2","elapsed","emptyOn","emptyTween","CREATED","SCHEDULED","STARTING","STARTED","RUNNING","ENDING","ENDED","schedule","timing","schedules","init","self","tween","stop","tick","interrupt","selection_interrupt","tweenRemove","tween0","tween1","tweenFunction","transition_tween","tweenValue","transition","interpolate","string00","string1","interpolate0","string0","string10","transition_attr","attrInterpolate","attrInterpolateNS","attrTweenNS","attrTween","transition_attrTween","delayFunction","delayConstant","transition_delay","durationFunction","durationConstant","transition_duration","easeConstant","transition_ease","easeVarying","transition_easeVarying","transition_filter","Transition","transition_merge","onFunction","on0","on1","sit","transition_on","removeFunction","transition_remove","transition_select","transition_selectAll","inherit","transition_selection","styleNull","styleMaybeRemove","listener0","transition_style","styleInterpolate","styleTween","transition_styleTween","transition_text","textInterpolate","textTween","transition_textTween","transition_transition","id0","id1","newId","transition_end","resolve","reject","cancel","selection_prototype","cubicInOut","defaultTiming","easeCubicInOut","selection_transition","constant$1","ZoomEvent","transform","Transform","location","defaultExtent","defaultTransform","defaultWheelDelta","defaultConstrain","extent","translateExtent","dx0","dx1","dy0","dy1","constrain","wheelDelta","scaleExtent","duration","touchstarting","touchfirst","touchDelay","wheelDelay","tapDistance","wheeled","dblclicked","collection","k0","k1","centroid","clean","Gesture","wheelidled","currentTarget","x0","y0","dragEnable","started","l0","l1","dp","dl","StoreContext","createContext","Provider$1","errorMessages","nodeType","sourceHandle","edge","edgeType","zustandErrorMessage","store","useContext","useStore$1","useStoreApi","selector$g","Panel","rest","pointerEvents","positionClasses","Attribution","proOptions","EdgeText","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","edgeRef","edgeTextBbox","setEdgeTextBbox","edgeTextClasses","textBbox","EdgeText$1","memo","getDimensions","clamp","clampPosition","calcAutoPanVelocity","calcAutoPan","bounds","xMovement","yMovement","getHostForElement","_a","getBoundsOfBoxes","box1","box2","rectToBox","height","boxToRect","x2","y2","nodeToRect","getOverlappingArea","rectA","rectB","xOverlap","yOverlap","isRectObject","isNumeric","internalsSymbol","elementSelectionKeys","devWarn","message","isReactKeyboardEvent","isInputDOMNode","kbEvent","_b","isMouseEvent","getEventPosition","isMouseTriggered","evtX","evtY","BaseEdge","path","labelX","labelY","markerEnd","markerStart","interactionWidth","getMouseHandler$1","handler","getEdgeCenter","sourceX","sourceY","targetX","targetY","xOffset","centerX","yOffset","centerY","getBezierEdgeCenter","sourceControlX","sourceControlY","targetControlX","targetControlY","offsetX","offsetY","ConnectionMode","PanOnScrollMode","SelectionMode","ConnectionLineType","MarkerType","Position","getControl","x1","y1","getSimpleBezierPath","targetPosition","SimpleBezierEdge","handleDirections","getDirection","distance","getPoints","center","offset","sourceDir","targetDir","sourceGapped","targetGapped","dir","dirAccessor","currDir","points","defaultCenterX","defaultCenterY","defaultOffsetX","defaultOffsetY","verticalSplit","horizontalSplit","sourceTarget","targetSource","dirAccessorOpposite","isSameDir","sourceGtTargetOppo","sourceLtTargetOppo","getBend","bendSize","xDir","yDir","getSmoothStepPath","borderRadius","res","segment","SmoothStepEdge","pathOptions","StepEdge","getStraightPath","StraightEdge","calculateControlOffset","curvature","getControlWithCurvature","getBezierPath","BezierEdge","NodeIdContext","Provider","useNodeId","isEdge","getEdgeId","targetHandle","getMarkerId","marker","rfId","connectionExists","edges","el","addEdge","edgeParams","pointToRendererPoint","tx","ty","tScale","snapToGrid","snapX","snapY","rendererPointToPoint","getNodePositionWithOrigin","nodeOrigin","getRectOfNodes","nodes","box","currBox","getNodesInside","nodeInternals","partially","excludeNonSelectableNodes","paneRect","visibleNodes","selectable","hidden","positionAbsolute","nodeRect","overlappingArea","notInitialized","partiallyVisible","area","getConnectedEdges","nodeIds","getTransformForBounds","minZoom","maxZoom","padding","xZoom","yZoom","clampedZoom","boundsCenterX","boundsCenterY","getD3Transition","getHandles","handleBounds","currentHandle","getClosestHandle","connectionRadius","handles","closestHandle","minDistance","handle","nullConnection","isValidHandle","connectionMode","fromNodeId","fromHandleId","fromType","isValidConnection","doc","isTarget","handleDomNode","handleBelow","handleToCheck","result","handleType","getHandleType","handleNodeId","handleId","connectable","connectableEnd","connection","getHandleLookup","nodeId","sourceHandles","targetHandles","edgeUpdaterType","resetRecentHandle","getConnectionStatus","isInsideConnectionRadius","isHandleValid","connectionStatus","handlePointerDown","onConnect","onEdgeUpdateEnd","domNode","autoPanOnConnect","onConnectStart","panBy","getNodes","cancelConnection","autoPanId","prevClosestHandle","clickedHandle","containerBounds","prevActiveHandle","connectionPosition","autoPanStarted","isValid","handleLookup","autoPan","onPointerMove","onPointerUp","alwaysValid","selector$f","connectingSelector","startHandle","endHandle","clickHandle","Handle","forwardRef","isConnectable","isConnectableStart","isConnectableEnd","onMouseDown","onTouchStart","connectOnClick","noPanClassName","connecting","clickConnecting","onConnectExtended","defaultEdgeOptions","onConnectAction","hasDefaultEdges","setEdges","onPointerDown","onClick","onClickConnectStart","onClickConnectEnd","connectionClickStartHandle","isValidConnectionStore","isValidConnectionHandler","Handle$1","DefaultNode","DefaultNode$1","InputNode","InputNode$1","OutputNode","OutputNode$1","GroupNode","selector$e","selectId","areEqual","SelectionListener","onSelectionChange","selectedNodes","selectedEdges","changeSelector","Wrapper$1","storeHasSelectionChange","selector$d","useStoreUpdater","setStoreState","useDirectStoreUpdater","StoreUpdater","defaultNodes","defaultEdges","onConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesUpdatable","elevateNodesOnSelect","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","snapGrid","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","autoPanOnNodeDrag","onError","setNodes","setDefaultNodesAndEdges","setMinZoom","setMaxZoom","setTranslateExtent","setNodeExtent","reset","edgesWithDefaults","ariaLiveStyle","ARIA_NODE_DESC_KEY","ARIA_EDGE_DESC_KEY","ARIA_LIVE_MESSAGE","selector$c","AriaLiveMessage","ariaLiveMessage","A11yDescriptions","disableKeyboardA11y","shiftX","shift","shiftY","EdgeUpdaterClassName","EdgeAnchor","radius","onMouseEnter","onMouseOut","alwaysValidConnection","wrapEdge","EdgeComponent","EdgeWrapper","onEdgeDoubleClick","animated","sourceHandleId","targetHandleId","onContextMenu","onMouseMove","onMouseLeave","edgeUpdaterRadius","onEdgeUpdate","onEdgeUpdateStart","ariaLabel","isFocusable","isUpdatable","updateHover","setUpdateHover","updating","setUpdating","markerStartUrl","markerEndUrl","onEdgeClick","addSelectedEdges","onEdgeDoubleClickHandler","onEdgeContextMenu","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","handleEdgeUpdater","isSourceHandle","_onEdgeUpdateEnd","evt","onEdgeUpdaterSourceMouseDown","onEdgeUpdaterTargetMouseDown","onEdgeUpdaterMouseEnter","onEdgeUpdaterMouseOut","inactive","onKeyDown","unselectNodesAndEdges","createEdgeTypes","edgeTypes","standardTypes","wrappedTypes","specialTypes","getHandlePosition","getHandle","getEdgePositions","sourceNodeRect","targetNodeRect","sourceHandlePos","targetHandlePos","isEdgeVisible","sourcePos","targetPos","sourceWidth","sourceHeight","targetWidth","targetHeight","edgeBox","viewBox","getNodeData","_c","_d","_e","isParentSelected","parentNode","hasSelector","nodeRef","current","getDragItems","mousePos","calcNextPosition","nextPosition","currentExtent","parentX","parentY","parentPosition","getEventHandlerParams","dragItems","extentedDragItems","getHandleBounds","nodeElement","handlesArray","nodeBounds","nodeOffset","getMouseHandler","handleNodeClick","unselect","addSelectedNodes","multiSelectionActive","useGetPointerPosition","useCallback","pointerPos","wrapSelectionDragFunc","selectionFunc","useDrag","noDragClassName","handleSelector","isSelectable","selectNodesOnDrag","dragging","setDragging","mousePosition","dragEvent","getPointerPosition","updateNodes","updateNodePositions","hasChange","updatedPos","onDrag","currentNode","dragHandler","onStart","onStop","useUpdateNodePositions","xVelo","yVelo","factor","positionDiffX","positionDiffY","nodeUpdates","arrowKeyDiffs","wrapNode","NodeComponent","NodeWrapper","xPos","yPos","xPosOrigin","yPosOrigin","onDoubleClick","isDraggable","resizeObserver","dragHandle","zIndex","isParent","initialized","prevSourcePosition","prevTargetPosition","prevType","hasPointerEvents","updatePositions","onMouseEnterHandler","onMouseMoveHandler","onMouseLeaveHandler","onContextMenuHandler","onDoubleClickHandler","onSelectNodeHandler","currNode","typeChanged","sourcePosChanged","targetPosChanged","createNodeTypes","nodeTypes","getPositionWithOrigin","useKeyPress","keyCode","keyPressed","setKeyPressed","modifierPressed","pressedKeys","keyCodes","keysToWatch","keys","kc","keysFlat","downHandler","keyOrCode","useKeyOrCode","isMatchingKey","upHandler","resetHandler","isUp","eventCode","calculateXYZPosition","parentNodePosition","updateAbsoluteNodePositions","parentNodes","z","createNodeInternals","nextNodeInternals","selectedNodeZ","currInternals","internals","d3Zoom","d3Selection","fitViewOnInitDone","fitViewOnInit","isInitialFitView","isVisible","optionNode","nodesInitialized","nextTransform","zoomIdentity","handleControlledNodeSelectionChange","nodeChanges","change","handleControlledEdgeSelectionChange","edgeChanges","updateNodesAndEdgesSelections","changedNodes","changedEdges","hasDefaultNodes","initialViewportHelper","selector$b","useViewportHelper","zoomLevel","nextZoom","useReactFlow","viewportHelper","getNode","getEdges","getEdge","payload","nextNodes","changes","nextEdges","addNodes","addEdges","toObject","deleteElements","nodesDeleted","edgesDeleted","edgeIds","nodesToRemove","parentHit","deletableEdges","initialHitEdges","connectedEdges","edgesToRemove","edgeIdsToRemove","getNodeRect","nodeOrRect","isRect","getIntersectingNodes","currNodeRect","isNodeIntersecting","useGlobalKeyHandler","deleteKeyCode","multiSelectionKeyCode","deleteKeyPressed","multiSelectionKeyPressed","useResizeHandler","rendererNode","updateDimensions","containerStyle","viewChanged","prevViewport","eventViewport","eventToFlowTransform","isWrappedWithClass","isRightClickPan","panOnDrag","usedButton","selector$a","ZoomPane","onMove","onMoveStart","onMoveEnd","onPaneContextMenu","zoomOnScroll","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnScrollMode","zoomOnDoubleClick","defaultViewport","zoomActivationKeyCode","preventScrolling","noWheelClassName","timerId","isZoomingOrPanning","zoomedWithRightMouseButton","zoomPane","prevTransform","d3ZoomHandler","userSelectionActive","zoomActivationKeyPressed","mouseButton","bbox","d3ZoomInstance","updatedTransform","constrainedTransform","currentZoom","pinchDelta","deltaNormalize","deltaX","deltaY","onViewportChangeStart","flowTransform","onViewportChange","onViewportChangeEnd","zoomScroll","pinchZoom","buttonAllowed","selector$9","UserSelection","userSelectionRect","handleParentExpand","updateItem","extendWidth","extendHeight","xDiff","yDiff","applyChanges","elements","initElements","currentChanges","currentChange","applyNodeChanges","applyEdgeChanges","createSelectionChange","getSelectionChanges","selectedIds","willBeSelected","wrapHandler","containerRef","selector$8","Pane","isSelecting","selectionMode","onSelectionStart","onSelectionEnd","onPaneClick","onPaneScroll","onPaneMouseEnter","onPaneMouseMove","onPaneMouseLeave","prevSelectedNodesCount","prevSelectedEdgesCount","resetUserSelection","onWheel","resetSelectedElements","startX","startY","nextUserSelectRect","selectedEdgeIds","selectedNodeIds","onMouseUp","hasActiveSelection","selector$7","NodesSelection","onSelectionContextMenu","left","top","transformString","NodesSelection$1","selector$6","FlowRenderer","selectionKeyCode","selectionOnDrag","panActivationKeyCode","_panOnDrag","nodesSelectionActive","selectionKeyPressed","FlowRenderer$1","useVisibleNodes","onlyRenderVisible","selector$5","NodeRenderer","updateNodeDimensions","resizeObserverRef","observer","entries","updates","entry","clampedPosition","posX","posY","posOrigin","NodeRenderer$1","defaultEdgeTree","groupEdgesByZLevel","elevateEdgesOnSelect","maxLevel","levelLookup","tree","hasZIndex","edgeTree","level","useVisibleEdges","sourceNode","targetNode","ArrowSymbol","strokeWidth","ArrowClosedSymbol","MarkerSymbols","useMarkerSymbol","Marker","markerUnits","orient","Symbol","markerSelector","defaultColor","ids","markers","markerId","MarkerDefinitions","MarkerDefinitions$1","selector$4","EdgeRenderer","defaultMarkerColor","onlyRenderVisibleElements","isMaxLevel","sourceHandleBounds","sourceIsValid","targetHandleBounds","targetIsValid","targetNodeHandles","EdgeRenderer$1","selector$3","Viewport","useOnInitHandler","onInit","rfInstance","isInitialized","oppositePosition","ConnectionLine","CustomComponent","fromNode","toX","toY","fromHandleBounds","fromHandle","fromHandleX","fromHandleY","fromX","fromY","fromPosition","toPosition","dAttr","pathParams","selector$2","ConnectionLineWrapper","GraphView","onNodeClick","onNodeDoubleClick","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","connectionLineType","connectionLineStyle","connectionLineComponent","connectionLineContainerStyle","GraphView$1","infiniteExtent","initialState","createRFStore","fitViewOnInitOptions","viewportNode","dimensions","nextFitViewOnInitDone","nodeDragItems","positionChanged","triggerNodeChanges","edgeId","storeEdges","nodesToUnselect","edgesToUnselect","delta","ReactFlowProvider","storeRef","Wrapper","useNodeOrEdgeTypes","nodeOrEdgeTypes","createTypes","defaultNodeTypes","defaultEdgeTypes","initNodeOrigin","initSnapGrid","initDefaultViewport","wrapperStyle","ReactFlow","attributionPosition","nodeTypesWrapped","edgeTypesWrapped","createUseItemsState","initialItems","setItems","onItemsChange","useNodesState","useEdgesState","PlusIcon","MinusIcon","FitViewIcon","LockIcon","UnlockIcon","ControlButton","isInteractiveSelector","Controls","showZoom","showFitView","showInteractive","onZoomIn","onZoomOut","onFitView","onInteractiveChange","setIsVisible","isInteractive","zoomIn","zoomOut","onZoomInHandler","onZoomOutHandler","onFitViewHandler","onToggleInteractivity","Controls$1","useGetEntityActionsRequired","useGetEntityChildren","useGetEntityChildrenInfinite","ActivityNodeLabel","userProfile","useGetUserProfile","friendlyModifiedOn","description","Tooltip","Typography","UserCardSmall","codeFileExtensionSet","ProvenanceEntityIcon","entityHeader","entityType","convertToEntityType","EntityType","lastPeriodIndex","extension","IconSvg","EntityTypeIcon","EntityNodeLabel","targetVersionNumberString","entityVersionString","PRODUCTION_ENDPOINT_CONFIG","isVersionableEntityType","pluralize","require","this","pluralRules","singularRules","uncountables","irregularPlurals","irregularSingles","sanitizeRule","rule","restoreCase","word","token","sanitizeWord","rules","replaceWord","replaceMap","keepMap","checkWord","bool","inclusive","pluralized","replacement","single","plural","ExpandGraphNodeLabel","itemCount","githubRegex","githubusercontentRegex","ProvenanceExternalIcon","url","icon","parsedUrl","hostname","ExternalGraphNodeLabel","baseClone","CLONE_SYMBOLS_FLAG","clone_1","constant_1","isArrayLike","createBaseEach","eachFunc","fromRight","iteratee","iterable","_createBaseEach","baseForOwn","baseEach","_baseEach","castFunction","_castFunction","arrayEach","isArray","forEach","func","forEach_1","each","baseFilter","predicate","_baseFilter","arrayFilter","baseIteratee","filter_1","objectProto","hasOwnProperty","baseHas","object","_baseHas","hasPath","has","has_1","baseKeys","getTag","isArguments","require$$4","isBuffer","require$$5","isPrototype","require$$6","isTypedArray","require$$7","mapTag","setTag","isEmpty","isEmpty_1","isUndefined","isUndefined_1","baseMap","_baseMap","arrayMap","map","map_1","arrayReduce","accumulator","initAccum","_arrayReduce","baseReduce","_baseReduce","reduce","reduce_1","baseProperty","asciiSize","_asciiSize","rsAstralRange","rsComboMarksRange","reComboHalfMarksRange","rsComboSymbolsRange","rsComboRange","rsVarRange","rsZWJ","reHasUnicode","hasUnicode","_hasUnicode","rsAstral","rsCombo","rsFitz","rsModifier","rsNonAstral","rsRegional","rsSurrPair","reOptMod","rsOptVar","rsOptJoin","rsSeq","rsSymbol","reUnicode","unicodeSize","_unicodeSize","stringSize","_stringSize","isString","size_1","baseCreate","getPrototype","isFunction","isObject","require$$8","require$$9","isArr","isArrLike","Ctor","transform_1","spreadableSymbol","isFlattenable","_isFlattenable","arrayPush","baseFlatten","depth","isStrict","_baseFlatten","apply","thisArg","_apply","nativeMax","overRest","otherArgs","_overRest","defineProperty","baseSetToString","_baseSetToString","HOT_COUNT","HOT_SPAN","nativeNow","shortOut","lastCalled","stamp","remaining","_shortOut","setToString","_setToString","baseRest","_baseRest","isObjectLike","isArrayLikeObject","isArrayLikeObject_1","baseUniq","union","arrays","union_1","baseValues","_baseValues","values_1","lodash","require$$10","require$$11","require$$12","require$$13","require$$14","require$$15","lodash_1","graph","Graph","DEFAULT_EDGE_NAME","GRAPH_NODE","EDGE_KEY_DELIM","newDefault","vs","removeEdge","ancestor","predsV","sucsV","preds","neighbors","findParent","valueSpecified","arg0","edgeArgsToId","edgeObj","edgeArgsToObj","incrementOrInitEntry","edgeObjToId","decrementOrRemoveEntry","inV","outV","inEdges","isDirected","v_","w_","lib","json","write","read","writeNodes","writeEdges","nodeValue","edgeValue","components_1","visited","cmpts","cmpt","dfs","priorityQueue","PriorityQueue","keyIndices","largest","origArrI","origArrJ","dijkstra_1","dijkstra","DEFAULT_WEIGHT_FUNC","weightFn","edgeFn","runDijkstra","results","pq","vEntry","updateNeighbors","wEntry","weight","dijkstraAll_1","dijkstraAll","weightFunc","edgeFunc","tarjan_1","tarjan","stack","findCycles_1","findCycles","floydWarshall_1","floydWarshall","runFloydWarshall","rowK","rowI","ik","kj","ij","altDistance","topsort_1","topsort","CycleException","visit","isAcyclic_1","isAcyclic","dfs_1","order","navigation","doDfs","postorder","postorder_1","preorder_1","preorder","prim_1","prim","pri","edgeWeight","alg","graphlib","graphlib_1","eq","isIndex","isIterateeCall","_isIterateeCall","keysIn","defaults","sources","guard","propsIndex","propsLength","defaults_1","createFind","findIndexFunc","fromIndex","_createFind","toNumber","INFINITY","MAX_INTEGER","toFinite","sign","toFinite_1","toInteger","remainder","toInteger_1","baseFindIndex","findIndex_1","find_1","flatten","flatten_1","baseFor","forIn","forIn_1","last","last_1","isSymbol","baseExtremum","comparator","computed","_baseExtremum","baseGt","_baseGt","max_1","baseAssignValue","assignMergeValue","_assignMergeValue","safeGet","_safeGet","copyObject","toPlainObject","toPlainObject_1","cloneBuffer","cloneTypedArray","copyArray","initCloneObject","isPlainObject","baseMergeDeep","srcIndex","mergeFunc","customizer","objValue","srcValue","stacked","isCommon","isBuff","isTyped","_baseMergeDeep","Stack","baseMerge","_baseMerge","createAssigner","assigner","_createAssigner","merge_1","baseLt","_baseLt","min_1","minBy","minBy_1","basePickBy","hasIn","basePick","paths","_basePick","flatRest","_flatRest","pick","pick_1","nativeCeil","baseRange","step","_baseRange","createRange","_createRange","range_1","baseSortBy","comparer","_baseSortBy","compareAscending","valIsDefined","valIsNull","valIsReflexive","valIsSymbol","othIsDefined","othIsNull","othIsReflexive","othIsSymbol","_compareAscending","compareMultiple","orders","objCriteria","othCriteria","ordersLength","_compareMultiple","baseGet","baseUnary","baseOrderBy","iteratees","criteria","_baseOrderBy","sortBy","sortBy_1","toString","idCounter","uniqueId","uniqueId_1","baseZipObject","assignFunc","valsLength","_baseZipObject","assignValue","zipObject","zipObject_1","require$$16","require$$17","require$$18","require$$19","require$$20","require$$21","require$$22","require$$23","require$$24","require$$25","List","sentinel","unlink","strs","curr","filterOutLinks","greedyFas","greedyFAS","DEFAULT_WEIGHT_FN","buildState","doGreedyFAS","buckets","zeroIdx","sinks","removeNode","collectPredecessors","uEntry","assignBucket","fasGraph","maxIn","maxOut","prevWeight","acyclic","run","undo","fas","dfsFAS","forwardName","addDummyNode","simplify","asNonCompoundGraph","successorWeights","predecessorWeights","intersectRect","buildLayerMatrix","normalizeRanks","removeEmptyRanks","addBorderNode","maxRank","partition","notime","simplified","simpleLabel","weightMap","sucs","sx","sy","layering","rank","layers","nodeRankFactor","normalize","normalizeEdge","vRank","wRank","edgeLabel","labelRank","dummy","origLabel","longestPath","slack","feasibleTree_1","feasibleTree","tightTree","findMinSlackEdge","shiftRanks","edgeV","initRank","networkSimplex_1","networkSimplex","initLowLimValues","initCutValues","calcCutValue","leaveEdge","enterEdge","exchangeEdges","assignCutValue","childLab","childIsTail","graphEdge","cutValue","isOutEdge","pointsToHead","otherWeight","isTreeEdge","otherCutValue","dfsAssignLowLim","nextLim","low","vLabel","wLabel","tailLabel","flip","candidates","isDescendant","updateRanks","flipped","rootLabel","rankUtil","rank_1","networkSimplexRanker","tightTreeRanker","longestPathRanker","parentDummyChains_1","parentDummyChains","postorderNums","pathData","findPath","lca","pathIdx","pathV","vPath","wPath","lim","nestingGraph","cleanup","depths","treeDepths","nodeSep","sumWeights","bottom","childNode","childTop","childBottom","thisWeight","minlen","graphLabel","addBorderSegments_1","addBorderSegments","prop","sg","sgNode","coordinateSystem","adjust","rankDir","swapWidthHeight","reverseY","swapXY","swapWidthHeightOne","reverseYOne","swapXYOne","initOrder_1","initOrder","simpleNodes","orderedVs","crossCount_1","crossCount","twoLayerCrossCount","northLayer","southLayer","southPos","southEntries","firstIndex","treeSize","weightSum","barycenter_1","barycenter","movable","nodeU","resolveConflicts_1","resolveConflicts","cg","mappedEntries","entryV","entryW","sourceSet","doResolveConflicts","handleIn","mergeEntries","handleOut","sum","sort_1","sort","biasRight","parts","sortable","unsortable","vsIndex","compareWithBias","consumeUnsortable","bias","sortSubgraph_1","sortSubgraph","bl","br","subgraphs","barycenters","subgraphResult","mergeBarycenters","expandSubgraphs","blPred","brPred","buildLayerGraph_1","buildLayerGraph","relationship","createRootNode","addSubgraphConstraints_1","addSubgraphConstraints","rootPrev","prevChild","order_1","downLayerGraphs","buildLayerGraphs","upLayerGraphs","assignOrder","bestCC","best","lastBest","sweepLayerGraphs","ranks","layerGraphs","lg","sorted","layer","bk","positionX","findType1Conflicts","findType2Conflicts","addConflict","hasConflict","verticalAlignment","horizontalCompaction","alignCoordinates","findSmallestWidthAlignment","balance","conflicts","visitLayer","prevLayer","scanPos","prevLayerLength","lastNode","findOtherInnerSegmentNode","scanNode","uLabel","uPos","scan","south","southEnd","prevNorthBorder","nextNorthBorder","uNode","north","prevNorthPos","nextNorthPos","southLookahead","predecessors","conflictsV","neighborFn","prevIdx","ws","mp","il","reverseSep","xs","blockG","buildBlockGraph","borderType","iterate","setXsFunc","nextNodesFunc","elem","pass1","pass2","blockGraph","sepFn","sep","vRoot","uRoot","prevMax","halfWidth","alignTo","alignToVals","alignToMin","alignToMax","vert","horiz","alignment","xsVals","ignore","adjustedLayering","inner","smallestWidth","edgeSep","position_1","positionY","rankSep","prevY","maxHeight","layout_1","layout","layoutGraph","buildLayoutGraph","runLayout","updateInputGraph","makeSpaceForEdgeLabels","removeSelfEdges","injectEdgeLabelProxies","assignRankMinMax","removeEdgeLabelProxies","insertSelfEdges","positionSelfEdges","removeBorderNodes","fixupEdgeLabelCoords","translateGraph","assignNodeIntersects","reversePointsForReversedEdges","inputGraph","inputLabel","layoutLabel","graphNumAttrs","graphDefaults","graphAttrs","nodeNumAttrs","nodeDefaults","edgeNumAttrs","edgeDefaults","edgeAttrs","canonicalize","selectNumberAttrs","minX","maxX","minY","maxY","marginX","marginY","getExtremes","nodeV","nodeW","p2","orderShift","selfEdge","selfNode","newAttrs","debug","debugOrdering","layerMatrix","layerV","dagre","UndefinedNodeLabel","HelpPopover","EntityPlaceholderNodeLabel","NodeType","NodeType2","getProvenanceNode","nodeLabel","nodeData","getNodeId","getProvenanceEdge","node1Props","node2Props","node1Id","node2Id","dagreGraph","getNodeHeight","getNodeWidth","getLayoutedElements","isHorizontal","nodeWithPosition","isArrayEqual","differenceWith","isEqual","isRootEntity","rootEntityHeaders","header","isNodeNotFound","nodeProps","nodesCopy","findEntityNode","isEdgeNotFound","nodeProps1","nodeProps2","edgesCopy","addNodeAndEdge","newNodeProps","existingNodeProps","addActivityNode","activity","activityNodeProps","entityNodeProps","addExpandNode","expandNodeProps","addEntityPlaceholderNode","entityPlaceholderNodeProps","addUndefinedNode","undefinedNodeProps","addExternalNode","usedURL","externalNodeProps","addEntityNode","MAX_ACTIVITY_EXPAND_NODES","DEFAULT_ZOOM","ProvenanceReactFlow","rootEntityRefs","containerHeight","initialNodes","initialEdges","onNodesChangedListener","onEdgesChangedListener","tempNodes","setTempNodes","tempEdges","setTempEdges","clickedNode","setClickedNode","handleError","useErrorHandler","rootEntityHeadersPage","isSuccess","useGetEntityHeaders","synapseIds","initializedPosition","setInitializedPosition","reactFlowInstance","onClickNode","_event","addEntity","usedInActivity","rootEntityNode","onExpandEntity","usedEntityReferences","usedItem","USED_ENTITY_CONCRETE_TYPE_VALUE","usedEntityHeadersPage","usedEntityHeaderPageResults","addEntityPromises","addAndExpandPromises","addEntityPromise","expandEntityPromise","expandNodeDataProps","displayToast","nodesWithoutExpandNode","edgeToRemove","edgesWithoutExpandEdge","layoutedNodes","layoutedEdges","onPaneScrollFunction","ProvenanceGraph","SynapseErrorBoundary","MarkdownProvenanceGraph","entityList","displayHeightPx","refs","entityAndVersion","SynapseImage","synapseId","fileHandleAssociationList","getFiles","preSignedURL","err","fileResults","altText","__publicField","SynapseContext","SynapseWikiContext","SynapseWikiContextProvider","wikiContext","SynapseWikiContextConsumer","useWikiContext","MarkdownSynapseImage","wikiId","wikiPage","fileHandles","Plot","createPlotlyComponent","Plotly","SynapsePlot","query","queryRequest","SynapseConstants.BUNDLE_MASK_QUERY_RESULTS","parseEntityIdFromSqlStatement","getFullQueryTableResults","title","xtitle","ytitle","xaxistype","showlegend","queryData","plotData","orientation","headers","row","rowValues","MarkdownSynapsePlot","ownerId","QueryContext","QueryContextProvider","queryContext","useQueryContext","usePaginatedQueryContext","useInfiniteQueryContext","QueryContextConsumer","NoContentAvailable","NoContentPlaceholderType","SearchResultsNotFound","NoSearchResults","ThisTableIsEmpty","NoData","getStoredEntityHeaders","SynapseConstants.ENTITY_HEADER_STORAGE_KEY","getStoredUserProfiles","SynapseConstants.USER_PROFILE_STORAGE_KEY","getStoredEvaluation","SynapseConstants.EVALUATIONS_STORAGE_KEY","getDisplayValueForEntityColumn","entity","getDisplayValueEvaluationIdColumn","facetValue","evaluation","getDisplayValueUserIdColumn","getDisplayValue","columnType","SynapseConstants.VALUE_NOT_SET","SynapseConstants.FRIENDLY_VALUE_NOT_SET","ColumnTypeEnum","getColumnIndicesWithType","columnTypes","columnsOfTypeEntity","getUniqueEntities","mapIdToHeader","indices","distinctEntities","colIndex","isFileViewOrDataset","isEntityView","hasFilesInView","isDataset","getFileColumnModelId","columnModels","entityIdColumnModels","idColumnModel","QueryVisualizationContext","QueryVisualizationContextProvider","queryVisualizationContext","useQueryVisualizationContext","QueryVisualizationContextConsumer","QueryVisualizationWrapper","noContentPlaceholderType","isRowSelectionVisible","columnAliases","defaultShowSearchBar","defaultShowFacetVisualization","getLastQueryRequest","isFacetsAvailable","hasResettableFilters","rowSelectionPrimaryKey","cm","showSqlEditor","setShowSqlEditor","showFacetVisualization","setShowFacetVisualization","showCopyToClipboard","setShowCopyToClipboard","showFacetFilter","setShowFacetFilter","showSearchBar","setShowSearchBar","showDownloadConfirmation","setShowDownloadConfirmation","isShowingExportToCavaticaModal","setIsShowingExportToCavaticaModal","visibleColumns","setVisibleColumns","selectedRows","setSelectedRows","lastQueryRequest","selectColumns","useDeepCompareMemoize","getColumnDisplayName","columnName","forceDisplayOriginalColumnName","unCamelCase","NoContentPlaceholder","MIN_SEARCH_QUERY_LENGTH","FullTextSearch","helpMessage","helpUrl","executeQueryRequest","searchText","setSearchText","searchInputRef","Collapse","lastQueryRequestDeepClone","additionalFilters","textMatchesQueryFilter","hasExcape","escapeMatcher","escapeReplacer","untilde","setter","part","hasNextPart","oldValue","compilePointer","compile","compiled","jsonpointer","baseIsEqual","isEqual_1","uniqWith","uniqWith_1","SetCache","arrayIncludes","arrayIncludesWith","cacheHas","nativeMin","baseIntersection","includes","othLength","othIndex","caches","maxLength","outer","cache","_baseIntersection","castArrayLikeObject","_castArrayLikeObject","intersectionWith","mapped","intersectionWith_1","baseGetTag","boolTag","isBoolean","isBoolean_1","uniq","normalizeArray","undef","stringArray","undefEmpty","keyValEqual","undefAndZero","falseUndefined","emptySchema","schema","emptyObjUndef","isSchema","undefArrayEqual","unsortedNormalizedArray","schemaGroup","allProps","aVal","bVal","unsortedArray","uniqueA","uniqueB","inter","comparers","acceptsUndefined","schemaProps","allKeys","innerCompare","aValue","bValue","src","isNumber","isInteger","isIntegerArray","MAXINT","gcd","bitwise","compute","nargs","clbk","lcm","customDefaultsMerge","_customDefaultsMerge","mergeWith","mergeWith_1","defaultsDeep","defaultsDeep_1","flattenDeep","flattenDeep_1","intersection","intersection_1","baseIndexOfWith","_baseIndexOfWith","baseIndexOf","arrayProto","splice","basePullAll","indexOf","_basePullAll","pullAll","pullAll_1","LARGE_ARRAY_SIZE","baseDifference","valuesLength","valuesIndex","_baseDifference","without","without_1","deleteUndefinedProps","returnObject","isEmptySchema","allUniqueKeys","getValues","schemas","propName","notUndefined","withoutArr","common","removeFalseSchemas","mergeSchemaGroup","mergeSchemas","all","compacted","properties","mergers","subSchema","otherSubSchemas","ownKeys","ownPatterns","allOtherKeys","keysMatchingPattern","pk","ownPatternKeys","allOtherPatterns","removeFalseSchemasFromArray","getItemSchemas","subSchemas","sub","schemaAtPos","getAdditionalSchemas","mergeItems","itemsCompacted","schemasAtLastPos","cloneDeep","computeLcm","propertiesResolver","itemsResolver","contains","isFalse","isTrue","schemaResolver","first","required","maximumValue","minimumValue","uniqueItems","examples","compareProp","getAllOf","allOf","tryMergeSchemaGroups","schemaGroups","getAnyOfCombinations","arrOfArrays","combinations","combination","throwIncompatible","asJSON","callGroupResolver","complexKeywords","resolverName","resolverConfig","extractedKeywordsOnly","unique","extraKey","createRequiredMetaArray","schemaGroupProps","schemaArrays","defaultResolvers","normalized","childKey","childSchemas","innerCompacted","innerArrays","innerSchemas","arrayMetaScheams","integers","enums","defaultComplexResolvers","merger","rootSchema","totalSchemas","complexResolvers","base","merged","complexKeysArr","mainKeyWord","resolverConf","resolver","resolverKeyword","allSchemas","thing","allowAdditionalItems","asNumber","valid","_defineProperties","descriptor","_toPropertyKey","_createClass","Constructor","protoProps","staticProps","_objectDestructuringEmpty","excluded","sourceKeys","_toPrimitive","hint","ADDITIONAL_PROPERTY_FLAG","ADDITIONAL_PROPERTIES_KEY","ALL_OF_KEY","ANY_OF_KEY","CONST_KEY","DEFAULT_KEY","DEPENDENCIES_KEY","ENUM_KEY","ERRORS_KEY","ID_KEY","IF_KEY","ITEMS_KEY","JUNK_OPTION_ID","NAME_KEY","ONE_OF_KEY","PROPERTIES_KEY","REQUIRED_KEY","SUBMIT_BTN_OPTIONS_KEY","REF_KEY","RJSF_ADDITONAL_PROPERTIES_FLAG","ROOT_SCHEMA_PREFIX","UI_FIELD_KEY","UI_WIDGET_KEY","UI_OPTIONS_KEY","UI_GLOBAL_OPTIONS_KEY","getUiOptions","uiSchema","globalOptions","_extends2","canExpand","formData","_getUiOptions","_getUiOptions$expanda","expandable","createErrorHandler","_handler","formObject","_extends3","deepEquals","isEqualWith","splitKeyElementFromObject","omit","findSchemaDefinition","$ref","_splitKeyElementFromO","theRef","getMatchingOption","validator","discriminatorField","discriminator","requiresAnyOf","augmentedSchema","shallowClone","getFirstMatchingOption","getDiscriminatorFieldFromSchema","maybeString","guessType","getSchemaType","obj1","obj2","right","_excluded$1","_excluded2","_excluded3","_excluded4","_excluded5","retrieveSchema","rawFormData","retrieveSchemaInternal","resolveCondition","expandAllBranches","expression","then","otherwise","resolvedSchemaLessConditional","conditionValue","resolvedSchemas","conditionalSchema","getAllPermutationsOfXxxOf","listOfLists","allPermutations","permutations","times","permutation","resolveSchema","resolveReference","resolveDependencies","allOfSchemaElements","allOfSubschema","localSchema","refSchema","stubExistingAdditionalProperties","theSchema","aFormData","additionalProperties","resolvedSchema","mergeAllOf","_resolvedSchema","resolvedSchemaWithoutAllOf","hasAdditionalProperties","resolveAnyOrOneOfSchemas","anyOrOneOf","dependencies","remainingSchema","processDependencies","_loop","dependencyKey","remainingDependencies","dependencyValue","withDependentProperties","withDependentSchema","_ret","additionallyRequired","dependentSchemas","dependent","oneOf","dependentSchema","resolvedOneOfs","subschema","resolvedOneOf","withExactlyOneSubschema","validSubschemas","conditionPropertySchema","_properties","conditionSchema","_splitKeyElementFromO2","dependentSubschema","JUNK_OPTION","calculateIndexScore","totalScore","isObject$1","score","formValue","newSchema","getClosestMatchingOption","newScore","selectedOption","allValidIndexes","validList","testOptions","_allValidIndexes$redu","scoreData","bestScore","bestIndex","isFixedItems","mergeDefaultsWithFormData","defaultsArray","idx","mergeObjects","concatArrays","toMerge","isConstant","isSelect","altSchemas","isMultiSelect","AdditionalItemsHandling","getInnerSchemaForArrayItem","additionalItems","maybeAddDefaultToObject","computedDefault","includeUndefinedValues","isParentRequired","requiredFields","experimental_defaultFormStateBehavior","_experimental_default","_experimental_default2","emptyObjectFields","computeDefaults","rawSchema","_temp","parentDefaults","_ref$rootSchema","_ref$includeUndefined","_ref$_recurseList","_recurseList","_ref$experimental_def","_ref$required","schemaToCompute","updatedRecurseList","refName","itemSchema","_discriminator","objectDefaults","_schema$required","additionalPropertiesSchema","formDataRequired","_schema$required2","schemaItem","ignoreMinItemsFlagSet","defaultsLength","defaultEntries","fillerSchema","fillerDefault","fillerEntries","getDefaultFormState","isCustomWidget","isFilesArray","itemsSchema","getDisplayLabel","uiOptions","_uiOptions$label","displayLabel","schemaType","mergeValidationData","validationData","additionalErrorSchema","oldErrors","oldErrorSchema","errors","errorSchema","NO_VALUE","sanitizeDataForNewSchema","oldSchema","newFormData","removeOldSchemaData","nestedData","oldKeyedSchema","newKeyedSchema","oldSchemaTypeForKey","newSchemaTypeForKey","itemData","newOptionDefault","oldOptionDefault","newOptionConst","oldOptionConst","oldSchemaItems","newSchemaItems","oldSchemaType","newSchemaType","maxItems","itemValue","toIdSchemaInternal","idPrefix","idSeparator","_schema","sameSchemaIndex","$id","idSchema","field","fieldId","toIdSchema","toPathSchemaInternal","_pathSchema","pathSchema","xxxOf","_schema2","property","toPathSchema","SchemaUtils","_proto","createSchemaUtils","dataURItoBlob","dataURI","splitted","param","binary","blob","error","replaceStringParameters","inputString","partIndex","englishStringTranslator","stringToTranslate","enumOptionsValueForIndex","valueIndex","allEnumOptions","emptyValue","enumOptionsDeselectValue","enumOptionsIsSelected","sel","enumOptionsIndexForValue","selectedIndexes","opt","enumOptionsSelectValue","updated","ErrorSchemaBuilder","initialSchema","pathOfError","errorBlock","errorOrList","errorsList","_errorsList","listToAdd","rangeSpec","spec","defaultType","autoDefaultStepAny","inputProps","DEFAULT_OPTIONS","getSubmitButtonOptions","getTemplate","registry","templates","widgetMap","mergeWidgetOptions","AWidget","MergedWidget","defaultOptions","getWidget","widget","registeredWidgets","ReactIs","createElement","registeredWidget","_registeredWidget","hasWidget","idGenerator","suffix","theId","descriptionId","errorId","examplesId","helpId","titleId","ariaDescribedByIds","includeExamples","optionId","optionIndex","labelValue","hideLabel","fallback","localToUTC","dateString","toConstant","optionsList","schemaWithEnumNames","aSchemaDef","aSchema","orderProperties","arrayToHash","errorPropList","propertyHash","orderFiltered","orderHash","restIndex","complete","pad","num","parseDateString","includeTime","date","schemaRequiresTrueValue","schemaSome","shouldRender","nextProps","toDateString","dateObject","year","month","day","_dateObject$hour","hour","_dateObject$minute","minute","_dateObject$second","second","utcTime","datetime","toErrorList","fieldPath","errorList","childSchema","toErrorSchema","builder","toPath","unwrapErrorHandler","errorHandler","utcToLocal","jsonDate","yyyy","MM","dd","hh","mm","ss","SSS","validationDataMerge","withIdRefPrefixObject","realObj","withIdRefPrefix","withIdRefPrefixArray","schemaNode","TranslatableString","nanoid","byte","_inheritsLoose","subClass","superClass","_setPrototypeOf","_excluded$9","generateRowId","generateKeyedFormData","keyedToPlainFormData","keyedFormData","keyedItem","ArrayField","_Component","_this","_this$props","schemaUtils","newKeyedFormDataRow","newKeyedFormData","_this$props2","newErrorSchema","_this$props3","reOrderArray","_newKeyedFormData","_this$props4","arrayData","jsonValue","_this$props5","_props$formData","_formData","_keyedFormData","prevState","nextFormData","previousKeyedFormData","previousKeyedFormDatum","formItems","_this$props6","addable","_this$props7","translateString","UnsupportedFieldTemplate","_this2","_this$props8","_this$props8$uiSchema","_this$props8$disabled","_this$props8$readonly","readonly","_this$props8$autofocu","autofocus","_this$props8$required","onBlur","onFocus","_this$props8$idSepara","rawErrors","formContext","_schemaItems","canAdd","arrayProps","itemCast","itemErrorSchema","itemIdPrefix","itemIdSchema","Template","_this$props9","_this$props9$disabled","_this$props9$readonly","_this$props9$autofocu","_this$props9$required","hideError","placeholder","_this$props9$formData","widgets","globalUiOptions","_getUiOptions2","uiTitle","Widget","_this$props10","_this$props10$formDat","_this$props10$disable","_this$props10$readonl","_this$props10$autofoc","_this$props10$require","enumOptions","_getUiOptions3","_getUiOptions3$widget","_ref3","_this$props11","_this$props11$disable","_this$props11$readonl","_this$props11$autofoc","_this$props11$require","_this$props11$formDat","_getUiOptions4","_getUiOptions4$widget","_this3","_this$props12","_this$props12$uiSchem","_this$props12$formDat","_this$props12$idSepar","_this$props12$disable","_this$props12$readonl","_this$props12$autofoc","_this$props12$require","_this$props$formData","itemSchemas","additionalSchema","additional","itemUiSchema","_props$canRemove","canRemove","canMoveUp","canMoveDown","totalItems","_this$props13","_registry$fields","ArraySchemaField","SchemaField","ItemSchemaField","_getUiOptions5","_getUiOptions5$ordera","orderable","_getUiOptions5$remova","removable","_getUiOptions5$copyab","copyable","_this$props14","Component","_excluded$8","BooleanField","_getUiOptions$widget","_getUiOptions$label","yes","no","_schema$enum","_excluded$7","AnyOfField","_this$state","retrievedOptions","intOption","newOption","oldOption","_schemaUtils","_retrievedOptions","newState","_newState","_retrievedOptions2","matchingOption","baseType","_this$props6$disabled","_this$props6$errorSch","fields","_SchemaField","_this$state2","autocomplete","_getUiOptions$title","fieldErrorSchema","optionSchema","translateEnum","translateParams","trailingCharMatcherWithPrefix","trailingCharMatcher","NumberField","initialValue","_useState","lastValue","setLastValue","StringField","processed","re","ObjectField","_len","_key","addedByAdditionalProperties","copiedFormData","unset","preferredKey","_getUiOptions$duplica","duplicateKeySuffixSeparator","newKey","_newKeys","_extends4","newKeys","renamedObj","apSchema","_uiOptions$title","_uiOptions$descriptio","_this$props6$uiSchema","_this$props6$required","_this$props6$readonly","_schema$properties","schemaProperties","orderedProperties","Markdown","templateProps","fieldUiSchema","fieldIdSchema","_excluded$6","COMPONENT_TYPES","getFieldComponent","SchemaFieldRender","_idSchema","onKeyChange","onDropPropertyClick","_props$wasPropertyKey","wasPropertyKeyModified","FieldTemplate","DescriptionFieldTemplate","FieldHelpTemplate","FieldErrorTemplate","handleFieldComponentChange","FieldComponent","uiSchemaHideError","__errors","help","classNames","helpComponent","errorsComponent","fieldProps","_AnyOfField","_OneOfField","isReplacingAnyOrOneOf","_excluded$5","_props$disabled","_props$readonly","_props$autofocus","defaultWidget","_getUiOptions$placeho","NullField","ArrayFieldDescriptionTemplate","_options$label","ArrayFieldItemTemplate","hasToolbar","hasMoveDown","hasMoveUp","hasRemove","hasCopy","onCopyIndexClick","onDropIndexClick","onReorderClick","_registry$templates$B","CopyButton","MoveDownButton","MoveUpButton","RemoveButton","btnStyle","_excluded$4","ArrayFieldTemplate","onAddClick","ArrayFieldTitleTemplate","AddButton","itemProps","TitleFieldTemplate","_excluded$3","BaseInputTemplate","onChangeOverride","_onChange","_onBlur","_onFocus","example","SubmitButton","_getSubmitButtonOptio","submitText","norender","_getSubmitButtonOptio2","submitButtonProps","_excluded$2","_props$iconType","iconType","otherProps","buttonTemplates","DescriptionField","ErrorList","REQUIRED_FIELD_SYMBOL$1","Label","WrapIfAdditionalTemplate","_props$errors","ObjectFieldTemplate","REQUIRED_FIELD_SYMBOL","TitleField","UnsupportedField","keyLabel","rangeOptions","readyForChange","dateElementProps","yearsRange","DateElement","rootId","SelectWidget","AltDateWidget","_ref2$time","_ref2$disabled","_ref2$readonly","_ref2$autofocus","_useReducer","useReducer","action","stateValue","_setState","handleSetNow","elemProps","AltDateTimeWidget","_ref$time","CheckboxWidget","_options$description","_ref$autofocus","CheckboxesWidget","_ref$options","_ref$options$inline","inline","enumDisabled","checkboxesValues","checked","itemDisabled","disabledCls","checkbox","ColorWidget","DateWidget","DateTimeWidget","EmailWidget","addNameToDataURL","dataURL","processFile","file","reader","_event$target","processFiles","files","FileInfoPreview","fileInfo","FilesInfo","filesInfo","preview","extractFileInfo","dataURLs","_dataURItoBlob","FileWidget","setFilesInfo","filesInfoEvent","HiddenWidget","PasswordWidget","RadioWidget","radio","RangeWidget","getValue","_ref$multiple","optEmptyVal","TextareaWidget","_ref4","TextWidget","TimeWidget","URLWidget","UpDownWidget","getDefaultRegistry","Form","_pick","getAllPaths","_obj","newPaths","extraErrors","omitExtraData","liveOmit","noValidate","liveValidate","mustValidate","retrievedSchema","fieldNames","schemaValidation","schemaValidationErrors","schemaValidationErrorSchema","_errorSchema","onSubmit","createRef","inputFormData","edit","getCurrentErrors","currentErrors","altSchemaUtils","customValidate","transformErrors","_this$state3","ErrorListTemplate","_this$props$templates","customTranslateString","_this$props4$uiSchema","_getDefaultRegistry","_this$props5$idPrefix","_this$props5$idSepara","_toPath","elementId","focusOnFirstError","_UI_OPTIONS_KEY","_submitUiSchema","_this$props7$classNam","method","enctype","acceptcharset","_this$props7$noHtml5V","noHtml5Validate","_this$props7$disabled","_this$props7$readonly","_this$props7$showErro","showErrorList","_internalFormWrapper","_this$state4","as","FormTag","_getUiOptions$SUBMIT_","submitOptions","submitUiSchema","withTheme","_themeProps$templates","_templates","directProps","_CodeOrName","Name","_Code","addCodeArg","plus","expr","safeStringify","optimize","mergeExprItems","strConcat","c1","c2","getProperty","getEsmExportName","regexpCode","rx","code_1","ValueError","UsedValueState","Scope","prefixes","nameOrPrefix","ng","ValueScopeName","nameStr","line","ValueScope","valueKey","_name","keyOrRef","scopeName","usedValues","getCode","valueCode","nameSet","def","scope_1","code_2","scope_2","Node","_names","_constants","Def","varKind","rhs","es5","_n","constants","optimizeExpr","Assign","lhs","sideEffects","addExprNames","AssignOp","op","Break","Throw","AnyCode","ParentNode","subtractNames","addNames","BlockNode","Root","Else","If","condition","cond","ns","not","For","ForLoop","iteration","ForRange","from","to","ForIter","loop","Func","async","Return","Try","Catch","Finally","CodeGen","extScope","prefixOrName","_constant","thenBody","elseBody","forBody","tryBody","catchCode","finallyCode","body","nodeCount","toClose","funcBody","N1","N2","replaceName","canOptimize","par","andCode","mappend","and","orCode","or","codegen_1","toHash","hash","alwaysValidSchema","it","checkUnknownRules","schemaHasRules","checkStrictMode","schemaHasRulesButRef","RULES","schemaRefOrVal","topSchemaRef","schemaPath","keyword","$data","unescapeFragment","unescapeJsonPointer","escapeFragment","escapeJsonPointer","eachItem","makeMergeEvaluated","mergeNames","mergeToName","mergeValues","resultToName","gen","toName","setEvaluated","evaluatedPropsToName","ps","snippets","useFunc","Type","getErrorPath","dataProp","dataPropType","jsPropertySyntax","msg","mode","names_1","util_1","reportError","cxt","errorPaths","overrideAllErrors","compositeRule","allErrors","errObj","errorObjectCode","addError","returnErrors","reportExtraError","resetErrorsCount","errsCount","extendErrors","schemaValue","errs","validateName","schemaEnv","E","createErrors","errorObject","errorInstancePath","errorSchemaPath","extraErrorProps","errorPath","instancePath","instPath","errSchemaPath","parentSchema","schPath","propertyName","boolSchema","errors_1","boolError","topBoolOrEmptySchema","falseSchemaError","boolOrEmptySchema","_jsonTypes","jsonTypes","isJSONType","getRules","applicability","schemaHasRulesForType","shouldUseGroup","shouldUseRule","kwd","rules_1","applicability_1","DataType","getSchemaTypes","getJSONTypes","ts","coerceAndCheckDataType","coerceTo","coerceToTypes","checkTypes","wrongType","checkDataTypes","coerceData","reportTypeError","COERCIBLE","coerceTypes","dataType","coerced","coerceSpecificType","assignParentData","parentData","parentDataProperty","checkDataType","strictNums","correct","EQ","numCond","_cond","dataTypes","notObj","typeError","getTypeErrorContext","schemaCode","assignDefaults","assignDefault","sch","childData","util_2","checkReportMissingProp","noPropertyInData","checkMissingProp","missing","reportMissingProp","hasPropFunc","isOwnProperty","propertyInData","ownProperties","allSchemaProperties","schemaMap","callValidateCode","passSchema","dataAndSchema","valCxt","newRegExp","usePattern","pattern","regExp","validateArray","validArr","validateItems","notValid","validateUnion","schValid","_sch","schCxt","macroKeywordCode","macroSchema","schemaRef","useKeyword","funcKeywordCode","checkAsyncKeyword","validate","validateRef","validateKeyword","assignValid","modifyData","reportErrs","ruleErrs","validateAsync","validateSync","addErrs","validateErrs","_await","passCxt","validSchemaType","allowUndefined","st","validateKeywordUsage","deps","getSubschema","schemaProp","extendSubschemaData","dpType","dataPathArr","nextData","dataContextProps","_nextData","extendSubschemaMode","jtdDiscriminator","jtdMetadata","fastDeepEqual","equal","traverse","jsonSchemaTraverseModule","cb","pre","post","_traverse","jsonPtr","parentJsonPtr","parentKeyword","keyIndex","escapeJsonPtr","SIMPLE_INLINED","inlineRef","hasRef","countKeys","REF_KEYWORDS","getFullPath","normalizeId","_getFullPath","TRAILING_SLASH_HASH","resolveUrl","baseId","ANCHOR","getSchemaRefs","schemaId","uriResolver","schId","baseIds","pathPrefix","localRefs","schemaRefs","fullPath","addRef","addAnchor","_resolve","ambiguos","schOrRef","checkAmbiguosRef","anchor","sch1","sch2","boolSchema_1","dataType_1","dataType_2","keyword_1","subschema_1","resolve_1","validateFunctionCode","isSchemaObj","checkKeywords","schemaCxtHasRules","topSchemaObjCode","validateFunction","funcSourceUrl","destructureValCxtES5","destructureValCxt","commentKeyword","checkNoDefault","resetEvaluated","typeAndKeywords","returnResults","subschemaCode","subSchemaObjCode","updateContext","checkAsyncSchema","checkRefsAndKeywords","schemaKeywords","checkedTypes","rootName","ValidationError","assignEvaluated","evaluated","typeErrors","keywordCode","checkStrictTypes","groupKeywords","iterateKeywords","useDefaults","checkContextTypes","checkMultipleTypes","checkKeywordTypes","includesType","strictTypesError","narrowSchemaTypes","hasApplicableType","schTs","kwdT","withTypes","KeywordCxt","getData","successAction","failAction","append","errorParams","assign","codeBlock","$dataValid","wrong$DataType","invalid$DataSchema","validateSchemaRef","appl","nextContext","schemaCxt","ruleType","JSON_POINTER","RELATIVE_JSON_POINTER","dataLevel","dataNames","jsonPointer","matches","up","errorMsg","segments","pointerType","validation_error","ref_error","MissingRefError","validation_error_1","validate_1","SchemaEnv","env","compileSchema","getCompilingSchema","lines","_ValidationError","sourceCode","validateCode","resolveRef","schOrFunc","inlineOrCompile","schEnv","sameSchemaEnv","s1","s2","refPath","getJsonPointer","PREVENT_SCOPE_CHANGE","parsedRef","partSchema","global","sets","xl","subexp","typeOf","toUpperCase","toArray","buildExps","isIRI","ALPHA$$","DIGIT$$","HEXDIG$$","PCT_ENCODED$","GEN_DELIMS$$","SUB_DELIMS$$","RESERVED$$","UCSCHAR$$","IPRIVATE$$","UNRESERVED$$","DEC_OCTET_RELAXED$","IPV4ADDRESS$","H16$","LS32$","IPV6ADDRESS1$","IPV6ADDRESS2$","IPV6ADDRESS3$","IPV6ADDRESS4$","IPV6ADDRESS5$","IPV6ADDRESS6$","IPV6ADDRESS7$","IPV6ADDRESS8$","IPV6ADDRESS9$","IPV6ADDRESS$","ZONEID$","PCHAR$","URI_PROTOCOL","IRI_PROTOCOL","slicedToArray","sliceIterator","_arr","_i","_s","toConsumableArray","arr2","maxInt","tMin","tMax","skew","damp","initialBias","initialN","delimiter","regexPunycode","regexNonASCII","regexSeparators","baseMinusTMin","floor","stringFromCharCode","error$1","mapDomain","labels","encoded","ucs2decode","counter","extra","ucs2encode","basicToDigit","codePoint","digitToBasic","digit","flag","adapt","numPoints","firstTime","decode","inputLength","basic","oldi","baseMinusT","encode","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","_currentValue2","basicLength","handledCPCount","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","currentValue","handledCPCountPlusOne","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_iterator3","_step3","_currentValue","qMinusT","toUnicode","toASCII","punycode","SCHEMES","pctEncChar","chr","pctDecChars","newStr","c3","_normalizeComponentEncoding","protocol","decodeUnreserved","decStr","_stripLeadingZeros","_normalizeIPv4","host","_matches","address","_normalizeIPv6","_matches2","zone","_address$toLowerCase$","_address$toLowerCase$2","firstFields","lastFields","isLastFieldIPv4Address","fieldCount","lastFieldsStart","allZeroFields","lastLongest","longestZeroFields","newHost","newFirst","newLast","URI_PARSE","NO_MATCH_IS_UNDEFINED","uriString","schemeHandler","_recomposeAuthority","uriTokens","$1","$2","RDS1","RDS2","RDS3","RDS5","removeDotSegments","im","serialize","authority","resolveComponents","relative","skipNormalization","baseURI","relativeURI","schemelessOptions","uriA","uriB","escapeComponent","unescapeComponent","secure","handler$1","isSecure","wsComponents","handler$2","_wsComponents$resourc","_wsComponents$resourc2","handler$3","O","ATEXT$$","QTEXT$$","VCHAR$$","SOME_DELIMS$$","UNRESERVED","PCT_ENCODED","NOT_LOCAL_PART","NOT_HFNAME","NOT_HFVALUE","handler$4","mailtoComponents","unknownHeaders","hfields","hfield","toAddrs","_x","_xl","_x2","_xl2","addr","toAddr","atIdx","localPart","domain","URN_PARSE","handler$5","urnComponents","scheme","nid","nss","urnScheme","uriComponents","UUID","handler$6","uuidComponents","uri_1","ref_error_1","compile_1","codegen_2","$dataRefSchema","defaultRegExp","flags","META_IGNORE_OPTIONS","EXT_SCOPE_NAMES","removedOptions","deprecatedOptions","MAX_EXPRESSION","requiredOptions","_f","_g","_h","_j","_k","_l","_m","_o","_p","_q","_r","_u","_v","_w","_y","_z","_0","_optz","Ajv","getLogger","formatOpt","checkOptions","getMetaSchemaOptions","addInitialFormats","addInitialKeywords","addInitialSchemas","meta","_dataRefSchema","schemaKeyRef","_meta","loadSchema","runCompileAsync","loadMetaSchema","_compileAsync","checkLoaded","loadMissingSchema","missingRef","_loadSchema","_validateSchema","throwOrLogError","$schema","keyRef","getSchEnv","cacheKey","definitions","kwdOrDef","checkKeyword","addRule","keywordMetaschema","separator","dataVar","metaSchema","keywordsJsonPointers","keywords","seg","schemaOrData","regex","validateSchema","addSchema","currentOpts","checkOpts","log","optsSchemas","defs","metaOpts","noLogs","logger","KEYWORD_NAME","ruleGroup","addBeforeRule","_rule","$dataRef","callRootRef","schOrEnv","callValidate","inlineRefSchema","callRef","getValidate","schName","$async","callAsyncRef","callSyncRef","addEvaluatedFrom","addErrorsFrom","schEvaluated","core_1","id_1","ref_1","core","limitNumber","ops","KWDs","multipleOf","prec","invalid","ucs2length_1","ucs2length","limitLength","limitProperties","missingProperty","useLoop","allErrorsMode","exitOnErrorMode","definedProperties","requiredKey","loopAllRequired","loopUntilMissing","limitItems","equal_1","itemTypes","validateUniqueItems","loopN","loopN2","eql","_const","_enum","getEql","loopEnum","vSchema","equalCode","validation_1","limitNumber_1","multipleOf_1","limitLength_1","pattern_1","limitProperties_1","required_1","limitItems_1","uniqueItems_1","const_1","enum_1","validation","validateAdditionalItems","validateTuple","extraItems","schArr","checkStrictTuple","fullTuple","prefixItems","items_1","items2020","additionalItems_1","minContains","maxContains","validateItemsWithCount","checkLimits","_valid","block","depsCount","property_ies","propDeps","schDeps","splitDependencies","validatePropertyDeps","validateSchemaDeps","propertyDeps","schemaDeps","hasProperty","depProp","propertyNames","patProps","checkAdditionalProperties","additionalPropertyCode","isAdditional","definedProp","propsSchema","deleteAdditional","applyAdditionalSchema","additionalProperties_1","hasDefault","applyPropertySchema","patternProperties","patterns","alwaysValidPatterns","checkProperties","validatePatternProperties","pat","checkMatchingProperties","validateProperties","anyOf","passing","validateOneOf","_if","hasThen","hasSchema","hasElse","validateIf","ifClause","validateClause","thenElse","applicator","prefixItems_1","items2020_1","contains_1","dependencies_1","propertyNames_1","properties_1","patternProperties_1","not_1","anyOf_1","oneOf_1","allOf_1","if_1","thenElse_1","getApplicator","draft2020","validate$DataFormat","validateFormat","fmts","fDef","fType","unknownFmt","invalidFmt","callFormat","validData","formatDef","unknownFormat","fmtType","fmtRef","getFormat","validCondition","unknownMsg","fmtDef","fmt","format_2","format_1","metadata","draft7","applicator_1","metadata_1","draft7Vocabularies","DiscrError","types_1","discrError","validateMapping","mapping","getMapping","tagValue","applyTagSchema","oneOfMapping","topRequired","hasRequired","tagRequired","propSch","addMappings","addMapping","draft7_1","discriminator_1","draft7MetaSchema","META_SUPPORT_DATA","META_SCHEMA_ID","compareDate","compareTime","date_time","compareDateTime","validateInt32","validateInt64","validateNumber","isLeapYear","DATE","DAYS","TIME","withTimeZone","timeZone","a1","a2","DATE_TIME_SEPARATOR","dateTime","dt1","dt2","NOT_URI_FRAGMENT","URI","BYTE","MIN_INT32","MAX_INT32","Z_ANCHOR","ajv_1","fCxt","compareCode","formatLimitPlugin","ajv","formats_1","limit_1","fullName","fastName","formatsPlugin","addFormats","formats","exportName","fs","AJV_CONFIG","COLOR_FORMAT_REGEX","DATA_URL_FORMAT_REGEX","createAjvInstance","additionalMetaSchemas","customFormats","ajvOptionsOverrides","ajvFormatOptions","AjvClass","formatName","transformRJSFValidationErrors","_rest$message","currentProperty","uiSchemaTitle","parentSchemaTitle","_uiSchemaTitle","_parentSchemaTitle","processRawValidationErrors","invalidSchemaError","userErrorSchema","AJV8Validator","localizer","compilationError","compiledValidator","_rootSchema$ID_KEY","rootSchemaId","schemaWithIdRefPrefix","customizeValidator","writeHeaderOption","includeRowIdAndRowVersionOption","csvOption","tsvOption","stepOneFormSchema","stepOneFormUISchema","stepTwoFormSchema","stepTwoFormUISchema","formSchemaArray","formSchemaUIArray","ModalDownload","fileType","contents","queryBundleRequest","writeHeader","includeRowIdAndRowVersion","sql","downloadFromTableRequest","spinnerStyle","DialogBase","Button","getComponentSearchHashId","componentIndex","patchSearchString","componentSearchHashId","stringifiedQuery","searchString","searchFragment","getSearchParamValueFromUrl","getSearchParamValue","updateUrlWithNewSearchParam","newURL","getQueryRequestFromLink","searchParamValue","initQueryRequest","SynapseConstants.BUNDLE_MASK_QUERY_COLUMN_MODELS","SynapseConstants.BUNDLE_MASK_QUERY_FACETS","SynapseConstants.BUNDLE_MASK_QUERY_SELECT_COLUMNS","SynapseConstants.BUNDLE_MASK_QUERY_COUNT","useImmutableTableQuery","shouldDeepLink","onQueryChange","setLastQueryRequest","DeepLinkingUtils.getQueryRequestFromLink","getInitQueryRequest","setQuery","newQueryRequest","clonedQueryRequest","clonedQueryJson","encodedQuery","DeepLinkingUtils.updateUrlWithNewSearchParam","parseEntityIdAndVersionFromSqlStatement","DEFAULT_PAGE_SIZE","currentPage","setPageSize","currentQuery","goToPage","pageNumber","resetQuery","useDeepCompareEffect","removeSelectedFacet","facetColumnRequest","facet","removeValueFromSelectedFacet","isFacetColumnValuesRequest","removeQueryFilter","queryFilter","qf","removeValueFromQueryFilter","isColumnSingleValueQueryFilter","isColumnMultiValueFunctionQueryFilter","QueryWrapper","onQueryResultBundleChange","lockedColumn","onViewSharingSettingsClicked","currentAsyncStatus","setCurrentAsyncStatus","asyncJobStatus","queryIsLoading","newQueryIsFetching","useGetQueryResultBundleWithAsyncStatus","isLoadingNewBundle","useGetEntity","useDeepCompareEffectNoCheck","isFacetAvailable","dataWithLockedColumnFacetRemoved","removeLockedColumnFromFacetData","hasResettableFiltersUtil","getColumnModel","InfiniteQueryWrapper","infiniteData","fetchPreviousPage","useInfiniteQueryResultBundle","setCurrentPage","appendNextPageToResults","goToNextPage","hasPreviousPage","goToPreviousPage","isFilteredUtil","CancelRequestDataAccess","modifiedDataAccessRequest","onHide","alert","setAlert","showCloseBtn","setShowCloseBtn","updateRequest","useUpdateDataAccessRequest","handleSave","DialogTitle","Box","DialogContent","DialogActions","ManagedACTAccessRequirementFormWikiWrapper","managedACTAccessRequirementId","useGetAccessRequirementWikiPageKey","canShowWiki","useCanShowManagedACTWikiInWizard","ResearchProjectForm","onSave","managedACTAccessRequirement","projectLead","setProjectLead","institution","setInstitution","intendedDataUseStatement","setIntendedDataUseStatement","existingResearchProject","isLoadingInitialData","useGetResearchProject","mutate","isLoadingUpdate","useUpdateResearchProject","getErrorMessage","handleSubmit","TextField","DataAccessRequestAccessorsEditor","accessorChanges","isRenewal","helpText","user","useGetCurrentUserProfile","onSelectUserCallback","ugh","previousValue","ac","selectedAccessor","AccessType","onClearAccessor","userId","onAccessorAccessTypeChange","accessType","indexOfUser","UserSearchBoxV2","TYPE_FILTER","userGroupHeader","RadioGroup","DirectDownloadButton","buttonProps","getDownloadLink","UploadDocumentField","fileHandleAssociations","uploadCallback","documentName","isMultiFileUpload","onClearAttachment","isUploading","setIsUploading","fileData","useGetFileBatch","FileUpload","fha","DocumentTemplate","downloadButtonText","AccessorRequirementHelpText","link","Link","DataAccessRequestAccessorsFilesForm","onSubmissionCreated","researchProjectId","onCancel","setAccessorChanges","summaryOfUse","setSummaryOfUse","publication","setPublication","dataAccessRequest","isLoadingGetDataAccessRequest","useGetDataAccessRequestForUpdate","submit","isLoadingSubmitDataAccessRequest","useSubmitDataAccessRequest","updateRequestAsync","isLoadingUpdateDataAccessRequest","shouldUpdate","currentUserWithGainAccess","uniqueAccessorChanges","getDataAccessRequestWithLocalState","requestObject","RestrictableObjectType","onAccessorChange","updater","fid","uploadResponse","ducFileHandleAssociation","irbFileHandleAssociation","attachmentFileHandleAssociations","attachmentFileHandleId","Divider","resp","RequestDataAccessSuccess","UnmanagedACTAccessRequirementItem","accessRequirement","accessRequirementStatus","isLoadingStatus","useGetAccessRequirementStatus","isApproved","showACTContactInfoInstructions","setShowACTContactInfoInstructions","acceptButtonText","gotoSynapseAccessRequirementPage","onAcceptClicked","actContactInfo","actions","RequirementItem","RequirementItemStatus","ManagedACTAccessRequirementItem","onRequestAccess","cancelDataAccessRequest","useCancelDataAccessRequest","hideMarkdown","setHideMarkdown","markdown","SubmissionState","requirementItemState","SelfSignAccessRequirementItem","isSignedIn","isTermsOfUse","isTermsOfUseAccessRequirement","userBundle","useGetCurrentUserBundle","certificationRequirementNotMet","verificationRequirementNotMet","showTerms","setShowTerms","createAccessApproval","useCreateAccessApproval","accessApprovalRequest","ApprovalState","renderedTerms","acceptButtonDisabled","AccessRequirementListItem","SUPPORTED_ACCESS_REQUIREMENTS","DialogSubsectionHeader","checkHasUnsupportedRequirement","accessRequirements","isARUnsupported","AccessRequirementList","teamId","accessRequirementFromProps","renderAsModal","numberOfFilesAffected","requestObjectName","dialogTitle","requestDataStep","setRequestDataStep","setManagedACTAccessRequirement","setResearchProjectId","setDataAccessRequest","entityHeaderProps","canShowManagedACTWikiInWizard","entityInformation","useGetInfoFromIds","fetchedRequirementsForTeam","useGetAccessRequirementsForTeam","fetchedRequirementsForEntity","useGetAccessRequirementsForEntity","sortedAccessRequirementIds","useSortAccessRequirementIdsByCompletion","ar","requestDataStepCallback","managedACTAccessRequirement2","researchProjectId2","newDataAccessRequest","anyARsRequireTwoFactorAuth","anyARsRequireCertification","anyARsRequireProfileValidation","requestDetails","AuthenticatedRequirement","CertificationRequirement","ValidationRequirement","TwoFactorAuthEnabledRequirement","accessRequirement2","dialogWidth","renderContent","researchProject","dataAccessRequestInProgress","StandaloneLoginForm","Dialog","TERMS_OF_USE_TITLE","SELF_SIGN_TITLE","ACT_TITLE","LOCK_TITLE","MeetAccessRequirementCard","useGetAccessRequirements","isShowingAccessRequirement","setIsShowingAccessRequirement","EASY_DIFFICULTY","selfSignAR","VARIABLE_DIFFICULTY","MEDIUM_DIFFICULTY","ActionRequiredCard","REQUIRES_2FA_CARD_TITLE","EnableTwoFaRequirementCard","ActionRequiredListItem","RequestDownloadCard","EntityActionsRequired","actionRequiredList","QueryWrapperErrorBanner","ErrorBanner","Search","searchable","colName","searchableColumnModels","indexOfColumn","columnModel","columnMultiValueQueryFilter","ColumnMultiValueFunction","columnSingleValueQueryFilter","ColumnSingleValueFilterOperator","show","searchColumns","model","CSSTransition","displayName","helpMessageCopy","helpLink","SqlEditor","setSql","defaultSql","SearchTwoTone","CONFIRM_BUTTON_TEXT","DownloadLoginModal","ConfirmationDialog","SRC_SIGN_IN_CLASS","ProgrammaticInstructionsModal","pythonNotes","pythonCode","rNotes","rCode","cliNotes","cliCode","helpMarkdown","defaultTab","currentTab","setCurrentTab","installationInstructions","Tabs","Tab","ProgrammaticTableDownload","generatedSql","setGeneratedSql","SynapseConstants.BUNDLE_MASK_COMBINED_SQL","combinedSql","indexOfFrom","selectStarTransformedSql","commandLineSql","clientSql","TO_DOWNLOAD_CART","getNumberOfResultsToInvokeAction","hasSelectedRows","getNumberOfResultsToInvokeActionCopy","unitDescription","numberOfResultsToInvokeAction","getNumberOfResultsToAddToDownloadListCopy","upperFirst","DownloadOptions","queryResultBundle","showLoginModal","setShowLoginModal","showExportMetadata","setShowExportMetadata","showProgrammaticOptions","setShowProgrammaticOptions","onDownloadFiles","darkTheme","showAddQueryToDownloadList","canTableQueryBeAddedToDownloadList","disableDownload","Dropdown","ElementWithTooltip","tooltipColumnSelectionId","ColumnSelection","isColumnSelected","toggleColumnSelection","setShow","onDropdownClick","_show","show2","isCurrentColumnSelected","iconStyle","maybeShowPrimaryColor","DATASETS_CURRENT_VERSION_HELP","DATASETS_SNAPSHOT_HELP","MissingQueryResultsWarning","isMissingResultsCalculable","queryResult","useGetQueryResultBundle","totalVisibleResults","totalResults","difference","Cavatica","SvgIcon","InlineBadge","RowSelectionUI","selectedRowCount","onClearSelection","customControls","RowSelectionControls","showExportToCavatica","refresh","showAddToDownloadCart","customControl","GetAppTwoTone","SkeletonInlineBlock","SkeletonParagraph","numRows","rowHeight","skeletons","setSkeletons","useExportToCavatica","originalSql","col","presignedURL","cavaticaURL","_err","useGetActionsRequiredForTableQuery","fileColumnModelId","queryRequestCopy","fileColumnId","SynapseConstants.BUNDLE_MASK_ACTIONS_REQUIRED","getPrimaryKeyINFilter","primaryKeyColumnNames","primaryKeyColumnIndex","SendToCavaticaConfirmationDialog","cavaticaHelpURL","cavaticaQueryRequest","exportToCavatica","confirmButtonText","TopLevelControls","showColumnSelection","hideDownload","hideVisualizationsControl","hideFacetFilterControl","hideQueryCount","hideSqlEditorControl","columnsToShowInTable","setColumnsToShowInTable","hasRecentlyCopiedToClipboard","setHasRecentlyCopiedToClipboard","unfilteredResultsQuery","columnsToShowInTableCopy","numberOfResultsToInvokeActionAsText","QueryCount","SQL_EDITOR","Checkbox","propsChecked","isSelectAll","setChecked","_uniqueId","handleCheckboxChange","IconPlus","IconMinus","FacetFilterHeader","isCollapsed","valueToId","valueToLabel","profiles","entityHeaders","evaluations","profile","profile2","eh","eh2","evaluation2","formatFacetValuesForDisplay","facetValues","isShowAll","visibleItemsCount","facets","EnumFacetFilter","onClear","containerAs","dropdownType","collapsed","setIsShowAll","setIsCollapsed","isShowDropdown","setIsShowDropdown","showSearch","setShowSearch","searchTerm","filteredSet","setFilteredSet","selectionDelay","textInput","selectedValuesMap","allIsSelected","userIds","userGroupHeaders","entityIds","evaluationIds","handleTextInputFilterEvent","filtered","isDropdown","EnumFacetFilterOption","isChecked","onToggle","isCollapsed2","initialIsSelected","isSelected","setIsSelected","FacetChip","Range","errorText","setError","setValues","handleAppyChanges","values2","callBackFn","RangeFacetFilter","facetResult","FRIENDLY_VALUE_NOT_SET","columnMin","columnMax","selectedMin","selectedMax","hasAnyValue","rangeType","getRadioValue","isAnyValue","VALUE_NOT_SET","handleRadioGroupChange","radioValue2","onChangeCallback","setRadioValue","radioValue","RangeSlider","convertFacetToFacetColumnValuesRequest","facet2","convertFacetColumnRangeRequest","patchRequestFacets","changedFacet","lastRequest","selections","changedFacetIndex","isEmptyValuesFacet","applyChangesToValuesColumn","onChangeFn","facetName","applyMultipleChangesToValuesColumn","facetNameMap","facetNames","applyChangesToRangeColumn","getDefaultShownFacetFilters","selectedFacets","columnsWithExistingFilters","fcr","FacetFilterSkeleton","facetFilterFormRow","FacetFilterControlsSkeleton","FacetFilterControls","availableFacets","isSingleNotSetValue","facetFiltersShown","setFacetFiltersShown","facets2","toggleShowFacetFilter","newFacetFilterShown","facetNamesMap","FacetFilterControlsOrLoader","MAX_LEGEND_LENGTH","truncate","trimmedStr","FacetPlotLegendList","colors","isExpanded","numLegendItems","labelDisplay","maxLabelLength","extractPlotDataArray","facetToPlot","plotType","colorPalette","getColorPalette","getLabels","columnType2","accessToken2","filteredValues","response","getLabel","truncateFlag","labelMap","selectionAwareColorPalette","singleChartData","applyFacetFilter","allFacetValues","callbackApplyFn","plotPointData","facetValueClickedValue","facetValueClicked","getPlotStyle","parentWidth","getClassNameForPlotDiv","FacetNavPanel","isModalView","applyChangesToFacetFilter","applyChangesToGraphSlice","onSetPlotType","showModal","setShowModal","plotTitle","getColumnType","ChartSelectionToggle","loadingScreen","InfoOutlined","SizeMe","MAX_VALUES_IN_FILTER_FOR_INDIVIDUAL_PILLS","getPillPropsFromColumnQueryFilter","filterValue","getPillPropsFromTextMatchesQueryFilter","getPillPropsFromQueryFilters","queryFilters","isTextMatchesQueryFilter","getPillPropsFromFacetFilters","selectedFacet","innerText","isFacetColumnRangeRequest","SelectionCriteriaPills","queryFilterPillProps","facetPillProps","allPills","pillProps","SelectionCriteriaPill","TotalQueryResults","frontText","endText","hideIfUnfiltered","total","showClearAll","DEFAULT_VISIBLE_FACETS","getFacets","facetsToPlot","FacetNav","facetUiStateArray","setFacetUiStateArray","isFirstTime","setIsFirstTime","onShowMoreClick","shouldShowMore","facetUiStateArray2","applyChangesFromQueryFilter","isFacetHiddenInGrid","showMoreButtonState","hideFacetInGrid","setUiPropertyForFacet","setPlotType","getPlotType","colorTracker","hasFacetsOrFilters","findValueOption","correspondingOption","isClearable","options2","isExisting","Control","QuerySortSelector","sortConfig","defaultColumn","defaultDirection","sortableColumns","sortColumn","setSortColumn","sortDirection","setSortDirection","sortableColumn","newSortDirection","newSortItems","Select","provided","TargetEnum","TargetEnum2","CardContainerLogic","getAdditionalFilters","defaultSortItems","SynapseConstants.BUNDLE_MASK_QUERY_MAX_ROWS_PER_PAGE","SynapseConstants.BUNDLE_MASK_SUM_FILES_SIZE_BYTES","SynapseConstants.BUNDLE_MASK_LAST_UPDATED_ON","CardContainer","HeaderCard","subTitle","secondaryLabelLimit","isAlignToLeftNav","descriptionConfig","href","rgbIndex","descriptionElement","docTitle","docDescription","CardFooter","FileHandleLink","showDownloadIcon","redirect","batchFileResult","setBatchFileResult","SynapseConstants.SRC_SIGN_IN_CLASS","ImageFileHandle","fileHandleId","associateObjectId","associateObjectType","setUrl","url2","CHAR_COUNT_CUTOFF","CARD_SHORT_DESCRIPTION_CSS","CARD_LONG_DESCRIPTION_CSS","getCutoff","summary","previewText","summarySplit","getFileHandleAssociation","table","rowSynapseId","isTableEntity","getValueOrMultiValue","selectedColumnOrUndefined","strList","getColumnIndex","VersionLabel","SynapseCardLabel","labelLink","isHeader","rowData","rowId","columnModelType","newClassName","SYNAPSE_ENTITY_ID_REGEX","labelContent","split","linkTarget","linkIndex","baseURL","URLColumnName","wrapValueWithParens","elOrRowId","getCardLinkHref","cardLink","matchColumnName","overrideLinkURLColumnName","overrideValueWithRowID","indexOfOverrideLinkURLColumnName","overrideLinkValue","indexInData","getLinkParams","cardLinkConfig","defaultTarget","DOI_REGEX","LongDescription","hasClickedShowMore","descriptionSubTitle","ShortDescription","toggleShowMore","GenericCard","titleSearchHandle","genericCardSchema","iconOptions","useTypeColumnForIcon","titleLinkConfig","ctaLinkConfig","labelLinkConfig","columnIconOptions","genericCardSchemaDefined","iconValue","dataTypeIconNames","imageFileHandleIdValue","titleColumnModel","titleColumnType","linkValue","secondaryLabels","isView","columnDisplayName","showFooter","type2SvgIconName","stubTitleSearchHandle","ctaHref","ctaTarget","ctaLinkValue","newCtaHref","newCtaTarget","IconList","SynapseConstants.EXPERIMENTAL","Dataset","datasetName","tumorType","diseaseFocus","fundingAgency","fileCount","fileSize","calculateFriendlyFileSize","Utils.Icon","DATASET","Utils.ChipContainer","Utils.CardFooter","Funder","organizationName","organizationPath","website","logoHref","websiteDisplayName","isOnOrgPath","showOrgLink","ObservationCard","submitterName","submitterUserId","timeUnits","ShowMore","LoadingObservationCard","Card","propsToPass","FUNDER","GENERIC_CARD","OBSERVATION_CARD","infiniteQueryContext","tableEntityConcreteType","showViewMoreButton","cards","MEDIUM_USER_CARD","userIdColumnIndex","listIds","UserCardList","cardsData","propsForCard","__webpack_require__","_typeof","_classCallCheck","_defineProperty","ColumnResizer","AddToDownloadListV2","entityVersionNumber","addToDownloadList","useAddFileToDownloadList","undefined","LIBVERSION","EMPTY","UNKNOWN","FUNC_TYPE","UNDEF_TYPE","OBJ_TYPE","STR_TYPE","MAJOR","MODEL","NAME","TYPE","VENDOR","VERSION","ARCHITECTURE","CONSOLE","MOBILE","TABLET","SMARTTV","WEARABLE","EMBEDDED","UA_MAX_LENGTH","AMAZON","APPLE","ASUS","BLACKBERRY","BROWSER","CHROME","EDGE","FIREFOX","GOOGLE","HUAWEI","LG","MICROSOFT","MOTOROLA","OPERA","SAMSUNG","SHARP","SONY","XIAOMI","ZEBRA","FACEBOOK","regexes","extensions","mergedRegexes","enumerize","str1","lowerize","majorize","rgxMapper","ua","strMapper","oldSafariMap","windowsVersionMap","UAParser","_ua","_rgxmap","_browser","_cpu","_device","_engine","_os","$","DirectDownload","associatedObjectId","associatedObjectType","displayFileName","onClickCallback","stopPropagation","isExternalFile","setIsExternalFile","hasFileAccess","setHasFileAccess","fileEntity","setFileEntity","externalURL","setExternalURL","setFileName","mounted","getFileEntityFileHandle","isSafari","safariDownloadWindow","getTableEntityFileHandle","getFileResult","hasFileHandle","includePreSignedURLs","implementsExternalFileHandleInterface","TOOLTIP_DELAY_SHOW","iconConfiguration","AccessIcon","downloadType","configuration","useGetFileHandleDownloadType","fileHandleDownloadType","setFileHandleDownloadType","entityBundle","entityFetchError","restrictionInformationRequest","restrictionInformation","useGetRestrictionInformation","permissions","HasAccessV2","displayAccessRequirement","setDisplayAccessRequirement","setAccessRequirements","handleGetAccess","requirements","getEndpoint","BackendDestinationEnum","accessRequirementsJsx","hasUnmetAccessRequirement","restrictionLevel","linkText","RestrictionLevel","ev","clickEvent","EntityIdList","entityIdList","entityLinkArray","setEntityLinkArray","getEntityTypes","getEntityHeadersByIds","newEntityList","EntityLink","EvaluationIdRenderer","evaluationId","evaluationName","setEvaluationName","getEvaluationQueue","getEvaluation","evaluationQueue","UserIdList","profileCards","setProfileCards","getUserProfilesToRender","getUserProfiles","userProfiles","SynapseTableCell","isBold","mapEntityIdToHeader","mapUserIdToHeader","columnLinkConfig","rowVersionNumber","NOT_SET_DISPLAY_VALUE","isDatasetCollection","entity2","jsonData","cachedData","userName","AUTHENTICATED_USERS","TablePagination","queryCount","handlePage","handlePageSize","InteractiveCopyIdsIcon","onCopy","EntityIDColumnCopyIcon","synapseContext","setIsLoading","idData","setIdData","abortController","setAbortController","handleCopyIdsToClipboard","queryRequestClone","oldSql","versionNumberString","entityIdString","indexOfEntityId","rows","synIDs","resizeObservers","hasActiveObservations","ro","hasSkippedObservations","deliverResizeLoopError","ResizeObserverBoxOptions","freeze","ResizeObserverSize","inlineSize","blockSize","DOMRectReadOnly","rectangle","isSVG","isHidden","offsetWidth","offsetHeight","isElement","isReplacedElement","scrollRegexp","verticalRegexp","IE","parseDimension","pixel","switchSizes","zeroBoxes","calculateBoxSizes","forceRecalculation","cs","removePadding","canScrollVertically","canScrollHorizontally","paddingTop","paddingRight","paddingBottom","paddingLeft","borderTop","borderRight","borderBottom","borderLeft","horizontalPadding","verticalPadding","horizontalBorderArea","verticalBorderArea","horizontalScrollbarThickness","verticalScrollbarThickness","widthReduction","heightReduction","contentWidth","contentHeight","borderBoxWidth","borderBoxHeight","boxes","calculateBoxSize","observedBox","borderBoxSize","contentBoxSize","devicePixelContentBoxSize","ResizeObserverEntry","calculateDepthForNode","broadcastActiveObservations","shallowestDepth","callbacks","ot","targetDepth","callbacks_1","gatherActiveObservationsAtDepth","process","trigger","notify","queueMicroTask","toggle_1","el_1","queueResizeObserver","watching","isWatching","CATCH_PERIOD","observerConfig","events","scheduled","Scheduler","until","elementsHaveResized","scheduler","updateCount","skipNotifyOnElement","ResizeObservation","ResizeObserverDetail","observerMap","getObservationIndex","observationTargets","ResizeObserverController","detail","firstObservation","lastObservation","ResizeObserver","usePassiveLayoutEffect","useLayoutEffect","useLatest","storedValue","useLatest$1","Polyfill","useResizeObserver","getResizeObserver","storedCallback","didUnsubscribe","targetEl","createResizeObserver","ticking","allEntries","obs","triggered","cbs","_callbacks$get","_callbacks$get2","cbIndex","_resizeObserver","ExpandableTableDataCell","setIsExpanded","isOverflowingWhenNotExpanded","setIsOverflowingWhenNotExpanded","tdRef","contentElement","SORT_STATE","RESIZER_OPTIONS","SynapseTable","showAccessColumn","showDownloadColumn","isShowingAccessColumn","rowsAreDownloadable","isShowingAddToV2DownloadListColumn","isShowingDirectDownloadColumn","dict","columnIconSortState","sortedColumnSelection","ICON_STATE","oldIsFetchingEntityHeaders","oldState","newIsFetchingEntityHeaders","isPropsChange","isStateChange","shouldComponentUpdate","forceRefresh","entityIdColumnIndicies","userIdColumnIndicies","distinctEntityIds","distinctUserIds","referenceList","data2","userProfileIds","getUserProfileWithProfilePicAttached","isExportTableDownloadOpen","isShowingDownloadColumn","rowsFormatted","columnLinks","rowIndex","rowContent","isColumnActive","cloneSelectedRows","rowFormatted","column","tableColumnHeaderElements","columnIndex","facetIndex","facetColumnResult","isFacetSelection","isSelectedSpanClass","isSelectedIconClass","sortSpanBackgoundClass","displayColumnName","isLockedColumn","isEntityIDColumn","synTable","LastUpdatedOn","showLastUpdatedOn","FilterAndView","tableConfiguration","cardConfiguration","ESTIMATED_CORS_TIME_MS","ESTIMATED_DOWNLOAD_SPEED_EXPIRE_TIME_KEY","ESTIMATED_DOWNLOAD_SPEED_KEY","TEST_FILE_ENTITY_ID","testDownloadSpeed","cachedSpeedExpireTime","cachedSpeed","presignedUrl","startMs","getFileHandleContent","M","relativeTime","DownloadDetails","numFiles","numBytes","hasNumBytes","downloadSpeed","speed","timeEstimateInSeconds","isTimeEstimateLoading","friendlyTime","isZeroFiles","fileCountIconClass","timeEstimateIconClass","InsertDriveFileTwoTone","LayersTwoTone","StatusConstruct","SignInButton","DownloadConfirmationContent","DownloadConfirmationUI","onAddToDownloadCart","isLoadingStats","isAddingToDownloadCart","downloadListStatistics","useGetDownloadListStatistics","displayFilesWereAddedToDownloadListSuccess","downloadCartPageUrl","FolderDownloadConfirmation","folderId","fnClose","entityChildrenData","fileSizeTotal","useAddQueryToDownloadList","TableQueryDownloadConfirmation","requestCopy","queryResultResponse","QUERY_FILTERS_EXPANDED_CSS","QUERY_FILTERS_COLLAPSED_CSS","QueryWrapperPlotNav","searchParams","sqlOperator","searchConfiguration","initQueryJson","isFullTextSearchEnabled","isTable","PaginatedQueryWrapper","isFaceted","SearchV2","generateInitQueryRequest","StandaloneQueryWrapper","showTopLevelControls","derivedQueryRequestFromSearchParams","MarkdownSynapseTable","showquery","tableonly","showQuery","tableOnly","TOC_CLASS","MarkdownTableOfContents","originalMarkup","TOC_HEADER_REGEX_WITH_ID","p3","p4","MarkdownUserOrTeamBadge","alias","useGetUserGroupHeaderWithAlias","UserOrTeamBadge","MarkdownVideo","SynapseVideo","MarkdownWidget","widgetType","MarkdownWidgetWithWrapper","Bookmarks","copyFootnotes","matchedGroup","isBeforeLastElement","md","mathSuffix","genericElement","referenceNumber","goTo","idOfContent","initText","mathExpressions","regEx","textContent","footnotesHtml","myHtmlString","objectType","plainText","fileHandlesErr","referenceRegex","referenceCount","tocId","tocIdCount","TOC_HEADER_REGEX","curTocId","markup","document2","Tag","widgetParams","attributes","attribute","xml","escapedOneToXmlSpecialMap","decodedWidgetParams","questionIndex","keyPair","renderInline","loadingSkeletonRowCount","bookmarks","LightTooltip","tooltipClasses","buttonBoxSx","MarkdownPopover","contentProps","placement","showCloseButton","actionButton","maxWidth","minWidth","markdownText","HelpOutlineTwoTone","CLOSE_BUTTON_LABEL","CloseButton","CloseIcon","hasCloseButton","titleHelpPopoverProps","CANCEL_BUTTON_TEXT","CancelButton","ConfirmationButtons","confirmButtonClassName","confirmButtonColor","confirmButtonVariant","confirmButtonDisabled","onConfirm","hasCancelButton"],"mappings":"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UA,EAAM,CACxB,OAAOT,EAAU,cAAcS,EAAK,CAAC,EAAGA,EAAK,CAAC,CAAC,CACnD,CAAG,EAKD,CACE,CAAC,MAAO,EAAE,EACV,CAAC,SAAU,IAAI,EACf,CAAC,gEAAiE,MAAM,EACxE,CAAC,kCAAmC,KAAK,EACzC,CAAC,QAAS,GAAG,EACb,CAAC,uFAAwF,MAAM,EAC/F,CAAC,oBAAqB,MAAM,EAC5B,CAAC,uBAAwB,QAAQ,EACjC,CAAC,sBAAuB,IAAI,EAC5B,CAAC,2FAA4F,IAAI,EACjG,CAAC,qEAAsE,OAAO,EAC9E,CAAC,iCAAkC,IAAI,EACvC,CAAC,oBAAqB,MAAM,EAC5B,CAAC,4FAA6F,MAAM,EACpG,CAAC,yGAA0G,MAAM,EACjH,CAAC,8FAA+F,MAAM,EACtG,CAAC,0BAA2B,KAAK,EACjC,CAAC,+BAAgC,MAAM,EACvC,CAAC,sBAAuB,MAAM,EAC9B,CAAC,oBAAqB,QAAQ,EAC9B,CAAC,eAAgB,IAAI,EACrB,CAAC,YAAa,IAAI,EAClB,CAAC,QAAS,KAAK,CACnB,EAAI,QAAQ,SAAUA,EAAM,CACxB,OAAOT,EAAU,gBAAgBS,EAAK,CAAC,EAAGA,EAAK,CAAC,CAAC,CACrD,CAAG,EAKD,CAEE,YACA,SACA,SACA,MACA,WACA,UACA,OACA,YACA,QACA,YACA,QACA,QACA,QACA,QACA,UACA,SACA,OACA,OACA,UACA,QACA,WACA,MACA,WACA,cACA,QACA,SACA,WACA,YACA,MACA,SACA,YACA,YACA,YACA,WACA,WACA,MACA,UACA,UACA,WACA,WACA,eACA,SACA,SACA,YACA,WACA,YACA,cACA,QACA,UACA,QACA,SACA,aACA,YACA,WACA,OACA,QACA,OACA,QACA,QACA,MACA,QACA,OACA,OACA,YACA,OACA,WACA,SACA,SACA,YACA,WACA,OACA,WACA,OACA,SACA,WACA,SACA,SACA,WACA,SACA,WACA,UACA,QACA,QACA,SACA,UACA,iBACA,QACA,OACA,SACA,UACA,UACA,aACA,WACA,MACA,eAEA,gBACA,SACA,SACA,YACA,WACA,QACA,SACJ,EAAI,QAAQT,EAAU,kBAAkB,EAE/BA,CACT,CAAC,0CC9eMyB,GAAA/mE,GAAA,CACL,KAAA,CAAA,UAAAgnE,CAAA,EAAAhnE,EACA,OAAAub,EAAA,QAAO,IAAAgJ,EAAAyC,GAAA,CAAA,SAAAD,EAAA,IAAA,CAAA,SAAA,CAGE,QAAAigD,EACK,IAAU1B,GAAA,OAAA0B,CAAA,EAA6B,GAAE,CAAA,CAAA,CAAA,CAAA,EAEnD,CAAAA,CAAA,CAEQ,CAEd,yUCdA,MAAAC,GAAA,wBACAC,GAAA,mCAEOC,GAAAnnE,GAAA,CACL,KAAA,CAAA,IAAAonE,CAAA,EAAApnE,EACA,IAAAqnE,EAAA,OACA,MAAAC,EAAA,IAAA,IAAAF,CAAA,EACA,CAAA,SAAAG,CAAA,EAAAD,EAEA,OAAAC,EAAA,MAAAN,EAAA,GAAAM,EAAA,MAAAL,EAAA,KACEG,EAAA,UAOF9iD,EAAAwgD,GAAA,CAAA,KAAAsC,CAAA,CAAA,CACF,sNCnBO,MAAAG,GAAAz8C,GACLxP,EAAA,QAAO,IAAAwL,EAAAC,GAAA,CAAA,SAAA,CAGDzC,EAAA,MAAA,CAAA,SAAAA,EAAA4iD,GAAA,CAAA,IAAAp8C,EAAA,GAAA,CAAA,EAAA,EAEAxG,EAAA6/C,GAAA,CAAA,MAAAr5C,EAAA,KAAA,UAAA,MAAA,eAAA,IAAA,SAAAxG,EAAA,IAAA,CAAA,KAAAwG,EAAA,IAAA,IAAA,sBAAA,SAAAA,EAAA,IAAA,CAAA,EAAA,CAKA,EAAA,EACF,CAAAA,EAAA,KAAAA,EAAA,GAAA,CAEkB,8kBCnBxB,IAAI08C,EAAY7rD,GAGZ8rD,EAAqB,EA4BzB,SAAS/vC,EAAMt6B,EAAO,CACpB,OAAOoqE,EAAUpqE,EAAOqqE,CAAkB,CAC3C,CAED,OAAAC,GAAiBhwC,kDChBjB,SAASpF,EAASl1B,EAAO,CACvB,OAAO,UAAW,CAChB,OAAOA,CACX,CACC,CAED,OAAAuqE,GAAiBr1C,KCzBjB,IAAIs1C,GAAcjsD,GAUlB,SAASksD,GAAeC,EAAUC,EAAW,CAC3C,OAAO,SAASn8B,EAAYo8B,EAAU,CACpC,GAAIp8B,GAAc,KAChB,OAAOA,EAET,GAAI,CAACg8B,GAAYh8B,CAAU,EACzB,OAAOk8B,EAASl8B,EAAYo8B,CAAQ,EAMtC,QAJIvvD,EAASmzB,EAAW,OACpBjnC,EAAQojE,EAAYtvD,EAAS,GAC7BwvD,EAAW,OAAOr8B,CAAU,GAExBm8B,EAAYpjE,IAAU,EAAEA,EAAQ8T,IAClCuvD,EAASC,EAAStjE,CAAK,EAAGA,EAAOsjE,CAAQ,IAAM,IAAnD,CAIF,OAAOr8B,CACX,CACA,CAEA,IAAAs8B,GAAiBL,GC/BbM,GAAaxsD,GACbksD,GAAiB9rD,GAUjBqsD,GAAWP,GAAeM,EAAU,EAExCE,GAAiBD,GCbbpoC,GAAWrkB,GASf,SAAS2sD,GAAalrE,EAAO,CAC3B,OAAO,OAAOA,GAAS,WAAaA,EAAQ4iC,EAC9C,CAEA,IAAAuoC,GAAiBD,GCbbE,GAAY7sD,GACZysD,GAAWrsD,GACXusD,GAAersD,GACfwsD,GAAU1lD,GAgCd,SAAS2lD,GAAQ98B,EAAYo8B,EAAU,CACrC,IAAIW,EAAOF,GAAQ78B,CAAU,EAAI48B,GAAYJ,GAC7C,OAAOO,EAAK/8B,EAAY08B,GAAaN,CAAQ,CAAC,CAChD,CAEA,IAAAY,GAAiBF,wCCxCjBG,GAAiBltD,oDCAjB,IAAIysD,EAAWzsD,GAUf,SAASmtD,EAAWl9B,EAAYm9B,EAAW,CACzC,IAAI9tB,EAAS,CAAA,EACb,OAAAmtB,EAASx8B,EAAY,SAASxuC,EAAOuH,EAAOinC,EAAY,CAClDm9B,EAAU3rE,EAAOuH,EAAOinC,CAAU,GACpCqP,EAAO,KAAK79C,CAAK,CAEvB,CAAG,EACM69C,CACR,CAED,OAAA+tB,GAAiBF,kDCpBjB,IAAIG,EAActtD,GACdmtD,EAAa/sD,GAAwB,EACrCmtD,EAAejtD,GACfwsD,EAAU1lD,GA2Cd,SAASgO,EAAO6a,EAAYm9B,EAAW,CACrC,IAAIJ,EAAOF,EAAQ78B,CAAU,EAAIq9B,EAAcH,EAC/C,OAAOH,EAAK/8B,EAAYs9B,EAAaH,CAAY,CAAC,CACnD,CAED,OAAAI,GAAiBp4C,kDClDjB,IAAIq4C,EAAc,OAAO,UAGrBC,EAAiBD,EAAY,eAUjC,SAASE,EAAQC,EAAQl0D,EAAK,CAC5B,OAAOk0D,GAAU,MAAQF,EAAe,KAAKE,EAAQl0D,CAAG,CACzD,CAED,OAAAm0D,GAAiBF,kDClBjB,IAAIA,EAAU3tD,GAAqB,EAC/B8tD,EAAU1tD,GA6Bd,SAAS2tD,EAAIH,EAAQj4B,EAAM,CACzB,OAAOi4B,GAAU,MAAQE,EAAQF,EAAQj4B,EAAMg4B,CAAO,CACvD,CAED,OAAAK,GAAiBD,kDClCjB,IAAIE,EAAWjuD,GACXkuD,EAAS9tD,GACT+tD,EAAc7tD,GACdwsD,EAAU1lD,GACV6kD,EAAcmC,GACdC,EAAWC,GACXC,EAAcC,GACdC,EAAeC,GAGfC,EAAS,eACTC,EAAS,eAGTnB,EAAc,OAAO,UAGrBC,EAAiBD,EAAY,eAmCjC,SAASoB,EAAQptE,EAAO,CACtB,GAAIA,GAAS,KACX,MAAO,GAET,GAAIwqE,EAAYxqE,CAAK,IAChBqrE,EAAQrrE,CAAK,GAAK,OAAOA,GAAS,UAAY,OAAOA,EAAM,QAAU,YACpE4sE,EAAS5sE,CAAK,GAAKgtE,EAAahtE,CAAK,GAAK0sE,EAAY1sE,CAAK,GAC/D,MAAO,CAACA,EAAM,OAEhB,IAAI2hB,EAAM8qD,EAAOzsE,CAAK,EACtB,GAAI2hB,GAAOurD,GAAUvrD,GAAOwrD,EAC1B,MAAO,CAACntE,EAAM,KAEhB,GAAI8sE,EAAY9sE,CAAK,EACnB,MAAO,CAACwsE,EAASxsE,CAAK,EAAE,OAE1B,QAASiY,KAAOjY,EACd,GAAIisE,EAAe,KAAKjsE,EAAOiY,CAAG,EAChC,MAAO,GAGX,MAAO,EACR,CAED,OAAAo1D,GAAiBD,kDC3DjB,SAASE,EAAYttE,EAAO,CAC1B,OAAOA,IAAU,MAClB,CAED,OAAAutE,GAAiBD,KCrBjB,IAAItC,GAAWzsD,GACXisD,GAAc7rD,GAUlB,SAAS6uD,GAAQh/B,EAAYo8B,EAAU,CACrC,IAAIrjE,EAAQ,GACRs2C,EAAS2sB,GAAYh8B,CAAU,EAAI,MAAMA,EAAW,MAAM,EAAI,GAElE,OAAAw8B,GAASx8B,EAAY,SAASxuC,EAAOiY,EAAKu2B,EAAY,CACpDqP,EAAO,EAAEt2C,CAAK,EAAIqjE,EAAS5qE,EAAOiY,EAAKu2B,CAAU,CACrD,CAAG,EACMqP,CACT,CAEA,IAAA4vB,GAAiBD,4CCrBjB,IAAIE,EAAWnvD,GACXutD,EAAentD,GACf6uD,EAAU3uD,GACVwsD,EAAU1lD,GA4Cd,SAASgoD,EAAIn/B,EAAYo8B,EAAU,CACjC,IAAIW,EAAOF,EAAQ78B,CAAU,EAAIk/B,EAAWF,EAC5C,OAAOjC,EAAK/8B,EAAYs9B,EAAalB,CAAW,CAAC,CAClD,CAED,OAAAgD,GAAiBD,kDCxCjB,SAASE,EAAY3rE,EAAO0oE,EAAUkD,EAAaC,EAAW,CAC5D,IAAIxmE,EAAQ,GACR8T,EAASnZ,GAAS,KAAO,EAAIA,EAAM,OAKvC,IAHI6rE,GAAa1yD,IACfyyD,EAAc5rE,EAAM,EAAEqF,CAAK,GAEtB,EAAEA,EAAQ8T,GACfyyD,EAAclD,EAASkD,EAAa5rE,EAAMqF,CAAK,EAAGA,EAAOrF,CAAK,EAEhE,OAAO4rE,CACR,CAED,OAAAE,GAAiBH,kDCZjB,SAASI,EAAWz/B,EAAYo8B,EAAUkD,EAAaC,EAAWrD,EAAU,CAC1E,OAAAA,EAASl8B,EAAY,SAASxuC,EAAOuH,EAAOinC,EAAY,CACtDs/B,EAAcC,GACTA,EAAY,GAAO/tE,GACpB4qE,EAASkD,EAAa9tE,EAAOuH,EAAOinC,CAAU,CACtD,CAAG,EACMs/B,CACR,CAED,OAAAI,GAAiBD,kDCtBjB,IAAIJ,EAActvD,GAAyB,EACvCysD,EAAWrsD,GACXmtD,EAAejtD,GACfovD,EAAatoD,GAAwB,EACrC0lD,EAAUsB,GAuCd,SAASwB,EAAO3/B,EAAYo8B,EAAUkD,EAAa,CACjD,IAAIvC,EAAOF,EAAQ78B,CAAU,EAAIq/B,EAAcI,EAC3CF,EAAY,UAAU,OAAS,EAEnC,OAAOxC,EAAK/8B,EAAYs9B,EAAalB,CAAW,EAAGkD,EAAaC,EAAW/C,CAAQ,CACpF,CAED,OAAAoD,GAAiBD,kDClDjB,IAAIE,EAAe9vD,GASf+vD,EAAYD,EAAa,QAAQ,EAErC,OAAAE,GAAiBD,kDCVjB,IAAIE,EAAgB,kBAChBC,EAAoB,kBACpBC,EAAwB,kBACxBC,EAAsB,kBACtBC,EAAeH,EAAoBC,EAAwBC,EAC3DE,EAAa,iBAGbC,EAAQ,UAGRC,EAAe,OAAO,IAAMD,EAAQN,EAAiBI,EAAeC,EAAa,GAAG,EASxF,SAASG,EAAW/tE,EAAQ,CAC1B,OAAO8tE,EAAa,KAAK9tE,CAAM,CAChC,CAED,OAAAguE,GAAiBD,kDCxBjB,IAAIR,EAAgB,kBAChBC,EAAoB,kBACpBC,EAAwB,kBACxBC,EAAsB,kBACtBC,EAAeH,EAAoBC,EAAwBC,EAC3DE,EAAa,iBAGbK,EAAW,IAAMV,EAAgB,IACjCW,EAAU,IAAMP,EAAe,IAC/BQ,EAAS,2BACTC,EAAa,MAAQF,EAAU,IAAMC,EAAS,IAC9CE,EAAc,KAAOd,EAAgB,IACrCe,EAAa,kCACbC,EAAa,qCACbV,EAAQ,UAGRW,EAAWJ,EAAa,IACxBK,EAAW,IAAMb,EAAa,KAC9Bc,EAAY,MAAQb,EAAQ,MAAQ,CAACQ,EAAaC,EAAYC,CAAU,EAAE,KAAK,GAAG,EAAI,IAAME,EAAWD,EAAW,KAClHG,EAAQF,EAAWD,EAAWE,EAC9BE,EAAW,MAAQ,CAACP,EAAcH,EAAU,IAAKA,EAASI,EAAYC,EAAYN,CAAQ,EAAE,KAAK,GAAG,EAAI,IAGxGY,EAAY,OAAOV,EAAS,MAAQA,EAAS,KAAOS,EAAWD,EAAO,GAAG,EAS7E,SAASG,EAAY9uE,EAAQ,CAE3B,QADI48C,EAASiyB,EAAU,UAAY,EAC5BA,EAAU,KAAK7uE,CAAM,GAC1B,EAAE48C,EAEJ,OAAOA,CACR,CAED,OAAAmyB,GAAiBD,kDC3CjB,IAAIzB,EAAY/vD,GAAuB,EACnCywD,EAAarwD,GAAwB,EACrCoxD,EAAclxD,GAAA,EASlB,SAASoxD,EAAWhvE,EAAQ,CAC1B,OAAO+tE,EAAW/tE,CAAM,EACpB8uE,EAAY9uE,CAAM,EAClBqtE,EAAUrtE,CAAM,CACrB,CAED,OAAAivE,GAAiBD,kDCjBjB,IAAIzD,EAAWjuD,GACXkuD,EAAS9tD,GACT6rD,EAAc3rD,GACdsxD,EAAWxqD,GACXsqD,EAAatD,GAAA,EAGbO,EAAS,eACTC,EAAS,eAuBb,SAASr/D,EAAK0gC,EAAY,CACxB,GAAIA,GAAc,KAChB,MAAO,GAET,GAAIg8B,EAAYh8B,CAAU,EACxB,OAAO2hC,EAAS3hC,CAAU,EAAIyhC,EAAWzhC,CAAU,EAAIA,EAAW,OAEpE,IAAI7sB,EAAM8qD,EAAOj+B,CAAU,EAC3B,OAAI7sB,GAAOurD,GAAUvrD,GAAOwrD,EACnB3+B,EAAW,KAEbg+B,EAASh+B,CAAU,EAAE,MAC7B,CAED,OAAA4hC,GAAiBtiE,kDC7CjB,IAAIs9D,EAAY7sD,GACZ8xD,EAAa1xD,GACbosD,EAAalsD,GACbitD,EAAenmD,GACf2qD,EAAe3D,GACftB,EAAUwB,GACVD,EAAWG,GACXwD,EAAatD,GACbuD,EAAWC,GACXzD,EAAe0D,GAgCnB,SAAS1jC,EAAUm/B,EAAQvB,EAAUkD,EAAa,CAChD,IAAI6C,EAAQtF,EAAQc,CAAM,EACtByE,EAAYD,GAAS/D,EAAST,CAAM,GAAKa,EAAab,CAAM,EAGhE,GADAvB,EAAWkB,EAAalB,CAAW,EAC/BkD,GAAe,KAAM,CACvB,IAAI+C,EAAO1E,GAAUA,EAAO,YACxByE,EACF9C,EAAc6C,EAAQ,IAAIE,EAAO,GAE1BL,EAASrE,CAAM,EACtB2B,EAAcyC,EAAWM,CAAI,EAAIR,EAAWC,EAAanE,CAAM,CAAC,EAAI,GAGpE2B,EAAc,CAAA,EAGlB,OAAC8C,EAAYxF,EAAYL,GAAYoB,EAAQ,SAASnsE,EAAOuH,EAAO4kE,EAAQ,CAC1E,OAAOvB,EAASkD,EAAa9tE,EAAOuH,EAAO4kE,CAAM,CACrD,CAAG,EACM2B,CACR,CAED,OAAAgD,GAAiB9jC,KChEjB,IAAImyB,GAAS5gD,GACTmuD,GAAc/tD,GACd0sD,GAAUxsD,GAGVkyD,GAAmB5R,GAASA,GAAO,mBAAqB,OAS5D,SAAS6R,GAAchxE,EAAO,CAC5B,OAAOqrE,GAAQrrE,CAAK,GAAK0sE,GAAY1sE,CAAK,GACxC,CAAC,EAAE+wE,IAAoB/wE,GAASA,EAAM+wE,EAAgB,EAC1D,CAEA,IAAAE,GAAiBD,GCnBbE,GAAY3yD,GACZyyD,GAAgBryD,GAapB,SAASwyD,GAAYjvE,EAAOkvE,EAAOzF,EAAW0F,EAAUxzB,EAAQ,CAC9D,IAAIt2C,EAAQ,GACR8T,EAASnZ,EAAM,OAKnB,IAHAypE,IAAcA,EAAYqF,IAC1BnzB,IAAWA,EAAS,CAAA,GAEb,EAAEt2C,EAAQ8T,GAAQ,CACvB,IAAIrb,EAAQkC,EAAMqF,CAAK,EACnB6pE,EAAQ,GAAKzF,EAAU3rE,CAAK,EAC1BoxE,EAAQ,EAEVD,GAAYnxE,EAAOoxE,EAAQ,EAAGzF,EAAW0F,EAAUxzB,CAAM,EAEzDqzB,GAAUrzB,EAAQ79C,CAAK,EAEfqxE,IACVxzB,EAAOA,EAAO,MAAM,EAAI79C,GAG5B,OAAO69C,CACT,CAEA,IAAAyzB,GAAiBH,GC3BjB,SAASI,GAAMhG,EAAMiG,EAAS5/C,EAAM,CAClC,OAAQA,EAAK,OAAM,CACjB,IAAK,GAAG,OAAO25C,EAAK,KAAKiG,CAAO,EAChC,IAAK,GAAG,OAAOjG,EAAK,KAAKiG,EAAS5/C,EAAK,CAAC,CAAC,EACzC,IAAK,GAAG,OAAO25C,EAAK,KAAKiG,EAAS5/C,EAAK,CAAC,EAAGA,EAAK,CAAC,CAAC,EAClD,IAAK,GAAG,OAAO25C,EAAK,KAAKiG,EAAS5/C,EAAK,CAAC,EAAGA,EAAK,CAAC,EAAGA,EAAK,CAAC,CAAC,CAC5D,CACD,OAAO25C,EAAK,MAAMiG,EAAS5/C,CAAI,CACjC,CAEA,IAAA6/C,GAAiBF,GCpBbA,GAAQhzD,GAGRmzD,GAAY,KAAK,IAWrB,SAASC,GAASpG,EAAMpwD,EAAO6xB,EAAW,CACxC,OAAA7xB,EAAQu2D,GAAUv2D,IAAU,OAAaowD,EAAK,OAAS,EAAKpwD,EAAO,CAAC,EAC7D,UAAW,CAMhB,QALIyW,EAAO,UACPrqB,EAAQ,GACR8T,EAASq2D,GAAU9/C,EAAK,OAASzW,EAAO,CAAC,EACzCjZ,EAAQ,MAAMmZ,CAAM,EAEjB,EAAE9T,EAAQ8T,GACfnZ,EAAMqF,CAAK,EAAIqqB,EAAKzW,EAAQ5T,CAAK,EAEnCA,EAAQ,GAER,QADIqqE,EAAY,MAAMz2D,EAAQ,CAAC,EACxB,EAAE5T,EAAQ4T,GACfy2D,EAAUrqE,CAAK,EAAIqqB,EAAKrqB,CAAK,EAE/B,OAAAqqE,EAAUz2D,CAAK,EAAI6xB,EAAU9qC,CAAK,EAC3BqvE,GAAMhG,EAAM,KAAMqG,CAAS,CACtC,CACA,CAEA,IAAAC,GAAiBF,GCnCbz8C,GAAW3W,GAAqB,EAChCuzD,GAAiBnzD,GACjBikB,GAAW/jB,GAUXkzD,GAAmBD,GAA4B,SAASvG,EAAMtqE,EAAQ,CACxE,OAAO6wE,GAAevG,EAAM,WAAY,CACtC,aAAgB,GAChB,WAAc,GACd,MAASr2C,GAASj0B,CAAM,EACxB,SAAY,EAChB,CAAG,CACH,EAPwC2hC,GASxCovC,GAAiBD,GCpBbE,GAAY,IACZC,GAAW,GAGXC,GAAY,KAAK,IAWrB,SAASC,GAAS7G,EAAM,CACtB,IAAIhxD,EAAQ,EACR83D,EAAa,EAEjB,OAAO,UAAW,CAChB,IAAIC,EAAQH,GAAW,EACnBI,EAAYL,IAAYI,EAAQD,GAGpC,GADAA,EAAaC,EACTC,EAAY,GACd,GAAI,EAAEh4D,GAAS03D,GACb,OAAO,UAAU,CAAC,OAGpB13D,EAAQ,EAEV,OAAOgxD,EAAK,MAAM,OAAW,SAAS,CAC1C,CACA,CAEA,IAAAiH,GAAiBJ,GCpCbL,GAAkBxzD,GAClB6zD,GAAWzzD,GAUX8zD,GAAcL,GAASL,EAAe,EAE1CW,GAAiBD,GCbb7vC,GAAWrkB,GACXozD,GAAWhzD,GACX8zD,GAAc5zD,GAUlB,SAAS8zD,GAASpH,EAAMpwD,EAAO,CAC7B,OAAOs3D,GAAYd,GAASpG,EAAMpwD,EAAOynB,EAAQ,EAAG2oC,EAAO,EAAE,CAC/D,CAEA,IAAAqH,GAAiBD,GChBbnI,GAAcjsD,GACds0D,GAAel0D,GA2BnB,SAASm0D,GAAkB9yE,EAAO,CAChC,OAAO6yE,GAAa7yE,CAAK,GAAKwqE,GAAYxqE,CAAK,CACjD,CAEA,IAAA+yE,GAAiBD,4CChCjB,IAAI3B,EAAc5yD,GACdo0D,EAAWh0D,GACXq0D,EAAWn0D,GACXi0D,EAAoBntD,GAkBpBstD,EAAQN,EAAS,SAASO,EAAQ,CACpC,OAAOF,EAAS7B,EAAY+B,EAAQ,EAAGJ,EAAmB,EAAI,CAAC,CACjE,CAAC,EAED,OAAAK,GAAiBF,kDCzBjB,IAAIvF,EAAWnvD,GAYf,SAAS60D,EAAWjH,EAAQxpE,EAAO,CACjC,OAAO+qE,EAAS/qE,EAAO,SAASsV,EAAK,CACnC,OAAOk0D,EAAOl0D,CAAG,CACrB,CAAG,CACF,CAED,OAAAo7D,GAAiBD,kDClBjB,IAAIA,EAAa70D,GAAwB,EACrCwyC,EAAOpyC,GA4BX,SAAS5G,EAAOo0D,EAAQ,CACtB,OAAOA,GAAU,KAAO,GAAKiH,EAAWjH,EAAQpb,EAAKob,CAAM,CAAC,CAC7D,CAED,OAAAmH,GAAiBv7D,kDC/BjB,IAAIw7D,EAEJ,GAAI,OAAOrL,IAAY,WACrB,GAAI,CACFqL,EAAS,CACP,MAAOh1D,GAAuB,EAC9B,SAAUI,GAA0B,EACpC,KAAME,GAAsB,EAC5B,OAAQ8G,GAAwB,EAChC,IAAMgnD,GAAqB,EAC3B,QAASE,GACT,QAASE,GAAyB,EAClC,WAAYE,GACZ,YAAawD,GAA6B,EAC1C,KAAMC,GACN,IAAK8C,GAAqB,EAC1B,OAAQC,GAAwB,EAChC,KAAMC,GAAsB,EAC5B,UAAWC,GAA2B,EACtC,MAAOC,GAAuB,EAC9B,OAAQC,GAAwB,CACtC,CACG,MAAC,CAED,CAGH,OAAKN,IACHA,EAAS,OAAO,GAGlBO,GAAiBP,kDC/BjB,IAAI3+D,EAAI2J,KAEMw1D,GAAGC,EAEjB,IAAIC,EAAoB,KACpBC,EAAa,KACbC,EAAiB,IAYrB,SAASH,EAAMhzD,EAAM,CACnB,KAAK,YAAcpM,EAAE,IAAIoM,EAAM,UAAU,EAAIA,EAAK,SAAW,GAC7D,KAAK,cAAgBpM,EAAE,IAAIoM,EAAM,YAAY,EAAIA,EAAK,WAAa,GACnE,KAAK,YAAcpM,EAAE,IAAIoM,EAAM,UAAU,EAAIA,EAAK,SAAW,GAG7D,KAAK,OAAS,OAGd,KAAK,oBAAsBpM,EAAE,SAAS,MAAS,EAG/C,KAAK,oBAAsBA,EAAE,SAAS,MAAS,EAG/C,KAAK,OAAS,GAEV,KAAK,cAEP,KAAK,QAAU,GAGf,KAAK,UAAY,GACjB,KAAK,UAAUs/D,CAAU,EAAI,IAI/B,KAAK,IAAM,GAGX,KAAK,OAAS,GAGd,KAAK,KAAO,GAGZ,KAAK,MAAQ,GAGb,KAAK,UAAY,GAGjB,KAAK,YAAc,EACpB,CAGDF,EAAM,UAAU,WAAa,EAG7BA,EAAM,UAAU,WAAa,EAK7BA,EAAM,UAAU,WAAa,UAAW,CACtC,OAAO,KAAK,WACd,EAEAA,EAAM,UAAU,aAAe,UAAW,CACxC,OAAO,KAAK,aACd,EAEAA,EAAM,UAAU,WAAa,UAAW,CACtC,OAAO,KAAK,WACd,EAEAA,EAAM,UAAU,SAAW,SAASnjC,EAAO,CACzC,YAAK,OAASA,EACP,IACT,EAEAmjC,EAAM,UAAU,MAAQ,UAAW,CACjC,OAAO,KAAK,MACd,EAKAA,EAAM,UAAU,oBAAsB,SAASI,EAAY,CACzD,OAAKx/D,EAAE,WAAWw/D,CAAU,IAC1BA,EAAax/D,EAAE,SAASw/D,CAAU,GAEpC,KAAK,oBAAsBA,EACpB,IACT,EAEAJ,EAAM,UAAU,UAAY,UAAW,CACrC,OAAO,KAAK,UACd,EAEAA,EAAM,UAAU,MAAQ,UAAW,CACjC,OAAOp/D,EAAE,KAAK,KAAK,MAAM,CAC3B,EAEAo/D,EAAM,UAAU,QAAU,UAAW,CACnC,IAAI3rC,EAAO,KACX,OAAOzzB,EAAE,OAAO,KAAK,MAAO,EAAE,SAASwQ,EAAG,CACxC,OAAOxQ,EAAE,QAAQyzB,EAAK,IAAIjjB,CAAC,CAAC,CAChC,CAAG,CACH,EAEA4uD,EAAM,UAAU,MAAQ,UAAW,CACjC,IAAI3rC,EAAO,KACX,OAAOzzB,EAAE,OAAO,KAAK,MAAO,EAAE,SAASwQ,EAAG,CACxC,OAAOxQ,EAAE,QAAQyzB,EAAK,KAAKjjB,CAAC,CAAC,CACjC,CAAG,CACH,EAEA4uD,EAAM,UAAU,SAAW,SAASK,EAAIr0E,EAAO,CAC7C,IAAI4xB,EAAO,UACPyW,EAAO,KACX,OAAAzzB,EAAE,KAAKy/D,EAAI,SAASjvD,EAAG,CACjBwM,EAAK,OAAS,EAChByW,EAAK,QAAQjjB,EAAGplB,CAAK,EAErBqoC,EAAK,QAAQjjB,CAAC,CAEpB,CAAG,EACM,IACT,EAEA4uD,EAAM,UAAU,QAAU,SAAS5uD,EAAGplB,EAAO,CAC3C,OAAI4U,EAAE,IAAI,KAAK,OAAQwQ,CAAC,GAClB,UAAU,OAAS,IACrB,KAAK,OAAOA,CAAC,EAAIplB,GAEZ,OAGT,KAAK,OAAOolB,CAAC,EAAI,UAAU,OAAS,EAAIplB,EAAQ,KAAK,oBAAoBolB,CAAC,EACtE,KAAK,cACP,KAAK,QAAQA,CAAC,EAAI8uD,EAClB,KAAK,UAAU9uD,CAAC,EAAI,GACpB,KAAK,UAAU8uD,CAAU,EAAE9uD,CAAC,EAAI,IAElC,KAAK,IAAIA,CAAC,EAAI,GACd,KAAK,OAAOA,CAAC,EAAI,GACjB,KAAK,KAAKA,CAAC,EAAI,GACf,KAAK,MAAMA,CAAC,EAAI,GAChB,EAAE,KAAK,WACA,KACT,EAEA4uD,EAAM,UAAU,KAAO,SAAS5uD,EAAG,CACjC,OAAO,KAAK,OAAOA,CAAC,CACtB,EAEA4uD,EAAM,UAAU,QAAU,SAAS5uD,EAAG,CACpC,OAAOxQ,EAAE,IAAI,KAAK,OAAQwQ,CAAC,CAC7B,EAEA4uD,EAAM,UAAU,WAAc,SAAS5uD,EAAG,CACxC,IAAIijB,EAAO,KACX,GAAIzzB,EAAE,IAAI,KAAK,OAAQwQ,CAAC,EAAG,CACzB,IAAIkvD,EAAa,SAAS1sD,EAAG,CAAEygB,EAAK,WAAWA,EAAK,UAAUzgB,CAAC,CAAC,GAChE,OAAO,KAAK,OAAOxC,CAAC,EAChB,KAAK,cACP,KAAK,4BAA4BA,CAAC,EAClC,OAAO,KAAK,QAAQA,CAAC,EACrBxQ,EAAE,KAAK,KAAK,SAASwQ,CAAC,EAAG,SAASiP,EAAO,CACvCgU,EAAK,UAAUhU,CAAK,CAC5B,CAAO,EACD,OAAO,KAAK,UAAUjP,CAAC,GAEzBxQ,EAAE,KAAKA,EAAE,KAAK,KAAK,IAAIwQ,CAAC,CAAC,EAAGkvD,CAAU,EACtC,OAAO,KAAK,IAAIlvD,CAAC,EACjB,OAAO,KAAK,OAAOA,CAAC,EACpBxQ,EAAE,KAAKA,EAAE,KAAK,KAAK,KAAKwQ,CAAC,CAAC,EAAGkvD,CAAU,EACvC,OAAO,KAAK,KAAKlvD,CAAC,EAClB,OAAO,KAAK,MAAMA,CAAC,EACnB,EAAE,KAAK,WAET,OAAO,IACT,EAEA4uD,EAAM,UAAU,UAAY,SAAS5uD,EAAG+O,EAAQ,CAC9C,GAAI,CAAC,KAAK,YACR,MAAM,IAAI,MAAM,2CAA2C,EAG7D,GAAIvf,EAAE,YAAYuf,CAAM,EACtBA,EAAS+/C,MACJ,CAEL//C,GAAU,GACV,QAASogD,EAAWpgD,EAClB,CAACvf,EAAE,YAAY2/D,CAAQ,EACvBA,EAAW,KAAK,OAAOA,CAAQ,EAC/B,GAAIA,IAAanvD,EACf,MAAM,IAAI,MAAM,WAAa+O,EAAQ,iBAAmB/O,EACxC,uBAAuB,EAI3C,KAAK,QAAQ+O,CAAM,EAGrB,YAAK,QAAQ/O,CAAC,EACd,KAAK,4BAA4BA,CAAC,EAClC,KAAK,QAAQA,CAAC,EAAI+O,EAClB,KAAK,UAAUA,CAAM,EAAE/O,CAAC,EAAI,GACrB,IACT,EAEA4uD,EAAM,UAAU,4BAA8B,SAAS5uD,EAAG,CACxD,OAAO,KAAK,UAAU,KAAK,QAAQA,CAAC,CAAC,EAAEA,CAAC,CAC1C,EAEA4uD,EAAM,UAAU,OAAS,SAAS5uD,EAAG,CACnC,GAAI,KAAK,YAAa,CACpB,IAAI+O,EAAS,KAAK,QAAQ/O,CAAC,EAC3B,GAAI+O,IAAW+/C,EACb,OAAO//C,EAGb,EAEA6/C,EAAM,UAAU,SAAW,SAAS5uD,EAAG,CAKrC,GAJIxQ,EAAE,YAAYwQ,CAAC,IACjBA,EAAI8uD,GAGF,KAAK,YAAa,CACpB,IAAIrgE,EAAW,KAAK,UAAUuR,CAAC,EAC/B,GAAIvR,EACF,OAAOe,EAAE,KAAKf,CAAQ,MAEnB,IAAIuR,IAAM8uD,EACf,OAAO,KAAK,QACP,GAAI,KAAK,QAAQ9uD,CAAC,EACvB,MAAO,GAEX,EAEA4uD,EAAM,UAAU,aAAe,SAAS5uD,EAAG,CACzC,IAAIovD,EAAS,KAAK,OAAOpvD,CAAC,EAC1B,GAAIovD,EACF,OAAO5/D,EAAE,KAAK4/D,CAAM,CAExB,EAEAR,EAAM,UAAU,WAAa,SAAS5uD,EAAG,CACvC,IAAIqvD,EAAQ,KAAK,MAAMrvD,CAAC,EACxB,GAAIqvD,EACF,OAAO7/D,EAAE,KAAK6/D,CAAK,CAEvB,EAEAT,EAAM,UAAU,UAAY,SAAS5uD,EAAG,CACtC,IAAIsvD,EAAQ,KAAK,aAAatvD,CAAC,EAC/B,GAAIsvD,EACF,OAAO9/D,EAAE,MAAM8/D,EAAO,KAAK,WAAWtvD,CAAC,CAAC,CAE5C,EAEA4uD,EAAM,UAAU,OAAS,SAAU5uD,EAAG,CACpC,IAAIuvD,EACJ,OAAI,KAAK,aACPA,EAAY,KAAK,WAAWvvD,CAAC,EAE7BuvD,EAAY,KAAK,UAAUvvD,CAAC,EAEvBuvD,EAAU,SAAW,CAC9B,EAEAX,EAAM,UAAU,YAAc,SAASrgD,EAAQ,CAC7C,IAAIjC,EAAO,IAAI,KAAK,YAAY,CAC9B,SAAU,KAAK,YACf,WAAY,KAAK,cACjB,SAAU,KAAK,WACnB,CAAG,EAEDA,EAAK,SAAS,KAAK,MAAO,CAAA,EAE1B,IAAI2W,EAAO,KACXzzB,EAAE,KAAK,KAAK,OAAQ,SAAS5U,EAAOolB,EAAG,CACjCuO,EAAOvO,CAAC,GACVsM,EAAK,QAAQtM,EAAGplB,CAAK,CAE3B,CAAG,EAED4U,EAAE,KAAK,KAAK,UAAW,SAASgT,EAAG,CAC7B8J,EAAK,QAAQ9J,EAAE,CAAC,GAAK8J,EAAK,QAAQ9J,EAAE,CAAC,GACvC8J,EAAK,QAAQ9J,EAAGygB,EAAK,KAAKzgB,CAAC,CAAC,CAElC,CAAG,EAED,IAAIwL,EAAU,CAAA,EACd,SAASwhD,EAAWxvD,EAAG,CACrB,IAAI+O,EAASkU,EAAK,OAAOjjB,CAAC,EAC1B,OAAI+O,IAAW,QAAazC,EAAK,QAAQyC,CAAM,GAC7Cf,EAAQhO,CAAC,EAAI+O,EACNA,GACEA,KAAUf,EACZA,EAAQe,CAAM,EAEdygD,EAAWzgD,CAAM,CAE3B,CAED,OAAI,KAAK,aACPvf,EAAE,KAAK8c,EAAK,MAAO,EAAE,SAAStM,EAAG,CAC/BsM,EAAK,UAAUtM,EAAGwvD,EAAWxvD,CAAC,CAAC,CACrC,CAAK,EAGIsM,CACT,EAIAsiD,EAAM,UAAU,oBAAsB,SAASI,EAAY,CACzD,OAAKx/D,EAAE,WAAWw/D,CAAU,IAC1BA,EAAax/D,EAAE,SAASw/D,CAAU,GAEpC,KAAK,oBAAsBA,EACpB,IACT,EAEAJ,EAAM,UAAU,UAAY,UAAW,CACrC,OAAO,KAAK,UACd,EAEAA,EAAM,UAAU,MAAQ,UAAW,CACjC,OAAOp/D,EAAE,OAAO,KAAK,SAAS,CAChC,EAEAo/D,EAAM,UAAU,QAAU,SAASK,EAAIr0E,EAAO,CAC5C,IAAIqoC,EAAO,KACPzW,EAAO,UACX,OAAAhd,EAAE,OAAOy/D,EAAI,SAASjvD,EAAG6K,EAAG,CAC1B,OAAI2B,EAAK,OAAS,EAChByW,EAAK,QAAQjjB,EAAG6K,EAAGjwB,CAAK,EAExBqoC,EAAK,QAAQjjB,EAAG6K,CAAC,EAEZA,CACX,CAAG,EACM,IACT,EAMA+jD,EAAM,UAAU,QAAU,UAAW,CACnC,IAAI5uD,EAAG6K,EAAG/Q,EAAMlf,EACZ60E,EAAiB,GACjBC,EAAO,UAAU,CAAC,EAElB,OAAOA,GAAS,UAAYA,IAAS,MAAQ,MAAOA,GACtD1vD,EAAI0vD,EAAK,EACT7kD,EAAI6kD,EAAK,EACT51D,EAAO41D,EAAK,KACR,UAAU,SAAW,IACvB90E,EAAQ,UAAU,CAAC,EACnB60E,EAAiB,MAGnBzvD,EAAI0vD,EACJ7kD,EAAI,UAAU,CAAC,EACf/Q,EAAO,UAAU,CAAC,EACd,UAAU,OAAS,IACrBlf,EAAQ,UAAU,CAAC,EACnB60E,EAAiB,KAIrBzvD,EAAI,GAAKA,EACT6K,EAAI,GAAKA,EACJrb,EAAE,YAAYsK,CAAI,IACrBA,EAAO,GAAKA,GAGd,IAAI0I,EAAImtD,EAAa,KAAK,YAAa3vD,EAAG6K,EAAG/Q,CAAI,EACjD,GAAItK,EAAE,IAAI,KAAK,YAAagT,CAAC,EAC3B,OAAIitD,IACF,KAAK,YAAYjtD,CAAC,EAAI5nB,GAEjB,KAGT,GAAI,CAAC4U,EAAE,YAAYsK,CAAI,GAAK,CAAC,KAAK,cAChC,MAAM,IAAI,MAAM,mDAAmD,EAKrE,KAAK,QAAQkG,CAAC,EACd,KAAK,QAAQ6K,CAAC,EAEd,KAAK,YAAYrI,CAAC,EAAIitD,EAAiB70E,EAAQ,KAAK,oBAAoBolB,EAAG6K,EAAG/Q,CAAI,EAElF,IAAI81D,EAAUC,EAAc,KAAK,YAAa7vD,EAAG6K,EAAG/Q,CAAI,EAExD,OAAAkG,EAAI4vD,EAAQ,EACZ/kD,EAAI+kD,EAAQ,EAEZ,OAAO,OAAOA,CAAO,EACrB,KAAK,UAAUptD,CAAC,EAAIotD,EACpBE,EAAqB,KAAK,OAAOjlD,CAAC,EAAG7K,CAAC,EACtC8vD,EAAqB,KAAK,MAAM9vD,CAAC,EAAG6K,CAAC,EACrC,KAAK,IAAIA,CAAC,EAAErI,CAAC,EAAIotD,EACjB,KAAK,KAAK5vD,CAAC,EAAEwC,CAAC,EAAIotD,EAClB,KAAK,aACE,IACT,EAEAhB,EAAM,UAAU,KAAO,SAAS5uD,EAAG6K,EAAG/Q,EAAM,CAC1C,IAAI0I,EAAK,UAAU,SAAW,EAC1ButD,EAAY,KAAK,YAAa,UAAU,CAAC,CAAC,EAC1CJ,EAAa,KAAK,YAAa3vD,EAAG6K,EAAG/Q,CAAI,EAC7C,OAAO,KAAK,YAAY0I,CAAC,CAC3B,EAEAosD,EAAM,UAAU,QAAU,SAAS5uD,EAAG6K,EAAG/Q,EAAM,CAC7C,IAAI0I,EAAK,UAAU,SAAW,EAC1ButD,EAAY,KAAK,YAAa,UAAU,CAAC,CAAC,EAC1CJ,EAAa,KAAK,YAAa3vD,EAAG6K,EAAG/Q,CAAI,EAC7C,OAAOtK,EAAE,IAAI,KAAK,YAAagT,CAAC,CAClC,EAEAosD,EAAM,UAAU,WAAa,SAAS5uD,EAAG6K,EAAG/Q,EAAM,CAChD,IAAI0I,EAAK,UAAU,SAAW,EAC1ButD,EAAY,KAAK,YAAa,UAAU,CAAC,CAAC,EAC1CJ,EAAa,KAAK,YAAa3vD,EAAG6K,EAAG/Q,CAAI,EACzC4wB,EAAO,KAAK,UAAUloB,CAAC,EAC3B,OAAIkoB,IACF1qB,EAAI0qB,EAAK,EACT7f,EAAI6f,EAAK,EACT,OAAO,KAAK,YAAYloB,CAAC,EACzB,OAAO,KAAK,UAAUA,CAAC,EACvBwtD,EAAuB,KAAK,OAAOnlD,CAAC,EAAG7K,CAAC,EACxCgwD,EAAuB,KAAK,MAAMhwD,CAAC,EAAG6K,CAAC,EACvC,OAAO,KAAK,IAAIA,CAAC,EAAErI,CAAC,EACpB,OAAO,KAAK,KAAKxC,CAAC,EAAEwC,CAAC,EACrB,KAAK,cAEA,IACT,EAEAosD,EAAM,UAAU,QAAU,SAAS5uD,EAAG0K,EAAG,CACvC,IAAIulD,EAAM,KAAK,IAAIjwD,CAAC,EACpB,GAAIiwD,EAAK,CACP,IAAIz7B,EAAQhlC,EAAE,OAAOygE,CAAG,EACxB,OAAKvlD,EAGElb,EAAE,OAAOglC,EAAO,SAAS9J,EAAM,CAAE,OAAOA,EAAK,IAAMhgB,CAAE,CAAE,EAFrD8pB,EAIb,EAEAo6B,EAAM,UAAU,SAAW,SAAS5uD,EAAG6K,EAAG,CACxC,IAAIqlD,EAAO,KAAK,KAAKlwD,CAAC,EACtB,GAAIkwD,EAAM,CACR,IAAI17B,EAAQhlC,EAAE,OAAO0gE,CAAI,EACzB,OAAKrlD,EAGErb,EAAE,OAAOglC,EAAO,SAAS9J,EAAM,CAAE,OAAOA,EAAK,IAAM7f,CAAE,CAAE,EAFrD2pB,EAIb,EAEAo6B,EAAM,UAAU,UAAY,SAAS5uD,EAAG6K,EAAG,CACzC,IAAIslD,EAAU,KAAK,QAAQnwD,EAAG6K,CAAC,EAC/B,GAAIslD,EACF,OAAOA,EAAQ,OAAO,KAAK,SAASnwD,EAAG6K,CAAC,CAAC,CAE7C,EAEA,SAASilD,EAAqBvH,EAAKr/C,EAAG,CAChCq/C,EAAIr/C,CAAC,EACPq/C,EAAIr/C,CAAC,IAELq/C,EAAIr/C,CAAC,EAAI,CAEZ,CAED,SAAS8mD,EAAuBzH,EAAKr/C,EAAG,CACjC,EAAEq/C,EAAIr/C,CAAC,GAAK,OAAOq/C,EAAIr/C,CAAC,CAC9B,CAED,SAASymD,EAAaS,EAAYC,EAAIC,EAAIx2D,EAAM,CAC9C,IAAIkG,EAAI,GAAKqwD,EACTxlD,EAAI,GAAKylD,EACb,GAAI,CAACF,GAAcpwD,EAAI6K,EAAG,CACxB,IAAI5B,EAAMjJ,EACVA,EAAI6K,EACJA,EAAI5B,EAEN,OAAOjJ,EAAI+uD,EAAiBlkD,EAAIkkD,GACpBv/D,EAAE,YAAYsK,CAAI,EAAI+0D,EAAoB/0D,EACvD,CAED,SAAS+1D,EAAcO,EAAYC,EAAIC,EAAIx2D,EAAM,CAC/C,IAAIkG,EAAI,GAAKqwD,EACTxlD,EAAI,GAAKylD,EACb,GAAI,CAACF,GAAcpwD,EAAI6K,EAAG,CACxB,IAAI5B,EAAMjJ,EACVA,EAAI6K,EACJA,EAAI5B,EAEN,IAAI2mD,EAAW,CAAE,EAAG5vD,EAAG,EAAG6K,CAAC,EAC3B,OAAI/Q,IACF81D,EAAQ,KAAO91D,GAEV81D,CACR,CAED,SAASG,EAAYK,EAAYR,EAAS,CACxC,OAAOD,EAAaS,EAAYR,EAAQ,EAAGA,EAAQ,EAAGA,EAAQ,IAAI,CACpE,oDCnhBA9sD,GAAiB,qDCCjBytD,GAAiB,CACf,MAAOp3D,GAAkB,EACzB,QAASI,GAAoB,oDCH/B,IAAI/J,EAAI2J,KACJy1D,EAAQr1D,KAEZi3D,GAAiB,CACf,MAAOC,EACP,KAAMC,CACR,EAEA,SAASD,EAAMjmD,EAAG,CAChB,IAAIgmD,EAAO,CACT,QAAS,CACP,SAAUhmD,EAAE,WAAY,EACxB,WAAYA,EAAE,aAAc,EAC5B,SAAUA,EAAE,WAAY,CACzB,EACD,MAAOmmD,EAAWnmD,CAAC,EACnB,MAAOomD,EAAWpmD,CAAC,CACvB,EACE,OAAKhb,EAAE,YAAYgb,EAAE,MAAO,CAAA,IAC1BgmD,EAAK,MAAQhhE,EAAE,MAAMgb,EAAE,MAAK,CAAE,GAEzBgmD,CACR,CAED,SAASG,EAAWnmD,EAAG,CACrB,OAAOhb,EAAE,IAAIgb,EAAE,MAAO,EAAE,SAASxK,EAAG,CAClC,IAAI6wD,EAAYrmD,EAAE,KAAKxK,CAAC,EACpB+O,EAASvE,EAAE,OAAOxK,CAAC,EACnBhc,EAAO,CAAE,EAAGgc,GAChB,OAAKxQ,EAAE,YAAYqhE,CAAS,IAC1B7sE,EAAK,MAAQ6sE,GAEVrhE,EAAE,YAAYuf,CAAM,IACvB/qB,EAAK,OAAS+qB,GAET/qB,CACX,CAAG,CACF,CAED,SAAS4sE,EAAWpmD,EAAG,CACrB,OAAOhb,EAAE,IAAIgb,EAAE,MAAO,EAAE,SAAShI,EAAG,CAClC,IAAIsuD,EAAYtmD,EAAE,KAAKhI,CAAC,EACpBkoB,EAAO,CAAE,EAAGloB,EAAE,EAAG,EAAGA,EAAE,GAC1B,OAAKhT,EAAE,YAAYgT,EAAE,IAAI,IACvBkoB,EAAK,KAAOloB,EAAE,MAEXhT,EAAE,YAAYshE,CAAS,IAC1BpmC,EAAK,MAAQomC,GAERpmC,CACX,CAAG,CACF,CAED,SAASgmC,EAAKF,EAAM,CAClB,IAAIhmD,EAAI,IAAIokD,EAAM4B,EAAK,OAAO,EAAE,SAASA,EAAK,KAAK,EACnD,OAAAhhE,EAAE,KAAKghE,EAAK,MAAO,SAASnY,EAAO,CACjC7tC,EAAE,QAAQ6tC,EAAM,EAAGA,EAAM,KAAK,EAC1BA,EAAM,QACR7tC,EAAE,UAAU6tC,EAAM,EAAGA,EAAM,MAAM,CAEvC,CAAG,EACD7oD,EAAE,KAAKghE,EAAK,MAAO,SAASnY,EAAO,CACjC7tC,EAAE,QAAQ,CAAE,EAAG6tC,EAAM,EAAG,EAAGA,EAAM,EAAG,KAAMA,EAAM,IAAM,EAAEA,EAAM,KAAK,CACvE,CAAG,EACM7tC,CACT,wDCjEA,IAAIhb,EAAI2J,KAEM43D,GAAGviE,EAEjB,SAASA,EAAWgc,EAAG,CACrB,IAAIwmD,EAAU,CAAA,EACVC,EAAQ,CAAA,EACRC,EAEJ,SAASC,EAAInxD,EAAG,CACVxQ,EAAE,IAAIwhE,EAAShxD,CAAC,IACpBgxD,EAAQhxD,CAAC,EAAI,GACbkxD,EAAK,KAAKlxD,CAAC,EACXxQ,EAAE,KAAKgb,EAAE,WAAWxK,CAAC,EAAGmxD,CAAG,EAC3B3hE,EAAE,KAAKgb,EAAE,aAAaxK,CAAC,EAAGmxD,CAAG,EAC9B,CAED,OAAA3hE,EAAE,KAAKgb,EAAE,MAAO,EAAE,SAASxK,EAAG,CAC5BkxD,EAAO,CAAA,EACPC,EAAInxD,CAAC,EACDkxD,EAAK,QACPD,EAAM,KAAKC,CAAI,CAErB,CAAG,EAEMD,CACT,wDC1BA,IAAIzhE,EAAI2J,KAEMi4D,GAAGC,EASjB,SAASA,GAAgB,CACvB,KAAK,KAAO,GACZ,KAAK,YAAc,EACpB,CAKD,OAAAA,EAAc,UAAU,KAAO,UAAW,CACxC,OAAO,KAAK,KAAK,MACnB,EAKAA,EAAc,UAAU,KAAO,UAAW,CACxC,OAAO,KAAK,KAAK,IAAI,SAAS1jD,EAAG,CAAE,OAAOA,EAAE,GAAI,CAAE,CACpD,EAKA0jD,EAAc,UAAU,IAAM,SAASx+D,EAAK,CAC1C,OAAOrD,EAAE,IAAI,KAAK,YAAaqD,CAAG,CACpC,EAQAw+D,EAAc,UAAU,SAAW,SAASx+D,EAAK,CAC/C,IAAI1Q,EAAQ,KAAK,YAAY0Q,CAAG,EAChC,GAAI1Q,IAAU,OACZ,OAAO,KAAK,KAAKA,CAAK,EAAE,QAE5B,EAMAkvE,EAAc,UAAU,IAAM,UAAW,CACvC,GAAI,KAAK,KAAM,IAAK,EAClB,MAAM,IAAI,MAAM,iBAAiB,EAEnC,OAAO,KAAK,KAAK,CAAC,EAAE,GACtB,EAUAA,EAAc,UAAU,IAAM,SAASx+D,EAAK+f,EAAU,CACpD,IAAI0+C,EAAa,KAAK,YAEtB,GADAz+D,EAAM,OAAOA,CAAG,EACZ,CAACrD,EAAE,IAAI8hE,EAAYz+D,CAAG,EAAG,CAC3B,IAAIsH,EAAM,KAAK,KACXhY,EAAQgY,EAAI,OAChB,OAAAm3D,EAAWz+D,CAAG,EAAI1Q,EAClBgY,EAAI,KAAK,CAAC,IAAKtH,EAAK,SAAU+f,CAAQ,CAAC,EACvC,KAAK,UAAUzwB,CAAK,EACb,GAET,MAAO,EACT,EAKAkvE,EAAc,UAAU,UAAY,UAAW,CAC7C,KAAK,MAAM,EAAG,KAAK,KAAK,OAAS,CAAC,EAClC,IAAIv1C,EAAM,KAAK,KAAK,IAAG,EACvB,cAAO,KAAK,YAAYA,EAAI,GAAG,EAC/B,KAAK,SAAS,CAAC,EACRA,EAAI,GACb,EASAu1C,EAAc,UAAU,SAAW,SAASx+D,EAAK+f,EAAU,CACzD,IAAIzwB,EAAQ,KAAK,YAAY0Q,CAAG,EAChC,GAAI+f,EAAW,KAAK,KAAKzwB,CAAK,EAAE,SAC9B,MAAM,IAAI,MAAM,uDACF0Q,EAAM,SAAW,KAAK,KAAK1Q,CAAK,EAAE,SAAW,SAAWywB,CAAQ,EAEhF,KAAK,KAAKzwB,CAAK,EAAE,SAAWywB,EAC5B,KAAK,UAAUzwB,CAAK,CACtB,EAEAkvE,EAAc,UAAU,SAAW,SAASr0E,EAAG,CAC7C,IAAImd,EAAM,KAAK,KACX8P,EAAI,EAAIjtB,EACRytB,EAAIR,EAAI,EACRsnD,EAAUv0E,EACVitB,EAAI9P,EAAI,SACVo3D,EAAUp3D,EAAI8P,CAAC,EAAE,SAAW9P,EAAIo3D,CAAO,EAAE,SAAWtnD,EAAIsnD,EACpD9mD,EAAItQ,EAAI,SACVo3D,EAAUp3D,EAAIsQ,CAAC,EAAE,SAAWtQ,EAAIo3D,CAAO,EAAE,SAAW9mD,EAAI8mD,GAEtDA,IAAYv0E,IACd,KAAK,MAAMA,EAAGu0E,CAAO,EACrB,KAAK,SAASA,CAAO,GAG3B,EAEAF,EAAc,UAAU,UAAY,SAASlvE,EAAO,CAIlD,QAHIgY,EAAM,KAAK,KACXyY,EAAWzY,EAAIhY,CAAK,EAAE,SACtB4sB,EACG5sB,IAAU,IACf4sB,EAAS5sB,GAAS,EACd,EAAAgY,EAAI4U,CAAM,EAAE,SAAW6D,KAG3B,KAAK,MAAMzwB,EAAO4sB,CAAM,EACxB5sB,EAAQ4sB,CAEZ,EAEAsiD,EAAc,UAAU,MAAQ,SAASr0E,EAAGod,EAAG,CAC7C,IAAID,EAAM,KAAK,KACXm3D,EAAa,KAAK,YAClBE,EAAWr3D,EAAInd,CAAC,EAChBy0E,EAAWt3D,EAAIC,CAAC,EACpBD,EAAInd,CAAC,EAAIy0E,EACTt3D,EAAIC,CAAC,EAAIo3D,EACTF,EAAWG,EAAS,GAAG,EAAIz0E,EAC3Bs0E,EAAWE,EAAS,GAAG,EAAIp3D,mDCtJ7B,IAAI5K,EAAI2J,KACJk4D,EAAgB93D,KAENm4D,GAAGC,EAEjB,IAAIC,EAAsBpiE,EAAE,SAAS,CAAC,EAEtC,SAASmiE,EAASnnD,EAAG1P,EAAQ+2D,EAAUC,EAAQ,CAC7C,OAAOC,EAAYvnD,EAAG,OAAO1P,CAAM,EACjC+2D,GAAYD,EACZE,GAAU,SAAS9xD,EAAG,CAAE,OAAOwK,EAAE,SAASxK,CAAC,CAAE,CAAE,CAClD,CAED,SAAS+xD,EAAYvnD,EAAG1P,EAAQ+2D,EAAUC,EAAQ,CAChD,IAAIE,EAAU,CAAA,EACVC,EAAK,IAAIZ,EACTrxD,EAAGkyD,EAEHC,EAAkB,SAASznC,EAAM,CACnC,IAAI7f,EAAI6f,EAAK,IAAM1qB,EAAI0qB,EAAK,EAAIA,EAAK,EACjC0nC,EAASJ,EAAQnnD,CAAC,EAClBwnD,EAASR,EAASnnC,CAAI,EACtB0G,EAAW8gC,EAAO,SAAWG,EAEjC,GAAIA,EAAS,EACX,MAAM,IAAI,MAAM,4DACe3nC,EAAO,YAAc2nC,CAAM,EAGxDjhC,EAAWghC,EAAO,WACpBA,EAAO,SAAWhhC,EAClBghC,EAAO,YAAcpyD,EACrBiyD,EAAG,SAASpnD,EAAGumB,CAAQ,EAE7B,EAQE,IANA5mB,EAAE,MAAK,EAAG,QAAQ,SAASxK,EAAG,CAC5B,IAAIoxB,EAAWpxB,IAAMlF,EAAS,EAAI,OAAO,kBACzCk3D,EAAQhyD,CAAC,EAAI,CAAE,SAAUoxB,CAAQ,EACjC6gC,EAAG,IAAIjyD,EAAGoxB,CAAQ,CACtB,CAAG,EAEM6gC,EAAG,KAAM,EAAG,IACjBjyD,EAAIiyD,EAAG,YACPC,EAASF,EAAQhyD,CAAC,EACdkyD,EAAO,WAAa,OAAO,oBAI/BJ,EAAO9xD,CAAC,EAAE,QAAQmyD,CAAe,EAGnC,OAAOH,CACT,wDCrDA,IAAIL,EAAWx4D,KACX3J,EAAI+J,KAEM+4D,GAAGC,EAEjB,SAASA,EAAY/nD,EAAGgoD,EAAYC,EAAU,CAC5C,OAAOjjE,EAAE,UAAUgb,EAAE,MAAK,EAAI,SAAS1kB,EAAKka,EAAG,CAC7Cla,EAAIka,CAAC,EAAI2xD,EAASnnD,EAAGxK,EAAGwyD,EAAYC,CAAQ,CAC7C,EAAE,CAAE,CAAA,CACP,wDCTA,IAAIjjE,EAAI2J,KAEMu5D,GAAGC,EAEjB,SAASA,EAAOnoD,EAAG,CACjB,IAAIroB,EAAQ,EACRywE,EAAQ,CAAA,EACR5B,EAAU,CAAA,EACVgB,EAAU,CAAA,EAEd,SAASb,EAAInxD,EAAG,CACd,IAAIq4C,EAAQ2Y,EAAQhxD,CAAC,EAAI,CACvB,QAAS,GACT,QAAS7d,EACT,MAAOA,GACb,EAYI,GAXAywE,EAAM,KAAK5yD,CAAC,EAEZwK,EAAE,WAAWxK,CAAC,EAAE,QAAQ,SAAS6K,EAAG,CAC7Brb,EAAE,IAAIwhE,EAASnmD,CAAC,EAGVmmD,EAAQnmD,CAAC,EAAE,UACpBwtC,EAAM,QAAU,KAAK,IAAIA,EAAM,QAAS2Y,EAAQnmD,CAAC,EAAE,KAAK,IAHxDsmD,EAAItmD,CAAC,EACLwtC,EAAM,QAAU,KAAK,IAAIA,EAAM,QAAS2Y,EAAQnmD,CAAC,EAAE,OAAO,EAIlE,CAAK,EAEGwtC,EAAM,UAAYA,EAAM,MAAO,CACjC,IAAI6Y,EAAO,CAAA,EACPrmD,EACJ,GACEA,EAAI+nD,EAAM,MACV5B,EAAQnmD,CAAC,EAAE,QAAU,GACrBqmD,EAAK,KAAKrmD,CAAC,QACJ7K,IAAM6K,GACfmnD,EAAQ,KAAKd,CAAI,EAEpB,CAED,OAAA1mD,EAAE,MAAK,EAAG,QAAQ,SAASxK,EAAG,CACvBxQ,EAAE,IAAIwhE,EAAShxD,CAAC,GACnBmxD,EAAInxD,CAAC,CAEX,CAAG,EAEMgyD,CACT,wDC9CA,IAAIxiE,EAAI2J,KACJw5D,EAASp5D,KAECs5D,GAAGC,EAEjB,SAASA,EAAWtoD,EAAG,CACrB,OAAOhb,EAAE,OAAOmjE,EAAOnoD,CAAC,EAAG,SAAS0mD,EAAM,CACxC,OAAOA,EAAK,OAAS,GAAMA,EAAK,SAAW,GAAK1mD,EAAE,QAAQ0mD,EAAK,CAAC,EAAGA,EAAK,CAAC,CAAC,CAC9E,CAAG,CACH,wDCTA,IAAI1hE,EAAI2J,KAEM45D,GAAGC,EAEjB,IAAIpB,EAAsBpiE,EAAE,SAAS,CAAC,EAEtC,SAASwjE,EAAcxoD,EAAGqnD,EAAUC,EAAQ,CAC1C,OAAOmB,EAAiBzoD,EACtBqnD,GAAYD,EACZE,GAAU,SAAS9xD,EAAG,CAAE,OAAOwK,EAAE,SAASxK,CAAC,CAAE,CAAE,CAClD,CAED,SAASizD,EAAiBzoD,EAAGqnD,EAAUC,EAAQ,CAC7C,IAAIE,EAAU,CAAA,EACVz8B,EAAQ/qB,EAAE,QAEd,OAAA+qB,EAAM,QAAQ,SAASv1B,EAAG,CACxBgyD,EAAQhyD,CAAC,EAAI,GACbgyD,EAAQhyD,CAAC,EAAEA,CAAC,EAAI,CAAE,SAAU,GAC5Bu1B,EAAM,QAAQ,SAAS1qB,EAAG,CACpB7K,IAAM6K,IACRmnD,EAAQhyD,CAAC,EAAE6K,CAAC,EAAI,CAAE,SAAU,OAAO,mBAE3C,CAAK,EACDinD,EAAO9xD,CAAC,EAAE,QAAQ,SAAS0qB,EAAM,CAC/B,IAAI7f,EAAI6f,EAAK,IAAM1qB,EAAI0qB,EAAK,EAAIA,EAAK,EACjCpgB,EAAIunD,EAASnnC,CAAI,EACrBsnC,EAAQhyD,CAAC,EAAE6K,CAAC,EAAI,CAAE,SAAUP,EAAG,YAAatK,EAClD,CAAK,CACL,CAAG,EAEDu1B,EAAM,QAAQ,SAASrsB,EAAG,CACxB,IAAIgqD,EAAOlB,EAAQ9oD,CAAC,EACpBqsB,EAAM,QAAQ,SAASv4C,EAAG,CACxB,IAAIm2E,EAAOnB,EAAQh1E,CAAC,EACpBu4C,EAAM,QAAQ,SAASn7B,EAAG,CACxB,IAAIg5D,EAAKD,EAAKjqD,CAAC,EACXmqD,EAAKH,EAAK94D,CAAC,EACXk5D,EAAKH,EAAK/4D,CAAC,EACXm5D,EAAcH,EAAG,SAAWC,EAAG,SAC/BE,EAAcD,EAAG,WACnBA,EAAG,SAAWC,EACdD,EAAG,YAAcD,EAAG,YAE9B,CAAO,CACP,CAAK,CACL,CAAG,EAEMrB,CACT,wDCjDA,IAAIxiE,EAAI2J,KAEMq6D,GAAGC,EACjBA,EAAQ,eAAiBC,EAEzB,SAASD,EAAQjpD,EAAG,CAClB,IAAIwmD,EAAU,CAAA,EACV4B,EAAQ,CAAA,EACRZ,EAAU,CAAA,EAEd,SAAS2B,EAAM3vE,EAAM,CACnB,GAAIwL,EAAE,IAAIojE,EAAO5uE,CAAI,EACnB,MAAM,IAAI0vE,EAGPlkE,EAAE,IAAIwhE,EAAShtE,CAAI,IACtB4uE,EAAM5uE,CAAI,EAAI,GACdgtE,EAAQhtE,CAAI,EAAI,GAChBwL,EAAE,KAAKgb,EAAE,aAAaxmB,CAAI,EAAG2vE,CAAK,EAClC,OAAOf,EAAM5uE,CAAI,EACjBguE,EAAQ,KAAKhuE,CAAI,EAEpB,CAID,GAFAwL,EAAE,KAAKgb,EAAE,MAAO,EAAEmpD,CAAK,EAEnBnkE,EAAE,KAAKwhE,CAAO,IAAMxmD,EAAE,UAAS,EACjC,MAAM,IAAIkpD,EAGZ,OAAO1B,CACR,CAED,SAAS0B,GAAiB,CAAE,CAC5B,OAAAA,EAAe,UAAY,IAAI,sDClC/B,IAAID,EAAUt6D,KAEAy6D,GAAGC,EAEjB,SAASA,EAAUrpD,EAAG,CACpB,GAAI,CACFipD,EAAQjpD,CAAC,CACV,OAAQhI,EAAP,CACA,GAAIA,aAAaixD,EAAQ,eACvB,MAAO,GAET,MAAMjxD,CACP,CACD,MAAO,EACT,wDCdA,IAAIhT,EAAI2J,KAEM26D,GAAG3C,EAUjB,SAASA,EAAI3mD,EAAGykD,EAAI8E,EAAO,CACpBvkE,EAAE,QAAQy/D,CAAE,IACfA,EAAK,CAACA,CAAE,GAGV,IAAI+E,GAAcxpD,EAAE,aAAeA,EAAE,WAAaA,EAAE,WAAW,KAAKA,CAAC,EAEjE1kB,EAAM,CAAA,EACNkrE,EAAU,CAAA,EACd,OAAAxhE,EAAE,KAAKy/D,EAAI,SAASjvD,EAAG,CACrB,GAAI,CAACwK,EAAE,QAAQxK,CAAC,EACd,MAAM,IAAI,MAAM,6BAA+BA,CAAC,EAGlDi0D,EAAMzpD,EAAGxK,EAAG+zD,IAAU,OAAQ/C,EAASgD,EAAYluE,CAAG,CAC1D,CAAG,EACMA,CACR,CAED,SAASmuE,EAAMzpD,EAAGxK,EAAGk0D,EAAWlD,EAASgD,EAAYluE,EAAK,CACnD0J,EAAE,IAAIwhE,EAAShxD,CAAC,IACnBgxD,EAAQhxD,CAAC,EAAI,GAERk0D,GAAapuE,EAAI,KAAKka,CAAC,EAC5BxQ,EAAE,KAAKwkE,EAAWh0D,CAAC,EAAG,SAAS6K,EAAG,CAChCopD,EAAMzpD,EAAGK,EAAGqpD,EAAWlD,EAASgD,EAAYluE,CAAG,CACrD,CAAK,EACGouE,GAAapuE,EAAI,KAAKka,CAAC,EAE/B,wDCzCA,IAAImxD,EAAMh4D,KAEIg7D,GAAGD,EAEjB,SAASA,EAAU1pD,EAAGykD,EAAI,CACxB,OAAOkC,EAAI3mD,EAAGykD,EAAI,MAAM,CAC1B,wDCNA,IAAIkC,EAAMh4D,KAEIi7D,GAAGC,EAEjB,SAASA,EAAS7pD,EAAGykD,EAAI,CACvB,OAAOkC,EAAI3mD,EAAGykD,EAAI,KAAK,CACzB,wDCNA,IAAIz/D,EAAI2J,KACJy1D,EAAQr1D,KACR83D,EAAgB53D,KAEN66D,GAAGC,EAEjB,SAASA,EAAK/pD,EAAGgoD,EAAY,CAC3B,IAAI/5B,EAAS,IAAIm2B,EACb5gD,EAAU,CAAA,EACVikD,EAAK,IAAIZ,EACTrxD,EAEJ,SAASmyD,EAAgBznC,EAAM,CAC7B,IAAI7f,EAAI6f,EAAK,IAAM1qB,EAAI0qB,EAAK,EAAIA,EAAK,EACjC8pC,EAAMvC,EAAG,SAASpnD,CAAC,EACvB,GAAI2pD,IAAQ,OAAW,CACrB,IAAIC,EAAajC,EAAW9nC,CAAI,EAC5B+pC,EAAaD,IACfxmD,EAAQnD,CAAC,EAAI7K,EACbiyD,EAAG,SAASpnD,EAAG4pD,CAAU,GAG9B,CAED,GAAIjqD,EAAE,UAAW,IAAK,EACpB,OAAOiuB,EAGTjpC,EAAE,KAAKgb,EAAE,MAAO,EAAE,SAASxK,EAAG,CAC5BiyD,EAAG,IAAIjyD,EAAG,OAAO,iBAAiB,EAClCy4B,EAAO,QAAQz4B,CAAC,CACpB,CAAG,EAGDiyD,EAAG,SAASznD,EAAE,MAAO,EAAC,CAAC,EAAG,CAAC,EAG3B,QADIwY,EAAO,GACJivC,EAAG,KAAM,EAAG,GAAG,CAEpB,GADAjyD,EAAIiyD,EAAG,YACHziE,EAAE,IAAIwe,EAAShO,CAAC,EAClBy4B,EAAO,QAAQz4B,EAAGgO,EAAQhO,CAAC,CAAC,MACvB,IAAIgjB,EACT,MAAM,IAAI,MAAM,iCAAmCxY,CAAC,EAEpDwY,EAAO,GAGTxY,EAAE,UAAUxK,CAAC,EAAE,QAAQmyD,CAAe,EAGxC,OAAO15B,CACT,oDCnDAi8B,GAAiB,CACf,WAAYv7D,GAAuB,EACnC,SAAUI,GAAqB,EAC/B,YAAaE,GAAyB,EACtC,WAAY8G,GAAwB,EACpC,cAAegnD,GAA2B,EAC1C,UAAWE,GAAuB,EAClC,UAAWE,GAAsB,EACjC,SAAUE,GAAqB,EAC/B,KAAMwD,GAAiB,EACvB,OAAQC,GAAmB,EAC3B,QAAS8C,GAAoB,oDCmB/B,IAAImC,EAAMp3D,KAEVw7D,OAAAA,GAAiB,CACf,MAAOpE,EAAI,MACX,KAAMh3D,GAAqB,EAC3B,IAAKE,GAAoB,EACzB,QAAS82D,EAAI,YClCf,IAAIoE,GAEJ,GAAI,OAAO7R,IAAY,WACrB,GAAI,CACF6R,GAAWx7D,GAAA,CACZ,MAAC,CAED,CAGEw7D,KACHA,GAAW,OAAO,UAGpB,IAAAC,GAAiBD,GChBbE,GAAK17D,GACLisD,GAAc7rD,GACdu7D,GAAUr7D,GACV2xD,GAAW7qD,GAYf,SAASw0D,GAAen6E,EAAOuH,EAAO4kE,EAAQ,CAC5C,GAAI,CAACqE,GAASrE,CAAM,EAClB,MAAO,GAET,IAAIvwD,EAAO,OAAOrU,EAClB,OAAIqU,GAAQ,SACH4uD,GAAY2B,CAAM,GAAK+N,GAAQ3yE,EAAO4kE,EAAO,MAAM,EACnDvwD,GAAQ,UAAYrU,KAAS4kE,GAE7B8N,GAAG9N,EAAO5kE,CAAK,EAAGvH,CAAK,EAEzB,EACT,CAEA,IAAAo6E,GAAiBD,GC7BbxH,GAAWp0D,GACX07D,GAAKt7D,GACLw7D,GAAiBt7D,GACjBw7D,GAAS10D,GAGTqmD,GAAc,OAAO,UAGrBC,GAAiBD,GAAY,eAuB7BsO,GAAW3H,GAAS,SAASxG,EAAQoO,EAAS,CAChDpO,EAAS,OAAOA,CAAM,EAEtB,IAAI5kE,EAAQ,GACR8T,EAASk/D,EAAQ,OACjBC,EAAQn/D,EAAS,EAAIk/D,EAAQ,CAAC,EAAI,OAMtC,IAJIC,GAASL,GAAeI,EAAQ,CAAC,EAAGA,EAAQ,CAAC,EAAGC,CAAK,IACvDn/D,EAAS,GAGJ,EAAE9T,EAAQ8T,GAMf,QALI6E,EAASq6D,EAAQhzE,CAAK,EACtB5E,EAAQ03E,GAAOn6D,CAAM,EACrBu6D,EAAa,GACbC,EAAc/3E,EAAM,OAEjB,EAAE83E,EAAaC,GAAa,CACjC,IAAIziE,EAAMtV,EAAM83E,CAAU,EACtBz6E,EAAQmsE,EAAOl0D,CAAG,GAElBjY,IAAU,QACTi6E,GAAGj6E,EAAOgsE,GAAY/zD,CAAG,CAAC,GAAK,CAACg0D,GAAe,KAAKE,EAAQl0D,CAAG,KAClEk0D,EAAOl0D,CAAG,EAAIiI,EAAOjI,CAAG,GAK9B,OAAOk0D,CACT,CAAC,EAEDwO,GAAiBL,4CC/DjB,IAAIxO,EAAevtD,GACfisD,EAAc7rD,GACdoyC,EAAOlyC,GASX,SAAS+7D,EAAWC,EAAe,CACjC,OAAO,SAASrsC,EAAYm9B,EAAWmP,EAAW,CAChD,IAAIjQ,EAAW,OAAOr8B,CAAU,EAChC,GAAI,CAACg8B,EAAYh8B,CAAU,EAAG,CAC5B,IAAIo8B,EAAWkB,EAAaH,CAAY,EACxCn9B,EAAauiB,EAAKviB,CAAU,EAC5Bm9B,EAAY,SAAS1zD,EAAK,CAAE,OAAO2yD,EAASC,EAAS5yD,CAAG,EAAGA,EAAK4yD,CAAQ,GAE1E,IAAItjE,EAAQszE,EAAcrsC,EAAYm9B,EAAWmP,CAAS,EAC1D,OAAOvzE,EAAQ,GAAKsjE,EAASD,EAAWp8B,EAAWjnC,CAAK,EAAIA,CAAK,EAAI,MACzE,CACC,CAED,OAAAwzE,GAAiBH,kDCxBjB,IAAII,EAAWz8D,GAGX08D,EAAW,EAAI,EACfC,EAAc,sBAyBlB,SAASC,EAASn7E,EAAO,CACvB,GAAI,CAACA,EACH,OAAOA,IAAU,EAAIA,EAAQ,EAG/B,GADAA,EAAQg7E,EAASh7E,CAAK,EAClBA,IAAUi7E,GAAYj7E,IAAU,CAACi7E,EAAU,CAC7C,IAAIG,EAAQp7E,EAAQ,EAAI,GAAK,EAC7B,OAAOo7E,EAAOF,EAEhB,OAAOl7E,IAAUA,EAAQA,EAAQ,CAClC,CAED,OAAAq7E,GAAiBF,kDCzCjB,IAAIA,EAAW58D,KA4Bf,SAAS+8D,EAAUt7E,EAAO,CACxB,IAAI69C,EAASs9B,EAASn7E,CAAK,EACvBu7E,EAAY19B,EAAS,EAEzB,OAAOA,IAAWA,EAAU09B,EAAY19B,EAAS09B,EAAY19B,EAAU,CACxE,CAED,OAAA29B,GAAiBF,kDCnCjB,IAAIG,EAAgBl9D,GAChButD,EAAentD,GACf28D,EAAYz8D,GAAA,EAGZ6yD,EAAY,KAAK,IAqCrB,SAASzvE,EAAUC,EAAOypE,EAAWmP,EAAW,CAC9C,IAAIz/D,EAASnZ,GAAS,KAAO,EAAIA,EAAM,OACvC,GAAI,CAACmZ,EACH,MAAO,GAET,IAAI9T,EAAQuzE,GAAa,KAAO,EAAIQ,EAAUR,CAAS,EACvD,OAAIvzE,EAAQ,IACVA,EAAQmqE,EAAUr2D,EAAS9T,EAAO,CAAC,GAE9Bk0E,EAAcv5E,EAAO4pE,EAAaH,CAAY,EAAGpkE,CAAK,CAC9D,CAED,OAAAm0E,GAAiBz5E,kDCtDjB,IAAI24E,EAAar8D,GAAwB,EACrCtc,EAAY0c,GAAA,EAsCZ4U,EAAOqnD,EAAW34E,CAAS,EAE/B,OAAA05E,GAAiBpoD,KCzCjB,IAAI49C,GAAc5yD,GAgBlB,SAASq9D,GAAQ15E,EAAO,CACtB,IAAImZ,EAASnZ,GAAS,KAAO,EAAIA,EAAM,OACvC,OAAOmZ,EAAS81D,GAAYjvE,EAAO,CAAC,EAAI,CAAA,CAC1C,CAEA,IAAA25E,GAAiBD,4CCrBjB,IAAIE,EAAUv9D,GACV2sD,EAAevsD,GACf07D,EAASx7D,GA8Bb,SAASk9D,EAAM5P,EAAQvB,EAAU,CAC/B,OAAOuB,GAAU,KACbA,EACA2P,EAAQ3P,EAAQjB,EAAaN,CAAQ,EAAGyP,CAAM,CACnD,CAED,OAAA2B,GAAiBD,KCxBjB,SAASE,GAAK/5E,EAAO,CACnB,IAAImZ,EAASnZ,GAAS,KAAO,EAAIA,EAAM,OACvC,OAAOmZ,EAASnZ,EAAMmZ,EAAS,CAAC,EAAI,MACtC,CAEA,IAAA6gE,GAAiBD,4CCnBjB,IAAIE,EAAW59D,GAYf,SAAS69D,EAAal6E,EAAO0oE,EAAUyR,EAAY,CAIjD,QAHI90E,EAAQ,GACR8T,EAASnZ,EAAM,OAEZ,EAAEqF,EAAQ8T,GAAQ,CACvB,IAAIrb,EAAQkC,EAAMqF,CAAK,EACnB0jD,EAAU2f,EAAS5qE,CAAK,EAE5B,GAAIirD,GAAW,OAASqxB,IAAa,OAC5BrxB,IAAYA,GAAW,CAACkxB,EAASlxB,CAAO,EACzCoxB,EAAWpxB,EAASqxB,CAAQ,GAElC,IAAIA,EAAWrxB,EACXpN,EAAS79C,EAGjB,OAAO69C,CACR,CAED,OAAA0+B,GAAiBH,kDCtBjB,SAASI,EAAOx8E,EAAOmK,EAAO,CAC5B,OAAOnK,EAAQmK,CAChB,CAED,OAAAsyE,GAAiBD,kDCbjB,IAAIJ,EAAe79D,GAA0B,EACzCi+D,EAAS79D,GAAoB,EAC7BikB,EAAW/jB,GAoBf,SAAS/d,EAAIoB,EAAO,CAClB,OAAQA,GAASA,EAAM,OACnBk6E,EAAal6E,EAAO0gC,EAAU45C,CAAM,EACpC,MACL,CAED,OAAAE,GAAiB57E,KC5BjB,IAAI67E,GAAkBp+D,GAClB07D,GAAKt7D,GAWT,SAASi+D,GAAiBzQ,EAAQl0D,EAAKjY,EAAO,EACvCA,IAAU,QAAa,CAACi6E,GAAG9N,EAAOl0D,CAAG,EAAGjY,CAAK,GAC7CA,IAAU,QAAa,EAAEiY,KAAOk0D,KACnCwQ,GAAgBxQ,EAAQl0D,EAAKjY,CAAK,CAEtC,CAEA,IAAA68E,GAAiBD,GCXjB,SAASE,GAAQ3Q,EAAQl0D,EAAK,CAC5B,GAAI,EAAAA,IAAQ,eAAiB,OAAOk0D,EAAOl0D,CAAG,GAAM,aAIhDA,GAAO,YAIX,OAAOk0D,EAAOl0D,CAAG,CACnB,CAEA,IAAA8kE,GAAiBD,GCpBbE,GAAaz+D,GACb87D,GAAS17D,GA0Bb,SAASs+D,GAAcj9E,EAAO,CAC5B,OAAOg9E,GAAWh9E,EAAOq6E,GAAOr6E,CAAK,CAAC,CACxC,CAEA,IAAAk9E,GAAiBD,GC/BbL,GAAmBr+D,GACnB4+D,GAAcx+D,GACdy+D,GAAkBv+D,GAClBw+D,GAAY13D,GACZ23D,GAAkB3Q,GAClBD,GAAcG,GACdxB,GAAU0B,GACV+F,GAAoB7F,GACpBL,GAAW6D,GACXF,GAAaG,GACbF,GAAWgD,GACX+J,GAAgB9J,GAChBzG,GAAe0G,GACfoJ,GAAUnJ,GACVsJ,GAAgBrJ,GAiBpB,SAAS4J,GAAcrR,EAAQjsD,EAAQjI,EAAKwlE,EAAUC,EAAWC,EAAY3F,EAAO,CAClF,IAAI4F,EAAWd,GAAQ3Q,EAAQl0D,CAAG,EAC9B4lE,EAAWf,GAAQ58D,EAAQjI,CAAG,EAC9B6lE,EAAU9F,EAAM,IAAI6F,CAAQ,EAEhC,GAAIC,EAAS,CACXlB,GAAiBzQ,EAAQl0D,EAAK6lE,CAAO,EACrC,OAEF,IAAIv3E,EAAWo3E,EACXA,EAAWC,EAAUC,EAAW5lE,EAAM,GAAKk0D,EAAQjsD,EAAQ83D,CAAK,EAChE,OAEA+F,EAAWx3E,IAAa,OAE5B,GAAIw3E,EAAU,CACZ,IAAIpN,EAAQtF,GAAQwS,CAAQ,EACxBG,EAAS,CAACrN,GAAS/D,GAASiR,CAAQ,EACpCI,EAAU,CAACtN,GAAS,CAACqN,GAAUhR,GAAa6Q,CAAQ,EAExDt3E,EAAWs3E,EACPlN,GAASqN,GAAUC,EACjB5S,GAAQuS,CAAQ,EAClBr3E,EAAWq3E,EAEJ9K,GAAkB8K,CAAQ,EACjCr3E,EAAW82E,GAAUO,CAAQ,EAEtBI,GACPD,EAAW,GACXx3E,EAAW42E,GAAYU,EAAU,EAAI,GAE9BI,GACPF,EAAW,GACXx3E,EAAW62E,GAAgBS,EAAU,EAAI,GAGzCt3E,EAAW,CAAA,EAGNg3E,GAAcM,CAAQ,GAAKnR,GAAYmR,CAAQ,GACtDt3E,EAAWq3E,EACPlR,GAAYkR,CAAQ,EACtBr3E,EAAW02E,GAAcW,CAAQ,GAE1B,CAACpN,GAASoN,CAAQ,GAAKrN,GAAWqN,CAAQ,KACjDr3E,EAAW+2E,GAAgBO,CAAQ,IAIrCE,EAAW,GAGXA,IAEF/F,EAAM,IAAI6F,EAAUt3E,CAAQ,EAC5Bm3E,EAAUn3E,EAAUs3E,EAAUJ,EAAUE,EAAY3F,CAAK,EACzDA,EAAM,OAAU6F,CAAQ,GAE1BjB,GAAiBzQ,EAAQl0D,EAAK1R,CAAQ,CACxC,CAEA,IAAA23E,GAAiBV,GC7FbW,GAAQ5/D,GACRq+D,GAAmBj+D,GACnBm9D,GAAUj9D,GACV2+D,GAAgB73D,GAChB6qD,GAAW7D,GACX0N,GAASxN,GACTiQ,GAAU/P,GAad,SAASqR,GAAUjS,EAAQjsD,EAAQu9D,EAAUE,EAAY3F,EAAO,CAC1D7L,IAAWjsD,GAGf47D,GAAQ57D,EAAQ,SAAS29D,EAAU5lE,EAAK,CAEtC,GADA+/D,IAAUA,EAAQ,IAAImG,IAClB3N,GAASqN,CAAQ,EACnBL,GAAcrR,EAAQjsD,EAAQjI,EAAKwlE,EAAUW,GAAWT,EAAY3F,CAAK,MAEtE,CACH,IAAIzxE,EAAWo3E,EACXA,EAAWb,GAAQ3Q,EAAQl0D,CAAG,EAAG4lE,EAAW5lE,EAAM,GAAKk0D,EAAQjsD,EAAQ83D,CAAK,EAC5E,OAEAzxE,IAAa,SACfA,EAAWs3E,GAEbjB,GAAiBzQ,EAAQl0D,EAAK1R,CAAQ,EAEzC,EAAE8zE,EAAM,CACX,CAEA,IAAAgE,GAAiBD,GCzCbzL,GAAWp0D,GACX47D,GAAiBx7D,GASrB,SAAS2/D,GAAeC,EAAU,CAChC,OAAO5L,GAAS,SAASxG,EAAQoO,EAAS,CACxC,IAAIhzE,EAAQ,GACR8T,EAASk/D,EAAQ,OACjBoD,EAAatiE,EAAS,EAAIk/D,EAAQl/D,EAAS,CAAC,EAAI,OAChDm/D,EAAQn/D,EAAS,EAAIk/D,EAAQ,CAAC,EAAI,OAWtC,IATAoD,EAAcY,EAAS,OAAS,GAAK,OAAOZ,GAAc,YACrDtiE,IAAUsiE,GACX,OAEAnD,GAASL,GAAeI,EAAQ,CAAC,EAAGA,EAAQ,CAAC,EAAGC,CAAK,IACvDmD,EAAatiE,EAAS,EAAI,OAAYsiE,EACtCtiE,EAAS,GAEX8wD,EAAS,OAAOA,CAAM,EACf,EAAE5kE,EAAQ8T,GAAQ,CACvB,IAAI6E,EAASq6D,EAAQhzE,CAAK,EACtB2Y,GACFq+D,EAASpS,EAAQjsD,EAAQ3Y,EAAOo2E,CAAU,EAG9C,OAAOxR,CACX,CAAG,CACH,CAEA,IAAAqS,GAAiBF,4CCpCjB,IAAIF,EAAY7/D,GACZ+/D,EAAiB3/D,GAiCjB6X,EAAQ8nD,EAAe,SAASnS,EAAQjsD,EAAQu9D,EAAU,CAC5DW,EAAUjS,EAAQjsD,EAAQu9D,CAAQ,CACpC,CAAC,EAED,OAAAgB,GAAiBjoD,kDC7BjB,SAASkoD,EAAO1+E,EAAOmK,EAAO,CAC5B,OAAOnK,EAAQmK,CAChB,CAED,OAAAw0E,GAAiBD,kDCbjB,IAAItC,EAAe79D,GAA0B,EACzCmgE,EAAS//D,GAAoB,EAC7BikB,EAAW/jB,GAoBf,SAASqiB,EAAIh/B,EAAO,CAClB,OAAQA,GAASA,EAAM,OACnBk6E,EAAal6E,EAAO0gC,EAAU87C,CAAM,EACpC,MACL,CAED,OAAAE,GAAiB19C,kDC5BjB,IAAIk7C,EAAe79D,GAA0B,EACzCutD,EAAentD,GACf+/D,EAAS7/D,GAAA,EAyBb,SAASggE,EAAM38E,EAAO0oE,EAAU,CAC9B,OAAQ1oE,GAASA,EAAM,OACnBk6E,EAAal6E,EAAO4pE,EAAalB,CAAW,EAAG8T,CAAM,EACrD,MACL,CAED,OAAAI,GAAiBD,kDCjCjB,IAAIE,EAAaxgE,GACbygE,EAAQrgE,GAWZ,SAASsgE,EAAS9S,EAAQ+S,EAAO,CAC/B,OAAOH,EAAW5S,EAAQ+S,EAAO,SAASl/E,EAAOk0C,EAAM,CACrD,OAAO8qC,EAAM7S,EAAQj4B,CAAI,CAC7B,CAAG,CACF,CAED,OAAAirC,GAAiBF,kDClBjB,IAAIrD,EAAUr9D,GACVozD,EAAWhzD,GACX8zD,EAAc5zD,GASlB,SAASugE,EAAS7T,EAAM,CACtB,OAAOkH,EAAYd,EAASpG,EAAM,OAAWqQ,CAAO,EAAGrQ,EAAO,EAAE,CACjE,CAED,OAAA8T,GAAiBD,kDCfjB,IAAIH,EAAW1gE,GAAsB,EACjC6gE,EAAWzgE,GAAA,EAmBX2gE,EAAOF,EAAS,SAASjT,EAAQ+S,EAAO,CAC1C,OAAO/S,GAAU,KAAO,CAAA,EAAK8S,EAAS9S,EAAQ+S,CAAK,CACrD,CAAC,EAED,OAAAK,GAAiBD,kDCvBjB,IAAIE,EAAa,KAAK,KAClB9N,EAAY,KAAK,IAarB,SAAS+N,EAAUtkE,EAAOC,EAAKskE,EAAM/U,EAAW,CAK9C,QAJIpjE,EAAQ,GACR8T,EAASq2D,EAAU8N,GAAYpkE,EAAMD,IAAUukE,GAAQ,EAAE,EAAG,CAAC,EAC7D7hC,EAAS,MAAMxiC,CAAM,EAElBA,KACLwiC,EAAO8sB,EAAYtvD,EAAS,EAAE9T,CAAK,EAAI4T,EACvCA,GAASukE,EAEX,OAAO7hC,CACR,CAED,OAAA8hC,GAAiBF,kDC3BjB,IAAIA,EAAYlhE,GAAuB,EACnC47D,EAAiBx7D,GACjBw8D,EAAWt8D,GAAA,EASf,SAAS+gE,EAAYjV,EAAW,CAC9B,OAAO,SAASxvD,EAAOC,EAAKskE,EAAM,CAChC,OAAIA,GAAQ,OAAOA,GAAQ,UAAYvF,EAAeh/D,EAAOC,EAAKskE,CAAI,IACpEtkE,EAAMskE,EAAO,QAGfvkE,EAAQggE,EAAShgE,CAAK,EAClBC,IAAQ,QACVA,EAAMD,EACNA,EAAQ,GAERC,EAAM+/D,EAAS//D,CAAG,EAEpBskE,EAAOA,IAAS,OAAavkE,EAAQC,EAAM,EAAI,GAAM+/D,EAASuE,CAAI,EAC3DD,EAAUtkE,EAAOC,EAAKskE,EAAM/U,CAAS,CAChD,CACC,CAED,OAAAkV,GAAiBD,kDC7BjB,IAAIA,EAAcrhE,KA2CdrD,EAAQ0kE,IAEZ,OAAAE,GAAiB5kE,KCnCjB,SAAS6kE,GAAW79E,EAAO89E,EAAU,CACnC,IAAI3kE,EAASnZ,EAAM,OAGnB,IADAA,EAAM,KAAK89E,CAAQ,EACZ3kE,KACLnZ,EAAMmZ,CAAM,EAAInZ,EAAMmZ,CAAM,EAAE,MAEhC,OAAOnZ,CACT,CAEA,IAAA+9E,GAAiBF,GCpBb5D,GAAW59D,GAUf,SAAS2hE,GAAiBlgF,EAAOmK,EAAO,CACtC,GAAInK,IAAUmK,EAAO,CACnB,IAAIg2E,EAAengF,IAAU,OACzBogF,EAAYpgF,IAAU,KACtBqgF,EAAiBrgF,IAAUA,EAC3BsgF,EAAcnE,GAASn8E,CAAK,EAE5BugF,EAAep2E,IAAU,OACzBq2E,EAAYr2E,IAAU,KACtBs2E,EAAiBt2E,IAAUA,EAC3Bu2E,EAAcvE,GAAShyE,CAAK,EAEhC,GAAK,CAACq2E,GAAa,CAACE,GAAe,CAACJ,GAAetgF,EAAQmK,GACtDm2E,GAAeC,GAAgBE,GAAkB,CAACD,GAAa,CAACE,GAChEN,GAAaG,GAAgBE,GAC7B,CAACN,GAAgBM,GAClB,CAACJ,EACH,MAAO,GAET,GAAK,CAACD,GAAa,CAACE,GAAe,CAACI,GAAe1gF,EAAQmK,GACtDu2E,GAAeP,GAAgBE,GAAkB,CAACD,GAAa,CAACE,GAChEE,GAAaL,GAAgBE,GAC7B,CAACE,GAAgBF,GAClB,CAACI,EACH,MAAO,GAGX,MAAO,EACT,CAEA,IAAAE,GAAiBT,GCxCbA,GAAmB3hE,GAgBvB,SAASqiE,GAAgBzU,EAAQhiE,EAAO02E,EAAQ,CAO9C,QANIt5E,EAAQ,GACRu5E,EAAc3U,EAAO,SACrB4U,EAAc52E,EAAM,SACpBkR,EAASylE,EAAY,OACrBE,EAAeH,EAAO,OAEnB,EAAEt5E,EAAQ8T,GAAQ,CACvB,IAAIwiC,EAASqiC,GAAiBY,EAAYv5E,CAAK,EAAGw5E,EAAYx5E,CAAK,CAAC,EACpE,GAAIs2C,EAAQ,CACV,GAAIt2C,GAASy5E,EACX,OAAOnjC,EAET,IAAIs7B,EAAQ0H,EAAOt5E,CAAK,EACxB,OAAOs2C,GAAUs7B,GAAS,OAAS,GAAK,IAU5C,OAAOhN,EAAO,MAAQhiE,EAAM,KAC9B,CAEA,IAAA82E,GAAiBL,GC3CblT,GAAWnvD,GACX2iE,GAAUviE,GACVmtD,GAAejtD,GACf2uD,GAAU7nD,GACVo6D,GAAapT,GACbwU,GAAYtU,GACZ+T,GAAkB7T,GAClBnqC,GAAWqqC,GACX5B,GAAUoF,GAWd,SAAS2Q,GAAY5yC,EAAY6yC,EAAWR,EAAQ,CAC9CQ,EAAU,OACZA,EAAY3T,GAAS2T,EAAW,SAASzW,EAAU,CACjD,OAAIS,GAAQT,CAAQ,EACX,SAAS5qE,EAAO,CACrB,OAAOkhF,GAAQlhF,EAAO4qE,EAAS,SAAW,EAAIA,EAAS,CAAC,EAAIA,CAAQ,CACrE,EAEIA,CACb,CAAK,EAEDyW,EAAY,CAACz+C,EAAQ,EAGvB,IAAIr7B,EAAQ,GACZ85E,EAAY3T,GAAS2T,EAAWF,GAAUrV,EAAY,CAAC,EAEvD,IAAIjuB,EAAS2vB,GAAQh/B,EAAY,SAASxuC,EAAOiY,EAAKu2B,EAAY,CAChE,IAAI8yC,EAAW5T,GAAS2T,EAAW,SAASzW,EAAU,CACpD,OAAOA,EAAS5qE,CAAK,CAC3B,CAAK,EACD,MAAO,CAAE,SAAYshF,EAAU,MAAS,EAAE/5E,EAAO,MAASvH,EAC9D,CAAG,EAED,OAAO+/E,GAAWliC,EAAQ,SAASsuB,EAAQhiE,EAAO,CAChD,OAAOy2E,GAAgBzU,EAAQhiE,EAAO02E,CAAM,CAChD,CAAG,CACH,CAEA,IAAAU,GAAiBH,GChDbjQ,GAAc5yD,GACd6iE,GAAcziE,GACdg0D,GAAW9zD,GACXs7D,GAAiBx0D,GA+BjB67D,GAAS7O,GAAS,SAASnkC,EAAY6yC,EAAW,CACpD,GAAI7yC,GAAc,KAChB,MAAO,GAET,IAAInzB,EAASgmE,EAAU,OACvB,OAAIhmE,EAAS,GAAK8+D,GAAe3rC,EAAY6yC,EAAU,CAAC,EAAGA,EAAU,CAAC,CAAC,EACrEA,EAAY,CAAA,EACHhmE,EAAS,GAAK8+D,GAAekH,EAAU,CAAC,EAAGA,EAAU,CAAC,EAAGA,EAAU,CAAC,CAAC,IAC9EA,EAAY,CAACA,EAAU,CAAC,CAAC,GAEpBD,GAAY5yC,EAAY2iC,GAAYkQ,EAAW,CAAC,EAAG,CAAA,CAAE,CAC9D,CAAC,EAEDI,GAAiBD,4CC/CjB,IAAIE,EAAWnjE,GAGXojE,EAAY,EAmBhB,SAASC,EAAS5vD,EAAQ,CACxB,IAAI9sB,EAAK,EAAEy8E,EACX,OAAOD,EAAS1vD,CAAM,EAAI9sB,CAC3B,CAED,OAAA28E,GAAiBD,kDClBjB,SAASE,EAAcn/E,EAAOoV,EAAQgqE,EAAY,CAMhD,QALIx6E,EAAQ,GACR8T,EAAS1Y,EAAM,OACfq/E,EAAajqE,EAAO,OACpB8lC,EAAS,CAAA,EAEN,EAAEt2C,EAAQ8T,GAAQ,CACvB,IAAIrb,EAAQuH,EAAQy6E,EAAajqE,EAAOxQ,CAAK,EAAI,OACjDw6E,EAAWlkC,EAAQl7C,EAAM4E,CAAK,EAAGvH,CAAK,EAExC,OAAO69C,CACR,CAED,OAAAokC,GAAiBH,kDCtBjB,IAAII,EAAc3jE,GACdujE,EAAgBnjE,GAAA,EAkBpB,SAASwjE,EAAUx/E,EAAOoV,EAAQ,CAChC,OAAO+pE,EAAcn/E,GAAS,CAAA,EAAIoV,GAAU,CAAA,EAAImqE,CAAW,CAC5D,CAED,OAAAE,GAAiBD,KCrBjB,IAAI5O,GAEJ,GAAI,OAAOrL,IAAY,WACrB,GAAI,CACFqL,GAAS,CACP,UAAWh1D,GACX,SAAUI,GAA0B,EACpC,SAAUE,GACV,KAAM8G,GAAsB,EAC5B,OAAQgnD,GAAwB,EAChC,KAAME,GAAsB,EAC5B,QAASE,GACT,QAASE,GACT,MAAOwD,GAAuB,EAC9B,IAAMC,GAAqB,EAC3B,YAAa8C,GAA6B,EAC1C,KAAMC,GACN,IAAKC,GAAqB,EAC1B,UAAWC,GACX,IAAKC,GAAqB,EAC1B,MAAOC,GAAuB,EAC9B,IAAKwO,GAAqB,EAC1B,MAAOC,GAAuB,EAC9B,IAAKC,GAAqB,EAC1B,KAAMC,GAAsB,EAC5B,MAAOC,GAAuB,EAC9B,OAAQC,GAAwB,EAChC,OAAQC,GACR,SAAUC,GAA0B,EACpC,OAAQC,GAAwB,EAChC,UAAWC,GAA2B,CAC5C,CACG,MAAC,CAED,CAGEvP,KACHA,GAAS,OAAO,GAGlB,IAAAO,GAAiBP,GCtCjB36C,GAAiBmqD,GAEjB,SAASA,IAAO,CACd,IAAIC,EAAW,CAAA,EACfA,EAAS,MAAQA,EAAS,MAAQA,EAClC,KAAK,UAAYA,CACnB,CAEAD,GAAK,UAAU,QAAU,UAAW,CAClC,IAAIC,EAAW,KAAK,UAChBvlB,EAAQulB,EAAS,MACrB,GAAIvlB,IAAUulB,EACZ,OAAAC,GAAOxlB,CAAK,EACLA,CAEX,EAEAslB,GAAK,UAAU,QAAU,SAAStlB,EAAO,CACvC,IAAIulB,EAAW,KAAK,UAChBvlB,EAAM,OAASA,EAAM,OACvBwlB,GAAOxlB,CAAK,EAEdA,EAAM,MAAQulB,EAAS,MACvBA,EAAS,MAAM,MAAQvlB,EACvBulB,EAAS,MAAQvlB,EACjBA,EAAM,MAAQulB,CAChB,EAEAD,GAAK,UAAU,SAAW,UAAW,CAInC,QAHIG,EAAO,CAAA,EACPF,EAAW,KAAK,UAChBG,EAAOH,EAAS,MACbG,IAASH,GACdE,EAAK,KAAK,KAAK,UAAUC,EAAMC,EAAc,CAAC,EAC9CD,EAAOA,EAAK,MAEd,MAAO,IAAMD,EAAK,KAAK,IAAI,EAAI,GACjC,EAEA,SAASD,GAAOxlB,EAAO,CACrBA,EAAM,MAAM,MAAQA,EAAM,MAC1BA,EAAM,MAAM,MAAQA,EAAM,MAC1B,OAAOA,EAAM,MACb,OAAOA,EAAM,KACf,CAEA,SAAS2lB,GAAe90D,EAAGlJ,EAAG,CAC5B,GAAIkJ,IAAM,SAAWA,IAAM,QACzB,OAAOlJ,CAEX,CCvDA,IAAIxQ,GAAI2J,GACJy1D,GAAQr1D,GAAsB,MAC9BokE,GAAOlkE,GASXwkE,GAAiBC,GAEbC,GAAoB3uE,GAAE,SAAS,CAAC,EAEpC,SAAS0uE,GAAU1zD,EAAGqnD,EAAU,CAC9B,GAAIrnD,EAAE,UAAW,GAAI,EACnB,MAAO,GAET,IAAInB,EAAQ+0D,GAAW5zD,EAAGqnD,GAAYsM,EAAiB,EACnDnM,EAAUqM,GAAYh1D,EAAM,MAAOA,EAAM,QAASA,EAAM,OAAO,EAGnE,OAAO7Z,GAAE,QAAQA,GAAE,IAAIwiE,EAAS,SAASxvD,EAAG,CAC1C,OAAOgI,EAAE,SAAShI,EAAE,EAAGA,EAAE,CAAC,CAC9B,CAAG,EAAG,EAAI,CACV,CAEA,SAAS67D,GAAY7zD,EAAG8zD,EAASC,EAAS,CAMxC,QALIvM,EAAU,CAAA,EACVmD,EAAUmJ,EAAQA,EAAQ,OAAS,CAAC,EACpCE,EAAQF,EAAQ,CAAC,EAEjBjmB,EACG7tC,EAAE,aAAa,CACpB,KAAQ6tC,EAAQmmB,EAAM,QAAO,GAASC,GAAWj0D,EAAG8zD,EAASC,EAASlmB,CAAK,EAC3E,KAAQA,EAAQ8c,EAAQ,QAAO,GAAOsJ,GAAWj0D,EAAG8zD,EAASC,EAASlmB,CAAK,EAC3E,GAAI7tC,EAAE,aACJ,QAASxtB,EAAIshF,EAAQ,OAAS,EAAGthF,EAAI,EAAG,EAAEA,EAExC,GADAq7D,EAAQimB,EAAQthF,CAAC,EAAE,QAAO,EACtBq7D,EAAO,CACT2Z,EAAUA,EAAQ,OAAOyM,GAAWj0D,EAAG8zD,EAASC,EAASlmB,EAAO,EAAI,CAAC,EACrE,QAMR,OAAO2Z,CACT,CAEA,SAASyM,GAAWj0D,EAAG8zD,EAASC,EAASlmB,EAAOqmB,EAAqB,CACnE,IAAI1M,EAAU0M,EAAsB,CAAE,EAAG,OAEzClvE,OAAAA,GAAE,QAAQgb,EAAE,QAAQ6tC,EAAM,CAAC,EAAG,SAAS3tB,EAAM,CAC3C,IAAI2nC,EAAS7nD,EAAE,KAAKkgB,CAAI,EACpBi0C,EAASn0D,EAAE,KAAKkgB,EAAK,CAAC,EAEtBg0C,GACF1M,EAAQ,KAAK,CAAE,EAAGtnC,EAAK,EAAG,EAAGA,EAAK,CAAC,CAAE,EAGvCi0C,EAAO,KAAOtM,EACduM,GAAaN,EAASC,EAASI,CAAM,CACzC,CAAG,EAEDnvE,GAAE,QAAQgb,EAAE,SAAS6tC,EAAM,CAAC,EAAG,SAAS3tB,EAAM,CAC5C,IAAI2nC,EAAS7nD,EAAE,KAAKkgB,CAAI,EACpB7f,EAAI6f,EAAK,EACT0nC,EAAS5nD,EAAE,KAAKK,CAAC,EACrBunD,EAAO,IAASC,EAChBuM,GAAaN,EAASC,EAASnM,CAAM,CACzC,CAAG,EAED5nD,EAAE,WAAW6tC,EAAM,CAAC,EAEb2Z,CACT,CAEA,SAASoM,GAAW5zD,EAAGqnD,EAAU,CAC/B,IAAIgN,EAAW,IAAIjQ,GACfkQ,EAAQ,EACRC,EAAS,EAEbvvE,GAAE,QAAQgb,EAAE,MAAO,EAAE,SAASxK,EAAG,CAC/B6+D,EAAS,QAAQ7+D,EAAG,CAAE,EAAGA,EAAG,GAAM,EAAG,IAAK,CAAC,CAAE,CACjD,CAAG,EAIDxQ,GAAE,QAAQgb,EAAE,MAAO,EAAE,SAAShI,EAAG,CAC/B,IAAIw8D,EAAaH,EAAS,KAAKr8D,EAAE,EAAGA,EAAE,CAAC,GAAK,EACxC6vD,EAASR,EAASrvD,CAAC,EACnBiyD,EAAauK,EAAa3M,EAC9BwM,EAAS,QAAQr8D,EAAE,EAAGA,EAAE,EAAGiyD,CAAU,EACrCsK,EAAS,KAAK,IAAIA,EAAQF,EAAS,KAAKr8D,EAAE,CAAC,EAAE,KAAO6vD,CAAM,EAC1DyM,EAAS,KAAK,IAAIA,EAAQD,EAAS,KAAKr8D,EAAE,CAAC,EAAE,IAAU6vD,CAAM,CACjE,CAAG,EAED,IAAIiM,EAAU9uE,GAAE,MAAMuvE,EAASD,EAAQ,CAAC,EAAE,IAAI,UAAW,CAAE,OAAO,IAAInB,EAAS,CAAA,EAC3EY,EAAUO,EAAQ,EAEtBtvE,OAAAA,GAAE,QAAQqvE,EAAS,MAAO,EAAE,SAAS7+D,EAAG,CACtC4+D,GAAaN,EAASC,EAASM,EAAS,KAAK7+D,CAAC,CAAC,CACnD,CAAG,EAEM,CAAE,MAAO6+D,EAAU,QAASP,EAAS,QAASC,EACvD,CAEA,SAASK,GAAaN,EAASC,EAASlmB,EAAO,CACxCA,EAAM,IAECA,EAAM,GAGhBimB,EAAQjmB,EAAM,IAAMA,EAAM,GAAQkmB,CAAO,EAAE,QAAQlmB,CAAK,EAFxDimB,EAAQA,EAAQ,OAAS,CAAC,EAAE,QAAQjmB,CAAK,EAFzCimB,EAAQ,CAAC,EAAE,QAAQjmB,CAAK,CAM5B,CCnHA,IAAI7oD,GAAI2J,GACJ+kE,GAAY3kE,GAEhB0lE,GAAiB,CACf,IAAKC,GACL,KAAMC,EACR,EAEA,SAASD,GAAI10D,EAAG,CACd,IAAI40D,EAAO50D,EAAE,MAAO,EAAC,YAAc,SAC/B0zD,GAAU1zD,EAAGqnD,EAASrnD,CAAC,CAAC,EACxB60D,GAAO70D,CAAC,EACZhb,GAAE,QAAQ4vE,EAAK,SAAS58D,EAAG,CACzB,IAAIipB,EAAQjhB,EAAE,KAAKhI,CAAC,EACpBgI,EAAE,WAAWhI,CAAC,EACdipB,EAAM,YAAcjpB,EAAE,KACtBipB,EAAM,SAAW,GACjBjhB,EAAE,QAAQhI,EAAE,EAAGA,EAAE,EAAGipB,EAAOj8B,GAAE,SAAS,KAAK,CAAC,CAChD,CAAG,EAED,SAASqiE,EAASrnD,EAAG,CACnB,OAAO,SAAShI,EAAG,CACjB,OAAOgI,EAAE,KAAKhI,CAAC,EAAE,MACvB,CACG,CACH,CAEA,SAAS68D,GAAO70D,EAAG,CACjB,IAAI40D,EAAM,CAAA,EACNxM,EAAQ,CAAA,EACR5B,EAAU,CAAA,EAEd,SAASG,EAAInxD,EAAG,CACVxQ,GAAE,IAAIwhE,EAAShxD,CAAC,IAGpBgxD,EAAQhxD,CAAC,EAAI,GACb4yD,EAAM5yD,CAAC,EAAI,GACXxQ,GAAE,QAAQgb,EAAE,SAASxK,CAAC,EAAG,SAASwC,EAAG,CAC/BhT,GAAE,IAAIojE,EAAOpwD,EAAE,CAAC,EAClB48D,EAAI,KAAK58D,CAAC,EAEV2uD,EAAI3uD,EAAE,CAAC,CAEf,CAAK,EACD,OAAOowD,EAAM5yD,CAAC,EACf,CAEDxQ,OAAAA,GAAE,QAAQgb,EAAE,MAAO,EAAE2mD,CAAG,EACjBiO,CACT,CAEA,SAASD,GAAK30D,EAAG,CACfhb,GAAE,QAAQgb,EAAE,MAAO,EAAE,SAAShI,EAAG,CAC/B,IAAIipB,EAAQjhB,EAAE,KAAKhI,CAAC,EACpB,GAAIipB,EAAM,SAAU,CAClBjhB,EAAE,WAAWhI,CAAC,EAEd,IAAI88D,EAAc7zC,EAAM,YACxB,OAAOA,EAAM,SACb,OAAOA,EAAM,YACbjhB,EAAE,QAAQhI,EAAE,EAAGA,EAAE,EAAGipB,EAAO6zC,CAAW,EAE5C,CAAG,CACH,CC9DA,IAAI9vE,GAAI2J,GACJy1D,GAAQr1D,GAAsB,MAElCW,GAAiB,CACf,aAAcqlE,GACd,SAAUC,GACV,mBAAoBC,GACpB,iBAAkBC,GAClB,mBAAoBC,GACpB,cAAeC,GACf,iBAAkBC,GAClB,eAAgBC,GAChB,iBAAkBC,GAClB,cAAeC,GACf,QAASC,GACT,UAAWC,GACX,KAAMx+C,GACN,OAAQy+C,EACV,EAKA,SAASZ,GAAa/0D,EAAGhU,EAAMqK,EAAO/G,EAAM,CAC1C,IAAIkG,EACJ,GACEA,EAAIxQ,GAAE,SAASsK,CAAI,QACZ0Q,EAAE,QAAQxK,CAAC,GAEpB,OAAAa,EAAM,MAAQrK,EACdgU,EAAE,QAAQxK,EAAGa,CAAK,EACXb,CACT,CAMA,SAASw/D,GAASh1D,EAAG,CACnB,IAAI41D,EAAa,IAAIxR,GAAO,EAAC,SAASpkD,EAAE,MAAK,CAAE,EAC/Chb,OAAAA,GAAE,QAAQgb,EAAE,MAAK,EAAI,SAASxK,EAAG,CAAEogE,EAAW,QAAQpgE,EAAGwK,EAAE,KAAKxK,CAAC,CAAC,CAAE,CAAE,EACtExQ,GAAE,QAAQgb,EAAE,MAAO,EAAE,SAAShI,EAAG,CAC/B,IAAI69D,EAAcD,EAAW,KAAK59D,EAAE,EAAGA,EAAE,CAAC,GAAK,CAAE,OAAQ,EAAG,OAAQ,CAAC,EACjEipB,EAAQjhB,EAAE,KAAKhI,CAAC,EACpB49D,EAAW,QAAQ59D,EAAE,EAAGA,EAAE,EAAG,CAC3B,OAAQ69D,EAAY,OAAS50C,EAAM,OACnC,OAAQ,KAAK,IAAI40C,EAAY,OAAQ50C,EAAM,MAAM,CACvD,CAAK,CACL,CAAG,EACM20C,CACT,CAEA,SAASX,GAAmBj1D,EAAG,CAC7B,IAAI41D,EAAa,IAAIxR,GAAM,CAAE,WAAYpkD,EAAE,aAAc,CAAA,CAAE,EAAE,SAASA,EAAE,MAAO,CAAA,EAC/Ehb,OAAAA,GAAE,QAAQgb,EAAE,MAAO,EAAE,SAASxK,EAAG,CAC1BwK,EAAE,SAASxK,CAAC,EAAE,QACjBogE,EAAW,QAAQpgE,EAAGwK,EAAE,KAAKxK,CAAC,CAAC,CAErC,CAAG,EACDxQ,GAAE,QAAQgb,EAAE,MAAO,EAAE,SAAShI,EAAG,CAC/B49D,EAAW,QAAQ59D,EAAGgI,EAAE,KAAKhI,CAAC,CAAC,CACnC,CAAG,EACM49D,CACT,CAEA,SAASV,GAAiBl1D,EAAG,CAC3B,IAAI81D,EAAY9wE,GAAE,IAAIgb,EAAE,MAAK,EAAI,SAASxK,EAAG,CAC3C,IAAIugE,EAAO,CAAA,EACX/wE,OAAAA,GAAE,QAAQgb,EAAE,SAASxK,CAAC,EAAG,SAASwC,EAAG,CACnC+9D,EAAK/9D,EAAE,CAAC,GAAK+9D,EAAK/9D,EAAE,CAAC,GAAK,GAAKgI,EAAE,KAAKhI,CAAC,EAAE,MAC/C,CAAK,EACM+9D,CACX,CAAG,EACD,OAAO/wE,GAAE,UAAUgb,EAAE,MAAO,EAAE81D,CAAS,CACzC,CAEA,SAASX,GAAmBn1D,EAAG,CAC7B,IAAI81D,EAAY9wE,GAAE,IAAIgb,EAAE,MAAK,EAAI,SAASxK,EAAG,CAC3C,IAAIsvD,EAAQ,CAAA,EACZ9/D,OAAAA,GAAE,QAAQgb,EAAE,QAAQxK,CAAC,EAAG,SAASwC,EAAG,CAClC8sD,EAAM9sD,EAAE,CAAC,GAAK8sD,EAAM9sD,EAAE,CAAC,GAAK,GAAKgI,EAAE,KAAKhI,CAAC,EAAE,MACjD,CAAK,EACM8sD,CACX,CAAG,EACD,OAAO9/D,GAAE,UAAUgb,EAAE,MAAO,EAAE81D,CAAS,CACzC,CAMA,SAASV,GAAcnpD,EAAMD,EAAO,CAClC,IAAI7I,EAAI8I,EAAK,EACTgB,EAAIhB,EAAK,EAITiB,EAAKlB,EAAM,EAAI7I,EACfgK,EAAKnB,EAAM,EAAIiB,EACf5M,EAAI4L,EAAK,MAAQ,EACjB1M,EAAI0M,EAAK,OAAS,EAEtB,GAAI,CAACiB,GAAM,CAACC,EACV,MAAM,IAAI,MAAM,2DAA2D,EAG7E,IAAI6oD,EAAIC,EACR,OAAI,KAAK,IAAI9oD,CAAE,EAAI9M,EAAI,KAAK,IAAI6M,CAAE,EAAI3N,GAEhC4N,EAAK,IACP5N,EAAI,CAACA,GAEPy2D,EAAKz2D,EAAI2N,EAAKC,EACd8oD,EAAK12D,IAGD2N,EAAK,IACP7M,EAAI,CAACA,GAEP21D,EAAK31D,EACL41D,EAAK51D,EAAI8M,EAAKD,GAGT,CAAE,EAAG/J,EAAI6yD,EAAI,EAAG/oD,EAAIgpD,EAC7B,CAMA,SAASZ,GAAiBr1D,EAAG,CAC3B,IAAIk2D,EAAWlxE,GAAE,IAAIA,GAAE,MAAMywE,GAAQz1D,CAAC,EAAI,CAAC,EAAG,UAAW,CAAE,MAAO,CAAE,CAAG,CAAA,EACvEhb,OAAAA,GAAE,QAAQgb,EAAE,MAAO,EAAE,SAASxK,EAAG,CAC/B,IAAIhc,EAAOwmB,EAAE,KAAKxK,CAAC,EACf2gE,EAAO38E,EAAK,KACXwL,GAAE,YAAYmxE,CAAI,IACrBD,EAASC,CAAI,EAAE38E,EAAK,KAAK,EAAIgc,EAEnC,CAAG,EACM0gE,CACT,CAMA,SAASZ,GAAet1D,EAAG,CACzB,IAAIsR,EAAMtsB,GAAE,IAAIA,GAAE,IAAIgb,EAAE,MAAO,EAAE,SAASxK,EAAG,CAAE,OAAOwK,EAAE,KAAKxK,CAAC,EAAE,IAAO,CAAA,CAAC,EACxExQ,GAAE,QAAQgb,EAAE,MAAO,EAAE,SAASxK,EAAG,CAC/B,IAAIhc,EAAOwmB,EAAE,KAAKxK,CAAC,EACfxQ,GAAE,IAAIxL,EAAM,MAAM,IACpBA,EAAK,MAAQ83B,EAEnB,CAAG,CACH,CAEA,SAASikD,GAAiBv1D,EAAG,CAE3B,IAAI+mB,EAAS/hC,GAAE,IAAIA,GAAE,IAAIgb,EAAE,MAAO,EAAE,SAASxK,EAAG,CAAE,OAAOwK,EAAE,KAAKxK,CAAC,EAAE,IAAO,CAAA,CAAC,EAEvE4gE,EAAS,CAAA,EACbpxE,GAAE,QAAQgb,EAAE,MAAO,EAAE,SAASxK,EAAG,CAC/B,IAAI2gE,EAAOn2D,EAAE,KAAKxK,CAAC,EAAE,KAAOuxB,EACvBqvC,EAAOD,CAAI,IACdC,EAAOD,CAAI,EAAI,IAEjBC,EAAOD,CAAI,EAAE,KAAK3gE,CAAC,CACvB,CAAG,EAED,IAAIo+C,EAAQ,EACRyiB,EAAiBr2D,EAAE,MAAK,EAAG,eAC/Bhb,GAAE,QAAQoxE,EAAQ,SAAS3R,EAAIjyE,EAAG,CAC5BwS,GAAE,YAAYy/D,CAAE,GAAKjyE,EAAI6jF,IAAmB,EAC9C,EAAEziB,EACOA,GACT5uD,GAAE,QAAQy/D,EAAI,SAASjvD,EAAG,CAAEwK,EAAE,KAAKxK,CAAC,EAAE,MAAQo+C,CAAQ,CAAA,CAE5D,CAAG,CACH,CAEA,SAAS4hB,GAAcx1D,EAAGoC,EAAQ+zD,EAAM5M,EAAO,CAC7C,IAAI/vE,EAAO,CACT,MAAO,EACP,OAAQ,CACZ,EACE,OAAI,UAAU,QAAU,IACtBA,EAAK,KAAO28E,EACZ38E,EAAK,MAAQ+vE,GAERwL,GAAa/0D,EAAG,SAAUxmB,EAAM4oB,CAAM,CAC/C,CAEA,SAASqzD,GAAQz1D,EAAG,CAClB,OAAOhb,GAAE,IAAIA,GAAE,IAAIgb,EAAE,MAAK,EAAI,SAASxK,EAAG,CACxC,IAAI2gE,EAAOn2D,EAAE,KAAKxK,CAAC,EAAE,KACrB,GAAI,CAACxQ,GAAE,YAAYmxE,CAAI,EACrB,OAAOA,CAEV,CAAA,CAAC,CACJ,CAOA,SAAST,GAAU92C,EAAY/uB,EAAI,CACjC,IAAIo+B,EAAS,CAAE,IAAK,CAAE,EAAE,IAAK,CAAE,CAAA,EAC/BjpC,OAAAA,GAAE,QAAQ45B,EAAY,SAASxuC,EAAO,CAChCyf,EAAGzf,CAAK,EACV69C,EAAO,IAAI,KAAK79C,CAAK,EAErB69C,EAAO,IAAI,KAAK79C,CAAK,CAE3B,CAAG,EACM69C,CACT,CAMA,SAAS/W,GAAK5nB,EAAMO,EAAI,CACtB,IAAItE,EAAQvG,GAAE,MACd,GAAI,CACF,OAAO6K,EAAE,CACb,QAAY,CACR,QAAQ,IAAIP,EAAO,WAAatK,GAAE,MAAQuG,GAAS,IAAI,CACxD,CACH,CAEA,SAASoqE,GAAOrmE,EAAMO,EAAI,CACxB,OAAOA,EAAE,CACX,CC3OA,IAAI7K,GAAI2J,GACJe,GAAOX,GAEXunE,GAAiB,CACf,IAAK5B,GACL,KAAMC,EACR,EAkBA,SAASD,GAAI10D,EAAG,CACdA,EAAE,MAAK,EAAG,YAAc,GACxBhb,GAAE,QAAQgb,EAAE,MAAO,EAAE,SAASkgB,EAAM,CAAEq2C,GAAcv2D,EAAGkgB,CAAI,CAAI,CAAA,CACjE,CAEA,SAASq2C,GAAcv2D,EAAGhI,EAAG,CAC3B,IAAIxC,EAAIwC,EAAE,EACNw+D,EAAQx2D,EAAE,KAAKxK,CAAC,EAAE,KAClB6K,EAAIrI,EAAE,EACNy+D,EAAQz2D,EAAE,KAAKK,CAAC,EAAE,KAClB/Q,EAAO0I,EAAE,KACT0+D,EAAY12D,EAAE,KAAKhI,CAAC,EACpB2+D,EAAYD,EAAU,UAE1B,GAAID,IAAUD,EAAQ,EAEtB,CAAAx2D,EAAE,WAAWhI,CAAC,EAEd,IAAI4+D,EAAOvgE,EAAO7jB,EAClB,IAAKA,EAAI,EAAG,EAAEgkF,EAAOA,EAAQC,EAAO,EAAEjkF,EAAG,EAAEgkF,EACzCE,EAAU,OAAS,GACnBrgE,EAAQ,CACN,MAAO,EAAG,OAAQ,EAClB,UAAWqgE,EAAW,QAAS1+D,EAC/B,KAAMw+D,CACZ,EACII,EAAQlnE,GAAK,aAAasQ,EAAG,OAAQ3J,EAAO,IAAI,EAC5CmgE,IAAUG,IACZtgE,EAAM,MAAQqgE,EAAU,MACxBrgE,EAAM,OAASqgE,EAAU,OACzBrgE,EAAM,MAAQ,aACdA,EAAM,SAAWqgE,EAAU,UAE7B12D,EAAE,QAAQxK,EAAGohE,EAAO,CAAE,OAAQF,EAAU,QAAUpnE,CAAI,EAClD9c,IAAM,GACRwtB,EAAE,MAAO,EAAC,YAAY,KAAK42D,CAAK,EAElCphE,EAAIohE,EAGN52D,EAAE,QAAQxK,EAAG6K,EAAG,CAAE,OAAQq2D,EAAU,QAAUpnE,CAAI,EACpD,CAEA,SAASqlE,GAAK30D,EAAG,CACfhb,GAAE,QAAQgb,EAAE,MAAK,EAAG,YAAa,SAASxK,EAAG,CAC3C,IAAIhc,EAAOwmB,EAAE,KAAKxK,CAAC,EACfqhE,EAAYr9E,EAAK,UACjB6mB,EAEJ,IADAL,EAAE,QAAQxmB,EAAK,QAASq9E,CAAS,EAC1Br9E,EAAK,OACV6mB,EAAIL,EAAE,WAAWxK,CAAC,EAAE,CAAC,EACrBwK,EAAE,WAAWxK,CAAC,EACdqhE,EAAU,OAAO,KAAK,CAAE,EAAGr9E,EAAK,EAAG,EAAGA,EAAK,CAAC,CAAE,EAC1CA,EAAK,QAAU,eACjBq9E,EAAU,EAAIr9E,EAAK,EACnBq9E,EAAU,EAAIr9E,EAAK,EACnBq9E,EAAU,MAAQr9E,EAAK,MACvBq9E,EAAU,OAASr9E,EAAK,QAE1Bgc,EAAI6K,EACJ7mB,EAAOwmB,EAAE,KAAKxK,CAAC,CAErB,CAAG,CACH,CCvFA,IAAIxQ,GAAI2J,GAERe,GAAiB,CACf,YAAaonE,GACb,MAAOC,EACT,EAuBA,SAASD,GAAY92D,EAAG,CACtB,IAAIwmD,EAAU,CAAA,EAEd,SAASG,EAAInxD,EAAG,CACd,IAAIyrB,EAAQjhB,EAAE,KAAKxK,CAAC,EACpB,GAAIxQ,GAAE,IAAIwhE,EAAShxD,CAAC,EAClB,OAAOyrB,EAAM,KAEfulC,EAAQhxD,CAAC,EAAI,GAEb,IAAI2gE,EAAOnxE,GAAE,IAAIA,GAAE,IAAIgb,EAAE,SAASxK,CAAC,EAAG,SAASwC,EAAG,CAChD,OAAO2uD,EAAI3uD,EAAE,CAAC,EAAIgI,EAAE,KAAKhI,CAAC,EAAE,MAC7B,CAAA,CAAC,EAEF,OAAIm+D,IAAS,OAAO,mBAChBA,IAAS,QACTA,IAAS,QACXA,EAAO,GAGDl1C,EAAM,KAAOk1C,CACtB,CAEDnxE,GAAE,QAAQgb,EAAE,QAAS,EAAE2mD,CAAG,CAC5B,CAMA,SAASoQ,GAAM/2D,EAAGhI,EAAG,CACnB,OAAOgI,EAAE,KAAKhI,EAAE,CAAC,EAAE,KAAOgI,EAAE,KAAKhI,EAAE,CAAC,EAAE,KAAOgI,EAAE,KAAKhI,CAAC,EAAE,MACzD,CC5DA,IAAIhT,GAAI2J,GACJy1D,GAAQr1D,GAAuB,MAC/BgoE,GAAQ9nE,GAAkB,MAE9B+nE,GAAiBC,GA2BjB,SAASA,GAAaj3D,EAAG,CACvB,IAAI,EAAI,IAAIokD,GAAM,CAAE,SAAU,EAAO,CAAA,EAGjC74D,EAAQyU,EAAE,MAAO,EAAC,CAAC,EACnB9hB,EAAO8hB,EAAE,YACb,EAAE,QAAQzU,EAAO,CAAA,CAAE,EAGnB,QADI20B,EAAM0zB,EACHsjB,GAAU,EAAGl3D,CAAC,EAAI9hB,GACvBgiC,EAAOi3C,GAAiB,EAAGn3D,CAAC,EAC5B4zC,EAAQ,EAAE,QAAQ1zB,EAAK,CAAC,EAAI62C,GAAM/2D,EAAGkgB,CAAI,EAAI,CAAC62C,GAAM/2D,EAAGkgB,CAAI,EAC3Dk3C,GAAW,EAAGp3D,EAAG4zC,CAAK,EAGxB,OAAO,CACT,CAMA,SAASsjB,GAAUjyE,EAAG+a,EAAG,CACvB,SAAS2mD,EAAInxD,EAAG,CACdxQ,GAAE,QAAQgb,EAAE,UAAUxK,CAAC,EAAG,SAASwC,EAAG,CACpC,IAAIq/D,EAAQr/D,EAAE,EACZqI,EAAK7K,IAAM6hE,EAASr/D,EAAE,EAAIq/D,EACxB,CAACpyE,EAAE,QAAQob,CAAC,GAAK,CAAC02D,GAAM/2D,EAAGhI,CAAC,IAC9B/S,EAAE,QAAQob,EAAG,CAAA,CAAE,EACfpb,EAAE,QAAQuQ,EAAG6K,EAAG,CAAE,CAAA,EAClBsmD,EAAItmD,CAAC,EAEb,CAAK,CACF,CAEDrb,OAAAA,GAAE,QAAQC,EAAE,MAAO,EAAE0hE,CAAG,EACjB1hE,EAAE,WACX,CAMA,SAASkyE,GAAiBlyE,EAAG+a,EAAG,CAC9B,OAAOhb,GAAE,MAAMgb,EAAE,MAAO,EAAE,SAAShI,EAAG,CACpC,GAAI/S,EAAE,QAAQ+S,EAAE,CAAC,IAAM/S,EAAE,QAAQ+S,EAAE,CAAC,EAClC,OAAO++D,GAAM/2D,EAAGhI,CAAC,CAEvB,CAAG,CACH,CAEA,SAASo/D,GAAWnyE,EAAG+a,EAAG4zC,EAAO,CAC/B5uD,GAAE,QAAQC,EAAE,MAAO,EAAE,SAASuQ,EAAG,CAC/BwK,EAAE,KAAKxK,CAAC,EAAE,MAAQo+C,CACtB,CAAG,CACH,CCtFA,IAAI5uD,GAAI2J,GACJsoE,GAAeloE,GACfgoE,GAAQ9nE,GAAkB,MAC1BqoE,GAAWroE,GAAkB,YAC7B46D,GAAW9zD,GAAuB,IAAI,SACtC2zD,GAAY3zD,GAAuB,IAAI,UACvCi/D,GAAWjY,GAAmB,SAElCwa,GAAiBC,GAGjBA,GAAe,iBAAmBC,GAClCD,GAAe,cAAgBE,GAC/BF,GAAe,aAAeG,GAC9BH,GAAe,UAAYI,GAC3BJ,GAAe,UAAYK,GAC3BL,GAAe,cAAgBM,GAmC/B,SAASN,GAAex3D,EAAG,CACzBA,EAAIg1D,GAASh1D,CAAC,EACds3D,GAASt3D,CAAC,EACV,IAAI,EAAIi3D,GAAaj3D,CAAC,EACtBy3D,GAAiB,CAAC,EAClBC,GAAc,EAAG13D,CAAC,EAGlB,QADIhI,EAAG+H,EACC/H,EAAI4/D,GAAU,CAAC,GACrB73D,EAAI83D,GAAU,EAAG73D,EAAGhI,CAAC,EACrB8/D,GAAc,EAAG93D,EAAGhI,EAAG+H,CAAC,CAE5B,CAKA,SAAS23D,GAAczyE,EAAG+a,EAAG,CAC3B,IAAIykD,EAAKiF,GAAUzkE,EAAGA,EAAE,MAAO,CAAA,EAC/Bw/D,EAAKA,EAAG,MAAM,EAAGA,EAAG,OAAS,CAAC,EAC9Bz/D,GAAE,QAAQy/D,EAAI,SAASjvD,EAAG,CACxBuiE,GAAe9yE,EAAG+a,EAAGxK,CAAC,CAC1B,CAAG,CACH,CAEA,SAASuiE,GAAe9yE,EAAG+a,EAAGyE,EAAO,CACnC,IAAIuzD,EAAW/yE,EAAE,KAAKwf,CAAK,EACvBF,EAASyzD,EAAS,OACtB/yE,EAAE,KAAKwf,EAAOF,CAAM,EAAE,SAAWozD,GAAa1yE,EAAG+a,EAAGyE,CAAK,CAC3D,CAMA,SAASkzD,GAAa1yE,EAAG+a,EAAGyE,EAAO,CACjC,IAAIuzD,EAAW/yE,EAAE,KAAKwf,CAAK,EACvBF,EAASyzD,EAAS,OAElBC,EAAc,GAEdC,EAAYl4D,EAAE,KAAKyE,EAAOF,CAAM,EAEhC4zD,EAAW,EAEf,OAAKD,IACHD,EAAc,GACdC,EAAYl4D,EAAE,KAAKuE,EAAQE,CAAK,GAGlC0zD,EAAWD,EAAU,OAErBlzE,GAAE,QAAQgb,EAAE,UAAUyE,CAAK,EAAG,SAASzM,EAAG,CACxC,IAAIogE,EAAYpgE,EAAE,IAAMyM,EACtBlqB,EAAQ69E,EAAYpgE,EAAE,EAAIA,EAAE,EAE9B,GAAIzd,IAAUgqB,EAAQ,CACpB,IAAI8zD,EAAeD,IAAcH,EAC/BK,EAAct4D,EAAE,KAAKhI,CAAC,EAAE,OAG1B,GADAmgE,GAAYE,EAAeC,EAAc,CAACA,EACtCC,GAAWtzE,EAAGwf,EAAOlqB,CAAK,EAAG,CAC/B,IAAIi+E,EAAgBvzE,EAAE,KAAKwf,EAAOlqB,CAAK,EAAE,SACzC49E,GAAYE,EAAe,CAACG,EAAgBA,GAGpD,CAAG,EAEML,CACT,CAEA,SAASV,GAAiBjpB,EAAM7iC,EAAM,CAChC,UAAU,OAAS,IACrBA,EAAO6iC,EAAK,MAAO,EAAC,CAAC,GAEvBiqB,GAAgBjqB,EAAM,CAAA,EAAI,EAAG7iC,CAAI,CACnC,CAEA,SAAS8sD,GAAgBjqB,EAAMgY,EAASkS,EAASljE,EAAG+O,EAAQ,CAC1D,IAAIo0D,EAAMD,EACNz3C,EAAQutB,EAAK,KAAKh5C,CAAC,EAEvB,OAAAgxD,EAAQhxD,CAAC,EAAI,GACbxQ,GAAE,QAAQwpD,EAAK,UAAUh5C,CAAC,EAAG,SAAS6K,EAAG,CAClCrb,GAAE,IAAIwhE,EAASnmD,CAAC,IACnBq4D,EAAUD,GAAgBjqB,EAAMgY,EAASkS,EAASr4D,EAAG7K,CAAC,EAE5D,CAAG,EAEDyrB,EAAM,IAAM03C,EACZ13C,EAAM,IAAMy3C,IACRn0D,EACF0c,EAAM,OAAS1c,EAGf,OAAO0c,EAAM,OAGRy3C,CACT,CAEA,SAASd,GAAUppB,EAAM,CACvB,OAAOxpD,GAAE,KAAKwpD,EAAK,MAAO,EAAE,SAASx2C,EAAG,CACtC,OAAOw2C,EAAK,KAAKx2C,CAAC,EAAE,SAAW,CACnC,CAAG,CACH,CAEA,SAAS6/D,GAAU5yE,EAAG+a,EAAGkgB,EAAM,CAC7B,IAAI1qB,EAAI0qB,EAAK,EACT7f,EAAI6f,EAAK,EAKRlgB,EAAE,QAAQxK,EAAG6K,CAAC,IACjB7K,EAAI0qB,EAAK,EACT7f,EAAI6f,EAAK,GAGX,IAAI04C,EAAS3zE,EAAE,KAAKuQ,CAAC,EACjBqjE,EAAS5zE,EAAE,KAAKob,CAAC,EACjBy4D,EAAYF,EACZG,EAAO,GAIPH,EAAO,IAAMC,EAAO,MACtBC,EAAYD,EACZE,EAAO,IAGT,IAAIC,EAAah0E,GAAE,OAAOgb,EAAE,MAAK,EAAI,SAASkgB,EAAM,CAClD,OAAO64C,IAASE,GAAah0E,EAAGA,EAAE,KAAKi7B,EAAK,CAAC,EAAG44C,CAAS,GAClDC,IAASE,GAAah0E,EAAGA,EAAE,KAAKi7B,EAAK,CAAC,EAAG44C,CAAS,CAC7D,CAAG,EAED,OAAO9zE,GAAE,MAAMg0E,EAAY,SAAS94C,EAAM,CAAE,OAAO62C,GAAM/2D,EAAGkgB,CAAI,CAAI,CAAA,CACtE,CAEA,SAAS43C,GAAc7yE,EAAG+a,EAAGhI,EAAG+H,EAAG,CACjC,IAAIvK,EAAIwC,EAAE,EACNqI,EAAIrI,EAAE,EACV/S,EAAE,WAAWuQ,EAAG6K,CAAC,EACjBpb,EAAE,QAAQ8a,EAAE,EAAGA,EAAE,EAAG,CAAA,CAAE,EACtB03D,GAAiBxyE,CAAC,EAClByyE,GAAczyE,EAAG+a,CAAC,EAClBk5D,GAAYj0E,EAAG+a,CAAC,CAClB,CAEA,SAASk5D,GAAYj0E,EAAG+a,EAAG,CACzB,IAAI2L,EAAO3mB,GAAE,KAAKC,EAAE,MAAO,EAAE,SAASuQ,EAAG,CAAE,MAAO,CAACwK,EAAE,KAAKxK,CAAC,EAAE,MAAO,CAAE,EAClEivD,EAAKoF,GAAS5kE,EAAG0mB,CAAI,EACzB84C,EAAKA,EAAG,MAAM,CAAC,EACfz/D,GAAE,QAAQy/D,EAAI,SAASjvD,EAAG,CACxB,IAAI+O,EAAStf,EAAE,KAAKuQ,CAAC,EAAE,OACrB0qB,EAAOlgB,EAAE,KAAKxK,EAAG+O,CAAM,EACvB40D,EAAU,GAEPj5C,IACHA,EAAOlgB,EAAE,KAAKuE,EAAQ/O,CAAC,EACvB2jE,EAAU,IAGZn5D,EAAE,KAAKxK,CAAC,EAAE,KAAOwK,EAAE,KAAKuE,CAAM,EAAE,MAAQ40D,EAAUj5C,EAAK,OAAS,CAACA,EAAK,OAC1E,CAAG,CACH,CAKA,SAASq4C,GAAW/pB,EAAMtuC,EAAG1K,EAAG,CAC9B,OAAOg5C,EAAK,QAAQtuC,EAAG1K,CAAC,CAC1B,CAMA,SAASyjE,GAAazqB,EAAMoqB,EAAQQ,EAAW,CAC7C,OAAOA,EAAU,KAAOR,EAAO,KAAOA,EAAO,KAAOQ,EAAU,GAChE,CCvOA,IAAIC,GAAW1qE,GACXmoE,GAAcuC,GAAS,YACvBpC,GAAeloE,GACfyoE,GAAiBvoE,GAErBqqE,GAAiBnD,GAqBjB,SAASA,GAAKn2D,EAAG,CACf,OAAOA,EAAE,MAAK,EAAG,OAAM,CACvB,IAAK,kBAAmBu5D,GAAqBv5D,CAAC,EAAG,MACjD,IAAK,aAAcw5D,GAAgBx5D,CAAC,EAAG,MACvC,IAAK,eAAgBy5D,GAAkBz5D,CAAC,EAAG,MAC3C,QAASu5D,GAAqBv5D,CAAC,CAC9B,CACH,CAGA,IAAIy5D,GAAoB3C,GAExB,SAAS0C,GAAgBx5D,EAAG,CAC1B82D,GAAY92D,CAAC,EACbi3D,GAAaj3D,CAAC,CAChB,CAEA,SAASu5D,GAAqBv5D,EAAG,CAC/Bw3D,GAAex3D,CAAC,CAClB,CC/CA,IAAIhb,GAAI2J,GAER+qE,GAAiBC,GAEjB,SAASA,GAAkB35D,EAAG,CAC5B,IAAI45D,EAAgBlQ,GAAU1pD,CAAC,EAE/Bhb,GAAE,QAAQgb,EAAE,MAAK,EAAG,YAAa,SAASxK,EAAG,CAU3C,QATIhc,EAAOwmB,EAAE,KAAKxK,CAAC,EACf4vD,EAAU5rE,EAAK,QACfqgF,EAAWC,GAAS95D,EAAG45D,EAAexU,EAAQ,EAAGA,EAAQ,CAAC,EAC1D9gC,EAAOu1C,EAAS,KAChBE,EAAMF,EAAS,IACfG,EAAU,EACVC,EAAQ31C,EAAK01C,CAAO,EACpBhzD,EAAY,GAETxR,IAAM4vD,EAAQ,GAAG,CAGtB,GAFA5rE,EAAOwmB,EAAE,KAAKxK,CAAC,EAEXwR,EAAW,CACb,MAAQizD,EAAQ31C,EAAK01C,CAAO,KAAOD,GAC5B/5D,EAAE,KAAKi6D,CAAK,EAAE,QAAUzgF,EAAK,MAClCwgF,IAGEC,IAAUF,IACZ/yD,EAAY,IAIhB,GAAI,CAACA,EAAW,CACd,KAAOgzD,EAAU11C,EAAK,OAAS,GACxBtkB,EAAE,KAAKi6D,EAAQ31C,EAAK01C,EAAU,CAAC,CAAC,EAAE,SAAWxgF,EAAK,MACvDwgF,IAEFC,EAAQ31C,EAAK01C,CAAO,EAGtBh6D,EAAE,UAAUxK,EAAGykE,CAAK,EACpBzkE,EAAIwK,EAAE,WAAWxK,CAAC,EAAE,CAAC,EAE3B,CAAG,CACH,CAIA,SAASskE,GAAS95D,EAAG45D,EAAepkE,EAAG6K,EAAG,CACxC,IAAI65D,EAAQ,CAAA,EACRC,EAAQ,CAAA,EACRxB,EAAM,KAAK,IAAIiB,EAAcpkE,CAAC,EAAE,IAAKokE,EAAcv5D,CAAC,EAAE,GAAG,EACzD+5D,EAAM,KAAK,IAAIR,EAAcpkE,CAAC,EAAE,IAAKokE,EAAcv5D,CAAC,EAAE,GAAG,EACzDkE,EACAw1D,EAGJx1D,EAAS/O,EACT,GACE+O,EAASvE,EAAE,OAAOuE,CAAM,EACxB21D,EAAM,KAAK31D,CAAM,QACVA,IACCq1D,EAAcr1D,CAAM,EAAE,IAAMo0D,GAAOyB,EAAMR,EAAcr1D,CAAM,EAAE,MAKzE,IAJAw1D,EAAMx1D,EAGNA,EAASlE,GACDkE,EAASvE,EAAE,OAAOuE,CAAM,KAAOw1D,GACrCI,EAAM,KAAK51D,CAAM,EAGnB,MAAO,CAAE,KAAM21D,EAAM,OAAOC,EAAM,SAAS,EAAG,IAAKJ,EACrD,CAEA,SAASrQ,GAAU1pD,EAAG,CACpB,IAAIiuB,EAAS,CAAA,EACTmsC,EAAM,EAEV,SAASzT,EAAInxD,EAAG,CACd,IAAImjE,EAAMyB,EACVp1E,GAAE,QAAQgb,EAAE,SAASxK,CAAC,EAAGmxD,CAAG,EAC5B14B,EAAOz4B,CAAC,EAAI,CAAE,IAAKmjE,EAAK,IAAKyB,IAC9B,CACDp1E,OAAAA,GAAE,QAAQgb,EAAE,SAAU,EAAE2mD,CAAG,EAEpB14B,CACT,CCrFA,IAAIjpC,GAAI2J,GACJe,GAAOX,GAEXsrE,GAAiB,CACf,IAAK3F,GACL,QAAS4F,EACX,EAyBA,SAAS5F,GAAI10D,EAAG,CACd,IAAI2L,EAAOjc,GAAK,aAAasQ,EAAG,OAAQ,CAAA,EAAI,OAAO,EAC/Cu6D,EAASC,GAAWx6D,CAAC,EACrB4iB,EAAS59B,GAAE,IAAIA,GAAE,OAAOu1E,CAAM,CAAC,EAAI,EACnCE,EAAU,EAAI73C,EAAS,EAE3B5iB,EAAE,MAAK,EAAG,YAAc2L,EAGxB3mB,GAAE,QAAQgb,EAAE,MAAO,EAAE,SAAShI,EAAG,CAAEgI,EAAE,KAAKhI,CAAC,EAAE,QAAUyiE,CAAU,CAAA,EAGjE,IAAI5S,EAAS6S,GAAW16D,CAAC,EAAI,EAG7Bhb,GAAE,QAAQgb,EAAE,SAAU,EAAE,SAASyE,EAAO,CACtCkiD,GAAI3mD,EAAG2L,EAAM8uD,EAAS5S,EAAQjlC,EAAQ23C,EAAQ91D,CAAK,CACvD,CAAG,EAIDzE,EAAE,MAAK,EAAG,eAAiBy6D,CAC7B,CAEA,SAAS9T,GAAI3mD,EAAG2L,EAAM8uD,EAAS5S,EAAQjlC,EAAQ23C,EAAQ/kE,EAAG,CACxD,IAAIvR,EAAW+b,EAAE,SAASxK,CAAC,EAC3B,GAAI,CAACvR,EAAS,OAAQ,CAChBuR,IAAMmW,GACR3L,EAAE,QAAQ2L,EAAMnW,EAAG,CAAE,OAAQ,EAAG,OAAQilE,CAAO,CAAE,EAEnD,OAGF,IAAIjuB,EAAM98C,GAAK,cAAcsQ,EAAG,KAAK,EACjC26D,EAASjrE,GAAK,cAAcsQ,EAAG,KAAK,EACpCihB,EAAQjhB,EAAE,KAAKxK,CAAC,EAEpBwK,EAAE,UAAUwsC,EAAKh3C,CAAC,EAClByrB,EAAM,UAAYurB,EAClBxsC,EAAE,UAAU26D,EAAQnlE,CAAC,EACrByrB,EAAM,aAAe05C,EAErB31E,GAAE,QAAQf,EAAU,SAASwgB,EAAO,CAClCkiD,GAAI3mD,EAAG2L,EAAM8uD,EAAS5S,EAAQjlC,EAAQ23C,EAAQ91D,CAAK,EAEnD,IAAIm2D,EAAY56D,EAAE,KAAKyE,CAAK,EACxBo2D,EAAWD,EAAU,UAAYA,EAAU,UAAYn2D,EACvDq2D,EAAcF,EAAU,aAAeA,EAAU,aAAen2D,EAChEs2D,EAAaH,EAAU,UAAY/S,EAAS,EAAIA,EAChDmT,EAASH,IAAaC,EAAc,EAAIl4C,EAAS23C,EAAO/kE,CAAC,EAAI,EAEjEwK,EAAE,QAAQwsC,EAAKquB,EAAU,CACvB,OAAQE,EACR,OAAQC,EACR,YAAa,EACnB,CAAK,EAEDh7D,EAAE,QAAQ86D,EAAaH,EAAQ,CAC7B,OAAQI,EACR,OAAQC,EACR,YAAa,EACnB,CAAK,CACL,CAAG,EAEIh7D,EAAE,OAAOxK,CAAC,GACbwK,EAAE,QAAQ2L,EAAM6gC,EAAK,CAAE,OAAQ,EAAG,OAAQ5pB,EAAS23C,EAAO/kE,CAAC,CAAG,CAAA,CAElE,CAEA,SAASglE,GAAWx6D,EAAG,CACrB,IAAIu6D,EAAS,CAAA,EACb,SAAS5T,EAAInxD,EAAGgsD,EAAO,CACrB,IAAIv9D,EAAW+b,EAAE,SAASxK,CAAC,EACvBvR,GAAYA,EAAS,QACvBe,GAAE,QAAQf,EAAU,SAASwgB,EAAO,CAClCkiD,EAAIliD,EAAO+8C,EAAQ,CAAC,CAC5B,CAAO,EAEH+Y,EAAO/kE,CAAC,EAAIgsD,CACb,CACDx8D,OAAAA,GAAE,QAAQgb,EAAE,SAAU,EAAE,SAASxK,EAAG,CAAEmxD,EAAInxD,EAAG,CAAC,CAAI,CAAA,EAC3C+kE,CACT,CAEA,SAASG,GAAW16D,EAAG,CACrB,OAAOhb,GAAE,OAAOgb,EAAE,MAAK,EAAI,SAAS1kB,EAAK0c,EAAG,CAC1C,OAAO1c,EAAM0kB,EAAE,KAAKhI,CAAC,EAAE,MACxB,EAAE,CAAC,CACN,CAEA,SAASsiE,GAAQt6D,EAAG,CAClB,IAAIi7D,EAAaj7D,EAAE,QACnBA,EAAE,WAAWi7D,EAAW,WAAW,EACnC,OAAOA,EAAW,YAClBj2E,GAAE,QAAQgb,EAAE,MAAO,EAAE,SAAShI,EAAG,CAC/B,IAAIkoB,EAAOlgB,EAAE,KAAKhI,CAAC,EACfkoB,EAAK,aACPlgB,EAAE,WAAWhI,CAAC,CAEpB,CAAG,CACH,CCnIA,IAAIhT,GAAI2J,GACJe,GAAOX,GAEXmsE,GAAiBC,GAEjB,SAASA,GAAkBn7D,EAAG,CAC5B,SAAS2mD,EAAInxD,EAAG,CACd,IAAIvR,EAAW+b,EAAE,SAASxK,CAAC,EACvBhc,EAAOwmB,EAAE,KAAKxK,CAAC,EAKnB,GAJIvR,EAAS,QACXe,GAAE,QAAQf,EAAU0iE,CAAG,EAGrB3hE,GAAE,IAAIxL,EAAM,SAAS,EAAG,CAC1BA,EAAK,WAAa,GAClBA,EAAK,YAAc,GACnB,QAAS28E,EAAO38E,EAAK,QAASi8E,EAAUj8E,EAAK,QAAU,EACrD28E,EAAOV,EACP,EAAEU,EACFX,GAAcx1D,EAAG,aAAc,MAAOxK,EAAGhc,EAAM28E,CAAI,EACnDX,GAAcx1D,EAAG,cAAe,MAAOxK,EAAGhc,EAAM28E,CAAI,EAGzD,CAEDnxE,GAAE,QAAQgb,EAAE,SAAU,EAAE2mD,CAAG,CAC7B,CAEA,SAAS6O,GAAcx1D,EAAGo7D,EAAMh5D,EAAQi5D,EAAIC,EAAQnF,EAAM,CACxD,IAAIl1C,EAAQ,CAAE,MAAO,EAAG,OAAQ,EAAG,KAAMk1C,EAAM,WAAYiF,GACvDnjF,EAAOqjF,EAAOF,CAAI,EAAEjF,EAAO,CAAC,EAC5B5C,EAAO7jE,GAAK,aAAasQ,EAAG,SAAUihB,EAAO7e,CAAM,EACvDk5D,EAAOF,CAAI,EAAEjF,CAAI,EAAI5C,EACrBvzD,EAAE,UAAUuzD,EAAM8H,CAAE,EAChBpjF,GACF+nB,EAAE,QAAQ/nB,EAAMs7E,EAAM,CAAE,OAAQ,CAAC,CAAE,CAEvC,CCnCA,IAAIvuE,GAAI2J,GAER4sE,GAAiB,CACf,OAAQC,GACR,KAAM7G,EACR,EAEA,SAAS6G,GAAOx7D,EAAG,CACjB,IAAIy7D,EAAUz7D,EAAE,MAAO,EAAC,QAAQ,YAAW,GACvCy7D,IAAY,MAAQA,IAAY,OAClCC,GAAgB17D,CAAC,CAErB,CAEA,SAAS20D,GAAK30D,EAAG,CACf,IAAIy7D,EAAUz7D,EAAE,MAAO,EAAC,QAAQ,YAAW,GACvCy7D,IAAY,MAAQA,IAAY,OAClCE,GAAS37D,CAAC,GAGRy7D,IAAY,MAAQA,IAAY,QAClCG,GAAO57D,CAAC,EACR07D,GAAgB17D,CAAC,EAErB,CAEA,SAAS07D,GAAgB17D,EAAG,CAC1Bhb,GAAE,QAAQgb,EAAE,MAAK,EAAI,SAASxK,EAAG,CAAEqmE,GAAmB77D,EAAE,KAAKxK,CAAC,CAAC,CAAI,CAAA,EACnExQ,GAAE,QAAQgb,EAAE,MAAK,EAAI,SAAShI,EAAG,CAAE6jE,GAAmB77D,EAAE,KAAKhI,CAAC,CAAC,CAAI,CAAA,CACrE,CAEA,SAAS6jE,GAAmBxlE,EAAO,CACjC,IAAIgK,EAAIhK,EAAM,MACdA,EAAM,MAAQA,EAAM,OACpBA,EAAM,OAASgK,CACjB,CAEA,SAASs7D,GAAS37D,EAAG,CACnBhb,GAAE,QAAQgb,EAAE,MAAK,EAAI,SAASxK,EAAG,CAAEsmE,GAAY97D,EAAE,KAAKxK,CAAC,CAAC,CAAI,CAAA,EAE5DxQ,GAAE,QAAQgb,EAAE,MAAO,EAAE,SAAShI,EAAG,CAC/B,IAAIkoB,EAAOlgB,EAAE,KAAKhI,CAAC,EACnBhT,GAAE,QAAQk7B,EAAK,OAAQ47C,EAAW,EAC9B92E,GAAE,IAAIk7B,EAAM,GAAG,GACjB47C,GAAY57C,CAAI,CAEtB,CAAG,CACH,CAEA,SAAS47C,GAAYzlE,EAAO,CAC1BA,EAAM,EAAI,CAACA,EAAM,CACnB,CAEA,SAASulE,GAAO57D,EAAG,CACjBhb,GAAE,QAAQgb,EAAE,MAAK,EAAI,SAASxK,EAAG,CAAEumE,GAAU/7D,EAAE,KAAKxK,CAAC,CAAC,CAAI,CAAA,EAE1DxQ,GAAE,QAAQgb,EAAE,MAAO,EAAE,SAAShI,EAAG,CAC/B,IAAIkoB,EAAOlgB,EAAE,KAAKhI,CAAC,EACnBhT,GAAE,QAAQk7B,EAAK,OAAQ67C,EAAS,EAC5B/2E,GAAE,IAAIk7B,EAAM,GAAG,GACjB67C,GAAU77C,CAAI,CAEpB,CAAG,CACH,CAEA,SAAS67C,GAAU1lE,EAAO,CACxB,IAAI8M,EAAI9M,EAAM,EACdA,EAAM,EAAIA,EAAM,EAChBA,EAAM,EAAI8M,CACZ,CCrEA,IAAIne,GAAI2J,GAERqtE,GAAiBC,GAajB,SAASA,GAAUj8D,EAAG,CACpB,IAAIwmD,EAAU,CAAA,EACV0V,EAAcl3E,GAAE,OAAOgb,EAAE,MAAK,EAAI,SAASxK,EAAG,CAChD,MAAO,CAACwK,EAAE,SAASxK,CAAC,EAAE,MAC1B,CAAG,EACGigE,EAAUzwE,GAAE,IAAIA,GAAE,IAAIk3E,EAAa,SAAS1mE,EAAG,CAAE,OAAOwK,EAAE,KAAKxK,CAAC,EAAE,IAAO,CAAA,CAAC,EAC1E4gE,EAASpxE,GAAE,IAAIA,GAAE,MAAMywE,EAAU,CAAC,EAAG,UAAW,CAAE,MAAO,CAAE,CAAG,CAAA,EAElE,SAAS9O,EAAInxD,EAAG,CACd,GAAIxQ,CAAAA,GAAE,IAAIwhE,EAAShxD,CAAC,EACpB,CAAAgxD,EAAQhxD,CAAC,EAAI,GACb,IAAIhc,EAAOwmB,EAAE,KAAKxK,CAAC,EACnB4gE,EAAO58E,EAAK,IAAI,EAAE,KAAKgc,CAAC,EACxBxQ,GAAE,QAAQgb,EAAE,WAAWxK,CAAC,EAAGmxD,CAAG,EAC/B,CAED,IAAIwV,EAAYn3E,GAAE,OAAOk3E,EAAa,SAAS1mE,EAAG,CAAE,OAAOwK,EAAE,KAAKxK,CAAC,EAAE,IAAO,CAAA,EAC5ExQ,OAAAA,GAAE,QAAQm3E,EAAWxV,CAAG,EAEjByP,CACT,CCnCA,IAAIpxE,GAAI2J,GAERytE,GAAiBC,GAkBjB,SAASA,GAAWr8D,EAAGk2D,EAAU,CAE/B,QADI53D,EAAK,EACA9rB,EAAI,EAAGA,EAAI0jF,EAAS,OAAQ,EAAE1jF,EACrC8rB,GAAMg+D,GAAmBt8D,EAAGk2D,EAAS1jF,EAAE,CAAC,EAAG0jF,EAAS1jF,CAAC,CAAC,EAExD,OAAO8rB,CACT,CAEA,SAASg+D,GAAmBt8D,EAAGu8D,EAAYC,EAAY,CAcrD,QAVIC,EAAWz3E,GAAE,UAAUw3E,EACzBx3E,GAAE,IAAIw3E,EAAY,SAAUhnE,EAAGhjB,EAAG,CAAE,OAAOA,CAAI,CAAA,CAAC,EAC9CkqF,EAAe13E,GAAE,QAAQA,GAAE,IAAIu3E,EAAY,SAAS/mE,EAAG,CACzD,OAAOxQ,GAAE,OAAOA,GAAE,IAAIgb,EAAE,SAASxK,CAAC,EAAG,SAASwC,EAAG,CAC/C,MAAO,CAAE,IAAKykE,EAASzkE,EAAE,CAAC,EAAG,OAAQgI,EAAE,KAAKhI,CAAC,EAAE,MAAM,CAC3D,CAAK,EAAG,KAAK,CACb,CAAG,EAAG,EAAI,EAGJ2kE,EAAa,EACVA,EAAaH,EAAW,QAAQG,IAAe,EACtD,IAAIC,EAAW,EAAID,EAAa,EAChCA,GAAc,EACd,IAAInuB,EAAOxpD,GAAE,IAAI,IAAI,MAAM43E,CAAQ,EAAG,UAAW,CAAE,MAAO,EAAE,CAAE,EAG1Dt+D,EAAK,EACTtZ,OAAAA,GAAE,QAAQ03E,EAAa,QAAQ,SAAS7uB,EAAO,CAC7C,IAAIl2D,EAAQk2D,EAAM,IAAM8uB,EACxBnuB,EAAK72D,CAAK,GAAKk2D,EAAM,OAErB,QADIgvB,EAAY,EACTllF,EAAQ,GACTA,EAAQ,IACVklF,GAAaruB,EAAK72D,EAAQ,CAAC,GAE7BA,EAASA,EAAQ,GAAM,EACvB62D,EAAK72D,CAAK,GAAKk2D,EAAM,OAEvBvvC,GAAMuvC,EAAM,OAASgvB,CACtB,CAAA,CAAC,EAEKv+D,CACT,CClEA,IAAItZ,GAAI2J,GAERmuE,GAAiBC,GAEjB,SAASA,GAAW/8D,EAAGg9D,EAAS,CAC9B,OAAOh4E,GAAE,IAAIg4E,EAAS,SAASxnE,EAAG,CAChC,IAAIiwD,EAAMzlD,EAAE,QAAQxK,CAAC,EACrB,GAAKiwD,EAAI,OAEF,CACL,IAAIx3B,EAASjpC,GAAE,OAAOygE,EAAK,SAASnqE,EAAK0c,EAAG,CAC1C,IAAIkoB,EAAOlgB,EAAE,KAAKhI,CAAC,EACjBilE,EAAQj9D,EAAE,KAAKhI,EAAE,CAAC,EACpB,MAAO,CACL,IAAK1c,EAAI,IAAO4kC,EAAK,OAAS+8C,EAAM,MACpC,OAAQ3hF,EAAI,OAAS4kC,EAAK,MACpC,CACO,EAAE,CAAE,IAAK,EAAG,OAAQ,CAAG,CAAA,EAExB,MAAO,CACL,EAAG1qB,EACH,WAAYy4B,EAAO,IAAMA,EAAO,OAChC,OAAQA,EAAO,MACvB,MAfM,OAAO,CAAE,EAAGz4B,EAiBlB,CAAG,CACH,CCxBA,IAAIxQ,GAAI2J,GAERuuE,GAAiBC,GA2BjB,SAASA,GAAiBxvB,EAASyvB,EAAI,CACrC,IAAIC,EAAgB,CAAA,EACpBr4E,GAAE,QAAQ2oD,EAAS,SAASE,EAAO,EAAG,CACpC,IAAIpvC,EAAM4+D,EAAcxvB,EAAM,CAAC,EAAI,CACjC,SAAU,EACV,GAAM,CAAE,EACR,IAAK,CAAE,EACP,GAAI,CAACA,EAAM,CAAC,EACZ,CACN,EACS7oD,GAAE,YAAY6oD,EAAM,UAAU,IACjCpvC,EAAI,WAAaovC,EAAM,WACvBpvC,EAAI,OAASovC,EAAM,OAEzB,CAAG,EAED7oD,GAAE,QAAQo4E,EAAG,MAAO,EAAE,SAASplE,EAAG,CAChC,IAAIslE,EAASD,EAAcrlE,EAAE,CAAC,EAC1BulE,EAASF,EAAcrlE,EAAE,CAAC,EAC1B,CAAChT,GAAE,YAAYs4E,CAAM,GAAK,CAACt4E,GAAE,YAAYu4E,CAAM,IACjDA,EAAO,WACPD,EAAO,IAAI,KAAKD,EAAcrlE,EAAE,CAAC,CAAC,EAExC,CAAG,EAED,IAAIwlE,EAAYx4E,GAAE,OAAOq4E,EAAe,SAASxvB,EAAO,CACtD,MAAO,CAACA,EAAM,QAClB,CAAG,EAED,OAAO4vB,GAAmBD,CAAS,CACrC,CAEA,SAASC,GAAmBD,EAAW,CACrC,IAAI7vB,EAAU,CAAA,EAEd,SAAS+vB,EAAShW,EAAQ,CACxB,OAAO,SAASyM,EAAQ,CAClBA,EAAO,SAGPnvE,GAAE,YAAYmvE,EAAO,UAAU,GAC/BnvE,GAAE,YAAY0iE,EAAO,UAAU,GAC/ByM,EAAO,YAAczM,EAAO,aAC9BiW,GAAajW,EAAQyM,CAAM,CAEnC,CACG,CAED,SAASyJ,EAAUlW,EAAQ,CACzB,OAAO,SAASE,EAAQ,CACtBA,EAAO,GAAM,KAAKF,CAAM,EACpB,EAAEE,EAAO,WAAa,GACxB4V,EAAU,KAAK5V,CAAM,CAE7B,CACG,CAED,KAAO4V,EAAU,QAAQ,CACvB,IAAI3vB,EAAQ2vB,EAAU,MACtB7vB,EAAQ,KAAKE,CAAK,EAClB7oD,GAAE,QAAQ6oD,EAAM,GAAM,UAAW6vB,EAAS7vB,CAAK,CAAC,EAChD7oD,GAAE,QAAQ6oD,EAAM,IAAK+vB,EAAU/vB,CAAK,CAAC,EAGvC,OAAO7oD,GAAE,IAAIA,GAAE,OAAO2oD,EAAS,SAASE,EAAO,CAAE,MAAO,CAACA,EAAM,MAAO,CAAE,EACtE,SAASA,EAAO,CACd,OAAO7oD,GAAE,KAAK6oD,EAAO,CAAC,KAAM,IAAK,aAAc,QAAQ,CAAC,CAC9D,CAAK,CAEL,CAEA,SAAS8vB,GAAa7wD,EAAQxc,EAAQ,CACpC,IAAIutE,EAAM,EACNhW,EAAS,EAET/6C,EAAO,SACT+wD,GAAO/wD,EAAO,WAAaA,EAAO,OAClC+6C,GAAU/6C,EAAO,QAGfxc,EAAO,SACTutE,GAAOvtE,EAAO,WAAaA,EAAO,OAClCu3D,GAAUv3D,EAAO,QAGnBwc,EAAO,GAAKxc,EAAO,GAAG,OAAOwc,EAAO,EAAE,EACtCA,EAAO,WAAa+wD,EAAMhW,EAC1B/6C,EAAO,OAAS+6C,EAChB/6C,EAAO,EAAI,KAAK,IAAIxc,EAAO,EAAGwc,EAAO,CAAC,EACtCxc,EAAO,OAAS,EAClB,CCzHA,IAAItL,GAAI2J,GACJe,GAAOX,GAEX+uE,GAAiBC,GAEjB,SAASA,GAAKpwB,EAASqwB,EAAW,CAChC,IAAIC,EAAQvuE,GAAK,UAAUi+C,EAAS,SAASE,EAAO,CAClD,OAAO7oD,GAAE,IAAI6oD,EAAO,YAAY,CACpC,CAAG,EACGqwB,EAAWD,EAAM,IACnBE,EAAan5E,GAAE,OAAOi5E,EAAM,IAAK,SAASpwB,EAAO,CAAE,MAAO,CAACA,EAAM,CAAE,CAAE,EACrE4W,EAAK,CAAE,EACPoZ,EAAM,EACNhW,EAAS,EACTuW,EAAU,EAEZF,EAAS,KAAKG,GAAgB,CAAC,CAACL,CAAS,CAAC,EAE1CI,EAAUE,GAAkB7Z,EAAI0Z,EAAYC,CAAO,EAEnDp5E,GAAE,QAAQk5E,EAAU,SAAUrwB,EAAO,CACnCuwB,GAAWvwB,EAAM,GAAG,OACpB4W,EAAG,KAAK5W,EAAM,EAAE,EAChBgwB,GAAOhwB,EAAM,WAAaA,EAAM,OAChCga,GAAUha,EAAM,OAChBuwB,EAAUE,GAAkB7Z,EAAI0Z,EAAYC,CAAO,CACvD,CAAG,EAED,IAAInwC,EAAS,CAAE,GAAIjpC,GAAE,QAAQy/D,EAAI,EAAI,GACrC,OAAIoD,IACF55B,EAAO,WAAa4vC,EAAMhW,EAC1B55B,EAAO,OAAS45B,GAEX55B,CACT,CAEA,SAASqwC,GAAkB7Z,EAAI0Z,EAAYxmF,EAAO,CAEhD,QADI00E,EACG8R,EAAW,SAAW9R,EAAOrnE,GAAE,KAAKm5E,CAAU,GAAG,GAAKxmF,GAC3DwmF,EAAW,IAAG,EACd1Z,EAAG,KAAK4H,EAAK,EAAE,EACf10E,IAEF,OAAOA,CACT,CAEA,SAAS0mF,GAAgBE,EAAM,CAC7B,OAAO,SAASjB,EAAQC,EAAQ,CAC9B,OAAID,EAAO,WAAaC,EAAO,WACtB,GACED,EAAO,WAAaC,EAAO,WAC7B,EAGDgB,EAA6BhB,EAAO,EAAID,EAAO,EAAxCA,EAAO,EAAIC,EAAO,CACrC,CACA,CCxDA,IAAIv4E,GAAI2J,GACJouE,GAAahuE,GACbouE,GAAmBluE,GACnB8uE,GAAOhoE,GAEXyoE,GAAiBC,GAEjB,SAASA,GAAaz+D,EAAGxK,EAAG4nE,EAAIY,EAAW,CACzC,IAAIhB,EAAUh9D,EAAE,SAASxK,CAAC,EACtBhc,EAAOwmB,EAAE,KAAKxK,CAAC,EACfkpE,EAAKllF,EAAOA,EAAK,WAAa,OAC9BmlF,EAAKnlF,EAAOA,EAAK,YAAa,OAC9BolF,EAAY,CAAA,EAEZF,IACF1B,EAAUh4E,GAAE,OAAOg4E,EAAS,SAAS38D,EAAG,CACtC,OAAOA,IAAMq+D,GAAMr+D,IAAMs+D,CAC/B,CAAK,GAGH,IAAIE,EAAc9B,GAAW/8D,EAAGg9D,CAAO,EACvCh4E,GAAE,QAAQ65E,EAAa,SAAShxB,EAAO,CACrC,GAAI7tC,EAAE,SAAS6tC,EAAM,CAAC,EAAE,OAAQ,CAC9B,IAAIixB,EAAiBL,GAAaz+D,EAAG6tC,EAAM,EAAGuvB,EAAIY,CAAS,EAC3DY,EAAU/wB,EAAM,CAAC,EAAIixB,EACjB95E,GAAE,IAAI85E,EAAgB,YAAY,GACpCC,GAAiBlxB,EAAOixB,CAAc,EAG9C,CAAG,EAED,IAAInxB,EAAUwvB,GAAiB0B,EAAazB,CAAE,EAC9C4B,GAAgBrxB,EAASixB,CAAS,EAElC,IAAI3wC,EAAS8vC,GAAKpwB,EAASqwB,CAAS,EAEpC,GAAIU,IACFzwC,EAAO,GAAKjpC,GAAE,QAAQ,CAAC05E,EAAIzwC,EAAO,GAAI0wC,CAAE,EAAG,EAAI,EAC3C3+D,EAAE,aAAa0+D,CAAE,EAAE,QAAQ,CAC7B,IAAIO,EAASj/D,EAAE,KAAKA,EAAE,aAAa0+D,CAAE,EAAE,CAAC,CAAC,EACvCQ,EAASl/D,EAAE,KAAKA,EAAE,aAAa2+D,CAAE,EAAE,CAAC,CAAC,EAClC35E,GAAE,IAAIipC,EAAQ,YAAY,IAC7BA,EAAO,WAAa,EACpBA,EAAO,OAAS,GAElBA,EAAO,YAAcA,EAAO,WAAaA,EAAO,OAC3BgxC,EAAO,MAAQC,EAAO,QAAUjxC,EAAO,OAAS,GACrEA,EAAO,QAAU,EAIrB,OAAOA,CACT,CAEA,SAAS+wC,GAAgBrxB,EAASixB,EAAW,CAC3C55E,GAAE,QAAQ2oD,EAAS,SAASE,EAAO,CACjCA,EAAM,GAAK7oD,GAAE,QAAQ6oD,EAAM,GAAG,IAAI,SAASr4C,EAAG,CAC5C,OAAIopE,EAAUppE,CAAC,EACNopE,EAAUppE,CAAC,EAAE,GAEfA,CACb,CAAK,EAAG,EAAI,CACZ,CAAG,CACH,CAEA,SAASupE,GAAiBjyD,EAAQvyB,EAAO,CAClCyK,GAAE,YAAY8nB,EAAO,UAAU,GAMlCA,EAAO,WAAavyB,EAAM,WAC1BuyB,EAAO,OAASvyB,EAAM,SANtBuyB,EAAO,YAAcA,EAAO,WAAaA,EAAO,OAC3BvyB,EAAM,WAAaA,EAAM,SACzBuyB,EAAO,OAASvyB,EAAM,QAC3CuyB,EAAO,QAAUvyB,EAAM,OAK3B,CC3EA,IAAIyK,GAAI2J,GACJy1D,GAAQr1D,GAAuB,MAEnCowE,GAAiBC,GAgCjB,SAASA,GAAgBp/D,EAAGm2D,EAAMkJ,EAAc,CAC9C,IAAI1zD,EAAO2zD,GAAet/D,CAAC,EACzBiuB,EAAS,IAAIm2B,GAAM,CAAE,SAAU,GAAM,EAAE,SAAS,CAAE,KAAMz4C,EAAM,EAC3D,oBAAoB,SAASnW,EAAG,CAAE,OAAOwK,EAAE,KAAKxK,CAAC,CAAE,CAAE,EAE1DxQ,OAAAA,GAAE,QAAQgb,EAAE,MAAO,EAAE,SAASxK,EAAG,CAC/B,IAAIhc,EAAOwmB,EAAE,KAAKxK,CAAC,EACjB+O,EAASvE,EAAE,OAAOxK,CAAC,GAEjBhc,EAAK,OAAS28E,GAAQ38E,EAAK,SAAW28E,GAAQA,GAAQ38E,EAAK,WAC7Dy0C,EAAO,QAAQz4B,CAAC,EAChBy4B,EAAO,UAAUz4B,EAAG+O,GAAUoH,CAAI,EAGlC3mB,GAAE,QAAQgb,EAAEq/D,CAAY,EAAE7pE,CAAC,EAAG,SAASwC,EAAG,CACxC,IAAI,EAAIA,EAAE,IAAMxC,EAAIwC,EAAE,EAAIA,EAAE,EAC1BkoB,EAAO+N,EAAO,KAAK,EAAGz4B,CAAC,EACvBqyD,EAAU7iE,GAAE,YAAYk7B,CAAI,EAAkB,EAAdA,EAAK,OACvC+N,EAAO,QAAQ,EAAGz4B,EAAG,CAAE,OAAQwK,EAAE,KAAKhI,CAAC,EAAE,OAAS6vD,CAAQ,CAAA,CAClE,CAAO,EAEG7iE,GAAE,IAAIxL,EAAM,SAAS,GACvBy0C,EAAO,QAAQz4B,EAAG,CAChB,WAAYhc,EAAK,WAAW28E,CAAI,EAChC,YAAa38E,EAAK,YAAY28E,CAAI,CAC5C,CAAS,EAGT,CAAG,EAEMloC,CACT,CAEA,SAASqxC,GAAet/D,EAAG,CAEzB,QADIxK,EACGwK,EAAE,QAASxK,EAAIxQ,GAAE,SAAS,OAAO,CAAC,GAAG,CAC5C,OAAOwQ,CACT,CCxEA,IAAIxQ,GAAI2J,GAER4wE,GAAiBC,GAEjB,SAASA,GAAuBx/D,EAAGo9D,EAAI3Y,EAAI,CACzC,IAAIxsE,EAAO,CAAE,EACXwnF,EAEFz6E,GAAE,QAAQy/D,EAAI,SAASjvD,EAAG,CAIxB,QAHIiP,EAAQzE,EAAE,OAAOxK,CAAC,EACpB+O,EACAm7D,EACKj7D,GAAO,CASZ,GARAF,EAASvE,EAAE,OAAOyE,CAAK,EACnBF,GACFm7D,EAAYznF,EAAKssB,CAAM,EACvBtsB,EAAKssB,CAAM,EAAIE,IAEfi7D,EAAYD,EACZA,EAAWh7D,GAETi7D,GAAaA,IAAcj7D,EAAO,CACpC24D,EAAG,QAAQsC,EAAWj7D,CAAK,EAC3B,OAEFA,EAAQF,EAEd,CAAG,CAyBH,CClDA,IAAIvf,GAAI2J,GACJstE,GAAYltE,GACZstE,GAAaptE,GACbwvE,GAAe1oE,GACfqpE,GAAkBriB,GAClByiB,GAAyBviB,GACzBmH,GAAQjH,GAAuB,MAC/BztD,GAAO2tD,GAEXsiB,GAAiBpW,GAiBjB,SAASA,GAAMvpD,EAAG,CAChB,IAAIy1D,EAAU/lE,GAAK,QAAQsQ,CAAC,EAC1B4/D,EAAkBC,GAAiB7/D,EAAGhb,GAAE,MAAM,EAAGywE,EAAU,CAAC,EAAG,SAAS,EACxEqK,EAAgBD,GAAiB7/D,EAAGhb,GAAE,MAAMywE,EAAU,EAAG,GAAI,EAAE,EAAG,UAAU,EAE1ES,EAAW+F,GAAUj8D,CAAC,EAC1B+/D,GAAY//D,EAAGk2D,CAAQ,EAKvB,QAHI8J,EAAS,OAAO,kBAClBC,EAEOztF,EAAI,EAAG0tF,EAAW,EAAGA,EAAW,EAAG,EAAE1tF,EAAG,EAAE0tF,EAAU,CAC3DC,GAAiB3tF,EAAI,EAAIotF,EAAkBE,EAAettF,EAAI,GAAK,CAAC,EAEpE0jF,EAAWxmE,GAAK,iBAAiBsQ,CAAC,EAClC,IAAI1B,EAAK+9D,GAAWr8D,EAAGk2D,CAAQ,EAC3B53D,EAAK0hE,IACPE,EAAW,EACXD,EAAOj7E,GAAE,UAAUkxE,CAAQ,EAC3B8J,EAAS1hE,GAIbyhE,GAAY//D,EAAGigE,CAAI,CACrB,CAEA,SAASJ,GAAiB7/D,EAAGogE,EAAOf,EAAc,CAChD,OAAOr6E,GAAE,IAAIo7E,EAAO,SAASjK,EAAM,CACjC,OAAOiJ,GAAgBp/D,EAAGm2D,EAAMkJ,CAAY,CAChD,CAAG,CACH,CAEA,SAASc,GAAiBE,EAAarC,EAAW,CAChD,IAAIZ,EAAK,IAAIhZ,GACbp/D,GAAE,QAAQq7E,EAAa,SAASC,EAAI,CAClC,IAAI30D,EAAO20D,EAAG,MAAK,EAAG,KAClBC,EAAS9B,GAAa6B,EAAI30D,EAAMyxD,EAAIY,CAAS,EACjDh5E,GAAE,QAAQu7E,EAAO,GAAI,SAAS/qE,EAAGhjB,EAAG,CAClC8tF,EAAG,KAAK9qE,CAAC,EAAE,MAAQhjB,CACzB,CAAK,EACDgtF,GAAuBc,EAAIlD,EAAImD,EAAO,EAAE,CAC5C,CAAG,CACH,CAEA,SAASR,GAAY//D,EAAGk2D,EAAU,CAChClxE,GAAE,QAAQkxE,EAAU,SAASsK,EAAO,CAClCx7E,GAAE,QAAQw7E,EAAO,SAAShrE,EAAGhjB,EAAG,CAC9BwtB,EAAE,KAAKxK,CAAC,EAAE,MAAQhjB,CACxB,CAAK,CACL,CAAG,CACH,CC5EA,IAAIwS,GAAI2J,GACJy1D,GAAQr1D,GAAuB,MAC/BW,GAAOT,GAOXwxE,GAAiB,CACf,UAAWC,GACX,mBAAoBC,GACpB,mBAAoBC,GACpB,YAAaC,GACb,YAAaC,GACb,kBAAmBC,GACnB,qBAAsBC,GACtB,iBAAkBC,GAClB,2BAA4BC,GAC5B,QAASC,EACX,EAmBA,SAASR,GAAmB3gE,EAAGk2D,EAAU,CACvC,IAAIkL,EAAY,CAAA,EAEhB,SAASC,EAAWC,EAAWd,EAAO,CACpC,IAGE3hD,EAAK,EAGL0iD,EAAU,EACVC,EAAkBF,EAAU,OAC5BG,EAAWz8E,GAAE,KAAKw7E,CAAK,EAEzBx7E,OAAAA,GAAE,QAAQw7E,EAAO,SAAShrE,EAAGhjB,EAAG,CAC9B,IAAI6tB,EAAIqhE,GAA0B1hE,EAAGxK,CAAC,EACpCspB,EAAKze,EAAIL,EAAE,KAAKK,CAAC,EAAE,MAAQmhE,GAEzBnhE,GAAK7K,IAAMisE,KACbz8E,GAAE,QAAQw7E,EAAM,MAAMe,EAAS/uF,EAAG,CAAC,EAAG,SAASmvF,EAAU,CACvD38E,GAAE,QAAQgb,EAAE,aAAa2hE,CAAQ,EAAG,SAASzhE,EAAG,CAC9C,IAAI0hE,EAAS5hE,EAAE,KAAKE,CAAC,EACnB2hE,EAAOD,EAAO,OACXC,EAAOhjD,GAAMC,EAAK+iD,IACnB,EAAED,EAAO,OAAS5hE,EAAE,KAAK2hE,CAAQ,EAAE,QACrCd,GAAYO,EAAWlhE,EAAGyhE,CAAQ,CAEhD,CAAW,CACX,CAAS,EACDJ,EAAU/uF,EAAI,EACdqsC,EAAKC,EAEb,CAAK,EAEM0hD,CACR,CAEDx7E,OAAAA,GAAE,OAAOkxE,EAAUmL,CAAU,EACtBD,CACT,CAEA,SAASR,GAAmB5gE,EAAGk2D,EAAU,CACvC,IAAIkL,EAAY,CAAA,EAEhB,SAASU,EAAKC,EAAOtF,EAAUuF,EAAUC,EAAiBC,EAAiB,CACzE,IAAI1sE,EACJxQ,GAAE,QAAQA,GAAE,MAAMy3E,EAAUuF,CAAQ,EAAG,SAASxvF,EAAG,CACjDgjB,EAAIusE,EAAMvvF,CAAC,EACPwtB,EAAE,KAAKxK,CAAC,EAAE,OACZxQ,GAAE,QAAQgb,EAAE,aAAaxK,CAAC,EAAG,SAAS0K,EAAG,CACvC,IAAIiiE,EAAQniE,EAAE,KAAKE,CAAC,EAChBiiE,EAAM,QACLA,EAAM,MAAQF,GAAmBE,EAAM,MAAQD,IAClDrB,GAAYO,EAAWlhE,EAAG1K,CAAC,CAEvC,CAAS,CAET,CAAK,CACF,CAGD,SAAS6rE,EAAWe,EAAOL,EAAO,CAChC,IAAIM,EAAe,GACjBC,EACA7F,EAAW,EAEbz3E,OAAAA,GAAE,QAAQ+8E,EAAO,SAASvsE,EAAG+sE,EAAgB,CAC3C,GAAIviE,EAAE,KAAKxK,CAAC,EAAE,QAAU,SAAU,CAChC,IAAIgtE,EAAexiE,EAAE,aAAaxK,CAAC,EAC/BgtE,EAAa,SACfF,EAAetiE,EAAE,KAAKwiE,EAAa,CAAC,CAAC,EAAE,MACvCV,EAAKC,EAAOtF,EAAU8F,EAAgBF,EAAcC,CAAY,EAChE7F,EAAW8F,EACXF,EAAeC,GAGnBR,EAAKC,EAAOtF,EAAUsF,EAAM,OAAQO,EAAcF,EAAM,MAAM,CACpE,CAAK,EAEML,CACR,CAED/8E,OAAAA,GAAE,OAAOkxE,EAAUmL,CAAU,EACtBD,CACT,CAEA,SAASM,GAA0B1hE,EAAGxK,EAAG,CACvC,GAAIwK,EAAE,KAAKxK,CAAC,EAAE,MACZ,OAAOxQ,GAAE,KAAKgb,EAAE,aAAaxK,CAAC,EAAG,SAAS0K,EAAG,CAC3C,OAAOF,EAAE,KAAKE,CAAC,EAAE,KACvB,CAAK,CAEL,CAEA,SAAS2gE,GAAYO,EAAW5rE,EAAG6K,EAAG,CACpC,GAAI7K,EAAI6K,EAAG,CACT,IAAI5B,EAAMjJ,EACVA,EAAI6K,EACJA,EAAI5B,EAGN,IAAIgkE,EAAarB,EAAU5rE,CAAC,EACvBitE,IACHrB,EAAU5rE,CAAC,EAAIitE,EAAa,IAE9BA,EAAWpiE,CAAC,EAAI,EAClB,CAEA,SAASygE,GAAYM,EAAW5rE,EAAG6K,EAAG,CACpC,GAAI7K,EAAI6K,EAAG,CACT,IAAI5B,EAAMjJ,EACVA,EAAI6K,EACJA,EAAI5B,EAEN,OAAOzZ,GAAE,IAAIo8E,EAAU5rE,CAAC,EAAG6K,CAAC,CAC9B,CAUA,SAAS0gE,GAAkB/gE,EAAGk2D,EAAUkL,EAAWsB,EAAY,CAC7D,IAAI/2D,EAAO,CAAE,EACX5U,EAAQ,CAAE,EACV9C,EAAM,CAAA,EAKRjP,OAAAA,GAAE,QAAQkxE,EAAU,SAASsK,EAAO,CAClCx7E,GAAE,QAAQw7E,EAAO,SAAShrE,EAAG+zD,EAAO,CAClC59C,EAAKnW,CAAC,EAAIA,EACVuB,EAAMvB,CAAC,EAAIA,EACXvB,EAAIuB,CAAC,EAAI+zD,CACf,CAAK,CACL,CAAG,EAEDvkE,GAAE,QAAQkxE,EAAU,SAASsK,EAAO,CAClC,IAAImC,EAAU,GACd39E,GAAE,QAAQw7E,EAAO,SAAShrE,EAAG,CAC3B,IAAIotE,EAAKF,EAAWltE,CAAC,EACrB,GAAIotE,EAAG,OAAQ,CACbA,EAAK59E,GAAE,OAAO49E,EAAI,SAASviE,EAAG,CAAE,OAAOpM,EAAIoM,CAAC,CAAE,CAAE,EAEhD,QADIwiE,GAAMD,EAAG,OAAS,GAAK,EAClBpwF,EAAI,KAAK,MAAMqwF,CAAE,EAAGC,EAAK,KAAK,KAAKD,CAAE,EAAGrwF,GAAKswF,EAAI,EAAEtwF,EAAG,CAC7D,IAAI6tB,EAAIuiE,EAAGpwF,CAAC,EACRukB,EAAMvB,CAAC,IAAMA,GACbmtE,EAAU1uE,EAAIoM,CAAC,GACf,CAACygE,GAAYM,EAAW5rE,EAAG6K,CAAC,IAC9BtJ,EAAMsJ,CAAC,EAAI7K,EACXuB,EAAMvB,CAAC,EAAImW,EAAKnW,CAAC,EAAImW,EAAKtL,CAAC,EAC3BsiE,EAAU1uE,EAAIoM,CAAC,IAI3B,CAAK,CACL,CAAG,EAEM,CAAE,KAAMsL,EAAM,MAAO5U,CAAK,CACnC,CAEA,SAASiqE,GAAqBhhE,EAAGk2D,EAAUvqD,EAAM5U,EAAOgsE,EAAY,CAMlE,IAAIC,EAAK,CAAE,EACTC,EAASC,GAAgBljE,EAAGk2D,EAAUvqD,EAAMo3D,CAAU,EACtDI,EAAaJ,EAAa,aAAe,cAE3C,SAASK,EAAQC,EAAWC,EAAe,CAIzC,QAHIlb,EAAQ6a,EAAO,QACfM,EAAOnb,EAAM,MACb5B,EAAU,CAAA,EACP+c,GACD/c,EAAQ+c,CAAI,EACdF,EAAUE,CAAI,GAEd/c,EAAQ+c,CAAI,EAAI,GAChBnb,EAAM,KAAKmb,CAAI,EACfnb,EAAQA,EAAM,OAAOkb,EAAcC,CAAI,CAAC,GAG1CA,EAAOnb,EAAM,KAEhB,CAGD,SAASob,EAAMD,EAAM,CACnBP,EAAGO,CAAI,EAAIN,EAAO,QAAQM,CAAI,EAAE,OAAO,SAASjoF,EAAK0c,EAAG,CACtD,OAAO,KAAK,IAAI1c,EAAK0nF,EAAGhrE,EAAE,CAAC,EAAIirE,EAAO,KAAKjrE,CAAC,CAAC,CAC9C,EAAE,CAAC,CACL,CAGD,SAASyrE,EAAMF,EAAM,CACnB,IAAIjyD,EAAM2xD,EAAO,SAASM,CAAI,EAAE,OAAO,SAASjoF,EAAK0c,EAAG,CACtD,OAAO,KAAK,IAAI1c,EAAK0nF,EAAGhrE,EAAE,CAAC,EAAIirE,EAAO,KAAKjrE,CAAC,CAAC,CACnD,EAAO,OAAO,iBAAiB,EAEvBxe,EAAOwmB,EAAE,KAAKujE,CAAI,EAClBjyD,IAAQ,OAAO,mBAAqB93B,EAAK,aAAe2pF,IAC1DH,EAAGO,CAAI,EAAI,KAAK,IAAIP,EAAGO,CAAI,EAAGjyD,CAAG,EAEpC,CAED,OAAA8xD,EAAQI,EAAOP,EAAO,aAAa,KAAKA,CAAM,CAAC,EAC/CG,EAAQK,EAAOR,EAAO,WAAW,KAAKA,CAAM,CAAC,EAG7Cj+E,GAAE,QAAQ+R,EAAO,SAASvB,EAAG,CAC3BwtE,EAAGxtE,CAAC,EAAIwtE,EAAGr3D,EAAKnW,CAAC,CAAC,CACtB,CAAG,EAEMwtE,CACT,CAGA,SAASE,GAAgBljE,EAAGk2D,EAAUvqD,EAAMo3D,EAAY,CACtD,IAAIW,EAAa,IAAItf,GACnB6W,EAAaj7D,EAAE,MAAO,EACtB2jE,EAAQC,GAAI3I,EAAW,QAASA,EAAW,QAAS8H,CAAU,EAEhE/9E,OAAAA,GAAE,QAAQkxE,EAAU,SAASsK,EAAO,CAClC,IAAItgE,EACJlb,GAAE,QAAQw7E,EAAO,SAAShrE,EAAG,CAC3B,IAAIquE,EAAQl4D,EAAKnW,CAAC,EAElB,GADAkuE,EAAW,QAAQG,CAAK,EACpB3jE,EAAG,CACL,IAAI4jE,EAAQn4D,EAAKzL,CAAC,EAChB6jE,EAAUL,EAAW,KAAKI,EAAOD,CAAK,EACxCH,EAAW,QAAQI,EAAOD,EAAO,KAAK,IAAIF,EAAM3jE,EAAGxK,EAAG0K,CAAC,EAAG6jE,GAAW,CAAC,CAAC,EAEzE7jE,EAAI1K,CACV,CAAK,CACL,CAAG,EAEMkuE,CACT,CAKA,SAASxC,GAA2BlhE,EAAGzO,EAAK,CAC1C,OAAOvM,GAAE,MAAMA,GAAE,OAAOuM,CAAG,EAAG,SAAUyxE,EAAI,CAC1C,IAAI9xF,EAAM,OAAO,kBACbogC,EAAM,OAAO,kBAEjBtsB,OAAAA,GAAE,MAAMg+E,EAAI,SAAU7/D,EAAG3N,EAAG,CAC1B,IAAIwuE,EAAYt8E,GAAMsY,EAAGxK,CAAC,EAAI,EAE9BtkB,EAAM,KAAK,IAAIiyB,EAAI6gE,EAAW9yF,CAAG,EACjCogC,EAAM,KAAK,IAAInO,EAAI6gE,EAAW1yD,CAAG,CACvC,CAAK,EAEMpgC,EAAMogC,CACjB,CAAG,CACH,CASA,SAAS2vD,GAAiB1vE,EAAK0yE,EAAS,CACtC,IAAIC,EAAcl/E,GAAE,OAAOi/E,CAAO,EAChCE,EAAan/E,GAAE,IAAIk/E,CAAW,EAC9BE,EAAap/E,GAAE,IAAIk/E,CAAW,EAEhCl/E,GAAE,QAAQ,CAAC,IAAK,GAAG,EAAG,SAASq/E,EAAM,CACnCr/E,GAAE,QAAQ,CAAC,IAAK,GAAG,EAAG,SAASs/E,EAAO,CACpC,IAAIC,EAAYF,EAAOC,EACrBtB,EAAKzxE,EAAIgzE,CAAS,EAClB3wB,EACF,GAAIovB,IAAOiB,EAEX,KAAIO,EAASx/E,GAAE,OAAOg+E,CAAE,EACxBpvB,EAAQ0wB,IAAU,IAAMH,EAAan/E,GAAE,IAAIw/E,CAAM,EAAIJ,EAAap/E,GAAE,IAAIw/E,CAAM,EAE1E5wB,IACFriD,EAAIgzE,CAAS,EAAIv/E,GAAE,UAAUg+E,EAAI,SAAS7/D,EAAG,CAAE,OAAOA,EAAIywC,CAAQ,CAAA,GAE1E,CAAK,CACL,CAAG,CACH,CAEA,SAASutB,GAAQ5vE,EAAKwF,EAAO,CAC3B,OAAO/R,GAAE,UAAUuM,EAAI,GAAI,SAASkzE,EAAQjvE,EAAG,CAC7C,GAAIuB,EACF,OAAOxF,EAAIwF,EAAM,YAAW,CAAE,EAAEvB,CAAC,EAEjC,IAAIwtE,EAAKh+E,GAAE,OAAOA,GAAE,IAAIuM,EAAKiE,CAAC,CAAC,EAC/B,OAAQwtE,EAAG,CAAC,EAAIA,EAAG,CAAC,GAAK,CAE/B,CAAG,CACH,CAEA,SAAStC,GAAU1gE,EAAG,CACpB,IAAIk2D,EAAWxmE,GAAK,iBAAiBsQ,CAAC,EAClCohE,EAAYp8E,GAAE,MAChB27E,GAAmB3gE,EAAGk2D,CAAQ,EAC9B0K,GAAmB5gE,EAAGk2D,CAAQ,CAAC,EAE7B3kE,EAAM,CAAA,EACNmzE,EACJ1/E,GAAE,QAAQ,CAAC,IAAK,GAAG,EAAG,SAASq/E,EAAM,CACnCK,EAAmBL,IAAS,IAAMnO,EAAWlxE,GAAE,OAAOkxE,CAAQ,EAAE,UAChElxE,GAAE,QAAQ,CAAC,IAAK,GAAG,EAAG,SAASs/E,EAAO,CAChCA,IAAU,MACZI,EAAmB1/E,GAAE,IAAI0/E,EAAkB,SAASC,EAAO,CACzD,OAAO3/E,GAAE,OAAO2/E,CAAK,EAAE,QAAO,CACxC,CAAS,GAGH,IAAIjC,GAAc2B,IAAS,IAAMrkE,EAAE,aAAeA,EAAE,YAAY,KAAKA,CAAC,EAClEjJ,EAAQgqE,GAAkB/gE,EAAG0kE,EAAkBtD,EAAWsB,CAAU,EACpEM,EAAKhC,GAAqBhhE,EAAG0kE,EAC/B3tE,EAAM,KAAMA,EAAM,MAAOutE,IAAU,GAAG,EACpCA,IAAU,MACZtB,EAAKh+E,GAAE,UAAUg+E,EAAI,SAAS7/D,EAAG,CAAE,MAAO,CAACA,CAAE,CAAE,GAEjD5R,EAAI8yE,EAAOC,CAAK,EAAItB,CAC1B,CAAK,CACL,CAAG,EAED,IAAI4B,EAAgB1D,GAA2BlhE,EAAGzO,CAAG,EACrD,OAAA0vE,GAAiB1vE,EAAKqzE,CAAa,EAC5BzD,GAAQ5vE,EAAKyO,EAAE,MAAO,EAAC,KAAK,CACrC,CAEA,SAAS4jE,GAAInJ,EAASoK,EAAS9B,EAAY,CACzC,OAAO,SAAS/iE,EAAGxK,EAAG6K,EAAG,CACvB,IAAIu4D,EAAS54D,EAAE,KAAKxK,CAAC,EACjBqjE,EAAS74D,EAAE,KAAKK,CAAC,EACjBw9D,EAAM,EACNjqB,EAGJ,GADAiqB,GAAOjF,EAAO,MAAQ,EAClB5zE,GAAE,IAAI4zE,EAAQ,UAAU,EAC1B,OAAQA,EAAO,SAAS,YAAa,EAAA,CACrC,IAAK,IAAKhlB,EAAQ,CAACglB,EAAO,MAAQ,EAAG,MACrC,IAAK,IAAKhlB,EAAQglB,EAAO,MAAQ,EAAG,KACnC,CAWH,GATIhlB,IACFiqB,GAAOkF,EAAanvB,EAAQ,CAACA,GAE/BA,EAAQ,EAERiqB,IAAQjF,EAAO,MAAQiM,EAAUpK,GAAW,EAC5CoD,IAAQhF,EAAO,MAAQgM,EAAUpK,GAAW,EAE5CoD,GAAOhF,EAAO,MAAQ,EAClB7zE,GAAE,IAAI6zE,EAAQ,UAAU,EAC1B,OAAQA,EAAO,SAAS,YAAa,EAAA,CACrC,IAAK,IAAKjlB,EAAQilB,EAAO,MAAQ,EAAG,MACpC,IAAK,IAAKjlB,EAAQ,CAACilB,EAAO,MAAQ,EAAG,KACpC,CAEH,OAAIjlB,IACFiqB,GAAOkF,EAAanvB,EAAQ,CAACA,GAE/BA,EAAQ,EAEDiqB,CACX,CACA,CAEA,SAASn2E,GAAMsY,EAAGxK,EAAG,CACnB,OAAOwK,EAAE,KAAKxK,CAAC,EAAE,KACnB,CChaA,IAAIxQ,GAAI2J,GACJe,GAAOX,GACP2xE,GAAYzxE,GAAgB,UAEhC61E,GAAiB7zE,GAEjB,SAASA,GAAS+O,EAAG,CACnBA,EAAItQ,GAAK,mBAAmBsQ,CAAC,EAE7B+kE,GAAU/kE,CAAC,EACXhb,GAAE,QAAQ07E,GAAU1gE,CAAC,EAAG,SAASmD,EAAG3N,EAAG,CACrCwK,EAAE,KAAKxK,CAAC,EAAE,EAAI2N,CAClB,CAAG,CACH,CAEA,SAAS4hE,GAAU/kE,EAAG,CACpB,IAAIk2D,EAAWxmE,GAAK,iBAAiBsQ,CAAC,EAClCglE,EAAUhlE,EAAE,MAAK,EAAG,QACpBilE,EAAQ,EACZjgF,GAAE,QAAQkxE,EAAU,SAASsK,EAAO,CAClC,IAAI0E,EAAYlgF,GAAE,IAAIA,GAAE,IAAIw7E,EAAO,SAAShrE,EAAG,CAAE,OAAOwK,EAAE,KAAKxK,CAAC,EAAE,MAAS,CAAA,CAAC,EAC5ExQ,GAAE,QAAQw7E,EAAO,SAAShrE,EAAG,CAC3BwK,EAAE,KAAKxK,CAAC,EAAE,EAAIyvE,EAAQC,EAAY,CACxC,CAAK,EACDD,GAASC,EAAYF,CACzB,CAAG,CACH,CC1BA,IAAIhgF,GAAI2J,GACJ8lE,GAAU1lE,GACVunE,GAAYrnE,GACZknE,GAAOpgE,GACPu/D,GAAiBvY,GAAkB,eACnC4c,GAAoB1c,GACpBsY,GAAmBxY,GAAkB,iBACrCsd,GAAeld,GACfge,GAAoB9d,GACpBke,GAAmB1a,GACnB0I,GAAQzI,GACR7vD,GAAW2yD,GACXl0D,GAAOqtD,GACPqH,GAAQP,GAAsB,MAElCshB,GAAiBC,GAEjB,SAASA,GAAOplE,EAAG5O,EAAM,CACvB,IAAI8lB,EAAO9lB,GAAQA,EAAK,YAAc1B,GAAK,KAAOA,GAAK,OACvDwnB,EAAK,SAAU,UAAW,CACxB,IAAImuD,EACFnuD,EAAK,qBAAsB,UAAW,CAAE,OAAOouD,GAAiBtlE,CAAC,CAAE,CAAE,EACvEkX,EAAK,cAAsB,UAAW,CAAEquD,GAAUF,EAAanuD,CAAI,CAAE,CAAE,EACvEA,EAAK,qBAAsB,UAAW,CAAEsuD,GAAiBxlE,EAAGqlE,CAAW,CAAE,CAAE,CAC/E,CAAG,CACH,CAEA,SAASE,GAAUvlE,EAAGkX,EAAM,CAC1BA,EAAK,6BAA8B,UAAW,CAAEuuD,GAAuBzlE,CAAC,CAAE,CAAE,EAC5EkX,EAAK,sBAA8B,UAAW,CAAEwuD,GAAgB1lE,CAAC,CAAE,CAAE,EACrEkX,EAAK,cAA8B,UAAW,CAAEu9C,GAAQ,IAAIz0D,CAAC,CAAE,CAAE,EACjEkX,EAAK,uBAA8B,UAAW,CAAEmjD,GAAa,IAAIr6D,CAAC,CAAE,CAAE,EACtEkX,EAAK,WAA8B,UAAW,CAAEi/C,GAAKzmE,GAAK,mBAAmBsQ,CAAC,CAAC,CAAE,CAAE,EACnFkX,EAAK,6BAA8B,UAAW,CAAEyuD,GAAuB3lE,CAAC,CAAE,CAAE,EAC5EkX,EAAK,uBAA8B,UAAW,CAAEq+C,GAAiBv1D,CAAC,CAAE,CAAE,EACtEkX,EAAK,2BAA8B,UAAW,CAAEmjD,GAAa,QAAQr6D,CAAC,CAAE,CAAE,EAC1EkX,EAAK,qBAA8B,UAAW,CAAEo+C,GAAet1D,CAAC,CAAE,CAAE,EACpEkX,EAAK,uBAA8B,UAAW,CAAE0uD,GAAiB5lE,CAAC,CAAE,CAAE,EACtEkX,EAAK,6BAA8B,UAAW,CAAE2uD,GAAuB7lE,CAAC,CAAE,CAAE,EAC5EkX,EAAK,oBAA8B,UAAW,CAAEo/C,GAAU,IAAIt2D,CAAC,CAAE,CAAE,EACnEkX,EAAK,wBAA8B,UAAW,CAAEyiD,GAAkB35D,CAAC,CAAE,CAAE,EACvEkX,EAAK,wBAA8B,UAAW,CAAEikD,GAAkBn7D,CAAC,CAAE,CAAE,EACvEkX,EAAK,YAA8B,UAAW,CAAEqyC,GAAMvpD,CAAC,CAAE,CAAE,EAC3DkX,EAAK,sBAA8B,UAAW,CAAE4uD,GAAgB9lE,CAAC,CAAE,CAAE,EACrEkX,EAAK,6BAA8B,UAAW,CAAEqkD,GAAiB,OAAOv7D,CAAC,CAAE,CAAE,EAC7EkX,EAAK,eAA8B,UAAW,CAAEjmB,GAAS+O,CAAC,CAAE,CAAE,EAC9DkX,EAAK,wBAA8B,UAAW,CAAE6uD,GAAkB/lE,CAAC,CAAE,CAAE,EACvEkX,EAAK,wBAA8B,UAAW,CAAE8uD,GAAkBhmE,CAAC,CAAE,CAAE,EACvEkX,EAAK,qBAA8B,UAAW,CAAEo/C,GAAU,KAAKt2D,CAAC,CAAE,CAAE,EACpEkX,EAAK,2BAA8B,UAAW,CAAE+uD,GAAqBjmE,CAAC,CAAE,CAAE,EAC1EkX,EAAK,2BAA8B,UAAW,CAAEqkD,GAAiB,KAAKv7D,CAAC,CAAE,CAAE,EAC3EkX,EAAK,qBAA8B,UAAW,CAAEgvD,GAAelmE,CAAC,CAAE,CAAE,EACpEkX,EAAK,2BAA8B,UAAW,CAAEivD,GAAqBnmE,CAAC,CAAE,CAAE,EAC1EkX,EAAK,oBAA8B,UAAW,CAAEkvD,GAA8BpmE,CAAC,CAAE,CAAE,EACnFkX,EAAK,mBAA8B,UAAW,CAAEu9C,GAAQ,KAAKz0D,CAAC,CAAE,CAAE,CACpE,CAQA,SAASwlE,GAAiBa,EAAYhB,EAAa,CACjDrgF,GAAE,QAAQqhF,EAAW,MAAO,EAAE,SAAS7wE,EAAG,CACxC,IAAI8wE,EAAaD,EAAW,KAAK7wE,CAAC,EAC9B+wE,EAAclB,EAAY,KAAK7vE,CAAC,EAEhC8wE,IACFA,EAAW,EAAIC,EAAY,EAC3BD,EAAW,EAAIC,EAAY,EAEvBlB,EAAY,SAAS7vE,CAAC,EAAE,SAC1B8wE,EAAW,MAAQC,EAAY,MAC/BD,EAAW,OAASC,EAAY,QAGxC,CAAG,EAEDvhF,GAAE,QAAQqhF,EAAW,MAAO,EAAE,SAASruE,EAAG,CACxC,IAAIsuE,EAAaD,EAAW,KAAKruE,CAAC,EAC9BuuE,EAAclB,EAAY,KAAKrtE,CAAC,EAEpCsuE,EAAW,OAASC,EAAY,OAC5BvhF,GAAE,IAAIuhF,EAAa,GAAG,IACxBD,EAAW,EAAIC,EAAY,EAC3BD,EAAW,EAAIC,EAAY,EAEjC,CAAG,EAEDF,EAAW,MAAK,EAAG,MAAQhB,EAAY,MAAO,EAAC,MAC/CgB,EAAW,MAAK,EAAG,OAAShB,EAAY,MAAO,EAAC,MAClD,CAEA,IAAImB,GAAgB,CAAC,UAAW,UAAW,UAAW,UAAW,SAAS,EACtEC,GAAgB,CAAE,QAAS,GAAI,QAAS,GAAI,QAAS,GAAI,QAAS,MAClEC,GAAa,CAAC,YAAa,SAAU,UAAW,OAAO,EACvDC,GAAe,CAAC,QAAS,QAAQ,EACjCC,GAAe,CAAE,MAAO,EAAG,OAAQ,CAAC,EACpCC,GAAe,CAAC,SAAU,SAAU,QAAS,SAAU,aAAa,EACpEC,GAAe,CACjB,OAAQ,EAAG,OAAQ,EAAG,MAAO,EAAG,OAAQ,EACxC,YAAa,GAAI,SAAU,GAC7B,EACIC,GAAY,CAAC,UAAU,EAQ3B,SAASzB,GAAiBe,EAAY,CACpC,IAAIrmE,EAAI,IAAIokD,GAAM,CAAE,WAAY,GAAM,SAAU,EAAI,CAAE,EAClDD,EAAQ6iB,GAAaX,EAAW,MAAO,CAAA,EAE3C,OAAArmE,EAAE,SAAShb,GAAE,MAAM,CAAE,EACnByhF,GACAQ,GAAkB9iB,EAAOqiB,EAAa,EACtCxhF,GAAE,KAAKm/D,EAAOuiB,EAAU,CAAC,CAAC,EAE5B1hF,GAAE,QAAQqhF,EAAW,MAAO,EAAE,SAAS7wE,EAAG,CACxC,IAAIhc,EAAOwtF,GAAaX,EAAW,KAAK7wE,CAAC,CAAC,EAC1CwK,EAAE,QAAQxK,EAAGxQ,GAAE,SAASiiF,GAAkBztF,EAAMmtF,EAAY,EAAGC,EAAY,CAAC,EAC5E5mE,EAAE,UAAUxK,EAAG6wE,EAAW,OAAO7wE,CAAC,CAAC,CACvC,CAAG,EAEDxQ,GAAE,QAAQqhF,EAAW,MAAO,EAAE,SAASruE,EAAG,CACxC,IAAIkoB,EAAO8mD,GAAaX,EAAW,KAAKruE,CAAC,CAAC,EAC1CgI,EAAE,QAAQhI,EAAGhT,GAAE,MAAM,CAAE,EACrB8hF,GACAG,GAAkB/mD,EAAM2mD,EAAY,EACpC7hF,GAAE,KAAKk7B,EAAM6mD,EAAS,CAAC,CAAC,CAC9B,CAAG,EAEM/mE,CACT,CAUA,SAASylE,GAAuBzlE,EAAG,CACjC,IAAImkD,EAAQnkD,EAAE,QACdmkD,EAAM,SAAW,EACjBn/D,GAAE,QAAQgb,EAAE,MAAO,EAAE,SAAShI,EAAG,CAC/B,IAAIkoB,EAAOlgB,EAAE,KAAKhI,CAAC,EACnBkoB,EAAK,QAAU,EACXA,EAAK,SAAS,YAAW,IAAO,MAC9BikC,EAAM,UAAY,MAAQA,EAAM,UAAY,KAC9CjkC,EAAK,OAASA,EAAK,YAEnBA,EAAK,QAAUA,EAAK,YAG5B,CAAG,CACH,CAQA,SAASylD,GAAuB3lE,EAAG,CACjChb,GAAE,QAAQgb,EAAE,MAAO,EAAE,SAAShI,EAAG,CAC/B,IAAIkoB,EAAOlgB,EAAE,KAAKhI,CAAC,EACnB,GAAIkoB,EAAK,OAASA,EAAK,OAAQ,CAC7B,IAAI1qB,EAAIwK,EAAE,KAAKhI,EAAE,CAAC,EACdqI,EAAIL,EAAE,KAAKhI,EAAE,CAAC,EACdipB,EAAQ,CAAE,MAAO5gB,EAAE,KAAO7K,EAAE,MAAQ,EAAIA,EAAE,KAAM,EAAGwC,CAAC,EACxDtI,GAAK,aAAasQ,EAAG,aAAcihB,EAAO,KAAK,EAErD,CAAG,CACH,CAEA,SAAS2kD,GAAiB5lE,EAAG,CAC3B,IAAIy1D,EAAU,EACdzwE,GAAE,QAAQgb,EAAE,MAAO,EAAE,SAASxK,EAAG,CAC/B,IAAIhc,EAAOwmB,EAAE,KAAKxK,CAAC,EACfhc,EAAK,YACPA,EAAK,QAAUwmB,EAAE,KAAKxmB,EAAK,SAAS,EAAE,KACtCA,EAAK,QAAUwmB,EAAE,KAAKxmB,EAAK,YAAY,EAAE,KACzCi8E,EAAUzwE,GAAE,IAAIywE,EAASj8E,EAAK,OAAO,EAE3C,CAAG,EACDwmB,EAAE,MAAK,EAAG,QAAUy1D,CACtB,CAEA,SAASoQ,GAAuB7lE,EAAG,CACjChb,GAAE,QAAQgb,EAAE,MAAO,EAAE,SAASxK,EAAG,CAC/B,IAAIhc,EAAOwmB,EAAE,KAAKxK,CAAC,EACfhc,EAAK,QAAU,eACjBwmB,EAAE,KAAKxmB,EAAK,CAAC,EAAE,UAAYA,EAAK,KAChCwmB,EAAE,WAAWxK,CAAC,EAEpB,CAAG,CACH,CAEA,SAAS0wE,GAAelmE,EAAG,CACzB,IAAIknE,EAAO,OAAO,kBACdC,EAAO,EACPC,EAAO,OAAO,kBACdC,EAAO,EACPpM,EAAaj7D,EAAE,QACfsnE,EAAUrM,EAAW,SAAW,EAChCsM,EAAUtM,EAAW,SAAW,EAEpC,SAASuM,EAAYnxE,EAAO,CAC1B,IAAI8M,EAAI9M,EAAM,EACV4W,EAAI5W,EAAM,EACVgK,EAAIhK,EAAM,MACV,EAAIA,EAAM,OACd6wE,EAAO,KAAK,IAAIA,EAAM/jE,EAAI9C,EAAI,CAAC,EAC/B8mE,EAAO,KAAK,IAAIA,EAAMhkE,EAAI9C,EAAI,CAAC,EAC/B+mE,EAAO,KAAK,IAAIA,EAAMn6D,EAAI,EAAI,CAAC,EAC/Bo6D,EAAO,KAAK,IAAIA,EAAMp6D,EAAI,EAAI,CAAC,CAChC,CAEDjoB,GAAE,QAAQgb,EAAE,MAAK,EAAI,SAASxK,EAAG,CAAEgyE,EAAYxnE,EAAE,KAAKxK,CAAC,CAAC,CAAI,CAAA,EAC5DxQ,GAAE,QAAQgb,EAAE,MAAO,EAAE,SAAShI,EAAG,CAC/B,IAAIkoB,EAAOlgB,EAAE,KAAKhI,CAAC,EACfhT,GAAE,IAAIk7B,EAAM,GAAG,GACjBsnD,EAAYtnD,CAAI,CAEtB,CAAG,EAEDgnD,GAAQI,EACRF,GAAQG,EAERviF,GAAE,QAAQgb,EAAE,MAAO,EAAE,SAASxK,EAAG,CAC/B,IAAIhc,EAAOwmB,EAAE,KAAKxK,CAAC,EACnBhc,EAAK,GAAK0tF,EACV1tF,EAAK,GAAK4tF,CACd,CAAG,EAEDpiF,GAAE,QAAQgb,EAAE,MAAO,EAAE,SAAShI,EAAG,CAC/B,IAAIkoB,EAAOlgB,EAAE,KAAKhI,CAAC,EACnBhT,GAAE,QAAQk7B,EAAK,OAAQ,SAAStgB,EAAG,CACjCA,EAAE,GAAKsnE,EACPtnE,EAAE,GAAKwnE,CACb,CAAK,EACGpiF,GAAE,IAAIk7B,EAAM,GAAG,IAAKA,EAAK,GAAKgnD,GAC9BliF,GAAE,IAAIk7B,EAAM,GAAG,IAAKA,EAAK,GAAKknD,EACtC,CAAG,EAEDnM,EAAW,MAAQkM,EAAOD,EAAOI,EACjCrM,EAAW,OAASoM,EAAOD,EAAOG,CACpC,CAEA,SAASpB,GAAqBnmE,EAAG,CAC/Bhb,GAAE,QAAQgb,EAAE,MAAO,EAAE,SAAShI,EAAG,CAC/B,IAAIkoB,EAAOlgB,EAAE,KAAKhI,CAAC,EACfyvE,EAAQznE,EAAE,KAAKhI,EAAE,CAAC,EAClB0vE,EAAQ1nE,EAAE,KAAKhI,EAAE,CAAC,EAClBgd,EAAI2yD,EACHznD,EAAK,QAKRlL,EAAKkL,EAAK,OAAO,CAAC,EAClBynD,EAAKznD,EAAK,OAAOA,EAAK,OAAO,OAAS,CAAC,IALvCA,EAAK,OAAS,GACdlL,EAAK0yD,EACLC,EAAKF,GAKPvnD,EAAK,OAAO,QAAQxwB,GAAK,cAAc+3E,EAAOzyD,CAAE,CAAC,EACjDkL,EAAK,OAAO,KAAKxwB,GAAK,cAAcg4E,EAAOC,CAAE,CAAC,CAClD,CAAG,CACH,CAEA,SAAS1B,GAAqBjmE,EAAG,CAC/Bhb,GAAE,QAAQgb,EAAE,MAAO,EAAE,SAAShI,EAAG,CAC/B,IAAIkoB,EAAOlgB,EAAE,KAAKhI,CAAC,EACnB,GAAIhT,GAAE,IAAIk7B,EAAM,GAAG,EAIjB,QAHIA,EAAK,WAAa,KAAOA,EAAK,WAAa,OAC7CA,EAAK,OAASA,EAAK,aAEbA,EAAK,SAAQ,CACrB,IAAK,IAAKA,EAAK,GAAKA,EAAK,MAAQ,EAAIA,EAAK,YAAa,MACvD,IAAK,IAAKA,EAAK,GAAKA,EAAK,MAAQ,EAAIA,EAAK,YAAa,KACtD,CAEP,CAAG,CACH,CAEA,SAASkmD,GAA8BpmE,EAAG,CACxChb,GAAE,QAAQgb,EAAE,MAAO,EAAE,SAAShI,EAAG,CAC/B,IAAIkoB,EAAOlgB,EAAE,KAAKhI,CAAC,EACfkoB,EAAK,UACPA,EAAK,OAAO,SAElB,CAAG,CACH,CAEA,SAAS8lD,GAAkBhmE,EAAG,CAC5Bhb,GAAE,QAAQgb,EAAE,MAAO,EAAE,SAASxK,EAAG,CAC/B,GAAIwK,EAAE,SAASxK,CAAC,EAAE,OAAQ,CACxB,IAAIhc,EAAOwmB,EAAE,KAAKxK,CAAC,EACfvQ,EAAI+a,EAAE,KAAKxmB,EAAK,SAAS,EACzB+O,EAAIyX,EAAE,KAAKxmB,EAAK,YAAY,EAC5BimB,EAAIO,EAAE,KAAKhb,GAAE,KAAKxL,EAAK,UAAU,CAAC,EAClCymB,EAAID,EAAE,KAAKhb,GAAE,KAAKxL,EAAK,WAAW,CAAC,EAEvCA,EAAK,MAAQ,KAAK,IAAIymB,EAAE,EAAIR,EAAE,CAAC,EAC/BjmB,EAAK,OAAS,KAAK,IAAI+O,EAAE,EAAItD,EAAE,CAAC,EAChCzL,EAAK,EAAIimB,EAAE,EAAIjmB,EAAK,MAAQ,EAC5BA,EAAK,EAAIyL,EAAE,EAAIzL,EAAK,OAAS,EAEnC,CAAG,EAEDwL,GAAE,QAAQgb,EAAE,MAAO,EAAE,SAASxK,EAAG,CAC3BwK,EAAE,KAAKxK,CAAC,EAAE,QAAU,UACtBwK,EAAE,WAAWxK,CAAC,CAEpB,CAAG,CACH,CAEA,SAASkwE,GAAgB1lE,EAAG,CAC1Bhb,GAAE,QAAQgb,EAAE,MAAO,EAAE,SAAShI,EAAG,CAC/B,GAAIA,EAAE,IAAMA,EAAE,EAAG,CACf,IAAIxe,EAAOwmB,EAAE,KAAKhI,EAAE,CAAC,EAChBxe,EAAK,YACRA,EAAK,UAAY,IAEnBA,EAAK,UAAU,KAAK,CAAE,EAAGwe,EAAG,MAAOgI,EAAE,KAAKhI,CAAC,CAAG,CAAA,EAC9CgI,EAAE,WAAWhI,CAAC,EAEpB,CAAG,CACH,CAEA,SAAS8tE,GAAgB9lE,EAAG,CAC1B,IAAIo2D,EAAS1mE,GAAK,iBAAiBsQ,CAAC,EACpChb,GAAE,QAAQoxE,EAAQ,SAASoK,EAAO,CAChC,IAAIoH,EAAa,EACjB5iF,GAAE,QAAQw7E,EAAO,SAAShrE,EAAG,EAAG,CAC9B,IAAIhc,EAAOwmB,EAAE,KAAKxK,CAAC,EACnBhc,EAAK,MAAQ,EAAIouF,EACjB5iF,GAAE,QAAQxL,EAAK,UAAW,SAASquF,EAAU,CAC3Cn4E,GAAK,aAAasQ,EAAG,WAAY,CAC/B,MAAO6nE,EAAS,MAAM,MACtB,OAAQA,EAAS,MAAM,OACvB,KAAMruF,EAAK,KACX,MAAO,GAAK,EAAEouF,EACd,EAAGC,EAAS,EACZ,MAAOA,EAAS,KACjB,EAAE,KAAK,CAChB,CAAO,EACD,OAAOruF,EAAK,SAClB,CAAK,CACL,CAAG,CACH,CAEA,SAASusF,GAAkB/lE,EAAG,CAC5Bhb,GAAE,QAAQgb,EAAE,MAAO,EAAE,SAASxK,EAAG,CAC/B,IAAIhc,EAAOwmB,EAAE,KAAKxK,CAAC,EACnB,GAAIhc,EAAK,QAAU,WAAY,CAC7B,IAAIsuF,EAAW9nE,EAAE,KAAKxmB,EAAK,EAAE,CAAC,EAC1B2pB,EAAI2kE,EAAS,EAAIA,EAAS,MAAQ,EAClC76D,EAAI66D,EAAS,EACb56D,EAAK1zB,EAAK,EAAI2pB,EACdgK,EAAK26D,EAAS,OAAS,EAC3B9nE,EAAE,QAAQxmB,EAAK,EAAGA,EAAK,KAAK,EAC5BwmB,EAAE,WAAWxK,CAAC,EACdhc,EAAK,MAAM,OAAS,CAClB,CAAE,EAAG2pB,EAAI,EAAI+J,EAAK,EAAG,EAAGD,EAAIE,CAAI,EAChC,CAAE,EAAGhK,EAAI,EAAI+J,EAAK,EAAG,EAAGD,EAAIE,CAAI,EAChC,CAAE,EAAGhK,EAAQ+J,EAAQ,EAAGD,CAAG,EAC3B,CAAE,EAAG9J,EAAI,EAAI+J,EAAK,EAAG,EAAGD,EAAIE,CAAI,EAChC,CAAE,EAAGhK,EAAI,EAAI+J,EAAK,EAAG,EAAGD,EAAIE,CAAI,CACxC,EACM3zB,EAAK,MAAM,EAAIA,EAAK,EACpBA,EAAK,MAAM,EAAIA,EAAK,EAE1B,CAAG,CACH,CAEA,SAASytF,GAAkBr2E,EAAKyF,EAAO,CACrC,OAAOrR,GAAE,UAAUA,GAAE,KAAK4L,EAAKyF,CAAK,EAAG,MAAM,CAC/C,CAEA,SAAS2wE,GAAa3wE,EAAO,CAC3B,IAAI0xE,EAAW,CAAA,EACf/iF,OAAAA,GAAE,QAAQqR,EAAO,SAASb,EAAGkJ,EAAG,CAC9BqpE,EAASrpE,EAAE,YAAa,CAAA,EAAIlJ,CAChC,CAAG,EACMuyE,CACT,CCvYA,IAAI/iF,GAAI2J,GACJe,GAAOX,GACPq1D,GAAQn1D,GAAsB,MAElC+4E,GAAiB,CACf,cAAeC,EACjB,EAGA,SAASA,GAAcjoE,EAAG,CACxB,IAAIkoE,EAAcx4E,GAAK,iBAAiBsQ,CAAC,EAErCT,EAAI,IAAI6kD,GAAM,CAAE,SAAU,GAAM,WAAY,EAAM,CAAA,EAAE,SAAS,CAAE,CAAA,EAEnE,OAAAp/D,GAAE,QAAQgb,EAAE,MAAO,EAAE,SAASxK,EAAG,CAC/B+J,EAAE,QAAQ/J,EAAG,CAAE,MAAOA,CAAG,CAAA,EACzB+J,EAAE,UAAU/J,EAAG,QAAUwK,EAAE,KAAKxK,CAAC,EAAE,IAAI,CAC3C,CAAG,EAEDxQ,GAAE,QAAQgb,EAAE,MAAO,EAAE,SAAShI,EAAG,CAC/BuH,EAAE,QAAQvH,EAAE,EAAGA,EAAE,EAAG,CAAE,EAAEA,EAAE,IAAI,CAClC,CAAG,EAEDhT,GAAE,QAAQkjF,EAAa,SAAS1H,EAAOhuF,EAAG,CACxC,IAAI21F,EAAS,QAAU31F,EACvB+sB,EAAE,QAAQ4oE,EAAQ,CAAE,KAAM,MAAQ,CAAA,EAClCnjF,GAAE,OAAOw7E,EAAO,SAAStgE,EAAG1K,EAAG,CAC7B,OAAA+J,EAAE,QAAQW,EAAG1K,EAAG,CAAE,MAAO,OAAO,CAAE,EAC3BA,CACb,CAAK,CACL,CAAG,EAEM+J,CACT,CCjCA,IAAAjH,GAAiB,QCsBjB8vE,GAAiB,CACf,SAAUz5E,GAEV,OAAQI,GACR,MAAOE,GACP,KAAM,CACJ,KAAM8G,GAAsB,KAC5B,OAAQA,GAAsB,MAC/B,EACD,QAASgnD,EACX,kBC5BasrB,GAAqB,IAG5BvuE,EAAAC,GAAA,CAAA,SAAA,CAAAzC,EAAC8/C,GAAW,CAAA,QAAQ,aAAa,UAAU,cAAc,SAEzD,YAAA,EAEA9/C,EAACgxE,GAAA,CACC,UAAU,MACV,aAAa;AAAA,sDAEb,QAAQ,0DAAA,CACV,CACF,CAAA,CAAA,ECVGC,GAAAzqE,GAAA,CACL,MAAAm6C,EAAAn6C,EAAA,oBAAA,IAAAA,EAAA,sBAAA,GAGAo6C,EAAA,GAAAp6C,EAAA,WAAAm6C,IACA,OAAA3pD,EAAA,QAAO,IAAAwL,EAAAC,GAAA,CAAA,SAAA,CAGDzC,EAAA,MAAA,CAAA,SAAAA,EAAAwgD,GAAA,CAAA,KAAA,cAAA,CAAA,EAAA,EAEAxgD,EAAA,OAAA,CAAA,SAAA4gD,CAAA,CAAA,CAC2B,EAAA,EAC7B,CAAAA,CAAA,CAEkB,CAExB,saCPO,IAAAswB,IAAAC,IACLA,EAAA,OAAA,aACAA,EAAA,mBAAA,wBACAA,EAAA,SAAA,eACAA,EAAA,SAAA,eACAA,EAAA,OAAA,aACAA,EAAA,UAAA,gBANUA,IAAAD,IAAA,CAAA,CAAA,EA2BL,MAAAE,GAAA31F,GAAA,CACL,KAAA,CAAA,KAAAiZ,EAAA,KAAA8R,CAAA,EAAA/qB,EACA,IAAA41F,EACA,OAAA38E,EAAA,CAAc,IAAA,aAEV28E,EAAArxE,EAAA0gD,GAAA,CAAA,GAAAl6C,CAAA,CAAA,EACA,MAAA,IAAA,wBAEA6qE,EAAArxE,EAAAixE,GAAA,CAAA,GAAAzqE,CAAA,CAAA,EACA,MAAA,IAAA,eAEA6qE,EAAArxE,EAAAijD,GAAA,CAAA,GAAAz8C,CAAA,CAAA,EACA,MAAA,IAAA,eAEA6qE,EAAArxE,EAAAw/C,GAAA,CAAA,GAAAh5C,CAAA,CAAA,EACA,MAAA,IAAA,aAEA6qE,EAAArxE,EAAAwiD,GAAA,CAAA,GAAAh8C,CAAA,CAAA,EAGA,MAAA,IAAA,gBAEA6qE,EAAArxE,EAAA+wE,GAAA,CAAA,CAAA,EACA,MAAA,QAEAM,EAAA7uE,EAAA,IAAA,CAAA,SAAA,CAAe,2BAAA9N,CAAyB,CAAA,CAAA,EACxC,KAAA,CAEJ,MAAA48E,EAAA,CAAqC,MAAAD,EAC5B,MAAA7qE,EACA,KAAA9R,CACP,EAEF,MAAA,CAAO,GAAA68E,GAAA91F,CAAA,EACc,SAAA,CAAA,EAAA,IAAA,EAAA,GAAA,EACQ,KAAA61F,EACrB,YAAA,GACO,UAAA,GACF,UAAA,GAAA58E,GAEG,CAElB,EAEO88E,GAAA,CAAAC,EAAAC,IAAA,CAIL,MAAAC,EAAAJ,GAAAE,CAAA,EACAG,EAAAL,GAAAG,CAAA,EACA,MAAA,CAAO,GAAA,GAAAC,KAAAC,IACa,OAAAD,EACV,OAAAC,EACA,SAAA,GACE,KAAAjjD,GAAA,aACe,UAAA,CACd,KAAAC,GAAA,WACQ,CACnB,CAEJ,EAEO2iD,GAAA91F,GAAA,CACL,KAAA,CAAA,KAAAiZ,EAAA,KAAA8R,CAAA,EAAA/qB,EACA,OAAAiZ,EAAA,CAAc,IAAA,aAEV,MAAA,GAAA8R,EAAA,MAAAA,EAAA,eAAA,WAC0C,IAAA,wBAG1C,MAAA,GAAAA,EAAA,YAAAA,EAAA,qBAAA,WAC6C,IAAA,eAG7C,MAAA,GAAAA,EAAA,MAA4B,IAAA,eAE5B,MAAA,GAAAA,EAAA,KAA6B,IAAA,aAE7B,MAAA,eAAAA,EAAA,aAAA,MAAAA,EAAA,aAAA,eAAA,WAIE,IAAA,gBAGF,MAAA,wBAAAA,EAAA,MAAAA,EAAA,eAAA,UAC0C,CAGhD,EAGAqrE,GAAA,IAAAf,GAAA,SAAA,MACAe,GAAA,oBAAA,KAAA,CAAA,EAAA,EAEA,MAAAC,GAAA5vF,GACEA,EAAA,KACA,MAAA,aAAA,GAAA,IAEF6vF,GAAA7vF,GACEA,EAAA,KACA,MAAA,aAAA,GAAA,IAGK8vF,GAAA,CAAAv+C,EAAAf,EAAApyC,IAAA,CAKL,MAAA2xF,EAAA3xF,IAAA,KACA,OAAAuxF,GAAA,SAAA,CAAA,QAAAvxF,CAAA,CAAA,EAEAmzC,EAAA,QAAAvxC,GAAA,CACE2vF,GAAA,QAAA3vF,EAAA,GAAA,CAA4B,MAAA6vF,GAAA7vF,CAAA,EACF,OAAA4vF,GAAA5vF,CAAA,CACE,CAAA,CAC3B,CAAA,EAGHwwC,EAAA,QAAA9J,GAAA,CACEipD,GAAA,QAAAjpD,EAAA,OAAAA,EAAA,MAAA,CAA2C,CAAA,EAG7CkoD,GAAA,OAAAe,EAAA,EAEAp+C,EAAA,QAAAvxC,GAAA,CACE,MAAAgwF,EAAAL,GAAA,KAAA3vF,EAAA,EAAA,EACA,OAAAA,EAAA,eAAA+vF,EAAApjD,GAAA,KAAAA,GAAA,IACA3sC,EAAA,eAAA+vF,EAAApjD,GAAA,MAAAA,GAAA,OAIA3sC,EAAA,SAAA,CAAgB,EAAAgwF,EAAA,EAAAH,GAAA7vF,CAAA,EAAA,EAC+B,EAAAgwF,EAAA,EAAAJ,GAAA5vF,CAAA,EAAA,CACC,EAGhDA,CAAO,CAAA,EAGT,CAAA,MAAAuxC,EAAA,MAAAf,EACF,EAEOy/C,GAAA,CAAAtmE,EAAA8J,IACLy8D,GAAAvmE,EAAA8J,EAAA08D,EAAA,EAAA,QAAA,45BC7KW,MAAAC,GAAgB9nF,GAGvB,CACE,KAAA,CAAE,aAAA01D,EAAc,kBAAAqyB,CAAsB,EAAA/nF,EAO5C,OANkB+nF,GAAA,YAAAA,EAAmB,KAAeC,GAEhDtyB,EAAa,IAAMsyB,EAAO,IAC1BtyB,EAAa,eAAiBsyB,EAAO,kBAGpB,MACvB,EAKaC,GAAiB,CAC5BC,EACAC,IAEkBA,EAAU,KAAazwF,GAChCA,EAAK,KAAOqvF,GAAUmB,CAAS,CACvC,IACoB,OAGVE,GAAiB,CAC5B1yB,EACAyyB,IACG,CACH,MAAMD,EAAY,CAChB,KAAMxB,GAAS,OACf,KAAMhxB,CAAA,EAED,OAAAyyB,EAAU,KAAazwF,GACrBA,EAAK,KAAOqvF,GAAUmB,CAAS,CACvC,CACH,EAKaG,GAAiB,CAC5BC,EACAC,EACAC,IAEkBA,EAAU,KAAapqD,GAErCA,EAAK,SAAW2oD,GAAUuB,CAAU,GACpClqD,EAAK,SAAW2oD,GAAUwB,CAAU,CAEvC,IACoB,OAQVE,GAAkBzoF,GAKzB,CACJ,KAAM,CAAE,aAAA0oF,EAAc,kBAAAC,EAAmB,UAAAR,EAAW,UAAAK,GAAcxoF,EAC9DioF,GAAeS,EAAcP,CAAS,GAC9BA,EAAA,KAAKvB,GAAkB8B,CAAY,CAAC,EAE5CL,GAAeK,EAAcC,EAAmBH,CAAS,GAC3DA,EAAU,KAAKxB,GAAkB0B,EAAcC,CAAiB,CAAC,CAErE,EAEaC,GAAmB5oF,GAK1B,CACJ,KAAM,CAAE,SAAA6oF,EAAU,aAAAnzB,EAAc,UAAAyyB,EAAW,UAAAK,GAAcxoF,EACnD8oF,EAAoB,CACxB,KAAMpC,GAAS,SACf,KAAMmC,CAAA,EAEFE,EAAkB,CACtB,KAAMrC,GAAS,OACf,KAAMhxB,CAAA,EAEO+yB,GAAA,CACb,aAAcK,EACd,kBAAmBC,EACnB,UAAAZ,EACA,UAAAK,CAAA,CACD,CACH,EAEaQ,GAAiBhpF,GAKxB,CACJ,KAAM,CAAE,aAAA01D,EAAc,UAAAuC,EAAY,EAAG,UAAAkwB,EAAW,UAAAK,CAAc,EAAAxoF,EACxDipF,EAAkB,CACtB,KAAMvC,GAAS,OACf,KAAM,CACJ,UAAAzuB,EACA,aAAAvC,CACF,CAAA,EAEIqzB,EAAkB,CACtB,KAAMrC,GAAS,OACf,KAAMhxB,CAAA,EAEO+yB,GAAA,CACb,aAAcQ,EACd,kBAAmBF,EACnB,UAAAZ,EACA,UAAAK,CAAA,CACD,CACH,EAEaU,GAA4BlpF,GAKnC,CACJ,KAAM,CAAE,IAAAzR,EAAK,SAAAs6F,EAAU,UAAAV,EAAW,UAAAK,GAAcxoF,EAC1CmpF,EAA6B,CACjC,KAAMzC,GAAS,mBACf,KAAMn4F,CAAA,EAEFu6F,EAAoB,CACxB,KAAMpC,GAAS,SACf,KAAMmC,CAAA,EAEOJ,GAAA,CACb,aAAcU,EACd,kBAAmBL,EACnB,UAAAX,EACA,UAAAK,CAAA,CACD,CACH,EAEaY,GAAoBppF,GAI3B,CACJ,KAAM,CAAE,aAAA01D,EAAc,UAAAyyB,EAAW,UAAAK,CAAA,EAAcxoF,EACzCqpF,EAAqB,CACzB,KAAM3C,GAAS,UACf,KAAMhxB,CAAA,EAEFqzB,EAAkB,CACtB,KAAMrC,GAAS,OACf,KAAMhxB,CAAA,EAEO+yB,GAAA,CACb,aAAcY,EACd,kBAAmBN,EACnB,UAAAZ,EACA,UAAAK,CAAA,CACD,CACH,EAEac,GAAmBtpF,GAK1B,CACJ,KAAM,CAAE,QAAAupF,EAAS,SAAAV,EAAU,UAAAV,EAAW,UAAAK,GAAcxoF,EAC9C8oF,EAAoB,CACxB,KAAMpC,GAAS,SACf,KAAMmC,CAAA,EAEFW,EAAoB,CACxB,KAAM9C,GAAS,SACf,KAAM6C,CAAA,EAEOd,GAAA,CACb,aAAce,EACd,kBAAmBV,EACnB,UAAAX,EACA,UAAAK,CAAA,CACD,CACH,EAEaiB,GAAiBzpF,GAKxB,CACJ,KAAM,CAAE,aAAA01D,EAAc,SAAAmzB,EAAU,UAAAV,EAAW,UAAAK,GAAcxoF,EACnD+oF,EAAkB,CACtB,KAAMrC,GAAS,OACf,KAAMhxB,CAAA,EAEJ,GAAAuyB,GAAec,EAAiBZ,CAAS,IAEjCA,EAAA,KAAKvB,GAAkBmC,CAAe,CAAC,EAC7CF,GAAU,CACZ,MAAMC,EAAoB,CACxB,KAAMpC,GAAS,SACf,KAAMmC,CAAA,EAERL,EAAU,KAAKxB,GAAkB+B,EAAiBD,CAAiB,CAAC,EAG1E,EC/KA,MAAAY,GAAA,IACAC,GAAA,IASAC,GAAA34F,GAAA,CACE,KAAA,CAAM,WAAA44F,EACQ,gBAAAC,EAAA,QACM,aAAAC,EAAA,CAAA,EACF,aAAAC,EAAA,CAAA,EACA,uBAAAC,EAChB,uBAAAC,CACA,EAAAj5F,EAEF,CAAA,YAAA4kB,GAAAO,KACA,CAAA+zE,EAAAC,CAAA,EAAA/9E,GAAA,SAAA09E,CAAA,EACA,CAAAM,EAAAC,CAAA,EAAAj+E,GAAA,SAAA29E,CAAA,EACA,CAAA/gD,EAAAuK,EAAAhB,CAAA,EAAA2gB,GAAA,CAAA,CAAA,EACA,CAAAjrB,EAAA6H,EAAA0C,CAAA,EAAA2gB,GAAA,CAAA,CAAA,EACA,CAAAm3B,EAAAC,CAAA,EAAAjzE,EAAA,SAAA,EACAkzE,EAAAC,KAEA,CAAA,KAAAC,EAAA,UAAAC,CAAA,EAAAC,GAAmDhB,EACjD,CAAA,iBAAA,EAAA,CACyB,EAE3B,GAAAe,GAAAD,GAAAA,EAAA,sBAAA,EAAA,CAKE,MAAAG,EAAAjB,EAAA,IAAAt7F,GAAAA,EAAA,QAAA,EAAA,KAAA,GAAA,EACAk8F,EAAA,wDAAAK,GAC0D,EAG5D,MAAA/C,EAAA4C,GAAA,YAAAA,EAAA,QACA,CAAAI,EAAAC,CAAA,EAAA3+E,GAAA,SAAA,EAAA,EAIA4+E,EAAA/oC,KAEAgpC,EAAApwC,EAAAA,YAAA,CAAAqwC,EAAAzzF,IAAA,CACE8yF,EAAA9yF,CAAA,CAAmB,EAAA,CAAA,CAAA,EAWrB0zF,EAAAtwC,EAAA,YAAkB,MAAA96C,GAAA,OAOd,KAAA,CAAA,aAAA01D,EAAA,UAAAyyB,EAAA,UAAAK,EAAA,eAAA6C,CAAA,EAAArrF,EACAypF,GAAA,CAAc,aAAA/zB,EACZ,SAAA21B,EACU,UAAAlD,EACV,UAAAK,CACA,CAAA,EAGF,GAAA,CACE,MAAAK,EAAA,MAAAjyE,GAAA,qBAAqC8+C,EAAA,GACtBA,EAAA,cACA7/C,CACb,GAGF,CAAAiyE,GAAA,CAAA,aAAApyB,EAAA,kBAAAqyB,CAAA,CAAA,GAAAc,EAAA,MAAAA,EAAA,KAAA,QAAAa,KAIEV,GAAA,CAAc,aAAAtzB,EACZ,WAAAj1B,EAAAooD,EAAA,OAAA,YAAApoD,EAAA,OAC0B,UAAA0nD,EAC1B,UAAAK,CACA,CAAA,CAEJ,OAAAtyE,EAAA,CAGA,QAAA,MAAAA,CAAA,EACA4xE,GAAA,CACe,aAAApyB,EACX,kBAAAqyB,CACA,CAAA,GAIFqB,GAAA,CAAiB,aAAA1zB,EACf,UAAAyyB,EACA,UAAAK,CACA,CAAA,CAEJ,CACF,EACF,CAAA3yE,EAAAkyE,CAAA,CAC+B,EAOjClwE,EAAAA,UAAA,IAAA,CACE,CAAAkzE,GAAA9hD,EAAA,OAAA,GACE,WAAA,IAAA,CACE,GAAA8+C,EAAA,CACE,MAAAuD,EAAAlD,GAAAL,EAAA,CAAA,EAAA9+C,CAAA,EACA,GAAAqiD,EAAA,CACE,MAAAzkC,EAAAokC,EAAA,UACAh4D,EAAA4zB,EAAA8iC,GAAAA,GAAA9iC,EACAokC,GAAA,MAAAA,EAAA,UAAmBK,EAAA,SAAA,EAAA,IACWA,EAAA,SAAA,EAAA,GACA,CAAA,KAAAr4D,EAAA,SAAA,CAAA,GAIhC+3D,EAAA,EAAA,EACF,CAAA,CAEJ,EAAA,CAAAD,EAAA9hD,EAAAgiD,EAAAlD,CAAA,CAAA,EAOF,MAAAwD,EAAAzwC,EAAA,YAAuB,MAAA96C,GAAA,CAMnB,KAAA,CAAA,aAAA01D,EAAA,UAAAyyB,EAAA,UAAAK,CAAA,EAAAxoF,EACA,GAAA,CACE,MAAA6oF,EAAA,MAAAjyE,GAAA,qBAAqC8+C,EAAA,GACtBA,EAAA,cACA7/C,CACb,EASF,GAPA+yE,GAAA,CAAgB,SAAAC,EACd,aAAAnzB,EACA,UAAAyyB,EACA,UAAAK,CACA,CAAA,EAGFK,EAAA,MAAAA,EAAA,KAAA,OAAAa,GAAA,CACE,MAAA8B,EAAA,CAAA,EACA3C,EAAA,KAAA,QAAA4C,GAAA,CACEA,EAAA,cAAAC,GACEF,EAAA,KAAAC,EAAA,SAAA,EAIAnC,GAAA,CAAA,QADAmC,EACA,SAAA5C,EAAA,UAAAV,EAAA,UAAAK,CAAA,CAAA,CACF,CAAA,EAEF,MAAAmD,EAAA,MAAA/0E,GAAA,iBAAkD40E,EAChD31E,CACA,EAEF,CAAA,QAAA+1E,CAAA,EAAAD,EAEAH,EAAA,OAAAj9F,GACEq9F,EAAA,KAAA5D,GAEIA,EAAA,IAAAz5F,EAAA,QAAwB,GAAA,IACpB,EAGV,QAAAA,GAAA,CACE26F,GAAA,CAAA,IAAA36F,EAAA,SAAAs6F,EAAA,UAAAV,EAAA,UAAAK,CAAA,CAAA,CAAgE,CAAA,EAElE,MAAAqD,EAAA,CAAA,EACAD,EAAA,QAAA5D,GAAA,CACE6D,EAAA,KAAkBT,EAAA,CACN,aAAApD,EACM,UAAAG,EACd,UAAAK,EACA,eAAAK,CACgB,CAAA,CACjB,CACH,CAAA,EAEF,MAAA,QAAA,WAAAgD,CAAA,EACF,OAAA31E,EAAA,CAGA,QAAA,MAAAA,CAAA,CAAe,CACjB,EACF,CAAAL,EAAAu1E,CAAA,CACuB,EAOzBvzE,EAAAA,UAAA,IAAA,CACE,GAAAkwE,GAAAoC,EAAA,QAAA,EAAA,CACE,MAAAhC,EAAA,CAAA,GAAAgC,CAAA,EACA3B,EAAA,CAAA,GAAA6B,CAAA,EACAyB,EAAA,CAAA,EACA/D,EAAA,QAAAC,GAAA,CACE,MAAA+D,EAAAX,EAAA,CAAmC,aAAApD,EACnB,UAAAG,EACd,UAAAK,CACA,CAAA,EAEFsD,EAAA,KAAAC,CAAA,EAEA,MAAAC,EAAAT,EAAA,CAA2C,aAAAvD,EAC3B,UAAAG,EACd,UAAAK,CACA,CAAA,EAEFsD,EAAA,KAAAE,CAAA,CAA6C,CAAA,EAE/C,QAAA,WAAAF,CAAA,EAAA,QAAA,IAAA,CACE1B,EAAAjC,CAAA,EACAmC,EAAA9B,CAAA,CAAsB,CAAA,EAE1B,EAAA,CACC4C,EACDX,EACAc,EACAxD,EACA8B,EACAQ,EACAF,CACA,CAAA,EAQFtyE,EAAAA,UAAA,IAAA,CACE,MAAAivE,EAAAyD,GAAA,YAAAA,EAAA,KACA,GAAAA,IAAAzD,GAAA,YAAAA,EAAA,OAAAJ,GAAA,OAAA,CACE,MAAAuF,EAAAnF,EAAA,MACA,GAAAmF,EAAA,UAAAvC,GAAA,CACEwC,GAAA,6EACE,QACA,EAEF,WAAA,CAGApF,EAAA,MAAAtxE,EAAAvR,GAAA,CAAA,KAAA,EAAA,CAAA,EAEA,MAAAkoF,EAAAhC,EAAA,OAAyCzyF,GAAAA,EAAA,IAAA6yF,EAAA,EACR,EAEjC6B,EAAAliD,GAAA,CAAAqgD,CAAA,EAAAF,CAAA,EAAA,CAAA,EACAgC,EAAAhC,EAAA,OAAyCjsD,GAAAA,GAAAguD,CACvB,EAElBb,EAAA,CAAe,aAAAU,EAAA,aACqB,UAAAE,EACvB,UAAAE,CACA,CAAA,EAAA,QAAA,IAAA,CAEXjC,EAAA+B,CAAA,EACA7B,EAAA+B,CAAA,CAAmC,CAAA,EAGvC7B,EAAA,MAAA,EACF,EAAA,CAAAD,EAAAJ,EAAAE,EAAAkB,CAAA,CAAA,EAQF1zE,EAAAA,UAAA,IAAA,CACE,KAAA,CAAA,MAAAy0E,EAAA,MAAAC,CAAA,EAAA/E,GAAuD2C,EACrDE,EACA,IACA,EAIF1C,GAAA2E,EAAArjD,CAAA,IACEuK,EAAA84C,CAAA,EACArC,GACEA,EAAAqC,CAAA,GAGJ3E,GAAA4E,EAAArkD,CAAA,IACE6H,EAAAw8C,CAAA,EACArC,GACEA,EAAAqC,CAAA,EAEJ,EAAA,CACCpC,EACDE,EACAphD,EACAf,EACAsL,EACAzD,EACAg7C,EACAE,EACApB,EACAI,EACAC,CACA,CAAA,EAGF,MAAAsC,EAAA1xC,EAAA,YAAiElmD,GAAA,CAG7DA,GAAA,OAAAA,EAAA,OAAA,KAAA,OAAAA,EAAA,OAAA,KAKE,OAAA,SAAO,OAAA,QAAAA,EAAA,OACkB,OAAA,QAAAA,EAAA,MACA,CAE3B,EACF,CAAA,CACC,EAGH,OAAA4gB,EACE,MAAC,CAAA,UAAA,wCACW,KAAA,eACL,MAAA,CAAA,MAAA,OAAA,OAAAs0E,CAAA,EAC2C,SAAAt0E,EAEhDm9C,GAAC,CAAA,gBAAA,CAAA,EAAA,EAAA,EAAA,EAAA,KAAAg3B,EAAA,EACmD,MAAA1gD,EAClD,MAAAf,EACA,YAAAgjD,EACa,cAAA14C,EACb,cAAAC,EACA,oBAAA,eACoB,UAAA,OACT,aAAA,GACG,aAAA+5C,EACA,SAAAh3E,EAAAo+C,GAAA,EAAA,CAEJ,CAAA,CACZ,CAAA,CAGN,EAEA64B,GAAAx7F,GACEukB,EAAAk3E,GAAA,CAAA,SAAAl3E,EAAAu8C,GAAA,CAAA,SAAAv8C,EAAAo0E,GAAA,CAAA,GAAA34F,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,0yBC7ZF,SAAA07F,GAAA17F,EAAA,CAGE,KAAA,CAAA,WAAA27F,EAAA,gBAAAC,CAAA,EAAA57F,EAEA67F,EAAAF,EAAA,MAAA,GAAA,EAAA,IAAAl5E,GAAA,CACE,MAAAq5E,EAAAr5E,EAAA,MAAA,WAAA,EAMA,MALA,CAAuB,SAAAq5E,EAAA,CAAA,EACO,oBAAAA,EAAA,OAAA,EAAA,SAAAA,EAAA,CAAA,CAAA,EAAA,MAEoC,CAE3D,CAAA,EAETjD,EAAA+C,EAAA,GAAAA,MAAA,OACA,OAAAr3E,EAAAi3E,GAAA,CAAA,WAAAK,EAAA,gBAAAhD,CAAA,CAAA,CACF,gVCIA,MAAAkD,WAAA3gF,GAAA,SAAA,CAGE,YAAApb,EAAA,CAEE,MAAAA,CAAA,EACA,KAAA,UAAA,KAAA,UAAA,KAAA,IAAA,EACA,KAAA,gBAAA,KAAA,gBAAA,KAAA,IAAA,EACA,KAAA,MAAA,CAAa,aAAA,EACG,CAChB,CAGmB,WAAA,CAInB,KAAA,CAAA,UAAAg8F,CAAA,EAAA,KAAA,MACAA,GACEj3E,GAAA,KAAA,QAAA,YAAAi3E,CAAA,EAAA,KAA2DjxE,GAAA,CAGvD,MAAAkxE,EAAA,CAAkC,CAChC,kBAAAD,EACqB,oBAAA7yE,GAAA,WAC0B,aAAA4B,EAAA,gBAC1B,CACrB,EAEF,KAAA,gBAAAkxE,EAAAlxE,EAAA,gBAAA,CAAqE,CACvE,CAEJ,CACF,gBAAAkxE,EAAA15F,EAAA,CAcE25F,GANA,CAAkC,mBAAA,GACZ,qBAAA,GACE,4BAAA,GACO,eAAAD,CACb,EAElB,KAAA,QAAA,WAAA,EAAA,KAAAlxE,GAAA,CAEI,KAAA,CAAA,aAAAoxE,CAAA,EAAApxE,EAAA,eAAA,OAA6CmsB,GAAAA,EAAA,eAAA30C,CACjB,EAAA,CAAA,EAE5B,KAAA,SAAA,CAAc,aAAA45F,CACZ,CAAA,CACD,CAAA,EAAA,MAAAC,GAAA,CAGD,QAAA,MAAA,0BAAAA,CAAA,CAA4C,CAAA,CAC7C,CACL,mBAAA,CAEE,GAAA,CAAA,KAAA,MAAA,OAEE,KAAA,UAAA,MAAe,CAGf,KAAA,CAAA,SAAAj0E,EAAA,YAAAk0E,EAAA,CAAA,CAAA,EAAA,KAAA,MACA,CAAA,GAAA95F,CAAA,EAAA85F,EAAA,OAAAnlD,GAAAA,EAAA,WAAA/uB,CAAA,EAAA,CAAA,EACA8zE,EAAA,CAA2D,CACzD,kBAAA,KAAA,MAAA,OACgC,oBAAA9yE,GAAA,eACe,aAAA5mB,CAC/B,CAChB,EAEF,KAAA,gBAAA05F,EAAA15F,CAAA,EACF,CACF,QAAA,CAGE,KAAA,CAAA,OAAAwM,CAAA,EAAA,KAAA,MACA,CAAA,MAAAiV,EAAA,GAAA,QAAAs4E,EAAA,eAAA,EAAAvtF,EAEA,IAAAqyB,EAAA,OACAryB,EAAA,OAAAA,EAAA,QAAA,QACEqyB,EAAA,GAAA,OAAAryB,EAAA,KAAA,MAGF,MAAAoV,EAAAH,EAAA,cACA,IAAA9Z,EAAA,GACAia,IAAA,SACEja,EAAA,aAEFia,IAAA,UACEja,EAAA,cAEFia,IAAA,WACEja,EAAA,gBAEF,MAAA+I,EAAA,CAAmC,MAAAmuB,EAC1B,OAAAA,CACC,EAEV,OAAA,KAAA,MAAA,aAGA7c,EAAAnJ,GAAA,SAAA,CAAA,SAAAmJ,EAEI,MAAC,CAAA,IAAA+3E,EACM,UAAA,cAAApyF,EACsB,IAAA,KAAA,MAAA,aACX,MAAA+I,CAChB,CAAA,CAAA,CAAA,EARJ,IAUA,CAGN,CA1GEspF,GAXFR,GAWE,cAAAS,woBC5BK,MAAAC,GAAArhF,GAAA,cAAA,MAAA,EAcAshF,GAAA,CAAA,CAAA,SAAAxrF,EAAA,YAAAyrF,KAGLp4E,EAAAk4E,GAAA,SAAA,CAAA,MAAAE,EAAA,SAAAzrF,CAAA,CAAA,EAOK0rF,GAAAH,GAAA,SAEA,SAAAI,IAAA,CAEL,OADAtvD,aAAAkvD,EAAA,GACA,CAAA,CACF,umBCjCA,SAAAK,GAAAh5E,EAAA,CAGE,KAAA,CAAA,OAAAi5E,EAAA,SAAAC,EAAA,YAAAC,CAAA,EAAAJ,GAAA,EACA,OAAA/4E,EAAA,SACEm5E,EAMA14E,EACEw3E,GAAC,CAAA,OAAAj4E,EACS,SAAAA,EAAA,SACqB,OAAAi5E,IAAAC,GAAA,YAAAA,EAAA,IACD,YAAAC,EAAA,IACH,CAAA,EAT3B14E,EAAAyC,GAAA,CAAA,CAAA,EAaJlD,EAAA,UAGES,EACEw3E,GAAC,CAAA,OAAAj4E,EACS,UAAAA,EAAA,SACsB,CAAA,EAIpCS,EAAAyC,GAAA,CAAA,CAAA,CACF,6vBC9BA,MAAAk2E,GAAAC,GAAAC,EAAA,EAaO,MAAAC,WAAAjiF,GAAA,SAAA,CAGL,YAAApb,EAAA,CAEE,MAAAA,CAAA,EACA,KAAA,MAAA,CAAa,SAAA,GACD,UAAA,CAAA,CACE,EAEd,KAAA,gBAAA,KAAA,gBAAA,KAAA,IAAA,EACA,KAAA,SAAA,KAAA,SAAA,KAAA,IAAA,CAAuC,CAGpB,mBAAA,CAInB,KAAA,gBAAA,CAAqB,CACvB,iBAAA,CAOE,KAAA,CAAA,MAAAs9F,CAAA,EAAA,KAAA,MAAA,mBACAC,EAAA,CAAyC,aAAA,0DACzB,SAAAC,GACa,SAAAC,GAAAH,CAAA,EACkB,MAAA,CACtC,IAAAA,CACA,CACP,EAGFI,GAAAH,EAAA,KAAA,QAAA,WAAA,EAAA,KAAAxyE,GAAA,CAEI,KAAA,SAAA,CAAc,SAAA,GACF,UAAAA,CACC,CAAA,CACZ,CAAA,EAAA,MAAAqxE,GAAA,CAGD,QAAA,IAAA,6BAAAA,CAAA,CAA6C,CAAA,CAC9C,CACL,UAAA,SAGE,GAAA,CAAA,KAAA,MAAA,SACE,OAEF,KAAA,CAAA,MAAAuB,EAAA,OAAAC,EAAA,OAAAC,EAAA,KAAA5kF,EAAA,UAAA6kF,EAAA,WAAAC,GAAA,KAAA,MAAA,mBAEAC,EAAA,KAAA,MACAxH,EAAA,KAAA,MAAA,mBAAA,WAAA,cACAnE,EAAA,CAAoB,WAAA0L,EAClB,MAAAJ,CACA,EAEFC,IACEvL,EAAA,MAAA,CAAe,MAAAuL,CACN,GAGXE,IACEzL,EAAA,MAAA,CAAe,GAAAA,EAAA,MACH,UAAAyL,EAAA,YAAA,CACuB,GAGrCD,IACExL,EAAA,MAAA,CAAe,MAAAwL,CACN,GAIX,MAAAI,EAAA,CAAA,EACAC,EAAA1H,EAAA,IAAA,IACA2H,IAAA3uD,EAAAwuD,EAAA,UAAA,cAAA,YAAAxuD,EAAA,aAAA,UAAA,GACA,QAAA/vC,EAAA,EAAAA,EAAA0+F,EAAA,OAAA,EAAA1+F,GAAA,EAEEw+F,EAAAx+F,CAAA,EAAA,CAAc,YAAAy+F,EACZ,KAAAC,EAAA1+F,EAAA,CAAA,EAAA,KACqB,KAAAwZ,EAAA,YAAA,EACE,EAAA,CAAA,EACnB,EAAA,CAAA,CACA,EAIR,UAAAmlF,MAAAptD,EAAAgtD,EAAA,UAAA,cAAA,YAAAhtD,EAAA,aAAA,OAAA,GAEE,QAAAn0B,EAAA,EAAAA,EAAAuhF,EAAA,OAAA,OAAAvhF,GAAA,EAAA,CAEE,MAAAwhF,EAAAD,EAAA,OACAH,EAAAphF,EAAA,CAAA,EAAA,EAAA,KAAAwhF,EAAA,CAAA,CAAA,EACAJ,EAAAphF,EAAA,CAAA,EAAA,EAAA,KAAAwhF,EAAAxhF,CAAA,CAAA,EAGJ,OAAA0H,EAAA24E,GAAA,CAAA,OAAA7K,EAAA,KAAA4L,CAAA,CAAA,CAA6C,CAC/C,QAAA,CAGE,OAAA,KAAA,MAAA,SAGA,KAAA,WAFE,IAEmB,CAEzB,CAjGE1B,GAZKc,GAYL,cAAAb,iZC9BF,SAAA8B,GAAAt+F,EAAA,CACE,KAAA,CAAA,QAAAu+F,EAAA,OAAAxB,EAAA,SAAAC,CAAA,EAAAH,GAAA,EACA,OAAAt4E,EACE84E,GAAC,CAAA,QAAAkB,EACC,OAAAxB,IAAAC,GAAA,YAAAA,EAAA,IAC4B,mBAAAh9F,CACR,CAAA,CAG1B,6HCwGO,MAAAw+F,GAAA1xD,EAAA,cAAqB,MAE5B,EASO2xD,GAAA,CAAA,CAA8B,SAAAvtF,EACnC,aAAAwtF,CAEF,IACEn6E,EAAAi6E,GAAA,SAAA,CAAA,MAAAE,EAAA,SAAAxtF,CAAA,CAAA,EAeK,SAAAytF,IAAA,CAIL,MAAA10E,EAAAsjB,aAAAixD,EAAA,EAIA,GAAAv0E,IAAA,OACE,MAAA,IAAA,MAAA,oDAAA,EAEF,OAAAA,CACF,CAEO,SAAA20E,IAAA,CACL,MAAA30E,EAAAsjB,aAAAixD,EAAA,EACA,GAAAv0E,IAAA,OACE,MAAA,IAAA,MAAU,6DACR,EAIJ,OAAAA,CACF,CAEO,SAAA40E,IAAA,CACL,MAAA50E,EAAAsjB,aAAAixD,EAAA,EACA,GAAAv0E,IAAA,OACE,MAAA,IAAA,MAAU,4DACR,EAIJ,OAAAA,CACF,CAEO,MAAA60E,GAAAN,GAAA,2zBCvLP,SAAwBO,IAAqB,CAC3C,OAEIh4E,EAAAC,GAAA,CAAA,SAAA,CAACzC,EAAA,IAAA,CAAE,UAAU,uBAAuB,SAEpC,sCAAA,EACCA,EAAA,IAAA,CAAE,UAAU,6BAA6B,SAG1C,6FAAA,CACF,CAAA,CAAA,CAEJ,CCPY,IAAAy6E,IAAAA,IACVA,EAAA,YAAc,cACdA,EAAA,OAAS,SAFCA,IAAAA,IAAA,CAAA,CAAA,ECJZ,SAAwBC,IAAwB,CAE5C,OAAAl4E,EAAC,MAAI,CAAA,UAAU,cACZ,SAAA,CAAAm4E,GACD36E,EAAC,MAAG,SAAmB,qBAAA,CAAA,EACvBA,EAAC,KAAE,SAA8C,gDAAA,CAAA,CACnD,CAAA,CAAA,CAEJ,CCRA,SAAwB46E,IAAmB,CAEvC,OAAAp4E,EAAC,MAAI,CAAA,UAAU,0DACZ,SAAA,CAAAq4E,GACD76E,EAAC,OAAI,MAAO,CAAE,UAAW,OAAQ,UAAW,QAAS,EAAG,SAExD,+BAAA,CAAA,CACF,CAAA,CAAA,CAEJ,CCHA,MAAM86E,GAAyB,IAAsB,CAC/C,GAAA,CAIK,OAHqC,KAAK,MAC/C,eAAe,QAAQC,EAA0C,GAAK,EAAA,QAIxE,MAAO,EACT,CACF,EAEMC,GAAwB,IAAqB,CAC7C,GAAA,CAIK,OAH8B,KAAK,MACxC,eAAe,QAAQC,EAAyC,GAAK,EAAA,QAIvE,MAAO,EACT,CACF,EAEMC,GAAsB,IAAoB,CAC1C,GAAA,CAIK,OAHkC,KAAK,MAC5C,eAAe,QAAQC,EAAwC,GAAK,EAAA,QAItE,MAAO,EACT,CACF,EAEMC,GAAkCtiG,GAA0B,CAChE,MAAMuiG,EAASP,GAAuB,EAAE,KAAa/oF,GAAAA,EAAK,KAAOjZ,CAAK,EACtE,OAAOuiG,GAAA,YAAAA,EAAQ,OAAQviG,CACzB,EAEMwiG,GAAqCC,GAA+B,CACxE,MAAMC,EAAaN,GAAoB,EAAE,KAAanpF,GAAAA,EAAK,KAAOwpF,CAAU,EAC5E,OAAOC,GAAA,YAAAA,EAAY,OAAQD,CAC7B,EAEME,GAA+BF,GAA+B,CAC5D,MAAA97B,EAAcu7B,KAAwB,KAC1CjpF,GAAQA,EAAK,UAAYwpF,CAAA,EAE3B,OAAO97B,GAAA,YAAAA,EAAa,WAAY87B,CAClC,EAEaG,GAAkB,CAAC5iG,EAAe6iG,IAA2B,CACpE,GAAA7iG,IAAU8iG,GACZ,OAAOC,GAGT,OAAQF,EAAY,CAClB,KAAKG,GAAe,SACpB,KAAKA,GAAe,cAClB,OAAOV,GAA+BtiG,CAAK,EAC7C,KAAKgjG,GAAe,OACpB,KAAKA,GAAe,YAClB,OAAOL,GAA4B3iG,CAAK,EAC1C,KAAKgjG,GAAe,aAClB,OAAOR,GAAkCxiG,CAAK,EAChD,QACS,OAAAA,CACX,CACF,EC5DaijG,GAA2B,CACtCv1E,KACGw1E,IACA,OACH,MAAMC,EAAgC,CAAA,EACtC,OAAAhxD,EAAAzkB,GAAA,YAAAA,EAAM,gBAAN,MAAAykB,EAAqB,QAAQ,CAAC0H,EAAItyC,IAAU,CACtC27F,EAAY,SAASrpD,EAAG,UAAU,GACpCspD,EAAoB,KAAK57F,CAAK,CAChC,GAEK47F,CACT,EAEaC,GAAoB,CAC/B11E,EACA21E,EAIAC,IACG,OACG,MAAAC,MAAuB,IAC7B,OAAApxD,EAAAzkB,EAAK,cAAL,MAAAykB,EAAkB,aAAa,KAAK,QAAe4uD,GAAA,CACjDA,EAAI,OAAO,QAAQ,CAAClnD,EAAmB2pD,IAAqB,CAGxD3pD,GAAM,MACNypD,EAAQ,SAASE,CAAQ,GACzB,CAAC,OAAO,UAAU,eAAe,KAAKH,EAAexpD,CAAE,GACvDA,GAEA0pD,EAAiB,IAAI1pD,CAAE,CACzB,CACD,CAAA,GAEI0pD,CACT,EAOO,SAASE,GAAoBlB,EAAgB,CAEhD,OAAAA,IACEmB,GAAanB,CAAM,GAAKoB,GAAepB,CAAM,GAAMqB,GAAUrB,CAAM,EAEzE,CAEa,MAAAsB,GACXC,GACuB,CACvB,GAAI,CAACA,EACI,OAET,MAAMC,EAAkDD,GAAA,YAAAA,EAAc,OACpEjqD,GAAMA,EAAG,aAAempD,GAAe,UAGrC,IAAAe,GAAA,YAAAA,EAAsB,UAAW,EAC5B,OAAAA,EAAqB,CAAC,EAAE,GAGjC,MAAMC,EAAgBD,GAAA,YAAAA,EAAsB,OAAalqD,GAAAA,EAAG,OAAS,MACjE,GAAAmqD,EAAc,SAAW,EACpB,OAAAA,EAAc,CAAC,EAAE,EAI5B,ECzBOC,GAAAx0D,EAAAA,cAAA,MAAA,EAWAy0D,GAAA,CAAA,CAA2C,SAAArwF,EAChD,0BAAAswF,CAEF,IACEj9E,EAAA+8E,GAAA,SAAA,CAAA,MAAAE,EAAA,SAAAtwF,CAAA,CAAA,EAOK,SAAAuwF,IAAA,CACL,MAAAx3E,EAAAsjB,aAAA+zD,EAAA,EACA,GAAAr3E,IAAA,OACE,MAAA,IAAA,MAAU,iEACR,EAGJ,OAAAA,CACF,CAEO,MAAAy3E,GAAAJ,GAAA,SA4BA,SAAAK,GAAA3hG,EAAA,OAGL,KAAA,CAAM,yBAAA4hG,EAAA5C,GAAA,YACgD,sBAAA6C,EAAA,GAC5B,cAAAC,EAAA,CAAA,EACP,qBAAAC,EAAA,GACM,8BAAAC,EAAA,EACS,EAAAhiG,EAGlC,CAAM,KAAA+qB,EACJ,OAAA60E,EACA,oBAAAqC,EACA,kBAAAC,EACA,qBAAAC,CACA,EAAAxD,GAAA,EAGF,GAAA,CAAA,uBAAAyD,CAAA,EAAApiG,EACA,CAAAoiG,GAAAtB,GAAAlB,CAAA,KAAApwD,EAAAzkB,GAAA,YAAAA,EAAA,eAAA,MAAAykB,EAAA,KAAA6yD,GAAAA,EAAA,OAAA,SAOED,EAAA,CAAA,IAAA,GAEF,KAAA,CAAAE,EAAAC,CAAA,EAAAj8E,EAAA,SAAA,EAAA,EACA,CAAAk8E,EAAAC,CAAA,EAAAn8E,EAAA,SAA4D07E,CAC1D,EAEF,CAAAU,EAAAC,CAAA,EAAAr8E,EAAA,SAAA,EAAA,EACA,CAAAs8E,EAAAC,CAAA,EAAAv8E,EAAA,SAAA,EAAA,EAGA,CAAMw8E,EACJC,EACAC,EACAC,CACA,EAAAjoF,GAAA+mF,EAAA,EAAA,EAGF,CAAAmB,EAAAC,CAAA,EAAA78E,EAAA,SAAA,EAAA,EAGA,CAAA88E,EAAAC,CAAA,EAAA/8E,EAAA,SAAA,CAAA,CAAA,EACA,CAAAg9E,EAAAC,CAAA,EAAAj9E,EAAA,SAAA,CAAA,CAAA,EAEAk9E,EAAAvB,IAGAwB,EAAAC,GAAA34E,GAAA,YAAAA,EAAA,aAAA,EAEAnE,EAAAA,UAAA,IAAA,CAEEy8E,GAAAI,GAAA,YAAAA,EAAA,MAAA,EAAAzjG,EAAA,oBAAA,KAAA,IAAAk3C,GAAAA,EAAA,QAAA,CAAA,CAG4B,CAC5B,EAAA,CAAAusD,EAAAD,EAAA,MAAA,IAAAxjG,EAAA,kBAAA,CAAA,EAGF,MAAA2jG,EAAA95C,EAAA,YAA6B+5C,GAAA,CAGzB,MAAAC,EAAA,aAAA,QAAA,qCAAA,IAAA,OAGA,MAAA,CAAAD,GAAAC,EACED,EAEF9B,EAAA8B,CAAA,EACE9B,EAAA8B,CAAA,EAEFE,GAAAF,CAAA,CAA6B,EAC/B,CAAA9B,CAAA,CACc,EAGhBiC,EAAAl6C,EAAAA,YAAA,IAAA,CACE,OAAA+3C,EAAA,CAAkC,KAAA5C,GAAA,YAE9B,OAAAmD,EACE59E,EAAA06E,GAAA,CAAA,CAAA,EAEA16E,EAAA46E,GAAA,CAAA,CAAA,EACF,KAAAH,GAAA,OAC4B,QAE5B,OAAAz6E,EAAAw6E,GAAA,CAAA,CAAA,CAA2B,CAC/B,EAAA,CAAA6C,EAAAO,CAAA,CAAA,EAGFl4E,EAAA,CAA+C,qBAAAm5E,EACvB,wBAAAC,EACG,aAAAC,EACzB,gBAAAC,EACA,SAAAvjG,EAAA,SACgB,gBAAAA,EAAA,iBAAA,SAC0B,kBAAAA,EAAA,kBACjB,qBAAA2jG,EACzB,gBAAA1D,GACA,qBAAA8D,EACA,sBAAAlC,EACA,+BAAAqB,EACA,kCAAAC,EACA,uBAAAf,EACA,gBAAAF,EAAAU,EAAA,GACuD,mBAAAC,EACvD,cAAAC,EACA,iBAAAC,EACA,yBAAAC,EACA,4BAAAC,EACA,cAAAX,EACA,iBAAAC,EACA,uBAAAL,EAAAM,EAAA,GACqE,0BAAAC,EACrE,oBAAAC,EACA,uBAAAC,EACA,gBAAAd,GAAAyB,EAAA,OAAA,CACgE,EAKlE,CAAA,SAAApyF,CAAA,EAAAlR,EACA,OAAAukB,EAAAg9E,GAAA,CAAA,0BAAAt3E,EAAA,SAAA/Y,CAAA,CAAA,CAKF;;s5BCrPA,MAAA8yF,GAAA,EAOOC,GAAA,CAAA,CAAsE,YAAAC,EAAA,wDAC7D,QAAAC,CAEhB,IAAA,CACE,KAAA,CAAA,oBAAAC,EAAA,oBAAAnC,CAAA,EAAAtD,GAAA,EACA,CAAA,cAAAmE,GAAArB,KACA,CAAA4C,EAAAC,CAAA,EAAAh+E,EAAA,SAAA,EAAA,EACAi+E,EAAAp+E,SAAA,IAAA,EA6CA,OAAA5B,EAAA,MAAA,CAAA,UAAA,0BAAA,SAAAA,EAAAigF,GAAA,CAAA,GAAA1B,EAAA,QAAA,CAAA,MAAA,IAAA,KAAA,GAAA,EAAA,SAAA/7E,EAAA,MAAA,CAAA,UAAA,8CAAA,SAAA,CAIQA,EAAA,OAAC,CAAA,UAAA,qCACW,SAhDpBpjB,GAAA,OAKE,GAJAA,EAAA,eAAA,EAIA0gG,EAAA,OAAA,OAAAL,IACEx0D,EAAA+0D,EAAA,UAAA,MAAA/0D,EAAA,kBAAwB,sCAAAw0D,qBAExB,CAEA,MAAAS,EAAAxC,IAEA,CAAA,kBAAAyC,EAAA,CAAA,GAAAD,EAAA,MAEAE,EAAA,CAAuD,aAAA,8DAEnD,iBAAAN,CACgB,EASpB,GANAK,EAAA,KAAgC1zE,GAAAA,EAAA,cAAA2zE,EAAA,cAAA3zE,EAAA,kBAAA2zE,EAAA,gBAIH,EAG3B,OAEFD,EAAA,KAAAC,CAAA,EAEAF,EAAA,MAAA,kBAAAC,EACAN,EAAAK,CAAA,EAEAH,EAAA,EAAA,EACF,EAckB,SAAA,CAEV//E,EAAA,OAAA,CAAA,UAAA,iDAAA,SAAAA,EAAAwgD,GAAA,CAAA,KAAA,QAAA,CAAA,CAAA,CAAA,EAEAxgD,EACA,QAAC,CAAA,IAAAggF,EACM,UAAAP,GACM,SAlBvBrgG,GAAA,QACE6rC,EAAA+0D,EAAA,UAAA,MAAA/0D,EAAA,kBAAA,IACA80D,EAAA3gG,EAAA,cAAA,KAAA,CAAuC,EAiBnB,YAAA,qBACE,MAAA0gG,EACL,KAAA,MACF,CAAA,EACPA,EAAA,OAAA,GAAA9/E,EAEE,SAAC,CAAA,UAAA,kDACW,KAAA,SACL,QAAA,IAAA,CAEH+/E,EAAA,EAAA,CAAgB,EAClB,SAAA//E,EAAAwgD,GAAA,CAAA,KAAA,OAAA,CAAA,CAEsB,CAAA,CACxB,CAAA,CAAA,EAEJxgD,EAAA,MAAA,CAAA,UAAA,uCAAA,SAAAA,EAEEgxE,GAAC,CAAA,aAAA2O,EACe,QAAAC,EACd,UAAA,MACU,CAAA,EAAA,CAEd,EAAA,CAAA,CAAA,CAAA,CAAA,CAKV,sXC9GIS,GAAY,IACZC,GAAgB,SACpB,SAASC,GAAgBn4E,EAAG,CAC1B,OAAQA,EAAC,CACP,IAAK,KAAM,MAAO,IAClB,IAAK,KAAM,MAAO,GACnB,CACD,MAAM,IAAI,MAAM,yBAA2BA,CAAC,CAC9C,CAEA,SAASo4E,GAAS/nF,EAAK,CACrB,OAAK4nF,GAAU,KAAK5nF,CAAG,EAChBA,EAAI,QAAQ6nF,GAAeC,EAAc,EADf9nF,CAEnC,CAEA,SAASgoF,GAAQnnF,EAAKkb,EAAS17B,EAAO,CAIpC,QAHI4nG,EACAC,EAEKr4E,EAAI,EAAGpM,EAAMsY,EAAQ,OAAQlM,EAAIpM,GAAM,CAC9C,GAAIsY,EAAQlM,CAAC,IAAM,eAAiBkM,EAAQlM,CAAC,IAAM,aAAekM,EAAQlM,CAAC,IAAM,YAAa,OAAOhP,EAkBrG,GAhBAonF,EAAOF,GAAQhsE,EAAQlM,GAAG,CAAC,EAC3Bq4E,EAAczkF,EAAMoM,EAEhB,OAAOhP,EAAIonF,CAAI,EAAM,MAEnB,MAAM,QAAQpnF,CAAG,GAAKonF,IAAS,MACjCA,EAAOpnF,EAAI,QAITqnF,IACGnsE,EAAQlM,CAAC,IAAM,IAAMkM,EAAQlM,CAAC,EAAI,KAAakM,EAAQlM,CAAC,IAAM,IAAKhP,EAAIonF,CAAI,EAAI,CAAE,EACjFpnF,EAAIonF,CAAI,EAAI,CAAE,IAInB,CAACC,EAAa,MAClBrnF,EAAMA,EAAIonF,CAAI,EAGhB,IAAIE,EAAWtnF,EAAIonF,CAAI,EACvB,OAAI5nG,IAAU,OAAW,OAAOwgB,EAAIonF,CAAI,EACnCpnF,EAAIonF,CAAI,EAAI5nG,EACV8nG,CACT,CAEA,SAASC,GAAgBrsE,EAAS,CAChC,GAAI,OAAOA,GAAY,SAAU,CAE/B,GADAA,EAAUA,EAAQ,MAAM,GAAG,EACvBA,EAAQ,CAAC,IAAM,GAAI,OAAOA,EAC9B,MAAM,IAAI,MAAM,uBAAuB,UAC9B,MAAM,QAAQA,CAAO,EAAG,CACjC,UAAWksE,KAAQlsE,EACjB,GAAI,OAAOksE,GAAS,UAAY,OAAOA,GAAS,SAC9C,MAAM,IAAI,MAAM,yDAAyD,EAG7E,OAAOlsE,EAGT,MAAM,IAAI,MAAM,uBAAuB,CACzC,CAEA,SAASlK,GAAKhR,EAAKkb,EAAS,CAC1B,GAAI,OAAOlb,GAAQ,SAAU,MAAM,IAAI,MAAM,uBAAuB,EACpEkb,EAAUqsE,GAAersE,CAAO,EAChC,IAAItY,EAAMsY,EAAQ,OAClB,GAAItY,IAAQ,EAAG,OAAO5C,EAEtB,QAASgP,EAAI,EAAGA,EAAIpM,GAAM,CAExB,GADA5C,EAAMA,EAAIknF,GAAQhsE,EAAQlM,GAAG,CAAC,CAAC,EAC3BpM,IAAQoM,EAAG,OAAOhP,EACtB,GAAI,OAAOA,GAAQ,UAAYA,IAAQ,KAAM,OAEjD,CAEA,SAASiR,GAAKjR,EAAKkb,EAAS17B,EAAO,CACjC,GAAI,OAAOwgB,GAAQ,SAAU,MAAM,IAAI,MAAM,uBAAuB,EAEpE,GADAkb,EAAUqsE,GAAersE,CAAO,EAC5BA,EAAQ,SAAW,EAAG,MAAM,IAAI,MAAM,+BAA+B,EACzE,OAAOisE,GAAOnnF,EAAKkb,EAAS17B,CAAK,CACnC,CAEA,SAASgoG,GAAStsE,EAAS,CACzB,IAAIusE,EAAWF,GAAersE,CAAO,EACrC,MAAO,CACL,IAAK,SAAUywC,EAAQ,CACrB,OAAO36C,GAAI26C,EAAQ87B,CAAQ,CAC5B,EACD,IAAK,SAAU97B,EAAQnsE,EAAO,CAC5B,OAAOyxB,GAAI06C,EAAQ87B,EAAUjoG,CAAK,CACnC,CACF,CACH,CAEAkoG,GAAA,IAAc12E,GACd02E,GAAA,IAAcz2E,GACdy2E,GAAA,QAAkBF,GCnGlB,IAAIG,GAAc5pF,GA8BlB,SAASg7E,GAAQv5F,EAAOmK,EAAO,CAC7B,OAAOg+F,GAAYnoG,EAAOmK,CAAK,CACjC,CAEA,IAAAi+F,GAAiB7O,GClCbvmB,GAAWz0D,GAsBf,SAAS8pF,GAASnmG,EAAOm6E,EAAY,CACnC,OAAAA,EAAa,OAAOA,GAAc,WAAaA,EAAa,OACpDn6E,GAASA,EAAM,OAAU8wE,GAAS9wE,EAAO,OAAWm6E,CAAU,EAAI,EAC5E,CAEA,IAAAisB,GAAiBD,GC3BbE,GAAWhqF,GACXiqF,GAAgB7pF,GAChB8pF,GAAoB5pF,GACpB6uD,GAAW/nD,GACXw7D,GAAYxU,GACZ+7B,GAAW77B,GAGX87B,GAAY,KAAK,IAYrB,SAASC,GAAiB11B,EAAQtI,EAAUyR,EAAY,CAStD,QARIwsB,EAAWxsB,EAAaosB,GAAoBD,GAC5CntF,EAAS63D,EAAO,CAAC,EAAE,OACnB41B,EAAY51B,EAAO,OACnB61B,EAAWD,EACXE,EAAS,MAAMF,CAAS,EACxBG,EAAY,IACZprD,EAAS,CAAA,EAENkrD,KAAY,CACjB,IAAI7mG,EAAQgxE,EAAO61B,CAAQ,EACvBA,GAAYn+B,IACd1oE,EAAQwrE,GAASxrE,EAAOi/E,GAAUvW,CAAQ,CAAC,GAE7Cq+B,EAAYN,GAAUzmG,EAAM,OAAQ+mG,CAAS,EAC7CD,EAAOD,CAAQ,EAAI,CAAC1sB,IAAezR,GAAavvD,GAAU,KAAOnZ,EAAM,QAAU,KAC7E,IAAIqmG,GAASQ,GAAY7mG,CAAK,EAC9B,OAENA,EAAQgxE,EAAO,CAAC,EAEhB,IAAI3rE,EAAQ,GACRigB,EAAOwhF,EAAO,CAAC,EAEnBE,EACA,KAAO,EAAE3hG,EAAQ8T,GAAUwiC,EAAO,OAASorD,GAAW,CACpD,IAAIjpG,EAAQkC,EAAMqF,CAAK,EACnB+0E,EAAW1R,EAAWA,EAAS5qE,CAAK,EAAIA,EAG5C,GADAA,EAASq8E,GAAcr8E,IAAU,EAAKA,EAAQ,EAC1C,EAAEwnB,EACEkhF,GAASlhF,EAAM80D,CAAQ,EACvBusB,EAAShrD,EAAQy+B,EAAUD,CAAU,GACtC,CAEL,IADA0sB,EAAWD,EACJ,EAAEC,GAAU,CACjB,IAAII,EAAQH,EAAOD,CAAQ,EAC3B,GAAI,EAAEI,EACET,GAASS,EAAO7sB,CAAQ,EACxBusB,EAAS31B,EAAO61B,CAAQ,EAAGzsB,EAAUD,CAAU,GAErD,SAAS6sB,EAGT1hF,GACFA,EAAK,KAAK80D,CAAQ,EAEpBz+B,EAAO,KAAK79C,CAAK,GAGrB,OAAO69C,CACT,CAEA,IAAAurD,GAAiBR,GCzEb91B,GAAoBv0D,GASxB,SAAS8qF,GAAoBrpG,EAAO,CAClC,OAAO8yE,GAAkB9yE,CAAK,EAAIA,EAAQ,CAAA,CAC5C,CAEA,IAAAspG,GAAiBD,GCbb37B,GAAWnvD,GACXqqF,GAAmBjqF,GACnBg0D,GAAW9zD,GACXwqF,GAAsB1jF,GACtBs2D,GAAOtP,GAuBP48B,GAAmB52B,GAAS,SAASO,EAAQ,CAC/C,IAAImJ,EAAaJ,GAAK/I,CAAM,EACxBs2B,EAAS97B,GAASwF,EAAQm2B,EAAmB,EAEjD,OAAAhtB,EAAa,OAAOA,GAAc,WAAaA,EAAa,OACxDA,GACFmtB,EAAO,IAAG,EAEJA,EAAO,QAAUA,EAAO,CAAC,IAAMt2B,EAAO,CAAC,EAC3C01B,GAAiBY,EAAQ,OAAWntB,CAAU,EAC9C,EACN,CAAC,EAEDotB,GAAiBF,GCxCbG,GAAanrF,GACbs0D,GAAel0D,GAGfgrF,GAAU,mBAmBd,SAASC,GAAU5pG,EAAO,CACxB,OAAOA,IAAU,IAAQA,IAAU,IAChC6yE,GAAa7yE,CAAK,GAAK0pG,GAAW1pG,CAAK,GAAK2pG,EACjD,CAEA,IAAAE,GAAiBD,GC5BbrQ,GAAUh7E,GACVijE,GAAS7iE,GACTmrF,GAAOjrF,GACPwpF,GAAW1iF,GACX20D,GAAW3N,GACX48B,GAAmB18B,GACnB0Q,GAAgBxQ,GAChB68B,GAAY38B,GAEZ88B,GAAiBnhG,GAAO,MAAM,QAAQA,CAAG,EACzCA,EAAM,CAACA,CAAG,EACVohG,GAAQphG,GAAOA,IAAQ,OACvBmoD,GAAOvwC,GAAO+8D,GAAc/8D,CAAG,GAAK,MAAM,QAAQA,CAAG,EAAI,OAAO,KAAKA,CAAG,EAAI,CAAE,EAC9E8rD,GAAM,CAAC9rD,EAAKvI,IAAQuI,EAAI,eAAevI,CAAG,EAC1CgyF,GAAc1qF,GAAOiiE,GAAOsoB,GAAKvqF,CAAG,CAAC,EACrC2qF,GAAathG,GAAOohG,GAAMphG,CAAG,GAAM,MAAM,QAAQA,CAAG,GAAKA,EAAI,SAAW,EACxEuhG,GAAc,CAAC/6E,EAAGjX,EAAGF,EAAK0e,IAAYxe,GAAKm0D,GAAIn0D,EAAGF,CAAG,GAAKmX,GAAKk9C,GAAIl9C,EAAGnX,CAAG,GAAK0e,EAAQvH,EAAEnX,CAAG,EAAGE,EAAEF,CAAG,CAAC,EACpGmyF,GAAe,CAACh7E,EAAGjX,IAAO6xF,GAAM56E,CAAC,GAAKjX,IAAM,GAAO6xF,GAAM7xF,CAAC,GAAKiX,IAAM,GAAMmqE,GAAQnqE,EAAGjX,CAAC,EACvFkyF,GAAiB,CAACj7E,EAAGjX,IAAO6xF,GAAM56E,CAAC,GAAKjX,IAAM,IAAW6xF,GAAM7xF,CAAC,GAAKiX,IAAM,IAAUmqE,GAAQnqE,EAAGjX,CAAC,EACjGmyF,GAAcC,GAAUP,GAAMO,CAAM,GAAKhR,GAAQgR,EAAQ,CAAA,CAAE,GAAKA,IAAW,GAC3EC,GAAgBD,GAAUP,GAAMO,CAAM,GAAKhR,GAAQgR,EAAQ,EAAE,EAC7DE,GAAW7hG,GAAOohG,GAAMphG,CAAG,GAAK20E,GAAc30E,CAAG,GAAKA,IAAQ,IAAQA,IAAQ,GAElF,SAAS8hG,GAAgBt7E,EAAGjX,EAAG,CAC7B,OAAI+xF,GAAW96E,CAAC,GAAK86E,GAAW/xF,CAAC,EACxB,GAEAohF,GAAQ0Q,GAAY76E,CAAC,EAAG66E,GAAY9xF,CAAC,CAAC,CAEjD,CAEA,SAASwyF,GAAwBv7E,EAAGjX,EAAG,CACrC,OAAAiX,EAAI26E,GAAe36E,CAAC,EACpBjX,EAAI4xF,GAAe5xF,CAAC,EACbohF,GAAQ0Q,GAAY76E,CAAC,EAAG66E,GAAY9xF,CAAC,CAAC,CAC/C,CAEA,SAASyyF,GAAYx7E,EAAGjX,EAAGF,EAAK0e,EAAS,CACvC,IAAIk0E,EAAWf,GAAK/4C,GAAK3hC,CAAC,EAAE,OAAO2hC,GAAK54C,CAAC,CAAC,CAAC,EAC3C,OAAIqyF,GAAcp7E,CAAC,GAAKo7E,GAAcryF,CAAC,EAC9B,GACEqyF,GAAcp7E,CAAC,GAAK2hC,GAAK54C,CAAC,EAAE,QAE5BqyF,GAAcryF,CAAC,GAAK44C,GAAK3hC,CAAC,EAAE,OAD9B,GAKFy7E,EAAS,MAAM,SAAS5yF,EAAK,CAClC,IAAI6yF,EAAO17E,EAAEnX,CAAG,EACZ8yF,EAAO5yF,EAAEF,CAAG,EAChB,OAAI,MAAM,QAAQ6yF,CAAI,GAAK,MAAM,QAAQC,CAAI,EACpCxR,GAAQ0Q,GAAY76E,CAAC,EAAG66E,GAAY9xF,CAAC,CAAC,EACpC,MAAM,QAAQ2yF,CAAI,GAAK,CAAC,MAAM,QAAQC,CAAI,GAE1C,MAAM,QAAQA,CAAI,GAAK,CAAC,MAAM,QAAQD,CAAI,EAD5C,GAIFX,GAAY/6E,EAAGjX,EAAGF,EAAK0e,CAAO,CACzC,CAAG,CACH,CAEA,SAAS9a,GAAMuT,EAAGjX,EAAGF,EAAK0e,EAAS,CACjC,OAAI4mD,GAAcnuD,CAAC,GAAKmuD,GAAcplE,CAAC,EAC9Bwe,EAAQvH,EAAGjX,CAAC,EACV,MAAM,QAAQiX,CAAC,GAAK,MAAM,QAAQjX,CAAC,EACrCyyF,GAAYx7E,EAAGjX,EAAGF,EAAK0e,CAAO,EAE9B4iE,GAAQnqE,EAAGjX,CAAC,CAEvB,CAEA,SAAS6yF,GAAc57E,EAAGjX,EAAGF,EAAK0e,EAAS,CACzC,IAAIs0E,EAAU5C,GAASj5E,EAAGuH,CAAO,EAC7Bu0E,EAAU7C,GAASlwF,EAAGwe,CAAO,EAC7Bw0E,EAAQ5B,GAAiB0B,EAASC,EAASv0E,CAAO,EACtD,OAAOw0E,EAAM,SAAW,KAAK,IAAIF,EAAQ,OAAQC,EAAQ,MAAM,CACjE,CAEA,IAAIE,GAAY,CACd,MAAO7R,GACP,YAAa8Q,GACb,UAAWD,GACX,SAAUA,GACV,cAAeA,GACf,SAAUM,GACV,KAAMA,GACN,KAAMC,GACN,MAAO9uF,GACP,MAAOmvF,GACP,MAAOA,GACP,MAAOA,GACP,WAAYJ,GACZ,kBAAmBA,GACnB,aAAcA,EAChB,EAEIS,GAAmB,CACrB,aACA,oBACA,eACA,cACA,YACA,WACA,gBACA,UACF,EAEIC,GAAc,CAAC,uBAAwB,kBAAmB,WAAY,gBAAiB,KAAK,EAEhG,SAAS30E,GAAQvH,EAAGjX,EAAGzW,EAAS,CAK9B,GAJAA,EAAU44E,GAAS54E,EAAS,CAC1B,OAAQ,CAAE,CACd,CAAG,EAEG4oG,GAAYl7E,CAAC,GAAKk7E,GAAYnyF,CAAC,EACjC,MAAO,GAGT,GAAI,CAACsyF,GAASr7E,CAAC,GAAK,CAACq7E,GAAStyF,CAAC,EAC7B,MAAM,IAAI,MAAM,6CAA6C,EAE/D,GAAIiX,IAAMjX,EACR,MAAO,GAGT,GAAIyxF,GAAUx6E,CAAC,GAAKw6E,GAAUzxF,CAAC,EAC7B,OAAOiX,IAAMjX,EAOf,GAJKiX,IAAM,QAAajX,IAAM,IAAWA,IAAM,QAAaiX,IAAM,IAI7D46E,GAAM56E,CAAC,GAAK,CAAC46E,GAAM7xF,CAAC,GAAO,CAAC6xF,GAAM56E,CAAC,GAAK46E,GAAM7xF,CAAC,EAClD,MAAO,GAGT,IAAIozF,EAAUzB,GAAK,OAAO,KAAK16E,CAAC,EAAE,OAAO,OAAO,KAAKjX,CAAC,CAAC,CAAC,EAMxD,GAJIzW,EAAQ,OAAO,SACjB6pG,EAAUA,EAAQ,OAAOj9E,GAAK5sB,EAAQ,OAAO,QAAQ4sB,CAAC,IAAM,EAAE,GAG5D,CAACi9E,EAAQ,OACX,MAAO,GAGT,SAASC,EAAap8E,EAAGjX,EAAG,CAC1B,OAAOwe,GAAQvH,EAAGjX,EAAGzW,CAAO,CAC7B,CAED,OAAO6pG,EAAQ,MAAM,SAAStzF,EAAK,CACjC,IAAIwzF,EAASr8E,EAAEnX,CAAG,EACdyzF,EAASvzF,EAAEF,CAAG,EAElB,GAAIqzF,GAAY,QAAQrzF,CAAG,IAAM,GAC/B,OAAO0e,GAAQ80E,EAAQC,EAAQhqG,CAAO,EAGxC,IAAIs+E,EAAWorB,GAAUnzF,CAAG,EAM5B,GALK+nE,IACHA,EAAWuZ,IAITA,GAAQkS,EAAQC,CAAM,EACxB,MAAO,GAGT,GAAIL,GAAiB,QAAQpzF,CAAG,IAAM,KAC/B,CAACq0D,GAAIl9C,EAAGnX,CAAG,GAAKq0D,GAAIn0D,EAAGF,CAAG,GAAOq0D,GAAIl9C,EAAGnX,CAAG,GAAK,CAACq0D,GAAIn0D,EAAGF,CAAG,GAC9D,OAAOwzF,IAAWC,EAItB,IAAI7tD,EAASmiC,EAASyrB,EAAQC,EAAQzzF,EAAKuzF,CAAY,EACvD,GAAI,CAAC5B,GAAU/rD,CAAM,EACnB,MAAM,IAAI,MAAM,oCAAoC,EAEtD,OAAOA,CACX,CAAG,CACH,CAEA,IAAA8tD,GAAiBh1E,GC9KjB,SAAS00C,GAASrrE,EAAQ,CACzB,OAAO,OAAO,UAAU,SAAS,KAAMA,CAAO,IAAK,gBACpD,CAIA,IAAA21E,GAAiB,MAAM,SAAWtK,GCsBlC,SAASugC,GAAU5rG,EAAQ,CAC1B,OAAS,OAAOA,GAAU,UAAY,OAAO,UAAU,SAAS,KAAMA,CAAO,IAAK,oBAAuBA,EAAM,QAAO,IAAOA,EAAM,SACpI,CAKA,IAAA21E,GAAiBi2B,GCZbA,GAAWrtF,GAYf,SAASstF,GAAW7rG,EAAQ,CAC3B,OAAO4rG,GAAU5rG,CAAK,GAAMA,EAAM,IAAM,CACzC,CAKA,IAAA21E,GAAiBk2B,GCnBbxgC,GAAU9sD,GACbstF,GAAYltF,GAYb,SAASmtF,GAAgB9rG,EAAQ,CAChC,IAAIojB,EAKJ,GAJK,CAACioD,GAASrrE,KAGfojB,EAAMpjB,EAAM,OACP,CAACojB,GACL,MAAO,GAER,QAAUhhB,EAAI,EAAGA,EAAIghB,EAAKhhB,IACzB,GAAK,CAACypG,GAAW7rG,EAAMoC,CAAC,CAAC,EACxB,MAAO,GAGT,MAAO,EACR,CAKA,IAAAuzE,GAAiBm2B,GC5BjB,SAASv7B,GAAYvwE,EAAQ,CAC5B,OAAS,OAAOA,GAAU,UAC3B,CAKA,IAAA21E,GAAiBpF,GCxCblF,GAAU9sD,GACbutF,GAAiBntF,GACjB4xD,GAAa1xD,GAKVktF,GAAS,KAAK,IAAK,EAAG,EAAE,EAAK,EAajC,SAASC,GAAK58E,EAAGjX,EAAI,CACpB,IAAImW,EAAI,EACPzZ,EAED,GAAKua,IAAM,EACV,OAAOjX,EAER,GAAKA,IAAM,EACV,OAAOiX,EAGR,KAAQA,EAAE,IAAM,GAAKjX,EAAE,IAAM,GAC5BiX,EAAIA,EAAI,EACRjX,EAAIA,EAAI,EACRmW,EAAIA,EAAI,EAGT,KAAQc,EAAE,IAAM,GACfA,EAAIA,EAAI,EAGT,KAAQjX,GAAI,CAEX,KAAQA,EAAE,IAAM,GACfA,EAAIA,EAAI,EAGJiX,EAAIjX,IACRtD,EAAIsD,EACJA,EAAIiX,EACJA,EAAIva,GAELsD,EAAIA,EAAIiX,EAGT,OAAOd,EAAIc,CACZ,CAUA,SAAS68E,GAAS78E,EAAGjX,EAAI,CACxB,IAAImW,EAAI,EACPzZ,EAED,GAAKua,IAAM,EACV,OAAOjX,EAER,GAAKA,IAAM,EACV,OAAOiX,EAGR,KAAS,EAAAA,EAAI,IAAa,EAAAjX,EAAI,IAC7BiX,KAAO,EACPjX,KAAO,EACPmW,IAGD,KAAS,EAAAc,EAAI,IACZA,KAAO,EAGR,KAAQjX,GAAI,CAEX,KAAS,EAAAA,EAAI,IACZA,KAAO,EAGHiX,EAAIjX,IACRtD,EAAIsD,EACJA,EAAIiX,EACJA,EAAIva,GAELsD,EAAIA,EAAIiX,EAGT,OAAOA,GAAKd,CACb,CAaA,SAAS49E,IAAU,CAClB,IAAIC,EAAQ,UAAU,OACrBv6E,EACAw6E,EACA7sF,EACA6D,EACAgM,EAAGjX,EACH/V,EAID,IADAwvB,EAAO,IAAI,MAAOu6E,GACZ/pG,EAAI,EAAGA,EAAI+pG,EAAO/pG,IACvBwvB,EAAMxvB,CAAC,EAAK,UAAWA,CAAC,EAGzB,GAAK0pG,GAAgBl6E,GAAS,CAC7B,GAAKu6E,IAAU,EASd,OARA/8E,EAAIwC,EAAM,GACVzZ,EAAIyZ,EAAM,GACLxC,EAAI,IACRA,EAAI,CAACA,GAEDjX,EAAI,IACRA,EAAI,CAACA,GAEDiX,GAAK28E,IAAU5zF,GAAK4zF,GACjBE,GAAS78E,EAAGjX,GAEZ6zF,GAAK58E,EAAGjX,GAGjBoH,EAAMqS,UAGIy5C,GAASz5C,EAAM,CAAG,CAAA,EAIxB,GAAKu6E,EAAQ,GAGjB,GAFA5sF,EAAMqS,EAAM,GACZw6E,EAAOx6E,EAAM,GACR,CAAC2+C,GAAY67B,GACjB,MAAM,IAAI,UAAW,uEAAyEA,EAAO,IAAI,OAK1G7sF,EAAMqS,EAAM,OAZZ,OAAM,IAAI,UAAW,6EAA+EA,EAAM,CAAC,EAAK,MAiBjH,GAHAxO,EAAM7D,EAAI,OAGL6D,EAAM,EACV,OAAO,KAGR,GAAKgpF,EAAO,CAEX,IADAh9E,EAAI,IAAI,MAAOhM,GACThhB,EAAI,EAAGA,EAAIghB,EAAKhhB,IACrBgtB,EAAGhtB,CAAC,EAAKgqG,EAAM7sF,EAAKnd,CAAC,EAAIA,GAE1Bmd,EAAM6P,EAGP,GAAK+8E,EAAQ,GACP,CAACL,GAAgBvsF,GACrB,MAAM,IAAI,UAAW,kFAAoFA,EAAM,IAAI,EAIrH,IAAMnd,EAAI,EAAGA,EAAIghB,EAAKhhB,IACrBgtB,EAAI7P,EAAKnd,GACJgtB,EAAI,IACR7P,EAAKnd,GAAM,CAACgtB,GAKd,IADAA,EAAI7P,EAAK,GACHnd,EAAI,EAAGA,EAAIghB,EAAKhhB,IACrB+V,EAAIoH,EAAKnd,GACJ+V,GAAK4zF,IAAU38E,GAAK28E,GACxB38E,EAAI68E,GAAS78E,EAAGjX,GAEhBiX,EAAI48E,GAAK58E,EAAGjX,GAGd,OAAOiX,CACR,CAKA,IAAAumD,GAAiBu2B,GC/MbF,GAAMztF,GACT8sD,GAAU1sD,GACVmtF,GAAiBjtF,GACjB0xD,GAAa5qD,GAad,SAAS0mF,IAAM,CACd,IAAIF,EAAQ,UAAU,OACrBv6E,EACAw6E,EACA7sF,EACA6D,EACAgM,EAAGjX,EACH/V,EAID,IADAwvB,EAAO,IAAI,MAAOu6E,GACZ/pG,EAAI,EAAGA,EAAI+pG,EAAO/pG,IACvBwvB,EAAMxvB,CAAC,EAAK,UAAWA,CAAC,EAGzB,GAAK0pG,GAAgBl6E,GAAS,CAC7B,GAAKu6E,IAAU,EASd,OARA/8E,EAAIwC,EAAM,GACVzZ,EAAIyZ,EAAM,GACLxC,EAAI,IACRA,EAAI,CAACA,GAEDjX,EAAI,IACRA,EAAI,CAACA,GAEDiX,IAAM,GAAKjX,IAAM,EACd,EAECiX,EAAE48E,GAAI58E,EAAEjX,CAAC,EAAMA,EAEzBoH,EAAMqS,UAGIy5C,GAASz5C,EAAM,CAAG,CAAA,EAIxB,GAAKu6E,EAAQ,GAGjB,GAFA5sF,EAAMqS,EAAM,GACZw6E,EAAOx6E,EAAM,GACR,CAAC2+C,GAAY67B,GACjB,MAAM,IAAI,UAAW,uEAAyEA,EAAO,IAAI,OAK1G7sF,EAAMqS,EAAM,OAZZ,OAAM,IAAI,UAAW,6EAA+EA,EAAM,CAAC,EAAK,MAiBjH,GAHAxO,EAAM7D,EAAI,OAGL6D,EAAM,EACV,OAAO,KAGR,GAAKgpF,EAAO,CAEX,IADAh9E,EAAI,IAAI,MAAOhM,GACThhB,EAAI,EAAGA,EAAIghB,EAAKhhB,IACrBgtB,EAAGhtB,CAAC,EAAKgqG,EAAM7sF,EAAKnd,CAAC,EAAIA,GAE1Bmd,EAAM6P,EAGP,GAAK+8E,EAAQ,GACP,CAACL,GAAgBvsF,GACrB,MAAM,IAAI,UAAW,kFAAoFA,EAAM,IAAI,EAIrH,IAAMnd,EAAI,EAAGA,EAAIghB,EAAKhhB,IACrBgtB,EAAI7P,EAAKnd,GACJgtB,EAAI,IACR7P,EAAKnd,GAAM,CAACgtB,GAKd,IADAA,EAAI7P,EAAK,GACHnd,EAAI,EAAGA,EAAIghB,EAAKhhB,IAAM,CAE3B,GADA+V,EAAIoH,EAAKnd,GACJgtB,IAAM,GAAKjX,IAAM,EACrB,MAAO,GAERiX,EAAMA,EAAE48E,GAAI58E,EAAEjX,CAAC,EAAMA,EAEtB,OAAOiX,CACR,CAKA,IAAAumD,GAAiB02B,GC9GbjuB,GAAY7/D,GACZiyD,GAAW7xD,GAgBf,SAAS2tF,GAAoB1uB,EAAUC,EAAU5lE,EAAKk0D,EAAQjsD,EAAQ83D,EAAO,CAC3E,OAAIxH,GAASoN,CAAQ,GAAKpN,GAASqN,CAAQ,IAEzC7F,EAAM,IAAI6F,EAAUD,CAAQ,EAC5BQ,GAAUR,EAAUC,EAAU,OAAWyuB,GAAqBt0B,CAAK,EACnEA,EAAM,OAAU6F,CAAQ,GAEnBD,CACT,CAEA,IAAA2uB,GAAiBD,GC3BbluB,GAAY7/D,GACZ+/D,GAAiB3/D,GAiCjB6tF,GAAYluB,GAAe,SAASnS,EAAQjsD,EAAQu9D,EAAUE,EAAY,CAC5ES,GAAUjS,EAAQjsD,EAAQu9D,EAAUE,CAAU,CAChD,CAAC,EAED8uB,GAAiBD,GCtCbj7B,GAAQhzD,GACRo0D,GAAWh0D,GACX2tF,GAAsBztF,GACtB2tF,GAAY7mF,GAqBZ+mF,GAAe/5B,GAAS,SAAS/gD,EAAM,CACzC,OAAAA,EAAK,KAAK,OAAW06E,EAAmB,EACjC/6B,GAAMi7B,GAAW,OAAW56E,CAAI,CACzC,CAAC,EAED+6E,GAAiBD,GC7Bbv7B,GAAc5yD,GAGd08D,GAAW,EAAI,EAgBnB,SAAS2xB,GAAY1qG,EAAO,CAC1B,IAAImZ,EAASnZ,GAAS,KAAO,EAAIA,EAAM,OACvC,OAAOmZ,EAAS81D,GAAYjvE,EAAO+4E,EAAQ,EAAI,CAAA,CACjD,CAEA,IAAA4xB,GAAiBD,GCxBbl/B,GAAWnvD,GACXqqF,GAAmBjqF,GACnBg0D,GAAW9zD,GACXwqF,GAAsB1jF,GAmBtBmnF,GAAen6B,GAAS,SAASO,EAAQ,CAC3C,IAAIs2B,EAAS97B,GAASwF,EAAQm2B,EAAmB,EACjD,OAAQG,EAAO,QAAUA,EAAO,CAAC,IAAMt2B,EAAO,CAAC,EAC3C01B,GAAiBY,CAAM,EACvB,EACN,CAAC,EAEDuD,GAAiBD,GCnBjB,SAASE,GAAgB9qG,EAAOlC,EAAO86E,EAAWuB,EAAY,CAI5D,QAHI90E,EAAQuzE,EAAY,EACpBz/D,EAASnZ,EAAM,OAEZ,EAAEqF,EAAQ8T,GACf,GAAIghE,EAAWn6E,EAAMqF,CAAK,EAAGvH,CAAK,EAChC,OAAOuH,EAGX,MAAO,EACT,CAEA,IAAA0lG,GAAiBD,GCtBbt/B,GAAWnvD,GACX2uF,GAAcvuF,GACdquF,GAAkBnuF,GAClBsiE,GAAYx7D,GACZ03D,GAAY1Q,GAGZwgC,GAAa,MAAM,UAGnBC,GAASD,GAAW,OAaxB,SAASE,GAAYnrG,EAAO6V,EAAQ6yD,EAAUyR,EAAY,CACxD,IAAIixB,EAAUjxB,EAAa2wB,GAAkBE,GACzC3lG,EAAQ,GACR8T,EAAStD,EAAO,OAChByP,EAAOtlB,EAQX,IANIA,IAAU6V,IACZA,EAASslE,GAAUtlE,CAAM,GAEvB6yD,IACFpjD,EAAOkmD,GAASxrE,EAAOi/E,GAAUvW,CAAQ,CAAC,GAErC,EAAErjE,EAAQ8T,GAKf,QAJIy/D,EAAY,EACZ96E,EAAQ+X,EAAOxQ,CAAK,EACpB+0E,EAAW1R,EAAWA,EAAS5qE,CAAK,EAAIA,GAEpC86E,EAAYwyB,EAAQ9lF,EAAM80D,EAAUxB,EAAWuB,CAAU,GAAK,IAChE70D,IAAStlB,GACXkrG,GAAO,KAAK5lF,EAAMszD,EAAW,CAAC,EAEhCsyB,GAAO,KAAKlrG,EAAO44E,EAAW,CAAC,EAGnC,OAAO54E,CACT,CAEA,IAAAqrG,GAAiBF,GClDbA,GAAc9uF,GAsBlB,SAASivF,GAAQtrG,EAAO6V,EAAQ,CAC9B,OAAQ7V,GAASA,EAAM,QAAU6V,GAAUA,EAAO,OAC9Cs1F,GAAYnrG,EAAO6V,CAAM,EACzB7V,CACN,CAEA,IAAAurG,GAAiBD,GC5BbjF,GAAWhqF,GACXiqF,GAAgB7pF,GAChB8pF,GAAoB5pF,GACpB6uD,GAAW/nD,GACXw7D,GAAYxU,GACZ+7B,GAAW77B,GAGX6gC,GAAmB,IAavB,SAASC,GAAezrG,EAAO6V,EAAQ6yD,EAAUyR,EAAY,CAC3D,IAAI90E,EAAQ,GACRshG,EAAWL,GACXzqB,EAAW,GACX1iE,EAASnZ,EAAM,OACf27C,EAAS,CAAE,EACX+vD,EAAe71F,EAAO,OAE1B,GAAI,CAACsD,EACH,OAAOwiC,EAEL+sB,IACF7yD,EAAS21D,GAAS31D,EAAQopE,GAAUvW,CAAQ,CAAC,GAE3CyR,GACFwsB,EAAWJ,GACX1qB,EAAW,IAEJhmE,EAAO,QAAU21F,KACxB7E,EAAWH,GACX3qB,EAAW,GACXhmE,EAAS,IAAIwwF,GAASxwF,CAAM,GAE9BmxF,EACA,KAAO,EAAE3hG,EAAQ8T,GAAQ,CACvB,IAAIrb,EAAQkC,EAAMqF,CAAK,EACnB+0E,EAAW1R,GAAY,KAAO5qE,EAAQ4qE,EAAS5qE,CAAK,EAGxD,GADAA,EAASq8E,GAAcr8E,IAAU,EAAKA,EAAQ,EAC1C+9E,GAAYzB,IAAaA,EAAU,CAErC,QADIuxB,EAAcD,EACXC,KACL,GAAI91F,EAAO81F,CAAW,IAAMvxB,EAC1B,SAAS4sB,EAGbrrD,EAAO,KAAK79C,CAAK,OAET6oG,EAAS9wF,EAAQukE,EAAUD,CAAU,GAC7Cx+B,EAAO,KAAK79C,CAAK,EAGrB,OAAO69C,CACT,CAEA,IAAAiwD,GAAiBH,GClEbA,GAAiBpvF,GACjBo0D,GAAWh0D,GACXm0D,GAAoBj0D,GAsBpBkvF,GAAUp7B,GAAS,SAASzwE,EAAO6V,EAAQ,CAC7C,OAAO+6D,GAAkB5wE,CAAK,EAC1ByrG,GAAezrG,EAAO6V,CAAM,EAC5B,EACN,CAAC,EAEDi2F,GAAiBD,GC9BjB,MAAMnyB,GAAUr9D,GACVquF,GAAcjuF,GACd4+D,GAAgB1+D,GAChBirF,GAAOnkF,GACP0iF,GAAW17B,GACXohC,GAAUlhC,GAEhB,SAASohC,GAAqBC,EAAc,CAE1C,UAAWljB,KAAQkjB,EACb5hC,GAAI4hC,EAAcljB,CAAI,GAAKmjB,GAAcD,EAAaljB,CAAI,CAAC,GAC7D,OAAOkjB,EAAaljB,CAAI,EAG5B,OAAOkjB,CACT,CAEA,MAAME,GAAiB7uF,GAAQuqF,GAAK8C,GAAYrtF,EAAI,IAAIwxC,EAAI,CAAC,CAAC,EACxDs9C,GAAY,CAACC,EAASr2F,IAAQq2F,EAAQ,IAAI/D,GAAUA,GAAUA,EAAOtyF,CAAG,CAAC,EACzEq0D,GAAM,CAAC9rD,EAAK+tF,IAAa,OAAO,UAAU,eAAe,KAAK/tF,EAAK+tF,CAAQ,EAC3Ex9C,GAAOvwC,GACP+8D,GAAc/8D,CAAG,GAAK,MAAM,QAAQA,CAAG,EAClC,OAAO,KAAKA,CAAG,EAEf,CAAE,EAIPguF,GAAgB5lG,GAAQA,IAAQ,OAChC6hG,GAAY7hG,GAAQ20E,GAAc30E,CAAG,GAAKA,IAAQ,IAAQA,IAAQ,GAClEulG,GAAiB3tF,GAAS,CAACuwC,GAAKvwC,CAAG,EAAE,QAAWA,IAAQ,IAASA,IAAQ,GACzEiuF,GAAa,CAAClvF,KAAQgxB,IAASw9D,GAAQ,MAAM,KAAM,CAACxuF,CAAG,EAAE,OAAOq8D,GAAQrrC,CAAI,CAAC,CAAC,EAEpF,IAAAm+D,GAAiB,CACjB,cAAEN,GACF,qBAAEH,GACF,UAAEI,GACF,IAAE/hC,GACA,cAAA6hC,GACF,SAAE1D,GACF,KAAE15C,GACF,aAAEy9C,GACF,SAAEnG,GACF,WAAEoG,EACF,EC3CA,MAAM93E,GAAUpY,GACV+sD,GAAU3sD,GACV,CACN,cAAEyvF,GACF,qBAAEH,GACF,UAAEI,GACF,KAAEt9C,GACF,aAAEy9C,GACF,SAAEnG,GACA,WAAAoG,EACF,EAAI5vF,GAEJ,SAAS8vF,GAAmBjyE,EAAQ,CAClC4uC,GAAQ5uC,EAAQ,SAAS6tE,EAAQvf,EAAM,CACjCuf,IAAW,IACb,OAAO7tE,EAAOsuD,CAAI,CAExB,CAAG,CACH,CAEA,SAAS4jB,GAAiBzjG,EAAO0jG,EAAc,CAE7C,OADgBT,GAAcjjG,CAAK,EACpB,OAAO,SAAS2jG,EAAK72F,EAAK,CACvC,MAAMq2F,EAAUD,GAAUljG,EAAO8M,CAAG,EAC9B82F,EAAY1G,GAASiG,EAAQ,OAAOE,EAAY,EAAG73E,EAAO,EAChE,OAAAm4E,EAAI72F,CAAG,EAAI42F,EAAaE,EAAW92F,CAAG,EAC/B62F,CACR,EAAE,EAAE,CACP,CAEA,IAAAE,GAAiB,CACf,SAAU,CAAC,aAAc,oBAAqB,sBAAsB,EACpE,SAASj3F,EAAQqb,EAAS67E,EAASvtG,EAAS,CAErCA,EAAQ,6BACXqW,EAAO,QAAQ,SAASm3F,EAAW,CACjC,MAAMC,EAAkBp3F,EAAO,OAAOwmB,GAAKA,IAAM2wE,CAAS,EACpDE,EAAUr+C,GAAKm+C,EAAU,UAAU,EAEnCG,EADiBt+C,GAAKm+C,EAAU,iBAAiB,EACpB,IAAI5gF,GAAK,IAAI,OAAOA,CAAC,CAAC,EACzD6gF,EAAgB,QAAQ,SAAShlG,EAAO,CACtC,MAAMmlG,EAAev+C,GAAK5mD,EAAM,UAAU,EACpColG,EAAsBD,EAAa,OAAOhhF,GAAK+gF,EAAY,KAAKG,GAAMA,EAAG,KAAKlhF,CAAC,CAAC,CAAC,EAChEmgF,GAAWa,EAAcF,EAASG,CAAmB,EAC7D,QAAQ,SAASt3F,EAAK,CACnC9N,EAAM,WAAW8N,CAAG,EAAIg3F,EAAQ,WAAW,CACzC9kG,EAAM,WAAW8N,CAAG,EAAGi3F,EAAU,oBAClC,EAAEj3F,CAAG,CAClB,CAAW,CACX,CAAS,CACT,CAAO,EAGDF,EAAO,QAAQ,SAASm3F,EAAW,CACjC,MAAMC,EAAkBp3F,EAAO,OAAOwmB,GAAKA,IAAM2wE,CAAS,EACpDO,EAAiB1+C,GAAKm+C,EAAU,iBAAiB,EACnDA,EAAU,uBAAyB,IACrCC,EAAgB,QAAQ,SAAShlG,EAAO,CACtC,MAAMulG,EAAmB3+C,GAAK5mD,EAAM,iBAAiB,EACvBskG,GAAWiB,EAAkBD,CAAc,EACnD,QAAQx3F,GAAO,OAAO9N,EAAM,kBAAkB8N,CAAG,CAAC,CACpF,CAAW,CAEX,CAAO,GAGH,MAAMi2F,EAAe,CACnB,qBAAsBe,EAAQ,qBAAqBl3F,EAAO,IAAIwmB,GAAKA,EAAE,oBAAoB,CAAC,EAC1F,kBAAmBqwE,GAAiB72F,EAAO,IAAIwmB,GAAKA,EAAE,iBAAiB,EAAG0wE,EAAQ,iBAAiB,EACnG,WAAYL,GAAiB72F,EAAO,IAAIwmB,GAAKA,EAAE,UAAU,EAAG0wE,EAAQ,UAAU,CAC/E,EAED,OAAIf,EAAa,uBAAyB,IACxCS,GAAmBT,EAAa,UAAU,EAGrCD,GAAqBC,CAAY,CACzC,CACH,EC9EA,MAAMv3E,GAAUpY,GACV+sD,GAAU3sD,GACV,CACN,cAAEyvF,GACA,qBAAAH,GACA,IAAA3hC,GACF,SAAEm+B,GACF,aAAE+D,GACF,SAAEnG,EACF,EAAIxpF,GAEJ,SAAS8wF,GAA4BjzE,EAAQ,CAC3C4uC,GAAQ5uC,EAAQ,SAAS6tE,EAAQhjG,EAAO,CAClCgjG,IAAW,IACb7tE,EAAO,OAAOn1B,EAAO,CAAC,CAE5B,CAAG,CACH,CAEA,SAASqoG,GAAeC,EAAY53F,EAAK,CACvC,OAAO43F,EAAW,IAAI,SAASC,EAAK,CAClC,GAAKA,EAIL,GAAI,MAAM,QAAQA,EAAI,KAAK,EAAG,CAC5B,MAAMC,EAAcD,EAAI,MAAM73F,CAAG,EACjC,GAAIwyF,GAASsF,CAAW,EACtB,OAAOA,EACF,GAAIzjC,GAAIwjC,EAAK,iBAAiB,EACnC,OAAOA,EAAI,oBAGb,QAAOA,EAAI,KAIjB,CAAG,CACH,CAEA,SAASE,GAAqBH,EAAY,CACxC,OAAOA,EAAW,IAAI,SAASC,EAAK,CAClC,GAAKA,EAGL,OAAI,MAAM,QAAQA,EAAI,KAAK,EAClBA,EAAI,gBAENA,EAAI,KACf,CAAG,CACH,CAGA,SAASG,GAAW9kG,EAAO0jG,EAAchzF,EAAO,CAE9C,OADgBuyF,GAAcvyF,CAAK,EACpB,OAAO,SAASizF,EAAK72F,EAAK,CACvC,MAAMq2F,EAAUsB,GAAezkG,EAAO8M,CAAG,EACnC82F,EAAY1G,GAASiG,EAAQ,OAAOE,EAAY,EAAG73E,EAAO,EAChE,OAAAm4E,EAAI72F,CAAG,EAAI42F,EAAaE,EAAW92F,CAAG,EAC/B62F,CACR,EAAE,EAAE,CACP,CAEA,IAAAjzF,GAAiB,CACf,SAAU,CAAC,QAAS,iBAAiB,EACrC,SAAS9D,EAAQqb,EAAS67E,EAAS,CAEjC,MAAMpzF,EAAQ9D,EAAO,IAAI,GAAK,EAAE,KAAK,EAC/Bm4F,EAAiBr0F,EAAM,OAAO2yF,EAAY,EAC1CN,EAAe,CAAE,EAInBgC,EAAe,MAAMzF,EAAQ,EAC/ByD,EAAa,MAAQe,EAAQ,MAAMpzF,CAAK,EAExCqyF,EAAa,MAAQ+B,GAAWl4F,EAAQk3F,EAAQ,MAAOpzF,CAAK,EAG9D,IAAIs0F,EACJ,OAAID,EAAe,MAAM,MAAM,OAAO,EACpCC,EAAmBp4F,EAAO,IAAI,GAAK,EAAE,eAAe,EAC3Cm4F,EAAe,KAAK,MAAM,OAAO,IAC1CC,EAAmBH,GAAqBj4F,CAAM,GAG5Co4F,IACFjC,EAAa,gBAAkBe,EAAQ,gBAAgBkB,CAAgB,GAGrEjC,EAAa,kBAAoB,IAAS,MAAM,QAAQA,EAAa,KAAK,GAC5EyB,GAA4BzB,EAAa,KAAK,EAGzCD,GAAqBC,CAAY,CACzC,CACH,ECjGA,MAAMkC,GAAY7xF,GACZoY,GAAUhY,GACV0xF,GAAaxxF,GACb6tF,GAAe/mF,GACfi2D,GAAUjP,GACVigC,GAAc//B,GACdigC,GAAe//B,GACfw8B,GAAmBt8B,GACnBssB,GAAU9oB,GACV8M,GAAgB7M,GAChB88B,GAAUh6B,GACVgO,GAAS/N,GACTq2B,GAAOp2B,GACP20B,GAAW10B,GAEX28B,GAAqB18B,GACrB28B,GAAgB18B,GAEhB28B,GAAW,CAACjxF,EAAK3W,IAAQ2W,EAAI,QAAQ3W,CAAG,IAAM,GAC9C6hG,GAAY7hG,GAAQ20E,GAAc30E,CAAG,GAAKA,IAAQ,IAAQA,IAAQ,GAClE6nG,GAAW7nG,GAAQA,IAAQ,GAC3B8nG,GAAU9nG,GAAQA,IAAQ,GAC1B+nG,GAAiB,CAAC5B,EAAW92F,EAAK42F,IAAiBA,EAAaE,CAAS,EACzE9E,GAAelyF,GAAWypE,GAAOsoB,GAAK8C,GAAY70F,CAAM,CAAC,CAAC,EAC1Dy2F,GAAgB5lG,GAAQA,IAAQ,OAChCwlG,GAAiB7uF,GAAQuqF,GAAK8C,GAAYrtF,EAAI,IAAIwxC,EAAI,CAAC,CAAC,EAGxD6/C,GAAQ7B,GAAaA,EAAU,CAAC,EAChC8B,GAAW9B,GAAa9E,GAAY8E,CAAS,EAC7C+B,GAAe/B,GAAa,KAAK,IAAI,MAAM,KAAMA,CAAS,EAC1DgC,GAAehC,GAAa,KAAK,IAAI,MAAM,KAAMA,CAAS,EAC1DiC,GAAcjC,GAAaA,EAAU,KAAK2B,EAAM,EAChDO,GAAWlC,GAAa1G,GAASzsB,GAAQmzB,CAAS,EAAGxV,EAAO,EAElE,SAAS2X,GAAYj5F,EAAK,CACxB,OAAO,SAASmX,EAAGjX,EAAG,CACpB,OAAOwe,GAAQ,CACb,CAAC1e,CAAG,EAAGmX,CACb,EAAO,CAAE,CAACnX,CAAG,EAAGE,EAAG,CAChB,CACH,CAEA,SAASg5F,GAAS5G,EAAQ,CACxB,GAAI,CAAE,MAAA6G,EAAQ,CAAA,EAAI,GAAG1/E,CAAM,EAAG64E,EAC9B,OAAA74E,EAAO6rD,GAAcgtB,CAAM,EAAI74E,EAAO64E,EAC/B,CAAC74E,EAAM,GAAG0/E,EAAM,IAAID,EAAQ,CAAC,CACtC,CAEA,SAAS9C,GAAUC,EAASr2F,EAAK,CAC/B,OAAOq2F,EAAQ,IAAI/D,GAAUA,GAAUA,EAAOtyF,CAAG,CAAC,CACpD,CAEA,SAASo5F,GAAqBC,EAAczC,EAAc,CACxD,OAAOyC,EAAa,IAAI,SAAShD,EAAS/mG,EAAO,CAC/C,GAAI,CACF,OAAOsnG,EAAaP,EAAS/mG,CAAK,CACnC,MAAC,CACA,MACD,CACL,CAAG,EAAE,OAAOinG,EAAY,CACxB,CAEA,SAASz9C,GAAKvwC,EAAK,CACjB,OAAI+8D,GAAc/8D,CAAG,GAAK,MAAM,QAAQA,CAAG,EAClC,OAAO,KAAKA,CAAG,EAEf,CAAE,CAEb,CAEA,SAAS+wF,GAAqBC,EAAaC,EAAc,CAEvD,GADAA,EAAeA,GAAgB,CAAE,EAC7B,CAACD,EAAY,OACf,OAAOC,EAGT,MAAM15F,EAASy5F,EAAY,MAAM,CAAC,EAAE,MAAO,EACrCjhE,EAAOihE,EAAY,MAAM,CAAC,EAChC,OAAIC,EAAa,OACRF,GAAqBhhE,EAAMqrC,GAAQ61B,EAAa,IAAIC,GAAe35F,EAAO,IAAIkB,GAAS,CAACA,CAAI,EAAE,OAAOy4F,CAAW,CAAE,CAAC,CAAC,CAAC,EAEvHH,GAAqBhhE,EAAMx4B,EAAO,IAAIkB,GAASA,CAAK,CAAC,CAC9D,CAEA,SAAS04F,GAAkB55F,EAAQmnE,EAAO,CACxC,IAAI0yB,EACJ,GAAI,CACFA,EAAS75F,EAAO,IAAI,SAASnP,EAAK,CAChC,OAAO,KAAK,UAAUA,EAAK,KAAM,CAAC,CACxC,CAAK,EAAE,KAAK;AAAA,CAAI,CACb,MAAC,CACAgpG,EAAS75F,EAAO,KAAK,IAAI,CAC1B,CACD,MAAM,IAAI,MAAM,sCAAwCmnE,EAAM,KAAK,GAAG,EAAI;AAAA,EAAkD0yB,CAAM,CACpI,CAEA,SAASC,GAAkBC,EAAiBC,EAAczD,EAASO,EAAcntG,EAAS0xB,EAAS,CACjG,GAAI0+E,EAAgB,OAAQ,CAC1B,MAAME,EAAiBtwG,EAAQ,iBAAiBqwG,CAAY,EAC5D,GAAI,CAACC,GAAkB,CAACA,EAAe,SACrC,MAAM,IAAI,MAAM,yBAA2BD,CAAY,EAKzD,MAAME,EAAwB3D,EAAQ,IAAI/D,GAAUuH,EAAgB,OAAO,CAAChD,EAAK72F,KAC3EsyF,EAAOtyF,CAAG,IAAM,SAAW62F,EAAI72F,CAAG,EAAIsyF,EAAOtyF,CAAG,GAC7C62F,GACN,CAAE,CAAA,CAAC,EACAoD,EAAS7J,GAAS4J,EAAuBt7E,EAAO,EAGhDs4E,EAAU+C,EAAe,SAAS,OAAO,CAAClD,EAAK72F,KAAS,CAC5D,GAAG62F,EACH,CAAC72F,CAAG,EAAG,CAACq2F,EAAS6D,EAAW,CAAE,IAAKtD,EAAaP,EAAS,KAAMl7E,EAAQ,OAAOnb,EAAKk6F,CAAQ,CAAC,CAC7F,GAAG,CAAA,CAAE,EAEAt0D,EAASm0D,EAAe,SAASE,EAAQ9+E,EAAQ,OAAO2+E,CAAY,EAAG9C,EAASvtG,CAAO,EAE7F,OAAK67E,GAAc1/B,CAAM,GACvB8zD,GAAkBO,EAAQ9+E,EAAQ,OAAO2+E,CAAY,CAAC,EAGjDl0D,EAEX,CAEA,SAASu0D,GAAwB7yF,EAAK,CACpC,MAAO,CAAE,SAAUA,CAAK,CAC1B,CAEA,MAAM8yF,GAAmB,CAAC,aAAc,oBAAqB,cAAe,cAAc,EACpFC,GAAe,CAAC,QAAS,OAAO,EAChChH,GAAc,CAClB,uBACA,kBACA,WACA,gBACA,MACA,OACF,EAEMiH,GAAmB,CACvB,KAAKxD,EAAW,CACd,GAAIA,EAAU,KAAK,MAAM,OAAO,EAAG,CACjC,MAAMyD,EAAazD,EAAU,IAAI,SAASnmG,EAAK,CAC7C,OAAO,MAAM,QAAQA,CAAG,EACpBA,EACA,CAACA,CAAG,CAChB,CAAO,EACK8lG,EAAS5B,GAAa,MAAM,KAAM0F,CAAU,EAElD,GAAI9D,EAAO,SAAW,EACpB,OAAOA,EAAO,CAAC,EACV,GAAIA,EAAO,OAAS,EACzB,OAAO5E,GAAK4E,CAAM,EAGvB,EACD,aAAaK,EAAW7vB,EAAO2vB,EAAc,CAG3C,OAFoBT,GAAcW,CAAS,EAExB,OAAO,SAASD,EAAK2D,EAAU,CAChD,MAAMC,EAAerE,GAAUU,EAAW0D,CAAQ,EAClD,IAAIE,EAAiBtK,GAASqK,EAAa,OAAOlE,EAAY,EAAGjV,EAAO,EAGxE,MAAMqZ,EAAcD,EAAe,OAAO,MAAM,OAAO,EAEvD,GAAIC,EAAY,OAAQ,CACtB,GAAIA,EAAY,SAAWD,EAAe,OACxC7D,EAAI2D,CAAQ,EAAIxI,GAAY0I,CAAc,MACrC,CACL,MAAME,EAAeF,EAAe,OAAOlI,EAAQ,EAC7CqI,EAAmBF,EAAY,IAAIR,EAAuB,EAChEtD,EAAI2D,CAAQ,EAAI5D,EAAagE,EAAa,OAAOC,CAAgB,EAAGL,CAAQ,EAE9E,OAAO3D,EAGT,OAAA6D,EAAiBtK,GAASsK,EAAgBh8E,EAAO,EAEjDm4E,EAAI2D,CAAQ,EAAI5D,EAAa8D,EAAgBF,CAAQ,EAC9C3D,CACR,EAAE,EAAE,CACN,EACD,MAAMC,EAAW7vB,EAAO2vB,EAAc,CACpC,MAAM4C,EAAeF,GAAqBnB,GAAUrB,CAAS,CAAC,EACxDlxD,EAASwzD,GAAqBI,EAAc5C,CAAY,EACxDqD,EAAS7J,GAASxqD,EAAQlnB,EAAO,EAEvC,GAAIu7E,EAAO,OACT,OAAOA,CAEV,EACD,IAAInD,EAAW,CACb,MAAO,CAAE,MAAOA,CAAW,CAC5B,EACD,QAAQA,EAAW,CACjB,OAAOA,EAAU,IAAIl/E,GAAK,MAAQA,EAAI,GAAG,EAAE,KAAK,EAAE,CACnD,EACD,WAAWk/E,EAAW,CACpB,IAAIgE,EAAWhE,EAAU,MAAM,CAAC,EAC5B7gD,EAAS,EACb,KAAO6kD,EAAS,KAAKxjF,GAAK,CAAC,OAAO,UAAUA,CAAC,CAAC,GAC5CwjF,EAAWA,EAAS,IAAIxjF,GAAKA,EAAI,EAAE,EACnC2+B,EAASA,EAAS,GAEpB,OAAOmiD,GAAW0C,CAAQ,EAAI7kD,CAC/B,EACD,KAAK6gD,EAAW,CACd,MAAMiE,EAAQzJ,GAAiB,MAAM,KAAMwF,EAAU,OAAOxV,EAAO,CAAC,EACpE,GAAIyZ,EAAM,OACR,OAAOxxB,GAAOwxB,CAAK,CAEtB,CACH,EAEAT,GAAiB,IAAM3B,GACvB2B,GAAiB,KAAO3B,GACxB2B,GAAiB,QAAU3B,GAC3B2B,GAAiB,gBAAkB5B,GACnC4B,GAAiB,qBAAuB5B,GACxC4B,GAAiB,MAAQA,GAAiB,MAC1CA,GAAiB,SAAW5B,GAC5B4B,GAAiB,QAAU3B,GAC3B2B,GAAiB,YAAcA,GAAiB,aAChDA,GAAiB,YAAc3B,GAC/B2B,GAAiB,SAAWtB,GAC5BsB,GAAiB,iBAAmBxB,GACpCwB,GAAiB,iBAAmBzB,GACpCyB,GAAiB,MAAQhC,GACzBgC,GAAiB,QAAUxB,GAC3BwB,GAAiB,SAAWxB,GAC5BwB,GAAiB,UAAYxB,GAC7BwB,GAAiB,cAAgBxB,GACjCwB,GAAiB,QAAUzB,GAC3ByB,GAAiB,SAAWzB,GAC5ByB,GAAiB,UAAYzB,GAC7ByB,GAAiB,cAAgBzB,GACjCyB,GAAiB,WAAajC,GAC9BiC,GAAiB,cAAgB5B,GACjC4B,GAAiB,SAAW1B,GAC5B0B,GAAiB,MAAQ3B,GACzB2B,GAAiB,YAAcvB,GAE/B,MAAMiC,GAA0B,CAC9B,WAAY3C,GACZ,MAAOC,EACT,EAEA,SAAS2C,GAAOC,EAAYzxG,EAAS0xG,EAAc,CAEjD1xG,EAAUgrG,GAAahrG,EAAS,CAC9B,2BAA4B,GAC5B,UAAW6wG,GACX,iBAAkBU,GAClB,KAAM,EACV,CAAG,EAED,MAAMI,EAAmB,OAAO,QAAQ3xG,EAAQ,gBAAgB,EAEhE,SAASmtG,EAAaP,EAASgF,EAAMlgF,EAAS,CAC5Ck7E,EAAU8B,GAAU9B,EAAQ,OAAOE,EAAY,CAAC,EAChDp7E,EAAUA,GAAW,CAAE,EACvB,MAAMmgF,EAASh2B,GAAc+1B,CAAI,EAC7BA,EACA,CAAE,EAGN,GAAI,CAAChF,EAAQ,OACX,OAGF,GAAIA,EAAQ,KAAKmC,EAAO,EACtB,MAAO,GAGT,GAAInC,EAAQ,MAAMoC,EAAM,EACtB,MAAO,GAITpC,EAAUA,EAAQ,OAAO/wB,EAAa,EAEtC,MAAMguB,EAAU6C,GAAcE,CAAO,EACrC,GAAI5sG,EAAQ,MAAQ8uG,GAASjF,EAAS,OAAO,EAC3C,OAAO2H,GAAO,CACZ,MAAO5E,CACR,EAAE5sG,CAAqB,EAG1B,MAAM8xG,EAAiBH,EAAiB,IAAI,CAAC,CAACI,EAAaC,CAAY,IACrEnI,EAAQ,OAAOj9E,GAAKolF,EAAa,SAAS,SAASplF,CAAC,CAAC,CAAC,EAGxD,OAAAklF,EAAe,QAAQziD,GAAQy8C,GAAQjC,EAASx6C,CAAI,CAAC,EAGrDw6C,EAAQ,QAAQ,SAAStzF,EAAK,CAC5B,MAAMF,EAASs2F,GAAUC,EAASr2F,CAAG,EAC/B82F,EAAY1G,GAAStwF,EAAO,OAAOy2F,EAAY,EAAG0C,GAAYj5F,CAAG,CAAC,EAIxE,GAAI82F,EAAU,SAAW,GAAKyB,GAAS8B,GAAcr6F,CAAG,EACtDs7F,EAAOt7F,CAAG,EAAI82F,EAAU,CAAC,EAAE,IAAIxE,GAAUsE,EAAa,CAACtE,CAAM,EAAGA,CAAM,CAAC,UAE9DwE,EAAU,SAAW,GAAK,CAACyB,GAAS6B,GAAkBp6F,CAAG,GAAK,CAACu4F,GAASlF,GAAarzF,CAAG,EACjGs7F,EAAOt7F,CAAG,EAAI82F,EAAU,CAAC,MACpB,CACL,MAAM4E,EAAWjyG,EAAQ,UAAUuW,CAAG,GAAKvW,EAAQ,UAAU,gBAC7D,GAAI,CAACiyG,EAAU,MAAM,IAAI,MAAM,6BAA+B17F,EAAM,8FAA8F,EAElK,MAAMi7F,EAAS,CAAC5E,EAAS6D,EAAW,CAAE,IAAKtD,EAAaP,EAAS,KAAMl7E,EAAQ,OAAOnb,EAAKk6F,CAAQ,CAAC,EACpGoB,EAAOt7F,CAAG,EAAI07F,EAAS5E,EAAW37E,EAAQ,OAAOnb,CAAG,EAAGi7F,EAAQxxG,CAAO,EAElE6xG,EAAOt7F,CAAG,IAAM,OAClB05F,GAAkB5C,EAAW37E,EAAQ,OAAOnb,CAAG,CAAC,EACvCs7F,EAAOt7F,CAAG,IAAM,QACzB,OAAOs7F,EAAOt7F,CAAG,EAG3B,CAAK,EAEMo7F,EAAiB,OAAO,CAACvE,EAAK,CAAC8E,EAAiBzyG,CAAM,EAAGoG,KAAW,CACzE,GAAGunG,EACH,GAAG+C,GAAkB2B,EAAejsG,CAAK,EAAGqsG,EAAiBtF,EAASO,EAAcntG,EAAS0xB,CAAO,CACrG,GAAGmgF,CAAM,CACX,CAED,MAAMM,EAAajH,GAAYuE,GAASgC,CAAU,CAAC,EAGnD,OAFetE,EAAagF,CAAU,CAGxC,CAEAX,GAAO,QAAU,CACf,UAAWX,EACb,EAEA,IAAA5G,GAAiBuH,mBC1TjB,SAAS1iC,GAASsjC,EAAO,CAIvB,OAHI,OAAO,KAAS,KAAeA,aAAiB,MAGhD,OAAO,KAAS,KAAeA,aAAiB,KAC3C,GAEF,OAAOA,GAAU,UAAYA,IAAU,MAAQ,CAAC,MAAM,QAAQA,CAAK,CAC5E,CAQA,SAASC,GAAqBxJ,EAAQ,CACpC,OAAIA,EAAO,kBAAoB,IAC7B,QAAQ,KAAK,iDAAiD,EAEzD/5B,GAAS+5B,EAAO,eAAe,CACxC,CAWA,SAASyJ,GAASh0G,EAAO,CACvB,GAAIA,IAAU,GAGd,IAAIA,IAAU,KACZ,OAAO,KAWT,GATI,MAAM,KAAKA,CAAK,GAKhB,OAAO,KAAKA,CAAK,GAIjB,UAAU,KAAKA,CAAK,EAItB,OAAOA,EAET,IAAIuvB,EAAI,OAAOvvB,CAAK,EAChBi0G,EAAQ,OAAO1kF,GAAM,UAAY,CAAC,OAAO,MAAMA,CAAC,EACpD,OAAO0kF,EAAQ1kF,EAAIvvB,EACrB,CAEA,SAASk0G,GAAkBx3E,EAAQ/5B,EAAO,CACxC,QAASP,EAAI,EAAGA,EAAIO,EAAM,OAAQP,IAAK,CACrC,IAAI+xG,EAAaxxG,EAAMP,CAAC,EACxB+xG,EAAW,WAAaA,EAAW,YAAc,GACjDA,EAAW,aAAe,GACtB,UAAWA,IAAYA,EAAW,SAAW,IACjD,OAAO,eAAez3E,EAAQ03E,GAAeD,EAAW,GAAG,EAAGA,CAAU,EAE5E,CACA,SAASE,GAAaC,EAAaC,EAAYC,EAAa,CAC1D,OAAID,GAAYL,GAAkBI,EAAY,UAAWC,CAAU,EAC/DC,GAAaN,GAAkBI,EAAaE,CAAW,EAC3D,OAAO,eAAeF,EAAa,YAAa,CAC9C,SAAU,EACd,CAAG,EACMA,CACT,CACA,SAASlpG,IAAW,CAClBA,OAAAA,GAAW,OAAO,OAAS,OAAO,OAAO,KAAI,EAAK,SAAUsxB,EAAQ,CAClE,QAASt6B,EAAI,EAAGA,EAAI,UAAU,OAAQA,IAAK,CACzC,IAAI8d,EAAS,UAAU9d,CAAC,EACxB,QAAS6V,KAAOiI,EACV,OAAO,UAAU,eAAe,KAAKA,EAAQjI,CAAG,IAClDykB,EAAOzkB,CAAG,EAAIiI,EAAOjI,CAAG,GAI9B,OAAOykB,CACX,EACStxB,GAAS,MAAM,KAAM,SAAS,CACvC,CACA,SAASqpG,GAA0Bj0F,EAAK,CACtC,GAAIA,GAAO,KAAM,MAAM,IAAI,UAAU,sBAAwBA,CAAG,CAClE,CACA,SAASzT,GAA8BmT,EAAQw0F,EAAU,CACvD,GAAIx0F,GAAU,KAAM,MAAO,GAC3B,IAAIwc,EAAS,CAAA,EACTi4E,EAAa,OAAO,KAAKz0F,CAAM,EAC/BjI,EAAK,EACT,IAAK,EAAI,EAAG,EAAI08F,EAAW,OAAQ,IACjC18F,EAAM08F,EAAW,CAAC,EACd,EAAAD,EAAS,QAAQz8F,CAAG,GAAK,KAC7BykB,EAAOzkB,CAAG,EAAIiI,EAAOjI,CAAG,GAE1B,OAAOykB,CACT,CACA,SAASk4E,GAAa/yG,EAAOgzG,EAAM,CACjC,GAAI,OAAOhzG,GAAU,UAAYA,IAAU,KAAM,OAAOA,EACxD,IAAI83E,EAAO93E,EAAM,OAAO,WAAW,EACnC,GAAI83E,IAAS,OAAW,CACtB,IAAIrhC,EAAMqhC,EAAK,KAAK93E,EAAOgzG,GAAQ,SAAS,EAC5C,GAAI,OAAOv8D,GAAQ,SAAU,OAAOA,EACpC,MAAM,IAAI,UAAU,8CAA8C,EAEpE,OAAQu8D,IAAS,SAAW,OAAS,QAAQhzG,CAAK,CACpD,CACA,SAASuyG,GAAe32F,EAAK,CAC3B,IAAIxF,EAAM28F,GAAan3F,EAAK,QAAQ,EACpC,OAAO,OAAOxF,GAAQ,SAAWA,EAAM,OAAOA,CAAG,CACnD,CAOG,IAAC68F,GAA2B,wBAC3BC,GAA4B,uBAC5BC,GAAa,QACbC,GAAa,QACbC,GAAY,QACZC,GAAc,UAEdC,GAAmB,eACnBC,GAAW,OACXC,GAAa,WACbC,GAAS,MACTC,GAAS,KACTC,GAAY,QACZC,GAAiB,4BACjBC,GAAW,QACXC,GAAa,QACbC,GAAiB,aACjBC,GAAe,WACfC,GAAyB,sBACzBC,GAAU,OACVC,GAAiC,8BACjCC,GAAqB,oBACrBC,GAAe,WACfC,GAAgB,YAChBC,GAAiB,aACjBC,GAAwB,mBAS5B,SAASC,GAAaC,EAAUC,EAAe,CAC7C,OAAID,IAAa,SACfA,EAAW,CAAA,GAETC,IAAkB,SACpBA,EAAgB,CAAA,GAEX,OAAO,KAAKD,CAAQ,EAAE,OAAO,SAAUv+F,EAAK,CACjD,OAAOA,EAAI,QAAQ,KAAK,IAAM,CAC/B,CAAA,EAAE,OAAO,SAAUvW,EAASuW,EAAK,CAChC,IAAIy+F,EACA12G,EAAQw2G,EAASv+F,CAAG,EACxB,OAAIA,IAAQm+F,IAAiB5lC,GAASxwE,CAAK,GACzC,QAAQ,MAAM,qFAAqF,EAC5F0B,GAELuW,IAAQo+F,IAAkB7lC,GAASxwE,CAAK,EACnCoL,GAAS,CAAA,EAAI1J,EAAS1B,CAAK,EAE7BoL,GAAS,CAAE,EAAE1J,GAAUg1G,EAAY,CAAA,EAAIA,EAAUz+F,EAAI,UAAU,CAAC,CAAC,EAAIjY,EAAO02G,EAAS,CAC7F,EAAEtrG,GAAS,CAAA,EAAIqrG,CAAa,CAAC,CAChC,CAWA,SAASE,GAAUpM,EAAQiM,EAAUI,EAAU,CAI7C,GAHIJ,IAAa,SACfA,EAAW,CAAA,GAET,CAACjM,EAAO,qBACV,MAAO,GAET,IAAIsM,EAAgBN,GAAaC,CAAQ,EACvCM,EAAwBD,EAAc,WACtCE,EAAaD,IAA0B,OAAS,GAAOA,EACzD,OAAIC,IAAe,GACVA,EAILxM,EAAO,gBAAkB,QAAaqM,EACjC,OAAO,KAAKA,CAAQ,EAAE,OAASrM,EAAO,cAExC,EACT,CAOA,SAASyM,GAAmBJ,EAAU,CACpC,IAAIK,EACAxiE,GAAWwiE,EAAW,CAAE,EAAEA,EAAS3B,EAAU,EAAI,CAAE,EAAE2B,EAAS,SAAW,SAAkB1jE,EAAS,CACtG,KAAK+hE,EAAU,EAAE,KAAK/hE,CAAO,CAC9B,EAAE0jE,GACH,GAAI,MAAM,QAAQL,CAAQ,EACxB,OAAOA,EAAS,OAAO,SAAU1rG,EAAKlL,EAAOiY,EAAK,CAChD,IAAIy+F,EACJ,OAAOtrG,GAAS,CAAA,EAAIF,GAAMwrG,EAAY,CAAE,EAAEA,EAAUz+F,CAAG,EAAI++F,GAAmBh3G,CAAK,EAAG02G,EAAS,CAChG,EAAEjiE,CAAO,EAEZ,GAAI8oC,GAAcq5B,CAAQ,EAAG,CAC3B,IAAIM,EAAaN,EACjB,OAAO,OAAO,KAAKM,CAAU,EAAE,OAAO,SAAUhsG,EAAK+M,EAAK,CACxD,IAAIk/F,EACJ,OAAO/rG,GAAS,CAAE,EAAEF,GAAMisG,EAAY,CAAE,EAAEA,EAAUl/F,CAAG,EAAI++F,GAAmBE,EAAWj/F,CAAG,CAAC,EAAGk/F,EAAS,CAC1G,EAAE1iE,CAAO,EAEZ,OAAOA,CACT,CASA,SAAS2iE,GAAWhoF,EAAGjX,EAAG,CACxB,OAAOk/F,GAAYjoF,EAAGjX,EAAG,SAAUqI,EAAKrW,EAAO,CAC7C,GAAI,OAAOqW,GAAQ,YAAc,OAAOrW,GAAU,WAGhD,MAAO,EAGb,CAAG,CACH,CAUA,SAASmtG,GAA0Br/F,EAAKk0D,EAAQ,CAC9C,IAAInsE,EAAQmsE,EAAOl0D,CAAG,EAClBs6D,EAAYglC,GAAKprC,EAAQ,CAACl0D,CAAG,CAAC,EAClC,MAAO,CAACs6D,EAAWvyE,CAAK,CAC1B,CAUA,SAASw3G,GAAqBC,EAAMtE,EAAY,CAC1CA,IAAe,SACjBA,EAAa,CAAA,GAEf,IAAIlzG,EAAMw3G,GAAQ,GAClB,GAAIx3G,EAAI,WAAW,GAAG,EAEpBA,EAAM,mBAAmBA,EAAI,UAAU,CAAC,CAAC,MAEzC,OAAM,IAAI,MAAM,mCAAqCw3G,EAAO,GAAG,EAEjE,IAAIxsD,EAAUi9C,GAAY,IAAIiL,EAAYlzG,CAAG,EAC7C,GAAIgrD,IAAY,OACd,MAAM,IAAI,MAAM,mCAAqCwsD,EAAO,GAAG,EAEjE,GAAIxsD,EAAQ+qD,EAAO,EAAG,CACpB,IAAI0B,EAAwBJ,GAA0BtB,GAAS/qD,CAAO,EACpEsnB,EAAYmlC,EAAsB,CAAC,EACnCC,EAASD,EAAsB,CAAC,EAC9BxI,EAAYsI,GAAqBG,EAAQxE,CAAU,EACvD,OAAI,OAAO,KAAK5gC,CAAS,EAAE,OAAS,EAC3BnnE,GAAS,CAAA,EAAImnE,EAAW28B,CAAS,EAEnCA,EAET,OAAOjkD,CACT,CAcA,SAAS2sD,GAAkBC,EAAWjB,EAAUl1G,EAASyxG,EAAY2E,EAAoB,CAGvF,GAAIlB,IAAa,OACf,MAAO,GAET,QAAS,EAAI,EAAG,EAAIl1G,EAAQ,OAAQ,IAAK,CACvC,IAAIK,EAASL,EAAQ,CAAC,EAEtB,GAAIo2G,GAAsBxrC,GAAIvqE,EAAQ,CAAC8zG,GAAgBiC,CAAkB,CAAC,EAAG,CAC3E,IAAI93G,EAAQwxB,GAAIolF,EAAUkB,CAAkB,EACxCC,EAAgBvmF,GAAIzvB,EAAQ,CAAC8zG,GAAgBiC,CAAkB,EAAG,CAAA,CAAE,EACxE,GAAID,EAAU,QAAQE,EAAe/3G,EAAOmzG,CAAU,EACpD,OAAO,UAEApxG,EAAO8zG,EAAc,EAAG,CAWjC,IAAImC,EAAgB,CAClB,MAAO,OAAO,KAAKj2G,EAAO8zG,EAAc,CAAC,EAAE,IAAI,SAAU59F,EAAK,CAC5D,MAAO,CACL,SAAU,CAACA,CAAG,CAC1B,CACA,CAAS,CACT,EACUggG,EAAkB,OAEtB,GAAIl2G,EAAO,MAAO,CAEhB,IAAIm2G,EAAe9sG,GAAS,CAAE,GAAGqpG,GAA0B1yG,CAAM,EAAGA,IAC/Dm2G,EAAa,MAIhBA,EAAa,MAAQA,EAAa,MAAM,MAAK,EAH7CA,EAAa,MAAQ,GAKvBA,EAAa,MAAM,KAAKF,CAAa,EACrCC,EAAkBC,OAElBD,EAAkB,OAAO,OAAO,CAAE,EAAEl2G,EAAQi2G,CAAa,EAK3D,GADA,OAAOC,EAAgB,SACnBJ,EAAU,QAAQI,EAAiBrB,EAAUzD,CAAU,EACzD,OAAO,UAEA0E,EAAU,QAAQ91G,EAAQ60G,EAAUzD,CAAU,EACvD,OAAO,EAGX,MAAO,EACT,CAaA,SAASgF,GAAuBN,EAAWjB,EAAUl1G,EAASyxG,EAAY2E,EAAoB,CAC5F,OAAOF,GAAkBC,EAAWjB,EAAUl1G,EAASyxG,EAAY2E,CAAkB,CACvF,CAQA,SAASM,GAAgC7N,EAAQ,CAC/C,IAAIwN,EACAM,EAAc7mF,GAAI+4E,EAAQ,6BAA8B,MAAS,EACrE,OAAIp6B,GAASkoC,CAAW,EACtBN,EAAgBM,EACPA,IAAgB,QACzB,QAAQ,KAAK,gDAAmD,OAAOA,EAAc,WAAY,EAE5FN,CACT,CAQA,SAASO,GAAUt4G,EAAO,CACxB,OAAI,MAAM,QAAQA,CAAK,EACd,QAEL,OAAOA,GAAU,SACZ,SAELA,GAAS,KACJ,OAEL,OAAOA,GAAU,UACZ,UAEJ,MAAMA,CAAK,EAGZ,OAAOA,GAAU,SACZ,SAGF,SANE,QAOX,CAaA,SAASu4G,GAAchO,EAAQ,CAC7B,IAAI3uF,EAAO2uF,EAAO,KAClB,MAAI,CAAC3uF,GAAQ2uF,EAAO,MACX+N,GAAU/N,EAAO,KAAQ,EAE9B,CAAC3uF,GAAQ2uF,EAAO,KACX,SAEL,CAAC3uF,IAAS2uF,EAAO,YAAcA,EAAO,sBACjC,UAEL,MAAM,QAAQ3uF,CAAI,GAAKA,EAAK,SAAW,GAAKA,EAAK,SAAS,MAAM,IAClEA,EAAOA,EAAK,KAAK,SAAUA,EAAM,CAC/B,OAAOA,IAAS,MACtB,CAAK,GAEIA,EACT,CAUA,SAASizF,GAAa2J,EAAMC,EAAM,CAChC,IAAIvtG,EAAM,OAAO,OAAO,CAAE,EAAEstG,CAAI,EAChC,OAAO,OAAO,KAAKC,CAAI,EAAE,OAAO,SAAUvtG,EAAK+M,EAAK,CAClD,IAAIkkD,EAAOq8C,EAAOA,EAAKvgG,CAAG,EAAI,CAAE,EAC9BygG,EAAQD,EAAKxgG,CAAG,EAClB,OAAIugG,GAAQvgG,KAAOugG,GAAQhoC,GAASkoC,CAAK,EACvCxtG,EAAI+M,CAAG,EAAI42F,GAAa1yC,EAAMu8C,CAAK,EAC1BF,GAAQC,IAASF,GAAcC,CAAI,IAAM,UAAYD,GAAcE,CAAI,IAAM,WAAaxgG,IAAQ69F,IAAgB,MAAM,QAAQ35C,CAAI,GAAK,MAAM,QAAQu8C,CAAK,EAErKxtG,EAAI+M,CAAG,EAAIg7D,GAAM9W,EAAMu8C,CAAK,EAE5BxtG,EAAI+M,CAAG,EAAIygG,EAENxtG,CACR,EAAEA,CAAG,CACR,CAEA,IAAIytG,GAAc,CAAC,KAAM,OAAQ,MAAM,EACrCC,GAAa,CAAC,MAAM,EACpBC,GAAa,CAAC,OAAO,EACrBC,GAAa,CAAC,cAAc,EAC5BC,GAAa,CAAC,OAAO,EAWvB,SAASC,GAAenB,EAAWtN,EAAQ4I,EAAY8F,EAAa,CAClE,OAAI9F,IAAe,SACjBA,EAAa,CAAA,GAER+F,GAAuBrB,EAAWtN,EAAQ4I,EAAY8F,CAAW,EAAE,CAAC,CAC7E,CAaA,SAASE,GAAiBtB,EAAWtN,EAAQ4I,EAAYiG,EAAmBxC,EAAU,CACpF,IAAIyC,EAAa9O,EAAO,GACtB+O,EAAO/O,EAAO,KACdgP,EAAYhP,EAAO,KACnBiP,EAAgCzsG,GAA8Bw9F,EAAQoO,EAAW,EAC/Ec,EAAiB5B,EAAU,QAAQwB,EAAYzC,EAAUzD,CAAU,EACnEuG,EAAkB,CAACF,CAA6B,EAChDlL,EAAU,CAAA,EACd,GAAI8K,EACEE,GAAQ,OAAOA,GAAS,YAC1BhL,EAAUA,EAAQ,OAAO4K,GAAuBrB,EAAWyB,EAAMnG,EAAYyD,EAAUwC,CAAiB,CAAC,GAEvGG,GAAa,OAAOA,GAAc,YACpCjL,EAAUA,EAAQ,OAAO4K,GAAuBrB,EAAW0B,EAAWpG,EAAYyD,EAAUwC,CAAiB,CAAC,OAE3G,CACL,IAAIO,EAAoBF,EAAiBH,EAAOC,EAC5CI,GAAqB,OAAOA,GAAsB,YACpDrL,EAAUA,EAAQ,OAAO4K,GAAuBrB,EAAW8B,EAAmBxG,EAAYyD,EAAUwC,CAAiB,CAAC,GAG1H,OAAI9K,EAAQ,SACVoL,EAAkBpL,EAAQ,IAAI,SAAU/vE,EAAG,CACzC,OAAOswE,GAAa2K,EAA+Bj7E,CAAC,CAC1D,CAAK,GAEIm7E,EAAgB,QAAQ,SAAUn7E,EAAG,CAC1C,OAAO26E,GAAuBrB,EAAWt5E,EAAG40E,EAAYyD,EAAUwC,CAAiB,CACvF,CAAG,CACH,CAeA,SAASQ,GAA0BC,EAAa,CAC9C,IAAIC,EAAkBD,EAAY,OAAO,SAAUE,EAAcnhF,EAAM,CAErE,OAAIA,EAAK,OAAS,EACTA,EAAK,QAAQ,SAAU7wB,EAAS,CACrC,OAAOiyG,GAAMD,EAAa,OAAQ,SAAU,EAAG,CAC7C,MAAO,CAAA,EAAG,OAAOA,EAAa,CAAC,CAAC,EAAE,OAAOhyG,CAAO,CAC1D,CAAS,CACT,CAAO,GAGHgyG,EAAa,QAAQ,SAAUE,EAAa,CAC1C,OAAOA,EAAY,KAAKrhF,EAAK,CAAC,CAAC,CACrC,CAAK,EACMmhF,EACR,EAAE,CAAC,CAAA,CAAE,CACR,EAEE,OAAOD,CACT,CAaA,SAASI,GAAcrC,EAAWtN,EAAQ4I,EAAYiG,EAAmBxC,EAAU,CACjF,GAAIZ,MAAWzL,EACb,OAAO4P,GAAiBtC,EAAWtN,EAAQ4I,EAAYiG,EAAmBxC,CAAQ,EAEpF,GAAIxB,MAAoB7K,EAAQ,CAC9B,IAAImP,EAAkBU,GAAoBvC,EAAWtN,EAAQ4I,EAAYiG,EAAmBxC,CAAQ,EACpG,OAAO8C,EAAgB,QAAQ,SAAUn7E,EAAG,CAC1C,OAAO26E,GAAuBrB,EAAWt5E,EAAG40E,EAAYyD,EAAUwC,CAAiB,CACzF,CAAK,EAEH,GAAIpE,MAAczK,GAAU,MAAM,QAAQA,EAAO,KAAK,EAAG,CACvD,IAAI8P,EAAsB9P,EAAO,MAAM,IAAI,SAAU+P,EAAgB,CACnE,OAAOpB,GAAuBrB,EAAWyC,EAAgBnH,EAAYyD,EAAUwC,CAAiB,CACtG,CAAK,EACGU,EAAkBF,GAA0BS,CAAmB,EACnE,OAAOP,EAAgB,IAAI,SAAUG,EAAa,CAChD,OAAO7uG,GAAS,CAAE,EAAEm/F,EAAQ,CAC1B,MAAO0P,CACf,CAAO,CACP,CAAK,EAGH,MAAO,CAAC1P,CAAM,CAChB,CAYA,SAAS4P,GAAiBtC,EAAWtN,EAAQ4I,EAAYiG,EAAmBxC,EAAU,CAEpF,IAAIa,EAAOlN,EAAO,KAChBgQ,EAAcxtG,GAA8Bw9F,EAAQqO,EAAU,EAE5D4B,EAAYhD,GAAqBC,EAAMtE,CAAU,EAErD,OAAO+F,GAAuBrB,EAAWzsG,GAAS,GAAIovG,EAAWD,CAAW,EAAGpH,EAAYyD,EAAUwC,CAAiB,CACxH,CASA,SAASqB,GAAiC5C,EAAW6C,EAAWvH,EAAYwH,EAAW,CAErF,IAAIpQ,EAASn/F,GAAS,CAAE,EAAEsvG,EAAW,CACnC,WAAYtvG,GAAS,GAAIsvG,EAAU,UAAU,CACjD,CAAG,EAEG9D,EAAW+D,GAAanqC,GAASmqC,CAAS,EAAIA,EAAY,GAC9D,cAAO,KAAK/D,CAAQ,EAAE,QAAQ,SAAU3+F,EAAK,CAC3C,GAAI,EAAAA,KAAOsyF,EAAO,YAIlB,KAAIqQ,EAAuB,CAAA,EACvB,OAAOrQ,EAAO,sBAAyB,UACrCyL,MAAWzL,EAAO,qBACpBqQ,EAAuB5B,GAAenB,EAAW,CAC/C,KAAMrmF,GAAI+4E,EAAO,qBAAsB,CAACyL,EAAO,CAAC,CAC1D,EAAW7C,EAAYyD,CAAQ,EACd,SAAUrM,EAAO,qBAC1BqQ,EAAuBxvG,GAAS,CAAA,EAAIm/F,EAAO,oBAAoB,EACtD0K,MAAc1K,EAAO,sBAAwBqL,MAAcrL,EAAO,qBAC3EqQ,EAAuBxvG,GAAS,CAC9B,KAAM,QAChB,EAAWm/F,EAAO,oBAAoB,EAE9BqQ,EAAuB,CACrB,KAAMtC,GAAU9mF,GAAIolF,EAAU,CAAC3+F,CAAG,CAAC,CAAC,CAC9C,EAGM2iG,EAAuB,CACrB,KAAMtC,GAAU9mF,GAAIolF,EAAU,CAAC3+F,CAAG,CAAC,CAAC,CAC5C,EAGIsyF,EAAO,WAAWtyF,CAAG,EAAI2iG,EAEzBnpF,GAAI84E,EAAO,WAAY,CAACtyF,EAAK68F,EAAwB,EAAG,EAAI,EAChE,CAAG,EACMvK,CACT,CAeA,SAAS2O,GAAuBrB,EAAWtN,EAAQ4I,EAAY8F,EAAaG,EAAmB,CAI7F,GAHIA,IAAsB,SACxBA,EAAoB,IAElB,CAAC5oC,GAAS+5B,CAAM,EAClB,MAAO,CAAC,CAAE,CAAA,EAEZ,IAAImP,EAAkBQ,GAAcrC,EAAWtN,EAAQ4I,EAAYiG,EAAmBH,CAAW,EACjG,OAAOS,EAAgB,QAAQ,SAAUn7E,EAAG,CAC1C,IAAIs8E,EAAiBt8E,EACrB,GAAIi3E,MAAUqF,EACZ,OAAO1B,GAAiBtB,EAAWgD,EAAgB1H,EAAYiG,EAAmBH,CAAW,EAE/F,GAAIjE,MAAczK,EAChB,GAAI,CACFsQ,EAAiBC,GAAWv8E,EAAG,CAC7B,KAAM,EAChB,CAAS,CACF,OAAQ3W,EAAP,CACA,QAAQ,KAAK;AAAA,EAA0CA,CAAC,EACxD,IAAImzF,EAAkBF,EACpBG,EAA6BjuG,GAA8BguG,EAAiBlC,EAAU,EACxF,OAAOmC,CACR,CAEH,IAAIC,EAA0BlG,MAA6B8F,GAAkBA,EAAe,uBAAyB,GACrH,OAAII,EACKR,GAAiC5C,EAAWgD,EAAgB1H,EAAY8F,CAAW,EAErF4B,CACX,CAAG,CACH,CAaA,SAASK,GAAyBrD,EAAWtN,EAAQ4I,EAAYiG,EAAmBH,EAAa,CAC/F,IAAIkC,EAMJ,GALI,MAAM,QAAQ5Q,EAAO,KAAK,EAC5B4Q,EAAa5Q,EAAO,MACX,MAAM,QAAQA,EAAO,KAAK,IACnC4Q,EAAa5Q,EAAO,OAElB4Q,EAAY,CAEd,IAAIvE,EAAWqC,IAAgB,QAAaG,EAAoB,CAAA,EAAKH,EACjElB,EAAgBK,GAAgC7N,CAAM,EAC1D4Q,EAAaA,EAAW,IAAI,SAAU58E,EAAG,CACvC,OAAIy3E,MAAWz3E,EAEN47E,GAAiBtC,EAAWt5E,EAAG40E,EAAY,GAAOyD,CAAQ,EAAE,CAAC,EAE/Dr4E,CACb,CAAK,EAED,IAAIx8B,EAASo2G,GAAuBN,EAAWjB,EAAUuE,EAAYhI,EAAY4E,CAAa,EAC9F,GAAIqB,EACF,OAAO+B,EAET5Q,EAAS4Q,EAAWp5G,CAAM,EAE5B,MAAO,CAACwoG,CAAM,CAChB,CAYA,SAAS6P,GAAoBvC,EAAWtN,EAAQ4I,EAAYiG,EAAmBxC,EAAU,CAEvF,IAAIwE,EAAe7Q,EAAO,aACxB8Q,EAAkBtuG,GAA8Bw9F,EAAQuO,EAAU,EAChEY,EAAkBwB,GAAyBrD,EAAWwD,EAAiBlI,EAAYiG,EAAmBxC,CAAQ,EAClH,OAAO8C,EAAgB,QAAQ,SAAUmB,EAAgB,CACvD,OAAOS,GAAoBzD,EAAWuD,EAAcP,EAAgB1H,EAAYiG,EAAmBxC,CAAQ,CAC/G,CAAG,CACH,CAaA,SAAS0E,GAAoBzD,EAAWuD,EAAcP,EAAgB1H,EAAYiG,EAAmBxC,EAAU,CAC7G,IAAItI,EAAU,CAACuM,CAAc,EAEzBU,EAAQ,UAAiB,CAM3B,GAJI,CAACnC,GAAqB5nF,GAAIolF,EAAU,CAAC4E,CAAa,CAAC,IAAM,QAIzDX,EAAe,YAAc,EAAEW,KAAiBX,EAAe,YACjE,MAAO,WAET,IAAInD,EAAwBJ,GAA0BkE,EAAeJ,CAAY,EAC/EK,EAAwB/D,EAAsB,CAAC,EAC/CgE,EAAkBhE,EAAsB,CAAC,EAC3C,OAAI,MAAM,QAAQgE,CAAe,EAC/BpN,EAAQ,CAAC,EAAIqN,GAAwBd,EAAgBa,CAAe,EAC3DlrC,GAASkrC,CAAe,IACjCpN,EAAUsN,GAAoB/D,EAAWgD,EAAgB1H,EAAYqI,EAAeE,EAAiBtC,EAAmBxC,CAAQ,GAE3H,CACL,EAAGtI,EAAQ,QAAQ,SAAU/D,EAAQ,CACnC,OAAO+Q,GAAoBzD,EAAW4D,EAAuBlR,EAAQ4I,EAAYiG,EAAmBxC,CAAQ,CACpH,CAAO,CACP,CACA,EACE,QAAS4E,KAAiBJ,EAAc,CACtC,IAAIS,EAAON,IACX,GAAIM,IAAS,YACT,OAAOA,GAAS,SAAU,OAAOA,EAAK,EAE5C,OAAOvN,CACT,CAOA,SAASqN,GAAwBpR,EAAQuR,EAAsB,CAC7D,GAAI,CAACA,EACH,OAAOvR,EAET,IAAIsG,EAAW,MAAM,QAAQtG,EAAO,QAAQ,EAAI,MAAM,KAAK,IAAI,IAAI,CAAA,EAAG,OAAOA,EAAO,SAAUuR,CAAoB,CAAC,CAAC,EAAIA,EACxH,OAAO1wG,GAAS,CAAE,EAAEm/F,EAAQ,CAC1B,SAAUsG,CACd,CAAG,CACH,CAcA,SAAS+K,GAAoB/D,EAAWtN,EAAQ4I,EAAYqI,EAAeE,EAAiBtC,EAAmBxC,EAAU,CACvH,IAAImF,EAAmB7C,GAAuBrB,EAAW6D,EAAiBvI,EAAYyD,EAAUwC,CAAiB,EACjH,OAAO2C,EAAiB,QAAQ,SAAUC,EAAW,CACnD,IAAIC,EAAQD,EAAU,MACpBE,EAAkBnvG,GAA8BivG,EAAWjD,EAAU,EAGvE,GAFAxO,EAASsE,GAAatE,EAAQ2R,CAAe,EAEzCD,IAAU,OACZ,OAAO1R,EAGT,IAAI4R,EAAiBF,EAAM,IAAI,SAAUG,EAAW,CAClD,OAAI,OAAOA,GAAc,WAAa,EAAEpG,MAAWoG,GAC1C,CAACA,CAAS,EAEZjC,GAAiBtC,EAAWuE,EAAWjJ,EAAYiG,EAAmBxC,CAAQ,CAC3F,CAAK,EACGkD,EAAkBF,GAA0BuC,CAAc,EAC9D,OAAOrC,EAAgB,QAAQ,SAAUuC,EAAe,CACtD,OAAOC,GAAwBzE,EAAWtN,EAAQ4I,EAAYqI,EAAea,EAAejD,EAAmBxC,CAAQ,CAC7H,CAAK,CACL,CAAG,CACH,CAeA,SAAS0F,GAAwBzE,EAAWtN,EAAQ4I,EAAYqI,EAAeS,EAAO7C,EAAmBxC,EAAU,CACjH,IAAI2F,EAAkBN,EAAM,OAAO,SAAUG,EAAW,CACtD,GAAI,OAAOA,GAAc,WAAa,CAACA,GAAa,CAACA,EAAU,WAC7D,MAAO,GAET,IAAII,EAA0BJ,EAAU,WAAWZ,CAAa,EAChE,GAAIgB,EAAyB,CAC3B,IAAIC,EACAC,EAAkB,CACpB,KAAM,SACN,YAAaD,EAAc,GAAIA,EAAYjB,CAAa,EAAIgB,EAAyBC,EAC7F,EACM,OAAO5E,EAAU,QAAQ6E,EAAiB9F,EAAUzD,CAAU,GAAKiG,EAErE,MAAO,EACX,CAAG,EACD,MAAI,CAACA,GAAqBmD,EAAgB,SAAW,GACnD,QAAQ,KAAK,wFAAwF,EAC9F,CAAChS,CAAM,GAETgS,EAAgB,QAAQ,SAAUh+E,EAAG,CAC1C,IAAI69E,EAAY79E,EACZo+E,EAAyBrF,GAA0BkE,EAAeY,EAAU,UAAU,EACxFQ,EAAqBD,EAAuB,CAAC,EAC3CT,EAAkB9wG,GAAS,CAAE,EAAEgxG,EAAW,CAC5C,WAAYQ,CAClB,CAAK,EACGtO,EAAU4K,GAAuBrB,EAAWqE,EAAiB/I,EAAYyD,EAAUwC,CAAiB,EACxG,OAAO9K,EAAQ,IAAI,SAAU/vE,EAAG,CAC9B,OAAOswE,GAAatE,EAAQhsE,CAAC,CACnC,CAAK,CACL,CAAG,CACH,CAKA,IAAIs+E,GAAc,CAChB,KAAM,SACN,IAAKnH,GACL,WAAY,CACV,qBAAsB,CACpB,KAAM,QACP,CACF,CACH,EAqBA,SAASoH,GAAoBjF,EAAW1E,EAAY5I,EAAQqM,EAAU,CAChEA,IAAa,SACfA,EAAW,CAAA,GAEb,IAAImG,EAAa,EACjB,OAAIxS,IACEyS,GAAWzS,EAAO,UAAU,EAC9BwS,GAAc5uC,GAAOo8B,EAAO,WAAY,SAAU0S,EAAOj9G,EAAOiY,EAAK,CACnE,IAAIilG,EAAY1rF,GAAIolF,EAAU3+F,CAAG,EACjC,GAAI,OAAOjY,GAAU,UACnB,OAAOi9G,EAET,GAAI3wC,GAAItsE,EAAOg2G,EAAO,EAAG,CACvB,IAAImH,EAAYnE,GAAenB,EAAW73G,EAAOmzG,EAAY+J,CAAS,EACtE,OAAOD,EAAQH,GAAoBjF,EAAW1E,EAAYgK,EAAWD,GAAa,CAAA,CAAE,EAEtF,GAAI5wC,GAAItsE,EAAO41G,EAAU,GAAKsH,EAC5B,OAAOD,EAAQG,GAAyBvF,EAAW1E,EAAY+J,EAAW1rF,GAAIxxB,EAAO41G,EAAU,CAAC,EAElG,GAAI51G,EAAM,OAAS,SACjB,OAAOi9G,EAAQH,GAAoBjF,EAAW1E,EAAYnzG,EAAOk9G,GAAa,CAAA,CAAE,EAElF,GAAIl9G,EAAM,OAASs4G,GAAU4E,CAAS,EAAG,CAEvC,IAAIG,EAAWJ,EAAQ,EACvB,OAAIj9G,EAAM,QAGRq9G,GAAYH,IAAcl9G,EAAM,QAAa,EAAI,GACxCA,EAAM,QAGfq9G,GAAYH,IAAcl9G,EAAM,MAAW,EAAI,IAG1Cq9G,EAET,OAAOJ,CACR,EAAE,CAAC,EACK9sC,GAASo6B,EAAO,IAAI,GAAKA,EAAO,OAAS+N,GAAU1B,CAAQ,IACpEmG,GAAc,IAGXA,CACT,CAuBA,SAASK,GAAyBvF,EAAW1E,EAAYyD,EAAUl1G,EAAS47G,EAAgBxF,EAAoB,CAC1GwF,IAAmB,SACrBA,EAAiB,IAGnB,IAAIC,EAAkB77G,EAAQ,OAAO,SAAU87G,EAAWz7G,EAAQwF,EAAO,CACvE,IAAIk2G,EAAc,CAACZ,GAAa96G,CAAM,EAClCwf,EAAQ42F,GAAuBN,EAAWjB,EAAU6G,EAAatK,EAAY2E,CAAkB,EAEnG,OAAIv2F,IAAU,GACZi8F,EAAU,KAAKj2G,CAAK,EAEfi2G,CACR,EAAE,CAAE,CAAA,EAEL,GAAID,EAAgB,SAAW,EAC7B,OAAOA,EAAgB,CAAC,EAErBA,EAAgB,QAEnBvD,GAAMt4G,EAAQ,OAAQ,SAAUU,EAAG,CACjC,OAAOm7G,EAAgB,KAAKn7G,CAAC,CACnC,CAAK,EAGH,IAAIs7G,EAAwBH,EAAgB,OAAO,SAAUI,EAAWp2G,EAAO,CAC3E,IAAIq2G,EAAYD,EAAU,UACtB57G,EAASL,EAAQ6F,CAAK,EACtB+kE,GAAIvqE,EAAQi0G,EAAO,IACrBj0G,EAASi3G,GAAenB,EAAW91G,EAAQoxG,EAAYyD,CAAQ,GAEjE,IAAIqG,EAAQH,GAAoBjF,EAAW1E,EAAYpxG,EAAQ60G,CAAQ,EACvE,OAAIqG,EAAQW,EACH,CACL,UAAWr2G,EACX,UAAW01G,CACrB,EAEaU,CACb,EAAO,CACD,UAAWL,EACX,UAAW,CACjB,CAAK,EACDO,EAAYH,EAAsB,UACpC,OAAOG,CACT,CAQA,SAASC,GAAavT,EAAQ,CAC5B,OAAO,MAAM,QAAQA,EAAO,KAAK,GAAKA,EAAO,MAAM,OAAS,GAAKA,EAAO,MAAM,MAAM,SAAUtxF,EAAM,CAClG,OAAOu3D,GAASv3D,CAAI,CACxB,CAAG,CACH,CAgBA,SAAS8kG,GAA0BzjC,EAAUs8B,EAAU,CACrD,GAAI,MAAM,QAAQA,CAAQ,EAAG,CAC3B,IAAIoH,EAAgB,MAAM,QAAQ1jC,CAAQ,EAAIA,EAAW,GACrDkvB,EAASoN,EAAS,IAAI,SAAU52G,EAAOi+G,EAAK,CAC9C,OAAID,EAAcC,CAAG,EACZF,GAA0BC,EAAcC,CAAG,EAAGj+G,CAAK,EAErDA,CACb,CAAK,EACD,OAAOwpG,EAET,GAAIh5B,GAASomC,CAAQ,EAAG,CACtB,IAAI1rG,EAAM,OAAO,OAAO,CAAE,EAAEovE,CAAQ,EACpC,OAAO,OAAO,KAAKs8B,CAAQ,EAAE,OAAO,SAAU1rG,EAAK+M,EAAK,CACtD,OAAA/M,EAAI+M,CAAG,EAAI8lG,GAA0BzjC,EAAW9oD,GAAI8oD,EAAUriE,CAAG,EAAI,CAAA,EAAIuZ,GAAIolF,EAAU3+F,CAAG,CAAC,EACpF/M,CACR,EAAEA,CAAG,EAER,OAAO0rG,CACT,CAWA,SAASsH,GAAa1F,EAAMC,EAAM0F,EAAc,CAC9C,OAAIA,IAAiB,SACnBA,EAAe,IAEV,OAAO,KAAK1F,CAAI,EAAE,OAAO,SAAUvtG,EAAK+M,EAAK,CAClD,IAAIkkD,EAAOq8C,EAAOA,EAAKvgG,CAAG,EAAI,CAAE,EAC9BygG,EAAQD,EAAKxgG,CAAG,EAClB,GAAIugG,GAAQvgG,KAAOugG,GAAQhoC,GAASkoC,CAAK,EACvCxtG,EAAI+M,CAAG,EAAIimG,GAAa/hD,EAAMu8C,EAAOyF,CAAY,UACxCA,GAAgB,MAAM,QAAQhiD,CAAI,GAAK,MAAM,QAAQu8C,CAAK,EAAG,CACtE,IAAI0F,EAAU1F,EACVyF,IAAiB,sBACnBC,EAAU1F,EAAM,OAAO,SAAU76D,EAAQ79C,EAAO,CAC9C,OAAKm8D,EAAK,SAASn8D,CAAK,GACtB69C,EAAO,KAAK79C,CAAK,EAEZ69C,CACR,EAAE,CAAE,CAAA,GAEP3yC,EAAI+M,CAAG,EAAIkkD,EAAK,OAAOiiD,CAAO,OAE9BlzG,EAAI+M,CAAG,EAAIygG,EAEb,OAAOxtG,CACR,EAAE,OAAO,OAAO,GAAIstG,CAAI,CAAC,CAC5B,CAQA,SAAS6F,GAAW9T,EAAQ,CAC1B,OAAO,MAAM,QAAQA,EAAO,IAAO,GAAKA,EAAO,KAAQ,SAAW,GAAK2K,MAAa3K,CACtF,CASA,SAAS+T,GAASzG,EAAW6C,EAAWvH,EAAY,CAC9CA,IAAe,SACjBA,EAAa,CAAA,GAEf,IAAI5I,EAASyO,GAAenB,EAAW6C,EAAWvH,EAAY,MAAS,EACnEoL,EAAahU,EAAO,OAASA,EAAO,MACxC,OAAI,MAAM,QAAQA,EAAO,IAAO,EACvB,GAEL,MAAM,QAAQgU,CAAU,EACnBA,EAAW,MAAM,SAAUA,EAAY,CAC5C,OAAO,OAAOA,GAAe,WAAaF,GAAWE,CAAU,CACrE,CAAK,EAEI,EACT,CASA,SAASC,GAAc3G,EAAWtN,EAAQ4I,EAAY,CACpD,MAAI,CAAC5I,EAAO,aAAe,CAACA,EAAO,OAAS,OAAOA,EAAO,OAAU,UAC3D,GAEF+T,GAASzG,EAAWtN,EAAO,MAAO4I,CAAU,CACrD,CAIA,IAAIsL,IACH,SAAUA,EAAyB,CAClCA,EAAwBA,EAAwB,OAAY,CAAC,EAAI,SACjEA,EAAwBA,EAAwB,OAAY,CAAC,EAAI,SACjEA,EAAwBA,EAAwB,SAAc,CAAC,EAAI,UACrE,GAAGA,KAA4BA,GAA0B,CAAE,EAAC,EAgB5D,SAASC,GAA2BnU,EAAQoU,EAAiBV,EAAK,CAOhE,GANIU,IAAoB,SACtBA,EAAkBF,GAAwB,QAExCR,IAAQ,SACVA,EAAM,IAEJA,GAAO,GACT,GAAI,MAAM,QAAQ1T,EAAO,KAAK,GAAK0T,EAAM1T,EAAO,MAAM,OAAQ,CAC5D,IAAItxF,EAAOsxF,EAAO,MAAM0T,CAAG,EAC3B,GAAI,OAAOhlG,GAAS,UAClB,OAAOA,WAGFsxF,EAAO,OAAS,CAAC,MAAM,QAAQA,EAAO,KAAK,GAAK,OAAOA,EAAO,OAAU,UACjF,OAAOA,EAAO,MAEhB,OAAIoU,IAAoBF,GAAwB,QAAUjuC,GAAS+5B,EAAO,eAAe,EAChFA,EAAO,gBAET,EACT,CAoBA,SAASqU,GAAwBp+F,EAAKvI,EAAK4mG,EAAiBC,EAAwBC,EAAkBC,EAAgBC,EAAuC,CACvJD,IAAmB,SACrBA,EAAiB,CAAA,GAEfC,IAA0C,SAC5CA,EAAwC,CAAA,GAE1C,IAAIC,EAAwBD,EAC1BE,EAAyBD,EAAsB,kBAC/CE,EAAoBD,IAA2B,OAAS,sBAAwBA,EAC9EL,EACFt+F,EAAIvI,CAAG,EAAI4mG,EACFO,IAAsB,iBAC3B5uC,GAASquC,CAAe,GAIrB,CAACzxC,GAAQyxC,CAAe,GAAKG,EAAe,SAAS/mG,CAAG,KAAO8mG,GAAoBK,IAAsB,8BAC5G5+F,EAAIvI,CAAG,EAAI4mG,GAMfA,IAAoB,SAAcO,IAAsB,uBAAyBJ,EAAe,SAAS/mG,CAAG,KAC1GuI,EAAIvI,CAAG,EAAI4mG,GAGjB,CAkBA,SAASQ,GAAgBxH,EAAWyH,EAAWC,EAAO,CACpD,IAAIlsG,EAAOksG,IAAU,OAAS,CAAE,EAAGA,EACjCC,EAAiBnsG,EAAK,eACtB4lG,EAAc5lG,EAAK,YACnBosG,EAAkBpsG,EAAK,WACvB8/F,EAAasM,IAAoB,OAAS,CAAE,EAAGA,EAC/CC,EAAwBrsG,EAAK,uBAC7ByrG,EAAyBY,IAA0B,OAAS,GAAQA,EACpEC,EAAoBtsG,EAAK,aACzBusG,EAAeD,IAAsB,OAAS,CAAE,EAAGA,EACnDE,EAAwBxsG,EAAK,sCAC7B4rG,EAAwCY,IAA0B,OAAS,OAAYA,EACvFC,EAAgBzsG,EAAK,SACrBw9F,EAAWiP,IAAkB,OAAS,GAAQA,EAC5ClJ,EAAWpmC,GAASyoC,CAAW,EAAIA,EAAc,CAAA,EACjD1O,EAAS/5B,GAAS8uC,CAAS,EAAIA,EAAY,CAAA,EAE3ChlC,EAAWklC,EAEXO,EAAkB,KAClBC,EAAqBJ,EACzB,GAAIpvC,GAAS8J,CAAQ,GAAK9J,GAAS+5B,EAAO,OAAU,EAGlDjwB,EAAW4jC,GAAa5jC,EAAUiwB,EAAO,OAAU,UAC1C4K,MAAe5K,EACxBjwB,EAAWiwB,EAAO,gBACTyL,MAAWzL,EAAQ,CAC5B,IAAI0V,EAAU1V,EAAOyL,EAAO,EAEvB4J,EAAa,SAASK,CAAO,IAChCD,EAAqBJ,EAAa,OAAOK,CAAO,EAChDF,EAAkBvI,GAAqByI,EAAS9M,CAAU,WAEnDiC,MAAoB7K,EAAQ,CACrC,IAAIsQ,EAAiBT,GAAoBvC,EAAWtN,EAAQ4I,EAAY,GAAOyD,CAAQ,EACvFmJ,EAAkBlF,EAAe,CAAC,UACzBiD,GAAavT,CAAM,EAC5BjwB,EAAWiwB,EAAO,MAAM,IAAI,SAAU2V,EAAYjC,EAAK,CACrD,OAAOoB,GAAgBxH,EAAWqI,EAAY,CAC5C,WAAY/M,EACZ,uBAAwB2L,EACxB,aAAcc,EACd,sCAAuCX,EACvC,eAAgB,MAAM,QAAQO,CAAc,EAAIA,EAAevB,CAAG,EAAI,OACtE,YAAarH,CACrB,CAAO,CACP,CAAK,UACQhB,MAAcrL,EAAQ,CAC/B,GAAIA,EAAO,MAAM,SAAW,EAC1B,OAEF,IAAIwN,EAAgBK,GAAgC7N,CAAM,EAC1DwV,EAAkBxV,EAAO,MAAM6S,GAAyBvF,EAAW1E,EAAY/lC,GAAQwpC,CAAQ,EAAI,OAAYA,EAAUrM,EAAO,MAAO,EAAGwN,CAAa,CAAC,UAC/I9C,MAAc1K,EAAQ,CAC/B,GAAIA,EAAO,MAAM,SAAW,EAC1B,OAEF,IAAI4V,EAAiB/H,GAAgC7N,CAAM,EAC3DwV,EAAkBxV,EAAO,MAAM6S,GAAyBvF,EAAW1E,EAAY/lC,GAAQwpC,CAAQ,EAAI,OAAYA,EAAUrM,EAAO,MAAO,EAAG4V,CAAc,CAAC,EAE3J,GAAIJ,EACF,OAAOV,GAAgBxH,EAAWkI,EAAiB,CACjD,WAAY5M,EACZ,uBAAwB2L,EACxB,aAAckB,EACd,sCAAuCf,EACvC,eAAgB3kC,EAChB,YAAas8B,CACnB,CAAK,EAMH,OAHIt8B,IAAa,SACfA,EAAWiwB,EAAO,SAEZgO,GAAchO,CAAM,EAAC,CAE3B,IAAK,SACH,CACE,IAAI6V,EAAiB,OAAO,KAAK7V,EAAO,YAAc,CAAE,CAAA,EAAE,OAAO,SAAUr/F,EAAK+M,EAAK,CACnF,IAAIooG,EAGAxB,EAAkBQ,GAAgBxH,EAAWrmF,GAAI+4E,EAAQ,CAACsL,GAAgB59F,CAAG,CAAC,EAAG,CACnF,WAAYk7F,EACZ,aAAcyM,EACd,sCAAuCX,EACvC,uBAAwBH,IAA2B,GACnD,eAAgBttF,GAAI8oD,EAAU,CAACriE,CAAG,CAAC,EACnC,YAAauZ,GAAIolF,EAAU,CAAC3+F,CAAG,CAAC,EAChC,UAAWooG,EAAmB9V,EAAO,YAAc,MAAQ8V,IAAqB,OAAS,OAASA,EAAiB,SAASpoG,CAAG,CAC3I,CAAW,EACD,OAAA2mG,GAAwB1zG,EAAK+M,EAAK4mG,EAAiBC,EAAwBjO,EAAUtG,EAAO,SAAU0U,CAAqC,EACpI/zG,CACR,EAAE,CAAE,CAAA,EACL,GAAIq/F,EAAO,qBAAsB,CAE/B,IAAI+V,EAA6B9vC,GAAS+5B,EAAO,oBAAoB,EAAIA,EAAO,qBAAuB,GACnGx5C,EAAO,IAAI,IACXyf,GAAS8J,CAAQ,GACnB,OAAO,KAAKA,CAAQ,EAAE,OAAO,SAAUriE,EAAK,CAC1C,MAAO,CAACsyF,EAAO,YAAc,CAACA,EAAO,WAAWtyF,CAAG,CACjE,CAAa,EAAE,QAAQ,SAAUA,EAAK,CACxB,OAAO84C,EAAK,IAAI94C,CAAG,CACjC,CAAa,EAEH,IAAIsoG,EACA/vC,GAASomC,CAAQ,IACnB2J,EAAmB,CAAA,EACnB,OAAO,KAAK3J,CAAQ,EAAE,OAAO,SAAU3+F,EAAK,CAC1C,MAAO,CAACsyF,EAAO,YAAc,CAACA,EAAO,WAAWtyF,CAAG,CACjE,CAAa,EAAE,QAAQ,SAAUA,EAAK,CACxB84C,EAAK,IAAI94C,CAAG,EACZsoG,EAAiB,KAAKtoG,CAAG,CACvC,CAAa,GAEH84C,EAAK,QAAQ,SAAU94C,EAAK,CAC1B,IAAIuoG,EACA3B,EAAkBQ,GAAgBxH,EAAWyI,EAA4B,CAC3E,WAAYnN,EACZ,aAAcyM,EACd,sCAAuCX,EACvC,uBAAwBH,IAA2B,GACnD,eAAgBttF,GAAI8oD,EAAU,CAACriE,CAAG,CAAC,EACnC,YAAauZ,GAAIolF,EAAU,CAAC3+F,CAAG,CAAC,EAChC,UAAWuoG,EAAoBjW,EAAO,YAAc,MAAQiW,IAAsB,OAAS,OAASA,EAAkB,SAASvoG,CAAG,CAChJ,CAAa,EAED2mG,GAAwBwB,EAAgBnoG,EAAK4mG,EAAiBC,EAAwBjO,EAAU0P,CAAgB,CAC5H,CAAW,EAEH,OAAOH,CACR,CACH,IAAK,QACH,CAcE,GAZI,MAAM,QAAQ9lC,CAAQ,IACxBA,EAAWA,EAAS,IAAI,SAAUrhE,EAAMglG,EAAK,CAC3C,IAAIwC,EAAa/B,GAA2BnU,EAAQkU,GAAwB,SAAUR,CAAG,EACzF,OAAOoB,GAAgBxH,EAAW4I,EAAY,CAC5C,WAAYtN,EACZ,aAAcyM,EACd,sCAAuCX,EACvC,eAAgBhmG,CAC9B,CAAa,CACb,CAAW,GAGC,MAAM,QAAQggG,CAAW,EAAG,CAC9B,IAAIwH,EAAa/B,GAA2BnU,CAAM,EAClDjwB,EAAW2+B,EAAY,IAAI,SAAUhgG,EAAMglG,EAAK,CAC9C,OAAOoB,GAAgBxH,EAAW4I,EAAY,CAC5C,WAAYtN,EACZ,aAAcyM,EACd,sCAAuCX,EACvC,YAAahmG,EACb,eAAgBuY,GAAI8oD,EAAU,CAAC2jC,CAAG,CAAC,CACjD,CAAa,CACb,CAAW,EAEH,IAAIyC,GAAyBzB,GAA0C,KAA2D,OAASA,EAAsC,iBAAmB,eACpM,GAAIyB,GAAyB,CAAC7P,EAG5B,OAAOv2B,GAAsB,OAE/B,IAAIqmC,EAAiB,MAAM,QAAQrmC,CAAQ,EAAIA,EAAS,OAAS,EACjE,GAAI,CAACiwB,EAAO,UAAYiU,GAAc3G,EAAWtN,EAAQ4I,CAAU,GAAK5I,EAAO,UAAYoW,EACzF,OAAOrmC,GAAsB,GAE/B,IAAIsmC,EAAiBtmC,GAAY,GAC7BumC,EAAenC,GAA2BnU,EAAQkU,GAAwB,MAAM,EAChFqC,EAAgBD,EAAa,QAE7BE,EAAgB,IAAI,MAAMxW,EAAO,SAAWoW,CAAc,EAAE,KAAKtB,GAAgBxH,EAAWgJ,EAAc,CAC5G,eAAgBC,EAChB,WAAY3N,EACZ,aAAcyM,EACd,sCAAuCX,CACxC,CAAA,CAAC,EAEF,OAAO2B,EAAe,OAAOG,CAAa,CAC3C,CACJ,CACD,OAAOzmC,CACT,CAcA,SAAS0mC,GAAoBnJ,EAAW6C,EAAW9D,EAAUzD,EAAY2L,EAAwBG,EAAuC,CAItI,GAHIH,IAA2B,SAC7BA,EAAyB,IAEvB,CAACtuC,GAASkqC,CAAS,EACrB,MAAM,IAAI,MAAM,mBAAqBA,CAAS,EAEhD,IAAInQ,EAASyO,GAAenB,EAAW6C,EAAWvH,EAAYyD,CAAQ,EAClEt8B,EAAW+kC,GAAgBxH,EAAWtN,EAAQ,CAChD,WAAY4I,EACZ,uBAAwB2L,EACxB,sCAAuCG,EACvC,YAAarI,CACjB,CAAG,EACD,OAA8BA,GAAa,MAAQ,OAAOA,GAAa,UAAY,MAAMA,CAAQ,EAExFt8B,EAEL9J,GAASomC,CAAQ,GAGjB,MAAM,QAAQA,CAAQ,EACjBmH,GAA0BzjC,EAAUs8B,CAAQ,EAE9CA,CACT,CAOA,SAASqK,GAAezK,EAAU,CAChC,OAAIA,IAAa,SACfA,EAAW,CAAA,GAKX,WAAYD,GAAaC,CAAQ,GAAKD,GAAaC,CAAQ,EAAE,SAAc,QAE/E,CAUA,SAAS0K,GAAarJ,EAAWtN,EAAQiM,EAAUrD,EAAY,CAI7D,GAHIqD,IAAa,SACfA,EAAW,CAAA,GAETA,EAASJ,EAAa,IAAM,QAC9B,MAAO,GAET,GAAI7L,EAAO,MAAO,CAChB,IAAI4W,EAAcnI,GAAenB,EAAWtN,EAAO,MAAO4I,CAAU,EACpE,OAAOgO,EAAY,OAAS,UAAYA,EAAY,SAAW,WAEjE,MAAO,EACT,CAYA,SAASC,GAAgBvJ,EAAWtN,EAAQiM,EAAUrD,EAAYsD,EAAe,CAC3ED,IAAa,SACfA,EAAW,CAAA,GAEb,IAAI6K,EAAY9K,GAAaC,EAAUC,CAAa,EAChD6K,EAAmBD,EAAU,MAC/BxwE,EAAQywE,IAAqB,OAAS,GAAOA,EAC3CC,EAAe,CAAC,CAAC1wE,EACjB2wE,EAAajJ,GAAchO,CAAM,EACrC,OAAIiX,IAAe,UACjBD,EAAe/C,GAAc3G,EAAWtN,EAAQ4I,CAAU,GAAK+N,GAAarJ,EAAWtN,EAAQiM,EAAUrD,CAAU,GAAK8N,GAAezK,CAAQ,GAE7IgL,IAAe,WACjBD,EAAe,IAEbC,IAAe,WAAa,CAAChL,EAASJ,EAAa,IACrDmL,EAAe,IAEb/K,EAASL,EAAY,IACvBoL,EAAe,IAEVA,CACT,CAcA,SAASE,GAAoB5J,EAAW6J,EAAgBC,EAAuB,CAC7E,GAAI,CAACA,EACH,OAAOD,EAET,IAAIE,EAAYF,EAAe,OAC7BG,EAAiBH,EAAe,YAC9BI,EAASjK,EAAU,YAAY8J,CAAqB,EACpDI,EAAcJ,EAClB,OAAKv0C,GAAQy0C,CAAc,IACzBE,EAAc7D,GAAa2D,EAAgBF,EAAuB,EAAI,EACtEG,EAAS,CAAE,EAAC,OAAOF,CAAS,EAAE,OAAOE,CAAM,GAEtC,CACL,YAAaC,EACb,OAAQD,CACZ,CACA,CAEA,IAAIE,GAAwB,OAAO,UAAU,EAgD7C,SAASC,GAAyBpK,EAAW1E,EAAYgK,EAAW+E,EAAWx0F,EAAM,CAC/EA,IAAS,SACXA,EAAO,CAAA,GAGT,IAAIy0F,EAEJ,GAAI71C,GAAI6wC,EAAWtH,EAAc,EAAG,CAElC,IAAIuM,EAAsB,CAAA,EAC1B,GAAI91C,GAAI41C,EAAWrM,EAAc,EAAG,CAClC,IAAI7G,EAAax9E,GAAI0wF,EAAWrM,GAAgB,CAAE,CAAA,EAClD,OAAO,KAAK7G,CAAU,EAAE,QAAQ,SAAU/2F,EAAK,CACzCq0D,GAAI5+C,EAAMzV,CAAG,IACfmqG,EAAoBnqG,CAAG,EAAI,OAErC,CAAO,EAEH,IAAI84C,EAAO,OAAO,KAAKv/B,GAAI2rF,EAAWtH,GAAgB,CAAE,CAAA,CAAC,EAErDwM,EAAa,CAAA,EACjBtxD,EAAK,QAAQ,SAAU94C,EAAK,CAC1B,IAAIilG,EAAY1rF,GAAI9D,EAAMzV,CAAG,EACzBqqG,EAAiB9wF,GAAI0wF,EAAW,CAACrM,GAAgB59F,CAAG,EAAG,CAAA,CAAE,EACzDsqG,EAAiB/wF,GAAI2rF,EAAW,CAACtH,GAAgB59F,CAAG,EAAG,CAAA,CAAE,EAEzDq0D,GAAIg2C,EAAgBtM,EAAO,IAC7BsM,EAAiBtJ,GAAenB,EAAWyK,EAAgBnP,EAAY+J,CAAS,GAE9E5wC,GAAIi2C,EAAgBvM,EAAO,IAC7BuM,EAAiBvJ,GAAenB,EAAW0K,EAAgBpP,EAAY+J,CAAS,GAGlF,IAAIsF,EAAsBhxF,GAAI8wF,EAAgB,MAAM,EAChDG,EAAsBjxF,GAAI+wF,EAAgB,MAAM,EAEpD,GAAI,CAACC,GAAuBA,IAAwBC,EAMlD,GALIn2C,GAAI81C,EAAqBnqG,CAAG,GAE9B,OAAOmqG,EAAoBnqG,CAAG,EAG5BwqG,IAAwB,UAAYA,IAAwB,SAAW,MAAM,QAAQvF,CAAS,EAAG,CAEnG,IAAIwF,EAAWT,GAAyBpK,EAAW1E,EAAYoP,EAAgBD,EAAgBpF,CAAS,GACpGwF,IAAa,QAAaD,IAAwB,WAEpDJ,EAAWpqG,CAAG,EAAIyqG,OAEf,CAIL,IAAIC,EAAmBnxF,GAAI+wF,EAAgB,UAAWP,EAAQ,EAC1DY,EAAmBpxF,GAAI8wF,EAAgB,UAAWN,EAAQ,EAC1DW,IAAqBX,IAAYW,IAAqBzF,IACpD0F,IAAqB1F,EAEvBkF,EAAoBnqG,CAAG,EAAI0qG,EAClBnxF,GAAI+wF,EAAgB,UAAU,IAAM,KAE7CH,EAAoBnqG,CAAG,EAAI,SAG/B,IAAI4qG,EAAiBrxF,GAAI+wF,EAAgB,QAASP,EAAQ,EACtDc,EAAiBtxF,GAAI8wF,EAAgB,QAASN,EAAQ,EACtDa,IAAmBb,IAAYa,IAAmB3F,IAEpDkF,EAAoBnqG,CAAG,EAAI6qG,IAAmB5F,EAAY2F,EAAiB,QAIvF,CAAK,EACDV,EAAc/2G,GAAS,CAAE,EAAEsiB,EAAM00F,EAAqBC,CAAU,UAEvD7wF,GAAI0wF,EAAW,MAAM,IAAM,SAAW1wF,GAAI2rF,EAAW,MAAM,IAAM,SAAW,MAAM,QAAQzvF,CAAI,EAAG,CAC1G,IAAIq1F,EAAiBvxF,GAAI0wF,EAAW,OAAO,EACvCc,EAAiBxxF,GAAI2rF,EAAW,OAAO,EAG3C,GAAI,OAAO4F,GAAmB,UAAY,OAAOC,GAAmB,UAAY,CAAC,MAAM,QAAQD,CAAc,GAAK,CAAC,MAAM,QAAQC,CAAc,EAAG,CAC5I12C,GAAIy2C,EAAgB/M,EAAO,IAC7B+M,EAAiB/J,GAAenB,EAAWkL,EAAgB5P,EAAYzlF,CAAI,GAEzE4+C,GAAI02C,EAAgBhN,EAAO,IAC7BgN,EAAiBhK,GAAenB,EAAWmL,EAAgB7P,EAAYzlF,CAAI,GAG7E,IAAIu1F,EAAgBzxF,GAAIuxF,EAAgB,MAAM,EAC1CG,EAAgB1xF,GAAIwxF,EAAgB,MAAM,EAE9C,GAAI,CAACC,GAAiBA,IAAkBC,EAAe,CACrD,IAAIC,EAAW3xF,GAAI2rF,EAAW,WAAY,EAAE,EACxC+F,IAAkB,SACpBf,EAAcz0F,EAAK,OAAO,SAAUnnB,EAAUklG,EAAQ,CACpD,IAAI2X,EAAYnB,GAAyBpK,EAAW1E,EAAY6P,EAAgBD,EAAgBtX,CAAM,EACtG,OAAI2X,IAAc,SAAcD,EAAW,GAAK58G,EAAS,OAAS48G,IAChE58G,EAAS,KAAK68G,CAAS,EAElB78G,CACR,EAAE,CAAE,CAAA,EAEL47G,EAAcgB,EAAW,GAAKz1F,EAAK,OAASy1F,EAAWz1F,EAAK,MAAM,EAAGy1F,CAAQ,EAAIz1F,QAG5E,OAAOq1F,GAAmB,WAAa,OAAOC,GAAmB,WAAaD,IAAmBC,IAE1Gb,EAAcz0F,GAKlB,OAAOy0F,CACT,CAeA,SAASkB,GAAmBxL,EAAWtN,EAAQ+Y,EAAUC,EAAar+G,EAAIiuG,EAAYyD,EAAUgJ,EAAc,CAI5G,GAHIA,IAAiB,SACnBA,EAAe,CAAA,GAEb5J,MAAWzL,GAAU6K,MAAoB7K,GAAUyK,MAAczK,EAAQ,CAC3E,IAAIiZ,EAAUxK,GAAenB,EAAWtN,EAAQ4I,EAAYyD,CAAQ,EAChE6M,EAAkB7D,EAAa,UAAU,SAAU3mG,EAAM,CAC3D,OAAOsgF,GAAQtgF,EAAMuqG,CAAO,CAClC,CAAK,EACD,GAAIC,IAAoB,GACtB,OAAOJ,GAAmBxL,EAAW2L,EAASF,EAAUC,EAAar+G,EAAIiuG,EAAYyD,EAAUgJ,EAAa,OAAO4D,CAAO,CAAC,EAG/H,GAAI/N,MAAalL,GAAU,CAAC/4E,GAAI+4E,EAAQ,CAACkL,GAAWO,EAAO,CAAC,EAC1D,OAAOqN,GAAmBxL,EAAWrmF,GAAI+4E,EAAQkL,EAAS,EAAG6N,EAAUC,EAAar+G,EAAIiuG,EAAYyD,EAAUgJ,CAAY,EAE5H,IAAI8D,EAAMx+G,GAAMo+G,EACZK,EAAW,CACb,IAAKD,CACT,EACE,GAAInL,GAAchO,CAAM,IAAM,UAAYsL,MAAkBtL,EAC1D,QAASrrF,KAAQqrF,EAAO,WAAY,CAClC,IAAIqZ,EAAQpyF,GAAI+4E,EAAQ,CAACsL,GAAgB32F,CAAI,CAAC,EAC1C2kG,EAAUF,EAASpO,EAAM,EAAIgO,EAAcrkG,EAC/CykG,EAASzkG,CAAI,EAAImkG,GAAmBxL,EAAWrnC,GAASozC,CAAK,EAAIA,EAAQ,CAAA,EAAIN,EAAUC,EAAaM,EAAS1Q,EAG7G3hF,GAAIolF,EAAU,CAAC13F,CAAI,CAAC,EAAG0gG,CAAY,EAGvC,OAAO+D,CACT,CAYA,SAASG,GAAWjM,EAAWtN,EAAQrlG,EAAIiuG,EAAYyD,EAAU0M,EAAUC,EAAa,CACtF,OAAID,IAAa,SACfA,EAAW,QAETC,IAAgB,SAClBA,EAAc,KAETF,GAAmBxL,EAAWtN,EAAQ+Y,EAAUC,EAAar+G,EAAIiuG,EAAYyD,CAAQ,CAC9F,CAaA,SAASmN,GAAqBlM,EAAWtN,EAAQrrF,EAAMi0F,EAAYyD,EAAUgJ,EAAc,CACzF,IAAIoE,EAIJ,GAHIpE,IAAiB,SACnBA,EAAe,CAAA,GAEb5J,MAAWzL,GAAU6K,MAAoB7K,GAAUyK,MAAczK,EAAQ,CAC3E,IAAIiZ,EAAUxK,GAAenB,EAAWtN,EAAQ4I,EAAYyD,CAAQ,EAChE6M,EAAkB7D,EAAa,UAAU,SAAU3mG,EAAM,CAC3D,OAAOsgF,GAAQtgF,EAAMuqG,CAAO,CAClC,CAAK,EACD,GAAIC,IAAoB,GACtB,OAAOM,GAAqBlM,EAAW2L,EAAStkG,EAAMi0F,EAAYyD,EAAUgJ,EAAa,OAAO4D,CAAO,CAAC,EAG5G,IAAIS,GAAcD,EAAc,CAAE,EAAEA,EAAYrO,EAAQ,EAAIz2F,EAAK,QAAQ,MAAO,EAAE,EAAG8kG,GACrF,GAAIpO,MAAcrL,GAAU0K,MAAc1K,EAAQ,CAChD,IAAI2Z,EAAQtO,MAAcrL,EAASA,EAAO,MAAQA,EAAO,MACrDwN,EAAgBK,GAAgC7N,CAAM,EACtDhjG,EAAQ61G,GAAyBvF,EAAW1E,EAAYyD,EAAUsN,EAAO,EAAGnM,CAAa,EACzFoM,EAAWD,EAAM38G,CAAK,EAC1B08G,EAAa74G,GAAS,GAAI64G,EAAYF,GAAqBlM,EAAWsM,EAAUjlG,EAAMi0F,EAAYyD,EAAUgJ,CAAY,CAAC,EAK3H,GAHI7K,MAA6BxK,GAAUA,EAAOwK,EAAyB,IAAM,IAC/EtjF,GAAIwyF,EAAYhO,GAAgC,EAAI,EAElDR,MAAalL,GAAU,MAAM,QAAQqM,CAAQ,EAC/CA,EAAS,QAAQ,SAAU7uG,EAAS3F,EAAG,CACrC6hH,EAAW7hH,CAAC,EAAI2hH,GAAqBlM,EAAWtN,EAAO,MAAOrrF,EAAO,IAAM9c,EAAG+wG,EAAYprG,EAAS63G,CAAY,CACrH,CAAK,UACQ/J,MAAkBtL,EAC3B,QAAS6Z,KAAY7Z,EAAO,WAAY,CACtC,IAAIqZ,EAAQpyF,GAAI+4E,EAAQ,CAACsL,GAAgBuO,CAAQ,CAAC,EAClDH,EAAWG,CAAQ,EAAIL,GAAqBlM,EAAW+L,EAAO1kG,EAAO,IAAMklG,EAAUjR,EAGrF3hF,GAAIolF,EAAU,CAACwN,CAAQ,CAAC,EAAGxE,CAAY,EAG3C,OAAOqE,CACT,CAUA,SAASI,GAAaxM,EAAWtN,EAAQrrF,EAAMi0F,EAAYyD,EAAU,CACnE,OAAI13F,IAAS,SACXA,EAAO,IAEF6kG,GAAqBlM,EAAWtN,EAAQrrF,EAAMi0F,EAAYyD,CAAQ,CAC3E,CAOA,IAAI0N,GAA2B,UAAY,CAOzC,SAASA,EAAYzM,EAAW1E,EAAY8L,EAAuC,CACjF,KAAK,WAAa,OAClB,KAAK,UAAY,OACjB,KAAK,sCAAwC,OAC7C,KAAK,WAAa9L,EAClB,KAAK,UAAY0E,EACjB,KAAK,sCAAwCoH,CAC9C,CAKD,IAAIsF,EAASD,EAAY,UACzB,OAAAC,EAAO,aAAe,UAAwB,CAC5C,OAAO,KAAK,SACb,EAUDA,EAAO,sBAAwB,SAA+B1M,EAAW1E,EAAY8L,EAAuC,CAI1H,OAHIA,IAA0C,SAC5CA,EAAwC,CAAA,GAEtC,CAACpH,GAAa,CAAC1E,EACV,GAEF,KAAK,YAAc0E,GAAa,CAACT,GAAW,KAAK,WAAYjE,CAAU,GAAK,CAACiE,GAAW,KAAK,sCAAuC6H,CAAqC,CACjL,EAWDsF,EAAO,oBAAsB,SAA+Bha,EAAQqM,EAAUkI,EAAwB,CACpG,OAAIA,IAA2B,SAC7BA,EAAyB,IAEpBkC,GAAoB,KAAK,UAAWzW,EAAQqM,EAAU,KAAK,WAAYkI,EAAwB,KAAK,qCAAqC,CACjJ,EASDyF,EAAO,gBAAkB,SAA2Bha,EAAQiM,EAAUC,EAAe,CACnF,OAAO2K,GAAgB,KAAK,UAAW7W,EAAQiM,EAAU,KAAK,WAAYC,CAAa,CACxF,EAcD8N,EAAO,yBAA2B,SAAoC3N,EAAUl1G,EAAS47G,EAAgBxF,EAAoB,CAC3H,OAAOsF,GAAyB,KAAK,UAAW,KAAK,WAAYxG,EAAUl1G,EAAS47G,EAAgBxF,CAAkB,CACvH,EAUDyM,EAAO,uBAAyB,SAAkC3N,EAAUl1G,EAASo2G,EAAoB,CACvG,OAAOK,GAAuB,KAAK,UAAWvB,EAAUl1G,EAAS,KAAK,WAAYo2G,CAAkB,CACrG,EAWDyM,EAAO,kBAAoB,SAA6B3N,EAAUl1G,EAASo2G,EAAoB,CAC7F,OAAOF,GAAkB,KAAK,UAAWhB,EAAUl1G,EAAS,KAAK,WAAYo2G,CAAkB,CAChG,EAODyM,EAAO,aAAe,SAAwBha,EAAQiM,EAAU,CAC9D,OAAO0K,GAAa,KAAK,UAAW3W,EAAQiM,EAAU,KAAK,UAAU,CACtE,EAMD+N,EAAO,cAAgB,SAAyBha,EAAQ,CACtD,OAAOiU,GAAc,KAAK,UAAWjU,EAAQ,KAAK,UAAU,CAC7D,EAMDga,EAAO,SAAW,SAAoBha,EAAQ,CAC5C,OAAO+T,GAAS,KAAK,UAAW/T,EAAQ,KAAK,UAAU,CACxD,EAYDga,EAAO,oBAAsB,SAA+B7C,EAAgBC,EAAuB,CACjG,OAAOF,GAAoB,KAAK,UAAWC,EAAgBC,CAAqB,CACjF,EASD4C,EAAO,eAAiB,SAA0Bha,EAAQ0O,EAAa,CACrE,OAAOD,GAAe,KAAK,UAAWzO,EAAQ,KAAK,WAAY0O,CAAW,CAC3E,EAYDsL,EAAO,yBAA2B,SAAoCpH,EAAW+E,EAAWx0F,EAAM,CAChG,OAAOu0F,GAAyB,KAAK,UAAW,KAAK,WAAY9E,EAAW+E,EAAWx0F,CAAI,CAC5F,EAUD62F,EAAO,WAAa,SAAsBha,EAAQrlG,EAAI0xG,EAAU0M,EAAUC,EAAa,CACrF,OAAID,IAAa,SACfA,EAAW,QAETC,IAAgB,SAClBA,EAAc,KAETO,GAAW,KAAK,UAAWvZ,EAAQrlG,EAAI,KAAK,WAAY0xG,EAAU0M,EAAUC,CAAW,CAC/F,EAQDgB,EAAO,aAAe,SAAwBha,EAAQrrF,EAAM03F,EAAU,CACpE,OAAOyN,GAAa,KAAK,UAAW9Z,EAAQrrF,EAAM,KAAK,WAAY03F,CAAQ,CAC/E,EACS0N,CACT,IASA,SAASE,GAAkB3M,EAAW1E,EAAY8L,EAAuC,CACvF,OAAIA,IAA0C,SAC5CA,EAAwC,CAAA,GAEnC,IAAIqF,GAAYzM,EAAW1E,EAAY8L,CAAqC,CACrF,CAQA,SAASwF,GAAcC,EAAS,CAE9B,IAAIC,EAAWD,EAAQ,MAAM,GAAG,EAE5BhzG,EAASizG,EAAS,CAAC,EAAE,MAAM,GAAG,EAE9B/oG,EAAOlK,EAAO,CAAC,EAAE,QAAQ,QAAS,EAAE,EAEpCs9F,EAAat9F,EAAO,OAAO,SAAUkzG,EAAO,CAC9C,OAAOA,EAAM,MAAM,GAAG,EAAE,CAAC,IAAM,MACnC,CAAG,EAEG1lG,EACA8vF,EAAW,SAAW,EACxB9vF,EAAO,UAIPA,EAAO,UAAU8vF,EAAW,CAAC,EAAE,MAAM,GAAG,EAAE,CAAC,CAAC,EAG9C,GAAI,CAGF,QAFI6V,EAAS,KAAKF,EAAS,CAAC,CAAC,EACzBziH,EAAQ,CAAA,EACHE,EAAI,EAAGA,EAAIyiH,EAAO,OAAQziH,IACjCF,EAAM,KAAK2iH,EAAO,WAAWziH,CAAC,CAAC,EAGjC,IAAI0iH,EAAO,IAAI,OAAO,KAAK,CAAC,IAAI,WAAW5iH,CAAK,CAAC,EAAG,CAClD,KAAM0Z,CACZ,CAAK,EACD,MAAO,CACL,KAAMkpG,EACN,KAAM5lG,CACZ,CACG,OAAQ6lG,EAAP,CACA,MAAO,CACL,KAAM,CACJ,KAAM,EACN,KAAMA,EAAM,OACb,EACD,KAAML,CACZ,CACG,CACH,CAUA,SAASM,GAAwBC,EAAavzG,EAAQ,CACpD,IAAIkG,EAASqtG,EACb,GAAI,MAAM,QAAQvzG,CAAM,EAAG,CACzB,IAAIm8E,EAAQj2E,EAAO,MAAM,OAAO,EAChClG,EAAO,QAAQ,SAAUkzG,EAAOr9G,EAAO,CACrC,IAAI29G,EAAYr3B,EAAM,UAAU,SAAU+Z,EAAM,CAC9C,OAAOA,IAAS,KAAOrgG,EAAQ,EACvC,CAAO,EACG29G,GAAa,IACfr3B,EAAMq3B,CAAS,EAAIN,EAE3B,CAAK,EACDhtG,EAASi2E,EAAM,KAAK,EAAE,EAExB,OAAOj2E,CACT,CAUA,SAASutG,GAAwBC,EAAmB1zG,EAAQ,CAC1D,OAAOszG,GAAwBI,EAAmB1zG,CAAM,CAC1D,CAaA,SAAS2zG,GAAyBC,EAAYC,EAAgBC,EAAY,CAIxE,GAHID,IAAmB,SACrBA,EAAiB,CAAA,GAEf,MAAM,QAAQD,CAAU,EAC1B,OAAOA,EAAW,IAAI,SAAU/9G,EAAO,CACrC,OAAO89G,GAAyB99G,EAAOg+G,CAAc,CAC3D,CAAK,EAAE,OAAO,SAAU38G,EAAK,CACvB,OAAOA,CACb,CAAK,EAGH,IAAIrB,EAAQ+9G,IAAe,IAAMA,IAAe,KAAO,GAAK,OAAOA,CAAU,EACzEvjH,EAASwjH,EAAeh+G,CAAK,EACjC,OAAOxF,EAASA,EAAO,MAAQyjH,CACjC,CAcA,SAASC,GAAyBH,EAAYj6G,EAAUk6G,EAAgB,CAClEA,IAAmB,SACrBA,EAAiB,CAAA,GAEnB,IAAIvlH,EAAQqlH,GAAyBC,EAAYC,CAAc,EAC/D,OAAI,MAAM,QAAQl6G,CAAQ,EACjBA,EAAS,OAAO,SAAU+Z,EAAG,CAClC,MAAO,CAACm0E,GAAQn0E,EAAGplB,CAAK,CAC9B,CAAK,EAEIu5F,GAAQv5F,EAAOqL,CAAQ,EAAI,OAAYA,CAChD,CAQA,SAASq6G,GAAsB1lH,EAAOqL,EAAU,CAC9C,OAAI,MAAM,QAAQA,CAAQ,EACjBA,EAAS,KAAK,SAAUs6G,EAAK,CAClC,OAAOpsB,GAAQosB,EAAK3lH,CAAK,CAC/B,CAAK,EAEIu5F,GAAQluF,EAAUrL,CAAK,CAChC,CAaA,SAAS4lH,GAAyB5lH,EAAOulH,EAAgBhhH,EAAU,CAC7DghH,IAAmB,SACrBA,EAAiB,CAAA,GAEfhhH,IAAa,SACfA,EAAW,IAEb,IAAIshH,EAAkBN,EAAe,IAAI,SAAUO,EAAKv+G,EAAO,CAC7D,OAAOm+G,GAAsBI,EAAI,MAAO9lH,CAAK,EAAI,OAAOuH,CAAK,EAAI,MACrE,CAAG,EAAE,OAAO,SAAUu+G,EAAK,CACvB,OAAO,OAAOA,EAAQ,GAC1B,CAAG,EACD,OAAKvhH,EAGEshH,EAFEA,EAAgB,CAAC,CAG5B,CAUA,SAASE,GAAuBT,EAAYj6G,EAAUk6G,EAAgB,CAChEA,IAAmB,SACrBA,EAAiB,CAAA,GAEnB,IAAIvlH,EAAQqlH,GAAyBC,EAAYC,CAAc,EAC/D,GAAIvlH,EAAO,CACT,IAAIuH,EAAQg+G,EAAe,UAAU,SAAUO,EAAK,CAClD,OAAO9lH,IAAU8lH,EAAI,KAC3B,CAAK,EACGhX,EAAMyW,EAAe,IAAI,SAAUlyG,EAAM,CAC3C,IAAIzK,EAAMyK,EAAK,MACf,OAAOzK,CACb,CAAK,EACGo9G,EAAU36G,EAAS,MAAM,EAAG9D,CAAK,EAAE,OAAOvH,EAAOqL,EAAS,MAAM9D,CAAK,CAAC,EAG1E,OAAOy+G,EAAQ,KAAK,SAAU52F,EAAGjX,EAAG,CAClC,MAAO,EAAO22F,EAAI,QAAQ1/E,CAAC,EAAI0/E,EAAI,QAAQ32F,CAAC,EAClD,CAAK,EAEH,OAAO9M,CACT,CAOA,IAAI46G,GAAkC,UAAY,CAKhD,SAASA,EAAmBC,EAAe,CAKzC,KAAK,YAAc,GACnB,KAAK,eAAeA,CAAa,CAClC,CAGD,IAAI3B,EAAS0B,EAAmB,UAOhC,OAAA1B,EAAO,sBAAwB,SAA+B4B,EAAa,CACzE,IAAI95C,EAAU,MAAM,QAAQ85C,CAAW,GAAKA,EAAY,OAAS,GAAK,OAAOA,GAAgB,SACzFC,EAAa/5C,EAAU76C,GAAI,KAAK,YAAa20F,CAAW,EAAI,KAAK,YACrE,MAAI,CAACC,GAAcD,IACjBC,EAAa,CAAA,EACb30F,GAAI,KAAK,YAAa00F,EAAaC,CAAU,GAExCA,CACR,EAMD7B,EAAO,eAAiB,SAAwB2B,EAAe,CAC7D,YAAK,YAAcA,EAAgB9V,GAAU8V,CAAa,EAAI,CAAA,EACvD,IACR,EASD3B,EAAO,UAAY,SAAmB8B,EAAaF,EAAa,CAC9D,IAAIC,EAAa,KAAK,sBAAsBD,CAAW,EACnDG,EAAa90F,GAAI40F,EAAY9Q,EAAU,EAK3C,GAJK,MAAM,QAAQgR,CAAU,IAC3BA,EAAa,CAAA,EACbF,EAAW9Q,EAAU,EAAIgR,GAEvB,MAAM,QAAQD,CAAW,EAAG,CAC9B,IAAIE,GACHA,EAAcD,GAAY,KAAK,MAAMC,EAAaF,CAAW,OAE9DC,EAAW,KAAKD,CAAW,EAE7B,OAAO,IACR,EASD9B,EAAO,UAAY,SAAmB8B,EAAaF,EAAa,CAC9D,IAAIC,EAAa,KAAK,sBAAsBD,CAAW,EAEnDK,EAAY,MAAM,QAAQH,CAAW,EAAI,GAAG,OAAOA,CAAW,EAAI,CAACA,CAAW,EAClF50F,OAAAA,GAAI20F,EAAY9Q,GAAYkR,CAAS,EAC9B,IACR,EAQDjC,EAAO,YAAc,SAAqB4B,EAAa,CACrD,IAAIC,EAAa,KAAK,sBAAsBD,CAAW,EACvD10F,OAAAA,GAAI20F,EAAY9Q,GAAY,CAAA,CAAE,EACvB,IACX,EACEjB,GAAa4R,EAAoB,CAAC,CAChC,IAAK,cACL,IAAK,UAAe,CAClB,OAAO,KAAK,WACb,CACF,CAAA,CAAC,EACKA,CACT,IAQA,SAASQ,GAAUlc,EAAQ,CACzB,IAAImc,EAAO,CAAA,EACX,OAAInc,EAAO,aACTmc,EAAK,KAAOnc,EAAO,aAEjBA,EAAO,SAAWA,EAAO,UAAY,KACvCmc,EAAK,IAAMnc,EAAO,UAEhBA,EAAO,SAAWA,EAAO,UAAY,KACvCmc,EAAK,IAAMnc,EAAO,SAEbmc,CACT,CAUA,SAASz1G,GAAcs5F,EAAQoc,EAAajlH,EAASklH,EAAoB,CACnEllH,IAAY,SACdA,EAAU,CAAA,GAERklH,IAAuB,SACzBA,EAAqB,IAEvB,IAAIC,EAAaz7G,GAAS,CACxB,KAAMu7G,GAAe,MACzB,EAAKF,GAAUlc,CAAM,CAAC,EAEpB,OAAI7oG,EAAQ,UACVmlH,EAAW,KAAOnlH,EAAQ,UAChBilH,IAENpc,EAAO,OAAS,UAClBsc,EAAW,KAAO,SAEdD,GAAsBC,EAAW,OAAS,SAG5CA,EAAW,KAAO,QAEXtc,EAAO,OAAS,YACzBsc,EAAW,KAAO,SAEdA,EAAW,OAAS,SAEtBA,EAAW,KAAO,KAIpBnlH,EAAQ,eACVmlH,EAAW,aAAenlH,EAAQ,cAE7BmlH,CACT,CAIA,IAAIC,GAAkB,CACpB,MAAO,CACL,SAAU,EACX,EACD,WAAY,SACZ,SAAU,EACZ,EAMA,SAASC,GAAuBvQ,EAAU,CACpCA,IAAa,SACfA,EAAW,CAAA,GAEb,IAAI6K,EAAY9K,GAAaC,CAAQ,EACrC,GAAI6K,GAAaA,EAAUtL,EAAsB,EAAG,CAClD,IAAIr0G,EAAU2/G,EAAUtL,EAAsB,EAC9C,OAAO3qG,GAAS,CAAA,EAAI07G,GAAiBplH,CAAO,EAE9C,OAAOolH,EACT,CAUA,SAASE,GAAY9nG,EAAM+nG,EAAU5F,EAAW,CAC1CA,IAAc,SAChBA,EAAY,CAAA,GAEd,IAAI6F,EAAYD,EAAS,UACzB,OAAI/nG,IAAS,kBACJgoG,EAAUhoG,CAAI,EAKrBmiG,EAAUniG,CAAI,GAAKgoG,EAAUhoG,CAAI,CAErC,CAEA,IAAIxT,GAAY,CAAC,SAAS,EAGtBy7G,GAAY,CACd,QAAW,CACT,SAAU,iBACV,MAAO,cACP,OAAQ,eACR,OAAQ,cACT,EACD,OAAQ,CACN,KAAM,aACN,SAAU,iBACV,MAAO,cACP,SAAU,aACV,KAAM,aACN,KAAM,aACN,IAAK,YACL,WAAY,aACZ,MAAO,cACP,OAAQ,eACR,SAAU,iBACV,OAAQ,eACR,KAAM,aACN,SAAU,iBACV,YAAa,iBACb,WAAY,gBACZ,eAAgB,oBAChB,KAAM,aACN,MAAO,cACP,KAAM,YACP,EACD,OAAQ,CACN,KAAM,aACN,OAAQ,eACR,OAAQ,eACR,MAAO,cACP,MAAO,cACP,OAAQ,cACT,EACD,QAAS,CACP,KAAM,aACN,OAAQ,eACR,OAAQ,eACR,MAAO,cACP,MAAO,cACP,OAAQ,cACT,EACD,MAAO,CACL,OAAQ,eACR,WAAY,mBACZ,MAAO,aACP,OAAQ,cACT,CACH,EAQA,SAASC,GAAmBC,EAAS,CACnC,IAAIC,EAAe91F,GAAI61F,EAAS,cAAc,EAE9C,GAAI,CAACC,EAAc,CACjB,IAAIC,EAAiBF,EAAQ,cAAgBA,EAAQ,aAAa,SAAW,GAC7EC,EAAe,SAAsBj0G,EAAM,CACzC,IAAI3R,EAAU2R,EAAK,QACjB1Q,EAAQoK,GAA8BsG,EAAM3H,EAAS,EACvD,OAAOwb,EAAImgG,EAASj8G,GAAS,CAC3B,QAASA,GAAS,GAAIm8G,EAAgB7lH,CAAO,CACrD,EAASiB,CAAK,CAAC,CACf,EACI8uB,GAAI41F,EAAS,eAAgBC,CAAY,EAE3C,OAAOA,CACT,CAYA,SAASE,GAAUjd,EAAQkd,EAAQC,EAAmB,CAChDA,IAAsB,SACxBA,EAAoB,CAAA,GAEtB,IAAI9rG,EAAO28F,GAAchO,CAAM,EAC/B,GAAI,OAAOkd,GAAW,YAAcA,GAAUE,GAAQ,aAA2BC,gBAAcH,CAAM,CAAC,GAAKE,GAAQ,OAAOF,CAAM,EAC9H,OAAOL,GAAmBK,CAAM,EAElC,GAAI,OAAOA,GAAW,SACpB,MAAM,IAAI,MAAM,kCAAoC,OAAOA,CAAM,EAEnE,GAAIA,KAAUC,EAAmB,CAC/B,IAAIG,EAAmBH,EAAkBD,CAAM,EAC/C,OAAOD,GAAUjd,EAAQsd,EAAkBH,CAAiB,EAE9D,GAAI,OAAO9rG,GAAS,SAAU,CAC5B,GAAI,EAAEA,KAAQurG,IACZ,MAAM,IAAI,MAAM,uBAAyBvrG,EAAO,GAAG,EAErD,GAAI6rG,KAAUN,GAAUvrG,CAAI,EAAG,CAC7B,IAAIksG,EAAoBJ,EAAkBP,GAAUvrG,CAAI,EAAE6rG,CAAM,CAAC,EACjE,OAAOD,GAAUjd,EAAQud,EAAmBJ,CAAiB,GAGjE,MAAM,IAAI,MAAM,cAAgBD,EAAS,eAAiB7rG,EAAO,GAAG,CACtE,CAoCA,SAASmsG,GAAUxd,EAAQkd,EAAQC,EAAmB,CAChDA,IAAsB,SACxBA,EAAoB,CAAA,GAEtB,GAAI,CACF,OAAAF,GAAUjd,EAAQkd,EAAQC,CAAiB,EACpC,EACR,OAAQ9/F,EAAP,CACA,IAAIm3E,EAAMn3E,EACV,GAAIm3E,EAAI,UAAYA,EAAI,QAAQ,WAAW,WAAW,GAAKA,EAAI,QAAQ,WAAW,oBAAoB,GACpG,MAAO,GAET,MAAMn3E,CACP,CACH,CAOA,SAASogG,GAAY9iH,EAAI+iH,EAAQ,CAC/B,IAAIC,EAAQ/3C,GAASjrE,CAAE,EAAIA,EAAKA,EAAGqwG,EAAM,EACzC,OAAO2S,EAAQ,KAAOD,CACxB,CAMA,SAASE,GAAcjjH,EAAI,CACzB,OAAO8iH,GAAY9iH,EAAI,aAAa,CACtC,CAMA,SAASkjH,GAAQljH,EAAI,CACnB,OAAO8iH,GAAY9iH,EAAI,OAAO,CAChC,CAMA,SAASmjH,GAAWnjH,EAAI,CACtB,OAAO8iH,GAAY9iH,EAAI,UAAU,CACnC,CAMA,SAASojH,GAAOpjH,EAAI,CAClB,OAAO8iH,GAAY9iH,EAAI,MAAM,CAC/B,CAMA,SAASqjH,GAAQrjH,EAAI,CACnB,OAAO8iH,GAAY9iH,EAAI,OAAO,CAChC,CASA,SAASsjH,GAAmBtjH,EAAIujH,EAAiB,CAC3CA,IAAoB,SACtBA,EAAkB,IAEpB,IAAIxX,EAAWwX,EAAkB,IAAMJ,GAAWnjH,CAAE,EAAI,GACxD,OAAOkjH,GAAQljH,CAAE,EAAI,IAAMijH,GAAcjjH,CAAE,EAAI,IAAMojH,GAAOpjH,CAAE,EAAI+rG,CACpE,CAOA,SAASyX,GAASxjH,EAAIyjH,EAAa,CACjC,OAAOzjH,EAAK,IAAMyjH,CACpB,CAEA,SAASC,GAAW/3E,EAAOg4E,EAAWC,EAAU,CAC9C,OAAOD,EAAYC,EAAWj4E,CAChC,CAOA,SAASk4E,GAAWC,EAAY,CAC9B,OAAOA,EAAa,IAAI,KAAKA,CAAU,EAAE,OAAQ,EAAG,MACtD,CASA,SAASC,GAAW1e,EAAQ,CAC1B,GAAI8K,MAAY9K,GAAU,MAAM,QAAQA,EAAO,IAAO,GAAKA,EAAO,KAAQ,SAAW,EACnF,OAAOA,EAAO,KAAQ,CAAC,EAEzB,GAAI2K,MAAa3K,EACf,OAAOA,EAAO,MAEhB,MAAM,IAAI,MAAM,yCAAyC,CAC3D,CAUA,SAAS2e,GAAY3e,EAAQ,CAG3B,IAAI4e,EAAsB5e,EAI1B,GAHI4e,EAAoB,UAGpB5e,EAAO,KACT,OAAOA,EAAO,KAAQ,IAAI,SAAUvqG,EAAOoC,EAAG,CAC5C,IAAIyuC,EAAQs4E,EAAoB,WAAaA,EAAoB,UAAU/mH,CAAC,GAAK,OAAOpC,CAAK,EAC7F,MAAO,CACL,MAAO6wC,EACP,MAAO7wC,CACf,CACA,CAAK,EAEH,IAAIu+G,EAAahU,EAAO,OAASA,EAAO,MACxC,OAAOgU,GAAcA,EAAW,IAAI,SAAU6K,EAAY,CACxD,IAAIC,EAAUD,EACVppH,EAAQipH,GAAWI,CAAO,EAC1Bx4E,EAAQw4E,EAAQ,OAAS,OAAOrpH,CAAK,EACzC,MAAO,CACL,OAAQqpH,EACR,MAAOx4E,EACP,MAAO7wC,CACb,CACA,CAAG,CACH,CAYA,SAASspH,GAAgBta,EAAY71B,EAAO,CAC1C,GAAI,CAAC,MAAM,QAAQA,CAAK,EACtB,OAAO61B,EAET,IAAIua,EAAc,SAAqBhqG,EAAK,CAC1C,OAAOA,EAAI,OAAO,SAAU1X,EAAMs7E,EAAM,CACtC,OAAAt7E,EAAKs7E,CAAI,EAAI,GACNt7E,CACR,EAAE,CAAE,CAAA,CACT,EACM2hH,EAAgB,SAAuBjqG,EAAK,CAC9C,OAAOA,EAAI,OAAS,EAAI,eAAiBA,EAAI,KAAK,MAAM,EAAI,IAAM,aAAeA,EAAI,CAAC,EAAI,GAC9F,EACMkqG,EAAeF,EAAYva,CAAU,EACrC0a,EAAgBvwC,EAAM,OAAO,SAAU6R,EAAM,CAC/C,OAAOA,IAAS,KAAOy+B,EAAaz+B,CAAI,CAC5C,CAAG,EACG2+B,EAAYJ,EAAYG,CAAa,EACrCn5E,EAAOy+D,EAAW,OAAO,SAAUhkB,EAAM,CAC3C,MAAO,CAAC2+B,EAAU3+B,CAAI,CAC1B,CAAG,EACG4+B,EAAYF,EAAc,QAAQ,GAAG,EACzC,GAAIE,IAAc,GAAI,CACpB,GAAIr5E,EAAK,OACP,MAAM,IAAI,MAAM,wCAA0Ci5E,EAAcj5E,CAAI,CAAC,EAE/E,OAAOm5E,EAET,GAAIE,IAAcF,EAAc,YAAY,GAAG,EAC7C,MAAM,IAAI,MAAM,0DAA0D,EAE5E,IAAIG,EAAW,CAAA,EAAG,OAAOH,CAAa,EACtC,OAAAG,EAAS,OAAO,MAAMA,EAAU,CAACD,EAAW,CAAC,EAAE,OAAOr5E,CAAI,CAAC,EACpDs5E,CACT,CAQA,SAASC,GAAIC,EAAKzyG,EAAO,CAEvB,QADIinB,EAAI,OAAOwrF,CAAG,EACXxrF,EAAE,OAASjnB,GAChBinB,EAAI,IAAMA,EAEZ,OAAOA,CACT,CASA,SAASyrF,GAAgBhB,EAAYiB,EAAa,CAIhD,GAHIA,IAAgB,SAClBA,EAAc,IAEZ,CAACjB,EACH,MAAO,CACL,KAAM,GACN,MAAO,GACP,IAAK,GACL,KAAMiB,EAAc,GAAK,EACzB,OAAQA,EAAc,GAAK,EAC3B,OAAQA,EAAc,GAAK,CACjC,EAEE,IAAIC,EAAO,IAAI,KAAKlB,CAAU,EAC9B,GAAI,OAAO,MAAMkB,EAAK,QAAS,CAAA,EAC7B,MAAM,IAAI,MAAM,wBAA0BlB,CAAU,EAEtD,MAAO,CACL,KAAMkB,EAAK,eAAgB,EAC3B,MAAOA,EAAK,YAAW,EAAK,EAC5B,IAAKA,EAAK,WAAY,EACtB,KAAMD,EAAcC,EAAK,YAAa,EAAG,EACzC,OAAQD,EAAcC,EAAK,cAAe,EAAG,EAC7C,OAAQD,EAAcC,EAAK,cAAe,EAAG,CACjD,CACA,CAWA,SAASC,GAAwB5f,EAAQ,CAMvC,GAJIA,EAAO,OAIPA,EAAO,MAAWA,EAAO,KAAQ,SAAW,GAAKA,EAAO,KAAQ,CAAC,IAAM,GACzE,MAAO,GAGT,GAAIA,EAAO,OAASA,EAAO,MAAM,SAAW,EAC1C,OAAO4f,GAAwB5f,EAAO,MAAM,CAAC,CAAC,EAGhD,GAAIA,EAAO,OAASA,EAAO,MAAM,SAAW,EAC1C,OAAO4f,GAAwB5f,EAAO,MAAM,CAAC,CAAC,EAGhD,GAAIA,EAAO,MAAO,CAChB,IAAI6f,EAAa,SAAoBlb,EAAW,CAC9C,OAAOib,GAAwBjb,CAAS,CAC9C,EACI,OAAO3E,EAAO,MAAM,KAAK6f,CAAU,EAErC,MAAO,EACT,CAUA,SAASC,GAAav9G,EAAWw9G,EAAWz7F,EAAW,CACrD,IAAIlsB,EAAQmK,EAAU,MACpB2hB,EAAQ3hB,EAAU,MACpB,MAAO,CAACsqG,GAAWz0G,EAAO2nH,CAAS,GAAK,CAAClT,GAAW3oF,EAAOI,CAAS,CACtE,CASA,SAAS07F,GAAaC,EAAY1jF,EAAM,CAClCA,IAAS,SACXA,EAAO,IAET,IAAI2jF,EAAOD,EAAW,KACpBE,EAAQF,EAAW,MACnBG,EAAMH,EAAW,IACjBI,EAAmBJ,EAAW,KAC9BK,EAAOD,IAAqB,OAAS,EAAIA,EACzCE,EAAqBN,EAAW,OAChCO,EAASD,IAAuB,OAAS,EAAIA,EAC7CE,EAAqBR,EAAW,OAChCS,EAASD,IAAuB,OAAS,EAAIA,EAC3CE,EAAU,KAAK,IAAIT,EAAMC,EAAQ,EAAGC,EAAKE,EAAME,EAAQE,CAAM,EAC7DE,EAAW,IAAI,KAAKD,CAAO,EAAE,OAAM,EACvC,OAAOpkF,EAAOqkF,EAAWA,EAAS,MAAM,EAAG,EAAE,CAC/C,CAQA,SAASC,GAAYrJ,EAAasJ,EAAW,CAI3C,GAHIA,IAAc,SAChBA,EAAY,CAAA,GAEV,CAACtJ,EACH,MAAO,GAET,IAAIuJ,EAAY,CAAA,EAChB,OAAIhW,MAAcyM,IAChBuJ,EAAYA,EAAU,OAAOvJ,EAAYzM,EAAU,EAAE,IAAI,SAAU/hE,EAAS,CAC1E,IAAI6wE,EAAW,IAAMiH,EAAU,KAAK,GAAG,EACvC,MAAO,CACL,SAAUjH,EACV,QAAS7wE,EACT,MAAO6wE,EAAW,IAAM7wE,CAChC,CACK,CAAA,CAAC,GAEG,OAAO,KAAKwuE,CAAW,EAAE,OAAO,SAAU72G,EAAK+M,EAAK,CACzD,GAAIA,IAAQq9F,GAAY,CACtB,IAAIiW,EAAcxJ,EAAY9pG,CAAG,EAC7BslE,GAAcguC,CAAW,IAC3BrgH,EAAMA,EAAI,OAAOkgH,GAAYG,EAAa,CAAA,EAAG,OAAOF,EAAW,CAACpzG,CAAG,CAAC,CAAC,CAAC,GAG1E,OAAO/M,CACR,EAAEogH,CAAS,CACd,CAqBA,SAASE,GAAc1J,EAAQ,CAC7B,IAAI2J,EAAU,IAAIxF,GAClB,OAAInE,EAAO,QACTA,EAAO,QAAQ,SAAUiD,EAAO,CAC9B,IAAIX,EAAWW,EAAM,SACnBxxE,EAAUwxE,EAAM,QAEd7wE,EAAOkwE,IAAa,IAAM,CAAA,EAAKsH,GAAOtH,CAAQ,EAG9ClwE,EAAK,OAAS,GAAKA,EAAK,CAAC,IAAM,IACjCA,EAAK,OAAO,EAAG,CAAC,EAEdX,GACFk4E,EAAQ,UAAUl4E,EAASW,CAAI,CAEvC,CAAK,EAEIu3E,EAAQ,WACjB,CAOA,SAASE,GAAmBC,EAAc,CACxC,OAAO,OAAO,KAAKA,CAAY,EAAE,OAAO,SAAU1gH,EAAK+M,EAAK,CAC1D,GAAIA,IAAQ,WACV,OAAO/M,EAEP,IAAIisG,EACAoU,EAAcK,EAAa3zG,CAAG,EAClC,GAAIslE,GAAcguC,CAAW,EAAG,CAC9B,IAAI7U,EACJ,OAAOtrG,GAAS,CAAA,EAAIF,GAAMwrG,EAAY,CAAE,EAAEA,EAAUz+F,CAAG,EAAI0zG,GAAmBJ,CAAW,EAAG7U,EAAS,EAEvG,OAAOtrG,GAAS,CAAA,EAAIF,GAAMisG,EAAY,CAAA,EAAIA,EAAUl/F,CAAG,EAAIszG,EAAapU,GAE3E,EAAE,CAAE,CAAA,CACP,CAOA,SAAS0U,GAAWC,EAAU,CAC5B,GAAI,CAACA,EACH,MAAO,GAOT,IAAI5B,EAAO,IAAI,KAAK4B,CAAQ,EACxBC,EAAOjC,GAAII,EAAK,YAAa,EAAE,CAAC,EAChC8B,EAAKlC,GAAII,EAAK,SAAQ,EAAK,EAAG,CAAC,EAC/B+B,EAAKnC,GAAII,EAAK,QAAS,EAAE,CAAC,EAC1BgC,EAAKpC,GAAII,EAAK,SAAU,EAAE,CAAC,EAC3BiC,EAAKrC,GAAII,EAAK,WAAY,EAAE,CAAC,EAC7BkC,EAAKtC,GAAII,EAAK,WAAY,EAAE,CAAC,EAC7BmC,EAAMvC,GAAII,EAAK,gBAAiB,EAAE,CAAC,EACvC,OAAO6B,EAAO,IAAMC,EAAK,IAAMC,EAAK,IAAMC,EAAK,IAAMC,EAAK,IAAMC,EAAK,IAAMC,CAC7E,CAWA,SAASC,GAAoB5K,EAAgBC,EAAuB,CAClE,GAAI,CAACA,EACH,OAAOD,EAET,IAAIE,EAAYF,EAAe,OAC7BG,EAAiBH,EAAe,YAC9BI,EAASsJ,GAAYzJ,CAAqB,EAC1CI,EAAcJ,EAClB,OAAKv0C,GAAQy0C,CAAc,IACzBE,EAAc7D,GAAa2D,EAAgBF,EAAuB,EAAI,EACtEG,EAAS,CAAE,EAAC,OAAOF,CAAS,EAAE,OAAOE,CAAM,GAEtC,CACL,YAAaC,EACb,OAAQD,CACZ,CACA,CAOA,SAASyK,GAAsBnjH,EAAM,CACnC,QAAS6O,KAAO7O,EAAM,CACpB,IAAIojH,EAAUpjH,EACVpJ,EAAQwsH,EAAQv0G,CAAG,EACnBA,IAAQ+9F,IAAW,OAAOh2G,GAAU,UAAYA,EAAM,WAAW,GAAG,EACtEwsH,EAAQv0G,CAAG,EAAIi+F,GAAqBl2G,EAEpCwsH,EAAQv0G,CAAG,EAAIw0G,GAAgBzsH,CAAK,EAGxC,OAAOoJ,CACT,CAMA,SAASsjH,GAAqBtjH,EAAM,CAClC,QAAShH,EAAI,EAAGA,EAAIgH,EAAK,OAAQhH,IAC/BgH,EAAKhH,CAAC,EAAIqqH,GAAgBrjH,EAAKhH,CAAC,CAAC,EAEnC,OAAOgH,CACT,CAOA,SAASqjH,GAAgBE,EAAY,CACnC,OAAIA,EAAW,cAAgB,OACtBJ,GAAsBnhH,GAAS,GAAIuhH,CAAU,CAAC,EAEnD,MAAM,QAAQA,CAAU,EACnBD,GAAqB,CAAE,EAAC,OAAOC,CAAU,CAAC,EAE5CA,CACT,CAQG,IAACC,IACH,SAAUA,EAAoB,CAE7BA,EAAmB,eAAoB,OAEvCA,EAAmB,aAAkB,2BAErCA,EAAmB,SAAc,MAEjCA,EAAmB,QAAa,KAEhCA,EAAmB,WAAgB,QAEnCA,EAAmB,YAAiB,SAEpCA,EAAmB,iBAAsB,YAEzCA,EAAmB,UAAe,MAElCA,EAAmB,cAAmB,WAEtCA,EAAmB,WAAgB,OAEnCA,EAAmB,eAAoB,YAEvCA,EAAmB,aAAkB,UAErCA,EAAmB,aAAkB,SAErCA,EAAmB,SAAc,MAEjCA,EAAmB,WAAgB,QAEnCA,EAAmB,cAAmB,gBAEtCA,EAAmB,aAAkB,UAErCA,EAAmB,mBAAwB,sBAE3CA,EAAmB,mBAAwB,sBAG3CA,EAAmB,iBAAsB,wBAEzCA,EAAmB,aAAkB,YAIrCA,EAAmB,kBAAuB,eAE1CA,EAAmB,SAAc,SAGjCA,EAAmB,mBAAwB,wDAE3CA,EAAmB,iBAAsB,4BAEzCA,EAAmB,uBAA4B,sDAE/CA,EAAmB,2BAAgC,yCAInDA,EAAmB,gCAAqC,mEAIxDA,EAAmB,UAAe,oCACpC,GAAGA,KAAuBA,GAAqB,CAAA,EAAG,ECzyGlD,IAAIC,GAAS,CAAC/+G,EAAO,KACnB,OAAO,gBAAgB,IAAI,WAAWA,CAAI,CAAC,EAAE,OAAO,CAAC5I,EAAI4nH,KACvDA,GAAQ,GACJA,EAAO,GACT5nH,GAAM4nH,EAAK,SAAS,EAAE,EACbA,EAAO,GAChB5nH,IAAO4nH,EAAO,IAAI,SAAS,EAAE,EAAE,YAAa,EACnCA,EAAO,GAChB5nH,GAAM,IAENA,GAAM,IAEDA,GACN,EAAE,EChBP,SAASgvG,GAAkBx3E,EAAQ/5B,EAAO,CACxC,QAASP,EAAI,EAAGA,EAAIO,EAAM,OAAQP,IAAK,CACrC,IAAI+xG,EAAaxxG,EAAMP,CAAC,EACxB+xG,EAAW,WAAaA,EAAW,YAAc,GACjDA,EAAW,aAAe,GACtB,UAAWA,IAAYA,EAAW,SAAW,IACjD,OAAO,eAAez3E,EAAQ03E,GAAeD,EAAW,GAAG,EAAGA,CAAU,EAE5E,CACA,SAASE,GAAaC,EAAaC,EAAYC,EAAa,CAC1D,OAAID,GAAYL,GAAkBI,EAAY,UAAWC,CAAU,EAC/DC,GAAaN,GAAkBI,EAAaE,CAAW,EAC3D,OAAO,eAAeF,EAAa,YAAa,CAC9C,SAAU,EACd,CAAG,EACMA,CACT,CACA,SAASlpG,IAAW,CAClBA,OAAAA,GAAW,OAAO,OAAS,OAAO,OAAO,KAAI,EAAK,SAAUsxB,EAAQ,CAClE,QAASt6B,EAAI,EAAGA,EAAI,UAAU,OAAQA,IAAK,CACzC,IAAI8d,EAAS,UAAU9d,CAAC,EACxB,QAAS6V,KAAOiI,EACV,OAAO,UAAU,eAAe,KAAKA,EAAQjI,CAAG,IAClDykB,EAAOzkB,CAAG,EAAIiI,EAAOjI,CAAG,GAI9B,OAAOykB,CACX,EACStxB,GAAS,MAAM,KAAM,SAAS,CACvC,CACA,SAAS2hH,GAAeC,EAAUC,EAAY,CAC5CD,EAAS,UAAY,OAAO,OAAOC,EAAW,SAAS,EACvDD,EAAS,UAAU,YAAcA,EACjCE,GAAgBF,EAAUC,CAAU,CACtC,CACA,SAASC,GAAgBpyF,EAAGtL,EAAG,CAC7B,OAAA09F,GAAkB,OAAO,eAAiB,OAAO,eAAe,KAAI,EAAK,SAAyBpyF,EAAGtL,EAAG,CACtG,OAAAsL,EAAE,UAAYtL,EACPsL,CACX,EACSoyF,GAAgBpyF,EAAGtL,CAAC,CAC7B,CACA,SAASziB,GAA8BmT,EAAQw0F,EAAU,CACvD,GAAIx0F,GAAU,KAAM,MAAO,GAC3B,IAAIwc,EAAS,CAAA,EACTi4E,EAAa,OAAO,KAAKz0F,CAAM,EAC/BjI,EAAK,EACT,IAAK,EAAI,EAAG,EAAI08F,EAAW,OAAQ,IACjC18F,EAAM08F,EAAW,CAAC,EACd,EAAAD,EAAS,QAAQz8F,CAAG,GAAK,KAC7BykB,EAAOzkB,CAAG,EAAIiI,EAAOjI,CAAG,GAE1B,OAAOykB,CACT,CACA,SAASk4E,GAAa/yG,EAAOgzG,EAAM,CACjC,GAAI,OAAOhzG,GAAU,UAAYA,IAAU,KAAM,OAAOA,EACxD,IAAI83E,EAAO93E,EAAM,OAAO,WAAW,EACnC,GAAI83E,IAAS,OAAW,CACtB,IAAIrhC,EAAMqhC,EAAK,KAAK93E,EAAOgzG,GAAQ,SAAS,EAC5C,GAAI,OAAOv8D,GAAQ,SAAU,OAAOA,EACpC,MAAM,IAAI,UAAU,8CAA8C,EAEpE,OAAQu8D,IAAS,SAAW,OAAS,QAAQhzG,CAAK,CACpD,CACA,SAASuyG,GAAe32F,EAAK,CAC3B,IAAIxF,EAAM28F,GAAan3F,EAAK,QAAQ,EACpC,OAAO,OAAOxF,GAAQ,SAAWA,EAAM,OAAOA,CAAG,CACnD,CAEA,IAAIk1G,GAAc,CAAC,SAAU,OAAO,EAClCvU,GAAa,CAAC,SAAU,OAAO,EAC/BC,GAAa,CAAC,SAAU,OAAO,EAEjC,SAASuU,IAAgB,CACvB,OAAOP,GAAM,CACf,CAMA,SAASQ,GAAsBzW,EAAU,CACvC,OAAQ,MAAM,QAAQA,CAAQ,EAASA,EAAS,IAAI,SAAU39F,EAAM,CAClE,MAAO,CACL,IAAKm0G,GAAe,EACpB,KAAMn0G,CACZ,CACA,CAAG,EALiC,CAAA,CAMpC,CAMA,SAASq0G,GAAqBC,EAAe,CAC3C,OAAI,MAAM,QAAQA,CAAa,EACtBA,EAAc,IAAI,SAAUC,EAAW,CAC5C,OAAOA,EAAU,IACvB,CAAK,EAEI,EACT,CAIA,IAAIC,GAA0B,SAAUC,EAAY,CAClDX,GAAeU,EAAYC,CAAU,EAKrC,SAASD,EAAW9qH,EAAO,CACzB,IAAIgrH,EACJA,EAAQD,EAAW,KAAK,KAAM/qH,CAAK,GAAK,KAIxCgrH,EAAM,mBAAqB,UAAY,CACrC,IAAIC,EAAcD,EAAM,MACtBpjB,EAASqjB,EAAY,OACrB3G,EAAW2G,EAAY,SACrBC,EAAc5G,EAAS,YACvB/G,EAAa3V,EAAO,MACxB,OAAIuT,GAAavT,CAAM,GAAKwJ,GAAqBxJ,CAAM,IACrD2V,EAAa3V,EAAO,iBAGfsjB,EAAY,oBAAoB3N,CAAU,CACvD,EAOIyN,EAAM,WAAa,SAAUrnH,EAAO,CAClCqnH,EAAM,gBAAgBrnH,CAAK,CACjC,EAOIqnH,EAAM,gBAAkB,SAAUpmH,EAAO,CACvC,OAAO,SAAUjB,EAAO,CACtBqnH,EAAM,gBAAgBrnH,EAAOiB,CAAK,CAC1C,CACA,EAOIomH,EAAM,iBAAmB,SAAUpmH,EAAO,CACxC,OAAO,SAAUjB,EAAO,CAClBA,GACFA,EAAM,eAAc,EAEtB,IAAI9B,EAAWmpH,EAAM,MAAM,SACvBJ,EAAgBI,EAAM,MAAM,cAC5BG,EAAsB,CACxB,IAAKV,GAAe,EACpB,KAAMhd,GAAUmd,EAAchmH,CAAK,EAAE,IAAI,CACnD,EACYwmH,EAAmB,CAAA,EAAG,OAAOR,CAAa,EAC1ChmH,IAAU,OACZwmH,EAAiB,OAAOxmH,EAAQ,EAAG,EAAGumH,CAAmB,EAEzDC,EAAiB,KAAKD,CAAmB,EAE3CH,EAAM,SAAS,CACb,cAAeI,EACf,qBAAsB,EAChC,EAAW,UAAY,CACb,OAAOvpH,EAAS8oH,GAAqBS,CAAgB,CAAC,CAChE,CAAS,CACT,CACA,EAOIJ,EAAM,iBAAmB,SAAUpmH,EAAO,CACxC,OAAO,SAAUjB,EAAO,CAClBA,GACFA,EAAM,eAAc,EAEtB,IAAI0nH,EAAeL,EAAM,MACvBnpH,EAAWwpH,EAAa,SACxBjM,EAAciM,EAAa,YACzBT,EAAgBI,EAAM,MAAM,cAE5BM,EACJ,GAAIlM,EAAa,CACfkM,EAAiB,CAAA,EACjB,QAAShQ,KAAO8D,EAAa,CAC3B,IAAI3/G,EAAI,SAAS67G,CAAG,EAChB77G,EAAImF,EACNkqB,GAAIw8F,EAAgB,CAAC7rH,CAAC,EAAG2/G,EAAY9D,CAAG,CAAC,EAChC77G,EAAImF,GACbkqB,GAAIw8F,EAAgB,CAAC7rH,EAAI,CAAC,EAAG2/G,EAAY9D,CAAG,CAAC,GAInD,IAAI8P,EAAmBR,EAAc,OAAO,SAAU,EAAGnrH,EAAG,CAC1D,OAAOA,IAAMmF,CACvB,CAAS,EACDomH,EAAM,SAAS,CACb,cAAeI,EACf,qBAAsB,EAChC,EAAW,UAAY,CACb,OAAOvpH,EAAS8oH,GAAqBS,CAAgB,EAAGE,CAAc,CAChF,CAAS,CACT,CACA,EAQIN,EAAM,eAAiB,SAAUpmH,EAAOe,EAAU,CAChD,OAAO,SAAUhC,EAAO,CAClBA,IACFA,EAAM,eAAc,EACpBA,EAAM,cAAc,QAEtB,IAAI4nH,EAAeP,EAAM,MACvBnpH,EAAW0pH,EAAa,SACxBnM,EAAcmM,EAAa,YACzBD,EACJ,GAAIlM,EAAa,CACfkM,EAAiB,CAAA,EACjB,QAAShQ,KAAO8D,EAAa,CAC3B,IAAI3/G,EAAI,SAAS67G,CAAG,EAChB77G,GAAKmF,EACPkqB,GAAIw8F,EAAgB,CAAC3lH,CAAQ,EAAGy5G,EAAYx6G,CAAK,CAAC,EACzCnF,GAAKkG,EACdmpB,GAAIw8F,EAAgB,CAAC1mH,CAAK,EAAGw6G,EAAYz5G,CAAQ,CAAC,EAElDmpB,GAAIw8F,EAAgB,CAAChQ,CAAG,EAAG8D,EAAY3/G,CAAC,CAAC,GAI/C,IAAImrH,EAAgBI,EAAM,MAAM,cAChC,SAASQ,GAAe,CAEtB,IAAIC,EAAoBb,EAAc,QAEtC,OAAAa,EAAkB,OAAO7mH,EAAO,CAAC,EACjC6mH,EAAkB,OAAO9lH,EAAU,EAAGilH,EAAchmH,CAAK,CAAC,EACnD6mH,CACR,CACD,IAAIL,EAAmBI,IACvBR,EAAM,SAAS,CACb,cAAeI,CACzB,EAAW,UAAY,CACb,OAAOvpH,EAAS8oH,GAAqBS,CAAgB,EAAGE,CAAc,CAChF,CAAS,CACT,CACA,EAMIN,EAAM,iBAAmB,SAAUpmH,EAAO,CACxC,OAAO,SAAUvH,EAAOiuH,EAAgB/oH,EAAI,CAC1C,IAAIwxG,EACA2X,EAAeV,EAAM,MACvB/W,EAAWyX,EAAa,SACxB7pH,EAAW6pH,EAAa,SACxBtM,EAAcsM,EAAa,YACzBC,EAAY,MAAM,QAAQ1X,CAAQ,EAAIA,EAAW,GACjDuL,EAAcmM,EAAU,IAAI,SAAUr1G,EAAM7W,EAAG,CAGjD,IAAImsH,EAAY,OAAOvuH,EAAU,IAAc,KAAOA,EACtD,OAAOuH,IAAUnF,EAAImsH,EAAYt1G,CAC3C,CAAS,EACDzU,EAAS29G,EAAaJ,GAAeA,GAAe32G,GAAS,CAAE,EAAE22G,GAAcrL,EAAY,CAAA,EAAIA,EAAUnvG,CAAK,EAAI0mH,EAAgBvX,EAAS,EAAIxxG,CAAE,CACzJ,CACA,EAEIyoH,EAAM,eAAiB,SAAU3tH,EAAO,CACtC,IAAIwuH,EAAeb,EAAM,MACvBnpH,EAAWgqH,EAAa,SACxB7K,EAAW6K,EAAa,SAC1BhqH,EAASxE,EAAO,OAAW2jH,GAAYA,EAAS,GAAG,CACzD,EACI,IAAI8K,EAAkB9rH,EAAM,SAC1B+rH,EAAYD,IAAoB,OAAS,CAAA,EAAKA,EAC5CE,EAAiBtB,GAAsBqB,CAAS,EACpD,OAAAf,EAAM,MAAQ,CACZ,cAAegB,EACf,qBAAsB,EAC5B,EACWhB,CACR,CAODF,EAAW,yBAA2B,SAAkCnD,EAAWsE,EAAW,CAE5F,GAAIA,EAAU,qBACZ,MAAO,CACL,qBAAsB,EAC9B,EAEI,IAAIC,EAAe,MAAM,QAAQvE,EAAU,QAAQ,EAAIA,EAAU,SAAW,GACxEwE,EAAwBF,EAAU,eAAiB,GACnDb,EAAmBc,EAAa,SAAWC,EAAsB,OAASA,EAAsB,IAAI,SAAUC,EAAwBxnH,EAAO,CAC/I,MAAO,CACL,IAAKwnH,EAAuB,IAC5B,KAAMF,EAAatnH,CAAK,CAChC,CACA,CAAK,EAAI8lH,GAAsBwB,CAAY,EACvC,MAAO,CACL,cAAed,CACrB,CACG,EAID,IAAIxJ,EAASkJ,EAAW,UAOxB,OAAAlJ,EAAO,eAAiB,SAAwBrE,EAAY,CAC1D,OAAI,MAAM,QAAQA,EAAW,IAAI,EAGxB,CAACA,EAAW,KAAK,SAAS,MAAM,EAGlCA,EAAW,OAAS,MAC5B,EAQDqE,EAAO,WAAa,SAAoByK,EAAW,CACjD,IAAIC,EAAe,KAAK,MACtB1kB,EAAS0kB,EAAa,OACtBzY,EAAWyY,EAAa,SACxBhI,EAAWgI,EAAa,SACtBpY,EAAgBN,GAAaC,EAAUyQ,EAAS,eAAe,EACjEiI,EAAUrY,EAAc,QAC1B,OAAIqY,IAAY,KAGV3kB,EAAO,WAAa,OACtB2kB,EAAUF,EAAU,OAASzkB,EAAO,SAEpC2kB,EAAU,IAGPA,CACX,EAQE3K,EAAO,gBAAkB,SAAyBj+G,EAAOiB,EAAO,CAC1DjB,GACFA,EAAM,eAAc,EAEtB,IAAI9B,EAAW,KAAK,MAAM,SACtB+oH,EAAgB,KAAK,MAAM,cAC3BO,EAAsB,CACxB,IAAKV,GAAe,EACpB,KAAM,KAAK,mBAAoB,CACrC,EACQW,EAAmB,CAAA,EAAG,OAAOR,CAAa,EAC1ChmH,IAAU,OACZwmH,EAAiB,OAAOxmH,EAAO,EAAGumH,CAAmB,EAErDC,EAAiB,KAAKD,CAAmB,EAE3C,KAAK,SAAS,CACZ,cAAeC,EACf,qBAAsB,EAC5B,EAAO,UAAY,CACb,OAAOvpH,EAAS8oH,GAAqBS,CAAgB,CAAC,CAC5D,CAAK,CACL,EAGExJ,EAAO,OAAS,UAAkB,CAChC,IAAI4K,EAAe,KAAK,MACtB5kB,EAAS4kB,EAAa,OACtB3Y,EAAW2Y,EAAa,SACxBxL,EAAWwL,EAAa,SACxBlI,EAAWkI,EAAa,SACtBtB,EAAc5G,EAAS,YACzBmI,EAAkBnI,EAAS,gBAC7B,GAAI,EAAExR,MAAalL,GAAS,CAC1B,IAAI8W,EAAY9K,GAAaC,CAAQ,EACjC6Y,EAA2BrI,GAAY,2BAA4BC,EAAU5F,CAAS,EAC1F,OAAOn6F,EAAImoG,EAA0B,CACnC,OAAQ9kB,EACR,SAAUoZ,EACV,OAAQyL,EAAgBxC,GAAmB,YAAY,EACvD,SAAU3F,CAClB,CAAO,EAEH,OAAI4G,EAAY,cAActjB,CAAM,EAE3B,KAAK,oBAEV0W,GAAezK,CAAQ,EAClB,KAAK,qBAEVsH,GAAavT,CAAM,EACd,KAAK,mBAEVsjB,EAAY,aAAatjB,EAAQiM,CAAQ,EACpC,KAAK,cAEP,KAAK,mBACb,EAGD+N,EAAO,kBAAoB,UAA6B,CACtD,IAAI+K,EAAS,KACTC,EAAe,KAAK,MACtBhlB,EAASglB,EAAa,OACtBC,EAAwBD,EAAa,SACrC/Y,EAAWgZ,IAA0B,OAAS,CAAE,EAAGA,EACnDzN,EAAcwN,EAAa,YAC3B5L,EAAW4L,EAAa,SACxBrwG,EAAOqwG,EAAa,KACpBE,EAAwBF,EAAa,SACrCnlH,EAAWqlH,IAA0B,OAAS,GAAQA,EACtDC,EAAwBH,EAAa,SACrCI,EAAWD,IAA0B,OAAS,GAAQA,EACtDE,EAAwBL,EAAa,UACrCM,EAAYD,IAA0B,OAAS,GAAQA,EACvDE,EAAwBP,EAAa,SACrC1e,EAAWif,IAA0B,OAAS,GAAQA,EACtD7I,EAAWsI,EAAa,SACxBQ,EAASR,EAAa,OACtBS,EAAUT,EAAa,QACvBjM,EAAWiM,EAAa,SACxBU,EAAwBV,EAAa,YACrChM,EAAc0M,IAA0B,OAAS,IAAMA,EACvDC,EAAYX,EAAa,UACvBhC,EAAgB,KAAK,MAAM,cAC3BjtB,EAAQiK,EAAO,QAAU,OAAYrrF,EAAOqrF,EAAO,MACnDsjB,EAAc5G,EAAS,YACzBkJ,EAAclJ,EAAS,YACrB5F,EAAY9K,GAAaC,CAAQ,EACjC4Z,EAAe5/C,GAAS+5B,EAAO,KAAK,EAAIA,EAAO,MAAQ,GACvD4W,EAAc0M,EAAY,eAAeuC,CAAY,EACrDxZ,EAAW0W,GAAqB,KAAK,MAAM,aAAa,EACxD+C,EAAS,KAAK,WAAWzZ,CAAQ,EACjC0Z,EAAa,CACf,OAAQD,EACR,MAAO9C,EAAc,IAAI,SAAUC,EAAWjmH,EAAO,CACnD,IAAI0Q,EAAMu1G,EAAU,IAClBv0G,EAAOu0G,EAAU,KAEf+C,EAAWt3G,EACXinG,EAAa2N,EAAY,eAAeuC,EAAcG,CAAQ,EAC9DC,EAAkBzO,EAAcA,EAAYx6G,CAAK,EAAI,OACrDkpH,GAAe9M,EAAS,IAAMJ,EAAch8G,EAC5CmpH,GAAe7C,EAAY,WAAW3N,EAAYuQ,GAAcF,EAAUjN,EAAUC,CAAW,EACnG,OAAO+L,EAAO,qBAAqB,CACjC,IAAKr3G,EACL,MAAO1Q,EACP,KAAM2X,GAAQA,EAAO,IAAM3X,EAC3B,OAAQ8oH,EACR,UAAW9oH,EAAQ,EACnB,YAAaA,EAAQqvG,EAAS,OAAS,EACvC,WAAYsJ,EACZ,aAAcwQ,GACd,gBAAiBF,EACjB,SAAUD,EACV,aAAc/Z,EAAS,MACvB,UAAWqZ,GAAatoH,IAAU,EAClC,OAAQwoH,EACR,QAASC,EACT,UAAWE,EACX,WAAY3C,EAAc,MACpC,CAAS,CACT,CAAO,EACD,UAAW,oCAAsCpM,EAAY,KAC7D,SAAU/2G,EACV,SAAUu5G,EACV,SAAUnN,EACV,WAAY,KAAK,WACjB,SAAUmZ,EACV,SAAU9e,EACV,OAAQtG,EACR,MAAOjK,EACP,YAAa6vB,EACb,SAAUvZ,EACV,UAAWsZ,EACX,SAAUjJ,CAChB,EACQ0J,EAAW3J,GAAY,qBAAsBC,EAAU5F,CAAS,EACpE,OAAOn6F,EAAIypG,EAAUvlH,GAAS,CAAA,EAAIklH,CAAU,CAAC,CAC9C,EAGD/L,EAAO,mBAAqB,UAA8B,CACxD,IAAIlxG,EACAu9G,EAAe,KAAK,MACtBrmB,EAASqmB,EAAa,OACtBjN,EAAWiN,EAAa,SACxBpa,EAAWoa,EAAa,SACxBC,EAAwBD,EAAa,SACrCxmH,EAAWymH,IAA0B,OAAS,GAAQA,EACtDC,EAAwBF,EAAa,SACrCjB,EAAWmB,IAA0B,OAAS,GAAQA,EACtDC,EAAwBH,EAAa,UACrCf,EAAYkB,IAA0B,OAAS,GAAQA,EACvDC,EAAwBJ,EAAa,SACrC/f,EAAWmgB,IAA0B,OAAS,GAAQA,EACtDC,EAAYL,EAAa,UACzBM,EAAcN,EAAa,YAC3Bb,EAASa,EAAa,OACtBZ,EAAUY,EAAa,QACvBO,EAAwBP,EAAa,SACrC/0G,EAAQs1G,IAA0B,OAAS,CAAE,EAAGA,EAChDlK,EAAW2J,EAAa,SACxBV,EAAYU,EAAa,UACzB1xG,EAAO0xG,EAAa,KAClBQ,EAAUnK,EAAS,QACrBkJ,EAAclJ,EAAS,YACvBoK,EAAkBpK,EAAS,gBAC3B4G,EAAc5G,EAAS,YACrBqK,EAAiB/a,GAAaC,EAAU6a,CAAe,EACzD5J,EAAS6J,EAAe,OACxBC,EAAUD,EAAe,MACzB5vH,EAAUqL,GAA8BukH,EAAgBnE,EAAW,EACjEqE,EAAShK,GAAUjd,EAAQkd,EAAQ2J,CAAO,EAC1CvgF,GAASx9B,EAAOk+G,GAA4BhnB,EAAO,QAAU,KAAOl3F,EAAO6L,EAC3EqiG,EAAesM,EAAY,gBAAgBtjB,EAAQiM,EAAU6a,CAAe,EAChF,OAAOnqG,EAAIsqG,EAAQ,CACjB,GAAI7N,EAAS,IACb,KAAMzkG,EACN,SAAU,GACV,SAAU,KAAK,eACf,OAAQ6wG,EACR,QAASC,EACT,QAAStuH,EACT,OAAQ6oG,EACR,SAAUiM,EACV,SAAUyQ,EACV,MAAOprG,EACP,SAAUzR,EACV,SAAUulH,EACV,UAAWsB,EACX,SAAUpgB,EACV,MAAOhgE,EACP,UAAW,CAAC0wE,EACZ,YAAa2P,EACb,YAAaf,EACb,UAAWN,EACX,UAAWK,CACjB,CAAK,CACF,EAGD3L,EAAO,kBAAoB,UAA6B,CACtD,IAAIhxG,EACAk+G,EAAgB,KAAK,MACvBlnB,EAASknB,EAAc,OACvB9N,EAAW8N,EAAc,SACzBjb,EAAWib,EAAc,SACzBC,EAAwBD,EAAc,SACtC51G,EAAQ61G,IAA0B,OAAS,CAAE,EAAGA,EAChDC,EAAwBF,EAAc,SACtCrnH,EAAWunH,IAA0B,OAAS,GAAQA,EACtDC,EAAwBH,EAAc,SACtC9B,EAAWiC,IAA0B,OAAS,GAAQA,EACtDC,EAAwBJ,EAAc,UACtC5B,EAAYgC,IAA0B,OAAS,GAAQA,EACvDC,EAAwBL,EAAc,SACtC5gB,EAAWihB,IAA0B,OAAS,GAAQA,EACtDZ,EAAcO,EAAc,YAC5B1B,EAAS0B,EAAc,OACvBzB,EAAUyB,EAAc,QACxBxK,EAAWwK,EAAc,SACzBvB,EAAYuB,EAAc,UAC1BvyG,EAAOuyG,EAAc,KACnBL,EAAUnK,EAAS,QACrB4G,EAAc5G,EAAS,YACvBkJ,EAAclJ,EAAS,YACvBoK,EAAkBpK,EAAS,gBACzB9F,EAAc0M,EAAY,eAAetjB,EAAO,MAAO1uF,CAAK,EAC5Dk2G,EAAc7I,GAAY/H,CAAW,EACrC6Q,EAAiBzb,GAAaC,EAAU6a,CAAe,EACzDY,EAAwBD,EAAe,OACvCvK,EAASwK,IAA0B,OAAS,SAAWA,EACvDV,EAAUS,EAAe,MACzBtwH,EAAUqL,GAA8BilH,EAAgBpZ,EAAU,EAChE4Y,EAAShK,GAAUjd,EAAQkd,EAAQ2J,CAAO,EAC1CvgF,GAASt9B,EAAQg+G,GAA4BhnB,EAAO,QAAU,KAAOh3F,EAAQ2L,EAC7EqiG,EAAesM,EAAY,gBAAgBtjB,EAAQiM,EAAU6a,CAAe,EAChF,OAAOnqG,EAAIsqG,EAAQ,CACjB,GAAI7N,EAAS,IACb,KAAMzkG,EACN,SAAU,GACV,SAAU,KAAK,eACf,OAAQ6wG,EACR,QAASC,EACT,QAAS5kH,GAAS,CAAE,EAAE1J,EAAS,CAC7B,YAAaqwH,CACrB,CAAO,EACD,OAAQxnB,EACR,SAAUiM,EACV,SAAUyQ,EACV,MAAOprG,EACP,SAAUzR,EACV,SAAUulH,EACV,SAAU9e,EACV,MAAOhgE,EACP,UAAW,CAAC0wE,EACZ,YAAa2P,EACb,YAAaf,EACb,UAAWN,EACX,UAAWK,CACjB,CAAK,CACF,EAGD3L,EAAO,YAAc,UAAuB,CAC1C,IAAI2N,EACAC,EAAgB,KAAK,MACvB5nB,EAAS4nB,EAAc,OACvB3b,EAAW2b,EAAc,SACzBxO,EAAWwO,EAAc,SACzBjzG,EAAOizG,EAAc,KACrBC,EAAwBD,EAAc,SACtC/nH,EAAWgoH,IAA0B,OAAS,GAAQA,EACtDC,EAAwBF,EAAc,SACtCxC,EAAW0C,IAA0B,OAAS,GAAQA,EACtDC,EAAwBH,EAAc,UACtCtC,EAAYyC,IAA0B,OAAS,GAAQA,EACvDC,EAAwBJ,EAAc,SACtCthB,EAAW0hB,IAA0B,OAAS,GAAQA,EACtDxC,EAASoC,EAAc,OACvBnC,EAAUmC,EAAc,QACxBlL,EAAWkL,EAAc,SACzBK,EAAwBL,EAAc,SACtCt2G,EAAQ22G,IAA0B,OAAS,CAAE,EAAGA,EAChDtC,EAAYiC,EAAc,UACxBf,EAAUnK,EAAS,QACrBkJ,EAAclJ,EAAS,YACvBoK,EAAkBpK,EAAS,gBAC3B4G,EAAc5G,EAAS,YACrBwL,EAAiBlc,GAAaC,EAAU6a,CAAe,EACzDqB,EAAwBD,EAAe,OACvChL,EAASiL,IAA0B,OAAS,QAAUA,EACtDnB,EAAUkB,EAAe,MACzB/wH,EAAUqL,GAA8B0lH,EAAgB5Z,EAAU,EAChE2Y,EAAShK,GAAUjd,EAAQkd,EAAQ2J,CAAO,EAC1CvgF,GAASqhF,EAAQX,GAA4BhnB,EAAO,QAAU,KAAO2nB,EAAQhzG,EAC7EqiG,EAAesM,EAAY,gBAAgBtjB,EAAQiM,EAAU6a,CAAe,EAChF,OAAOnqG,EAAIsqG,EAAQ,CACjB,QAAS9vH,EACT,GAAIiiH,EAAS,IACb,KAAMzkG,EACN,SAAU,GACV,SAAU,KAAK,eACf,OAAQ6wG,EACR,QAASC,EACT,OAAQzlB,EACR,SAAUiM,EACV,MAAO36F,EACP,SAAUzR,EACV,SAAUulH,EACV,SAAU9e,EACV,SAAUoW,EACV,YAAakJ,EACb,UAAWN,EACX,UAAWK,EACX,MAAOr/E,EACP,UAAW,CAAC0wE,CAClB,CAAK,CACF,EAGDgD,EAAO,iBAAmB,UAA4B,CACpD,IAAIoO,EAAS,KACTC,EAAgB,KAAK,MACvBroB,EAASqoB,EAAc,OACvBC,EAAwBD,EAAc,SACtCpc,EAAWqc,IAA0B,OAAS,CAAE,EAAGA,EACnDC,EAAwBF,EAAc,SACtChc,EAAWkc,IAA0B,OAAS,CAAE,EAAGA,EACnD/Q,EAAc6Q,EAAc,YAC5BtP,EAAWsP,EAAc,SACzBG,EAAwBH,EAAc,YACtCrP,EAAcwP,IAA0B,OAAS,IAAMA,EACvDpP,EAAWiP,EAAc,SACzB1zG,EAAO0zG,EAAc,KACrBI,EAAwBJ,EAAc,SACtCxoH,EAAW4oH,IAA0B,OAAS,GAAQA,EACtDC,EAAwBL,EAAc,SACtCjD,EAAWsD,IAA0B,OAAS,GAAQA,EACtDC,EAAwBN,EAAc,UACtC/C,EAAYqD,IAA0B,OAAS,GAAQA,EACvDC,EAAwBP,EAAc,SACtC/hB,EAAWsiB,IAA0B,OAAS,GAAQA,EACtDlM,EAAW2L,EAAc,SACzB7C,EAAS6C,EAAc,OACvB5C,EAAU4C,EAAc,QACxB1C,EAAY0C,EAAc,UACxBrF,EAAgB,KAAK,MAAM,cAC3B6F,EAAuB,KAAK,MAAM,SACpCv3G,EAAQu3G,IAAyB,OAAS,CAAA,EAAKA,EAC7C9yB,EAAQiK,EAAO,OAASrrF,EACxBmiG,EAAY9K,GAAaC,CAAQ,EACjCqX,EAAc5G,EAAS,YACzBkJ,EAAclJ,EAAS,YACrBmJ,EAAe5/C,GAAS+5B,EAAO,KAAK,EAAIA,EAAO,MAAQ,GACvD8oB,EAAcjD,EAAa,IAAI,SAAUn3G,EAAM1R,EAAO,CACxD,OAAOsmH,EAAY,eAAe50G,EAAM29F,EAASrvG,CAAK,CAAC,CAC7D,CAAK,EACG+rH,EAAmB9iD,GAAS+5B,EAAO,eAAe,EAAIsjB,EAAY,eAAetjB,EAAO,gBAAiBqM,CAAQ,EAAI,MACrH,CAAC/6F,GAASA,EAAM,OAASw3G,EAAY,UAEvCx3G,EAAQA,GAAS,GACjBA,EAAQA,EAAM,OAAO,IAAI,MAAMw3G,EAAY,OAASx3G,EAAM,MAAM,CAAC,GAGnE,IAAIw0G,EAAS,KAAK,WAAWx0G,CAAK,GAAK,CAAC,CAACy3G,EACrChD,EAAa,CACf,OAAQD,EACR,UAAW,4CACX,SAAUjmH,EACV,SAAUu5G,EACV,SAAU/M,EACV,MAAO2W,EAAc,IAAI,SAAUC,EAAWjmH,EAAO,CACnD,IAAI0Q,EAAMu1G,EAAU,IAClBv0G,GAAOu0G,EAAU,KAEf+C,GAAWt3G,GACXs6G,GAAahsH,GAAS8rH,EAAY,OAClCnT,GAAaqT,IAAc/iD,GAAS+5B,EAAO,eAAe,EAAIsjB,EAAY,eAAetjB,EAAO,gBAAiBgmB,EAAQ,EAAI8C,EAAY9rH,CAAK,EAC9IkpH,GAAe9M,EAAS,IAAMJ,EAAch8G,EAC5CmpH,GAAe7C,EAAY,WAAW3N,GAAYuQ,GAAcF,GAAUjN,EAAUC,CAAW,EAC/FiQ,GAAeD,GAAa/c,EAAS,iBAAmB,CAAE,EAAG,MAAM,QAAQA,EAAS,KAAK,EAAIA,EAAS,MAAMjvG,CAAK,EAAIivG,EAAS,OAAS,GACvIga,GAAkBzO,EAAcA,EAAYx6G,CAAK,EAAI,OACzD,OAAOorH,EAAO,qBAAqB,CACjC,IAAK16G,EACL,MAAO1Q,EACP,KAAM2X,GAAQA,EAAO,IAAM3X,EAC3B,OAAQ8oH,EACR,UAAWkD,GACX,UAAWhsH,GAAS8rH,EAAY,OAAS,EACzC,YAAaE,IAAchsH,EAAQsU,EAAM,OAAS,EAClD,WAAYqkG,GACZ,SAAUqQ,GACV,aAAciD,GACd,aAAc9C,GACd,gBAAiBF,GACjB,UAAWX,GAAatoH,IAAU,EAClC,OAAQwoH,EACR,QAASC,EACT,UAAWE,EACX,WAAY3C,EAAc,MACpC,CAAS,CACT,CAAO,EACD,WAAY,KAAK,WACjB,SAAUoC,EACV,SAAU9e,EACV,SAAUoW,EACV,OAAQ1c,EACR,SAAUiM,EACV,MAAOlW,EACP,YAAa6vB,EACb,UAAWD,CACjB,EACQS,EAAW3J,GAAY,qBAAsBC,EAAU5F,CAAS,EACpE,OAAOn6F,EAAIypG,EAAUvlH,GAAS,CAAA,EAAIklH,CAAU,CAAC,CAC9C,EAMD/L,EAAO,qBAAuB,SAA8B5hH,EAAO,CACjE,IAAIsV,EAAMtV,EAAM,IACd4E,EAAQ5E,EAAM,MACduc,EAAOvc,EAAM,KACb0tH,EAAS1tH,EAAM,OACf8wH,EAAmB9wH,EAAM,UACzB+wH,EAAYD,IAAqB,OAAS,GAAOA,EACjDE,EAAYhxH,EAAM,UAClBixH,EAAcjxH,EAAM,YACpBu9G,EAAav9G,EAAM,WACnB+/G,EAAW//G,EAAM,SACjB6wH,EAAe7wH,EAAM,aACrB+tH,EAAe/tH,EAAM,aACrB6tH,EAAkB7tH,EAAM,gBACxBktH,EAAYltH,EAAM,UAClBotH,EAASptH,EAAM,OACfqtH,EAAUrtH,EAAM,QAChButH,EAAYvtH,EAAM,UAClBkxH,EAAalxH,EAAM,WACjBmxH,EAAgB,KAAK,MACvB1pH,EAAW0pH,EAAc,SACzB7C,EAAY6C,EAAc,UAC1BxQ,EAAWwQ,EAAc,SACzBvQ,EAAcuQ,EAAc,YAC5BnE,EAAWmE,EAAc,SACzBtd,EAAWsd,EAAc,SACzB7M,EAAW6M,EAAc,SACzB3D,EAAc2D,EAAc,YAC1BC,EAAmB9M,EAAS,OAC9B+M,EAAmBD,EAAiB,iBACpCE,EAAcF,EAAiB,YAC/B1C,EAAkBpK,EAAS,gBACzBiN,EAAkBF,GAAoBC,EACtCE,EAAiB5d,GAAaC,EAAU6a,CAAe,EACzD+C,EAAwBD,EAAe,UACvCE,EAAYD,IAA0B,OAAS,GAAOA,EACtDE,EAAwBH,EAAe,UACvCI,EAAYD,IAA0B,OAAS,GAAOA,EACtDE,EAAwBL,EAAe,SACvCM,EAAWD,IAA0B,OAAS,GAAQA,EACpDloD,EAAM,CACR,OAAQ+nD,GAAaV,EACrB,SAAUU,GAAaT,EACvB,KAAMa,GAAYpE,EAClB,OAAQkE,GAAab,EACrB,QAAS,EACf,EACI,OAAApnD,EAAI,QAAU,OAAO,KAAKA,CAAG,EAAE,KAAK,SAAUr0D,GAAK,CACjD,OAAOq0D,EAAIr0D,EAAG,CACpB,CAAK,EACM,CACL,SAAUiP,EAAIgtG,EAAiB,CAC7B,KAAMh1G,EACN,MAAO3X,EACP,OAAQ24G,EACR,SAAUsT,EACV,SAAU9Q,EACV,YAAayN,EACb,YAAaK,EACb,SAAUlN,EACV,YAAaC,EACb,SAAUmN,EACV,SAAU,KAAK,eAAexQ,CAAU,EACxC,SAAU,KAAK,iBAAiB34G,CAAK,EACrC,OAAQwoH,EACR,QAASC,EACT,SAAU/I,EACV,SAAU78G,EACV,SAAUulH,EACV,UAAWsB,EACX,UAAWpB,EACX,UAAWK,CACnB,CAAO,EACD,UAAW,aACX,SAAU9lH,EACV,OAAQimH,EACR,QAAS/jD,EAAI,KACb,WAAYA,EAAI,QAChB,UAAWA,EAAI,OACf,YAAaA,EAAI,SACjB,UAAWA,EAAI,OACf,MAAO/kE,EACP,WAAYssH,EACZ,IAAK57G,EACL,gBAAiB,KAAK,gBACtB,iBAAkB,KAAK,iBACvB,iBAAkB,KAAK,iBACvB,eAAgB,KAAK,eACrB,SAAU03G,EACV,SAAU1I,EACV,OAAQ/G,EACR,SAAUsT,CAChB,CACA,EACEnf,GAAaoZ,EAAY,CAAC,CACxB,IAAK,YACL,IAAK,UAAiB,CACpB,IAAIiH,EAAgB,KAAK,MACvBnqB,EAASmqB,EAAc,OACvBzN,EAAWyN,EAAc,SACvBtF,EAAkBnI,EAAS,gBAC/B,OAAOz1F,GAAI+4E,EAAQ,CAACkL,GAAW,OAAO,EAAGjkF,GAAI+4E,EAAQ,CAACkL,GAAW,aAAa,EAAG2Z,EAAgBxC,GAAmB,cAAc,CAAC,CAAC,CACrI,CACF,CAAA,CAAC,EACKa,CACT,EAAEkH,EAAS,SAAA,EAEPC,GAAc,CAAC,SAAU,QAAS,OAAO,EAM7C,SAASC,GAAalyH,EAAO,CAC3B,IAAI0Q,EACAk3F,EAAS5nG,EAAM,OACjBuc,EAAOvc,EAAM,KACb6zG,EAAW7zG,EAAM,SACjBghH,EAAWhhH,EAAM,SACjBi0G,EAAWj0G,EAAM,SACjBskH,EAAWtkH,EAAM,SACjBkuG,EAAWluG,EAAM,SACjByH,EAAWzH,EAAM,SACjBgtH,EAAWhtH,EAAM,SACjBktH,EAAYltH,EAAM,UAClB6B,EAAW7B,EAAM,SACjBqtH,EAAUrtH,EAAM,QAChBotH,EAASptH,EAAM,OACfutH,EAAYvtH,EAAM,UAChB29F,EAAQiK,EAAO,MACf6mB,EAAUnK,EAAS,QACrBkJ,EAAclJ,EAAS,YACvBmI,EAAkBnI,EAAS,gBAC3BoK,EAAkBpK,EAAS,gBACzBpQ,EAAgBN,GAAaC,EAAU6a,CAAe,EACxDyD,EAAuBje,EAAc,OACrC4Q,EAASqN,IAAyB,OAAS,WAAaA,EACxDvD,EAAU1a,EAAc,MACxBke,EAAsBle,EAAc,MACpC0K,EAAewT,IAAwB,OAAS,GAAOA,EACvDrzH,EAAUqL,GAA8B8pG,EAAe+d,EAAW,EAChEpD,EAAShK,GAAUjd,EAAQkd,EAAQ2J,CAAO,EAC1C4D,EAAM5F,EAAgBxC,GAAmB,QAAQ,EACjDqI,EAAK7F,EAAgBxC,GAAmB,OAAO,EAC/CmF,EACAlhF,GAASx9B,EAAOk+G,GAA4BjxB,IAAU,KAAOjtF,EAAO6L,EACxE,GAAI,MAAM,QAAQqrF,EAAO,KAAK,EAC5BwnB,EAAc7I,GAAY,CACxB,MAAO3e,EAAO,MAAM,IAAI,SAAUxoG,EAAQ,CACxC,GAAIyuE,GAASzuE,CAAM,EACjB,OAAOqJ,GAAS,CAAE,EAAErJ,EAAQ,CAC1B,MAAOA,EAAO,QAAUA,EAAO,QAAa,GAAOizH,EAAMC,EACrE,CAAW,CAGX,CAAO,EAAE,OAAO,SAAUn6F,EAAG,CACrB,OAAOA,CACf,CAAO,CACP,CAAK,MACI,CACL,IAAIo6F,EAEA/L,EAAsB5e,EACtByI,GAASkiB,EAAe3qB,EAAO,OAAY,KAAO2qB,EAAe,CAAC,GAAM,EAAK,EAC7E,CAAC/L,EAAoB,WAAanW,EAAM,SAAW,GAAKA,EAAM,MAAM,SAAU5tF,EAAG,CACnF,OAAO,OAAOA,GAAM,SAC1B,CAAK,EACC2sG,EAAc,CAAC,CACb,MAAO/e,EAAM,CAAC,EACd,MAAOA,EAAM,CAAC,EAAIgiB,EAAMC,CAChC,EAAS,CACD,MAAOjiB,EAAM,CAAC,EACd,MAAOA,EAAM,CAAC,EAAIgiB,EAAMC,CAChC,CAAO,EAEDlD,EAAc7I,GAAY,CACxB,KAAQlW,EAER,UAAWmW,EAAoB,SACvC,CAAO,EAGL,OAAOjiG,EAAIsqG,EAAQ,CACjB,QAASpmH,GAAS,CAAE,EAAE1J,EAAS,CAC7B,YAAaqwH,CACnB,CAAK,EACD,OAAQxnB,EACR,SAAUiM,EACV,GAAImN,EAAS,IACb,KAAMzkG,EACN,SAAU1a,EACV,QAASwrH,EACT,OAAQD,EACR,MAAOl/E,EACP,UAAW,CAAC0wE,EACZ,MAAO3K,EACP,SAAU/F,EACV,SAAUzmG,EACV,SAAUulH,EACV,SAAU1I,EACV,YAAakJ,EACb,UAAWN,EACX,UAAWK,CACf,CAAG,CACH,CAEA,IAAIiF,GAAc,CAAC,SAAU,cAAe,YAAa,eAAgB,OAAO,EAM5EC,GAA0B,SAAU1H,EAAY,CAClDX,GAAeqI,EAAY1H,CAAU,EAKrC,SAAS0H,EAAWzyH,EAAO,CACzB,IAAIgrH,EACJA,EAAQD,EAAW,KAAK,KAAM/qH,CAAK,GAAK,KAOxCgrH,EAAM,eAAiB,SAAU5rH,EAAQ,CACvC,IAAIszH,EAAc1H,EAAM,MACtBrQ,EAAiB+X,EAAY,eAC7BC,EAAmBD,EAAY,iBAC7BzH,EAAcD,EAAM,MACtB/W,EAAWgX,EAAY,SACvBppH,EAAWopH,EAAY,SACvB3G,EAAW2G,EAAY,SACrBC,EAAc5G,EAAS,YACvBsO,EAAYxzH,IAAW,OAAY,SAASA,EAAQ,EAAE,EAAI,GAC9D,GAAIwzH,IAAcjY,EAGlB,KAAIkY,EAAYD,GAAa,EAAID,EAAiBC,CAAS,EAAI,OAC3DE,EAAYnY,GAAkB,EAAIgY,EAAiBhY,CAAc,EAAI,OACrE6E,EAAc0L,EAAY,yBAAyB2H,EAAWC,EAAW7e,CAAQ,EACjFuL,GAAeqT,IAGjBrT,EAAc0L,EAAY,oBAAoB2H,EAAWrT,EAAa,uBAAuB,GAE/F39G,EAAS29G,EAAa,OAAWwL,EAAM,WAAY,CAAA,EACnDA,EAAM,SAAS,CACb,eAAgB4H,CACxB,CAAO,EACP,EACI,IAAIvH,EAAeL,EAAM,MACvBe,EAAYV,EAAa,SACzBtsH,EAAUssH,EAAa,QACvB0H,EAAe1H,EAAa,SAAS,YAEnC2H,EAAoBj0H,EAAQ,IAAI,SAAUokH,EAAK,CACjD,OAAO4P,EAAa,eAAe5P,EAAK4I,CAAS,CACvD,CAAK,EACD,OAAAf,EAAM,MAAQ,CACZ,iBAAkBgI,EAClB,eAAgBhI,EAAM,kBAAkB,EAAGe,EAAWiH,CAAiB,CAC7E,EACWhI,CACR,CAOD,IAAIpJ,EAAS6Q,EAAW,UACxB,OAAA7Q,EAAO,mBAAqB,SAA4B5jH,EAAWiuH,EAAW,CAC5E,IAAIV,EAAe,KAAK,MACtBtX,EAAWsX,EAAa,SACxBxsH,EAAUwsH,EAAa,QACvBvK,EAAWuK,EAAa,SACtB5Q,EAAiB,KAAK,MAAM,eAC5BsY,EAAW,KAAK,MACpB,GAAI,CAACxe,GAAWz2G,EAAU,QAASe,CAAO,EAAG,CAC3C,IAAImsH,EAAc,KAAK,MAAM,SAAS,YAElCyH,EAAmB5zH,EAAQ,IAAI,SAAUokH,EAAK,CAChD,OAAO+H,EAAY,eAAe/H,EAAKlP,CAAQ,CACvD,CAAO,EACDgf,EAAW,CACT,eAAgBtY,EAChB,iBAAkBgY,CAC1B,EAEI,GAAI,CAACle,GAAWR,EAAUj2G,EAAU,QAAQ,GAAKgjH,EAAS,MAAQhjH,EAAU,SAAS,IAAK,CACxF,IAAIk1H,EAAYD,EACdE,EAAqBD,EAAU,iBAC7BE,EAAiB,KAAK,kBAAkBzY,EAAgB1G,EAAUkf,CAAkB,EACpFlH,GAAamH,IAAmBzY,IAClCsY,EAAW,CACT,eAAgBG,EAChB,iBAAkBD,CAC5B,GAGQF,IAAa,KAAK,OACpB,KAAK,SAASA,CAAQ,CAEzB,EAODrR,EAAO,kBAAoB,SAA2BjH,EAAgB1G,EAAUl1G,EAAS,CACvF,IAAI2sH,EAAe,KAAK,MACtB9jB,EAAS8jB,EAAa,OACtBR,EAAcQ,EAAa,SAAS,YAClCtW,EAAgBK,GAAgC7N,CAAM,EACtDxoG,EAAS8rH,EAAY,yBAAyBjX,EAAUl1G,EAAS47G,EAAgBvF,CAAa,EAClG,OAAIh2G,EAAS,EACJA,EAIFu7G,GAAkB,CAC7B,EACEiH,EAAO,WAAa,UAAsB,CACxC,IAAIiK,EAAe,KAAK,MACtB7K,EAAW6K,EAAa,SACxBjkB,EAASikB,EAAa,OACxB,MAAO,GAAK7K,EAAS,KAAOpZ,EAAO,MAAQ,iBAAmB,iBAC/D,EAGDga,EAAO,OAAS,UAAkB,CAChC,IAAI0K,EAAe,KAAK,MACtB/vG,EAAO+vG,EAAa,KACpB+G,EAAW/G,EAAa,SACxBgH,EAAwBhH,EAAa,SACrC7kH,EAAW6rH,IAA0B,OAAS,GAAQA,EACtDC,EAAwBjH,EAAa,YACrClN,EAAcmU,IAA0B,OAAS,CAAE,EAAGA,EACtD/F,EAAclB,EAAa,YAC3Bc,EAASd,EAAa,OACtBe,EAAUf,EAAa,QACvBhI,EAAWgI,EAAa,SACxB1kB,EAAS0kB,EAAa,OACtBzY,EAAWyY,EAAa,SACtBmC,EAAUnK,EAAS,QACrBkP,EAASlP,EAAS,OAClBmI,EAAkBnI,EAAS,gBAC3BoK,EAAkBpK,EAAS,gBAC3B4G,EAAc5G,EAAS,YACrBmP,EAAeD,EAAO,YACtBE,EAAe,KAAK,MACtB/Y,EAAiB+Y,EAAa,eAC9Bf,EAAmBe,EAAa,iBAC9Bxf,EAAgBN,GAAaC,EAAU6a,CAAe,EACxDyD,EAAuBje,EAAc,OACrC4Q,EAASqN,IAAyB,OAAS,SAAWA,EACtD5D,EAAcra,EAAc,YAC5BgZ,EAAYhZ,EAAc,UAC1Byf,EAAezf,EAAc,aAC7B0f,EAAsB1f,EAAc,MACpCvW,EAAQi2B,IAAwB,OAAShsB,EAAO,MAAQgsB,EACxDlV,EAAYt0G,GAA8B8pG,EAAese,EAAW,EAClE3D,EAAShK,GAAU,CACrB,KAAM,QACZ,EAAOC,EAAQ2J,CAAO,EACdlB,EAAY1+F,GAAIuwF,EAAazM,GAAY,CAAE,CAAA,EAC3CkhB,EAAmBjf,GAAKwK,EAAa,CAACzM,EAAU,CAAC,EACjDiM,EAAesM,EAAY,gBAAgBtjB,EAAQiM,EAAU6a,CAAe,EAC5EtvH,EAASu7G,GAAkB,GAAIgY,EAAiBhY,CAAc,GAAK,KACnEmZ,EACA10H,IAGF00H,EAAe10H,EAAO,KAAOA,EAAS,OAAO,OAAO,CAAE,EAAEA,EAAQ,CAC9D,KAAMi0H,CACd,CAAO,GAEH,IAAIU,EAAgBp2B,EAAQssB,GAAmB,kBAAoBA,GAAmB,aAClF+J,EAAkBr2B,EAAQ,CAACA,CAAK,EAAI,CAAA,EACpCyxB,EAAcuD,EAAiB,IAAI,SAAUxP,EAAKv+G,GAAO,CAC3D,MAAO,CACL,MAAOu+G,EAAI,OAASsJ,EAAgBsH,EAAeC,EAAgB,OAAO,OAAOpvH,GAAQ,CAAC,CAAC,CAAC,EAC5F,MAAOA,EACf,CACA,CAAK,EACD,OAAOmiB,EAAK,MAAO,CACjB,UAAW,iCACX,SAAU,CAACxC,EAAI,MAAO,CACpB,UAAW,aACX,SAAUA,EAAIsqG,EAAQ,CACpB,GAAI,KAAK,WAAY,EACrB,KAAM,GAAKtyG,GAAQqrF,EAAO,MAAQ,iBAAmB,kBACrD,OAAQ,CACN,KAAM,SACN,QAAW,CACZ,EACD,SAAU,KAAK,eACf,OAAQwlB,EACR,QAASC,EACT,SAAU5lH,GAAYgjE,GAAQ2kD,CAAW,EACzC,SAAU,GACV,UAAW7B,EACX,YAAasG,EACb,MAAOlZ,GAAkB,EAAIA,EAAiB,OAC9C,QAASlyG,GAAS,CAChB,YAAa2mH,CACd,EAAE1Q,CAAS,EACZ,SAAU4F,EACV,YAAakJ,EACb,YAAae,EACb,aAAcoF,EACd,UAAWzG,EACX,MAAOvvB,GAAwBphF,EAC/B,UAAW,CAACqiG,CACtB,CAAS,CACT,CAAO,EAAGx/G,IAAW,MAAQmlB,EAAIkvG,EAAchrH,GAAS,CAAA,EAAI,KAAK,MAAO,CAChE,OAAQqrH,CACT,CAAA,CAAC,CAAC,CACT,CAAK,CACL,EACSrB,CACT,EAAET,EAAS,SAAA,EAMPiC,GAAgC,gBAKhCC,GAAsB,UAkB1B,SAASC,GAAYn0H,EAAO,CAC1B,IAAIskH,EAAWtkH,EAAM,SACnB6B,EAAW7B,EAAM,SACjBi0G,EAAWj0G,EAAM,SACjBo0H,EAAep0H,EAAM,MACnBq0H,EAAY/tG,EAAQ,SAAC8tG,CAAY,EACnCE,EAAYD,EAAU,CAAC,EACvBE,EAAeF,EAAU,CAAC,EACxBG,EAAclQ,EAAS,OAAO,YAC9BjnH,EAAQ42G,EAKRj8F,EAAe6xC,cAAY,SAAUxsD,EAAO,CAE9Ck3H,EAAal3H,CAAK,GAGb,GAAKA,GAAO,OAAO,CAAC,IAAM,MAC7BA,EAAQ,IAAMA,GAKhB,IAAIo3H,EAAY,OAAOp3H,GAAU,UAAYA,EAAM,MAAM42H,EAA6B,EAAI5iB,GAASh0G,EAAM,QAAQ62H,GAAqB,EAAE,CAAC,EAAI7iB,GAASh0G,CAAK,EAC3JwE,EAAS4yH,CAAS,CACtB,EAAK,CAAC5yH,CAAQ,CAAC,EACb,GAAI,OAAOyyH,GAAc,UAAY,OAAOj3H,GAAU,SAAU,CAI9D,IAAIq3H,EAAK,IAAI,QAAQ,GAAKr3H,GAAO,QAAQ,IAAK,KAAK,EAAI,SAAS,EAG5Di3H,EAAU,MAAMI,CAAE,IACpBr3H,EAAQi3H,GAGZ,OAAO/vG,EAAIiwG,EAAa/rH,GAAS,CAAA,EAAIzI,EAAO,CAC1C,SAAU3C,EACV,SAAU2a,CACX,CAAA,CAAC,CACJ,CAOA,IAAI28G,GAA2B,SAAU5J,EAAY,CACnDX,GAAeuK,EAAa5J,CAAU,EACtC,SAAS4J,GAAc,CAErB,QADI3J,EACK4J,EAAO,UAAU,OAAQ3lG,EAAO,IAAI,MAAM2lG,CAAI,EAAGC,EAAO,EAAGA,EAAOD,EAAMC,IAC/E5lG,EAAK4lG,CAAI,EAAI,UAAUA,CAAI,EAE7B,OAAA7J,EAAQD,EAAW,KAAK,MAAMA,EAAY,CAAC,IAAI,EAAE,OAAO97F,CAAI,CAAC,GAAK,KAElE+7F,EAAM,MAAQ,CACZ,uBAAwB,GACxB,qBAAsB,CAAE,CAC9B,EASIA,EAAM,iBAAmB,SAAUzuG,EAAMu4G,EAA6B,CACpE,OAAIA,IAAgC,SAClCA,EAA8B,IAEzB,SAAUz3H,EAAOiuH,EAAgB/oH,EAAI,CAC1C,IAAIwxG,EAAWS,EACXyW,EAAcD,EAAM,MACtB/W,EAAWgX,EAAY,SACvBppH,EAAWopH,EAAY,SACvB7L,EAAc6L,EAAY,YACxB5tH,IAAU,QAAay3H,IAQzBz3H,EAAQ,IAEV,IAAImiH,EAAc/2G,GAAS,CAAE,EAAEwrG,GAAWF,EAAY,GAAIA,EAAUx3F,CAAI,EAAIlf,EAAO02G,EAAS,EAC5FlyG,EAAS29G,EAAaJ,GAAeA,GAAe32G,GAAS,CAAE,EAAE22G,GAAc5K,EAAY,CAAA,EAAIA,EAAUj4F,CAAI,EAAI+uG,EAAgB9W,EAAS,EAAIjyG,CAAE,CACxJ,CACA,EAOIyoH,EAAM,oBAAsB,SAAU11G,EAAK,CACzC,OAAO,SAAU3R,EAAO,CACtBA,EAAM,eAAc,EACpB,IAAI0nH,EAAeL,EAAM,MACvBnpH,EAAWwpH,EAAa,SACxBpX,EAAWoX,EAAa,SACtB0J,EAAiBtsH,GAAS,CAAE,EAAEwrG,CAAQ,EAC1C+gB,GAAMD,EAAgBz/G,CAAG,EACzBzT,EAASkzH,CAAc,CAC/B,CACA,EAQI/J,EAAM,gBAAkB,SAAUiK,EAAchhB,EAAU,CASxD,QARIsX,EAAeP,EAAM,MACvBnX,EAAW0X,EAAa,SACxBjH,EAAWiH,EAAa,SACtBrX,EAAgBN,GAAaC,EAAUyQ,EAAS,eAAe,EACjE4Q,EAAwBhhB,EAAc,4BACtCihB,EAA8BD,IAA0B,OAAS,IAAMA,EACrEtwH,EAAQ,EACRwwH,EAASH,EACNtrD,GAAIsqC,EAAUmhB,CAAM,GACzBA,EAAS,GAAKH,EAAeE,GAA8B,EAAEvwH,EAE/D,OAAOwwH,CACb,EAOIpK,EAAM,YAAc,SAAU7lB,EAAU,CACtC,OAAO,SAAU9nG,EAAOiuH,EAAgB,CACtC,IAAI+J,EAAUC,EACd,GAAInwB,IAAa9nG,EAGjB,KAAIquH,EAAeV,EAAM,MACvB/W,EAAWyX,EAAa,SACxB7pH,EAAW6pH,EAAa,SACxBtM,EAAcsM,EAAa,YAC7BruH,EAAQ2tH,EAAM,gBAAgB3tH,EAAO42G,CAAQ,EAC7C,IAAIuL,EAAc/2G,GAAS,CAAE,EAAEwrG,CAAQ,EACnCshB,GAAWF,EAAW,GAAIA,EAASlwB,CAAQ,EAAI9nG,EAAOg4H,GACtDljG,EAAY,OAAO,KAAKqtF,CAAW,EAAE,IAAI,SAAUlqG,EAAK,CAC1D,IAAI5E,EACA0kH,EAASG,EAAQjgH,CAAG,GAAKA,EAC7B,OAAO5E,EAAO,CAAE,EAAEA,EAAK0kH,CAAM,EAAI5V,EAAYlqG,CAAG,EAAG5E,CAC7D,CAAS,EACG8kH,EAAa,OAAO,OAAO,MAAM,OAAQ,CAAC,CAAA,CAAE,EAAE,OAAOrjG,CAAS,CAAC,EACnE64F,EAAM,SAAS,CACb,uBAAwB,EAClC,CAAS,EACDnpH,EAAS2zH,EAAYpW,GAAeA,GAAe32G,GAAS,CAAE,EAAE22G,GAAckW,EAAY,CAAE,EAAEA,EAAUj4H,CAAK,EAAIiuH,EAAgBgK,EAAW,CAAA,EACpJ,CACA,EAMItK,EAAM,eAAiB,SAAUpjB,EAAQ,CACvC,OAAO,UAAY,CACjB,GAAKA,EAAO,qBAGZ,KAAIikB,EAAeb,EAAM,MACvB/W,EAAW4X,EAAa,SACxBhqH,EAAWgqH,EAAa,SACxBvH,EAAWuH,EAAa,SACtBrM,EAAc/2G,GAAS,CAAE,EAAEwrG,CAAQ,EACnCh7F,EAAO,OACX,GAAI40D,GAAS+5B,EAAO,oBAAoB,EAAG,CACzC3uF,EAAO2uF,EAAO,qBAAqB,KACnC,IAAI6tB,EAAW7tB,EAAO,qBACtB,GAAIyL,MAAWoiB,EAAU,CACvB,IAAIvK,EAAc5G,EAAS,YAC3BmR,EAAWvK,EAAY,eAAe,CACpC,KAAMuK,EAASpiB,EAAO,CACvB,EAAEY,CAAQ,EACXh7F,EAAOw8G,EAAS,KAEd,CAACx8G,IAASq5F,MAAcmjB,GAAYxiB,MAAcwiB,KACpDx8G,EAAO,UAGX,IAAIm8G,EAASpK,EAAM,gBAAgB,SAAUxL,CAAW,EAExD1wF,GAAI0wF,EAAa4V,EAAQpK,EAAM,gBAAgB/xG,CAAI,CAAC,EACpDpX,EAAS29G,CAAW,EAC5B,CACA,EACWwL,CACR,CACD,IAAIpJ,EAAS+S,EAAY,UAMzB,OAAA/S,EAAO,WAAa,SAAoBrlG,EAAM,CAC5C,IAAIqrF,EAAS,KAAK,MAAM,OACxB,OAAO,MAAM,QAAQA,EAAO,QAAQ,GAAKA,EAAO,SAAS,QAAQrrF,CAAI,IAAM,EAC/E,EAKEqlG,EAAO,gBAAkB,SAAyB3oG,EAAM,CACtD,IAAIwzG,EAAkB,KAAK,MAAM,SAAS,gBAC1C,OAAQxzG,EAAI,CACV,IAAK,QACH,MAAO,GACT,IAAK,UACH,MAAO,GACT,IAAK,OACH,OAAO,KACT,IAAK,SACH,MAAO,GACT,IAAK,SACH,MAAO,GACT,IAAK,SACL,QAEE,OAAOwzG,EAAgBxC,GAAmB,gBAAgB,CAC7D,CACL,EAGErI,EAAO,OAAS,UAAkB,CAChC,IAAIhxG,EACF8kH,EACAC,EACAhJ,EAAS,KACPL,EAAe,KAAK,MACtB3P,EAAY2P,EAAa,OACzBsJ,EAAwBtJ,EAAa,SACrCzY,EAAW+hB,IAA0B,OAAS,CAAE,EAAGA,EACnD3hB,EAAWqY,EAAa,SACxBlN,EAAckN,EAAa,YAC3BtL,EAAWsL,EAAa,SACxB/vG,EAAO+vG,EAAa,KACpBuJ,EAAwBvJ,EAAa,SACrCpe,EAAW2nB,IAA0B,OAAS,GAAQA,EACtDvC,EAAwBhH,EAAa,SACrC7kH,EAAW6rH,IAA0B,OAAS,GAAQA,EACtDwC,EAAwBxJ,EAAa,SACrCU,EAAW8I,IAA0B,OAAS,GAAQA,EACtDxH,EAAYhC,EAAa,UACzB3L,EAAW2L,EAAa,SACxB1L,EAAc0L,EAAa,YAC3Bc,EAASd,EAAa,OACtBe,EAAUf,EAAa,QACvBhI,EAAWgI,EAAa,SACtBkH,EAASlP,EAAS,OACpBkJ,EAAclJ,EAAS,YACvB4G,EAAc5G,EAAS,YACvBmI,EAAkBnI,EAAS,gBAC3BoK,EAAkBpK,EAAS,gBACzBgN,EAAckC,EAAO,YACrB5rB,EAASsjB,EAAY,eAAevO,EAAW1I,CAAQ,EACvDyK,EAAY9K,GAAaC,EAAU6a,CAAe,EAClDqH,EAAqBnuB,EAAO,WAC9BouB,EAAmBD,IAAuB,OAAS,CAAA,EAAKA,EACtDp4B,GAAS/sF,GAAS8kH,EAAmBhX,EAAU,QAAU,KAAOgX,EAAmB9tB,EAAO,QAAU,KAAOh3F,EAAQ2L,EACnH4nD,GAAewxD,EAAwBjX,EAAU,cAAgB,KAAOiX,EAAwB/tB,EAAO,YACvGquB,EACJ,GAAI,CACF,IAAI5pB,EAAa,OAAO,KAAK2pB,CAAgB,EAC7CC,EAAoBtP,GAAgBta,EAAYqS,EAAU,KAAK,CAChE,OAAQtiB,EAAP,CACA,OAAOr1E,EAAK,MAAO,CACjB,SAAU,CAACxC,EAAI,IAAK,CAClB,UAAW,eACX,MAAO,CACL,MAAO,KACR,EACD,SAAUA,EAAI2xG,GAAU,CACtB,SAAUzJ,EAAgBxC,GAAmB,mBAAoB,CAAC1tG,GAAQ,OAAQ6/E,EAAI,OAAO,CAAC,CAC1G,CAAW,CACX,CAAS,EAAG73E,EAAI,MAAO,CACb,SAAU,KAAK,UAAUqjF,CAAM,CACzC,CAAS,CAAC,CACV,CAAO,CACF,CACD,IAAIomB,EAAW3J,GAAY,sBAAuBC,EAAU5F,CAAS,EACjEyX,EAAgB,CAElB,MAAOzX,EAAU,QAAU,GAAQ,GAAK/gB,EACxC,YAAa+gB,EAAU,QAAU,GAAQ,OAAYv6C,EACrD,WAAY8xD,EAAkB,IAAI,SAAU15G,EAAM,CAChD,IAAIu4G,GAA8BnrD,GAAIi+B,EAAQ,CAACsL,GAAgB32F,EAAM41F,EAAwB,CAAC,EAC1FikB,GAAgBtB,GAA8BjhB,EAAS,qBAAuBA,EAASt3F,CAAI,EAC3Fm8B,GAASk7D,GAAawiB,EAAa,EAAE,SAAW,SAChDC,GAAgBxnG,GAAImyF,EAAU,CAACzkG,CAAI,EAAG,CAAA,CAAE,EAC5C,MAAO,CACL,QAASgI,EAAI+sG,EAAa,CACxB,KAAM/0G,EACN,SAAUowG,EAAO,WAAWpwG,CAAI,EAChC,OAAQsS,GAAI+4E,EAAQ,CAACsL,GAAgB32F,CAAI,EAAG,EAAE,EAC9C,SAAU65G,GACV,YAAavnG,GAAIuwF,EAAa7iG,CAAI,EAClC,SAAU85G,GACV,SAAU1V,EACV,YAAaC,EACb,SAAU/xF,GAAIolF,EAAU13F,CAAI,EAC5B,YAAaixG,EACb,uBAAwBb,EAAO,MAAM,uBACrC,YAAaA,EAAO,YAAYpwG,CAAI,EACpC,SAAUowG,EAAO,iBAAiBpwG,EAAMu4G,EAA2B,EACnE,OAAQ1H,EACR,QAASC,EACT,SAAU/I,EACV,SAAU78G,EACV,SAAUulH,EACV,UAAWsB,EACX,oBAAqB3B,EAAO,mBAC7B,EAAEpwG,CAAI,EACP,KAAMA,EACN,SAAUywG,EACV,SAAUvlH,EACV,SAAUymG,EACV,OAAQx1D,EAClB,CACA,CAAO,EACD,SAAUs0E,EACV,SAAUvlH,EACV,SAAUymG,EACV,SAAU8S,EACV,SAAUnN,EACV,YAAauL,EACb,OAAQxX,EACR,SAAUqM,EACV,YAAauZ,EACb,SAAUlJ,CAChB,EACI,OAAO//F,EAAIypG,EAAUvlH,GAAS,CAAA,EAAI0tH,EAAe,CAC/C,WAAY,KAAK,cAClB,CAAA,CAAC,CACN,EACSxB,CACT,EAAE3C,EAAS,SAAA,EAEPsE,GAAc,CAAC,UAAU,EAEzBC,GAAkB,CACpB,MAAO,aACP,QAAW,eACX,QAAS,cACT,OAAQ,cACR,OAAQ,cACR,OAAQ,cACR,KAAQ,WACV,EAWA,SAASC,GAAkB5uB,EAAQ8W,EAAWsC,EAAUsD,EAAU,CAChE,IAAIrD,EAAQvC,EAAU,MAClB8U,EAASlP,EAAS,OACpBmI,EAAkBnI,EAAS,gBAC7B,GAAI,OAAOrD,GAAU,WACnB,OAAOA,EAET,GAAI,OAAOA,GAAU,UAAYA,KAASuS,EACxC,OAAOA,EAAOvS,CAAK,EAErB,IAAIpC,EAAajJ,GAAchO,CAAM,EACjC3uF,EAAO,MAAM,QAAQ4lG,CAAU,EAAIA,EAAW,CAAC,EAAIA,GAAc,GACjEp+G,EAAgB81H,GAAgBt9G,CAAI,EAGxC,MAAI,CAACxY,IAAkBmnG,EAAO,OAASA,EAAO,OACrC,UAAY,CACjB,OAAO,IACb,EAESnnG,KAAiB+yH,EAASA,EAAO/yH,CAAa,EAAI,UAAY,CACnE,IAAIisH,EAA2BrI,GAAY,2BAA4BC,EAAU5F,CAAS,EAC1F,OAAOn6F,EAAImoG,EAA0B,CACnC,OAAQ9kB,EACR,SAAUoZ,EACV,OAAQyL,EAAgBxC,GAAmB,iBAAkB,CAAC,OAAOriB,EAAO,IAAI,CAAC,CAAC,EAClF,SAAU0c,CAChB,CAAK,CACL,CACA,CAOA,SAASmS,GAAkBz2H,EAAO,CAChC,IAAI6gH,EAAU7gH,EAAM,OAClB02H,EAAY12H,EAAM,SAClB6zG,EAAW7zG,EAAM,SACjBi0G,EAAWj0G,EAAM,SACjBo/G,EAAcp/G,EAAM,YACpB2gH,EAAW3gH,EAAM,SACjB4gH,EAAc5gH,EAAM,YACpBuc,EAAOvc,EAAM,KACb6B,EAAW7B,EAAM,SACjB22H,EAAc32H,EAAM,YACpB42H,EAAsB52H,EAAM,oBAC5BkuG,EAAWluG,EAAM,SACjBskH,EAAWtkH,EAAM,SACjB62H,EAAwB72H,EAAM,uBAC9B82H,EAAyBD,IAA0B,OAAS,GAAQA,EAClErJ,EAAclJ,EAAS,YACzB4G,EAAc5G,EAAS,YACvBoK,EAAkBpK,EAAS,gBACzB5F,EAAY9K,GAAaC,EAAU6a,CAAe,EAClDqI,EAAgB1S,GAAY,gBAAiBC,EAAU5F,CAAS,EAChEsY,EAA2B3S,GAAY,2BAA4BC,EAAU5F,CAAS,EACtFuY,EAAoB5S,GAAY,oBAAqBC,EAAU5F,CAAS,EACxEwY,EAAqB7S,GAAY,qBAAsBC,EAAU5F,CAAS,EAC1E9W,EAASsjB,EAAY,eAAerK,EAAS5M,CAAQ,EACrDiN,EAAUwV,EAAU9jB,EAAM,EAC1BoO,EAAWzF,GAAa2P,EAAY,WAAWtjB,EAAQsZ,EAASjN,EAAU0M,EAAUC,CAAW,EAAG8V,CAAS,EAI3GS,EAA6BttE,EAAW,YAAC,SAAUoqD,GAAUqX,GAAgB/oH,GAAI,CACnF,IAAIgjH,GAAQhjH,IAAM2+G,EAClB,OAAOr/G,EAASoyG,GAAUqX,GAAgB/F,EAAK,CACnD,EAAK,CAACrE,EAASr/G,CAAQ,CAAC,EAClBu1H,EAAiBZ,GAAkB5uB,EAAQ8W,EAAWsC,EAAUsD,CAAQ,EACxE78G,EAAW,GAAQzH,EAAM,UAAY0+G,EAAU,UAC/CsO,EAAW,GAAQhtH,EAAM,UAAY0+G,EAAU,UAAY1+G,EAAM,OAAO,UAAY4nG,EAAO,UAC3FyvB,EAAoB3Y,EAAU,UAE9B4P,EAAY+I,IAAsB,OAAYr3H,EAAM,UAAY,EAAQq3H,EACxEnK,EAAY,GAAQltH,EAAM,WAAa0+G,EAAU,WACrD,GAAI,OAAO,KAAK9W,CAAM,EAAE,SAAW,EACjC,OAAO,KAET,IAAIgX,EAAesM,EAAY,gBAAgBtjB,EAAQiM,EAAU6a,CAAe,EAC5Eh+G,EAAO0uG,GAAe,CAAE,EAC1BkY,EAAW5mH,EAAK,SAChBmjH,EAAmBzpH,GAA8BsG,EAAM4lH,EAAW,EAEhEF,EAAgBxhB,GAAKf,EAAU,CAAC,gBAAiB,aAAc,UAAU,CAAC,EAC1EH,MAAkB0iB,IACpBA,EAAc1iB,EAAc,EAAIkB,GAAKwhB,EAAc1iB,EAAc,EAAG,CAAC,aAAc,OAAO,CAAC,GAE7F,IAAIuN,EAAQ18F,EAAI6yG,EAAgB3uH,GAAS,CAAA,EAAIzI,EAAO,CAClD,SAAUm3H,EACV,SAAUnW,EACV,OAAQpZ,EACR,SAAUwuB,EACV,SAAU3uH,EACV,SAAUulH,EACV,UAAWsB,EACX,UAAWpB,EACX,YAAa2G,EACb,YAAarG,EACb,UAAW8J,CACZ,CAAA,CAAC,EACE/0H,EAAKy+G,EAASpO,EAAM,EAEpB1kE,EACA4oF,EACF5oF,EAAQ3xB,EAER2xB,EAAQikE,MAA4BvK,EAASrrF,EAAOmiG,EAAU,OAAS1+G,EAAM,OAAO,OAAS4nG,EAAO,OAASrrF,EAE/G,IAAI4nD,EAAcu6C,EAAU,aAAe1+G,EAAM,OAAO,aAAe4nG,EAAO,aAAe,GACzF2vB,EAAO7Y,EAAU,KACjBhmE,EAASgmE,EAAU,SAAW,SAC9B8Y,GAAa,CAAC,aAAc,QAAS,SAAW5hB,GAAchO,CAAM,CAAC,EACrE,CAAC0mB,GAAagJ,GAAYA,EAAS,OAAS,GAC9CE,GAAW,KAAK,kCAAkC,EAEhD3jB,GAAa,MAA+BA,EAAS,YAIvD2jB,GAAW,KAAK3jB,EAAS,UAAU,EAEjC6K,EAAU,YACZ8Y,GAAW,KAAK9Y,EAAU,UAAU,EAEtC,IAAI+Y,GAAgBlzG,EAAI0yG,EAAmB,CACzC,KAAMM,EACN,SAAUvW,EACV,OAAQpZ,EACR,SAAUiM,EACV,UAAW,CAACya,GAAagJ,GAAYA,EAAS,OAAS,EACvD,SAAUhT,CACd,CAAG,EACGoT,GAAkBpJ,EAAY,OAAY/pG,EAAI2yG,EAAoB,CACpE,OAAQI,EACR,YAAalY,EACb,SAAU4B,EACV,OAAQpZ,EACR,SAAUiM,EACV,SAAUyQ,CACd,CAAG,EACGqT,GAAa,CACf,YAAapzG,EAAIyyG,EAA0B,CACzC,GAAIxR,GAAcjjH,CAAE,EACpB,YAAa4hE,EACb,OAAQyjC,EACR,SAAUiM,EACV,SAAUyQ,CAChB,CAAK,EACD,eAAgBngD,EAChB,KAAMszD,GACN,QAAS,OAAOF,GAAS,SAAWA,EAAO,OAC3C,OAAQG,GACR,UAAWpJ,EAAY,OAAYgJ,EACnC,GAAI/0H,EACJ,MAAO2rC,EACP,OAAQwK,EACR,SAAU72C,EACV,YAAa80H,EACb,oBAAqBC,EACrB,SAAU1oB,EACV,SAAUzmG,EACV,SAAUulH,EACV,UAAWsB,EACX,aAAc1P,EACd,WAAY4Y,GAAW,KAAK,GAAG,EAAE,KAAM,EACvC,MAAO9Y,EAAU,MACjB,YAAa8O,EACb,SAAUvZ,EACV,OAAQrM,EACR,SAAUiM,EACV,SAAUyQ,CACd,EACMsT,GAActT,EAAS,OAAO,WAC9BuT,GAAcvT,EAAS,OAAO,WAC9BwT,IAAyBjkB,GAAa,KAA8B,OAASA,EAAS,UAAU,KAAOA,GAAa,KAA8B,OAASA,EAAS,4BAA4B,KAAO,GAC3M,OAAOtvF,EAAIwyG,EAAetuH,GAAS,CAAA,EAAIkvH,GAAY,CACjD,SAAU5wG,EAAKC,GAAU,CACvB,SAAU,CAACi6F,EAAOrZ,EAAO,OAAS,CAACkwB,IAAyB,CAAC5M,EAAY,SAAStjB,CAAM,GAAKrjF,EAAIqzG,GAAa,CAC5G,KAAMr7G,EACN,SAAU9U,EACV,SAAUulH,EACV,UAAWsB,EACX,YAAalP,EACb,SAAUnL,EACV,YAAauZ,EACb,SAAU7M,EACV,SAAUK,EACV,YAAaJ,EACb,OAAQ5gH,EAAM,OACd,SAAUA,EAAM,SAChB,QAASA,EAAM,QACf,QAAS4nG,EAAO,MAAM,IAAI,SAAUiZ,GAAS,CAC3C,OAAOqK,EAAY,eAAer9C,GAASgzC,EAAO,EAAIA,GAAU,CAAA,EAAI5M,CAAQ,CACtF,CAAS,EACD,SAAUrM,EAAO,KACjB,SAAU0c,EACV,OAAQ1c,EACR,SAAUiM,CACX,CAAA,EAAGjM,EAAO,OAAS,CAACkwB,IAAyB,CAAC5M,EAAY,SAAStjB,CAAM,GAAKrjF,EAAIszG,GAAa,CAC9F,KAAMt7G,EACN,SAAU9U,EACV,SAAUulH,EACV,UAAWsB,EACX,YAAalP,EACb,SAAUnL,EACV,YAAauZ,EACb,SAAU7M,EACV,SAAUK,EACV,YAAaJ,EACb,OAAQ5gH,EAAM,OACd,SAAUA,EAAM,SAChB,QAASA,EAAM,QACf,QAAS4nG,EAAO,MAAM,IAAI,SAAUiZ,GAAS,CAC3C,OAAOqK,EAAY,eAAer9C,GAASgzC,EAAO,EAAIA,GAAU,CAAA,EAAI5M,CAAQ,CACtF,CAAS,EACD,SAAUrM,EAAO,KACjB,SAAU0c,EACV,OAAQ1c,EACR,SAAUiM,CAClB,CAAO,CAAC,CACR,CAAK,CACF,CAAA,CAAC,CACJ,CAIA,IAAIyd,GAA2B,SAAUvG,EAAY,CACnDX,GAAekH,EAAavG,CAAU,EACtC,SAASuG,GAAc,CACrB,OAAOvG,EAAW,MAAM,KAAM,SAAS,GAAK,IAC7C,CACD,IAAInJ,EAAS0P,EAAY,UACzB,OAAA1P,EAAO,sBAAwB,SAA+B+F,EAAW,CACvE,MAAO,CAAClT,GAAW,KAAK,MAAOkT,CAAS,CAC5C,EACE/F,EAAO,OAAS,UAAkB,CAChC,OAAOr9F,EAAIkyG,GAAmBhuH,GAAS,CAAE,EAAE,KAAK,KAAK,CAAC,CAC1D,EACS6oH,CACT,EAAEU,EAAS,SAAA,EAEP+F,GAAc,CAAC,SAAU,cAAe,OAAO,EAKnD,SAASvD,GAAYx0H,EAAO,CAC1B,IAAI0Q,EACAk3F,EAAS5nG,EAAM,OACjBuc,EAAOvc,EAAM,KACb6zG,EAAW7zG,EAAM,SACjBghH,EAAWhhH,EAAM,SACjBi0G,EAAWj0G,EAAM,SACjBkuG,EAAWluG,EAAM,SACjBg4H,EAAkBh4H,EAAM,SACxByH,EAAWuwH,IAAoB,OAAS,GAAQA,EAChDC,EAAkBj4H,EAAM,SACxBgtH,EAAWiL,IAAoB,OAAS,GAAQA,EAChDC,EAAmBl4H,EAAM,UACzBktH,EAAYgL,IAAqB,OAAS,GAAQA,EAClDr2H,EAAW7B,EAAM,SACjBotH,EAASptH,EAAM,OACfqtH,EAAUrtH,EAAM,QAChBskH,EAAWtkH,EAAM,SACjButH,EAAYvtH,EAAM,UAChB29F,EAAQiK,EAAO,MACjBpqE,EAASoqE,EAAO,OACd6mB,EAAUnK,EAAS,QACrBkJ,EAAclJ,EAAS,YACvB4G,EAAc5G,EAAS,YACvBoK,EAAkBpK,EAAS,gBACzB8K,EAAclE,EAAY,SAAStjB,CAAM,EAAI2e,GAAY3e,CAAM,EAAI,OACnEuwB,EAAgB/I,EAAc,SAAW,OACzC5xF,GAAU4nF,GAAUxd,EAAQpqE,EAAQixF,CAAO,IAC7C0J,EAAgB36F,GAElB,IAAI02E,EAAgBN,GAAaC,CAAQ,EACvCse,EAAuBje,EAAc,OACrC4Q,EAASqN,IAAyB,OAASgG,EAAgBhG,EAC3DiG,EAAwBlkB,EAAc,YACtCqa,EAAc6J,IAA0B,OAAS,GAAKA,EACtDxJ,EAAU1a,EAAc,MACxBn1G,EAAUqL,GAA8B8pG,EAAe6jB,EAAW,EAChEnZ,EAAesM,EAAY,gBAAgBtjB,EAAQiM,EAAU6a,CAAe,EAC5ExgF,GAASx9B,EAAOk+G,GAA4BjxB,IAAU,KAAOjtF,EAAO6L,EACpEsyG,EAAShK,GAAUjd,EAAQkd,EAAQ2J,CAAO,EAC9C,OAAOlqG,EAAIsqG,EAAQ,CACjB,QAASpmH,GAAS,CAAE,EAAE1J,EAAS,CAC7B,YAAaqwH,CACnB,CAAK,EACD,OAAQxnB,EACR,SAAUiM,EACV,GAAImN,EAAS,IACb,KAAMzkG,EACN,MAAO2xB,EACP,UAAW,CAAC0wE,EACZ,MAAO3K,EACP,SAAUpyG,EACV,OAAQurH,EACR,QAASC,EACT,SAAUnf,EACV,SAAUzmG,EACV,SAAUulH,EACV,YAAaQ,EACb,UAAWN,EACX,SAAU5I,EACV,YAAaiK,EACb,UAAWhB,CACf,CAAG,CACH,CAOA,SAAS8K,GAAUr4H,EAAO,CACxB,IAAIi0G,EAAWj0G,EAAM,SACnB6B,EAAW7B,EAAM,SACnB4mB,OAAAA,EAAAA,UAAU,UAAY,CAChBqtF,IAAa,QACfpyG,EAAS,IAAI,CAEnB,EAAK,CAACoyG,EAAUpyG,CAAQ,CAAC,EAChB,IACT,CAEA,SAAS2xH,IAAS,CAChB,MAAO,CACL,WAAYf,GACZ,WAAY3H,GAEZ,aAAcoH,GACd,YAAaiC,GACb,YAAaQ,GACb,WAAYlC,GACZ,YAAanB,GACb,YAAakD,GACb,UAAW6D,EACf,CACA,CAOA,SAASC,GAA8Bt4H,EAAO,CAC5C,IAAIghH,EAAWhhH,EAAM,SACnBmkE,EAAcnkE,EAAM,YACpBskH,EAAWtkH,EAAM,SACjB4nG,EAAS5nG,EAAM,OACf6zG,EAAW7zG,EAAM,SACfjB,EAAU60G,GAAaC,EAAUyQ,EAAS,eAAe,EACzDiU,EAAiBx5H,EAAQ,MAC3B6/G,EAAe2Z,IAAmB,OAAS,GAAOA,EACpD,GAAI,CAACp0D,GAAe,CAACy6C,EACnB,OAAO,KAET,IAAIoY,EAA2B3S,GAAY,2BAA4BC,EAAUvlH,CAAO,EACxF,OAAOwlB,EAAIyyG,EAA0B,CACnC,GAAIxR,GAAcxE,CAAQ,EAC1B,YAAa78C,EACb,OAAQyjC,EACR,SAAUiM,EACV,SAAUyQ,CACd,CAAG,CACH,CAMA,SAASkU,GAAuBx4H,EAAO,CACrC,IAAIkR,EAAWlR,EAAM,SACnBkK,EAAYlK,EAAM,UAClByH,EAAWzH,EAAM,SACjBy4H,EAAaz4H,EAAM,WACnB04H,EAAc14H,EAAM,YACpB24H,EAAY34H,EAAM,UAClB44H,EAAY54H,EAAM,UAClB64H,EAAU74H,EAAM,QAChB4E,EAAQ5E,EAAM,MACd84H,EAAmB94H,EAAM,iBACzB+4H,EAAmB/4H,EAAM,iBACzBg5H,EAAiBh5H,EAAM,eACvBgtH,EAAWhtH,EAAM,SACjBskH,EAAWtkH,EAAM,SACjB6zG,EAAW7zG,EAAM,SACfi5H,EAAwB3U,EAAS,UAAU,gBAC7C4U,EAAaD,EAAsB,WACnCE,EAAiBF,EAAsB,eACvCG,EAAeH,EAAsB,aACrCI,EAAeJ,EAAsB,aACnCK,EAAW,CACb,KAAM,EACN,YAAa,EACb,aAAc,EACd,WAAY,MAChB,EACE,OAAOvyG,EAAK,MAAO,CACjB,UAAW7c,EACX,SAAU,CAACqa,EAAI,MAAO,CACpB,UAAWk0G,EAAa,WAAa,YACrC,SAAUvnH,CAChB,CAAK,EAAGunH,GAAcl0G,EAAI,MAAO,CAC3B,UAAW,8BACX,SAAUwC,EAAK,MAAO,CACpB,UAAW,YACX,MAAO,CACL,QAAS,OACT,eAAgB,cACjB,EACD,SAAU,EAAE4xG,GAAaD,IAAgBn0G,EAAI60G,EAAc,CACzD,MAAOE,EACP,SAAU7xH,GAAYulH,GAAY,CAAC2L,EACnC,QAASK,EAAep0H,EAAOA,EAAQ,CAAC,EACxC,SAAUivG,EACV,SAAUyQ,CACX,CAAA,GAAIqU,GAAaD,IAAgBn0G,EAAI40G,EAAgB,CACpD,MAAOG,EACP,SAAU7xH,GAAYulH,GAAY,CAAC0L,EACnC,QAASM,EAAep0H,EAAOA,EAAQ,CAAC,EACxC,SAAUivG,EACV,SAAUyQ,CACpB,CAAS,EAAGuU,GAAWt0G,EAAI20G,EAAY,CAC7B,MAAOI,EACP,SAAU7xH,GAAYulH,EACtB,QAAS8L,EAAiBl0H,CAAK,EAC/B,SAAUivG,EACV,SAAUyQ,CACpB,CAAS,EAAGsU,GAAar0G,EAAI80G,EAAc,CACjC,MAAOC,EACP,SAAU7xH,GAAYulH,EACtB,QAAS+L,EAAiBn0H,CAAK,EAC/B,SAAUivG,EACV,SAAUyQ,CACpB,CAAS,CAAC,CACV,CAAO,CACP,CAAK,CAAC,CACN,CAAG,CACH,CAEA,IAAIiV,GAAc,CAAC,KAAK,EAKxB,SAASC,GAAmBx5H,EAAO,CACjC,IAAI0tH,EAAS1tH,EAAM,OACjBkK,EAAYlK,EAAM,UAClByH,EAAWzH,EAAM,SACjBghH,EAAWhhH,EAAM,SACjB6zG,EAAW7zG,EAAM,SACjBkZ,EAAQlZ,EAAM,MACdy5H,EAAaz5H,EAAM,WACnBgtH,EAAWhtH,EAAM,SACjBskH,EAAWtkH,EAAM,SACjBkuG,EAAWluG,EAAM,SACjB4nG,EAAS5nG,EAAM,OACf29F,EAAQ39F,EAAM,MACZ0+G,EAAY9K,GAAaC,CAAQ,EACjCykB,EAAgCjU,GAAY,gCAAiCC,EAAU5F,CAAS,EAChG8Z,EAAyBnU,GAAY,yBAA0BC,EAAU5F,CAAS,EAClFgb,EAA0BrV,GAAY,0BAA2BC,EAAU5F,CAAS,EAEpFib,EAAYrV,EAAS,UAAU,gBAAgB,UACnD,OAAOv9F,EAAK,WAAY,CACtB,UAAW7c,EACX,GAAI82G,EAAS,IACb,SAAU,CAACz8F,EAAIm1G,EAAyB,CACtC,SAAU1Y,EACV,MAAOtC,EAAU,OAAS/gB,EAC1B,SAAUuQ,EACV,OAAQtG,EACR,SAAUiM,EACV,SAAUyQ,CAChB,CAAK,EAAG//F,EAAI+zG,EAA+B,CACrC,SAAUtX,EACV,YAAatC,EAAU,aAAe9W,EAAO,YAC7C,OAAQA,EACR,SAAUiM,EACV,SAAUyQ,CAChB,CAAK,EAAG//F,EAAI,MAAO,CACb,UAAW,sBACX,SAAUrL,GAASA,EAAM,IAAI,SAAUxI,EAAM,CAC3C,IAAI4E,EAAM5E,EAAK,IACbkpH,EAAYxvH,GAA8BsG,EAAM6oH,EAAW,EAC7D,OAAOh1G,EAAIi0G,EAAwB/vH,GAAS,CAAE,EAAEmxH,CAAS,EAAGtkH,CAAG,CACvE,CAAO,CACP,CAAK,EAAGo4G,GAAUnpG,EAAIo1G,EAAW,CAC3B,UAAW,iBACX,QAASF,EACT,SAAUhyH,GAAYulH,EACtB,SAAUnZ,EACV,SAAUyQ,CAChB,CAAK,CAAC,CACN,CAAG,CACH,CAOA,SAASoV,GAAwB15H,EAAO,CACtC,IAAIghH,EAAWhhH,EAAM,SACnB29F,EAAQ39F,EAAM,MACd4nG,EAAS5nG,EAAM,OACf6zG,EAAW7zG,EAAM,SACjBkuG,EAAWluG,EAAM,SACjBskH,EAAWtkH,EAAM,SACfjB,EAAU60G,GAAaC,EAAUyQ,EAAS,eAAe,EACzDiU,EAAiBx5H,EAAQ,MAC3B6/G,EAAe2Z,IAAmB,OAAS,GAAOA,EACpD,GAAI,CAAC56B,GAAS,CAACihB,EACb,OAAO,KAET,IAAIib,EAAqBxV,GAAY,qBAAsBC,EAAUvlH,CAAO,EAC5E,OAAOwlB,EAAIs1G,EAAoB,CAC7B,GAAIjU,GAAQ5E,CAAQ,EACpB,MAAOrjB,EACP,SAAUuQ,EACV,OAAQtG,EACR,SAAUiM,EACV,SAAUyQ,CACd,CAAG,CACH,CAEA,IAAIwV,GAAc,CAAC,KAAM,OAAQ,QAAS,WAAY,WAAY,YAAa,SAAU,UAAW,WAAY,mBAAoB,UAAW,SAAU,WAAY,cAAe,WAAY,YAAa,OAAQ,YAAa,WAAW,EAO7O,SAASC,GAAkB/5H,EAAO,CAChC,IAAIuC,EAAKvC,EAAM,GACb3C,EAAQ2C,EAAM,MACdgtH,EAAWhtH,EAAM,SACjByH,EAAWzH,EAAM,SACjBktH,EAAYltH,EAAM,UAClBotH,EAASptH,EAAM,OACfqtH,EAAUrtH,EAAM,QAChB6B,EAAW7B,EAAM,SACjBg6H,EAAmBh6H,EAAM,iBACzBjB,EAAUiB,EAAM,QAChB4nG,EAAS5nG,EAAM,OACfiZ,EAAOjZ,EAAM,KACb4tC,EAAOxjC,GAA8BpK,EAAO85H,EAAW,EAGzD,GAAI,CAACv3H,EACH,cAAQ,IAAI,YAAavC,CAAK,EACxB,IAAI,MAAM,mBAAqB,KAAK,UAAUA,CAAK,CAAC,EAE5D,IAAIkkH,EAAaz7G,GAAS,CAAA,EAAImlC,EAAMt/B,GAAcs5F,EAAQ3uF,EAAMla,CAAO,CAAC,EACpEC,EACAklH,EAAW,OAAS,UAAYA,EAAW,OAAS,UACtDllH,EAAa3B,GAASA,IAAU,EAAIA,EAAQ,GAE5C2B,EAAa3B,GAAgB,GAE/B,IAAI48H,EAAYpwE,cAAY,SAAUn5C,EAAM,CAC1C,IAAIrT,EAAQqT,EAAK,OAAO,MACxB,OAAO7O,EAASxE,IAAU,GAAK0B,EAAQ,WAAa1B,CAAK,CAC7D,EAAK,CAACwE,EAAU9C,CAAO,CAAC,EAClBm7H,EAAUrwE,cAAY,SAAUj5C,EAAO,CACzC,IAAIvT,EAAQuT,EAAM,OAAO,MACzB,OAAOw8G,EAAO7qH,EAAIlF,CAAK,CAC3B,EAAK,CAAC+vH,EAAQ7qH,CAAE,CAAC,EACX43H,EAAWtwE,cAAY,SAAU0lE,EAAO,CAC1C,IAAIlyH,EAAQkyH,EAAM,OAAO,MACzB,OAAOlC,EAAQ9qH,EAAIlF,CAAK,CAC5B,EAAK,CAACgwH,EAAS9qH,CAAE,CAAC,EAChB,OAAOwkB,EAAKC,GAAU,CACpB,SAAU,CAACzC,EAAI,QAAS9b,GAAS,CAC/B,GAAIlG,EACJ,KAAMA,EACN,UAAW,eACX,SAAUyqH,EACV,SAAUvlH,EACV,UAAWylH,EACX,MAAOluH,CACR,EAAEklH,EAAY,CACb,KAAMtc,EAAO,SAAW8d,GAAWnjH,CAAE,EAAI,OACzC,SAAUy3H,GAAoBC,EAC9B,OAAQC,EACR,QAASC,EACT,mBAAoBtU,GAAmBtjH,EAAI,CAAC,CAACqlG,EAAO,QAAQ,CAClE,CAAK,CAAC,EAAG,MAAM,QAAQA,EAAO,QAAQ,GAAKrjF,EAAI,WAAY,CACrD,GAAImhG,GAAWnjH,CAAE,EACjB,SAAUqlG,EAAO,SAAS,OAAOA,EAAO,SAAc,CAACA,EAAO,SAAS,SAASA,EAAO,OAAU,EAAI,CAACA,EAAO,OAAU,EAAI,EAAE,EAAE,IAAI,SAAUwyB,EAAS,CACpJ,OAAO71G,EAAI,SAAU,CACnB,MAAO61G,CACR,EAAEA,CAAO,CAClB,CAAO,CACP,EAAO,YAAc73H,CAAE,CAAC,CACxB,CAAG,CACH,CAIA,SAAS83H,GAAa3pH,EAAM,CAC1B,IAAImjG,EAAWnjG,EAAK,SAChB4pH,EAAwBlW,GAAuBvQ,CAAQ,EACzD0mB,EAAaD,EAAsB,WACnCE,EAAWF,EAAsB,SACjCG,EAAyBH,EAAsB,MAC/CI,EAAoBD,IAA2B,OAAS,CAAA,EAAKA,EAC/D,OAAID,EACK,KAEFj2G,EAAI,MAAO,CAChB,SAAUA,EAAI,SAAU9b,GAAS,CAC/B,KAAM,QACP,EAAEiyH,EAAmB,CACpB,UAAW,iBAAmBA,EAAkB,WAAa,IAC7D,SAAUH,CAChB,CAAK,CAAC,CACN,CAAG,CACH,CAEA,IAAII,GAAc,CAAC,WAAY,OAAQ,YAAa,WAAY,UAAU,EAC1E,SAAShvH,GAAW3L,EAAO,CACzB,IAAI46H,EAAkB56H,EAAM,SAC1B66H,EAAWD,IAAoB,OAAS,UAAYA,EACpDvzD,EAAOrnE,EAAM,KACbkK,EAAYlK,EAAM,UAClB86H,EAAa1wH,GAA8BpK,EAAO26H,EAAW,EAC/D,OAAOp2G,EAAI,SAAU9b,GAAS,CAC5B,KAAM,SACN,UAAW,WAAaoyH,EAAW,IAAM3wH,CAC1C,EAAE4wH,EAAY,CACb,SAAUv2G,EAAI,IAAK,CACjB,UAAW,uBAAyB8iD,CAC1C,CAAK,CACF,CAAA,CAAC,CACJ,CACA,SAAS6xD,GAAWl5H,EAAO,CACzB,IAAIysH,EAAkBzsH,EAAM,SAAS,gBACrC,OAAOukB,EAAI5Y,GAAYlD,GAAS,CAC9B,MAAOgkH,EAAgBxC,GAAmB,UAAU,EACpD,UAAW,iBACZ,EAAEjqH,EAAO,CACR,KAAM,MACP,CAAA,CAAC,CACJ,CACA,SAASm5H,GAAen5H,EAAO,CAC7B,IAAIysH,EAAkBzsH,EAAM,SAAS,gBACrC,OAAOukB,EAAI5Y,GAAYlD,GAAS,CAC9B,MAAOgkH,EAAgBxC,GAAmB,cAAc,EACxD,UAAW,sBACZ,EAAEjqH,EAAO,CACR,KAAM,YACP,CAAA,CAAC,CACJ,CACA,SAASo5H,GAAap5H,EAAO,CAC3B,IAAIysH,EAAkBzsH,EAAM,SAAS,gBACrC,OAAOukB,EAAI5Y,GAAYlD,GAAS,CAC9B,MAAOgkH,EAAgBxC,GAAmB,YAAY,EACtD,UAAW,oBACZ,EAAEjqH,EAAO,CACR,KAAM,UACP,CAAA,CAAC,CACJ,CACA,SAASq5H,GAAar5H,EAAO,CAC3B,IAAIysH,EAAkBzsH,EAAM,SAAS,gBACrC,OAAOukB,EAAI5Y,GAAYlD,GAAS,CAC9B,MAAOgkH,EAAgBxC,GAAmB,YAAY,EACtD,UAAW,mBACZ,EAAEjqH,EAAO,CACR,SAAU,SACV,KAAM,QACP,CAAA,CAAC,CACJ,CAIA,SAAS25H,GAAUjpH,EAAM,CACvB,IAAIxG,EAAYwG,EAAK,UACnBsuC,EAAUtuC,EAAK,QACfjJ,EAAWiJ,EAAK,SAChB4zG,EAAW5zG,EAAK,SACd+7G,EAAkBnI,EAAS,gBAC/B,OAAO//F,EAAI,MAAO,CAChB,UAAW,MACX,SAAUA,EAAI,IAAK,CACjB,UAAW,uCAAyCra,EACpD,SAAUqa,EAAI5Y,GAAY,CACxB,SAAU,OACV,KAAM,OACN,UAAW,oBACX,MAAO8gH,EAAgBxC,GAAmB,SAAS,EACnD,QAASjrE,EACT,SAAUv3C,EACV,SAAU68G,CAClB,CAAO,CACP,CAAK,CACL,CAAG,CACH,CAEA,SAASyW,IAAkB,CACzB,MAAO,CACL,aAAcV,GACd,UAAWV,GACX,WAAYT,GACZ,eAAgBC,GAChB,aAAcC,GACd,aAAcC,EAClB,CACA,CAMA,SAAS2B,GAAiBh7H,EAAO,CAC/B,IAAIuC,EAAKvC,EAAM,GACbmkE,EAAcnkE,EAAM,YACtB,OAAKmkE,EAGD,OAAOA,GAAgB,SAClB5/C,EAAI,IAAK,CACd,GAAIhiB,EACJ,UAAW,oBACX,SAAU4hE,CAChB,CAAK,EAEM5/C,EAAI,MAAO,CAChB,GAAIhiB,EACJ,UAAW,oBACX,SAAU4hE,CAChB,CAAK,EAbM,IAeX,CAMA,SAAS82D,GAAUvqH,EAAM,CACvB,IAAIyuG,EAASzuG,EAAK,OAChB4zG,EAAW5zG,EAAK,SACd+7G,EAAkBnI,EAAS,gBAC/B,OAAOv9F,EAAK,MAAO,CACjB,UAAW,4BACX,SAAU,CAACxC,EAAI,MAAO,CACpB,UAAW,gBACX,SAAUA,EAAI,KAAM,CAClB,UAAW,cACX,SAAUkoG,EAAgBxC,GAAmB,WAAW,CAChE,CAAO,CACP,CAAK,EAAG1lG,EAAI,KAAM,CACZ,UAAW,aACX,SAAU46F,EAAO,IAAI,SAAUiD,EAAO,EAAG,CACvC,OAAO79F,EAAI,KAAM,CACf,UAAW,8BACX,SAAU69F,EAAM,KACjB,EAAE,CAAC,CACZ,CAAO,CACP,CAAK,CAAC,CACN,CAAG,CACH,CAEA,IAAI8Y,GAA0B,IAK9B,SAASC,GAAMn7H,EAAO,CACpB,IAAIkuC,EAAQluC,EAAM,MAChBkuG,EAAWluG,EAAM,SACjBuC,EAAKvC,EAAM,GACb,OAAKkuC,EAGEnnB,EAAK,QAAS,CACnB,UAAW,gBACX,QAASxkB,EACT,SAAU,CAAC2rC,EAAOggE,GAAY3pF,EAAI,OAAQ,CACxC,UAAW,WACX,SAAU22G,EAChB,CAAK,CAAC,CACN,CAAG,EATQ,IAUX,CAOA,SAASnE,GAAc/2H,EAAO,CAC5B,IAAIuC,EAAKvC,EAAM,GACbkuC,EAAQluC,EAAM,MACdkR,EAAWlR,EAAM,SACjBm/G,EAASn/G,EAAM,OACfu3H,EAAOv3H,EAAM,KACbmkE,EAAcnkE,EAAM,YACpB04C,EAAS14C,EAAM,OACfkuG,EAAWluG,EAAM,SACjB4+G,EAAe5+G,EAAM,aACrBskH,EAAWtkH,EAAM,SACjB6zG,EAAW7zG,EAAM,SACf0+G,EAAY9K,GAAaC,CAAQ,EACjCunB,EAA2B/W,GAAY,2BAA4BC,EAAU5F,CAAS,EAC1F,OAAIhmE,EACKn0B,EAAI,MAAO,CAChB,UAAW,SACX,SAAUrT,CAChB,CAAK,EAEI6V,EAAKq0G,EAA0B3yH,GAAS,CAAA,EAAIzI,EAAO,CACxD,SAAU,CAAC4+G,GAAgBr6F,EAAI42G,GAAO,CACpC,MAAOjtF,EACP,SAAUggE,EACV,GAAI3rG,CACV,CAAK,EAAGq8G,GAAgBz6C,EAAcA,EAAc,KAAMjzD,EAAUiuG,EAAQoY,CAAI,CAC7E,CAAA,CAAC,CACJ,CAMA,SAASL,GAAmBl3H,EAAO,CACjC,IAAIq7H,EAAgBr7H,EAAM,OACxBm/G,EAASkc,IAAkB,OAAS,CAAE,EAAGA,EACzCra,EAAWhhH,EAAM,SACnB,GAAIm/G,EAAO,SAAW,EACpB,OAAO,KAET,IAAI58G,EAAKkjH,GAAQzE,CAAQ,EACzB,OAAOz8F,EAAI,MAAO,CAChB,SAAUA,EAAI,KAAM,CAClB,GAAIhiB,EACJ,UAAW,0CACX,SAAU48G,EAAO,OAAO,SAAU3uB,EAAM,CACtC,MAAO,CAAC,CAACA,CACV,CAAA,EAAE,IAAI,SAAU4xB,EAAOx9G,EAAO,CAC7B,OAAO2f,EAAI,KAAM,CACf,UAAW,cACX,SAAU69F,CACX,EAAEx9G,CAAK,CAChB,CAAO,CACP,CAAK,CACL,CAAG,CACH,CAMA,SAASqyH,GAAkBj3H,EAAO,CAChC,IAAIghH,EAAWhhH,EAAM,SACnBu3H,EAAOv3H,EAAM,KACf,GAAI,CAACu3H,EACH,OAAO,KAET,IAAIh1H,EAAKojH,GAAO3E,CAAQ,EACxB,OAAI,OAAOuW,GAAS,SACXhzG,EAAI,IAAK,CACd,GAAIhiB,EACJ,UAAW,aACX,SAAUg1H,CAChB,CAAK,EAEIhzG,EAAI,MAAO,CAChB,GAAIhiB,EACJ,UAAW,aACX,SAAUg1H,CACd,CAAG,CACH,CAQA,SAAS+D,GAAoBt7H,EAAO,CAClC,IAAImkE,EAAcnkE,EAAM,YACtByH,EAAWzH,EAAM,SACjBi0G,EAAWj0G,EAAM,SACjBghH,EAAWhhH,EAAM,SACjBy5H,EAAaz5H,EAAM,WACnBqsG,EAAarsG,EAAM,WACnBgtH,EAAWhtH,EAAM,SACjBskH,EAAWtkH,EAAM,SACjBkuG,EAAWluG,EAAM,SACjB4nG,EAAS5nG,EAAM,OACf29F,EAAQ39F,EAAM,MACd6zG,EAAW7zG,EAAM,SACfjB,EAAU60G,GAAaC,CAAQ,EAC/BgmB,EAAqBxV,GAAY,qBAAsBC,EAAUvlH,CAAO,EACxEi4H,EAA2B3S,GAAY,2BAA4BC,EAAUvlH,CAAO,EAEpF46H,EAAYrV,EAAS,UAAU,gBAAgB,UACnD,OAAOv9F,EAAK,WAAY,CACtB,GAAIi6F,EAAS,IACb,SAAU,CAACrjB,GAASp5E,EAAIs1G,EAAoB,CAC1C,GAAIjU,GAAQ5E,CAAQ,EACpB,MAAOrjB,EACP,SAAUuQ,EACV,OAAQtG,EACR,SAAUiM,EACV,SAAUyQ,CAChB,CAAK,EAAGngD,GAAe5/C,EAAIyyG,EAA0B,CAC/C,GAAIxR,GAAcxE,CAAQ,EAC1B,YAAa78C,EACb,OAAQyjC,EACR,SAAUiM,EACV,SAAUyQ,CACX,CAAA,EAAGjY,EAAW,IAAI,SAAUhkB,EAAM,CACjC,OAAOA,EAAK,OAClB,CAAK,EAAG2rB,GAAUpM,EAAQiM,EAAUI,CAAQ,GAAK1vF,EAAIo1G,EAAW,CAC1D,UAAW,yBACX,QAASF,EAAW7xB,CAAM,EAC1B,SAAUngG,GAAYulH,EACtB,SAAUnZ,EACV,SAAUyQ,CAChB,CAAK,CAAC,CACN,CAAG,CACH,CAEA,IAAIiX,GAAwB,IAK5B,SAASC,GAAWx7H,EAAO,CACzB,IAAIuC,EAAKvC,EAAM,GACb29F,EAAQ39F,EAAM,MACdkuG,EAAWluG,EAAM,SACnB,OAAO+mB,EAAK,SAAU,CACpB,GAAIxkB,EACJ,SAAU,CAACo7F,EAAOuQ,GAAY3pF,EAAI,OAAQ,CACxC,UAAW,WACX,SAAUg3G,EAChB,CAAK,CAAC,CACN,CAAG,CACH,CAOA,SAASE,GAAiBz7H,EAAO,CAC/B,IAAI4nG,EAAS5nG,EAAM,OACjBghH,EAAWhhH,EAAM,SACjBiF,EAASjF,EAAM,OACfskH,EAAWtkH,EAAM,SACfysH,EAAkBnI,EAAS,gBAC3ByP,EAAgB9J,GAAmB,iBACnC+J,EAAkB,CAAA,EACtB,OAAIhT,GAAYA,EAAS,MACvB+S,EAAgB9J,GAAmB,uBACnC+J,EAAgB,KAAKhT,EAAS,GAAG,GAE/B/7G,IACF8uH,EAAgBA,IAAkB9J,GAAmB,iBAAmBA,GAAmB,2BAA6BA,GAAmB,gCAC3I+J,EAAgB,KAAK/uH,CAAM,GAEtB8hB,EAAK,MAAO,CACjB,UAAW,oBACX,SAAU,CAACxC,EAAI,IAAK,CAClB,SAAUA,EAAI2xG,GAAU,CACtB,SAAUzJ,EAAgBsH,EAAeC,CAAe,CAChE,CAAO,CACP,CAAK,EAAGpsB,GAAUrjF,EAAI,MAAO,CACvB,SAAU,KAAK,UAAUqjF,EAAQ,KAAM,CAAC,CAC9C,CAAK,CAAC,CACN,CAAG,CACH,CAOA,SAASwzB,GAAyBp7H,EAAO,CACvC,IAAIuC,EAAKvC,EAAM,GACbw3H,EAAax3H,EAAM,WACnBiT,EAAQjT,EAAM,MACdyH,EAAWzH,EAAM,SACjBkuC,EAAQluC,EAAM,MACd22H,EAAc32H,EAAM,YACpB42H,EAAsB52H,EAAM,oBAC5BgtH,EAAWhtH,EAAM,SACjBkuG,EAAWluG,EAAM,SACjB4nG,EAAS5nG,EAAM,OACfkR,EAAWlR,EAAM,SACjB6zG,EAAW7zG,EAAM,SACjBskH,EAAWtkH,EAAM,SACfukH,EAAYD,EAAS,UACvBmI,EAAkBnI,EAAS,gBAEzB+U,EAAe9U,EAAU,gBAAgB,aACzCmX,EAAWjP,EAAgBxC,GAAmB,SAAU,CAAC/7E,CAAK,CAAC,EAC/D0iF,EAAcze,MAA4BvK,EAC9C,OAAKgpB,EAOErsG,EAAI,MAAO,CAChB,UAAWizG,EACX,MAAOvkH,EACP,SAAU8T,EAAK,MAAO,CACpB,UAAW,MACX,SAAU,CAACxC,EAAI,MAAO,CACpB,UAAW,2BACX,SAAUwC,EAAK,MAAO,CACpB,UAAW,aACX,SAAU,CAACxC,EAAI42G,GAAO,CACpB,MAAOO,EACP,SAAUxtB,EACV,GAAI3rG,EAAK,MACrB,CAAW,EAAGgiB,EAAI,QAAS,CACf,UAAW,eACX,KAAM,OACN,GAAIhiB,EAAK,OACT,OAAQ,SAAgBoB,EAAO,CAC7B,OAAOgzH,EAAYhzH,EAAM,OAAO,KAAK,CACtC,EACD,aAAcuqC,CAC1B,CAAW,CAAC,CACZ,CAAS,CACT,CAAO,EAAG3pB,EAAI,MAAO,CACb,UAAW,sCACX,SAAUrT,CAClB,CAAO,EAAGqT,EAAI,MAAO,CACb,UAAW,WACX,SAAUA,EAAI80G,EAAc,CAC1B,UAAW,8BACX,MAAO,CACL,OAAQ,GACT,EACD,SAAU5xH,GAAYulH,EACtB,QAAS4J,EAAoB1oF,CAAK,EAClC,SAAU2lE,EACV,SAAUyQ,CACpB,CAAS,CACT,CAAO,CAAC,CACR,CAAK,CACL,CAAG,EA9CQ//F,EAAI,MAAO,CAChB,UAAWizG,EACX,MAAOvkH,EACP,SAAU/B,CAChB,CAAK,CA2CL,CAEA,SAASqzG,IAAY,CACnB,MAAO,CACL,8BAA+B+T,GAC/B,uBAAwBE,GACxB,mBAAoBgB,GACpB,wBAAyBE,GACzB,gBAAiBqB,GAAiB,EAClC,kBAAmBhB,GACnB,yBAA0BiB,GAC1B,kBAAmBC,GACnB,cAAelE,GACf,mBAAoBG,GACpB,kBAAmBD,GACnB,oBAAqBqE,GACrB,mBAAoBE,GACpB,yBAA0BC,GAC1B,yBAA0BL,EAC9B,CACA,CAEA,SAASO,GAAanjH,EAAOotB,EAAM,CAEjC,QADI7mC,EAAU,CAAA,EACLU,EAAI+Y,EAAO/Y,GAAKmmC,EAAMnmC,IAC7BV,EAAQ,KAAK,CACX,MAAOU,EACP,MAAO0nH,GAAI1nH,EAAG,CAAC,CACrB,CAAK,EAEH,OAAOV,CACT,CACA,SAAS68H,GAAe9vG,EAAO,CAC7B,OAAO,OAAO,OAAOA,CAAK,EAAE,MAAM,SAAUzuB,EAAO,CACjD,OAAOA,IAAU,EACrB,CAAG,CACH,CACA,SAASw+H,GAAiB/vG,EAAOqY,EAAM23F,EAAY,CAC7CA,IAAe,SACjBA,EAAa,CAAC,KAAM,IAAI,KAAM,EAAC,YAAW,EAAK,CAAC,GAElD,IAAIhU,EAAOh8F,EAAM,KACfi8F,EAAQj8F,EAAM,MACdk8F,EAAMl8F,EAAM,IACZo8F,EAAOp8F,EAAM,KACbs8F,EAASt8F,EAAM,OACfw8F,EAASx8F,EAAM,OACbf,EAAO,CAAC,CACV,KAAM,OACN,MAAO+wG,EACP,MAAOhU,CACX,EAAK,CACD,KAAM,QACN,MAAO,CAAC,EAAG,EAAE,EACb,MAAOC,CACX,EAAK,CACD,KAAM,MACN,MAAO,CAAC,EAAG,EAAE,EACb,MAAOC,CACX,CAAG,EACD,OAAI7jF,GACFpZ,EAAK,KAAK,CACR,KAAM,OACN,MAAO,CAAC,EAAG,EAAE,EACb,MAAOm9F,CACb,EAAO,CACD,KAAM,SACN,MAAO,CAAC,EAAG,EAAE,EACb,MAAOE,CACb,EAAO,CACD,KAAM,SACN,MAAO,CAAC,EAAG,EAAE,EACb,MAAOE,CACb,CAAK,EAEIv9F,CACT,CACA,SAASgxG,GAAYrrH,EAAM,CACzB,IAAIuI,EAAOvI,EAAK,KACd6H,EAAQ7H,EAAK,MACbrT,EAAQqT,EAAK,MACbof,EAASpf,EAAK,OACdsrH,EAAStrH,EAAK,OACd6L,EAAO7L,EAAK,KACZjJ,EAAWiJ,EAAK,SAChBs8G,EAAWt8G,EAAK,SAChBw8G,EAAYx8G,EAAK,UACjB4zG,EAAW5zG,EAAK,SAChB08G,EAAS18G,EAAK,OACd28G,EAAU38G,EAAK,QACbnO,EAAKy5H,EAAS,IAAM/iH,EACpBgjH,EAAe3X,EAAS,QAAQ,aACpC,OAAO//F,EAAI03G,EAAc,CACvB,OAAQ,CACN,KAAM,SACP,EACD,GAAI15H,EACJ,KAAMga,EACN,UAAW,eACX,QAAS,CACP,YAAao/G,GAAapjH,EAAM,CAAC,EAAGA,EAAM,CAAC,CAAC,CAC7C,EACD,YAAaU,EACb,MAAO5b,EACP,SAAUoK,EACV,SAAUulH,EACV,UAAWE,EACX,SAAU,SAAkB7vH,EAAO,CACjC,OAAOyyB,EAAO7W,EAAM5b,CAAK,CAC1B,EACD,OAAQ+vH,EACR,QAASC,EACT,SAAU/I,EACV,MAAO,GACP,mBAAoBuB,GAAmBmW,CAAM,CACjD,CAAG,CACH,CAIA,SAASE,GAActrH,EAAO,CAC5B,IAAIurH,EAAavrH,EAAM,KACrBuzB,EAAOg4F,IAAe,OAAS,GAAQA,EACvCC,EAAiBxrH,EAAM,SACvBnJ,EAAW20H,IAAmB,OAAS,GAAQA,EAC/CC,EAAiBzrH,EAAM,SACvBo8G,EAAWqP,IAAmB,OAAS,GAAQA,EAC/CC,EAAkB1rH,EAAM,UACxBs8G,EAAYoP,IAAoB,OAAS,GAAQA,EACjDv9H,EAAU6R,EAAM,QAChBrO,EAAKqO,EAAM,GACX2L,EAAO3L,EAAM,KACb0zG,EAAW1zG,EAAM,SACjBw8G,EAASx8G,EAAM,OACfy8G,EAAUz8G,EAAM,QAChB/O,EAAW+O,EAAM,SACjBvT,EAAQuT,EAAM,MACZ67G,EAAkBnI,EAAS,gBAC3B+P,EAAY/tG,EAAQ,SAACjpB,CAAK,EAC5Bi3H,EAAYD,EAAU,CAAC,EACvBE,EAAeF,EAAU,CAAC,EACxBkI,EAAcC,EAAAA,WAAW,SAAU1wG,EAAO2wG,EAAQ,CAClD,OAAOh0H,GAAS,CAAA,EAAIqjB,EAAO2wG,CAAM,CACvC,EAAOpV,GAAgBhqH,EAAO8mC,CAAI,CAAC,EAC/BrY,EAAQywG,EAAY,CAAC,EACrB3hH,EAAW2hH,EAAY,CAAC,EAC1B31G,EAAAA,UAAU,UAAY,CACpB,IAAI81G,EAAa9U,GAAa97F,EAAOqY,CAAI,EACrCy3F,GAAe9vG,CAAK,GAAK4wG,IAAer/H,EAE1CwE,EAAS66H,CAAU,EACVpI,IAAcj3H,IAEvBk3H,EAAal3H,CAAK,EAClBud,EAASysG,GAAgBhqH,EAAO8mC,CAAI,CAAC,EAE3C,EAAK,CAACA,EAAM9mC,EAAOwE,EAAUiqB,EAAOwoG,CAAS,CAAC,EAC5C,IAAIt8G,EAAe6xC,EAAAA,YAAY,SAAU43D,EAAUpkH,EAAO,CACxD,IAAIs/H,EACJ/hH,GAAU+hH,EAAY,GAAIA,EAAUlb,CAAQ,EAAIpkH,EAAOs/H,GACxD,EAAE,CAAE,CAAA,EACDC,EAAe/yE,cAAY,SAAUlmD,EAAO,CAE9C,GADAA,EAAM,eAAc,EAChB,EAAA8D,GAAYulH,GAGhB,KAAI9gG,EAAYm7F,GAAgB,IAAI,KAAM,EAAC,OAAM,EAAIljF,CAAI,EACzDtiC,EAAS+lH,GAAa17F,EAAWiY,CAAI,CAAC,EACvC,EAAE,CAAC18B,EAAUulH,EAAU7oF,CAAI,CAAC,EACzB78B,EAAcuiD,cAAY,SAAUlmD,EAAO,CAC7CA,EAAM,eAAc,EAChB,EAAA8D,GAAYulH,IAGhBnrH,EAAS,MAAS,CACnB,EAAE,CAAC4F,EAAUulH,EAAUnrH,CAAQ,CAAC,EACjC,OAAOklB,EAAK,KAAM,CAChB,UAAW,cACX,SAAU,CAAC80G,GAAiB/vG,EAAOqY,EAAMplC,EAAQ,UAAU,EAAE,IAAI,SAAU89H,EAAWp9H,EAAG,CACvF,OAAO8kB,EAAI,KAAM,CACf,UAAW,mBACX,SAAUA,EAAIw3G,GAAatzH,GAAS,CAClC,OAAQlG,EACR,KAAMga,EACN,OAAQvE,CACT,EAAE6kH,EAAW,CACZ,SAAUp1H,EACV,SAAUulH,EACV,SAAU1I,EACV,OAAQ8I,EACR,QAASC,EACT,UAAWH,GAAaztH,IAAM,CACxC,CAAS,CAAC,CACH,EAAEA,CAAC,CACV,CAAK,GAAIV,EAAQ,gBAAkB,YAAc,CAACA,EAAQ,cAAgB,KAASwlB,EAAI,KAAM,CACvF,UAAW,mBACX,SAAUA,EAAI,IAAK,CACjB,KAAM,IACN,UAAW,uBACX,QAASq4G,EACT,SAAUnQ,EAAgBxC,GAAmB,QAAQ,CAC7D,CAAO,CACP,CAAK,GAAIlrH,EAAQ,kBAAoB,YAAc,CAACA,EAAQ,gBAAkB,KAASwlB,EAAI,KAAM,CAC3F,UAAW,mBACX,SAAUA,EAAI,IAAK,CACjB,KAAM,IACN,UAAW,4BACX,QAASjd,EACT,SAAUmlH,EAAgBxC,GAAmB,UAAU,CAC/D,CAAO,CACP,CAAK,CAAC,CACN,CAAG,CACH,CAEA,IAAIjU,GAAc,CAAC,MAAM,EAMzB,SAAS8mB,GAAkBpsH,EAAM,CAC/B,IAAIqsH,EAAYrsH,EAAK,KACnByzB,EAAO44F,IAAc,OAAS,GAAOA,EACrC/8H,EAAQoK,GAA8BsG,EAAMslG,EAAW,EACrDkmB,EAAgBl8H,EAAM,SAAS,QAAQ,cAC3C,OAAOukB,EAAI23G,EAAezzH,GAAS,CACjC,KAAM07B,CACV,EAAKnkC,CAAK,CAAC,CACX,CAOA,SAASg9H,GAAetsH,EAAM,CAC5B,IAAIusH,EACAr1B,EAASl3F,EAAK,OAChBmjG,EAAWnjG,EAAK,SAChB3R,EAAU2R,EAAK,QACfnO,EAAKmO,EAAK,GACVrT,EAAQqT,EAAK,MACbjJ,EAAWiJ,EAAK,SAChBs8G,EAAWt8G,EAAK,SAChBw9B,EAAQx9B,EAAK,MACbw1G,EAAYx1G,EAAK,UACjBwsH,EAAiBxsH,EAAK,UACtBw8G,EAAYgQ,IAAmB,OAAS,GAAQA,EAChD9P,EAAS18G,EAAK,OACd28G,EAAU38G,EAAK,QACf7O,EAAW6O,EAAK,SAChB4zG,EAAW5zG,EAAK,SACdsmH,EAA2B3S,GAAY,2BAA4BC,EAAUvlH,CAAO,EAIpFmvG,EAAWsZ,GAAwB5f,CAAM,EACzC5vF,EAAe6xC,cAAY,SAAUlmD,EAAO,CAC9C,OAAO9B,EAAS8B,EAAM,OAAO,OAAO,CACxC,EAAK,CAAC9B,CAAQ,CAAC,EACT8F,EAAakiD,cAAY,SAAUlmD,EAAO,CAC5C,OAAOypH,EAAO7qH,EAAIoB,EAAM,OAAO,OAAO,CAC1C,EAAK,CAACypH,EAAQ7qH,CAAE,CAAC,EACXmF,EAAcmiD,cAAY,SAAUlmD,EAAO,CAC7C,OAAO0pH,EAAQ9qH,EAAIoB,EAAM,OAAO,OAAO,CAC3C,EAAK,CAAC0pH,EAAS9qH,CAAE,CAAC,EACZ4hE,GAAe84D,EAAuBl+H,EAAQ,cAAgB,KAAOk+H,EAAuBr1B,EAAO,YACvG,OAAO7gF,EAAK,MAAO,CACjB,UAAW,aAAetf,GAAYulH,EAAW,WAAa,IAC9D,SAAU,CAAC,CAAC9G,GAAa,CAAC,CAAC/hD,GAAe5/C,EAAIyyG,EAA0B,CACtE,GAAIxR,GAAcjjH,CAAE,EACpB,YAAa4hE,EACb,OAAQyjC,EACR,SAAUiM,EACV,SAAUyQ,CAChB,CAAK,EAAGv9F,EAAK,QAAS,CAChB,SAAU,CAACxC,EAAI,QAAS,CACtB,KAAM,WACN,GAAIhiB,EACJ,KAAMA,EACN,QAAS,OAAOlF,EAAU,IAAc,GAAQA,EAChD,SAAU6wG,EACV,SAAUzmG,GAAYulH,EACtB,UAAWE,EACX,SAAUl1G,EACV,OAAQrQ,EACR,QAASD,EACT,mBAAoBm+G,GAAmBtjH,CAAE,CACjD,CAAO,EAAG0jH,GAAW1hG,EAAI,OAAQ,CACzB,SAAU2pB,CAClB,CAAO,EAAGg4E,CAAS,CAAC,CACpB,CAAK,CAAC,CACN,CAAG,CACH,CAOA,SAASiX,GAAiBzsH,EAAM,CAC9B,IAAInO,EAAKmO,EAAK,GACZjJ,EAAWiJ,EAAK,SAChB0sH,EAAe1sH,EAAK,QACpB2sH,EAAsBD,EAAa,OACnCE,EAASD,IAAwB,OAAS,GAAQA,EAClDjO,EAAcgO,EAAa,YAC3BG,EAAeH,EAAa,aAC5Bva,EAAaua,EAAa,WAC1B//H,EAAQqT,EAAK,MACbwsH,EAAiBxsH,EAAK,UACtBw8G,EAAYgQ,IAAmB,OAAS,GAAQA,EAChDlQ,EAAWt8G,EAAK,SAChB7O,EAAW6O,EAAK,SAChB08G,EAAS18G,EAAK,OACd28G,EAAU38G,EAAK,QACb8sH,EAAmB,MAAM,QAAQngI,CAAK,EAAIA,EAAQ,CAACA,CAAK,EACxDsK,EAAakiD,cAAY,SAAUj5C,EAAO,CAC5C,IAAIvT,EAAQuT,EAAM,OAAO,MACzB,OAAOw8G,EAAO7qH,EAAImgH,GAAyBrlH,EAAO+xH,EAAavM,CAAU,CAAC,CAC9E,EAAK,CAACuK,EAAQ7qH,CAAE,CAAC,EACXmF,EAAcmiD,cAAY,SAAU0lE,EAAO,CAC7C,IAAIlyH,EAAQkyH,EAAM,OAAO,MACzB,OAAOlC,EAAQ9qH,EAAImgH,GAAyBrlH,EAAO+xH,EAAavM,CAAU,CAAC,CAC/E,EAAK,CAACwK,EAAS9qH,CAAE,CAAC,EAChB,OAAOgiB,EAAI,MAAO,CAChB,UAAW,aACX,GAAIhiB,EACJ,SAAU,MAAM,QAAQ6sH,CAAW,GAAKA,EAAY,IAAI,SAAUhwH,EAAQwF,EAAO,CAC/E,IAAI64H,EAAU1a,GAAsB3jH,EAAO,MAAOo+H,CAAgB,EAC9DE,EAAe,MAAM,QAAQH,CAAY,GAAKA,EAAa,QAAQn+H,EAAO,KAAK,IAAM,GACrFu+H,EAAcl2H,GAAYi2H,GAAgB1Q,EAAW,WAAa,GAClEh1G,EAAe,SAAsBrU,EAAO,CAC1CA,EAAM,OAAO,QACf9B,EAASuhH,GAAuBx+G,EAAO44H,EAAkBpO,CAAW,CAAC,EAErEvtH,EAASihH,GAAyBl+G,EAAO44H,EAAkBpO,CAAW,CAAC,CAEjF,EACUwO,EAAW72G,EAAK,OAAQ,CAC1B,SAAU,CAACxC,EAAI,QAAS,CACtB,KAAM,WACN,GAAIwhG,GAASxjH,EAAIqC,CAAK,EACtB,KAAMrC,EACN,QAASk7H,EACT,MAAO,OAAO74H,CAAK,EACnB,SAAU6C,GAAYi2H,GAAgB1Q,EACtC,UAAWE,GAAatoH,IAAU,EAClC,SAAUoT,EACV,OAAQrQ,EACR,QAASD,EACT,mBAAoBm+G,GAAmBtjH,CAAE,CACnD,CAAS,EAAGgiB,EAAI,OAAQ,CACd,SAAUnlB,EAAO,KAC3B,CAAS,CAAC,CACV,CAAO,EACD,OAAOk+H,EAAS/4G,EAAI,QAAS,CAC3B,UAAW,mBAAqBo5G,EAChC,SAAUC,CAClB,EAASh5H,CAAK,EAAI2f,EAAI,MAAO,CACrB,UAAW,YAAco5G,EACzB,SAAUp5G,EAAI,QAAS,CACrB,SAAUq5G,CACpB,CAAS,CACF,EAAEh5H,CAAK,CACd,CAAK,CACL,CAAG,CACH,CAOA,SAASi5H,GAAY79H,EAAO,CAC1B,IAAIyH,EAAWzH,EAAM,SACnBgtH,EAAWhtH,EAAM,SACjBjB,EAAUiB,EAAM,QAChBskH,EAAWtkH,EAAM,SACf+5H,EAAoB1V,GAAY,oBAAqBC,EAAUvlH,CAAO,EAC1E,OAAOwlB,EAAIw1G,EAAmBtxH,GAAS,CACrC,KAAM,OACP,EAAEzI,EAAO,CACR,SAAUyH,GAAYulH,CACvB,CAAA,CAAC,CACJ,CAOA,SAAS8Q,GAAW99H,EAAO,CACzB,IAAI6B,EAAW7B,EAAM,SACnBjB,EAAUiB,EAAM,QAChBskH,EAAWtkH,EAAM,SACf+5H,EAAoB1V,GAAY,oBAAqBC,EAAUvlH,CAAO,EACtEiZ,EAAe6xC,cAAY,SAAUxsD,EAAO,CAC9C,OAAOwE,EAASxE,GAAS,MAAS,CACtC,EAAK,CAACwE,CAAQ,CAAC,EACb,OAAO0iB,EAAIw1G,EAAmBtxH,GAAS,CACrC,KAAM,MACP,EAAEzI,EAAO,CACR,SAAUgY,CACX,CAAA,CAAC,CACJ,CAOA,SAAS+lH,GAAe/9H,EAAO,CAC7B,IAAIi6H,EAAYj6H,EAAM,SACpB3C,EAAQ2C,EAAM,MACdjB,EAAUiB,EAAM,QAChBskH,EAAWtkH,EAAM,SACf+5H,EAAoB1V,GAAY,oBAAqBC,EAAUvlH,CAAO,EAC1E,OAAOwlB,EAAIw1G,EAAmBtxH,GAAS,CACrC,KAAM,gBACP,EAAEzI,EAAO,CACR,MAAOkpH,GAAW7rH,CAAK,EACvB,SAAU,SAAkBA,EAAO,CACjC,OAAO48H,EAAU7T,GAAW/oH,CAAK,CAAC,CACnC,CACF,CAAA,CAAC,CACJ,CAMA,SAAS2gI,GAAYh+H,EAAO,CAC1B,IAAIjB,EAAUiB,EAAM,QAClBskH,EAAWtkH,EAAM,SACf+5H,EAAoB1V,GAAY,oBAAqBC,EAAUvlH,CAAO,EAC1E,OAAOwlB,EAAIw1G,EAAmBtxH,GAAS,CACrC,KAAM,OACV,EAAKzI,CAAK,CAAC,CACX,CAEA,SAASi+H,GAAiBC,EAAS3hH,EAAM,CACvC,OAAI2hH,IAAY,KACP,KAEFA,EAAQ,QAAQ,UAAW,SAAW,mBAAmB3hH,CAAI,EAAI,SAAS,CACnF,CACA,SAAS4hH,GAAYC,EAAM,CACzB,IAAI7hH,EAAO6hH,EAAK,KACdjzH,EAAOizH,EAAK,KACZnlH,EAAOmlH,EAAK,KACd,OAAO,IAAI,QAAQ,SAAUz0F,EAASC,EAAQ,CAC5C,IAAIy0F,EAAS,IAAI,OAAO,WACxBA,EAAO,QAAUz0F,EACjBy0F,EAAO,OAAS,SAAU16H,EAAO,CAC/B,IAAI26H,EACA,QAASA,EAAgB36H,EAAM,UAAY,MAAQ26H,IAAkB,OAAS,OAASA,EAAc,SAAY,SACnH30F,EAAQ,CACN,QAASs0F,GAAiBt6H,EAAM,OAAO,OAAQ4Y,CAAI,EACnD,KAAMA,EACN,KAAMpR,EACN,KAAM8N,CAChB,CAAS,EAED0wB,EAAQ,CACN,QAAS,KACT,KAAMptB,EACN,KAAMpR,EACN,KAAM8N,CAChB,CAAS,CAET,EACIolH,EAAO,cAAcD,CAAI,CAC7B,CAAG,CACH,CACA,SAASG,GAAaC,EAAO,CAC3B,OAAO,QAAQ,IAAI,MAAM,KAAKA,CAAK,EAAE,IAAIL,EAAW,CAAC,CACvD,CACA,SAASM,GAAgB/tH,EAAM,CAC7B,IAAIguH,EAAWhuH,EAAK,SAClB4zG,EAAW5zG,EAAK,SACd+7G,EAAkBnI,EAAS,gBAC3B4Z,EAAUQ,EAAS,QACrBzlH,EAAOylH,EAAS,KAChBniH,EAAOmiH,EAAS,KAClB,OAAKR,EAGDjlH,EAAK,QAAQ,OAAO,IAAM,GACrBsL,EAAI,MAAO,CAChB,IAAK25G,EACL,MAAO,CACL,SAAU,MACX,EACD,UAAW,cACjB,CAAK,EAEIn3G,EAAKC,GAAU,CACpB,SAAU,CAAC,IAAKzC,EAAI,IAAK,CACvB,SAAU,WAAahI,EACvB,KAAM2hH,EACN,UAAW,gBACX,SAAUzR,EAAgBxC,GAAmB,YAAY,CAC/D,CAAK,CAAC,CACN,CAAG,EAlBQ,IAmBX,CACA,SAAS0U,GAAU/tH,EAAO,CACxB,IAAIguH,EAAYhuH,EAAM,UACpB0zG,EAAW1zG,EAAM,SACjBiuH,EAAUjuH,EAAM,QAClB,GAAIguH,EAAU,SAAW,EACvB,OAAO,KAET,IAAInS,EAAkBnI,EAAS,gBAC/B,OAAO//F,EAAI,KAAM,CACf,UAAW,YACX,SAAUq6G,EAAU,IAAI,SAAUF,EAAUppH,EAAK,CAC/C,IAAIiH,EAAOmiH,EAAS,KAClBvzH,EAAOuzH,EAAS,KAChBzlH,EAAOylH,EAAS,KAClB,OAAO33G,EAAK,KAAM,CAChB,SAAU,CAACxC,EAAI2xG,GAAU,CACvB,SAAUzJ,EAAgBxC,GAAmB,UAAW,CAAC1tG,EAAMtD,EAAM,OAAO9N,CAAI,CAAC,CAAC,CAC5F,CAAS,EAAG0zH,GAAWt6G,EAAIk6G,GAAiB,CAClC,SAAUC,EACV,SAAUpa,CACpB,CAAS,CAAC,CACH,EAAEhvG,CAAG,CACZ,CAAK,CACL,CAAG,CACH,CACA,SAASwpH,GAAgBC,EAAU,CACjC,OAAOA,EAAS,OAAO,SAAUb,EAAS,CACxC,OAAOA,CACX,CAAG,EAAE,IAAI,SAAUA,EAAS,CACxB,IAAIc,EAAiBld,GAAcoc,CAAO,EACxC/b,EAAO6c,EAAe,KACtBziH,EAAOyiH,EAAe,KACxB,MAAO,CACL,QAASd,EACT,KAAM3hH,EACN,KAAM4lG,EAAK,KACX,KAAMA,EAAK,IACjB,CACA,CAAG,CACH,CAKA,SAAS8c,GAAWj/H,EAAO,CACzB,IAAIyH,EAAWzH,EAAM,SACnBgtH,EAAWhtH,EAAM,SACjBkuG,EAAWluG,EAAM,SACjB4B,EAAW5B,EAAM,SACjB6B,EAAW7B,EAAM,SACjB3C,EAAQ2C,EAAM,MACdjB,EAAUiB,EAAM,QAChBskH,EAAWtkH,EAAM,SACf+5H,EAAoB1V,GAAY,oBAAqBC,EAAUvlH,CAAO,EACtEs1H,EAAY/tG,EAAAA,SAAS,MAAM,QAAQjpB,CAAK,EAAIyhI,GAAgBzhI,CAAK,EAAIyhI,GAAgB,CAACzhI,CAAK,CAAC,CAAC,EAC/FuhI,EAAYvK,EAAU,CAAC,EACvB6K,EAAe7K,EAAU,CAAC,EACxBr8G,EAAe6xC,cAAY,SAAUlmD,EAAO,CACzCA,EAAM,OAAO,OAMlB46H,GAAa56H,EAAM,OAAO,KAAK,EAAE,KAAK,SAAUw7H,EAAgB,CAC9D,IAAIv7H,EAAWu7H,EAAe,IAAI,SAAUT,EAAU,CACpD,OAAOA,EAAS,OACxB,CAAO,EACG98H,GACFs9H,EAAaN,EAAU,OAAOO,EAAe,CAAC,CAAC,CAAC,EAChDt9H,EAASxE,EAAM,OAAOuG,EAAS,CAAC,CAAC,CAAC,IAElCs7H,EAAaC,CAAc,EAC3Bt9H,EAAS+B,EAAS,CAAC,CAAC,EAE5B,CAAK,CACF,EAAE,CAAChC,EAAUvE,EAAOuhI,EAAW/8H,CAAQ,CAAC,EACzC,OAAOklB,EAAK,MAAO,CACjB,SAAU,CAACxC,EAAIw1G,EAAmBtxH,GAAS,CAAA,EAAIzI,EAAO,CACpD,SAAUyH,GAAYulH,EACtB,KAAM,OACN,SAAU3vH,EAAQ,GAAQ6wG,EAC1B,iBAAkBl2F,EAClB,MAAO,GACP,OAAQjZ,EAAQ,OAAS,OAAOA,EAAQ,MAAM,EAAI,MACxD,CAAK,CAAC,EAAGwlB,EAAIo6G,GAAW,CAClB,UAAWC,EACX,SAAUta,EACV,QAASvlH,EAAQ,WACvB,CAAK,CAAC,CACN,CAAG,CACH,CAOA,SAASqgI,GAAa1uH,EAAM,CAC1B,IAAInO,EAAKmO,EAAK,GACZrT,EAAQqT,EAAK,MACf,OAAO6T,EAAI,QAAS,CAClB,KAAM,SACN,GAAIhiB,EACJ,KAAMA,EACN,MAAO,OAAOlF,EAAU,IAAc,GAAKA,CAC/C,CAAG,CACH,CAMA,SAASgiI,GAAer/H,EAAO,CAC7B,IAAIjB,EAAUiB,EAAM,QAClBskH,EAAWtkH,EAAM,SACf+5H,EAAoB1V,GAAY,oBAAqBC,EAAUvlH,CAAO,EAC1E,OAAOwlB,EAAIw1G,EAAmBtxH,GAAS,CACrC,KAAM,UACV,EAAKzI,CAAK,CAAC,CACX,CAOA,SAASs/H,GAAY5uH,EAAM,CACzB,IAAI3R,EAAU2R,EAAK,QACjBrT,EAAQqT,EAAK,MACbw9F,EAAWx9F,EAAK,SAChBjJ,EAAWiJ,EAAK,SAChBs8G,EAAWt8G,EAAK,SAChBwsH,EAAiBxsH,EAAK,UACtBw8G,EAAYgQ,IAAmB,OAAS,GAAQA,EAChD9P,EAAS18G,EAAK,OACd28G,EAAU38G,EAAK,QACf7O,EAAW6O,EAAK,SAChBnO,EAAKmO,EAAK,GACR0+G,EAAcrwH,EAAQ,YACxBw+H,EAAex+H,EAAQ,aACvBu+H,EAASv+H,EAAQ,OACjB8jH,EAAa9jH,EAAQ,WACnB4I,EAAakiD,cAAY,SAAUj5C,EAAO,CAC5C,IAAIvT,EAAQuT,EAAM,OAAO,MACzB,OAAOw8G,EAAO7qH,EAAImgH,GAAyBrlH,EAAO+xH,EAAavM,CAAU,CAAC,CAC9E,EAAK,CAACuK,EAAQ7qH,CAAE,CAAC,EACXmF,EAAcmiD,cAAY,SAAU0lE,EAAO,CAC7C,IAAIlyH,EAAQkyH,EAAM,OAAO,MACzB,OAAOlC,EAAQ9qH,EAAImgH,GAAyBrlH,EAAO+xH,EAAavM,CAAU,CAAC,CAC/E,EAAK,CAACwK,EAAS9qH,CAAE,CAAC,EAChB,OAAOgiB,EAAI,MAAO,CAChB,UAAW,oBACX,GAAIhiB,EACJ,SAAU,MAAM,QAAQ6sH,CAAW,GAAKA,EAAY,IAAI,SAAUhwH,EAAQK,EAAG,CAC3E,IAAIg+H,EAAU1a,GAAsB3jH,EAAO,MAAO/B,CAAK,EACnDqgI,EAAe,MAAM,QAAQH,CAAY,GAAKA,EAAa,QAAQn+H,EAAO,KAAK,IAAM,GACrFu+H,EAAcl2H,GAAYi2H,GAAgB1Q,EAAW,WAAa,GAClEh1G,EAAe,UAAwB,CACzC,OAAOnW,EAASzC,EAAO,KAAK,CACpC,EACUmgI,EAAQx4G,EAAK,OAAQ,CACvB,SAAU,CAACxC,EAAI,QAAS,CACtB,KAAM,QACN,GAAIwhG,GAASxjH,EAAI9C,CAAC,EAClB,QAASg+H,EACT,KAAMl7H,EACN,SAAU2rG,EACV,MAAO,OAAOzuG,CAAC,EACf,SAAUgI,GAAYi2H,GAAgB1Q,EACtC,UAAWE,GAAaztH,IAAM,EAC9B,SAAUuY,EACV,OAAQrQ,EACR,QAASD,EACT,mBAAoBm+G,GAAmBtjH,CAAE,CACnD,CAAS,EAAGgiB,EAAI,OAAQ,CACd,SAAUnlB,EAAO,KAC3B,CAAS,CAAC,CACV,CAAO,EACD,OAAOk+H,EAAS/4G,EAAI,QAAS,CAC3B,UAAW,gBAAkBo5G,EAC7B,SAAU4B,CAClB,EAAS9/H,CAAC,EAAI8kB,EAAI,MAAO,CACjB,UAAW,SAAWo5G,EACtB,SAAUp5G,EAAI,QAAS,CACrB,SAAUg7G,CACpB,CAAS,CACF,EAAE9/H,CAAC,CACV,CAAK,CACL,CAAG,CACH,CAOA,SAAS+/H,GAAYx/H,EAAO,CAC1B,IAAI3C,EAAQ2C,EAAM,MAChB+5H,EAAoB/5H,EAAM,SAAS,UAAU,kBAC/C,OAAO+mB,EAAK,MAAO,CACjB,UAAW,sBACX,SAAU,CAACxC,EAAIw1G,EAAmBtxH,GAAS,CACzC,KAAM,OACP,EAAEzI,CAAK,CAAC,EAAGukB,EAAI,OAAQ,CACtB,UAAW,aACX,SAAUlnB,CAChB,CAAK,CAAC,CACN,CAAG,CACH,CAEA,SAASoiI,GAAS97H,EAAO/B,EAAU,CACjC,OAAIA,EACK,MAAM,KAAK+B,EAAM,OAAO,OAAO,EAAE,MAAO,EAAC,OAAO,SAAUw0B,EAAG,CAClE,OAAOA,EAAE,QACf,CAAK,EAAE,IAAI,SAAUA,EAAG,CAClB,OAAOA,EAAE,KACf,CAAK,EAEIx0B,EAAM,OAAO,KACtB,CAMA,SAASs4H,GAAavrH,EAAM,CAC1B,IAAIk3F,EAASl3F,EAAK,OAChBnO,EAAKmO,EAAK,GACV3R,EAAU2R,EAAK,QACfrT,EAAQqT,EAAK,MACbw9F,EAAWx9F,EAAK,SAChBjJ,EAAWiJ,EAAK,SAChBs8G,EAAWt8G,EAAK,SAChBgvH,EAAgBhvH,EAAK,SACrB9O,EAAW89H,IAAkB,OAAS,GAAQA,EAC9CxC,EAAiBxsH,EAAK,UACtBw8G,EAAYgQ,IAAmB,OAAS,GAAQA,EAChDr7H,EAAW6O,EAAK,SAChB08G,EAAS18G,EAAK,OACd28G,EAAU38G,EAAK,QACf69G,EAAc79G,EAAK,YACjB0+G,EAAcrwH,EAAQ,YACxBw+H,EAAex+H,EAAQ,aACvB4gI,EAAc5gI,EAAQ,WACpB8jH,EAAajhH,EAAW,CAAE,EAAG,GAC7B8F,EAAcmiD,cAAY,SAAUlmD,EAAO,CAC7C,IAAIC,EAAW67H,GAAS97H,EAAO/B,CAAQ,EACvC,OAAOyrH,EAAQ9qH,EAAImgH,GAAyB9+G,EAAUwrH,EAAauQ,CAAW,CAAC,CACnF,EAAK,CAACtS,EAAS9qH,EAAIqlG,EAAQhmG,EAAU7C,CAAO,CAAC,EACvC4I,EAAakiD,cAAY,SAAUlmD,EAAO,CAC5C,IAAIC,EAAW67H,GAAS97H,EAAO/B,CAAQ,EACvC,OAAOwrH,EAAO7qH,EAAImgH,GAAyB9+G,EAAUwrH,EAAauQ,CAAW,CAAC,CAClF,EAAK,CAACvS,EAAQ7qH,EAAIqlG,EAAQhmG,EAAU7C,CAAO,CAAC,EACtCiZ,EAAe6xC,cAAY,SAAUlmD,EAAO,CAC9C,IAAIC,EAAW67H,GAAS97H,EAAO/B,CAAQ,EACvC,OAAOC,EAAS6gH,GAAyB9+G,EAAUwrH,EAAauQ,CAAW,CAAC,CAC7E,EAAE,CAAC99H,EAAU+lG,EAAQhmG,EAAU7C,CAAO,CAAC,EACpCmkH,EAAkBD,GAAyB5lH,EAAO+xH,EAAaxtH,CAAQ,EAC3E,OAAOmlB,EAAK,SAAU,CACpB,GAAIxkB,EACJ,KAAMA,EACN,SAAUX,EACV,UAAW,eACX,MAAO,OAAOshH,EAAoB,IAAcL,EAAaK,EAC7D,SAAUhV,EACV,SAAUzmG,GAAYulH,EACtB,UAAWE,EACX,OAAQvlH,EACR,QAASD,EACT,SAAUsQ,EACV,mBAAoB6tG,GAAmBtjH,CAAE,EACzC,SAAU,CAAC,CAACX,GAAYgmG,EAAO,UAAe,QAAarjF,EAAI,SAAU,CACvE,MAAO,GACP,SAAUgqG,CAChB,CAAK,EAAG,MAAM,QAAQa,CAAW,GAAKA,EAAY,IAAI,SAAUx+G,EAAOnR,EAAG,CACpE,IAAIpC,EAAQuT,EAAM,MAChBs9B,EAAQt9B,EAAM,MACZnJ,EAAW81H,GAAgBA,EAAa,QAAQlgI,CAAK,IAAM,GAC/D,OAAOknB,EAAI,SAAU,CACnB,MAAO,OAAO9kB,CAAC,EACf,SAAUgI,EACV,SAAUymC,CACX,EAAEzuC,CAAC,CACV,CAAK,CAAC,CACN,CAAG,CACH,CAMA,SAASmgI,GAAelvH,EAAM,CAC5B,IAAInO,EAAKmO,EAAK,GACZ0sH,EAAe1sH,EAAK,QACpB3R,EAAUq+H,IAAiB,OAAS,CAAE,EAAGA,EACzC7O,EAAc79G,EAAK,YACnBrT,EAAQqT,EAAK,MACbw9F,EAAWx9F,EAAK,SAChBjJ,EAAWiJ,EAAK,SAChBs8G,EAAWt8G,EAAK,SAChBwsH,EAAiBxsH,EAAK,UACtBw8G,EAAYgQ,IAAmB,OAAS,GAAQA,EAChDr7H,EAAW6O,EAAK,SAChB08G,EAAS18G,EAAK,OACd28G,EAAU38G,EAAK,QACbsH,EAAe6xC,cAAY,SAAUj5C,EAAO,CAC9C,IAAIvT,EAAQuT,EAAM,OAAO,MACzB,OAAO/O,EAASxE,IAAU,GAAK0B,EAAQ,WAAa1B,CAAK,CAC1D,EAAE,CAACwE,EAAU9C,EAAQ,UAAU,CAAC,EAC7B4I,EAAakiD,cAAY,SAAU0lE,EAAO,CAC5C,IAAIlyH,EAAQkyH,EAAM,OAAO,MACzB,OAAOnC,EAAO7qH,EAAIlF,CAAK,CAC3B,EAAK,CAAC+vH,EAAQ7qH,CAAE,CAAC,EACXmF,EAAcmiD,cAAY,SAAUg2E,EAAO,CAC7C,IAAIxiI,EAAQwiI,EAAM,OAAO,MACzB,OAAOxS,EAAQ9qH,EAAIlF,CAAK,CAC5B,EAAK,CAACkF,EAAI8qH,CAAO,CAAC,EAChB,OAAO9oG,EAAI,WAAY,CACrB,GAAIhiB,EACJ,KAAMA,EACN,UAAW,eACX,MAAOlF,GAAgB,GACvB,YAAakxH,EACb,SAAUrgB,EACV,SAAUzmG,EACV,SAAUulH,EACV,UAAWE,EACX,KAAMnuH,EAAQ,KACd,OAAQ4I,EACR,QAASD,EACT,SAAUsQ,EACV,mBAAoB6tG,GAAmBtjH,CAAE,CAC7C,CAAG,CACH,CACAq9H,GAAe,aAAe,CAC5B,UAAW,GACX,QAAS,CAAE,CACb,EAMA,SAASE,GAAW9/H,EAAO,CACzB,IAAIjB,EAAUiB,EAAM,QAClBskH,EAAWtkH,EAAM,SACf+5H,EAAoB1V,GAAY,oBAAqBC,EAAUvlH,CAAO,EAC1E,OAAOwlB,EAAIw1G,EAAmBtxH,GAAS,CAAA,EAAIzI,CAAK,CAAC,CACnD,CAOA,SAAS+/H,GAAW//H,EAAO,CACzB,IAAI6B,EAAW7B,EAAM,SACnBjB,EAAUiB,EAAM,QAChBskH,EAAWtkH,EAAM,SACf+5H,EAAoB1V,GAAY,oBAAqBC,EAAUvlH,CAAO,EACtEiZ,EAAe6xC,cAAY,SAAUxsD,EAAO,CAC9C,OAAOwE,EAASxE,EAAQA,EAAQ,MAAQ,MAAS,CACrD,EAAK,CAACwE,CAAQ,CAAC,EACb,OAAO0iB,EAAIw1G,EAAmBtxH,GAAS,CACrC,KAAM,MACP,EAAEzI,EAAO,CACR,SAAUgY,CACX,CAAA,CAAC,CACJ,CAMA,SAASgoH,GAAUhgI,EAAO,CACxB,IAAIjB,EAAUiB,EAAM,QAClBskH,EAAWtkH,EAAM,SACf+5H,EAAoB1V,GAAY,oBAAqBC,EAAUvlH,CAAO,EAC1E,OAAOwlB,EAAIw1G,EAAmBtxH,GAAS,CACrC,KAAM,KACV,EAAKzI,CAAK,CAAC,CACX,CAMA,SAASigI,GAAajgI,EAAO,CAC3B,IAAIjB,EAAUiB,EAAM,QAClBskH,EAAWtkH,EAAM,SACf+5H,EAAoB1V,GAAY,oBAAqBC,EAAUvlH,CAAO,EAC1E,OAAOwlB,EAAIw1G,EAAmBtxH,GAAS,CACrC,KAAM,QACV,EAAKzI,CAAK,CAAC,CACX,CAEA,SAASyuH,IAAU,CACjB,MAAO,CACL,cAAeyN,GACf,kBAAmBY,GACnB,eAAgBE,GAChB,iBAAkBG,GAClB,YAAaU,GACb,WAAYC,GACZ,eAAgBC,GAChB,YAAaC,GACb,WAAYiB,GACZ,aAAcG,GACd,eAAgBC,GAChB,YAAaC,GACb,YAAaE,GACb,aAAcvD,GACd,WAAY6D,GACZ,eAAgBF,GAChB,WAAYG,GACZ,aAAcE,GACd,UAAWD,EACf,CACA,CAMA,SAASE,IAAqB,CAC5B,MAAO,CACL,OAAQ1M,GAAQ,EAChB,UAAWjP,GAAW,EACtB,QAASkK,GAAS,EAClB,WAAY,CAAE,EACd,YAAa,CAAE,EACf,gBAAiBjM,EACrB,CACA,CAGG,IAAC2d,GAAoB,SAAUpV,EAAY,CAC5CX,GAAe+V,EAAMpV,CAAU,EAO/B,SAASoV,EAAKngI,EAAO,CACnB,IAAIgrH,EAsOJ,GArOAA,EAAQD,EAAW,KAAK,KAAM/qH,CAAK,GAAK,KAIxCgrH,EAAM,YAAc,OAMpBA,EAAM,gBAAkB,SAAU/W,EAAUuf,EAAQ,CAElD,GAAIA,EAAO,SAAW,GAAK,OAAOvf,GAAa,SAC7C,OAAOA,EAGT,IAAIlpF,EAAOq1G,GAAMnsB,EAAUuf,CAAM,EACjC,OAAI,MAAM,QAAQvf,CAAQ,EACjB,OAAO,KAAKlpF,CAAI,EAAE,IAAI,SAAUzV,EAAK,CAC1C,OAAOyV,EAAKzV,CAAG,CACzB,CAAS,EAEIyV,CACb,EAMIigG,EAAM,cAAgB,SAAU1J,EAAYrN,EAAU,CACpD,IAAIosB,EAAc,SAASA,EAAYC,EAAM/3H,EAAKg0E,EAAO,CACvD,OAAIh0E,IAAQ,SACVA,EAAM,CAAA,GAEJg0E,IAAU,SACZA,EAAQ,CAAC,CAAA,CAAE,GAEb,OAAO,KAAK+jD,CAAI,EAAE,QAAQ,SAAUhrH,EAAK,CACvC,GAAI,OAAOgrH,EAAKhrH,CAAG,GAAM,SAAU,CACjC,IAAIirH,EAAWhkD,EAAM,IAAI,SAAUhrC,EAAM,CACvC,MAAO,CAAE,EAAC,OAAOA,EAAM,CAACj8B,CAAG,CAAC,CAC1C,CAAa,EAEGgrH,EAAKhrH,CAAG,EAAEg+F,EAA8B,GAAKgtB,EAAKhrH,CAAG,EAAE09F,EAAQ,IAAM,GACvEzqG,EAAI,KAAK+3H,EAAKhrH,CAAG,EAAE09F,EAAQ,CAAC,EAE5BqtB,EAAYC,EAAKhrH,CAAG,EAAG/M,EAAKg4H,CAAQ,OAE7BjrH,IAAQ09F,IAAYstB,EAAKhrH,CAAG,IAAM,IAC3CinE,EAAM,QAAQ,SAAUhrC,EAAM,CAC5B,IAAIgpE,EAAY1rF,GAAIolF,EAAU1iE,CAAI,GAG9B,OAAOgpE,GAAc,UAAY9vC,GAAQ8vC,CAAS,IACpDhyG,EAAI,KAAKgpC,CAAI,CAE7B,CAAa,CAEb,CAAS,EACMhpC,CACf,EACM,OAAO83H,EAAY/e,CAAU,CACnC,EAYI0J,EAAM,SAAW,SAAU/W,EAAUqX,EAAgB/oH,EAAI,CACvD,IAAI0oH,EAAcD,EAAM,MACtBwV,EAAcvV,EAAY,YAC1BwV,EAAgBxV,EAAY,cAC5ByV,EAAWzV,EAAY,SACvB0V,EAAa1V,EAAY,WACzB2V,EAAe3V,EAAY,aAC3BppH,EAAWopH,EAAY,SACrByH,EAAc1H,EAAM,MACtBE,EAAcwH,EAAY,YAC1B9qB,EAAS8qB,EAAY,OACvB,GAAIrY,GAAWpG,CAAQ,GAAK,MAAM,QAAQA,CAAQ,EAAG,CACnD,IAAIgf,EAAWjI,EAAM,kBAAkBA,EAAM,MAAO/W,CAAQ,EAC5DA,EAAWgf,EAAS,SAEtB,IAAI4N,EAAe,CAACF,GAAcC,EAC9B90G,EAAQ,CACV,SAAUmoF,EACV,OAAQrM,CAChB,EACU4X,EAAcvL,EAClB,GAAIwsB,IAAkB,IAAQC,IAAa,GAAM,CAC/C,IAAII,EAAkB5V,EAAY,eAAetjB,EAAQqM,CAAQ,EAC7DqN,EAAa4J,EAAY,aAAa4V,EAAiB,GAAI7sB,CAAQ,EACnE8sB,EAAa/V,EAAM,cAAc1J,EAAYrN,CAAQ,EACzDuL,EAAcwL,EAAM,gBAAgB/W,EAAU8sB,CAAU,EACxDj1G,EAAQ,CACN,SAAU0zF,CACpB,EAEM,GAAIqhB,EAAc,CAChB,IAAIG,EAAmBhW,EAAM,SAASxL,CAAW,EAC7CL,EAAS6hB,EAAiB,OAC1B5hB,EAAc4hB,EAAiB,YAC/BC,EAAyB9hB,EACzB+hB,EAA8B9hB,EAClC,GAAIohB,EAAa,CACf,IAAI5vB,EAAS+Y,GAAoBqX,EAAkBR,CAAW,EAC9DphB,EAAcxO,EAAO,YACrBuO,EAASvO,EAAO,OAElB9kF,EAAQ,CACN,SAAU0zF,EACV,OAAQL,EACR,YAAaC,EACb,uBAAwB6hB,EACxB,4BAA6BC,CACvC,UACiB,CAACP,GAAcrV,EAAgB,CACxC,IAAI6V,EAAeX,EAAcjlB,GAAa+P,EAAgBkV,EAAa,mBAAmB,EAAIlV,EAClGx/F,EAAQ,CACN,SAAU0zF,EACV,YAAa2hB,EACb,OAAQ1Y,GAAY0Y,CAAY,CAC1C,EAEMnW,EAAM,SAASl/F,EAAO,UAAY,CAChC,OAAOjqB,GAAYA,EAAS4G,GAAS,CAAE,EAAEuiH,EAAM,MAAOl/F,CAAK,EAAGvpB,CAAE,CACxE,CAAO,CACP,EAOIyoH,EAAM,MAAQ,UAAY,CACxB,IAAInpH,EAAWmpH,EAAM,MAAM,SACvBiI,EAAWjI,EAAM,kBAAkBA,EAAM,MAAO,MAAS,EACzDxL,EAAcyT,EAAS,SACvBnnG,EAAQ,CACV,SAAU0zF,EACV,YAAa,CAAE,EACf,OAAQ,CAAE,EACV,uBAAwB,CAAE,EAC1B,4BAA6B,CAAE,CACvC,EACMwL,EAAM,SAASl/F,EAAO,UAAY,CAChC,OAAOjqB,GAAYA,EAAS4G,GAAS,CAAA,EAAIuiH,EAAM,MAAOl/F,CAAK,CAAC,CACpE,CAAO,CACP,EAOIk/F,EAAM,OAAS,SAAUzoH,EAAIwoB,EAAM,CACjC,IAAIqiG,EAASpC,EAAM,MAAM,OACrBoC,GACFA,EAAO7qH,EAAIwoB,CAAI,CAEvB,EAOIigG,EAAM,QAAU,SAAUzoH,EAAIwoB,EAAM,CAClC,IAAIsiG,EAAUrC,EAAM,MAAM,QACtBqC,GACFA,EAAQ9qH,EAAIwoB,CAAI,CAExB,EASIigG,EAAM,SAAW,SAAUrnH,EAAO,CAEhC,GADAA,EAAM,eAAc,EAChBA,EAAM,SAAWA,EAAM,cAG3B,CAAAA,EAAM,QAAO,EACb,IAAI0nH,EAAeL,EAAM,MACvByV,EAAgBpV,EAAa,cAC7BmV,EAAcnV,EAAa,YAC3BsV,EAAatV,EAAa,WAC1B+V,EAAW/V,EAAa,SACtB7L,EAAcwL,EAAM,MAAM,SAC1B0I,EAAe1I,EAAM,MACvBpjB,EAAS8rB,EAAa,OACtBxI,EAAcwI,EAAa,YAC7B,GAAI+M,IAAkB,GAAM,CAC1B,IAAIK,EAAkB5V,EAAY,eAAetjB,EAAQ4X,CAAW,EAChE8B,EAAa4J,EAAY,aAAa4V,EAAiB,GAAIthB,CAAW,EACtEuhB,EAAa/V,EAAM,cAAc1J,EAAY9B,CAAW,EAC5DA,EAAcwL,EAAM,gBAAgBxL,EAAauhB,CAAU,EAE7D,GAAIJ,GAAc3V,EAAM,eAAgB,CAGtC,IAAI5L,EAAcohB,GAAe,GAC7BrhB,EAASqhB,EAAc/X,GAAY+X,CAAW,EAAI,CAAA,EACtDxV,EAAM,SAAS,CACb,SAAUxL,EACV,OAAQL,EACR,YAAaC,EACb,uBAAwB,CAAE,EAC1B,4BAA6B,CAAE,CACzC,EAAW,UAAY,CACTgiB,GACFA,EAAS34H,GAAS,GAAIuiH,EAAM,MAAO,CACjC,SAAUxL,EACV,OAAQ,WACtB,CAAa,EAAG77G,CAAK,CAErB,CAAS,GAET,EACQ,CAAC3D,EAAM,UACT,MAAM,IAAI,MAAM,wDAAwD,EAE1E,OAAAgrH,EAAM,MAAQA,EAAM,kBAAkBhrH,EAAOA,EAAM,QAAQ,EACvDgrH,EAAM,MAAM,UAAY,CAACvW,GAAWuW,EAAM,MAAM,SAAUA,EAAM,MAAM,QAAQ,GAChFA,EAAM,MAAM,SAASA,EAAM,KAAK,EAElCA,EAAM,YAA2BqW,EAAAA,YAC1BrW,CACR,CAOD,IAAIpJ,EAASue,EAAK,UAClB,OAAAve,EAAO,iCAAmC,SAA0C+F,EAAW,CAC7F,IAAIz7F,EAAY,KAAK,kBAAkBy7F,EAAWA,EAAU,QAAQ,EAChE,CAAClT,GAAWvoF,EAAU,SAAUy7F,EAAU,QAAQ,GAAK,CAAClT,GAAWvoF,EAAU,SAAU,KAAK,MAAM,QAAQ,GAAKy7F,EAAU,UAC3HA,EAAU,SAASz7F,CAAS,EAE9B,KAAK,SAASA,CAAS,CACxB,EASD01F,EAAO,kBAAoB,SAA2B5hH,EAAOshI,EAAe,CAC1E,IAAIx1G,EAAQ,KAAK,OAAS,GACtB87E,EAAS,WAAY5nG,EAAQA,EAAM,OAAS,KAAK,MAAM,OACvD6zG,GAAY,aAAc7zG,EAAQA,EAAM,SAAW,KAAK,MAAM,WAAa,GAC3EuhI,EAAO,OAAOD,EAAkB,IAChCV,EAAe,iBAAkB5gI,EAAQA,EAAM,aAAe,KAAK,MAAM,aACzE6gI,EAAeU,GAAQ,CAACvhI,EAAM,YAAc4gI,EAC5CpwB,EAAa5I,EACb0U,EAAwC,0CAA2Ct8G,EAAQA,EAAM,sCAAwC,KAAK,MAAM,sCACpJkrH,EAAcp/F,EAAM,aACpB,CAACo/F,GAAeA,EAAY,sBAAsBlrH,EAAM,UAAWwwG,EAAY8L,CAAqC,KACtH4O,EAAcrJ,GAAkB7hH,EAAM,UAAWwwG,EAAY8L,CAAqC,GAEpG,IAAIrI,EAAWiX,EAAY,oBAAoBtjB,EAAQ05B,CAAa,EAChER,EAAkB5V,EAAY,eAAetjB,EAAQqM,CAAQ,EAC7DutB,EAAmB,UAA4B,CACjD,OAAIxhI,EAAM,WACD,CACL,OAAQ,CAAE,EACV,YAAa,CAAE,CACzB,EACkBA,EAAM,aAMX,CACL,OAAQ8rB,EAAM,QAAU,CAAE,EAC1B,YAAaA,EAAM,aAAe,CAAE,CAC5C,EARe,CACL,OAAQA,EAAM,wBAA0B,CAAE,EAC1C,YAAaA,EAAM,6BAA+B,CAAE,CAC9D,CAMA,EACQqzF,EACAC,EACA6hB,EAAyBn1G,EAAM,uBAC/Bo1G,EAA8Bp1G,EAAM,4BACxC,GAAI+0G,EAAc,CAChB,IAAIG,EAAmB,KAAK,SAAS/sB,EAAUrM,EAAQsjB,CAAW,EAClE/L,EAAS6hB,EAAiB,OAC1B5hB,EAAc4hB,EAAiB,YAC/BC,EAAyB9hB,EACzB+hB,EAA8B9hB,MACzB,CACL,IAAIqiB,EAAgBD,IACpBriB,EAASsiB,EAAc,OACvBriB,EAAcqiB,EAAc,YAE9B,GAAIzhI,EAAM,YAAa,CACrB,IAAI4wG,EAAS+Y,GAAoB,CAC/B,YAAavK,EACb,OAAQD,CAChB,EAASn/G,EAAM,WAAW,EACpBo/G,EAAcxO,EAAO,YACrBuO,EAASvO,EAAO,OAElB,IAAIoQ,EAAWkK,EAAY,WAAW4V,EAAiBjtB,EAAS,gBAAgB,EAAGI,EAAUj0G,EAAM,SAAUA,EAAM,WAAW,EAC1HksB,EAAY,CACd,YAAag/F,EACb,OAAQtjB,EACR,SAAUiM,EACV,SAAUmN,EACV,SAAU/M,EACV,KAAMstB,EACN,OAAQpiB,EACR,YAAaC,EACb,uBAAwB6hB,EACxB,4BAA6BC,CACnC,EACI,OAAOh1G,CACR,EAOD01F,EAAO,sBAAwB,SAA+B+F,EAAWz7F,EAAW,CAClF,OAAOw7F,GAAa,KAAMC,EAAWz7F,CAAS,CAC/C,EAQD01F,EAAO,SAAW,SAAkB3N,EAAUrM,EAAQ85B,EAAgB,CAChE95B,IAAW,SACbA,EAAS,KAAK,MAAM,QAEtB,IAAIsjB,EAAcwW,GAAkC,KAAK,MAAM,YAC3DnW,EAAe,KAAK,MACtBoW,EAAiBpW,EAAa,eAC9BqW,EAAkBrW,EAAa,gBAC/B1X,EAAW0X,EAAa,SACtBrT,EAAiBgT,EAAY,eAAetjB,EAAQqM,CAAQ,EAChE,OAAOiX,EAAY,aAAc,EAAC,iBAAiBjX,EAAUiE,EAAgBypB,EAAgBC,EAAiB/tB,CAAQ,CACvH,EAED+N,EAAO,aAAe,SAAsB0C,EAAU,CACpD,IAAIud,EAAe,KAAK,MACtB1iB,EAAS0iB,EAAa,OACtBziB,EAAcyiB,EAAa,YAC3Bj6B,EAASi6B,EAAa,OACtBhuB,EAAWguB,EAAa,SACtBrU,EAAc,KAAK,MAAM,YACzBzuH,EAAU60G,GAAaC,CAAQ,EAC/BiuB,EAAoBzd,GAAY,oBAAqBC,EAAUvlH,CAAO,EAC1E,OAAIogH,GAAUA,EAAO,OACZ56F,EAAIu9G,EAAmB,CAC5B,OAAQ3iB,EACR,YAAaC,GAAe,CAAE,EAC9B,OAAQxX,EACR,SAAUiM,EACV,YAAa2Z,EACb,SAAUlJ,CAClB,CAAO,EAEI,IACX,EAEE1C,EAAO,YAAc,UAAuB,CAC1C,IAAImgB,EACArW,EAAe,KAAK,MACtBsW,EAAwBtW,EAAa,gBACrCuW,EAAwBvW,EAAa,SACrC7X,EAAWouB,IAA0B,OAAS,CAAA,EAAKA,EACjD/W,EAAc,KAAK,MAAM,YACzBgX,EAAsBhC,GAAoB,EAC5C1M,EAAS0O,EAAoB,OAC7B3d,EAAY2d,EAAoB,UAChCzT,EAAUyT,EAAoB,QAC9B1U,EAAc0U,EAAoB,YAClCzV,EAAkByV,EAAoB,gBACxC,MAAO,CACL,OAAQz5H,GAAS,CAAE,EAAE+qH,EAAQ,KAAK,MAAM,MAAM,EAC9C,UAAW/qH,GAAS,CAAE,EAAE87G,EAAW,KAAK,MAAM,UAAW,CACvD,gBAAiB97G,GAAS,GAAI87G,EAAU,iBAAkBwd,EAAwB,KAAK,MAAM,aAAe,MAAQA,IAA0B,OAAS,OAASA,EAAsB,eAAe,CAC7M,CAAO,EACD,QAASt5H,GAAS,CAAE,EAAEgmH,EAAS,KAAK,MAAM,OAAO,EACjD,WAAY,KAAK,MAAM,OACvB,YAAa,KAAK,MAAM,aAAejB,EACvC,YAAatC,EACb,gBAAiB8W,GAAyBvV,EAC1C,gBAAiB5Y,EAASF,EAAqB,CACrD,CACG,EAEDiO,EAAO,OAAS,UAAkB,CAC5B,KAAK,YAAY,UACnB,KAAK,YAAY,QAAQ,cAAc,IAAI,YAAY,SAAU,CAC/D,WAAY,EACb,CAAA,CAAC,EACF,KAAK,YAAY,QAAQ,gBAE5B,EAODA,EAAO,aAAe,SAAsBQ,EAAO,CACjD,IAAIyJ,EAAe,KAAK,MACtBsW,EAAwBtW,EAAa,SACrClL,EAAWwhB,IAA0B,OAAS,OAASA,EACvDC,EAAwBvW,EAAa,YACrCjL,EAAcwhB,IAA0B,OAAS,IAAMA,EACrD3gB,EAAWW,EAAM,SACjB7wE,EAAO8wF,GAAQ5gB,CAAQ,EACvBlwE,EAAK,CAAC,IAAM,GAEdA,EAAK,CAAC,EAAIovE,EAGVpvE,EAAK,QAAQovE,CAAQ,EAEvB,IAAI2hB,EAAY/wF,EAAK,KAAKqvE,CAAW,EACjCK,EAAQ,KAAK,YAAY,QAAQ,SAASqhB,CAAS,EAClDrhB,IAEHA,EAAQ,KAAK,YAAY,QAAQ,cAAc,aAAeqhB,CAAS,GAErErhB,GAASA,EAAM,SAEjBA,EAAQA,EAAM,CAAC,GAEbA,GACFA,EAAM,MAAK,CAEd,EAMDW,EAAO,aAAe,UAAwB,CAC5C,IAAI0K,EAAe,KAAK,MACtBkU,EAAclU,EAAa,YAC3BiW,EAAoBjW,EAAa,kBACjChqE,EAAUgqE,EAAa,QACrBrY,EAAW,KAAK,MAAM,SACtB+sB,EAAmB,KAAK,SAAS/sB,CAAQ,EACzCkL,EAAS6hB,EAAiB,OAC1B5hB,EAAc4hB,EAAiB,YAC/BC,EAAyB9hB,EACzB+hB,EAA8B9hB,EAClC,GAAID,EAAO,OAAS,EAAG,CACrB,GAAIqhB,EAAa,CACf,IAAI5vB,EAAS+Y,GAAoBqX,EAAkBR,CAAW,EAC9DphB,EAAcxO,EAAO,YACrBuO,EAASvO,EAAO,OAElB,OAAI2xB,IACE,OAAOA,GAAsB,WAC/BA,EAAkBvB,EAAiB,OAAO,CAAC,CAAC,EAE5C,KAAK,aAAaA,EAAiB,OAAO,CAAC,CAAC,GAGhD,KAAK,SAAS,CACZ,OAAQ7hB,EACR,YAAaC,EACb,uBAAwB6hB,EACxB,4BAA6BC,CACrC,EAAS,UAAY,CACT5+E,EACFA,EAAQ68D,CAAM,EAEd,QAAQ,MAAM,yBAA0BA,CAAM,CAExD,CAAO,EACM,GAET,MAAO,EACR,EAIDyC,EAAO,OAAS,UAAkB,CAChC,IAAI4gB,EAAiBC,EACjBjW,EAAe,KAAK,MACtBt7G,EAAWs7G,EAAa,SACxBjqH,EAAKiqH,EAAa,GAClB7L,EAAW6L,EAAa,SACxB5L,EAAc4L,EAAa,YAC3BkW,EAAwBlW,EAAa,UACrCtiH,EAAYw4H,IAA0B,OAAS,GAAKA,EACpDjhH,EAAU+qG,EAAa,QACvBjwG,EAAOiwG,EAAa,KACpBmW,EAASnW,EAAa,OACtBzyF,EAASyyF,EAAa,OACtBiQ,EAASjQ,EAAa,OACtBrsH,EAAeqsH,EAAa,aAC5BoW,EAAUpW,EAAa,QACvBqW,EAAgBrW,EAAa,cAC7BsW,EAAwBtW,EAAa,gBACrCuW,EAAkBD,IAA0B,OAAS,GAAQA,EAC7DE,EAAwBxW,EAAa,SACrC/kH,EAAWu7H,IAA0B,OAAS,GAAQA,EACtDC,EAAwBzW,EAAa,SACrCQ,EAAWiW,IAA0B,OAAS,GAAQA,EACtDzV,EAAchB,EAAa,YAC3B0W,EAAwB1W,EAAa,cACrC2W,EAAgBD,IAA0B,OAAS,MAAQA,EAC3DE,EAAuB5W,EAAa,qBAClC6W,EAAe,KAAK,MACtBz7B,EAASy7B,EAAa,OACtBxvB,EAAWwvB,EAAa,SACxBpvB,EAAWovB,EAAa,SACxBjkB,EAAcikB,EAAa,YAC3BriB,EAAWqiB,EAAa,SACtB/e,EAAW,KAAK,cAChBmP,EAAenP,EAAS,OAAO,YAC/B+V,EAAe/V,EAAS,UAAU,gBAAgB,aAIlDgf,EAAKF,EAAuB3hH,EAAU,OACtC8hH,EAAUH,GAAwB3hH,GAAW,OAC7CyyF,EAAgBN,GAAaC,CAAQ,EACvC2vB,EAAwBtvB,EAAcd,EAAsB,EAC5DqwB,EAAgBD,IAA0B,OAAS,CAAA,EAAKA,EACtD/7H,IACFg8H,EAAgBh7H,GAAS,CAAE,EAAEg7H,EAAe,CAC1C,MAAOh7H,GAAS,GAAIg7H,EAAc,MAAO,CACvC,SAAU,EACpB,CAAS,CACT,CAAO,GAEH,IAAIC,IAAkBjB,EAAkB,CAAA,EAAIA,EAAgB/uB,EAAc,GAAK8uB,EAAkB,CAAE,EAAEA,EAAgBpvB,EAAsB,EAAIqwB,EAAejB,GAAkBC,GAChL,OAAO17G,EAAKw8G,EAAS,CACnB,UAAWr5H,GAAwB,OACnC,GAAI3H,EACJ,KAAMga,EACN,OAAQomH,EACR,OAAQ5oG,EACR,OAAQ0iG,EACR,aAAct8H,EACd,QAASyiI,EACT,cAAeC,EACf,WAAYE,EACZ,SAAU,KAAK,SACf,GAAIO,EACJ,IAAK,KAAK,YACV,SAAU,CAACH,IAAkB,OAAS,KAAK,aAAa7e,CAAQ,EAAG//F,EAAIkvG,EAAc,CACnF,KAAM,GACN,OAAQ7rB,EACR,SAAUiM,EACV,YAAauL,EACb,SAAU4B,EACV,SAAUL,EACV,YAAaC,EACb,YAAa4M,EACb,SAAUvZ,EACV,SAAU,KAAK,SACf,OAAQ,KAAK,OACb,QAAS,KAAK,QACd,SAAUqQ,EACV,SAAU78G,EACV,SAAUulH,CACX,CAAA,EAAG97G,GAAsBqT,EAAI81G,EAAc,CAC1C,SAAUqJ,GACV,SAAUpf,CAClB,CAAO,EAAG6e,IAAkB,UAAY,KAAK,aAAa7e,CAAQ,CAAC,CACnE,CAAK,CACL,EACS6b,CACT,EAAEnO,WAAS,EAEPjpH,GAAY,CAAC,SAAU,UAAW,WAAW,EAEjD,SAAS46H,GAAU9sH,EAAY,CAC7B,OAAoBmnC,EAAU,WAAC,SAAUttC,EAAMpT,EAAK,CAClD,IAAIsmI,EAAuBC,EACvBrQ,EAAS9iH,EAAK,OAChB+9G,EAAU/9G,EAAK,QACf6zG,EAAY7zG,EAAK,UACjBozH,EAAc15H,GAA8BsG,EAAM3H,EAAS,EAC7D,OAAAyqH,EAAS/qH,GAAS,CAAA,EAAIoO,GAAe,KAAgC,OAASA,EAAW,OAAQ28G,CAAM,EACvG/E,EAAUhmH,GAAS,CAAA,EAAIoO,GAAe,KAAgC,OAASA,EAAW,QAAS43G,CAAO,EAC1GlK,EAAY97G,GAAS,GAAIoO,GAAe,KAAgC,OAASA,EAAW,UAAW0tG,EAAW,CAChH,gBAAiB97G,GAAS,CAAA,EAAIoO,GAAe,OAA0C+sH,EAAwB/sH,EAAW,aAAe,MAAQ+sH,IAA0B,OAA9F,OAAgHA,EAAsB,iBAAkBC,EAAatf,KAAe,MAAQsf,IAAe,OAAS,OAASA,EAAW,eAAe,CAC1U,CAAK,EACMt/G,EAAI47G,GAAM13H,GAAS,CAAA,EAAIoO,EAAYitH,EAAa,CACrD,OAAQtQ,EACR,QAAS/E,EACT,UAAWlK,EACX,IAAKjnH,CACN,CAAA,CAAC,CACN,CAAG,CACH,sECrqIA,OAAO,eAAcmhB,EAAU,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5DA,EAAA,WAAqBA,EAA2B,iBAAAA,EAAA,YAAsBA,EAAwB,cAAAA,EAAA,UAAoBA,YAAoBA,EAAqB,WAAAA,EAAA,IAAcA,EAAY,EAAAA,EAAA,IAAcA,QAAgBA,EAAe,KAAAA,EAAA,WAAqBA,EAAsB,YAAA,OAC7Q,MAAMslH,CAAY,CACjB,CACDtlH,EAAA,YAAsBslH,EACtBtlH,EAAA,WAAqB,wBACrB,MAAMulH,UAAaD,CAAY,CAC3B,YAAYnoG,EAAG,CAEX,GADA,QACI,CAACnd,EAAQ,WAAW,KAAKmd,CAAC,EAC1B,MAAM,IAAI,MAAM,0CAA0C,EAC9D,KAAK,IAAMA,CACd,CACD,UAAW,CACP,OAAO,KAAK,GACf,CACD,UAAW,CACP,MAAO,EACV,CACD,IAAI,OAAQ,CACR,MAAO,CAAE,CAAC,KAAK,GAAG,EAAG,CAAC,CACzB,CACJ,CACDnd,EAAA,KAAeulH,EACf,MAAMC,UAAcF,CAAY,CAC5B,YAAY1jH,EAAM,CACd,QACA,KAAK,OAAS,OAAOA,GAAS,SAAW,CAACA,CAAI,EAAIA,CACrD,CACD,UAAW,CACP,OAAO,KAAK,GACf,CACD,UAAW,CACP,GAAI,KAAK,OAAO,OAAS,EACrB,MAAO,GACX,MAAM/J,EAAO,KAAK,OAAO,CAAC,EAC1B,OAAOA,IAAS,IAAMA,IAAS,IAClC,CACD,IAAI,KAAM,CACN,IAAIk5B,EACJ,OAASA,EAAK,KAAK,QAAU,MAAQA,IAAO,OAASA,EAAM,KAAK,KAAO,KAAK,OAAO,OAAO,CAAC5T,EAAGne,IAAM,GAAGme,IAAIne,IAAK,EAAE,CACrH,CACD,IAAI,OAAQ,CACR,IAAI+xB,EACJ,OAASA,EAAK,KAAK,UAAY,MAAQA,IAAO,OAASA,EAAM,KAAK,OAAS,KAAK,OAAO,OAAO,CAAChkB,EAAO/N,KAC9FA,aAAaumH,IACbx4G,EAAM/N,EAAE,GAAG,GAAK+N,EAAM/N,EAAE,GAAG,GAAK,GAAK,GAClC+N,GACR,CAAA,CAAE,CACR,CACJ,CACD/M,EAAA,MAAgBwlH,EAChBxlH,EAAA,IAAc,IAAIwlH,EAAM,EAAE,EAC1B,SAAShyH,EAAEsuE,KAAStxD,EAAM,CACtB,MAAM5O,EAAO,CAACkgE,EAAK,CAAC,CAAC,EACrB,IAAI9gF,EAAI,EACR,KAAOA,EAAIwvB,EAAK,QACZi1G,EAAW7jH,EAAM4O,EAAKxvB,CAAC,CAAC,EACxB4gB,EAAK,KAAKkgE,EAAK,EAAE9gF,CAAC,CAAC,EAEvB,OAAO,IAAIwkI,EAAM5jH,CAAI,CACxB,CACD5B,EAAA,EAAYxM,EACZ,MAAMkyH,EAAO,IAAIF,EAAM,GAAG,EAC1B,SAASjnH,EAAIujE,KAAStxD,EAAM,CACxB,MAAMm1G,EAAO,CAACC,EAAc9jD,EAAK,CAAC,CAAC,CAAC,EACpC,IAAI9gF,EAAI,EACR,KAAOA,EAAIwvB,EAAK,QACZm1G,EAAK,KAAKD,CAAI,EACdD,EAAWE,EAAMn1G,EAAKxvB,CAAC,CAAC,EACxB2kI,EAAK,KAAKD,EAAME,EAAc9jD,EAAK,EAAE9gF,CAAC,CAAC,CAAC,EAE5C,OAAA6kI,EAASF,CAAI,EACN,IAAIH,EAAMG,CAAI,CACxB,CACD3lH,EAAA,IAAczB,EACd,SAASknH,EAAW7jH,EAAMvF,EAAK,CACvBA,aAAempH,EACf5jH,EAAK,KAAK,GAAGvF,EAAI,MAAM,EAClBA,aAAekpH,EACpB3jH,EAAK,KAAKvF,CAAG,EAEbuF,EAAK,KAAKkmB,EAAYzrB,CAAG,CAAC,CACjC,CACD2D,EAAA,WAAqBylH,EACrB,SAASI,EAASF,EAAM,CACpB,IAAI3kI,EAAI,EACR,KAAOA,EAAI2kI,EAAK,OAAS,GAAG,CACxB,GAAIA,EAAK3kI,CAAC,IAAM0kI,EAAM,CAClB,MAAMxuF,EAAM4uF,EAAeH,EAAK3kI,EAAI,CAAC,EAAG2kI,EAAK3kI,EAAI,CAAC,CAAC,EACnD,GAAIk2C,IAAQ,OAAW,CACnByuF,EAAK,OAAO3kI,EAAI,EAAG,EAAGk2C,CAAG,EACzB,SAEJyuF,EAAK3kI,GAAG,EAAI,IAEhBA,IAEP,CACD,SAAS8kI,EAAe93G,EAAGjX,EAAG,CAC1B,GAAIA,IAAM,KACN,OAAOiX,EACX,GAAIA,IAAM,KACN,OAAOjX,EACX,GAAI,OAAOiX,GAAK,SACZ,OAAIjX,aAAawuH,GAAQv3G,EAAEA,EAAE,OAAS,CAAC,IAAM,IACzC,OACA,OAAOjX,GAAK,SACL,GAAGiX,EAAE,MAAM,EAAG,EAAE,IAAIjX,KAC3BA,EAAE,CAAC,IAAM,IACFiX,EAAE,MAAM,EAAG,EAAE,EAAIjX,EAAE,MAAM,CAAC,EACrC,OAEJ,GAAI,OAAOA,GAAK,UAAYA,EAAE,CAAC,IAAM,KAAO,EAAEiX,aAAau3G,GACvD,MAAO,IAAIv3G,IAAIjX,EAAE,MAAM,CAAC,GAE/B,CACD,SAASgvH,EAAUC,EAAIC,EAAI,CACvB,OAAOA,EAAG,SAAQ,EAAKD,EAAKA,EAAG,SAAQ,EAAKC,EAAK1nH,IAAOynH,IAAKC,GAChE,CACDjmH,EAAA,UAAoB+lH,EAEpB,SAASj+F,EAAYnW,EAAG,CACpB,OAAO,OAAOA,GAAK,UAAY,OAAOA,GAAK,WAAaA,IAAM,KACxDA,EACAi0G,EAAc,MAAM,QAAQj0G,CAAC,EAAIA,EAAE,KAAK,GAAG,EAAIA,CAAC,CACzD,CACD,SAASvxB,EAAUuxB,EAAG,CAClB,OAAO,IAAI6zG,EAAMI,EAAcj0G,CAAC,CAAC,CACpC,CACD3R,EAAA,UAAoB5f,EACpB,SAASwlI,EAAcj0G,EAAG,CACtB,OAAO,KAAK,UAAUA,CAAC,EAClB,QAAQ,UAAW,SAAS,EAC5B,QAAQ,UAAW,SAAS,CACpC,CACD3R,EAAA,cAAwB4lH,EACxB,SAASM,EAAYrvH,EAAK,CACtB,OAAO,OAAOA,GAAO,UAAYmJ,EAAQ,WAAW,KAAKnJ,CAAG,EAAI,IAAI2uH,EAAM,IAAI3uH,GAAK,EAAIrD,KAAMqD,IAChG,CACDmJ,EAAA,YAAsBkmH,EAEtB,SAASC,EAAiBtvH,EAAK,CAC3B,GAAI,OAAOA,GAAO,UAAYmJ,EAAQ,WAAW,KAAKnJ,CAAG,EACrD,OAAO,IAAI2uH,EAAM,GAAG3uH,GAAK,EAE7B,MAAM,IAAI,MAAM,iCAAiCA,kCAAoC,CACxF,CACDmJ,EAAA,iBAA2BmmH,EAC3B,SAASC,EAAWC,EAAI,CACpB,OAAO,IAAIb,EAAMa,EAAG,SAAU,CAAA,CACjC,CACDrmH,EAAA,WAAqBomH,+BCxJrB,OAAO,eAAcpmH,EAAU,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5DA,EAAA,WAAqBA,iBAAyBA,EAAgB,MAAAA,EAAA,SAAmBA,EAAyB,eAAA,OAC1G,MAAMsmH,EAASnpH,GACf,MAAMopH,UAAmB,KAAM,CAC3B,YAAYzoH,EAAM,CACd,MAAM,uBAAuBA,eAAkB,EAC/C,KAAK,MAAQA,EAAK,KACrB,CACJ,CACD,IAAI0oH,GACH,SAAUA,EAAgB,CACvBA,EAAeA,EAAe,QAAa,CAAC,EAAI,UAChDA,EAAeA,EAAe,UAAe,CAAC,EAAI,cACnDA,EAAiBxmH,EAAQ,iBAAmBA,EAAyB,eAAA,CAAE,EAAC,EAC3EA,EAAmB,SAAA,CACf,MAAO,IAAIsmH,EAAO,KAAK,OAAO,EAC9B,IAAK,IAAIA,EAAO,KAAK,KAAK,EAC1B,IAAK,IAAIA,EAAO,KAAK,KAAK,CAC9B,EACA,MAAMG,CAAM,CACR,YAAY,CAAE,SAAAC,EAAU,OAAA3zG,CAAM,EAAK,CAAA,EAAI,CACnC,KAAK,OAAS,GACd,KAAK,UAAY2zG,EACjB,KAAK,QAAU3zG,CAClB,CACD,OAAO4zG,EAAc,CACjB,OAAOA,aAAwBL,EAAO,KAAOK,EAAe,KAAK,KAAKA,CAAY,CACrF,CACD,KAAK/1G,EAAQ,CACT,OAAO,IAAI01G,EAAO,KAAK,KAAK,SAAS11G,CAAM,CAAC,CAC/C,CACD,SAASA,EAAQ,CACb,MAAMg2G,EAAK,KAAK,OAAOh2G,CAAM,GAAK,KAAK,WAAWA,CAAM,EACxD,MAAO,GAAGA,IAASg2G,EAAG,SACzB,CACD,WAAWh2G,EAAQ,CACf,IAAImgB,EAAIwB,EACR,GAAM,GAAAA,GAAMxB,EAAK,KAAK,WAAa,MAAQA,IAAO,OAAS,OAASA,EAAG,aAAe,MAAQwB,IAAO,SAAkBA,EAAG,IAAI3hB,CAAM,GAAO,KAAK,WAAa,CAAC,KAAK,UAAU,IAAIA,CAAM,EACnL,MAAM,IAAI,MAAM,oBAAoBA,iCAAsC,EAE9E,OAAQ,KAAK,OAAOA,CAAM,EAAI,CAAE,OAAAA,EAAQ,MAAO,EAClD,CACJ,CACD5Q,EAAA,MAAgBymH,EAChB,MAAMI,UAAuBP,EAAO,IAAK,CACrC,YAAY11G,EAAQk2G,EAAS,CACzB,MAAMA,CAAO,EACb,KAAK,OAASl2G,CACjB,CACD,SAAShyB,EAAO,CAAE,SAAAokH,EAAU,UAAAn7G,CAAS,EAAI,CACrC,KAAK,MAAQjJ,EACb,KAAK,aAAgB0nI,EAAO,MAAO,IAAIA,EAAO,KAAKtjB,CAAQ,KAAKn7G,IACnE,CACJ,CACDmY,EAAA,eAAyB6mH,EACzB,MAAME,KAAWT,EAAO,OACxB,MAAMU,UAAmBP,CAAM,CAC3B,YAAY7mH,EAAM,CACd,MAAMA,CAAI,EACV,KAAK,QAAU,GACf,KAAK,OAASA,EAAK,MACnB,KAAK,KAAO,CAAE,GAAGA,EAAM,GAAIA,EAAK,MAAQmnH,EAAOT,EAAO,IACzD,CACD,KAAM,CACF,OAAO,KAAK,MACf,CACD,KAAK11G,EAAQ,CACT,OAAO,IAAIi2G,EAAej2G,EAAQ,KAAK,SAASA,CAAM,CAAC,CAC1D,CACD,MAAM+1G,EAAc/nI,EAAO,CACvB,IAAImyC,EACJ,GAAInyC,EAAM,MAAQ,OACd,MAAM,IAAI,MAAM,sCAAsC,EAC1D,MAAMkf,EAAO,KAAK,OAAO6oH,CAAY,EAC/B,CAAE,OAAA/1G,CAAQ,EAAG9S,EACbmpH,GAAYl2F,EAAKnyC,EAAM,OAAS,MAAQmyC,IAAO,OAASA,EAAKnyC,EAAM,IACzE,IAAIq0E,EAAK,KAAK,QAAQriD,CAAM,EAC5B,GAAIqiD,EAAI,CACJ,MAAMi0D,EAAQj0D,EAAG,IAAIg0D,CAAQ,EAC7B,GAAIC,EACA,OAAOA,OAGXj0D,EAAK,KAAK,QAAQriD,CAAM,EAAI,IAAI,IAEpCqiD,EAAG,IAAIg0D,EAAUnpH,CAAI,EACrB,MAAMqf,EAAI,KAAK,OAAOvM,CAAM,IAAM,KAAK,OAAOA,CAAM,EAAI,CAAA,GAClD/oB,EAAYs1B,EAAE,OACpB,OAAAA,EAAEt1B,CAAS,EAAIjJ,EAAM,IACrBkf,EAAK,SAASlf,EAAO,CAAE,SAAUgyB,EAAQ,UAAA/oB,CAAS,CAAE,EAC7CiW,CACV,CACD,SAAS8S,EAAQu2G,EAAU,CACvB,MAAMl0D,EAAK,KAAK,QAAQriD,CAAM,EAC9B,GAAKqiD,EAEL,OAAOA,EAAG,IAAIk0D,CAAQ,CACzB,CACD,UAAUC,EAAWzwH,EAAS,KAAK,QAAS,CACxC,OAAO,KAAK,cAAcA,EAASmH,GAAS,CACxC,GAAIA,EAAK,YAAc,OACnB,MAAM,IAAI,MAAM,kBAAkBA,iBAAoB,EAC1D,SAAWwoH,EAAO,KAAMc,IAAYtpH,EAAK,WACrD,CAAS,CACJ,CACD,UAAUnH,EAAS,KAAK,QAAS0wH,EAAYC,EAAS,CAClD,OAAO,KAAK,cAAc3wH,EAASmH,GAAS,CACxC,GAAIA,EAAK,QAAU,OACf,MAAM,IAAI,MAAM,kBAAkBA,iBAAoB,EAC1D,OAAOA,EAAK,MAAM,IAC9B,EAAWupH,EAAYC,CAAO,CACzB,CACD,cAAc3wH,EAAQ4wH,EAAWF,EAAa,CAAA,EAAIC,EAAS,CACvD,IAAI1lH,EAAO0kH,EAAO,IAClB,UAAW11G,KAAUja,EAAQ,CACzB,MAAMs8D,EAAKt8D,EAAOia,CAAM,EACxB,GAAI,CAACqiD,EACD,SACJ,MAAMu0D,EAAWH,EAAWz2G,CAAM,EAAIy2G,EAAWz2G,CAAM,GAAK,IAAI,IAChEqiD,EAAG,QAASn1D,GAAS,CACjB,GAAI0pH,EAAQ,IAAI1pH,CAAI,EAChB,OACJ0pH,EAAQ,IAAI1pH,EAAM0oH,EAAe,OAAO,EACxC,IAAIxnH,EAAIuoH,EAAUzpH,CAAI,EACtB,GAAIkB,EAAG,CACH,MAAMyoH,EAAM,KAAK,KAAK,IAAMznH,EAAQ,SAAS,IAAMA,EAAQ,SAAS,MACpE4B,KAAW0kH,EAAO,KAAM1kH,IAAO6lH,KAAO3pH,OAAUkB,KAAK,KAAK,KAAK,aAEzDA,EAAIsoH,GAAY,KAA6B,OAASA,EAAQxpH,CAAI,EACxE8D,KAAW0kH,EAAO,KAAM1kH,IAAO5C,IAAI,KAAK,KAAK,SAG7C,OAAM,IAAIunH,EAAWzoH,CAAI,EAE7B0pH,EAAQ,IAAI1pH,EAAM0oH,EAAe,SAAS,CAC1D,CAAa,EAEL,OAAO5kH,CACV,CACJ,CACD5B,EAAA,WAAqBgnH,qBC5IrB,OAAO,eAAchnH,EAAU,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5DA,EAAA,GAAaA,MAAcA,EAAc,IAAAA,EAAA,QAAkBA,YAAoBA,EAAmB,SAAAA,EAAA,eAAyBA,aAAqBA,EAAgB,MAAAA,EAAA,KAAeA,EAAqB,WAAAA,EAAA,UAAoBA,cAAsBA,EAAc,IAAAA,EAAA,UAAoBA,MAAcA,EAAY,EAAA,OAC1S,MAAMsmH,EAASnpH,GACTuqH,EAAUnqH,GAChB,IAAIoqH,EAASxqH,GACb,OAAO,eAAe6C,EAAS,IAAK,CAAE,WAAY,GAAM,IAAK,UAAY,CAAE,OAAO2nH,EAAO,CAAE,CAAI,CAAA,EAC/F,OAAO,eAAe3nH,EAAS,MAAO,CAAE,WAAY,GAAM,IAAK,UAAY,CAAE,OAAO2nH,EAAO,GAAI,CAAI,CAAA,EACnG,OAAO,eAAe3nH,EAAS,YAAa,CAAE,WAAY,GAAM,IAAK,UAAY,CAAE,OAAO2nH,EAAO,SAAU,CAAI,CAAA,EAC/G,OAAO,eAAe3nH,EAAS,MAAO,CAAE,WAAY,GAAM,IAAK,UAAY,CAAE,OAAO2nH,EAAO,GAAI,CAAI,CAAA,EACnG,OAAO,eAAe3nH,EAAS,cAAe,CAAE,WAAY,GAAM,IAAK,UAAY,CAAE,OAAO2nH,EAAO,WAAY,CAAI,CAAA,EACnH,OAAO,eAAe3nH,EAAS,YAAa,CAAE,WAAY,GAAM,IAAK,UAAY,CAAE,OAAO2nH,EAAO,SAAU,CAAI,CAAA,EAC/G,OAAO,eAAe3nH,EAAS,aAAc,CAAE,WAAY,GAAM,IAAK,UAAY,CAAE,OAAO2nH,EAAO,UAAW,CAAI,CAAA,EACjH,OAAO,eAAe3nH,EAAS,OAAQ,CAAE,WAAY,GAAM,IAAK,UAAY,CAAE,OAAO2nH,EAAO,IAAK,CAAI,CAAA,EACrG,IAAIC,EAAUrqH,GACd,OAAO,eAAeyC,EAAS,QAAS,CAAE,WAAY,GAAM,IAAK,UAAY,CAAE,OAAO4nH,EAAQ,KAAM,CAAI,CAAA,EACxG,OAAO,eAAe5nH,EAAS,aAAc,CAAE,WAAY,GAAM,IAAK,UAAY,CAAE,OAAO4nH,EAAQ,UAAW,CAAI,CAAA,EAClH,OAAO,eAAe5nH,EAAS,iBAAkB,CAAE,WAAY,GAAM,IAAK,UAAY,CAAE,OAAO4nH,EAAQ,cAAe,CAAI,CAAA,EAC1H,OAAO,eAAe5nH,EAAS,WAAY,CAAE,WAAY,GAAM,IAAK,UAAY,CAAE,OAAO4nH,EAAQ,QAAS,CAAI,CAAA,EAC9G5nH,EAAoB,UAAA,CAChB,GAAI,IAAIsmH,EAAO,MAAM,GAAG,EACxB,IAAK,IAAIA,EAAO,MAAM,IAAI,EAC1B,GAAI,IAAIA,EAAO,MAAM,GAAG,EACxB,IAAK,IAAIA,EAAO,MAAM,IAAI,EAC1B,GAAI,IAAIA,EAAO,MAAM,KAAK,EAC1B,IAAK,IAAIA,EAAO,MAAM,KAAK,EAC3B,IAAK,IAAIA,EAAO,MAAM,GAAG,EACzB,GAAI,IAAIA,EAAO,MAAM,IAAI,EACzB,IAAK,IAAIA,EAAO,MAAM,IAAI,EAC1B,IAAK,IAAIA,EAAO,MAAM,GAAG,CAC7B,EACA,MAAMuB,CAAK,CACP,eAAgB,CACZ,OAAO,IACV,CACD,cAAcC,EAAQC,EAAY,CAC9B,OAAO,IACV,CACJ,CACD,MAAMC,UAAYH,CAAK,CACnB,YAAYI,EAASnqH,EAAMoqH,EAAK,CAC5B,QACA,KAAK,QAAUD,EACf,KAAK,KAAOnqH,EACZ,KAAK,IAAMoqH,CACd,CACD,OAAO,CAAE,IAAAC,EAAK,GAAAC,GAAM,CAChB,MAAMH,EAAUE,EAAMT,EAAQ,SAAS,IAAM,KAAK,QAC5CQ,EAAM,KAAK,MAAQ,OAAY,GAAK,MAAM,KAAK,MACrD,MAAO,GAAGD,KAAW,KAAK,OAAOC,KAASE,CAC7C,CACD,cAAcr7G,EAAOs7G,EAAW,CAC5B,GAAKt7G,EAAM,KAAK,KAAK,GAAG,EAExB,OAAI,KAAK,MACL,KAAK,IAAMu7G,EAAa,KAAK,IAAKv7G,EAAOs7G,CAAS,GAC/C,IACV,CACD,IAAI,OAAQ,CACR,OAAO,KAAK,eAAe/B,EAAO,YAAc,KAAK,IAAI,MAAQ,EACpE,CACJ,CACD,MAAMiC,UAAeV,CAAK,CACtB,YAAYW,EAAKN,EAAKO,EAAa,CAC/B,QACA,KAAK,IAAMD,EACX,KAAK,IAAMN,EACX,KAAK,YAAcO,CACtB,CACD,OAAO,CAAE,GAAAL,GAAM,CACX,MAAO,GAAG,KAAK,SAAS,KAAK,OAASA,CACzC,CACD,cAAcr7G,EAAOs7G,EAAW,CAC5B,GAAI,OAAK,eAAe/B,EAAO,MAAQ,CAACv5G,EAAM,KAAK,IAAI,GAAG,GAAK,CAAC,KAAK,aAErE,YAAK,IAAMu7G,EAAa,KAAK,IAAKv7G,EAAOs7G,CAAS,EAC3C,IACV,CACD,IAAI,OAAQ,CACR,MAAMt7G,EAAQ,KAAK,eAAeu5G,EAAO,KAAO,CAAE,EAAG,CAAE,GAAG,KAAK,IAAI,KAAK,EACxE,OAAOoC,EAAa37G,EAAO,KAAK,GAAG,CACtC,CACJ,CACD,MAAM47G,UAAiBJ,CAAO,CAC1B,YAAYC,EAAKI,EAAIV,EAAKO,EAAa,CACnC,MAAMD,EAAKN,EAAKO,CAAW,EAC3B,KAAK,GAAKG,CACb,CACD,OAAO,CAAE,GAAAR,GAAM,CACX,MAAO,GAAG,KAAK,OAAO,KAAK,OAAO,KAAK,OAASA,CACnD,CACJ,CACD,MAAM1L,UAAcmL,CAAK,CACrB,YAAYp4F,EAAO,CACf,QACA,KAAK,MAAQA,EACb,KAAK,MAAQ,EAChB,CACD,OAAO,CAAE,GAAA24F,GAAM,CACX,MAAO,GAAG,KAAK,SAAWA,CAC7B,CACJ,CACD,MAAMS,UAAchB,CAAK,CACrB,YAAYp4F,EAAO,CACf,QACA,KAAK,MAAQA,EACb,KAAK,MAAQ,EAChB,CACD,OAAO,CAAE,GAAA24F,GAAM,CAEX,MAAO,QADO,KAAK,MAAQ,IAAI,KAAK,QAAU,MACpBA,CAC7B,CACJ,CACD,MAAMU,UAAcjB,CAAK,CACrB,YAAYlkB,EAAO,CACf,QACA,KAAK,MAAQA,CAChB,CACD,OAAO,CAAE,GAAAykB,GAAM,CACX,MAAO,SAAS,KAAK,SAAWA,CACnC,CACD,IAAI,OAAQ,CACR,OAAO,KAAK,MAAM,KACrB,CACJ,CACD,MAAMW,UAAgBlB,CAAK,CACvB,YAAYjmH,EAAM,CACd,QACA,KAAK,KAAOA,CACf,CACD,OAAO,CAAE,GAAAwmH,GAAM,CACX,MAAO,GAAG,KAAK,QAAUA,CAC5B,CACD,eAAgB,CACZ,MAAO,GAAG,KAAK,OAAS,KAAO,MAClC,CACD,cAAcr7G,EAAOs7G,EAAW,CAC5B,YAAK,KAAOC,EAAa,KAAK,KAAMv7G,EAAOs7G,CAAS,EAC7C,IACV,CACD,IAAI,OAAQ,CACR,OAAO,KAAK,gBAAgB/B,EAAO,YAAc,KAAK,KAAK,MAAQ,EACtE,CACJ,CACD,MAAM0C,UAAmBnB,CAAK,CAC1B,YAAYtuF,EAAQ,GAAI,CACpB,QACA,KAAK,MAAQA,CAChB,CACD,OAAO35B,EAAM,CACT,OAAO,KAAK,MAAM,OAAO,CAACgC,EAAMuM,IAAMvM,EAAOuM,EAAE,OAAOvO,CAAI,EAAG,EAAE,CAClE,CACD,eAAgB,CACZ,KAAM,CAAE,MAAA25B,CAAO,EAAG,KAClB,IAAIv4C,EAAIu4C,EAAM,OACd,KAAOv4C,KAAK,CACR,MAAMmtB,EAAIorB,EAAMv4C,CAAC,EAAE,cAAa,EAC5B,MAAM,QAAQmtB,CAAC,EACforB,EAAM,OAAOv4C,EAAG,EAAG,GAAGmtB,CAAC,EAClBA,EACLorB,EAAMv4C,CAAC,EAAImtB,EAEXorB,EAAM,OAAOv4C,EAAG,CAAC,EAEzB,OAAOu4C,EAAM,OAAS,EAAI,KAAO,MACpC,CACD,cAAcxsB,EAAOs7G,EAAW,CAC5B,KAAM,CAAE,MAAA9uF,CAAO,EAAG,KAClB,IAAIv4C,EAAIu4C,EAAM,OACd,KAAOv4C,KAAK,CAER,MAAMmtB,EAAIorB,EAAMv4C,CAAC,EACbmtB,EAAE,cAAcpB,EAAOs7G,CAAS,IAEpCY,EAAcl8G,EAAOoB,EAAE,KAAK,EAC5BorB,EAAM,OAAOv4C,EAAG,CAAC,GAErB,OAAOu4C,EAAM,OAAS,EAAI,KAAO,MACpC,CACD,IAAI,OAAQ,CACR,OAAO,KAAK,MAAM,OAAO,CAACxsB,EAAOoB,IAAM+6G,EAASn8G,EAAOoB,EAAE,KAAK,EAAG,CAAE,CAAA,CACtE,CACJ,CACD,MAAMg7G,UAAkBH,CAAW,CAC/B,OAAOppH,EAAM,CACT,MAAO,IAAMA,EAAK,GAAK,MAAM,OAAOA,CAAI,EAAI,IAAMA,EAAK,EAC1D,CACJ,CACD,MAAMwpH,UAAaJ,CAAW,CAC7B,CACD,MAAMK,UAAaF,CAAU,CAC5B,CACDE,EAAK,KAAO,OACZ,MAAMC,UAAWH,CAAU,CACvB,YAAYI,EAAWhwF,EAAO,CAC1B,MAAMA,CAAK,EACX,KAAK,UAAYgwF,CACpB,CACD,OAAO3pH,EAAM,CACT,IAAIgC,EAAO,MAAM,KAAK,aAAe,MAAM,OAAOhC,CAAI,EACtD,OAAI,KAAK,OACLgC,GAAQ,QAAU,KAAK,KAAK,OAAOhC,CAAI,GACpCgC,CACV,CACD,eAAgB,CACZ,MAAM,cAAa,EACnB,MAAM4nH,EAAO,KAAK,UAClB,GAAIA,IAAS,GACT,OAAO,KAAK,MAChB,IAAIhjH,EAAI,KAAK,KACb,GAAIA,EAAG,CACH,MAAMijH,EAAKjjH,EAAE,gBACbA,EAAI,KAAK,KAAO,MAAM,QAAQijH,CAAE,EAAI,IAAIJ,EAAKI,CAAE,EAAIA,EAEvD,GAAIjjH,EACA,OAAIgjH,IAAS,GACFhjH,aAAa8iH,EAAK9iH,EAAIA,EAAE,MAC/B,KAAK,MAAM,OACJ,KACJ,IAAI8iH,EAAGI,EAAIF,CAAI,EAAGhjH,aAAa8iH,EAAK,CAAC9iH,CAAC,EAAIA,EAAE,KAAK,EAE5D,GAAI,EAAAgjH,IAAS,IAAS,CAAC,KAAK,MAAM,QAElC,OAAO,IACV,CACD,cAAcz8G,EAAOs7G,EAAW,CAC5B,IAAIt3F,EAEJ,GADA,KAAK,MAAQA,EAAK,KAAK,QAAU,MAAQA,IAAO,OAAS,OAASA,EAAG,cAAchkB,EAAOs7G,CAAS,EAC/F,GAAE,MAAM,cAAct7G,EAAOs7G,CAAS,GAAK,KAAK,MAEpD,YAAK,UAAYC,EAAa,KAAK,UAAWv7G,EAAOs7G,CAAS,EACvD,IACV,CACD,IAAI,OAAQ,CACR,MAAMt7G,EAAQ,MAAM,MACpB,OAAA27G,EAAa37G,EAAO,KAAK,SAAS,EAC9B,KAAK,MACLm8G,EAASn8G,EAAO,KAAK,KAAK,KAAK,EAC5BA,CACV,CACJ,CACDu8G,EAAG,KAAO,KACV,MAAMK,UAAYR,CAAU,CAC3B,CACDQ,EAAI,KAAO,MACX,MAAMC,UAAgBD,CAAI,CACtB,YAAYE,EAAW,CACnB,QACA,KAAK,UAAYA,CACpB,CACD,OAAOjqH,EAAM,CACT,MAAO,OAAO,KAAK,aAAe,MAAM,OAAOA,CAAI,CACtD,CACD,cAAcmN,EAAOs7G,EAAW,CAC5B,GAAK,MAAM,cAAct7G,EAAOs7G,CAAS,EAEzC,YAAK,UAAYC,EAAa,KAAK,UAAWv7G,EAAOs7G,CAAS,EACvD,IACV,CACD,IAAI,OAAQ,CACR,OAAOa,EAAS,MAAM,MAAO,KAAK,UAAU,KAAK,CACpD,CACJ,CACD,MAAMY,UAAiBH,CAAI,CACvB,YAAY1B,EAASnqH,EAAMisH,EAAMC,EAAI,CACjC,QACA,KAAK,QAAU/B,EACf,KAAK,KAAOnqH,EACZ,KAAK,KAAOisH,EACZ,KAAK,GAAKC,CACb,CACD,OAAOpqH,EAAM,CACT,MAAMqoH,EAAUroH,EAAK,IAAM8nH,EAAQ,SAAS,IAAM,KAAK,QACjD,CAAE,KAAA5pH,EAAM,KAAAisH,EAAM,GAAAC,CAAE,EAAK,KAC3B,MAAO,OAAO/B,KAAWnqH,KAAQisH,MAASjsH,KAAQksH,MAAOlsH,OAAY,MAAM,OAAO8B,CAAI,CACzF,CACD,IAAI,OAAQ,CACR,MAAMmN,EAAQ27G,EAAa,MAAM,MAAO,KAAK,IAAI,EACjD,OAAOA,EAAa37G,EAAO,KAAK,EAAE,CACrC,CACJ,CACD,MAAMk9G,UAAgBN,CAAI,CACtB,YAAYO,EAAMjC,EAASnqH,EAAM2rD,EAAU,CACvC,QACA,KAAK,KAAOygE,EACZ,KAAK,QAAUjC,EACf,KAAK,KAAOnqH,EACZ,KAAK,SAAW2rD,CACnB,CACD,OAAO7pD,EAAM,CACT,MAAO,OAAO,KAAK,WAAW,KAAK,QAAQ,KAAK,QAAQ,KAAK,YAAc,MAAM,OAAOA,CAAI,CAC/F,CACD,cAAcmN,EAAOs7G,EAAW,CAC5B,GAAK,MAAM,cAAct7G,EAAOs7G,CAAS,EAEzC,YAAK,SAAWC,EAAa,KAAK,SAAUv7G,EAAOs7G,CAAS,EACrD,IACV,CACD,IAAI,OAAQ,CACR,OAAOa,EAAS,MAAM,MAAO,KAAK,SAAS,KAAK,CACnD,CACJ,CACD,MAAMiB,UAAahB,CAAU,CACzB,YAAYrrH,EAAM0S,EAAM45G,EAAO,CAC3B,QACA,KAAK,KAAOtsH,EACZ,KAAK,KAAO0S,EACZ,KAAK,MAAQ45G,CAChB,CACD,OAAOxqH,EAAM,CAET,MAAO,GADQ,KAAK,MAAQ,SAAW,cACX,KAAK,QAAQ,KAAK,QAAU,MAAM,OAAOA,CAAI,CAC5E,CACJ,CACDuqH,EAAK,KAAO,OACZ,MAAME,UAAerB,CAAW,CAC5B,OAAOppH,EAAM,CACT,MAAO,UAAY,MAAM,OAAOA,CAAI,CACvC,CACJ,CACDyqH,EAAO,KAAO,SACd,MAAMC,UAAYnB,CAAU,CACxB,OAAOvpH,EAAM,CACT,IAAIgC,EAAO,MAAQ,MAAM,OAAOhC,CAAI,EACpC,OAAI,KAAK,QACLgC,GAAQ,KAAK,MAAM,OAAOhC,CAAI,GAC9B,KAAK,UACLgC,GAAQ,KAAK,QAAQ,OAAOhC,CAAI,GAC7BgC,CACV,CACD,eAAgB,CACZ,IAAImvB,EAAIwB,EACR,aAAM,cAAa,GAClBxB,EAAK,KAAK,SAAW,MAAQA,IAAO,QAAkBA,EAAG,cAAa,GACtEwB,EAAK,KAAK,WAAa,MAAQA,IAAO,QAAkBA,EAAG,cAAa,EAClE,IACV,CACD,cAAcxlB,EAAOs7G,EAAW,CAC5B,IAAIt3F,EAAIwB,EACR,aAAM,cAAcxlB,EAAOs7G,CAAS,GACnCt3F,EAAK,KAAK,SAAW,MAAQA,IAAO,QAAkBA,EAAG,cAAchkB,EAAOs7G,CAAS,GACvF91F,EAAK,KAAK,WAAa,MAAQA,IAAO,QAAkBA,EAAG,cAAcxlB,EAAOs7G,CAAS,EACnF,IACV,CACD,IAAI,OAAQ,CACR,MAAMt7G,EAAQ,MAAM,MACpB,OAAI,KAAK,OACLm8G,EAASn8G,EAAO,KAAK,MAAM,KAAK,EAChC,KAAK,SACLm8G,EAASn8G,EAAO,KAAK,QAAQ,KAAK,EAC/BA,CACV,CACJ,CACD,MAAMw9G,UAAcpB,CAAU,CAC1B,YAAYxlB,EAAO,CACf,QACA,KAAK,MAAQA,CAChB,CACD,OAAO/jG,EAAM,CACT,MAAO,SAAS,KAAK,SAAW,MAAM,OAAOA,CAAI,CACpD,CACJ,CACD2qH,EAAM,KAAO,QACb,MAAMC,UAAgBrB,CAAU,CAC5B,OAAOvpH,EAAM,CACT,MAAO,UAAY,MAAM,OAAOA,CAAI,CACvC,CACJ,CACD4qH,EAAQ,KAAO,UACf,MAAMC,CAAQ,CACV,YAAYC,EAAU9qH,EAAO,GAAI,CAC7B,KAAK,QAAU,GACf,KAAK,aAAe,GACpB,KAAK,WAAa,GAClB,KAAK,KAAO,CAAE,GAAGA,EAAM,GAAIA,EAAK,MAAQ;AAAA,EAAO,IAC/C,KAAK,UAAY8qH,EACjB,KAAK,OAAS,IAAIhD,EAAQ,MAAM,CAAE,OAAQgD,CAAQ,CAAE,EACpD,KAAK,OAAS,CAAC,IAAItB,CAAM,CAC5B,CACD,UAAW,CACP,OAAO,KAAK,MAAM,OAAO,KAAK,IAAI,CACrC,CAED,KAAKx4G,EAAQ,CACT,OAAO,KAAK,OAAO,KAAKA,CAAM,CACjC,CAED,UAAUA,EAAQ,CACd,OAAO,KAAK,UAAU,KAAKA,CAAM,CACpC,CAED,WAAW+5G,EAAc/rI,EAAO,CAC5B,MAAMkf,EAAO,KAAK,UAAU,MAAM6sH,EAAc/rI,CAAK,EAErD,OADW,KAAK,QAAQkf,EAAK,MAAM,IAAM,KAAK,QAAQA,EAAK,MAAM,EAAI,IAAI,MACtE,IAAIA,CAAI,EACJA,CACV,CACD,cAAc8S,EAAQu2G,EAAU,CAC5B,OAAO,KAAK,UAAU,SAASv2G,EAAQu2G,CAAQ,CAClD,CAGD,UAAUC,EAAW,CACjB,OAAO,KAAK,UAAU,UAAUA,EAAW,KAAK,OAAO,CAC1D,CACD,WAAY,CACR,OAAO,KAAK,UAAU,UAAU,KAAK,OAAO,CAC/C,CACD,KAAKa,EAAStB,EAAcuB,EAAKp0G,EAAU,CACvC,MAAMhW,EAAO,KAAK,OAAO,OAAO6oH,CAAY,EAC5C,OAAIuB,IAAQ,QAAap0G,IACrB,KAAK,WAAWhW,EAAK,GAAG,EAAIoqH,GAChC,KAAK,UAAU,IAAIF,EAAIC,EAASnqH,EAAMoqH,CAAG,CAAC,EACnCpqH,CACV,CAED,MAAM6oH,EAAcuB,EAAK0C,EAAW,CAChC,OAAO,KAAK,KAAKlD,EAAQ,SAAS,MAAOf,EAAcuB,EAAK0C,CAAS,CACxE,CAED,IAAIjE,EAAcuB,EAAK0C,EAAW,CAC9B,OAAO,KAAK,KAAKlD,EAAQ,SAAS,IAAKf,EAAcuB,EAAK0C,CAAS,CACtE,CAED,IAAIjE,EAAcuB,EAAK0C,EAAW,CAC9B,OAAO,KAAK,KAAKlD,EAAQ,SAAS,IAAKf,EAAcuB,EAAK0C,CAAS,CACtE,CAED,OAAOpC,EAAKN,EAAKO,EAAa,CAC1B,OAAO,KAAK,UAAU,IAAIF,EAAOC,EAAKN,EAAKO,CAAW,CAAC,CAC1D,CAED,IAAID,EAAKN,EAAK,CACV,OAAO,KAAK,UAAU,IAAIS,EAASH,EAAKxoH,EAAQ,UAAU,IAAKkoH,CAAG,CAAC,CACtE,CAED,KAAKlpH,EAAG,CACJ,OAAI,OAAOA,GAAK,WACZA,IACKA,IAAMsnH,EAAO,KAClB,KAAK,UAAU,IAAIyC,EAAQ/pH,CAAC,CAAC,EAC1B,IACV,CAED,UAAU0U,EAAW,CACjB,MAAM9R,EAAO,CAAC,GAAG,EACjB,SAAW,CAAC/K,EAAKjY,CAAK,IAAK80B,EACnB9R,EAAK,OAAS,GACdA,EAAK,KAAK,GAAG,EACjBA,EAAK,KAAK/K,CAAG,GACTA,IAAQjY,GAAS,KAAK,KAAK,OAC3BgjB,EAAK,KAAK,GAAG,KACT0kH,EAAO,YAAY1kH,EAAMhjB,CAAK,GAG1C,OAAAgjB,EAAK,KAAK,GAAG,EACN,IAAI0kH,EAAO,MAAM1kH,CAAI,CAC/B,CAED,GAAG2nH,EAAWsB,EAAUC,EAAU,CAE9B,GADA,KAAK,WAAW,IAAIxB,EAAGC,CAAS,CAAC,EAC7BsB,GAAYC,EACZ,KAAK,KAAKD,CAAQ,EAAE,KAAM,EAAC,KAAKC,CAAQ,EAAE,gBAErCD,EACL,KAAK,KAAKA,CAAQ,EAAE,MAAK,UAEpBC,EACL,MAAM,IAAI,MAAM,0CAA0C,EAE9D,OAAO,IACV,CAED,OAAOvB,EAAW,CACd,OAAO,KAAK,UAAU,IAAID,EAAGC,CAAS,CAAC,CAC1C,CAED,MAAO,CACH,OAAO,KAAK,UAAU,IAAIF,CAAM,CACnC,CAED,OAAQ,CACJ,OAAO,KAAK,cAAcC,EAAID,CAAI,CACrC,CACD,KAAKrhI,EAAM+iI,EAAS,CAChB,YAAK,WAAW/iI,CAAI,EAChB+iI,GACA,KAAK,KAAKA,CAAO,EAAE,OAAM,EACtB,IACV,CAED,IAAIlB,EAAWkB,EAAS,CACpB,OAAO,KAAK,KAAK,IAAInB,EAAQC,CAAS,EAAGkB,CAAO,CACnD,CAED,SAASpE,EAAcoD,EAAMC,EAAIe,EAAS9C,EAAU,KAAK,KAAK,IAAMP,EAAQ,SAAS,IAAMA,EAAQ,SAAS,IAAK,CAC7G,MAAM5pH,GAAO,KAAK,OAAO,OAAO6oH,CAAY,EAC5C,OAAO,KAAK,KAAK,IAAImD,EAAS7B,EAASnqH,GAAMisH,EAAMC,CAAE,EAAG,IAAMe,EAAQjtH,EAAI,CAAC,CAC9E,CAED,MAAM6oH,EAAcl9D,EAAUshE,EAAS9C,EAAUP,EAAQ,SAAS,MAAO,CACrE,MAAM5pH,EAAO,KAAK,OAAO,OAAO6oH,CAAY,EAC5C,GAAI,KAAK,KAAK,IAAK,CACf,MAAMxoH,GAAMsrD,aAAoB68D,EAAO,KAAO78D,EAAW,KAAK,IAAI,OAAQA,CAAQ,EAClF,OAAO,KAAK,SAAS,KAAM,KAAO68D,EAAO,KAAMnoH,YAAend,IAAM,CAChE,KAAK,IAAI8c,KAAUwoH,EAAO,KAAMnoH,MAAOnd,KAAI,EAC3C+pI,EAAQjtH,CAAI,CAC5B,CAAa,EAEL,OAAO,KAAK,KAAK,IAAImsH,EAAQ,KAAMhC,EAASnqH,EAAM2rD,CAAQ,EAAG,IAAMshE,EAAQjtH,CAAI,CAAC,CACnF,CAGD,MAAM6oH,EAAcvnH,EAAK2rH,EAAS9C,EAAU,KAAK,KAAK,IAAMP,EAAQ,SAAS,IAAMA,EAAQ,SAAS,MAAO,CACvG,GAAI,KAAK,KAAK,cACV,OAAO,KAAK,MAAMf,KAAkBL,EAAO,iBAAkBlnH,KAAQ2rH,CAAO,EAEhF,MAAMjtH,EAAO,KAAK,OAAO,OAAO6oH,CAAY,EAC5C,OAAO,KAAK,KAAK,IAAIsD,EAAQ,KAAMhC,EAASnqH,EAAMsB,CAAG,EAAG,IAAM2rH,EAAQjtH,CAAI,CAAC,CAC9E,CAED,QAAS,CACL,OAAO,KAAK,cAAc6rH,CAAG,CAChC,CAED,MAAMl6F,EAAO,CACT,OAAO,KAAK,UAAU,IAAIitF,EAAMjtF,CAAK,CAAC,CACzC,CAED,MAAMA,EAAO,CACT,OAAO,KAAK,UAAU,IAAIo5F,EAAMp5F,CAAK,CAAC,CACzC,CAED,OAAO7wC,EAAO,CACV,MAAMoJ,EAAO,IAAIqiI,EAGjB,GAFA,KAAK,WAAWriI,CAAI,EACpB,KAAK,KAAKpJ,CAAK,EACXoJ,EAAK,MAAM,SAAW,EACtB,MAAM,IAAI,MAAM,wCAAwC,EAC5D,OAAO,KAAK,cAAcqiI,CAAM,CACnC,CAED,IAAIW,EAASC,EAAWC,EAAa,CACjC,GAAI,CAACD,GAAa,CAACC,EACf,MAAM,IAAI,MAAM,8CAA8C,EAClE,MAAMljI,EAAO,IAAIsiI,EAGjB,GAFA,KAAK,WAAWtiI,CAAI,EACpB,KAAK,KAAKgjI,CAAO,EACbC,EAAW,CACX,MAAMtnB,EAAQ,KAAK,KAAK,GAAG,EAC3B,KAAK,UAAY37G,EAAK,MAAQ,IAAIuiI,EAAM5mB,CAAK,EAC7CsnB,EAAUtnB,CAAK,EAEnB,OAAIunB,IACA,KAAK,UAAYljI,EAAK,QAAU,IAAIwiI,EACpC,KAAK,KAAKU,CAAW,GAElB,KAAK,cAAcX,EAAOC,CAAO,CAC3C,CAED,MAAM7mB,EAAO,CACT,OAAO,KAAK,UAAU,IAAImlB,EAAMnlB,CAAK,CAAC,CACzC,CAED,MAAMwnB,EAAMC,EAAW,CACnB,YAAK,aAAa,KAAK,KAAK,OAAO,MAAM,EACrCD,GACA,KAAK,KAAKA,CAAI,EAAE,SAASC,CAAS,EAC/B,IACV,CAED,SAASA,EAAW,CAChB,MAAMppH,EAAM,KAAK,aAAa,IAAG,EACjC,GAAIA,IAAQ,OACR,MAAM,IAAI,MAAM,sCAAsC,EAC1D,MAAMqpH,EAAU,KAAK,OAAO,OAASrpH,EACrC,GAAIqpH,EAAU,GAAMD,IAAc,QAAaC,IAAYD,EACvD,MAAM,IAAI,MAAM,mCAAmCC,QAAcD,YAAoB,EAEzF,YAAK,OAAO,OAASppH,EACd,IACV,CAED,KAAKlE,EAAM0S,EAAO81G,EAAO,IAAK8D,EAAOkB,EAAU,CAC3C,YAAK,WAAW,IAAInB,EAAKrsH,EAAM0S,EAAM45G,CAAK,CAAC,EACvCkB,GACA,KAAK,KAAKA,CAAQ,EAAE,QAAO,EACxB,IACV,CAED,SAAU,CACN,OAAO,KAAK,cAAcnB,CAAI,CACjC,CACD,SAASh8G,EAAI,EAAG,CACZ,KAAOA,KAAM,GACT,KAAK,MAAM,gBACX,KAAK,MAAM,cAAc,KAAK,MAAM,MAAO,KAAK,UAAU,CAEjE,CACD,UAAUnmB,EAAM,CACZ,YAAK,UAAU,MAAM,KAAKA,CAAI,EACvB,IACV,CACD,WAAWA,EAAM,CACb,KAAK,UAAU,MAAM,KAAKA,CAAI,EAC9B,KAAK,OAAO,KAAKA,CAAI,CACxB,CACD,cAAcujI,EAAIC,EAAI,CAClB,MAAMr9G,EAAI,KAAK,UACf,GAAIA,aAAao9G,GAAOC,GAAMr9G,aAAaq9G,EACvC,YAAK,OAAO,MACL,KAEX,MAAM,IAAI,MAAM,0BAA0BA,EAAK,GAAGD,EAAG,QAAQC,EAAG,OAASD,EAAG,OAAO,CACtF,CACD,UAAUvjI,EAAM,CACZ,MAAMmmB,EAAI,KAAK,UACf,GAAI,EAAEA,aAAam7G,GACf,MAAM,IAAI,MAAM,8BAA8B,EAElD,YAAK,UAAYn7G,EAAE,KAAOnmB,EACnB,IACV,CACD,IAAI,OAAQ,CACR,OAAO,KAAK,OAAO,CAAC,CACvB,CACD,IAAI,WAAY,CACZ,MAAMyhI,EAAK,KAAK,OAChB,OAAOA,EAAGA,EAAG,OAAS,CAAC,CAC1B,CACD,IAAI,UAAUzhI,EAAM,CAChB,MAAMyhI,EAAK,KAAK,OAChBA,EAAGA,EAAG,OAAS,CAAC,EAAIzhI,CACvB,CACJ,CACDgY,EAAA,QAAkByqH,EAClB,SAASvB,EAASn8G,EAAOg9G,EAAM,CAC3B,UAAW57G,KAAK47G,EACZh9G,EAAMoB,CAAC,GAAKpB,EAAMoB,CAAC,GAAK,IAAM47G,EAAK57G,CAAC,GAAK,GAC7C,OAAOpB,CACV,CACD,SAAS27G,EAAa37G,EAAOg9G,EAAM,CAC/B,OAAOA,aAAgBzD,EAAO,YAAc4C,EAASn8G,EAAOg9G,EAAK,KAAK,EAAIh9G,CAC7E,CACD,SAASu7G,EAAa3C,EAAM54G,EAAOs7G,EAAW,CAC1C,GAAI1C,aAAgBW,EAAO,KACvB,OAAOmF,EAAY9F,CAAI,EAC3B,GAAI,CAAC+F,EAAY/F,CAAI,EACjB,OAAOA,EACX,OAAO,IAAIW,EAAO,MAAMX,EAAK,OAAO,OAAO,CAAClrH,EAAOuE,MAC3CA,cAAasnH,EAAO,OACpBtnH,GAAIysH,EAAYzsH,EAAC,GACjBA,cAAasnH,EAAO,MACpB7rH,EAAM,KAAK,GAAGuE,GAAE,MAAM,EAEtBvE,EAAM,KAAKuE,EAAC,EACTvE,GACR,CAAA,CAAE,CAAC,EACN,SAASgxH,EAAYt9G,EAAG,CACpB,MAAMnP,GAAIqpH,EAAUl6G,EAAE,GAAG,EACzB,OAAInP,KAAM,QAAa+N,EAAMoB,EAAE,GAAG,IAAM,EAC7BA,GACX,OAAOpB,EAAMoB,EAAE,GAAG,EACXnP,GACV,CACD,SAAS0sH,EAAYllH,EAAG,CACpB,OAAQA,aAAa8/G,EAAO,OACxB9/G,EAAE,OAAO,KAAMxH,IAAMA,cAAasnH,EAAO,MAAQv5G,EAAM/N,GAAE,GAAG,IAAM,GAAKqpH,EAAUrpH,GAAE,GAAG,IAAM,MAAS,CAC5G,CACJ,CACD,SAASiqH,EAAcl8G,EAAOg9G,EAAM,CAChC,UAAW57G,KAAK47G,EACZh9G,EAAMoB,CAAC,GAAKpB,EAAMoB,CAAC,GAAK,IAAM47G,EAAK57G,CAAC,GAAK,EAChD,CACD,SAASu7G,EAAI/3G,EAAG,CACZ,OAAO,OAAOA,GAAK,WAAa,OAAOA,GAAK,UAAYA,IAAM,KAAO,CAACA,KAAQ20G,EAAO,MAAOqF,EAAIh6G,CAAC,GACpG,CACD3R,EAAA,IAAc0pH,EACd,MAAMkC,EAAUC,EAAQ7rH,EAAQ,UAAU,GAAG,EAE7C,SAAS8rH,KAAOt7G,EAAM,CAClB,OAAOA,EAAK,OAAOo7G,CAAO,CAC7B,CACD5rH,EAAA,IAAc8rH,EACd,MAAMC,EAASF,EAAQ7rH,EAAQ,UAAU,EAAE,EAE3C,SAASgsH,KAAMx7G,EAAM,CACjB,OAAOA,EAAK,OAAOu7G,CAAM,CAC5B,CACD/rH,EAAA,GAAagsH,EACb,SAASH,EAAQjD,EAAI,CACjB,MAAO,CAACj3G,EAAG8J,IAAO9J,IAAM20G,EAAO,IAAM7qG,EAAIA,IAAM6qG,EAAO,IAAM30G,KAAQ20G,EAAO,KAAMqF,EAAIh6G,CAAC,KAAKi3G,KAAM+C,EAAIlwG,CAAC,GACzG,CACD,SAASkwG,EAAIh6G,EAAG,CACZ,OAAOA,aAAa20G,EAAO,KAAO30G,KAAQ20G,EAAO,MAAO30G,IAC3D,+BCtrBD,OAAO,eAAc3R,EAAU,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5DA,EAAA,gBAA0BA,eAAuBA,EAAe,KAAAA,EAAA,QAAkBA,eAAuBA,EAA+B,qBAAAA,EAAA,eAAyBA,WAAmBA,EAA8B,oBAAAA,EAAA,kBAA4BA,iBAAyBA,EAA2B,iBAAAA,EAAA,eAAyBA,uBAA+BA,EAAyB,eAAAA,EAAA,kBAA4BA,oBAA4BA,EAAiB,OAAA,OAC5b,MAAMisH,EAAY9uH,GACZmpH,EAAS/oH,GAEf,SAAS2uH,EAAO/tH,EAAK,CACjB,MAAMguH,EAAO,CAAA,EACb,UAAWt0H,KAAQsG,EACfguH,EAAKt0H,CAAI,EAAI,GACjB,OAAOs0H,CACV,CACDnsH,EAAA,OAAiBksH,EACjB,SAASE,EAAkBC,EAAIljC,EAAQ,CACnC,OAAI,OAAOA,GAAU,UACVA,EACP,OAAO,KAAKA,CAAM,EAAE,SAAW,EACxB,IACXmjC,EAAkBD,EAAIljC,CAAM,EACrB,CAACojC,EAAepjC,EAAQkjC,EAAG,KAAK,MAAM,GAAG,EACnD,CACDrsH,EAAA,kBAA4BosH,EAC5B,SAASE,EAAkBD,EAAIljC,EAASkjC,EAAG,OAAQ,CAC/C,KAAM,CAAE,KAAAzsH,EAAM,KAAAqnB,CAAM,EAAGolG,EAGvB,GAFI,CAACzsH,EAAK,cAEN,OAAOupF,GAAW,UAClB,OACJ,MAAMxhC,EAAQ1gC,EAAK,MAAM,SACzB,UAAWpwB,KAAOsyF,EACTxhC,EAAM9wD,CAAG,GACV21H,EAAgBH,EAAI,qBAAqBx1H,IAAM,CAE1D,CACDmJ,EAAA,kBAA4BssH,EAC5B,SAASC,EAAepjC,EAAQxhC,EAAO,CACnC,GAAI,OAAOwhC,GAAU,UACjB,MAAO,CAACA,EACZ,UAAWtyF,KAAOsyF,EACd,GAAIxhC,EAAM9wD,CAAG,EACT,MAAO,GACf,MAAO,EACV,CACDmJ,EAAA,eAAyBusH,EACzB,SAASE,EAAqBtjC,EAAQujC,EAAO,CACzC,GAAI,OAAOvjC,GAAU,UACjB,MAAO,CAACA,EACZ,UAAWtyF,KAAOsyF,EACd,GAAItyF,IAAQ,QAAU61H,EAAM,IAAI71H,CAAG,EAC/B,MAAO,GACf,MAAO,EACV,CACDmJ,EAAA,qBAA+BysH,EAC/B,SAASE,EAAe,CAAE,aAAAC,EAAc,WAAAC,CAAY,EAAE1jC,EAAQ2jC,EAASC,EAAO,CAC1E,GAAI,CAACA,EAAO,CACR,GAAI,OAAO5jC,GAAU,UAAY,OAAOA,GAAU,UAC9C,OAAOA,EACX,GAAI,OAAOA,GAAU,SACjB,SAAW8iC,EAAU,KAAM9iC,IAEnC,SAAW8iC,EAAU,KAAMW,IAAeC,OAAiBZ,EAAU,aAAaa,CAAO,GAC5F,CACD9sH,EAAA,eAAyB2sH,EACzB,SAASK,EAAiBzuH,EAAK,CAC3B,OAAO0uH,EAAoB,mBAAmB1uH,CAAG,CAAC,CACrD,CACDyB,EAAA,iBAA2BgtH,EAC3B,SAASE,EAAe3uH,EAAK,CACzB,OAAO,mBAAmB4uH,EAAkB5uH,CAAG,CAAC,CACnD,CACDyB,EAAA,eAAyBktH,EACzB,SAASC,EAAkB5uH,EAAK,CAC5B,OAAI,OAAOA,GAAO,SACP,GAAGA,IACPA,EAAI,QAAQ,KAAM,IAAI,EAAE,QAAQ,MAAO,IAAI,CACrD,CACDyB,EAAA,kBAA4BmtH,EAC5B,SAASF,EAAoB1uH,EAAK,CAC9B,OAAOA,EAAI,QAAQ,MAAO,GAAG,EAAE,QAAQ,MAAO,GAAG,CACpD,CACDyB,EAAA,oBAA8BitH,EAC9B,SAASG,EAAS57C,EAAIjjE,EAAG,CACrB,GAAI,MAAM,QAAQijE,CAAE,EAChB,UAAW,KAAKA,EACZjjE,EAAE,CAAC,OAGPA,EAAEijE,CAAE,CAEX,CACDxxE,EAAA,SAAmBotH,EACnB,SAASC,EAAmB,CAAE,WAAAC,EAAY,YAAAC,EAAa,YAAAC,EAAa,aAAAC,CAAY,EAAK,CACjF,MAAO,CAACC,EAAK3D,EAAMC,EAAI2D,IAAW,CAC9B,MAAMz2F,EAAM8yF,IAAO,OACbD,EACAC,aAAciC,EAAU,MACnBlC,aAAgBkC,EAAU,KAAOqB,EAAWI,EAAK3D,EAAMC,CAAE,EAAIuD,EAAYG,EAAK3D,EAAMC,CAAE,EAAGA,GAC1FD,aAAgBkC,EAAU,MACrBsB,EAAYG,EAAK1D,EAAID,CAAI,EAAGA,GAC7ByD,EAAYzD,EAAMC,CAAE,EAClC,OAAO2D,IAAW1B,EAAU,MAAQ,EAAE/0F,aAAe+0F,EAAU,MAAQwB,EAAaC,EAAKx2F,CAAG,EAAIA,CACxG,CACC,CACDl3B,EAAyB,eAAA,CACrB,MAAOqtH,EAAmB,CACtB,WAAY,CAACK,EAAK3D,EAAMC,IAAO0D,EAAI,MAAOzB,EAAU,KAAMjC,iBAAkBD,kBAAsB,IAAM,CACpG2D,EAAI,MAAOzB,EAAU,KAAMlC,aAAiB,IAAM2D,EAAI,OAAO1D,EAAI,EAAI,EAAG,IAAM0D,EAAI,OAAO1D,KAAQiC,EAAU,KAAMjC,SAAU,EAAE,QAASiC,EAAU,mBAAoBjC,MAAOD,IAAO,CAAC,CAC/L,CAAS,EACD,YAAa,CAAC2D,EAAK3D,EAAMC,IAAO0D,EAAI,MAAOzB,EAAU,KAAMjC,aAAe,IAAM,CACxED,IAAS,GACT2D,EAAI,OAAO1D,EAAI,EAAI,GAGnB0D,EAAI,OAAO1D,KAAQiC,EAAU,KAAMjC,SAAU,EAC7C4D,EAAaF,EAAK1D,EAAID,CAAI,EAE1C,CAAS,EACD,YAAa,CAACA,EAAMC,IAAQD,IAAS,GAAO,GAAO,CAAE,GAAGA,EAAM,GAAGC,GACjE,aAAc6D,CACtB,CAAK,EACD,MAAOR,EAAmB,CACtB,WAAY,CAACK,EAAK3D,EAAMC,IAAO0D,EAAI,MAAOzB,EAAU,KAAMjC,iBAAkBD,kBAAsB,IAAM2D,EAAI,OAAO1D,KAAQiC,EAAU,KAAMlC,uBAA0BC,OAAQD,OAAUC,OAAQD,GAAM,CAAC,EACtM,YAAa,CAAC2D,EAAK3D,EAAMC,IAAO0D,EAAI,MAAOzB,EAAU,KAAMjC,aAAe,IAAM0D,EAAI,OAAO1D,EAAID,IAAS,GAAO,MAAWkC,EAAU,KAAMjC,OAAQD,OAAUC,OAAQD,GAAM,CAAC,EAC3K,YAAa,CAACA,EAAMC,IAAQD,IAAS,GAAO,GAAO,KAAK,IAAIA,EAAMC,CAAE,EACpE,aAAc,CAAC0D,EAAKjzH,IAAUizH,EAAI,IAAI,QAASjzH,CAAK,CAC5D,CAAK,CACL,EACA,SAASozH,EAAqBH,EAAKI,EAAI,CACnC,GAAIA,IAAO,GACP,OAAOJ,EAAI,IAAI,QAAS,EAAI,EAChC,MAAMnsI,EAAQmsI,EAAI,IAAI,WAAazB,EAAU,MAAO,EACpD,OAAI6B,IAAO,QACPF,EAAaF,EAAKnsI,EAAOusI,CAAE,EACxBvsI,CACV,CACDye,EAAA,qBAA+B6tH,EAC/B,SAASD,EAAaF,EAAKnsI,EAAOusI,EAAI,CAClC,OAAO,KAAKA,CAAE,EAAE,QAAS1/G,GAAMs/G,EAAI,UAAWzB,EAAU,KAAM1qI,OAAY0qI,EAAU,aAAa79G,CAAC,IAAK,EAAI,CAAC,CAC/G,CACDpO,EAAA,aAAuB4tH,EACvB,MAAMG,EAAW,CAAA,EACjB,SAASC,EAAQN,EAAKn/G,EAAG,CACrB,OAAOm/G,EAAI,WAAW,OAAQ,CAC1B,IAAKn/G,EACL,KAAMw/G,EAASx/G,EAAE,IAAI,IAAMw/G,EAASx/G,EAAE,IAAI,EAAI,IAAI+3G,EAAO,MAAM/3G,EAAE,IAAI,EAC7E,CAAK,CACJ,CACDvO,EAAA,QAAkBguH,EAClB,IAAIC,GACH,SAAUA,EAAM,CACbA,EAAKA,EAAK,IAAS,CAAC,EAAI,MACxBA,EAAKA,EAAK,IAAS,CAAC,EAAI,QACzBA,EAAOjuH,EAAQ,OAASA,EAAe,KAAA,CAAE,EAAC,EAC7C,SAASkuH,EAAaC,EAAUC,EAAcC,EAAkB,CAE5D,GAAIF,aAAoBlC,EAAU,KAAM,CACpC,MAAMzhC,EAAW4jC,IAAiBH,EAAK,IACvC,OAAOI,EACD7jC,KACQyhC,EAAU,WAAYkC,aACtBlC,EAAU,YAAakC,WAC/B3jC,KACQyhC,EAAU,WAAYkC,OACtBlC,EAAU,WAAYkC,8CAExC,OAAOE,KAAuBpC,EAAU,aAAakC,CAAQ,EAAE,SAAQ,EAAK,IAAMhB,EAAkBgB,CAAQ,CAC/G,CACDnuH,EAAA,aAAuBkuH,EACvB,SAAS1B,EAAgBH,EAAIiC,EAAKC,EAAOlC,EAAG,KAAK,aAAc,CAC3D,GAAKkC,EAGL,IADAD,EAAM,gBAAgBA,IAClBC,IAAS,GACT,MAAM,IAAI,MAAMD,CAAG,EACvBjC,EAAG,KAAK,OAAO,KAAKiC,CAAG,EAC1B,CACDtuH,EAAA,gBAA0BwsH,kBC/K1B,OAAO,eAAegC,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5D,MAAMvC,GAAY9uH,GACZ4P,GAAQ,CAEV,KAAM,IAAIk/G,GAAU,KAAK,MAAM,EAE/B,OAAQ,IAAIA,GAAU,KAAK,QAAQ,EACnC,aAAc,IAAIA,GAAU,KAAK,cAAc,EAC/C,WAAY,IAAIA,GAAU,KAAK,YAAY,EAC3C,mBAAoB,IAAIA,GAAU,KAAK,oBAAoB,EAC3D,SAAU,IAAIA,GAAU,KAAK,UAAU,EACvC,eAAgB,IAAIA,GAAU,KAAK,gBAAgB,EAEnD,QAAS,IAAIA,GAAU,KAAK,SAAS,EACrC,OAAQ,IAAIA,GAAU,KAAK,QAAQ,EACnC,KAAM,IAAIA,GAAU,KAAK,MAAM,EAE/B,KAAM,IAAIA,GAAU,KAAK,MAAM,EAC/B,MAAO,IAAIA,GAAU,KAAK,OAAO,EAEjC,KAAM,IAAIA,GAAU,KAAK,MAAM,EAC/B,QAAS,IAAIA,GAAU,KAAK,SAAS,EACrC,QAAS,IAAIA,GAAU,KAAK,SAAS,EACrC,SAAU,IAAIA,GAAU,KAAK,UAAU,CAC3C,EACeuC,GAAA,QAAGzhH,gBCzBlB,OAAO,eAAc/M,EAAU,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5DA,EAAA,aAAuBA,mBAA2BA,EAA2B,iBAAAA,EAAA,YAAsBA,oBAA4BA,EAAuB,aAAA,OACtJ,MAAMisH,EAAY9uH,GACZsxH,EAASlxH,GACTixH,EAAU/wH,GAChBuC,EAAuB,aAAA,CACnB,QAAS,CAAC,CAAE,QAAA8sH,CAAO,OAAWb,EAAU,kBAAmBa,uBAC/D,EACA9sH,EAA4B,kBAAA,CACxB,QAAS,CAAC,CAAE,QAAA8sH,EAAS,WAAA1sB,CAAY,IAAKA,KAC5B6rB,EAAU,QAASa,sBAA4B1sB,eAC/C6rB,EAAU,QAASa,+BACjC,EACA,SAAS4B,EAAYC,EAAKhrB,EAAQ3jG,EAAQ,aAAc4uH,EAAYC,EAAmB,CACnF,KAAM,CAAE,GAAAxC,CAAI,EAAGsC,EACT,CAAE,IAAAjB,EAAK,cAAAoB,EAAe,UAAAC,CAAS,EAAK1C,EACpC2C,EAASC,EAAgBN,EAAKhrB,EAAOirB,CAAU,EACjDC,IAAkFC,GAAiBC,GACnGG,EAASxB,EAAKsB,CAAM,EAGpBG,EAAa9C,KAAQJ,EAAU,MAAO+C,IAAS,CAEtD,CACDhvH,EAAA,YAAsB0uH,EACtB,SAASU,EAAiBT,EAAKhrB,EAAQ3jG,EAAQ,aAAc4uH,EAAY,CACrE,KAAM,CAAE,GAAAvC,CAAI,EAAGsC,EACT,CAAE,IAAAjB,EAAK,cAAAoB,EAAe,UAAAC,CAAS,EAAK1C,EACpC2C,EAASC,EAAgBN,EAAKhrB,EAAOirB,CAAU,EACrDM,EAASxB,EAAKsB,CAAM,EACdF,GAAiBC,GACnBI,EAAa9C,EAAImC,EAAQ,QAAQ,OAAO,CAE/C,CACDxuH,EAAA,iBAA2BovH,EAC3B,SAASC,EAAiB3B,EAAK4B,EAAW,CACtC5B,EAAI,OAAOc,EAAQ,QAAQ,OAAQc,CAAS,EAC5C5B,EAAI,MAAOzB,EAAU,KAAMuC,EAAQ,QAAQ,mBAAoB,IAAMd,EAAI,GAAG4B,EAAW,IAAM5B,EAAI,UAAWzB,EAAU,KAAMuC,EAAQ,QAAQ,iBAAkBc,CAAS,EAAG,IAAM5B,EAAI,OAAOc,EAAQ,QAAQ,QAAS,IAAI,CAAC,CAAC,CAC7N,CACDxuH,EAAA,iBAA2BqvH,EAC3B,SAASE,EAAa,CAAE,IAAA7B,EAAK,QAAAZ,EAAS,YAAA0C,EAAa,KAAAljH,EAAM,UAAAgjH,EAAW,GAAAjD,GAAO,CAEvE,GAAIiD,IAAc,OACd,MAAM,IAAI,MAAM,0BAA0B,EAC9C,MAAM3xC,EAAM+vC,EAAI,KAAK,KAAK,EAC1BA,EAAI,SAAS,IAAK4B,EAAWd,EAAQ,QAAQ,OAASxtI,GAAM,CACxD0sI,EAAI,MAAM/vC,KAASsuC,EAAU,KAAMuC,EAAQ,QAAQ,WAAWxtI,IAAI,EAClE0sI,EAAI,MAAOzB,EAAU,KAAMtuC,+BAAkC,IAAM+vC,EAAI,UAAWzB,EAAU,KAAMtuC,oBAAwBsuC,EAAU,WAAWuC,EAAQ,QAAQ,aAAcnC,EAAG,SAAS,CAAC,CAAC,EAC3LqB,EAAI,UAAWzB,EAAU,KAAMtuC,kBAAsBsuC,EAAU,OAAQI,EAAG,iBAAiBS,GAAS,EAChGT,EAAG,KAAK,UACRqB,EAAI,UAAWzB,EAAU,KAAMtuC,WAAc6xC,CAAW,EACxD9B,EAAI,UAAWzB,EAAU,KAAMtuC,SAAYrxE,CAAI,EAE3D,CAAK,CACJ,CACDtM,EAAA,aAAuBuvH,EACvB,SAASL,EAASxB,EAAKsB,EAAQ,CAC3B,MAAMrxC,EAAM+vC,EAAI,MAAM,MAAOsB,CAAM,EACnCtB,EAAI,MAAOzB,EAAU,KAAMuC,EAAQ,QAAQ,mBAAoB,IAAMd,EAAI,OAAOc,EAAQ,QAAQ,WAAavC,EAAU,MAAOtuC,IAAM,KAAOsuC,EAAU,KAAMuC,EAAQ,QAAQ,gBAAgB7wC,IAAM,EACjM+vC,EAAI,QAASzB,EAAU,KAAMuC,EAAQ,QAAQ,UAAU,CAC1D,CACD,SAASW,EAAa9C,EAAIoD,EAAM,CAC5B,KAAM,CAAE,IAAA/B,EAAK,aAAAgC,EAAc,UAAAC,CAAS,EAAKtD,EACrCsD,EAAU,OACVjC,EAAI,SAAUzB,EAAU,SAAUI,EAAG,mBAAmBoD,IAAO,GAG/D/B,EAAI,UAAWzB,EAAU,KAAMyD,WAAuBD,CAAI,EAC1D/B,EAAI,OAAO,EAAK,EAEvB,CACD,MAAMkC,EAAI,CACN,QAAS,IAAI3D,EAAU,KAAK,SAAS,EACrC,WAAY,IAAIA,EAAU,KAAK,YAAY,EAC3C,OAAQ,IAAIA,EAAU,KAAK,QAAQ,EACnC,aAAc,IAAIA,EAAU,KAAK,cAAc,EAC/C,QAAS,IAAIA,EAAU,KAAK,SAAS,EACrC,OAAQ,IAAIA,EAAU,KAAK,QAAQ,EACnC,aAAc,IAAIA,EAAU,KAAK,cAAc,CACnD,EACA,SAASgD,EAAgBN,EAAKhrB,EAAOirB,EAAY,CAC7C,KAAM,CAAE,aAAAiB,CAAY,EAAKlB,EAAI,GAC7B,OAAIkB,IAAiB,MACN5D,EAAU,OAClB6D,EAAYnB,EAAKhrB,EAAOirB,CAAU,CAC5C,CACD,SAASkB,EAAYnB,EAAKhrB,EAAOirB,EAAa,CAAA,EAAI,CAC9C,KAAM,CAAE,IAAAlB,EAAK,GAAArB,CAAI,EAAGsC,EACdj7G,EAAY,CACdq8G,EAAkB1D,EAAIuC,CAAU,EAChCoB,EAAgBrB,EAAKC,CAAU,CACvC,EACI,OAAAqB,EAAgBtB,EAAKhrB,EAAOjwF,CAAS,EAC9Bg6G,EAAI,OAAO,GAAGh6G,CAAS,CACjC,CACD,SAASq8G,EAAkB,CAAE,UAAAG,GAAa,CAAE,aAAAC,CAAY,EAAI,CACxD,MAAMC,EAAWD,KACPlE,EAAU,OAAQiE,OAAgBzB,EAAO,cAAc0B,EAAc1B,EAAO,KAAK,GAAG,IACxFyB,EACN,MAAO,CAAC1B,EAAQ,QAAQ,gBAAkBvC,EAAU,WAAWuC,EAAQ,QAAQ,aAAc4B,CAAQ,CAAC,CACzG,CACD,SAASJ,EAAgB,CAAE,QAAAlD,EAAS,GAAI,CAAE,cAAAuD,CAAa,GAAM,CAAE,WAAAxD,EAAY,aAAAyD,GAAgB,CACvF,IAAIC,EAAUD,EAAeD,KAAoBpE,EAAU,OAAQoE,KAAiBvD,IACpF,OAAID,IACA0D,KAActE,EAAU,OAAQsE,OAAc9B,EAAO,cAAc5B,EAAY4B,EAAO,KAAK,GAAG,KAE3F,CAACmB,EAAE,WAAYW,CAAO,CAChC,CACD,SAASN,EAAgBtB,EAAK,CAAE,OAAAr+H,EAAQ,QAAA6hC,CAAO,EAAIze,EAAW,CAC1D,KAAM,CAAE,QAAAo5G,EAAS,KAAAxgH,EAAM,YAAAkjH,EAAa,GAAAnD,CAAE,EAAKsC,EACrC,CAAE,KAAA/uH,EAAM,aAAA4wH,EAAc,aAAA5D,EAAc,WAAAC,CAAU,EAAKR,EACzD34G,EAAU,KAAK,CAACk8G,EAAE,QAAS9C,CAAO,EAAG,CAAC8C,EAAE,OAAQ,OAAOt/H,GAAU,WAAaA,EAAOq+H,CAAG,EAAIr+H,MAAc27H,EAAU,MAAO,CAAC,EACxHrsH,EAAK,UACL8T,EAAU,KAAK,CAACk8G,EAAE,QAAS,OAAOz9F,GAAW,WAAaA,EAAQw8F,CAAG,EAAIx8F,CAAO,CAAC,EAEjFvyB,EAAK,SACL8T,EAAU,KAAK,CAACk8G,EAAE,OAAQJ,CAAW,EAAG,CAACI,EAAE,gBAAkB3D,EAAU,KAAMW,IAAeC,GAAY,EAAG,CAAC2B,EAAQ,QAAQ,KAAMliH,CAAI,CAAC,EAEvIkkH,GACA98G,EAAU,KAAK,CAACk8G,EAAE,aAAcY,CAAY,CAAC,CACpD,QCxHD,OAAO,eAAeC,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5DA,GAAA,kBAA4BA,GAAA,qBAA+B,OAC3D,MAAMC,GAAWvzH,GACX8uH,GAAY1uH,GACZixH,GAAU/wH,GACVkzH,GAAY,CACd,QAAS,yBACb,EACA,SAASC,GAAqBvE,EAAI,CAC9B,KAAM,CAAE,IAAAqB,EAAK,OAAAvkC,EAAQ,aAAAumC,CAAY,EAAKrD,EAClCljC,IAAW,GACX0nC,GAAiBxE,EAAI,EAAK,EAErB,OAAOljC,GAAU,UAAYA,EAAO,SAAW,GACpDukC,EAAI,OAAOc,GAAQ,QAAQ,IAAI,GAG/Bd,EAAI,UAAWzB,GAAU,KAAMyD,WAAuB,IAAI,EAC1DhC,EAAI,OAAO,EAAI,EAEvB,CAC4B+C,GAAA,qBAAGG,GAC/B,SAASE,GAAkBzE,EAAIx5B,EAAO,CAClC,KAAM,CAAE,IAAA66B,EAAK,OAAAvkC,CAAQ,EAAGkjC,EACpBljC,IAAW,IACXukC,EAAI,IAAI76B,EAAO,EAAK,EACpBg+B,GAAiBxE,CAAE,GAGnBqB,EAAI,IAAI76B,EAAO,EAAI,CAE3B,CACyB49B,GAAA,kBAAGK,GAC5B,SAASD,GAAiBxE,EAAIwC,EAAmB,CAC7C,KAAM,CAAE,IAAAnB,EAAK,KAAAphH,CAAM,EAAG+/G,EAEhBsC,EAAM,CACR,IAAAjB,EACA,QAAS,eACT,KAAAphH,EACA,OAAQ,GACR,WAAY,GACZ,YAAa,GACb,OAAQ,CAAE,EACV,GAAA+/G,CACR,KACQqE,GAAS,aAAa/B,EAAKgC,GAAW,OAAW9B,CAAiB,CAC1E,iBC/CA,OAAO,eAAelnE,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5DA,GAAA,SAAmBA,GAAA,WAAqB,OACxC,MAAMopE,GAAa,CAAC,SAAU,SAAU,UAAW,UAAW,OAAQ,SAAU,OAAO,EACjFC,GAAY,IAAI,IAAID,EAAU,EACpC,SAASE,GAAWt/G,EAAG,CACnB,OAAO,OAAOA,GAAK,UAAYq/G,GAAU,IAAIr/G,CAAC,CAClD,CACkBg2C,GAAA,WAAGspE,GACrB,SAASC,IAAW,CAChB,MAAM5/G,EAAS,CACX,OAAQ,CAAE,KAAM,SAAU,MAAO,CAAA,CAAI,EACrC,OAAQ,CAAE,KAAM,SAAU,MAAO,CAAA,CAAI,EACrC,MAAO,CAAE,KAAM,QAAS,MAAO,CAAA,CAAI,EACnC,OAAQ,CAAE,KAAM,SAAU,MAAO,CAAA,CAAI,CAC7C,EACI,MAAO,CACH,MAAO,CAAE,GAAGA,EAAQ,QAAS,GAAM,QAAS,GAAM,KAAM,EAAM,EAC9D,MAAO,CAAC,CAAE,MAAO,CAAE,CAAA,EAAIA,EAAO,OAAQA,EAAO,OAAQA,EAAO,MAAOA,EAAO,MAAM,EAChF,KAAM,CAAE,MAAO,EAAI,EACnB,IAAK,CAAE,EACP,SAAU,CAAE,CACpB,CACA,CACgBq2C,GAAA,SAAGupE,aCvBnB,OAAO,eAAeC,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5DA,GAAA,cAA8CA,GAAA,wCAAmC,OACjF,SAASC,GAAsB,CAAE,OAAAjoC,EAAQ,KAAAliE,CAAI,EAAIzsB,EAAM,CACnD,MAAMzQ,EAAQk9B,EAAK,MAAM,MAAMzsB,CAAI,EACnC,OAAOzQ,GAASA,IAAU,IAAQsnI,GAAeloC,EAAQp/F,CAAK,CAClE,CAC6BonI,GAAA,sBAAGC,GAChC,SAASC,GAAeloC,EAAQp/F,EAAO,CACnC,OAAOA,EAAM,MAAM,KAAMu9D,GAASgqE,GAAcnoC,EAAQ7hC,CAAI,CAAC,CACjE,CACsB6pE,GAAA,eAAGE,GACzB,SAASC,GAAcnoC,EAAQ7hC,EAAM,CACjC,IAAIv2B,EACJ,OAAQo4D,EAAO7hC,EAAK,OAAO,IAAM,UAC3Bv2B,EAAKu2B,EAAK,WAAW,cAAgB,MAAQv2B,IAAO,OAAS,OAASA,EAAG,KAAMwgG,GAAQpoC,EAAOooC,CAAG,IAAM,MAAS,EAC1H,CACqBJ,GAAA,cAAGG,gBChBxB,OAAO,eAActxH,EAAU,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5DA,EAA0B,gBAAAA,EAAA,eAAyBA,gBAAwBA,EAAiC,uBAAAA,EAAA,aAAuBA,iBAAyBA,EAAmB,SAAA,OAC/K,MAAMwxH,EAAUr0H,GACVs0H,EAAkBl0H,GAClBmzH,EAAWjzH,GACXwuH,EAAY1nH,GACZkqH,EAASljE,GACf,IAAImmE,GACH,SAAUA,EAAU,CACjBA,EAASA,EAAS,QAAa,CAAC,EAAI,UACpCA,EAASA,EAAS,MAAW,CAAC,EAAI,UACnCA,EAAW1xH,EAAQ,WAAaA,EAAmB,SAAA,CAAE,EAAC,EACzD,SAAS2xH,EAAexoC,EAAQ,CAC5B,MAAMn5E,EAAQ4hH,EAAazoC,EAAO,IAAI,EAEtC,GADgBn5E,EAAM,SAAS,MAAM,GAEjC,GAAIm5E,EAAO,WAAa,GACpB,MAAM,IAAI,MAAM,wCAAwC,MAE3D,CACD,GAAI,CAACn5E,EAAM,QAAUm5E,EAAO,WAAa,OACrC,MAAM,IAAI,MAAM,0CAA0C,EAE1DA,EAAO,WAAa,IACpBn5E,EAAM,KAAK,MAAM,EAEzB,OAAOA,CACV,CACDhQ,EAAA,eAAyB2xH,EACzB,SAASC,EAAaC,EAAI,CACtB,MAAM7hH,EAAQ,MAAM,QAAQ6hH,CAAE,EAAIA,EAAKA,EAAK,CAACA,CAAE,EAAI,GACnD,GAAI7hH,EAAM,MAAMwhH,EAAQ,UAAU,EAC9B,OAAOxhH,EACX,MAAM,IAAI,MAAM,wCAA0CA,EAAM,KAAK,GAAG,CAAC,CAC5E,CACDhQ,EAAA,aAAuB4xH,EACvB,SAASE,EAAuBzF,EAAIr8G,EAAO,CACvC,KAAM,CAAE,IAAA09G,EAAK,KAAAphH,EAAM,KAAA1M,CAAI,EAAKysH,EACtB0F,EAAWC,EAAchiH,EAAOpQ,EAAK,WAAW,EAChDqyH,EAAajiH,EAAM,OAAS,GAC9B,EAAE+hH,EAAS,SAAW,GAAK/hH,EAAM,SAAW,MAASyhH,EAAgB,uBAAuBpF,EAAIr8G,EAAM,CAAC,CAAC,GAC5G,GAAIiiH,EAAY,CACZ,MAAMC,EAAYC,EAAeniH,EAAO1D,EAAM1M,EAAK,cAAe8xH,EAAS,KAAK,EAChFhE,EAAI,GAAGwE,EAAW,IAAM,CAChBH,EAAS,OACTK,EAAW/F,EAAIr8G,EAAO+hH,CAAQ,EAE9BM,EAAgBhG,CAAE,CAClC,CAAS,EAEL,OAAO4F,CACV,CACDjyH,EAAA,uBAAiC8xH,EACjC,MAAMQ,EAAY,IAAI,IAAI,CAAC,SAAU,SAAU,UAAW,UAAW,MAAM,CAAC,EAC5E,SAASN,EAAchiH,EAAOuiH,EAAa,CACvC,OAAOA,EACDviH,EAAM,OAAQvc,GAAM6+H,EAAU,IAAI7+H,CAAC,GAAM8+H,IAAgB,SAAW9+H,IAAM,OAAQ,EAClF,EACT,CACD,SAAS2+H,EAAW/F,EAAIr8G,EAAO+hH,EAAU,CACrC,KAAM,CAAE,IAAArE,EAAK,KAAAphH,EAAM,KAAA1M,CAAI,EAAKysH,EACtBmG,EAAW9E,EAAI,IAAI,cAAgBzB,EAAU,YAAa3/G,GAAM,EAChEmmH,EAAU/E,EAAI,IAAI,aAAezB,EAAU,aAAc,EAC3DrsH,EAAK,cAAgB,SACrB8tH,EAAI,MAAOzB,EAAU,KAAMuG,kCAAyClmH,SAAYA,gBAAoB,IAAMohH,EACrG,OAAOphH,KAAU2/G,EAAU,KAAM3/G,MAAS,EAC1C,OAAOkmH,KAAcvG,EAAU,YAAa3/G,GAAM,EAClD,GAAG6lH,EAAeniH,EAAO1D,EAAM1M,EAAK,aAAa,EAAG,IAAM8tH,EAAI,OAAO+E,EAASnmH,CAAI,CAAC,CAAC,EAE7FohH,EAAI,MAAOzB,EAAU,KAAMwG,iBAAuB,EAClD,UAAWh/H,KAAKs+H,GACRO,EAAU,IAAI7+H,CAAC,GAAMA,IAAM,SAAWmM,EAAK,cAAgB,UAC3D8yH,EAAmBj/H,CAAC,EAG5Bi6H,EAAI,KAAI,EACR2E,EAAgBhG,CAAE,EAClBqB,EAAI,MAAK,EACTA,EAAI,MAAOzB,EAAU,KAAMwG,kBAAyB,IAAM,CACtD/E,EAAI,OAAOphH,EAAMmmH,CAAO,EACxBE,EAAiBtG,EAAIoG,CAAO,CACpC,CAAK,EACD,SAASC,EAAmBj/H,EAAG,CAC3B,OAAQA,EAAC,CACL,IAAK,SACDi6H,EACK,UAAWzB,EAAU,KAAMuG,oBAA2BA,gBAAuB,EAC7E,OAAOC,KAAaxG,EAAU,UAAW3/G,GAAM,EAC/C,UAAW2/G,EAAU,KAAM3/G,YAAe,EAC1C,OAAOmmH,KAAaxG,EAAU,MAAO,EAC1C,OACJ,IAAK,SACDyB,EACK,UAAWzB,EAAU,KAAMuG,qBAA4BlmH;AAAA,oBACxDkmH,oBAA2BlmH,QAAWA,SAAYA,IAAO,EACxD,OAAOmmH,KAAaxG,EAAU,MAAO3/G,GAAM,EAChD,OACJ,IAAK,UACDohH,EACK,UAAWzB,EAAU,KAAMuG,sBAA6BlmH;AAAA,oBACzDkmH,qBAA4BlmH,QAAWA,SAAYA,UAAaA,SAAY,EAC3E,OAAOmmH,KAAaxG,EAAU,MAAO3/G,GAAM,EAChD,OACJ,IAAK,UACDohH,EACK,UAAWzB,EAAU,KAAM3/G,oBAAuBA,cAAiBA,YAAe,EAClF,OAAOmmH,EAAS,EAAK,EACrB,UAAWxG,EAAU,KAAM3/G,mBAAsBA,SAAY,EAC7D,OAAOmmH,EAAS,EAAI,EACzB,OACJ,IAAK,OACD/E,EAAI,UAAWzB,EAAU,KAAM3/G,eAAkBA,cAAiBA,aAAgB,EAClFohH,EAAI,OAAO+E,EAAS,IAAI,EACxB,OACJ,IAAK,QACD/E,EACK,UAAWzB,EAAU,KAAMuG,qBAA4BA;AAAA,mBACzDA,sBAA6BlmH,YAAe,EAC1C,OAAOmmH,KAAaxG,EAAU,MAAO3/G,IAAO,CACxD,CACJ,CACJ,CACD,SAASqmH,EAAiB,CAAE,IAAAjF,EAAK,WAAAkF,EAAY,mBAAAC,CAAkB,EAAIlN,EAAM,CAErE+H,EAAI,MAAOzB,EAAU,KAAM2G,kBAA4B,IAAMlF,EAAI,UAAWzB,EAAU,KAAM2G,KAAcC,KAAuBlN,CAAI,CAAC,CACzI,CACD,SAASmN,EAAcN,EAAUlmH,EAAMymH,EAAYC,EAAUtB,EAAS,QAAS,CAC3E,MAAMuB,EAAKD,IAAYtB,EAAS,QAAUzF,EAAU,UAAU,GAAKA,EAAU,UAAU,IACvF,IAAIzC,EACJ,OAAQgJ,EAAQ,CACZ,IAAK,OACD,SAAWvG,EAAU,KAAM3/G,KAAQ2mH,SACvC,IAAK,QACDzJ,KAAWyC,EAAU,mBAAoB3/G,KACzC,MACJ,IAAK,SACDk9G,KAAWyC,EAAU,KAAM3/G,eAAkBA,mCAAsCA,KACnF,MACJ,IAAK,UACDk9G,EAAO0J,KAAYjH,EAAU,OAAQ3/G,oBAAuBA,IAAO,EACnE,MACJ,IAAK,SACDk9G,EAAO0J,EAAO,EACd,MACJ,QACI,SAAWjH,EAAU,YAAa3/G,KAAQ2mH,KAAMT,GACvD,CACD,OAAOQ,IAAYtB,EAAS,QAAUlI,KAAWyC,EAAU,KAAKzC,CAAI,EACpE,SAAS0J,EAAQC,EAAQlH,EAAU,IAAK,CACpC,SAAWA,EAAU,QAASA,EAAU,YAAa3/G,gBAAoB6mH,EAAOJ,KAAiB9G,EAAU,cAAe3/G,KAAU2/G,EAAU,GAAG,CACpJ,CACJ,CACDjsH,EAAA,cAAwB8yH,EACxB,SAASX,EAAeiB,EAAW9mH,EAAMymH,EAAYC,EAAS,CAC1D,GAAII,EAAU,SAAW,EACrB,OAAON,EAAcM,EAAU,CAAC,EAAG9mH,EAAMymH,EAAYC,CAAO,EAEhE,IAAIxJ,EACJ,MAAMx5G,KAAYy+G,EAAO,QAAQ2E,CAAS,EAC1C,GAAIpjH,EAAM,OAASA,EAAM,OAAQ,CAC7B,MAAMqjH,KAAapH,EAAU,YAAa3/G,gBAC1Ck9G,EAAOx5G,EAAM,KAAOqjH,KAAapH,EAAU,MAAO3/G,QAAW+mH,IAC7D,OAAOrjH,EAAM,KACb,OAAOA,EAAM,MACb,OAAOA,EAAM,YAGbw5G,EAAOyC,EAAU,IAEjBj8G,EAAM,QACN,OAAOA,EAAM,QACjB,UAAWvc,KAAKuc,EACZw5G,KAAWyC,EAAU,KAAKzC,EAAMsJ,EAAcr/H,EAAG6Y,EAAMymH,EAAYC,CAAO,CAAC,EAC/E,OAAOxJ,CACV,CACDxpH,EAAA,eAAyBmyH,EACzB,MAAMmB,EAAY,CACd,QAAS,CAAC,CAAE,OAAAnqC,CAAM,IAAO,WAAWA,IACpC,OAAQ,CAAC,CAAE,OAAAA,EAAQ,YAAAqmC,CAAW,IAAO,OAAOrmC,GAAU,YAAe8iC,EAAU,YAAa9iC,QAAgB8iC,EAAU,YAAauD,IACvI,EACA,SAAS6C,EAAgBhG,EAAI,CACzB,MAAMsC,EAAM4E,EAAoBlH,CAAE,KAC9BqE,EAAS,aAAa/B,EAAK2E,CAAS,CAC3C,CACDtzH,EAAA,gBAA0BqyH,EAC1B,SAASkB,EAAoBlH,EAAI,CAC7B,KAAM,CAAE,IAAAqB,EAAK,KAAAphH,EAAM,OAAA68E,CAAM,EAAKkjC,EACxBmH,KAAiB/E,EAAO,gBAAgBpC,EAAIljC,EAAQ,MAAM,EAChE,MAAO,CACH,IAAAukC,EACA,QAAS,OACT,KAAAphH,EACA,OAAQ68E,EAAO,KACf,WAAAqqC,EACA,YAAaA,EACb,aAAcrqC,EACd,OAAQ,CAAE,EACV,GAAAkjC,CACR,CACC,kBCvMD,OAAO,eAAenzD,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EACtCA,GAAA,eAAG,OACzB,MAAM+yD,GAAY9uH,GACZsxH,GAASlxH,GACf,SAASk2H,GAAepH,EAAIvzF,EAAI,CAC5B,KAAM,CAAE,WAAA80D,EAAY,MAAAnzF,GAAU4xH,EAAG,OACjC,GAAIvzF,IAAO,UAAY80D,EACnB,UAAW/2F,KAAO+2F,EACd8lC,GAAcrH,EAAIx1H,EAAK+2F,EAAW/2F,CAAG,EAAE,OAAO,OAG7CiiC,IAAO,SAAW,MAAM,QAAQr+B,CAAK,GAC1CA,EAAM,QAAQ,CAACk5H,EAAK,IAAMD,GAAcrH,EAAI,EAAGsH,EAAI,OAAO,CAAC,CAEnE,CACsBz6D,GAAA,eAAGu6D,GACzB,SAASC,GAAcrH,EAAIziD,EAAM3nF,EAAc,CAC3C,KAAM,CAAE,IAAAyrI,EAAK,cAAAoB,EAAe,KAAAxiH,EAAM,KAAA1M,CAAI,EAAKysH,EAC3C,GAAIpqI,IAAiB,OACjB,OACJ,MAAM2xI,KAAgB3H,GAAU,KAAM3/G,OAAW2/G,GAAU,aAAariD,CAAI,IAC5E,GAAIklD,EAAe,IACXL,GAAO,iBAAiBpC,EAAI,2BAA2BuH,GAAW,EACtE,OAEJ,IAAIrK,KAAgB0C,GAAU,KAAM2H,kBAChCh0H,EAAK,cAAgB,UACrB2pH,KAAgB0C,GAAU,KAAM1C,QAAgBqK,iBAAyBA,YAI7ElG,EAAI,GAAGnE,KAAe0C,GAAU,KAAM2H,UAAmB3H,GAAU,WAAWhqI,CAAY,GAAG,CACjG,iBChCA,OAAO,eAAe2f,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EACvCA,GAAA,cAAwBA,GAAA,cAAqBA,GAAA,WAA2BA,GAAA,iBAA2BA,GAAA,iBAA8BA,GAAA,oBAA2BA,GAAA,iBAAyBA,GAAA,eAAwBA,GAAA,cAAsBA,GAAA,YAA4BA,GAAA,kBAA2BA,GAAA,iBAAiCA,GAAA,uBAAG,OACnV,MAAMqqH,GAAY9uH,GACZsxH,GAASlxH,GACTixH,GAAU/wH,GACVo2H,GAASt2H,GACf,SAASu2H,GAAuBnF,EAAK/kD,EAAM,CACvC,KAAM,CAAE,IAAA8jD,EAAK,KAAAphH,EAAM,GAAA+/G,CAAE,EAAKsC,EAC1BjB,EAAI,GAAGqG,GAAiBrG,EAAKphH,EAAMs9D,EAAMyiD,EAAG,KAAK,aAAa,EAAG,IAAM,CACnEsC,EAAI,UAAU,CAAE,mBAAqB1C,GAAU,KAAMriD,GAAQ,EAAE,EAAI,EACnE+kD,EAAI,MAAK,CACjB,CAAK,CACL,CAC8B/sH,GAAA,uBAAGkyH,GACjC,SAASE,GAAiB,CAAE,IAAAtG,EAAK,KAAAphH,EAAM,GAAI,CAAE,KAAA1M,CAAM,CAAA,EAAIguF,EAAYqmC,EAAS,CACxE,SAAWhI,GAAU,IAAI,GAAGr+B,EAAW,IAAKhkB,MAAaqiD,GAAU,KAAK8H,GAAiBrG,EAAKphH,EAAMs9D,EAAMhqE,EAAK,aAAa,KAAOqsH,GAAU,KAAMgI,OAAarqD,GAAM,CAAC,CAAC,CAC5K,CACwBhoE,GAAA,iBAAGoyH,GAC3B,SAASE,GAAkBvF,EAAKsF,EAAS,CACrCtF,EAAI,UAAU,CAAE,gBAAiBsF,CAAS,EAAE,EAAI,EAChDtF,EAAI,MAAK,CACb,CACyB/sH,GAAA,kBAAGsyH,GAC5B,SAASC,GAAYzG,EAAK,CACtB,OAAOA,EAAI,WAAW,OAAQ,CAE1B,IAAK,OAAO,UAAU,eACtB,QAAUzB,GAAU,mCAC5B,CAAK,CACL,CACmBrqH,GAAA,YAAGuyH,GACtB,SAASC,GAAc1G,EAAKphH,EAAM02F,EAAU,CACxC,SAAWipB,GAAU,KAAMkI,GAAYzG,CAAG,UAAUphH,MAAS02F,IACjE,CACqBphG,GAAA,cAAGwyH,GACxB,SAASC,GAAe3G,EAAKphH,EAAM02F,EAAUsxB,EAAe,CACxD,MAAM9K,KAAWyC,GAAU,KAAM3/G,OAAW2/G,GAAU,aAAajpB,CAAQ,kBAC3E,OAAOsxB,KAAoBrI,GAAU,KAAMzC,QAAW4K,GAAc1G,EAAKphH,EAAM02F,CAAQ,IAAMwmB,CACjG,CACsB5nH,GAAA,eAAGyyH,GACzB,SAASN,GAAiBrG,EAAKphH,EAAM02F,EAAUsxB,EAAe,CAC1D,MAAM9K,KAAWyC,GAAU,KAAM3/G,OAAW2/G,GAAU,aAAajpB,CAAQ,kBAC3E,OAAOsxB,KAAoBrI,GAAU,IAAIzC,KAAUyC,GAAU,KAAKmI,GAAc1G,EAAKphH,EAAM02F,CAAQ,CAAC,CAAC,EAAIwmB,CAC7G,CACwB5nH,GAAA,iBAAGmyH,GAC3B,SAASQ,GAAoBC,EAAW,CACpC,OAAOA,EAAY,OAAO,KAAKA,CAAS,EAAE,OAAQpmH,GAAMA,IAAM,WAAW,EAAI,CAAA,CACjF,CAC2BxM,GAAA,oBAAG2yH,GAC9B,SAAShd,GAAiB8U,EAAImI,EAAW,CACrC,OAAOD,GAAoBC,CAAS,EAAE,OAAQpmH,GAAM,IAAKqgH,GAAO,mBAAmBpC,EAAImI,EAAUpmH,CAAC,CAAC,CAAC,CACxG,CACwBxM,GAAA,iBAAG21G,GAC3B,SAASkd,GAAiB,CAAE,WAAAjB,EAAY,KAAAlnH,EAAM,GAAI,CAAE,IAAAohH,EAAK,aAAAd,EAAc,WAAAC,EAAY,UAAAqD,CAAW,EAAE,GAAA7D,CAAE,EAAIliE,EAAM3+C,EAASkpH,EAAY,CAC7H,MAAMC,EAAgBD,KAAiBzI,GAAU,KAAMuH,MAAelnH,MAASsgH,IAAeC,IAAevgH,EACvGsoH,EAAS,CACX,CAACpG,GAAQ,QAAQ,gBAAkBvC,GAAU,WAAWuC,GAAQ,QAAQ,aAAc0B,CAAS,CAAC,EAChG,CAAC1B,GAAQ,QAAQ,WAAYnC,EAAG,UAAU,EAC1C,CAACmC,GAAQ,QAAQ,mBAAoBnC,EAAG,kBAAkB,EAC1D,CAACmC,GAAQ,QAAQ,SAAUA,GAAQ,QAAQ,QAAQ,CAC3D,EACQnC,EAAG,KAAK,YACRuI,EAAO,KAAK,CAACpG,GAAQ,QAAQ,eAAgBA,GAAQ,QAAQ,cAAc,CAAC,EAChF,MAAMh+G,KAAWy7G,GAAU,KAAM0I,MAAkBjH,EAAI,OAAO,GAAGkH,CAAM,IACvE,OAAOppH,IAAYygH,GAAU,OAAUA,GAAU,KAAM9hE,UAAa3+C,MAAYgF,QAAcy7G,GAAU,KAAM9hE,KAAQ35C,IAC1H,CACwB5O,GAAA,iBAAG6yH,GAC3B,MAAMI,MAAgB5I,GAAU,eAChC,SAAS6I,GAAW,CAAE,IAAApH,EAAK,GAAI,CAAE,KAAA9tH,CAAI,CAAI,EAAEm1H,EAAS,CAChD,MAAMrmH,EAAI9O,EAAK,cAAgB,IAAM,GAC/B,CAAE,OAAAo1H,CAAM,EAAKp1H,EAAK,KAClBymH,EAAK2O,EAAOD,EAASrmH,CAAC,EAC5B,OAAOg/G,EAAI,WAAW,UAAW,CAC7B,IAAKrH,EAAG,SAAU,EAClB,IAAKA,EACL,QAAU4F,GAAU,KAAM+I,EAAO,OAAS,aAAeH,MAAgBhB,GAAO,SAASnG,EAAKsH,CAAM,KAAKD,MAAYrmH,IAC7H,CAAK,CACL,CACkB9M,GAAA,WAAGkzH,GACrB,SAASG,GAActG,EAAK,CACxB,KAAM,CAAE,IAAAjB,EAAK,KAAAphH,EAAM,QAAAwgH,EAAS,GAAAT,CAAE,EAAKsC,EAC7B97B,EAAQ66B,EAAI,KAAK,OAAO,EAC9B,GAAIrB,EAAG,UAAW,CACd,MAAM6I,EAAWxH,EAAI,IAAI,QAAS,EAAI,EACtC,OAAAyH,EAAc,IAAMzH,EAAI,OAAOwH,EAAU,EAAK,CAAC,EACxCA,EAEX,OAAAxH,EAAI,IAAI76B,EAAO,EAAI,EACnBsiC,EAAc,IAAMzH,EAAI,MAAK,CAAE,EACxB76B,EACP,SAASsiC,EAAcC,EAAU,CAC7B,MAAMpzH,EAAM0rH,EAAI,MAAM,SAAWzB,GAAU,KAAM3/G,UAAa,EAC9DohH,EAAI,SAAS,IAAK,EAAG1rH,EAAMhhB,GAAM,CAC7B2tI,EAAI,UAAU,CACV,QAAA7B,EACA,SAAU9rI,EACV,aAAcytI,GAAO,KAAK,GAC7B,EAAE57B,CAAK,EACR66B,EAAI,MAAOzB,GAAU,KAAKp5B,CAAK,EAAGuiC,CAAQ,CACtD,CAAS,CACJ,CACL,CACqBxzH,GAAA,cAAGqzH,GACxB,SAASI,GAAc1G,EAAK,CACxB,KAAM,CAAE,IAAAjB,EAAK,OAAAvkC,EAAQ,QAAA2jC,EAAS,GAAAT,CAAE,EAAKsC,EAErC,GAAI,CAAC,MAAM,QAAQxlC,CAAM,EACrB,MAAM,IAAI,MAAM,0BAA0B,EAE9C,GADoBA,EAAO,KAAMwqC,MAAYlF,GAAO,mBAAmBpC,EAAIsH,CAAG,CAAC,GAC5D,CAACtH,EAAG,KAAK,YACxB,OACJ,MAAMx5B,EAAQ66B,EAAI,IAAI,QAAS,EAAK,EAC9B4H,EAAW5H,EAAI,KAAK,QAAQ,EAClCA,EAAI,MAAM,IAAMvkC,EAAO,QAAQ,CAACosC,EAAMv0I,IAAM,CACxC,MAAMw0I,EAAS7G,EAAI,UAAU,CACzB,QAAA7B,EACA,WAAY9rI,EACZ,cAAe,EAClB,EAAEs0I,CAAQ,EACX5H,EAAI,OAAO76B,KAAWo5B,GAAU,KAAMp5B,QAAYyiC,GAAU,EAC7C3G,EAAI,oBAAoB6G,EAAQF,CAAQ,GAInD5H,EAAI,MAAOzB,GAAU,KAAKp5B,CAAK,CAAC,CACvC,CAAA,CAAC,EACF87B,EAAI,OAAO97B,EAAO,IAAM87B,EAAI,QAAS,IAAMA,EAAI,MAAM,EAAI,CAAC,CAC9D,CACqB/sH,GAAA,cAAGyzH,GChIxB,OAAO,eAAevI,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAChCA,GAAA,wCAA6BA,GAAA,gBAAkDA,GAAA,iBAAG,OAC9G,MAAMb,GAAY9uH,GACZqxH,GAAUjxH,GACV+oH,GAAS7oH,GACTizH,GAAWnsH,GACjB,SAASkxH,GAAiB9G,EAAKlH,EAAK,CAChC,KAAM,CAAE,IAAAiG,EAAK,QAAAZ,EAAS,OAAA3jC,EAAQ,aAAAmnC,EAAc,GAAAjE,CAAI,EAAGsC,EAC7C+G,EAAcjO,EAAI,MAAM,KAAK4E,EAAG,KAAMljC,EAAQmnC,EAAcjE,CAAE,EAC9DsJ,EAAYC,GAAWlI,EAAKZ,EAAS4I,CAAW,EAClDrJ,EAAG,KAAK,iBAAmB,IAC3BA,EAAG,KAAK,eAAeqJ,EAAa,EAAI,EAC5C,MAAM7iC,EAAQ66B,EAAI,KAAK,OAAO,EAC9BiB,EAAI,UAAU,CACV,OAAQ+G,EACR,WAAYzJ,GAAU,IACtB,cAAe,GAAGI,EAAG,iBAAiBS,IACtC,aAAc6I,EACd,cAAe,EAClB,EAAE9iC,CAAK,EACR87B,EAAI,KAAK97B,EAAO,IAAM87B,EAAI,MAAM,EAAI,CAAC,CACzC,CACwB7B,GAAA,iBAAG2I,GAC3B,SAASI,GAAgBlH,EAAKlH,EAAK,CAC/B,IAAI12F,EACJ,KAAM,CAAE,IAAA28F,EAAK,QAAAZ,EAAS,OAAA3jC,EAAQ,aAAAmnC,EAAc,MAAAvD,EAAO,GAAAV,CAAI,EAAGsC,EAC1DmH,GAAkBzJ,EAAI5E,CAAG,EACzB,MAAMsO,EAAW,CAAChJ,GAAStF,EAAI,QAAUA,EAAI,QAAQ,KAAK4E,EAAG,KAAMljC,EAAQmnC,EAAcjE,CAAE,EAAI5E,EAAI,SAC7FuO,EAAcJ,GAAWlI,EAAKZ,EAASiJ,CAAQ,EAC/CljC,EAAQ66B,EAAI,IAAI,OAAO,EAC7BiB,EAAI,WAAW97B,EAAOojC,CAAe,EACrCtH,EAAI,IAAI59F,EAAK02F,EAAI,SAAW,MAAQ12F,IAAO,OAASA,EAAK8hE,CAAK,EAC9D,SAASojC,GAAkB,CACvB,GAAIxO,EAAI,SAAW,GACfyO,IACIzO,EAAI,WACJ0O,GAAWxH,CAAG,EAClByH,EAAW,IAAMzH,EAAI,MAAK,CAAE,MAE3B,CACD,MAAM0H,EAAW5O,EAAI,MAAQ6O,EAAe,EAAGC,EAAY,EACvD9O,EAAI,WACJ0O,GAAWxH,CAAG,EAClByH,EAAW,IAAMI,GAAQ7H,EAAK0H,CAAQ,CAAC,EAE9C,CACD,SAASC,GAAgB,CACrB,MAAMD,EAAW3I,EAAI,IAAI,WAAY,IAAI,EACzC,OAAAA,EAAI,IAAI,IAAMwI,KAAgBjK,GAAU,UAAW,EAAIzlH,GAAMknH,EAAI,OAAO76B,EAAO,EAAK,EAAE,MAAOo5B,GAAU,KAAMzlH,gBAAgB6lH,EAAG,kBAAmB,IAAMqB,EAAI,OAAO2I,KAAcpK,GAAU,KAAMzlH,UAAU,EAAG,IAAMknH,EAAI,MAAMlnH,CAAC,CAAC,CAAC,EAC3N6vH,CACV,CACD,SAASE,GAAe,CACpB,MAAME,KAAmBxK,GAAU,KAAM+J,WACzC,OAAAtI,EAAI,OAAO+I,EAAc,IAAI,EAC7BP,EAAYjK,GAAU,GAAG,EAClBwK,CACV,CACD,SAASP,EAAYQ,EAASjP,EAAI,SAAYwE,GAAU,WAAcA,GAAU,IAAK,CACjF,MAAM0K,EAAUtK,EAAG,KAAK,YAAcmC,GAAQ,QAAQ,KAAOA,GAAQ,QAAQ,KACvEkG,EAAa,EAAG,YAAajN,GAAO,CAACsF,GAAUtF,EAAI,SAAW,IACpEiG,EAAI,OAAO76B,KAAWo5B,GAAU,KAAMyK,OAAapQ,GAAO,kBAAkBqI,EAAKqH,EAAaW,EAASjC,CAAU,IAAKjN,EAAI,SAAS,CACtI,CACD,SAAS2O,EAAW11B,EAAQ,CACxB,IAAI3vE,EACJ28F,EAAI,MAAOzB,GAAU,MAAMl7F,EAAK02F,EAAI,SAAW,MAAQ12F,IAAO,OAASA,EAAK8hE,CAAK,EAAG6N,CAAM,CAC7F,CACL,CACuBosB,GAAA,gBAAG+I,GAC1B,SAASM,GAAWxH,EAAK,CACrB,KAAM,CAAE,IAAAjB,EAAK,KAAAphH,EAAM,GAAA+/G,CAAE,EAAKsC,EAC1BjB,EAAI,GAAGrB,EAAG,WAAY,IAAMqB,EAAI,OAAOphH,KAAU2/G,GAAU,KAAMI,EAAG,cAAcA,EAAG,qBAAqB,CAAC,CAC/G,CACA,SAASmK,GAAQ7H,EAAKc,EAAM,CACxB,KAAM,CAAE,IAAA/B,CAAK,EAAGiB,EAChBjB,EAAI,MAAOzB,GAAU,mBAAoBwD,KAAS,IAAM,CACpD/B,EACK,OAAOc,GAAQ,QAAQ,WAAavC,GAAU,KAAMuC,GAAQ,QAAQ,sBAAsBiB,OAAUjB,GAAQ,QAAQ,kBAAkBiB,IAAO,EAC7I,OAAOjB,GAAQ,QAAQ,UAAYvC,GAAU,KAAMuC,GAAQ,QAAQ,gBAAgB,KACpFkC,GAAS,cAAc/B,CAAG,CACtC,EAAO,IAAMA,EAAI,MAAK,CAAE,CACxB,CACA,SAASmH,GAAkB,CAAE,UAAAnG,CAAW,EAAElI,EAAK,CAC3C,GAAIA,EAAI,OAAS,CAACkI,EAAU,OACxB,MAAM,IAAI,MAAM,8BAA8B,CACtD,CACA,SAASiG,GAAWlI,EAAKZ,EAASrwF,EAAQ,CACtC,GAAIA,IAAW,OACX,MAAM,IAAI,MAAM,YAAYqwF,sBAA4B,EAC5D,OAAOY,EAAI,WAAW,UAAW,OAAOjxF,GAAU,WAAa,CAAE,IAAKA,CAAM,EAAK,CAAE,IAAKA,EAAQ,QAAUwvF,GAAU,WAAWxvF,CAAM,CAAC,CAAE,CAC5I,CACA,SAASm6F,GAAgBztC,EAAQiX,EAAYy2B,EAAiB,GAAO,CAEjE,MAAQ,CAACz2B,EAAW,QAChBA,EAAW,KAAM02B,GAAOA,IAAO,QACzB,MAAM,QAAQ3tC,CAAM,EACpB2tC,IAAO,SACH3tC,GAAU,OAAOA,GAAU,UAAY,CAAC,MAAM,QAAQA,CAAM,EAC5D,OAAOA,GAAU2tC,GAAOD,GAAkB,OAAO1tC,EAAU,GAAY,CACzF,CACuB2jC,GAAA,gBAAG8J,GAC1B,SAASG,GAAqB,CAAE,OAAA5tC,EAAQ,KAAAvpF,EAAM,KAAAqnB,EAAM,cAAAopG,CAAe,EAAE5I,EAAKqF,EAAS,CAE/E,GAAI,MAAM,QAAQrF,EAAI,OAAO,EAAI,CAACA,EAAI,QAAQ,SAASqF,CAAO,EAAIrF,EAAI,UAAYqF,EAC9E,MAAM,IAAI,MAAM,0BAA0B,EAE9C,MAAMkK,EAAOvP,EAAI,aACjB,GAAIuP,GAAS,MAAmCA,EAAK,KAAMzF,GAAQ,CAAC,OAAO,UAAU,eAAe,KAAKpoC,EAAQooC,CAAG,CAAC,EACjH,MAAM,IAAI,MAAM,2CAA2CzE,MAAYkK,EAAK,KAAK,GAAG,GAAG,EAE3F,GAAIvP,EAAI,gBAEA,CADUA,EAAI,eAAet+B,EAAO2jC,CAAO,CAAC,EACpC,CACR,MAAMwB,EAAM,YAAYxB,gCAAsCuD,OAC1DppG,EAAK,WAAWwgG,EAAI,eAAe,MAAM,EAC7C,GAAI7nH,EAAK,iBAAmB,MACxBqnB,EAAK,OAAO,MAAMqnG,CAAG,MAErB,OAAM,IAAI,MAAMA,CAAG,EAGnC,CAC4BxB,GAAA,qBAAGiK,aCzH/B,OAAO,eAAe/7B,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5DA,GAAA,oBAAyDA,GAAA,oCAA0B,OACnF,MAAMixB,GAAY9uH,GACZsxH,GAASlxH,GACf,SAAS05H,GAAa5K,EAAI,CAAE,QAAAS,EAAS,WAAAoK,EAAY,OAAA/tC,EAAQ,WAAA0jC,EAAY,cAAAwD,EAAe,aAAAzD,GAAgB,CAChG,GAAIE,IAAY,QAAa3jC,IAAW,OACpC,MAAM,IAAI,MAAM,sDAAsD,EAE1E,GAAI2jC,IAAY,OAAW,CACvB,MAAM6G,EAAMtH,EAAG,OAAOS,CAAO,EAC7B,OAAOoK,IAAe,OAChB,CACE,OAAQvD,EACR,cAAgB1H,GAAU,KAAMI,EAAG,gBAAiBJ,GAAU,aAAaa,CAAO,IAClF,cAAe,GAAGT,EAAG,iBAAiBS,GACzC,EACC,CACE,OAAQ6G,EAAIuD,CAAU,EACtB,cAAgBjL,GAAU,KAAMI,EAAG,gBAAiBJ,GAAU,aAAaa,CAAO,OAAQb,GAAU,aAAaiL,CAAU,IAC3H,cAAe,GAAG7K,EAAG,iBAAiBS,QAAe2B,GAAO,gBAAgByI,CAAU,GACtG,EAEI,GAAI/tC,IAAW,OAAW,CACtB,GAAI0jC,IAAe,QAAawD,IAAkB,QAAazD,IAAiB,OAC5E,MAAM,IAAI,MAAM,6EAA6E,EAEjG,MAAO,CACH,OAAAzjC,EACA,WAAA0jC,EACA,aAAAD,EACA,cAAAyD,CACZ,EAEI,MAAM,IAAI,MAAM,6CAA6C,CACjE,CACoBr1B,GAAA,aAAGi8B,GACvB,SAASE,GAAoBn8B,EAAWqxB,EAAI,CAAE,SAAA8B,EAAU,aAAciJ,EAAQ,KAAA9qH,EAAM,UAAA8mH,EAAW,aAAA5C,GAAgB,CAC3G,GAAIlkH,IAAS,QAAa6hH,IAAa,OACnC,MAAM,IAAI,MAAM,qDAAqD,EAEzE,KAAM,CAAE,IAAAT,CAAK,EAAGrB,EAChB,GAAI8B,IAAa,OAAW,CACxB,KAAM,CAAE,UAAA+B,EAAW,YAAAmH,EAAa,KAAAz3H,CAAI,EAAKysH,EACnCiL,EAAW5J,EAAI,IAAI,UAAYzB,GAAU,KAAMI,EAAG,UAAWJ,GAAU,aAAakC,CAAQ,IAAK,EAAI,EAC3GoJ,EAAiBD,CAAQ,EACzBt8B,EAAU,aAAgBixB,GAAU,OAAQiE,OAAgBzB,GAAO,cAAcN,EAAUiJ,EAAQx3H,EAAK,gBAAgB,IACxHo7F,EAAU,sBAAyBixB,GAAU,KAAMkC,IACnDnzB,EAAU,YAAc,CAAC,GAAGq8B,EAAar8B,EAAU,kBAAkB,EAEzE,GAAI1uF,IAAS,OAAW,CACpB,MAAMgrH,EAAWhrH,aAAgB2/G,GAAU,KAAO3/G,EAAOohH,EAAI,IAAI,OAAQphH,EAAM,EAAI,EACnFirH,EAAiBD,CAAQ,EACrB9G,IAAiB,SACjBx1B,EAAU,aAAew1B,GAG7B4C,IACAp4B,EAAU,UAAYo4B,GAC1B,SAASmE,EAAiBC,EAAW,CACjCx8B,EAAU,KAAOw8B,EACjBx8B,EAAU,UAAYqxB,EAAG,UAAY,EACrCrxB,EAAU,UAAY,GACtBqxB,EAAG,kBAAoB,IAAI,IAC3BrxB,EAAU,WAAaqxB,EAAG,KAC1BrxB,EAAU,UAAY,CAAC,GAAGqxB,EAAG,UAAWmL,CAAS,CACpD,CACL,CAC2Bx8B,GAAA,oBAAGm8B,GAC9B,SAASM,GAAoBz8B,EAAW,CAAE,iBAAA08B,EAAkB,YAAAC,EAAa,cAAA7I,EAAe,aAAAe,EAAc,UAAAd,GAAa,CAC3GD,IAAkB,SAClB9zB,EAAU,cAAgB8zB,GAC1Be,IAAiB,SACjB70B,EAAU,aAAe60B,GACzBd,IAAc,SACd/zB,EAAU,UAAY+zB,GAC1B/zB,EAAU,iBAAmB08B,EAC7B18B,EAAU,YAAc28B,CAC5B,CAC2B38B,GAAA,oBAAGy8B,aCzE9BG,GAAiB,SAASC,EAAM7pH,EAAGjX,EAAG,CACpC,GAAIiX,IAAMjX,EAAG,MAAO,GAEpB,GAAIiX,GAAKjX,GAAK,OAAOiX,GAAK,UAAY,OAAOjX,GAAK,SAAU,CAC1D,GAAIiX,EAAE,cAAgBjX,EAAE,YAAa,MAAO,GAE5C,IAAIkD,EAAQjZ,EAAG2uD,EACf,GAAI,MAAM,QAAQ3hC,CAAC,EAAG,CAEpB,GADA/T,EAAS+T,EAAE,OACP/T,GAAUlD,EAAE,OAAQ,MAAO,GAC/B,IAAK/V,EAAIiZ,EAAQjZ,MAAQ,GACvB,GAAI,CAAC62I,EAAM7pH,EAAEhtB,CAAC,EAAG+V,EAAE/V,CAAC,CAAC,EAAG,MAAO,GACjC,MAAO,GAKT,GAAIgtB,EAAE,cAAgB,OAAQ,OAAOA,EAAE,SAAWjX,EAAE,QAAUiX,EAAE,QAAUjX,EAAE,MAC5E,GAAIiX,EAAE,UAAY,OAAO,UAAU,QAAS,OAAOA,EAAE,QAAO,IAAOjX,EAAE,QAAO,EAC5E,GAAIiX,EAAE,WAAa,OAAO,UAAU,SAAU,OAAOA,EAAE,SAAQ,IAAOjX,EAAE,SAAQ,EAIhF,GAFA44C,EAAO,OAAO,KAAK3hC,CAAC,EACpB/T,EAAS01C,EAAK,OACV11C,IAAW,OAAO,KAAKlD,CAAC,EAAE,OAAQ,MAAO,GAE7C,IAAK/V,EAAIiZ,EAAQjZ,MAAQ,GACvB,GAAI,CAAC,OAAO,UAAU,eAAe,KAAK+V,EAAG44C,EAAK3uD,CAAC,CAAC,EAAG,MAAO,GAEhE,IAAKA,EAAIiZ,EAAQjZ,MAAQ,GAAI,CAC3B,IAAI6V,EAAM84C,EAAK3uD,CAAC,EAEhB,GAAI,CAAC62I,EAAM7pH,EAAEnX,CAAG,EAAGE,EAAEF,CAAG,CAAC,EAAG,MAAO,GAGrC,MAAO,GAIT,OAAOmX,IAAIA,GAAKjX,IAAIA,CACtB,kBC3CI+gI,GAAWC,GAAA,QAAiB,SAAU5uC,EAAQvpF,EAAMo4H,EAAI,CAEtD,OAAOp4H,GAAQ,aACjBo4H,EAAKp4H,EACLA,EAAO,CAAA,GAGTo4H,EAAKp4H,EAAK,IAAMo4H,EAChB,IAAIC,EAAO,OAAOD,GAAM,WAAcA,EAAKA,EAAG,KAAO,UAAW,GAC5DE,EAAOF,EAAG,MAAQ,UAAW,CAAA,EAEjCG,GAAUv4H,EAAMq4H,EAAKC,EAAM/uC,EAAQ,GAAIA,CAAM,CAC/C,EAGA2uC,GAAS,SAAW,CAClB,gBAAiB,GACjB,MAAO,GACP,SAAU,GACV,qBAAsB,GACtB,cAAe,GACf,IAAK,GACL,GAAI,GACJ,KAAM,GACN,KAAM,EACR,EAEAA,GAAS,cAAgB,CACvB,MAAO,GACP,MAAO,GACP,MAAO,GACP,MAAO,EACT,EAEAA,GAAS,cAAgB,CACvB,MAAO,GACP,YAAa,GACb,WAAY,GACZ,kBAAmB,GACnB,aAAc,EAChB,EAEAA,GAAS,aAAe,CACtB,QAAS,GACT,KAAM,GACN,MAAO,GACP,SAAU,GACV,QAAS,GACT,QAAS,GACT,iBAAkB,GAClB,iBAAkB,GAClB,WAAY,GACZ,UAAW,GACX,UAAW,GACX,QAAS,GACT,OAAQ,GACR,SAAU,GACV,SAAU,GACV,YAAa,GACb,cAAe,GACf,cAAe,EACjB,EAGA,SAASK,GAAUv4H,EAAMq4H,EAAKC,EAAM/uC,EAAQivC,EAASrmC,EAAYsmC,EAAeC,EAAehI,EAAciI,EAAU,CACrH,GAAIpvC,GAAU,OAAOA,GAAU,UAAY,CAAC,MAAM,QAAQA,CAAM,EAAG,CACjE8uC,EAAI9uC,EAAQivC,EAASrmC,EAAYsmC,EAAeC,EAAehI,EAAciI,CAAQ,EACrF,QAAS1hI,KAAOsyF,EAAQ,CACtB,IAAIwqC,EAAMxqC,EAAOtyF,CAAG,EACpB,GAAI,MAAM,QAAQ88H,CAAG,GACnB,GAAI98H,KAAOihI,GAAS,cAClB,QAAS92I,EAAE,EAAGA,EAAE2yI,EAAI,OAAQ3yI,IAC1Bm3I,GAAUv4H,EAAMq4H,EAAKC,EAAMvE,EAAI3yI,CAAC,EAAGo3I,EAAU,IAAMvhI,EAAM,IAAM7V,EAAG+wG,EAAYqmC,EAASvhI,EAAKsyF,EAAQnoG,CAAC,UAEhG6V,KAAOihI,GAAS,eACzB,GAAInE,GAAO,OAAOA,GAAO,SACvB,QAAS/pD,KAAQ+pD,EACfwE,GAAUv4H,EAAMq4H,EAAKC,EAAMvE,EAAI/pD,CAAI,EAAGwuD,EAAU,IAAMvhI,EAAM,IAAM2hI,GAAc5uD,CAAI,EAAGmoB,EAAYqmC,EAASvhI,EAAKsyF,EAAQvf,CAAI,OAExH/yE,KAAOihI,GAAS,UAAal4H,EAAK,SAAW,EAAE/I,KAAOihI,GAAS,gBACxEK,GAAUv4H,EAAMq4H,EAAKC,EAAMvE,EAAKyE,EAAU,IAAMvhI,EAAKk7F,EAAYqmC,EAASvhI,EAAKsyF,CAAM,EAGzF+uC,EAAK/uC,EAAQivC,EAASrmC,EAAYsmC,EAAeC,EAAehI,EAAciI,CAAQ,EAE1F,CAGA,SAASC,GAAcj6H,EAAK,CAC1B,OAAOA,EAAI,QAAQ,KAAM,IAAI,EAAE,QAAQ,MAAO,IAAI,CACpD,mBC3FA,OAAO,eAAe2sB,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5DA,GAAA,cAAwBA,GAAA,WAAqBA,GAAA,YAAsBA,GAAA,aAAuBA,GAAA,YAAsBA,GAAA,UAAoB,OACpI,MAAMujG,GAAStxH,GACT06H,GAAQt6H,GACRu6H,GAAWr6H,GAEXg7H,GAAiB,IAAI,IAAI,CAC3B,OACA,SACA,UACA,YACA,YACA,gBACA,gBACA,WACA,WACA,UACA,UACA,cACA,aACA,WACA,OACA,OACJ,CAAC,EACD,SAASC,GAAUvvC,EAAQjpG,EAAQ,GAAM,CACrC,OAAI,OAAOipG,GAAU,UACV,GACPjpG,IAAU,GACH,CAACy4I,GAAOxvC,CAAM,EACpBjpG,EAEE04I,GAAUzvC,CAAM,GAAKjpG,EADjB,EAEf,CACiBgrC,GAAA,UAAGwtG,GACpB,MAAMG,GAAe,IAAI,IAAI,CACzB,OACA,gBACA,mBACA,cACA,gBACJ,CAAC,EACD,SAASF,GAAOxvC,EAAQ,CACpB,UAAWtyF,KAAOsyF,EAAQ,CACtB,GAAI0vC,GAAa,IAAIhiI,CAAG,EACpB,MAAO,GACX,MAAM88H,EAAMxqC,EAAOtyF,CAAG,EAGtB,GAFI,MAAM,QAAQ88H,CAAG,GAAKA,EAAI,KAAKgF,EAAM,GAErC,OAAOhF,GAAO,UAAYgF,GAAOhF,CAAG,EACpC,MAAO,GAEf,MAAO,EACX,CACA,SAASiF,GAAUzvC,EAAQ,CACvB,IAAIhwF,EAAQ,EACZ,UAAWtC,KAAOsyF,EAAQ,CACtB,GAAItyF,IAAQ,OACR,MAAO,KAEX,GADAsC,IACI,CAAAs/H,GAAe,IAAI5hI,CAAG,IAEtB,OAAOsyF,EAAOtyF,CAAG,GAAK,aAClB43H,GAAO,UAAUtlC,EAAOtyF,CAAG,EAAI88H,GAASx6H,GAASy/H,GAAUjF,CAAG,CAAE,EAEpEx6H,IAAU,KACV,MAAO,KAEf,OAAOA,CACX,CACA,SAAS2/H,GAAYvmC,EAAUzuG,EAAK,GAAIghF,EAAW,CAC3CA,IAAc,KACdhhF,EAAKi1I,GAAYj1I,CAAE,GACvB,MAAMsqB,EAAImkF,EAAS,MAAMzuG,CAAE,EAC3B,OAAOk1I,GAAazmC,EAAUnkF,CAAC,CACnC,CACmB8c,GAAA,YAAG4tG,GACtB,SAASE,GAAazmC,EAAUnkF,EAAG,CAE/B,OADmBmkF,EAAS,UAAUnkF,CAAC,EACrB,MAAM,GAAG,EAAE,CAAC,EAAI,GACtC,CACoB8c,GAAA,aAAG8tG,GACvB,MAAMC,GAAsB,QAC5B,SAASF,GAAYj1I,EAAI,CACrB,OAAOA,EAAKA,EAAG,QAAQm1I,GAAqB,EAAE,EAAI,EACtD,CACmB/tG,GAAA,YAAG6tG,GACtB,SAASG,GAAW3mC,EAAU4mC,EAAQr1I,EAAI,CACtC,OAAAA,EAAKi1I,GAAYj1I,CAAE,EACZyuG,EAAS,QAAQ4mC,EAAQr1I,CAAE,CACtC,CACkBonC,GAAA,WAAGguG,GACrB,MAAME,GAAS,wBACf,SAASC,GAAclwC,EAAQgwC,EAAQ,CACnC,GAAI,OAAOhwC,GAAU,UACjB,MAAO,GACX,KAAM,CAAE,SAAAmwC,EAAU,YAAAC,GAAgB,KAAK,KACjCC,EAAQT,GAAY5vC,EAAOmwC,CAAQ,GAAKH,CAAM,EAC9CM,EAAU,CAAE,GAAID,GAChBE,EAAaZ,GAAYS,EAAaC,EAAO,EAAK,EAClDG,EAAY,CAAA,EACZC,EAAa,IAAI,IACvB,OAAA9B,GAAS3uC,EAAQ,CAAE,QAAS,EAAI,EAAI,CAACwqC,EAAKyE,EAAS5kI,EAAG6kI,IAAkB,CACpE,GAAIA,IAAkB,OAClB,OACJ,MAAMwB,EAAWH,EAAatB,EAC9B,IAAIe,EAASM,EAAQpB,CAAa,EAC9B,OAAO1E,EAAI2F,CAAQ,GAAK,WACxBH,EAASW,EAAO,KAAK,KAAMnG,EAAI2F,CAAQ,CAAC,GAC5CS,EAAU,KAAK,KAAMpG,EAAI,OAAO,EAChCoG,EAAU,KAAK,KAAMpG,EAAI,cAAc,EACvC8F,EAAQrB,CAAO,EAAIe,EACnB,SAASW,EAAOj7I,EAAK,CAEjB,MAAMm7I,EAAW,KAAK,KAAK,YAAY,QAEvC,GADAn7I,EAAMk6I,GAAYI,EAASa,EAASb,EAAQt6I,CAAG,EAAIA,CAAG,EAClD+6I,EAAW,IAAI/6I,CAAG,EAClB,MAAMo7I,EAASp7I,CAAG,EACtB+6I,EAAW,IAAI/6I,CAAG,EAClB,IAAIq7I,EAAW,KAAK,KAAKr7I,CAAG,EAC5B,OAAI,OAAOq7I,GAAY,WACnBA,EAAW,KAAK,KAAKA,CAAQ,GAC7B,OAAOA,GAAY,SACnBC,EAAiBxG,EAAKuG,EAAS,OAAQr7I,CAAG,EAErCA,IAAQk6I,GAAYc,CAAQ,IAC7Bh7I,EAAI,CAAC,IAAM,KACXs7I,EAAiBxG,EAAKgG,EAAU96I,CAAG,EAAGA,CAAG,EACzC86I,EAAU96I,CAAG,EAAI80I,GAGjB,KAAK,KAAK90I,CAAG,EAAIg7I,GAGlBh7I,CACV,CACD,SAASk7I,EAAUK,EAAQ,CACvB,GAAI,OAAOA,GAAU,SAAU,CAC3B,GAAI,CAAChB,GAAO,KAAKgB,CAAM,EACnB,MAAM,IAAI,MAAM,mBAAmBA,IAAS,EAChDN,EAAO,KAAK,KAAM,IAAIM,GAAQ,EAErC,CACT,CAAK,EACMT,EACP,SAASQ,EAAiBE,EAAMC,EAAMz7I,EAAK,CACvC,GAAIy7I,IAAS,QAAa,CAACzC,GAAMwC,EAAMC,CAAI,EACvC,MAAML,EAASp7I,CAAG,CACzB,CACD,SAASo7I,EAASp7I,EAAK,CACnB,OAAO,IAAI,MAAM,cAAcA,qCAAuC,CACzE,CACL,CACqBqsC,GAAA,cAAGmuG,GCxJxB,OAAO,eAAetD,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5DA,GAAA,QAAoCA,GAAA,mCAAkC,OACtE,MAAMwE,GAAep9H,GACfq9H,GAAaj9H,GACbk0H,GAAkBh0H,GAClBg9H,GAAal9H,GACbg8D,GAAah1D,GACbm2H,GAAYnvE,GACZovE,GAAclvE,GACdwgE,GAAYtgE,GACZ6iE,GAAU3iE,GACV+uE,GAAYvrE,GACZo/D,GAASn/D,GACTohE,GAAWt+D,GAEjB,SAASyoE,GAAqBxO,EAAI,CAC9B,GAAIyO,GAAYzO,CAAE,IACd0O,GAAc1O,CAAE,EACZ2O,GAAkB3O,CAAE,GAAG,CACvB4O,GAAiB5O,CAAE,EACnB,OAGR6O,GAAiB7O,EAAI,OAAUkO,GAAa,sBAAsBlO,CAAE,CAAC,CACzE,CAC4B0J,GAAA,qBAAG8E,GAC/B,SAASK,GAAiB,CAAE,IAAAxN,EAAK,aAAAgC,EAAc,OAAAvmC,EAAQ,UAAAwmC,EAAW,KAAA/vH,CAAM,EAAEurH,EAAM,CACxEvrH,EAAK,KAAK,IACV8tH,EAAI,KAAKgC,KAAkBzD,GAAU,KAAMuC,GAAQ,QAAQ,SAASA,GAAQ,QAAQ,SAAUmB,EAAU,OAAQ,IAAM,CAClHjC,EAAI,QAASzB,GAAU,mBAAoBkP,GAAchyC,EAAQvpF,CAAI,GAAG,EACxEw7H,GAAqB1N,EAAK9tH,CAAI,EAC9B8tH,EAAI,KAAKvC,CAAI,CACzB,CAAS,EAGDuC,EAAI,KAAKgC,KAAkBzD,GAAU,KAAMuC,GAAQ,QAAQ,SAAS6M,GAAkBz7H,CAAI,IAAK+vH,EAAU,OAAQ,IAAMjC,EAAI,KAAKyN,GAAchyC,EAAQvpF,CAAI,CAAC,EAAE,KAAKurH,CAAI,CAAC,CAE/K,CACA,SAASkQ,GAAkBz7H,EAAM,CAC7B,SAAWqsH,GAAU,MAAOuC,GAAQ,QAAQ,oBAAoBA,GAAQ,QAAQ,eAAeA,GAAQ,QAAQ,uBAAuBA,GAAQ,QAAQ,YAAYA,GAAQ,QAAQ,OAAO5uH,EAAK,cAAiBqsH,GAAU,OAAQuC,GAAQ,QAAQ,oBAAsBvC,GAAU,SACrR,CACA,SAASmP,GAAqB1N,EAAK9tH,EAAM,CACrC8tH,EAAI,GAAGc,GAAQ,QAAQ,OAAQ,IAAM,CACjCd,EAAI,IAAIc,GAAQ,QAAQ,gBAAkBvC,GAAU,KAAMuC,GAAQ,QAAQ,UAAUA,GAAQ,QAAQ,cAAc,EAClHd,EAAI,IAAIc,GAAQ,QAAQ,cAAgBvC,GAAU,KAAMuC,GAAQ,QAAQ,UAAUA,GAAQ,QAAQ,YAAY,EAC9Gd,EAAI,IAAIc,GAAQ,QAAQ,sBAAwBvC,GAAU,KAAMuC,GAAQ,QAAQ,UAAUA,GAAQ,QAAQ,oBAAoB,EAC9Hd,EAAI,IAAIc,GAAQ,QAAQ,YAAcvC,GAAU,KAAMuC,GAAQ,QAAQ,UAAUA,GAAQ,QAAQ,UAAU,EACtG5uH,EAAK,YACL8tH,EAAI,IAAIc,GAAQ,QAAQ,kBAAoBvC,GAAU,KAAMuC,GAAQ,QAAQ,UAAUA,GAAQ,QAAQ,gBAAgB,CAClI,EAAO,IAAM,CACLd,EAAI,IAAIc,GAAQ,QAAQ,gBAAkBvC,GAAU,MAAO,EAC3DyB,EAAI,IAAIc,GAAQ,QAAQ,cAAgBvC,GAAU,aAAc,EAChEyB,EAAI,IAAIc,GAAQ,QAAQ,sBAAwBvC,GAAU,aAAc,EACxEyB,EAAI,IAAIc,GAAQ,QAAQ,SAAUA,GAAQ,QAAQ,IAAI,EAClD5uH,EAAK,YACL8tH,EAAI,IAAIc,GAAQ,QAAQ,kBAAoBvC,GAAU,MAAO,CACzE,CAAK,CACL,CACA,SAASgP,GAAiB5O,EAAI,CAC1B,KAAM,CAAE,OAAAljC,EAAQ,KAAAvpF,EAAM,IAAA8tH,CAAG,EAAKrB,EAC9B6O,GAAiB7O,EAAI,IAAM,CACnBzsH,EAAK,UAAYupF,EAAO,UACxBmyC,GAAejP,CAAE,EACrBkP,GAAelP,CAAE,EACjBqB,EAAI,IAAIc,GAAQ,QAAQ,QAAS,IAAI,EACrCd,EAAI,IAAIc,GAAQ,QAAQ,OAAQ,CAAC,EAC7B5uH,EAAK,aACL47H,GAAenP,CAAE,EACrBoP,GAAgBpP,CAAE,EAClBqP,GAAcrP,CAAE,CACxB,CAAK,CAEL,CACA,SAASmP,GAAenP,EAAI,CAExB,KAAM,CAAE,IAAAqB,EAAK,aAAAgC,CAAc,EAAGrD,EAC9BA,EAAG,UAAYqB,EAAI,MAAM,eAAiBzB,GAAU,KAAMyD,aAAwB,EAClFhC,EAAI,MAAOzB,GAAU,KAAMI,EAAG,yBAA0B,IAAMqB,EAAI,UAAWzB,GAAU,KAAMI,EAAG,qBAAuBJ,GAAU,aAAc,CAAC,EAChJyB,EAAI,MAAOzB,GAAU,KAAMI,EAAG,yBAA0B,IAAMqB,EAAI,UAAWzB,GAAU,KAAMI,EAAG,qBAAuBJ,GAAU,aAAc,CAAC,CACpJ,CACA,SAASkP,GAAchyC,EAAQvpF,EAAM,CACjC,MAAM45H,EAAQ,OAAOrwC,GAAU,UAAYA,EAAOvpF,EAAK,QAAQ,EAC/D,OAAO45H,IAAU55H,EAAK,KAAK,QAAUA,EAAK,KAAK,YAAeqsH,GAAU,mBAAoBuN,OAAavN,GAAU,GACvH,CAEA,SAAS0P,GAActP,EAAIx5B,EAAO,CAC9B,GAAIioC,GAAYzO,CAAE,IACd0O,GAAc1O,CAAE,EACZ2O,GAAkB3O,CAAE,GAAG,CACvBuP,GAAiBvP,EAAIx5B,CAAK,EAC1B,UAGJ0nC,GAAa,mBAAmBlO,EAAIx5B,CAAK,CACjD,CACA,SAASmoC,GAAkB,CAAE,OAAA7xC,EAAQ,KAAAliE,GAAQ,CACzC,GAAI,OAAOkiE,GAAU,UACjB,MAAO,CAACA,EACZ,UAAWtyF,KAAOsyF,EACd,GAAIliE,EAAK,MAAM,IAAIpwB,CAAG,EAClB,MAAO,GACf,MAAO,EACX,CACA,SAASikI,GAAYzO,EAAI,CACrB,OAAO,OAAOA,EAAG,QAAU,SAC/B,CACA,SAASuP,GAAiBvP,EAAIx5B,EAAO,CACjC,KAAM,CAAE,OAAA1J,EAAQ,IAAAukC,EAAK,KAAA9tH,CAAI,EAAKysH,EAC1BzsH,EAAK,UAAYupF,EAAO,UACxBmyC,GAAejP,CAAE,EACrBwP,GAAcxP,CAAE,EAChByP,GAAiBzP,CAAE,EACnB,MAAMiD,EAAY5B,EAAI,MAAM,QAASc,GAAQ,QAAQ,MAAM,EAC3DiN,GAAgBpP,EAAIiD,CAAS,EAE7B5B,EAAI,IAAI76B,KAAWo5B,GAAU,KAAMqD,SAAiBd,GAAQ,QAAQ,QAAQ,CAChF,CACA,SAASuM,GAAc1O,EAAI,IACnBoC,GAAO,mBAAmBpC,CAAE,EAChC0P,GAAqB1P,CAAE,CAC3B,CACA,SAASoP,GAAgBpP,EAAIiD,EAAW,CACpC,GAAIjD,EAAG,KAAK,IACR,OAAO2P,GAAe3P,EAAI,CAAE,EAAE,GAAOiD,CAAS,EAClD,MAAMt/G,KAAYwqH,GAAW,gBAAgBnO,EAAG,MAAM,EAChD4P,KAAmBzB,GAAW,wBAAwBnO,EAAIr8G,CAAK,EACrEgsH,GAAe3P,EAAIr8G,EAAO,CAACisH,EAAc3M,CAAS,CACtD,CACA,SAASyM,GAAqB1P,EAAI,CAC9B,KAAM,CAAE,OAAAljC,EAAQ,cAAAknC,EAAe,KAAAzwH,EAAM,KAAAqnB,CAAI,EAAKolG,EAC1CljC,EAAO,MAAQvpF,EAAK,0BAA6B6uH,GAAO,sBAAsBtlC,EAAQliE,EAAK,KAAK,GAChGA,EAAK,OAAO,KAAK,6CAA6CopG,IAAgB,CAEtF,CACA,SAASkL,GAAelP,EAAI,CACxB,KAAM,CAAE,OAAAljC,EAAQ,KAAAvpF,CAAM,EAAGysH,EACrBljC,EAAO,UAAY,QAAavpF,EAAK,aAAeA,EAAK,iBACrD6uH,GAAO,iBAAiBpC,EAAI,uCAAuC,CAE/E,CACA,SAASwP,GAAcxP,EAAI,CACvB,MAAMmN,EAAQnN,EAAG,OAAOA,EAAG,KAAK,QAAQ,EACpCmN,IACAnN,EAAG,UAAauO,GAAU,YAAYvO,EAAG,KAAK,YAAaA,EAAG,OAAQmN,CAAK,EACnF,CACA,SAASsC,GAAiBzP,EAAI,CAC1B,GAAIA,EAAG,OAAO,QAAU,CAACA,EAAG,UAAU,OAClC,MAAM,IAAI,MAAM,6BAA6B,CACrD,CACA,SAASiP,GAAe,CAAE,IAAA5N,EAAK,UAAAiC,EAAW,OAAAxmC,EAAQ,cAAAknC,EAAe,KAAAzwH,GAAQ,CACrE,MAAM0uH,EAAMnlC,EAAO,SACnB,GAAIvpF,EAAK,WAAa,GAClB8tH,EAAI,QAASzB,GAAU,KAAMuC,GAAQ,QAAQ,mBAAmBF,IAAM,UAEjE,OAAO1uH,EAAK,UAAY,WAAY,CACzC,MAAMitH,KAAiBZ,GAAU,OAAQoE,aACnC6L,EAAWxO,EAAI,WAAW,OAAQ,CAAE,IAAKiC,EAAU,IAAI,CAAE,EAC/DjC,EAAI,QAASzB,GAAU,KAAMuC,GAAQ,QAAQ,sBAAsBF,MAAQzB,MAAeqP,WAAkB,EAEpH,CACA,SAASR,GAAcrP,EAAI,CACvB,KAAM,CAAE,IAAAqB,EAAK,UAAAiC,EAAW,aAAAD,EAAc,gBAAAyM,EAAiB,KAAAv8H,CAAM,EAAGysH,EAC5DsD,EAAU,OAEVjC,EAAI,MAAOzB,GAAU,KAAMuC,GAAQ,QAAQ,eAAgB,IAAMd,EAAI,OAAOc,GAAQ,QAAQ,IAAI,EAAG,IAAMd,EAAI,SAAUzB,GAAU,SAAUkQ,KAAmB3N,GAAQ,QAAQ,UAAU,CAAC,GAGzLd,EAAI,UAAWzB,GAAU,KAAMyD,WAAuBlB,GAAQ,QAAQ,OAAO,EACzE5uH,EAAK,aACLw8H,GAAgB/P,CAAE,EACtBqB,EAAI,UAAWzB,GAAU,KAAMuC,GAAQ,QAAQ,cAAc,EAErE,CACA,SAAS4N,GAAgB,CAAE,IAAA1O,EAAK,UAAA2O,EAAW,MAAA96I,EAAO,MAAAkZ,CAAK,EAAI,CACnDlZ,aAAiB0qI,GAAU,MAC3ByB,EAAI,UAAWzB,GAAU,KAAMoQ,UAAmB96I,CAAK,EACvDkZ,aAAiBwxH,GAAU,MAC3ByB,EAAI,UAAWzB,GAAU,KAAMoQ,UAAmB5hI,CAAK,CAC/D,CACA,SAASuhI,GAAe3P,EAAIr8G,EAAOssH,EAAYhN,EAAW,CACtD,KAAM,CAAE,IAAA5B,EAAK,OAAAvkC,EAAQ,KAAA78E,EAAM,UAAAyiH,EAAW,KAAAnvH,EAAM,KAAAqnB,CAAM,EAAGolG,EAC/C,CAAE,MAAAK,CAAO,EAAGzlG,EAClB,GAAIkiE,EAAO,OAASvpF,EAAK,uBAAyB,IAAK6uH,GAAO,sBAAsBtlC,EAAQujC,CAAK,GAAI,CACjGgB,EAAI,MAAM,IAAM6O,GAAYlQ,EAAI,OAAQK,EAAM,IAAI,KAAK,UAAU,CAAC,EAClE,OAEC9sH,EAAK,KACN48H,GAAiBnQ,EAAIr8G,CAAK,EAC9B09G,EAAI,MAAM,IAAM,CACZ,UAAW3jI,KAAS2iI,EAAM,MACtB+P,EAAc1yI,CAAK,EACvB0yI,EAAc/P,EAAM,IAAI,CAChC,CAAK,EACD,SAAS+P,EAAc1yI,EAAO,IACjB0nI,GAAgB,gBAAgBtoC,EAAQp/F,CAAK,IAElDA,EAAM,MACN2jI,EAAI,MAAO+M,GAAW,eAAe1wI,EAAM,KAAMuiB,EAAM1M,EAAK,aAAa,CAAC,EAC1E88H,GAAgBrQ,EAAItiI,CAAK,EACrBimB,EAAM,SAAW,GAAKA,EAAM,CAAC,IAAMjmB,EAAM,MAAQuyI,IACjD5O,EAAI,KAAI,KACJ+M,GAAW,iBAAiBpO,CAAE,GAEtCqB,EAAI,MAAK,GAGTgP,GAAgBrQ,EAAItiI,CAAK,EAGxBglI,GACDrB,EAAI,MAAOzB,GAAU,KAAMuC,GAAQ,QAAQ,cAAcc,GAAa,GAAG,EAChF,CACL,CACA,SAASoN,GAAgBrQ,EAAItiI,EAAO,CAChC,KAAM,CAAE,IAAA2jI,EAAK,OAAAvkC,EAAQ,KAAM,CAAE,YAAAwzC,CAAW,CAAK,EAAGtQ,EAC5CsQ,MACIpjE,GAAW,gBAAgB8yD,EAAItiI,EAAM,IAAI,EACjD2jI,EAAI,MAAM,IAAM,CACZ,UAAWpmE,KAAQv9D,EAAM,SACb0nI,GAAgB,eAAetoC,EAAQ7hC,CAAI,GAC/Ci1E,GAAYlQ,EAAI/kE,EAAK,QAASA,EAAK,WAAYv9D,EAAM,IAAI,CAGzE,CAAK,CACL,CACA,SAASyyI,GAAiBnQ,EAAIr8G,EAAO,CAC7Bq8G,EAAG,UAAU,MAAQ,CAACA,EAAG,KAAK,cAElCuQ,GAAkBvQ,EAAIr8G,CAAK,EACtBq8G,EAAG,KAAK,iBACTwQ,GAAmBxQ,EAAIr8G,CAAK,EAChC8sH,GAAkBzQ,EAAIA,EAAG,SAAS,EACtC,CACA,SAASuQ,GAAkBvQ,EAAIr8G,EAAO,CAClC,GAAKA,EAAM,OAEX,IAAI,CAACq8G,EAAG,UAAU,OAAQ,CACtBA,EAAG,UAAYr8G,EACf,OAEJA,EAAM,QAASvc,GAAM,CACZspI,GAAa1Q,EAAG,UAAW54H,CAAC,GAC7BupI,GAAiB3Q,EAAI,SAAS54H,8BAA8B44H,EAAG,UAAU,KAAK,GAAG,IAAI,CAEjG,CAAK,EACD4Q,GAAkB5Q,EAAIr8G,CAAK,EAC/B,CACA,SAAS6sH,GAAmBxQ,EAAIwF,EAAI,CAC5BA,EAAG,OAAS,GAAK,EAAEA,EAAG,SAAW,GAAKA,EAAG,SAAS,MAAM,IACxDmL,GAAiB3Q,EAAI,iDAAiD,CAE9E,CACA,SAASyQ,GAAkBzQ,EAAIwF,EAAI,CAC/B,MAAMlqE,EAAQ0kE,EAAG,KAAK,MAAM,IAC5B,UAAWS,KAAWnlE,EAAO,CACzB,MAAML,EAAOK,EAAMmlE,CAAO,EAC1B,GAAI,OAAOxlE,GAAQ,aAAgBmqE,GAAgB,eAAepF,EAAG,OAAQ/kE,CAAI,EAAG,CAChF,KAAM,CAAE,KAAA9sD,CAAI,EAAK8sD,EAAK,WAClB9sD,EAAK,QAAU,CAACA,EAAK,KAAM/G,GAAMypI,GAAkBrL,EAAIp+H,CAAC,CAAC,GACzDupI,GAAiB3Q,EAAI,iBAAiB7xH,EAAK,KAAK,GAAG,mBAAmBsyH,IAAU,GAIhG,CACA,SAASoQ,GAAkBC,EAAOC,EAAM,CACpC,OAAOD,EAAM,SAASC,CAAI,GAAMA,IAAS,UAAYD,EAAM,SAAS,SAAS,CACjF,CACA,SAASJ,GAAalL,EAAI,EAAG,CACzB,OAAOA,EAAG,SAAS,CAAC,GAAM,IAAM,WAAaA,EAAG,SAAS,QAAQ,CACrE,CACA,SAASoL,GAAkB5Q,EAAIgR,EAAW,CACtC,MAAMxL,EAAK,CAAA,EACX,UAAWp+H,KAAK44H,EAAG,UACX0Q,GAAaM,EAAW5pI,CAAC,EACzBo+H,EAAG,KAAKp+H,CAAC,EACJ4pI,EAAU,SAAS,SAAS,GAAK5pI,IAAM,UAC5Co+H,EAAG,KAAK,SAAS,EAEzBxF,EAAG,UAAYwF,CACnB,CACA,SAASmL,GAAiB3Q,EAAIiC,EAAK,CAC/B,MAAMzB,EAAaR,EAAG,UAAU,OAASA,EAAG,cAC5CiC,GAAO,QAAQzB,sBACX4B,GAAO,iBAAiBpC,EAAIiC,EAAKjC,EAAG,KAAK,WAAW,CAC5D,CACA,MAAMiR,EAAW,CACb,YAAYjR,EAAI5E,EAAKqF,EAAS,CAc1B,MAbI4N,GAAU,sBAAsBrO,EAAI5E,EAAKqF,CAAO,EACpD,KAAK,IAAMT,EAAG,IACd,KAAK,UAAYA,EAAG,UACpB,KAAK,QAAUS,EACf,KAAK,KAAOT,EAAG,KACf,KAAK,OAASA,EAAG,OAAOS,CAAO,EAC/B,KAAK,MAAQrF,EAAI,OAAS4E,EAAG,KAAK,OAAS,KAAK,QAAU,KAAK,OAAO,MACtE,KAAK,eAAkBoC,GAAO,gBAAgBpC,EAAI,KAAK,OAAQS,EAAS,KAAK,KAAK,EAClF,KAAK,WAAarF,EAAI,WACtB,KAAK,aAAe4E,EAAG,OACvB,KAAK,OAAS,GACd,KAAK,GAAKA,EACV,KAAK,IAAM5E,EACP,KAAK,MACL,KAAK,WAAa4E,EAAG,IAAI,MAAM,UAAWkR,GAAQ,KAAK,MAAOlR,CAAE,CAAC,UAGjE,KAAK,WAAa,KAAK,YACnB,IAAKqO,GAAU,iBAAiB,KAAK,OAAQjT,EAAI,WAAYA,EAAI,cAAc,EAC/E,MAAM,IAAI,MAAM,GAAGqF,mBAAyB,KAAK,UAAUrF,EAAI,UAAU,GAAG,GAGhF,SAAUA,EAAMA,EAAI,YAAcA,EAAI,SAAW,MACjD,KAAK,UAAY4E,EAAG,IAAI,MAAM,QAASmC,GAAQ,QAAQ,MAAM,EAEpE,CACD,OAAOjF,EAAWiU,EAAeC,EAAY,CACzC,KAAK,cAAexR,GAAU,KAAK1C,CAAS,EAAGiU,EAAeC,CAAU,CAC3E,CACD,WAAWlU,EAAWiU,EAAeC,EAAY,CAC7C,KAAK,IAAI,GAAGlU,CAAS,EACjBkU,EACAA,IAEA,KAAK,MAAK,EACVD,GACA,KAAK,IAAI,OACTA,IACI,KAAK,WACL,KAAK,IAAI,SAGT,KAAK,UACL,KAAK,IAAI,QAET,KAAK,IAAI,MAEpB,CACD,KAAKjU,EAAWkU,EAAY,CACxB,KAAK,cAAexR,GAAU,KAAK1C,CAAS,EAAG,OAAWkU,CAAU,CACvE,CACD,KAAKlU,EAAW,CACZ,GAAIA,IAAc,OAAW,CACzB,KAAK,MAAK,EACL,KAAK,WACN,KAAK,IAAI,GAAG,EAAK,EACrB,OAEJ,KAAK,IAAI,GAAGA,CAAS,EACrB,KAAK,MAAK,EACN,KAAK,UACL,KAAK,IAAI,QAET,KAAK,IAAI,MAChB,CACD,UAAUA,EAAW,CACjB,GAAI,CAAC,KAAK,MACN,OAAO,KAAK,KAAKA,CAAS,EAC9B,KAAM,CAAE,WAAAiK,CAAY,EAAG,KACvB,KAAK,QAASvH,GAAU,KAAMuH,0BAAoCvH,GAAU,IAAI,KAAK,aAAY,EAAI1C,CAAS,IAAI,CACrH,CACD,MAAMmU,EAAQC,EAAa/O,EAAY,CACnC,GAAI+O,EAAa,CACb,KAAK,UAAUA,CAAW,EAC1B,KAAK,OAAOD,EAAQ9O,CAAU,EAC9B,KAAK,UAAU,CAAA,CAAE,EACjB,OAEJ,KAAK,OAAO8O,EAAQ9O,CAAU,CACjC,CACD,OAAO8O,EAAQ9O,EAAY,EAEtB8O,EAAShN,GAAS,iBAAmBA,GAAS,aAAa,KAAM,KAAK,IAAI,MAAO9B,CAAU,CAC/F,CACD,YAAa,IACL8B,GAAS,aAAa,KAAM,KAAK,IAAI,YAAcA,GAAS,iBAAiB,CACpF,CACD,OAAQ,CACJ,GAAI,KAAK,YAAc,OACnB,MAAM,IAAI,MAAM,yCAAyC,KACzDA,GAAS,kBAAkB,KAAK,IAAK,KAAK,SAAS,CAC1D,CACD,GAAGlH,EAAM,CACA,KAAK,WACN,KAAK,IAAI,GAAGA,CAAI,CACvB,CACD,UAAUpqH,EAAKw+H,EAAQ,CACfA,EACA,OAAO,OAAO,KAAK,OAAQx+H,CAAG,EAE9B,KAAK,OAASA,CACrB,CACD,WAAWyzF,EAAOgrC,EAAWC,EAAa7R,GAAU,IAAK,CACrD,KAAK,IAAI,MAAM,IAAM,CACjB,KAAK,WAAWp5B,EAAOirC,CAAU,EACjCD,GACZ,CAAS,CACJ,CACD,WAAWhrC,EAAQo5B,GAAU,IAAK6R,EAAa7R,GAAU,IAAK,CAC1D,GAAI,CAAC,KAAK,MACN,OACJ,KAAM,CAAE,IAAAyB,EAAK,WAAA8F,EAAY,WAAApzB,EAAY,IAAAqnB,CAAG,EAAK,KAC7CiG,EAAI,MAAOzB,GAAU,OAAQA,GAAU,KAAMuH,kBAA4BsK,CAAU,CAAC,EAChFjrC,IAAUo5B,GAAU,KACpByB,EAAI,OAAO76B,EAAO,EAAI,GACtBuN,EAAW,QAAUqnB,EAAI,kBACzBiG,EAAI,OAAO,KAAK,aAAc,CAAA,EAC9B,KAAK,WAAU,EACX76B,IAAUo5B,GAAU,KACpByB,EAAI,OAAO76B,EAAO,EAAK,GAE/B66B,EAAI,KAAI,CACX,CACD,cAAe,CACX,KAAM,CAAE,IAAAA,EAAK,WAAA8F,EAAY,WAAApzB,EAAY,IAAAqnB,EAAK,GAAA4E,CAAI,EAAG,KACjD,SAAWJ,GAAU,IAAI8R,EAAc,EAAIC,EAAoB,CAAA,EAC/D,SAASD,GAAiB,CACtB,GAAI39B,EAAW,OAAQ,CAEnB,GAAI,EAAEozB,aAAsBvH,GAAU,MAClC,MAAM,IAAI,MAAM,0BAA0B,EAC9C,MAAM6K,EAAK,MAAM,QAAQ12B,CAAU,EAAIA,EAAa,CAACA,CAAU,EAC/D,SAAW6rB,GAAU,QAAUwO,GAAW,gBAAgB3D,EAAItD,EAAYnH,EAAG,KAAK,cAAeoO,GAAW,SAAS,KAAK,IAE9H,OAAOxO,GAAU,GACpB,CACD,SAAS+R,GAAqB,CAC1B,GAAIvW,EAAI,eAAgB,CACpB,MAAMwW,EAAoBvQ,EAAI,WAAW,gBAAiB,CAAE,IAAKjG,EAAI,cAAc,CAAE,EACrF,SAAWwE,GAAU,MAAOgS,KAAqBzK,KAErD,OAAOvH,GAAU,GACpB,CACJ,CACD,UAAUiS,EAAMrrC,EAAO,CACnB,MAAMmI,KAAgB2/B,GAAY,cAAc,KAAK,GAAIuD,CAAI,KACzDvD,GAAY,qBAAqB3/B,EAAW,KAAK,GAAIkjC,CAAI,KACzDvD,GAAY,qBAAqB3/B,EAAWkjC,CAAI,EACpD,MAAMC,EAAc,CAAE,GAAG,KAAK,GAAI,GAAGnjC,EAAW,MAAO,OAAW,MAAO,QACzE,OAAA2gC,GAAcwC,EAAatrC,CAAK,EACzBsrC,CACV,CACD,eAAeC,EAAWzQ,EAAQ,CAC9B,KAAM,CAAE,GAAAtB,EAAI,IAAAqB,CAAK,EAAG,KACfrB,EAAG,KAAK,cAETA,EAAG,QAAU,IAAQ+R,EAAU,QAAU,SACzC/R,EAAG,MAAQoC,GAAO,eAAe,MAAMf,EAAK0Q,EAAU,MAAO/R,EAAG,MAAOsB,CAAM,GAE7EtB,EAAG,QAAU,IAAQ+R,EAAU,QAAU,SACzC/R,EAAG,MAAQoC,GAAO,eAAe,MAAMf,EAAK0Q,EAAU,MAAO/R,EAAG,MAAOsB,CAAM,GAEpF,CACD,oBAAoByQ,EAAWvrC,EAAO,CAClC,KAAM,CAAE,GAAAw5B,EAAI,IAAAqB,CAAK,EAAG,KACpB,GAAIrB,EAAG,KAAK,cAAgBA,EAAG,QAAU,IAAQA,EAAG,QAAU,IAC1D,OAAAqB,EAAI,GAAG76B,EAAO,IAAM,KAAK,eAAeurC,EAAWnS,GAAU,IAAI,CAAC,EAC3D,EAEd,CACL,CACkB8J,GAAA,WAAGuH,GACrB,SAASf,GAAYlQ,EAAIS,EAASrF,EAAK4W,EAAU,CAC7C,MAAM1P,EAAM,IAAI2O,GAAWjR,EAAI5E,EAAKqF,CAAO,EACvC,SAAUrF,EACVA,EAAI,KAAKkH,EAAK0P,CAAQ,EAEjB1P,EAAI,OAASlH,EAAI,YAClBiT,GAAU,iBAAiB/L,EAAKlH,CAAG,EAElC,UAAWA,KACZiT,GAAU,kBAAkB/L,EAAKlH,CAAG,GAEnCA,EAAI,SAAWA,EAAI,cACpBiT,GAAU,iBAAiB/L,EAAKlH,CAAG,CAE/C,CACA,MAAM6W,GAAe,sBACfC,GAAwB,mCAC9B,SAAShB,GAAQxQ,EAAO,CAAE,UAAAyR,EAAW,UAAAC,EAAW,YAAApH,CAAW,EAAI,CAC3D,IAAIqH,EACApyH,EACJ,GAAIygH,IAAU,GACV,OAAOyB,GAAQ,QAAQ,SAC3B,GAAIzB,EAAM,CAAC,IAAM,IAAK,CAClB,GAAI,CAACuR,GAAa,KAAKvR,CAAK,EACxB,MAAM,IAAI,MAAM,yBAAyBA,GAAO,EACpD2R,EAAc3R,EACdzgH,EAAOkiH,GAAQ,QAAQ,aAEtB,CACD,MAAMmQ,EAAUJ,GAAsB,KAAKxR,CAAK,EAChD,GAAI,CAAC4R,EACD,MAAM,IAAI,MAAM,yBAAyB5R,GAAO,EACpD,MAAM6R,EAAK,CAACD,EAAQ,CAAC,EAErB,GADAD,EAAcC,EAAQ,CAAC,EACnBD,IAAgB,IAAK,CACrB,GAAIE,GAAMJ,EACN,MAAM,IAAI,MAAMK,EAAS,iBAAkBD,CAAE,CAAC,EAClD,OAAOvH,EAAYmH,EAAYI,CAAE,EAErC,GAAIA,EAAKJ,EACL,MAAM,IAAI,MAAMK,EAAS,OAAQD,CAAE,CAAC,EAExC,GADAtyH,EAAOmyH,EAAUD,EAAYI,CAAE,EAC3B,CAACF,EACD,OAAOpyH,EAEf,IAAIq5G,EAAOr5G,EACX,MAAMwyH,EAAWJ,EAAY,MAAM,GAAG,EACtC,UAAWvnG,KAAW2nG,EACd3nG,IACA7qB,KAAW2/G,GAAU,KAAM3/G,OAAW2/G,GAAU,gBAAiBwC,GAAO,qBAAqBt3F,CAAO,CAAC,IACrGwuF,KAAWsG,GAAU,KAAMtG,QAAWr5G,KAG9C,OAAOq5G,EACP,SAASkZ,EAASE,EAAaH,EAAI,CAC/B,MAAO,iBAAiBG,KAAeH,iCAAkCJ,GAC5E,CACL,CACezI,GAAA,QAAGwH,aCrgBlB,OAAO,eAAeyB,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5D,MAAM7C,WAAwB,KAAM,CAChC,YAAYz7B,EAAQ,CAChB,MAAM,mBAAmB,EACzB,KAAK,OAASA,EACd,KAAK,IAAM,KAAK,WAAa,EAChC,CACL,CACes+B,GAAA,QAAG7C,aCRlB,OAAO,eAAe8C,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5D,MAAMrE,GAAYz9H,GAClB,MAAM+hI,WAAwB,KAAM,CAChC,YAAY3sC,EAAU4mC,EAAQt6I,EAAKyvI,EAAK,CACpC,MAAMA,GAAO,2BAA2BzvI,aAAes6I,GAAQ,EAC/D,KAAK,cAAiByB,GAAU,YAAYroC,EAAU4mC,EAAQt6I,CAAG,EACjE,KAAK,iBAAoB+7I,GAAU,gBAAiBA,GAAU,aAAaroC,EAAU,KAAK,UAAU,CAAC,CACxG,CACL,CACe0sC,GAAA,QAAGC,aCTlB,OAAO,eAAet4C,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EACvCA,GAAA,cAA6BA,GAAA,mBAAqBA,GAAA,WAAwBA,GAAA,cAAoBA,GAAA,UAAG,OACtH,MAAMqlC,GAAY9uH,GACZgiI,GAAqB5hI,GACrBixH,GAAU/wH,GACVm9H,GAAYr2H,GACZkqH,GAASljE,GACT6zE,GAAa3zE,GACnB,MAAM4zE,EAAU,CACZ,YAAYC,EAAK,CACb,IAAIvuG,EACJ,KAAK,KAAO,GACZ,KAAK,eAAiB,GACtB,IAAIo4D,EACA,OAAOm2C,EAAI,QAAU,WACrBn2C,EAASm2C,EAAI,QACjB,KAAK,OAASA,EAAI,OAClB,KAAK,SAAWA,EAAI,SACpB,KAAK,KAAOA,EAAI,MAAQ,KACxB,KAAK,QAAUvuG,EAAKuuG,EAAI,UAAY,MAAQvuG,IAAO,OAASA,KAAS6pG,GAAU,aAAazxC,GAAW,KAA4B,OAASA,EAAOm2C,EAAI,UAAY,KAAK,CAAC,EACzK,KAAK,WAAaA,EAAI,WACtB,KAAK,UAAYA,EAAI,UACrB,KAAK,KAAOA,EAAI,KAChB,KAAK,OAASn2C,GAAW,KAA4B,OAASA,EAAO,OACrE,KAAK,KAAO,EACf,CACL,CACiBvC,GAAA,UAAGy4C,GAIpB,SAASE,GAAc5L,EAAK,CAExB,MAAM4B,EAAOiK,GAAmB,KAAK,KAAM7L,CAAG,EAC9C,GAAI4B,EACA,OAAOA,EACX,MAAMhY,KAAaqd,GAAU,aAAa,KAAK,KAAK,YAAajH,EAAI,KAAK,MAAM,EAC1E,CAAE,IAAAxL,EAAK,MAAAsX,CAAK,EAAK,KAAK,KAAK,KAC3B,CAAE,cAAAnL,CAAa,EAAK,KAAK,KACzB5G,EAAM,IAAIzB,GAAU,QAAQ,KAAK,MAAO,CAAE,IAAA9D,EAAK,MAAAsX,EAAO,cAAAnL,CAAa,CAAE,EAC3E,IAAIoL,EACA/L,EAAI,SACJ+L,EAAmBhS,EAAI,WAAW,QAAS,CACvC,IAAKyR,GAAmB,QACxB,QAAUlT,GAAU,wDAChC,CAAS,GAEL,MAAMyD,EAAehC,EAAI,UAAU,UAAU,EAC7CiG,EAAI,aAAejE,EACnB,MAAM0O,EAAY,CACd,IAAA1Q,EACA,UAAW,KAAK,KAAK,UACrB,KAAMc,GAAQ,QAAQ,KACtB,WAAYA,GAAQ,QAAQ,WAC5B,mBAAoBA,GAAQ,QAAQ,mBACpC,UAAW,CAACA,GAAQ,QAAQ,IAAI,EAChC,YAAa,CAACvC,GAAU,GAAG,EAC3B,UAAW,EACX,UAAW,CAAE,EACb,kBAAmB,IAAI,IACvB,aAAcyB,EAAI,WAAW,SAAU,KAAK,KAAK,KAAK,SAAW,GAC3D,CAAE,IAAKiG,EAAI,OAAQ,QAAU1H,GAAU,WAAW0H,EAAI,MAAM,CAAG,EAC/D,CAAE,IAAKA,EAAI,OAAQ,EACzB,aAAAjE,EACA,gBAAiBgQ,EACjB,OAAQ/L,EAAI,OACZ,UAAWA,EACX,OAAApW,EACA,OAAQoW,EAAI,QAAUpW,EACtB,WAAY0O,GAAU,IACtB,cAAe0H,EAAI,aAAe,KAAK,KAAK,IAAM,GAAK,KACvD,aAAe1H,GAAU,OACzB,KAAM,KAAK,KACX,KAAM,IACd,EACI,IAAI0T,EACJ,GAAI,CACA,KAAK,cAAc,IAAIhM,CAAG,KACtByL,GAAW,sBAAsBhB,CAAS,EAC9C1Q,EAAI,SAAS,KAAK,KAAK,KAAK,QAAQ,EAEpC,MAAMkS,EAAelS,EAAI,WACzBiS,EAAa,GAAGjS,EAAI,UAAUc,GAAQ,QAAQ,KAAK,WAAWoR,IAE1D,KAAK,KAAK,KAAK,UACfD,EAAa,KAAK,KAAK,KAAK,QAAQA,EAAYhM,CAAG,GAGvD,MAAMoC,EADe,IAAI,SAAS,GAAGvH,GAAQ,QAAQ,OAAQ,GAAGA,GAAQ,QAAQ,QAASmR,CAAU,EACrE,KAAM,KAAK,MAAM,IAAG,CAAE,EAUpD,GATA,KAAK,MAAM,MAAMjQ,EAAc,CAAE,IAAKqG,CAAQ,CAAE,EAChDA,EAAS,OAAS,KAClBA,EAAS,OAASpC,EAAI,OACtBoC,EAAS,UAAYpC,EACjBA,EAAI,SACJoC,EAAS,OAAS,IAClB,KAAK,KAAK,KAAK,SAAW,KAC1BA,EAAS,OAAS,CAAE,aAAArG,EAAc,aAAAkQ,EAAc,YAAalS,EAAI,UAEjE,KAAK,KAAK,YAAa,CACvB,KAAM,CAAE,MAAAnsI,EAAO,MAAAkZ,CAAO,EAAG2jI,EACzBrI,EAAS,UAAY,CACjB,MAAOx0I,aAAiB0qI,GAAU,KAAO,OAAY1qI,EACrD,MAAOkZ,aAAiBwxH,GAAU,KAAO,OAAYxxH,EACrD,aAAclZ,aAAiB0qI,GAAU,KACzC,aAAcxxH,aAAiBwxH,GAAU,IACzD,EACgB8J,EAAS,SACTA,EAAS,OAAO,aAAgB9J,GAAU,WAAW8J,EAAS,SAAS,GAE/E,OAAApC,EAAI,SAAWoC,EACRpC,CACV,OACMntH,EAAP,CACI,aAAOmtH,EAAI,SACX,OAAOA,EAAI,aACPgM,GACA,KAAK,OAAO,MAAM,yCAA0CA,CAAU,EAEpEn5H,CACT,QACO,CACJ,KAAK,cAAc,OAAOmtH,CAAG,CAChC,CACL,CACqB/sC,GAAA,cAAG24C,GACxB,SAASM,GAAW1lH,EAAMg/G,EAAQt6I,EAAK,CACnC,IAAIkyC,EACJlyC,KAAU+7I,GAAU,YAAY,KAAK,KAAK,YAAazB,EAAQt6I,CAAG,EAClE,MAAMihJ,EAAY3lH,EAAK,KAAKt7B,CAAG,EAC/B,GAAIihJ,EACA,OAAOA,EACX,IAAIvK,EAAOrqG,GAAQ,KAAK,KAAM/Q,EAAMt7B,CAAG,EACvC,GAAI02I,IAAS,OAAW,CACpB,MAAMpsC,GAAUp4D,EAAK5W,EAAK,aAAe,MAAQ4W,IAAO,OAAS,OAASA,EAAGlyC,CAAG,EAC1E,CAAE,SAAAy6I,CAAQ,EAAK,KAAK,KACtBnwC,IACAosC,EAAO,IAAI8J,GAAU,CAAE,OAAAl2C,EAAQ,SAAAmwC,EAAU,KAAAn/G,EAAM,OAAAg/G,CAAM,CAAE,GAE/D,GAAI5D,IAAS,OAEb,OAAQp7G,EAAK,KAAKt7B,CAAG,EAAIkhJ,GAAgB,KAAK,KAAMxK,CAAI,CAC5D,CACkB3uC,GAAA,WAAGi5C,GACrB,SAASE,GAAgBpM,EAAK,CAC1B,SAAQiH,GAAU,WAAWjH,EAAI,OAAQ,KAAK,KAAK,UAAU,EAClDA,EAAI,OACRA,EAAI,SAAWA,EAAM4L,GAAc,KAAK,KAAM5L,CAAG,CAC5D,CAEA,SAAS6L,GAAmBQ,EAAQ,CAChC,UAAWrM,KAAO,KAAK,cACnB,GAAIsM,GAActM,EAAKqM,CAAM,EACzB,OAAOrM,CAEnB,CAC0B/sC,GAAA,mBAAG44C,GAC7B,SAASS,GAAcC,EAAIC,EAAI,CAC3B,OAAOD,EAAG,SAAWC,EAAG,QAAUD,EAAG,OAASC,EAAG,MAAQD,EAAG,SAAWC,EAAG,MAC9E,CAGA,SAASj1G,GAAQ/Q,EACjBt7B,EACE,CACE,IAAI80I,EACJ,KAAO,OAAQA,EAAM,KAAK,KAAK90I,CAAG,IAAM,UACpCA,EAAM80I,EACV,OAAOA,GAAO,KAAK,QAAQ90I,CAAG,GAAKi6G,GAAc,KAAK,KAAM3+E,EAAMt7B,CAAG,CACzE,CAEA,SAASi6G,GAAc3+E,EACvBt7B,EACE,CACE,MAAMuvB,EAAI,KAAK,KAAK,YAAY,MAAMvvB,CAAG,EACnCuhJ,KAAcxF,GAAU,cAAc,KAAK,KAAK,YAAaxsH,CAAC,EACpE,IAAI+qH,KAAayB,GAAU,aAAa,KAAK,KAAK,YAAazgH,EAAK,OAAQ,MAAS,EAErF,GAAI,OAAO,KAAKA,EAAK,MAAM,EAAE,OAAS,GAAKimH,IAAYjH,EACnD,OAAOkH,GAAe,KAAK,KAAMjyH,EAAG+L,CAAI,EAE5C,MAAMr2B,KAAS82I,GAAU,aAAawF,CAAO,EACvClG,EAAW,KAAK,KAAKp2I,CAAE,GAAK,KAAK,QAAQA,CAAE,EACjD,GAAI,OAAOo2I,GAAY,SAAU,CAC7B,MAAMvG,EAAM76B,GAAc,KAAK,KAAM3+E,EAAM+/G,CAAQ,EACnD,OAAI,OAAQvG,GAAQ,KAAyB,OAASA,EAAI,SAAY,SAClE,OACG0M,GAAe,KAAK,KAAMjyH,EAAGulH,CAAG,EAE3C,GAAI,OAAQuG,GAAa,KAA8B,OAASA,EAAS,SAAY,SAIrF,IAFKA,EAAS,UACVqF,GAAc,KAAK,KAAMrF,CAAQ,EACjCp2I,OAAW82I,GAAU,aAAa/7I,CAAG,EAAG,CACxC,KAAM,CAAE,OAAAsqG,CAAQ,EAAG+wC,EACb,CAAE,SAAAZ,CAAQ,EAAK,KAAK,KACpBE,EAAQrwC,EAAOmwC,CAAQ,EAC7B,OAAIE,IACAL,KAAayB,GAAU,YAAY,KAAK,KAAK,YAAazB,EAAQK,CAAK,GACpE,IAAI6F,GAAU,CAAE,OAAAl2C,EAAQ,SAAAmwC,EAAU,KAAAn/G,EAAM,OAAAg/G,CAAM,CAAE,EAE3D,OAAOkH,GAAe,KAAK,KAAMjyH,EAAG8rH,CAAQ,EAChD,CACqBtzC,GAAA,cAAGkS,GACxB,MAAMwnC,GAAuB,IAAI,IAAI,CACjC,aACA,oBACA,OACA,eACA,aACJ,CAAC,EACD,SAASD,GAAeE,EAAW,CAAE,OAAApH,EAAQ,OAAAhwC,EAAQ,KAAAhvE,CAAI,EAAI,CACzD,IAAI4W,EACJ,KAAMA,EAAKwvG,EAAU,YAAc,MAAQxvG,IAAO,OAAS,OAASA,EAAG,CAAC,KAAO,IAC3E,OACJ,UAAWy1D,KAAQ+5C,EAAU,SAAS,MAAM,CAAC,EAAE,MAAM,GAAG,EAAG,CACvD,GAAI,OAAOp3C,GAAW,UAClB,OACJ,MAAMq3C,EAAar3C,KAAWslC,GAAO,kBAAkBjoC,CAAI,CAAC,EAC5D,GAAIg6C,IAAe,OACf,OACJr3C,EAASq3C,EAET,MAAMhH,EAAQ,OAAOrwC,GAAW,UAAYA,EAAO,KAAK,KAAK,QAAQ,EACjE,CAACm3C,GAAqB,IAAI95C,CAAI,GAAKgzC,IACnCL,KAAayB,GAAU,YAAY,KAAK,KAAK,YAAazB,EAAQK,CAAK,GAG/E,IAAI8F,EACJ,GAAI,OAAOn2C,GAAU,WAAaA,EAAO,MAAQ,IAAKslC,GAAO,sBAAsBtlC,EAAQ,KAAK,KAAK,EAAG,CACpG,MAAMkN,KAAWukC,GAAU,YAAY,KAAK,KAAK,YAAazB,EAAQhwC,EAAO,IAAI,EACjFm2C,EAAMxmC,GAAc,KAAK,KAAM3+E,EAAMk8E,CAAI,EAI7C,KAAM,CAAE,SAAAijC,CAAQ,EAAK,KAAK,KAE1B,GADAgG,EAAMA,GAAO,IAAID,GAAU,CAAE,OAAAl2C,EAAQ,SAAAmwC,EAAU,KAAAn/G,EAAM,OAAAg/G,CAAM,CAAE,EACzDmG,EAAI,SAAWA,EAAI,KAAK,OACxB,OAAOA,CAEf,4fC/OC,SAAUmB,EAAQljH,EAAS,CACoCA,EAAQvd,CAAO,IAG7E+mD,GAAO,SAAU/mD,EAAS,CAE5B,SAASoV,GAAQ,CACb,QAAS+gG,EAAO,UAAU,OAAQuqB,EAAO,MAAMvqB,CAAI,EAAGC,EAAO,EAAGA,EAAOD,EAAMC,IACzEsqB,EAAKtqB,CAAI,EAAI,UAAUA,CAAI,EAG/B,GAAIsqB,EAAK,OAAS,EAAG,CACjBA,EAAK,CAAC,EAAIA,EAAK,CAAC,EAAE,MAAM,EAAG,EAAE,EAE7B,QADIC,EAAKD,EAAK,OAAS,EACd/uH,GAAI,EAAGA,GAAIgvH,EAAI,EAAEhvH,GACtB+uH,EAAK/uH,EAAC,EAAI+uH,EAAK/uH,EAAC,EAAE,MAAM,EAAG,EAAE,EAEjC,OAAA+uH,EAAKC,CAAE,EAAID,EAAKC,CAAE,EAAE,MAAM,CAAC,EACpBD,EAAK,KAAK,EAAE,MAEnB,QAAOA,EAAK,CAAC,CAEpB,CACD,SAASE,EAAOriI,EAAK,CACjB,MAAO,MAAQA,EAAM,GACxB,CACD,SAASsiI,EAAOnnH,EAAG,CACf,OAAOA,IAAM,OAAY,YAAcA,IAAM,KAAO,OAAS,OAAO,UAAU,SAAS,KAAKA,CAAC,EAAE,MAAM,GAAG,EAAE,IAAK,EAAC,MAAM,GAAG,EAAE,QAAQ,aACtI,CACD,SAASonH,EAAYviI,EAAK,CACtB,OAAOA,EAAI,aACd,CACD,SAASwiI,EAAQ3hI,EAAK,CAClB,OAA4BA,GAAQ,KAAOA,aAAe,MAAQA,EAAM,OAAOA,EAAI,QAAW,UAAYA,EAAI,OAASA,EAAI,aAAeA,EAAI,KAAO,CAACA,CAAG,EAAI,MAAM,UAAU,MAAM,KAAKA,CAAG,EAAI,CAAA,CAClM,CACD,SAASw+H,EAAOtiH,EAAQxc,EAAQ,CAC5B,IAAIM,EAAMkc,EACV,GAAIxc,EACA,QAASjI,KAAOiI,EACZM,EAAIvI,CAAG,EAAIiI,EAAOjI,CAAG,EAG7B,OAAOuI,CACV,CAED,SAAS4hI,EAAUC,EAAO,CACtB,IAAIC,EAAU,WAEVC,EAAU,QAEVC,EAAWhsH,EAAM+rH,EAAS,UAAU,EAIpCE,GAAeT,EAAOA,EAAO,UAAYQ,EAAW,IAAMA,EAAWA,EAAW,IAAMA,EAAWA,CAAQ,EAAI,IAAMR,EAAO,cAAgBQ,EAAW,IAAMA,EAAWA,CAAQ,EAAI,IAAMR,EAAO,IAAMQ,EAAWA,CAAQ,CAAC,EAE7NE,GAAe,0BACXC,EAAe,sCACfC,EAAapsH,EAAMksH,GAAcC,CAAY,EAC7CE,GAAYR,EAAQ,8EAAgF,KAExGS,GAAaT,EAAQ,oBAAsB,KAE3CU,GAAevsH,EAAM8rH,EAASC,EAAS,iBAAkBM,EAAS,EACpDb,EAAOM,EAAU9rH,EAAM8rH,EAASC,EAAS,aAAa,EAAI,GAAG,EAC3DP,EAAOA,EAAOS,GAAe,IAAMjsH,EAAMusH,GAAcJ,EAAc,OAAO,CAAC,EAAI,GAAG,EACxG,IACQK,GAAqBhB,EAAOA,EAAO,SAAS,EAAI,IAAMA,EAAO,SAAWO,CAAO,EAAI,IAAMP,EAAO,IAAMO,EAAUA,CAAO,EAAI,IAAMP,EAAO,UAAYO,CAAO,EAAI,QAAUA,CAAO,EAEpLU,GAAejB,EAAOgB,GAAqB,MAAQA,GAAqB,MAAQA,GAAqB,MAAQA,EAAkB,EAC3HE,GAAOlB,EAAOQ,EAAW,OAAO,EAChCW,GAAQnB,EAAOA,EAAOkB,GAAO,MAAQA,EAAI,EAAI,IAAMD,EAAY,EAC/DG,GAAgBpB,EAAOA,EAAOkB,GAAO,KAAK,EAAI,MAAQC,EAAK,EAE/DE,GAAgBrB,EAAO,SAAWA,EAAOkB,GAAO,KAAK,EAAI,MAAQC,EAAK,EAEtEG,GAAgBtB,EAAOA,EAAOkB,EAAI,EAAI,UAAYlB,EAAOkB,GAAO,KAAK,EAAI,MAAQC,EAAK,EAEtFI,GAAgBvB,EAAOA,EAAOA,EAAOkB,GAAO,KAAK,EAAI,QAAUA,EAAI,EAAI,UAAYlB,EAAOkB,GAAO,KAAK,EAAI,MAAQC,EAAK,EAEvHK,GAAgBxB,EAAOA,EAAOA,EAAOkB,GAAO,KAAK,EAAI,QAAUA,EAAI,EAAI,UAAYlB,EAAOkB,GAAO,KAAK,EAAI,MAAQC,EAAK,EAEvHM,GAAgBzB,EAAOA,EAAOA,EAAOkB,GAAO,KAAK,EAAI,QAAUA,EAAI,EAAI,UAAYA,GAAO,MAAQC,EAAK,EAEvGO,GAAgB1B,EAAOA,EAAOA,EAAOkB,GAAO,KAAK,EAAI,QAAUA,EAAI,EAAI,UAAYC,EAAK,EAExFQ,GAAgB3B,EAAOA,EAAOA,EAAOkB,GAAO,KAAK,EAAI,QAAUA,EAAI,EAAI,UAAYA,EAAI,EAEvFU,GAAgB5B,EAAOA,EAAOA,EAAOkB,GAAO,KAAK,EAAI,QAAUA,EAAI,EAAI,SAAS,EAEhFW,GAAe7B,EAAO,CAACoB,GAAeC,GAAeC,GAAeC,GAAeC,GAAeC,GAAeC,GAAeC,GAAeC,EAAa,EAAE,KAAK,GAAG,CAAC,EACnKE,GAAU9B,EAAOA,EAAOe,GAAe,IAAMN,EAAY,EAAI,GAAG,EAMvDT,EAAO,OAASQ,EAAW,OAAShsH,EAAMusH,GAAcJ,EAAc,OAAO,EAAI,GAAG,EAGrFX,EAAOA,EAAOS,GAAe,IAAMjsH,EAAMusH,GAAcJ,CAAY,CAAC,EAAI,GAAG,EAC3F,IAGQoB,GAAS/B,EAAOS,GAAe,IAAMjsH,EAAMusH,GAAcJ,EAAc,UAAU,CAAC,EAGjE,OAAAX,EAAOA,EAAOS,GAAe,IAAMjsH,EAAMusH,GAAcJ,EAAc,OAAO,CAAC,EAAI,GAAG,EAU5FX,EAAOA,EAAO+B,GAAS,IAAMvtH,EAAM,WAAYssH,EAAU,CAAC,EAAI,GAAG,EAavE,CACH,WAAY,IAAI,OAAOtsH,EAAM,MAAO8rH,EAASC,EAAS,aAAa,EAAG,GAAG,EACzE,aAAc,IAAI,OAAO/rH,EAAM,YAAausH,GAAcJ,CAAY,EAAG,GAAG,EAC5E,SAAU,IAAI,OAAOnsH,EAAM,kBAAmBusH,GAAcJ,CAAY,EAAG,GAAG,EAC9E,SAAU,IAAI,OAAOnsH,EAAM,kBAAmBusH,GAAcJ,CAAY,EAAG,GAAG,EAC9E,kBAAmB,IAAI,OAAOnsH,EAAM,eAAgBusH,GAAcJ,CAAY,EAAG,GAAG,EACpF,UAAW,IAAI,OAAOnsH,EAAM,SAAUusH,GAAcJ,EAAc,iBAAkBG,EAAU,EAAG,GAAG,EACpG,aAAc,IAAI,OAAOtsH,EAAM,SAAUusH,GAAcJ,EAAc,gBAAgB,EAAG,GAAG,EAC3F,OAAQ,IAAI,OAAOnsH,EAAM,MAAOusH,GAAcJ,CAAY,EAAG,GAAG,EAChE,WAAY,IAAI,OAAOI,GAAc,GAAG,EACxC,YAAa,IAAI,OAAOvsH,EAAM,SAAUusH,GAAcH,CAAU,EAAG,GAAG,EACtE,YAAa,IAAI,OAAOH,GAAc,GAAG,EACzC,YAAa,IAAI,OAAO,KAAOQ,GAAe,IAAI,EAClD,YAAa,IAAI,OAAO,SAAWY,GAAe,IAAM7B,EAAOA,EAAO,eAAiBQ,EAAW,MAAM,EAAI,IAAMsB,GAAU,GAAG,EAAI,QAAQ,CACnJ,CACC,CACD,IAAIE,EAAe5B,EAAU,EAAK,EAE9B6B,EAAe7B,EAAU,EAAI,EAE7B8B,EAAgB,UAAY,CAC9B,SAASC,EAAc5kI,EAAKnd,EAAG,CAC7B,IAAIgiJ,EAAO,CAAA,EACP5a,GAAK,GACL7+E,GAAK,GACLC,EAAK,OAET,GAAI,CACF,QAASy5F,EAAK9kI,EAAI,OAAO,QAAQ,EAAG,EAAE+kI,GAAI,EAAE9a,IAAM8a,GAAKD,EAAG,KAAI,GAAI,QAChED,EAAK,KAAKE,GAAG,KAAK,EAEd,EAAAliJ,GAAKgiJ,EAAK,SAAWhiJ,IAH8ConI,GAAK,GAG5E,CAEH,OAAQzqC,GAAP,CACAp0C,GAAK,GACLC,EAAKm0C,EACX,QAAc,CACR,GAAI,CACE,CAACyqC,IAAM6a,EAAG,QAAWA,EAAG,QACpC,QAAgB,CACR,GAAI15F,GAAI,MAAMC,CACf,CACF,CAED,OAAOw5F,CACR,CAED,OAAO,SAAU7kI,EAAKnd,EAAG,CACvB,GAAI,MAAM,QAAQmd,CAAG,EACnB,OAAOA,EACF,GAAI,OAAO,YAAY,OAAOA,CAAG,EACtC,OAAO4kI,EAAc5kI,EAAKnd,CAAC,EAE3B,MAAM,IAAI,UAAU,sDAAsD,CAEhF,CACA,IAcImiJ,EAAoB,SAAUhlI,EAAK,CACrC,GAAI,MAAM,QAAQA,CAAG,EAAG,CACtB,QAASnd,EAAI,EAAGoiJ,EAAO,MAAMjlI,EAAI,MAAM,EAAGnd,EAAImd,EAAI,OAAQnd,IAAKoiJ,EAAKpiJ,CAAC,EAAImd,EAAInd,CAAC,EAE9E,OAAOoiJ,MAEP,QAAO,MAAM,KAAKjlI,CAAG,CAEzB,EAIIklI,EAAS,WAGTnxC,EAAO,GACPoxC,EAAO,EACPC,EAAO,GACPC,EAAO,GACPC,EAAO,IACPC,EAAc,GACdC,EAAW,IACXC,EAAY,IAGZC,EAAgB,QAChBC,EAAgB,aAChBC,EAAkB,4BAGlBrjC,EAAS,CACZ,SAAY,kDACZ,YAAa,iDACb,gBAAiB,eAClB,EAGIsjC,EAAgB9xC,EAAOoxC,EACvBW,EAAQ,KAAK,MACbC,EAAqB,OAAO,aAUhC,SAASC,EAAQ3pI,EAAM,CACtB,MAAM,IAAI,WAAWkmG,EAAOlmG,CAAI,CAAC,CACjC,CAUD,SAAS+xD,EAAIzrE,EAAOud,EAAI,CAGvB,QAFIo+B,EAAS,CAAA,EACTxiC,EAASnZ,EAAM,OACZmZ,KACNwiC,EAAOxiC,CAAM,EAAIoE,EAAGvd,EAAMmZ,CAAM,CAAC,EAElC,OAAOwiC,CACP,CAYD,SAAS2nG,EAAUvkJ,EAAQwe,EAAI,CAC9B,IAAIouE,EAAQ5sF,EAAO,MAAM,GAAG,EACxB48C,EAAS,GACTgwC,EAAM,OAAS,IAGlBhwC,EAASgwC,EAAM,CAAC,EAAI,IACpB5sF,EAAS4sF,EAAM,CAAC,GAGjB5sF,EAASA,EAAO,QAAQkkJ,EAAiB,GAAM,EAC/C,IAAIM,GAASxkJ,EAAO,MAAM,GAAG,EACzBykJ,GAAU/3E,EAAI83E,GAAQhmI,CAAE,EAAE,KAAK,GAAG,EACtC,OAAOo+B,EAAS6nG,EAChB,CAeD,SAASC,EAAW1kJ,EAAQ,CAI3B,QAHI2W,EAAS,CAAA,EACTguI,EAAU,EACVvqI,EAASpa,EAAO,OACb2kJ,EAAUvqI,GAAQ,CACxB,IAAIrb,GAAQiB,EAAO,WAAW2kJ,GAAS,EACvC,GAAI5lJ,IAAS,OAAUA,IAAS,OAAU4lJ,EAAUvqI,EAAQ,CAE3D,IAAIwqI,GAAQ5kJ,EAAO,WAAW2kJ,GAAS,GAClCC,GAAQ,QAAW,MAEvBjuI,EAAO,OAAO5X,GAAQ,OAAU,KAAO6lJ,GAAQ,MAAS,KAAO,GAI/DjuI,EAAO,KAAK5X,EAAK,EACjB4lJ,UAGDhuI,EAAO,KAAK5X,EAAK,EAGnB,OAAO4X,CACP,CAUD,IAAIkuI,EAAa,SAAoB5jJ,EAAO,CAC3C,OAAO,OAAO,cAAc,MAAM,OAAQqiJ,EAAkBriJ,CAAK,CAAC,CACnE,EAWI6jJ,EAAe,SAAsBC,EAAW,CACnD,OAAIA,EAAY,GAAO,GACfA,EAAY,GAEhBA,EAAY,GAAO,GACfA,EAAY,GAEhBA,EAAY,GAAO,GACfA,EAAY,GAEb1yC,CACR,EAaI2yC,EAAe,SAAsBC,EAAOC,EAAM,CAGrD,OAAOD,EAAQ,GAAK,IAAMA,EAAQ,MAAQC,GAAQ,IAAM,EACzD,EAOIC,EAAQ,SAAe5iF,EAAO6iF,EAAWC,EAAW,CACvD,IAAIh4H,GAAI,EAGR,IAFAk1C,EAAQ8iF,EAAYjB,EAAM7hF,EAAQqhF,CAAI,EAAIrhF,GAAS,EACnDA,GAAS6hF,EAAM7hF,EAAQ6iF,CAAS,EACF7iF,EAAQ4hF,EAAgBT,GAAQ,EAAGr2H,IAAKglF,EACrE9vC,EAAQ6hF,EAAM7hF,EAAQ4hF,CAAa,EAEpC,OAAOC,EAAM/2H,IAAK82H,EAAgB,GAAK5hF,GAASA,EAAQohF,EAAK,CAC9D,EASI2B,EAAS,SAAgB1kJ,EAAO,CAEnC,IAAI+V,EAAS,CAAA,EACT4uI,EAAc3kJ,EAAM,OACpBO,GAAI,EACJmtB,GAAIw1H,EACJ52D,EAAO22D,EAMP2B,EAAQ5kJ,EAAM,YAAYmjJ,CAAS,EACnCyB,EAAQ,IACXA,EAAQ,GAGT,QAASjnI,GAAI,EAAGA,GAAIinI,EAAO,EAAEjnI,GAExB3d,EAAM,WAAW2d,EAAC,GAAK,KAC1B+lI,EAAQ,WAAW,EAEpB3tI,EAAO,KAAK/V,EAAM,WAAW2d,EAAC,CAAC,EAMhC,QAASjY,GAAQk/I,EAAQ,EAAIA,EAAQ,EAAI,EAAGl/I,GAAQi/I,GAAuC,CAQ1F,QADIE,GAAOtkJ,GACF6tB,GAAI,EAAG3B,GAAIglF,GAAyBhlF,IAAKglF,EAAM,CAEnD/rG,IAASi/I,GACZjB,EAAQ,eAAe,EAGxB,IAAIW,GAAQH,EAAalkJ,EAAM,WAAW0F,IAAO,CAAC,GAE9C2+I,IAAS5yC,GAAQ4yC,GAAQb,GAAOZ,EAASriJ,IAAK6tB,EAAC,IAClDs1H,EAAQ,UAAU,EAGnBnjJ,IAAK8jJ,GAAQj2H,GACb,IAAIpb,GAAIyZ,IAAK6/D,EAAOu2D,EAAOp2H,IAAK6/D,EAAOw2D,EAAOA,EAAOr2H,GAAI6/D,EAEzD,GAAI+3D,GAAQrxI,GACX,MAGD,IAAI8xI,GAAarzC,EAAOz+F,GACpBob,GAAIo1H,EAAMZ,EAASkC,EAAU,GAChCpB,EAAQ,UAAU,EAGnBt1H,IAAK02H,GAGN,IAAIv4H,GAAMxW,EAAO,OAAS,EAC1Bu2E,EAAOi4D,EAAMhkJ,GAAIskJ,GAAMt4H,GAAKs4H,IAAQ,CAAC,EAIjCrB,EAAMjjJ,GAAIgsB,EAAG,EAAIq2H,EAASl1H,IAC7Bg2H,EAAQ,UAAU,EAGnBh2H,IAAK81H,EAAMjjJ,GAAIgsB,EAAG,EAClBhsB,IAAKgsB,GAGLxW,EAAO,OAAOxV,KAAK,EAAGmtB,EAAC,EAGxB,OAAO,OAAO,cAAc,MAAM,OAAQ3X,CAAM,CACjD,EASIgvI,EAAS,SAAgB/kJ,EAAO,CACnC,IAAI+V,EAAS,CAAA,EAGb/V,EAAQ8jJ,EAAW9jJ,CAAK,EAGxB,IAAI2kJ,EAAc3kJ,EAAM,OAGpB0tB,GAAIw1H,EACJvhF,GAAQ,EACR2qB,EAAO22D,EAGP+B,EAA4B,GAC5BC,GAAoB,GACpBC,GAAiB,OAErB,GAAI,CACH,QAASC,GAAYnlJ,EAAM,OAAO,QAAQ,EAAG,EAAEolJ,GAAO,EAAEJ,GAA6BI,GAAQD,GAAU,KAAI,GAAI,MAAOH,EAA4B,GAAM,CACvJ,IAAIK,GAAiBD,GAAM,MAEvBC,GAAiB,KACpBtvI,EAAO,KAAK0tI,EAAmB4B,EAAc,CAAC,EAGhD,OAAQnoD,GAAP,CACD+nD,GAAoB,GACpBC,GAAiBhoD,EACnB,QAAW,CACT,GAAI,CACC,CAAC8nD,GAA6BG,GAAU,QAC3CA,GAAU,OAAM,CAEpB,QAAY,CACT,GAAIF,GACH,MAAMC,EAEP,CACD,CAED,IAAII,GAAcvvI,EAAO,OACrBwvI,GAAiBD,GAWrB,IALIA,IACHvvI,EAAO,KAAKotI,CAAS,EAIfoC,GAAiBZ,GAAa,CAIpC,IAAIl3H,GAAIm1H,EACJ4C,GAA6B,GAC7BC,GAAqB,GACrBC,GAAkB,OAEtB,GAAI,CACH,QAASC,GAAa3lJ,EAAM,OAAO,QAAQ,EAAG,EAAE4lJ,GAAQ,EAAEJ,IAA8BI,GAASD,GAAW,KAAI,GAAI,MAAOH,GAA6B,GAAM,CAC7J,IAAIK,GAAeD,GAAO,MAEtBC,IAAgBn4H,IAAKm4H,GAAep4H,KACvCA,GAAIo4H,IAMN,OAAQ3oD,GAAP,CACDuoD,GAAqB,GACrBC,GAAkBxoD,EACrB,QAAY,CACT,GAAI,CACC,CAACsoD,IAA8BG,GAAW,QAC7CA,GAAW,OAAM,CAEtB,QAAa,CACT,GAAIF,GACH,MAAMC,EAEP,CACD,CAED,IAAII,GAAwBP,GAAiB,EACzC93H,GAAIC,GAAI81H,GAAOZ,EAASjhF,IAASmkF,EAAqB,GACzDpC,EAAQ,UAAU,EAGnB/hF,KAAUl0C,GAAIC,IAAKo4H,GACnBp4H,GAAID,GAEJ,IAAIs4H,GAA6B,GAC7BC,GAAqB,GACrBC,GAAkB,OAEtB,GAAI,CACH,QAASC,GAAalmJ,EAAM,OAAO,QAAQ,EAAG,EAAEmmJ,GAAQ,EAAEJ,IAA8BI,GAASD,GAAW,KAAI,GAAI,MAAOH,GAA6B,GAAM,CAC7J,IAAIK,GAAgBD,GAAO,MAK3B,GAHIC,GAAgB14H,IAAK,EAAEi0C,GAAQihF,GAClCc,EAAQ,UAAU,EAEf0C,IAAiB14H,GAAG,CAGvB,QADIE,GAAI+zC,GACCl1C,GAAIglF,GAAyBhlF,IAAKglF,EAAM,CAChD,IAAIz+F,GAAIyZ,IAAK6/D,EAAOu2D,EAAOp2H,IAAK6/D,EAAOw2D,EAAOA,EAAOr2H,GAAI6/D,EACzD,GAAI1+D,GAAI5a,GACP,MAED,IAAIqzI,GAAUz4H,GAAI5a,GACd8xI,GAAarzC,EAAOz+F,GACxB+C,EAAO,KAAK0tI,EAAmBW,EAAapxI,GAAIqzI,GAAUvB,GAAY,CAAC,CAAC,CAAC,EACzEl3H,GAAI41H,EAAM6C,GAAUvB,EAAU,EAG/B/uI,EAAO,KAAK0tI,EAAmBW,EAAax2H,GAAG,CAAC,CAAC,CAAC,EAClD0+D,EAAOi4D,EAAM5iF,GAAOmkF,GAAuBP,IAAkBD,EAAW,EACxE3jF,GAAQ,EACR,EAAE4jF,IAGJ,OAAQroD,GAAP,CACD8oD,GAAqB,GACrBC,GAAkB/oD,EACrB,QAAY,CACT,GAAI,CACC,CAAC6oD,IAA8BG,GAAW,QAC7CA,GAAW,OAAM,CAEtB,QAAa,CACT,GAAIF,GACH,MAAMC,EAEP,CACD,CAED,EAAEtkF,GACF,EAAEj0C,GAEH,OAAO3X,EAAO,KAAK,EAAE,CACtB,EAaIuwI,EAAY,SAAmBtmJ,EAAO,CACzC,OAAO2jJ,EAAU3jJ,EAAO,SAAUZ,EAAQ,CACzC,OAAOgkJ,EAAc,KAAKhkJ,CAAM,EAAIslJ,EAAOtlJ,EAAO,MAAM,CAAC,EAAE,YAAa,CAAA,EAAIA,CAC9E,CAAE,CACF,EAaImnJ,EAAU,SAAiBvmJ,EAAO,CACrC,OAAO2jJ,EAAU3jJ,EAAO,SAAUZ,EAAQ,CACzC,OAAOikJ,EAAc,KAAKjkJ,CAAM,EAAI,OAAS2lJ,EAAO3lJ,CAAM,EAAIA,CAChE,CAAE,CACF,EAKIonJ,EAAW,CAMd,QAAW,QAQX,KAAQ,CACP,OAAU1C,EACV,OAAUG,CACV,EACD,OAAUS,EACV,OAAUK,EACV,QAAWwB,EACX,UAAaD,CACd,EAoCIG,EAAU,CAAA,EACd,SAASC,EAAWC,EAAK,CACrB,IAAIpoI,EAAIooI,EAAI,WAAW,CAAC,EACpB5gI,EAAI,OACR,OAAIxH,EAAI,GAAIwH,EAAI,KAAOxH,EAAE,SAAS,EAAE,EAAE,YAAa,EAAUA,EAAI,IAAKwH,EAAI,IAAMxH,EAAE,SAAS,EAAE,EAAE,YAAa,EAAUA,EAAI,KAAMwH,EAAI,KAAOxH,GAAK,EAAI,KAAK,SAAS,EAAE,EAAE,YAAW,EAAK,KAAOA,EAAI,GAAK,KAAK,SAAS,EAAE,EAAE,YAAW,EAAQwH,EAAI,KAAOxH,GAAK,GAAK,KAAK,SAAS,EAAE,EAAE,YAAW,EAAK,KAAOA,GAAK,EAAI,GAAK,KAAK,SAAS,EAAE,EAAE,YAAa,EAAG,KAAOA,EAAI,GAAK,KAAK,SAAS,EAAE,EAAE,cACpXwH,CACV,CACD,SAAS6gI,GAAY9oI,EAAK,CAItB,QAHI+oI,EAAS,GACTtmJ,EAAI,EACJswF,EAAK/yE,EAAI,OACNvd,EAAIswF,GAAI,CACX,IAAItyE,GAAI,SAAST,EAAI,OAAOvd,EAAI,EAAG,CAAC,EAAG,EAAE,EACzC,GAAIge,GAAI,IACJsoI,GAAU,OAAO,aAAatoI,EAAC,EAC/Bhe,GAAK,UACEge,IAAK,KAAOA,GAAI,IAAK,CAC5B,GAAIsyE,EAAKtwF,GAAK,EAAG,CACb,IAAIilI,GAAK,SAAS1nH,EAAI,OAAOvd,EAAI,EAAG,CAAC,EAAG,EAAE,EAC1CsmJ,GAAU,OAAO,cAActoI,GAAI,KAAO,EAAIinH,GAAK,EAAE,OAErDqhB,GAAU/oI,EAAI,OAAOvd,EAAG,CAAC,EAE7BA,GAAK,UACEge,IAAK,IAAK,CACjB,GAAIsyE,EAAKtwF,GAAK,EAAG,CACb,IAAIsoD,EAAK,SAAS/qC,EAAI,OAAOvd,EAAI,EAAG,CAAC,EAAG,EAAE,EACtCumJ,EAAK,SAAShpI,EAAI,OAAOvd,EAAI,EAAG,CAAC,EAAG,EAAE,EAC1CsmJ,GAAU,OAAO,cAActoI,GAAI,KAAO,IAAMsqC,EAAK,KAAO,EAAIi+F,EAAK,EAAE,OAEvED,GAAU/oI,EAAI,OAAOvd,EAAG,CAAC,EAE7BA,GAAK,OAELsmJ,GAAU/oI,EAAI,OAAOvd,EAAG,CAAC,EACzBA,GAAK,EAGb,OAAOsmJ,CACV,CACD,SAASE,GAA4Bh1I,EAAYi1I,EAAU,CACvD,SAASC,EAAiBnpI,EAAK,CAC3B,IAAIopI,GAASN,GAAY9oI,CAAG,EAC5B,OAAQopI,GAAO,MAAMF,EAAS,UAAU,EAAUE,GAANppI,CAC/C,CACD,OAAI/L,EAAW,SAAQA,EAAW,OAAS,OAAOA,EAAW,MAAM,EAAE,QAAQi1I,EAAS,YAAaC,CAAgB,EAAE,YAAa,EAAC,QAAQD,EAAS,WAAY,EAAE,GAC9Jj1I,EAAW,WAAa,SAAWA,EAAW,SAAW,OAAOA,EAAW,QAAQ,EAAE,QAAQi1I,EAAS,YAAaC,CAAgB,EAAE,QAAQD,EAAS,aAAcN,CAAU,EAAE,QAAQM,EAAS,YAAa3G,CAAW,GACzNtuI,EAAW,OAAS,SAAWA,EAAW,KAAO,OAAOA,EAAW,IAAI,EAAE,QAAQi1I,EAAS,YAAaC,CAAgB,EAAE,YAAW,EAAG,QAAQD,EAAS,SAAUN,CAAU,EAAE,QAAQM,EAAS,YAAa3G,CAAW,GACvNtuI,EAAW,OAAS,SAAWA,EAAW,KAAO,OAAOA,EAAW,IAAI,EAAE,QAAQi1I,EAAS,YAAaC,CAAgB,EAAE,QAAQl1I,EAAW,OAASi1I,EAAS,SAAWA,EAAS,kBAAmBN,CAAU,EAAE,QAAQM,EAAS,YAAa3G,CAAW,GAC1PtuI,EAAW,QAAU,SAAWA,EAAW,MAAQ,OAAOA,EAAW,KAAK,EAAE,QAAQi1I,EAAS,YAAaC,CAAgB,EAAE,QAAQD,EAAS,UAAWN,CAAU,EAAE,QAAQM,EAAS,YAAa3G,CAAW,GAC7MtuI,EAAW,WAAa,SAAWA,EAAW,SAAW,OAAOA,EAAW,QAAQ,EAAE,QAAQi1I,EAAS,YAAaC,CAAgB,EAAE,QAAQD,EAAS,aAAcN,CAAU,EAAE,QAAQM,EAAS,YAAa3G,CAAW,GACtNtuI,CACV,CAED,SAASo1I,GAAmBrpI,EAAK,CAC7B,OAAOA,EAAI,QAAQ,UAAW,IAAI,GAAK,GAC1C,CACD,SAASspI,GAAeC,EAAML,EAAU,CACpC,IAAI9I,EAAUmJ,EAAK,MAAML,EAAS,WAAW,GAAK,GAE9CM,EAAWjF,EAAcnE,EAAS,CAAC,EACnCqJ,GAAUD,EAAS,CAAC,EAExB,OAAIC,GACOA,GAAQ,MAAM,GAAG,EAAE,IAAIJ,EAAkB,EAAE,KAAK,GAAG,EAEnDE,CAEd,CACD,SAASG,GAAeH,EAAML,EAAU,CACpC,IAAI9I,EAAUmJ,EAAK,MAAML,EAAS,WAAW,GAAK,GAE9CS,EAAYpF,EAAcnE,EAAS,CAAC,EACpCqJ,GAAUE,EAAU,CAAC,EACrBC,GAAOD,EAAU,CAAC,EAEtB,GAAIF,GAAS,CAYT,QAXII,EAAwBJ,GAAQ,YAAW,EAAG,MAAM,IAAI,EAAE,QAAS,EACnEK,EAAyBvF,EAAcsF,EAAuB,CAAC,EAC/DvtE,GAAOwtE,EAAuB,CAAC,EAC/B74C,GAAQ64C,EAAuB,CAAC,EAEhCC,GAAc94C,GAAQA,GAAM,MAAM,GAAG,EAAE,IAAIo4C,EAAkB,EAAI,GACjEW,GAAa1tE,GAAK,MAAM,GAAG,EAAE,IAAI+sE,EAAkB,EACnDY,GAAyBf,EAAS,YAAY,KAAKc,GAAWA,GAAW,OAAS,CAAC,CAAC,EACpFE,GAAaD,GAAyB,EAAI,EAC1CE,GAAkBH,GAAW,OAASE,GACtC1zB,GAAS,MAAM0zB,EAAU,EACpB92H,GAAI,EAAGA,GAAI82H,GAAY,EAAE92H,GAC9BojG,GAAOpjG,EAAC,EAAI22H,GAAY32H,EAAC,GAAK42H,GAAWG,GAAkB/2H,EAAC,GAAK,GAEjE62H,KACAzzB,GAAO0zB,GAAa,CAAC,EAAIZ,GAAe9yB,GAAO0zB,GAAa,CAAC,EAAGhB,CAAQ,GAE5E,IAAIkB,GAAgB5zB,GAAO,OAAO,SAAUjrH,GAAK04G,GAAOr8G,GAAO,CAC3D,GAAI,CAACq8G,IAASA,KAAU,IAAK,CACzB,IAAIomC,GAAc9+I,GAAIA,GAAI,OAAS,CAAC,EAChC8+I,IAAeA,GAAY,MAAQA,GAAY,SAAWziJ,GAC1DyiJ,GAAY,SAEZ9+I,GAAI,KAAK,CAAE,MAAO3D,GAAO,OAAQ,CAAC,CAAE,EAG5C,OAAO2D,EACV,EAAE,CAAE,CAAA,EACD++I,GAAoBF,GAAc,KAAK,SAAU36H,GAAGjX,GAAG,CACvD,OAAOA,GAAE,OAASiX,GAAE,MAChC,CAAS,EAAE,CAAC,EACA86H,GAAU,OACd,GAAID,IAAqBA,GAAkB,OAAS,EAAG,CACnD,IAAIE,GAAWh0B,GAAO,MAAM,EAAG8zB,GAAkB,KAAK,EAClDG,GAAUj0B,GAAO,MAAM8zB,GAAkB,MAAQA,GAAkB,MAAM,EAC7EC,GAAUC,GAAS,KAAK,GAAG,EAAI,KAAOC,GAAQ,KAAK,GAAG,OAEtDF,GAAU/zB,GAAO,KAAK,GAAG,EAE7B,OAAIozB,KACAW,IAAW,IAAMX,IAEdW,OAEP,QAAOhB,CAEd,CACD,IAAImB,GAAY,kIACZC,GAAwB,GAAG,MAAM,OAAO,EAAE,CAAC,IAAM,OACrD,SAASvzI,GAAMwzI,EAAW,CACtB,IAAI7oJ,EAAU,UAAU,OAAS,GAAK,UAAU,CAAC,IAAM,OAAY,UAAU,CAAC,EAAI,CAAA,EAE9EkS,EAAa,CAAA,EACbi1I,EAAWnnJ,EAAQ,MAAQ,GAAQuiJ,EAAeD,EAClDtiJ,EAAQ,YAAc,WAAU6oJ,GAAa7oJ,EAAQ,OAASA,EAAQ,OAAS,IAAM,IAAM,KAAO6oJ,GACtG,IAAIxK,GAAUwK,EAAU,MAAMF,EAAS,EACvC,GAAItK,GAAS,CACLuK,IAEA12I,EAAW,OAASmsI,GAAQ,CAAC,EAC7BnsI,EAAW,SAAWmsI,GAAQ,CAAC,EAC/BnsI,EAAW,KAAOmsI,GAAQ,CAAC,EAC3BnsI,EAAW,KAAO,SAASmsI,GAAQ,CAAC,EAAG,EAAE,EACzCnsI,EAAW,KAAOmsI,GAAQ,CAAC,GAAK,GAChCnsI,EAAW,MAAQmsI,GAAQ,CAAC,EAC5BnsI,EAAW,SAAWmsI,GAAQ,CAAC,EAE3B,MAAMnsI,EAAW,IAAI,IACrBA,EAAW,KAAOmsI,GAAQ,CAAC,KAK/BnsI,EAAW,OAASmsI,GAAQ,CAAC,GAAK,OAClCnsI,EAAW,SAAW22I,EAAU,QAAQ,GAAG,IAAM,GAAKxK,GAAQ,CAAC,EAAI,OACnEnsI,EAAW,KAAO22I,EAAU,QAAQ,IAAI,IAAM,GAAKxK,GAAQ,CAAC,EAAI,OAChEnsI,EAAW,KAAO,SAASmsI,GAAQ,CAAC,EAAG,EAAE,EACzCnsI,EAAW,KAAOmsI,GAAQ,CAAC,GAAK,GAChCnsI,EAAW,MAAQ22I,EAAU,QAAQ,GAAG,IAAM,GAAKxK,GAAQ,CAAC,EAAI,OAChEnsI,EAAW,SAAW22I,EAAU,QAAQ,GAAG,IAAM,GAAKxK,GAAQ,CAAC,EAAI,OAE/D,MAAMnsI,EAAW,IAAI,IACrBA,EAAW,KAAO22I,EAAU,MAAM,+BAA+B,EAAIxK,GAAQ,CAAC,EAAI,SAGtFnsI,EAAW,OAEXA,EAAW,KAAOy1I,GAAeJ,GAAer1I,EAAW,KAAMi1I,CAAQ,EAAGA,CAAQ,GAGpFj1I,EAAW,SAAW,QAAaA,EAAW,WAAa,QAAaA,EAAW,OAAS,QAAaA,EAAW,OAAS,QAAa,CAACA,EAAW,MAAQA,EAAW,QAAU,OACnLA,EAAW,UAAY,gBAChBA,EAAW,SAAW,OAC7BA,EAAW,UAAY,WAChBA,EAAW,WAAa,OAC/BA,EAAW,UAAY,WAEvBA,EAAW,UAAY,MAGvBlS,EAAQ,WAAaA,EAAQ,YAAc,UAAYA,EAAQ,YAAckS,EAAW,YACxFA,EAAW,MAAQA,EAAW,OAAS,gBAAkBlS,EAAQ,UAAY,eAGjF,IAAI8oJ,GAAgBlC,GAAS5mJ,EAAQ,QAAUkS,EAAW,QAAU,IAAI,YAAW,CAAE,EAErF,GAAI,CAAClS,EAAQ,iBAAmB,CAAC8oJ,IAAiB,CAACA,GAAc,gBAAiB,CAE9E,GAAI52I,EAAW,OAASlS,EAAQ,YAAc8oJ,IAAiBA,GAAc,YAEzE,GAAI,CACA52I,EAAW,KAAOy0I,EAAS,QAAQz0I,EAAW,KAAK,QAAQi1I,EAAS,YAAaJ,EAAW,EAAE,YAAa,CAAA,CAC9G,OAAQ7gI,EAAP,CACEhU,EAAW,MAAQA,EAAW,OAAS,kEAAoEgU,CAC9G,CAGLghI,GAA4Bh1I,EAAYowI,CAAY,OAGpD4E,GAA4Bh1I,EAAYi1I,CAAQ,EAGhD2B,IAAiBA,GAAc,OAC/BA,GAAc,MAAM52I,EAAYlS,CAAO,OAG3CkS,EAAW,MAAQA,EAAW,OAAS,yBAE3C,OAAOA,CACV,CAED,SAAS62I,GAAoB72I,EAAYlS,EAAS,CAC9C,IAAImnJ,EAAWnnJ,EAAQ,MAAQ,GAAQuiJ,EAAeD,EAClD0G,EAAY,CAAA,EAChB,OAAI92I,EAAW,WAAa,SACxB82I,EAAU,KAAK92I,EAAW,QAAQ,EAClC82I,EAAU,KAAK,GAAG,GAElB92I,EAAW,OAAS,QAEpB82I,EAAU,KAAKrB,GAAeJ,GAAe,OAAOr1I,EAAW,IAAI,EAAGi1I,CAAQ,EAAGA,CAAQ,EAAE,QAAQA,EAAS,YAAa,SAAUj0I,GAAG+1I,GAAIC,EAAI,CAC1I,MAAO,IAAMD,IAAMC,EAAK,MAAQA,EAAK,IAAM,GAC9C,CAAA,CAAC,GAEF,OAAOh3I,EAAW,MAAS,UAAY,OAAOA,EAAW,MAAS,YAClE82I,EAAU,KAAK,GAAG,EAClBA,EAAU,KAAK,OAAO92I,EAAW,IAAI,CAAC,GAEnC82I,EAAU,OAASA,EAAU,KAAK,EAAE,EAAI,MAClD,CAED,IAAIG,GAAO,WACPC,GAAO,cACPC,GAAO,gBACPC,GAAO,yBACX,SAASC,GAAkBppJ,EAAO,CAE9B,QADI+V,EAAS,CAAA,EACN/V,EAAM,QACT,GAAIA,EAAM,MAAMgpJ,EAAI,EAChBhpJ,EAAQA,EAAM,QAAQgpJ,GAAM,EAAE,UACvBhpJ,EAAM,MAAMipJ,EAAI,EACvBjpJ,EAAQA,EAAM,QAAQipJ,GAAM,GAAG,UACxBjpJ,EAAM,MAAMkpJ,EAAI,EACvBlpJ,EAAQA,EAAM,QAAQkpJ,GAAM,GAAG,EAC/BnzI,EAAO,IAAG,UACH/V,IAAU,KAAOA,IAAU,KAClCA,EAAQ,OACL,CACH,IAAIqpJ,EAAKrpJ,EAAM,MAAMmpJ,EAAI,EACzB,GAAIE,EAAI,CACJ,IAAI3sH,EAAI2sH,EAAG,CAAC,EACZrpJ,EAAQA,EAAM,MAAM08B,EAAE,MAAM,EAC5B3mB,EAAO,KAAK2mB,CAAC,MAEb,OAAM,IAAI,MAAM,kCAAkC,EAI9D,OAAO3mB,EAAO,KAAK,EAAE,CACxB,CAED,SAASuzI,GAAUv3I,EAAY,CAC3B,IAAIlS,EAAU,UAAU,OAAS,GAAK,UAAU,CAAC,IAAM,OAAY,UAAU,CAAC,EAAI,CAAA,EAE9EmnJ,EAAWnnJ,EAAQ,IAAMuiJ,EAAeD,EACxC0G,EAAY,CAAA,EAEZF,GAAgBlC,GAAS5mJ,EAAQ,QAAUkS,EAAW,QAAU,IAAI,YAAW,CAAE,EAGrF,GADI42I,IAAiBA,GAAc,WAAWA,GAAc,UAAU52I,EAAYlS,CAAO,EACrFkS,EAAW,MAEP,CAAAi1I,EAAS,YAAY,KAAKj1I,EAAW,IAAI,GAIxC,GAAIlS,EAAQ,YAAc8oJ,IAAiBA,GAAc,WAEtD,GAAI,CACA52I,EAAW,KAAQlS,EAAQ,IAAmG2mJ,EAAS,UAAUz0I,EAAW,IAAI,EAA/Hy0I,EAAS,QAAQz0I,EAAW,KAAK,QAAQi1I,EAAS,YAAaJ,EAAW,EAAE,YAAa,CAAA,CAC7H,OAAQ7gI,EAAP,CACEhU,EAAW,MAAQA,EAAW,OAAS,+CAAkDlS,EAAQ,IAAgB,UAAV,SAAuB,kBAAoBkmB,CACrJ,EAIbghI,GAA4Bh1I,EAAYi1I,CAAQ,EAC5CnnJ,EAAQ,YAAc,UAAYkS,EAAW,SAC7C82I,EAAU,KAAK92I,EAAW,MAAM,EAChC82I,EAAU,KAAK,GAAG,GAEtB,IAAIU,GAAYX,GAAoB72I,EAAYlS,CAAO,EAUvD,GATI0pJ,KAAc,SACV1pJ,EAAQ,YAAc,UACtBgpJ,EAAU,KAAK,IAAI,EAEvBA,EAAU,KAAKU,EAAS,EACpBx3I,EAAW,MAAQA,EAAW,KAAK,OAAO,CAAC,IAAM,KACjD82I,EAAU,KAAK,GAAG,GAGtB92I,EAAW,OAAS,OAAW,CAC/B,IAAI2qB,EAAI3qB,EAAW,KACf,CAAClS,EAAQ,eAAiB,CAAC8oJ,IAAiB,CAACA,GAAc,gBAC3DjsH,EAAI0sH,GAAkB1sH,CAAC,GAEvB6sH,KAAc,SACd7sH,EAAIA,EAAE,QAAQ,QAAS,MAAM,GAEjCmsH,EAAU,KAAKnsH,CAAC,EAEpB,OAAI3qB,EAAW,QAAU,SACrB82I,EAAU,KAAK,GAAG,EAClBA,EAAU,KAAK92I,EAAW,KAAK,GAE/BA,EAAW,WAAa,SACxB82I,EAAU,KAAK,GAAG,EAClBA,EAAU,KAAK92I,EAAW,QAAQ,GAE/B82I,EAAU,KAAK,EAAE,CAC3B,CAED,SAASW,GAAkB/3C,EAAMg4C,EAAU,CACvC,IAAI5pJ,EAAU,UAAU,OAAS,GAAK,UAAU,CAAC,IAAM,OAAY,UAAU,CAAC,EAAI,CAAA,EAC9E6pJ,EAAoB,UAAU,CAAC,EAE/B7uH,GAAS,CAAA,EACb,OAAK6uH,IACDj4C,EAAOv8F,GAAMo0I,GAAU73C,EAAM5xG,CAAO,EAAGA,CAAO,EAC9C4pJ,EAAWv0I,GAAMo0I,GAAUG,EAAU5pJ,CAAO,EAAGA,CAAO,GAE1DA,EAAUA,GAAW,GACjB,CAACA,EAAQ,UAAY4pJ,EAAS,QAC9B5uH,GAAO,OAAS4uH,EAAS,OAEzB5uH,GAAO,SAAW4uH,EAAS,SAC3B5uH,GAAO,KAAO4uH,EAAS,KACvB5uH,GAAO,KAAO4uH,EAAS,KACvB5uH,GAAO,KAAOuuH,GAAkBK,EAAS,MAAQ,EAAE,EACnD5uH,GAAO,MAAQ4uH,EAAS,QAEpBA,EAAS,WAAa,QAAaA,EAAS,OAAS,QAAaA,EAAS,OAAS,QAEpF5uH,GAAO,SAAW4uH,EAAS,SAC3B5uH,GAAO,KAAO4uH,EAAS,KACvB5uH,GAAO,KAAO4uH,EAAS,KACvB5uH,GAAO,KAAOuuH,GAAkBK,EAAS,MAAQ,EAAE,EACnD5uH,GAAO,MAAQ4uH,EAAS,QAEnBA,EAAS,MAQNA,EAAS,KAAK,OAAO,CAAC,IAAM,IAC5B5uH,GAAO,KAAOuuH,GAAkBK,EAAS,IAAI,IAExCh4C,EAAK,WAAa,QAAaA,EAAK,OAAS,QAAaA,EAAK,OAAS,SAAc,CAACA,EAAK,KAC7F52E,GAAO,KAAO,IAAM4uH,EAAS,KACrBh4C,EAAK,KAGb52E,GAAO,KAAO42E,EAAK,KAAK,MAAM,EAAGA,EAAK,KAAK,YAAY,GAAG,EAAI,CAAC,EAAIg4C,EAAS,KAF5E5uH,GAAO,KAAO4uH,EAAS,KAI3B5uH,GAAO,KAAOuuH,GAAkBvuH,GAAO,IAAI,GAE/CA,GAAO,MAAQ4uH,EAAS,QAnBxB5uH,GAAO,KAAO42E,EAAK,KACfg4C,EAAS,QAAU,OACnB5uH,GAAO,MAAQ4uH,EAAS,MAExB5uH,GAAO,MAAQ42E,EAAK,OAkB5B52E,GAAO,SAAW42E,EAAK,SACvB52E,GAAO,KAAO42E,EAAK,KACnB52E,GAAO,KAAO42E,EAAK,MAEvB52E,GAAO,OAAS42E,EAAK,QAEzB52E,GAAO,SAAW4uH,EAAS,SACpB5uH,EACV,CAED,SAAS4P,GAAQk/G,EAASC,EAAa/pJ,EAAS,CAC5C,IAAIgqJ,EAAoB1M,EAAO,CAAE,OAAQ,MAAM,EAAIt9I,CAAO,EAC1D,OAAOypJ,GAAUE,GAAkBt0I,GAAMy0I,EAASE,CAAiB,EAAG30I,GAAM00I,EAAaC,CAAiB,EAAGA,EAAmB,EAAI,EAAGA,CAAiB,CAC3J,CAED,SAASxlE,GAAU/zD,EAAKzwB,EAAS,CAC7B,OAAI,OAAOywB,GAAQ,SACfA,EAAMg5H,GAAUp0I,GAAMob,EAAKzwB,CAAO,EAAGA,CAAO,EACrCugJ,EAAO9vH,CAAG,IAAM,WACvBA,EAAMpb,GAAMo0I,GAAUh5H,EAAKzwB,CAAO,EAAGA,CAAO,GAEzCywB,CACV,CAED,SAAS8mH,GAAM0S,EAAMC,EAAMlqJ,EAAS,CAChC,OAAI,OAAOiqJ,GAAS,SAChBA,EAAOR,GAAUp0I,GAAM40I,EAAMjqJ,CAAO,EAAGA,CAAO,EACvCugJ,EAAO0J,CAAI,IAAM,WACxBA,EAAOR,GAAUQ,EAAMjqJ,CAAO,GAE9B,OAAOkqJ,GAAS,SAChBA,EAAOT,GAAUp0I,GAAM60I,EAAMlqJ,CAAO,EAAGA,CAAO,EACvCugJ,EAAO2J,CAAI,IAAM,WACxBA,EAAOT,GAAUS,EAAMlqJ,CAAO,GAE3BiqJ,IAASC,CACnB,CAED,SAASC,GAAgBlsI,EAAKje,EAAS,CACnC,OAAOie,GAAOA,EAAI,SAAU,EAAC,QAAQ,CAACje,GAAW,CAACA,EAAQ,IAAMsiJ,EAAa,OAASC,EAAa,OAAQsE,CAAU,CACxH,CAED,SAASuD,GAAkBnsI,EAAKje,EAAS,CACrC,OAAOie,GAAOA,EAAI,SAAU,EAAC,QAAQ,CAACje,GAAW,CAACA,EAAQ,IAAMsiJ,EAAa,YAAcC,EAAa,YAAawE,EAAW,CACnI,CAED,IAAIh0G,GAAU,CACV,OAAQ,OACR,WAAY,GACZ,MAAO,SAAe7gC,EAAYlS,EAAS,CAEvC,OAAKkS,EAAW,OACZA,EAAW,MAAQA,EAAW,OAAS,+BAEpCA,CACV,EACD,UAAW,SAAmBA,EAAYlS,EAAS,CAC/C,IAAIqqJ,EAAS,OAAOn4I,EAAW,MAAM,EAAE,YAAa,IAAK,QAEzD,OAAIA,EAAW,QAAUm4I,EAAS,IAAM,KAAOn4I,EAAW,OAAS,MAC/DA,EAAW,KAAO,QAGjBA,EAAW,OACZA,EAAW,KAAO,KAKfA,CACV,CACL,EAEIo4I,GAAY,CACZ,OAAQ,QACR,WAAYv3G,GAAQ,WACpB,MAAOA,GAAQ,MACf,UAAWA,GAAQ,SACvB,EAEA,SAASw3G,GAASC,EAAc,CAC5B,OAAO,OAAOA,EAAa,QAAW,UAAYA,EAAa,OAAS,OAAOA,EAAa,MAAM,EAAE,YAAW,IAAO,KACzH,CAED,IAAIC,GAAY,CACZ,OAAQ,KACR,WAAY,GACZ,MAAO,SAAev4I,EAAYlS,EAAS,CACvC,IAAIwqJ,EAAet4I,EAEnB,OAAAs4I,EAAa,OAASD,GAASC,CAAY,EAE3CA,EAAa,cAAgBA,EAAa,MAAQ,MAAQA,EAAa,MAAQ,IAAMA,EAAa,MAAQ,IAC1GA,EAAa,KAAO,OACpBA,EAAa,MAAQ,OACdA,CACV,EACD,UAAW,SAAmBA,EAAcxqJ,EAAS,CAWjD,IATIwqJ,EAAa,QAAUD,GAASC,CAAY,EAAI,IAAM,KAAOA,EAAa,OAAS,MACnFA,EAAa,KAAO,QAGpB,OAAOA,EAAa,QAAW,YAC/BA,EAAa,OAASA,EAAa,OAAS,MAAQ,KACpDA,EAAa,OAAS,QAGtBA,EAAa,aAAc,CAC3B,IAAIE,EAAwBF,EAAa,aAAa,MAAM,GAAG,EAC3DG,GAAyBnI,EAAckI,EAAuB,CAAC,EAC/Dl4G,GAAOm4G,GAAuB,CAAC,EAC/BpsD,EAAQosD,GAAuB,CAAC,EAEpCH,EAAa,KAAOh4G,IAAQA,KAAS,IAAMA,GAAO,OAClDg4G,EAAa,MAAQjsD,EACrBisD,EAAa,aAAe,OAGhC,OAAAA,EAAa,SAAW,OACjBA,CACV,CACL,EAEII,GAAY,CACZ,OAAQ,MACR,WAAYH,GAAU,WACtB,MAAOA,GAAU,MACjB,UAAWA,GAAU,SACzB,EAEII,GAAI,CAAA,EAGJxJ,GAAe,mGACfP,GAAW,cACXC,GAAeT,EAAOA,EAAO,UAAYQ,GAAW,IAAMA,GAAWA,GAAW,IAAMA,GAAWA,EAAQ,EAAI,IAAMR,EAAO,cAAgBQ,GAAW,IAAMA,GAAWA,EAAQ,EAAI,IAAMR,EAAO,IAAMQ,GAAWA,EAAQ,CAAC,EAYzNgK,GAAU,wDACVC,GAAU,6DACVC,GAAUl2H,EAAMi2H,GAAS,WAAY,EACrCE,GAAgB,sCAChBC,GAAa,IAAI,OAAO7J,GAAc,GAAG,EACzC8J,GAAc,IAAI,OAAOpK,GAAc,GAAG,EAC1CqK,GAAiB,IAAI,OAAOt2H,EAAM,MAAOg2H,GAAS,QAAS,QAASE,EAAO,EAAG,GAAG,EACjFK,GAAa,IAAI,OAAOv2H,EAAM,MAAOusH,GAAc4J,EAAa,EAAG,GAAG,EACtEK,GAAcD,GAClB,SAASjE,GAAiBnpI,EAAK,CAC3B,IAAIopI,EAASN,GAAY9oI,CAAG,EAC5B,OAAQopI,EAAO,MAAM6D,EAAU,EAAU7D,EAANppI,CACtC,CACD,IAAIstI,GAAY,CACZ,OAAQ,SACR,MAAO,SAAkBr5I,EAAYlS,EAAS,CAC1C,IAAIwrJ,EAAmBt5I,EACnBw3H,GAAK8hB,EAAiB,GAAKA,EAAiB,KAAOA,EAAiB,KAAK,MAAM,GAAG,EAAI,CAAA,EAE1F,GADAA,EAAiB,KAAO,OACpBA,EAAiB,MAAO,CAIxB,QAHIC,GAAiB,GACjBrsD,EAAU,CAAA,EACVssD,EAAUF,EAAiB,MAAM,MAAM,GAAG,EACrCn6H,GAAI,EAAGgvH,GAAKqL,EAAQ,OAAQr6H,GAAIgvH,GAAI,EAAEhvH,GAAG,CAC9C,IAAIs6H,GAASD,EAAQr6H,EAAC,EAAE,MAAM,GAAG,EACjC,OAAQs6H,GAAO,CAAC,EAAC,CACb,IAAK,KAED,QADIC,GAAUD,GAAO,CAAC,EAAE,MAAM,GAAG,EACxBE,GAAK,EAAGC,GAAMF,GAAQ,OAAQC,GAAKC,GAAK,EAAED,GAC/CniB,GAAG,KAAKkiB,GAAQC,EAAE,CAAC,EAEvB,MACJ,IAAK,UACDL,EAAiB,QAAUpB,GAAkBuB,GAAO,CAAC,EAAG3rJ,CAAO,EAC/D,MACJ,IAAK,OACDwrJ,EAAiB,KAAOpB,GAAkBuB,GAAO,CAAC,EAAG3rJ,CAAO,EAC5D,MACJ,QACIyrJ,GAAiB,GACjBrsD,EAAQgrD,GAAkBuB,GAAO,CAAC,EAAG3rJ,CAAO,CAAC,EAAIoqJ,GAAkBuB,GAAO,CAAC,EAAG3rJ,CAAO,EACrF,KACP,EAEDyrJ,KAAgBD,EAAiB,QAAUpsD,GAEnDosD,EAAiB,MAAQ,OACzB,QAASO,GAAM,EAAGC,GAAOtiB,GAAG,OAAQqiB,GAAMC,GAAM,EAAED,GAAK,CACnD,IAAIE,GAAOviB,GAAGqiB,EAAG,EAAE,MAAM,GAAG,EAE5B,GADAE,GAAK,CAAC,EAAI7B,GAAkB6B,GAAK,CAAC,CAAC,EAC9BjsJ,EAAQ,eAQTisJ,GAAK,CAAC,EAAI7B,GAAkB6B,GAAK,CAAC,EAAGjsJ,CAAO,EAAE,kBAN9C,IAAI,CACAisJ,GAAK,CAAC,EAAItF,EAAS,QAAQyD,GAAkB6B,GAAK,CAAC,EAAGjsJ,CAAO,EAAE,YAAa,CAAA,CAC/E,OAAQkmB,GAAP,CACEslI,EAAiB,MAAQA,EAAiB,OAAS,2EAA6EtlI,EACnI,CAILwjH,GAAGqiB,EAAG,EAAIE,GAAK,KAAK,GAAG,EAE3B,OAAOT,CACV,EACD,UAAW,SAAsBA,EAAkBxrJ,EAAS,CACxD,IAAIkS,EAAas5I,EACb9hB,GAAK+W,EAAQ+K,EAAiB,EAAE,EACpC,GAAI9hB,GAAI,CACJ,QAASr4G,GAAI,EAAGgvH,EAAK3W,GAAG,OAAQr4G,GAAIgvH,EAAI,EAAEhvH,GAAG,CACzC,IAAI66H,EAAS,OAAOxiB,GAAGr4G,EAAC,CAAC,EACrB86H,GAAQD,EAAO,YAAY,GAAG,EAC9BE,GAAYF,EAAO,MAAM,EAAGC,EAAK,EAAE,QAAQhB,GAAa/D,EAAgB,EAAE,QAAQ+D,GAAa3K,CAAW,EAAE,QAAQ4K,GAAgBvE,CAAU,EAC9IwF,GAASH,EAAO,MAAMC,GAAQ,CAAC,EAEnC,GAAI,CACAE,GAAUrsJ,EAAQ,IAA2E2mJ,EAAS,UAAU0F,EAAM,EAA9F1F,EAAS,QAAQyD,GAAkBiC,GAAQrsJ,CAAO,EAAE,YAAW,CAAE,CAC5F,OAAQkmB,GAAP,CACEhU,EAAW,MAAQA,EAAW,OAAS,wDAA2DlS,EAAQ,IAAgB,UAAV,SAAuB,kBAAoBkmB,EAC9J,CACDwjH,GAAGr4G,EAAC,EAAI+6H,GAAY,IAAMC,GAE9Bn6I,EAAW,KAAOw3H,GAAG,KAAK,GAAG,EAEjC,IAAItqC,GAAUosD,EAAiB,QAAUA,EAAiB,SAAW,CAAA,EACjEA,EAAiB,UAASpsD,GAAQ,QAAaosD,EAAiB,SAChEA,EAAiB,OAAMpsD,GAAQ,KAAUosD,EAAiB,MAC9D,IAAI/2B,GAAS,CAAA,EACb,QAASj3G,MAAQ4hF,GACTA,GAAQ5hF,EAAI,IAAMqtI,GAAErtI,EAAI,GACxBi3G,GAAO,KAAKj3G,GAAK,QAAQ2tI,GAAa/D,EAAgB,EAAE,QAAQ+D,GAAa3K,CAAW,EAAE,QAAQ6K,GAAYxE,CAAU,EAAI,IAAMznD,GAAQ5hF,EAAI,EAAE,QAAQ2tI,GAAa/D,EAAgB,EAAE,QAAQ+D,GAAa3K,CAAW,EAAE,QAAQ8K,GAAazE,CAAU,CAAC,EAGjQ,OAAIpyB,GAAO,SACPviH,EAAW,MAAQuiH,GAAO,KAAK,GAAG,GAE/BviH,CACV,CACL,EAEIo6I,GAAY,kBAEZC,GAAY,CACZ,OAAQ,MACR,MAAO,SAAkBr6I,EAAYlS,EAAS,CAC1C,IAAIq+I,EAAUnsI,EAAW,MAAQA,EAAW,KAAK,MAAMo6I,EAAS,EAC5DE,GAAgBt6I,EACpB,GAAImsI,EAAS,CACT,IAAIoO,GAASzsJ,EAAQ,QAAUwsJ,GAAc,QAAU,MACnDE,EAAMrO,EAAQ,CAAC,EAAE,YAAW,EAC5BsO,EAAMtO,EAAQ,CAAC,EACfuO,GAAYH,GAAS,KAAOzsJ,EAAQ,KAAO0sJ,GAC3C5D,GAAgBlC,EAAQgG,EAAS,EACrCJ,GAAc,IAAME,EACpBF,GAAc,IAAMG,EACpBH,GAAc,KAAO,OACjB1D,KACA0D,GAAgB1D,GAAc,MAAM0D,GAAexsJ,CAAO,QAG9DwsJ,GAAc,MAAQA,GAAc,OAAS,yBAEjD,OAAOA,EACV,EACD,UAAW,SAAsBA,EAAexsJ,EAAS,CACrD,IAAIysJ,EAASzsJ,EAAQ,QAAUwsJ,EAAc,QAAU,MACnDE,GAAMF,EAAc,IACpBI,GAAYH,EAAS,KAAOzsJ,EAAQ,KAAO0sJ,IAC3C5D,EAAgBlC,EAAQgG,EAAS,EACjC9D,IACA0D,EAAgB1D,EAAc,UAAU0D,EAAexsJ,CAAO,GAElE,IAAI6sJ,EAAgBL,EAChBG,GAAMH,EAAc,IACxB,OAAAK,EAAc,MAAQH,IAAO1sJ,EAAQ,KAAO,IAAM2sJ,GAC3CE,CACV,CACL,EAEIC,GAAO,2DAEPC,GAAY,CACZ,OAAQ,WACR,MAAO,SAAeP,EAAexsJ,EAAS,CAC1C,IAAIgtJ,EAAiBR,EACrB,OAAAQ,EAAe,KAAOA,EAAe,IACrCA,EAAe,IAAM,OACjB,CAAChtJ,EAAQ,WAAa,CAACgtJ,EAAe,MAAQ,CAACA,EAAe,KAAK,MAAMF,EAAI,KAC7EE,EAAe,MAAQA,EAAe,OAAS,sBAE5CA,CACV,EACD,UAAW,SAAmBA,EAAgBhtJ,EAAS,CACnD,IAAIwsJ,EAAgBQ,EAEpB,OAAAR,EAAc,KAAOQ,EAAe,MAAQ,IAAI,cACzCR,CACV,CACL,EAEA5F,EAAQ7zG,GAAQ,MAAM,EAAIA,GAC1B6zG,EAAQ0D,GAAU,MAAM,EAAIA,GAC5B1D,EAAQ6D,GAAU,MAAM,EAAIA,GAC5B7D,EAAQgE,GAAU,MAAM,EAAIA,GAC5BhE,EAAQ2E,GAAU,MAAM,EAAIA,GAC5B3E,EAAQ2F,GAAU,MAAM,EAAIA,GAC5B3F,EAAQmG,GAAU,MAAM,EAAIA,GAE5BrtI,EAAQ,QAAUknI,EAClBlnI,EAAQ,WAAamnI,EACrBnnI,EAAQ,YAAcqnI,GACtBrnI,EAAQ,MAAQrK,GAChBqK,EAAQ,kBAAoB6pI,GAC5B7pI,EAAQ,UAAY+pI,GACpB/pI,EAAQ,kBAAoBiqI,GAC5BjqI,EAAQ,QAAUkrB,GAClBlrB,EAAQ,UAAY8kE,GACpB9kE,EAAQ,MAAQ63H,GAChB73H,EAAQ,gBAAkByqI,GAC1BzqI,EAAQ,kBAAoB0qI,GAE5B,OAAO,eAAe1qI,EAAS,aAAc,CAAE,MAAO,EAAI,CAAE,CAE5D,sCCh6CA,OAAO,eAAeutI,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5D,MAAMx8H,GAAM5T,GACZ4T,GAAI,KAAO,0CACIw8H,GAAA,QAAGx8H,gBCHlB,OAAO,eAAc/Q,EAAU,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5DA,EAAkB,QAAAA,EAAA,KAAeA,MAAcA,EAAoB,UAAAA,EAAA,IAAcA,IAAYA,EAAqB,WAAA,OAClH,IAAIo/H,EAAajiI,GACjB,OAAO,eAAe6C,EAAS,aAAc,CAAE,WAAY,GAAM,IAAK,UAAY,CAAE,OAAOo/H,EAAW,UAAW,CAAI,CAAA,EACrH,IAAInT,EAAY1uH,GAChB,OAAO,eAAeyC,EAAS,IAAK,CAAE,WAAY,GAAM,IAAK,UAAY,CAAE,OAAOisH,EAAU,CAAE,CAAI,CAAA,EAClG,OAAO,eAAejsH,EAAS,MAAO,CAAE,WAAY,GAAM,IAAK,UAAY,CAAE,OAAOisH,EAAU,GAAI,CAAI,CAAA,EACtG,OAAO,eAAejsH,EAAS,YAAa,CAAE,WAAY,GAAM,IAAK,UAAY,CAAE,OAAOisH,EAAU,SAAU,CAAI,CAAA,EAClH,OAAO,eAAejsH,EAAS,MAAO,CAAE,WAAY,GAAM,IAAK,UAAY,CAAE,OAAOisH,EAAU,GAAI,CAAI,CAAA,EACtG,OAAO,eAAejsH,EAAS,OAAQ,CAAE,WAAY,GAAM,IAAK,UAAY,CAAE,OAAOisH,EAAU,IAAK,CAAI,CAAA,EACxG,OAAO,eAAejsH,EAAS,UAAW,CAAE,WAAY,GAAM,IAAK,UAAY,CAAE,OAAOisH,EAAU,OAAQ,CAAI,CAAA,EAC9G,MAAMkT,EAAqB1hI,GACrB+vI,EAAcjpI,GACditH,EAAUjmE,GACVkiF,EAAYhiF,GACZiiF,EAAYnwI,GACZq9H,EAAYjvE,GACZ6uE,EAAa3uE,GACb4iE,EAASp/D,GACTs+E,EAAiBr+E,GACjBi+E,EAAQn7E,GACRw7E,EAAgB,CAACrvI,EAAKsvI,IAAU,IAAI,OAAOtvI,EAAKsvI,CAAK,EAC3DD,EAAc,KAAO,aACrB,MAAME,EAAsB,CAAC,mBAAoB,cAAe,aAAa,EACvEC,EAAkB,IAAI,IAAI,CAC5B,WACA,YACA,QACA,UACA,OACA,SACA,UACA,UACA,UACA,gBACA,OACA,MACA,OACJ,CAAC,EACKC,EAAiB,CACnB,cAAe,GACf,OAAQ,gDACR,SAAU,8CACV,aAAc,mDACd,WAAY,wDACZ,YAAa,sEACb,YAAa,oEACb,WAAY,oCACZ,eAAgB,0CAChB,eAAgB,0CAChB,YAAa,6CACb,eAAgB,+EAChB,MAAO,8CACP,UAAW,8CACX,UAAW,oBACf,EACMC,EAAoB,CACtB,sBAAuB,GACvB,iBAAkB,GAClB,QAAS,oEACb,EACMC,EAAiB,IAEvB,SAASC,EAAgBz0H,EAAG,CACxB,IAAIqX,EAAIwB,EAAI+W,EAAIC,EAAIC,EAAI4kG,EAAIC,EAAIC,EAAIC,GAAIC,GAAIC,GAAIC,GAAIC,GAAIC,GAAIC,GAAIC,GAAI5L,GAAIxvI,GAAIq7I,GAAIC,GAAIC,GAAI9C,GAAI+C,GAAIC,GAAIC,GACpG,MAAMjyH,GAAIzD,EAAE,OACN21H,IAASt+G,EAAKrX,EAAE,QAAU,MAAQqX,IAAO,OAAS,OAASA,EAAG,SAC9D80F,GAAWwpB,KAAU,IAAQA,KAAU,OAAY,EAAIA,IAAS,EAChEra,IAAU1rF,GAAM/W,EAAK7Y,EAAE,QAAU,MAAQ6Y,IAAO,OAAS,OAASA,EAAG,UAAY,MAAQ+W,IAAO,OAASA,EAAKskG,EAC9GrU,IAAehwF,EAAK7vB,EAAE,eAAiB,MAAQ6vB,IAAO,OAASA,EAAKgkG,EAAM,QAChF,MAAO,CACH,cAAea,GAAM5kG,EAAK9vB,EAAE,gBAAkB,MAAQ8vB,IAAO,OAASA,EAAKrsB,MAAO,MAAQixH,IAAO,OAASA,EAAK,GAC/G,eAAgBE,GAAMD,EAAK30H,EAAE,iBAAmB,MAAQ20H,IAAO,OAASA,EAAKlxH,MAAO,MAAQmxH,IAAO,OAASA,EAAK,GACjH,aAAcE,IAAMD,GAAK70H,EAAE,eAAiB,MAAQ60H,KAAO,OAASA,GAAKpxH,MAAO,MAAQqxH,KAAO,OAASA,GAAK,MAC7G,cAAeE,IAAMD,GAAK/0H,EAAE,gBAAkB,MAAQ+0H,KAAO,OAASA,GAAKtxH,MAAO,MAAQuxH,KAAO,OAASA,GAAK,MAC/G,gBAAiBE,IAAMD,GAAKj1H,EAAE,kBAAoB,MAAQi1H,KAAO,OAASA,GAAKxxH,MAAO,MAAQyxH,KAAO,OAASA,GAAK,GACnH,KAAMl1H,EAAE,KAAO,CAAE,GAAGA,EAAE,KAAM,SAAAmsG,GAAU,OAAAmP,EAAM,EAAK,CAAE,SAAAnP,GAAU,OAAAmP,EAAQ,EACrE,cAAe6Z,GAAKn1H,EAAE,gBAAkB,MAAQm1H,KAAO,OAASA,GAAKX,EACrE,UAAWY,GAAKp1H,EAAE,YAAc,MAAQo1H,KAAO,OAASA,GAAKZ,EAC7D,MAAOhL,GAAKxpH,EAAE,QAAU,MAAQwpH,KAAO,OAASA,GAAK,GACrD,UAAWxvI,GAAKgmB,EAAE,YAAc,MAAQhmB,KAAO,OAASA,GAAK,GAC7D,YAAaq7I,GAAKr1H,EAAE,cAAgB,MAAQq1H,KAAO,OAASA,GAAK,GACjE,UAAWC,GAAKt1H,EAAE,YAAc,MAAQs1H,KAAO,OAASA,GAAK,MAC7D,eAAgBC,GAAKv1H,EAAE,iBAAmB,MAAQu1H,KAAO,OAASA,GAAK,GACvE,gBAAiB9C,GAAKzyH,EAAE,kBAAoB,MAAQyyH,KAAO,OAASA,GAAK,GACzE,iBAAkB+C,GAAKx1H,EAAE,mBAAqB,MAAQw1H,KAAO,OAASA,GAAK,GAC3E,eAAgBC,GAAKz1H,EAAE,iBAAmB,MAAQy1H,KAAO,OAASA,GAAK,GACvE,YAAaC,GAAK11H,EAAE,cAAgB,MAAQ01H,KAAO,OAASA,GAAK,GACjE,YAAa7V,EACrB,CACC,CACD,MAAM+V,CAAI,CACN,YAAY1vI,EAAO,GAAI,CACnB,KAAK,QAAU,GACf,KAAK,KAAO,GACZ,KAAK,QAAU,GACf,KAAK,cAAgB,IAAI,IACzB,KAAK,SAAW,GAChB,KAAK,OAAS,IAAI,IAClBA,EAAO,KAAK,KAAO,CAAE,GAAGA,EAAM,GAAGuuI,EAAgBvuI,CAAI,GACrD,KAAM,CAAE,IAAAuoH,EAAK,MAAAsX,CAAK,EAAK,KAAK,KAAK,KACjC,KAAK,MAAQ,IAAIiO,EAAU,WAAW,CAAE,MAAO,CAAE,EAAE,SAAUK,EAAiB,IAAA5lB,EAAK,MAAAsX,CAAO,CAAA,EAC1F,KAAK,OAAS8P,EAAU3vI,EAAK,MAAM,EACnC,MAAM4vI,EAAY5vI,EAAK,gBACvBA,EAAK,gBAAkB,GACvB,KAAK,SAAY4xH,EAAQ,UAAQ,EACjCie,EAAa,KAAK,KAAMzB,EAAgBpuI,EAAM,eAAe,EAC7D6vI,EAAa,KAAK,KAAMxB,EAAmBruI,EAAM,aAAc,MAAM,EACrE,KAAK,UAAY8vI,EAAqB,KAAK,IAAI,EAC3C9vI,EAAK,SACL+vI,EAAkB,KAAK,IAAI,EAC/B,KAAK,iBAAgB,EACrB,KAAK,sBAAqB,EACtB/vI,EAAK,UACLgwI,EAAmB,KAAK,KAAMhwI,EAAK,QAAQ,EAC3C,OAAOA,EAAK,MAAQ,UACpB,KAAK,cAAcA,EAAK,IAAI,EAChCiwI,EAAkB,KAAK,IAAI,EAC3BjwI,EAAK,gBAAkB4vI,CAC1B,CACD,kBAAmB,CACf,KAAK,WAAW,QAAQ,CAC3B,CACD,uBAAwB,CACpB,KAAM,CAAE,MAAAziB,EAAO,KAAA+iB,EAAM,SAAAxW,CAAQ,EAAK,KAAK,KACvC,IAAIyW,EAAiBpC,EACjBrU,IAAa,OACbyW,EAAiB,CAAE,GAAGpC,GACtBoC,EAAe,GAAKA,EAAe,IACnC,OAAOA,EAAe,KAEtBD,GAAQ/iB,GACR,KAAK,cAAcgjB,EAAgBA,EAAezW,CAAQ,EAAG,EAAK,CACzE,CACD,aAAc,CACV,KAAM,CAAE,KAAAwW,EAAM,SAAAxW,GAAa,KAAK,KAChC,OAAQ,KAAK,KAAK,YAAc,OAAOwW,GAAQ,SAAWA,EAAKxW,CAAQ,GAAKwW,EAAO,MACtF,CACD,SAASE,EACT1jI,EACE,CACE,IAAItI,EACJ,GAAI,OAAOgsI,GAAgB,UAEvB,GADAhsI,EAAI,KAAK,UAAUgsI,CAAY,EAC3B,CAAChsI,EACD,MAAM,IAAI,MAAM,8BAA8BgsI,IAAe,OAGjEhsI,EAAI,KAAK,QAAQgsI,CAAY,EAEjC,MAAMn9C,EAAQ7uF,EAAEsI,CAAI,EACpB,MAAM,WAAYtI,IACd,KAAK,OAASA,EAAE,QACb6uF,CACV,CACD,QAAQ1J,EAAQ8mD,EAAO,CACnB,MAAMtc,EAAM,KAAK,WAAWxqC,EAAQ8mD,CAAK,EACzC,OAAQtc,EAAI,UAAY,KAAK,kBAAkBA,CAAG,CACrD,CACD,aAAaxqC,EAAQ2mD,EAAM,CACvB,GAAI,OAAO,KAAK,KAAK,YAAc,WAC/B,MAAM,IAAI,MAAM,yCAAyC,EAE7D,KAAM,CAAE,WAAAI,CAAU,EAAK,KAAK,KAC5B,OAAOC,EAAgB,KAAK,KAAMhnD,EAAQ2mD,CAAI,EAC9C,eAAeK,EAAgB/tC,GAAS6tC,GAAO,CAC3C,MAAMG,EAAe,KAAK,KAAMhuC,GAAQ,OAAO,EAC/C,MAAMuxB,GAAM,KAAK,WAAWvxB,GAAS6tC,EAAK,EAC1C,OAAOtc,GAAI,UAAY0c,EAAc,KAAK,KAAM1c,EAAG,CACtD,CACD,eAAeyc,EAAe/5C,GAAM,CAC5BA,IAAQ,CAAC,KAAK,UAAUA,EAAI,GAC5B,MAAM85C,EAAgB,KAAK,KAAM,CAAE,KAAA95C,EAAI,EAAI,EAAI,CAEtD,CACD,eAAeg6C,EAAc1c,GAAK,CAC9B,GAAI,CACA,OAAO,KAAK,kBAAkBA,EAAG,CACpC,OACMntH,GAAP,CACI,GAAI,EAAEA,cAAagnI,EAAY,SAC3B,MAAMhnI,GACV,OAAA8pI,EAAY,KAAK,KAAM9pI,EAAC,EACxB,MAAM+pI,EAAkB,KAAK,KAAM/pI,GAAE,aAAa,EAC3C6pI,EAAc,KAAK,KAAM1c,EAAG,CACtC,CACJ,CACD,SAAS2c,EAAY,CAAE,cAAezxJ,GAAK,WAAA2xJ,EAAU,EAAI,CACrD,GAAI,KAAK,KAAK3xJ,EAAG,EACb,MAAM,IAAI,MAAM,aAAaA,oBAAqB2xJ,uBAA+B,CAExF,CACD,eAAeD,EAAkB1xJ,GAAK,CAClC,MAAMujH,GAAU,MAAMquC,GAAY,KAAK,KAAM5xJ,EAAG,EAC3C,KAAK,KAAKA,EAAG,GACd,MAAMuxJ,EAAe,KAAK,KAAMhuC,GAAQ,OAAO,EAC9C,KAAK,KAAKvjH,EAAG,GACd,KAAK,UAAUujH,GAASvjH,GAAKixJ,CAAI,CACxC,CACD,eAAeW,GAAY5xJ,GAAK,CAC5B,MAAMuvB,GAAI,KAAK,SAASvvB,EAAG,EAC3B,GAAIuvB,GACA,OAAOA,GACX,GAAI,CACA,OAAO,MAAO,KAAK,SAASvvB,EAAG,EAAIqxJ,EAAWrxJ,EAAG,EACpD,QACO,CACJ,OAAO,KAAK,SAASA,EAAG,CAC3B,CACJ,CACJ,CAED,UAAUsqG,EACVtyF,EACAo5I,EACAS,EAAkB,KAAK,KAAK,eAC1B,CACE,GAAI,MAAM,QAAQvnD,CAAM,EAAG,CACvB,UAAWwqC,KAAOxqC,EACd,KAAK,UAAUwqC,EAAK,OAAWsc,EAAOS,CAAe,EACzD,OAAO,KAEX,IAAI5sJ,EACJ,GAAI,OAAOqlG,GAAW,SAAU,CAC5B,KAAM,CAAE,SAAAmwC,CAAQ,EAAK,KAAK,KAE1B,GADAx1I,EAAKqlG,EAAOmwC,CAAQ,EAChBx1I,IAAO,QAAa,OAAOA,GAAM,SACjC,MAAM,IAAI,MAAM,UAAUw1I,kBAAyB,EAG3D,OAAAziI,KAAU+jI,EAAU,aAAa/jI,GAAO/S,CAAE,EAC1C,KAAK,aAAa+S,CAAG,EACrB,KAAK,QAAQA,CAAG,EAAI,KAAK,WAAWsyF,EAAQ8mD,EAAOp5I,EAAK65I,EAAiB,EAAI,EACtE,IACV,CAGD,cAAcvnD,EAAQtyF,EACtB65I,EAAkB,KAAK,KAAK,eAC1B,CACE,YAAK,UAAUvnD,EAAQtyF,EAAK,GAAM65I,CAAe,EAC1C,IACV,CAED,eAAevnD,EAAQwnD,EAAiB,CACpC,GAAI,OAAOxnD,GAAU,UACjB,MAAO,GACX,IAAIynD,EAEJ,GADAA,EAAUznD,EAAO,QACbynD,IAAY,QAAa,OAAOA,GAAW,SAC3C,MAAM,IAAI,MAAM,0BAA0B,EAG9C,GADAA,EAAUA,GAAW,KAAK,KAAK,aAAe,KAAK,cAC/C,CAACA,EACD,YAAK,OAAO,KAAK,2BAA2B,EAC5C,KAAK,OAAS,KACP,GAEX,MAAM/9C,EAAQ,KAAK,SAAS+9C,EAASznD,CAAM,EAC3C,GAAI,CAAC0J,GAAS89C,EAAiB,CAC3B,MAAMx+G,EAAU,sBAAwB,KAAK,WAAU,EACvD,GAAI,KAAK,KAAK,iBAAmB,MAC7B,KAAK,OAAO,MAAMA,CAAO,MAEzB,OAAM,IAAI,MAAMA,CAAO,EAE/B,OAAO0gE,CACV,CAGD,UAAUg+C,EAAQ,CACd,IAAIld,EACJ,KAAO,OAAQA,EAAMmd,EAAU,KAAK,KAAMD,CAAM,IAAM,UAClDA,EAASld,EACb,GAAIA,IAAQ,OAAW,CACnB,KAAM,CAAE,SAAA2F,CAAQ,EAAK,KAAK,KACpBn/G,EAAO,IAAIszH,EAAU,UAAU,CAAE,OAAQ,CAAE,EAAE,SAAAnU,CAAQ,CAAE,EAE7D,GADA3F,EAAM8Z,EAAU,cAAc,KAAK,KAAMtzH,EAAM02H,CAAM,EACjD,CAACld,EACD,OACJ,KAAK,KAAKkd,CAAM,EAAIld,EAExB,OAAQA,EAAI,UAAY,KAAK,kBAAkBA,CAAG,CACrD,CAKD,aAAaqc,EAAc,CACvB,GAAIA,aAAwB,OACxB,YAAK,kBAAkB,KAAK,QAASA,CAAY,EACjD,KAAK,kBAAkB,KAAK,KAAMA,CAAY,EACvC,KAEX,OAAQ,OAAOA,EAAY,CACvB,IAAK,YACD,YAAK,kBAAkB,KAAK,OAAO,EACnC,KAAK,kBAAkB,KAAK,IAAI,EAChC,KAAK,OAAO,QACL,KACX,IAAK,SAAU,CACX,MAAMrc,EAAMmd,EAAU,KAAK,KAAMd,CAAY,EAC7C,OAAI,OAAOrc,GAAO,UACd,KAAK,OAAO,OAAOA,EAAI,MAAM,EACjC,OAAO,KAAK,QAAQqc,CAAY,EAChC,OAAO,KAAK,KAAKA,CAAY,EACtB,IACV,CACD,IAAK,SAAU,CACX,MAAMe,EAAWf,EACjB,KAAK,OAAO,OAAOe,CAAQ,EAC3B,IAAIjtJ,EAAKksJ,EAAa,KAAK,KAAK,QAAQ,EACxC,OAAIlsJ,IACAA,KAAS82I,EAAU,aAAa92I,CAAE,EAClC,OAAO,KAAK,QAAQA,CAAE,EACtB,OAAO,KAAK,KAAKA,CAAE,GAEhB,IACV,CACD,QACI,MAAM,IAAI,MAAM,qCAAqC,CAC5D,CACJ,CAED,cAAcktJ,EAAa,CACvB,UAAWvpB,KAAOupB,EACd,KAAK,WAAWvpB,CAAG,EACvB,OAAO,IACV,CACD,WAAWwpB,EAAUxpB,EACnB,CACE,IAAIqF,EACJ,GAAI,OAAOmkB,GAAY,SACnBnkB,EAAUmkB,EACN,OAAOxpB,GAAO,WACd,KAAK,OAAO,KAAK,0DAA0D,EAC3EA,EAAI,QAAUqF,WAGb,OAAOmkB,GAAY,UAAYxpB,IAAQ,QAG5C,GAFAA,EAAMwpB,EACNnkB,EAAUrF,EAAI,QACV,MAAM,QAAQqF,CAAO,GAAK,CAACA,EAAQ,OACnC,MAAM,IAAI,MAAM,wDAAwD,MAI5E,OAAM,IAAI,MAAM,gCAAgC,EAGpD,GADAokB,EAAa,KAAK,KAAMpkB,EAASrF,CAAG,EAChC,CAACA,EACD,SAAIgH,EAAO,UAAU3B,EAAUyE,GAAQ4f,EAAQ,KAAK,KAAM5f,CAAG,CAAC,EACvD,KAEX6f,EAAkB,KAAK,KAAM3pB,CAAG,EAChC,MAAM/pG,EAAa,CACf,GAAG+pG,EACH,QAAU+S,EAAW,cAAc/S,EAAI,IAAI,EAC3C,cAAgB+S,EAAW,cAAc/S,EAAI,UAAU,CACnE,EACQ,SAAIgH,EAAO,UAAU3B,EAASpvG,EAAW,KAAK,SAAW,EAClDxQ,GAAMikI,EAAQ,KAAK,KAAMjkI,EAAGwQ,CAAU,EACtCxQ,GAAMwQ,EAAW,KAAK,QAASjqB,GAAM09I,EAAQ,KAAK,KAAMjkI,EAAGwQ,EAAYjqB,CAAC,CAAC,CAAC,EAC1E,IACV,CACD,WAAWq5H,EAAS,CAChB,MAAMxlE,EAAO,KAAK,MAAM,IAAIwlE,CAAO,EACnC,OAAO,OAAOxlE,GAAQ,SAAWA,EAAK,WAAa,CAAC,CAACA,CACxD,CAED,cAAcwlE,EAAS,CAEnB,KAAM,CAAE,MAAAJ,CAAO,EAAG,KAClB,OAAOA,EAAM,SAASI,CAAO,EAC7B,OAAOJ,EAAM,IAAII,CAAO,EACxB,UAAW/iI,KAAS2iI,EAAM,MAAO,CAC7B,MAAM1rI,EAAI+I,EAAM,MAAM,UAAWu9D,GAASA,EAAK,UAAYwlE,CAAO,EAC9D9rI,GAAK,GACL+I,EAAM,MAAM,OAAO/I,EAAG,CAAC,EAE/B,OAAO,IACV,CAED,UAAU8c,EAAMihB,EAAQ,CACpB,OAAI,OAAOA,GAAU,WACjBA,EAAS,IAAI,OAAOA,CAAM,GAC9B,KAAK,QAAQjhB,CAAI,EAAIihB,EACd,IACV,CACD,WAAW2hF,EAAS,KAAK,OACzB,CAAE,UAAA2wC,EAAY,KAAM,QAAAC,EAAU,MAAQ,EAAG,CAAE,EACzC,CACE,MAAI,CAAC5wC,GAAUA,EAAO,SAAW,EACtB,YACJA,EACF,IAAKl6F,GAAM,GAAG8qI,IAAU9qI,EAAE,gBAAgBA,EAAE,SAAS,EACrD,OAAO,CAAClC,EAAMgqH,IAAQhqH,EAAO+sI,EAAY/iB,CAAG,CACpD,CACD,gBAAgBijB,EAAYC,EAAsB,CAC9C,MAAM7pF,EAAQ,KAAK,MAAM,IACzB4pF,EAAa,KAAK,MAAM,KAAK,UAAUA,CAAU,CAAC,EAClD,UAAW7S,KAAe8S,EAAsB,CAC5C,MAAM1S,EAAWJ,EAAY,MAAM,GAAG,EAAE,MAAM,CAAC,EAC/C,IAAI+S,EAAWF,EACf,UAAWG,KAAO5S,EACd2S,EAAWA,EAASC,CAAG,EAC3B,UAAW76I,KAAO8wD,EAAO,CACrB,MAAML,EAAOK,EAAM9wD,CAAG,EACtB,GAAI,OAAOywD,GAAQ,SACf,SACJ,KAAM,CAAE,MAAAylE,EAAK,EAAKzlE,EAAK,WACjB6hC,GAASsoD,EAAS56I,CAAG,EACvBk2H,IAAS5jC,KACTsoD,EAAS56I,CAAG,EAAI86I,EAAaxoD,EAAM,IAG/C,OAAOooD,CACV,CACD,kBAAkBrkD,EAAS0kD,EAAO,CAC9B,UAAWf,KAAU3jD,EAAS,CAC1B,MAAMymC,EAAMzmC,EAAQ2jD,CAAM,GACtB,CAACe,GAASA,EAAM,KAAKf,CAAM,KACvB,OAAOld,GAAO,SACd,OAAOzmC,EAAQ2jD,CAAM,EAEhBld,GAAO,CAACA,EAAI,OACjB,KAAK,OAAO,OAAOA,EAAI,MAAM,EAC7B,OAAOzmC,EAAQ2jD,CAAM,IAIpC,CACD,WAAW1nD,EAAQ2mD,EAAM3W,EAAQ0Y,EAAiB,KAAK,KAAK,eAAgBC,EAAY,KAAK,KAAK,cAAe,CAC7G,IAAIhuJ,EACJ,KAAM,CAAE,SAAAw1I,CAAQ,EAAK,KAAK,KAC1B,GAAI,OAAOnwC,GAAU,SACjBrlG,EAAKqlG,EAAOmwC,CAAQ,MAEnB,CACD,GAAI,KAAK,KAAK,IACV,MAAM,IAAI,MAAM,uBAAuB,EACtC,GAAI,OAAOnwC,GAAU,UACtB,MAAM,IAAI,MAAM,kCAAkC,EAE1D,IAAIwqC,EAAM,KAAK,OAAO,IAAIxqC,CAAM,EAChC,GAAIwqC,IAAQ,OACR,OAAOA,EACXwF,KAAayB,EAAU,aAAa92I,GAAMq1I,CAAM,EAChD,MAAMQ,GAAYiB,EAAU,cAAc,KAAK,KAAMzxC,EAAQgwC,CAAM,EACnE,OAAAxF,EAAM,IAAI8Z,EAAU,UAAU,CAAE,OAAAtkD,EAAQ,SAAAmwC,EAAU,KAAAwW,EAAM,OAAA3W,EAAQ,UAAAQ,EAAS,CAAE,EAC3E,KAAK,OAAO,IAAIhG,EAAI,OAAQA,CAAG,EAC3Bme,GAAa,CAAC3Y,EAAO,WAAW,GAAG,IAE/BA,GACA,KAAK,aAAaA,CAAM,EAC5B,KAAK,KAAKA,CAAM,EAAIxF,GAEpBke,GACA,KAAK,eAAe1oD,EAAQ,EAAI,EAC7BwqC,CACV,CACD,aAAa7vI,EAAI,CACb,GAAI,KAAK,QAAQA,CAAE,GAAK,KAAK,KAAKA,CAAE,EAChC,MAAM,IAAI,MAAM,0BAA0BA,mBAAoB,CAErE,CACD,kBAAkB6vI,EAAK,CAMnB,GALIA,EAAI,KACJ,KAAK,mBAAmBA,CAAG,EAE3B8Z,EAAU,cAAc,KAAK,KAAM9Z,CAAG,EAEtC,CAACA,EAAI,SACL,MAAM,IAAI,MAAM,0BAA0B,EAC9C,OAAOA,EAAI,QACd,CACD,mBAAmBA,EAAK,CACpB,MAAMoe,EAAc,KAAK,KACzB,KAAK,KAAO,KAAK,UACjB,GAAI,CACAtE,EAAU,cAAc,KAAK,KAAM9Z,CAAG,CACzC,QACO,CACJ,KAAK,KAAOoe,CACf,CACJ,CACJ,CACD/xI,EAAA,QAAkBsvI,EAClBA,EAAI,gBAAkBnQ,EAAmB,QACzCmQ,EAAI,gBAAkB9B,EAAY,QAClC,SAASiC,EAAauC,EAAW1xJ,EAASguI,EAAK2jB,EAAM,QAAS,CAC1D,UAAWp7I,KAAOm7I,EAAW,CACzB,MAAMttC,EAAM7tG,EACR6tG,KAAOpkH,GACP,KAAK,OAAO2xJ,CAAG,EAAE,GAAG3jB,aAAez3H,MAAQm7I,EAAUttC,CAAG,GAAG,EAEtE,CACD,SAASosC,EAAUD,EAAQ,CACvB,OAAAA,KAAajW,EAAU,aAAaiW,CAAM,EACnC,KAAK,QAAQA,CAAM,GAAK,KAAK,KAAKA,CAAM,CAClD,CACD,SAAShB,GAAoB,CACzB,MAAMqC,EAAc,KAAK,KAAK,QAC9B,GAAKA,EAEL,GAAI,MAAM,QAAQA,CAAW,EACzB,KAAK,UAAUA,CAAW,MAE1B,WAAWr7I,KAAOq7I,EACd,KAAK,UAAUA,EAAYr7I,CAAG,EAAGA,CAAG,CAC/C,CACD,SAAS84I,GAAoB,CACzB,UAAW7xI,KAAQ,KAAK,KAAK,QAAS,CAClC,MAAMihB,EAAS,KAAK,KAAK,QAAQjhB,CAAI,EACjCihB,GACA,KAAK,UAAUjhB,EAAMihB,CAAM,EAEtC,CACD,SAAS6wH,EAAmBuC,EAAM,CAC9B,GAAI,MAAM,QAAQA,CAAI,EAAG,CACrB,KAAK,cAAcA,CAAI,EACvB,OAEJ,KAAK,OAAO,KAAK,kDAAkD,EACnE,UAAWrlB,KAAWqlB,EAAM,CACxB,MAAM1qB,EAAM0qB,EAAKrlB,CAAO,EACnBrF,EAAI,UACLA,EAAI,QAAUqF,GAClB,KAAK,WAAWrF,CAAG,EAE1B,CACD,SAASioB,GAAuB,CAC5B,MAAM0C,EAAW,CAAE,GAAG,KAAK,IAAI,EAC/B,UAAW1tC,KAAOopC,EACd,OAAOsE,EAAS1tC,CAAG,EACvB,OAAO0tC,CACV,CACD,MAAMC,EAAS,CAAE,KAAM,CAAG,EAAE,MAAO,GAAK,OAAQ,CAAA,GAChD,SAAS9C,EAAU+C,EAAQ,CACvB,GAAIA,IAAW,GACX,OAAOD,EACX,GAAIC,IAAW,OACX,OAAO,QACX,GAAIA,EAAO,KAAOA,EAAO,MAAQA,EAAO,MACpC,OAAOA,EACX,MAAM,IAAI,MAAM,mDAAmD,CACtE,CACD,MAAMC,EAAe,0BACrB,SAASrB,EAAapkB,EAASrF,EAAK,CAChC,KAAM,CAAE,MAAAiF,CAAO,EAAG,KAOlB,MANI+B,EAAO,UAAU3B,EAAUyE,GAAQ,CACnC,GAAI7E,EAAM,SAAS6E,CAAG,EAClB,MAAM,IAAI,MAAM,WAAWA,sBAAwB,EACvD,GAAI,CAACghB,EAAa,KAAKhhB,CAAG,EACtB,MAAM,IAAI,MAAM,WAAWA,oBAAsB,CAC7D,CAAK,EACG,EAAC9J,GAEDA,EAAI,OAAS,EAAE,SAAUA,GAAO,aAAcA,GAC9C,MAAM,IAAI,MAAM,uDAAuD,CAE9E,CACD,SAAS0pB,EAAQrkB,EAASpvG,EAAY80G,EAAU,CAC5C,IAAIzhG,EACJ,MAAMmnG,EAAOx6G,GAAe,KAAgC,OAASA,EAAW,KAChF,GAAI80G,GAAY0F,EACZ,MAAM,IAAI,MAAM,6CAA6C,EACjE,KAAM,CAAE,MAAAxL,CAAO,EAAG,KAClB,IAAI8lB,EAAYta,EAAOxL,EAAM,KAAOA,EAAM,MAAM,KAAK,CAAC,CAAE,KAAMj5H,CAAG,IAAKA,IAAM++H,CAAQ,EAMpF,GALKggB,IACDA,EAAY,CAAE,KAAMhgB,EAAU,MAAO,CAAE,CAAA,EACvC9F,EAAM,MAAM,KAAK8lB,CAAS,GAE9B9lB,EAAM,SAASI,CAAO,EAAI,GACtB,CAACpvG,EACD,OACJ,MAAM4pC,EAAO,CACT,QAAAwlE,EACA,WAAY,CACR,GAAGpvG,EACH,QAAU88G,EAAW,cAAc98G,EAAW,IAAI,EAClD,cAAgB88G,EAAW,cAAc98G,EAAW,UAAU,CACjE,CACT,EACQA,EAAW,OACX+0H,EAAc,KAAK,KAAMD,EAAWlrF,EAAM5pC,EAAW,MAAM,EAE3D80H,EAAU,MAAM,KAAKlrF,CAAI,EAC7BolE,EAAM,IAAII,CAAO,EAAIxlE,GACpBv2B,EAAKrT,EAAW,cAAgB,MAAQqT,IAAO,QAAkBA,EAAG,QAASwgG,GAAQ,KAAK,WAAWA,CAAG,CAAC,CAC7G,CACD,SAASkhB,EAAcD,EAAWlrF,EAAMxuC,EAAQ,CAC5C,MAAM93B,EAAIwxJ,EAAU,MAAM,UAAWE,GAAUA,EAAM,UAAY55H,CAAM,EACnE93B,GAAK,EACLwxJ,EAAU,MAAM,OAAOxxJ,EAAG,EAAGsmE,CAAI,GAGjCkrF,EAAU,MAAM,KAAKlrF,CAAI,EACzB,KAAK,OAAO,KAAK,QAAQxuC,kBAAuB,EAEvD,CACD,SAASs4H,EAAkB3pB,EAAK,CAC5B,GAAI,CAAE,WAAA8pB,CAAY,EAAG9pB,EACjB8pB,IAAe,SAEf9pB,EAAI,OAAS,KAAK,KAAK,QACvB8pB,EAAaI,EAAaJ,CAAU,GACxC9pB,EAAI,eAAiB,KAAK,QAAQ8pB,EAAY,EAAI,EACrD,CACD,MAAMoB,EAAW,CACb,KAAM,gFACV,EACA,SAAShB,EAAaxoD,EAAQ,CAC1B,MAAO,CAAE,MAAO,CAACA,EAAQwpD,CAAQ,CAAC,CACrC,8BCtmBD,OAAO,eAAe7uJ,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5D,MAAM2jI,GAAM,CACR,QAAS,KACT,MAAO,CACH,MAAM,IAAI,MAAM,sDAAsD,CACzE,CACL,EACe3jI,GAAA,QAAG2jI,aCPlB,OAAO,eAAe5oI,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5DA,GAAA,QAAkBA,GAAA,YAAsB,OACxC,MAAM2uJ,GAAcrwI,GACdmpH,GAAS/oH,GACT0uH,GAAYxuH,GACZ+wH,GAAUjqH,GACVkpI,GAAYliF,GACZkjE,GAAShjE,GACTg8D,GAAM,CACR,QAAS,OACT,WAAY,SACZ,KAAKkH,EAAK,CACN,KAAM,CAAE,IAAAjB,EAAK,OAAQr3B,EAAM,GAAAg2B,CAAE,EAAKsC,EAC5B,CAAE,OAAAwK,EAAQ,UAAWmG,EAAK,aAAA5P,EAAc,KAAA9vH,EAAM,KAAAqnB,CAAM,EAAGolG,EACvD,CAAE,KAAAlyG,CAAM,EAAGmlH,EACjB,IAAKjpC,IAAS,KAAOA,IAAS,OAAS8iC,IAAWh/G,EAAK,OACnD,OAAOy4H,EAAW,EACtB,MAAMC,EAAWpF,GAAU,WAAW,KAAKxmH,EAAM9M,EAAMg/G,EAAQ9iC,CAAI,EACnE,GAAIw8C,IAAa,OACb,MAAM,IAAIrF,GAAY,QAAQnhB,EAAG,KAAK,YAAa8M,EAAQ9iC,CAAI,EACnE,GAAIw8C,aAAoBpF,GAAU,UAC9B,OAAOqF,EAAaD,CAAQ,EAChC,OAAOE,EAAgBF,CAAQ,EAC/B,SAASD,GAAc,CACnB,GAAItT,IAAQnlH,EACR,OAAO64H,GAAQrkB,EAAKe,EAAc4P,EAAKA,EAAI,MAAM,EACrD,MAAMpD,EAAWxO,EAAI,WAAW,OAAQ,CAAE,IAAKvzG,CAAI,CAAE,EACrD,OAAO64H,GAAQrkB,KAAS1C,GAAU,KAAMiQ,aAAqB/hH,EAAMA,EAAK,MAAM,CACjF,CACD,SAAS24H,EAAanf,EAAK,CACvB,MAAM3vH,EAAIivI,GAAYtkB,EAAKgF,CAAG,EAC9Bqf,GAAQrkB,EAAK3qH,EAAG2vH,EAAKA,EAAI,MAAM,CAClC,CACD,SAASof,EAAgBpf,EAAK,CAC1B,MAAMuf,EAAUxlB,EAAI,WAAW,SAAU9tH,EAAK,KAAK,SAAW,GAAO,CAAE,IAAK+zH,EAAK,QAAU1H,GAAU,WAAW0H,CAAG,CAAC,EAAK,CAAE,IAAKA,CAAG,CAAE,EAC/H9gC,EAAQ66B,EAAI,KAAK,OAAO,EACxB8H,EAAS7G,EAAI,UAAU,CACzB,OAAQgF,EACR,UAAW,CAAE,EACb,WAAY1H,GAAU,IACtB,aAAcinB,EACd,cAAe78C,CAClB,EAAExD,CAAK,EACR87B,EAAI,eAAe6G,CAAM,EACzB7G,EAAI,GAAG97B,CAAK,CACf,CACJ,CACL,EACA,SAASogD,GAAYtkB,EAAKgF,EAAK,CAC3B,KAAM,CAAE,IAAAjG,CAAK,EAAGiB,EAChB,OAAOgF,EAAI,SACLjG,EAAI,WAAW,WAAY,CAAE,IAAKiG,EAAI,SAAU,KAC5C1H,GAAU,KAAMyB,EAAI,WAAW,UAAW,CAAE,IAAKiG,EAAK,YACpE,CACmB90I,GAAA,YAAGo0J,GACtB,SAASD,GAAQrkB,EAAK3qH,EAAG2vH,EAAKwf,EAAQ,CAClC,KAAM,CAAE,IAAAzlB,EAAK,GAAArB,CAAI,EAAGsC,EACd,CAAE,UAAAI,EAAW,UAAWuQ,EAAK,KAAA1/H,CAAI,EAAKysH,EACtCsK,EAAU/2H,EAAK,YAAc4uH,GAAQ,QAAQ,KAAOvC,GAAU,IAChEknB,EACAC,IAEAC,IACJ,SAASD,GAAe,CACpB,GAAI,CAAC9T,EAAI,OACL,MAAM,IAAI,MAAM,wCAAwC,EAC5D,MAAMzsC,EAAQ66B,EAAI,IAAI,OAAO,EAC7BA,EAAI,IAAI,IAAM,CACVA,EAAI,QAASzB,GAAU,cAAgB3F,GAAO,kBAAkBqI,EAAK3qH,EAAG2yH,CAAO,GAAG,EAClF2c,EAAiBtvI,CAAC,EACb+qH,GACDrB,EAAI,OAAO76B,EAAO,EAAI,CAC7B,EAAGrsF,GAAM,CACNknH,EAAI,MAAOzB,GAAU,OAAQzlH,gBAAgB6lH,EAAG,mBAAoB,IAAMqB,EAAI,MAAMlnH,CAAC,CAAC,EACtF+sI,EAAc/sI,CAAC,EACVuoH,GACDrB,EAAI,OAAO76B,EAAO,EAAK,CACvC,CAAS,EACD87B,EAAI,GAAG97B,CAAK,CACf,CACD,SAASwgD,GAAc,CACnB1kB,EAAI,UAAWrI,GAAO,kBAAkBqI,EAAK3qH,EAAG2yH,CAAO,EAAG,IAAM2c,EAAiBtvI,CAAC,EAAG,IAAMuvI,EAAcvvI,CAAC,CAAC,CAC9G,CACD,SAASuvI,EAAcz0I,EAAQ,CAC3B,MAAM2wH,KAAWxD,GAAU,KAAMntH,WACjC4uH,EAAI,OAAOc,GAAQ,QAAQ,WAAavC,GAAU,KAAMuC,GAAQ,QAAQ,sBAAsBiB,OAAUjB,GAAQ,QAAQ,kBAAkBiB,IAAO,EACjJ/B,EAAI,OAAOc,GAAQ,QAAQ,UAAYvC,GAAU,KAAMuC,GAAQ,QAAQ,gBAAgB,CAC1F,CACD,SAAS8kB,EAAiBx0I,EAAQ,CAC9B,IAAIiyB,EACJ,GAAI,CAACs7F,EAAG,KAAK,YACT,OACJ,MAAMmnB,GAAgBziH,EAAK4iG,GAAQ,KAAyB,OAASA,EAAI,YAAc,MAAQ5iG,IAAO,OAAS,OAASA,EAAG,UAE3H,GAAIs7F,EAAG,QAAU,GACb,GAAImnB,GAAgB,CAACA,EAAa,aAC1BA,EAAa,QAAU,SACvBnnB,EAAG,MAAQoC,GAAO,eAAe,MAAMf,EAAK8lB,EAAa,MAAOnnB,EAAG,KAAK,OAG3E,CACD,MAAM9qI,EAAQmsI,EAAI,IAAI,WAAazB,GAAU,KAAMntH,mBAAwB,EAC3EutH,EAAG,MAAQoC,GAAO,eAAe,MAAMf,EAAKnsI,EAAO8qI,EAAG,MAAOJ,GAAU,IAAI,EAGnF,GAAII,EAAG,QAAU,GACb,GAAImnB,GAAgB,CAACA,EAAa,aAC1BA,EAAa,QAAU,SACvBnnB,EAAG,MAAQoC,GAAO,eAAe,MAAMf,EAAK8lB,EAAa,MAAOnnB,EAAG,KAAK,OAG3E,CACD,MAAM5xH,EAAQizH,EAAI,IAAI,WAAazB,GAAU,KAAMntH,mBAAwB,EAC3EutH,EAAG,MAAQoC,GAAO,eAAe,MAAMf,EAAKjzH,EAAO4xH,EAAG,MAAOJ,GAAU,IAAI,EAGtF,CACL,CACeptI,GAAA,QAAGm0J,GACHn0J,GAAA,QAAG4oI,GCvHlB,OAAO,eAAegsB,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5D,MAAMC,GAAOv2I,GACPw2I,GAAQp2I,GACRq2I,GAAO,CACT,UACA,MACA,QACA,cACA,CAAE,QAAS,UAAY,EACvB,cACAF,GAAK,QACLC,GAAM,OACV,EACeF,GAAA,QAAGG,mBCblB,OAAO,eAAeC,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5D,MAAM5nB,GAAY9uH,GACZ22I,GAAM7nB,GAAU,UAChB8nB,GAAO,CACT,QAAS,CAAE,MAAO,KAAM,GAAID,GAAI,IAAK,KAAMA,GAAI,EAAI,EACnD,QAAS,CAAE,MAAO,KAAM,GAAIA,GAAI,IAAK,KAAMA,GAAI,EAAI,EACnD,iBAAkB,CAAE,MAAO,IAAK,GAAIA,GAAI,GAAI,KAAMA,GAAI,GAAK,EAC3D,iBAAkB,CAAE,MAAO,IAAK,GAAIA,GAAI,GAAI,KAAMA,GAAI,GAAK,CAC/D,EACMnwC,GAAQ,CACV,QAAS,CAAC,CAAE,QAAAmpB,EAAS,WAAA0G,CAAU,OAAWvH,GAAU,eAAgB8nB,GAAKjnB,CAAO,EAAE,SAAS0G,IAC3F,OAAQ,CAAC,CAAE,QAAA1G,EAAS,WAAA0G,CAAU,OAAWvH,GAAU,kBAAmB8nB,GAAKjnB,CAAO,EAAE,iBAAiB0G,IACzG,EACM/L,GAAM,CACR,QAAS,OAAO,KAAKssB,EAAI,EACzB,KAAM,SACN,WAAY,SACZ,MAAO,GACX,MAAIpwC,GACA,KAAKgrB,EAAK,CACN,KAAM,CAAE,QAAA7B,EAAS,KAAAxgH,EAAM,WAAAknH,CAAU,EAAK7E,EACtCA,EAAI,aAAc1C,GAAU,KAAM3/G,KAAQynI,GAAKjnB,CAAO,EAAE,QAAQ0G,cAAuBlnH,IAAO,CACjG,CACL,EACeunI,GAAA,QAAGpsB,aCxBlB,OAAO,eAAeusB,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5D,MAAM/nB,GAAY9uH,GACZwmG,GAAQ,CACV,QAAS,CAAC,CAAE,WAAA6vB,QAAqBvH,GAAU,2BAA4BuH,IACvE,OAAQ,CAAC,CAAE,WAAAA,CAAU,OAAWvH,GAAU,kBAAmBuH,IACjE,EACM/L,GAAM,CACR,QAAS,aACT,KAAM,SACN,WAAY,SACZ,MAAO,GACX,MAAI9jB,GACA,KAAKgrB,EAAK,CACN,KAAM,CAAE,IAAAjB,EAAK,KAAAphH,EAAM,WAAAknH,EAAY,GAAAnH,CAAE,EAAKsC,EAEhCslB,EAAO5nB,EAAG,KAAK,oBACfn1F,EAAMw2F,EAAI,IAAI,KAAK,EACnBwmB,EAAUD,KACNhoB,GAAU,yBAA0B/0F,QAAUA,WAAa+8G,OAC3DhoB,GAAU,KAAM/0F,kBAAoBA,KAC9Cy3F,EAAI,aAAc1C,GAAU,MAAOuH,eAAwBt8F,OAAS5qB,KAAQknH,MAAe0gB,KAAW,CACzG,CACL,EACeF,GAAA,QAAGvsB,mBCvBlB,OAAO,eAAe0sB,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAG5D,SAASC,GAAW71I,EAAK,CACrB,MAAMyD,EAAMzD,EAAI,OAChB,IAAItE,EAAS,EACTwI,EAAM,EACN7jB,EACJ,KAAO6jB,EAAMT,GACT/H,IACArb,EAAQ2f,EAAI,WAAWkE,GAAK,EACxB7jB,GAAS,OAAUA,GAAS,OAAU6jB,EAAMT,IAE5CpjB,EAAQ2f,EAAI,WAAWkE,CAAG,GACrB7jB,EAAQ,SAAY,OACrB6jB,KAGZ,OAAOxI,CACX,CACek6I,GAAA,QAAGC,GAClBA,GAAW,KAAO,iDCrBlB,OAAO,eAAeC,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5D,MAAMpoB,GAAY9uH,GACZsxH,GAASlxH,GACT42I,GAAe12I,GACfkmG,GAAQ,CACV,QAAQ,CAAE,QAAAmpB,EAAS,WAAA0G,GAAc,CAC7B,MAAMzyI,EAAO+rI,IAAY,YAAc,OAAS,QAChD,SAAWb,GAAU,qBAAsBlrI,UAAayyI,cAC3D,EACD,OAAQ,CAAC,CAAE,WAAAA,CAAU,OAAWvH,GAAU,aAAcuH,IAC5D,EACM/L,GAAM,CACR,QAAS,CAAC,YAAa,WAAW,EAClC,KAAM,SACN,WAAY,SACZ,MAAO,GACX,MAAI9jB,GACA,KAAKgrB,EAAK,CACN,KAAM,CAAE,QAAA7B,EAAS,KAAAxgH,EAAM,WAAAknH,EAAY,GAAAnH,CAAE,EAAKsC,EACpC/F,EAAKkE,IAAY,YAAcb,GAAU,UAAU,GAAKA,GAAU,UAAU,GAC5EjqH,EAAMqqH,EAAG,KAAK,UAAY,MAAYJ,GAAU,KAAM3/G,cAAoB2/G,GAAU,QAAUwC,GAAO,SAASE,EAAI,IAAKwlB,GAAa,OAAO,KAAK7nI,KACtJqiH,EAAI,aAAc1C,GAAU,KAAMjqH,KAAO4mH,KAAM4K,GAAY,CAC9D,CACL,EACe6gB,GAAA,QAAG5sB,aCxBlB,OAAO,eAAesN,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5D,MAAMzO,GAASnpH,GACT8uH,GAAY1uH,GACZomG,GAAQ,CACV,QAAS,CAAC,CAAE,WAAA6vB,CAAU,OAAWvH,GAAU,2BAA4BuH,KACvE,OAAQ,CAAC,CAAE,WAAAA,CAAU,OAAWvH,GAAU,eAAgBuH,IAC9D,EACM/L,GAAM,CACR,QAAS,UACT,KAAM,SACN,WAAY,SACZ,MAAO,GACX,MAAI9jB,GACA,KAAKgrB,EAAK,CACN,KAAM,CAAE,KAAAriH,EAAM,MAAAygH,EAAO,OAAA5jC,EAAQ,WAAAqqC,EAAY,GAAAnH,CAAI,EAAGsC,EAE1CjgH,EAAI29G,EAAG,KAAK,cAAgB,IAAM,GAClC2I,EAASjI,KAAYd,GAAU,iBAAkBuH,MAAe9kH,SAAY43G,GAAO,YAAYqI,EAAKxlC,CAAM,EAChHwlC,EAAI,aAAc1C,GAAU,MAAO+I,UAAe1oH,IAAO,CAC5D,CACL,EACeyoH,GAAA,QAAGtN,aCrBlB,OAAO,eAAe6sB,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5D,MAAMroB,GAAY9uH,GACZwmG,GAAQ,CACV,QAAQ,CAAE,QAAAmpB,EAAS,WAAA0G,GAAc,CAC7B,MAAMzyI,EAAO+rI,IAAY,gBAAkB,OAAS,QACpD,SAAWb,GAAU,qBAAsBlrI,UAAayyI,cAC3D,EACD,OAAQ,CAAC,CAAE,WAAAA,CAAU,OAAWvH,GAAU,aAAcuH,IAC5D,EACM/L,GAAM,CACR,QAAS,CAAC,gBAAiB,eAAe,EAC1C,KAAM,SACN,WAAY,SACZ,MAAO,GACX,MAAI9jB,GACA,KAAKgrB,EAAK,CACN,KAAM,CAAE,QAAA7B,EAAS,KAAAxgH,EAAM,WAAAknH,CAAU,EAAK7E,EAChC/F,EAAKkE,IAAY,gBAAkBb,GAAU,UAAU,GAAKA,GAAU,UAAU,GACtF0C,EAAI,aAAc1C,GAAU,iBAAkB3/G,aAAgBs8G,KAAM4K,GAAY,CACnF,CACL,EACe8gB,GAAA,QAAG7sB,aCrBlB,OAAO,eAAeh4B,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5D,MAAM62B,GAASnpH,GACT8uH,GAAY1uH,GACZkxH,GAAShxH,GACTkmG,GAAQ,CACV,QAAS,CAAC,CAAE,OAAQ,CAAE,gBAAA4wC,CAAe,CAAI,OAAStoB,GAAU,oCAAqCsoB,KACjG,OAAQ,CAAC,CAAE,OAAQ,CAAE,gBAAAA,CAAe,CAAI,OAAStoB,GAAU,uBAAwBsoB,IACvF,EACM9sB,GAAM,CACR,QAAS,WACT,KAAM,SACN,WAAY,QACZ,MAAO,GACX,MAAI9jB,GACA,KAAKgrB,EAAK,CACN,KAAM,CAAE,IAAAjB,EAAK,OAAAvkC,EAAQ,WAAAqqC,EAAY,KAAAlnH,EAAM,MAAAygH,EAAO,GAAAV,CAAI,EAAGsC,EAC/C,CAAE,KAAA/uH,CAAM,EAAGysH,EACjB,GAAI,CAACU,GAAS5jC,EAAO,SAAW,EAC5B,OACJ,MAAMqrD,EAAUrrD,EAAO,QAAUvpF,EAAK,aAKtC,GAJIysH,EAAG,UACHooB,IAEAC,IACA90I,EAAK,eAAgB,CACrB,MAAMre,EAAQotI,EAAI,aAAa,WACzB,CAAE,kBAAAgmB,CAAiB,EAAKhmB,EAAI,GAClC,UAAWimB,KAAezrD,EACtB,IAAK5nG,GAAU,KAA2B,OAASA,EAAMqzJ,CAAW,KAAO,QAAa,CAACD,EAAkB,IAAIC,CAAW,EAAG,CACzH,MAAM/nB,EAAaR,EAAG,UAAU,OAASA,EAAG,cACtCiC,EAAM,sBAAsBsmB,yBAAmC/nB,yBACjE4B,GAAO,iBAAiBpC,EAAIiC,EAAKjC,EAAG,KAAK,cAAc,GAIvE,SAASooB,GAAgB,CACrB,GAAID,GAAWznB,EACX4B,EAAI,WAAW1C,GAAU,IAAK4oB,CAAe,MAG7C,WAAWjrE,KAAQuf,KACXm9B,GAAO,wBAAwBqI,EAAK/kD,CAAI,CAGvD,CACD,SAAS8qE,GAAkB,CACvB,MAAMzgB,EAAUvG,EAAI,IAAI,SAAS,EACjC,GAAI8mB,GAAWznB,EAAO,CAClB,MAAMl6B,EAAQ66B,EAAI,IAAI,QAAS,EAAI,EACnCiB,EAAI,WAAW97B,EAAO,IAAMiiD,EAAiB7gB,EAASphC,CAAK,CAAC,EAC5D87B,EAAI,GAAG97B,CAAK,OAGZ66B,EAAI,MAAOpH,GAAO,kBAAkBqI,EAAKxlC,EAAQ8qC,CAAO,CAAC,KACrD3N,GAAO,mBAAmBqI,EAAKsF,CAAO,EAC1CvG,EAAI,KAAI,CAEf,CACD,SAASmnB,GAAkB,CACvBnnB,EAAI,MAAM,OAAQ8F,EAAa5pD,GAAS,CACpC+kD,EAAI,UAAU,CAAE,gBAAiB/kD,CAAM,CAAA,EACvC8jD,EAAI,MAAOpH,GAAO,kBAAkBoH,EAAKphH,EAAMs9D,EAAMhqE,EAAK,aAAa,EAAG,IAAM+uH,EAAI,MAAO,CAAA,CAC3G,CAAa,CACJ,CACD,SAASmmB,EAAiB7gB,EAASphC,EAAO,CACtC87B,EAAI,UAAU,CAAE,gBAAiBsF,CAAS,CAAA,EAC1CvG,EAAI,MAAMuG,EAAST,EAAY,IAAM,CACjC9F,EAAI,OAAO76B,KAAWyzB,GAAO,gBAAgBoH,EAAKphH,EAAM2nH,EAASr0H,EAAK,aAAa,CAAC,EACpF8tH,EAAI,MAAOzB,GAAU,KAAKp5B,CAAK,EAAG,IAAM,CACpC87B,EAAI,MAAK,EACTjB,EAAI,MAAK,CAC7B,CAAiB,CACjB,EAAezB,GAAU,GAAG,CACnB,CACJ,CACL,EACex8B,GAAA,QAAGg4B,aC5ElB,OAAO,eAAestB,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5D,MAAM9oB,GAAY9uH,GACZwmG,GAAQ,CACV,QAAQ,CAAE,QAAAmpB,EAAS,WAAA0G,GAAc,CAC7B,MAAMzyI,EAAO+rI,IAAY,WAAa,OAAS,QAC/C,SAAWb,GAAU,qBAAsBlrI,UAAayyI,SAC3D,EACD,OAAQ,CAAC,CAAE,WAAAA,CAAU,OAAWvH,GAAU,aAAcuH,IAC5D,EACM/L,GAAM,CACR,QAAS,CAAC,WAAY,UAAU,EAChC,KAAM,QACN,WAAY,SACZ,MAAO,GACX,MAAI9jB,GACA,KAAKgrB,EAAK,CACN,KAAM,CAAE,QAAA7B,EAAS,KAAAxgH,EAAM,WAAAknH,CAAU,EAAK7E,EAChC/F,EAAKkE,IAAY,WAAab,GAAU,UAAU,GAAKA,GAAU,UAAU,GACjF0C,EAAI,aAAc1C,GAAU,KAAM3/G,YAAes8G,KAAM4K,GAAY,CACtE,CACL,EACeuhB,GAAA,QAAGttB,mBCrBlB,OAAO,eAAeutB,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAE5D,MAAMnd,GAAQ16H,GACd06H,GAAM,KAAO,4CACEmd,GAAA,QAAGnd,GCJlB,OAAO,eAAejoC,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5D,MAAM4qC,GAAar9H,GACb8uH,GAAY1uH,GACZkxH,GAAShxH,GACTu3I,GAAUzwI,GACVo/F,GAAQ,CACV,QAAS,CAAC,CAAE,OAAQ,CAAE,EAAA3iH,EAAG,EAAAod,CAAG,CAAA,OAAW6tH,GAAU,+CAAgD7tH,SAASpd,mBAC1G,OAAQ,CAAC,CAAE,OAAQ,CAAE,EAAAA,EAAG,EAAAod,CAAG,CAAA,OAAW6tH,GAAU,SAAUjrI,SAASod,IACvE,EACMqpH,GAAM,CACR,QAAS,cACT,KAAM,QACN,WAAY,UACZ,MAAO,GACX,MAAI9jB,GACA,KAAKgrB,EAAK,CACN,KAAM,CAAE,IAAAjB,EAAK,KAAAphH,EAAM,MAAAygH,EAAO,OAAA5jC,EAAQ,aAAAmnC,EAAc,WAAAkD,EAAY,GAAAnH,CAAI,EAAGsC,EACnE,GAAI,CAAC5B,GAAS,CAAC5jC,EACX,OACJ,MAAM0J,EAAQ66B,EAAI,IAAI,OAAO,EACvBunB,EAAY3kB,EAAa,SAAYkK,GAAW,gBAAgBlK,EAAa,KAAK,EAAI,GAC5F3B,EAAI,WAAW97B,EAAOqiD,KAAyBjpB,GAAU,KAAMuH,aAAsB,EACrF7E,EAAI,GAAG97B,CAAK,EACZ,SAASqiD,GAAsB,CAC3B,MAAMl0J,EAAI0sI,EAAI,IAAI,OAASzB,GAAU,KAAM3/G,UAAa,EAClDlO,EAAIsvH,EAAI,IAAI,GAAG,EACrBiB,EAAI,UAAU,CAAE,EAAA3tI,EAAG,EAAAod,CAAG,CAAA,EACtBsvH,EAAI,OAAO76B,EAAO,EAAI,EACtB66B,EAAI,MAAOzB,GAAU,KAAMjrI,QAAS,KAAO0qI,EAAa,EAAGypB,EAAQC,GAAQp0J,EAAGod,CAAC,CAAC,CACnF,CACD,SAASstH,GAAc,CACnB,OAAOupB,EAAU,OAAS,GAAK,CAACA,EAAU,KAAMxhJ,GAAMA,IAAM,UAAYA,IAAM,OAAO,CACxF,CACD,SAAS0hJ,EAAMn0J,EAAGod,EAAG,CACjB,MAAMvG,EAAO61H,EAAI,KAAK,MAAM,EACtBwE,KAAgBsI,GAAW,gBAAgBya,EAAWp9I,EAAMw0H,EAAG,KAAK,cAAemO,GAAW,SAAS,KAAK,EAC5Gt4C,EAAUwrC,EAAI,MAAM,aAAezB,GAAU,MAAO,EAC1DyB,EAAI,OAAQzB,GAAU,MAAOjrI,OAAQ,IAAM,CACvC0sI,EAAI,IAAI71H,KAAUo0H,GAAU,KAAM3/G,KAAQtrB,IAAI,EAC9C0sI,EAAI,GAAGwE,KAAejG,GAAU,YAAa,EACzCgpB,EAAU,OAAS,GACnBvnB,EAAI,MAAOzB,GAAU,YAAap0H,mBAAwBo0H,GAAU,KAAMp0H,UAAa,EAC3F61H,EACK,MAAOzB,GAAU,YAAa/pC,KAAWrqF,iBAAqB,IAAM,CACrE61H,EAAI,OAAOtvH,KAAO6tH,GAAU,KAAM/pC,KAAWrqF,IAAO,EACpD82H,EAAI,MAAK,EACTjB,EAAI,OAAO76B,EAAO,EAAK,EAAE,MAAK,CAClD,CAAiB,EACI,QAASo5B,GAAU,KAAM/pC,KAAWrqF,QAAW7W,GAAG,CACvE,CAAa,CACJ,CACD,SAASo0J,EAAOp0J,EAAGod,EAAG,CAClB,MAAMi3I,KAAU5mB,GAAO,SAASf,EAAKsnB,GAAQ,OAAO,EAC9CltD,EAAQ4lC,EAAI,KAAK,OAAO,EAC9BA,EAAI,MAAM5lC,CAAK,EAAE,OAAQmkC,GAAU,MAAOjrI,OAAQ,IAAM0sI,EAAI,OAAQzB,GAAU,KAAM7tH,OAAOpd,MAAMod,OAAQ,IAAMsvH,EAAI,MAAOzB,GAAU,KAAMopB,KAAO/oI,KAAQtrB,OAAOsrB,KAAQlO,MAAO,IAAM,CACjLuwH,EAAI,MAAK,EACTjB,EAAI,OAAO76B,EAAO,EAAK,EAAE,MAAM/K,CAAK,CACvC,CAAA,CAAC,CAAC,CACN,CACJ,CACL,EACe8H,GAAA,QAAG63B,aC7DlB,OAAO,eAAe6tB,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5D,MAAMrpB,GAAY9uH,GACZsxH,GAASlxH,GACTy3I,GAAUv3I,GACVkmG,GAAQ,CACV,QAAS,4BACT,OAAQ,CAAC,CAAE,WAAA6vB,CAAU,OAAWvH,GAAU,oBAAqBuH,IACnE,EACM/L,GAAM,CACR,QAAS,QACT,MAAO,GACX,MAAI9jB,GACA,KAAKgrB,EAAK,CACN,KAAM,CAAE,IAAAjB,EAAK,KAAAphH,EAAM,MAAAygH,EAAO,WAAAyG,EAAY,OAAArqC,CAAQ,EAAGwlC,EAC7C5B,GAAU5jC,GAAU,OAAOA,GAAU,SACrCwlC,EAAI,aAAc1C,GAAU,SAAWwC,GAAO,SAASf,EAAKsnB,GAAQ,OAAO,KAAK1oI,MAASknH,IAAa,EAGtG7E,EAAI,QAAS1C,GAAU,KAAM9iC,SAAc78E,GAAM,CAExD,CACL,EACegpI,GAAA,QAAG7tB,aCtBlB,OAAO,eAAe8tB,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5D,MAAMtpB,GAAY9uH,GACZsxH,GAASlxH,GACTy3I,GAAUv3I,GACVkmG,GAAQ,CACV,QAAS,6CACT,OAAQ,CAAC,CAAE,WAAA6vB,CAAU,OAAWvH,GAAU,qBAAsBuH,IACpE,EACM/L,GAAM,CACR,QAAS,OACT,WAAY,QACZ,MAAO,GACX,MAAI9jB,GACA,KAAKgrB,EAAK,CACN,KAAM,CAAE,IAAAjB,EAAK,KAAAphH,EAAM,MAAAygH,EAAO,OAAA5jC,EAAQ,WAAAqqC,EAAY,GAAAnH,CAAI,EAAGsC,EACrD,GAAI,CAAC5B,GAAS5jC,EAAO,SAAW,EAC5B,MAAM,IAAI,MAAM,gCAAgC,EACpD,MAAMqrD,EAAUrrD,EAAO,QAAUkjC,EAAG,KAAK,SACzC,IAAIgpB,EACJ,MAAMG,EAAS,IAAOH,IAAwCA,KAAU5mB,GAAO,SAASf,EAAKsnB,GAAQ,OAAO,GAC5G,IAAIniD,EACJ,GAAI2hD,GAAWznB,EACXl6B,EAAQ66B,EAAI,IAAI,OAAO,EACvBiB,EAAI,WAAW97B,EAAO4iD,CAAQ,MAE7B,CAED,GAAI,CAAC,MAAM,QAAQtsD,CAAM,EACrB,MAAM,IAAI,MAAM,0BAA0B,EAC9C,MAAMusD,EAAUhoB,EAAI,MAAM,UAAW8F,CAAU,EAC/C3gC,KAAYo5B,GAAU,IAAI,GAAG9iC,EAAO,IAAI,CAACgjD,EAAInrJ,IAAM20J,EAAUD,EAAS10J,CAAC,CAAC,CAAC,EAE7E2tI,EAAI,KAAK97B,CAAK,EACd,SAAS4iD,GAAW,CAChB/nB,EAAI,OAAO76B,EAAO,EAAK,EACvB66B,EAAI,MAAM,IAAK8F,EAAaxvH,GAAM0pH,EAAI,MAAOzB,GAAU,KAAMupB,EAAQ,KAAIlpI,MAAStI,KAAM,IAAM0pH,EAAI,OAAO76B,EAAO,EAAI,EAAE,MAAK,CAAE,CAAC,CACjI,CACD,SAAS8iD,EAAUD,EAAS10J,EAAG,CAC3B,MAAM2yI,EAAMxqC,EAAOnoG,CAAC,EACpB,OAAO,OAAO2yI,GAAQ,UAAYA,IAAQ,QAChC1H,GAAU,KAAMupB,EAAM,KAAMlpI,MAASopI,KAAW10J,SAChDirI,GAAU,KAAM3/G,SAAYqnH,GACzC,CACJ,CACL,EACe4hB,GAAA,QAAG9tB,GC7ClB,OAAO,eAAemuB,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5D,MAAMC,GAAgB14I,GAChB24I,GAAev4I,GACfw4I,GAAgBt4I,GAChBu4I,GAAYzxI,GACZ0xI,GAAoB1qF,GACpB2qF,GAAazqF,GACb0qF,GAAexqF,GACfyqF,GAAgBvqF,GAChBwqF,GAAUhnF,GACVinF,GAAShnF,GACTinF,GAAa,CAEfV,GAAc,QACdC,GAAa,QAEbC,GAAc,QACdC,GAAU,QAEVC,GAAkB,QAClBC,GAAW,QAEXC,GAAa,QACbC,GAAc,QAEd,CAAE,QAAS,OAAQ,WAAY,CAAC,SAAU,OAAO,CAAG,EACpD,CAAE,QAAS,WAAY,WAAY,SAAW,EAC9CC,GAAQ,QACRC,GAAO,OACX,EACeV,GAAA,QAAGW,mBC9BlB,OAAO,eAAeh5C,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAC7BA,GAAA,wBAAG,OAClC,MAAM0uB,GAAY9uH,GACZsxH,GAASlxH,GACTomG,GAAQ,CACV,QAAS,CAAC,CAAE,OAAQ,CAAE,IAAA3hG,CAAG,CAAI,OAASiqH,GAAU,+BAAgCjqH,UAChF,OAAQ,CAAC,CAAE,OAAQ,CAAE,IAAAA,CAAG,CAAI,OAASiqH,GAAU,aAAcjqH,IACjE,EACMylH,GAAM,CACR,QAAS,kBACT,KAAM,QACN,WAAY,CAAC,UAAW,QAAQ,EAChC,OAAQ,cACZ,MAAI9jB,GACA,KAAKgrB,EAAK,CACN,KAAM,CAAE,aAAA2B,EAAc,GAAAjE,CAAI,EAAGsC,EACvB,CAAE,MAAAl0H,CAAO,EAAG61H,EAClB,GAAI,CAAC,MAAM,QAAQ71H,CAAK,EAAG,IACnBg0H,GAAO,iBAAiBpC,EAAI,sEAAsE,EACtG,OAEJmqB,GAAwB7nB,EAAKl0H,CAAK,CACrC,CACL,EACA,SAAS+7I,GAAwB7nB,EAAKl0H,EAAO,CACzC,KAAM,CAAE,IAAAizH,EAAK,OAAAvkC,EAAQ,KAAA78E,EAAM,QAAAwgH,EAAS,GAAAT,CAAI,EAAGsC,EAC3CtC,EAAG,MAAQ,GACX,MAAMrqH,EAAM0rH,EAAI,MAAM,SAAWzB,GAAU,KAAM3/G,UAAa,EAC9D,GAAI68E,IAAW,GACXwlC,EAAI,UAAU,CAAE,IAAKl0H,EAAM,MAAQ,CAAA,EACnCk0H,EAAI,QAAS1C,GAAU,KAAMjqH,QAAUvH,EAAM,QAAQ,UAEhD,OAAO0uF,GAAU,UAAY,IAAKslC,GAAO,mBAAmBpC,EAAIljC,CAAM,EAAG,CAC9E,MAAM0J,EAAQ66B,EAAI,IAAI,WAAazB,GAAU,KAAMjqH,QAAUvH,EAAM,QAAQ,EAC3EizH,EAAI,MAAOzB,GAAU,KAAKp5B,CAAK,EAAG,IAAMsiC,EAActiC,CAAK,CAAC,EAC5D87B,EAAI,GAAG97B,CAAK,EAEhB,SAASsiC,EAActiC,EAAO,CAC1B66B,EAAI,SAAS,IAAKjzH,EAAM,OAAQuH,EAAMhhB,GAAM,CACxC2tI,EAAI,UAAU,CAAE,QAAA7B,EAAS,SAAU9rI,EAAG,aAAcytI,GAAO,KAAK,GAAK,EAAE57B,CAAK,EACvEw5B,EAAG,WACJqB,EAAI,MAAOzB,GAAU,KAAKp5B,CAAK,EAAG,IAAM66B,EAAI,MAAK,CAAE,CACnE,CAAS,CACJ,CACL,CAC+BnwB,GAAA,wBAAGi5C,GACnBj5C,GAAA,QAAGkqB,mBC9ClB,OAAO,eAAehtH,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EACvCA,GAAA,cAAG,OACxB,MAAMwxH,GAAY9uH,GACZsxH,GAASlxH,GACT+oH,GAAS7oH,GACTgqH,GAAM,CACR,QAAS,QACT,KAAM,QACN,WAAY,CAAC,SAAU,QAAS,SAAS,EACzC,OAAQ,cACR,KAAKkH,EAAK,CACN,KAAM,CAAE,OAAAxlC,EAAQ,GAAAkjC,CAAI,EAAGsC,EACvB,GAAI,MAAM,QAAQxlC,CAAM,EACpB,OAAOstD,GAAc9nB,EAAK,kBAAmBxlC,CAAM,EACvDkjC,EAAG,MAAQ,OACHoC,GAAO,mBAAmBpC,EAAIljC,CAAM,GAE5CwlC,EAAI,MAAOrI,GAAO,eAAeqI,CAAG,CAAC,CACxC,CACL,EACA,SAAS8nB,GAAc9nB,EAAK+nB,EAAYC,EAAShoB,EAAI,OAAQ,CACzD,KAAM,CAAE,IAAAjB,EAAK,aAAA4C,EAAc,KAAAhkH,EAAM,QAAAwgH,EAAS,GAAAT,CAAI,EAAGsC,EACjDioB,EAAiBtmB,CAAY,EACzBjE,EAAG,KAAK,aAAesqB,EAAO,QAAUtqB,EAAG,QAAU,KACrDA,EAAG,MAAQoC,GAAO,eAAe,MAAMf,EAAKipB,EAAO,OAAQtqB,EAAG,KAAK,GAEvE,MAAMx5B,EAAQ66B,EAAI,KAAK,OAAO,EACxB1rH,EAAM0rH,EAAI,MAAM,SAAWzB,GAAU,KAAM3/G,UAAa,EAC9DqqI,EAAO,QAAQ,CAAChjB,EAAK3yI,IAAM,IACfytI,GAAO,mBAAmBpC,EAAIsH,CAAG,IAEzCjG,EAAI,MAAOzB,GAAU,KAAMjqH,OAAShhB,IAAK,IAAM2tI,EAAI,UAAU,CACzD,QAAA7B,EACA,WAAY9rI,EACZ,SAAUA,CACtB,EAAW6xG,CAAK,CAAC,EACT87B,EAAI,GAAG97B,CAAK,EACpB,CAAK,EACD,SAAS+jD,EAAiBjjB,EAAK,CAC3B,KAAM,CAAE,KAAA/zH,EAAM,cAAAywH,CAAe,EAAGhE,EAC1Bp+G,EAAI0oI,EAAO,OACXE,EAAY5oI,IAAM0lH,EAAI,WAAa1lH,IAAM0lH,EAAI,UAAYA,EAAI+iB,CAAU,IAAM,IACnF,GAAI92I,EAAK,cAAgB,CAACi3I,EAAW,CACjC,MAAMvoB,EAAM,IAAIxB,SAAe7+G,qCAAqCyoI,6CAAsDrmB,QACtH5B,GAAO,iBAAiBpC,EAAIiC,EAAK1uH,EAAK,YAAY,EAE7D,CACL,CACqBnF,GAAA,cAAGg8I,GACTh8I,GAAA,QAAGgtH,GCjDlB,OAAO,eAAeqvB,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5D,MAAMC,GAAU55I,GACVsqH,GAAM,CACR,QAAS,cACT,KAAM,QACN,WAAY,CAAC,OAAO,EACpB,OAAQ,cACR,KAAOkH,MAAYooB,GAAQ,eAAepoB,EAAK,OAAO,CAC1D,EACemoB,GAAA,QAAGrvB,aCTlB,OAAO,eAAeuvB,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5D,MAAM/qB,GAAY9uH,GACZsxH,GAASlxH,GACT+oH,GAAS7oH,GACTw5I,GAAoB1yI,GACpBo/F,GAAQ,CACV,QAAS,CAAC,CAAE,OAAQ,CAAE,IAAA3hG,CAAG,CAAI,OAASiqH,GAAU,+BAAgCjqH,UAChF,OAAQ,CAAC,CAAE,OAAQ,CAAE,IAAAA,CAAG,CAAI,OAASiqH,GAAU,aAAcjqH,IACjE,EACMylH,GAAM,CACR,QAAS,QACT,KAAM,QACN,WAAY,CAAC,SAAU,SAAS,EAChC,OAAQ,cACZ,MAAI9jB,GACA,KAAKgrB,EAAK,CACN,KAAM,CAAE,OAAAxlC,EAAQ,aAAAmnC,EAAc,GAAAjE,CAAE,EAAKsC,EAC/B,CAAE,YAAAmoB,CAAa,EAAGxmB,EACxBjE,EAAG,MAAQ,OACHoC,GAAO,mBAAmBpC,EAAIljC,CAAM,IAExC2tD,KACIG,GAAkB,yBAAyBtoB,EAAKmoB,CAAW,EAE/DnoB,EAAI,MAAOrI,GAAO,eAAeqI,CAAG,CAAC,EAC5C,CACL,EACeqoB,GAAA,QAAGvvB,aC3BlB,OAAO,eAAer4B,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5D,MAAM68B,GAAY9uH,GACZsxH,GAASlxH,GACTomG,GAAQ,CACV,QAAS,CAAC,CAAE,OAAQ,CAAE,IAAA7jF,EAAK,IAAApgC,CAAK,CAAA,IAAOA,IAAQ,UACrCusI,GAAU,6BAA8BnsG,qBACxCmsG,GAAU,6BAA8BnsG,sBAAwBpgC,kBAC1E,OAAQ,CAAC,CAAE,OAAQ,CAAE,IAAAogC,EAAK,IAAApgC,EAAO,IAAKA,IAAQ,UAAgBusI,GAAU,mBAAoBnsG,QAAamsG,GAAU,mBAAoBnsG,mBAAqBpgC,IAChK,EACM+nI,GAAM,CACR,QAAS,WACT,KAAM,QACN,WAAY,CAAC,SAAU,SAAS,EAChC,OAAQ,cACR,YAAa,GACjB,MAAI9jB,GACA,KAAKgrB,EAAK,CACN,KAAM,CAAE,IAAAjB,EAAK,OAAAvkC,EAAQ,aAAAmnC,EAAc,KAAAhkH,EAAM,GAAA+/G,CAAI,EAAGsC,EAChD,IAAI7uG,EACApgC,EACJ,KAAM,CAAE,YAAAw3J,EAAa,YAAAC,CAAa,EAAG7mB,EACjCjE,EAAG,KAAK,MACRvsG,EAAMo3H,IAAgB,OAAY,EAAIA,EACtCx3J,EAAMy3J,GAGNr3H,EAAM,EAEV,MAAM9d,EAAM0rH,EAAI,MAAM,SAAWzB,GAAU,KAAM3/G,UAAa,EAE9D,GADAqiH,EAAI,UAAU,CAAE,IAAA7uG,EAAK,IAAApgC,CAAK,CAAA,EACtBA,IAAQ,QAAaogC,IAAQ,EAAG,IAC5B2uG,GAAO,iBAAiBpC,EAAI,sEAAsE,EACtG,OAEJ,GAAI3sI,IAAQ,QAAaogC,EAAMpgC,EAAK,IAC5B+uI,GAAO,iBAAiBpC,EAAI,iDAAiD,EACjFsC,EAAI,KAAI,EACR,OAEJ,MAAQF,GAAO,mBAAmBpC,EAAIljC,CAAM,EAAG,CAC3C,IAAIqgC,KAAWyC,GAAU,KAAMjqH,QAAU8d,IACrCpgC,IAAQ,SACR8pI,KAAWyC,GAAU,KAAMzC,QAAWxnH,QAAUtiB,KACpDivI,EAAI,KAAKnF,CAAI,EACb,OAEJ6C,EAAG,MAAQ,GACX,MAAMx5B,EAAQ66B,EAAI,KAAK,OAAO,EAC1BhuI,IAAQ,QAAaogC,IAAQ,EAC7Bq1G,EAActiC,EAAO,IAAM66B,EAAI,GAAG76B,EAAO,IAAM66B,EAAI,MAAO,CAAA,CAAC,EAEtD5tG,IAAQ,GACb4tG,EAAI,IAAI76B,EAAO,EAAI,EACfnzG,IAAQ,QACRguI,EAAI,MAAOzB,GAAU,KAAM3/G,eAAmB8qI,CAAsB,IAGxE1pB,EAAI,IAAI76B,EAAO,EAAK,EACpBukD,KAEJzoB,EAAI,OAAO97B,EAAO,IAAM87B,EAAI,MAAO,CAAA,EACnC,SAASyoB,GAAyB,CAC9B,MAAM9hB,EAAW5H,EAAI,KAAK,QAAQ,EAC5Bv0H,EAAQu0H,EAAI,IAAI,QAAS,CAAC,EAChCyH,EAAcG,EAAU,IAAM5H,EAAI,GAAG4H,EAAU,IAAM+hB,EAAYl+I,CAAK,CAAC,CAAC,CAC3E,CACD,SAASg8H,EAAcmiB,EAAQC,EAAO,CAClC7pB,EAAI,SAAS,IAAK,EAAG1rH,EAAMhhB,GAAM,CAC7B2tI,EAAI,UAAU,CACV,QAAS,WACT,SAAU3tI,EACV,aAAcytI,GAAO,KAAK,IAC1B,cAAe,EAClB,EAAE6oB,CAAM,EACTC,GAChB,CAAa,CACJ,CACD,SAASF,EAAYl+I,EAAO,CACxBu0H,EAAI,QAASzB,GAAU,KAAM9yH,KAAS,EAClCzZ,IAAQ,OACRguI,EAAI,MAAOzB,GAAU,KAAM9yH,QAAY2mB,IAAO,IAAM4tG,EAAI,OAAO76B,EAAO,EAAI,EAAE,MAAK,CAAE,GAGnF66B,EAAI,MAAOzB,GAAU,KAAM9yH,OAAWzZ,IAAO,IAAMguI,EAAI,OAAO76B,EAAO,EAAK,EAAE,MAAK,CAAE,EAC/E/yE,IAAQ,EACR4tG,EAAI,OAAO76B,EAAO,EAAI,EAEtB66B,EAAI,MAAOzB,GAAU,KAAM9yH,QAAY2mB,IAAO,IAAM4tG,EAAI,OAAO76B,EAAO,EAAI,CAAC,EAEtF,CACJ,CACL,EACezD,GAAA,QAAGq4B,0BC5FlB,OAAO,eAAcznH,EAAU,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5DA,EAAA,mBAA6BA,EAA+B,qBAAAA,EAAA,MAAgB,OAC5E,MAAMisH,EAAY9uH,GACZsxH,EAASlxH,GACT+oH,EAAS7oH,GACfuC,EAAgB,MAAA,CACZ,QAAS,CAAC,CAAE,OAAQ,CAAE,SAAAgjG,EAAU,UAAAw0C,EAAW,KAAAxgB,CAAI,KAAS,CACpD,MAAMygB,EAAeD,IAAc,EAAI,WAAa,aACpD,SAAWvrB,EAAU,iBAAkBwrB,KAAgBzgB,mBAAsBh0B,cAChF,EACD,OAAQ,CAAC,CAAE,OAAQ,CAAE,SAAAA,EAAU,UAAAw0C,EAAW,KAAAxgB,EAAM,gBAAAud,CAAiB,CAAA,OAAWtoB,EAAU,gBAAiBjpB;AAAA,uBACpFuxC;AAAA,iBACNiD;AAAA,YACLxgB,IACZ,EACA,MAAMvP,EAAM,CACR,QAAS,eACT,KAAM,SACN,WAAY,SACZ,MAAOznH,EAAQ,MACf,KAAK2uH,EAAK,CACN,KAAM,CAAC+oB,EAAUC,CAAO,EAAIC,EAAkBjpB,CAAG,EACjDkpB,EAAqBlpB,EAAK+oB,CAAQ,EAClCI,EAAmBnpB,EAAKgpB,CAAO,CAClC,CACL,EACA,SAASC,EAAkB,CAAE,OAAAzuD,GAAU,CACnC,MAAM4uD,EAAe,CAAA,EACfC,EAAa,CAAA,EACnB,UAAWnhJ,KAAOsyF,EAAQ,CACtB,GAAItyF,IAAQ,YACR,SACJ,MAAMmgI,EAAO,MAAM,QAAQ7tC,EAAOtyF,CAAG,CAAC,EAAIkhJ,EAAeC,EACzDhhB,EAAKngI,CAAG,EAAIsyF,EAAOtyF,CAAG,EAE1B,MAAO,CAACkhJ,EAAcC,CAAU,CACnC,CACD,SAASH,EAAqBlpB,EAAKopB,EAAeppB,EAAI,OAAQ,CAC1D,KAAM,CAAE,IAAAjB,EAAK,KAAAphH,EAAM,GAAA+/G,CAAE,EAAKsC,EAC1B,GAAI,OAAO,KAAKopB,CAAY,EAAE,SAAW,EACrC,OACJ,MAAM9jB,EAAUvG,EAAI,IAAI,SAAS,EACjC,UAAW9jD,KAAQmuE,EAAc,CAC7B,MAAM/gB,EAAO+gB,EAAanuE,CAAI,EAC9B,GAAIotD,EAAK,SAAW,EAChB,SACJ,MAAMihB,KAAkB3xB,EAAO,gBAAgBoH,EAAKphH,EAAMs9D,EAAMyiD,EAAG,KAAK,aAAa,EACrFsC,EAAI,UAAU,CACV,SAAU/kD,EACV,UAAWotD,EAAK,OAChB,KAAMA,EAAK,KAAK,IAAI,CAChC,CAAS,EACG3K,EAAG,UACHqB,EAAI,GAAGuqB,EAAa,IAAM,CACtB,UAAWC,KAAWlhB,KACd1Q,EAAO,wBAAwBqI,EAAKupB,CAAO,CAEnE,CAAa,GAGDxqB,EAAI,MAAOzB,EAAU,KAAMgsB,YAAuB3xB,EAAO,kBAAkBqI,EAAKqI,EAAM/C,CAAO,IAAI,KAC7F3N,EAAO,mBAAmBqI,EAAKsF,CAAO,EAC1CvG,EAAI,KAAI,GAGnB,CACD1tH,EAAA,qBAA+B63I,EAC/B,SAASC,EAAmBnpB,EAAKqpB,EAAarpB,EAAI,OAAQ,CACtD,KAAM,CAAE,IAAAjB,EAAK,KAAAphH,EAAM,QAAAwgH,EAAS,GAAAT,CAAE,EAAKsC,EAC7B97B,EAAQ66B,EAAI,KAAK,OAAO,EAC9B,UAAW9jD,KAAQouE,KACPvpB,EAAO,mBAAmBpC,EAAI2rB,EAAWpuE,CAAI,CAAC,IAEtD8jD,EAAI,MAAOpH,EAAO,gBAAgBoH,EAAKphH,EAAMs9D,EAAMyiD,EAAG,KAAK,aAAa,EAAG,IAAM,CAC7E,MAAMmJ,EAAS7G,EAAI,UAAU,CAAE,QAAA7B,EAAS,WAAYljD,GAAQipB,CAAK,EACjE87B,EAAI,oBAAoB6G,EAAQ3iC,CAAK,CACxC,EAAE,IAAM66B,EAAI,IAAI76B,EAAO,EAAI,CACpC,EACQ87B,EAAI,GAAG97B,CAAK,EAEnB,CACD7yF,EAAA,mBAA6B83I,EAC7B93I,EAAA,QAAkBynH,kBClFlB,OAAO,eAAe0wB,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5D,MAAMlsB,GAAY9uH,GACZsxH,GAASlxH,GACTomG,GAAQ,CACV,QAAS,8BACT,OAAQ,CAAC,CAAE,OAAArzG,CAAQ,OAAS27H,GAAU,oBAAqB37H,EAAO,eACtE,EACMm3H,GAAM,CACR,QAAS,gBACT,KAAM,SACN,WAAY,CAAC,SAAU,SAAS,EACpC,MAAI9jB,GACA,KAAKgrB,EAAK,CACN,KAAM,CAAE,IAAAjB,EAAK,OAAAvkC,EAAQ,KAAA78E,EAAM,GAAA+/G,CAAE,EAAKsC,EAClC,MAAQF,GAAO,mBAAmBpC,EAAIljC,CAAM,EACxC,OACJ,MAAM0J,EAAQ66B,EAAI,KAAK,OAAO,EAC9BA,EAAI,MAAM,MAAOphH,EAAOzV,GAAQ,CAC5B83H,EAAI,UAAU,CAAE,aAAc93H,CAAK,CAAA,EACnC83H,EAAI,UAAU,CACV,QAAS,gBACT,KAAM93H,EACN,UAAW,CAAC,QAAQ,EACpB,aAAcA,EACd,cAAe,EAClB,EAAEg8F,CAAK,EACR66B,EAAI,MAAOzB,GAAU,KAAKp5B,CAAK,EAAG,IAAM,CACpC87B,EAAI,MAAM,EAAI,EACTtC,EAAG,WACJqB,EAAI,MAAK,CAC7B,CAAa,CACb,CAAS,EACDiB,EAAI,GAAG97B,CAAK,CACf,CACL,EACeslD,GAAA,QAAG1wB,aCnClB,OAAO,eAAejuB,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5D,MAAM8sB,GAASnpH,GACT8uH,GAAY1uH,GACZixH,GAAU/wH,GACVgxH,GAASlqH,GACTo/F,GAAQ,CACV,QAAS,sCACT,OAAQ,CAAC,CAAE,OAAArzG,CAAQ,OAAS27H,GAAU,0BAA2B37H,EAAO,qBAC5E,EACMm3H,GAAM,CACR,QAAS,uBACT,KAAM,CAAC,QAAQ,EACf,WAAY,CAAC,UAAW,QAAQ,EAChC,eAAgB,GAChB,YAAa,GACjB,MAAI9jB,GACA,KAAKgrB,EAAK,CACN,KAAM,CAAE,IAAAjB,EAAK,OAAAvkC,EAAQ,aAAAmnC,EAAc,KAAAhkH,EAAM,UAAAgjH,EAAW,GAAAjD,CAAI,EAAGsC,EAE3D,GAAI,CAACW,EACD,MAAM,IAAI,MAAM,0BAA0B,EAC9C,KAAM,CAAE,UAAAP,EAAW,KAAAnvH,CAAM,EAAGysH,EAE5B,GADAA,EAAG,MAAQ,GACPzsH,EAAK,mBAAqB,UAAa6uH,GAAO,mBAAmBpC,EAAIljC,CAAM,EAC3E,OACJ,MAAM5nG,KAAY+kI,GAAO,qBAAqBgK,EAAa,UAAU,EAC/D8nB,KAAe9xB,GAAO,qBAAqBgK,EAAa,iBAAiB,EAC/E+nB,IACA1pB,EAAI,MAAO1C,GAAU,KAAMqD,SAAiBd,GAAQ,QAAQ,QAAQ,EACpE,SAAS6pB,GAA4B,CACjC3qB,EAAI,MAAM,MAAOphH,EAAOzV,GAAQ,CACxB,CAACtV,EAAM,QAAU,CAAC62J,EAAS,OAC3BE,EAAuBzhJ,CAAG,EAE1B62H,EAAI,GAAG6qB,EAAa1hJ,CAAG,EAAG,IAAMyhJ,EAAuBzhJ,CAAG,CAAC,CAC/E,CAAa,CACJ,CACD,SAAS0hJ,EAAa1hJ,EAAK,CACvB,IAAI2hJ,EACJ,GAAIj3J,EAAM,OAAS,EAAG,CAElB,MAAMk3J,KAAkBhqB,GAAO,gBAAgBpC,EAAIiE,EAAa,WAAY,YAAY,EACxFkoB,KAAkBlyB,GAAO,eAAeoH,EAAK+qB,EAAa5hJ,CAAG,OAExDtV,EAAM,OACXi3J,KAAkBvsB,GAAU,IAAI,GAAG1qI,EAAM,IAAK6sB,MAAU69G,GAAU,KAAMp1H,SAAWuX,GAAG,CAAC,EAGvFoqI,EAAcvsB,GAAU,IAE5B,OAAImsB,EAAS,SACTI,KAAkBvsB,GAAU,IAAIusB,EAAa,GAAGJ,EAAS,IAAKhqI,MAAU69G,GAAU,QAAU3F,GAAO,YAAYqI,EAAKvgH,CAAC,UAAUvX,IAAM,CAAC,MAE/Ho1H,GAAU,KAAKusB,CAAW,CACxC,CACD,SAASE,EAAiB7hJ,EAAK,CAC3B62H,EAAI,QAASzB,GAAU,YAAa3/G,KAAQzV,IAAM,CACrD,CACD,SAASyhJ,EAAuBzhJ,EAAK,CACjC,GAAI+I,EAAK,mBAAqB,OAAUA,EAAK,kBAAoBupF,IAAW,GAAQ,CAChFuvD,EAAiB7hJ,CAAG,EACpB,OAEJ,GAAIsyF,IAAW,GAAO,CAClBwlC,EAAI,UAAU,CAAE,mBAAoB93H,CAAK,CAAA,EACzC83H,EAAI,MAAK,EACJI,GACDrB,EAAI,MAAK,EACb,OAEJ,GAAI,OAAOvkC,GAAU,UAAY,IAAKslC,GAAO,mBAAmBpC,EAAIljC,CAAM,EAAG,CACzE,MAAM0J,EAAQ66B,EAAI,KAAK,OAAO,EAC1B9tH,EAAK,mBAAqB,WAC1B+4I,EAAsB9hJ,EAAKg8F,EAAO,EAAK,EACvC66B,EAAI,MAAOzB,GAAU,KAAKp5B,CAAK,EAAG,IAAM,CACpC87B,EAAI,MAAK,EACT+pB,EAAiB7hJ,CAAG,CAC5C,CAAqB,IAGD8hJ,EAAsB9hJ,EAAKg8F,CAAK,EAC3Bk8B,GACDrB,EAAI,MAAOzB,GAAU,KAAKp5B,CAAK,EAAG,IAAM66B,EAAI,MAAK,CAAE,GAGlE,CACD,SAASirB,EAAsB9hJ,EAAKg8F,EAAO6N,EAAQ,CAC/C,MAAM1F,EAAY,CACd,QAAS,uBACT,SAAUnkG,EACV,aAAc43H,GAAO,KAAK,GAC1C,EACgB/tB,IAAW,IACX,OAAO,OAAO1F,EAAW,CACrB,cAAe,GACf,aAAc,GACd,UAAW,EAC/B,CAAiB,EAEL2zB,EAAI,UAAU3zB,EAAWnI,CAAK,CACjC,CACJ,CACL,EACe2G,GAAA,QAAGiuB,aCvGlB,OAAO,eAAe75B,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5D,MAAMwxC,GAAajiI,GACbmpH,GAAS/oH,GACTkxH,GAAShxH,GACTm7I,GAAyBr0I,GACzBkjH,GAAM,CACR,QAAS,aACT,KAAM,SACN,WAAY,SACZ,KAAKkH,EAAK,CACN,KAAM,CAAE,IAAAjB,EAAK,OAAAvkC,EAAQ,aAAAmnC,EAAc,KAAAhkH,EAAM,GAAA+/G,CAAI,EAAGsC,EAC5CtC,EAAG,KAAK,mBAAqB,OAASiE,EAAa,uBAAyB,QAC5EsoB,GAAuB,QAAQ,KAAK,IAAIxZ,GAAW,WAAW/S,EAAIusB,GAAuB,QAAS,sBAAsB,CAAC,EAE7H,MAAMnvD,KAAe68B,GAAO,qBAAqBn9B,CAAM,EACvD,UAAWvf,KAAQ6f,EACf4iC,EAAG,kBAAkB,IAAIziD,CAAI,EAE7ByiD,EAAG,KAAK,aAAe5iC,EAAS,QAAU4iC,EAAG,QAAU,KACvDA,EAAG,MAAQoC,GAAO,eAAe,MAAMf,KAASe,GAAO,QAAQhlC,CAAQ,EAAG4iC,EAAG,KAAK,GAEtF,MAAMz+B,EAAanE,EAAS,OAAQr7E,GAAM,IAAKqgH,GAAO,mBAAmBpC,EAAIljC,EAAO/6E,CAAC,CAAC,CAAC,EACvF,GAAIw/E,EAAW,SAAW,EACtB,OACJ,MAAMiF,EAAQ66B,EAAI,KAAK,OAAO,EAC9B,UAAW9jD,KAAQgkB,EACXirD,EAAWjvE,CAAI,EACfkvE,EAAoBlvE,CAAI,GAGxB8jD,EAAI,MAAOpH,GAAO,gBAAgBoH,EAAKphH,EAAMs9D,EAAMyiD,EAAG,KAAK,aAAa,CAAC,EACzEysB,EAAoBlvE,CAAI,EACnByiD,EAAG,WACJqB,EAAI,KAAM,EAAC,IAAI76B,EAAO,EAAI,EAC9B66B,EAAI,MAAK,GAEbiB,EAAI,GAAG,kBAAkB,IAAI/kD,CAAI,EACjC+kD,EAAI,GAAG97B,CAAK,EAEhB,SAASgmD,EAAWjvE,EAAM,CACtB,OAAOyiD,EAAG,KAAK,aAAe,CAACA,EAAG,eAAiBljC,EAAOvf,CAAI,EAAE,UAAY,MAC/E,CACD,SAASkvE,EAAoBlvE,EAAM,CAC/B+kD,EAAI,UAAU,CACV,QAAS,aACT,WAAY/kD,EACZ,SAAUA,CACb,EAAEipB,CAAK,CACX,CACJ,CACL,EACejF,GAAA,QAAG65B,aCnDlB,OAAO,eAAesxB,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5D,MAAMzyB,GAASnpH,GACT8uH,GAAY1uH,GACZkxH,GAAShxH,GACTo2H,GAASp2H,GACTgqH,GAAM,CACR,QAAS,oBACT,KAAM,SACN,WAAY,SACZ,KAAKkH,EAAK,CACN,KAAM,CAAE,IAAAjB,EAAK,OAAAvkC,EAAQ,KAAA78E,EAAM,aAAAgkH,EAAc,GAAAjE,CAAI,EAAGsC,EAC1C,CAAE,KAAA/uH,CAAM,EAAGysH,EACX2sB,KAAe1yB,GAAO,qBAAqBn9B,CAAM,EACjD8vD,EAAsBD,EAAS,OAAQ5qI,MAAUqgH,GAAO,mBAAmBpC,EAAIljC,EAAO/6E,CAAC,CAAC,CAAC,EAC/F,GAAI4qI,EAAS,SAAW,GACnBC,EAAoB,SAAWD,EAAS,SACpC,CAAC3sB,EAAG,KAAK,aAAeA,EAAG,QAAU,IAC1C,OAEJ,MAAM6sB,EAAkBt5I,EAAK,cAAgB,CAACA,EAAK,yBAA2B0wH,EAAa,WACrFz9B,EAAQ66B,EAAI,KAAK,OAAO,EAC1BrB,EAAG,QAAU,IAAQ,EAAEA,EAAG,iBAAiBJ,GAAU,QACrDI,EAAG,SAAYwH,GAAO,sBAAsBnG,EAAKrB,EAAG,KAAK,GAE7D,KAAM,CAAE,MAAA9qI,CAAO,EAAG8qI,EAClB8sB,IACA,SAASA,GAA4B,CACjC,UAAWC,KAAOJ,EACVE,GACAG,EAAwBD,CAAG,EAC3B/sB,EAAG,UACHitB,EAAmBF,CAAG,GAGtB1rB,EAAI,IAAI76B,EAAO,EAAI,EACnBymD,EAAmBF,CAAG,EACtB1rB,EAAI,GAAG76B,CAAK,EAGvB,CACD,SAASwmD,EAAwBD,EAAK,CAClC,UAAWxvE,KAAQsvE,EACX,IAAI,OAAOE,CAAG,EAAE,KAAKxvE,CAAI,MACrB6kD,GAAO,iBAAiBpC,EAAI,YAAYziD,qBAAwBwvE,iCAAmC,CAGlH,CACD,SAASE,EAAmBF,EAAK,CAC7B1rB,EAAI,MAAM,MAAOphH,EAAOzV,GAAQ,CAC5B62H,EAAI,MAAOzB,GAAU,QAAU3F,GAAO,YAAYqI,EAAKyqB,CAAG,UAAUviJ,KAAQ,IAAM,CAC9E,MAAMmoC,EAAci6G,EAAoB,SAASG,CAAG,EAC/Cp6G,GACD2vF,EAAI,UAAU,CACV,QAAS,oBACT,WAAYyqB,EACZ,SAAUviJ,EACV,aAAcg9H,GAAO,KAAK,GAC7B,EAAEhhC,CAAK,EAERw5B,EAAG,KAAK,aAAe9qI,IAAU,GACjCmsI,EAAI,UAAWzB,GAAU,KAAM1qI,KAASsV,KAAQ,EAAI,EAE/C,CAACmoC,GAAe,CAACqtF,EAAG,WAGzBqB,EAAI,MAAOzB,GAAU,KAAKp5B,CAAK,EAAG,IAAM66B,EAAI,MAAK,CAAE,CAE3E,CAAiB,CACjB,CAAa,CACJ,CACJ,CACL,EACeqrB,GAAA,QAAGtxB,aCxElB,OAAO,eAAeiC,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5D,MAAM+E,GAAStxH,GACTsqH,GAAM,CACR,QAAS,MACT,WAAY,CAAC,SAAU,SAAS,EAChC,YAAa,GACb,KAAKkH,EAAK,CACN,KAAM,CAAE,IAAAjB,EAAK,OAAAvkC,EAAQ,GAAAkjC,CAAE,EAAKsC,EAC5B,MAAQF,GAAO,mBAAmBpC,EAAIljC,CAAM,EAAG,CAC3CwlC,EAAI,KAAI,EACR,OAEJ,MAAM97B,EAAQ66B,EAAI,KAAK,OAAO,EAC9BiB,EAAI,UAAU,CACV,QAAS,MACT,cAAe,GACf,aAAc,GACd,UAAW,EACd,EAAE97B,CAAK,EACR87B,EAAI,WAAW97B,EAAO,IAAM87B,EAAI,MAAK,EAAI,IAAMA,EAAI,MAAK,CAAE,CAC7D,EACD,MAAO,CAAE,QAAS,mBAAqB,CAC3C,EACejF,GAAA,QAAGjC,aCvBlB,OAAO,eAAe8xB,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5D,MAAMjzB,GAASnpH,GACTsqH,GAAM,CACR,QAAS,QACT,WAAY,QACZ,YAAa,GACb,KAAMnB,GAAO,cACb,MAAO,CAAE,QAAS,8BAAgC,CACtD,EACeizB,GAAA,QAAG9xB,aCTlB,OAAO,eAAe5sB,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5D,MAAMoxB,GAAY9uH,GACZsxH,GAASlxH,GACTomG,GAAQ,CACV,QAAS,yCACT,OAAQ,CAAC,CAAE,OAAArzG,CAAQ,OAAS27H,GAAU,sBAAuB37H,EAAO,UACxE,EACMm3H,GAAM,CACR,QAAS,QACT,WAAY,QACZ,YAAa,GACjB,MAAI9jB,GACA,KAAKgrB,EAAK,CACN,KAAM,CAAE,IAAAjB,EAAK,OAAAvkC,EAAQ,aAAAmnC,EAAc,GAAAjE,CAAE,EAAKsC,EAE1C,GAAI,CAAC,MAAM,QAAQxlC,CAAM,EACrB,MAAM,IAAI,MAAM,0BAA0B,EAC9C,GAAIkjC,EAAG,KAAK,eAAiBiE,EAAa,cACtC,OACJ,MAAMqmB,EAASxtD,EACT0J,EAAQ66B,EAAI,IAAI,QAAS,EAAK,EAC9B8rB,EAAU9rB,EAAI,IAAI,UAAW,IAAI,EACjC4H,EAAW5H,EAAI,KAAK,QAAQ,EAClCiB,EAAI,UAAU,CAAE,QAAA6qB,CAAO,CAAE,EAEzB9rB,EAAI,MAAM+rB,CAAa,EACvB9qB,EAAI,OAAO97B,EAAO,IAAM87B,EAAI,QAAS,IAAMA,EAAI,MAAM,EAAI,CAAC,EAC1D,SAAS8qB,GAAgB,CACrB9C,EAAO,QAAQ,CAAChjB,EAAK3yI,IAAM,CACvB,IAAIw0I,KACI/G,GAAO,mBAAmBpC,EAAIsH,CAAG,EACrCjG,EAAI,IAAI4H,EAAU,EAAI,EAGtBE,EAAS7G,EAAI,UAAU,CACnB,QAAS,QACT,WAAY3tI,EACZ,cAAe,EAClB,EAAEs0I,CAAQ,EAEXt0I,EAAI,GACJ0sI,EACK,MAAOzB,GAAU,KAAMqJ,QAAeziC,GAAO,EAC7C,OAAOA,EAAO,EAAK,EACnB,OAAO2mD,KAAavtB,GAAU,MAAOutB,MAAYx4J,IAAI,EACrD,OAET0sI,EAAI,GAAG4H,EAAU,IAAM,CACnB5H,EAAI,OAAO76B,EAAO,EAAI,EACtB66B,EAAI,OAAO8rB,EAASx4J,CAAC,EACjBw0I,GACA7G,EAAI,eAAe6G,EAAQvJ,GAAU,IAAI,CACjE,CAAiB,CACjB,CAAa,CACJ,CACJ,CACL,EACepxB,GAAA,QAAG4sB,aCzDlB,OAAO,eAAez3B,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5D,MAAMy+B,GAAStxH,GACTsqH,GAAM,CACR,QAAS,QACT,WAAY,QACZ,KAAKkH,EAAK,CACN,KAAM,CAAE,IAAAjB,EAAK,OAAAvkC,EAAQ,GAAAkjC,CAAE,EAAKsC,EAE5B,GAAI,CAAC,MAAM,QAAQxlC,CAAM,EACrB,MAAM,IAAI,MAAM,0BAA0B,EAC9C,MAAM0J,EAAQ66B,EAAI,KAAK,OAAO,EAC9BvkC,EAAO,QAAQ,CAACwqC,EAAK3yI,IAAM,CACvB,MAAQytI,GAAO,mBAAmBpC,EAAIsH,CAAG,EACrC,OACJ,MAAM6B,EAAS7G,EAAI,UAAU,CAAE,QAAS,QAAS,WAAY3tI,GAAK6xG,CAAK,EACvE87B,EAAI,GAAG97B,CAAK,EACZ87B,EAAI,eAAe6G,CAAM,CACrC,CAAS,CACJ,CACL,EACexlC,GAAA,QAAGy3B,aCpBlB,OAAO,eAAeiyB,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5D,MAAMztB,GAAY9uH,GACZsxH,GAASlxH,GACTomG,GAAQ,CACV,QAAS,CAAC,CAAE,OAAArzG,CAAQ,OAAS27H,GAAU,mBAAoB37H,EAAO,mBAClE,OAAQ,CAAC,CAAE,OAAAA,CAAQ,OAAS27H,GAAU,sBAAuB37H,EAAO,WACxE,EACMm3H,GAAM,CACR,QAAS,KACT,WAAY,CAAC,SAAU,SAAS,EAChC,YAAa,GACjB,MAAI9jB,GACA,KAAKgrB,EAAK,CACN,KAAM,CAAE,IAAAjB,EAAK,aAAA4C,EAAc,GAAAjE,CAAE,EAAKsC,EAC9B2B,EAAa,OAAS,QAAaA,EAAa,OAAS,WACrD7B,GAAO,iBAAiBpC,EAAI,2CAA2C,EAE/E,MAAMstB,EAAUC,GAAUvtB,EAAI,MAAM,EAC9BwtB,EAAUD,GAAUvtB,EAAI,MAAM,EACpC,GAAI,CAACstB,GAAW,CAACE,EACb,OACJ,MAAMhnD,EAAQ66B,EAAI,IAAI,QAAS,EAAI,EAC7B4H,EAAW5H,EAAI,KAAK,QAAQ,EAGlC,GAFAosB,IACAnrB,EAAI,MAAK,EACLgrB,GAAWE,EAAS,CACpB,MAAME,EAAWrsB,EAAI,IAAI,UAAU,EACnCiB,EAAI,UAAU,CAAE,SAAAorB,CAAQ,CAAE,EAC1BrsB,EAAI,GAAG4H,EAAU0kB,EAAe,OAAQD,CAAQ,EAAGC,EAAe,OAAQD,CAAQ,CAAC,OAE9EJ,EACLjsB,EAAI,GAAG4H,EAAU0kB,EAAe,MAAM,CAAC,EAGvCtsB,EAAI,MAAOzB,GAAU,KAAKqJ,CAAQ,EAAG0kB,EAAe,MAAM,CAAC,EAE/DrrB,EAAI,KAAK97B,EAAO,IAAM87B,EAAI,MAAM,EAAI,CAAC,EACrC,SAASmrB,GAAa,CAClB,MAAMtkB,EAAS7G,EAAI,UAAU,CACzB,QAAS,KACT,cAAe,GACf,aAAc,GACd,UAAW,EACd,EAAE2G,CAAQ,EACX3G,EAAI,eAAe6G,CAAM,CAC5B,CACD,SAASwkB,EAAeltB,EAASitB,EAAU,CACvC,MAAO,IAAM,CACT,MAAMvkB,EAAS7G,EAAI,UAAU,CAAE,QAAA7B,CAAO,EAAIwI,CAAQ,EAClD5H,EAAI,OAAO76B,EAAOyiC,CAAQ,EAC1B3G,EAAI,oBAAoB6G,EAAQ3iC,CAAK,EACjCknD,EACArsB,EAAI,OAAOqsB,KAAc9tB,GAAU,KAAMa,GAAS,EAElD6B,EAAI,UAAU,CAAE,SAAU7B,CAAS,CAAA,CACvD,CACS,CACJ,CACL,EACA,SAAS8sB,GAAUvtB,EAAIS,EAAS,CAC5B,MAAM3jC,EAASkjC,EAAG,OAAOS,CAAO,EAChC,OAAO3jC,IAAW,QAAa,IAAKslC,GAAO,mBAAmBpC,EAAIljC,CAAM,CAC5E,CACeuwD,GAAA,QAAGjyB,aC/DlB,OAAO,eAAewyB,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5D,MAAMxrB,GAAStxH,GACTsqH,GAAM,CACR,QAAS,CAAC,OAAQ,MAAM,EACxB,WAAY,CAAC,SAAU,SAAS,EAChC,KAAK,CAAE,QAAAqF,EAAS,aAAAwD,EAAc,GAAAjE,CAAE,EAAI,CAC5BiE,EAAa,KAAO,WAChB7B,GAAO,iBAAiBpC,EAAI,IAAIS,4BAAkC,CAC7E,CACL,EACemtB,GAAA,QAAGxyB,GCVlB,OAAO,eAAeyyB,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5D,MAAMjD,GAAoB95I,GACpBg9I,GAAgB58I,GAChBw5I,GAAUt5I,GACV28I,GAAc71I,GACd81I,GAAa9uF,GACb+uF,GAAiB7uF,GACjB8uF,GAAkB5uF,GAClBitF,GAAyB/sF,GACzB2uF,GAAenrF,GACforF,GAAsBnrF,GACtBorF,GAAQtoF,GACRuoF,GAAUtoF,GACVuoF,GAAUtoF,GACVuoF,GAAUtoF,GACVuoF,GAAOtoF,GACPuoF,GAAatoF,GACnB,SAASuoF,GAAcC,EAAY,GAAO,CACtC,MAAMf,EAAa,CAEfQ,GAAM,QACNC,GAAQ,QACRC,GAAQ,QACRC,GAAQ,QACRC,GAAK,QACLC,GAAW,QAEXR,GAAgB,QAChB3B,GAAuB,QACvB0B,GAAe,QACfE,GAAa,QACbC,GAAoB,OAC5B,EAEI,OAAIQ,EACAf,EAAW,KAAKC,GAAc,QAASC,GAAY,OAAO,EAE1DF,EAAW,KAAKjD,GAAkB,QAASF,GAAQ,OAAO,EAC9DmD,EAAW,KAAKG,GAAW,OAAO,EAC3BH,CACX,CACeA,GAAA,QAAGc,mBCzClB,OAAO,eAAej8H,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5D,MAAMktG,GAAY9uH,GACZwmG,GAAQ,CACV,QAAS,CAAC,CAAE,WAAA6vB,CAAU,OAAWvH,GAAU,0BAA2BuH,KACtE,OAAQ,CAAC,CAAE,WAAAA,CAAU,OAAWvH,GAAU,cAAeuH,IAC7D,EACM/L,GAAM,CACR,QAAS,SACT,KAAM,CAAC,SAAU,QAAQ,EACzB,WAAY,SACZ,MAAO,GACX,MAAI9jB,GACA,KAAKgrB,EAAK0P,EAAU,CAChB,KAAM,CAAE,IAAA3Q,EAAK,KAAAphH,EAAM,MAAAygH,EAAO,OAAA5jC,EAAQ,WAAAqqC,EAAY,GAAAnH,CAAI,EAAGsC,EAC/C,CAAE,KAAA/uH,EAAM,cAAAywH,EAAe,UAAAV,EAAW,KAAA1oG,CAAI,EAAKolG,EACjD,GAAI,CAACzsH,EAAK,gBACN,OACAmtH,EACAmuB,IAEAC,IACJ,SAASD,GAAsB,CAC3B,MAAME,EAAO1tB,EAAI,WAAW,UAAW,CACnC,IAAKzmG,EAAK,QACV,KAAMrnB,EAAK,KAAK,OAChC,CAAa,EACKy7I,EAAO3tB,EAAI,MAAM,UAAYzB,GAAU,KAAMmvB,KAAQ5nB,IAAa,EAClE8nB,EAAQ5tB,EAAI,IAAI,OAAO,EACvB3uG,EAAS2uG,EAAI,IAAI,QAAQ,EAE/BA,EAAI,MAAOzB,GAAU,YAAaovB,sBAAyBA,uBAA2B,IAAM3tB,EAAI,OAAO4tB,KAAWrvB,GAAU,KAAMovB,oBAAuB,EAAE,OAAOt8H,KAAYktG,GAAU,KAAMovB,YAAe,EAAG,IAAM3tB,EAAI,OAAO4tB,KAAWrvB,GAAU,YAAa,EAAE,OAAOltG,EAAQs8H,CAAI,CAAC,EACzR1sB,EAAI,aAAc1C,GAAU,IAAIsvB,IAAcC,EAAY,CAAA,CAAC,EAC3D,SAASD,GAAa,CAClB,OAAI37I,EAAK,eAAiB,GACfqsH,GAAU,OACVA,GAAU,KAAMuH,SAAkBz0G,GAChD,CACD,SAASy8H,GAAa,CAClB,MAAMC,EAAa9rB,EAAU,UACnB1D,GAAU,MAAOovB,mBAAsBt8H,KAAUzS,QAAWyS,KAAUzS,SACtE2/G,GAAU,KAAMltG,KAAUzS,KAC9BovI,KAAgBzvB,GAAU,aAAcltG,qBAA0B08H,OAAgB18H,UAAezS,MACvG,SAAW2/G,GAAU,KAAMltG,QAAaA,iBAAsBu8H,SAAajd,SAAgBqd,GAC9F,CACJ,CACD,SAASP,GAAiB,CACtB,MAAMQ,EAAY10H,EAAK,QAAQkiE,CAAM,EACrC,GAAI,CAACwyD,EAAW,CACZC,IACA,OAEJ,GAAID,IAAc,GACd,OACJ,KAAM,CAACE,EAAS98H,EAAQ+8H,CAAM,EAAIC,EAAUJ,CAAS,EACjDE,IAAYxd,GACZ1P,EAAI,KAAKqtB,EAAc,CAAE,EAC7B,SAASJ,GAAgB,CACrB,GAAIh8I,EAAK,eAAiB,GAAO,CAC7BqnB,EAAK,OAAO,KAAKg1H,EAAY,CAAA,EAC7B,OAEJ,MAAM,IAAI,MAAMA,EAAU,CAAE,EAC5B,SAASA,GAAa,CAClB,MAAO,mBAAmB9yD,iCAAsCknC,IACnE,CACJ,CACD,SAAS0rB,EAAUG,EAAQ,CACvB,MAAMt6I,EAAOs6I,aAAkB,UACrBjwB,GAAU,YAAYiwB,CAAM,EAChCt8I,EAAK,KAAK,WACFqsH,GAAU,KAAMrsH,EAAK,KAAK,aAAcqsH,GAAU,aAAa9iC,CAAM,IACzE,OACJgzD,EAAMzuB,EAAI,WAAW,UAAW,CAAE,IAAKvkC,EAAQ,IAAK+yD,EAAQ,KAAAt6I,CAAM,CAAA,EACxE,OAAI,OAAOs6I,GAAU,UAAY,EAAEA,aAAkB,QAC1C,CAACA,EAAO,MAAQ,SAAUA,EAAO,YAAcjwB,GAAU,KAAMkwB,YAAc,EAEjF,CAAC,SAAUD,EAAQC,CAAG,CAChC,CACD,SAASH,GAAiB,CACtB,GAAI,OAAOL,GAAa,UAAY,EAAEA,aAAqB,SAAWA,EAAU,MAAO,CACnF,GAAI,CAAChsB,EAAU,OACX,MAAM,IAAI,MAAM,6BAA6B,EACjD,SAAW1D,GAAU,WAAY6vB,KAAUxvI,KAE/C,OAAO,OAAOyS,GAAU,cAAiBktG,GAAU,KAAM6vB,KAAUxvI,QAAc2/G,GAAU,KAAM6vB,UAAexvI,IACnH,CACJ,CACJ,CACL,EACeyS,GAAA,QAAG0oG,GCzFlB,OAAO,eAAe20B,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5D,MAAMC,GAAWl/I,GACX4hB,GAAS,CAACs9H,GAAS,OAAO,EACjBD,GAAA,QAAGr9H,aCHlB,OAAO,eAAeu9H,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5DA,GAAA,kBAA4BA,GAAA,mBAA6B,OACzDA,GAAA,mBAA6B,CACzB,QACA,cACA,UACA,aACA,WACA,YACA,UACJ,EACAA,GAAA,kBAA4B,CACxB,mBACA,kBACA,eACJ,ECfA,OAAO,eAAeC,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5D,MAAM9I,GAASt2I,GACTy4I,GAAer4I,GACfi/I,GAAe/+I,GACf4+I,GAAW93I,GACXk4I,GAAalxF,GACbmxF,GAAqB,CACvBjJ,GAAO,QACPmC,GAAa,WACT4G,GAAa,SAAU,EAC3BH,GAAS,QACTI,GAAW,mBACXA,GAAW,iBACf,EACeF,GAAA,QAAGG,gCCdlB,OAAO,eAAc18I,EAAU,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5DA,EAAqB,WAAA,OAEpB,SAAU28I,EAAY,CACnBA,EAAW,IAAS,MACpBA,EAAW,QAAa,WACZ38I,EAAQ,aAAeA,EAAqB,WAAA,CAAA,EAAG,QCN/D,OAAO,eAAe22F,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5D,MAAMs1B,GAAY9uH,GACZy/I,GAAUr/I,GACVkwI,GAAYhwI,GACZgxH,GAASlqH,GACTo/F,GAAQ,CACV,QAAS,CAAC,CAAE,OAAQ,CAAE,WAAAk5C,EAAY,QAAA75I,CAAS,CAAA,IAAO65I,IAAeD,GAAQ,WAAW,IAC9E,QAAQ55I,oBACR,iBAAiBA,sBACvB,OAAQ,CAAC,CAAE,OAAQ,CAAE,WAAA65I,EAAY,IAAAt8I,EAAK,QAAAyC,CAAS,CAAA,OAAWipH,GAAU,aAAc4wB,WAAoB75I,gBAAsBzC,IAChI,EACMknH,GAAM,CACR,QAAS,gBACT,KAAM,SACN,WAAY,SACZ,MAAA9jB,GACA,KAAKgrB,EAAK,CACN,KAAM,CAAE,IAAAjB,EAAK,KAAAphH,EAAM,OAAA68E,EAAQ,aAAAmnC,EAAc,GAAAjE,CAAI,EAAGsC,EAC1C,CAAE,MAAA9zB,CAAO,EAAGy1B,EAClB,GAAI,CAACjE,EAAG,KAAK,cACT,MAAM,IAAI,MAAM,8CAA8C,EAElE,MAAMrpH,EAAUmmF,EAAO,aACvB,GAAI,OAAOnmF,GAAW,SAClB,MAAM,IAAI,MAAM,sCAAsC,EAC1D,GAAImmF,EAAO,QACP,MAAM,IAAI,MAAM,yCAAyC,EAC7D,GAAI,CAAC0R,EACD,MAAM,IAAI,MAAM,uCAAuC,EAC3D,MAAMhI,EAAQ66B,EAAI,IAAI,QAAS,EAAK,EAC9BntH,EAAMmtH,EAAI,MAAM,SAAWzB,GAAU,KAAM3/G,OAAW2/G,GAAU,aAAajpH,CAAO,GAAG,EAC7F0qH,EAAI,MAAOzB,GAAU,YAAa1rH,gBAAmB,IAAMu8I,EAAiB,EAAE,IAAMnuB,EAAI,MAAM,GAAO,CAAE,WAAYiuB,GAAQ,WAAW,IAAK,IAAAr8I,EAAK,QAAAyC,CAAS,CAAA,CAAC,EAC1J2rH,EAAI,GAAG97B,CAAK,EACZ,SAASiqD,GAAkB,CACvB,MAAMC,EAAUC,IAChBtvB,EAAI,GAAG,EAAK,EACZ,UAAWuvB,KAAYF,EACnBrvB,EAAI,UAAWzB,GAAU,KAAM1rH,SAAW08I,GAAU,EACpDvvB,EAAI,OAAO76B,EAAOqqD,EAAeH,EAAQE,CAAQ,CAAC,CAAC,EAEvDvvB,EAAI,KAAI,EACRiB,EAAI,MAAM,GAAO,CAAE,WAAYiuB,GAAQ,WAAW,QAAS,IAAAr8I,EAAK,QAAAyC,CAAO,CAAE,EACzE0qH,EAAI,MAAK,CACZ,CACD,SAASwvB,EAAehmB,EAAY,CAChC,MAAMogB,EAAS5pB,EAAI,KAAK,OAAO,EACzB8H,EAAS7G,EAAI,UAAU,CAAE,QAAS,QAAS,WAAAuI,GAAcogB,CAAM,EACrE,OAAA3oB,EAAI,eAAe6G,EAAQvJ,GAAU,IAAI,EAClCqrB,CACV,CACD,SAAS0F,GAAa,CAClB,IAAIjsH,EACJ,MAAMosH,EAAe,CAAA,EACfC,EAAcC,EAAY/sB,CAAY,EAC5C,IAAIgtB,EAAc,GAClB,QAASt8J,EAAI,EAAGA,EAAI65G,EAAM,OAAQ75G,IAAK,CACnC,IAAI2yI,EAAM94B,EAAM75G,CAAC,EACZ2yI,GAAQ,MAAkCA,EAAI,MAAS,IAAKlF,GAAO,sBAAsBkF,EAAKtH,EAAG,KAAK,KAAK,IAC5GsH,EAAM8Z,GAAU,WAAW,KAAKphB,EAAG,KAAMA,EAAG,UAAU,KAAMA,EAAG,OAAQsH,GAAQ,KAAyB,OAASA,EAAI,IAAI,EACrHA,aAAe8Z,GAAU,YACzB9Z,EAAMA,EAAI,SAElB,MAAM4pB,GAAWxsH,EAAK4iG,GAAQ,KAAyB,OAASA,EAAI,cAAgB,MAAQ5iG,IAAO,OAAS,OAASA,EAAG/tB,CAAO,EAC/H,GAAI,OAAOu6I,GAAW,SAClB,MAAM,IAAI,MAAM,iFAAiFv6I,IAAU,EAE/Gs6I,EAAcA,IAAgBF,GAAeC,EAAY1pB,CAAG,GAC5D6pB,EAAYD,EAASv8J,CAAC,EAE1B,GAAI,CAACs8J,EACD,MAAM,IAAI,MAAM,mBAAmBt6I,qBAA2B,EAClE,OAAOm6I,EACP,SAASE,EAAY,CAAE,SAAA5tD,GAAY,CAC/B,OAAO,MAAM,QAAQA,CAAQ,GAAKA,EAAS,SAASzsF,CAAO,CAC9D,CACD,SAASw6I,EAAY7pB,EAAK3yI,EAAG,CACzB,GAAI2yI,EAAI,MACJ8pB,EAAW9pB,EAAI,MAAO3yI,CAAC,UAElB2yI,EAAI,KACT,UAAWspB,KAAYtpB,EAAI,KACvB8pB,EAAWR,EAAUj8J,CAAC,MAI1B,OAAM,IAAI,MAAM,8BAA8BgiB,gCAAsC,CAE3F,CACD,SAASy6I,EAAWR,EAAUj8J,EAAG,CAC7B,GAAI,OAAOi8J,GAAY,UAAYA,KAAYE,EAC3C,MAAM,IAAI,MAAM,mBAAmBn6I,kCAAwC,EAE/Em6I,EAAaF,CAAQ,EAAIj8J,CAC5B,CACJ,CACJ,CACL,EACe21G,GAAA,QAAG8wB,g9ECjGlB,OAAO,eAAcznH,EAAU,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5DA,EAA0B,gBAAAA,EAAA,gBAA0BA,EAAkB,QAAAA,EAAA,KAAeA,EAAc,IAAAA,EAAA,UAAoBA,MAAcA,EAAY,EAAAA,EAAA,WAAqB,OACtK,MAAMyzI,EAASt2I,GACTugJ,EAAWngJ,GACXogJ,EAAkBlgJ,GAClBmgJ,EAAmBr5I,GACnBs5I,EAAoB,CAAC,aAAa,EAClCC,EAAiB,yCACvB,MAAMxO,UAAYmE,EAAO,OAAQ,CAC7B,kBAAmB,CACf,MAAM,iBAAgB,EACtBiK,EAAS,QAAQ,QAAS15I,GAAM,KAAK,cAAcA,CAAC,CAAC,EACjD,KAAK,KAAK,eACV,KAAK,WAAW25I,EAAgB,OAAO,CAC9C,CACD,uBAAwB,CAEpB,GADA,MAAM,sBAAqB,EACvB,CAAC,KAAK,KAAK,KACX,OACJ,MAAMpM,EAAa,KAAK,KAAK,MACvB,KAAK,gBAAgBqM,EAAkBC,CAAiB,EACxDD,EACN,KAAK,cAAcrM,EAAYuM,EAAgB,EAAK,EACpD,KAAK,KAAK,+BAA+B,EAAIA,CAChD,CACD,aAAc,CACV,OAAQ,KAAK,KAAK,YACd,MAAM,YAAa,IAAK,KAAK,UAAUA,CAAc,EAAIA,EAAiB,OACjF,CACJ,CACD79I,EAAiB,QAAAD,EAAUsvI,EAC3B,OAAO,eAActvI,EAAU,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5DA,EAAA,QAAkBsvI,EAClB,IAAIlQ,EAAa7zE,GACjB,OAAO,eAAevrD,EAAS,aAAc,CAAE,WAAY,GAAM,IAAK,UAAY,CAAE,OAAOo/H,EAAW,UAAW,CAAI,CAAA,EACrH,IAAInT,EAAYxgE,GAChB,OAAO,eAAezrD,EAAS,IAAK,CAAE,WAAY,GAAM,IAAK,UAAY,CAAE,OAAOisH,EAAU,CAAE,CAAI,CAAA,EAClG,OAAO,eAAejsH,EAAS,MAAO,CAAE,WAAY,GAAM,IAAK,UAAY,CAAE,OAAOisH,EAAU,GAAI,CAAI,CAAA,EACtG,OAAO,eAAejsH,EAAS,YAAa,CAAE,WAAY,GAAM,IAAK,UAAY,CAAE,OAAOisH,EAAU,SAAU,CAAI,CAAA,EAClH,OAAO,eAAejsH,EAAS,MAAO,CAAE,WAAY,GAAM,IAAK,UAAY,CAAE,OAAOisH,EAAU,GAAI,CAAI,CAAA,EACtG,OAAO,eAAejsH,EAAS,OAAQ,CAAE,WAAY,GAAM,IAAK,UAAY,CAAE,OAAOisH,EAAU,IAAK,CAAI,CAAA,EACxG,OAAO,eAAejsH,EAAS,UAAW,CAAE,WAAY,GAAM,IAAK,UAAY,CAAE,OAAOisH,EAAU,OAAQ,CAAI,CAAA,EAC9G,IAAIkT,EAAqBxzE,GACzB,OAAO,eAAe3rD,EAAS,kBAAmB,CAAE,WAAY,GAAM,IAAK,UAAY,CAAE,OAAOm/H,EAAmB,OAAQ,CAAI,CAAA,EAC/H,IAAIqO,EAAc3hF,GAClB,OAAO,eAAe7rD,EAAS,kBAAmB,CAAE,WAAY,GAAM,IAAK,UAAY,CAAE,OAAOwtI,EAAY,OAAQ,CAAI,CAAA,4FC7CxH,OAAO,eAAcxtI,EAAU,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5DA,EAAA,YAAsBA,EAAsB,YAAAA,EAAA,YAAsB,OAClE,SAASk8I,EAAOnmB,EAAUxgH,EAAS,CAC/B,MAAO,CAAE,SAAAwgH,EAAU,QAAAxgH,EACtB,CACDvV,EAAsB,YAAA,CAElB,KAAMk8I,EAAOpzC,EAAMi1C,CAAW,EAE9B,KAAM7B,EAAOx2H,EAAMs4H,CAAW,EAC9B,YAAa9B,EAAO+B,EAAWC,CAAe,EAE9C,SAAU,yEACV,IAAAntI,EACA,gBAAiB,yoCAEjB,eAAgB,oLAGhB,IAAK,qdACL,MAAO,2IACP,SAAU,wGAEV,KAAM,4EACN,KAAM,m/BACN,MAAA6gI,EAEA,KAAM,+DAGN,eAAgB,4BAChB,4BAA6B,+DAE7B,wBAAyB,mDAGzB,KAAAlmC,EAEA,MAAO,CAAE,KAAM,SAAU,SAAUyyC,CAAe,EAElD,MAAO,CAAE,KAAM,SAAU,SAAUC,CAAe,EAElD,MAAO,CAAE,KAAM,SAAU,SAAUC,CAAgB,EAEnD,OAAQ,CAAE,KAAM,SAAU,SAAUA,CAAgB,EAEpD,SAAU,GAEV,OAAQ,EACZ,EACAr+I,EAAsB,YAAA,CAClB,GAAGA,EAAQ,YACX,KAAMk8I,EAAO,6BAA8B6B,CAAW,EACtD,KAAM7B,EAAO,8EAA+E8B,CAAW,EACvG,YAAa9B,EAAO,0GAA2GgC,CAAe,EAE9I,IAAK,6CACL,gBAAiB,0EAIjB,MAAO,kHACX,EACAl+I,EAAsB,YAAA,OAAO,KAAKA,EAAQ,WAAW,EACrD,SAASs+I,EAAWj1C,EAAM,CAEtB,OAAOA,EAAO,IAAM,IAAMA,EAAO,MAAQ,GAAKA,EAAO,MAAQ,EAChE,CACD,MAAMk1C,EAAO,6BACPC,EAAO,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAE,EAC/D,SAAS11C,EAAKvqG,EAAK,CAEf,MAAMogI,EAAU4f,EAAK,KAAKhgJ,CAAG,EAC7B,GAAI,CAACogI,EACD,MAAO,GACX,MAAMt1B,EAAO,CAACs1B,EAAQ,CAAC,EACjBr1B,EAAQ,CAACq1B,EAAQ,CAAC,EAClBp1B,EAAM,CAACo1B,EAAQ,CAAC,EACtB,OAAQr1B,GAAS,GACbA,GAAS,IACTC,GAAO,GACPA,IAAQD,IAAU,GAAKg1C,EAAWj1C,CAAI,EAAI,GAAKm1C,EAAKl1C,CAAK,EAChE,CACD,SAASy0C,EAAY95H,EAAIF,EAAI,CACzB,GAAME,GAAMF,EAEZ,OAAIE,EAAKF,EACE,EACPE,EAAKF,EACE,GACJ,CACV,CACD,MAAM06H,EAAO,0DACb,SAAS/4H,EAAKnnB,EAAKmgJ,EAAc,CAC7B,MAAM/f,EAAU8f,EAAK,KAAKlgJ,CAAG,EAC7B,GAAI,CAACogI,EACD,MAAO,GACX,MAAMl1B,EAAO,CAACk1B,EAAQ,CAAC,EACjBh1B,EAAS,CAACg1B,EAAQ,CAAC,EACnB90B,EAAS,CAAC80B,EAAQ,CAAC,EACnBggB,EAAWhgB,EAAQ,CAAC,EAC1B,OAAUl1B,GAAQ,IAAME,GAAU,IAAME,GAAU,IAC7CJ,IAAS,IAAME,IAAW,IAAME,IAAW,MAC3C,CAAC60C,GAAgBC,IAAa,GACtC,CACD,SAASX,EAAY/3H,EAAIC,EAAI,CACzB,GAAI,EAAED,GAAMC,GACR,OACJ,MAAM04H,EAAKH,EAAK,KAAKx4H,CAAE,EACjB44H,EAAKJ,EAAK,KAAKv4H,CAAE,EACvB,GAAM04H,GAAMC,EAIZ,OAFA54H,EAAK24H,EAAG,CAAC,EAAIA,EAAG,CAAC,EAAIA,EAAG,CAAC,GAAKA,EAAG,CAAC,GAAK,IACvC14H,EAAK24H,EAAG,CAAC,EAAIA,EAAG,CAAC,EAAIA,EAAG,CAAC,GAAKA,EAAG,CAAC,GAAK,IACnC54H,EAAKC,EACE,EACPD,EAAKC,EACE,GACJ,CACV,CACD,MAAM44H,EAAsB,QAC5B,SAASb,EAAU1/I,EAAK,CAEpB,MAAMwgJ,EAAWxgJ,EAAI,MAAMugJ,CAAmB,EAC9C,OAAOC,EAAS,SAAW,GAAKj2C,EAAKi2C,EAAS,CAAC,CAAC,GAAKr5H,EAAKq5H,EAAS,CAAC,EAAG,EAAI,CAC9E,CACD,SAASb,EAAgBc,EAAKC,EAAK,CAC/B,GAAI,EAAED,GAAOC,GACT,OACJ,KAAM,CAACh7H,EAAIgC,CAAE,EAAI+4H,EAAI,MAAMF,CAAmB,EACxC,CAAC/6H,EAAImC,CAAE,EAAI+4H,EAAI,MAAMH,CAAmB,EACxC5nH,EAAM6mH,EAAY95H,EAAIF,CAAE,EAC9B,GAAImT,IAAQ,OAEZ,OAAOA,GAAO8mH,EAAY/3H,EAAIC,CAAE,CACnC,CACD,MAAMg5H,EAAmB,OACnBC,EAAM,+nCACZ,SAASpuI,EAAIxS,EAAK,CAEd,OAAO2gJ,EAAiB,KAAK3gJ,CAAG,GAAK4gJ,EAAI,KAAK5gJ,CAAG,CACpD,CACD,MAAM6gJ,EAAO,qEACb,SAAS1zC,EAAKntG,EAAK,CACf,OAAA6gJ,EAAK,UAAY,EACVA,EAAK,KAAK7gJ,CAAG,CACvB,CACD,MAAM8gJ,EAAY,EAAE,GAAK,IACnBC,EAAY,GAAK,GAAK,EAC5B,SAASnB,EAAcv/J,EAAO,CAC1B,OAAO,OAAO,UAAUA,CAAK,GAAKA,GAAS0gK,GAAa1gK,GAASygK,CACpE,CACD,SAASjB,EAAcx/J,EAAO,CAE1B,OAAO,OAAO,UAAUA,CAAK,CAChC,CACD,SAASy/J,GAAiB,CACtB,MAAO,EACV,CACD,MAAMkB,EAAW,WACjB,SAAS3N,EAAMrzI,EAAK,CAChB,GAAIghJ,EAAS,KAAKhhJ,CAAG,EACjB,MAAO,GACX,GAAI,CACA,WAAI,OAAOA,CAAG,EACP,EACV,MACD,CACI,MAAO,EACV,CACJ,+BC1KD,OAAO,eAAcyB,EAAU,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5DA,EAAgC,sBAAA,OAChC,MAAMw/I,EAAQriJ,GACR8uH,EAAY1uH,GACZu2I,EAAM7nB,EAAU,UAChB8nB,EAAO,CACT,cAAe,CAAE,MAAO,KAAM,GAAID,EAAI,IAAK,KAAMA,EAAI,EAAI,EACzD,cAAe,CAAE,MAAO,KAAM,GAAIA,EAAI,IAAK,KAAMA,EAAI,EAAI,EACzD,uBAAwB,CAAE,MAAO,IAAK,GAAIA,EAAI,GAAI,KAAMA,EAAI,GAAK,EACjE,uBAAwB,CAAE,MAAO,IAAK,GAAIA,EAAI,GAAI,KAAMA,EAAI,GAAK,CACrE,EACMnwC,EAAQ,CACV,QAAS,CAAC,CAAE,QAAAmpB,EAAS,WAAA0G,CAAY,IAAKvH,EAAU,gBAAiB8nB,EAAKjnB,CAAO,EAAE,SAAS0G,IACxF,OAAQ,CAAC,CAAE,QAAA1G,EAAS,WAAA0G,CAAU,IAAOvH,EAAU,iBAAkB8nB,EAAKjnB,CAAO,EAAE,iBAAiB0G,IACpG,EACAxzH,EAAgC,sBAAA,CAC5B,QAAS,OAAO,KAAK+zI,CAAI,EACzB,KAAM,SACN,WAAY,SACZ,MAAO,GACP,MAAApwC,EACA,KAAKgrB,EAAK,CACN,KAAM,CAAE,IAAAjB,EAAK,KAAAphH,EAAM,WAAAknH,EAAY,QAAA1G,EAAS,GAAAT,CAAI,EAAGsC,EACzC,CAAE,KAAA/uH,EAAM,KAAAqnB,CAAM,EAAGolG,EACvB,GAAI,CAACzsH,EAAK,gBACN,OACJ,MAAM6/I,EAAO,IAAID,EAAM,WAAWnzB,EAAIplG,EAAK,MAAM,IAAI,OAAO,WAAY,QAAQ,EAC5Ew4H,EAAK,MACLvE,IAEAC,IACJ,SAASD,GAAsB,CAC3B,MAAME,EAAO1tB,EAAI,WAAW,UAAW,CACnC,IAAKzmG,EAAK,QACV,KAAMrnB,EAAK,KAAK,OAChC,CAAa,EACKu8I,EAAMzuB,EAAI,MAAM,MAAOzB,EAAU,IAAKmvB,KAAQqE,EAAK,aAAa,EACtE9wB,EAAI,UAAU1C,EAAU,GAAGA,EAAU,WAAYkwB,gBAAmBlwB,EAAU,IAAKkwB,sBAAyBlwB,EAAU,WAAYkwB,0BAA6BuD,EAAYvD,CAAG,CAAC,CAAC,CACnL,CACD,SAAShB,GAAiB,CACtB,MAAMp8H,EAAS0gI,EAAK,OACdvD,EAASj1H,EAAK,QAAQlI,CAAM,EAClC,GAAI,CAACm9H,GAAUA,IAAW,GACtB,OACJ,GAAI,OAAOA,GAAU,UACjBA,aAAkB,QAClB,OAAOA,EAAO,SAAW,WACzB,MAAM,IAAI,MAAM,IAAIpvB,eAAqB/tG,uCAA4C,EAEzF,MAAMo9H,EAAMzuB,EAAI,WAAW,UAAW,CAClC,IAAK3uG,EACL,IAAKm9H,EACL,KAAMt8I,EAAK,KAAK,QAAUqsH,EAAU,IAAKrsH,EAAK,KAAK,UAAUqsH,EAAU,YAAYltG,CAAM,IAAM,MAC/G,CAAa,EACD4vG,EAAI,UAAU+wB,EAAYvD,CAAG,CAAC,CACjC,CACD,SAASuD,EAAYvD,EAAK,CACtB,OAAOlwB,EAAU,IAAKkwB,aAAe7vI,MAASknH,MAAeugB,EAAKjnB,CAAO,EAAE,QAC9E,CACJ,EACD,aAAc,CAAC,QAAQ,CAC3B,EACA,MAAM6yB,EAAqBC,IACvBA,EAAI,WAAW5/I,EAAQ,qBAAqB,EACrC4/I,GAEX5/I,EAAA,QAAkB2/I,uBClElB,OAAO,eAAc3/I,EAAU,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5D,MAAM6/I,EAAY1iJ,GACZ2iJ,EAAUviJ,GACV0uH,EAAYxuH,GACZsiJ,EAAW,IAAI9zB,EAAU,KAAK,aAAa,EAC3C+zB,EAAW,IAAI/zB,EAAU,KAAK,aAAa,EAC3Cg0B,EAAgB,CAACL,EAAKhgJ,EAAO,CAAE,SAAU,MAAW,CACtD,GAAI,MAAM,QAAQA,CAAI,EAClB,OAAAsgJ,EAAWN,EAAKhgJ,EAAMigJ,EAAU,YAAaE,CAAQ,EAC9CH,EAEX,KAAM,CAACO,EAASC,CAAU,EAAIxgJ,EAAK,OAAS,OAAS,CAACigJ,EAAU,YAAaG,CAAQ,EAAI,CAACH,EAAU,YAAaE,CAAQ,EACnHvoI,EAAO5X,EAAK,SAAWigJ,EAAU,YACvC,OAAAK,EAAWN,EAAKpoI,EAAM2oI,EAASC,CAAU,EACrCxgJ,EAAK,UACLkgJ,EAAQ,QAAQF,CAAG,EAChBA,CACX,EACAK,EAAc,IAAM,CAACniJ,EAAMywH,EAAO,SAAW,CAEzC,MAAMhgH,GADUggH,IAAS,OAASsxB,EAAU,YAAcA,EAAU,aAClD/hJ,CAAI,EACtB,GAAI,CAACyQ,EACD,MAAM,IAAI,MAAM,mBAAmBzQ,IAAO,EAC9C,OAAOyQ,CACX,EACA,SAAS2xI,EAAWN,EAAKpoI,EAAM6oI,EAAID,EAAY,CAC3C,IAAIrvH,EACAwB,GACHxB,GAAMwB,EAAKqtH,EAAI,KAAK,MAAM,WAAa,MAAQ7uH,IAAO,SAAewB,EAAG,QAAU05F,EAAU,wCAAyCm0B,KACtI,UAAW7xI,KAAKiJ,EACZooI,EAAI,UAAUrxI,EAAG8xI,EAAG9xI,CAAC,CAAC,CAC7B,CACDtO,EAAiB,QAAAD,EAAUigJ,EAC3B,OAAO,eAAcjgJ,EAAU,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5DA,EAAA,QAAkBigJ,qDC5BlB,SAASj2J,IAAW,CAClB,OAAAA,GAAW,OAAO,OAAS,OAAO,OAAO,KAAI,EAAK,SAAUsxB,EAAQ,CAClE,QAASt6B,EAAI,EAAGA,EAAI,UAAU,OAAQA,IAAK,CACzC,IAAI8d,EAAS,UAAU9d,CAAC,EACxB,QAAS6V,KAAOiI,EACV,OAAO,UAAU,eAAe,KAAKA,EAAQjI,CAAG,IAClDykB,EAAOzkB,CAAG,EAAIiI,EAAOjI,CAAG,GAI9B,OAAOykB,CACX,EACStxB,GAAS,MAAM,KAAM,SAAS,CACvC,CACA,SAAS2B,GAA8BmT,EAAQw0F,EAAU,CACvD,GAAIx0F,GAAU,KAAM,MAAO,GAC3B,IAAIwc,EAAS,CAAA,EACTi4E,EAAa,OAAO,KAAKz0F,CAAM,EAC/BjI,EAAK,EACT,IAAK,EAAI,EAAG,EAAI08F,EAAW,OAAQ,IACjC18F,EAAM08F,EAAW,CAAC,EACd,EAAAD,EAAS,QAAQz8F,CAAG,GAAK,KAC7BykB,EAAOzkB,CAAG,EAAIiI,EAAOjI,CAAG,GAE1B,OAAOykB,CACT,CAEA,IAAIglI,GAAa,CACf,UAAW,GACX,oBAAqB,EACrB,OAAQ,GACR,QAAS,EACX,EACIC,GAAqB,6YACrBC,GAAwB,4DAgB5B,SAASC,GAAkBC,EAAuBC,EAAeC,EAAqBC,EAAkBC,EAAU,CAC5GF,IAAwB,SAC1BA,EAAsB,CAAA,GAEpBE,IAAa,SACfA,EAAWxR,IAEb,IAAIsQ,EAAM,IAAIkB,EAAS92J,GAAS,CAAA,EAAIs2J,GAAYM,CAAmB,CAAC,EACpE,OAAIC,EACFX,GAAWN,EAAKiB,CAAgB,EACvBA,IAAqB,IAC9BX,GAAWN,CAAG,EAGhBA,EAAI,UAAU,WAAYY,EAAqB,EAC/CZ,EAAI,UAAU,QAASW,EAAkB,EAEzCX,EAAI,WAAWlsD,EAAwB,EACvCksD,EAAI,WAAW/qD,EAA8B,EAEzC,MAAM,QAAQ6rD,CAAqB,GACrCd,EAAI,cAAcc,CAAqB,EAGrCtxF,GAASuxF,CAAa,GACxB,OAAO,KAAKA,CAAa,EAAE,QAAQ,SAAUI,EAAY,CACvDnB,EAAI,UAAUmB,EAAYJ,EAAcI,CAAU,CAAC,CACzD,CAAK,EAEInB,CACT,CAEA,IAAIt1J,GAAY,CAAC,eAAgB,UAAW,SAAU,aAAc,cAAc,EAOlF,SAAS02J,GAA8BtgD,EAAQtL,EAAU,CACvD,OAAIsL,IAAW,SACbA,EAAS,CAAA,GAEJA,EAAO,IAAI,SAAUl6F,EAAG,CAC7B,IAAI2pH,EAAe3pH,EAAE,aACnBsmH,EAAUtmH,EAAE,QACZlW,EAASkW,EAAE,OACXqmH,EAAarmH,EAAE,WACf8pH,EAAe9pH,EAAE,aACjB2oB,EAAOxjC,GAA8B6a,EAAGlc,EAAS,EAC/C22J,EAAgB9xH,EAAK,QACvBgD,EAAU8uH,IAAkB,OAAS,GAAKA,EACxCj+C,EAAWmtB,EAAa,QAAQ,MAAO,GAAG,EAC1Cv5D,GAASosC,EAAW,IAAM7wE,GAAS,KAAI,EAC3C,GAAI,oBAAqB7hC,EAAQ,CAC/B0yG,EAAWA,EAAWA,EAAW,IAAM1yG,EAAO,gBAAkBA,EAAO,gBACvE,IAAI4wJ,EAAkB5wJ,EAAO,gBACzB6wJ,EAAgBhsD,GAAa/kF,GAAIglF,EAAU,GAAK4N,EAAS,QAAQ,MAAO,EAAE,CAAC,CAAC,EAAE,MAClF,GAAIm+C,EACFhvH,EAAUA,EAAQ,QAAQ+uH,EAAiBC,CAAa,MACnD,CACL,IAAIC,EAAoBhxI,GAAIkgH,EAAc,CAAC77B,GAAgBysD,EAAiB,OAAO,CAAC,EAChFE,IACFjvH,EAAUA,EAAQ,QAAQ+uH,EAAiBE,CAAiB,GAGhExqF,EAAQzkC,MACH,CACL,IAAIkvH,EAAiBlsD,GAAa/kF,GAAIglF,EAAU,GAAK4N,EAAS,QAAQ,MAAO,EAAE,CAAC,CAAC,EAAE,MACnF,GAAIq+C,EACFzqF,GAAS,IAAMyqF,EAAiB,KAAOlvH,GAAS,WAC3C,CACL,IAAImvH,EAAqBhxB,GAAiB,KAAkC,OAASA,EAAa,MAC9FgxB,IACF1qF,GAAS,IAAM0qF,EAAqB,KAAOnvH,GAAS,SAK1D,MAAO,CACL,KAAM26F,EACN,SAAU9pB,EACV,QAAS7wE,EACT,OAAQ7hC,EACR,MAAOsmE,EACP,WAAYi2D,CAClB,CACA,CAAG,CACH,CAcA,SAAS00B,GAA2B9qD,EAAWqY,EAAWtZ,EAAUrM,EAAQ+5B,EAAgBC,EAAiB/tB,EAAU,CACrH,IAAIosD,EAAqB1yC,EAAU,gBAC/BpO,EAASsgD,GAA8BlyC,EAAU,OAAQ1Z,CAAQ,EACjEosD,IACF9gD,EAAS,CAAE,EAAC,OAAOA,EAAQ,CAAC,CAC1B,MAAO8gD,EAAmB,OAC3B,CAAA,CAAC,GAEA,OAAOr+B,GAAoB,aAC7BziB,EAASyiB,EAAgBziB,EAAQtL,CAAQ,GAE3C,IAAIuL,EAAcyJ,GAAc1J,CAAM,EAQtC,GAPI8gD,IACF7gD,EAAc32G,GAAS,CAAE,EAAE22G,EAAa,CACtC,QAAS,CACP,SAAU,CAAC6gD,EAAmB,OAAO,CACtC,CACP,CAAK,GAEC,OAAOt+B,GAAmB,WAC5B,MAAO,CACL,OAAQxiB,EACR,YAAaC,CACnB,EAGE,IAAII,EAAcnB,GAAoBnJ,EAAWtN,EAAQqM,EAAUrM,EAAQ,EAAI,EAC3EqhB,EAAe0Y,EAAeniB,EAAanL,GAAmBmL,CAAW,EAAG3L,CAAQ,EACpFqsD,EAAkBl3C,GAAmBC,CAAY,EACrD,OAAOU,GAAoB,CACzB,OAAQxK,EACR,YAAaC,CACd,EAAE8gD,CAAe,CACpB,CAIA,IAAIC,GAA6B,UAAY,CAM3C,SAASA,EAAcphK,EAASqhK,EAAW,CAKzC,KAAK,IAAM,OAKX,KAAK,UAAY,OACjB,IAAIjB,EAAwBpgK,EAAQ,sBAClCqgK,EAAgBrgK,EAAQ,cACxBsgK,EAAsBtgK,EAAQ,oBAC9BugK,EAAmBvgK,EAAQ,iBAC3BwgK,EAAWxgK,EAAQ,SACrB,KAAK,IAAMmgK,GAAkBC,EAAuBC,EAAeC,EAAqBC,EAAkBC,CAAQ,EAClH,KAAK,UAAYa,CAClB,CAQD,IAAIx+C,EAASu+C,EAAc,UAC3B,OAAAv+C,EAAO,YAAc,SAAuBxC,EAAasJ,EAAW,CAClE,OAAIA,IAAc,SAChBA,EAAY,CAAA,GAEPD,GAAYrJ,EAAasJ,CAAS,CAC1C,EAOD9G,EAAO,cAAgB,SAAuBha,EAAQqM,EAAU,CAC9D,IAAIosD,EAAmB,OACnBC,EACA14D,EAAOgL,EAAM,IACf0tD,EAAoB,KAAK,IAAI,UAAU14D,EAAOgL,EAAM,CAAC,GAEvD,GAAI,CACE0tD,IAAsB,SACxBA,EAAoB,KAAK,IAAI,QAAQ14D,CAAM,GAE7C04D,EAAkBrsD,CAAQ,CAC3B,OAAQ7X,EAAP,CACAikE,EAAmBjkE,CACpB,CACD,IAAI+iB,EACJ,OAAImhD,IACE,OAAO,KAAK,WAAc,YAC5B,KAAK,UAAUA,EAAkB,MAAM,EAEzCnhD,EAASmhD,EAAkB,QAAU,OAErCA,EAAkB,OAAS,MAEtB,CACL,OAAQnhD,EACR,gBAAiBkhD,CACvB,CACG,EAYDz+C,EAAO,iBAAmB,SAA0B3N,EAAUrM,EAAQ+5B,EAAgBC,EAAiB/tB,EAAU,CAC/G,IAAI0Z,EAAY,KAAK,cAAc3lB,EAAQqM,CAAQ,EACnD,OAAO+rD,GAA2B,KAAMzyC,EAAWtZ,EAAUrM,EAAQ+5B,EAAgBC,EAAiB/tB,CAAQ,CAC/G,EASD+N,EAAO,QAAU,SAAiBha,EAAQqM,EAAUzD,EAAY,CAC9D,IAAI+vD,EACAC,GAAgBD,EAAqB/vD,EAAWoC,EAAM,IAAM,KAAO2tD,EAAqBhtD,GAC5F,GAAI,CAKE,KAAK,IAAI,UAAUitD,CAAY,IAAM,QACvC,KAAK,IAAI,UAAUhwD,EAAYgwD,CAAY,EAE7C,IAAIC,EAAwB32C,GAAgBliB,CAAM,EAC9C04D,EACAG,EAAsB7tD,EAAM,IAC9B0tD,EAAoB,KAAK,IAAI,UAAUG,EAAsB7tD,EAAM,CAAC,GAElE0tD,IAAsB,SACxBA,EAAoB,KAAK,IAAI,QAAQG,CAAqB,GAE5D,IAAIvlH,EAASolH,EAAkBrsD,CAAQ,EACvC,OAAO/4D,CACR,OAAQj2B,EAAP,CACA,eAAQ,KAAK,sCAAuCA,CAAC,EAC9C,EACb,QAAc,CAGR,KAAK,IAAI,aAAau7I,CAAY,CACnC,CACL,EACSL,CACT,IAUA,SAASO,GAAmB3hK,EAASqhK,EAAW,CAC9C,OAAIrhK,IAAY,SACdA,EAAU,CAAA,GAEL,IAAIohK,GAAcphK,EAASqhK,CAAS,CAC7C,CA8IG,IAACx7J,GAAqB87J,GAAkB,EC7dpC,MAAMC,GAAoB,mCACpBC,GACX,iDACWC,GAAY,+BACZC,GAAY,6BAGnBC,GAAiC,CACrC,KAAM,SACN,WAAY,CACV,YAAa,CACX,KAAM,SACN,MAAO,CACL,CACE,MAAOF,GACP,MAAOA,EACT,EACA,CACE,MAAOC,GACP,MAAOA,EACT,CACF,CACF,EACA,SAAU,CACR,KAAM,QACN,MAAO,WACP,MAAO,CACL,KAAM,SACN,KAAM,CAACH,GAAmBC,EAA+B,CAC3D,EACA,YAAa,EACf,CACF,CACF,EAEMI,GAAgC,CACpC,YAAa,CACX,YAAa,OACf,EACA,SAAU,CACR,YAAa,YACf,CACF,EAGMC,GAAiC,CACrC,YACE,+EACF,KAAM,QACR,EAEMC,GAAgC,CAAA,EAEzBC,GAAkB,CAACJ,GAAmBE,EAAiB,EACvDG,GAAoB,CAACJ,GAAqBE,EAAmB,ECjBnE,MAAAG,WAAAjmJ,GAAA,SAAA,CAIgB,YAAApb,EAAA,CAInB,MAAAA,CAAA,EASFu8F,GAAA,oBAAA54F,GAAA,CAGE,KAAA,MAAA,OAAA,EACE,KAAA,oBAAAA,CAAA,EAEA,KAAA,WAAA,CACF,GACF44F,GAAA,2BAAA54F,GAAA,CAGE,KAAA,SAAA,CAAc,UAAA,EACD,CAAA,EAEb,KAAA,CAAA,SAAAswG,CAAA,EAAAtwG,EACA29J,EAAArtD,EAAA,WAAA,EACAstD,EAAAttD,EAAA,SACA,CAAA,mBAAAutD,EAAA,oBAAAv/D,GAAA,KAAA,MACA6tD,EAAAwR,IAAAT,GAAA,IAAA,IACAY,EAAAF,EAAA,SAAAZ,EAAA,EACAe,EAAAH,EAAA,SAA2CX,EACzC,EAEFrjE,EAAAikE,GAAAv/D,IACA0/D,EAAApkE,EAAA,MAAA,IACAqkE,EAAA,CAA2D,IAAAD,EACzD,SAAAlkE,GAAAkkE,CAAA,EAC2C,eAAApkE,EAAA,MAAA,eACR,aAAA,gEAEjC,YAAAkkE,EACF,0BAAAC,EACA,mBAAA,CAAA,UAAA5R,CAAA,EACgC,kBAAAvyD,EAAA,MAAA,iBACM,EAExC53E,GAAA,4BAAci8I,EACZ,KAAA,QAAA,WACa,EAAA,KAAA72I,GAAA,CAGX,KAAA,SAAA,CAAc,UAAA,GACD,KAAA,EACL,KAAAA,CACN,CAAA,CACD,CAAA,EAAA,MAAAqxE,GAAA,CAGD,QAAA,IAAA,sCAAAA,CAAA,CAAsD,CAAA,CACvD,GACLG,GAAA,kBAAA,IAAA,CAGE,KAAA,CAAA,KAAAxxE,CAAA,EAAA,KAAA,MAEApF,GAAA,qBAAcoF,EAAA,oBACN,KAAA,QAAA,WACO,EAAA,KAAAq8C,GAAA,CAEb,OAAA,SAAA,KAAAA,EACA,KAAA,MAAA,SAAmB,CAAA,CACpB,GACHm1B,GAAA,oBAAA54F,GAAA,CAGE,KAAA,CAAA,SAAAswG,CAAA,EAAAtwG,EACA,KAAA,SAAA,CAAc,SAAAswG,CACZ,CAAA,CACD,GA5ED,KAAA,MAAA,CAAa,UAAA,GACA,KAAA,EACL,SAAA,CACI,YAAA4sD,GACK,SAAA,CAAAF,GAAAC,EAAA,CACgD,CAC/D,CACF,CAsEF,QAAA,CAGE,MAAAiB,EAAA,CAA0C,OAAA,GAChC,MAAA,GACD,eAAA,EACS,EAElB,OAAAt9I,EACEu9I,GAAC,CAAA,KAAA,GACO,SAAA,KAAA,MAAA,QACe,MAAA,yBACf,QAAAv9I,EAAAyC,GAAA,CAAA,SAAAD,EAGFo5G,GAAC,CAAA,UAAAjrB,GACC,GAAA,sBACG,OAAAisD,GAAA,KAAA,MAAA,IAAA,EACoC,SAAAC,GAAA,KAAA,MAAA,IAAA,EACI,SAAA,KAAA,aAC5B,SAAA,KAAA,MAAA,SACM,SAAA,KAAA,aACN,SAAA,CAEd,KAAA,MAAA,WAAA78I,EAAA,MAAA,CAAA,UAAA,8BAAA,SAAAwC,EAAA,MAAA,CAAA,UAAA,kBAAA,SAAA,CAGKxC,EAAA,IAAA,CAAA,SAAA,qBAAA,CAAA,EAAsBA,EAAA,MAAA,CAAA,MAAAs9I,EAAA,UAAA,UAAA,EACwBt9I,EAAA,IAAA,CAAA,SAAA,cAAA,CAAA,CAC/B,CAAA,CAAA,CAAA,CAAA,EAEnBA,EAAAnJ,GAAA,SAAA,EAAA,CAEc,CAAA,CAAA,EAAA,EAEpB,QAAA2L,EAAAC,GAAA,CAAA,SAAA,CAIEzC,EAAAw9I,GAAC,CAAA,QAAA,WACS,MAAA,UACF,QAAA,KAAA,MAAA,QACc,SAAA,QACrB,CAAA,EAEDx9I,EACAw9I,GAAC,CAAA,KAAA,sBACM,KAAA,SACA,QAAA,YACG,MAAA,UACF,SAAA,KAAA,MAAA,OAAA,EAAA,OAAA,UAE4B,CAAA,CACpC,EAAA,CACF,CAAA,CAEJ,CAGN,CA9IExlE,GAHK8kE,GAGL,cAAA7kE,61BCrCF,SAASwlE,GACPvhK,EACAwhK,EACQ,CACR,MAAO,GAAGxhK,IAAgBwhK,GAC5B,CAGA,SAASC,GACPC,EACAC,EACoB,CACd,MAAAC,EAAe,OAAO,SAAS,OAE/BC,EAAiB,GAAGH,KAAyBC,IACnD,OAAKC,EAIAA,EAAa,SAAS,GAAGF,IAAwB,EAIjC,OAAO,SAAS,OAClC,MAAME,EAAa,QAAQ,GAAG,EAAI,CAAC,EACnC,MAAM,GAAG,EAGT,IAAY/rJ,GACGA,EAAK,MAAM,GAAG,EAClB,CAAC,IAAM6rJ,EACR,GAAGG,IACEhsJ,CACf,EACA,KAAK,GAAG,EAbF,GAAG+rJ,EAAa,OAAO,CAAC,KAAKC,IAL7BA,CAoBX,CAGgB,SAAAC,GACd9hK,EACAwhK,EACoB,CAChB,GAAA,CAAC,OAAO,SAAS,OACZ,OAET,MAAME,EAAwBH,GAC5BvhK,EACAwhK,CAAA,EAKIO,EAHS,OAAO,SAAS,OAC5B,MAAM,OAAO,SAAS,OAAO,QAAQ,GAAG,EAAI,CAAC,EAC7C,MAAM,GAAG,EAET,OAAelsJ,GACDA,EAAK,MAAM,GAAG,EACf,CAAC,IAAM6rJ,CACpB,EACA,IAAY7rJ,GAAAA,EAAK,MAAM,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAC7B,OAAAksJ,EACH,mBAAmBA,CAAmB,EACtC,MACN,CAGgB,SAAAC,GACdhiK,EACAwhK,EACAG,EACA,CACA,MAAMD,EACJF,IAAmB,OACfD,GAAyBvhK,EAAewhK,CAAc,EACtDxhK,EACA4hK,EAAeH,GACnBC,EACAC,CAAA,EAEI73H,EAAW,OAAO,SAClBm4H,EAAS,GAAGn4H,EAAS,aAAaA,EAAS,WAC/CA,EAAS,KAAO,IAAMA,EAAS,KAAO,KACrCA,EAAS,YAAY83H,IAExB,OAAO,QAAQ,aAAa,mBAAoB,QAASK,CAAM,CACjE,CAEgB,SAAAC,GACdliK,EACAwhK,EACgC,CAChC,MAAMW,EAAmBL,GACvB9hK,EACAwhK,CAAA,EAGF,IAAIY,EACJ,GAAID,EAAkB,CACd,MAAAtlE,EAAQ,KAAK,MAAMslE,CAAgB,EACrCtlE,EAAM,MACWulE,EAAA,CACjB,aAAc,0DACd,SACEC,GACAC,GACAC,GACAxlE,GACAylE,GACF,SAAUxlE,GAA8BH,EAAM,GAAG,EACjD,MAAAA,CAAA,GAIC,OAAAulE,CACT,CC5CA,SAAwBK,GACtBnkK,EAC2B,CACrB,KAAA,CACJ,iBAAA8jK,EACA,eAAAZ,EAAiB,EACjB,eAAAkB,EAAiB,GACjB,cAAAC,CACE,EAAArkK,EAEE,CAACykG,EAAkB6/D,CAAmB,EAC1C/8I,WAA6Bu8I,CAAgB,EAK/Cj8I,EAAAA,UAAU,IAAM,CACd,MAAM02E,EAAQgmE,GACZ,eACArB,CAAA,EAEE3kE,GACF+lE,EAAoB/lE,CAAK,CAC3B,EACC,CAAC2kE,CAAc,CAAC,EASb,MAAAhgE,EAAsBp4C,EAAAA,YAAY,IAC/B4jD,GAAUjK,CAAgB,EAChC,CAACA,CAAgB,CAAC,EASf+/D,EAAsB15G,EAAAA,YAAY,IAC/B4jD,GAAUo1D,CAAgB,EAChC,CAACA,CAAgB,CAAC,EAOfW,EAAW35G,EAAA,YAEb0zC,GAGS,CACL,IAAAkmE,EACA,OAAOlmE,GAAiB,WACRkmE,EAAAlmE,EAAa0E,GAAqB,EAElCwhE,EAAAlmE,EAId,MAAAmmE,EAAqBj2D,GAAUg2D,CAAe,EAGpD,GAFAJ,EAAoBK,CAAkB,EAElCA,EAAmB,MAAO,CAC5B,MAAMC,EAAkB,KAAK,UAAUD,EAAmB,KAAK,EAC/D,GAAIP,EAAgB,CACZ,MAAAS,EAAe,mBAAmBD,CAAe,EACtCE,GACf,eACA5B,EACA2B,CAAA,EAGAR,GACFA,EAAcO,CAAe,EAGnC,EACA,CAAC1B,EAAgBhgE,EAAqBmhE,EAAeD,CAAc,CAAA,EAG/D,CAAE,SAAA79I,EAAU,cAAAX,CAAA,EAAkBpJ,EAAA,QAClC,IAAMuoJ,GAAwCtgE,EAAiB,MAAM,GAAG,EACxE,CAACA,EAAiB,MAAM,GAAG,CAAA,EAGvB7jG,EAAW6jG,EAAiB,MAAM,OAASugE,GAC3CC,EAAc,KAAK,OACrBxgE,EAAiB,MAAM,QAAU,GAAK,OAAO7jG,CAAQ,GAAKA,CAAA,EAGxDskK,EAAcp6G,EAAA,YACjBlqD,GAAqB,CACpB6jK,EAAyBU,IACvBA,EAAa,MAAM,MAAQvkK,EACpBukK,EACR,CACH,EACA,CAACV,CAAQ,CAAA,EAGLW,EAAWt6G,EAAA,YACdu6G,GAAuB,CACtBZ,EAAyBU,IACVA,EAAA,MAAM,QAAUE,EAAa,GAAKzkK,EACxCukK,EACR,CACH,EACA,CAACvkK,EAAU6jK,CAAQ,CAAA,EAGfa,EAAax6G,EAAAA,YAAY,IAAM,CACnC25G,EAASX,CAAgB,CAAA,EACxB,CAACA,EAAkBW,CAAQ,CAAC,EAG/Bc,GAAqB,IAAM,CACrB9gE,GAAoBq/D,GACXwB,GACb,EACC,CAACxB,CAAgB,CAAC,EAErB,MAAM0B,EAAsB16G,EAAA,YACzB26G,GAA2C,CAC1ChB,EAAyBU,IACVA,EAAA,MAAM,gBACjBA,EAAa,MAAM,gBAAkB,CAAC,GACtC,OAAgBO,GAET,CAAC7tE,GAAQ6tE,EAAOD,CAAkB,CAC1C,EACMN,EACR,CACH,EACA,CAACV,CAAQ,CAAA,EAGLkB,EAA+B76G,EAAA,YACnC,CAAC46G,EAA2BpnK,IAAkB,CAC5CmmK,EAAyBU,IACVA,EAAA,MAAM,gBACjBA,EAAa,MAAM,gBAAkB,CAAC,GAGrC,IAA0BM,IAEvBG,GAA2BH,CAAkB,GAC7C5tE,GAAQ4tE,EAAoBC,CAAK,IAGjCD,EAAmB,YACjBA,EAAmB,YAAY,OAAO/hJ,GAAKA,IAAMplB,CAAK,GAEnDmnK,EACR,EAEA,OAA6BA,GACxBG,GAA2BH,CAAkB,EAG7C,MAAM,QAAQA,EAAmB,WAAW,GAC5CA,EAAmB,YAAY,OAAS,EAGrC,EACR,EACIN,EACR,CACH,EACA,CAACV,CAAQ,CAAA,EAGLoB,EAAoB/6G,EAAA,YACvBg7G,GAA6B,CAC5BrB,EAAyBU,IACVA,EAAA,MAAM,mBACjBA,EAAa,MAAM,mBAAqB,CAAC,GACzC,OAAaY,GAEN,CAACluE,GAAQkuE,EAAID,CAAW,CAChC,EACMX,EACR,CACH,EACA,CAACV,CAAQ,CAAA,EAGLuB,EAA6Bl7G,EAAA,YACjC,CAACg7G,EAA0BxnK,IAAkB,CAC3CmmK,EAAyBU,IACVA,EAAA,MAAM,mBACjBA,EAAa,MAAM,mBAAqB,CAAC,GAGxC,IAAUY,KAENE,GAA+BF,CAAE,GAChCG,GAAsCH,CAAE,IAC1CluE,GAAQkuE,EAAID,CAAW,IAGvBC,EAAG,OAASA,EAAG,OAAO,OAAOriJ,GAAKA,IAAMplB,CAAK,GAExCynK,EACR,EAEA,OAAaA,GAEVE,GAA+BF,CAAE,GACjCG,GAAsCH,CAAE,EAGjC,MAAM,QAAQA,EAAG,MAAM,GAAKA,EAAG,OAAO,OAAS,EAEjD,EACR,EACIZ,EACR,CACH,EACA,CAACV,CAAQ,CAAA,EAGJ,MAAA,CACL,SAAAl+I,EACA,cAAAX,EACA,oBAAA4+I,EACA,oBAAAthE,EACA,SAAAuhE,EACA,SAAA7jK,EACA,YAAAqkK,EACA,YAAAC,EACA,SAAAE,EACA,WAAAE,EACA,oBAAAE,EACA,6BAAAG,EACA,kBAAAE,EACA,2BAAAG,CAAA,CAEJ,CCxRO,SAAAG,GAAAllK,EAAA,CACL,KAAA,CAAM,iBAAA6iK,EACJ,cAAAO,EACA,0BAAA+B,EACA,aAAAC,EACA,eAAAnD,EACA,eAAAkB,EACA,6BAAAkC,CACA,EAAArlK,EAGF,CAAAslK,EAAAC,CAAA,EAAAj/I,EAAAA,SAAA,MAAA,EAIA,CAAM,SAAAhB,EACJ,cAAAX,EACA,oBAAA4+I,EACA,oBAAAthE,EACA,SAAAuhE,EACA,YAAAQ,EACA,SAAArkK,EACA,SAAAwkK,EACA,YAAAF,EACA,WAAAI,EACA,oBAAAE,EACA,6BAAAG,EACA,kBAAAE,EACA,2BAAAG,CACA,EAAA7B,GAAA,CACyB,iBAAAL,EACzB,eAAAM,EACA,eAAAlB,EACA,cAAAmB,CACA,CAAA,EAGF5/D,EAAAjoF,EAAAA,QAAA,IACE0mF,EAAA,EAA2B,CAAAA,CAAA,CAAA,EAG7B,CAAM,KAAAujE,EACE,UAAAC,EACK,MAAArjD,EACX,eAAAsjD,CACgB,EAAAC,GACdniE,EACF,CACA,iBAAA,EAEoB,EACpB+hE,CACA,EAGFx6I,EAAAy6I,GAAA,YAAAA,EAAA,aAGAI,EAAAH,GAAAC,EAEA,CAAA,KAAA9lE,CAAA,EAAAimE,GAAAvgJ,EAAAX,CAAA,EAGAmhJ,GAAA,IAAA,CACE/6I,GAAAo6I,GACEA,EAAA,KAAA,UAAAp6I,CAAA,CAAA,CACF,EAAA,CAAAA,EAAAo6I,CAAA,CAAA,EAGF,MAAAjjE,EAAAn3E,EAAAg7I,GAAAh7I,EAAA,OAAAA,EAAA,aAAA,EAAA,GASAi7I,EAAAzqJ,EAAAA,QAAA,IACE0qJ,GAAAl7I,EAAAq6I,CAAA,EAAyD,CAAAr6I,EAAAq6I,CAAA,CAAA,EAG3DjjE,EAAA5mF,EAAAA,QAAA,IAAA,CACE,MAAAwO,EAAAk4E,IACA,OAAAikE,GAAAn8I,EAAA,MAAAq7I,CAAA,CAA2D,EAAA,CAAAnjE,EAAAmjE,CAAA,CAAA,EAG7De,EAAAt8G,EAAA,YAAuB+5C,GAAA,OAEnB,QAAAp0D,EAAAzkB,GAAA,YAAAA,EAAA,eAAA,YAAAykB,EAAA,KAAA6yD,GAAAA,EAAA,OAAAuB,KAAA,IAAiE,EACnE,CAAA74E,GAAA,YAAAA,EAAA,YAAA,CACmB,EAGrBd,EAAA,CAA2C,KAAA+7I,EACnC,YAAAhC,EACN,SAAArkK,EACA,YAAAskK,EACA,mBAAA2B,EACA,oBAAA3jE,EACA,oBAAAshE,EACA,MAAAnhD,EACA,OAAAxiB,EACA,oBAAA4jE,EACqB,kBAAAthE,EACrB,eAAAojE,EACgB,SAAAnB,EAChB,qBAAAhiE,EACA,oBAAAoiE,EACA,6BAAAG,EACA,WAAAL,EACA,kBAAAO,EACA,2BAAAG,EACA,aAAAK,EACA,eAAAe,EACA,6BAAAd,CACA,EAKF,CAAA,SAAAn0J,CAAA,EAAAlR,EACA,OAAAukB,EAAAk6E,GAAA,CAAA,aAAAx0E,EAAA,SAAA/Y,CAAA,CAAA,CAKF,qoCCnIO,SAAAk1J,GAAApmK,EAAA,CACL,KAAA,CAAM,iBAAA6iK,EACJ,cAAAO,EACA,0BAAA+B,EACA,aAAAC,EACA,eAAAnD,EACA,eAAAkB,EACA,6BAAAkC,CACA,EAAArlK,EAEF,CAAAslK,EAAAC,CAAA,EAAAj/I,EAAAA,SAAA,MAAA,EAIA,CAAM,SAAAhB,EACJ,cAAAX,EACA,oBAAA4+I,EACA,oBAAAthE,EACA,SAAAuhE,EACA,WAAAa,EACA,kBAAAO,EACA,2BAAAG,EACA,oBAAAR,EACA,6BAAAG,CACA,EAAAxB,GAAA,CACyB,iBAAAL,EACzB,eAAAZ,EACA,eAAAkB,EACA,cAAAC,CACA,CAAA,EAGF5/D,EAAAjoF,EAAAA,QAAA,IACE0mF,EAAA,EAA2B,CAAAA,CAAA,CAAA,EAG7B,CAAM,KAAAokE,EACE,YAAAp7I,EACN,kBAAAq7I,EACA,cAAAn7I,EACA,mBAAAD,EACA,UAAAu6I,EACW,MAAArjD,EACX,eAAAsjD,CACgB,EAAAa,GACd/iE,EACF,CACA,iBAAA,EAEoB,EACpB+hE,CACA,EAIFK,EAAAH,GAAAC,EAEA,CAAA,KAAA9lE,CAAA,EAAAimE,GAAAvgJ,EAAAX,CAAA,EAMA,CAAAq/I,EAAAwC,CAAA,EAAAlgJ,EAAA,SAAA,CAAA,EAEA,eAAAmgJ,GAAA,CACE,GAAA,CAAAx7I,EACE,MAAA,IAAA,MAAU,2DACR,EAGJ,MAAAE,EAAA,EACAq7I,EAAA,KAAA,CAAoB,CAGtB,eAAAE,GAAA,CACE,GAAA,CAAAz7I,EACE,MAAA,IAAA,MAAA,gDAAA,EAEF,GAAA+4I,IAAA,MACE,MAAA,IAAA,MAAA,qDAAA,EAEF,MAAA74I,EAAA,EACAq7I,EAAAxC,EAAA,CAAA,CAA8B,CAGhC,MAAA2C,EAAA3C,IAAA,OAAAA,EAAA,EAEA,eAAA4C,GAAA,CACE,GAAA5C,IAAA,MACE,MAAA,IAAA,MAAA,yDAAA,EAEF,GAAA,CAAA2C,EACE,MAAA,IAAA,MAAA,gDAAA,EAGF,MAAAL,EAAA,EACAE,EAAAxC,EAAA,CAAA,CAA8B,CAGhC,MAAAj5I,EAAAxP,EAAAA,QAAA,IAAA,aACE,GAAA,EAAA8qJ,GAAA,MAAAA,EAAA,MAAA,SAAA,GAAAA,EAAA,MAAA,CAAA,EAAA,cAAA,MAQA,OAAArC,IAAA,MAEE,CAAO,GAAAqC,GAAA,YAAAA,EAAA,MAAA,GAAA,aACqB,YAAA,CACb,IAAA72H,EAAA62H,GAAA,YAAAA,EAAA,MAAA,GAAA,eAAA,YAAA72H,EAAA,YAC6B,aAAA,CAC1B,IAAAuY,IAAA/W,GAAAq1H,GAAA,YAAAA,EAAA,MAAA,GAAA,eAAA,YAAAr1H,GAAA,cAAA,YAAA+W,GAAA,aACyC,KAAAs+G,EAAA,MAAA,QAEhChuJ,IAAA,QAAA,OAAAm3B,GAAAn3B,GAAA,aAAA,cAAA,YAAAm3B,GAAA,aAAA,KACoC,GAAA,CAAA,CACjD,CACV,CACF,EAIJ62H,GAAA,YAAAA,EAAA,MAAArC,GAAA,YAAwC,EAAA,CAAAA,EAAAqC,CAAA,CAAA,EAG1Cz/I,EAAAA,UAAA,IAAA,CACEmE,GAAAo6I,GACEA,EAAA,KAAA,UAAAp6I,CAAA,CAAA,CACF,EAAA,CAAAA,EAAAo6I,CAAA,CAAA,EAGF,MAAAjjE,EAAAn3E,EAAAg7I,GAAAh7I,EAAA,OAAAA,EAAA,aAAA,EAAA,GASAi7I,EAAAzqJ,EAAAA,QAAA,IACE0qJ,GAAAl7I,EAAAq6I,CAAA,EAAyD,CAAAr6I,EAAAq6I,CAAA,CAAA,EAG3DjjE,EAAA5mF,EAAAA,QAAA,IAAA,CACE,MAAAwO,EAAAk4E,IACA,OAAA4kE,GAAA98I,EAAA,MAAAq7I,CAAA,CAAiD,EAAA,CAAAnjE,EAAAmjE,CAAA,CAAA,EAGnDe,EAAAt8G,EAAA,YAAuB+5C,GAAA,QAEnB,QAAAp0D,GAAAzkB,GAAA,YAAAA,EAAA,eAAA,YAAAykB,GAAA,KAAA6yD,IAAAA,GAAA,OAAAuB,KAAA,IAAiE,EACnE,CAAA74E,GAAA,YAAAA,EAAA,YAAA,CACmB,EAGrBd,EAAA,CAA0C,KAAA+7I,EAClC,iBAAA96I,EACY,YAAA,CAAA,CAAAD,EACH,gBAAA07I,EACf,mBAAAf,EACA,oBAAA3jE,EACA,oBAAAshE,EACA,MAAAnhD,EACA,OAAAxiB,EACA,oBAAA4jE,EACqB,kBAAAthE,EACrB,eAAAojE,EACgB,wBAAAmB,EAChB,aAAAC,EACA,iBAAAE,EACA,qBAAAzkE,EACA,WAAAkiE,EACA,kBAAAO,EACA,2BAAAG,EACA,oBAAAR,EACA,6BAAAG,EACA,aAAAU,EACA,eAAAe,EACA,6BAAAd,CACA,EAKF,CAAA,SAAAn0J,CAAA,EAAAlR,EACA,OAAAukB,EAAAk6E,GAAA,CAAA,aAAAx0E,EAAA,SAAA/Y,CAAA,CAAA,CAKF,qpCChNA,SAAA41J,GAAA9mK,EAAA,CACE,KAAA,CAAA,0BAAA+mK,EAAA,OAAAC,CAAA,EAAAhnK,EACA,CAAAinK,EAAAC,CAAA,EAAA5gJ,EAAA,SAAA,EACA,CAAA6gJ,EAAAC,CAAA,EAAA9gJ,EAAA,SAAA,EAAA,EAEA,CAAA,OAAA+gJ,CAAA,EAAAC,GAAA,CAA6D,UAAA,IAAA,CAEzDN,GAAO,EACT,QAAA/hJ,GAAA,CAEEiiJ,EAAA,CAAS,IAAA,QACF,QAAA,wDAAAjiJ,EAAA,OAAAA,EAAA,OAAA,IAAA,kDAEyB,CAAA,EAGhCmiJ,EAAA,EAAA,CAAoB,CACtB,CAAA,EAGF,SAAAG,GAAA,CACER,GACEM,EAAAN,CAAA,CACF,CAGF,OAAAhgJ,EAAAC,GAAA,CAAA,SAAA,CAEIzC,EAAAijJ,GAAA,CAAA,SAAAzgJ,EAAAy0D,GAAA,CAAA,UAAA,MAAA,WAAA,SAAA,IAAA,MAAA,SAAA,CAC2D,eAAAj3D,EAAAkjJ,GAAA,CAAA,GAAA,CAAA,SAAA,CAAA,EAAA,EAE7BljJ,EAAA5Y,GAAA,CAAA,QAAAq7J,EAAA,SAAAziJ,EAAAwgD,GAAA,CAAA,KAAA,QAAA,KAAA,GAAA,GAAA,CAAA,MAAA,UAAA,CAAA,CAAA,EAAA,CAG1B,CAAA,CAAA,CAAA,CAAA,EAEJh+C,EAAA2gJ,GAAA,CAAA,SAAA,CAGEnjJ,EAAA8/C,GAAA,CAAA,QAAA,QAAA,SAAA,8CAAA,EAEA4iG,GAAA1iJ,EAAA0C,GAAA,CAAA,SAAAggJ,EAAA,IAAA,SAAAA,EAAA,QAAA,CACqD,EAAA,EACvDlgJ,EAAA4gJ,GAAA,CAAA,SAAA,CAGG,CAAAR,GAAApgJ,EAAAC,GAAA,CAAA,SAAA,CAEGzC,EAAAw9I,GAAA,CAAA,QAAA,WAAA,QAAAiF,EAAA,SAAA,SAAA,EAEAziJ,EACAw9I,GAAC,CAAA,QAAA,YACS,QAAA,IAAA,CAENwF,GAAW,EACb,SAAA,cACD,CAAA,CAED,EAAA,EACFJ,GAAA5iJ,EAAAw9I,GAAA,CAAA,QAAA,YAAA,QAAAiF,EAAA,SAAA,QAAA,CAKA,EAAA,CAEJ,CAAA,CAAA,CAGN,uXC3EA,SAAAY,GAAA5nK,EAAA,CAGE,KAAA,CAAA,SAAAkR,EAAA,8BAAA22J,CAAA,EAAA7nK,EACA,CAAA,KAAAg9F,CAAA,EAAA8qE,GAA2BD,EACzB,CACA,QAAA,CAAA,CAAAA,CACa,CACb,EAGFE,EAAAC,KAEA,OAAAjhJ,EAAAnQ,GAAA,CAAA,UAAA,GAAA,QAAA,EAAA,SAAA,CAEI2N,EAAA3N,GAAC,CAAA,KAAA,GACK,GAAA,GACA,GAAA,EACA,GAAA,EACA,GAAA,CACA,UAAA,QACS,SAAA,OACD,GAAA,CACN,GAAA,EACE,GAAA,CACA,CACN,EACF,SAAA1F,CAEC,CAAA,EACH62J,GAAAhhJ,EAEEnQ,GAAC,CAAA,KAAA,GACK,GAAA,EACA,GAAA,EACA,GAAA,CACA,UAAA,QACS,UAAA,SACA,GAAA,CACP,EACN,SAAA,CAEA2N,EAAA8/C,GAAA,CAAA,QAAA,YAAA,GAAA,CAAA,GAAA,CAAA,EAAA,SAAA,cAAA,CAAA,EAEA24B,GAAAz4E,EAEEgG,GAAC,CAAA,OAAAyyE,EAAA,WACkB,QAAAA,EAAA,cACC,WAAAA,EAAA,gBACG,wBAAA,EACI,CAAA,CAC3B,CAAA,CAAA,CAEJ,CAAA,CAAA,CAIR;sRCvCA,SAAAirE,GAAAjoK,EAAA,CACE,KAAA,CAAA,OAAAkoK,EAAA,4BAAAC,EAAA,OAAAnB,CAAA,EAAAhnK,EACA,CAAAooK,EAAAC,CAAA,EAAA/hJ,EAAAA,SAAA,MAAA,EACA,CAAAgiJ,EAAAC,CAAA,EAAAjiJ,EAAAA,SAAA,MAAA,EACA,CAAAkiJ,EAAAC,CAAA,EAAAniJ,EAAAA,SAAA,MAAA,EAGA,CAAA2gJ,EAAAC,CAAA,EAAA5gJ,EAAA,SAAA,EAEA,CAAA,KAAAoiJ,EAAA,UAAAC,GAAAC,GAAA,OAAAT,EAAA,EAAA,EAAA,CACgE,UAAA,IAEjD,QAAAljJ,GAAA,CAET,QAAA,IAAQ,gEACNA,CACA,CACF,CACF,CAAA,EAIJ2B,EAAAA,UAAA,IAAA,CACEwhJ,GAAA,OAAAM,GAAA,MAAAA,EAAA,cACEL,EAAAK,GAAA,YAAAA,EAAA,WAAA,EAEFJ,GAAA,OAAAI,GAAA,MAAAA,EAAA,cACEH,EAAAG,GAAA,YAAAA,EAAA,WAAA,EAEFF,GAAA,OAAAE,GAAA,MAAAA,EAAA,2BAIED,EAAAC,GAAA,YAAAA,EAAA,wBAC2B,CAE7B,EAAA,CACCA,GAAA,YAAAA,EAAA,YACwBA,GAAA,YAAAA,EAAA,yBACAA,GAAA,YAAAA,EAAA,YACAJ,EACzBE,EACAJ,CACA,CAAA,EAGF,KAAA,CAAA,OAAAS,EAAA,UAAAC,CAAA,EAAAC,GAAA,CAAwE,UAAAh+I,GAAA,CAEpEm9I,GACEA,EAAAn9I,CAAA,CACF,EACF,QAAA9F,GAAA,CAEE,QAAA,IAAQ,iEACNA,CACA,EAEFiiJ,EAAA,CAAS,IAAA,QACF,QAAA8B,EAAA/jJ,EAAA,MAAA,CAC4B,CAAA,CAClC,CACH,CAAA,EAGFa,EAAA6iJ,GAAAG,EAEAE,EAAA,CAAA/jK,EAAA,KACE8hB,EAAAC,GAAA,CAAA,SAAA,CAEIzC,EAAA,SAAA,CAAA,SAAA,yCAAA,CAAA,EAA+CA,EAAA,KAAA,EAAA,EAC3Ctf,CACH,CAAA,CAAA,EAKPgkK,EAAAhkJ,GAAA,CACEA,EAAA,eAAA,EACA4jJ,EAAA,CAAO,GAAAH,EACF,oBAAA,OAAAP,EAAA,EAAA,EACuD,YAAAG,EAC1D,YAAAF,EACA,yBAAAI,CACA,CAAA,CACD,EAGH,OAAAzhJ,EAAAC,GAAA,CAAA,SAAA,CAEIzC,EAAAijJ,GAAA,CAAA,SAAAzgJ,EAAAy0D,GAAA,CAAA,UAAA,MAAA,WAAA,SAAA,IAAA,MAAA,SAAA,CAC2D,iBAAAj3D,EAAAkjJ,GAAA,CAAA,GAAA,CAAA,SAAA,CAAA,EAAA,EAE7BljJ,EAAA5Y,GAAA,CAAA,QAAAq7J,EAAA,SAAAziJ,EAAAwgD,GAAA,CAAA,KAAA,QAAA,KAAA,GAAA,GAAA,CAAA,MAAA,UAAA,CAAA,CAAA,EAAA,CAG1B,CAAA,CAAA,CAAA,CAAA,EAEJh+C,EAAA2gJ,GAAA,CAAA,SAAA,CAEEnjJ,EAAAqjJ,GAAC,CAAA,8BAAA,OAAAO,EAAA,EAAA,EACqE,SAAAphJ,EAAA,OAAA,CAAA,SAAAkiJ,EAAA,SAAA,CAGlE1kJ,EAAA8/C,GAAA,CAAA,QAAA,QAAA,SAAA,qCAAA,EAEA9/C,EACA2kJ,GAAC,CAAA,GAAA,eACK,MAAA,eACG,SAAApjJ,EACG,KAAA,OACL,MAAAsiJ,EACE,SAAA,GACC,SAAAnjJ,GAAAojJ,EAAApjJ,EAAA,OAAA,KAAA,CACoC,CAAA,EAC9CV,EACA2kJ,GAAC,CAAA,GAAA,cACK,MAAA,cACG,KAAA,OACF,SAAApjJ,EACK,MAAAwiJ,EACH,SAAA,GACC,SAAArjJ,GAAAsjJ,EAAAtjJ,EAAA,OAAA,KAAA,CACoC,CAAA,EAC9CkjJ,EAAA,eAAA5jJ,EAGE2kJ,GAAC,CAAA,GAAA,WACK,MAAAniJ,EAAAC,GAAA,CAAA,SAAA,CAEA,gCAAAmhJ,EAAA,aAAA5jJ,EAAA,IAAA,CAAA,GAAA,cAAA,SAAA,qCAAA,CAKE,EAAA,EAEJ,SAAA,GAEM,UAAA,GACC,KAAA,EACH,SAAAuB,EACI,MAAA0iJ,EACH,SAAAvjJ,GAAAwjJ,EAAAxjJ,EAAA,OAAA,KAAA,CACkD,CAAA,CAC3D,EAAA,CAEJ,CAAA,EACFgiJ,GAAA1iJ,EAAA0C,GAAA,CAAA,SAAAggJ,EAAA,IAAA,SAAAA,EAAA,QAAA,CACqD,EAAA,EACvDlgJ,EAAA4gJ,GAAA,CAAA,SAAA,CAEEpjJ,EAAAw9I,GAAA,CAAA,QAAA,WAAA,SAAAj8I,EAAA,QAAAkhJ,EAAA,SAAA,QAAA,CAAA,EAEAziJ,EACAw9I,GAAC,CAAA,QAAA,YACS,KAAA,SACH,SAAAj8I,EACK,QAAAmjJ,EACD,SAAAH,EAAA,YAAA,cAEwB,CAAA,CACnC,EAAA,CACF,CAAA,CAAA,CAGN,qmBC3KA,SAAAK,GAAAnpK,EAAA,CAGE,KAAA,CAAA,gBAAAopK,EAAA,SAAAvnK,EAAA,UAAAwnK,EAAA,SAAAC,CAAA,EAAAtpK,EACA,CAAA,KAAAupK,CAAA,EAAAC,GAAA,EAEAC,EAAA,CAAAlnK,EAAAmnK,IAAA,CAIEA,GACE7nK,EAAA8nK,GAAA,CAGE,GAAA,CAFAA,EAAA,IAAAC,GAAAA,EAAA,MAAA,EAEA,SAAAF,EAAA,OAAA,EAAA,CACE,MAAAG,EAAA,CAAyC,OAAAH,EAAA,QAC3B,KAAAI,GAAA,WACK,EAEnBH,EAAA,KAAAE,CAAA,EAEF,OAAAF,CAAO,CAAA,CAEX,EAGFI,EAAAC,GAAA,CACEnoK,EAAA8nK,GACEA,EAAA,OAAArzJ,GAAAA,EAAA,SAAA0zJ,CAAA,CAA0D,CAC3D,EAIHC,EAAA,CAAAC,EAAAF,IAAA,CAIEnoK,EAAA8nK,GAAA,CACE,MAAAQ,EAAAR,EAAA,UAAkCrzJ,GAAAA,EAAA,SAAA0zJ,CACR,EAE1B,OAAAL,EAAAQ,CAAA,EAAA,KAAAD,EACAP,CAAO,CAAA,CACR,EAGH,OAAA5iJ,EAAAC,GAAA,CAAA,SAAA,CAEID,EAAAo5G,GAAA,MAAA,CAAA,SAAA,CACE57G,EAAA8/C,GAAA,CAAA,QAAA,YAAA,GAAA,CAAA,GAAA,EAAA,GAAA,CAAA,EAAA,SAAA,iBAAA,CAAA,EAEA9/C,EACA8/C,GAAC,CAAA,QAAA,QACU,GAAA,CAAA,GAAA,CAAA,EACG,UAAA,kBACD,SAAAilG,CAEV,CAAA,EACH/kJ,EACA6lJ,GAAC,CAAA,QAAA,aACU,WAAAC,GAAA,WACe,SAAAZ,EACd,gBAAAa,GAAA,CAAAlB,EAAA,IAAAQ,GAAAA,EAAA,MAAA,EAAA,SAAAU,EAAA,OAAA,EAI2B,MAAA,IAE9B,CAAA,CACT,EAAA,EACF/lJ,EAAA47G,GAAA,MAAA,CAAA,SAAA57G,EAAAi3D,GAAA,CAAA,IAAA,EAAA,SAAA4tF,EAAA,IAAA,CAAAQ,EAAAnqK,IAIMsnB,EAAA,MAAA,CAAA,UAAA,aAAA,SAAA,CAEIxC,EAAA4F,GAAC,CAAA,KAAA,kBACO,QAAAy/I,EAAA,OACM,qBAAA,GACU,YAAA,GACT,aAAA,EACC,CAAA,GAChBL,GAAA,YAAAA,EAAA,WAAAK,EAAA,QAAAA,EAAA,OAAAE,GAAA,aAAAvlJ,EAKMw9I,GAAC,CAAA,aAAA,cACa,QAAA,OACH,GAAA,CACL,GAAA,EACE,GAAA,CACA,EACN,QAAA,IAAAgI,EAAAH,EAAA,MAAA,EACwC,SAAArlJ,EAAAwgD,GAAA,CAAA,KAAA,OAAA,CAAA,CAElB,CAAA,EACxBskG,IAAAE,GAAA,YAAAA,EAAA,WAAAK,EAAA,QAAAA,EAAA,OAAAE,GAAA,aAAAvlJ,EAAAyC,GAAA,CAAA,SAAAzC,EAUEgmJ,GAAC,CAAA,GAAA,oBAAAX,EAAA,SAC4B,MAAAA,EAAA,KACjB,QAAA,CACD,CACP,MAAA,QACS,MAAAE,GAAA,YACW,EACpB,CACA,MAAA,SACS,MAAAA,GAAA,aACW,CACpB,EACF,SAAAzsK,GAAA4sK,EAEE5sK,EACEusK,EAAA,MACG,CACL,CAAA,EAAA,CAGN,CAAA,EAAA,YAAAnqK,GAAA,CAGR,CAAA,CAAA,CAAA,CAAA,CAIR,CAAA,CAAA,CAGN,0rBCxJA,SAAA+qK,GAAAxqK,EAAA,CACE,KAAA,CAAA,sBAAAunB,EAAA,SAAAY,EAAA,GAAAsiJ,CAAA,EAAAzqK,EACA,CAAA,YAAA4kB,GAAAO,KAEAulJ,EAAA,SAAA,CACE,GAAA,CAAAnjJ,EAAA,cAAA,CAAA3C,EAAyD,OASzD,MAAAu3E,GADA,MAAAD,GANA,CAA2C,eAAA,CAAA30E,CAAA,EACH,qBAAA,GAChB,mBAAA,GACF,4BAAA,EACS,EAE/B3C,CAAA,GACA,eAAA,CAAA,EAAA,aACAu3E,EAGE,OAAA,KAAAA,CAAA,EAFA,QAAA,IAAA,gCAAA,CAGF,EAGF,OAAA53E,EACEw9I,GAAC,CAAA,GAAA0I,EACK,QAAA,IAAA,CAEFC,GAAgB,EAClB,SAAAviJ,CAEC,CAAA,CAGP;;;;;;;;suFCxBO,SAAAwiJ,GAAA3qK,EAAA,CACL,KAAA,CAAM,uBAAA4qK,EAAA,CAAA,EACsB,eAAAC,EAC1B,GAAAtoK,EACA,aAAAuoK,EACA,kBAAAC,EAAA,GACoB,kBAAAC,EACpB,UAAAllJ,EAAA,EACY,EAAA9lB,EAEd,CAAAirK,EAAAC,CAAA,EAAA5kJ,EAAA,SAAA,EAAA,EAEA,CAAA,KAAA6kJ,CAAA,EAAAC,GAA2B,CACzB,mBAAA,GACsB,qBAAA,GACE,4BAAA,GACO,eAAAR,CACb,EAClB,CAAA,QAAAA,EAAA,OAAA,CAAA,CAC6C,EAG/C,OAAA7jJ,EACE0gJ,GAAC,CAAA,GAAAllK,EACC,QAAA,OACS,cAAAwoK,EAAA,SAAA,MACqC,WAAAA,EAAA,aAAA,SACC,eAAA,aAC/B,IAAA,EACX,GAAA,CAAA,GAAA,CAAA,EACO,SAAA,CAEZxmJ,EAAA8mJ,GAAC,CAAA,GAAA,GAAA9oK,WACQ,cAAA,IAAA2oK,EAAA,EAAA,EACiC,WAAAv1H,GAAA,CAEtCu1H,EAAA,EAAA,EACAL,EAAAl1H,CAAA,CAAkB,EACpB,MAAA,UAAAm1H,IACiB,YAAA,CACJ,SAAAhlJ,EACD,QAAA,WACD,QAAAvB,EAAAwgD,GAAA,CAAA,KAAA,SAAA,KAAA,GAAA,CACsC,CACjD,CAAA,EACF6lG,EAAA,IAAA,CAAAU,EAAA1mK,IAAA,OAEE,MAAA0iB,GAAAkoB,EAAA27H,GAAA,YAAAA,EAAA,eAAA,KAA4CjwH,GAAAA,EAAA,eAAAowH,EAAA,gBAA5C,YAAA97H,EACwC,WAExC,OAAAzoB,EAAA0gJ,GAAA,CAAA,SAAA,CAEIljJ,EAAAimJ,GAAC,CAAA,GAAA,GAAAjoK,cAAAqC,IAEuB,QAAA,OACb,QAAA2f,EAAAwgD,GAAA,CAAA,KAAA,WAAA,KAAA,GAAA,EACwC,MAAA,UAC1C,sBAAAumG,EACgB,SAAAhkJ,GAAA,YAAAA,EAAA,SACD,GAAA,CAClB,cAAA,MAEa,CACjB,EAAA1iB,CAVK,EAWPomK,GAAAzmJ,EAEEw9I,GAAC,CAAA,UAAA,UACY,QAAA,OACF,QAAA,IAAAiJ,EAAAM,EAAA,YAAA,EACwC,SAAA/mJ,EAAAwgD,GAAA,CAAA,KAAA,OAAA,CAAA,CAE3B,CAAA,CACxB,GAAAumG,EAAA,YAAA,CAEJ,CAAA,EAEHL,GAAA1mJ,EAECw9I,GAAC,CAAA,SAAA,GACW,QAAA,OACD,QAAAx9I,EAAAwgD,GAAA,CAAA,KAAA,WAAA,KAAA,GAAA,EACwC,SAAA,cAClD,CAAA,CAED,CAAA,CAAA,CAIR,05BChGA,SAAAwmG,GAAAvrK,EAAA,SACE,KAAA,CAAA,MAAA29F,EAAA,YAAAx5B,EAAA,sBAAA58C,EAAA,mBAAAikJ,CAAA,EAAAxrK,EAIA,CAAA,KAAAmrK,CAAA,EAAAC,GAA2B,CACzB,eAAA,CAAA7jJ,CAAA,EACwC,mBAAA,GAClB,qBAAA,GACE,4BAAA,EACO,EAC/B,CACA,QAAA,CAAA,CAAAA,CACa,CACb,EAGFY,GAAA6oB,GAAAxB,EAAA27H,GAAA,YAAAA,EAAA,eAAA,KAAA,YAAA37H,EAAA,aAAA,YAAAwB,EAAA,SAEA,OAAAjqB,EAAAC,GAAA,CAAA,SAAA,CAEIzC,EAAA8/C,GAAA,CAAA,QAAA,YAAA,GAAA,CAAA,GAAA,EAAA,GAAA,CAAA,EAAA,SAAAs5B,CAAA,CAAA,EAEAp5E,EAAA8/C,GAAA,CAAA,QAAA,QAAA,GAAA,CAAA,GAAA,CAAA,EAAA,SAAAF,CAAA,CAAA,EAGA5/C,EAAA8/C,GAAA,CAAA,QAAA,QAAA,SAAA,sBAAA,EACiD9/C,EAAA8/C,GAAA,CAAA,QAAA,aAAA,GAAA,CAAA,GAAA,EAAA,EAAA,SAAA9/C,EAAA,SAAA,CAAA,SAAA4D,CAAA,CAAA,EAAA,EAGjDpB,EACA0gJ,GAAC,CAAA,QAAA,OACU,WAAA,SACG,eAAA,aACI,IAAA,EACX,GAAA,CACD,gBAAA,eACe,EAAA,IACd,GAAA,EACC,SAAA,CAAA,GAAA,SAAA,GAAA,cAAA,CACyC,EAC/C,SAAA,CAEAljJ,EAAAimJ,GAAC,CAAA,QAAA,WACU,sBAAAjjJ,EACT,SAAAikJ,EACU,QAAAjnJ,EAAAwgD,GAAA,CAAA,KAAA,WAAA,KAAA,GAAA,EACuC,GAAA,CAAA,WAAA,SAAA,WAAA,CAAA,CACP,CAAA,EAC5Ch+C,EAAAs9C,GAAA,CAAA,QAAA,QAAA,SAAA,CAC8B,mEAAA,IACqC9/C,EAAA,SAAA,CAAA,SAAA,qCAAA,CAAA,CACtB,EAAA,CAC7C,CAAA,CAAA,CACF,CAAA,CAAA,CAGN,6iBCzBA,SAAAknJ,GAAAzrK,EAAA,CAGE,KAAA,CAAA,4BAAAmoK,CAAA,EAAAnoK,EACA,IAAA0rK,EAAA,GACA3+B,EAAA,GAEA,OAAAo7B,EAAA,yBAAAA,EAAA,4BAIEuD,EAAA,2DACA3+B,EAAA,kFACEo7B,EAAA,yBAEFuD,EAAA,2FAEA3+B,EAAA,iDAAMo7B,EAAA,6BAENuD,EAAA,2FAEA3+B,EAAA,2DAEF2+B,GAAA3+B,EAAAhmH,EAAAC,GAAA,CAAA,SAAA,CAEKmhJ,EAAA,cAAAphJ,EAAAC,GAAA,CAAA,SAAA,CACG,mDAAAzC,EAAA,KAAA,EAAA,CAEI,CAAA,CAAA,EAAA,GAGNwoH,EAED,IAAKxoH,EAAAonJ,GAAA,CAAA,KAAAD,EAAA,OAAA,SAAA,IAAA,aAAA,SAAA,YAAA,CAAA,CAGN,CAAA,CAAA,EAAAnnJ,EAAAyC,GAAA,CAAA,CAAA,CAKN,CA+BA,SAAA4kJ,GAAA5rK,EAAA,CAGE,KAAA,CAAM,oBAAA6rK,EACJ,4BAAA1D,EACA,SAAA7iJ,EACA,kBAAAwmJ,EACA,SAAAC,CACA,EAAA/rK,EAEF,CAAA,YAAA4kB,GAAAO,KACA2D,EAAA,EAAAlE,EACA,CAAA,KAAA2kJ,CAAA,EAAAC,GAAA,CAAA,QAAA1gJ,CAAA,CAAA,EACA,CAAAm+I,EAAAC,CAAA,EAAA5gJ,EAAA,SAAA,EACA,CAAA8iJ,EAAA4C,CAAA,EAAA1lJ,EAAA,SAAA,EAGA,CAAA2lJ,EAAAC,CAAA,EAAA5lJ,EAAA,SAAA,EACA,CAAA6lJ,EAAAC,CAAA,EAAA9lJ,EAAA,SAAA,EAEA,CAAA,KAAA+lJ,EAAA,UAAAC,GAAAC,GAAA,OAAApE,EAAA,EAAA,EAAA,CAC2E,QAAAr/I,EAC9D,UAAA,IAEE,iBAAA,EAEO,CAAA,EAGtBugJ,GAAAgD,GAAA,YAAAA,EAAA,gBAAA,oDAIA,SAAA/pH,EAAAr9B,EAAA,CACE,QAAA,IAAA,8CAAAA,CAAA,EACAiiJ,EAAA,CAAS,IAAA,QACF,QAAA8B,EAAA/jJ,EAAA,MAAA,CAC4B,CAAA,CAClC,CAGH,KAAA,CAAA,OAAAunJ,EAAA,UAAAC,CAAA,EAAAC,GAAA,CAC6B,UAAA,IAAA,CAEvBb,GAAoB,EACtB,QAAAvpH,CACA,CAAA,EAGJ,CAAM,YAAAqqH,EACS,UAAAC,CACF,EAAAtF,GAAA,CACkB,QAAAhlH,CAC7B,CAAA,EAGFx8B,EAAAwmJ,GAAAM,GAAAH,EAQA7lJ,EAAAA,UAAA,IAAA,CACE,GAAAylJ,GAAA9C,EAAA,CACE,IAAAsD,EAAA,GAGAR,EAAA,oBACEA,EAAA,kBAAAP,EACAe,EAAA,IAIF,MAAAC,EAAA,CAAkD,OAAAvD,EAAA,QACnC,KAAAF,EAAAS,GAAA,aAAAA,GAAA,WAC0C,GAEzD,CAAAuC,EAAA,iBAAA,CAAAA,EAAA,gBAAA,KAEqC/1J,GAAAm+F,GAAAn+F,EAAAw2J,CAAA,CACS,KAG5CT,EAAA,gBAAA,CAAoCS,EAClC,GAAAT,EAAA,iBAAA,CAAA,CAC0C,EAE5CQ,EAAA,IAIF,MAAAhoJ,EAAA,IAAA,IACAkoJ,EAAAV,EAAA,gBAAA,OAAgE7hJ,GAE5D3F,EAAA,IAAA2F,EAAA,MAAA,EAAA,GAAA3F,EAAA,IAAA2F,EAAA,MAAA,CAGF,EAEFuiJ,EAAA,SAAAV,EAAA,gBAAA,SAIEA,EAAA,gBAAAU,EACAF,EAAA,IAGFA,GACEF,EAAAN,CAAA,EAEJ,EAAA,CACCA,EACDhD,EACAyC,EACAa,EACApD,CACA,CAAA,EAOF3iJ,EAAAA,UAAA,IAAA,CACEylJ,IACEA,EAAA,iBAAAjD,GAAA,MACE4C,EAAAK,EAAA,eAAA,EAEFhD,GAAAgD,EAAA,aAAAF,GAAA,MAKEC,EAAAC,EAAA,WAAA,EAEFhD,GAAAgD,EAAA,cAAAJ,GAAA,MAKEC,EAAAG,EAAA,YAAA,EAEJ,EAAA,CAAAA,CAAA,CAAA,EAGF,SAAAW,GAAA,CACE,MAAA,CAAO,GAAAX,EACF,gBAAAjD,EAEH,YAAA+C,EACA,aAAAF,CACA,CACF,CAGF,eAAAhD,GAAA,CACE,GAAAoD,EAAA,CAEE,MAAAY,EAAA,MAAAN,EAA4BK,EAAA,CACS,EAGrCR,EAAA,CAAO,QAAA,CACI,UAAAS,EAAA,GACkB,YAAAA,EAAA,KACE,UAAA3nJ,EAChB,YAAA4nJ,GAAA,MACyB,EACtC,oBAAA,OAAA/E,EAAA,EAAA,CAC0D,CAAA,EAE9D,CAGF,MAAAa,EAAA,CAAA/jK,EAAA,KACE8hB,EAAAC,GAAA,CAAA,SAAA,CAEIzC,EAAA,SAAA,CAAA,SAAA,sDAAA,CAAA,EAA4DA,EAAA,KAAA,EAAA,EACxDtf,CACH,CAAA,CAAA,EAKPkoK,EAAAC,GAAA,CAGIpB,EAAA,CAAA,GAAAoB,EAAAhE,GAAA,CAAA,CAAA,CAAA,CAAA,CAAsD,EAG1D4B,EAAAqC,GAAA,OACEV,EAAA,CAAmB,GAAAN,EACd,aAAA78H,EAAA68H,EAAA,cAAA,YAAA78H,EAAA,OAAAl5B,GAAAA,IAAA+2J,EACqE,CAAA,CACzE,EAGHxC,EAAA,CAAA9/I,EAAAd,IAAA,CAOE,GAAAc,EAAA,MAAAA,EAAA,QAAA,CAEE,MAAAuiJ,EAAAviJ,EAAA,KAEE4hJ,EADF1iJ,IAAA,cACE,CAAmB,GAAAoiJ,EACd,YAAA,CACU,GAAAA,EAAA,aAAA,CAAA,EAC4BiB,EAAA,YACxB,CACjB,EAGF,CAAmB,GAAAjB,EACd,CAAApiJ,CAAA,EAAAqjJ,EAAA,YACuB,CAL1B,MAOJ,CAAAviJ,EAAA,SAAAA,EAAA,QAGA,QAAA,IAAQ,mDACNA,EAAA,KACK,EAEPm8I,EAAA,CAAS,IAAA,QACF,QAAA8B,EAAAj+I,EAAA,MAAA,MAAA,CACqC,CAAA,EAE9C,EAGFwiJ,EAAAlB,GAAA,MAAAA,EAAA,gBAAA,CAEM,CACE,aAAAA,GAAA,YAAAA,EAAA,gBACmC,oBAAAljJ,GAAA,4BAEP,kBAAA,OAAAkjJ,EAAA,EAAA,CACoB,CAChD,EAAA,GAGRmB,EAAAnB,GAAA,MAAAA,EAAA,gBAAA,CAEM,CACE,aAAAA,EAAA,gBACkC,oBAAAljJ,GAAA,4BAEN,kBAAA,OAAAkjJ,EAAA,EAAA,CACoB,CAChD,EAAA,GAIRoB,IAAApB,GAAA,YAAAA,EAAA,cAAA,CAAA,GAAA,IAAAqB,IAAA,CACwE,aAAAA,EACtD,oBAAAvkJ,GAAA,4BAC+B,kBAAA,OAAAkjJ,EAAA,EAAA,CACE,EAAA,GAAA,CAAA,EAGnD,OAAAtlJ,EAAAC,GAAA,CAAA,SAAA,CAEIzC,EAAAijJ,GAAA,CAAA,SAAAzgJ,EAAAy0D,GAAA,CAAA,UAAA,MAAA,WAAA,SAAA,IAAA,MAAA,SAAA,CAC2D,iBAAAj3D,EAAAkjJ,GAAA,CAAA,GAAA,CAAA,SAAA,CAAA,EAAA,EAE7BljJ,EAAA5Y,GAAA,CAAA,QAAA3L,EAAA,OAAA,SAAAukB,EAAAwgD,GAAA,CAAA,KAAA,QAAA,KAAA,GAAA,GAAA,CAAA,MAAA,UAAA,CAAA,CAAA,EAAA,CAG1B,CAAA,CAAA,CAAA,CAAA,EAEJh+C,EAAA2gJ,GAAA,CAAA,SAAA,CAEEnjJ,EAAAqjJ,GAAC,CAAA,8BAAA,OAAAO,EAAA,EAAA,EACqE,SAAAphJ,EAEpE0gJ,GAAC,CAAA,UAAA,OACY,GAAA,CACP,UAAA,OAES,EACb,SAAAxiJ,GAAAA,EAAA,eAAA,EACgC,SAAA,CAEhCV,EAAA8/C,GAAA,CAAA,QAAA,QAAA,GAAA,CAAA,GAAA,CAAA,EAAA,SAAA,wEAAA,CAAA,EAGAgoG,GAAA9C,GAAAhlJ,EAGE4kJ,GAAC,CAAA,gBAAAC,GAAA,CAAA,EACsC,SAAA+D,EAC3B,UAAA9D,EACV,SAAA9kJ,EAEEknJ,GAAC,CAAA,4BAAAtD,CACC,CAAA,CACF,CAAA,IAEJA,GAAA,YAAAA,EAAA,iBAAAA,GAAA,YAAAA,EAAA,yBAAAA,GAAA,YAAAA,EAAA,8BAAAkB,IAAA9kJ,EAAAopJ,GAAA,CAAA,GAAA,CAAA,GAAA,CAAA,CAAA,CAAA,GAMsCxF,GAAA,YAAAA,EAAA,gBAAAphJ,EAAAC,GAAA,CAAA,SAAA,EAInCmhJ,GAAA,YAAAA,EAAA,0BAAA5jJ,EACCgnJ,GAAC,CAAA,MAAA,wBACQ,YAAA,mGAEL,sBAAA,CAEqB,aAAApD,EAAA,wBAES,oBAAAh/I,GAAA,4BAEJ,kBAAA,OAAAg/I,EAAA,EAAA,CAC8B,EAC1D,mBAAA,uBACoB,CAAA,EACtB5jJ,EAAA8/C,GAAA,CAAA,QAAA,YAAA,GAAA,CAAA,GAAA,EAAA,GAAA,CAAA,EAAA,SAAA,4CAAA,CAAA,EAIF9/C,EAAA8/C,GAAA,CAAA,QAAA,QAAA,GAAA,CAAA,GAAA,CAAA,EAAA,SAAA,kIAAA,CAAA,EAKAt9C,EAAAs9C,GAAA,CAAA,QAAA,QAAA,UAAA,KAAA,SAAA,CAEE9/C,EAAA,KAAA,CAAA,SAAA,iCAAA,CAAA,EAAmCA,EAAA,KAAA,CAAA,SAAA,oEAAA,CAAA,EAInCA,EAAA,KAAA,CAAA,SAAA,0DAAA,CAAA,CAGA,EAAA,EACFA,EAAAk3E,GAAA,CAAA,SAAAl3E,EAEEomJ,GAAC,CAAA,GAAA,MACK,UAAA7kJ,EACJ,eAAA8nJ,GAAA/C,EAAA+C,EAAA,iBAAA,EAEwC,aAAA,uBAE1B,uBAAAL,CACU,CAAA,EAAA,IAE5BpF,GAAA,YAAAA,EAAA,yBAAAA,GAAA,YAAAA,EAAA,8BAAAkB,IAAA9kJ,EAAAopJ,GAAA,CAAA,GAAA,CAAA,GAAA,CAAA,CAAA,CAAA,CAGwC,EAAA,GAC1CxF,GAAA,YAAAA,EAAA,wBAAAphJ,EAAAC,GAAA,CAAA,SAAA,CAMEzC,EAAA8/C,GAAA,CAAA,QAAA,YAAA,GAAA,CAAA,GAAA,CAAA,EAAA,SAAA,cAAA,CAAA,EAEA9/C,EAAA8/C,GAAA,CAAA,QAAA,QAAA,GAAA,CAAA,GAAA,CAAA,EAAA,SAAA,0NAAA,CAAA,EAMA9/C,EAAAk3E,GAAA,CAAA,SAAAl3E,EAEEomJ,GAAC,CAAA,GAAA,MACK,UAAA7kJ,EACJ,aAAA,sBACc,eAAA8nJ,GAAA/C,EAAA+C,EAAA,iBAAA,EAE0B,uBAAAJ,CAEhB,CAAA,EAAA,IAE5BrF,GAAA,YAAAA,EAAA,8BAAAkB,IAAA9kJ,EAAAopJ,GAAA,CAAA,GAAA,CAAA,GAAA,CAAA,EAAA,CAEwC,EAAA,GAC1CxF,GAAA,YAAAA,EAAA,8BAAAphJ,EAAAC,GAAA,CAAA,SAAA,CAOIzC,EAAA8/C,GAAA,CAAA,QAAA,YAAA,GAAA,CAAA,GAAA,CAAA,EAAA,SAAA,iCAAA,CAAA,EAEA9/C,EAAA8/C,GAAA,CAAA,QAAA,QAAA,GAAA,CAAA,GAAA,CAAA,EAAA,SAAA,kJAAA,CAAA,EAKA9/C,EAAAk3E,GAAA,CAAA,SAAAl3E,EAEEomJ,GAAC,CAAA,GAAA,kBACK,UAAA7kJ,EACJ,aAAA,aACc,eAAA6vB,GAAAk1H,EAAAl1H,EAAA,aAAA,EAC0C,kBAAA,GACrC,uBAAA83H,EACK,kBAAAzC,CACxB,CAAA,EAAA,EAEJ3B,GAAA9kJ,EAAAopJ,GAAA,CAAA,GAAA,CAAA,GAAA,CAAA,EAAA,CAEsC,EAAA,EACxCtE,GAAAtiJ,EAAAC,GAAA,CAAA,SAAA,CAQEzC,EAAA2kJ,GAAC,CAAA,GAAA,eACK,MAAA,iBACG,SAAAuD,EACG,UAAA,GACD,KAAA,EACH,MAAAN,EACC,SAAAlnJ,GAAAmnJ,EAAAnnJ,EAAA,OAAA,KAAA,CAEwB,CAAA,EAEjCV,EACA2kJ,GAAC,CAAA,GAAA,eACK,MAAA,iBACG,MAAA+C,EACA,SAAAQ,EACG,UAAA,GACD,KAAA,EACH,SAAAxnJ,GAAAinJ,EAAAjnJ,EAAA,OAAA,KAAA,CAE0B,CAAA,CAElC,EAAA,CACF,CAAA,CAAA,CAGN,CAAA,EACFgiJ,GAAA1iJ,EAAA0C,GAAA,CAAA,SAAAggJ,EAAA,IAAA,SAAAA,EAAA,QAAA,CACqD,EAAA,EACvD1iJ,EAAAojJ,GAAA,CAAA,SAAA5gJ,EAAAC,GAAA,CAAA,SAAA,CAIMzC,EAAAw9I,GAAC,CAAA,QAAA,WACS,SAAA0K,EACE,QAAA,IAAA,CAERJ,GAEEN,EAAAiB,EAAA,CAAA,CACF,EACF,SAAA,QACD,CAAA,EAEDzoJ,EACAw9I,GAAC,CAAA,QAAA,YACS,SAAA0K,EACE,QAAA,IAAA,CAERxD,GAAa,EACf,SAAA,QACD,CAAA,CAED,CAAA,CAAA,CAAA,CAAA,CAGN,CAAA,CAAA,CAGN;;;;;;;o6BCzkBA,SAAA4E,GAAA7tK,EAAA,CAGE,KAAA,CAAA,OAAAgnK,CAAA,EAAAhnK,EACA,OAAA+mB,EAAAC,GAAA,CAAA,SAAA,CAEIzC,EAAAijJ,GAAA,CAAA,SAAAzgJ,EAAAy0D,GAAA,CAAA,UAAA,MAAA,WAAA,SAAA,IAAA,MAAA,SAAA,CAC2D,8CAAAj3D,EAAAkjJ,GAAA,CAAA,GAAA,CAAA,SAAA,CAAA,EAAA,EAE7BljJ,EAAA5Y,GAAA,CAAA,QAAAq7J,EAAA,SAAAziJ,EAAAwgD,GAAA,CAAA,KAAA,QAAA,KAAA,GAAA,GAAA,CAAA,MAAA,UAAA,CAAA,CAAA,EAAA,CAG1B,CAAA,CAAA,CAAA,CAAA,EAEJxgD,EAAAmjJ,GAAA,CAAA,SAAAnjJ,EAAA8/C,GAAA,CAAA,QAAA,QAAA,SAAA,uJAAA,CAAA,CAAA,CAAA,EAQA9/C,EAAAojJ,GAAA,CAAA,SAAApjJ,EAAAw9I,GAAA,CAAA,QAAA,YAAA,QAAAiF,EAAA,SAAA,QAAA,CAAA,CAAA,CAAA,CAKA,CAAA,CAAA,CAGN,mOCxBA,SAAA8G,GAAA9tK,EAAA,CAGE,KAAA,CAAA,kBAAA+tK,EAAA,SAAAzoJ,EAAA,OAAA0hJ,CAAA,EAAAhnK,EACA,CAAA,YAAA4kB,GAAAO,KAEA,CAAA,KAAA6oJ,EAAA,UAAAC,CAAA,EAAAC,GAAA,OAAAH,EAAA,EAAA,CAAA,EAGAI,EAAAH,GAAA,YAAAA,EAAA,WAEA,CAAAI,EAAAC,CAAA,EAAA/nJ,EAAA,SAAA,EAAA,EAGA,IAAAgoJ,EAAA,GACA,OAAA,SAAA,WAAA,mBAAA,OAAA,SAAA,WAAA,sBAIEA,EAAA,iBAEAA,EAAA,iCAGF,MAAAC,EAAA,IAAA,CACE,OAAA,KAAO,GAAAnpG,GAAA,mCAAA2oG,EAAA,qBAAAzoJ,GACmG,CAC1G,EAEFkpJ,EAAA,IAAA,CACED,IAEAvH,GACEA,GACF,EAGFyH,EAAAV,EAAA,eAEA,IAAAW,EAEA,OAAA9pJ,GAAA,CAAAupJ,IACEO,EAAA,CAAU,CACR,QAAA,WACW,QAAAF,EACA,SAAAF,CACC,EACZ,CACA,QAAA,OACW,QAAAtH,EACA,SAAA,iBACC,CACZ,GAIJziJ,EACEoqJ,GAAC,CAAA,cAAA,oCACc,OAAAV,EAAAW,GAAA,QAAAT,EAAAS,GAAA,SAAAA,GAAA,OAMe,QAAAF,EAE5B,SAAAP,EAAApnJ,EAAAC,GAAA,CAAA,SAAA,CAIID,EAAAs9C,GAAA,CAAA,QAAA,QAAA,SAAA,CAA8B,8CAAA,IACgB9/C,EAC5ConJ,GAAC,CAAA,KAAA,SACO,QAAA,IAAA0C,EAEJ,CAAAD,CACG,EACH,SAAAA,EAAA,oBAAA,mBAKE,CAAA,CACN,EAAA,EACFA,GAAA7pJ,EAAAkjJ,GAAA,CAAA,GAAA,CAAA,GAAA,CAAA,EAAA,SAAAljJ,EAAAgG,GAAA,CAAA,SAAAkkJ,CAAA,CAAA,CAAA,CAAA,CAIE,CAAA,CAAA,EAAAlqJ,EAAAgG,GAAA,CAAA,SAAAkkJ,CAAA,CAAA,CAIuC,CAAA,CAInD;;;;ofC1FA,SAAAI,GAAA7uK,EAAA,iBAGE,KAAA,CAAA,kBAAA+tK,EAAA,OAAA/G,EAAA,gBAAA8H,CAAA,EAAA9uK,EACA,CAAA,KAAAg9F,CAAA,EAAA8qE,GAA2BiG,EAAA,GAAA,SAAA,CACK,EAEhC,CAAA,KAAAC,EAAA,UAAAloJ,CAAA,EAAAooJ,GACE,OAAAH,EAAA,EAAA,CAC6B,EAE/B,CAAA,OAAAgB,CAAA,EAAAC,GAAA,CAAuE,QAAA/pJ,GAAA,CAEnE,QAAA,MAAA,uCAAAA,CAAA,EACAiiJ,EAAA,CAAS,IAAA,QACF,QAAAngJ,EAAAC,GAAA,CAAA,SAAA,CAGDzC,EAAA,SAAA,CAAA,SAAA,2CAAA,CAAA,EAAiDA,EAAA,KAAA,EAAA,EAC7C,yBAAE,EAAA,CAER,CAAA,CAEH,CACH,CAAA,EAGF,CAAA0qJ,EAAAC,CAAA,EAAA5oJ,EAAA,SAAA,EAAA,EACA,CAAA2gJ,EAAAC,CAAA,EAAA5gJ,EAAA,SAAA,EAEA6nJ,EAAAH,GAAA,YAAAA,EAAA,WAEA,IAAAmB,EAAA5qJ,EAAAyC,GAAA,CAAA,CAAA,EAEAg2E,IACEmyE,EAAApoJ,EAAA,MAAA,CAAA,SAAA,CAGMxC,EAAAgG,GAAC,CAAA,OAAAyyE,EAAA,WACkB,QAAAA,EAAA,cACC,WAAAA,EAAA,eACG,CAAA,EACvBiqE,GAAA1iJ,EAKE0C,GAAC,CAAA,UAAA,gCACY,SAAAggJ,EAAA,IACK,SAAAA,EAAA,OAET,CAAA,IACTz3H,EAAAw+H,GAAA,YAAAA,EAAA,0BAAA,YAAAx+H,EAAA,SAAA4/H,GAAA,WAAA7qJ,EAAA0C,GAAA,CAAA,UAAA,gCAAA,SAAA,OAAA,SAAA1C,EAAA,SAAA,CAAA,SAAA,2CAAA,CAAA,EAAA,IAOFysB,EAAAg9H,GAAA,YAAAA,EAAA,0BAAA,YAAAh9H,EAAA,SAAAo+H,GAAA,UAAAjB,GAAA5pJ,EAKE0C,GAAC,CAAA,UAAA,gCACY,SAAA,UACD,SAAA1C,EAAA,SAAA,CAAA,SAAA,6CAAA,CAAA,CAEyC,CAAA,IACrDwjC,EAAAimH,GAAA,YAAAA,EAAA,0BAAA,YAAAjmH,EAAA,SAAAqnH,GAAA,UAAA,CAAAjB,GAAA5pJ,EAKA0C,GAAC,CAAA,UAAA,gCACY,SAAA,UACD,SAAA1C,EAAA,SAAA,CAAA,SAAA,4CAAA,CAAA,CAEwC,CAAA,IACpDyjC,EAAAgmH,GAAA,YAAAA,EAAA,0BAAA,YAAAhmH,EAAA,SAAAonH,GAAA,UAAA7qJ,EAAA0C,GAAA,CAAA,UAAA,gCAAA,SAAA,QAAA,SAAAF,EAAAC,GAAA,CAAA,SAAA,CAMEzC,EAAA,SAAA,CAAA,SAAA,6CAAA,CAAA,EAAmDA,EAAA,KAAA,EAAA,GAC/CypJ,GAAA,YAAAA,EAAA,wBAAA,iBAAA,EAEiB,CAAA,CAAA,CAAA,CAAA,IAEzB/lH,EAAA+lH,GAAA,YAAAA,EAAA,0BAAA,YAAA/lH,EAAA,SAAAmnH,GAAA,WAAA7qJ,EAIA0C,GAAC,CAAA,UAAA,gCACY,SAAA,UACD,SAAA1C,EAAA,SAAA,CAAA,SAAA,6CAAA,CAAA,CAEyC,CAAA,CACrD,CAAA,CAAA,GAMR,MAAAmqJ,EAAA,CAAA,EAEAV,IACEA,EAAA,yBAAA,MACEU,EAAA,KAAA,CAAa,QAAA,WACF,QAAAI,EACA,SAAA,gBACC,CAAA,EAEZJ,EAAA,KAAA,CAAa,QAAA,OACF,QAAA1H,EACA,SAAA,iBACC,CAAA,GACX,CAEDoI,GAAA,SACkBA,GAAA,SACAA,GAAA,SACA,EAAA,SAAApB,EAAA,wBAAA,KAAA,EAGlBU,EAAA,KAAA,CAAa,QAAA,WACF,QAAAI,EACA,SAAA,gBACC,CAAA,EACXd,EAAA,wBAAA,QAAAoB,GAAA,WAKDV,EAAA,KAAA,CAAa,QAAA,WACF,QAAA,IAAA,CAEPK,EAAA,CAAwB,aAAAf,EAAA,wBAAA,aAE6B,oBAAA,OAAAD,EAAA,EAAA,CACH,CAAA,CACjD,EACH,SAAA,gBACU,CAAA,GAKhB,IAAAsB,EAAAT,GAAA,QAEA,GAAA,CAAA9oJ,EACE,QAAA+mI,EAAAmhB,GAAA,YAAAA,EAAA,0BAAA,YAAAnhB,EAAA,MAAA,CAAiE,KAAAuiB,GAAA,SAE7DC,EAAArB,GAAA,MAAAA,EAAA,WAAAY,GAAA,SAAAA,GAAA,OAGA,MAAA,KAAAQ,GAAA,UAEAC,EAAAT,GAAA,QACA,MAAA,KAAAQ,GAAA,SACmB,KAAAA,GAAA,UACA,QAEnBC,EAAAT,GAAA,MAA6C,CAInD,OAAA7nJ,EACE4nJ,GAAC,CAAA,cAAA,kCACa,OAAAU,EACJ,QAAAX,EACR,SAAA,CAGC,CAAAP,GAAA5pJ,EAAAyC,GAAA,CAAA,SAAAmoJ,CAAA,CAAA,EAA2BhB,GAAApnJ,EAAAC,GAAA,CAAA,SAAA,CAGxBD,EAAAs9C,GAAA,CAAA,QAAA,QAAA,SAAA,CAA8B,8CAAA,IACgB9/C,EAC5ConJ,GAAC,CAAA,KAAA,SACO,QAAA,IAAA,CAEJuD,EAAA,CAAAD,CAAA,CAA6B,EAC/B,SAAAA,EAAA,aAAA,YAE+B,CAAA,CACjC,EAAA,EACF,CAAAA,GAAA1qJ,EAAAkjJ,GAAA,CAAA,GAAA,CAAA,GAAA,CAAA,EAAA,SAAA0H,EAAA,CACgD,EAAA,CAClD,CAAA,CAAA,CAIR;yjBC/LA,SAAAG,GAAAtvK,EAAA,CAGE,KAAA,CAAA,kBAAA+tK,EAAA,OAAA/G,CAAA,EAAAhnK,EACA,CAAA,YAAA4kB,GAAAO,KACAoqJ,EAAA,CAAA,CAAA3qJ,EACA4qJ,EAAAC,GAAA1B,CAAA,EAEA,CAAA,KAAAxE,CAAA,EAAAC,GAAA,EACA,CAAA,KAAAkG,CAAA,EAAAC,GAAA,EAEAC,EAAAL,GAAAG,GAAA,CAAAF,GAAAzB,EAAA,yBAAA,CAAA2B,EAAA,YAMAG,EAAAN,GAAAG,GAAA,CAAAF,GAAAzB,EAAA,4BAAA,CAAA2B,EAAA,WAOA,CAAA,KAAA1B,EAAA,UAAAC,CAAA,EAAAC,GAAA,OAAAH,EAAA,EAAA,CAAA,EAGAI,EAAAH,GAAA,YAAAA,EAAA,WAEA,CAAA,KAAAhxE,CAAA,EAAA8qE,GAA2BiG,EAAA,GAAA,SAAA,EACK,CAAA,QAAA,CAAAyB,CAAA,CAEL,EAG3B,CAAAM,EAAAC,CAAA,EAAAzpJ,EAAA,SAAA,EAAA,EAEA,CAAM,OAAA0pJ,EACI,UAAAlqJ,EACR,MAAAs8F,CACA,EAAA6tD,GAAA,CAC0B,QAAA7zE,GAAA,CAExB,QAAA,MAAA,mCAAAA,CAAA,CAAqD,CACvD,CAAA,EAGFoyE,EAAA,IAAA,CACE,MAAA0B,EAAA,CAA8C,cAAAnC,GAAA,YAAAA,EAAA,GACV,YAAAxE,GAAA,YAAAA,EAAA,QACf,WAAAA,GAAA,YAAAA,EAAA,QACD,MAAA4G,GAAA,QACG,EAGvBH,EAAAE,CAAA,CAA0C,EAG5C,IAAAE,EAAA7rJ,EAAAyC,GAAA,CAAA,CAAA,EACAwoJ,EACEY,EAAA7rJ,EAAAgG,GAAA,CAAA,SAAAwjJ,EAAA,UAAA,CAAA,EAAyE/wE,IAEzEozE,EAAA7rJ,EACEgG,GAAC,CAAA,OAAAyyE,GAAA,YAAAA,EAAA,WACmB,QAAAA,GAAA,YAAAA,EAAA,cACC,WAAAA,GAAA,YAAAA,EAAA,eACG,CAAA,GAI5B,IAAA0xE,EAEA,GAAA9pJ,GAAA,CAAAupJ,EAAA,CACE,IAAAG,EAAA,wBACA+B,EAAA,IACAT,GAAAC,KACEQ,EAAA,GACA/B,EAAA,YAAAsB,EAAA,eAAA,KAAAA,GAAAC,EAAA,QAAA,KAAAA,EAAA,gCAAA,gBAWFnB,EAAA,CAAU,CACR,QAAA,WACW,QAAAF,EACA,SAAAF,EACC,SAAAxoJ,GAAAuqJ,CACa,EACzB,CACA,QAAA,OACW,QAAArJ,EACA,SAAA,iBACC,CACZ,EAIJ,OAAAjgJ,EACE4nJ,GAAC,CAAA,cAAA,gCACa,OAAAV,EAAAW,GAAA,QAAAT,EAAAS,GAAA,SAAAA,GAAA,OAMgB,QAAAF,EAE5B,SAAA,CAECP,EAAApnJ,EAAAC,GAAA,CAAA,SAAA,CAEGD,EAAAs9C,GAAA,CAAA,QAAA,QAAA,SAAA,CAA8B,sCAAA,IACQ9/C,EAAAonJ,GAAA,CAAA,KAAA,SAAA,QAAA,IAAAoE,EAAA,CAAAD,CAAA,EAAA,SAAAA,EAAA,aAAA,YAAA,CAAA,CAGpC,EAAA,EACFA,GAAAvrJ,EAAAkjJ,GAAA,CAAA,GAAA,CAAA,GAAA,CAAA,EAAA,SAAA2I,EAAA,CACiD,CAAA,CAAA,EAAAA,EAGnDhuD,GAAA79F,EAAA0C,GAAA,CAAA,SAAA,QAAA,SAAAm7F,EAAA,OAAA,CAE8C,CAAA,CAAA,CAGtD;;;oYChJO,SAAAkuD,GAAAtwK,EAAA,CAGL,KAAA,CAAA,kBAAA+tK,EAAA,SAAAzoJ,EAAA,OAAA0hJ,EAAA,gBAAA8H,CAAA,EAAA9uK,EACA,OAAA+tK,EAAA,aAAA,CAAwC,IAAA,2DACjC,IAAA,6DAEH,OAAAxpJ,EACE+qJ,GAAC,CAAA,kBAAAvB,EACC,OAAA/G,CACA,CAAA,EACF,IAAA,sDAGF,OAAAziJ,EACEupJ,GAAC,CAAA,kBAAAC,EACC,OAAA/G,EACA,SAAA1hJ,CACA,CAAA,EACF,IAAA,6DAGF,OAAAf,EACEsqJ,GAAC,CAAA,kBAAAd,EACC,OAAA/G,EACA,SAAA1hJ,EACA,gBAAA,IAAA,CAEEwpJ,EAAAf,CAAA,CAAiC,CACnC,CAAA,EACF,QAIF,eAAA,KAAQ,uCACNA,EAAA,YACkB,EAEpBxpJ,EAAAyC,GAAA,CAAA,CAAA,CAAS,CAEf,opBCJA,MAAAupJ,GAAA,IAAA,IAAA,CAEE,2DACA,6DACA,6DACA,qDAEF,CAAA,EAEAC,GAAA7mK,GAAiE06D,GAC/D,CACA,MAAA,wBACS,CAEX,EAAA,CAAA,CAAA,MAAAx6D,MAAA,CAAkB,UAAAA,EAAA,QAAA,CAAA,EACU,aAAAA,EAAA,QAAA,CAAA,EACG,cAAAA,EAAA,QAAA,CAAA,EACC,SAAA,OACpB,WAAA,OACE,aAAA,YACE,YAAAA,EAAA,QAAA,KAAA,GAAA,CAEhB,EAAA,EACA2mK,GAAA,aAAA,CAAsC,GAAAA,GAAA,aACV,QAAA,IAE5B,EAEO,MAAAC,GAAAC,GAGLA,EAAA,OAAAC,EAAA,EAAA,OAAA,EAGFA,GAAA5C,GACE,CAAAwC,GAAA,IAAAxC,EAAA,YAAA,EA6BF,SAAA6C,GAAA5wK,EAAA,OAGE,KAAA,CAAM,SAAAslB,EACJ,OAAAurJ,EACA,OAAA7J,EACA,2BAAA8J,EACA,cAAAC,EACA,sBAAAC,EACA,kBAAAC,EACA,YAAAC,EAAA,qBACc,EAAAlxK,EAEhB,CAAA,YAAA4kB,GAAAO,KACAoqJ,EAAA,CAAA,CAAA3qJ,EACA,CAAAusJ,EAAAC,CAAA,EAAA9qJ,EAAA,SAA8C,CAC5C,EAEF,CAAA6hJ,EAAAkJ,CAAA,EAAA/qJ,EAAA,SAAA,EAEA,CAAAwlJ,EAAAwF,CAAA,EAAAhrJ,EAAA,SAAA,EAAA,EACA,CAAA+lJ,EAAAkF,CAAA,EAAAjrJ,EAAA,SAAA,EAIAkrJ,EAAA,CAAgE,IAAA,CAAAlsJ,CAAA,EAChD,KAAA,eACR,EAERmsJ,EAAAzJ,KAEA0J,EAAAC,GAAAH,CAAA,EAEA,CAAA,KAAAI,CAAA,EAAAC,GAA6ChB,EAC3C,CACA,QAAA,GAAA,CAAAC,GAAAD,EACwD,CACxD,EAEF,CAAA,KAAAiB,GAAAC,GAAAzsJ,EAAA,CAC8C,QAAA,GAAA,CAAAwrJ,GAAAxrJ,GAAA,CAAAurJ,EACyB,CAAA,EAOvEH,EAAAI,IAJAD,EAAAe,EAAAE,GAWA,CAAA,KAAAE,CAAA,EAAAC,IACEvB,GAAA,CAAA,GAAA,IAAAwB,GAAA,OAAAA,EAAA,EAAA,CAAA,EACoD,CAClD,QAAA,CAAA,CAAAxB,EACa,UAAA,GAEA,CACb,EAGJyB,EAAA/iK,GAAA,CACE,KAAA,CAAM,4BAAAgjK,EACJ,KAAAr1F,EACA,kBAAAs1F,EACA,kBAAAC,CACmB,EAAAljK,EAErBgjK,GAEEf,EAAAe,CAAA,EAEFC,GACEf,EAAAe,CAAA,EAEFC,GACEf,EAAAe,CAAA,EAEFlB,EAAAr0F,CAAA,CAAuB,EAGzBw1F,EAAA7B,GAAA,YAAAA,EAAA,KAAuD3C,GAAAA,EAAA,eAAA,8DAAAA,EAAA,iBAOvDyE,EAAA9B,GAAA,YAAAA,EAAA,KAAuD3C,IAAAA,EAAA,eAAA,8DAAAA,EAAA,eAAA,6DAAAA,EAAA,yBASvD0E,EAAA/B,GAAA,YAAAA,EAAA,KAA2D3C,IAAAA,EAAA,eAAA,8DAAAA,EAAA,eAAA,6DAAAA,EAAA,4BAS3D2E,EAAAn3J,EAAAA,QAAA,IAAA,OAEE,OAAA01J,IACAD,EACEjqJ,EAAAC,GAAA,CAAA,SAAA,CAEIzC,EAAAwgD,GAAA,CAAA,KAAA,OAAA,GAAA,CAAA,MAAA,MAAA,EAAA,EAA4C,IAAEisG,EAAE,IAAuB,SAAI,CAAA,CAAA,EAIjFjqJ,EAAAC,GAAA,CAAA,SAAA,CAEIzC,EAAAwgD,GAAA,CAAA,KAAA,OAAA,GAAA,CAAA,MAAA,MAAA,EAAA,EAA4C,IAAGxgD,EAC/ConJ,GAAC,CAAA,KAAA,GAAAvmG,GAAA,mBAAA9/C,IACwD,UAAAkqB,EAAAkiI,EAAA,CAAA,IAAA,YAAAliI,EAAA,IAEhC,CAAA,CACzB,CAAA,CAAA,EACF,EAAA,CAAAlqB,EAAAosJ,EAAAV,EAAAC,CAAA,CAAA,EAIJvpJ,EAAAX,EAAAC,GAAA,CAAA,SAAA,CAEIzC,EAAAijJ,GAAA,CAAA,SAAAzgJ,EAAAy0D,GAAA,CAAA,UAAA,MAAA,WAAA,SAAA,IAAA,MAAA,SAAA,CAEK01F,EAAA3sJ,EAAAkjJ,GAAA,CAAA,GAAA,CAAA,SAAA,CAAA,EAAA,EACyBljJ,EAAA5Y,GAAA,CAAA,QAAAq7J,EAAA,SAAAziJ,EAAAwgD,GAAA,CAAA,KAAA,QAAA,KAAA,GAAA,GAAA,CAAA,MAAA,UAAA,CAAA,CAAA,EAAA,CAG1B,CAAA,CAAA,CAAA,CAAA,EAEJh+C,EAAA2gJ,GAAA,CAAA,SAAA,CAGEnjJ,EAAAisJ,GAAA,CAAA,GAAA,CAAA,GAAA,CAAA,EAAA,SAAA,4BAAA,EAEAjsJ,EAAA8/C,GAAA,CAAA,QAAA,QAAA,UAAA,OAAA,SAAAquG,EAAA,EAGAnuJ,EAAAisJ,GAAA,CAAA,SAAA,uBAAA,CAAA,EAC6CjsJ,EAAAouJ,GAAA,EAAA,EACnBH,GAAAjuJ,EAAAquJ,GAAA,EAAA,EAC+BH,GAAAluJ,EAAAsuJ,GAAA,EAAA,EACCN,GAAAhuJ,EAAAuuJ,GAAA,EAAA,GACMtjI,EAAAwiI,GAAA,YAAAA,EAAA,IAAAzvK,GAAAmuK,EAAA,KAAAwB,GAAA3vK,IAAA,OAAA2vK,EAAA,EAAA,CAAA,KAAA,YAAA1iI,EAAA,IAAAu+H,GAI5DxpJ,EACE+rJ,GAAC,CAAA,kBAAAvC,EAEC,SAAAzoJ,EACA,OAAA0hJ,EACA,gBAAA+L,GAAA,CAKEZ,EAAA,CAAwB,4BAAAY,EACO,KAJ/BxD,EAAA,EAAA,CAKQ,CAAA,CACP,CACH,EAAAxB,EAAA,EAZuB,EAe5B,EAAA,CACL,CAAA,CAAA,EAIJiF,EAAA,CACE,EACE,CACA,EAAA,SAAA7B,CAAA,GAAAM,EAAA,KAAA,KAKJ,IAAAwB,EAAAvrJ,EACA,GAAAqpJ,EAAA,CACE,OAAAI,EAAA,CAAyB,IAAA,GAErB8B,EAAA1uJ,EACE0jJ,GAAC,CAAA,4BAAAE,EACC,OAAA+K,GAAA,CAEEf,EAAA,CAAwB,4BAAAhK,EACtB,KAAA,EACM,kBAAA+K,EAAA,EAC6B,CAAA,CACpC,EACH,OAAAlM,CACA,CAAA,EAGJ,MAAA,IAAA,GAEAiM,EAAA1uJ,EACEqnJ,GAAC,CAAA,kBAAAE,EACC,4BAAA3D,EACA,SAAA7iJ,EACA,OAAA0hJ,EACA,SAAAmM,GAAA,CAEEhB,EAAA,CAAwB,KAAA,EAChB,kBAAAgB,CACa,CAAA,CACpB,EACH,oBAAA,IAAA,CAEEhB,EAAA,CAAA,KAAA,CAAA,CAAA,CAA0D,CAC5D,CAAA,EAGJ,MAAA,IAAA,GAEAc,EAAA1uJ,EACEuiJ,GAAC,CAAA,0BAAAuF,EAC4B,OAAArF,CAC3B,CAAA,EAGJ,MAAA,IAAA,GAEAiM,EAAAlsJ,EAAAC,GAAA,CAAA,SAAA,CAEIzC,EAAAijJ,GAAA,CAAA,SAAA,eAAA,CAAA,EAA0BjjJ,EAAAmjJ,GAAA,CAAA,UAAA,qCAAA,SAAAnjJ,EAExB6uJ,GAAC,CAAA,gBAAA,IAAA,CAEG,OAAA,SAAA,QAAuB,CACzB,CAAA,EAAA,CAEJ,CAAA,CAAA,EAGJ,MAAA,IAAA,GAEAH,EAAA1uJ,EAAAspJ,GAAA,CAAA,OAAA7G,CAAA,CAAA,EACA,MAAA,IAAA,GAEAiM,EAAAvrJ,EACA,MAAA,QAEAurJ,EAAAvrJ,CAAgB,CAEpB,OAAAnD,EAAA8uJ,GAAA,CAAA,SAAAL,EAAA,UAAA,GAAA,KAAA,GAAA,QAAAhM,EAAA,SAAAiM,CAAA,CAAA,EAMF,OAAA1uJ,EAAAkjJ,GAAA,CAAA,SAAAwL,CAAA,CAAA,CACF;;;;mlCC/WO,MAAAK,GAAA,oDAEAC,GAAA,oDAEAC,GAAA,yDAEAC,GAAA,oBAEAC,GAAA,CAAA,CAAA,oBAAA5pJ,EAAA,MAAAlS,KAAA,CAGL,KAAA,CAAA,KAAAs6J,EAAA,UAAApsJ,CAAA,EAAA6tJ,GAAgC7pJ,EAC9B,CAAA,iBAAA,EAAA,CACyB,EAE3B,CAAA8pJ,EAAAC,CAAA,EAAAvtJ,EAAA,SAAA,EAAA,EAEA,IAAAq3E,EACAk9B,EAAA,GACA12D,EAAA,GAEA,GAAA,CAAAr+C,GAAAosJ,EACE,OAAAA,EAAA,aAAA,CAAyB,IAAA,6DAErBv0E,EAAA21E,GACAz4C,EAAAi5C,GACA3vG,EAAA+tG,EAAA,MAAA,GACA,MAAA,IAAA,2DAAA,CAEAv0E,EAAA41E,GACA,MAAAQ,EAAA7B,EACA6B,EAAA,2BACEl5C,EAAAm5C,GAAWD,EAAA,wBAEXl5C,EAAAo5C,GAEAp5C,EAAAi5C,GAEF3vG,EAAA+tG,EAAA,MAAA,GACA,KAAA,CACF,IAAA,6DACK,IAAA,sDAEHv0E,EAAA61E,GACA34C,EAAAm5C,GACA7vG,EAAA+tG,EAAA,MAAA,GACA,MAAA,IAAA,uDAEAv0E,EAAA81E,GACA54C,EAAAm5C,GACA7vG,EAAA,0EAEA,KAAA,CAIN,OAAAp9C,EAAAC,GAAA,CAAA,SAAA,CAEIzC,EAAA2vJ,GAAC,CAAA,UAAApuJ,EACC,MAAA63E,EACA,YAAAx5B,EACA,SAAA02D,EACA,MAAAjjH,EACA,WAAA2M,EAEEC,GAAC,CAAA,QAAA,YACS,QAAA,IAAAqvJ,EAAA,EAAA,EACyC,SAAA,OAClD,CAAA,CAED,CAAA,EAEJD,GAAA1B,GAAA3tJ,EAEEqsJ,GAAC,CAAA,SAAAsB,EAAA,WAAA,CAAA,EAAA,GAC4B,2BAAA,CAAAA,CAAA,EACI,cAAA,GAChB,sBAAAt6J,EACQ,OAAA,IAAAi8J,EAAA,EAAA,CAC0B,CAAA,CACnD,CAAA,CAAA,CAIR,mVCzFO,MAAAM,GAAA,qCAEA,SAAAC,GAAAp0K,EAAA,CAGL,KAAA,CAAA,oBAAA8pB,EAAA,MAAAlS,CAAA,EAAA5X,EACA,CAAA,KAAAkyK,EAAA,UAAApsJ,CAAA,EAAA6tJ,GAAgC7pJ,EAC9B,CACA,iBAAA,EACoB,CACpB,EAGF,CAAA8pJ,EAAAC,CAAA,EAAAvtJ,EAAA,SAAA,EAAA,EAGA,OAAAS,EAAAC,GAAA,CAAA,SAAA,CAEIzC,EAAA2vJ,GAAC,CAAA,UAAApuJ,EACC,MAAAquJ,GACO,SAAAL,GACG,aAAA5B,GAAA,YAAAA,EAAA,OAAA,GACe,MAAAt6J,EACzB,WAAA2M,EAEEC,GAAC,CAAA,QAAA,YACS,QAAA,IAAAqvJ,EAAA,EAAA,EACyC,SAAA,OAClD,CAAA,CAED,CAAA,EAEJD,GAAA1B,GAAA3tJ,EAEEqsJ,GAAC,CAAA,SAAAsB,EAAA,WAAA,CAAA,EAAA,GAC4B,2BAAA,CAAAA,CAAA,EACI,cAAA,GAChB,sBAAAt6J,EACQ,OAAA,IAAAi8J,EAAA,EAAA,CAC0B,CAAA,CACnD,CAAA,CAAA,CAIR,oVC1CO,SAAAQ,GAAAr0K,EAAA,CACL,KAAA,CAAA,OAAAy8H,EAAA,MAAA7kH,EAAA,6BAAAytJ,CAAA,EAAArlK,EACA,OAAAy8H,EAAA,aAAA,CAA6B,IAAA,gEAEzB,OAAAl4G,EACEmvJ,GAAC,CAAA,oBAAAj3C,EAAA,oBAE6B,MAAA7kH,CAC5B,EAAA6kH,EAAA,mBAFY,EAKlB,IAAA,0DAEE,OAAAl4G,EACE+vJ,GAAC,CAAA,SAAA,MAAA73C,EAAA,eAEwB,MAAA7kH,EACvB,6BAAAytJ,CACA,EAAA5oC,EAAA,YAHY,EAMlB,IAAA,sDAEE,OAAAl4G,EACE6vJ,GAAC,CAAA,oBAAA33C,EAAA,oBAE6B,MAAA7kH,CAC5B,EAAA6kH,EAAA,mBAFY,EAKlB,QAIE,OAAAl4G,EAAAyC,GAAA,CAAA,CAAA,CAAS,CAEf,2jBCvCO,MAAAutJ,GAAAv0K,GAAA,CAGL,KAAA,CAAA,SAAAslB,EAAA,6BAAA+/I,CAAA,EAAArlK,EACA,CAAA,KAAAw0K,CAAA,EAAA5wG,GAAAt+C,CAAA,EACAopJ,EAAA8F,GAAA,YAAAA,EAAA,QAEA,OAAAjwJ,EAAAyC,GAAA,CAAA,SAAA0nJ,GAAAA,EAAA,OAAA,GAAAnqJ,EAAA,MAAA,CAAA,UAAA,wBAAA,SAAAmqJ,EAAA,IAAA,CAAAjyC,EAAA73H,IAKU63H,EACEl4G,EACE8vJ,GAAC,CAAA,OAAA53C,EAEC,6BAAA4oC,CACA,EAAAzgK,CAFK,EAKJ,EAAO,CAAA,CAAA,CAAA,CAAA,CAM1B,6XC3BO,MAAA6vK,GAAA,IAAA,CACL,KAAA,CAAA,MAAAryD,EAAA,oBAAAngB,EAAA,6BAAAojE,CAAA,EAAA1mE,GAAA,EAEA,CAAA,SAAAr5E,GAAA28E,IACA,CAAA,YAAAr9E,GAAAO,KAEA,OAAAi9F,GAAA,YAAAA,EAAA,SAAA,KAAAx9F,EACEL,EACEgwJ,GAAC,CAAA,SAAAjvJ,EACC,6BAAA+/I,CACA,CAAA,EAIJ9gJ,EAAAmwJ,GAAA,CAAA,MAAAtyD,CAAA,CAAA,CAEJ,+OCsBA,MAAAuyD,WAAAv5J,GAAA,SAAA,CAES,YAAApb,EAAA,CAGL,MAAAA,CAAA,EALmEu8F,GAAA,sBAC9DA,GAAA,qBAoCPA,GAAA,8BAAA54F,GAAA,SAGE,GAAA6rC,EAAA,KAAA,cAAA,UAAA,MAAAA,EAAA,SAAA7rC,GAAA,YAAAA,EAAA,UAEqD,GAAAqtC,EAAA,KAAA,aAAA,UAAA,MAAAA,EAAA,SAAArtC,GAAA,YAAAA,EAAA,WAInD,KAAA,MAAA,iBACE,KAAA,SAAA,CAAc,iBAAA,EACM,CAAA,EAGpB,KAAA,SAAA,CAAc,KAAA,EACN,CAAA,EAGZ,GACF44F,GAAA,cAAA54F,GAAA,iBAIEA,EAAA,eAAA,EACA,KAAA,CAAA,WAAA0gG,CAAA,EAAA,KAAA,MACA,GAAA,CAAA,WAAAT,CAAA,EAAA,KAAA,MACA,KAAA,CAAA,WAAAgxE,EAAA,aAAAxP,GAAA,KAAA,MACA,GAAAxhE,IAAA,GACE,GAAAgxE,EAEEhxE,EAAAgxE,EAAA,OAAwBC,GAAAA,KAAAzP,GAAA,YAAAA,EAAA,WACe,EAAA,CAAA,MACpC,CAIH,MAAA0P,GAAA/sH,GAAA/W,GAAAxB,EAAA,KAAA,MAAA,eAAA,YAAAA,EAAA,OAAA,YAAAwB,EAAA,eAAA,YAAA+W,EAAA,OAAA7Q,GAAAA,EAAA,QAAAkuH,GAAA,YAAAA,EAAA,aAAA,OAAAluH,GAAA,KAAA,kBAAAA,CAAA,GAIA0sD,GAAAkxE,GAAA,YAAAA,EAAA,GAAA,OAAA,GAGJ,KAAA,SAAA,CAAc,KAAA,EACN,CAAA,EAER,KAAA,CAAA,oBAAA1wE,EAAA,oBAAAnC,CAAA,EAAA,KAAA,MAAA,aAEAwC,EAAAxC,IAEA,CAAA,kBAAAyC,EAAA,CAAA,GAAAD,EAAA,MAEAswE,EAAArwE,EAAA,UAAAxtD,GACE,GAAA8tH,GAAA9tH,CAAA,GAAA+tH,GAAA/tH,CAAA,GAAAA,EAAA,aAAA0sD,EAOO,EAET,GAAAmxE,IAAA,GAAA,CAEE,MAAAC,GAAAnoB,GAAA5kG,GAAAD,EAAA,KAAA,MAAA,eAAA,YAAAA,EAAA,OAAA,YAAAC,EAAA,eAAA,YAAA4kG,EAAA,OAC+C31G,GAAAA,EAAA,OAAA0sD,GACzB,GAEtB,GAAAoxE,GAAA,MAAAA,EAAA,WAAA,SAAA,SAAA,CACE,MAAAC,EAAA,CACE,WAAArxE,EACE,SAAAsxE,GAAA,SACmC,OAAA,CAAA,IAAA7wE,IAAA,EACT,aAAA,0EAExB,EAENK,EAAA,KAAAuwE,CAAA,MAAkD,CAElD,MAAAE,EAAA,CAAmE,WAAAvxE,EACjE,SAAAwxE,GAAA,KAC0C,OAAA,CAAA,IAAA/wE,IAAA,EAChB,aAAA,mEAExB,EAEJK,EAAA,KAAAywE,CAAA,QAGDzwE,EAAAqwE,CAAA,EAAA,OAAA,KAAA,IAAA1wE,IAAA,EAMHI,EAAA,MAAA,kBAAAC,EACAN,EAAAK,CAAA,CAA6C,GAC/ClI,GAAA,oBAAA54F,GAAA,CAGE,KAAA,SAAA,CAAc,WAAAA,EAAA,cAAA,KACoB,CAAA,CACjC,GACH44F,GAAA,yBAAAy4E,GAAA,CAGE,OAAAA,GAAA,YAAAA,EAAA,WAAA,CAAiC,KAAA30E,GAAA,aACX,KAAAA,GAAA,SACA,KAAAA,GAAA,KACA,KAAAA,GAAA,UACA,KAAAA,GAAA,OAElB,MAAA,GAAO,QAEP,MAAA,EAAO,CACX,GACF9D,GAAA,mCAAAy4E,GAAA,CAGE,GAAA,KAAA,kBAAAA,CAAA,EAAA,CAEE,KAAA,CAAA,WAAAJ,CAAA,EAAA,KAAA,MACA,OAAAA,GAAA,YAAAA,EAAA,KAAA3vJ,GAAAA,KAAA+vJ,GAAA,YAAAA,EAAA,OAEF,MAAA,EAAO,GA3JP,KAAA,MAAA,CAAa,KAAA,GACL,iBAAA,GACY,WAAA,GACN,WAAA,KAAA,MAAA,eAAA,EAC4B,EAE1C,KAAA,cAAA55J,GAAA,YACA,KAAA,aAAAA,GAAA,WAAoC,CACtC,mBAAA,CAIE,SAAA,iBAAA,QAAA,KAAA,sBAAA,CAA8D,CAChE,mBAAApd,EAAA,eAGE,GAAAwxC,EAAAxxC,EAAA,4BAAA,MAAAwxC,EAAA,kBAAAwB,EAAA,KAAA,MAAA,4BAAA,MAAAA,EAAA,iBAIE,KAAA,SAAA,CAAc,KAAA,GACN,iBAAA,EACY,CAAA,GAEpBiX,GAAAD,GAAAD,EAAA,KAAA,gBAAA,YAAAA,EAAA,UAAA,YAAAC,EAAA,cAAA,WAAA,MAAAC,EAAA,QACF,CACF,sBAAA,CAIE,SAAA,oBAAA,QAAA,KAAA,sBAAA,CAAiE,CA8HnE,QAAA,OAGE,KAAA,CAAM,WAAA2sH,EACJ,aAAAxP,EACA,aAAA,CAAA,KAAAr6I,CAAA,EACqB,0BAAA,CAAA,cAAA+3E,EAAA,qBAAAa,CAAA,CAC4C,EAAA,KAAA,MAEnE,CAAA,WAAAU,EAAA,KAAAgxE,EAAA,WAAAzxE,CAAA,EAAA,KAAA,MACA,IAAA0xE,EAAA,CAAA,EAGA,OAAAV,EACEU,EAAAV,EAAA,IAAA19H,GAAA,OAAA,OAAA1H,EAAAzkB,GAAA,YAAAA,EAAA,eAAA,YAAAykB,EAAA,KAAA+lI,GAAAA,EAAA,OAAAr+H,GAAA,EAAA,OAAA,KAAA,2BAAA,EAAA,IAAAA,GAAAA,EAAA,IAAA,EAGqBnsB,GAAA,MAAAA,EAAA,eAErBuqJ,GAAA9lI,EAAAzkB,EAAA,eAAA,YAAAykB,EAAA,OAAA,KAAA,mBAAA,IAAA0H,GAAAA,EAAA,OAMFo+H,EAAA,SAAAlQ,GAAA,MAAAA,EAAA,cACEkQ,EAAAA,EAAA,OAA8Bp+H,GAAAA,KAAAkuH,GAAA,YAAAA,EAAA,WACD,GAG/Br+I,EAAA,MAAA,CAAA,UAAA,0BAAA,SAAA,CAEIxC,EAAAigF,GAAA,CAAA,GAAA1B,EAAA,SAAA/7E,EACE,OAAC,CAAA,UAAA,qCACW,SAAA,KAAA,OACK,QAAA,IAAA,CAEb,KAAA,SAAA,CAAA,KAAA,EAAA,CAAA,CAA4B,EAC9B,IAAA,KAAA,cACU,SAAA,CAEVxC,EAAA,OAAA,CAAA,UAAA,iDAAA,SAAAA,EAAAwgD,GAAA,CAAA,KAAA,QAAA,CAAA,CAAA,CAAA,EAEAxgD,EACA,QAAC,CAAA,SAAA,KAAA,aACgB,QAAA,IAAA,CAEb,KAAA,SAAA,CAAc,KAAA,EACN,CAAA,CACP,EACH,YAAA,qBACY,MAAA8/E,EACL,KAAA,MACF,CAAA,EACP,KAAA,MAAA,WAAA,OAAA,GAAA9/E,EAEE,SAAC,CAAA,UAAA,kDACW,KAAA,SACL,QAAA,IAAA,CAEH,KAAA,SAAA,CAAc,WAAA,EACA,CAAA,CACb,EACH,SAAAA,EAAAwgD,GAAA,CAAA,KAAA,OAAA,CAAA,CAEsB,CAAA,CACxB,CAAA,CAAA,EAAA,EAGNxgD,EAAA,MAAA,CAAA,UAAA,wCAAA,SAAAA,EAEEixJ,GAAC,CAAA,GAAAH,EACK,WAAA,4CACO,QAAA,CAAA,MAAA,EAAA,KAAA,GAAA,EACoB,SAAAtuJ,EAE/B,OAAC,CAAA,IAAA,KAAA,aACW,UAAA,iFACA,SAAA,CAEVxC,EAAA,IAAA,CAAA,UAAA,eAAA,SAAAA,EAAA,IAAA,CAAA,SAAA,oBAAA,CAAA,CAAA,CAAA,EAEA+wJ,EAAA,IAAA,CAAA/4J,EAAA3X,IAAA,CAEE,MAAA6wK,EAAA9xE,EAAApnF,CAAA,EAGA,OAAAgI,EAAA,MAAA,CAAA,UAAA,QAAA,SAAAA,EAAA,QAAA,CAAA,SAAAwC,EAAA,OAAA,CAAA,SAAA,CAIQxC,EAAA,QAAC,CAAA,GAAAhI,EACK,KAAA,QACC,MAAAA,EACE,QATjBqnF,IAAA,IAAAh/F,IAAA,GAAAg/F,IAAArnF,EAUmB,QAAA,IAAA,YAEPwrC,GAAA/W,GAAAxB,EAAA,KAAA,gBAAA,YAAAA,EAAA,UAAA,YAAAwB,EAAA,cAAA,WAAA,MAAA+W,EAAA,QAGA,KAAA,SAAA,CAAc,WAAAxrC,CACA,CAAA,CACb,CACH,CAAA,EACFgI,EAAA,OAAA,CAAA,SAAAkxJ,CAAA,CAAA,CACmB,EAAA,CAAA,CAAA,CAAA,EAAA,gBAAAl5J,KAAA3X,GAAA,CAGzB,CAAA,CAEH,CAAA,CAAA,CACH,CAAA,EAAA,CAEJ,CAAA,CAAA,CACF,CAGN,05BC1TA,MAAA8wK,GAAA,uJAEAC,GAAA,iJAGOC,GAAA,CAAA,CAA4D,YAAA1xE,EAAAwxE,GACnD,QAAAvxE,EAAAwxE,EAEhB,IAAA,CACE,KAAA,CAAA,oBAAAvxE,EAAA,oBAAAnC,CAAA,EAAAtD,GAAA,EACA,CAAA,cAAA2D,GAAAb,KAEA,CAAAkgE,EAAAkU,CAAA,EAAAvvJ,EAAA,SAAA,EAAA,EACA1jB,EAAAujB,SAAA,IAAA,EACAS,OAAAA,EAAAA,UAAA,IAAA,OACE,GAAA07E,EAAA,CACE,MAAAwzE,EAAA7zE,IAAA,MAAA,IAEA4zE,EAAAC,CAAA,GACAtmI,EAAA5sC,EAAA,UAAA,MAAA4sC,EAAA,QACF,EAAA,CAAA8yD,EAAAL,CAAA,CAAA,EAkBF19E,EAAA,MAAA,CAAA,UAAA,6BAAA,SAAAA,EAAAigF,GAAA,CAAA,GAAAlC,EAAA,QAAA,CAAA,MAAA,IAAA,KAAA,GAAA,EAAA,SAAAv7E,EAAA,MAAA,CAAA,UAAA,iDAAA,SAAA,CAIQA,EAAA,OAAC,CAAA,UAAA,wCACW,SApBpBpjB,GAAA,CACEA,EAAA,eAAA,EACA,MAAA8gG,EAAAxC,IACAwC,EAAA,MAAA,IAAAk9D,EACAl9D,EAAA,MAAA,OAAA,EACAA,EAAA,MAAA,kBAAA,GACAA,EAAA,MAAA,eAAA,GACAL,EAAAK,CAAA,CAA6C,EAc3B,SAAA,CAEVlgF,EAAAwxJ,GAAA,CAAA,UAAA,mDAAA,CAAA,EAA6ExxJ,EAC7E,QAAC,CAAA,IAAA3hB,EACM,SAfjBe,GAAA,QACE6rC,EAAA5sC,EAAA,UAAA,MAAA4sC,EAAA,kBAAA,IACAqmI,EAAAlyK,EAAA,cAAA,KAAA,CAAgC,EAcZ,YAAA,cACE,MAAAg+J,EACL,KAAA,MACF,CAAA,CACP,CAAA,CAAA,EACFp9I,EAAA,MAAA,CAAA,UAAA,0CAAA,SAAAA,EAEEgxE,GAAC,CAAA,aAAA2O,EACe,QAAAC,EACd,UAAA,OACU,CAAA,EAAA,CAEd,EAAA,CAAA,CAAA,CAAA,CAAA,CAKV,qlBCpEO,MAAA6xE,GAAA,UAEPtuJ,GAAAX,EAAAC,GAAA,CAAA,SAAA,CAEIzC,EAAA8/C,GAAA,CAAA,QAAA,aAAA,aAAA,OAAA,SAAA,wKAAA,EAIAt9C,EAAAs9C,GAAA,CAAA,QAAA,aAAA,SAAA,CACiC,wBAAA9/C,EAE/BonJ,GAAC,CAAA,KAAA,sEACM,OAAA,SACE,IAAA,sBACH,SAAA,eACL,CAAA,EAEDpnJ,EAAA,OAAA,CAAA,SAAA,OAAA,CAAA,EACWA,EACXonJ,GAAC,CAAA,KAAA,mEACM,IAAA,sBACD,OAAA,SACG,SAAA,qBACR,CAAA,EAED,GAAO,EAAA,CAET,CAAA,CAAA,EAIGsK,GAAAj2K,GAGLukB,EACE2xJ,GAAC,CAAA,KAAA,GACO,MAAA,mBACA,QAAAxuJ,GACN,SAAA,IAAA1nB,EAAA,OAAA,EAC6B,UAAA,IAAAA,EAAA,OAAA,EACC,kBAAAg2K,GACX,uBAAAG,EACK,CAAA,wTCtBvB,MAAAC,GAAA,CAAA,CAAuC,KAAAf,EAC5C,MAAA13E,EACA,QAAA77F,EACA,YAAAu0K,EACA,WAAAC,EACA,OAAAC,EACA,MAAAC,EACA,SAAAC,EACA,QAAAC,EACA,aAAAC,EACA,QAAAxyE,CAEF,IAAA,CACE,IAAAyyE,EACAF,EACEE,EAAA,eAAaN,EAEbM,EAAA,SAEAA,EAAA,IAEF,KAAA,CAAAC,EAAAC,CAAA,EAAAxwJ,EAAA,SAAAswJ,CAAA,EAGAG,EAAAhwJ,EAAAs9C,GAAA,CAAA,QAAA,QAAA,SAAA,CAC8B,iDAAA,IACqB9/C,EAC/ConJ,GAAC,CAAA,KAAA,+EAEG,OAAA,SAEK,IAAA,sBACH,SAAA,gCACL,CAAA,EAED,GAAO,CAAA,CAAA,EA+EX,OAAApnJ,EACE2xJ,GAAC,CAAA,KAAAb,EACO,MAAA13E,EACN,SAAA77F,EACU,UAAAA,EACC,SAAA,KACF,sBAbb60K,EAAA,CACI,aAAAA,EACgB,QAAAxyE,CACd,EAAA,OAWF,QAjFJp9E,EAAAC,GAAA,CAAA,SAAA,CAEIzC,EAAAkjJ,GAAC,CAAA,GAAA,CACK,aAAA,EACY,YAAA,UACD,aAAA,CACC,EAChB,SAAA1gJ,EAEAiwJ,GAAC,CAAA,MAAAH,EACQ,SAAA,CAAAlzK,EAAAC,IAAA,CAKLD,EAAA,gBAAA,EACAmzK,EAAAlzK,CAAA,CAAsB,EACxB,UAAA,YACU,eAAA,YACK,SAAA,CAEd8yK,GAAAnyJ,EACC0yJ,GAAC,CAAA,MAAA,eACQ,MAAA,cACA,CAAA,EACTT,GAAAjyJ,EAGA0yJ,GAAC,CAAA,MAAA,IACQ,MAAA,GACA,CAAA,EACTX,GAAA/xJ,EAGA0yJ,GAAC,CAAA,MAAA,SACQ,MAAA,QACA,CAAA,CACT,CAAA,CAAA,CAEJ,CAAA,EACFlwJ,EAAA0gJ,GAAA,CAAA,GAAA,CAAA,QAAA,CAAA,aAAA,EAAA,EAAA,SAAA,CAEGoP,IAAA,gBAAA9vJ,EAAAC,GAAA,CAAA,SAAA,CAEGzC,EAAA8/C,GAAA,CAAA,QAAA,QAAA,SAAAoyG,EAAA,EAAsCM,EACrChwJ,EAAA,MAAA,CAAA,SAAA,CACI,IAAA2vJ,EAAE,GAAQ,EAAA,CAAC,EAAA,EAClBG,IAAA,KAAA9vJ,EAAAC,GAAA,CAAA,SAAA,CAIEzC,EAAA8/C,GAAA,CAAA,QAAA,QAAA,SAAAkyG,EAAA,EAAoCQ,EACnCxyJ,EAAA,MAAA,CAAA,SAAAiyJ,CAAA,CAAA,CACW,EAAA,EACdK,IAAA,UAAA9vJ,EAAAC,GAAA,CAAA,SAAA,CAIEzC,EAAA8/C,GAAA,CAAA,QAAA,QAAA,SAAAgyG,EAAA,EAAyCU,EACxCxyJ,EAAA,MAAA,CAAA,SAAA+xJ,CAAA,CAAA,CACgB,EAAA,CACnB,EAAA,CAEJ,CAAA,CAAA,CAmBS,CAAA,CAGf,q0CC/IO,SAAAY,GAAA,CAAmC,mBAAA1V,EACxC,OAAAwF,CAEF,EAAA,OACE,KAAA,CAAAmQ,EAAAC,CAAA,EAAA9wJ,EAAA,SAAA,KAAA,EAEA,CAAM,KAAAk/I,EACE,UAAAC,EACK,eAAAC,CACK,EAAAC,GACd,CACF,GAAAnE,EACK,SAAA6V,EACwB,EAC7B,CACA,iBAAA,GACoB,iBAAA,EACA,CACpB,EAGFC,GAAA9nI,EAAAg2H,GAAA,YAAAA,EAAA,eAAA,YAAAh2H,EAAA,YACAo2H,EAAAH,GAAAC,EAEA9+I,EAAAA,UAAA,IAAA,CACE,GAAA0wJ,GAAA,CAAA1R,EAAA,CAGE,MAAA2R,EAAAD,EAAA,YAAA,EAAA,QAAA,UAAA,EACAE,EAAA,YAAAF,EAAA,UAAyDC,CACvD,IAEFH,EAAAI,CAAA,EACF,EAAA,CAAAF,EAAA1R,CAAA,CAAA,EAIF,MAAA6R,EAAAl8J,EAAA,QAAuB,IAAA47J,EAAA,QAAA,UAAA,MAAA,EACuB,CAAAA,CAAA,CAC/B,EAGfO,EAAAn8J,EAAA,QAAkB,IAAA47J,EAAA,QAAA,KAAA,KAAA,EACsB,CAAAA,CAAA,CACzB,EAGf,OAAA5yJ,EACE6xJ,GAAC,CAAA,KAAA,GACO,QAAApP,EACG,MAAA,4BACH,SAAAziJ,EAAAyC,GAAA,CAAA,SAAA,oGAAA,CAAA,EAKJ,QAAA,mBAAAywJ,KAE0B,OAAA1wJ,EAAAC,GAAA,CAAA,SAAA,CAExB,uDAAA,IACqDD,EACrD4kJ,GAAC,CAAA,OAAA,SACQ,IAAA,sBACH,KAAA,iIACC,SAAA,CACN,SAAA,IACQ,CAAA,CAAA,EACT,IAAQ,mFAAI,EAAA,EAGd,MAAA,2BAAA+L;AAAA,uCAEmD,YAAA3wJ,EAAAC,GAAA,CAAA,SAAA,CAEjD,4DAAA,IAC0DzC,EAC1DonJ,GAAC,CAAA,OAAA,SACQ,IAAA,sBACH,KAAA,iIACC,SAAA,SACN,CAAA,EAED,IAAQ,mFAAI,EAAA,EAGd,WAAA,2BAAA+L;AAAA,oBAEmD,CAAA,CAG3D,kWClGA,MAAMC,GAAmB,mBAaT,SAAAC,GACdC,EACAv0E,EACAv4E,EACA,CACO,OAAA8sJ,EAAkBv0E,EAAa,OAASv4E,GAAA,YAAAA,EAAM,UACvD,CAgBO,SAAS+sJ,GACd31E,EACA01E,EACAv0E,EACAv4E,EACAgtJ,EACA,CACI,GAAA,CAAC51E,GAAwB,CAAC01E,EACrB,MAAA,OAAOvyG,GAAUyyG,CAAe,IAGzC,MAAMC,EAAgCJ,GACpCC,EACAv0E,EACAv4E,CAAA,EAEF,OAAIitJ,GAAiC,KAC5B,GAAGA,EAA8B,eAAoB,KAAA1yG,GAC1DyyG,EACAC,CACF,IAGK1yG,GAAUyyG,CAAe,CAClC,CAWO,SAASE,GACd91E,EACA01E,EACAv0E,EACAv4E,EACAgtJ,EACA,CACI,GAAA,CAAC51E,GAAwB,CAAC01E,EAC5B,MAAO,WAAWK,GAChB5yG,GAAUyyG,CAAe,CAAA,KACtBJ,KAGP,MAAMK,EAAgCJ,GACpCC,EACAv0E,EACAv4E,CAAA,EAEF,OAAIitJ,GAAiC,KAC5B,OAAOA,EAA8B,eAA6B,cAAAE,GACvE5yG,GAAUyyG,EAAiBC,CAA6B,CAAA,KACrDL,KAGA,OAAOA,IAChB,CCjFO,MAAAQ,GAAAn4K,GAAA,CAGL,KAAA,CAAA,YAAA4kB,GAAAO,KACA,CAAM,OAAAy6E,EACJ,KAAAw4E,EACM,oBAAAn2E,EACN,qBAAAE,CACA,EAAAxD,GAAA,EAEF,CAAA,gBAAAk5E,EAAA,aAAAv0E,CAAA,EAAA7B,GAAA,EACA+/D,EAAAv/D,IACA,CAAAo2E,EAAAC,CAAA,EAAAl9J,GAAA,SAAA,EAAA,EACA,CAAAm9J,EAAAC,CAAA,EAAAp9J,GAAA,SAAA,EAAA,EACA,CAAAq9J,EAAAC,CAAA,EAAAt9J,GAAA,SAAA,EAAA,EAEA,CAAA,gBAAAu9J,EAAA,UAAAC,EAAA,EAAA,EAAA54K,EAEA64K,EAAAC,GAAAl5E,CAAA,EAGAm5E,EAAAn5E,GAAAqB,GAAArB,CAAA,GAAAA,EAAA,gBAEA,OAAA74E,EAAA3L,GAAA,SAAA,CAAA,SAAA,CAEI2L,EAAAiyJ,GAAA,CAAA,GAAA,OAAA,SAAA,CACEz0J,EAAA00J,GAAC,CAAA,YAAA,mBACc,KAAA,KACR,UAAAL,EACL,KAAA,UACM,CAAA,EACP7xJ,EACDiyJ,GAAA,KAAU,CAAT,UAAA,mCACW,WAAA,GACE,SAAA,CAEXH,GAAAt0J,EACC6/C,GAAC,CAAA,MAAA20G,EAAA,oEAAA,KAIO,UAAA,OAEI,eAAA,IACM,cAAA,GACD,SAAAx0J,EAEfy0J,GAAA,KAAU,CAAT,KAAA,SACM,UAAAD,EAAA,aAAA,OACuC,SAAAA,EAClC,MAAAA,EAAA,CAAA,cAAA,MAAA,EAAA,CAAA,EAE4C,QAAA,IAAAn0J,EAAA+zJ,EAAA,EAAAL,EAAA,EAAA,EAEI,SAAAL,GAGzD91E,EACC01E,EACAv0E,EACA80E,EACA,MACA,CACF,CAAA,CACF,CAAA,EACF7zJ,EAEFy0J,GAAA,KAAU,CAAT,QAAA,IAAA,CAEGR,EAAA,EAAA,CAA0B,EAC5B,SAAA,cACD,CAAA,EAEDj0J,EACA6/C,GAAC,CAAA,MAAA20G,EAAA,qEAAA,KAIO,UAAA,OAEI,eAAA,IACM,cAAA,GACD,SAAAx0J,EAEfy0J,GAAA,KAAU,CAAT,UAAAD,EAAA,aAAA,OAC6C,SAAAA,EAClC,MAAAA,EAAA,CAAA,cAAA,MAAA,EAAA,CAAA,EAE4C,QAAA,IAAAL,EAAA,EAAA,EACR,SAAA,sBAC/C,CAAA,CAED,CAAA,CACF,CAAA,CAAA,CACF,EAAA,EACFL,GAAA9zJ,EAEE0xJ,GAAC,CAAA,UAAAoC,EACY,OAAA,IAAAC,EAAA,EAAA,CAC0B,CAAA,EACtCC,GAAAh0J,EAKC88I,GAAC,CAAA,QAAA,IAAAmX,EAAA,EAAA,EAC2C,mBAAAhX,CAC1C,CAAA,EACFiX,GAAAL,GAAA7zJ,EAIF2yJ,GAAC,CAAA,OAAA,IAAAwB,EAAA,EAAA,EAC+C,mBAAAlX,CAC9C,CAAA,CACD,CAAA,CAAA,CAIT,oUClHA,MAAA0X,GAAA,sBAEOC,GAAAn5K,GAAA,CAGL,KAAA,CAAA,QAAAm+F,EAAA,iBAAAi7E,EAAA,sBAAAC,EAAA,UAAAT,CAAA,EAAA54K,EAEA,CAAA,qBAAA2jG,GAAAlC,KACA,CAAA4zE,EAAAiE,CAAA,EAAAhzJ,EAAA,SAAA,EAAA,EACAizJ,EAAA,CAAAC,EAAAt/E,EAAA6gE,IAAA,CAKEA,EAAA,SAAA,YACEue,EAAA,EAAA,EAEAA,EAAA,EAAA,CACF,EAEF,OAAAvyJ,EACEiyJ,GAAC,CAAA,GAAA,OACI,SAAA,CAAAS,EAAA91K,EAAAo3J,IAAAwe,EAAAE,EAAA91K,EAAAo3J,CAAA,EAKuC,KAAAsa,EAC1C,KAAA,OACK,SAAA,CAEL9wJ,EAAA00J,GAAC,CAAA,YAAA,oBACc,KAAAL,EAAA,cAAA,UACqB,UAAAA,CAClC,CAAA,EACDr0J,EAKDy0J,GAAA,KAAU,CAAT,GAAA,GAAAE,cACQ,UAAA,mCACG,WAAA,GACE,SAAA/6E,GAAA,YAAAA,EAAA,IAAApH,GAAA,CAGV,KAAA,CAAA,KAAAx6E,CAAA,EAAAw6E,EACA2iF,EAAAN,EAAA,SAAA78J,CAAA,EACAo9J,EAAA,CAAuC,MAAA,OAC9B,YAAA,OACM,WAAAD,EAAA,OAAA,QACqC,EAEpDE,EAAAF,EAAA,yBAAA,GAGA,OAAA3yJ,EACEiyJ,GAAA,KAAU,CAAT,QAAA,IAAAK,EAAA98J,CAAA,EAC0C,SAAA,CAGzCgI,EAAA,OAAA,CAAA,UAAAq1J,EAAA,MAAAD,EAAA,SAAAp1J,EAAAwgD,GAAA,CAAA,KAAA,QAAA,GAAA,CAAA,MAAA,MAAA,CAAA,CAAA,EAAA,EAEA4+B,EAAApnF,CAAA,CAC0B,CAAA,EAAAA,CALrB,CAMP,EAEH,CAAA,CACH,CAAA,CAAA,CAGN,uuBCtFA,MAAAs9J,GAAA,0IAIAC,GAAA,4GAYAC,GAAA,CAAA,CAAA,OAAAn6E,KAAA,OAKE,MAAAo6E,EAAAp6E,GAAAqB,GAAArB,CAAA,EAEA71E,EAAA,CAAoC,aAAA,0DACpB,MAAA,CACP,IAAA,iBAAA61E,EAAA,KAAA,CAAAA,EAAA,iBAAAA,EAAA,cAAA,IAAAA,EAAA,gBAAA,IAIC,EAER,SAAAA,EAAA,GACiB,SAAAqjE,EACU,EAG7B,CAAA,KAAAgX,GAAAC,GAAAnwJ,EAAA,CAA+D,QAAAiwJ,CACpD,CAAA,EAEX,GAAAA,GAAAC,GAAAr6E,EAAA,CACE,MAAAu6E,EAAAF,EAAA,WACAG,IAAA5qI,EAAAowD,EAAA,QAAA,YAAApwD,EAAA,SAAA,EAEA,GAAA2qI,IAAAC,EAEE,OAAA71J,EAAAyC,GAAA,CAAA,CAAA,EAGF,MAAAqzJ,EAAAD,EAAAD,EAEA,IAAAj2E,EAAA,GAEA,OAAAtE,EAAA,gBACEsE,EAAA21E,GAEA31E,EAAA41E,GAGF/yJ,EACEs9C,GAAC,CAAA,UAAA,oBACW,MAAA,CACH,WAAA,EACO,EACd,QAAA,aACQ,MAAA,gBACF,SAAA,CAEN9/C,EAAA9I,GAAC,CAAA,UAAA,oBACW,MAAA,CAAA,SAAA,MAAA,CACgB,CAAA,EAC5B4+J,EAAA,eAAA,EAAA,eAC+B91J,EAC/BgxE,GAAC,CAAA,UAAA,oBACW,aAAA2O,EACI,UAAA,OACJ,CAAA,CACX,CAAA,CAAA,MAIL,QAAA3/E,EAAAyC,GAAA,CAAA,CAAA,CAEJ;oUCvFO,MAAAszJ,GAAAt6K,GACL+mB,EAAAwzJ,GAAA,CAAA,GAAAv6K,EAAA,OAAA,GAAA,QAAA,cAAA,SAAA,CAEIukB,EAAA,OAAC,CAAA,SAAA,UACU,SAAA,UACA,EAAA,qzLACP,KAAA,+BACG,CAAA,EACPA,EAAA,OAAA,CAAA,SAAAwC,EAEE,iBAAC,CAAA,GAAA,0BACI,GAAA,UACA,GAAA,SACA,GAAA,SACA,GAAA,UACA,cAAA,iBACW,SAAA,CAEdxC,EAAA,OAAA,CAAA,UAAA,SAAA,CAAA,EAA0BA,EAAA,OAAA,CAAA,OAAA,WAAA,UAAA,UAAA,EACkBA,EAAA,OAAA,CAAA,OAAA,IAAA,UAAA,UAAA,CACP,CAAA,CAAA,EAAA,CAEzC,CAAA,CAAA;;;;;;;;;;8QCpBC,MAAAi2J,GAAA7wK,GAAA8G,GAAA,CAA+D,MAAA,aAEtE,CAAA,EAAA,CAAA,CAAA,MAAA5G,MAAA,CAAmB,SAAA,SACP,eAAA,WACM,WAAA,SACJ,kBAAA,CACO,SAAA,QACP,SAAA,WACA,UAAA,MACC,CAEf,EAAA;;;;;wxDCHO,SAAA4wK,GAAAz6K,EAAA,CACL,KAAA,CAAM,KAAAq1K,EAAA,GACG,iBAAAqF,EACP,iBAAAC,EACA,eAAAC,EAAAr2J,EAAAyC,GAAA,EAAA,CACmB,EAAAhnB,EAErB,OAAAq1K,EAIAtuJ,EACE/a,GAAC,CAAA,GAAA,CACK,QAAA,OACO,WAAA,SACG,eAAA,gBACI,SAAA,QACN,OAAA,EACF,KAAA,EACF,MAAA,OACC,OAAA,OACC,OAAA,EACA,GAAA,GACJ,EACN,SAAA,CAEAuY,EAAAw9I,GAAC,CAAA,QAAA,OACS,MAAA,QACF,QAAA,IAAA,CAEJ4Y,GAAiB,EACnB,SAAA,iBACD,CAAA,EAED5zJ,EAAA0gJ,GAAA,CAAA,QAAA,OAAA,IAAA,IAAA,WAAA,SAAA,SAAA,CAEE1gJ,EAAA0gJ,GAAA,CAAA,QAAA,OAAA,IAAA,IAAA,SAAA,CACEljJ,EAAAi2J,GAAC,CAAA,aAAAE,EAAA,eAAA,EAC+C,MAAA,UACxC,IAAA,GACD,CAAA,EACPn2J,EAAA8/C,GAAA,CAAA,QAAA,QAAA,SAAA,gBAAA,CACyC,EAAA,EAC3Cu2G,CACC,EAAA,CACH,CAAA,CAAA,EArCFr2J,EAAAyC,GAAA,CAAA,CAAA,CAwCJ,4oBCzCO,SAAA6zJ,GAAA76K,EAAA,CACL,KAAA,CAAA,eAAA46K,EAAA,CAAA,EAAA,qBAAAE,EAAA,EAAA,EAAA96K,EACA,CAAA,KAAA+qB,EAAA,OAAA60E,EAAA,oBAAAwE,EAAA,oBAAAnC,CAAA,EAAAtD,KAEA,CAAM,aAAA2E,EACJ,gBAAAC,EACA,kCAAAJ,EACA,4BAAAF,CACA,EAAAxB,GAAA,EAGFs5E,EAAA,IAAA,CAEEx3E,EAAA,CAAA,CAAA,EAEAa,EAAAnC,EAAA,CAAA,CAAyC,EAG3C+4E,EAAAlC,GAAAl5E,CAAA,EAEA,OAAAr7E,EACEk2J,GAAC,CAAA,KAAAn3E,EAAA,OAAA,EAC6B,iBAAAA,EAAA,OACG,iBAAA,IAAAC,EAAA,EAAA,EACW,eAAAx8E,EAAAC,GAAA,CAAA,SAAA,CAGrC4zJ,EAAA,IAAAK,GACC12J,EACEw9I,GAAC,CAAA,QAAA,YAES,QAAA,IAAAkZ,EAAA,QAAA,CAAA,KAAAlwJ,EAAA,aAAAu4E,EAAA,QAAAy3E,EAAA,EAE+C,UAAAE,EAAA,KAE9B,SAAAA,EAAA,UAEV,EAAAA,EAAA,UAPI,CAQrB,EAEHH,GAAAv2J,EAECw9I,GAAC,CAAA,QAAA,WACS,QAAA,IAAA,CAEN5+D,EAAA,EAAA,CAAsC,EACxC,UAAA5+E,EAAA+1J,GAAA,EAAA,EACqB,SAAA,kBACtB,CAAA,EAEDU,GAAAz2J,EAGAw9I,GAAC,CAAA,QAAA,YACS,QAAA,IAAA,CAEN9+D,EAAA,EAAA,CAAgC,EAClC,UAAA1+E,EAAA22J,GAAA,EAAA,EAC0B,SAAA,sBAC3B,CAAA,CAED,EAAA,CAEJ,CAAA,CAIR;0UClFO,MAAAC,GAAAn7K,GACLukB,EACEoG,GAAC,CAAA,MAAA,CAAA,GAAA3qB,EAAA,MAAA,QAAA,cAAA,EACkD,GAAAA,CAC7C,CAAA;;8SCGH,MAAAo7K,GAAA,CAAA,CAA6D,QAAAC,EAAA,EACxD,UAAAC,EACV,UAAApxK,CAEF,IAAA,CACE,KAAA,CAAAqxK,EAAAC,CAAA,EAAAl1J,EAAA,SAAA,CAAA,CAAA,EAEAM,OAAAA,EAAAA,UAAA,IAAA,CACE,MAAAswC,EAAA,CAAA,EACAmgD,GAAAgkE,EAAA57K,GAAA,CACEy3D,EAAA,KAAS3yC,EAAAnJ,GAAA,SAAA,CAAA,SAAAmJ,EAELoG,GAAC,CAAA,OAAA2wJ,EACS,MAAA77K,IAAA47K,EAAA,EAAA,MAAA,MAC2B,CAAA,CAAA,EAAA57K,CAAA,CAEvC,CACF,CAAA,EAEF+7K,EAAAtkH,CAAA,CAAqB,EAAA,CAAAmkH,EAAAC,CAAA,CAAA,EAGvB/2J,EAAA,MAAA,CAAA,UAAAra,EAAA,SAAAqxK,CAAA,CAAA,CACF,0cC1BgB,SAAAE,GACdja,EACA/9D,EACA,CACM,KAAA,CAAE,YAAA7+E,GAAgBO,KAClB2qI,EAAY,IACZ2R,EAAc,GACdC,EAA4B,GAC5Bga,EAAcla,EAAmB,MAAM,IAC7C,MAAO,UAAY,CACb,GAAA,CAGI,MAAAG,EAAM,kHADcl+D,GAAA,YAAAA,EAAe,IAAIk4E,GAAOA,EAAI,MAAM,KAAK,aACqFD,EAAY,MAClKA,EAAY,YAAY,EAAE,QAAQ,MAAM,EAAI,EAAgB,CAC9D,IACM9Z,EAAqD,CACzD,IAAAD,EACA,SAAUlkE,GAA8BkkE,CAAG,EAC3C,eAAgBH,EAAmB,MAAM,eACzC,aACE,gEACF,YAAAC,EACA,0BAAAC,EACA,mBAAoB,CAAE,UAAA5R,CAAU,EAChC,kBAAmB0R,EAAmB,MAAM,iBAAA,EAExCtmH,EAAS,MAAMv1B,GAAc,4BACjCi8I,EACAh9I,CAAA,EAEIg3J,EAAe,MAAMj2J,GAAc,qBACvCu1B,EAAO,oBACPt2B,CAAA,EASIi3J,EAAc,gEAAgE,mBAClFD,CACF,IACO,OAAA,KAAKC,EAAa,QAAQ,QAC1BC,GACM7gF,GAAA6gF,EAAK,OAAQ,QAAQ,CACpC,CAAA,CAEJ,CC7CO,SAASC,GACdva,EACArgE,EACA66E,EACAj9K,EAKA,CACM,MAAAk9K,EAAmB1gK,EAAAA,QAAQ,IAAM,CAC/B,MAAAwO,EAAU0jF,GAAU+zD,CAAkB,EACtC0a,EAAeF,GAAqB96E,GAAqBC,CAAY,EAC3E,OAAI+6E,IACMnyJ,EAAA,MAAM,iBAAmB,OAAOmyJ,CAAY,GAEtDnyJ,EAAQ,SAAWoyJ,GACZpyJ,CACN,EAAA,CAACo3E,EAAc66E,EAAmBxa,CAAkB,CAAC,EAEjD,OAAAmE,GACLsW,EACA,CACE,GAAGl9K,EACH,UACGA,GAAA,YAAAA,EAAS,UAAW,KACrBk9K,EAAiB,MAAM,mBAAqB,OAC9C,OAAgBlxJ,GAAA,OACd,OAAOykB,EAAAzkB,GAAA,YAAAA,EAAM,eAAN,YAAAykB,EAAoB,eAC7B,CACF,CAAA,CAEJ,CCvCgB,SAAA4sI,GACdC,EACA/4E,EACAnC,EACa,CACb,GAAI,CAACk7E,GAAyBA,EAAsB,SAAW,EAGvD,MAAA,IAAI,MAAM,0DAA0D,EAG5E,MAAMC,EAAwBn7E,EAAa,UACnCkB,GAAAA,EAAG,OAASg6E,EAAsB,CAAC,CAAA,EASpC,MAPsC,CAC3C,aACE,oEACF,WAAYA,EAAsB,CAAC,EACnC,SAAUjH,GAAgC,GAC1C,OAAQ9xE,EAAa,OAAWlF,EAAI,OAAOk+E,CAAqB,CAAE,CAAA,CAGtE,CCVA,SAAAC,GAAAv8K,EAAA,OAGE,KAAA,CAAA,gBAAAw8K,CAAA,EAAAx8K,EACA,CAAM,KAAA+qB,EACJ,oBAAAk3E,EACA,6BAAAojE,EACA,qBAAAljE,CACA,EAAAxD,GAAA,EAEF,CAAM,+BAAAuE,EACJ,kCAAAC,EACA,aAAAG,EACA,gBAAAu0E,EACA,gBAAAE,EACA,uBAAA31E,CACA,EAAAX,GAAA,EAGFg7E,EAAAlhK,EAAAA,QAAA,IAAA,CACE,MAAAwO,EAAAk4E,IACA,OAAA41E,GAAAz1E,IAAAr3E,GAAA,MAAAA,EAAA,gBACEhB,EAAA,MAAA,kBAAA,CAAkC,GAAAA,EAAA,MAAA,mBAAA,CAAA,EACQqyJ,GACxCh6E,EACEkB,EACAv4E,EAAA,YACK,CACP,GAGJhB,CAAO,EAAA,CACNk4E,EACD41E,EACAz1E,EACAr3E,GAAA,YAAAA,EAAA,aACMu4E,CACN,CAAA,EAGFo5E,EAAAjB,GAAyBgB,GACvBjtI,EAAAzkB,GAAA,YAAAA,EAAA,cAAA,YAAAykB,EAAA,aAAA,OACgC,EAGlC,CAAA,KAAAk/H,EAAA,UAAA5oJ,CAAA,EAAAi2J,GAAqCU,EACnC1xJ,GAAA,YAAAA,EAAA,aACM,OACN,CACA,iBAAA,GACoB,QAAA,CAAA,EAAAA,GAAA,MAAAA,EAAA,aACD,CACnB,EAGF4xJ,EAAA,QAAA7E,GAAkC31E,EAChC01E,EACAv0E,EACAv4E,EACAgtJ,CACA,gBAGF,OAAAxzJ,EACE2xJ,GAAC,CAAA,KAAAhzE,EACO,MAAA,mBACA,QAAAn8E,EAAAC,GAAA,CAAA,SAAA,CAGFzC,EAAAkjJ,GAAC,CAAA,GAAA,CACK,gBAAA,WACe,OAAA,YACT,YAAA,WACK,aAAA,OACC,QAAA,qBACL,EACX,SAAA1gJ,EAAAs9C,GAAA,CAAA,QAAA,QAAA,GAAA,CAAA,UAAA,QAAA,EAAA,SAAA,CAEyD,oDAAAm4G,GAAAz1J,EAAAC,GAAA,CAAA,SAAA,CAIlD,IAAA,2BAAI,IACoBzC,EAAAonJ,GAAA,CAAA,KAAA6Q,EAAA,OAAA,SAAA,SAAA,OAAA,EAGzB,GAAO,EAAA,CAET,EAAA,CAEJ,CAAA,EACFj4J,EACA8/C,GAAC,CAAA,QAAA,QACS,GAAA,CAAA,WAAA,IAAA,aAAA,MAAA,EACoC,SAAA,8DAC7C,CAAA,EAEDt9C,EACAs9C,GAAC,CAAA,QAAA,QACS,GAAA,CAAA,WAAA,OAAA,aAAA,MAAA,EACuC,SAAA,CAChD,kDAAA9/C,EAAA,KAAA,EAAA,EAEK,uDAAE,CAAA,CAAA,EAERA,EAAA8/C,GAAA,CAAA,QAAA,QAAA,SAAA9/C,EAEEonJ,GAAC,CAAA,KAAA,0FACM,OAAA,SACE,SAAA,6BACR,CAAA,EAAA,EAGHpnJ,EACAkjJ,GAAC,CAAA,GAAA,CACK,gBAAA,WACe,UAAA,OACN,QAAA,qBACF,EACX,SAAA1gJ,EAAAs9C,GAAA,CAAA,QAAA,QAAA,SAAA,CAE4B,8EAAA,IAEf9/C,EAAAonJ,GAAA,CAAA,KAAA,mCAAA,SAAA,WAAA,EAC2C,mCAAO,EAAA,CAE/D,CAAA,EACF7lJ,EAAAvB,EAAA62J,GAAA,CAAA,QAAA,CAAA,CAAA,EAAA1M,GAAAA,EAAA,OAAA,GAAA3nJ,EAAAC,GAAA,CAAA,SAAA,CAOMzC,EAAA8/C,GAAC,CAAA,QAAA,QACS,GAAA,CAAA,WAAA,IAAA,GAAA,MAAA,EAC0B,SAAA,gFACnC,CAAA,EAGDt9C,EACAs9C,GAAC,CAAA,QAAA,QACS,GAAA,CAAA,WAAA,OAAA,aAAA,MAAA,EACuC,SAAA,CAChD,qGAAA9/C,EAAA,KAAA,EAAA,EAGK,+EAAE,CAAA,CAAA,EAGRA,EAAAi3D,GAAA,CAAA,IAAA,EAAA,SAAAkzF,EAAA,IAAA,CAAAp4J,EAAA1R,IAGI0R,EACEiO,EACE8vJ,GAAC,CAAA,OAAA/9J,EAAA,OAEc,MAAAA,EAAA,MACD,6BAAA+uJ,CACZ,EAAAzgK,CAHK,EAQJ,EAAO,EAAA,CAElB,EAAA,EACF2f,EAGJ8/C,GAAC,CAAA,QAAA,QACS,GAAA,CAAA,WAAA,IAAA,UAAA,MAAA,EACiC,SAAA,8HAC1C,CAAA,CAGD,EAAA,EACF,kBAAAs4G,EAEF,sBAAA72J,GAAA4oJ,GAAAA,EAAA,OAAA,EACiE,UAAA,IAAA,CAE/DgO,GAAiB,EACnB,SAAA,IAAAv5E,EAAA,EAAA,EACuD,SAAA,IAC9C,CAAA,CAGf,iQC5JA,MAAAy5E,GAAA58K,GAAA,CACE,KAAA,CAAM,KAAAuc,EACJ,oBAAAsgK,EAAA,GACsB,aAAAC,EAAA,GACP,0BAAAC,EAAA,GACa,uBAAAC,EAAA,GACH,eAAAC,EAAA,GACR,qBAAAC,EAAA,GACM,eAAAtC,EACvB,qBAAAE,EAAA,GACuB,gBAAA0B,CACvB,EAAAx8K,EAGF,CAAM,KAAA+qB,EACJ,OAAA60E,EACA,oBAAA2jE,EACA,aAAA6B,EACA,qBAAAjjE,CACA,EAAAxD,GAAA,EAGF,CAAM,iBAAAoE,EACJ,qBAAAo6E,EACA,sBAAAt7E,EACA,aAAAyB,EACA,gBAAAu0E,EACA,wBAAAuF,EACA,kCAAAj6E,EACA,gBAAA40E,EACA,4BAAA90E,EACA,oBAAAP,EACA,0BAAAD,EACA,iBAAAF,EACA,gBAAAK,EACA,mBAAAC,CACA,EAAApB,GAAA,EAGF,CAAA47E,EAAAC,CAAA,EAAAh3J,EAAA,SAAA,EAAA,EAOAi3J,EAAAhiK,EAAAA,QAAA,IAAA,CACE,MAAAsnJ,EAAAU,IACA,MAAA,CAAO,IAAAV,EAAA,MAAA,IACuB,gBAAAA,EAAA,MAAA,gBAAA,CAAA,GAAA,OACkC4B,GAAAA,EAAA,cAAAW,GAAA,YAAAA,EAAA,WAChB,EAC9C,mBAAAvC,EAAA,MAAA,mBAAA,CAAA,GAAA,OAGEiC,GAAA,eAAAA,EAAAA,EAAA,cAAAM,GAAA,YAAAA,EAAA,YAAA,EAGI,CACN,CACF,EAAA,CAAA7B,EAAA6B,GAAA,YAAAA,EAAA,UAAA,CAAA,EASFiU,EAAAz1E,GAAA,CACE,IAAA45E,EAAA/vE,GAAA0vE,CAAA,EACAK,EAAA,SAAA55E,CAAA,EACE45E,EAAAA,EAAA,OAAoDtmI,GAAAA,IAAA0sD,CACrC,EAGf45E,EAAA,KAAA55E,CAAA,EAEFw5E,EAAAI,CAAA,CAAgD,EAGlDxF,EAAAJ,GAAsCC,EACpCv0E,EACAv4E,CACA,EAEF0yJ,EAAA3F,GACE31E,EACE01E,EACAv0E,EACAv4E,EACAgtJ,CACA,EAEJ,OAAAxzJ,EAAA,MAAA,CAAA,UAAA,mBAAA,cAAA,mBAAA,SAAAwC,EAAA,MAAA,CAAA,SAAA,CAGMA,EAAA,MAAA,CAAA,UAAA,+BAAA,SAAA,CACGxK,GAAAwK,EAAAC,GAAA,CAAA,SAAA,CAEGD,EAAAs9C,GAAA,CAAA,QAAA,eAAA,KAAA,UAAA,SAAA,CACG9nD,EAAA,IAAM,CAAA0gK,GAAA14J,EAAAm5J,GAAA,CAAA,MAAAH,EAAA,OAAA,GAAA,CAEoD,EAAA,EAE7D,CAAAN,GAAAr9E,GAAAr7E,EAAAw1J,GAAA,CAAA,OAAAn6E,CAAA,CAAA,CAE8C,EAAA,EAEhD,CAAAo9E,GAAAj2J,EAGA,IAAC,CAAA,QAAA,IAAA87E,EAAAxlG,GAAA,CAAAA,CAAA,EACkD,UAAA,0EACvC,SAAA,CAEVknB,EAAArK,GAAA,CAAA,KAAA0oF,EAAA,QAAA,SAAA,EAAkD77E,EAAA,OAAA,CAAA,UAAA,sDAAA,SAAA,CAE/C67E,EAAA,OAAA,OAA2B,UAAO,EAAA,CACrC,CAAA,CAAA,CACF,EAAA,EAEJ77E,EAAA,MAAA,CAAA,UAAA,4BAAA,SAAA,CAEG+zJ,GAAA/zJ,EAAAC,GAAA,CAAA,SAAA,CAEGzC,EAAA6/C,GAAC,CAAA,MAAAr9C,EAAAC,GAAA,CAAA,SAAA,CAEK,uCAAA,IACqC6wJ,EAAA,qBAAA,kCAGjC,IAAmC,eAAI,IAC9B,CAAAA,GAAAj1E,GAAAr+E,EAAAyC,GAAA,CAAA,SAAA,qFAAA,EAKX6wJ,GAAAtzJ,EAAAyC,GAAA,CAAA,SAAA,oEAAA,CAAA,CAMA,EAAA,EAEJ,SAAAD,EAGFg7I,GAAC,CAAA,QAAA,OACS,SAAA,CAAAiW,EACG,QAAA,IAAA,CAET70E,EAAA,EAAA,CAAsC,EACxC,UAAA5+E,EAAA+1J,GAAA,EAAA,EACqB,SAAA,CACtB,QAAAmD,EACO,cAAoC,CAAA,CAAA,CAC5C,CAAA,EACFl5J,EAAAopJ,GAAA,CAAA,YAAA,WAAA,QAAA,SAAA,SAAA,GAAA,CAC0D,EAAA,EAC5DppJ,EAEF00J,GAAC,CAAA,YAAA,yBACc,WAAA,IAAAl2E,EAAA1lG,GAAA,CAAAA,CAAA,EACqC,UAAA,GACvC,KAAA,QACL,CAAA,EACRqlG,GAAAn+E,EAEE00J,GAAC,CAAA,YAAAoE,EAAA,sBAAA,oCAIO,WAAA,IAAA,CAGJ,UAAA,UAAA,UAAA,OAAA,SAAA,IAAA,EACAC,EAAA,EAAA,EACA,WAAA,IAAA,CACEA,EAAA,EAAA,CAAqC,EAAA,GAAA,CAChC,EACT,UAAA,GACW,KAAA,WACL,CAAA,EACR,CAAAP,GAAAx4J,EAGA00J,GAAC,CAAA,YAAA,6BACc,WAAA,IAAAx2E,EAAAplG,GAAA,CAAAA,CAAA,EAC8C,UAAA,GAChD,KAAA,OACL,CAAA,EACR,CAAAy/K,GAAAv4J,EAGA4zJ,GAAC,CAAA,UAAA,GACY,gBAAA,IAAAl1E,EAAA,EAAA,CAC4C,CAAA,EACzD,CAAAi6E,GAAA34J,EAIA00J,GAAC,CAAA,YAAA,wCACc,WAAA,IAAA12E,EAAAllG,GAAA,CAAAA,CAAA,EACqC,UAAA,GACvC,KAAAsgL,EACL,CAAA,EACR97E,GAAAt9E,EAIAs2J,GAAC,CAAA,eAAAD,EACC,qBAAAE,CACA,CAAA,EACF+B,GAAAt4J,EAGA40J,GAAC,CAAA,QAAApuJ,GAAA,YAAAA,EAAA,cACgB,iBAAAoyJ,EACG,sBAAA9D,EAClB,UAAA,EACW,CAAA,EACb90J,EAAAg4J,GAAA,CAAA,gBAAAC,EAAA,CAEkE,EAAA,CACtE,CAAA,CAAA,CAAA,CAAA,CAIR,mtCC1QO,MAAAoB,GAAA59K,GAAA,CAGL,KAAA,CAAM,QAAA69K,EAAA,GACoB,UAAA33D,EAAA,GACZ,YAAA43D,EAAA,GACE,SAAAr2K,EAAA,EACH,EAAAzH,EAEb,CAAAy9H,EAAAsgD,CAAA,EAAAz3J,EAAA,SAAAu3J,CAAA,EACA,CAAA5+F,CAAA,EAAA34D,EAAAA,SAAA03J,GAAA,eAAA,CAAA,EAEAp3J,EAAAA,UAAA,IAAA,CACEm3J,EAAAF,CAAA,CAAuB,EAAA,CAAAA,CAAA,CAAA,EAGzB,MAAAI,EAAAt6K,GAAA,CACE3D,EAAA,SAAA2D,EAAA,OAAA,OAAA,EACAm6K,GAAAn6K,EAAA,OAAA,UAAA,GAKEo6K,EAAA,EAAA,EAEAA,EAAAp6K,EAAA,OAAA,OAAA,CACF,EAGF,IAAAuG,EAAA,WACA,OAAAlK,EAAA,YACEkK,GAAA,IAAAlK,EAAA,aAGF+mB,EAAA,MAAA,CAAA,UAAA7c,EAAA,QAAAlK,EAAA,QAAA,SAAA,CAEIukB,EAAA,QAAC,CAAA,aAAAvkB,EAAA,MACmB,KAAA,WACb,QAAAy9H,EACL,GAAAx+C,EACI,SAAAg/F,EACM,SAAAx2K,EACV,cAAAzH,EAAA,aAAA,CACgC,CAAA,EAClCukB,EAAA,QAAA,CAAA,QAAA06D,EAAA,SAAAinC,EAAA3hG,EAAAyC,GAAA,CAAA,CAAA,EAAAhnB,EAAA,KAAA,CAAA,EAC4DA,EAAA,UAAAukB,EAAAyC,GAAA,CAAA,CAAA,CACvC,CAAA,CAAA,CAG3B,+/BC3DA,MAAAk3J,GAAAl+K,GAAA+mB,EACE,MAAC,CAAA,GAAA/mB,EACK,UAAA,aAAAA,EAAA,WAAA,KACuC,MAAA,KACrC,OAAA,KACC,QAAA,YACC,KAAA,OACH,MAAA,6BACC,SAAA,CAELA,EAAA,OAAAukB,EAAA,QAAA,CAAA,SAAAvkB,EAAA,MAAA,EAAmCukB,EAAA,OAAA,CAAA,EAAA,2EAAA,CAAA,CACgD,CAAA,CACtF,8LCZF,MAAA45J,GAAAn+K,GAAA+mB,EACE,MAAC,CAAA,GAAA/mB,EACK,UAAA,cAAAA,EAAA,WAAA,KACwC,MAAA,KACtC,OAAA,IACC,QAAA,WACC,KAAA,OACH,MAAA,6BACC,SAAA,CAELA,EAAA,OAAAukB,EAAA,QAAA,CAAA,SAAAvkB,EAAA,MAAA,EAAmCukB,EAAA,OAAA,CAAA,EAAA,kEAAA,CAAA,CACuC,CAAA,CAC7E,gMCPK,MAAA65J,GAAA,CAAA,CAAA,MAAAlwI,EAAA,YAAAmwI,EAAA,QAAAr/H,CAAA,IAAA,CAGL,KAAA,CAAA,qBAAA2kD,GAAAlC,KACA,OAAA16E,EAAA,MAAA,CAAA,UAAA,oBAAA,SAAA,CAEIxC,EAAA,QAAA,CAAA,UAAA,2BAAA,SAAAo/E,EAAAz1D,CAAA,EAAA,EAEA3pB,EACA,SAAC,CAAA,UAAA,uCACW,QAAA,IAAAy6B,EAAA,CAAAq/H,CAAA,EACyB,SAAAA,EAAA95J,EAAA25J,GAAA,CAAA,UAAA,YAAA,MAAA,aAAA,CAAA,EAAA35J,EAAA45J,GAAA,CAAA,UAAA,aAAA,MAAA,gBAAA,CAKuB,CAAA,CAE5D,CAAA,CAAA,CAGN,oaCDA,SAAAG,GAAAjhL,EAAA,CACE,OAAAA,EAAA,QAAA,MAAA,EAAA,EAAA,YAAA,CACF,CAEA,SAAAkhL,GAAA9Z,EAAA+Z,EAAA,CAAA,EAAAC,EAAA,CAAA,EAAAC,EAAA,GAAA,CAME,KAAA,CAAA,MAAArhL,CAAA,EAAAonK,EACA,IAAArmK,EAAAf,EACAA,IAAA8iG,KACE/hG,EAAAgiG,IAEF,MAAAu+E,EAAAH,EAAA,KAAAI,GAAAA,EAAA,UAAAvhL,CAAA,EACAshL,IACEvgL,EAAAugL,EAAAA,EAAA,SAAA,YAAAthL,MAGF,MAAAwhL,EAAAJ,EAAA,KAAAK,GAAAA,EAAA,KAAAzhL,CAAA,EACAwhL,IACEzgL,EAAAygL,EAAAA,EAAA,KAAA,YAAAxhL,MAGF,MAAA0iG,EAAA2+E,EAAA,KAAAK,GAAAA,EAAA,KAAA1hL,CAAA,EACA,OAAA0iG,GAAA,MAAAA,EAAA,OACE3hG,EAAA2hG,EAAA,MAGF,GAAA3hG,GACF,CAEA,SAAA4gL,GAAAC,EAAAC,EAAAC,EAAA,CAME,MAAAC,EAAA,CAAA,GAAAH,EAAA,KAAA,CAAA,EAAAzpK,IAAAA,EAAA,MAAA,EAAA,KAAA,CAAA,EACA,OAAA0pK,GAAAE,EAAA,QAAAD,GAIEC,EAAA,MAAAD,CAAA,EAAA,KAAA7oK,GAAAA,EAAA,UAAA,EAHA8oK,EAMEA,EAAA,OAAA,EAAAD,CAAA,CAGN,CAIO,MAAAE,GAAA,CAAA,CAAwE,YAAAJ,EAC7E,YAAAjK,EACA,QAAAsK,EACA,SAAAz9K,EACA,YAAA09K,EAAA,cACc,aAAAC,EAAA,OACC,UAAAC,EAAA,EAEjB,IAAA,CACE,KAAA,CAAAP,EAAAQ,CAAA,EAAAp5J,EAAA,SAAA,EAAA,EACA,CAAA+3J,EAAAsB,CAAA,EAAAr5J,EAAA,SAAAm5J,CAAA,EACA,CAAAG,EAAAC,CAAA,EAAAv5J,EAAA,SAAA,EAAA,EACA,CAAAw5J,EAAAC,CAAA,EAAAz5J,EAAA,SAAA,EAAA,EACA,CAAA05J,EAAA17E,CAAA,EAAAh+E,EAAA,SAAA,EAAA,EACA,CAAA25J,EAAAC,CAAA,EAAA55J,EAAA,SAAA24J,CAAA,EAGA3a,GAAA,IAAA,CACE4b,EAAAjB,CAAA,CAA0B,EAAA,CAAAA,CAAA,CAAA,EAG5B,MAAAE,EAAA,EACAgB,EAAA,KACAC,EAAAhlK,GAAA,YACAilK,EAAA,CAAA,EACA,IAAAp8I,EAEA,MAAAq8I,EAAArB,EAAA,OAAA3oK,GAAAA,EAAA,UAAA,EAAA,SAAA,EAEAiqK,GAAAvL,GAAA,YAAAA,EAAA,cAAA30E,GAAA,SAAA20E,GAAA,YAAAA,EAAA,cAAA30E,GAAA,YAAA4+E,EAAA,IAAAxa,GAAAA,EAAA,KAAA,EAAA,GAKA+b,EAAA7O,GAAA,CAA4D,IAAA4O,EACrD,KAAA,cACC,CAAA,EAGRE,GAAAzL,GAAA,YAAAA,EAAA,cAAA30E,GAAA,WAAA20E,GAAA,YAAAA,EAAA,cAAA30E,GAAA,cAAA4+E,EAAA,IAAAxa,GAAAA,EAAA,KAAA,EAAA,GAKAga,EAAA9M,GAAA,CAAsD,IAAA8O,EAC/C,KAAA,eACC,CAAA,EAGRC,GAAA1L,GAAA,YAAAA,EAAA,cAAA30E,GAAA,aAAA4+E,EAAA,IAAAxa,GAAAA,EAAA,KAAA,EAAA,CAAA,EAIAia,EAAA/M,GAAA,CAAkD,IAAA+O,EAC3C,KAAA,kBACC,CAAA,EAGRC,EAAA17J,GAAA,CAGE,MAAAjmB,EAAAimB,EAAA,OAAA,MAIA,GAHAq/E,EAAAtlG,CAAA,EACA0gL,EAAA,EAAA,EAEA,CAAA1gL,EAEEigL,EAAA,QAAAphK,GAAA,CACEA,EAAA,WAAA,EAAiB,CAAA,EAEnBqiK,EAAAjB,CAAA,MAA0B,CAG1B,MAAA2B,EAAA3B,EAAA,OAAAphK,GACE0gK,GAAc1gK,EACZ2iK,EACA/B,EACAC,CACA,EAEF,cAAA,QAAA1/K,EAAA,OAAA,YAAA,CAAA,EAAA,GAAA6e,EAAA,IAEI,EAENqiK,EAAAU,CAAA,EACF,EAGF,GAAA,CAAA5L,EACE,OAAAzwJ,EAAAyC,GAAA,CAAA,CAAA,EAEF,MAAA65J,EAAAtB,IAAA,WACA73J,EAAAX,EAAA,MAAA,CAAA,UAAA85J,EAAA,iCAAA,GAAA,SAAA,CAEI95J,EAAA,MAAA,CAAA,UAAA,6CAAA,SAAA,CACEA,EAAA,MAAC,CAAA,UAAA+4J,EAAA,iCAAA,0BAIO,SAAA,CAGNv7J,EAAA,SAAC,CAAA,UAAA,+BACW,QAAA,IAAA,CAER27J,EAAAjB,CAAA,EACAc,EAAA,EAAA,EACAL,EAAA,EAAA,CAAkB,EACpB,SAAAn7J,EAAA,OAAA,CAAA,UAAA,4BAAA,SAAAA,EAAAwgD,GAAA,CAAA,KAAA,WAAA,CAAA,CAAA,CAAA,CAIA,CAAA,EACFi7G,EAAA,OAAA,GAAAz7J,EAEE,SAAC,CAAA,UAAA,+BACW,QAAA,IAAA,OAER+/E,EAAA,EAAA,GACA90D,EAAA4wI,EAAA,UAAA,MAAA5wI,EAAA,OAAyB,EAC3B,SAAAjrB,EAAA,OAAA,CAAA,UAAA,yBAAA,SAAAA,EAAAwgD,GAAA,CAAA,KAAA,OAAA,CAAA,CAAA,CAAA,CAIA,CAAA,EACFxgD,EAEF,QAAC,CAAA,KAAA,OACM,YAAA,cACO,MAAAy7J,EACL,IAAAI,EACF,SAAAn7J,GAAA,CAEH07J,EAAA17J,CAAA,CAA4B,CAC9B,CAAA,CACF,CAAA,CAAA,EACF,CAAA66J,GAAA/4J,EAAA,MAAA,CAAA,UAAA,4BAAA,SAAA,CAGIxC,EAAAq5J,GAAC,CAAA,UAAA,4BACW,SAAA,IAAA,CAER0B,GAAQ,EACV,QAAAgB,EAES,MAAA,MACH,YAAA,EACO,EAAA,YAHT,EAIL/7J,EACD,SAAC,CAAA,UAAA,6BACW,QAAA,IAAA,OAER+/E,EAAA,EAAA,EACAy7E,EAAA,EAAA,GACAvwI,EAAA4wI,EAAA,UAAA,MAAA5wI,EAAA,OAAyB,EAC3B,SAAAjrB,EAAA,OAAA,CAAA,UAAA,8BAAA,SAAAA,EAAAwgD,GAAA,CAAA,KAAA,QAAA,CAAA,CAAA,CAAA,CAIA,CAAA,CACF,EAAA,CACF,EAAA,EAEJh+C,EAAA,MAAA,CAAA,SAAA,CAEGk5J,EAAA,OAAA,GAAAjB,GACCiB,EACEf,GAAA2B,EACa1B,CACb,EAAA,IAAA,CAAA1a,EAAA7/J,IAAA2f,EAEAu8J,GAAC,CAAA,GAAAxC,GAAA7Z,EAAA,KAAA,EAE0B,MAAA7/J,EACzB,MAAA25K,GACO9Z,EACL+b,EACA/B,EACAC,CACA,EACF,MAAAja,EAAA,MACa,WAAAoc,EACb,kBAAApc,EAAA,WACyB,SAAAsc,GAAA,CAEvBV,EAAA5b,EAAA,KAAA,EAAAsc,EACA,aAAA98I,CAAA,EACAA,EAAA,WAAA,IAAA,CACEpiC,EAAAw+K,CAAA,EACAR,EAAA,EAAA,CAAuB,EAAAM,CAAA,CACR,CACnB,EAAA,aAAAv7K,GAnBkB,CAAA,EAqBrB,CAAAi8K,GAAA95J,EAAAC,GAAA,CAAA,SAAA,CAGE,CAAAk4J,GAAAe,EAAA,OAAAd,GAAA56J,EACC,SAAC,CAAA,UAAA,qCACW,QAAA,IAAAm7J,EAAA,EAAA,EACsB,SAAAn7J,EAAA,MAAA,CAAA,UAAA,qCAAA,SAAAwC,EAAA,MAAA,CAAA,UAAA,uCAAA,SAAA,CAGwB,aAAAk5J,EAAA,OAC7B,GAAO,CAAA,CAAA,CAAA,CAAA,CAElC,CAAA,EACFf,GAAAe,EAAA,OAAAd,GAAA56J,EAGA,SAAC,CAAA,UAAA,qCACW,QAAA,IAAAm7J,EAAA,EAAA,EACuB,SAAAn7J,EAAA,MAAA,CAAA,UAAA,qCAAA,SAAAA,EAAA,MAAA,CAAA,UAAA,uCAAA,SAAA,WAAA,CAAA,CAAA,CAAA,CAMjC,CAAA,CACF,EAAA,EAEJ07J,EAAA,QAAA,GAAA17J,EAAA,MAAA,CAAA,UAAA,2BAAA,SAAA,iBAAA,CAGwD,EAAA,CAE5D,CAAA,CAAA,EAIJy8J,EAAA,IAAAnB,EAAA,CAAAD,CAAA,EAEA,OAAAiB,EACErB,IAAA,YACEz4J,EACEiyJ,GAAC,CAAA,UAAA,wCACY,KAAA4G,EACL,SAAAoB,EACN,SAAA,CAEAj6J,EAAAiyJ,GAAA,OAAA,CAAA,UAAA,kBAAA,QAAA,cAAA,SAAA,CACGsH,GAAA,MAAiB,CAAAA,GAAArB,EAAA,OAAA3oK,GAAAA,EAAA,UAAA,EAAA,SAAA,GAAA2oK,EAAA,OAAA3oK,GAAAA,EAAA,UAAA,EAAA,CAAA,EAAA,MAG+B,CAAAgqK,GAAArB,EAAA,OAAA3oK,GAAAA,EAAA,UAAA,EAAA,OAAA,GAAA,0BAG/C,EAAA,EACJiO,EAAAy0J,GAAA,KAAA,CAAA,SAAAtxJ,CAAA,CAAA,CACwB,CAAA,CAAA,EAI5BX,EACEiyJ,GAAC,CAAA,UAAA,kBACW,KAAA4G,EACJ,SAAAoB,EACN,SAAA,CAEAz8J,EAAA00J,GAAC,CAAA,YAAA,2BACa,UAAA,GAED,KAAA,QACL,EAAA,oBAFF,EAGN10J,EAAAy0J,GAAA,KAAA,CAAA,SAAAtxJ,CAAA,CAAA,CACwB,CAAA,CAAA,EAK9BX,EAAAC,GAAA,CAAA,SAAA,CAEIzC,EAAA65J,GAAC,CAAA,YAAAC,EACC,MAAArJ,EAAA,KACmB,QAAAiM,GAAAtB,EAAAsB,CAAA,CAC0C,CAAA,EAC/D18J,EAAAigF,GAAA,CAAA,UAAA,kBAAA,GAAA,CAAA65E,EAAA,SAAA32J,EAAA,CAGA,CAAA,CAAA,CAIR,EAYA,SAAAo5J,GAAA,CAA+B,GAAAv+K,EAC7B,MAAAqC,EACA,MAAAspC,EACA,MAAAt2B,EACA,WAAAipK,EACA,kBAAAK,EACA,SAAAr/K,CAEF,EAAA,CACE,KAAA,CAAAs/K,EAAAC,CAAA,EAAA96J,EAAA,SAAA46J,CAAA,EAEA,OAAA9lK,GAAA,UAAA,IAAA,CACEgmK,EAAAF,CAAA,CAA+B,EAAA,CAAAA,CAAA,CAAA,EAGjCn6J,EACE,MAAC,CAAA,UAAA,qCACW,QAAA,IAAA,CAER85J,IACEO,EAAA,CAAAD,CAAA,EACAt/K,EAAA,CAAAs/K,CAAA,EACF,EACF,SAAA,CAEA58J,EAAAq5J,GAAC,CAAA,UAAA,4BACW,QAAAj6K,GAAAA,EAAA,gBAAA,EAC8B,SAAAC,GAAA,CAEtCw9K,EAAAx9K,CAAA,EACA/B,EAAA+B,CAAA,CAAiB,EACnB,QAAAu9K,EAES,MAAAjzI,CACT,EAAA,GAAA3rC,KAAAqC,GAFc,EAGfi8K,GAAA95J,EAAA,OAAA,CAAA,UAAA,yBAAA,SAAA,CACuD,IAAAnP,EAAE,GAAM,EAAA,EAAC,CAAAipK,GAAAt8J,EAAA,MAAA,CAAA,UAAA,yBAAA,SAAA3M,EAAA,CACF,CAAA,CAAA,CAGrE,0hCCxZO,MAAAypK,GAAA,CAAA,CAA6C,MAAA5c,EAClD,UAAAsc,EACA,QAAA/hI,CAEF,IAAA,CACE,KAAA,CAAA,qBAAA2kD,GAAAlC,KACA,OAAA16E,EAAA,SAAA,CAAA,UAAA,QAAAg6J,EAAA,UAAA,KAAA,QAAA/hI,EAAA,SAAA,CAEK2kD,EAAA8gE,EAAA,UAAA,EAAqClgJ,EACtCwgD,GAAC,CAAA,KAAAg8G,EAAA,QAAA,MAC6B,GAAA,CACxB,MAAA,OACK,YAAA,QACM,CACf,CAAA,CACD,CAAA,CAAA,CAGP,0YCXO,MAAAO,GAAAthL,GAAA,CAGL,MAAAuhL,EAAA,0CACA,CAAAn/D,EAAAo/D,CAAA,EAAAl7J,EAAA,SAAA,EAAA,EACA,CAAAlR,EAAAqsK,CAAA,EAAAn7J,EAAA,SAA4B,IAAAtmB,EAAA,OAAA,UAAAA,EAAA,cAAAA,EAAA,cAAAA,EAAA,eAAA,CAGE,IAAAsqB,GAAAtqB,EAAA,cAAA,GAAA,EAAA,OAAA,YAAA,EACiC,IAAAsqB,GAAAtqB,EAAA,cAAA,GAAA,EAAA,OAAA,YAAA,CACA,GAAA,CACnD,IAAA,OACC,IAAA,MACA,CACP,EAGNkK,EAAAlK,EAAA,UAAA,SAAAA,EAAA,YAAA,QAEAo9C,EAAA,CAAA,CAAA,IAAA7e,EAAA,IAAApgC,CAAA,EAAA8a,EAAA,WAAA,CAKE,GAAAslB,GAAA,MAAApgC,IAAA,MAAAA,IAAA,OAME,OAAAqjL,EAAA,EAAA,EACA,GAGF,GAAAvoK,IAAA,UACE,GAAA,OAAAslB,CAAA,EAAA,OAAApgC,CAAA,EACE,OAAAqjL,EAAA,EAAA,EACA,WACF,KAAA,MAAAjjJ,CAAA,EAAA,KAAA,MAAApgC,CAAA,EAEA,OAAAqjL,EAAA,EAAA,EACA,GAEF,OAAAA,EAAA,EAAA,EACA,EAAO,EAGTE,EAAA,CAAAC,EAAAC,EAAA3oK,EAAA,WAAA,CAKEmkC,EAAAukI,EAAA1oK,CAAA,GACE2oK,EAAAD,CAAA,CACF,EAGF,OAAA56J,EAAA,MAAA,CAAA,UAAA7c,EAAA,MAAA,CAAA,QAAA,OAAA,SAAA,MAAA,EAAA,SAAA,CAEI6c,EAAA,MAAA,CAAA,MAAA,CAAA,YAAA,MAAA,EAAA,SAAA,CACExC,EAAA,QAAC,CAAA,aAAA,MACY,KAAAvkB,EAAA,KAEC,MAAAoV,EAAA,IACE,SAAA,CAAA,CAAA,OAAA2kB,CAAA,IAAA0nJ,EAAA,CAAA,IAAA1nJ,EAAA,MAAA,IAAA3kB,EAAA,GAAA,CAAA,CAEoC,EAAA,WAJ9C,EAMNmP,EAAA,MAAA,CAAA,SAAA,IAAA,CAAA,EACOA,EACP,QAAC,CAAA,aAAA,MACY,KAAAvkB,EAAA,KAEC,MAAAoV,EAAA,IACE,SAAA,CAAA,CAAA,OAAA2kB,CAAA,IAAA0nJ,EAAA,CAAA,IAAArsK,EAAA,IAAA,IAAA2kB,EAAA,KAAA,CAAA,CAEoC,EAAA,WAJ9C,CAMN,EAAA,EACFxV,EACA,SAAC,CAAA,UAAA,6BACW,QAAA,IAAAm9J,EAAAtsK,EAAApV,EAAA,SAAAA,EAAA,IAAA,EACyD,SAAA,OACpE,CAAA,EAEDoiH,GAAA79F,EAAA,MAAA,CAAA,UAAA,mBAAA,SAAAvkB,EAAA,WAAAuhL,EAAA,CAEkE,CAAA,CAAA,CAIxE,mqBC7EO,MAAAM,GAAA,CAAA,CAEF,YAAAC,EACH,YAAA9M,EACA,SAAAnzK,EACA,UAAA49K,EAAA,EAEF,IAAA,CACE,KAAA,CAAApB,EAAAsB,CAAA,EAAAr5J,EAAA,SAAAm5J,CAAA,EACA1gL,EAAA,CAAgB,CAAA,MAAAgjL,GAAA,MAAA,2CAAA,EACkD,CAAA,MAAA,MAAA,MAAA,EAAA,EACrB,CAAA,MAAA,QAAA,MAAA,OAAA,CACI,EAGjD,GAAA,CAAA,UAAAC,EAAA,UAAAC,EAAA,YAAAC,EAAA,YAAAC,CAAA,EAAAL,EAEA,MAAAM,EAAA,CAAAF,GAAA,CAAAC,EAEAD,EAAAA,GAAAF,EACAG,EAAAA,GAAAF,EAEA,MAAAI,EAAArN,EAAA,aAAA,SAAA,SAAA,OAEAsN,EAAA,CAAA/jJ,EAAAgkJ,IACEA,EACE,GAAOhkJ,IAAAikJ,GAEP,4CAEF,QAGFC,EAAA,CAAAC,EAAAC,IAAA,CAMEC,EAAAF,CAAA,EAEAA,IAAA,SACEC,EAAA,CAAAD,EAAAA,CAAA,CAAA,CACF,EAGF,CAAAG,EAAAD,CAAA,EAAAt8J,EAAA,SAAoCg8J,EAAAJ,EAAAE,CAAA,CACI,EA0DxC,OAvDAr7J,EAAA,MAAA,CAAA,SAAA,CAEIxC,EAAA65J,GAAC,CAAA,YAAAC,EACC,MAAArJ,EAAA,KACmB,QAAAiM,GAAAtB,EAAAsB,CAAA,CAC0C,CAAA,EAC9Dl6J,EAAAy9E,GAAA,CAAA,GAAA,CAAA65E,EAAA,SAAA,CAEC95J,EAAAgmJ,GAAC,CAAA,MAAAsY,EACQ,GAAA,gBACJ,QAAA9jL,EACH,SAAA2jL,GAAAD,EAAAC,EAAA7gL,CAAA,CAEgE,CAAA,EAEjEghL,IAAA,UAAAb,IAAAC,EAAA19J,EAAA,QAAA,CAAA,SAAA09J,CAAA,CAAA,EAAAl7J,EAAAC,GAAA,CAAA,SAAA,CAMMguJ,EAAA,aAAA,WAAAjuJ,EACC+7J,GAAC,CAAA,OAAA,CAAAd,EAAAC,CAAA,EAE8B,cAAA,CAAA,IAAAC,EAAA,IAAAC,CAAA,EACuB,KAAA,EAC9C,gBAAA,GACW,SAAA/sK,GAAAvT,EAAA,CAAAuT,EAAA,IAAAA,EAAA,GAAA,CAAA,EAEkB,SAAA,CAEpC,KAAA,GACI,CAAA,EAAA,aATC,GAUN4/J,EAAA,aAAA,QAAAA,EAAA,aAAA,WAAAzwJ,EAKA+8J,GAAC,CAAA,cAAA,CAEgB,IAAAY,EACR,IAAAC,CACA,EACP,KAAAE,EACM,SAAAjtK,GAAAvT,EAAA,CAAAuT,EAAA,IAAAA,EAAA,GAAA,CAAA,CAE6B,EAAA,OAP/B,CASL,CAAA,CAAA,EAEL,EAAA,CAEN,CAAA,CAAA,CAIN,qkBClHA,MAAA2tK,GAAAte,IAAA,CAEgC,aAAA,gEAChB,WAAAA,EAAA,WACI,YAAAA,EAAA,YAAA,OAAAue,GAAAA,EAAA,UAAA,EAAA,IAAAA,GAAAA,EAAA,KAAA,CAIpB,GAEAC,GAAAxe,GAAA,CAGE,IAAAvpH,EAAA,CAAsC,aAAA,+DAElC,WAAAupH,EAAA,UACgB,EAGpB,OAAAA,EAAA,YACEvpH,EAAA,CAAA,GAAAA,EAAA,IAAAupH,EAAA,UAAA,IAAAA,EAAA,YAEFvpH,CACF,EAEAgoI,GAAA,CAAAC,EAAAC,IAAA,OAIE,MAAAC,IAAA7zI,EAAA4zI,GAAA,YAAAA,EAAA,QAAA,YAAA5zI,EAAA,iBAAA,CAAA,EACA8zI,EAAAD,EAAA,UAAqC5e,GAAAA,EAAA,aAAA0e,EAAA,UACQ,EAG7CI,EAAAJ,EAAA,eAAA,kEAAA,CAAAA,EAAA,aAAA,CAAAA,EAAA,YAAA,QAIA,OAAAG,EAAA,GACEC,EACEF,EAAA,OAAAC,EAAA,CAAA,EAEAD,EAAAC,CAAA,EAAAH,EAGFE,EAAA,KAAAF,CAAA,EAEFE,CACF,EAEO,SAAAG,GAAAJ,EAAA3e,EAAAgf,EAAAC,EAAAjmD,EAAA,GAAA,CAOLimD,EACEjf,EAAA,YAAA,QAAA3kE,GAAA,CACEA,EAAA,QAAA4jF,IACE5jF,EAAA,WAAA29B,EACF,CAAA,EAIFgnC,EAAA,YAAA,QAAAue,GAAA,CACEA,EAAA,WAAA,EAAmB,CAAA,EAIvB,MAAAG,EAAAJ,GAAAte,CAAA,EACAvpH,EAAAgoI,GAAAC,EAAAC,CAAA,EACAK,EAAAvoI,CAAA,CACF,CAGO,MAAAyoI,GAAA,CAAAP,EAAA3e,EAAAgf,EAAAG,IAAA,CAML,MAAAC,EAAAD,GAAA,OAAA,KAAAA,CAAA,GAAA,GACAC,EAAA,QACEpf,EAAA,YAAA,QAAA3kE,GAAA,CACE+jF,EAAA,SAAA/jF,EAAA,KAAA,IACEA,EAAA,WAAA8jF,EAAA,CAAA,CAAAA,EAAA9jF,EAAA,KAAA,EAAA,GAGF,CAAA,EAGJ,MAAAqjF,EAAAJ,GAAAte,CAAA,EACAvpH,EAAAgoI,GAAAC,EAAAC,CAAA,EACAK,EAAAvoI,CAAA,CACF,EAGO4oI,GAAA,CAAAV,EAAA3e,EAAAgf,EAAAruK,IAAA,CAMLqvJ,EAAA,UAAArvJ,EAAA,CAAA,EACAqvJ,EAAA,UAAArvJ,EAAA,CAAA,EACA,MAAA+tK,EAAAF,GAAAxe,CAAA,EACAvpH,EAAAgoI,GAAAC,EAAAC,CAAA,EACAK,EAAAvoI,CAAA,CACF,EASO,SAAA6oI,GAAA3E,EAAA4E,EAAA,CAIL,MAAAC,GAAAD,GAAA,CAAA,GAAA,IAA0DE,GAAAA,EAAA,UAC7C,EAEb,OAAA,IAAA,IAAA,CAAe,GAAA9E,EAAA,MAAA,EAAA,CAAA,EAAA,IAAApyJ,GAAAA,EAAA,UAAA,EAC8B,GAAAi3J,CACxC,CAAA,CAEP,CAEA,SAAAE,IAAA,CACE,MAAAC,EAAAr9J,EAAAy0D,GAAA,CAAA,UAAA,MAAA,IAAA,OAAA,GAAA,CAAA,GAAA,CAAA,EAAA,SAAA,CAEIj3D,EAAAoG,GAAA,CAAA,MAAA,MAAA,CAAA,EAAyBpG,EAAAoG,GAAA,CAAA,MAAA,KAAA,CAAA,CACD,CAAA,CAAA,EAG5B,OAAA5D,EAAA0gJ,GAAA,CAAA,UAAA,6BAAA,SAAA,CAEIljJ,EAAAkjJ,GAAA,CAAA,UAAA,oBAAA,SAAAljJ,EAAAoG,GAAA,CAAA,MAAA,MAAA,CAAA,CAAA,CAAA,EAEA5D,EAAA0gJ,GAAA,CAAA,SAAA,CAEG2c,EAAAA,EACAA,CACA,EAAA,CACH,CAAA,CAAA,CAGN,CAEA,SAAAC,IAAA,CACE,OAAAt9J,EAAA,MAAA,CAAA,UAAA,sBAAA,SAAA,CAEIxC,EAAA4/J,GAAA,EAAA,EAAqB5/J,EAAA4/J,GAAA,EAAA,EACA5/J,EAAA4/J,GAAA,EAAA,EACA5/J,EAAA4/J,GAAA,EAAA,CACA,CAAA,CAAA,CAG3B,CAEA,SAAAG,GAAAtkL,EAAA,CACE,KAAA,CAAA,gBAAAukL,CAAA,EAAAvkL,EACA,CAAM,KAAA+qB,EACJ,oBAAAk3E,EACA,oBAAAmC,CACA,EAAAzF,GAAA,EAEFykF,EAAAnhF,IAEAm9E,EAAAr0J,EAAA,OAAA,OACW05I,GACP8f,GAAA,MAAAA,EAAA,SAAA9f,EAAA,UAAA,CAEsE,EAAA,OAEvEA,GACC,CAAA+f,GAAA/f,CAAA,CAE4B,EAIhC,CAAAggB,EAAAC,CAAA,EAAAtpK,GAAA,SAAwD2oK,GAAA3E,EAAAgE,EAAA,MAAA,cAAA,CACc,EAMtEtd,GAAA,IAAA,CAEE4e,EAAAX,GAAA3E,EAAAgE,EAAA,MAAA,cAAA,CACsE,CACtE,EAAA,CAAAhE,CAAA,CAAA,EAGF,MAAAj+E,EAAAp2E,EAAA,cAEAksC,EAAA0tH,GAAA,CACE,MAAApnF,EAAA0E,IACA1E,EAAA,MAAA,eAAAonF,EACApnF,EAAA,MAAA,OAAA,EACA6G,EAAA7G,CAAA,CAAgC,EAGlCqnF,EAAAngB,GAAA,CACE,MAAAogB,EAAA,IAAA,IAAAJ,CAAA,EACAI,EAAA,IAAApgB,EAAA,UAAA,EACEogB,EAAA,OAAApgB,EAAA,UAAA,EAEAogB,EAAA,IAAApgB,EAAA,UAAA,EAEFigB,EAAAG,CAAA,CAAwC,EAG1C,OAAA99J,EAAA,MAAA,CAAA,UAAA,sBAAA,SAAA,EAEMq4J,GAAA,CAAA,GAAA,OAAA3a,GAAAggB,EAAA,IAAAhgB,EAAA,UAAA,CAAA,EAAA,IAAAA,GAAA,CAGE,MAAAuQ,EAAA7zE,EAAA,KAAkCo0E,GAAAA,EAAA,OAAA9Q,EAAA,UACF,EAEhC,OAAA19I,EAAA,MAAA,CAAA,UAAA,6BAAA,SAAA,CAEK09I,EAAA,YAAA,eAAAuQ,GAAAzwJ,EACC86J,GAAC,CAAA,YAAA,cACa,UAAA,GACD,YAAA5a,EAAA,YACQ,YAAAuQ,EACnB,SAAA8P,GAAAnB,GAEEP,EACE3e,EACAxtG,EACA6tH,CACA,EACF,QAAA,IAAAtB,GAAAJ,EAAA3e,EAAAxtG,CAAA,CAG2D,CAAA,EAE9DwtG,EAAA,YAAA,SAAAuQ,GAAAzwJ,EAGDs9J,GAAC,CAAA,YAAApd,EACc,YAAAuQ,EACb,UAAA,GACW,SAAA5/J,GAAA0uK,GAETV,EACE3e,EACAxtG,EACA7hD,CACA,CACF,CAAA,CAEH,GAAAqvJ,EAAA,UAAA,CAEL,CAAA,EAEH19I,EAAA,MAAA,CAAA,SAAA,CAEDxC,EAAA,MAAA,CAAA,UAAA,iBAAA,SAAAA,EAAA,QAAA,CAAA,UAAA,wBAAA,SAAA,kBAAA,CAAA,CAAA,CAAA,EAEAs6D,GAAAugG,EAAA,CAAA,YAAA,CAAA,EAAA,IAAA3a,GAEElgJ,EACE88J,GAAC,CAAA,MAAA5c,EAEC,QAAA,IAAAmgB,EAAAngB,CAAA,EAC0C,UAAAggB,EAAA,IAAAhgB,EAAA,UAAA,CACO,EAAAA,EAAA,UAHtC,CAIb,CAEH,EAAA,CACH,CAAA,CAAA,CAGN,CAEA,SAAAsgB,GAAA/kL,EAAA,CAGE,KAAA,CAAA,KAAA+qB,EAAA,mBAAA66I,CAAA,EAAAjnE,GAAA,EACA,OAAAinE,EACErhJ,EAAA8/J,GAAA,CAAA,CAAA,EAAoCt5J,GAAA,MAAAA,EAAA,QAAA,KAEpCxG,EAAAyC,GAAA,CAAA,CAAA,EAEFzC,EAAA+/J,GAAA,CAAA,GAAAtkL,CAAA,CAAA,CACF;8WC9TO,MAAMglL,GAA4B,GAEzB,SAAAC,GAASjoK,EAAyB4P,EAAW,CAC3D,GAAI,CAAC5P,EACI,OAAAA,EAEH,MAAAkoK,EAAqBloK,EAAI,OACxB,OAAAkoK,EAAW,OAASt4J,EAAIs4J,EAAW,UAAU,EAAGt4J,EAAI,CAAC,EAAI,IAAM5P,CACxE,CCCO,SAAAmoK,GAAAnlL,EAAA,CACL,KAAA,CAAA,OAAA8iJ,EAAA,OAAAsiC,EAAA,CAAA,EAAA,WAAAC,CAAA,EAAArlL,EACA,GAAA,CAAA8iJ,EACE,OAAAv+H,EAAAyC,GAAA,CAAA,CAAA,EAEF,MAAAs+J,EAAAD,EAAA,KAAA,IAAAviC,EAAA,OAAA,CAAA,EAAA,KAAA,IAAAA,EAAA,OAAA,CAAA,EAGA,OAAAwiC,IAAA,EACE/gK,EAAAyC,GAAA,CAAA,CAAA,EAEFzC,EACE,MAAC,CAAA,UAAA,8BAAA8gK,EAAA,aAAA,KACsE,SAAAviC,EAAA,MAAA,EAAAwiC,CAAA,EAAA,IAAA,CAAAxlF,EAAAl7F,IAAA,CAGnE,MAAA2gL,EAAAN,GAAAnlF,EAAA,MAAAklF,EAAA,EACA,OAAAzgK,EACE00J,GAAC,CAAA,YAAAn5E,EAAA,MACyB,SAAA/4E,EAAA0gJ,GAAA,CAAA,GAAA,CAAA,QAAA,OAAA,WAAA,SAAA,IAAA,MAAA,EAAA,SAAA,CAItBljJ,EAAAkjJ,GAAC,CAAA,GAAA,CACK,MAAA,OACK,OAAA,OACC,OAAA,UACA,gBAAA2d,EAAAxgL,CAAA,CACqB,EAC/B,MAAA,CAAA,OAAA,SAAA,CAE2B,EAAA,eAAAA,GADP,EAEtB2f,EAAA8/C,GAAA,CAAA,QAAA,QAAA,SAAAkhH,EAAA,EAC0ChhK,EAAA8/C,GAAA,CAAA,QAAA,QAAA,GAAA,CAAA,MAAA,UAAA,EAAA,SAAAy7B,EAAA,KAAA,CAAA,CAG1C,EAAA,CACF,EAAAA,EAAA,KAjBgB,CAkBlB,CAAA,CAEH,CAAA,CAGP,4ZCpBA,MAAA5C,GAAAC,GAAAC,EAAA,EAkBAooF,GAAA,GAIAnzF,GAAA,CAAuC,WAAA,GACzB,YAAA,CAAA,EACE,OAAA,CAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,IAAA,CAAA,EAC2B,MAAA,CAClC,QAAA,GACI,SAAA,EACC,EACZ,MAAA,CACO,QAAA,GACI,SAAA,EACC,CAEd,EAQA,eAAAozF,GAAAC,EAAAxlF,EAAAt7F,EAAA+gL,EAAA/gK,EAAA,SAOE,KAAA,CAAA,aAAAghK,CAAA,EAAAC,GAAyBjhL,EACvB8gL,EAAA,YAAA,MACwB,EAG1BI,EAAA,MAAA7G,EAAA8G,EAAAC,IAAA,CAKE,MAAAh7G,EAAA,IAAA,IACAA,EAAA,IAAIm1B,GACeC,EACA,EAGnB,MAAA6lF,EAAAhH,EAAA,IAAA5hL,GAAAA,EAAA,KAAA,EAAA,OAAA4I,GAAAA,IAAAk6F,EAAA,EAGA,GAAA4lF,IAAA1lF,GAAA,UAAA0lF,IAAA1lF,GAAA,cAAA,CAKE,MAAA6lF,EAAA,MAAAvgK,GAAA,sBAAqCsgK,EACnCD,CACA,EAEF,UAAAjvF,KAAAmvF,EAAA,QACEl7G,EAAA,IAAA+rB,EAAA,GAAAA,EAAA,IAAA,UACFgvF,IAAA1lF,GAAA,QAAA0lF,IAAA1lF,GAAA,YAAA,CAKA,MAAA6lF,EAAA,MAAAvgK,GAAA,qBAAqCsgK,EACnCD,CACA,EAEF,UAAAjvF,KAAAmvF,EAAA,SACEl7G,EAAA,IAAA+rB,EAAA,QAAAA,EAAA,QAAA,EAIJ,OAAAkoF,EAAA,IAAAn/E,IAAA,CAAsC,MAAAA,EAC7B,MAAAqmF,EAAArmF,EAAA,GAAA90B,CAAA,EAC+B,eAAAm7G,EAAArmF,EAAA,GAAA90B,CAAA,EACQ,MAAA80B,EAAA,KAC5B,EAAA,CAClB,EAGJqmF,EAAA,CAAArmF,EAAAsmF,EAAAC,IAAA,CAKE,IAAAn4I,EAAAm4I,EAAA,IAAAvmF,EAAA,KAAA,GAAAA,EAAA,MACA,OAAAsmF,IACEl4I,EAAA+2I,GAAA/2I,EAAAs3I,EAAA,GAEFt3I,CAAO,EAGT40G,EAAA,MAAAgjC,EAAqBJ,EAAA,YACPxlF,EACZt7E,CACA,EAEF7B,EAAA+/H,EAAA,IAAA5rG,GAAAA,EAAA,cAAA,EAMAovI,EAJAZ,EAAA,YAAA,KAAkDroL,GAAAA,EAAA,UACjC,EAGjBqoL,EAAA,YAAA,IAC4B,CAAA5lF,EAAAjwF,IAAAiwF,EAAA,WAAA8lF,EAAA/1K,CAAA,EAAA+1K,EAAA/1K,CAAA,EAAA,QAAA,OAAA,OAAA,EAAA,QAAA,IAAA,SAAA,CAKO,EAAA+1K,EAGnCW,EAAA,CAAqC,OAAAZ,IAAA,MAAAD,EAAA,YAAA,IAAAjhB,GAAAA,EAAA,KAAA,EAAA,OAI7B,OAAA3hB,EAAA,IAAA5rG,GAAAA,EAAA,KAAA,EAC2B,KAAAn0B,EACjC,EAAA4iK,IAAA,MAAAD,EAAA,YAAA,IAG8BjhB,GAAA,OAAA,QAAAj1H,EAAAszG,EAAA,KAAA50G,GAAAA,EAAA,QAAAu2H,CAAA,IAAA,YAAAj1H,EAAA,QAAAi1H,EAAA,MAEwC,EAAA,OAEhE,EAAAkhB,IAAA,MAAAD,EAAA,YAAA,IAAAjhB,GAAAA,EAAA,KAAA,EAAA,OAIA,uBAAAihB,EAAA,YAAA,IAE0C5lF,GAAAA,EAAA,KACrB,EAC3B,KAAA4lF,EAAA,WACkB,cAAAC,IAAA,MAAA,6DAAA,mDAIZ,SAAA,OACI,KAAAA,IAAA,MAAA,MAAA,MACyB,KAAAA,IAAA,MAAAD,EAAA,YAAA,IAGL5lF,GAAAA,EAAA,WAAA,GAAA,CACQ,EAAA,OAEhC,OAAA,CACE,OAAA6lF,IAAA,MAAAW,EAAA,OACoD,MAAAX,IAAA,MAAAW,EAAA,MACD,CAC3D,EAWF,MARA,CAAe,KAAA,CAAAC,CAAA,EACS,OAAAzjC,EACtB,OAAA6iC,IAAA,OAAAn2I,EAAA+2I,EAAA,SAAA,YAAA/2I,EAAA,QAAAwB,EAAAu1I,EAAA,SAAA,YAAAv1I,EAAA,KAIwC,CAG5C,CAEA,MAAAw1I,GAAA,CAAA7iL,EAAA8iL,EAAAC,IAAA,CAKE,GAAA/iL,EAAA,QAAAA,EAAA,OAAA,CAAA,EAAA,CACE,MAAAgjL,EAAAhjL,EAAA,OAAA,CAAA,EACAijL,EAAAD,EAAA,KAAA,uBAAAA,EAAA,WAAA,EAEAE,EAAAJ,EAAA,YAAA,KAAqDhiB,GAAAA,EAAA,QAAAmiB,CAC1B,EAE3BF,EAAAD,EACEI,EACA,CAAAA,EAAA,UACoB,EAG1B,EAEO,SAAAC,GAAAC,EAAApB,EAAAxzF,EAAA,CAML,MAAAx9E,EAAAoyK,EAAAA,GADApB,IAAA,MAAA,GAAA,IACA,IACA,IAAA91I,EAAA81I,IAAA,MAAAhxK,EAAAA,EAAA,EAEA,OAAAk7B,EAAAsiD,IACEtiD,EAAAsiD,GAGF,CAAO,MAAA,GAAAx9E,MACK,OAAA,GAAAk7B,KACC,CAEf,CAEA,MAAAm3I,GAAA,CAAA3B,EAAAM,IACEN,EAGA,sCAAAM,IAAA,MAAA,MAAA,QAFE,4BAOJsB,GAAAjnL,GAAA,CAGE,KAAA,CAAM,OAAAgnK,EACJ,YAAAkgB,EACA,0BAAAC,EACA,yBAAAC,EACA,MAAAxiL,EACA,YAAA8gL,EACA,SAAAC,EACA,cAAA0B,CACA,EAAArnL,EAEF,CAAA,YAAA4kB,GAAAO,KACA,CAAA,KAAA4F,EAAA,mBAAA66I,EAAA,oBAAA3jE,CAAA,EAAAtD,GAAA,EAEA,CAAA,qBAAAgF,GAAAlC,KAEA,CAAA6lF,EAAAC,CAAA,EAAAjhK,EAAA,SAAA,EAAA,EAEAkhK,EAAA7jF,EAAA+hF,EAAA,UAAA,EAEA+B,EAAA59H,EAAA,YAAsB,IAAA,SAAA,OAAA7Y,GAAAxB,EAAAzkB,GAAA,YAAAA,EAAA,eAAA,YAAAykB,EAAA,KAEEwlI,GAAAA,EAAA,OAAA0Q,EAAA,cAFF,YAAA10I,EAGgC,YAC/C,CAAAjmB,EAAA26J,EAAA,UAAA,CACwB,EAG/B,CAAA,KAAAznF,CAAA,EAAA74E,GAA2B,CACzB,uBACEsgK,EACA+B,EAAA,EACc7iL,EACd+gL,EACA/gK,CACA,EACF,IAAA6gK,GAEEC,EACE+B,EAAA,EACc7iL,EACd+gL,EACA/gK,CACA,EACF,CACF,QAAA,CAAA,CAAA8gK,CACa,CACb,EAIFgC,EAAA,IAAA3gK,EACE,MAAC,CAAA,QAAApjB,GAAA,CAEGA,EAAA,gBAAA,CAAsB,EACxB,UAAA,4CACU,SAAA,CAEV4gB,EAAA,OAAA,CAAA,UAAA,8BAAA,SAAA,aAAA,EAAwDwC,EAAAiyJ,GAAA,CAAA,SAAA,CAEtDz0J,EAAAy0J,GAAA,OAAA,CAAA,UAAA,kBAAA,QAAA,cAAA,SAAA2M,IAAA,MAAA,YAAA,WAAA,CAAA,EAEA5+J,EAAAiyJ,GAAA,KAAA,CAAA,UAAA,cAAA,SAAA,CAEEz0J,EAAAy0J,GAAA,KAAA,CAAA,GAAA,SAAA,QAAA,IAAAqO,EAAA,KAAA,EAAA,SAAA,WAAA,CAAA,EAEA9iK,EAAAy0J,GAAA,KAAA,CAAA,GAAA,SAAA,QAAA,IAAAqO,EAAA,KAAA,EAAA,SAAA,WAAA,CAAA,CAGA,EAAA,CACF,EAAA,CACF,CAAA,CAAA,EAIJ,MAAA,CAAAt8J,GAAA66I,GAAA,CAAA8f,EACEnhK,EAAA,MAAA,CAAA,UAAA,+CAAA,SAAAojK,EAAA,CAAA,EAMA5gK,EAAAC,GAAA,CAAA,SAAA,CAEIzC,EAAA2xJ,GAAC,CAAA,KAAAoR,EACO,SAAA,IAAAC,EAAA,EAAA,EAC4B,MAAAC,GAAA,GACd,QAAAjjK,EAAA0iK,GAAA,CAAA,GAAAjnL,EAAA,YAAA,GAAA,EACkC,gBAAA,GACrC,kBAAA,gBACC,UAAA,IAAAunL,EAAA,EAAA,CACiB,CAAA,EACrCxgK,EACA,MAAC,CAAA,KAAA,oBACM,UAAA,gBAAAmgK,EAAA,aAAA,KACmD,SAAA,CAEvD,CAAAA,GAAAngK,EAAA,MAAA,CAAA,UAAA,uBAAA,SAAA,CAEI,CAAAgE,GAAA66I,EAAArhJ,EAAA42J,GAAA,CAAA,MAAA,GAAA,CAAA,EAAA52J,EAAA,OAAA,CAAA,UAAA,6BAAA,SAAAijK,EAAA,EAGyDzgK,EAAA,MAAA,CAAA,UAAA,8BAAA,SAAA,CAGxDxC,EAAA86J,GAAC,CAAA,YAAAqG,EAAA,YAC0B,YAAA36J,GAAA,YAAAA,EAAA,aAAA,KAEHmsB,GAAAA,EAAA,OAAAwuI,EAAA,YAEpB,SAAAZ,GAAA,CAGAnB,GAAA1hF,EAAA,EACsByjF,EACpByB,EACArC,CACA,CACF,EACF,QAAA,IAAA,CAEEtB,GAAAvhF,EAAA,EACsByjF,EACpByB,CACA,CACF,EACF,YAAA,UACY,CAAA,EACd5iK,EACA00J,GAAC,CAAA,YAAA,wBACa,WAAA,IAAAsO,EAAA,EAAA,EAEuB,UAAA,oBACzB,UAAA,GACC,KAAA,QACL,EAAA,aAJF,EAKNhjK,EACA00J,GAAC,CAAA,YAAA,6BACa,WAAA,IAAAjS,EAAA,EAEa,UAAA,oBACf,UAAA,GACC,KAAA,OACL,EAAA,WAJF,CAKN,EAAA,CACF,EAAA,EACFkgB,GAAAngK,EAAAC,GAAA,CAAA,SAAA,CAIED,EAAA,MAAA,CAAA,UAAA,4CAAA,SAAA,CACExC,EAAA,OAAA,CAAA,UAAA,8BAAA,SAAA,qBAAA,EAEAA,EACA86J,GAAC,CAAA,YAAAqG,EAAA,YAC0B,YAAA36J,GAAA,YAAAA,EAAA,aAAA,KAEHmsB,GAAAA,EAAA,OAAAwuI,EAAA,YAEpB,SAAAZ,GAAA,CAGAnB,GAAA1hF,EAAA,EACsByjF,EACpByB,EACArC,CACA,CACF,EACF,QAAA,IAAA,CAEEtB,GAAAvhF,EAAA,EACsByjF,EACpByB,CACA,CACF,EACF,YAAA,WACY,aAAA,WACC,CAAA,EACf5iK,EAAA6/C,GAAA,CAAA,MAAA,+EAAA,SAAA7/C,EAAAqjK,GAAA,CAAA,UAAA,0CAAA,CAAA,CAAA,CAAA,CAGA,EAAA,EACFrjK,EAAAmjK,EAAA,EAAA,CACsB,EAAA,EACxB3gK,EAEF,MAAC,CAAA,UAAA,sBAAAmgK,EAAA,aAAA,KAC+D,KAAA,kBACzD,SAAA,CAEL3iK,EAAAsjK,GAAAA,OAAA,CAAA,cAAA,GAAA,cAAA,GAAA,SAAA,CAAA,CAAA,KAAA18K,CAAA,IAAAoZ,EAAA,MAAA,CAAA,UAAAyiK,GAAAE,EAAAvB,CAAA,EAAA,SAAAphK,EAGM24E,GAAC,CAAA,OAAA7K,GAEC,MAAA4L,GAAA,YAAAA,EAAA,OAAA,CAAA,EACyB,MAAA6oF,GAClB37K,EAAA,MACAw6K,EACLuB,EAAA,IAAA,GACoB,EACtB,OAAA,CAAA,eAAA,EAAA,EACgC,QAAAjhI,GAAAugI,GAE9BvgI,EACEy/H,EACA0B,CACA,CACF,EAAA,GAAA1B,EAAA,cAAAC,KAAAx6K,EAAA,OAdiD,CAAA,CAAA,CAAA,CAAA,EAmB3DoZ,EACA4gK,GAAC,CAAA,OAAAlnF,GAAA,YAAAA,EAAA,OACmB,OAAAA,GAAA,YAAAA,EAAA,OACA,WAAAipF,CACN,CAAA,CACd,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CAIR,2uCC/cA,MAAMY,GAA4C,EAElD,SAASC,GACPljB,EAGAnmE,EACA8C,EAC8B,CACxB,KAAA,CAAE,qBAAAmC,CAAyB,EAAAnC,EAC3BwzE,EAAct2E,EAAa,eAAemmE,EAAY,UAAU,EAGlE,GAAAA,EAAY,OAAO,OAASijB,GAA2C,CACzE,MAAM/kK,EAAO,GAAGuiD,GACdq+B,EAAqBkhE,EAAY,UAAU,CAAA,MACvCA,EAAY,OAAO,OAAO,eAAe,KAExC,MAAA,CACL,CACE,IAAK,eAAeA,EAAY,gBAAgBA,EAAY,aAC5D,UAAW9hJ,EACX,YAAaA,EACb,eAAgB,IAAM,CACpB27E,EAAa,kBAAkBmmE,CAAW,CAC5C,CACF,CAAA,EAIG,OAAAA,EAAY,OAAO,IAAaxnK,GAAA,CACrC,IAAI2qL,EAAc3qL,EAEdA,GAAA,MAAAA,EAAO,WAAW,OAAQA,GAAA,MAAAA,EAAO,SAAS,QAE5C2qL,EAAcA,EAAY,UAAU,EAAGA,EAAY,OAAS,CAAC,GAE/DA,EAAcxmF,EAA0B,gBACtCwmF,EACAhT,EAAY,UAAA,EAEd,MAAMjyJ,EAAO,GAAG4gF,EACdkhE,EAAY,UAAA,MACRmjB,IACC,MAAA,CACL,IAAK,eAAenjB,EAAY,gBAAgBA,EAAY,cAAcxnK,IAC1E,UAAW0lB,EACX,YAAaA,EACb,eAAgB,IAAM,CACP27E,EAAA,2BAA2BmmE,EAAaxnK,CAAK,CAC5D,CAAA,CACF,CACD,CACH,CAEA,SAAS4qL,GACPpjB,EACAnmE,EAC4B,CACrB,MAAA,CACL,IAAK,eAAemmE,EAAY,gBAAgBA,EAAY,mBAC5D,UAAWA,EAAY,iBACvB,YAAa,kBAAkBA,EAAY,oBAC3C,eAAgB,IAAM,CACpBnmE,EAAa,kBAAkBmmE,CAAW,CAC5C,CAAA,CAEJ,CAEA,SAASqjB,GACPC,EACAzpF,EACA8C,EAC8B,CACvB,OAAA2mF,EAAa,QAAuBtjB,GAAA,OACzC,OACEG,GAA+BH,CAAW,GAC1CI,GAAsCJ,CAAW,EAE7CA,EAAY,eAAer1H,EAAAkvD,EAAa,eAAb,YAAAlvD,EAA2B,YACjD,GAEFu4I,GACLljB,EACAnmE,EACA8C,CAAA,EAEO4mF,GAAyBvjB,CAAW,EACtC,CAACojB,GAAuCpjB,EAAanmE,CAAY,CAAC,GAEjE,QAAA,IACN,4BACCmmE,EAAoB,YAAA,EAEhB,GACT,CACD,CACH,CAEA,SAASwjB,GACPrE,EACAtlF,EACA8C,EAC8B,CACvB,OAAAwiF,EAAe,QAAyBsE,GAAA,OAC7C,GAAIA,EAAc,eAAe94I,EAAAkvD,EAAa,eAAb,YAAAlvD,EAA2B,YAC1D,MAAO,GAET,MAAMwlI,EAAct2E,EAAa,eAAe4pF,EAAc,UAAU,EAClE,CAAE,qBAAA3kF,EAAsB,gBAAA1D,CAAoB,EAAAuB,EAC9C,GAAAmjE,GAA2B2jB,CAAa,EAAG,CAG3C,GAAAA,EAAc,YAAY,OAC1BR,GACA,CACA,MAAM/kK,EAAO,GAAGuiD,GACdq+B,EAAqB2kF,EAAc,UAAU,CAAA,MACzCA,EAAc,YAAY,OAAO,eAAe,KAC/C,MAAA,CACL,CACE,IAAK,SAASA,EAAc,gBAAgBA,EAAc,aAC1D,UAAWvlK,EACX,YAAaA,EACb,eAAgB,IAAM,CACpB27E,EAAa,oBAAoB4pF,CAAa,CAChD,CACF,CAAA,EAKG,OAAAA,EAAc,YAAY,IAAkBxoF,GAAA,CACjD,MAAMyoF,EAAYtoF,EAAgBH,EAAYk1E,EAAY,UAAU,EAC7D,MAAA,CACL,IAAK,SAASsT,EAAc,gBAAgBA,EAAc,cAAcxoF,IACxE,UAAAyoF,EACA,YAAa,GAAG5kF,EACd2kF,EAAc,UAAA,MACVC,IACN,eAAgB,IAAM,CACP7pF,EAAA,6BAA6B4pF,EAAexoF,CAAU,CACrE,CAAA,CACF,CACD,UACQ0oF,GAA0BF,CAAa,EAAG,CACnD,MAAMC,EAAY,GAAGD,EAAc,SAASA,EAAc,MACnD,MAAA,CACL,CACE,IAAK,SAASA,EAAc,gBAAgBA,EAAc,cAAcA,EAAc,OAAOA,EAAc,MAC3G,UAAAC,EACA,YAAa,GAAG5kF,EACd2kF,EAAc,UAAA,MACVC,IACN,eAAgB,IAAM,CACpB7pF,EAAa,oBAAoB4pF,CAAa,CAChD,CACF,CAAA,MAGM,gBAAA,IACN,qBACCA,EAAgD,YAAA,EAE5C,EACT,CACD,CACH,CAEA,SAASG,IAAyB,OAChC,MAAM/pF,EAAeC,KACf6C,EAA4BC,KAC5B,CAAE,oBAAAQ,CAAwB,EAAAvD,EAC1B8E,EAAmBvB,IAEnBymF,EAAuBR,KAC3B14I,EAAAg0D,EAAiB,QAAjB,YAAAh0D,EAAwB,oBAAqB,CAAC,EAC9CkvD,EACA8C,CAAA,EAGImnF,EAAiBN,GACrB7kF,EAAiB,MAAM,gBAAkB,CAAC,EAC1C9E,EACA8C,CAAA,EAGIonF,EAAW,CAAC,GAAGF,EAAsB,GAAGC,CAAc,EAG1D,OAAApkK,EAAAyC,GAAA,CACG,SAAS4hK,EAAA,IAAiBC,GAAA,CAEnB,MAAAvzK,EAAM,mBAAmBuzK,EAAU,GAAG,EAC5C,OAAQ5jE,EAAAA,cAAA6jE,GAAA,CAAuB,GAAGD,EAAW,IAAAvzK,CAAU,CAAA,CACxD,CAAA,CACH,CAAA,CAEJ,CClNA,SAAAyzK,GAAA/oL,EAAA,CACE,KAAA,CAAA,MAAAiT,EAAA,UAAA+1K,EAAA,QAAAC,EAAA,GAAA,iBAAAC,EAAA,EAAA,EAAAlpL,EACA,CAAA,KAAA+qB,EAAA,mBAAA66I,EAAA,WAAAvB,EAAA,MAAAjiD,EAAA,qBAAAjgB,CAAA,EAAAxD,KAGA,CAAA,gBAAAo5E,GAAAt2E,KAEA0nF,EAAAp+J,GAAA,YAAAA,EAAA,WAEAq+J,EAAAjnF,EACA,OAAAigB,EACE79F,EAAAyC,GAAA,CAAA,CAAA,EAEFzC,EACE,MAAC,CAAA,UAAA,qBAAA49E,EAAA,aAAA,KAEyC,MAAAlvF,EAExC,SAAA2yJ,EAAArhJ,EAAA42J,GAAA,CAAA,MAAA,GAAA,CAAA,EAAAp0J,EAAAC,GAAA,CAAA,SAAA,EAMMm7E,GAAA,CAAA+mF,IAAAniK,EAAA,MAAA,CAAA,UAAA,4BAAA,SAAA,CAEEA,EAAA,OAAA,CAAA,UAAA,eAAA,SAAA,CACGiiK,EAAA,IAAUG,GAAA,YAAAA,EAAA,iBAAwB,IAAEpR,EAAE,IAAiBkR,CACvD,EAAA,EACHG,GAAAriK,EAEE,IAAC,CAAA,QAAAs9I,EACU,UAAA,sCACC,SAAA,CAEV9/I,EAAAwgD,GAAA,CAAA,KAAA,aAAA,CAAA,EAA4B,mBAAE,CAAA,CAAA,CAEhC,EAAA,EAEJxgD,EAAA,MAAA,CAAA,UAAA,gCAAA,SAAAA,EAAAkkK,GAAA,CAAA,CAAA,EAAA,CAIF,EAAA,CACF,CAAA,CAIR,woBC/BA,MAAAY,GAAA,EAIO,SAAAC,GAAAv+J,EAAAw+J,EAAA,OAgBL,QAZA/5I,EAAAzkB,GAAA,YAAAA,EAAA,SAAA,YAAAykB,EAAA,OAAAl5B,GAEIA,EAAA,YAAA,gBAAA,EAAAizK,GAAA,MAAAA,EAAA,SAAAA,EAAA,QAAAjzK,EAAA,UAAA,EAAA,KAIAA,EAAA,YAAA,OAAA,GAAA,CAAAkuK,GAAAluK,CAAA,KAG2B,CAAA,CAIjC,CAEA,MAAAkzK,GAAA,CAAA,CAA0D,aAAAD,CAE1D,IAAA,CACE,KAAA,CAAM,KAAAx+J,EACJ,oBAAAk3E,EACA,mBAAA2jE,EACA,oBAAAxhE,EACA,MAAAge,EACA,eAAAojD,CACA,EAAA7mE,GAAA,EAGF,CAAA,uBAAA6D,GAAAf,KACA,CAAAgoF,EAAAC,CAAA,EAAApjK,EAAA,SAAA,CAAA,CAAA,EACA,CAAAqjK,EAAAC,CAAA,EAAAtjK,EAAA,SAAA,EAAA,EAEAk9E,EAAAvB,IAEAr7E,EAAAA,UAAA,IAAA,CACE,MAAAs0B,EAAAouI,GAAAv+J,EAAAw+J,CAAA,EACAruI,EAAA,SAAA,GAGAyuI,IACED,EAAAxuI,EAAA,IAAA,CAAA5kC,EAAA1R,KAAA,CAC+B,KAAA0R,EAAA,WAChB,SAAA1R,GAAAykL,GACQ,SAAA,KACT,EAAA,CACV,EAEJO,EAAA,EAAA,EACF,EAAA,CAAA7+J,EAAA4+J,EAAAJ,CAAA,CAAA,EAIF,MAAAM,EAAAC,GAAA,CACEJ,EAAAK,GACEA,EAAA,IAAA,CAAAzzK,EAAA1R,IACEklL,EAEE,CAAA,GAAAxzK,EAAA,SAAA,EAAA,EAGF,CAAA,GAAAA,EAAA,SAAA1R,GAAAykL,EAAA,CAA4D,CAC7D,CACF,EAIHW,EAAArF,GAAA,CACEnhF,EAAA,MAAA,eAAAmhF,EACAnhF,EAAA,MAAA,OAAA,EACAY,EAAAZ,CAAA,CAAoC,EAItCymF,EAAArmF,GACE6lF,EAAA,KAAqCnzK,GAAAA,EAAA,OAAAstF,GAAAttF,EAAA,WAAA,EACmB,IAExD,OAIF4zK,EAAA3uK,EAAAA,QAAA,IACEkuK,EAAA,KAAAnzK,GAAAA,EAAA,WAAA,EAAA,EAIE,OAAOmzK,EAAA,QAAAJ,GAEP,OAEA,OACF,CAAAI,CAAA,CAAA,EAIFU,EAAAvmF,GAAA,CACEwmF,EAAAxmF,EAAA,WAAA,EAAA,CAAkD,EAGpDymF,EAAA,CAAAzmF,EAAA+hF,IAAA,CACEyE,EAAAxmF,EAAA,WAAA+hF,CAAA,CAAsD,EAGxD2E,EAAA1mF,GAAA,OAIE,QAHAp0D,EAAAi6I,EAAA,KAAmCnzK,GAAAA,EAAA,OAAAstF,CACX,IADxB,YAAAp0D,EACwB,WAExB,KAAmB,EAGrB46I,EAAA,CAAAxmF,EAAAgI,EAAAvuG,IAAA,CAKEqsL,EAAAK,GAAAA,EAAA,IACoBzzK,GAAAA,EAAA,OAAAstF,EAAA,CAAA,GAAAttF,EAAA,CAAAs1F,CAAA,EAAAvuG,CAAA,EAAAiZ,CAC4C,CAC9D,CACF,EAGF8oK,EAAAkK,GAAAv+J,EAAAw+J,CAAA,EAEAgB,EAAAjB,GAAAv+J,EAAAw+J,CAAA,EAAA,IAAA,CAAAryI,EAAAtyC,KACE,CAAO,WAAAsyC,EAAA,WACU,WAAAtyC,CACH,EACd,EAEF4lL,GAAAhnF,GAAA,YAAAA,EAAA,MAAA,kBAAA,QAAAA,EAAA,MAAA,eAAA,OAAA,IAAAA,GAAA,YAAAA,EAAA,MAAA,qBAAA,SAAAA,GAAA,YAAAA,EAAA,MAAA,kBAAA,QAAA,EAKA,OAAA4e,EACE79F,EAAAyC,GAAA,CAAA,CAAA,EAAS,CAAA+D,GAAA66I,EAETrhJ,EAAA,MAAA,CAAA,UAAA,+CAAA,UAAAihJ,GAAA,YAAAA,EAAA,kBAAAz+I,EAAA,MAAA,CAAA,SAAA,CAIQxC,EAAA,OAAA,CAAA,UAAA,SAAA,CAAA,EAA0BihJ,EAAA,eACV,CAAA,CAAA,CAAA,CAAA,EAMxBz+I,EAAAC,GAAA,CAAA,SAAA,CAEIzC,EAAAwkK,GAAC,CAAA,UAAA,GACY,QAAAyB,EAAA,cAAA,GACmC,iBAAA,EAC5B,CAAA,EACpBpL,EAAA,OAAA,GAAAr4J,EAEE,MAAC,CAAA,UAAA,YAAAy7E,EAAA,GAAA,YAAA0nF,IAAA,OAAA,OAAA,KAE6C,SAAA,CAG5C3lK,EAAA,MAAA,CAAA,UAAA,gBAAA,KAAA,OAAA,SAAA66J,EAAA,IAAA3a,GAAA,OAAA,OAAAlgJ,EAEI,MAAC,CAAA,UAAA,qBACW,MAAA,CACH,QAAA0lK,EAAAxlB,EAAA,UAAA,EAAA,OAAA,OAGD,EACN,SAAAlgJ,EAGA0iK,GAAC,CAAA,OAAAz3I,EAAA+6I,EAAA,KAEgBrzI,GAAAA,EAAA,aAAAutH,EAAA,UACmB,IAHnC,YAAAj1H,EAGmC,WAC7B,OAAA,IAAA26I,EAAA1lB,EAAA,UAAA,EAEyC,SAAA6lB,EAAA7lB,EAAA,UAAA,EACR,cAAAkhB,GAAA0E,EAAA5lB,EAAA,WAAAkhB,CAAA,EAEE,YAAAlhB,EAE3B,0BAAAulB,EAKc,yBAAA,CAAAhH,EAAA3lL,EAAA8jL,IAAAqC,GAMzBhgF,EACEw/E,EACAgH,EACA3sL,GAAA,YAAAA,EAAA,MACO8jL,CACP,EACF,YAAA,EAEW,CAAA,CACf,EAAA1c,EAAA,UAjCW,EAAA,EAAA,EAoCjBylB,IAAA,QAAA3lK,EAAA,MAAA,CAAA,UAAA,8BAAA,SAAAA,EAGIC,GAAC,CAAA,QAAA,YACS,MAAA,YACF,QAAA,IAAAqlK,EAAAK,IAAA,MAAA,EAE0C,GAAA,CAAA,MAAA,OAAA,EAE3B,SAAAA,IAAA,OAAA,cAAA,iBAIjB,CAAA,EAAA,CAER,CAAA,CAAA,CAEJ,CAAA,CAAA,CAKV,8MCvQA,MAAAl5J,GAAAzyB,GAAA,EAQO,SAAAksL,GAAAptL,EAAA0B,EAAA,CAIL,GAAA1B,GAAA,KACE,OAGF,MAAAqtL,EAAA3rL,EAAA,OAAAK,GAAAA,EAAA,QAAA/B,CAAA,EACA,OAAAqtL,EAAA,OAAA,EACEA,EAAA,CAAA,EAEA,CAAA,MAAArtL,EAAA,MAAAA,EAEJ,CASO,MAAA4+H,GAAAj8H,GAAA,CACL,KAAA,CAAM,GAAAuC,EACJ,QAAAxD,EACA,MAAA1B,EACA,SAAA6wG,EACA,SAAAzmG,EACA,SAAAulH,EACA,SAAAprH,EACA,UAAAsrH,EACA,SAAArrH,EACA,OAAAurH,EACA,QAAAC,EACA,YAAAkB,EACA,YAAAo8D,EAAA,GACc,UAAAp9D,CACd,EAAAvtH,EAEF,CAAA,YAAAovH,CAAA,EAAArwH,EAGA,OAAAwlB,EACEhY,GAAC,CAAA,GAAAhK,EACC,MAAAkoL,GAAAptL,EAAA+xH,CAAA,EACyC,SAAA,GACjC,eAAA,GACM,cAAA,GACD,YAAA,GACF,kBAAA,GACM,QAAAA,EACR,SAAApC,EACC,SAAAvlH,EACV,SAAA7F,EACA,iBAAA,CAAA+oL,EACmB,SAAA,CAAAhnL,EAAAC,IAAA,CAEjBiqE,GAAAjqE,CAAA,GAAA,eAAAA,EAEE/B,EAAA+B,EAAA,UAAA,EAA4BiqE,GAAAjqE,CAAA,GAAA,UAAAA,EAE5B/B,EAAA+B,EAAA,KAAA,EAEA/B,EAAA+B,CAAA,CAGF,EACF,YAAAmL,GAAAwV,EAEE2kJ,GAAC,CAAA,GAAAn6J,EACK,SAAAm/F,EACJ,YAAAqgB,EACA,MAAAhB,GAAAA,EAAA,OAAA,EACuC,UAAAL,EAC5B,QAAAG,IAAA,IAAAA,EAAA9qH,EAAAlF,GAAA,YAAAA,EAAA,KAAA,GACwC,OAAA+vH,IAAA,IAAAA,EAAA7qH,EAAAlF,GAAA,YAAAA,EAAA,KAAA,EACH,CAAA,EAClD,cAAA,CAAAutL,EAAA77K,IAAA,CAGA,MAAA6xK,EAAA5vJ,GAAA45J,EAAA77K,CAAA,EAEA,CAAA,WAAA/P,CAAA,EAAA+P,EAEA87K,EAAAD,EAAA,KAAAxrL,GAAAJ,IAAAI,EAAA,KAAA,EACA,OAAAJ,IAAA,IAAA,CAAA6rL,GACEjK,EAAA,KAAA,CAAc,MAAA5hL,EACL,MAAA,wBAAAA,IACwB,CAAA,EAInC4hL,CAAO,CACT,CAAA,CAGN;;;uRC7FO,MAAAkK,GAAA,CAAA,CAAiB,SAAA55K,EACtB,GAAA08B,CAEF,IACErpB,EAAAtT,GAAA,QAAA,CAAA,GAAA28B,EAAA,UAAA,eAAA,SAAA18B,CAAA,CAAA,EAOF65K,GAAA,CAAA,CAA4E,WAAAC,CAE5E,IAAA,CACE,KAAA,CAAA,cAAAC,EAAA,iBAAAC,EAAA,gBAAAC,CAAA,EAAAH,EACAtsF,EAAAC,KACA,CAAA,oBAAAsD,EAAA,oBAAAmC,CAAA,EAAA1F,EACA,CAAA,qBAAAiF,GAAAlC,KACA,CAAA2pF,EAAAC,CAAA,EAAA/kK,EAAA,SAAoC2kK,CAClC,EAEF,CAAAK,EAAAC,CAAA,EAAAjlK,EAAA,SAAA4kK,CAAA,EAEA97D,EAAA+7D,EAAA,IAAAK,IACE,CAAO,MAAAA,EACE,MAAA7nF,EAAA6nF,CAAA,CACmC,EAC5C,EAGF3pL,EAAAxE,GAAA,CACE,MAAAonG,EAAAxC,IACA,IAAAwpF,EAAA,MACApuL,IAAA+tL,IAEEK,EAAAH,IAAA,MAAA,OAAA,OAGF,MAAAI,EAAAruL,EAAA,CACI,CACE,OAAAA,EACU,UAAAouL,CACG,CACb,EAAA,OAGNhnF,EAAA,MAAA,KAAAinF,EACAtnF,EAAAK,CAAA,EACA4mF,EAAAhuL,CAAA,EACAkuL,EAAAE,CAAA,CAAiC,EAGnC,OAAA1kK,EAAA,MAAA,CAAA,UAAA,yCAAA,SAAA,CAEIxC,EAAA8/C,GAAA,CAAA,QAAA,QAAA,UAAA,gCAAA,SAAA,UAAA,EAEA9/C,EACAonK,GAAC,CAAA,UAAA,yCACW,MAAAlB,GAAAW,EAAAh8D,CAAA,EACoC,QAAAA,EACrC,SAAAhwH,GAAAyC,EAAAzC,GAAA,YAAAA,EAAA,KAAA,EACwD,WAAA,CAAA,QAAA0rL,EAAA,EAC3C,OAAA,CACd,QAAAc,IAAA,CACgB,GAAAA,EACjB,WAAA,MACS,EACd,CACF,CAAA,CACF,CAAA,CAAA,CAGN,4dClDO,IAAAC,IAAAC,IACLA,EAAA,eAAA,QACAA,EAAA,WAAA,SACAA,EAAA,aAAA,UACAA,EAAA,iBAAA,OAJUA,IAAAD,IAAA,CAAA,CAAA,EAyGL,MAAAE,GAAA/rL,GAAA,CACL,MAAAslB,EAAAm4E,GAAAz9F,EAAA,GAAA,EACAmoL,EAAA6D,GAAqB1mK,EACnBtlB,EAAA,aACMA,EAAA,WACA,EAER,CAAA,WAAAgrL,EAAA,cAAAlpF,CAAA,EAAA9hG,EACAisL,EAAAjB,EAAA,CACI,CACE,OAAAA,EAAA,cACqB,UAAAA,EAAA,gBACG,CACxB,EAAA,OAGNnoB,EAAA,CAA6C,aAAA,0DAC7B,SAAAv9I,EACd,MAAA,CACO,IAAAtlB,EAAA,IACM,MAAAA,EAAA,OAAA+jK,GACW,KAAAkoB,EAChB,kBAAA9D,CACa,EACrB,SAAA3qF,GAAAylE,GAAAD,GAAAkpB,GAAAppB,GAAAC,GAAAopB,GAAAC,EASmB,EAGrB,OAAA7nK,EAAA6hJ,GAAA,CAAA,GAAApmK,EAAA,iBAAA6iK,EAAA,SAAA97I,EAEI46E,GAAC,CAAA,SAAA3hG,EAAA,SACiB,gBAAAA,EAAA,gBACO,cAAA8hG,EACvB,yBAAA9hG,EAAA,0BAAAg/F,GAAA,OAE6D,SAAA,CAG5DgsF,GAAAzmK,EAAAwmK,GAAA,CAAA,WAAAC,CAAA,CAAA,EAAyDzmK,EAAA8nK,GAAA,CAAA,GAAArsL,EAAA,EAChCukB,EAAAu6E,GAAA,CAAA,SAAAJ,GAAAn6E,EAAAmwJ,GAAA,CAAA,MAAAh2E,GAAA,YAAAA,EAAA,KAAA,CAAA,CAAA,CAAA,CAG1B,CAAA,CAAA,CAAA,CAAA,CAIR,20FCnLA,MAAA4tF,GAAA,CAAA,CAA8D,KAAArzK,EAC5D,MAAA0kF,EACA,SAAA4uF,EAAA,GACW,YAAApoH,EACX,OAAA/uD,EACA,oBAAAo3K,EACA,iBAAAC,EACA,kBAAAC,EACA,KAAAC,EACA,OAAA5yJ,EACA,SAAA6yJ,EACA,KAAAvlH,CAEF,IAAA,CAEE,MAAAwlH,EAAA,SAAA,cAAoD,0BAClD,EAEF,CAAAC,CAAA,EAAAxmK,EAAA,SAAA,SAAA,KAAA,EACA,CAAAymK,CAAA,EAAAzmK,EAAA,SAAyBumK,EAAAA,EAAA,aAAA,SAAA,EAAA,EAC4C,EAErEjmK,OAAAA,EAAAA,UAAA,KAEE+2E,GAAA,SAAA,QAAAA,IACE,SAAA,MAAAA,IAGFx5B,GAAAooH,KACEM,GAAA,MAAAA,EAAA,aAAoB,UAClB1oH,GAAAooH,IAKJ,UAAA,CACE,SAAA,MAAAO,EACAD,GAAA,MAAAA,EAAA,aAAA,UAAAE,EAA0D,EAC5D,EAGFxoK,EACE,MAAC,CAAA,UAAA,uCAAAkoK,EAAA,mBAAA,KAE2C,SAAAloK,EAAA,MAAA,CAAA,UAAA,uCAAA,SAAAA,EAAA,MAAA,CAAA,UAAA,MAAA,SAAAA,EAAA,MAAA,CAAA,UAAA,4BAAA,SAAAwC,EAAA,MAAA,CAAA,UAAA,qBAAA,SAAA,CAOjCsgD,EAAAtgD,EAAA,MAAA,CAAA,MAAA,CAAA,MAAA,MAAA,EAAA,SAAA,CAECA,EAAA,MAAA,CAAA,UAAA,kBAAA,MAAA,CAAA,WAAA,MAAA,EAAA,SAAA,CACExC,EAAA,MAAA,CAAA,UAAA,WAAA,SAAAtL,EAAA,EAAgCsL,EAAA,MAAA,CAAA,SAAAA,EAAA,KAAA,CAAA,UAAA,eAAA,MAAA,CAAA,OAAA,MAAA,EAAA,SAAAooK,EAAApoK,EAI1B,IAAC,CAAA,OAAAwV,EACC,KAAA4yJ,EACA,UAAA,iBACU,SAAAhvF,CAET,CAAA,EAAA52E,EAAA,OAAA,CAAA,SAAA,CAGG,IAAA42E,EAAE,GAAM,CAAA,CAAA,CAAA,CAAA,EAAA,EAGpB4uF,GAAAxlK,EAAA,MAAA,CAAA,UAAA,aAAA,SAAA,CACyC,IAAAwlK,EAAE,GAAS,EAAA,EAACpoH,GAAA5/C,EAAA,OAAA,CAAA,UAAA,qBAAA,SAAAmoK,GAAA,MAAAA,EAAA,WAAAnoK,EAAAgG,GAAA,CAAA,SAAA45C,CAAA,CAAA,EAAAA,EAAA,CAQnD,EAAA,EAEJ5/C,EACA,MAAC,CAAA,MAAA,CACQ,UAAA,kCACM,UAAA,OACA,WAAA,KACC,CACd,CAAA,EACFA,EAAA,MAAA,CAAA,UAAA,kBAAA,SAAAnP,GAAAmP,EAGIyoK,GAAC,CAAA,SAAA,GACW,oBAAAR,EACV,OAAAp3K,CACA,CAAA,EAAA,CAGN,EAAA,CACF,EAAA,CAAA,CAAA,CAAA,CAAA,EAAA,CAIR,CAAA,CAGN,svCC3GO,MAAA63K,GAAAjtL,GAAA,OACL,KAAA,CAAM,sBAAAunB,EACJ,iBAAA2lK,EACA,SAAAC,EAAA,GACW,aAAA/uL,CACX,EAAA4B,EAEF,CAAA,YAAA4kB,GAAAO,KAEA,CAAAioK,EAAAC,CAAA,EAAA/mK,EAAA,SAAA,EAIAM,EAAAA,UAAA,IAAA,CACExoB,IAAA,SACE,SAAA,CACE,MAAAqpB,EAAA,CAA2C,eAAA,CAAAF,CAAA,EACH,mBAAA,GAClB,qBAAA,GACE,4BAAA,EACO,EAE/B8lK,EAAA,MAAA1nK,GAAA,SAAA8B,EAAA7C,CAAA,CAC4D,CAC5D,IAGJ,EAAA,CAAAA,EAAAxmB,EAAAmpB,CAAA,CAAA,EAGF,IAAAY,EACA,OAAAilK,IACEjlK,GAAAqnB,EAAA49I,EAAA,eAAA,CAAA,EAAA,aAAA,YAAA59I,EAAA,UAGFzoB,EACE,SAAC,CAAA,QAAA,IAAA,CAEGnC,GAAA2C,GACE5B,GAAA,2BAAc4B,EAAA,aACU3C,EACtB2C,EAAA,oBACsBA,EAAA,kBACA4lK,CACtB,EAAA,KAAA/lH,GAAA,CAGE,OAAA,KAAAA,EAAA,QAAA,CAAyB,CAAA,EAAA,MAAAg1B,GAAA,CAGzB,QAAA,MAAA,uCAAAA,CAAA,CAAyD,CAAA,CAE/D,EACF,UAAA,0BAAAkxF,KACsD,KAAA,SACjD,MAAA,CAAA,QAAA,CAAA,EACe,SAAA,CAEnBlvL,GAAA+pB,GAAAZ,EAAA,aAAkD2lK,GAAA3oK,EAAAwgD,GAAA,CAAA,KAAA,UAAA,CAAA,CACL,CAAA,CAAA,CAGpD,0iBCrEO,MAAAwoH,GAAAvtL,GAAA,CACL,KAAA,CAAM,sBAAA,CACmB,aAAAwtL,EACrB,kBAAAC,EACA,oBAAAC,CACA,CACF,EAAA1tL,EAEF,CAAA,YAAA4kB,GAAAO,KACA,CAAAiiD,EAAAumH,CAAA,EAAArnK,EAAA,SAAA,EACA,CAAA,IAAAhpB,EAAA,OAAAutB,CAAA,EAAAC,GAAA,CAAkC,YAAA,GACnB,WAAA,WACD,CAAA,EAGdlE,OAAAA,EAAAA,UAAA,IAAA,EACE,IAAA,CACE4mK,GAAAC,GAAAC,GAAA7iK,GACElF,GAAA,2BAAc6nK,EACZ5oK,EACA8oK,EACAD,EACA,EACA,EAAA,KAAAG,GAAA,CAGED,EAAAC,CAAA,CAAU,CAAA,EAAA,MAAAxxF,GAAA,CAGV,QAAA,MAAA,uCAAAA,CAAA,CAAyD,CAAA,CAE/D,IAGM,EAAA,CACPvxE,EACD2iK,EACAC,EACA7oK,EACA8oK,CACA,CAAA,EAGFnpK,EAAA,OAAA,CAAA,IAAAjnB,EAAA,SAAA8pE,GAAA7iD,EAAA,MAAA,CAAA,IAAA6iD,EAAA,IAAA,GAAA,UAAA,kBAAA,QAAA,MAAA,CAAA,CAAA,CAAA,CAOF,2PC4BA,MAAAymH,GAAA,IACOC,GAAA,wBACAC,GAAA,uBAGAC,GAAAC,GAAA,CACL,IAAAC,EAAA,GACA,MAAAC,EAAAF,EAAA,MAAA,GAAA,EAEA,IAAAxuL,EAAA,EACA,KAAAyuL,EAAA,OAAAL,IAAApuL,EAAA0uL,EAAA,QACED,GAAA,GAAAC,EAAA1uL,CAAA,KACAA,GAAA,EAEF,OAAAyuL,EAAAA,EAAA,OACA,CAAA,YAAAA,CAAA,CACF,EAEOE,GAAA,CAAAC,EAAAb,EAAAc,IAAA,CAKL,IAAA/mK,EACA,OAAA8mK,GAAAb,IACEe,GAAAF,CAAA,EAEE9mK,EAAA,CAAwB,aAAAimK,EACtB,mBAAAa,GAAA,YAAAA,EAAA,KAAA,GACgC,oBAAAllK,GAAA,WACa,EAC/CmlK,IAGA/mK,EAAA,CAAwB,aAAAimK,EACtB,kBAAAc,EACmB,oBAAAnlK,GAAA,UAC0B,IAInD5B,CACF,EAEOinK,GAAA,CAAA,CAA8B,WAAA5qF,EACnC,MAAAvmG,EACA,cAAAomG,EACA,aAAAtC,CAEF,IAAA,CAME,GAAA,CAAA9jG,EACE,MAAA,CAAO,IAAA,GACA,QAAA,OACI,gBAAA,MACQ,EAGrB,MAAAoxL,GAAAhrF,GAAA,YAAAA,EAAA,KAAAvsD,GAAAA,EAAA,OAAA0sD,MAAAzC,GAAA,YAAAA,EAAA,KAAAjqD,GAAAA,EAAA,OAAA0sD,IAKA,GAFA6qF,GAAA,YAAAA,EAAA,WAAA,SAAA,SAEA,CACE,IAAAxoL,EAAA5I,EACAqxL,EACA,GAAA,CACE,OAAAA,EAAA,KAAA,MAAAzoL,CAAA,EACAA,EAAAyoL,EAAA,KAAA,IAAA,EACA,CAAO,QAAAA,EACL,IAAAzoL,EACK,gBAAAwoL,GAAA,YAAAA,EAAA,UACuC,CAC9C,OAAAxpK,EAAA,CAEA,QAAA,MAAQ,qCACNhf,EACA,eACAgf,CACA,CACF,EAGJ,MAAA,CAAA,IAAA5nB,EAAA,gBAAAoxL,GAAA,YAAAA,EAAA,UAAA,CACF,EAEOE,GAAA,CAAA/qF,EAAAH,EAAAtC,KAKLsC,GAAA,YAAAA,EAAA,UAAAvsD,GAAAA,EAAA,OAAA0sD,MAAAzC,GAAA,YAAAA,EAAA,UAAAjqD,GAAAA,EAAA,OAAA0sD,IAOKgrF,GAAA5uL,GAAA,CAIL,KAAA,CAAA,UAAAg8F,EAAA,QAAAz2E,CAAA,EAAAvlB,EACA,OAAA+mB,EAAA,OAAA,CAAA,SAAA,CAEKxB,EAAA,KAAQhB,EACT,IAAC,CAAA,OAAAsnK,GAAA,WACoB,IAAA,sBACf,KAAA,GAAAzmH,GAAA,mBAAA42B,KAAAz2E,IACgE,SAAA,mCACrE,CAAA,CAED,CAAA,CAAA,CAGN,EAcOspK,GAAA7uL,GAAA,CACL,KAAA,CAAM,MAAA3C,EACJ,WAAAumG,EACA,UAAAkrF,EACA,cAAArrF,EACA,aAAAtC,EACA,SAAA4tF,EACA,UAAA7kL,EACA,QAAA8kL,EACA,MAAAC,CACA,EAAAjvL,EAEF,GAAA,CAAA3C,EACE,OAAAknB,EAAA,IAAA,CAAA,SAAAlnB,CAAA,CAAA,EAEF,KAAA,CAAA,QAAAqxL,EAAA,IAAA1xK,EAAA,gBAAAkyK,CAAA,EAAAV,GAAA,CAA+D,WAAA5qF,EAC7D,MAAAvmG,EACA,cAAAomG,EACA,aAAAtC,CACA,CAAA,EAGF,GAAA,CAAAnkF,EAEE,OAAAuH,EAAA,IAAA,CAAA,SAAAvH,CAAA,CAAA,EAGF,IAAAmyK,EAAAjlL,EACA,MAAA+I,EAAA,CAAA,EAKA,GAJA87K,IACEI,EAAAjlL,GAAA,YAAAA,EAAA,OAAA,IAAA,kBAGFglL,IAAA7uF,GAAA,aAAAquF,EACE,OAAAnqK,EAAA,IAAA,CAAA,SAAAmqK,EAAA,IAAA,CAAAzoL,EAAArB,IAGMmiB,EAAA3L,GAAA,SAAA,CAAA,SAAA,CAEImJ,EAAA4F,GAAC,CAAA,QAAAlkB,EACU,KAAAmkB,GACH,UAAA+kK,CACK,CAAA,EACbvqL,EAAA8pL,EAAA,OAAA,GAAA,KAE+B,CAAA,EAAAzoL,CAAA,CACjC,CAAA,CAAA,EAMV,GAAAipL,IAAA7uF,GAAA,QAAArjF,EACE,OAAAuH,EAAA4F,GAAA,CAAA,QAAAnN,EAAA,KAAAoN,GAAA,UAAA+kK,CAAA,CAAA,EAKF,GAAA,CAAAL,EAEE,OAAA9xK,EAAA,MAAAoyK,EAAA,EAEE7qK,EACE,IAAC,CAAA,OAAAsnK,GAAA,WACoB,IAAA,sBACf,KAAA,GAAAzmH,GAAA,mBAAApoD,IACmD,UAAAmyK,EAC5C,SAAAnyK,CAEV,CAAA,EAKLuH,EAAA,IAAA,CAAA,SAAAvH,CAAA,CAAA,EAIJ,IAAAqyK,EACA,GAAAP,EAAA,WACEJ,EACEW,EAAA9qK,EAAA,IAAA,CAAA,SAAAmqK,EAAA,IAAA,CAAAx3I,EAAAtyC,IAGMmiB,EAAA3L,GAAA,SAAA,CAAA,SAAA,CAEImJ,EAAAgG,GAAA,CAAA,aAAA,GAAA,SAAA2sB,CAAA,EAAAA,CAAA,EAA4DtyC,EAAA8pL,EAAA,OAAA,GAAA,KAE7B,CAAA,EAAAx3I,CAAA,CACjC,CAAA,CAAA,EAMRm4I,EAAA9qK,EAAAgG,GAAA,CAAA,aAAA,GAAA,SAAAltB,CAAA,CAAA,MACF,CAEA,MAAAiyL,EAAAZ,GAAA1xK,EAAA,MAAA,GAAA,EACA,IAAAuyK,EAIA,GAHA,WAAAT,IACES,EAAAT,EAAA,QAEF,mBAAAA,EAAA,CACE,MAAAU,EAAAb,GAAkBG,EAAA,eACNrrF,EACVtC,CACA,EAEF,GAAAquF,GAAA,KACE,QAAA,KAAQ,uCAAAV,EAAA,gBAC2C,EAEnDO,EAAA9qK,EAAAyC,GAAA,CAAA,SAAA3pB,CAAA,CAAA,MAAwB,CAExB,MAAAsvL,EAAAqC,EAAAQ,CAAA,EAEA/kH,GAAAkiH,CAAA,EACE0C,EAAA9qK,EAAAyC,GAAA,CAAA,SAAA3pB,CAAA,CAAA,EAEAgyL,EAAA9qK,EAAA,IAAA,CAAA,SAAA+qK,EAAA,IAAA,CAAAp4I,EAAAtyC,IAGMmiB,EAAA3L,GAAA,SAAA,CAAA,SAAA,CAEImJ,EAAA,IAAC,CAAA,KAAAooK,GAAA,OACe,OAAA4C,GAAA1D,GAAA,WACmB,IAAA,sBAC7B,UAAAsD,EAEO,MAAAl8K,EACX,SAAAikC,CAEC,EAAAA,CAJI,EAKPtyC,EAAA0qL,EAAA,OAAA,GAAA/qK,EAAA,OAAA,CAAA,MAAA,CAAA,YAAA,CAAA,EAAA,SAAA,IAAA,CAAA,CAEqC,CAAA,EAAA2yB,CAAA,CAEvC,CAAA,CAAA,QAQZm4I,EAAA9qK,EAAA,IAAA,CAAA,SAAA+qK,EAAA,IAAA,CAAAp4I,EAAAtyC,IAAA,CAGM,KAAA,CAAA,QAAA6qL,EAAA,cAAAC,EAAA,oBAAAC,CAAA,EAAAb,EACAc,EAAAd,EAAA,uBAAA,MAAAG,IAAA/3I,EAGA9yC,EAAAurL,EAAA,IAAAC,KAAAA,EACAjD,EAAA,IAAA8C,KAAAC,KAAAtrL,IAEA,OAAA2iB,EAAA3L,GAAA,SAAA,CAAA,SAAA,CAEImJ,EAAA,IAAC,CAAA,KAAAooK,EACC,UAAAwC,EAEW,MAAAl8K,EACX,OAAAs8K,GAAA1D,GAAA,eACiC,SAAA30I,CAEhC,EAAAA,CALI,EAMPtyC,EAAA0qL,EAAA,OAAA,GAAA/qK,EAAA,OAAA,CAAA,MAAA,CAAA,YAAA,CAAA,EAAA,SAAA,IAAA,CAAA,CAEqC,CAAA,EAAA2yB,CAAA,CAEvC,CAAA,CAAA,CAAA,EAQZ,OAAA43I,EAAA,YAEEvqK,EAAA6/C,GAAA,CAAA,MAAA0qH,EAAA,YAAA,eAAA,IAAA,SAAAvqK,EAAA,OAAA,CAAA,SAAA8qK,CAAA,CAAA,CAAA,CAAA,EAMAA,CAEJ,EAQO,SAAAQ,GAAAC,EAAA/kK,EAAA68E,EAAAqnF,EAAA,CAML,GAAAa,EAAA,CACE,GAAA,CAAA/kK,GAAA,CAAA68E,EACE,MAAA,MAAA,oDAAA,EAEF,KAAA,CAAM,gBAAAmoF,EACJ,cAAAL,EACA,0BAAAM,EACA,uBAAAC,CACA,EAAAH,EAMF,GAAAE,GAAApoF,EAAAooF,CAAA,EAAA,CACE,MAAAE,EAAAtoF,EAAAooF,CAAA,EACAG,EAAAplK,EAAAmlK,CAAA,EACA,GAAAC,EACE,OAAAA,EAIJ,MAAAC,EAAAxoF,EAAAmoF,CAAA,EACA,GAAAK,IAAA,OACE,QAAA,MAAQ,kCAAArlK,qBAAAglK,GACoD,MAC5D,CAEA,MAAA1yL,EAAA4yL,EAAA,MAAAhB,IAAAlkK,EAAAqlK,CAAA,EACA,GAAA/yL,EAEE,MAAA,IAAAyyL,EAAA,WAAAJ,KAAAryL,KAKR,CAEO,SAAAgzL,GAAA3kB,EAAA4kB,EAAAvlK,EAAA68E,EAAAqnF,EAAA,CAOLvjB,EAAAA,EAAA,OACA,IAAAihB,EAAAjhB,EACA6kB,EAAA1E,GAAA,eACAngB,EAAA,MAAA0jB,EAAA,EAEEzC,EAAA,GAAAvnH,GAAA,mBAAAsmG,IAAwDA,EAAA,MAAA8kB,EAAA,GAExDD,EAAA1E,GAAA,WACAc,EAAA,sBAAAjhB,KAA6B4kB,EAEFA,IAE3B3D,EAAAkD,GAAAS,EAAAvlK,EAAA68E,EAAAqnF,CAAA,GAAA,GACAtC,EAAA,SAAA,cAAA,IACE4D,EAAA1E,GAAA,aAJF0E,EAAA1E,GAAA,WAQF,MAAA9xJ,GAAAu2J,GAAA,YAAAA,EAAA,SAAAC,EACA,MAAA,CAAA,KAAA5D,EAAA,OAAA5yJ,EACF,CAEO,SAAA02J,GAAAzwL,EAAA,CAML,KAAA,CAAM,YAAAmkE,EACJ,mBAAAusH,EACA,oBAAAC,EACA,kBAAAjE,CACA,EAAA1sL,EAEF,IAAA0nB,EAAAy8C,EACAuoH,GAAA,MAAAA,EAAA,aACEhlK,EAAAnD,EAAAgG,GAAA,CAAA,SAAA7C,CAAA,CAAA,GAEF,MAAA2tJ,EAAAqb,IAAAhE,GAAA,YAAAA,EAAA,8BAEA,OAAAnoK,EAAA,MAAA,CAAA,UAAA8wJ,EAAA,GAAA,aAAA,SAAA9wJ,EAEI,OAAC,CAAA,qBAAAosK,EACqB,UAAA,sBAAA5C,KACa,SAAArmK,CAEhC,CAAA,CAAA,CAAA,CAIT,CAEO,SAAAkpK,GAAA5wL,EAAA,CAOL,KAAA,CAAM,YAAAmkE,EACJ,mBAAAusH,EACA,oBAAAC,EACA,kBAAAjE,EACA,eAAAmE,CACA,EAAA7wL,EAEF,OAAA0sL,GAAA,MAAAA,EAAA,6BACEnoK,EAAAyC,GAAA,CAAA,CAAA,EAEFD,EAAA,MAAA,CAAA,UAAA2pK,EAAA,aAAA,GAAA,SAAA,CAEInsK,EAAA,OAAC,CAAA,qBAAAosK,EACqB,UAAA,sBAAA7C,2BACa,SAAAE,GAAA7pH,CAAA,EAAA,WAET,CAAA,EAC1BA,EAAA,QAAA0pH,IAAAtpK,EAEE,IAAC,CAAA,MAAA,CACQ,SAAA,OACK,OAAA,UACF,WAAA,KACI,EACd,UAAA,iBACU,QAAAssK,EACD,SAAA,cACV,CAAA,CAED,CAAA,CAAA,CAIR,CAKA,MAAAC,WAAA11K,GAAA,SAAA,CAIuB,YAAApb,EAAA,CAGnB,MAAAA,CAAA,EAIFu8F,GAAA,iBAAA0xF,GAAA,CAGE,IAAAC,EAAA,GACA,MAAAC,EAAAF,EAAA,MAAA,GAAA,EAEA,IAAA,EAAA,EACA,KAAAC,EAAA,OAAAL,IAAA,EAAAM,EAAA,QACED,GAAA,GAAAC,EAAA,CAAA,KACA,GAAA,EAEF,OAAAD,EAAAA,EAAA,OACA,CAAA,YAAAA,CAAA,CAAqB,GACvB3xF,GAAA,sBAAA,IAAA,CAGE,KAAA,SAAA,CAAc,mBAAA,EACQ,CAAA,CACrB,GACHA,GAAA,mBAAA,CAAA,CAEe,KAAAowF,EACb,OAAA5yJ,EACA,kBAAAg3J,EACA,MAAApzF,CACA,IAOAgvF,EACEpoK,EACE,IAAC,CAAA,qBAAAwsK,EACqB,OAAAh3J,EACpB,KAAA4yJ,EACA,UAAA,iBACU,SAAAhvF,CAET,CAAA,EAIL52E,EAAA,OAAA,CAAA,qBAAAgqK,EAAA,SAAA,CAAoD,IAAApzF,EAAE,GAAM,CAAA,CAAA,GA/C9D,KAAA,MAAA,CAAa,mBAAA,EACS,CACtB,CA+CF,QAAA,QAGE,KAAA,CAAM,OAAAiK,EACJ,KAAA78E,EACA,MAAAkkK,EACA,kBAAA+B,EACA,oBAAAxE,EACA,cAAA/oF,EACA,aAAAtC,EACA,YAAA8vF,EACA,qBAAAC,EAAA,GACuB,SAAAnC,EAAA,GACZ,gBAAAoC,EACX,cAAAC,EACA,gBAAAC,EACA,kBAAA3E,EACA,SAAAE,EACA,kBAAA0E,EACA,aAAA,CAAA,OAAAjD,CAAA,EAC8B,0BAAA,CAAA,qBAAA1qF,CAAA,CACoB,EAAA,KAAA,MAKpD4tF,EAAAP,EACA,CAAA,mBAAAN,CAAA,EAAA,KAAA,MACA,CAAA,KAAAhlB,EAAA,GAAA,KAAAzyJ,CAAA,EAAAs4K,EACA5zF,EAAA5yE,EAAA68E,EAAA2pF,EAAA,KAAA,CAAA,EACA,IAAAhF,EAAAgF,EAAA,UAAAxmK,EAAA68E,EAAA2pF,EAAA,QAAA,CAAA,EAGAhF,GAAAgF,GAAA,YAAAA,EAAA,WAAA/C,GAAA,CAEuB,MAAAjC,EACZ,WAAAgF,GAAA,YAAAA,EAAA,SAC+B,cAAA9tF,EACtC,aAAAtC,CACA,CAAA,EAAA,IAEJ,MAAAh9B,EAAAp5C,EAAA68E,EAAA2pF,EAAA,aAAA,EAAA,CAAA,EACAC,EAAAzmK,EAAA68E,EAAA2pF,EAAA,MAAA,EAAA,CAAA,EACAE,EAAA1mK,EAAA68E,EAAA2pF,EAAA,mBAAA,EAAA,CAAA,EAEAG,EAAA3mK,EAAA68E,EAAA2pF,EAAA,2BAAA,EAAA,CAAA,EAEAI,EAAAxwF,GAAA,YAAAA,EAAA,KAAuCjqD,IAAAq6I,EAAA,OAAAr6I,GAAA,MAGvC06I,EAAAD,GAAA,YAAAA,EAAA,WAEAE,EAAA9mK,EAAA68E,EAAA8jE,CAAA,CAAA,GAAA,GACA,CAAA,KAAAihB,EAAA,OAAA5yJ,CAAA,EAAAs2J,GAAyBwB,EACvBV,EACApmK,EACA68E,EACAqnF,CACA,EAEF75K,EAAA,CAAA,EACA,CAAA,gBAAA08K,EAAA,EAAA,EAAAP,EACAQ,EAAA1D,GAAA,CAAAE,GAAAF,CAAA,EACA,QAAA5uL,GAAA,EAAAA,GAAAqyL,EAAA,OAAAryL,IAAA,EAAA,CACE,MAAAmkG,GAAAkuF,EAAAryL,EAAA,EACA,IAAApC,GAAA0tB,EAAA68E,EAAAhE,EAAA,CAAA,EACAouF,GACA,GAAA30L,GAAA,CAEE,GAAA00L,GAAAnuF,KAAA,iBAAA,CACE,MAAA5H,GAAAjxE,EAAA68E,EAAA,EAAA,EAEAvqG,GAAAuxL,GAAA,CAAA,UAAA5yF,GAAA,QADA3+F,EACA,CAAA,EACA20L,GAAA,cAAoB,CAEpB,MAAAlD,GAAAuC,GAAA,YAAAA,EAAA,KAAmCn6I,IAAAA,GAAA,kBAAA0sD,IAGnCvmG,GAAAknB,EACEsqK,GAAC,CAAA,MAAAxxL,GACC,WAAAumG,GACA,UAAAkrF,GACA,SAAAC,EACA,cAAAtrF,EACA,aAAAtC,EACA,QAAAp2E,CACS,CAAA,EAGbinK,GAAAruF,EAAAC,EAAA,EAEF,MAAAxxE,GAAA,CAAA4/J,GAAA30L,GAAAumG,EAAA,EACAxuF,EAAA,KAAAgd,EAAA,GASJ,MAAA7K,EAAA6mK,GAA8BC,EAL9BqD,GAAAG,EAOE9mK,EAAA68E,EAAA,EAAA,CACc,EAGhBqqF,EAAA78K,EAAA,OAAA,EAEAnC,EAAA,CAAmC,UAAA87K,EAAA,MAAA,OAEH,aAAAA,EAAA,MAAA,OACG,cAAAkD,GAAAP,EAAA,OAAA,MACiC,EAEpErqH,EAAAtgD,EAAAC,GAAA,CAAA,SAAA,CAEK,CAAAkqK,GAAAQ,GAAAntK,EACC,MAAC,CAAA,UAAA,qBACW,MAAA,CACH,QAAAgtK,EAAA,yBAAA,OAAA,MAGD,EACN,SAAAhqK,GAAAhD,EAAAgpK,GAAA,CAAA,sBAAAhmK,CAAA,CAAA,CAGiE,CAAA,EAEnE,CAAA2pK,GAAA,CAAAQ,GAAAntK,EAAA,MAAA,CAAA,UAAA,oBAAA,SAAAA,EAAArK,GAAA,CAAA,YAAA+2K,EAAA,MAAAO,EAAA,KAAAv4K,CAAA,CAAA,EAAA,EAKAi4K,GAAA3sK,EAAA,MAAA,CAAA,UAAA,oBAAA,SAAAA,EAIEwgD,GAAC,CAAA,KAAAmtH,GAAAnnK,EAAA68E,EAAA,IAAA,CAAA,CAIG,CAAA,EAAA,CAGN,CAAA,CAAA,EAKN,GAAAmnF,EACE,OAAAxqK,EACE+nK,GAAC,CAAA,kBAAAI,EACC,MAAA/uF,EACA,SAAA4uF,EACA,YAAApoH,EACA,KAAAlrD,EACA,KAAAouD,EACA,OAAAjyD,EACA,KAAAu3K,EACA,OAAA5yJ,EACA,iBAAA,GACkB,oBAAAyyJ,EAClB,SAAAI,CACA,CAAA,EAKN,MAAAmE,EAAAptF,EAA0B4tF,EAAA,KACC,EAE3BY,EAAAxuF,EAA8B4tF,EAAA,UAAA,EACS,EAEvCZ,GAAAhtF,EAA4B4tF,EAAA,aAAA,EACc,EAG1C,IAAAa,GAAAC,GAEA,GAAAjB,EAAA,CACE,MAAAkB,GAAAvnK,EAAA68E,EAAAwpF,EAAA,IAAA,CAAA,GAAA,GACA,CAAA,KAAAmB,GAAA,OAAAC,EAAA,EAAAnC,GAAmDiC,GACjD,OACAvnK,EACA68E,EACAqnF,CACA,EAEFmD,GAAAG,GACAF,GAAAG,GAGF,OAAAzrK,EAAA,MAAA,CAAA,MAAA9T,EAAA,UAAA,iBAAA,SAAA,CAEI8T,EAAA,MAAA,CAAA,UAAA,qBAAA,SAAA,CACGsgD,EAAAtgD,EAAA,MAAA,CAAA,UAAA,kBAAA,SAAA,CAECxC,EAAA,MAAA,CAAA,UAAA,WAAA,SAAAtL,EAAA,IAAgCu2B,GAAA8hJ,GAAA,YAAAA,EAAA,UAAA,YAAA9hJ,GAAA,YAAAiiJ,GAAA,YAAAA,EAAA,SAAAltK,EAAA,MAAA,CAAA,MAAA,CAAA,UAAA,MAAA,EAAA,SAAAA,EAOxBkuK,GAAC,CAAA,YAAAnB,EAAA,QAAA,SACwC,UAAA,KAAA,MAAAG,CAAA,EACA,cAAA,GACxB,SAAA,EACL,CAAA,EAAA,EAEdltK,EAAA,MAAA,CAAA,SAAAA,EAIJ,KAAC,CAAA,UAAA,6BACW,MAAA,CAAA,OAAA,MAAA,EACc,SAAA,CAAA4sK,GAAAS,IAAAvxF,GAAA,cAAA94E,EAAAhD,EAKtB0oK,GAAC,CAAA,sBAAA1lK,EACC,iBAAAtO,IAAAy5K,GAC4C,aAAA/0F,CAC9B,CAAA,EAAA,KAAA,YAAA,CAGC,KAAAgvF,EACf,OAAA5yJ,EACA,kBAAAg3J,EACA,MAAApzF,CACA,CAAA,CACD,CAAA,EAAA,EAGP4uF,GAAAhoK,EAEE,MAAC,CAAA,qBAAA4tK,EACqB,UAAA,aACV,SAAA5F,CAET,CAAA,EACHpoH,GAAA5/C,EAQAqsK,GAAC,CAAA,YAAAzsH,EACC,mBAAAusH,EACA,oBAAAC,GACA,kBAAAjE,EACA,eAAA,KAAA,cACqB,CAAA,EACvBvoH,GAAA5/C,EAGAksK,GAAC,CAAA,YAAAtsH,EACC,mBAAAusH,EACA,oBAAAC,GACA,kBAAAjE,CACA,CAAA,EACF0E,GAAAgB,IAAAC,IAAA9tK,EAAA,MAAA,CAAA,UAAA,6CAAA,SAAAA,EAAA,IAAA,CAAA,OAAA8tK,GAAA,IAAA,sBAAA,KAAAD,GAAA,SAAAhB,EAAA,IAAA,CAAA,EAAA,CAOA,EAAA,CAEJ,EAAA,EACFa,GAAA1tK,EAEEyoK,GAAC,CAAA,SAAA,GACW,oBAAAR,EACV,OAAAp3K,EACA,kBAAAk8K,EACA,UAAA,GAAAI,EAAA,WAAA,WACoD,CAAA,CACtD,CAAA,CAAA,CAEJ,CAGN,CAvVEn1F,GAHFu0F,GAGE,cAAAt0F,u8KCpiBF,MAAAm2F,WAAAv3K,GAAA,SAAA,CAA2D,YAAApb,EAAA,CAEvD,MAAAA,CAAA,EAEFu8F,GAAA,uBAAAmvE,GAAA/nK,GAAA,CAIIA,EAAA,eAAA,EACA,OAAA,KAAO,GAAAyhE,GAAA,mBAAAsmG,IAC4C,QACjD,CACF,GATF,KAAA,gBAAA,KAAA,gBAAA,KAAA,IAAA,CAAqD,CAUrD,QAAA,CAGA,KAAA,CAAM,KAAA3gJ,EACJ,OAAA68E,EACA,cAAAnE,EACA,aAAAtC,EACA,kBAAA6vF,EACA,0BAAA,CAAA,qBAAArtF,CAAA,CACkD,EAAA,KAAA,MAEpDivF,EAAA7nK,EAAA68E,EAAA,WAAA,EACAqmF,EAAAljK,EAAA68E,EAAA,OAAA,EACAirF,EAAArE,GAAA,CAAuC,WAAA,YACzB,MAAAzjK,EAAA68E,EAAA,SAAA,EACgB,cAAAnE,EAC5B,aAAAtC,CACA,CAAA,EAAA,IAEF2xF,EAAAtE,GAAA,CAA0C,WAAA,eAC5B,MAAAzjK,EAAA68E,EAAA,YAAA,EACmB,cAAAnE,EAC/B,aAAAtC,CACA,CAAA,EAAA,IAEF5+F,EAAAwoB,EAAA68E,EAAA,EAAA,EACAmrF,EAAAhoK,EAAA68E,EAAA,aAAA,EACAorF,EAAAjoK,EAAA68E,EAAA,SAAA,EACAqrF,EAAAC,GAAAnoK,EAAA68E,EAAA,QAAA,CAAA,EACAxyF,EAAA,CAAe,CACb,SACEo5K,GAAA,CACqB,WAAA,gBACP,MAAAuE,EACL,cAAAtvF,EACP,aAAAtC,CACA,CAAA,EAAA,GACC,EACL,CAAA,OAAA8xF,CAAA,EACiB,CAAA,QAAAD,CAAA,CACE,EAErB,GAAAhC,GAAAA,EAAA,gBAAA,CACE,KAAA,CAAA,gBAAAc,CAAA,EAAAd,EACA,QAAAvxL,EAAA,EAAAA,EAAAqyL,EAAA,OAAAryL,IAAA,CACE,MAAAmkG,EAAAkuF,EAAAryL,CAAA,EACApC,EAAA0tB,EAAA68E,EAAAhE,CAAA,CAAA,EACA,IAAAouF,EACA,GAAA30L,EAAA,CACE20L,EAAAruF,EAAAC,CAAA,EACA,MAAAxxE,EAAA,CAAA4/J,EAAA30L,EAAAumG,CAAA,EACAxuF,EAAA,KAAAgd,CAAA,IAKN,OAAArL,EAAA,MAAA,CAAA,UAAA,mCAAA,SAAA,CAEIA,EAAA,MAAA,CAAA,UAAA,oBAAA,SAAA,CACExC,EAAA4uK,GAAA,CAAA,KAAAC,EAAA,CAAA,EAA2B7uK,EAAA,MAAA,CAAA,SAAA0uK,CAAA,CAAA,CACZ,EAAA,EACjBlsK,EAAA,MAAA,CAAA,UAAA,8BAAA,SAAA,CAEExC,EAAA,MAAA,CAAA,UAAA,WAAA,SAAA,WAAA,EAAkCA,EAAA,MAAA,CAAA,SAAAA,EAAA,KAAA,CAAA,SAAAA,EAG9B,IAAC,CAAA,OAAA,QACQ,KAAA,GAAA6gD,GAAA,mBAAA7iE,IACgD,SAAAqwL,CAEtD,CAAA,CAAA,CAAA,CAAA,CAAA,EAGP7rK,EAAA,MAAA,CAAA,UAAA,0BAAA,SAAA,CAEExC,EAAA,IAAA,CAAA,UAAA,uBAAA,SAAA0pK,EAAA,EAA6C1pK,EAAA,MAAA,CAAA,UAAA,iBAAA,SAAAA,EAE3Cw9I,GAAC,CAAA,UAAA,oBACW,QAAA,KAAA,gBAAAx/J,CAAA,EACsB,MAAA,YAC1B,QAAA,YACE,SAAA,kBACT,CAAA,EAAA,CAGH,EAAA,EACFgiB,EAAA,MAAA,CAAA,UAAA,sBAAA,SAAAA,EAAA8uK,GAAA,CAAA,MAAA,CAAAR,EAAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAGA,EAAA,EACFvuK,EACA+uK,GAAO,CAAN,SAAA,GACW,oBAAA,KAAA,MAAA,oBACsB,OAAAl+K,CAChC,CAAA,CACF,CAAA,CAAA,CACF,CAGN,02BC5HA,MAAAm+K,WAAAn4K,GAAA,SAAA,CAAwE,YAAApb,EAAA,CAEpE,MAAAA,CAAA,EAEFu8F,GAAA,uBAAAmvE,GAAA/nK,GAAA,CAGIA,EAAA,eAAA,EACA,OAAA,KAAA+nK,EAAA,QAAA,CAA0B,GAL5B,KAAA,gBAAA,KAAA,gBAAA,KAAA,IAAA,CAAqD,CAMrD,QAAA,CAEA,KAAA,CAAA,KAAA3gJ,EAAA,OAAA68E,GAAA,KAAA,MACA4rF,EAAAzoK,EAAA68E,EAAA,gBAAA,EACA6rF,EAAA1oK,EAAA68E,EAAA,gBAAA,EACAqmF,EAAAljK,EAAA68E,EAAA,OAAA,EACA8rF,EAAA3oK,EAAA68E,EAAA,OAAA,EACA+rF,EAAA5oK,EAAA68E,EAAA,IAAA,EAEA,IAAAgsF,EAAAF,EAAA,QAAA,WAAA,EAAA,EACAE,EAAAA,EAAA,QAAA,UAAA,EAAA,EACAA,EAAA,OAAAA,EAAA,OAAA,CAAA,IAAA,MACEA,EAAAA,EAAA,UAAwC,EACtCA,EAAA,OAAA,CAC4B,GAGhC,MAAAC,EAAA,OAAA,SAAA,KAAA,UAAA,CAAA,IAAAJ,EACAxgL,EAAA,CAAA,EACA,IAAA6gL,EACA,OAAAD,EAaE5gL,EAAA,cAAA,OAZA6gL,EAAAvvK,EAAA,MAAA,CAAA,UAAA,gCAAA,SAAAA,EAEIC,GAAC,CAAA,KAAAivK,EACO,QAAA,YACE,MAAA,YACF,SAAA,sBACP,CAAA,CAAA,CAAA,EAQP1sK,EAAA,MAAA,CAAA,UAAA,iCAAA,MAAA9T,EAAA,SAAA,CAEI8T,EAAA,MAAA,CAAA,UAAA,kBAAA,SAAA,CACExC,EAAA,MAAA,CAAA,UAAA,WAAA,SAAA,eAAA,EAAsCovK,GAAApvK,EAAA,MAAA,CAAA,UAAA,oBAAA,SAAAA,EAAA,MAAA,CAAA,IAAA,cAAA,UAAA,WAAA,IAAAovK,CAAA,CAAA,EAAA,EAIpCpvK,EAAA,MAAA,CAAA,SAAAwC,EAAA,KAAA,CAAA,SAAA,CAIG8sK,GAAAL,EAAe,CAAAK,GAAAtvK,EAAA,IAAA,CAAA,KAAAkvK,EAAA,SAAAD,EAAA,CAE+B,CAAA,CAAA,CAAA,CAAA,EAGnDjvK,EAAA,MAAA,CAAA,UAAA,cAAA,SAAAA,EAAA,IAAA,CAAA,IAAA,sBAAA,OAAA,SAAA,KAAAmvK,EAAA,SAAAE,CAAA,CAAA,EAAA,EAKArvK,EAAA,MAAA,CAAA,UAAA,kBAAA,SAAA0pK,EAAA,CAC0C,EAAA,EAC5C6F,CACC,CAAA,CAAA,CACH,CAGN,45CCtDO,MAAAC,GAAA,CAAA,CAAwE,KAAAhpK,EAC7E,OAAA68E,CAEF,IAAA,CACE,MAAAosF,EAAAjpK,EAAA68E,EAAA,aAAA,EACAqsF,EAAAlpK,EAAA68E,EAAA,eAAA,EACAzjE,EAAApZ,EAAA68E,EAAA,IAAA,EACAssF,EAAAnpK,EAAA68E,EAAA,SAAA,EACA7kF,EAAAgI,EAAA68E,EAAA,IAAA,EACA5oF,EAAA+L,EAAA68E,EAAA,GAAA,EACA,OAAA7gF,EAAA,MAAA,CAAA,UAAA,iCAAA,SAAA,CAEIA,EAAA,MAAA,CAAA,UAAA,6BAAA,SAAA,CACG,CAAAktK,GAAA1vK,EAAA,MAAA,CAAA,SAAAyvK,CAAA,CAAA,EAAwCC,GAAA1vK,EAAA4F,GAAA,CAAA,KAAA,kBAAA,QAAA8pK,EAAA,CAEsB,EAAA,EAEjE9vJ,GAAApd,EAAA,MAAA,CAAA,UAAA,wBAAA,SAAA,CAGIxC,EAAAwgD,GAAA,CAAA,KAAA,MAAA,CAAA,EAAqBh+C,EAAA,OAAA,CAAA,SAAA,CAElB,GAAAod,KAAA+vJ,IAAW,OAAA/vJ,CAAA,EAAA,EAAA,IAAA,EACc,EAAA,CAC5B,EAAA,EACF5f,EAAA,MAAA,CAAA,UAAA,wBAAA,SAAAA,EAAA4vK,GAAA,CAAA,QAAApxK,CAAA,CAAA,CAAA,CAAA,EAIFwB,EAAA,MAAA,CAAA,UAAA,wBAAA,SAAAvF,GAAAuF,EAAA,OAAA,CAAA,UAAA,UAAA,SAAAvF,CAAA,CAAA,CAAA,CAAA,CAGA,CAAA,CAAA,CAGN,EAEOo1K,GAAA,IACLrtK,EAAA,MAAA,CAAA,UAAA,iCAAA,SAAA,CAEIxC,EAAA,MAAA,CAAA,UAAA,6BAAA,SAAAA,EAAA,OAAA,CAAA,SAAAA,EAAAoG,GAAA,CAAA,MAAA,OAAA,CAAA,CAAA,CAAA,EAAA,EAIApG,EAAA,MAAA,CAAA,UAAA,wBAAA,SAAAA,EAAAwgD,GAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,EAGAxgD,EAAA,MAAA,CAAA,UAAA,wBAAA,SAAAA,EAAAmG,GAAA,CAAA,QAAA,EAAA,QAAA,CAAA,CAAA,CAAA,CAAA,EAGAnG,EAAA,MAAA,CAAA,UAAA,wBAAA,SAAAA,EAAAoG,GAAA,CAAA,MAAA,MAAA,CAAA,CAAA,CAAA,CAGA,CAAA,CAAA;6dC1CN,SAAA0pK,GAAAr0L,EAAA,CACE,KAAA,CAAA,YAAAs0L,EAAA,KAAAr7K,CAAA,EAAAjZ,EACA,OAAAiZ,EAAA,CAAc,KAAAm6K,GAEV,OAAA7uK,EAAAouK,GAAA,CAAA,GAAA2B,CAAA,CAAA,EAAiC,KAAAC,GAEjC,OAAAhwK,EAAAgvK,GAAA,CAAA,GAAAe,CAAA,CAAA,EAAgC,KAAAE,GAEhC,OAAAjwK,EAAAusK,GAAA,CAAA,GAAAwD,CAAA,CAAA,EAAqC,KAAAG,GAErC,OAAAlwK,EAAAwvK,GAAA,CAAA,GAAAO,CAAA,CAAA,EAAyC,QAEzC,OAAA/vK,EAAA,MAAA,CAAA,CAAA,CAAY,CAElB,CAEO,SAAA8nK,GAAArsL,EAAA,CACL,KAAA,CAAM,SAAA+uL,EAAA,GACO,gBAAAhX,EACX,KAAA9+J,EACA,UAAA6M,EACA,oBAAA0mK,EAAA,EACsB,MAAA7uF,EACtB,GAAA/vD,CACG,EAAA5tC,EAEL00L,EAAA71F,KACA,CAAA,qBAAAkF,GAAAtC,KACA,CAAA,KAAA12E,EAAA,wBAAA07I,EAAA,YAAAx7I,CAAA,EAAAypK,EAEAlzF,EAAAC,KAEA9kC,EAAA5xC,GAAA,MAAAA,EAAA,YAAA,aAAA,QAAA,CAAAA,GAAA,YAAAA,EAAA,YAAA,aAAA,OAAA,EAAA,CAAA,EAGA4pK,EAAAhjB,GAAA,CAAgE,IAAAh1G,EAC9D,KAAA,eACM,CAAA,EAGR,GAAA5xC,GAKI,GAAAA,GAAAA,EAAA,YAAA,aAAA,KAAA,SAAA,EAIF,OAAAxG,EAAAw/E,EAAA,CAAA,CAAA,MARA,QAAAh9E,EAAA,MAAA,CAAA,SAAA,CAEKjB,GAAA7M,IAAAw7K,IAAAlwK,EAAA6vK,GAAA,CAAA,CAAA,EAAkEtuK,GAAA7M,IAAAw7K,IAAA9M,EACxB,CAAA,CAAA,EAOjD,MAAA//E,EAAA,CAAA,EACA78E,EAAA,YAAA,aAAA,QAAA,QAAA,CAAA3lB,EAAAR,IAAA,CACEgjG,EAAAxiG,EAAA,IAAA,EAAAR,CAAuB,CAAA,EAEzB,MAAAgwL,EAAA3pK,GAAA1G,EAAAkjJ,GAAA,CAAA,QAAA,OAAA,eAAA,WAAA,SAAAljJ,EAEIC,GAAC,CAAA,QAAA,YACS,MAAA,YACF,KAAA,QACD,QAAA,IAAA,CAEHiiJ,GAAwB,EAC1B,SAAA,WACD,CAAA,CAAA,CAAA,EAKL,IAAAouB,EACA,GAAA57K,IAAA67K,GAAA,CAGE,MAAAC,EAAAhqK,EAAA,YAAA,aAAA,QAAA,UAAiEmsB,GAAAA,EAAA,aAAAmpD,GAAA,MACxB,EAEzC,GAAA00F,IAAA,GACE,MAAA,MAAM,gEACJ,EAGJ,MAAAC,EAAAjqK,EAAA,YAAA,aAAA,KAAA,IAAoDmsB,GAAAA,EAAA,OAAA69I,CAAA,CACjB,EAEnCF,EAAAtwK,EAAA0wK,GAAA,CAAA,KAAAlqK,EAAA,KAAAiqK,EAAA,KAAAF,EAAA,CAAA,MAAyE,CAGzE,MAAAI,EAAAnqK,EAAA,YAAA,aAAA,KACA8pK,EAAAK,EAAA,OAAAA,EAAA,IAAA,CAAAlG,EAAApqL,IAAA,CAGI,MAAAuwL,EAAA,CAAqB,IADrB,KAAA,UAAAnG,EAAA,MAAA,EAEE,KAAA/1K,EACA,OAAA2uF,EACA,SAAAmnF,EACA,oBAAAvC,EACA,MAAAwC,EAAA,MACe,KAAAA,EAAA,OACD,cAAAjkK,EAAA,cACM,aAAAA,EAAA,aACD,wBAAA4pK,EAAA,CAAA,GAAAA,EAAA,CAAA,EAAA,KAEwC,QAAA5pK,GAAA,YAAAA,EAAA,YAAA,aAAA,QAClB,aAAA2pK,EAC3B,0BAAAlzF,EACd,GAAA5zD,CACG,EAEL,OAAArpB,EACE8vK,GAAC,CAAA,YAAAc,EAEc,KAAAl8K,CACb,EAAA+1K,EAAA,OAAApqL,CAFsB,CAGxB,CAAA,EAAA2f,EAAAyC,GAAA,CAAA,CAAA,EAQR,OAAAD,EAAA,MAAA,CAAA,KAAA,OAAA,SAAA,CAEK42E,GAAAp5E,EAAA,KAAA,CAAA,UAAA,0BAAA,SAAAo5E,EAAA,EAAwD,CAAAA,GAAAo6E,GAAAxzJ,EAAAwkK,GAAA,CAAA,UAAA,aAAA,EAEX8L,EAG7CD,CACA,CAAA,CAAA,CAGP,szDCzKC,SAA0C3vK,EAAE/S,EAAE,CAAmDwM,EAAe,QAAAxM,EAAC,CAA4H,GAAEszD,GAAM,KAAK,IAAI,CAAc,IAAIvgD,EAAE,CAAC,IAAIA,GAAG,CAACA,EAAE,QAAQ,SAAcA,EAAE,CAAC,QAAQ/S,EAAE,KAAKgb,EAAEjI,EAAE,OAAOiI,GAAGhb,EAAE,GAAGA,EAAE+S,EAAE,WAAW,EAAEiI,CAAC,EAAE,OAAOhb,IAAI,CAAC,CAAC,CAAC,EAAEA,EAAE,GAAG,SAASkjL,EAAoBloK,EAAE,CAAC,IAAIztB,EAAEyS,EAAEgb,CAAC,EAAE,GAAYztB,IAAT,OAAW,OAAOA,EAAE,QAAQ,IAAI04B,EAAEjmB,EAAEgb,CAAC,EAAE,CAAC,QAAQ,CAAE,CAAA,EAAE,OAAOjI,EAAEiI,CAAC,EAAEiL,EAAEA,EAAE,QAAQi9J,CAAmB,EAAEj9J,EAAE,OAAO,CAACi9J,EAAoB,EAAEnwK,GAAG,CAAC,IAAI/S,EAAE+S,GAAGA,EAAE,WAAW,IAAIA,EAAE,QAAQ,IAAIA,EAAE,OAAOmwK,EAAoB,EAAEljL,EAAE,CAAC,EAAEA,CAAC,CAAC,EAAEA,CAAC,EAAEkjL,EAAoB,EAAE,CAACnwK,EAAE/S,IAAI,CAAC,QAAQgb,KAAKhb,EAAEkjL,EAAoB,EAAEljL,EAAEgb,CAAC,GAAG,CAACkoK,EAAoB,EAAEnwK,EAAEiI,CAAC,GAAG,OAAO,eAAejI,EAAEiI,EAAE,CAAC,WAAW,GAAG,IAAIhb,EAAEgb,CAAC,CAAC,CAAC,CAAC,EAAEkoK,EAAoB,EAAE,CAACnwK,EAAE/S,IAAI,OAAO,UAAU,eAAe,KAAK+S,EAAE/S,CAAC,EAAEkjL,EAAoB,EAAEnwK,GAAG,CAAc,OAAO,OAApB,KAA4B,OAAO,aAAa,OAAO,eAAeA,EAAE,OAAO,YAAY,CAAC,MAAM,QAAQ,CAAC,EAAE,OAAO,eAAeA,EAAE,aAAa,CAAC,MAAM,EAAE,CAAC,CAAC,EAAE,IAAIiI,EAAE,CAAA,EAAG,OAAO,IAAI,CAACkoK,EAAoB,EAAEloK,CAAC,EAAEkoK,EAAoB,EAAEloK,EAAE,CAAC,QAAQ,IAAIN,CAAC,CAAC,EAAE,IAAI3H,EAAEmwK,EAAoB,GAAG,EAAEljL,EAAEkjL,EAAoB,EAAEnwK,CAAC,EAAE,SAASowK,EAAQpwK,EAAE,CAAC,OAAOowK,EAAoB,OAAO,QAAnB,YAAqC,OAAO,OAAO,UAAxB,SAAiC,SAASpwK,EAAE,CAAC,OAAO,OAAOA,CAAC,EAAE,SAASA,EAAE,CAAC,OAAOA,GAAe,OAAO,QAAnB,YAA2BA,EAAE,cAAc,QAAQA,IAAI,OAAO,UAAU,SAAS,OAAOA,CAAC,EAAEowK,EAAQpwK,CAAC,CAAC,CAAC,SAASssF,EAAkBtsF,EAAE/S,EAAE,CAAC,QAAQgb,EAAE,EAAEA,EAAEhb,EAAE,OAAOgb,IAAI,CAAC,IAAIztB,EAAEyS,EAAEgb,CAAC,EAAEztB,EAAE,WAAWA,EAAE,YAAY,GAAGA,EAAE,aAAa,GAAG,UAAUA,IAAIA,EAAE,SAAS,IAAI,OAAO,eAAewlB,EAAEwsF,EAAehyG,EAAE,GAAG,EAAEA,CAAC,EAAE,CAAC,SAASiyG,EAAazsF,EAAE/S,EAAEgb,EAAE,CAAC,OAAOhb,GAAGq/F,EAAkBtsF,EAAE,UAAU/S,CAAC,EAAEgb,GAAGqkF,EAAkBtsF,EAAEiI,CAAC,EAAE,OAAO,eAAejI,EAAE,YAAY,CAAC,SAAS,EAAE,CAAC,EAAEA,CAAC,CAAC,SAASqwK,EAAgBrwK,EAAE/S,EAAE,CAAC,GAAG,EAAE+S,aAAa/S,GAAG,MAAM,IAAI,UAAU,mCAAmC,CAAC,CAAC,SAASqjL,EAAgBtwK,EAAE/S,EAAEgb,EAAE,CAAC,OAAOhb,EAAEu/F,EAAev/F,CAAC,KAAK+S,EAAE,OAAO,eAAeA,EAAE/S,EAAE,CAAC,MAAMgb,EAAE,WAAW,GAAG,aAAa,GAAG,SAAS,EAAE,CAAC,EAAEjI,EAAE/S,CAAC,EAAEgb,EAAEjI,CAAC,CAAC,SAASwsF,EAAexsF,EAAE,CAAC,IAAI/S,EAAE,SAAsB+S,EAAE/S,EAAE,CAAC,GAAcmjL,EAAQpwK,CAAC,IAApB,UAA8BA,IAAP,KAAS,OAAOA,EAAE,IAAIiI,EAAEjI,EAAE,OAAO,WAAW,EAAE,GAAYiI,IAAT,OAAW,CAAC,IAAIztB,EAAEytB,EAAE,KAAKjI,EAAE/S,GAAG,SAAS,EAAE,GAAcmjL,EAAQ51L,CAAC,IAApB,SAAsB,OAAOA,EAAE,MAAM,IAAI,UAAU,8CAA8C,EAAE,OAAkByS,IAAX,SAAa,OAAO,QAAQ+S,CAAC,CAAC,EAAEA,EAAE,QAAQ,EAAE,OAAiBowK,EAAQnjL,CAAC,IAApB,SAAsBA,EAAE,OAAOA,CAAC,CAAC,CAAC,IAAIzS,EAAE04B,GAAG14B,EAAE,EAAE,UAAU,CAAC,OAAOA,GAAG,GAAGmtB,EAAE8kF,EAAc,SAAS8jF,EAAcvwK,EAAE,CAAC,IAAIiI,EAAE,KAAKztB,EAAE,UAAU,OAAO,GAAY,UAAU,CAAC,IAApB,OAAsB,UAAU,CAAC,EAAE,GAAG61L,EAAgB,KAAKE,CAAa,EAAED,EAAgB,KAAK,KAAK,IAAI,EAAEA,EAAgB,KAAK,KAAK,IAAI,EAAEA,EAAgB,KAAK,YAAY,gBAAgB,EAAEA,EAAgB,KAAK,OAAO,WAAW,EAAEA,EAAgB,KAAK,WAAW,UAAU,UAAU,QAAQ,aAAa,EAAE,CAAC,EAAEA,EAAgB,KAAK,QAAS,SAAStwK,EAAE,CAAC,OAAOiI,EAAE,KAAKjI,CAAC,CAAC,CAAG,EAACswK,EAAgB,KAAK,WAAY,UAAU,CAAC,IAAItwK,EAAEiI,EAAE,GAAG,GAAGjI,EAAE,UAAU,OAAOiI,EAAE,SAAS,EAAEjI,EAAE,IAAI,MAAM,CAACA,EAAE,WAAW,OAAO,OAAO,iBAAiBA,CAAC,EAAE,MAAM,QAAQ,KAAK,EAAE,CAAC,EAAE,QAAS,EAAC,QAAQ/S,EAAE,EAAEzS,EAAE,EAAEA,EAAEwlB,EAAE,UAAUxlB,IAAIyS,GAAG+S,EAAE,QAAQxlB,CAAC,EAAE,EAAE,QAAQ04B,EAAE,EAAEA,EAAElT,EAAE,UAAUkT,IAAIlT,EAAE,QAAQkT,CAAC,EAAE,MAAM,MAAM,KAAK,MAAM,IAAIlT,EAAE,QAAQkT,CAAC,EAAE,EAAEjmB,CAAC,EAAE,GAAG,IAAI+S,EAAE,QAAQkT,CAAC,EAAE,OAAO,GAAGlT,EAAE,IAAI,cAAckT,CAAC,EAAE,OAAO,OAAO,iBAAiBlT,EAAE,QAAQkT,CAAC,CAAC,EAAE,MAAM,QAAQ,KAAK,EAAE,CAAC,EAAE,QAAS,OAAMjL,EAAE,YAAW,EAAYjI,EAAE,IAAI,aAAf,QAA2BA,EAAE,IAAI,WAAWiI,EAAE,eAAgB,EAACjI,EAAE,UAAU,IAAIiI,EAAE,SAAS,EAAEA,EAAE,UAAS,CAAE,CAAC,EAAGqoK,EAAgB,KAAK,kBAAmB,SAAStwK,EAAE,CAAC,IAAI/S,EAAE+S,EAAE,OAAO,WAAW,KAAKxlB,EAAEytB,EAAE,GAAGiL,EAAE14B,EAAE,MAAMyS,EAAE,CAAC,EAAE0a,EAAE3H,EAAE,QAAQ,GAAGkT,EAAE,GAAGvL,EAAEA,EAAE,CAAC,EAAE,MAAM3H,EAAE,MAAMkT,EAAE,EAAEA,EAAE,WAAWA,EAAE,EAAEA,EAAE,EAAEjL,EAAE,YAAY,SAAS,cAAc,MAAM,EAAE,YAAYztB,EAAE,IAAI,WAAW,aAAa,EAAE,SAAS,iBAAiB,YAAYytB,EAAE,UAAU,EAAE,SAAS,iBAAiB,YAAYA,EAAE,UAAU,EAAE,SAAS,iBAAiB,WAAWA,EAAE,cAAc,EAAE,SAAS,iBAAiB,UAAUA,EAAE,cAAc,EAAEiL,EAAE,UAAU,IAAI14B,EAAE,IAAI,aAAa,EAAEytB,EAAE,KAAKiL,EAAE14B,EAAE,QAAQyS,EAAE,CAAC,EAAE,OAAO,QAAQwa,EAAED,EAAE,EAAEA,EAAEhtB,EAAE,UAAUgtB,KAAKC,EAAEjtB,EAAE,QAAQgtB,CAAC,GAAG,OAAO,GAAGC,EAAE,EAAE,OAAO,OAAO,iBAAiBA,CAAC,EAAE,MAAM,QAAQ,KAAK,EAAE,CAAC,EAAE,QAAO,EAAGzH,EAAE,eAAc,CAAE,CAAG,EAACswK,EAAgB,KAAK,aAAc,SAAStwK,EAAE,CAAC,IAAI/S,EAAEgb,EAAE,KAAK,GAAGhb,EAAE,CAAC,IAAIzS,EAAEyS,EAAE,EAAEimB,EAAElT,EAAE,QAAQ2H,GAAGuL,EAAEA,EAAE,CAAC,EAAE,MAAMlT,EAAE,OAAO/S,EAAE,GAAGA,EAAE,EAAEwa,EAAEjtB,EAAE,IAAI,SAASgtB,EAAEva,EAAE,EAAE0pB,EAAE,IAAIn8B,EAAE,UAAUitB,EAAEjtB,EAAE,YAAYstB,EAAEN,IAAIhtB,EAAE,UAAU,EAAEotB,EAAEJ,EAAEhtB,EAAE,MAAMgtB,EAAE,CAAC,EAAE,WAAWhtB,EAAE,UAAUitB,EAAEkP,EAAEzO,EAAE1tB,EAAE,IAAI,MAAMgtB,IAAIhtB,EAAE,UAAU,EAAEA,EAAE,WAAWm8B,EAAEn8B,EAAE,MAAMgtB,EAAE,CAAC,EAAE,WAAWhtB,EAAE,UAAUitB,EAAE,EAAE,EAAE,GAAGE,EAAE,KAAK,IAAIC,EAAE,KAAK,IAAIM,EAAEP,CAAC,CAAC,EAAE1a,EAAE,EAAE0a,EAAE1a,EAAE,MAAM,KAAK0a,EAAEM,EAAE,GAAGH,IAAI7a,EAAE,EAAEzS,EAAE,QAAQgtB,CAAC,EAAE,EAAEG,EAAE1a,EAAE,GAAGzS,EAAE,IAAI,SAAS,CAACstB,GAAGttB,EAAE,QAAQgtB,CAAC,EAAE,MAAM,MAAMva,EAAE,EAAEgb,EAAE,GAAG,CAACztB,EAAE,IAAI,OAAOA,EAAE,IAAI,SAASA,EAAE,MAAM,SAASA,EAAE,WAAWmtB,EAAE1a,EAAE,EAAEgb,EAAE,GAAGztB,EAAE,WAAW,OAAO,OAAO,iBAAiBA,CAAC,EAAE,MAAM,QAAQ,KAAK,EAAE,CAAC,EAAE,QAAS,GAAEytB,EAAE,SAASztB,EAAEgtB,EAAE,GAAGhtB,EAAE,GAAG,EAAEytB,EAAE,UAAS,EAAG,IAAIzP,EAAEhe,EAAE,IAAI,OAAOge,GAAGA,EAAEwH,CAAC,EAAEA,EAAE,iBAAiB,CAAG,EAACswK,EAAgB,KAAK,iBAAkB,SAAStwK,EAAE,CAAC,IAAI/S,EAAEgb,EAAE,KAAK,SAAS,oBAAoB,WAAWA,EAAE,cAAc,EAAE,SAAS,oBAAoB,UAAUA,EAAE,cAAc,EAAE,SAAS,oBAAoB,YAAYA,EAAE,UAAU,EAAE,SAAS,oBAAoB,YAAYA,EAAE,UAAU,EAAE,IAAIztB,EAAE,SAAS,cAAc,MAAM,EAAE,UAAU,GAAGA,EAAE,WAAW,YAAYA,CAAC,EAAEyS,EAAE,CAAC,GAAGA,EAAE,UAAU,OAAOA,EAAE,EAAE,IAAI,aAAa,EAAEA,EAAE,EAAEA,EAAE,GAAG,EAAE,CAAC,IAAIimB,EAAEjmB,EAAE,EAAE0a,EAAEuL,EAAE,IAAI,SAASzL,EAAExa,EAAE,EAAE,GAAGwa,IAAIyL,EAAE,UAAU,EAAE,CAAC,IAAI1L,EAAE0L,EAAE,QAAQzL,CAAC,EAAED,EAAE,MAAM,MAAMva,EAAE,EAAEgb,EAAE,GAAGT,EAAE,EAAEva,EAAE,OAAOgb,EAAE,SAASiL,EAAEzL,EAAE,GAAGyL,EAAE,GAAG,EAAEA,EAAE,IAAI,OAAOjL,EAAE,YAAW,EAAGA,EAAE,UAAS,EAAGN,GAAGA,EAAE3H,CAAC,EAAEkT,EAAE,IAAI,WAAWjL,EAAE,eAAc,EAAGA,EAAE,KAAK,KAAK,CAAG,EAACqoK,EAAgB,KAAK,OAAQ,SAAStwK,EAAE,CAAC,GAAGA,EAAE,QAAQ,OAAOiI,EAAE,QAAO,EAAG,IAAIhb,EAAEgb,EAAE,GAAGztB,EAAEyS,EAAE,aAAagb,EAAE,EAAE,GAAGA,EAAE,UAAUiL,EAAC,EAAG,GAAG,CAACjmB,EAAE,QAAQ,OAAO,GAAGA,EAAE,UAAU,CAAC+S,EAAE,eAAe,OAAO,KAAK,IAAI2H,EAAE,SAAS,cAAc,MAAM,EAAE,GAAGM,EAAE,YAAYN,EAAE,wsBAAysB,EAAE3H,EAAE,aAA4BA,EAAE,cAAjB,aAA6B,CAAC,IAAIyH,EAAE,6CAA6CzH,EAAE,YAAY,cAAciI,EAAE,YAAYN,EAAEF,CAAC,EAAExa,EAAE,aAAagb,EAAE,GAAGztB,CAAC,EAAE,IAAIgtB,EAAEva,EAAE,IAAIA,EAAE,IAAIgb,EAAE,cAAcjI,CAAC,EAAE,IAAI2W,EAAE1O,EAAE,gBAAgBhb,CAAC,EAAE,GAAGgb,EAAE,YAAY0O,CAAC,EAAE3W,EAAE,aAAaA,EAAE,YAAY,QAAQ,OAAO,EAAE,CAAC,IAAI8H,EAAEG,EAAE,gBAAgBhb,EAAE,IAAI,WAAW,EAAE0pB,EAAE,SAAS7O,EAAE,OAAOG,EAAE,kBAAkBhb,EAAE,IAAI,YAAY6a,EAAE7a,CAAC,EAAE,QAAQ,KAAK,6CAA6C,EAAE,OAAOua,CAAC,CAAG,EAAC8oK,EAAgB,KAAK,cAAe,UAAU,CAAC,IAAItwK,EAAEiI,EAAE,GAAGhb,EAAE+S,EAAE,QAAQ,IAAK,SAASA,EAAE,CAAC,OAAO,OAAO,iBAAiBA,CAAC,EAAE,KAAK,GAAIA,EAAE,MAAM,MAAM,OAAO,iBAAiBA,CAAC,EAAE,MAAMA,EAAE,WAAW,OAAOA,EAAE,MAAM,MAAM,QAAQ,KAAK,EAAE,CAAC,EAAE,QAAO,EAAGA,EAAE,UAAU,OAAOiI,EAAE,IAAI,EAAEjI,EAAE,QAAQ,QAAS,SAASiI,EAAEztB,EAAE,CAACytB,EAAE,MAAM,MAAMhb,EAAEzS,CAAC,EAAE,IAAI04B,EAAE,OAAOjmB,EAAEzS,CAAC,EAAE,QAAQ,KAAK,EAAE,CAAC,EAAE,QAAO,EAAGytB,EAAE,EAAEiL,EAAElT,EAAE,IAAI,cAAcxlB,CAAC,EAAE04B,CAAC,CAAG,EAAClT,EAAE,UAAU,IAAIiI,EAAE,IAAI,CAAC,CAAC,EAAGqoK,EAAgB,KAAK,iBAAkB,UAAU,CAAC,IAAItwK,EAAEiI,EAAE,MAAMhb,EAAEgb,EAAE,GAAGjI,EAAE/S,EAAE,aAAagb,EAAE,EAAE,CAAC,EAAE,GAAG,QAAQztB,EAAE,EAAE04B,EAAE,EAAEA,EAAEjmB,EAAE,QAAQ,OAAOimB,IAAI,CAAC,IAAIvL,EAAE,OAAO,iBAAiB1a,EAAE,QAAQimB,CAAC,CAAC,EAAE,MAAM,QAAQ,KAAK,EAAE,EAAElT,EAAE/S,EAAE,aAAagb,EAAE,EAAE,CAAC,GAAGN,EAAE,IAAIntB,GAAG,OAAOmtB,CAAC,EAAE,UAAU3H,EAAE/S,EAAE,aAAagb,EAAE,EAAE,CAAC,GAAGztB,EAAE,SAAQ,EAAGyS,EAAE,IAAI,QAAQ+S,EAAE/S,EAAE,aAAagb,EAAE,EAAE,CAAC,GAAG,IAAI,OAAO,iBAAiBhb,CAAC,EAAE,MAAM,QAAQ,KAAK,EAAE,EAAE,CAAG,EAACqjL,EAAgB,KAAK,YAAa,UAAU,CAAC,IAAItwK,EAAEiI,EAAE,GAAGjI,EAAE,cAAc,MAAM,MAAMA,EAAE,WAAWiI,EAAE,GAAG,QAAQhb,EAAE,EAAEA,EAAE+S,EAAE,UAAU/S,IAAI,CAAC,IAAIzS,EAAEwlB,EAAE,QAAQ/S,CAAC,EAAEimB,EAAE14B,EAAE,wBAAwBmtB,EAAE3H,EAAE,sBAAuB,EAACA,EAAE,MAAM/S,CAAC,EAAE,MAAM,KAAKimB,EAAE,KAAKvL,EAAE,KAAKntB,EAAE,YAAYwlB,EAAE,UAAU,EAAEiI,EAAE,GAAGjI,EAAE,MAAM/S,CAAC,EAAE,MAAM,QAAQ+S,EAAE,IAAI,WAAWA,EAAE,QAAQ,CAAC,EAAE,aAAaA,EAAE,cAAciI,EAAE,GAAG,CAAC,EAAGqoK,EAAgB,KAAK,UAAW,UAAU,CAAC,IAAItwK,EAAEiI,EAAE,GAAGhb,EAAE+S,EAAE,aAAaiI,EAAE,EAAE,EAAE,OAAOhb,GAAGgb,EAAE,MAAMhb,CAAC,EAAE,GAAG+S,EAAE,UAAU,OAAOiI,EAAE,SAAS,EAAEjI,EAAE,UAAU,OAAOiI,EAAE,IAAI,EAAEjI,EAAE,SAASA,EAAE,OAAO,UAAU,OAAOiI,EAAE,SAAS,EAAEjI,EAAE,OAAO,UAAU,OAAOiI,EAAE,IAAI,GAAGjI,EAAE,eAAeA,EAAE,cAAc,YAAYA,EAAE,cAAc,WAAW,YAAYA,EAAE,aAAa,EAAE,OAAOA,EAAE,SAASA,EAAE,KAAK,IAAI,CAAC,EAAGswK,EAAgB,KAAK,cAAe,SAAStwK,EAAEiI,EAAE,CAAC,IAAIztB,EAAEyS,EAAC,EAAGgb,CAAC,EAAE,SAAU,EAACiL,EAAElT,EAAE,iBAAiB,OAAO,EAAE2H,EAAE,MAAM,KAAKuL,CAAC,EAAE,OAAQ,SAASlT,EAAE,CAAC,OAAOA,EAAE,SAASxlB,CAAC,CAAG,EAAC,GAAG,CAACmtB,EAAE,OAAO,CAAC,IAAIF,EAAE,SAAS,cAAc,OAAO,EAAEA,EAAE,KAAK,WAAWA,EAAE,OAAOjtB,EAAEitB,EAAE,WAAWA,EAAE,WAAW,QAAQQ,EAAER,EAAE,YAAY,SAAS,eAAeQ,CAAC,CAAC,EAAEjI,EAAE,YAAYyH,CAAC,EAAE,CAAG,EAAC6oK,EAAgB,KAAK,gBAAiB,SAAStwK,EAAE,CAAC,IAAI/S,EAAE,OAAO,OAAO,CAAA,EAAGsjL,EAAc,SAASvwK,CAAC,EAAE,OAAO/S,EAAE,MAAM,GAAGA,EAAE,SAAS,GAAGA,EAAE,WAAU,CAAE,IAAI,OAAOA,EAAE,MAAM,GAAG,MAAM,IAAI,WAAWA,EAAE,MAAM,GAAGA,EAAE,SAAS,EAAE,CAAC,OAAOA,CAAC,CAAG,EAACqjL,EAAgB,KAAK,kBAAmB,SAAStwK,EAAE,CAAC,IAAI/S,EAAE,IAAI+S,EAAE,GAAGxlB,EAAE,MAAM,KAAKwlB,EAAE,iBAAiB/S,EAAE,6BAA6B,CAAC,EAAE,OAAOzS,EAAEA,EAAE,OAAO,MAAM,KAAKwlB,EAAE,iBAAiB/S,EAAE,6BAA6B,CAAC,CAAC,GAAG,SAASzS,GAAGA,GAAGA,GAAGA,EAAE,MAAM,KAAKwlB,EAAE,iBAAiB/S,EAAE,6BAA6B,CAAC,GAAG,OAAO,MAAM,KAAK+S,EAAE,iBAAiB/S,EAAE,uBAAuB,CAAC,CAAC,GAAG,OAAO,MAAM,KAAK+S,EAAE,iBAAiB/S,EAAE,6BAA6B,CAAC,CAAC,GAAG,OAAO,MAAM,KAAK+S,EAAE,iBAAiB/S,EAAE,uBAAuB,CAAC,CAAC,GAAGgb,EAAE,gBAAgBztB,EAAE,EAAE,CAAC,GAAI81L,EAAgB,KAAK,kBAAmB,SAAStwK,EAAE/S,EAAE,CAAC,OAAO+S,EAAE,OAAQ,SAASA,EAAE,CAAC,IAAIiI,EAAEhb,EAAE,GAAG+S,EAAE,YAAYxlB,EAAEyS,EAAE,GAAG+S,EAAE,aAAa,MAAM,EAAMiI,IAAJ,GAAWztB,IAAJ,GAAOwlB,EAAE,OAAOA,EAAE,MAAM,SAAkB,OAAO,iBAAiBA,CAAC,EAAE,UAApC,OAAgD,CAAG,CAAA,CAAG,EAACswK,EAAgB,KAAK,cAAe,SAAStwK,EAAE,CAAC,IAAI/S,EAAEgb,EAAE,GAAGhb,EAAE,IAAI,eAAeA,EAAE,UAAU,IAAI,cAAc,EAAEA,EAAE,UAAU,IAAIgb,EAAE,SAAS,EAAEhb,EAAE,mBAAmB,cAAc,+BAA+B,EAAEA,EAAE,MAAM,GAAGA,EAAE,QAAQ,CAAE,EAACA,EAAE,WAAW,OAAO,OAAO,iBAAiBA,CAAC,EAAE,MAAM,QAAQ,KAAK,EAAE,CAAC,EAAE,QAAO,EAAGA,EAAE,cAAcA,EAAE,uBAAuBA,EAAE,IAAI,aAAaA,EAAE,cAAc,MAAM,WAAWA,EAAE,IAAI,YAAYA,EAAE,IAAI,cAAcA,EAAE,cAAc,MAAM,YAAYA,EAAE,IAAI,aAAaA,EAAE,UAAU,SAASgb,EAAE,SAAShb,EAAE,aAAaA,EAAE,aAAa,cAAc,OAAO,iBAAiBA,CAAC,EAAE,cAAc,MAAM,GAAG,EAAE,CAAC,EAAE,QAAQ,KAAK,EAAE,CAAC,GAAG,EAAEA,EAAE,YAAY,SAASgb,EAAE,SAAShb,EAAE,QAAQA,EAAE,aAAa,gBAAgB,OAAO,iBAAiBA,CAAC,EAAE,gBAAgB,QAAQ,KAAK,EAAE,CAAC,GAAG,EAAEA,EAAE,SAAS,GAAGgb,EAAE,YAAYjI,CAAC,CAAC,CAAC,EAAGswK,EAAgB,KAAK,oBAAqB,SAAStwK,EAAE/S,EAAEzS,EAAE,CAACA,EAAE,IAAI,eAAewlB,EAAE,UAAU,IAAI,cAAc,EAAEA,EAAE,UAAU,IAAIiI,EAAE,SAAS,EAAEjI,EAAE,aAAaiI,EAAE,EAAE,GAAGjI,EAAE,aAAaiI,EAAE,GAAGztB,EAAE,aAAaytB,EAAE,EAAE,EAAE,QAAQ,EAAEjI,EAAE,QAAQ,CAAA,EAAG/S,EAAE,QAAS,SAASimB,EAAEvL,EAAE,CAAC,IAAIF,EAAExa,EAAE0a,CAAC,EAAEF,EAAE,EAAEjtB,EAAE,QAAQmtB,CAAC,EAAE,EAAEF,EAAE,MAAM,MAAMA,EAAE,EAAEQ,EAAE,GAAGR,EAAE,gBAAgB,OAAO,EAAEzH,EAAE,QAAQ,KAAKyH,CAAC,CAAC,CAAG,EAACzH,EAAE,WAAWxlB,EAAE,WAAWwlB,EAAE,UAAUxlB,EAAE,UAAUwlB,EAAE,YAAYxlB,EAAE,YAAY,IAAI04B,EAAE,MAAM,KAAKlT,EAAE,iBAAiB,KAAK,CAAC,EAAEA,EAAE,UAAUiI,EAAE,gBAAgBiL,EAAE,EAAE,EAAElT,EAAE,UAAU,QAAS,SAASA,EAAE/S,EAAE,CAAC+S,EAAE,gBAAgB,OAAO,EAAEA,EAAE,MAAM,MAAMxlB,EAAE,UAAUyS,CAAC,EAAE,MAAM,KAAK,CAAC,EAAGzS,EAAE,OAAOwlB,CAAC,GAAIswK,EAAgB,KAAK,cAAe,SAAStwK,EAAE,CAAC,IAAI/S,EAAEgb,EAAE,GAAGhb,EAAE,UAAUgb,EAAE,gBAAgB,MAAM,KAAKhb,EAAE,iBAAiB,KAAK,CAAC,EAAE,EAAE,EAAEA,EAAE,UAAU,QAAS,SAAS+S,EAAE,CAACA,EAAE,gBAAgB,OAAO,CAAC,CAAC,EAAG/S,EAAE,UAAU+S,EAAE,OAAO,IAAIxlB,EAAE,GAAGytB,EAAE,MAAMhb,EAAE,aAAagb,EAAE,EAAE,CAAC,IAAIA,EAAE,iBAAiBjI,CAAC,EAAExlB,EAAE,IAAIwlB,EAAE,QAAS,SAASkT,EAAEvL,EAAE,CAAC,IAAIF,EAAEzH,EAAE2H,CAAC,EAAEH,EAAOva,EAAE,IAAI,gBAAgB,QAAQ0a,CAAC,IAApC,GAAsCM,EAAE,UAAUhb,EAAE,cAAc,aAAa,EAAE,IAAI0pB,EAAE1pB,EAAE,cAAc,UAAU,CAACua,GAAGva,EAAE,IAAI,gBAAgB0pB,EAAE,UAAU1pB,EAAE,IAAI,eAAegb,EAAE,UAAU0O,EAAE1O,EAAE,SAAS,EAAEN,IAAI1a,EAAE,UAAU,IAAI0pB,EAAE,UAAU,IAAI,eAAe,EAAE1pB,EAAE,IAAI,QAAQ0pB,EAAE,UAAU,KAAKA,EAAE,iBAAiB,aAAa1O,EAAE,gBAAgB,CAAC,QAAQ,GAAG,QAAQ,EAAE,CAAC,EAAE0O,EAAE,iBAAiB,YAAY1O,EAAE,gBAAgB,EAAE,EAAET,EAAEmP,EAAE,UAAU,IAAI,mBAAmB,GAAGA,EAAE,UAAU,OAAO,mBAAmB,EAAEA,EAAE,iBAAiB,aAAa1O,EAAE,gBAAgB,CAAC,QAAQ,GAAG,QAAQ,EAAE,CAAC,EAAE0O,EAAE,iBAAiB,YAAY1O,EAAE,gBAAgB,EAAE,GAAG0O,EAAE,EAAE1pB,EAAE0pB,EAAE,EAAEhP,EAAE1a,EAAE,IAAI,OAAO0a,CAAC,EAAEF,EAAE,EAAExa,EAAE,IAAI,OAAO0a,CAAC,EAAEF,EAAE,EAAEjtB,EAAE,OAAOitB,EAAE,MAAM,MAAM,QAAQ,KAAK,EAAE,CAAC,EAAE,QAAO,EAAG,OAAO,OAAO,iBAAiBA,CAAC,EAAE,MAAM,QAAQ,KAAK,EAAE,CAAC,EAAE,QAAS,EAACxa,EAAE,IAAI,cAAc0a,CAAC,EAAEF,EAAE,EAAEA,EAAE,MAAM,MAAMA,EAAE,EAAEQ,EAAE,GAAGR,EAAE,gBAAgB,OAAO,EAAEkP,EAAE,KAAK,CAAC,EAAEhP,EAAE,EAAE1a,EAAE,aAAagb,EAAE,EAAE,EAAE,KAAKN,IAAI1a,EAAE,UAAU,CAAC,EAAEA,EAAE,MAAM,KAAK0pB,CAAC,EAAE1pB,EAAE,QAAQ,KAAKwa,CAAC,CAAC,CAAG,EAAC,IAAIyL,EAAE,MAAM,KAAKjmB,EAAE,iBAAiB,IAAI,CAAC,EAAEimB,EAAE,OAAO,MAAM,KAAKjmB,EAAE,iBAAiB,IAAI,CAAC,CAAC,GAAGimB,GAAGA,EAAEA,EAAE,OAAQ,SAASjmB,EAAE,CAAC,QAAQgb,EAAE,EAAEA,EAAEjI,EAAE,OAAOiI,IAAI,GAAGjI,EAAEiI,CAAC,IAAIhb,EAAE,MAAM,GAAG,MAAM,EAAE,CAAC,GAAI,OAAQ,SAAS+S,EAAE,CAAC,MAAM,EAAEA,EAAE,iBAAiB,UAAU,EAAE,QAAQA,EAAE,iBAAiB,UAAU,EAAE,OAAO,CAAG,GAAE,QAAS,SAASA,EAAE,CAACA,EAAE,gBAAgB,OAAO,CAAC,CAAG,EAAC/S,EAAE,IAAI,QAAQA,EAAE,gBAAgB,OAAO,EAAEA,EAAE,UAAU,IAAIgb,EAAE,IAAI,GAAGA,EAAE,UAAW,CAAA,GAAIqoK,EAAgB,KAAK,mBAAoB,SAAStwK,EAAE,CAAC,IAAI/S,EAAEgb,EAAE,GAAG,GAAGhb,EAAE,UAAU,QAAS,SAAS+S,EAAE,CAACA,EAAE,gBAAgB,OAAO,CAAC,CAAG,EAAC/S,EAAE,IAAI,MAAMgb,EAAE,MAAMhb,EAAE,aAAagb,EAAE,EAAE,CAAC,EAAE,OAAO,CAAC,IAAIztB,EAAEytB,EAAE,MAAMhb,EAAE,aAAagb,EAAE,EAAE,CAAC,EAAE,MAAM,GAAG,EAAEiL,EAAE14B,EAAEyS,EAAE,UAAU,CAAC,EAAE,CAACA,EAAE,IAAI,OAAOimB,IAAIjmB,EAAE,MAAM,MAAMimB,EAAEjL,EAAE,GAAGhb,EAAE,IAAI,WAAWA,EAAE,MAAM,SAASimB,EAAEjL,EAAE,GAAGhb,EAAE,WAAW,OAAOimB,CAAC,EAAE,QAAO,IAAK,QAAQvL,EAAE,EAAEA,EAAE1a,EAAE,UAAU0a,IAAI3H,EAAE2H,CAAC,EAAE,MAAM,MAAMntB,EAAEmtB,CAAC,EAAEM,EAAE,GAAGhb,EAAE,UAAU0a,CAAC,IAAI1a,EAAE,UAAU0a,CAAC,EAAE,MAAM,MAAM,IAAI,OAAOntB,EAAEmtB,CAAC,CAAC,EAAE,QAAO,EAAG,OAAOntB,EAAEyS,EAAE,SAAS,CAAC,EAAE,QAAO,EAAG,KAAK,CAAG,EAACqjL,EAAgB,KAAK,YAAa,SAAStwK,EAAE/S,EAAEgb,EAAE,CAAC,IAAIztB,EAAE,SAAS,cAAc,KAAK,EAAEA,EAAE,UAAU,IAAIyS,CAAC,EAAEgb,IAAIztB,EAAE,UAAUytB,GAAGjI,EAAE,YAAYxlB,CAAC,CAAC,CAAC,EAAG81L,EAAgB,KAAK,WAAY,SAAStwK,EAAE/S,EAAEzS,EAAE04B,EAAE,CAAC,IAAIvL,EAAE3H,EAAE,OAAOyH,EAAEQ,EAAE,KAAK,EAAEA,EAAE,KAAK,EAAET,EAAExH,EAAE,QAAQ/S,CAAC,EAAE0pB,EAAE3W,EAAE,QAAQ/S,EAAE,CAAC,EAAE,GAAGua,GAAGmP,EAAE,CAAC,IAAI7O,EAAEN,EAAE,EAAEC,EAAEG,EAAE+O,EAAE,EAAElP,EAAES,EAAEJ,EAAEG,EAAE,GAAG,GAAGT,EAAE,MAAM,MAAMU,EAAElI,EAAE,UAAU/S,CAAC,GAAG+S,EAAE,UAAU/S,CAAC,EAAE,MAAM,QAAQ+S,EAAE,UAAU/S,CAAC,EAAE,MAAM,MAAMib,GAAGP,IAAIA,EAAE,QAAQ1a,CAAC,EAAE,MAAM,MAAMib,EAAEP,EAAE,UAAU1a,CAAC,GAAG0a,EAAE,UAAU1a,CAAC,EAAE,MAAM,QAAQ0a,EAAE,UAAU1a,CAAC,EAAE,MAAM,MAAMib,IAAIgL,EAAE,MAAM,CAAC,IAAI1a,EAAEoP,EAAEK,EAAE,GAAG0O,EAAE,MAAM,MAAMne,EAAEwH,EAAE,UAAU/S,EAAE,CAAC,GAAG+S,EAAE,UAAU/S,EAAE,CAAC,EAAE,MAAM,QAAQ+S,EAAE,UAAU/S,EAAE,CAAC,EAAE,MAAM,MAAMuL,GAAGmP,IAAIA,EAAE,QAAQ1a,EAAE,CAAC,EAAE,MAAM,MAAMuL,EAAEmP,EAAE,UAAU1a,EAAE,CAAC,GAAG0a,EAAE,UAAU1a,EAAE,CAAC,EAAE,MAAM,QAAQ0a,EAAE,UAAU1a,EAAE,CAAC,EAAE,MAAM,MAAMuL,SAAS0a,EAAE,WAAWlT,EAAE,MAAM,SAASA,EAAE,WAAWyH,EAAEQ,EAAE,IAAIztB,IAAIgtB,EAAE,EAAEM,EAAE6O,EAAE,EAAEzD,EAAE,MAAMtL,EAAE+O,EAAE,EAAEhP,IAAIA,EAAE,QAAQ1a,CAAC,EAAE,EAAE6a,EAAEH,EAAE,QAAQ1a,EAAE,CAAC,EAAE,EAAEimB,EAAE,MAAMtL,EAAE+O,EAAE,IAAI,CAAC,EAAG,GAAG,CAAC,KAAK,MAAM,cAAc,MAAC,CAAS,KAAK,MAAM,CAAE,CAAA,CAAC,KAAK,KAAK,KAAK,KAAK,GAAG3W,EAAE,OAAO,iBAAiB,SAAS,KAAK,QAAQ,EAAE,QAAQ,UAAU,UAAU,QAAQ,UAAU,QAAQ,QAAQ,UAAU,mBAAmB,KAAK,KAAKxlB,CAAC,CAAC,CAAC,EAAGmtB,EAAE,SAAS,CAAC,WAAW,MAAM,cAAc,YAAY,cAAc,GAAG,SAAS,GAAG,SAAS,GAAG,WAAW,GAAG,YAAY,aAAa,WAAW,aAAa,MAAM,GAAG,WAAW,KAAK,YAAY,KAAK,YAAY,KAAK,QAAQ,GAAG,eAAe,GAAG,gBAAgB,CAAA,EAAG,cAAc,GAAG,OAAO,CAAE,EAAC,cAAc,GAAG,UAAU,GAAG,OAAO,KAAK,SAAS,IAAI,CAAC,GAAI,EAACM,CAAC,GAAC,2CCa9tduoK,GAAAz1L,GAAA,CAGE,KAAA,CAAA,SAAAslB,EAAA,oBAAAowK,CAAA,EAAA11L,EACA,CAAA,YAAA4kB,GAAAO,KACA2D,EAAA,CAAA,CAAAlE,EAEA,CAAA,KAAAg7E,CAAA,EAAAimE,GAAAvgJ,EAAAowK,CAAA,EAEA,CAAA,OAAAC,CAAA,EAAAC,GAAA,CAA+D,UAAA,IAAA,CAE3D36F,GAAA,IAAA2E,GAAA,YAAAA,EAAA,OAAAt6E,kDAEoB,SAElB,CACF,EACF,QAAAL,GAAA,CAEEg2E,GAAA,iDAAAh2E,EAAA,SACqD,QACnD,CACF,CACF,CAAA,EAGF,OAAA6D,EAIAvE,EAAAyC,GAAA,CAAA,SAAAzC,EAEI6/C,GAAC,CAAA,MAAA,sCACO,UAAA,QACI,eAAA,IACM,SAAA7/C,EAEhBonJ,GAAC,CAAA,cAAA,sBACa,QAAA,IAAA,CAEVgqB,EAAA,CAAA,SAAArwK,EAAA,oBAAAowK,CAAA,CAAA,CAAmD,EACrD,UAAA,aACU,SAAAnxK,EAAAwgD,GAAA,CAAA,KAAA,WAAA,CAAA,CAEkB,CAAA,CAC9B,CAAA,CAAA,CAAA,EAlBJxgD,EAAAyC,GAAA,CAAA,CAAA,CAsBJ,iXCpDC,SAAUuR,EAAQs9J,EAAW,CAS1B,IAAIC,EAAc,SACdC,EAAc,GACdC,EAAc,IACdC,EAAc,WACdC,EAAc,YACdC,EAAc,SACdC,EAAc,SACdC,EAAc,QACdC,EAAc,QACdC,EAAc,OACdC,EAAc,OACdC,EAAc,SACdC,EAAc,UACdC,EAAc,eACdC,EAAc,UACdC,EAAc,SACdC,EAAc,SACdC,EAAc,UACdC,EAAc,WACdC,EAAc,WACdC,EAAgB,IAEhBC,EAAU,SACVC,EAAU,QACVC,EAAU,OACVC,EAAa,aACbC,EAAU,UACVC,EAAU,SACVC,EAAU,OACVC,EAAU,UACVC,EAAU,SACVC,EAAU,SACVC,EAAU,KACVC,EAAY,YACZC,EAAY,WACZC,EAAU,QACVC,EAAU,UACVC,EAAU,QACVC,EAAU,OACVC,EAAU,SACVC,EAAU,QACVC,EAAa,WAMbp8J,GAAS,SAAUq8J,GAASC,GAAY,CACpC,IAAIC,GAAgB,CAAA,EACpB,QAASh5L,MAAK84L,GACNC,GAAW/4L,EAAC,GAAK+4L,GAAW/4L,EAAC,EAAE,OAAS,IAAM,EAC9Cg5L,GAAch5L,EAAC,EAAI+4L,GAAW/4L,EAAC,EAAE,OAAO84L,GAAQ94L,EAAC,CAAC,EAElDg5L,GAAch5L,EAAC,EAAI84L,GAAQ94L,EAAC,EAGpC,OAAOg5L,EACV,EACDC,GAAY,SAAU97K,GAAK,CAEvB,QADIyzF,GAAQ,CAAA,EACH5wG,GAAE,EAAGA,GAAEmd,GAAI,OAAQnd,KACxB4wG,GAAMzzF,GAAInd,EAAC,EAAE,YAAW,CAAE,EAAImd,GAAInd,EAAC,EAEvC,OAAO4wG,EACV,EACD1mC,GAAM,SAAUgvH,GAAMn4K,GAAM,CACxB,OAAO,OAAOm4K,KAASvC,EAAWwC,GAASp4K,EAAI,EAAE,QAAQo4K,GAASD,EAAI,CAAC,IAAM,GAAK,EACrF,EACDC,GAAW,SAAU57K,GAAK,CACtB,OAAOA,GAAI,aACd,EACD67K,GAAW,SAAUtzK,GAAS,CAC1B,OAAO,OAAOA,KAAa6wK,EAAW7wK,GAAQ,QAAQ,WAAYwwK,CAAK,EAAE,MAAM,GAAG,EAAE,CAAC,EAAIF,CAC5F,EACD/2L,GAAO,SAAUke,GAAKyD,GAAK,CACvB,GAAI,OAAOzD,KAASo5K,EAChB,OAAAp5K,GAAMA,GAAI,QAAQ,SAAU+4K,CAAK,EAC1B,OAAOt1K,KAASy1K,EAAal5K,GAAMA,GAAI,UAAU,EAAGk6K,CAAa,CAExF,EAMQ4B,GAAY,SAAUC,GAAIxoH,GAAQ,CAK9B,QAHI9wE,GAAI,EAAGod,GAAG8O,GAAGkB,GAAGC,GAAGswH,GAASx+H,GAGzBnf,GAAI8wE,GAAO,QAAU,CAAC6sE,IAAS,CAElC,IAAIiT,GAAQ9/E,GAAO9wE,EAAC,EAChBO,GAAQuwE,GAAO9wE,GAAI,CAAC,EAIxB,IAHAod,GAAI8O,GAAI,EAGD9O,GAAIwzI,GAAM,QAAU,CAACjT,IAIxB,GAFAA,GAAUiT,GAAMxzI,IAAG,EAAE,KAAKk8K,EAAE,EAEtB37C,GACF,IAAKvwH,GAAI,EAAGA,GAAI7sB,GAAM,OAAQ6sB,KAC1BjO,GAAQw+H,GAAQ,EAAEzxH,EAAC,EACnBmB,GAAI9sB,GAAM6sB,EAAC,EAEP,OAAOC,KAAMqpK,GAAYrpK,GAAE,OAAS,EAChCA,GAAE,SAAW,EACT,OAAOA,GAAE,CAAC,GAAKmpK,EAEf,KAAKnpK,GAAE,CAAC,CAAC,EAAIA,GAAE,CAAC,EAAE,KAAK,KAAMlO,EAAK,EAGlC,KAAKkO,GAAE,CAAC,CAAC,EAAIA,GAAE,CAAC,EAEbA,GAAE,SAAW,EAEhB,OAAOA,GAAE,CAAC,IAAMmpK,GAAa,EAAEnpK,GAAE,CAAC,EAAE,MAAQA,GAAE,CAAC,EAAE,MAEjD,KAAKA,GAAE,CAAC,CAAC,EAAIlO,GAAQkO,GAAE,CAAC,EAAE,KAAK,KAAMlO,GAAOkO,GAAE,CAAC,CAAC,EAAI+oK,EAGpD,KAAK/oK,GAAE,CAAC,CAAC,EAAIlO,GAAQA,GAAM,QAAQkO,GAAE,CAAC,EAAGA,GAAE,CAAC,CAAC,EAAI+oK,EAE9C/oK,GAAE,SAAW,IAChB,KAAKA,GAAE,CAAC,CAAC,EAAIlO,GAAQkO,GAAE,CAAC,EAAE,KAAK,KAAMlO,GAAM,QAAQkO,GAAE,CAAC,EAAGA,GAAE,CAAC,CAAC,CAAC,EAAI+oK,GAG1E,KAAK/oK,EAAC,EAAIlO,IAAgBi3K,EAK1Cp2L,IAAK,EAEZ,EAEDu5L,GAAY,SAAUh8K,GAAKguD,GAAK,CAE5B,QAASvrE,MAAKurE,GAEV,GAAI,OAAOA,GAAIvrE,EAAC,IAAM02L,GAAYnrH,GAAIvrE,EAAC,EAAE,OAAS,GAC9C,QAASod,GAAI,EAAGA,GAAImuD,GAAIvrE,EAAC,EAAE,OAAQod,KAC/B,GAAI8sD,GAAIqB,GAAIvrE,EAAC,EAAEod,EAAC,EAAGG,EAAG,EAClB,OAAQvd,KAAMu2L,EAAWH,EAAYp2L,WAGtCkqE,GAAIqB,GAAIvrE,EAAC,EAAGud,EAAG,EACtB,OAAQvd,KAAMu2L,EAAWH,EAAYp2L,GAG7C,OAAOud,EACnB,EAOQi8K,GAAe,CACX,MAAU,KACV,MAAU,KACV,MAAU,KACV,MAAU,OACV,QAAU,OACV,QAAU,OACV,QAAU,OACV,IAAU,GACb,EACDC,GAAoB,CAChB,GAAc,OACd,UAAc,SACd,SAAc,QACd,IAAc,SACd,GAAc,CAAC,SAAU,QAAQ,EACjC,MAAc,SACd,EAAc,SACd,EAAc,SACd,MAAc,SACd,GAAc,CAAC,SAAU,SAAS,EAClC,GAAc,KAC1B,EAMQX,GAAU,CAEV,QAAU,CAAC,CAEP,8BACC,EAAE,CAAC7B,EAAS,CAACH,EAAM,QAAQ,CAAC,EAAG,CAChC,6BACC,EAAE,CAACG,EAAS,CAACH,EAAM,MAAM,CAAC,EAAG,CAG9B,4BACA,mDACA,yCACZ,EAAe,CAACA,EAAMG,CAAO,EAAG,CACpB,uBACZ,EAAe,CAACA,EAAS,CAACH,EAAMyB,EAAM,OAAO,CAAC,EAAG,CACrC,mBACC,EAAE,CAACtB,EAAS,CAACH,EAAMyB,CAAK,CAAC,EAAG,CAG7B,uBACA,8DAEA,qDACA,kCACA,2BAGA,+LAEA,qBACZ,EAAe,CAACzB,EAAMG,CAAO,EAAG,CACpB,mDACZ,EAAe,CAACA,EAAS,CAACH,EAAM,KAAKgB,CAAO,CAAC,EAAG,CACpC,+BACA,8BACC,EAAE,CAACb,EAAS,CAACH,EAAM,qBAAqB,CAAC,EAAG,CAC7C,4BACC,EAAE,CAACG,EAAS,CAACH,EAAM,QAAQ,CAAC,EAAG,CAChC,uBACC,EAAE,CAACG,EAAS,CAACH,EAAM,WAAW,CAAC,EAAG,CACnC,6CACC,EAAE,CAACG,EAAS,CAACH,EAAM,IAAI,CAAC,EAAG,CAC5B,uBACC,EAAE,CAACG,EAAS,CAACH,EAAM,QAAQ,CAAC,EAAG,CAChC,yBACZ,EAAe,CAAC,CAACA,EAAM,OAAQ,aAAagB,CAAO,EAAGb,CAAO,EAAG,CACpD,qBACZ,EAAe,CAACA,EAAS,CAACH,EAAMmB,EAAQ,QAAQ,CAAC,EAAG,CACxC,mBACZ,EAAe,CAAChB,EAAS,CAACH,EAAMyB,EAAM,QAAQ,CAAC,EAAG,CACtC,wBACC,EAAE,CAACtB,EAAS,CAACH,EAAM,SAAS,CAAC,EAAG,CACjC,oBACC,EAAE,CAACG,EAAS,CAACH,EAAM,SAAS,CAAC,EAAG,CACjC,mBACZ,EAAe,CAACG,EAAS,CAACH,EAAMyB,EAAM,QAAQ,CAAC,EAAG,CACtC,yBACZ,EAAe,CAACtB,EAAS,CAACH,EAAM,QAAQgB,CAAO,CAAC,EAAG,CACvC,oBACC,EAAE,CAACb,EAAS,CAACH,EAAMmB,CAAO,CAAC,EAAG,CAC/B,+BACC,EAAE,CAAC,CAACnB,EAAM,OAAOgB,CAAO,CAAC,EAAG,CAC7B,qDACZ,EAAe,CAAC,CAAChB,EAAM,OAAQ,MAAMgB,CAAO,EAAGb,CAAO,EAAG,CAC7C,6BACZ,EAAe,CAAC,CAACH,EAAM,KAAM,GAAG,EAAGG,CAAO,EAAG,CACjC,gCACA,iDACA,wDACZ,EAAe,CAACH,EAAMG,CAAO,EAAG,CACpB,2BACA,eACA,oBACZ,EAAe,CAACH,CAAI,EAAG,CAGX,6DACC,EAAE,CAAC,CAACA,EAAM+B,CAAQ,EAAG5B,CAAO,EAAG,CAChC,4BACA,4BACA,sCACZ,EAAe,CAACH,EAAMG,CAAO,EAAG,CACpB,8BACC,EAAE,CAACA,EAAS,CAACH,EAAM,KAAK,CAAC,EAAG,CAE7B,kCACZ,EAAe,CAACG,EAAS,CAACH,EAAMiB,EAAO,WAAW,CAAC,EAAG,CAE1C,6BACZ,EAAe,CAAC,CAACjB,EAAMiB,EAAO,UAAU,EAAGd,CAAO,EAAG,CAEzC,yDACZ,EAAe,CAACA,EAAS,CAACH,EAAM,WAAWgB,CAAO,CAAC,EAAG,CAE1C,6DACZ,EAAe,CAAChB,EAAMG,CAAO,EAAG,CAEpB,8CACC,EAAE,CAACA,EAAS,CAACH,EAAM,eAAe,CAAC,EAAG,CACvC,oDACZ,EAAe,CAACG,EAASH,CAAI,EAAG,CACpB,8CACZ,EAAe,CAACA,EAAM,CAACG,EAASsC,GAAWC,EAAY,CAAC,EAAG,CAE/C,4BACZ,EAAe,CAAC1C,EAAMG,CAAO,EAAG,CAGpB,sCACC,EAAE,CAAC,CAACH,EAAM,UAAU,EAAGG,CAAO,EAAG,CAClC,qCACZ,EAAe,CAACA,EAAS,CAACH,EAAMmB,EAAQ,UAAU,CAAC,EAAG,CAC1C,6BACA,cACA,mGAEA,+FAEA,wBACA,2CAGA,wHAEA,sBACZ,EAAe,CAACnB,EAAMG,CAAO,EAAG,CAEpB,sBACC,EAAE,CAACH,EAAM,CAACG,EAAS,eAAgB,EAAE,CAAC,CAC1C,EAED,IAAM,CAAC,CAEH,+CACC,EAAE,CAAC,CAACC,EAAc,OAAO,CAAC,EAAG,CAE9B,cACC,EAAE,CAAC,CAACA,EAAciC,EAAQ,CAAC,EAAG,CAE/B,wBACC,EAAE,CAAC,CAACjC,EAAc,MAAM,CAAC,EAAG,CAE7B,kCACC,EAAE,CAAC,CAACA,EAAc,OAAO,CAAC,EAAG,CAE9B,iCACC,EAAE,CAAC,CAACA,EAAc,OAAO,CAAC,EAAG,CAG9B,4BACC,EAAE,CAAC,CAACA,EAAc,KAAK,CAAC,EAAG,CAE5B,wCACZ,EAAe,CAAC,CAACA,EAAc,OAAQZ,EAAO6C,EAAQ,CAAC,EAAG,CAE9C,gBACC,EAAE,CAAC,CAACjC,EAAc,OAAO,CAAC,EAAG,CAE9B,yHAEZ,EAAe,CAAC,CAACA,EAAciC,EAAQ,CAAC,CAC/B,EAED,OAAS,CAAC,CAQN,iFACZ,EAAe,CAACtC,EAAO,CAACG,EAAQwB,CAAO,EAAG,CAACzB,EAAMM,CAAM,CAAC,EAAG,CAC/C,0CACA,uBACA,eACZ,EAAe,CAACR,EAAO,CAACG,EAAQwB,CAAO,EAAG,CAACzB,EAAMK,CAAM,CAAC,EAAG,CAG/C,2BACZ,EAAe,CAACP,EAAO,CAACG,EAAQW,CAAK,EAAG,CAACZ,EAAMK,CAAM,CAAC,EAAG,CAC7C,6BACA,oCACA,gCACZ,EAAe,CAACP,EAAO,CAACG,EAAQW,CAAK,EAAG,CAACZ,EAAMM,CAAM,CAAC,EAAG,CAC7C,eACC,EAAE,CAACR,EAAO,CAACG,EAAQW,CAAK,CAAC,EAAG,CAG7B,6DACZ,EAAe,CAACd,EAAO,CAACG,EAAQmB,CAAM,EAAG,CAACpB,EAAMM,CAAM,CAAC,EAAG,CAC9C,kCACA,oEACZ,EAAe,CAACR,EAAO,CAACG,EAAQmB,CAAM,EAAG,CAACpB,EAAMK,CAAM,CAAC,EAAG,CAG9C,6BACA,yBACA,uCACA,iDACA,uGACC,EAAE,CAAC,CAACP,EAAO,KAAM,GAAG,EAAG,CAACG,EAAQ2B,CAAM,EAAG,CAAC5B,EAAMK,CAAM,CAAC,EAAG,CAC3D,4CACC,EAAC,CAAC,CAACP,EAAO,KAAM,GAAG,EAAG,CAACG,EAAQ2B,CAAM,EAAG,CAAC5B,EAAMM,CAAM,CAAC,EAAG,CAG1D,sBACA,iEACZ,EAAe,CAACR,EAAO,CAACG,EAAQ,MAAM,EAAG,CAACD,EAAMK,CAAM,CAAC,EAAG,CAG9C,yBACA,kCACZ,EAAe,CAACP,EAAO,CAACG,EAAQ,MAAM,EAAG,CAACD,EAAMK,CAAM,CAAC,EAAG,CAG9C,gCACZ,EAAe,CAACP,EAAO,CAACG,EAAQ,QAAQ,EAAG,CAACD,EAAMK,CAAM,CAAC,EAAG,CAGhD,iFACA,4BACA,oDACZ,EAAe,CAACP,EAAO,CAACG,EAAQsB,CAAQ,EAAG,CAACvB,EAAMK,CAAM,CAAC,EAAG,CAChD,mCACZ,EAAe,CAACP,EAAO,CAACG,EAAQsB,CAAQ,EAAG,CAACvB,EAAMM,CAAM,CAAC,EAAG,CAGhD,+DACZ,EAAe,CAACR,EAAO,CAACG,EAAQoB,CAAE,EAAG,CAACrB,EAAMM,CAAM,CAAC,EAAG,CAC1C,sDACA,oDACA,sBACZ,EAAe,CAACR,EAAO,CAACG,EAAQoB,CAAE,EAAG,CAACrB,EAAMK,CAAM,CAAC,EAAG,CAG1C,oBACA,mEACZ,EAAe,CAACP,EAAO,CAACG,EAAQ,QAAQ,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CAGhD,qCACA,wBACC,EAAE,CAAC,CAACR,EAAO,KAAM,GAAG,EAAG,CAACG,EAAQ,OAAO,EAAG,CAACD,EAAMK,CAAM,CAAC,EAAG,CAG5D,cACZ,EAAe,CAACP,EAAO,CAACG,EAAQkB,CAAM,EAAG,CAACnB,EAAMM,CAAM,CAAC,EAAG,CAC9C,2CACZ,EAAe,CAACR,EAAO,CAACG,EAAQkB,CAAM,EAAG,CAACnB,EAAMK,CAAM,CAAC,EAAG,CAG9C,wGACZ,EAAe,CAACP,EAAO,CAACG,EAAQ0B,CAAI,EAAG,CAAC3B,EAAMK,CAAM,CAAC,EAAG,CAC5C,oBACA,+BACC,EAAE,CAAC,CAACP,EAAO,eAAe,EAAG,CAACG,EAAQ0B,CAAI,EAAG,CAAC3B,EAAMM,CAAM,CAAC,EAAG,CAG/D,sCACA,wCACZ,EAAe,CAACR,EAAO,CAACG,EAAQ,SAAS,EAAG,CAACD,EAAMK,CAAM,CAAC,EAAG,CAGjD,eACA,2BACA,8BACZ,EAAe,CAACP,EAAO,CAACG,EAAQU,CAAM,EAAG,CAACX,EAAMM,CAAM,CAAC,EAAG,CAC9C,+CACC,EAAE,CAAC,CAACR,EAAO,QAAS,eAAe,EAAG,CAACG,EAAQU,CAAM,EAAG,CAACX,EAAMK,CAAM,CAAC,EAAG,CAG1E,8BACZ,EAAe,CAACP,EAAOG,EAAQ,CAACD,EAAMM,CAAM,CAAC,EAAG,CACpC,gCACA,gBACZ,EAAe,CAACR,EAAO,CAACG,EAAQa,CAAU,EAAG,CAACd,EAAMK,CAAM,CAAC,EAAG,CAGlD,mFACZ,EAAe,CAACP,EAAO,CAACG,EAAQY,CAAI,EAAG,CAACb,EAAMM,CAAM,CAAC,EAAG,CAC5C,+CACZ,EAAe,CAACR,EAAO,CAACG,EAAQY,CAAI,EAAG,CAACb,EAAMK,CAAM,CAAC,EAAG,CAG5C,YACZ,EAAe,CAACP,EAAO,CAACG,EAAQ,KAAK,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CAC7C,2CAGA,oCACA,mEACZ,EAAe,CAACL,EAAQ,CAACH,EAAO,KAAM,GAAG,EAAG,CAACE,EAAMK,CAAM,CAAC,EAAG,CAGjD,qCACZ,EAAe,CAACP,EAAO,CAACG,EAAQ,MAAM,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CAG9C,8BACA,mBACZ,EAAe,CAACR,EAAO,CAACG,EAAQ,OAAO,EAAG,CAACD,EAAMK,CAAM,CAAC,EAAG,CAG/C,+BACZ,EAAe,CAACP,EAAO,CAACG,EAAQyB,CAAK,EAAG,CAAC1B,EAAMK,CAAM,CAAC,EAAG,CAG7C,kGAEA,mBACA,iBACA,8BACA,0BACA,WACA,uBACZ,EAAe,CAACJ,EAAQH,EAAO,CAACE,EAAMK,CAAM,CAAC,EAAG,CAEpC,wBACA,uCACA,uBACA,4BACA,iCACA,kCACA,8BACA,gCACA,iCACZ,EAAe,CAACJ,EAAQH,EAAO,CAACE,EAAMM,CAAM,CAAC,EAAG,CAEpC,gBACZ,EAAe,CAACR,EAAO,CAACG,EAAQqB,CAAS,EAAG,CAACtB,EAAMM,CAAM,CAAC,EAAG,CACjD,mCACZ,EAAe,CAACR,EAAO,CAACG,EAAQ,WAAW,EAAG,CAACD,EAAMK,CAAM,CAAC,EAAG,CACnD,WACZ,EAAe,CAACP,EAAO,CAACG,EAAQ,MAAM,EAAG,CAACD,EAAMK,CAAM,CAAC,EAAG,CAC9C,cACZ,EAAe,CAACP,EAAO,CAACG,EAAQ,SAAS,EAAG,CAACD,EAAMK,CAAM,CAAC,EAAG,CACjD,eACZ,EAAe,CAACP,EAAO,CAACG,EAAQ,KAAK,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CAC7C,wBACZ,EAAe,CAACR,EAAO,CAACG,EAAQ,MAAM,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CAC9C,sBACZ,EAAe,CAACR,EAAO,CAACG,EAAQ,SAAS,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CACjD,6CACZ,EAAe,CAACR,EAAO,CAACG,EAAQ,gBAAgB,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CACxD,mBACZ,EAAe,CAACR,EAAO,CAACG,EAAQ,UAAU,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CAClD,YACZ,EAAe,CAACR,EAAO,CAACG,EAAQ,KAAK,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CAC7C,iBACZ,EAAe,CAACR,EAAO,CAACG,EAAQ,KAAK,EAAG,CAACD,EAAMK,CAAM,CAAC,EAAG,CAC7C,sBACZ,EAAe,CAACP,EAAO,CAACG,EAAQ,OAAO,EAAG,CAACD,EAAMK,CAAM,CAAC,EAAG,CAC/C,iBACZ,EAAe,CAACP,EAAO,CAACG,EAAQ,OAAO,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CAC/C,sBACZ,EAAe,CAACR,EAAO,CAACG,EAAQ,MAAM,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CAC9C,mBACA,oCACZ,EAAe,CAAC,CAACL,EAAQ,cAAc,EAAGH,EAAO,CAACE,EAAMM,CAAM,CAAC,EAAG,CACtD,oBACZ,EAAe,CAACR,EAAO,CAACG,EAAQ,UAAU,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CAClD,4BACZ,EAAe,CAACR,EAAO,CAACG,EAAQ,UAAU,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CAClD,kDACZ,EAAe,CAAC,CAACL,EAAQ,OAAO,EAAGH,EAAO,CAACE,EAAMK,CAAM,CAAC,EAAG,CAC/C,yBACZ,EAAe,CAAC,CAACJ,EAAQ,OAAO,EAAGH,EAAO,CAACE,EAAMK,CAAM,CAAC,EAAG,CAC/C,YACZ,EAAe,CAACP,EAAO,CAACG,EAAQ,WAAW,EAAG,CAACD,EAAMK,CAAM,CAAC,EAAG,CACnD,qCACZ,EAAe,CAACP,EAAO,CAACG,EAAQ,SAAS,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CACjD,sBACZ,EAAe,CAACR,EAAO,CAACG,EAAQ,WAAW,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CACnD,gBACZ,EAAe,CAACR,EAAO,CAACG,EAAQ,OAAO,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CAC/C,mBACZ,EAAe,CAACR,EAAO,CAACG,EAAQ,QAAQ,EAAG,CAACD,EAAMM,CAAM,CAAC,EAAG,CAChD,iBACZ,EAAe,CAACL,EAAQH,EAAO,CAACE,EAAMK,CAAM,CAAC,EAAG,CACpC,oBACC,EAAE,CAAC,CAACP,EAAO,MAAO,GAAG,EAAG,CAACG,EAAQqB,CAAS,EAAG,CAACtB,EAAMK,CAAM,CAAC,EAAG,CAC/D,uDACZ,EAAe,CAACP,EAAO,CAACG,EAAQ4B,CAAK,EAAG,CAAC7B,EAAMM,CAAM,CAAC,EAAG,CAC7C,uCACZ,EAAe,CAACR,EAAO,CAACG,EAAQ4B,CAAK,EAAG,CAAC7B,EAAMK,CAAM,CAAC,EAAG,CAM7C,UACA,4BACZ,EAAe,CAACJ,EAAQH,EAAO,CAACE,EAAMI,CAAO,CAAC,EAAG,CACrC,wBACZ,EAAe,CAACN,EAAO,CAACG,EAAQ,QAAQ,EAAG,CAACD,EAAMI,CAAO,CAAC,EAAG,CACjD,iCACZ,EAAe,CAACN,EAAO,CAACG,EAAQ0B,CAAI,EAAG,CAAC3B,EAAMI,CAAO,CAAC,EAAG,CAC7C,oCACZ,EAAe,CAACN,EAAO,CAACG,EAAQqB,CAAS,EAAG,CAACtB,EAAMI,CAAO,CAAC,EAAG,CAMlD,sBACC,EAAE,CAACH,EAAQ,CAACD,EAAMO,CAAO,CAAC,EAAG,CAC9B,qBACC,EAAE,CAAC,CAACT,EAAO,IAAK,SAAS,EAAG,CAACG,EAAQwB,CAAO,EAAG,CAACzB,EAAMO,CAAO,CAAC,EAAG,CAClE,4DACZ,EAAe,CAAC,CAACN,EAAQoB,CAAE,EAAG,CAACrB,EAAMO,CAAO,CAAC,EAAG,CACpC,cACZ,EAAe,CAACN,EAAQ,CAACH,EAAOc,EAAM,KAAK,EAAG,CAACZ,EAAMO,CAAO,CAAC,EAAG,CACpD,QACC,EAAE,CAAC,CAACT,EAAOkB,EAAO,MAAM,EAAG,CAACf,EAAQkB,CAAM,EAAG,CAACnB,EAAMO,CAAO,CAAC,EAAG,CAChE,0BACZ,EAAe,CAACT,EAAO,CAACG,EAAQU,CAAM,EAAG,CAACX,EAAMO,CAAO,CAAC,EAAG,CAC/C,uBACA,qBACZ,EAAe,CAACT,EAAO,CAACG,EAAQyB,CAAK,EAAG,CAAC1B,EAAMO,CAAO,CAAC,EAAE,CAC7C,0BACZ,EAAe,CAACT,EAAO,CAACG,EAAQ0B,CAAI,EAAG,CAAC3B,EAAMO,CAAO,CAAC,EAAG,CAC7C,mBACZ,EAAe,CAACT,EAAO,CAACG,EAAQ2B,CAAM,EAAG,CAAC5B,EAAMO,CAAO,CAAC,EAAG,CAC/C,0CACA,qDACC,EAAE,CAAC,CAACN,EAAQ33L,EAAI,EAAG,CAACw3L,EAAOx3L,EAAI,EAAG,CAAC03L,EAAMO,CAAO,CAAC,EAAG,CACrD,iDACC,EAAE,CAAC,CAACP,EAAMO,CAAO,CAAC,EAAG,CAMtB,gBACZ,EAAe,CAACN,EAAQH,EAAO,CAACE,EAAMQ,CAAQ,CAAC,EAAG,CACtC,sBACZ,EAAe,CAACV,EAAO,CAACG,EAAQkB,CAAM,EAAG,CAACnB,EAAMQ,CAAQ,CAAC,EAAG,CAChD,2BACZ,EAAe,CAACV,EAAO,CAACG,EAAQ4B,CAAK,EAAG,CAAC7B,EAAMQ,CAAQ,CAAC,EAAG,CAC/C,eACZ,EAAe,CAACV,EAAO,CAACG,EAAQ6B,CAAQ,EAAG,CAAC9B,EAAMQ,CAAQ,CAAC,EAAG,CAMlD,sCACC,EAAE,CAACP,EAAQ,CAACD,EAAMS,CAAQ,CAAC,EAAG,CAM/B,yDACC,EAAE,CAACX,EAAO,CAACE,EAAMK,CAAM,CAAC,EAAG,CAC5B,6DACC,EAAE,CAACP,EAAO,CAACE,EAAMM,CAAM,CAAC,EAAG,CAC5B,8CACC,EAAE,CAAC,CAACN,EAAMM,CAAM,CAAC,EAAG,CACrB,gEACC,EAAE,CAAC,CAACN,EAAMK,CAAM,CAAC,EAAG,CACrB,gCACC,EAAE,CAACP,EAAO,CAACG,EAAQ,SAAS,CAAC,CACjC,EAED,OAAS,CAAC,CAEN,4BACZ,EAAe,CAACC,EAAS,CAACH,EAAMkB,EAAK,MAAM,CAAC,EAAG,CAEnC,2CACC,EAAE,CAACf,EAAS,CAACH,EAAM,OAAO,CAAC,EAAG,CAE/B,uBACA,sEACA,0BACA,yCACA,6BACZ,EAAe,CAACA,EAAMG,CAAO,EAAG,CAEpB,+BACZ,EAAe,CAACA,EAASH,CAAI,CACpB,EAED,GAAK,CAAC,CAGF,iCACZ,EAAe,CAACA,EAAMG,CAAO,EAAG,CACpB,4BACA,wDACA,4CACZ,EAAe,CAACH,EAAM,CAACG,EAASsC,GAAWE,EAAiB,CAAC,EAAG,CACpD,oCACZ,EAAe,CAAC,CAAC3C,EAAM,SAAS,EAAG,CAACG,EAASsC,GAAWE,EAAiB,CAAC,EAAG,CAGjE,sDACA,sBACZ,EAAe,CAAC,CAACxC,EAAS,KAAM,GAAG,EAAG,CAACH,EAAM,KAAK,CAAC,EAAG,CAC1C,0BACA,uCACZ,EAAe,CAAC,CAACA,EAAM,QAAQ,EAAG,CAACG,EAAS,KAAM,GAAG,CAAC,EAAG,CAG7C,gDACZ,EAAe,CAACA,EAASH,CAAI,EAAG,CACpB,+EACA,8BACA,+BACA,gBACZ,EAAe,CAACA,EAAMG,CAAO,EAAG,CACpB,YACC,EAAE,CAACA,EAAS,CAACH,EAAMe,CAAU,CAAC,EAAG,CAClC,2DACC,EAAE,CAACZ,EAAS,CAACH,EAAM,SAAS,CAAC,EAAG,CACjC,iFACZ,EAAe,CAACG,EAAS,CAACH,EAAMmB,EAAQ,KAAK,CAAC,EAAG,CACrC,kBACA,sCACC,EAAE,CAAChB,EAAS,CAACH,EAAM,OAAO,CAAC,EAAG,CAG/B,mBACZ,EAAe,CAACG,EAAS,CAACH,EAAMiB,EAAO,MAAM,CAAC,EAAG,CACrC,2BACC,EAAE,CAAC,CAACjB,EAAM,aAAa,EAAGG,CAAO,EAAE,CAGpC,mDACA,2BAGA,wCACA,yBACA,4BACA,8SAEA,2BACA,oBACA,6EACA,gBACZ,EAAe,CAACH,EAAMG,CAAO,EAAG,CACpB,uBACC,EAAE,CAAC,CAACH,EAAM,SAAS,EAAGG,CAAO,EAAG,CACjC,sCACA,kCACA,wDACA,oBACZ,EAAe,CAACH,EAAMG,CAAO,CACpB,CACT,EAMQyC,GAAW,SAAUJ,GAAIP,GAAY,CAOrC,GALI,OAAOO,KAAO5C,IACdqC,GAAaO,GACbA,GAAKlD,GAGL,EAAE,gBAAgBsD,IAClB,OAAO,IAAIA,GAASJ,GAAIP,EAAU,EAAE,UAAS,EAGjD,IAAIY,GAAML,KAAQ,OAAOxgK,IAAW29J,GAAc39J,EAAO,WAAaA,EAAO,UAAU,UAAaA,EAAO,UAAU,UAAYw9J,GAC7HsD,GAAUb,GAAat8J,GAAOq8J,GAASC,EAAU,EAAID,GAEzD,YAAK,WAAa,UAAY,CAC1B,IAAIe,GAAW,CAAA,EACf,OAAAA,GAAS/C,CAAI,EAAIV,EACjByD,GAAS5C,CAAO,EAAIb,EACpBiD,GAAU,KAAKQ,GAAUF,GAAKC,GAAQ,OAAO,EAC7CC,GAAS,MAAQT,GAASS,GAAS,OAAO,EACnCA,EACnB,EACQ,KAAK,OAAS,UAAY,CACtB,IAAIC,GAAO,CAAA,EACX,OAAAA,GAAK5C,CAAY,EAAId,EACrBiD,GAAU,KAAKS,GAAMH,GAAKC,GAAQ,GAAG,EAC9BE,EACnB,EACQ,KAAK,UAAY,UAAY,CACzB,IAAIC,GAAU,CAAA,EACd,OAAAA,GAAQ/C,CAAM,EAAIZ,EAClB2D,GAAQlD,CAAK,EAAIT,EACjB2D,GAAQhD,CAAI,EAAIX,EAChBiD,GAAU,KAAKU,GAASJ,GAAKC,GAAQ,MAAM,EACpCG,EACnB,EACQ,KAAK,UAAY,UAAY,CACzB,IAAIC,GAAU,CAAA,EACd,OAAAA,GAAQlD,CAAI,EAAIV,EAChB4D,GAAQ/C,CAAO,EAAIb,EACnBiD,GAAU,KAAKW,GAASL,GAAKC,GAAQ,MAAM,EACpCI,EACnB,EACQ,KAAK,MAAQ,UAAY,CACrB,IAAIC,GAAM,CAAA,EACV,OAAAA,GAAInD,CAAI,EAAIV,EACZ6D,GAAIhD,CAAO,EAAIb,EACfiD,GAAU,KAAKY,GAAKN,GAAKC,GAAQ,EAAE,EAC5BK,EACnB,EACQ,KAAK,UAAY,UAAY,CACzB,MAAO,CACH,GAAU,KAAK,MAAO,EACtB,QAAU,KAAK,WAAY,EAC3B,OAAU,KAAK,UAAW,EAC1B,GAAU,KAAK,MAAO,EACtB,OAAU,KAAK,UAAW,EAC1B,IAAU,KAAK,OAAQ,CACvC,CACA,EACQ,KAAK,MAAQ,UAAY,CACrB,OAAON,EACnB,EACQ,KAAK,MAAQ,SAAUL,GAAI,CACvB,OAAAK,GAAO,OAAOL,KAAO3C,GAAY2C,GAAG,OAAS7B,EAAiBp4L,GAAKi6L,GAAI7B,CAAa,EAAI6B,GACjF,IACnB,EACQ,KAAK,MAAMK,EAAG,EACP,IACf,EAEID,GAAS,QAAUrD,EACnBqD,GAAS,QAAWT,GAAU,CAACnC,EAAMG,EAASL,CAAK,CAAC,EACpD8C,GAAS,IAAMT,GAAU,CAAC/B,CAAY,CAAC,EACvCwC,GAAS,OAAST,GAAU,CAACpC,EAAOG,EAAQD,EAAMI,EAASC,EAAQE,EAASD,EAAQE,EAAUC,CAAQ,CAAC,EACvGkC,GAAS,OAASA,GAAS,GAAKT,GAAU,CAACnC,EAAMG,CAAO,CAAC,EASjBh4K,EAAO,UACvCD,EAAUC,EAAiB,QAAAy6K,IAE/B16K,EAAA,SAAmB06K,GAkBvB,IAAIQ,GAAI,OAAOphK,IAAW29J,IAAe39J,EAAO,QAAUA,EAAO,OACjE,GAAIohK,IAAK,CAACA,GAAE,GAAI,CACZ,IAAIj8K,GAAS,IAAIy7K,GACjBQ,GAAE,GAAKj8K,GAAO,YACdi8K,GAAE,GAAG,IAAM,UAAY,CACnB,OAAOj8K,GAAO,OAC1B,EACQi8K,GAAE,GAAG,IAAM,SAAUZ,GAAI,CACrBr7K,GAAO,MAAMq7K,EAAE,EACf,IAAI79I,GAASx9B,GAAO,YACpB,QAAS2qE,MAAQntC,GACby+I,GAAE,GAAGtxG,EAAI,EAAIntC,GAAOmtC,EAAI,CAExC,EAGC,GAAE,OAAO,QAAW,SAAW,OAAS7iB,EAAI,qCCv1B7C,MAAAo0H,GAAA55L,GAAA,CAGE,KAAA,CAAA,YAAA4kB,GAAAO,KACA,CAAM,mBAAA00K,EACJ,oBAAAnE,EACA,qBAAAoE,EACA,aAAAtM,EACA,gBAAAuM,EACA,gBAAAC,EACA,gBAAAC,EAAA,EACkB,EAAAj6L,EAEpB,CAAA,IAAA1C,EAAA,OAAAutB,CAAA,EAAAC,GAAA,EACA,CAAAovK,EAAAC,CAAA,EAAA7zK,EAAA,SAAA,EAAA,EACA,CAAA8zK,EAAAC,CAAA,EAAA/zK,EAAA,SAAA,EAAA,EACA,CAAAg0K,EAAAC,CAAA,EAAAj0K,EAAA,SAAA,EACA,CAAAk0K,EAAAC,CAAA,EAAAn0K,EAAA,SAAA,EACA,CAAA6B,EAAAuyK,CAAA,EAAAp0K,EAAA,SAAA,EAAA,EACA,IAAAq0K,EAAA,GAEA/zK,EAAAA,UAAA,KACE+zK,GAAA9vK,GACE+vK,IAEF,IAAA,CACED,EAAA,EAAU,GACZ,CAAA/1K,EAAAiG,CAAA,CAAA,EAGF,MAAA6/I,EAAA,SAAA,CACE,IAAAvuE,EAIA,MAAA0+F,EADA,IAAA1B,GAAAA,WACA,WAAA,EAAA,MAAA,SACA,IAAA2B,EAAA,KACAD,IACEC,EAAA,OAAA,KAA8B,GAC5B,kBACA,oHACA,EAEFA,EAAA,SAAA,KAAA,UAAA,iCAGF,GAAA,CACEhB,IAAA3wK,GAAA,YAEEgzE,GADA,MAAA4+F,EAAA,EAAA,GACA,eAAA,CAAA,EAAA,aAGA5+F,GADA,MAAA6+F,GAAAV,EAAA11K,EAAA,GAAA,EAAA,GACA,YACF,OAAAK,EAAA,CAEA,QAAA,IAAA,mCAAAA,CAAA,CAAiD,CAGnDk3E,GAIE0+F,GAAAC,GACEA,EAAA,SAAA3+F,EACA,WAAA,IAAA,CACE2+F,GACEA,EAAA,MAAA,CACF,EAAA,GAAA,GAGF,OAAA,KAAA3+F,CAAA,EAEF69F,GACEA,EAAAE,CAAA,IAdFY,GAAA,MAAAA,EAAA,QACA,QAAA,IAAA,gCAAA,EAeF,EAGFG,EAAAhyK,GACEA,GAAA,CAAAA,EAAA,WACEoxK,EAAA,EAAA,EACA,KAEAA,EAAA,EAAA,EACA,IAIJU,EAAA,CAAAG,EAAA,KAcEh/F,GANA,CAA2C,mBAAA,GACrB,qBAAAg/F,EACpB,4BAAA,GAC6B,eAV/B,CAA2D,CACzD,kBAAArB,EACqB,oBAAAC,EACE,aAAAtM,CACrB,CACF,CAMgB,EAElB5oK,CAAA,EAGFg2K,EAAA,IACE71K,GAAAH,EAAAi1K,EAAAnE,CAAA,EAAA,KAAA,MAAA91F,GAAA,CAGI,GAAA,OAAA,OAAAA,EAAA,kBAAA,EAEE,OAAA26F,EAAA36F,CAAA,EACAo7F,GAAOp7F,EAELh7E,EACA,EACA,EAAA,KAAAmG,GAAA,CAGE,MAAA9B,EAAA8B,EAAA,WACA9B,GAAAgyK,EAAAhyK,CAAA,GAEEkyK,GAAAlyK,CAAA,IACEkxK,EAAA,EAAA,EACAM,EAAAxxK,EAAA,WAAA,EAEJ,CAAA,EAAA,MAAAmzE,GAAA,CAGA,QAAA,IAAA,sCAAAA,CAAA,CAAsD,CAAA,EACvD,GAAA09F,IAAA3wK,GAAA,YAAA,CAKH,MAAAF,GADA,MAAA8xK,KACA,eAAA,CAAA,EAAA,WACAhB,GAAA9wK,GAAAgyK,EAAAhyK,CAAA,GACEyxK,EAAAzxK,EAAA,QAAA,EAIJ,OAAA,QAAA,SAAuB,CAAA,EAAA,MAAAmzE,GAAA,CAGvB,QAAA,IAAA,wBAAAA,CAAA,CAAwC,CAAA,EA4C9C,OAAA73E,EACE6/C,GAAC,CAAA,MAAA81H,EAAA,4BAAA,kCAIO,eAAAkB,GAEU,UAAA,OACN,SAAA72K,EAAA,OAAA,CAAA,IAAAjnB,EAAA,UAhDd,IACE48L,EACE31K,EACE,SAAC,CAAA,UAAA,oBACY,QAAA5gB,GAAA,CAETq2L,IACEA,EAAAE,CAAA,EACAD,GAAqBt2L,EAAA,gBAAA,EACvB,EACF,SAAA4gB,EAEA,IAAC,CAAA,UAAA,aACW,IAAA,aACN,KAAAi2K,EACE,OAAA,SACC,SAAAj2K,EAAAwgD,GAAA,CAAA,KAAA,iBAAA,CAAA,CAEyB,CAAA,CAClC,CAAA,EAINq1H,EACErzK,EACE,SAAC,CAAA,UAAA,oBACY,QAAApjB,GAAA,CAET+mK,IACAuvB,GAAqBt2L,EAAA,gBAAA,CAAsB,EAC7C,SAAA,CAEA4gB,EAAAwgD,GAAA,CAAA,KAAA,UAAA,CAAA,EAAyBg1H,GAAA5xK,EAAAA,EAAA,EACiB,CAAA,CAAA,EAIhD5D,EAAAyC,GAAA,CAAA,CAAA,GAWY,EAAA,CAEiB,CAAA,CAGjC,oxCClMA,MAAAq0K,GAAA,CAGI,yBAAA,CACqD,KAAA,eAC/C,MAAAxxL,GAAAA,EAAA,QAAA,QAAA,KACgC,YAAA,uCACzB,EACf,2BAAA,CACyD,KAAA,eACjD,MAAAA,GAAAA,EAAA,QAAA,QAAA,KACgC,YAAA,kDACzB,EACf,mBAAA,CACiD,KAAA,eACzC,MAAAA,GAAAA,EAAA,QAAA,QAAA,KACgC,YAAA,gDACzB,EACf,WAAA,CAEyC,KAAA,aACjC,MAAAA,GAAAA,EAAA,QAAA,QAAA,KACgC,YAAA,EACzB,EACf,aAAA,CAE2C,KAAA,aACnC,MAAAA,GAAAA,EAAA,QAAA,QAAA,KACgC,YAAA,EACzB,CAEjB,EAEA,SAAAyxL,GAAAt7L,EAAA,CACE,KAAA,CAAA,aAAAu7L,CAAA,EAAAv7L,EACA6J,EAAAiN,KACA,GAAAykL,EAAA,CACE,MAAAC,EAAAH,GAAAE,CAAA,EACA,OAAAh3K,EACEwgD,GAAC,CAAA,KAAAy2H,EAAA,KACqB,MAAAA,EAAA,YACC,GAAA,CACjB,MAAAA,EAAA,MAAA3xL,CAAA,EAC8B,OAAA,OACxB,cAAA,UACO,CACjB,CAAA,EAKN,OAAA0a,EAAAyC,GAAA,CAAA,CAAA,CACF,CAUO,SAAAy0K,GAAAn2K,EAAAowK,EAAA,CAIL,KAAA,CAAAgG,EAAAC,CAAA,EAAAvgL,GAAA,SAAA,EAGA,CAAA,YAAAwJ,GAAAO,KACAyE,EAAA,SAAA8rK,GAAA,EAAA,EACA,CAAA,KAAAkG,EAAA,MAAAC,CAAA,EAAAx2K,GAAwDC,EACtD,OAAA,MAAAsE,CAAA,EAAA,OAAAA,EACgD,CAChD,cAAA,GACiB,mBAAA,EACK,CACtB,EAGFkyK,EAAA1gL,GAAA,QACQ,KAAA,CACG,uBAAA8xJ,GAAA,OAC0C,SAAA5nJ,CACrC,GACZ,CAAAA,CAAA,CACS,EAGb,CAAA,KAAAy2K,CAAA,EAAAC,GAAyCF,CACvC,EAGFl8F,EAAAg8F,GAAA,YAAAA,EAAA,OACAK,EAAAL,GAAA,YAAAA,EAAA,YAEA,OAAAxgL,GAAA,UAAA,IAAA,CACE2gL,GAAAA,EAAA,0BAIEJ,EAAA,4BACE,EACF/7F,IAAAq8F,GAAA,MAAAA,EAAA,aAEAlzK,GAAA62E,CAAA,GAAAA,EAAA,iBACE+7F,EAAA,YAAA,EAEAA,EAAA,cAAA,EACFM,GAAA,CAAAA,EAAA,aAEAN,EAAA/2K,EAAA,qBAAA,0BAGM,CAER,EAAA,CACCA,EACDg7E,EACAi8F,EACAI,EACAF,CACA,CAAA,EAGFL,CACF,CAMO,SAAAQ,GAAAl8L,EAAA,CACL,KAAA,CAAAm8L,EAAAC,CAAA,EAAAhhL,GAAA,SAAA,EAAA,EAEA,CAAAs1J,EAAA2rB,CAAA,EAAAjhL,GAAA,SAAA,CAAA,CAAA,EAIA,CAAA,SAAAkK,EAAA,oBAAAowK,CAAA,EAAA11L,EAEA07L,EAAAD,GAA+Bn2K,EAC7BowK,CACA,EAGF,CAAA,YAAA9wK,GAAAO,KAEA22K,EAAA1gL,GAAA,QACQ,KAAA,CACG,uBAAA8xJ,GAAA,OAC0C,SAAA5nJ,CACrC,GACZ,CAAAA,CAAA,CACS,EAGb,CAAA,KAAAy2K,CAAA,EAAAC,GAAyCF,CACvC,EAGFQ,EAAA,IAAA,CAGE32K,GAAA,yBAAAf,EAAAU,CAAA,EAAA,KAA8Di3K,GAAA,CAE1D9rB,GAAA8rB,CAAA,EACE,OAAA,KAAO,GAAAC,GACFC,GAAA,eACsB,4BAAAn3K,gBACG,QAC5B,GAGF+2K,EAAAE,CAAA,EACAH,EAAA,EAAA,EACF,CACF,CACF,EAIFM,EAAAnhL,EAAAA,QAAA,IAAA,CACE,GAAA,CAAAwgL,EAEE,OAAAx3K,EAAAyC,GAAA,CAAA,CAAA,EAEF,MAAA21K,EAAAZ,GAAA,YAAAA,EAAA,0BAEAa,EAAAb,GAAA,YAAAA,EAAA,iBACA,IAAAc,EAAA,GAEA,GAAAF,EACEE,EAAA,qBAAW,IAAAC,GAAA,OAAAF,EAGX,OAAAr4K,EAAAyC,GAAA,CAAA,CAAA,EAEA61K,EAAA,aAEF,OAAA91K,EAAAC,GAAA,CAAA,SAAA,CAEIzC,EAAA,IAAC,CAAA,MAAA,CACQ,SAAA,OACK,OAAA,UACF,WAAA,MACI,cAAA,KACG,EACjB,UAAAvkB,EAAA,UACiB,QAAAs8L,EACR,SAAAO,CAER,CAAA,EACHV,GAAA53K,EAEEqsJ,GAAC,CAAA,SAAAtrJ,EACC,2BAAAorJ,EAC4B,cAAA,GACb,OAAA,IAAA,CAEb0rB,EAAA,EAAA,CAAiC,CACnC,CAAA,CACF,CAAA,CAAA,CAEJ,EAAA,CAED92K,EACDy2K,EACArrB,EACAyrB,CACA,CAAA,EAGF,OAAAT,IAAA,OAGEn3K,EAAAyC,GAAA,CAAA,CAAA,EAmCFD,EAAA,OAAA,CAAA,MAAA,CAAA,WAAA,QAAA,EAAA,SAAA,CAjCA20K,IAAA,2BAAAn3K,EAGI,SAAC,CAAA,KAAA,SACM,UAAA4xJ,GACM,QAAA4mB,GAAA,CAET,GAAAA,EAAA,UAAA,CAeE,MAAAC,EAAA,IAAA,WAAA,QAAA,CAAA,QAAA,EAAA,CAAA,EACAD,EAAA,cAAA,cAAAC,CAAA,EACF,EACF,SAAAz4K,EAAA+2K,GAAA,CAAA,aAAAI,CAAA,CAAA,CAEkD,CAAA,EAAAn3K,EAAA+2K,GAAA,CAAA,aAAAI,CAAA,CAAA,EAQnDgB,CACA,CAAA,CAAA,CAGP;;;ogBCjTA,MAAAO,GAAAj9L,GAAA,CACE,KAAA,CAAA,YAAA4kB,GAAAO,KACA,CAAA,aAAA+3K,CAAA,EAAAl9L,EACA,CAAAm9L,EAAAC,CAAA,EAAA92K,EAAA,SAAA,CAAA/B,EAAAyC,GAAA,EAAA,CAAA,CAAA,EACA,CAAA,IAAA1pB,EAAA,OAAAutB,CAAA,EAAAC,GAAA,EACA,IAAA6vK,EAAA,GAEA/zK,EAAAA,UAAA,KACEiE,GACEwyK,IAEF,IAAA,CACE1C,EAAA,EAAU,GACZ,CAAAuC,EAAAryK,CAAA,CAAA,EAGF,MAAAwyK,EAAA,IAAA,CACEH,EAAA,QAEAI,GAAAJ,EAAAt4K,CAAA,EAAA,KAAAg7E,GAAA,CAEI,GAAA+6F,EAAA,CACE,MAAA4C,EAAA39F,EAAA,QAAA,IAAA1oD,GACE3yB,EAAA,IAAA,CAAA,SAAAA,EAAAi5K,GAAA,CAAA,OAAAtmJ,EAAA,iBAAA,MAAA,CAAA,CAAA,EAAAA,EAAA,EAAA,CAGE,EAGJkmJ,EAAAG,CAAA,EACF,CAAA,EAAA,MAAAt4K,GAAA,CAGA,QAAA,IAAA,6CAAAA,CAAA,CAA2D,CAAA,CAC5D,EAGL,OAAAV,EAAA,OAAA,CAAA,IAAAjnB,EAAA,SAAA6/L,CAAA,CAAA,CACF,sNCvCA,MAAAM,GAAAz9L,GAAA,CACE,KAAA,CAAA,YAAA4kB,GAAAO,KACA,CAAA,aAAAu4K,CAAA,EAAA19L,EACA,CAAA29L,EAAAC,CAAA,EAAAt3K,EAAA,SAAA,EACA,CAAA,IAAAhpB,EAAA,OAAAutB,CAAA,EAAAC,GAAA,EACA,IAAA6vK,EAAA,GAEA/zK,EAAAA,UAAA,KACE+zK,GAAA9vK,GACEgzK,IAEF,IAAA,CACElD,EAAA,EAAU,GACZ,CAAA+C,EAAA7yK,CAAA,CAAA,EAGF,MAAAgzK,EAAA,IAAA,CACEH,GAEAI,GAAAJ,EAAA94K,CAAA,EAAA,KAAAm5K,GAAA,CAEIH,EAAAG,EAAA,IAAA,CAAsC,CAAA,EAAA,MAAA94K,GAAA,CAGtC,QAAA,IAAQ,iEACNA,CACA,CACF,CAAA,CACD,EAGL,OAAAV,EAAA,OAAA,CAAA,IAAAjnB,EAAA,SAAAqgM,CAAA,CAAA,CACF,oOC/BA,MAAAK,GAAAh+L,GAAA,CACE,KAAA,CAAA,YAAA4kB,GAAAO,KACA,CAAA,QAAAo7J,CAAA,EAAAvgL,EACA,CAAAi+L,EAAAC,CAAA,EAAA53K,EAAA,SAAA,EACA,CAAA,IAAAhpB,EAAA,OAAAutB,CAAA,EAAAC,GAAA,EACA,IAAA6vK,EAAA,GAEA/zK,EAAAA,UAAA,KACE+zK,GAAA9vK,GACEszK,IAEF,IAAA,CACExD,EAAA,EAAU,GACZ,CAAApa,EAAA11J,CAAA,CAAA,EAGF,MAAAszK,EAAA,IAAA,CACE5d,EAAA,QAEA6d,GAAA7d,EAAA37J,CAAA,EAAA,KAAAy5K,GAAA,CAEI,MAAApoK,EAAAooK,EAAA,KAAA,IAAAnnJ,GAAA3yB,EACE+/C,GAAC,CAAA,YAAAptB,EAEc,UAAA,mBACH,EAAAA,EAAA,OAFF,CAAA,EAKZgnJ,EAAAjoK,CAAA,CAAoB,CAAA,EAAA,MAAAhR,GAAA,CAGpB,QAAA,IAAA,0CAAAA,CAAA,CAAwD,CAAA,CACzD,EAGL,OAAAV,EAAA,OAAA,CAAA,IAAAjnB,EAAA,SAAA2gM,CAAA,CAAA,CACF,wMCMO,MAAAK,GAAA,CAAA,CAA2D,WAAAp+F,EAChE,YAAAxrF,EACA,OAAA6pL,EACA,oBAAAC,EACA,kBAAAC,EACA,iBAAAC,EACA,WAAA96F,EACA,cAAAH,EACA,aAAAtC,EACA,QAAA6tF,EACA,MAAAC,EACA,iBAAA0P,CAEF,IAAA,CACE,KAAA,CAAA,OAAA/+F,GAAAjB,KAEA,GAAA,CAAAjqF,EACE,OAAAqS,EAAA,IAAA,CAAA,UAAA,eAAA,SAAA,CAAmC,IAAA63K,EAAE,CAAA,CAAA,EAGvC,GAAAF,EACE,OAAAn6K,EACEsqK,GAAC,CAAA,MAAAn6K,EACQ,WAAAkvF,EACP,cAAAH,EACA,aAAAtC,EACA,SAAA,GACU,UAAAu9F,EACC,QAAA1P,EACX,MAAAC,CACA,CAAA,EAQN,GAAArvF,IAAAmB,GAAAnB,CAAA,GAAAqB,GAAArB,CAAA,GAAAi/F,GAAAj/F,CAAA,KAAAgE,IAAA,MAAAA,IAAA,SAAAqrF,GAAA0P,EAAA,CASE,MAAAj6K,EAAA,MAAAuqK,EAAA,SAAA,IACA6P,EAAAN,EAAA95K,CAAA,GAAAA,EACA,OAAAH,EAAA,IAAA,CAAA,SAAAA,EAEIi5K,GAAC,CAAA,OAAAsB,EACS,cAAAH,EACO,UAAA,GAAAJ,IACD,SAAA,GACJ,iBAAA36F,CACQ,CAAA,CAAA,CAAA,EAM1B,OAAA1D,EAAA,CAAoB,KAAAG,GAAA,SAEhB,OAAA97E,EAAA,IAAA,CAAA,SAAAA,EAEIi5K,GAAC,CAAA,OAAAgB,EAAA9pL,CAAA,GAAAA,EAC6C,UAAA,GAAA6pL,IAC9B,iBAAA,MACI,CAAA,CAAA,CAAA,EAIxB,KAAAl+F,GAAA,UAAA,CAEA,MAAA0+F,EAAA,KAAA,MAAArqL,CAAA,EACA,OAAAqS,EAAA,IAAA,CAAA,SAAA,CAEKg4K,EAAA,IAAA,CAAA94L,EAAArB,IACCmiB,EAAA,OAAA,CAAA,UAAAw3K,EAAA,SAAA,CAEKl0K,GAAAC,GAAA,OAAArkB,CAAA,CAAA,CAAA,EAA6BrB,IAAAm6L,EAAA,OAAA,EAAA,KAAA,EACU,CAAA,EAAAn6L,CAAA,CAC1C,EAEH,GAAG,CAAA,CAAA,CACN,CAEJ,KAAAy7F,GAAA,aAAA,CAEE,MAAA0+F,EAAA,KAAA,MAAArqL,CAAA,EACA,OAAA6P,EAAA,IAAA,CAAA,SAAAw6K,EAAA,IAAA,CAAA94L,EAAArB,IAGMmiB,EAAA,OAAA,CAAA,UAAAw3K,EAAA,SAAA,CAEKt4L,EAAA,OAAA,QAAerB,IAAAm6L,EAAA,OAAA,EAAA,KAAA,EACwB,CAAA,EAAAn6L,CAAA,CAC1C,CAAA,CAAA,CAGN,CAEJ,KAAAy7F,GAAA,aAEE,OAAA97E,EAAAyC,GAAA,CAAA,SAAA44E,GAAAr7E,EAGMq1K,GAAC,CAAA,mBAAAh6F,EAAA,GAC4B,qBAAAz2E,GAAA,YACmB,aAAAzU,EAChC,gBAAA,EACG,CAAA,CAAA,CAAA,EAGvB,KAAA2rF,GAAA,cAAA,CAGF,MAAA0+F,EAAA,KAAA,MAAArqL,CAAA,EACA,OAAA6P,EAAA,IAAA,CAAA,SAAAA,EAAA04K,GAAA,CAAA,aAAA8B,EAAA,CAAA,CAAA,CAGE,CAEJ,KAAA1+F,GAAA,YAAA,CAEE,MAAA0+F,EAAA,KAAA,MAAArqL,CAAA,EACA,OAAA6P,EAAAy5K,GAAA,CAAA,QAAAe,CAAA,CAAA,CAAsC,CACxC,KAAA1+F,GAAA,YAEoB,KAAAA,GAAA,aAAA,CAElB,MAAA0+F,EAAA,KAAA,MAAArqL,CAAA,EACA,OAAA6P,EAAA,IAAA,CAAA,UAAAg6K,EAAA,SAAAQ,EAAA,IAAA,CAAA94L,EAAArB,IAGMmiB,EAAA3L,GAAA,SAAA,CAAA,SAAA,CAEKnV,EAAArB,IAAAm6L,EAAA,OAAA,EAAA,KAAA,EACuC,CAAA,EAAA94L,CAAA,CAC1C,CAAA,CAAA,CAGN,CAEJ,KAAAo6F,GAAA,aAEE,OAAA97E,EAAAk5K,GAAA,CAAA,aAAA/oL,CAAA,CAAA,EACF,KAAA2rF,GAAA,KAGE,OAAA97E,EAAA,IAAA,CAAA,UAAAg6K,EAAA,SAAAl0K,GAAAC,GAAA,OAAA5V,CAAA,CAAA,CAAA,CAAA,CAAA,EAAqE,KAAA2rF,GAAA,OAGrE,GAAA,OAAA,UAAA,eAAA,KAAAo+F,EAAA/pL,CAAA,EAAA,CAGE,MAAAsqL,EAAAP,EAAA/pL,CAAA,EACA,CAAA,QAAA6pF,EAAA,SAAA0gG,CAAA,EAAAD,EACA,GAAA,iBAAAA,EAAA,CAEE,MAAA33H,EAAA43H,IAAAC,GAAA,SAAA,SAEA,OAAAD,IAAAC,GACEn4K,EAAA,OAAA,CAAA,SAAA,CAEIxC,EAAAwgD,GAAA,CAAA,KAAAsC,EAAA,EAAqB,+BAAE,CAAA,CAAA,EAI7BtgD,EACE,IAAC,CAAA,OAAA,SACQ,IAAA,sBACH,KAAA,GAAAq+C,GAAA,gBAAAm5B,IACgD,SAAA,CAEpDh6E,EAAAwgD,GAAA,CAAA,KAAAsC,EAAA,EAAqB,IAAE43H,CAAE,CAAA,CAAA,MAK7B,QAAA16K,EACE4F,GAAC,CAAA,YAAA60K,EACc,aAAAA,EAAA,mBACY,KAAA,iBACnB,CAAA,EAKd,MAAA,KAAA3+F,GAAA,KAEA,OAAA97E,EAAA,IAAA,CAAA,OAAA,SAAA,IAAA,sBAAA,KAAA7P,EAAA,SAAAA,CAAA,CAAA,EAGE,KAAA2rF,GAAA,OAEgB,KAAAA,GAAA,OACA,KAAAA,GAAA,QACA,KAAAA,GAAA,QACA,KAAAA,GAAA,WACA,KAAAA,GAAA,UAElB,OAAA97E,EAAA,IAAA,CAAA,UAAAg6K,EAAA,SAAA7pL,CAAA,CAAA,EACF,QAEE,eAAA,KAAQ,cAAAwrF,wDACQ,EAEhB37E,EAAA,IAAA,CAAA,UAAAg6K,EAAA,SAAA7pL,CAAA,CAAA,CAA0C,CAI9C,OAAA6P,EAAA,IAAA,CAAA,UAAAg6K,EAAA,SAAA7pL,CAAA,CAAA,CACF,4sECrQO,MAAMyqL,GAAkB,IAAM,CACnC,KAAM,CAAE,KAAAp0K,EAAM,SAAAo5I,EAAU,SAAAxkK,EAAU,YAAAskK,EAAa,YAAAD,CAAA,EAC7CplE,KACIwgG,EAAar0K,GAAA,YAAAA,EAAM,WAEnBs0K,EAAa,CAAC17L,EAAmCtG,IAAkB,CACvE8mK,EAAS9mK,CAAK,CAAA,EAGViiM,EAAkB37L,GAAiD,CACjE,MAAAtG,EAAQsG,EAAM,OAAO,MAC3BsgK,EAAY5mK,CAAK,CAAA,EAKnB,OAAI2mK,GAAe,GAAKo7B,GAAcA,EAAa,GACxC76K,EAAAyC,GAAA,CAAA,CAAA,IAIR,MACC,CAAA,SAAA,CAAAzC,EAAChK,GAAA,CACC,KAAMypJ,EACN,MAAO,KAAK,KAAKo7B,EAAcz/L,CAAQ,EACvC,MAAM,YACN,SAAU0/L,EACV,MAAO,CAAE,QAAS,eAAgB,MAAO,MAAO,CAAA,CAClD,EACC96K,EAAA8/C,GAAA,CAAW,QAAQ,QAAQ,MAAO,CAAE,QAAS,cAAA,EAC3C,SAAA,GAAG+6H,GAAA,YAAAA,EAAY,gCAClB,EACAr4K,EAAC,SAAA,CACC,KAAK,YACL,SAAUu4K,EACV,MAAO,CAAE,QAAS,MAAO,WAAY,KAAM,EAC3C,MAAO3/L,EAEP,SAAA,CAAC4kB,EAAA,SAAA,CAAO,MAAO,GAAI,SAAW,cAAA,EAC7BA,EAAA,SAAA,CAAO,MAAO,GAAI,SAAW,cAAA,EAC7BA,EAAA,SAAA,CAAO,MAAO,IAAK,SAAY,eAAA,EAC/BA,EAAA,SAAA,CAAO,MAAO,IAAK,SAAY,eAAA,CAAA,CAAA,CAClC,CAiBF,CAAA,CAAA,CAEJ,ECzDOg7K,GAAAv/L,GAAA,CACL,KAAA,CAAA,OAAAw/L,CAAA,EAAAx/L,EACA,OAAAukB,EACE6/C,GAAC,CAAA,MAAA,4BACO,eAAAg3H,GACU,UAAA,QACN,SAAA72K,EAEV5Y,GAAC,CAAA,GAAA,CAAA,OAAA,MAAA,EACsB,cAAA,mBACT,QAAA6zL,EACH,SAAAj7K,EAAAwgD,GAAA,CAAA,KAAA,aAAA,CAAA,CAEmB,CAAA,CAC9B,CAAA,CAGN,gOCfA,MAAM06H,GAAyB,IAAM,CACnC,MAAMC,EAAiBv6K,KACjBu5E,EAAeC,KACf,CAAC74E,EAAW65K,CAAY,EAAIvkL,GAAM,SAAS,EAAK,EAChD,CAACwkL,EAAQC,CAAS,EAAIzkL,GAAM,SAA4B,EACxD,CAAC0kL,EAAiBC,CAAkB,EACxC3kL,GAAM,SAA0B,EAElCA,GAAM,UAAU,KACT0kL,GACgBC,EAAA,IAAI,eAAiB,EAEnC,IAAM,CAEPD,GACFA,EAAgB,MAAM,CACxB,GAED,CAACA,CAAe,CAAC,EAIpB,MAAME,EAA2B,IAAM,CACrCL,EAAa,EAAI,EAGX,KAAA,CAAE,oBAAA19F,CAAwB,EAAAvD,EAC1BuhG,EAAoBh+F,IACpB,CAAE,IAAKi+F,GAAWD,EAAkB,MACpC,CAAE,SAAA36K,EAAU,cAAAX,CAAc,EAC9Bm/I,GAAwCo8B,CAAM,EAC1CC,EAAsBx7K,EAAgB,IAAIA,IAAkB,GAClEs7K,EAAkB,SAAWziG,GACvB,MAAA4iG,EAAiB,GAAG96K,IAAW66K,IAC/BE,EAAkBH,EAAO,QAAQE,CAAc,EACrDH,EAAkB,MAAM,IAAM,kBAAkBG,IAAiBF,EAAO,UACtEG,EAAkBD,EAAe,MACnC,IACA1iG,GACEuiG,EACAP,EAAe,YACfI,GAAA,YAAAA,EAAiB,MAAA,EAEhB,KAAM/0K,GAA4B,CACjC80K,EAAU90K,CAAI,CAAA,CACf,EACA,MAAOqxE,GAAa,CACnB,QAAQ,MAAMA,CAAG,EACjBnB,GAAa,8CAA+C,QAAQ,CAAA,CACrE,EACA,QAAQ,IAAM,CACb0kG,EAAa,EAAK,CAAA,CACnB,CAAA,EAGL,OAAAvkL,GAAM,UAAU,IAAM,CACpB,GAAIwkL,EAAQ,CACV,KAAM,CAAE,KAAAU,CAAS,EAAAV,EAAO,YAAa,aAC/BW,EAASD,EACZ,IAAKliG,GACG,GAAGA,EAAI,OAAO,CAAC,GACvB,EACA,KAAK;AAAA,CAAI,EAEZ,UAAU,UAAU,UAAUmiG,CAAM,EAAE,KAAK,IAAM,CAC/CtlG,GAAa,kCAAkC,EAC/C4kG,EAAU,MAAS,CAAA,CACpB,EACH,EACC,CAACD,CAAM,CAAC,EAEJ95K,EACLvB,EAACuC,GAAe,CAAA,KAAM,EAAI,CAAA,EAE1BvC,EAACg7K,GAAA,CACC,OAAQ,IAAM,CACaS,GAC3B,CAAA,CAAA,CAGN,EC3FA,IAAIQ,GAAkB,CAAE,ECCpBC,GAAwB,UAAY,CACpC,OAAOD,GAAgB,KAAK,SAAUE,EAAI,CAAE,OAAOA,EAAG,cAAc,OAAS,CAAE,CAAE,CACrF,ECFIC,GAAyB,UAAY,CACrC,OAAOH,GAAgB,KAAK,SAAUE,EAAI,CAAE,OAAOA,EAAG,eAAe,OAAS,CAAE,CAAE,CACtF,ECHI3zD,GAAM,gEACN6zD,GAAyB,UAAY,CACrC,IAAIj9L,EACA,OAAO,YAAe,WACtBA,EAAQ,IAAI,WAAW,QAAS,CAC5B,QAASopI,EACrB,CAAS,GAGDppI,EAAQ,SAAS,YAAY,OAAO,EACpCA,EAAM,UAAU,QAAS,GAAO,EAAK,EACrCA,EAAM,QAAUopI,IAEpB,OAAO,cAAcppI,CAAK,CAC9B,ECdIk9L,IACH,SAAUA,EAA0B,CACjCA,EAAyB,WAAgB,aACzCA,EAAyB,YAAiB,cAC1CA,EAAyB,yBAA8B,0BAC3D,GAAGA,KAA6BA,GAA2B,CAAA,EAAG,ECLvD,IAAIC,GAAS,SAAUjjL,EAAK,CAAE,OAAO,OAAO,OAAOA,CAAG,CAAI,ECC7DkjL,GAAsB,UAAY,CAClC,SAASA,EAAmBC,EAAYC,EAAW,CAC/C,KAAK,WAAaD,EAClB,KAAK,UAAYC,EACjBH,GAAO,IAAI,CACd,CACD,OAAOC,CACX,ICPIG,GAAmB,UAAY,CAC/B,SAASA,EAAgB9wK,EAAG8J,EAAGvlB,EAAOk7B,EAAQ,CAC1C,YAAK,EAAIzf,EACT,KAAK,EAAI8J,EACT,KAAK,MAAQvlB,EACb,KAAK,OAASk7B,EACd,KAAK,IAAM,KAAK,EAChB,KAAK,KAAO,KAAK,EACjB,KAAK,OAAS,KAAK,IAAM,KAAK,OAC9B,KAAK,MAAQ,KAAK,KAAO,KAAK,MACvBixJ,GAAO,IAAI,CACrB,CACD,OAAAI,EAAgB,UAAU,OAAS,UAAY,CAC3C,IAAI1xJ,EAAK,KAAMpf,EAAIof,EAAG,EAAGtV,EAAIsV,EAAG,EAAGiqB,EAAMjqB,EAAG,IAAKumE,EAAQvmE,EAAG,MAAOo4C,EAASp4C,EAAG,OAAQgqB,EAAOhqB,EAAG,KAAM76B,EAAQ66B,EAAG,MAAOK,EAASL,EAAG,OACrI,MAAO,CAAE,EAAGpf,EAAG,EAAG8J,EAAG,IAAKu/B,EAAK,MAAOs8C,EAAO,OAAQnuB,EAAQ,KAAMpuB,EAAM,MAAO7kD,EAAO,OAAQk7B,EACvG,EACIqxJ,EAAgB,SAAW,SAAUC,EAAW,CAC5C,OAAO,IAAID,EAAgBC,EAAU,EAAGA,EAAU,EAAGA,EAAU,MAAOA,EAAU,MAAM,CAC9F,EACWD,CACX,ICrBIE,GAAQ,SAAUrnK,EAAQ,CAAE,OAAOA,aAAkB,YAAc,YAAaA,GAChFsnK,GAAW,SAAUtnK,EAAQ,CAC7B,GAAIqnK,GAAMrnK,CAAM,EAAG,CACf,IAAIyV,EAAKzV,EAAO,UAAWplB,EAAQ66B,EAAG,MAAOK,EAASL,EAAG,OACzD,MAAO,CAAC76B,GAAS,CAACk7B,EAEtB,IAAImB,EAAKjX,EAAQunK,EAActwJ,EAAG,YAAauwJ,EAAevwJ,EAAG,aACjE,MAAO,EAAEswJ,GAAeC,GAAgBxnK,EAAO,eAAc,EAAG,OACpE,EACIynK,GAAY,SAAU3jL,EAAK,CAC3B,IAAI2xB,EACJ,GAAI3xB,aAAe,QACf,MAAO,GAEX,IAAId,GAASyyB,EAAK3xB,GAAQ,KAAyB,OAASA,EAAI,iBAAmB,MAAQ2xB,IAAO,OAAS,OAASA,EAAG,YACvH,MAAO,CAAC,EAAEzyB,GAASc,aAAed,EAAM,QAC5C,EACI0kL,GAAoB,SAAU1nK,EAAQ,CACtC,OAAQA,EAAO,QAAO,CAClB,IAAK,QACD,GAAIA,EAAO,OAAS,QAChB,MAER,IAAK,QACL,IAAK,QACL,IAAK,QACL,IAAK,SACL,IAAK,SACL,IAAK,SACL,IAAK,MACD,MAAO,EACd,CACD,MAAO,EACX,ECjCWmlH,GAAS,OAAO,OAAW,IAAc,OAAS,CAAE,ECM3D14C,GAAQ,IAAI,QACZk7F,GAAe,cACfC,GAAiB,eACjBC,GAAM,gBAAiB,KAAK1iD,GAAO,WAAaA,GAAO,UAAU,SAAS,EAC1E2iD,GAAiB,SAAUC,EAAO,CAAE,OAAO,WAAWA,GAAS,GAAG,GAClE32L,GAAO,SAAU61L,EAAYC,EAAWc,EAAa,CACrD,OAAIf,IAAe,SAAUA,EAAa,GACtCC,IAAc,SAAUA,EAAY,GACpCc,IAAgB,SAAUA,EAAc,IACrC,IAAIhB,IAAoBgB,EAAcd,EAAYD,IAAe,GAAIe,EAAcf,EAAaC,IAAc,CAAC,CAC1H,EACIe,GAAYlB,GAAO,CACnB,0BAA2B31L,GAAM,EACjC,cAAeA,GAAM,EACrB,eAAgBA,GAAM,EACtB,YAAa,IAAI+1L,GAAgB,EAAG,EAAG,EAAG,CAAC,CAC/C,CAAC,EACGe,GAAoB,SAAUloK,EAAQmoK,EAAoB,CAE1D,GADIA,IAAuB,SAAUA,EAAqB,IACtD17F,GAAM,IAAIzsE,CAAM,GAAK,CAACmoK,EACtB,OAAO17F,GAAM,IAAIzsE,CAAM,EAE3B,GAAIsnK,GAAStnK,CAAM,EACf,OAAAysE,GAAM,IAAIzsE,EAAQioK,EAAS,EACpBA,GAEX,IAAIG,EAAK,iBAAiBpoK,CAAM,EAC5Bf,EAAMooK,GAAMrnK,CAAM,GAAKA,EAAO,iBAAmBA,EAAO,UACxDqoK,EAAgB,CAACR,IAAMO,EAAG,YAAc,aACxCJ,EAAcJ,GAAe,KAAKQ,EAAG,aAAe,EAAE,EACtDE,EAAsB,CAACrpK,GAAO0oK,GAAa,KAAKS,EAAG,WAAa,EAAE,EAClEG,EAAwB,CAACtpK,GAAO0oK,GAAa,KAAKS,EAAG,WAAa,EAAE,EACpEI,EAAavpK,EAAM,EAAI6oK,GAAeM,EAAG,UAAU,EACnDK,EAAexpK,EAAM,EAAI6oK,GAAeM,EAAG,YAAY,EACvDM,EAAgBzpK,EAAM,EAAI6oK,GAAeM,EAAG,aAAa,EACzDO,EAAc1pK,EAAM,EAAI6oK,GAAeM,EAAG,WAAW,EACrDQ,EAAY3pK,EAAM,EAAI6oK,GAAeM,EAAG,cAAc,EACtDS,EAAc5pK,EAAM,EAAI6oK,GAAeM,EAAG,gBAAgB,EAC1DU,EAAe7pK,EAAM,EAAI6oK,GAAeM,EAAG,iBAAiB,EAC5DW,EAAa9pK,EAAM,EAAI6oK,GAAeM,EAAG,eAAe,EACxDY,EAAoBL,EAAcF,EAClCQ,EAAkBT,EAAaE,EAC/BQ,EAAuBH,EAAaF,EACpCM,EAAqBP,EAAYE,EACjCM,EAAgCb,EAA4BvoK,EAAO,aAAempK,EAAqBnpK,EAAO,aAAtD,EACxDqpK,EAA8Bf,EAA0BtoK,EAAO,YAAckpK,EAAuBlpK,EAAO,YAAvD,EACpDspK,EAAiBjB,EAAgBW,EAAoBE,EAAuB,EAC5EK,EAAkBlB,EAAgBY,EAAkBE,EAAqB,EACzEK,EAAevqK,EAAMA,EAAI,MAAQ6oK,GAAeM,EAAG,KAAK,EAAIkB,EAAiBD,EAC7EI,EAAgBxqK,EAAMA,EAAI,OAAS6oK,GAAeM,EAAG,MAAM,EAAImB,EAAkBH,EACjFM,EAAiBF,EAAeR,EAAoBK,EAA6BH,EACjFS,EAAkBF,EAAgBR,EAAkBG,EAA+BD,EACnFS,EAAQ7C,GAAO,CACf,0BAA2B31L,GAAK,KAAK,MAAMo4L,EAAe,gBAAgB,EAAG,KAAK,MAAMC,EAAgB,gBAAgB,EAAGzB,CAAW,EACtI,cAAe52L,GAAKs4L,EAAgBC,EAAiB3B,CAAW,EAChE,eAAgB52L,GAAKo4L,EAAcC,EAAezB,CAAW,EAC7D,YAAa,IAAIb,GAAgBwB,EAAaH,EAAYgB,EAAcC,CAAa,CAC7F,CAAK,EACD,OAAAh9F,GAAM,IAAIzsE,EAAQ4pK,CAAK,EAChBA,CACX,EACIC,GAAmB,SAAU7pK,EAAQ8pK,EAAa3B,EAAoB,CACtE,IAAI1yJ,EAAKyyJ,GAAkBloK,EAAQmoK,CAAkB,EAAG4B,EAAgBt0J,EAAG,cAAeu0J,EAAiBv0J,EAAG,eAAgBw0J,EAA4Bx0J,EAAG,0BAC7J,OAAQq0J,EAAW,CACf,KAAKhD,GAAyB,yBAC1B,OAAOmD,EACX,KAAKnD,GAAyB,WAC1B,OAAOiD,EACX,QACI,OAAOC,CACd,CACL,EC3EIE,GAAuB,UAAY,CACnC,SAASA,EAAoBlqK,EAAQ,CACjC,IAAI4pK,EAAQ1B,GAAkBloK,CAAM,EACpC,KAAK,OAASA,EACd,KAAK,YAAc4pK,EAAM,YACzB,KAAK,cAAgB7C,GAAO,CAAC6C,EAAM,aAAa,CAAC,EACjD,KAAK,eAAiB7C,GAAO,CAAC6C,EAAM,cAAc,CAAC,EACnD,KAAK,0BAA4B7C,GAAO,CAAC6C,EAAM,yBAAyB,CAAC,CAC5E,CACD,OAAOM,CACX,ICXIC,GAAwB,SAAUz9L,EAAM,CACxC,GAAI46L,GAAS56L,CAAI,EACb,MAAO,KAIX,QAFIgoE,EAAQ,EACRj9C,EAAS/qB,EAAK,WACX+qB,GACHi9C,GAAS,EACTj9C,EAASA,EAAO,WAEpB,OAAOi9C,CACX,ECRI01H,GAA8B,UAAY,CAC1C,IAAIC,EAAkB,IAClBC,EAAY,CAAA,EAChB7D,GAAgB,QAAQ,SAAyBE,EAAI,CACjD,GAAIA,EAAG,cAAc,SAAW,EAGhC,KAAI9lI,EAAU,CAAA,EACd8lI,EAAG,cAAc,QAAQ,SAAuB4D,EAAI,CAChD,IAAIxpI,EAAQ,IAAImpI,GAAoBK,EAAG,MAAM,EACzCC,EAAcL,GAAsBI,EAAG,MAAM,EACjD1pI,EAAQ,KAAKE,CAAK,EAClBwpI,EAAG,iBAAmBV,GAAiBU,EAAG,OAAQA,EAAG,WAAW,EAC5DC,EAAcH,IACdA,EAAkBG,EAElC,CAAS,EACDF,EAAU,KAAK,UAAkC,CAC7C3D,EAAG,SAAS,KAAKA,EAAG,SAAU9lI,EAAS8lI,EAAG,QAAQ,CAC9D,CAAS,EACDA,EAAG,cAAc,OAAO,EAAGA,EAAG,cAAc,MAAM,EAC1D,CAAK,EACD,QAASh/C,EAAK,EAAG8iD,EAAcH,EAAW3iD,EAAK8iD,EAAY,OAAQ9iD,IAAM,CACrE,IAAI/yH,EAAW61K,EAAY9iD,CAAE,EAC7B/yH,IAEJ,OAAOy1K,CACX,EC7BIK,GAAkC,SAAUh2H,EAAO,CACnD+xH,GAAgB,QAAQ,SAAyBE,EAAI,CACjDA,EAAG,cAAc,OAAO,EAAGA,EAAG,cAAc,MAAM,EAClDA,EAAG,eAAe,OAAO,EAAGA,EAAG,eAAe,MAAM,EACpDA,EAAG,mBAAmB,QAAQ,SAAuB4D,EAAI,CACjDA,EAAG,aACCJ,GAAsBI,EAAG,MAAM,EAAI71H,EACnCiyH,EAAG,cAAc,KAAK4D,CAAE,EAGxB5D,EAAG,eAAe,KAAK4D,CAAE,EAG7C,CAAS,CACT,CAAK,CACL,ECZII,GAAU,UAAY,CACtB,IAAIj2H,EAAQ,EAEZ,IADAg2H,GAAgCh2H,CAAK,EAC9BgyH,GAAqB,GACxBhyH,EAAQ01H,GAA2B,EACnCM,GAAgCh2H,CAAK,EAEzC,OAAIkyH,GAAsB,GACtBC,KAEGnyH,EAAQ,CACnB,EChBIk2H,GACAN,GAAY,CAAA,EACZO,GAAS,UAAY,CAAE,OAAOP,GAAU,OAAO,CAAC,EAAE,QAAQ,SAAU5tD,EAAI,CAAE,OAAOA,EAAI,CAAG,CAAA,CAAE,EAC1FouD,GAAiB,SAAUl2K,EAAU,CACrC,GAAI,CAACg2K,GAAS,CACV,IAAIG,EAAW,EACXC,EAAO,SAAS,eAAe,EAAE,EACjCvmM,EAAS,CAAE,cAAe,IAC9B,IAAI,iBAAiB,UAAY,CAAE,OAAOomM,GAAQ,CAAG,CAAA,EAAE,QAAQG,EAAMvmM,CAAM,EAC3EmmM,GAAU,UAAY,CAAEI,EAAK,YAAc,GAAG,OAAOD,EAAWA,IAAaA,GAAU,CAAE,EAE7FT,GAAU,KAAK11K,CAAQ,EACvBg2K,IACJ,ECZIK,GAAsB,SAAUvuD,EAAI,CACpCouD,GAAe,UAA0B,CACrC,sBAAsBpuD,CAAE,CAChC,CAAK,CACL,ECFIwuD,GAAW,EACXC,GAAa,UAAY,CAAE,MAAO,CAAC,CAACD,EAAS,EAC7CE,GAAe,IACfC,GAAiB,CAAE,WAAY,GAAM,cAAe,GAAM,UAAW,GAAM,QAAS,IACpFC,GAAS,CACT,SACA,OACA,gBACA,eACA,iBACA,qBACA,QACA,UACA,UACA,YACA,YACA,WACA,OACA,OACJ,EACIlhK,GAAO,SAAUf,EAAS,CAC1B,OAAIA,IAAY,SAAUA,EAAU,GAC7B,KAAK,IAAK,EAAGA,CACxB,EACIkiK,GAAY,GACZC,GAAa,UAAY,CACzB,SAASA,GAAY,CACjB,IAAIv6E,EAAQ,KACZ,KAAK,QAAU,GACf,KAAK,SAAW,UAAY,CAAE,OAAOA,EAAM,SAAU,EACxD,CACD,OAAAu6E,EAAU,UAAU,IAAM,SAAUniK,EAAS,CACzC,IAAI4nF,EAAQ,KAEZ,GADI5nF,IAAY,SAAUA,EAAU+hK,IAChC,CAAAG,GAGJ,CAAAA,GAAY,GACZ,IAAIE,EAAQrhK,GAAKf,CAAO,EACxB4hK,GAAoB,UAAY,CAC5B,IAAIS,EAAsB,GAC1B,GAAI,CACAA,EAAsBf,GAAO,CAChC,QACO,CAGJ,GAFAY,GAAY,GACZliK,EAAUoiK,EAAQrhK,KACd,CAAC+gK,GAAU,EACX,OAEAO,EACAz6E,EAAM,IAAI,GAAI,EAET5nF,EAAU,EACf4nF,EAAM,IAAI5nF,CAAO,EAGjB4nF,EAAM,MAAK,CAElB,CACb,CAAS,EACT,EACIu6E,EAAU,UAAU,SAAW,UAAY,CACvC,KAAK,KAAI,EACT,KAAK,IAAG,CAChB,EACIA,EAAU,UAAU,QAAU,UAAY,CACtC,IAAIv6E,EAAQ,KACRyrB,EAAK,UAAY,CAAE,OAAOzrB,EAAM,UAAYA,EAAM,SAAS,QAAQ,SAAS,KAAMo6E,EAAc,CAAE,EACtG,SAAS,KAAO3uD,EAAI,EAAGyI,GAAO,iBAAiB,mBAAoBzI,CAAE,CAC7E,EACI8uD,EAAU,UAAU,MAAQ,UAAY,CACpC,IAAIv6E,EAAQ,KACR,KAAK,UACL,KAAK,QAAU,GACf,KAAK,SAAW,IAAI,iBAAiB,KAAK,QAAQ,EAClD,KAAK,QAAO,EACZq6E,GAAO,QAAQ,SAAU9oL,EAAM,CAAE,OAAO2iI,GAAO,iBAAiB3iI,EAAMyuG,EAAM,SAAU,EAAI,CAAI,CAAA,EAE1G,EACIu6E,EAAU,UAAU,KAAO,UAAY,CACnC,IAAIv6E,EAAQ,KACP,KAAK,UACN,KAAK,UAAY,KAAK,SAAS,WAAU,EACzCq6E,GAAO,QAAQ,SAAU9oL,EAAM,CAAE,OAAO2iI,GAAO,oBAAoB3iI,EAAMyuG,EAAM,SAAU,EAAI,CAAI,CAAA,EACjG,KAAK,QAAU,GAE3B,EACWu6E,CACX,EAAC,EACGG,GAAY,IAAIH,GAChBI,GAAc,SAAU/4K,EAAG,CAC3B,CAACq4K,IAAYr4K,EAAI,GAAK84K,GAAU,MAAK,EACrCT,IAAYr4K,EACZ,CAACq4K,IAAYS,GAAU,MAC3B,EC/FIE,GAAsB,SAAU7rK,EAAQ,CACxC,MAAO,CAACqnK,GAAMrnK,CAAM,GACb,CAAC0nK,GAAkB1nK,CAAM,GACzB,iBAAiBA,CAAM,EAAE,UAAY,QAChD,EACI8rK,GAAqB,UAAY,CACjC,SAASA,EAAkB9rK,EAAQ8pK,EAAa,CAC5C,KAAK,OAAS9pK,EACd,KAAK,YAAc8pK,GAAehD,GAAyB,YAC3D,KAAK,iBAAmB,CACpB,WAAY,EACZ,UAAW,CACvB,CACK,CACD,OAAAgF,EAAkB,UAAU,SAAW,UAAY,CAC/C,IAAI16L,EAAOy4L,GAAiB,KAAK,OAAQ,KAAK,YAAa,EAAI,EAI/D,OAHIgC,GAAoB,KAAK,MAAM,IAC/B,KAAK,iBAAmBz6L,GAExB,KAAK,iBAAiB,aAAeA,EAAK,YACvC,KAAK,iBAAiB,YAAcA,EAAK,SAIxD,EACW06L,CACX,IC7BIC,GAAwB,UAAY,CACpC,SAASA,EAAqBz5I,EAAgB19B,EAAU,CACpD,KAAK,cAAgB,GACrB,KAAK,eAAiB,GACtB,KAAK,mBAAqB,GAC1B,KAAK,SAAW09B,EAChB,KAAK,SAAW19B,CACnB,CACD,OAAOm3K,CACX,ICLIC,GAAc,IAAI,QAClBC,GAAsB,SAAUC,EAAoBlsK,EAAQ,CAC5D,QAASt6B,EAAI,EAAGA,EAAIwmM,EAAmB,OAAQxmM,GAAK,EAChD,GAAIwmM,EAAmBxmM,CAAC,EAAE,SAAWs6B,EACjC,OAAOt6B,EAGf,MAAO,EACX,EACIymM,GAA4B,UAAY,CACxC,SAASA,GAA2B,CACnC,CACD,OAAAA,EAAyB,QAAU,SAAU75I,EAAgB19B,EAAU,CACnE,IAAIw3K,EAAS,IAAIL,GAAqBz5I,EAAgB19B,CAAQ,EAC9Do3K,GAAY,IAAI15I,EAAgB85I,CAAM,CAC9C,EACID,EAAyB,QAAU,SAAU75I,EAAgBtyB,EAAQh7B,EAAS,CAC1E,IAAIonM,EAASJ,GAAY,IAAI15I,CAAc,EACvC+5I,EAAmBD,EAAO,mBAAmB,SAAW,EACxDH,GAAoBG,EAAO,mBAAoBpsK,CAAM,EAAI,IACzDqsK,GAAoB5F,GAAgB,KAAK2F,CAAM,EAC/CA,EAAO,mBAAmB,KAAK,IAAIN,GAAkB9rK,EAAQh7B,GAAWA,EAAQ,GAAG,CAAC,EACpF4mM,GAAY,CAAC,EACbD,GAAU,SAAQ,EAE9B,EACIQ,EAAyB,UAAY,SAAU75I,EAAgBtyB,EAAQ,CACnE,IAAIosK,EAASJ,GAAY,IAAI15I,CAAc,EACvCznD,EAAQohM,GAAoBG,EAAO,mBAAoBpsK,CAAM,EAC7DssK,EAAkBF,EAAO,mBAAmB,SAAW,EACvDvhM,GAAS,IACTyhM,GAAmB7F,GAAgB,OAAOA,GAAgB,QAAQ2F,CAAM,EAAG,CAAC,EAC5EA,EAAO,mBAAmB,OAAOvhM,EAAO,CAAC,EACzC+gM,GAAY,EAAE,EAE1B,EACIO,EAAyB,WAAa,SAAU75I,EAAgB,CAC5D,IAAI2+D,EAAQ,KACRm7E,EAASJ,GAAY,IAAI15I,CAAc,EAC3C85I,EAAO,mBAAmB,MAAO,EAAC,QAAQ,SAAU7B,EAAI,CAAE,OAAOt5E,EAAM,UAAU3+D,EAAgBi4I,EAAG,MAAM,CAAI,CAAA,EAC9G6B,EAAO,cAAc,OAAO,EAAGA,EAAO,cAAc,MAAM,CAClE,EACWD,CACX,IC7CII,GAAkB,UAAY,CAC9B,SAASA,EAAe33K,EAAU,CAC9B,GAAI,UAAU,SAAW,EACrB,MAAM,IAAI,UAAU,gFAAgF,EAExG,GAAI,OAAOA,GAAa,WACpB,MAAM,IAAI,UAAU,+FAA+F,EAEvHu3K,GAAyB,QAAQ,KAAMv3K,CAAQ,CAClD,CACD,OAAA23K,EAAe,UAAU,QAAU,SAAUvsK,EAAQh7B,EAAS,CAC1D,GAAI,UAAU,SAAW,EACrB,MAAM,IAAI,UAAU,2FAA2F,EAEnH,GAAI,CAACyiM,GAAUznK,CAAM,EACjB,MAAM,IAAI,UAAU,sFAAsF,EAE9GmsK,GAAyB,QAAQ,KAAMnsK,EAAQh7B,CAAO,CAC9D,EACIunM,EAAe,UAAU,UAAY,SAAUvsK,EAAQ,CACnD,GAAI,UAAU,SAAW,EACrB,MAAM,IAAI,UAAU,6FAA6F,EAErH,GAAI,CAACynK,GAAUznK,CAAM,EACjB,MAAM,IAAI,UAAU,wFAAwF,EAEhHmsK,GAAyB,UAAU,KAAMnsK,CAAM,CACvD,EACIusK,EAAe,UAAU,WAAa,UAAY,CAC9CJ,GAAyB,WAAW,IAAI,CAChD,EACII,EAAe,SAAW,UAAY,CAClC,MAAO,gDACf,EACWA,CACX,ICpCA,MAAMC,GAAyBnrL,GAAM,OAAO,SAAa,KAAe,SAAS,gBAAkB,OAAS,kBAAoB,WAAW,EAC3IorL,GAAeD,GCATE,GAAYn+I,GAAW,CAC3B,MAAMo+I,EAAcnpM,SAAa+qD,CAAO,EACxC9qD,OAAAA,EAAAA,UAAgB,IAAM,CACpBkpM,EAAY,QAAUp+I,CAC1B,CAAG,EACMo+I,CACT,EAEAC,GAAeF,GCJTH,GAAiB,OAAO,OAAW,KAAe,mBAAoB,OAC5E,OAAO,eAAiBM,GASxB,SAASl2L,IAAO,CAAE,CAElB,SAASm2L,GAAkB9sK,EAAQpL,EAAU,CAC3C,MAAM09B,EAAiBy6I,KACjBC,EAAiBN,GAAU93K,CAAQ,EACzC,OAAA63K,GAAgB,IAAM,CACpB,IAAIQ,EAAiB,GACrB,MAAMC,EAAWltK,GAAU,YAAaA,EAASA,EAAO,QAAUA,EAClE,GAAI,CAACktK,EAAU,OAAOv2L,GAEtB,SAAS+lI,EAAG37E,EAAOH,EAAU,CACvBqsI,GACJD,EAAe,QAAQjsI,EAAOH,CAAQ,CACvC,CAED,OAAAtO,EAAe,UAAU46I,EAAUxwD,CAAE,EAC9B,IAAM,CACXuwD,EAAiB,GACjB36I,EAAe,YAAY46I,EAAUxwD,CAAE,CAC7C,CACG,EAAE,CAAC18G,EAAQsyB,EAAgB06I,CAAc,CAAC,EACpC16I,EAAe,QACxB,CAEA,SAAS66I,IAAuB,CAC9B,IAAIC,EAAU,GACVC,EAAa,CAAA,EACjB,MAAM/C,EAAY,IAAI,IAChB1pI,EAAW,IAAI2rI,GAAe,CAAC1rI,EAASysI,IAAQ,CACpDD,EAAaA,EAAW,OAAOxsI,CAAO,EAEtC,SAAShqD,GAAQ,CACf,MAAM02L,EAAY,IAAI,IAEtB,QAAS7nM,EAAI,EAAGA,EAAI2nM,EAAW,OAAQ3nM,IAAK,CAC1C,GAAI6nM,EAAU,IAAIF,EAAW3nM,CAAC,EAAE,MAAM,EAAG,SACzC6nM,EAAU,IAAIF,EAAW3nM,CAAC,EAAE,MAAM,EAClC,MAAM8nM,EAAMlD,EAAU,IAAI+C,EAAW3nM,CAAC,EAAE,MAAM,EAC9C8nM,GAAQ,MAAkCA,EAAI,QAAQ9wD,GAAMA,EAAG2wD,EAAW3nM,CAAC,EAAG4nM,CAAG,CAAC,EAGpFD,EAAa,CAAA,EACbD,EAAU,EACX,CAEIA,GACH,OAAO,sBAAsBv2L,CAAK,EAGpCu2L,EAAU,EACd,CAAG,EACD,MAAO,CACL,SAAAxsI,EAEA,UAAU5gC,EAAQpL,EAAU,CAC1B,IAAI64K,EAEJ7sI,EAAS,QAAQ5gC,CAAM,EACvB,MAAMwtK,GAAOC,EAAiBnD,EAAU,IAAItqK,CAAM,KAAO,MAAQytK,IAAmB,OAASA,EAAiB,CAAA,EAC9GD,EAAI,KAAK54K,CAAQ,EACjB01K,EAAU,IAAItqK,EAAQwtK,CAAG,CAC1B,EAED,YAAYxtK,EAAQpL,EAAU,CAC5B,IAAI84K,EAEJ,MAAMF,GAAOE,EAAkBpD,EAAU,IAAItqK,CAAM,KAAO,MAAQ0tK,IAAoB,OAASA,EAAkB,CAAA,EAEjH,GAAIF,EAAI,SAAW,EAAG,CACpB5sI,EAAS,UAAU5gC,CAAM,EACzBsqK,EAAU,OAAOtqK,CAAM,EACvB,OAGF,MAAM2tK,EAAUH,EAAI,QAAQ54K,CAAQ,EAChC+4K,IAAY,IAAIH,EAAI,OAAOG,EAAS,CAAC,EACzCrD,EAAU,IAAItqK,EAAQwtK,CAAG,CAC1B,CAEL,CACA,CAEA,IAAII,GAEJ,MAAMb,GAAoB,IAAOa,KAAkBA,GAAkBT,GAAsB,GChG3F,SAAAU,GAAA5nM,EAAA,CAGE,KAAA,CAAAqlL,EAAAwiB,CAAA,EAAAvhL,EAAA,SAAA,EAAA,EACA,CAAAwhL,EAAAC,CAAA,EAAAzhL,EAAA,SAAA,EAAA,EAEA0hL,EAAA7hL,SAAA,IAAA,EAKA,OAAA0gL,GAAAmB,EAAA,CAAA,CAAA,OAAAjuK,KAAA,CAEE,GAAA,CAAAsrJ,GACEtrJ,EAAA,CASE,MAAAkuK,EAAAluK,EAAA,qBAAA,GAAA,EAAA,CAAA,EACAkuK,GACEF,EAAAE,EAAA,aAAAA,EAAA,cAAAA,EAAA,YAAAA,EAAA,WAEgD,EAItD,CAAA,EAGFlhL,EACE,KAAC,CAAA,GAAA/mB,EACK,UAAA,uBAAAA,EAAA,UAAAA,EAAA,UAAA,KAEkC,gBAAAqlL,EAEvB,IAAA2iB,EACV,SAAA,CAEJF,GAAAvjL,EACC,SAAC,CAAA,UAAA,oCACW,QAAA,IAAAsjL,EAAA,CAAAxiB,CAAA,EAC8B,SAAA9gK,EAExCwgD,GAAC,CAAA,KAAAsgH,EAAA,kBAAA,gBACwC,GAAA,CACnC,MAAA,WACK,OAAA,OACC,cAAA,KACO,CACjB,CAAA,CACD,CAAA,EACHrlL,EAAA,QAEK,CAAA,CAAA,CAGb,qICTO,MAAAkoM,GAAA,CAAA,GAAA,OAAA,KAAA,EAEPC,GAAA,CAA6B,WAAA,WACf,eAAA,OACI,SAAA,GACN,WAAA,MAEZ,EA4BO,MAAAC,WAAAhtL,GAAA,SAAA,CAGL,YAAApb,EAAA,CAEE,MAAAA,CAAA,EAoCFu8F,GAAA,gBAGAA,GAAA,qBAqRAA,GAAA,mBAAA,CAAA4B,EAAAgD,EAAAi+E,EAAAkhB,IAAA,SAQE,MAAA98F,GAAAxyD,GAAAxB,EAAA,KAAA,MAAA,cAAA,sBAAA,YAAAwB,EAAA,KAAAxB,GACA,CAAM,aAAA,CAAA,OAAAowD,CAAA,EACmB,0BAAA,CAAA,sBAAAiC,CAAA,EAC4B,iBAAAwmG,EACnD,mBAAAC,CACA,EAAA,KAAA,MAGFC,EAAAF,GAAAzoG,GAAA,KAAA,yBAAA,KAAA,gBAKA92E,EAAA,CAAA,CAAA,KAAA,MAAA,eAAA,YAEA0/K,EAAA5oG,GAAAkB,GAAAlB,CAAA,GAAA92E,GAAA,KAAA,gBAMA2/K,EAAA,CAAA,EAAAD,GAAA,CAAA,KAAA,MAAA,cAIAE,EAAAF,GAAAF,EAIA,OAAAvhL,EAAA,MAAA,CAAA,UAAA,gCAAA,cAAA,eAAA,SAAA,CAEIA,EAAA,QAAC,CAAA,IAAAtgB,GAAA,KAAA,aAAAA,EACmC,UAAA,sCACxB,SAAA,CAEV8d,EAAA,QAAA,CAAA,UAAA,eAAA,SAAAA,EAAA,KAAA,CAAA,SAAA,KAAA,kBAEU45E,EACJgD,EACAi+E,EACAmpB,EACAG,EACAD,EACA5mG,EACA2B,CACA,CAAA,CAAA,CAAA,CAAA,EAGNj/E,EAAA,QAAA,CAAA,SAAA,KAAA,gBAEQ+7K,EACJniG,EACAoqG,EACAG,EACAD,EACA5mG,CACA,EAAA,CAEJ,CAAA,CAAA,EACFt9E,EAAA,MAAA,CAAA,UAAA,uBAAA,MAAA,CAAA,UAAA,OAAA,EAAA,SAAAA,EAAA46K,GAAA,CAAA,CAAA,CAAA,CAAA,CAGA,CAAA,CAAA,CACF,GAEJ5iG,GAAA,6BAAAosG,GAAA12L,GAAA,CASE,IAAA22L,EAAAn7F,GAAA,KAAA,MAAA,mBAAA,EACAm7F,EAAA,SAAA,IACEA,EAAA,MAAA,KAAA,qBAAA,CAAA,EAAA,KAAA,CAAA,GAGF,MAAAC,EAAAp7F,GAAA,KAAA,MAAA,qBAAA,EACA7oG,EAAA,KAAA,mBAAAikM,EAAAF,EAAA,IAAA,EAEA/jM,IAAA,IACEikM,EAAA,OAAAjkM,EAAA,CAAA,EAEFgkM,EAAAD,EAAA,KAAA,GAAAC,EAAAD,EAAA,KAAA,EAAA,GAAAG,GAAA,OAEAF,EAAAD,EAAA,KAAA,EAAA,GACEE,EAAA,QAAA,CAA8B,OAAAF,EAAA,KACf,UAAAT,GAAAU,EAAAD,EAAA,KAAA,CAAA,CACwC,CAAA,EAGzD,MAAAprG,EAAA,KAAA,MAAA,aAAA,oBAAA,EACAA,EAAA,MAAA,KAAAsrG,EACAtrG,EAAA,MAAA,OAAA,EACA,KAAA,MAAA,aAAA,oBAAAA,CAAA,EACA,KAAA,SAAA,CAAc,oBAAAqrG,EACZ,sBAAAC,CACA,CAAA,CACD,GAsXHtsG,GAAA,mCAAA6iF,GAAA,CAGE,MAAA7hF,EAAA,KAAA,MAAA,aAAA,oBAAA,EAEAA,EAAA,MAAA,eAAA6hF,EACA7hF,EAAA,MAAA,OAAA,EACA,KAAA,MAAA,aAAA,oBAAAA,CAAA,CAAwD,GApyBxD,KAAA,kBAAA,KAAA,kBAAA,KAAA,IAAA,EACA,KAAA,qBAAA,KAAA,qBAAA,KAAA,IAAA,EACA,KAAA,mBAAA,KAAA,mBAAA,KAAA,IAAA,EACA,KAAA,sBAAA,KAAA,sBAAA,KAAA,IAAA,EACA,KAAA,sBAAA,KAAA,sBAAA,KAAA,IAAA,EACA,KAAA,mBAAA,KAAA,mBAAA,KAAA,IAAA,EACA,KAAA,eAAA,KAAA,eAAA,KAAA,IAAA,EACA,KAAA,qBAAA,KAAA,qBAAA,KAAA,IAAA,EACA,KAAA,uBAAA,KAAA,uBAAA,KAAA,IAAA,EACA,KAAA,aAAA,KAAA,aAAA,KAAA,IAAA,EACA,KAAA,cAAA,KAAA,cAAA,KAAA,IAAA,EACA,KAAA,sBAAA,KAAA,sBAAA,KAAA,IAAA,EACA,KAAA,cAAA,KAAA,cAAA,KAAA,IAAA,EAGA,KAAA,MAAA,CAAa,oBAAA,CAAA,EAOW,0BAAA,GACK,WAAA,GACf,sBAAA,GACW,sBAAA,CAAA,EAIC,oBAAA,CAAA,EACF,kBAAA,CAAA,EACF,wBAAA,EACK,EAE3B,KAAA,uBAAA,KAAA,uBAAA,KAAA,IAAA,CAAmE,CAKjB,sBAAA,CAGlD,KAAA,cAAA,CAAmB,CACrB,mBAAA,CAGE,KAAA,uBAAA,EAAA,EACA,KAAA,aAAA,CAAkB,CACpB,sBAAAoqB,EAAAz7F,EAAA,CAOE,KAAA,CAAM,wBAAA68K,EAEqB,GAAAC,CACtB,EAAA,KAAA,MAEL,CAAM,wBAAAC,EAEqB,GAAAh2E,CACtB,EAAA/mG,EAELg9K,EAAA,CAAA5xH,GAAA,KAAA,MAAAqwC,CAAA,EACAwhF,EAAA,CAAA7xH,GAAA0xH,EAAA/1E,CAAA,EACAm2E,EAAAF,GAAAC,EACA,OAAAC,GACE,KAAA,cAAA,EAEFA,CAAO,CACT,mBAAAprM,EAAAiuH,EAAA,CAME30C,GAAAt5E,EAAA,aAAA,KAAA,KAAA,MAAA,aAAA,IAAA,EACmCA,EAAA,aAAA,QAAA,KAAA,MAAA,aAAA,QAAA,CAAAs5E,GAIhCypB,GAAA/iG,EAAA,aAAA,MAAA,EAC2C+iG,GAAA,KAAA,MAAA,aAAA,MAAA,CACC,GAI7C,KAAA,uBAAA,EAAA,EAVA,KAAA,uBAAA,EAAA,EAYF,KAAA,aAAA,CAAkB,CACpB,cAAA,CAGE,KAAA,QASE,WAAA,IAAA,CACE,KAAA,QAAA,MAAAonG,EAAA,CAAkC,EAAA,GAAA,EARpC,KAAA,cAAA,KAAA,qBAAA,EAAA,IACE,KAAA,QAAA,IAAA3S,GAAA,KAAA,aAAA2S,EAAA,EASJ,CACF,eAAA,CAGE,KAAA,SACE,KAAA,QAAA,MAAA,CAAA,QAAA,EAAA,CAAA,CACF,CACF,MAAA,uBAAAkB,EAAA,SAGE,KAAA,CAAA,KAAAt+K,EAAA,OAAA60E,CAAA,EAAA,KAAA,MAAA,aACA,GAAA,CAAA70E,GAAA,CAAA60E,EACE,OAAA,GAAA,KAAA,MAAA,yBAAA,CAAAypG,EAEA,OAEF,MAAA7K,EAAA/wF,GAAA,KAAA,MAAA,mBAAA,EACAgxF,EAAAhxF,GAAA,KAAA,MAAA,iBAAA,EACA67F,EAAAhpG,GAA+Bv1E,EAC7Bs1E,GAAA,QACe,EAEjBkpG,EAAAjpG,GAA6Bv1E,EAC3Bs1E,GAAA,MACe,EAGjBmpG,EAAA/oG,GAA0B11E,EACxByzK,EACA8K,CACA,GAGF,KAAA,sBAAA,GAAA1pG,GAAAi/F,GAAAj/F,CAAA,IAAA,KAAA,oBAKE5uD,GAAAxB,EAAAzkB,EAAA,cAAA,YAAAykB,EAAA,eAAA,YAAAwB,EAAA,OAAA,CAAA,GACA,QAAAotD,GAAA,CACE,MAAAkwF,EAAA,MAAAlwF,EAAA,QACAorG,EAAA,IAAAlb,CAAA,CAAkC,CAAA,EAGtC,MAAAmb,EAAAhpG,GAAwB11E,EACtB0zK,EACA8K,CACA,EAEF,GAAAC,EAAA,OAAA,GAAAC,EAAA,OAAA,EACE,OAMF,GAJA,KAAA,SAAA,CAAc,wBAAA,EACa,CAAA,EAG3BD,EAAA,KAAA,EAAA,CACE,MAAAE,EAAA,MAAA,KAAAF,CAAA,EAAA,IAAmEjnM,IAE/D,CAAA,SAAAA,GACF,EAEF,GAAA,CACE,MAAAonM,EAAA,MAAAhkL,GAAA,iBAAiC+jL,EAC/B,KAAA,MAAA,eAAA,WAC0B,EAE5B,CAAA,QAAAj1H,CAAA,EAAAk1H,EACAl1H,EAAA,QAAAv9B,GAAA,CACEsnJ,EAAAtnJ,EAAA,EAAA,EAAAA,CAA6B,CAAA,CAC9B,OAAAklD,EAAA,CAED,QAAA,MAAA,4CAAAA,CAAA,CAA8D,EAGlE,MAAAwtG,EAAA,CAAA,EACA,GAAAH,EAAA,KAAA,EAAA,CAEE,MAAA9sI,EAAA,MAAA,KAAA8sI,CAAA,EAEA,GAAA,EACE,MAAA9jL,GAAA,qBAAiCg3C,EAC/B,KAAA,MAAA,eAAA,WAC0B,GAE5B,SAAA,QAAAzlB,GAAA,CACEA,EAAA,aACE0yJ,EAAA,KAAA1yJ,EAAA,OAAA,EAEAunJ,EAAAvnJ,EAAA,OAAA,EAAAA,CACF,CAAA,CACD,OAAAklD,EAAA,CAED,QAAA,MAAA,mCAAAA,CAAA,CAAqD,EAGzD,GAAAwtG,EAAA,OAAA,EACE,GAAA,EACE,MAAAC,GAAAD,CAAA,GACA,KAAA,QAAA1yJ,GAAA,CACEunJ,EAAAvnJ,EAAA,OAAA,EAAAA,CAAgC,CAAA,CACjC,OAAAklD,EAAA,CAED,QAAA,MAAA,6BAAAA,CAAA,CAA+C,CAGnD,KAAA,SAAA,CAAc,oBAAAoiG,EACZ,kBAAAC,EACA,wBAAA,EACyB,CAAA,CAC1B,CACH,QAAA,OAME,GAAA,CAAA,KAAA,MAAA,aAAA,MAAA,KAAA,MAAA,aAAA,mBAIE,OAAA9W,GAAO,GAAA,CAAA,KAAA,MAAA,aAAA,KAEP,OAAApjK,EAAAyC,GAAA,CAAA,CAAA,EAGF,KAAA,CAAM,aAAA,CAAA,KAAA+D,CAAA,EACiB,0BAAA,CAAA,qBAAAg5E,CAAA,CAC6B,EAAA,KAAA,MAEpD,CAAA,YAAAk2E,EAAA,aAAA94E,EAAA,CAAA,CAAA,EAAAp2E,EACA,CAAA,OAAAq0J,EAAA,EAAA,EAAAr0J,EACA,CAAA,WAAAs6J,EAAA,0BAAAykB,GAAA,KAAA,MACAvsG,EAAA,KAAA,MAAA,aAAA,oBAAA,EACArzF,EAAA,GAGA,GAAA,KAFAslC,EAAAzkB,EAAA,cAAA,YAAAykB,EAAA,aAAA,KAAA,SAAA,GAAA,IAEA+tD,EAAA,MAAA,SAAA,EACE,OAAAh5E,EAAAw/E,EAAA,CAAA,CAAA,EAGF,KAAA,CAAA,KAAAu8F,EAAA,QAAAniG,GAAA87E,EAAA,aAEAoU,EAAA9pK,EAAA,MAAA,CAAA,SAAA,KAAA,YAAA45E,EAAAgD,EAAAi+E,EAAAkhB,CAAA,CAAA,CAAA,EAGA54K,EAAAnD,EAAAyC,GAAA,CAAA,SAAAD,EAAA,MAAA,CAAA,UAAA7c,EAAA,SAAA,CAGO4/L,GAAAvlL,EACC88I,GAAC,CAAA,QAAA,IAAA,CAEG,KAAA,SAAA,CAAc,0BAAA,EACe,CAAA,CAC5B,EACH,mBAAA9jE,CACoB,CAAA,EACtBh5E,EAAA,MAAA,CAAA,SAAA8pK,CAAA,CAAA,CAGU,CAAA,CAAA,CAAA,CAAA,EAIlB,OAAAtnK,EAAA3L,GAAA,SAAA,CAAA,SAAA,CAEKiqK,GAAA9gK,EACCu9I,GAAC,CAAA,KAAA,GACO,SAAA,IAAA,KAAA,SAAA,CAAA,WAAA,EAAA,CAAA,EAC6C,QAAAp6I,EACnD,MAAA,OACO,SAAA,KACE,UAAA,GACA,GAAA,CACL,uBAAA,CACsB,QAAA,CACb,EACX,yBAAA,CAC0B,OAAA,aAChB,CACV,CACF,CAAA,EACF,CAAA29J,GAAA39J,CAEc,CAAA,CAAA,CAClB,CAEJ,eAAA,OAQE,KAAA,CAAM,aAAA,CAAA,KAAAqD,CAAA,CACiB,EAAA,KAAA,MAEvB,QAAAykB,EAAAzkB,GAAA,YAAAA,EAAA,cAAA,YAAAykB,EAAA,aAAA,KAAA,MAAA4uD,GAAA,CAAA,CAAAA,EAAA,SAAA,EACoE,CAEtE,uBAAA,CAGE,KAAA,CAAM,aAAA,CAAA,OAAAwB,CAAA,CACmB,EAAA,KAAA,MAEzB,OAAAA,IAAAmB,GAAAnB,CAAA,GAAAqB,GAAArB,CAAA,KAAA,EAAkE,CA8GpE,gBAAA0gG,EAAAniG,EAAAoqG,EAAAwB,EAAAtB,EAAA5mG,EAAA,CAUE,MAAAmoG,EAAA,CAAA,EACA,CAAM,aAAA,CAAA,KAAAj/K,CAAA,EACiB,0BAAA,CACM,qBAAAoyJ,EACzB,aAAA75E,EACA,gBAAAC,CACA,EACF,YAAA0mG,EAAA,CAAA,CACe,EAAA,KAAA,MAEjB,CAAA,cAAAxmG,EAAA,CAAA,EAAA,aAAAtC,EAAA,CAAA,CAAA,EAAAp2E,EACA,CAAA,oBAAAyzK,EAAA,kBAAAC,GAAA,KAAA,MAEA,OAAA6B,EAAA,QAAA,CAAAliG,EAAA8rG,IAAA,SACE,MAAAxU,GAAAlmJ,EAAA4uD,EAAA,gBAAA,YAAA5uD,EAAA,WACA8+I,EAAA,MAAAlwF,EAAA,QAEA+rG,EAAA/rG,EAAA,OAAA,IAA8B,CAAA1pF,EAAAmsF,IAAA,CAE1B,MAAA+C,EAAAzF,EAAA0C,CAAA,EAAA,KACAupG,EAAAjtB,EAAA,SAAAv5E,CAAA,EACA86F,EAAAuL,EAAA,KAAA/yJ,GACEA,EAAA,kBAAA0sD,CAA8B,EAMhC26F,EAJA,KAAA,mBAAmB,KAAA,MAAA,sBACN36F,CACX,IAEF,GAAA,GAAA,eACA,OAAAwmG,EACE7lL,EACEqjL,GAAC,CAAA,UAAA,kBACW,SAAArjL,EAGV+5K,GAAC,CAAA,WAAAngG,EAAA0C,CAAA,EAAA,WAC+B,YAAAnsF,EAC9B,OAAA6pL,EACA,oBAAAC,EACA,kBAAAC,EACA,iBAAAC,EACA,WAAA96F,EACA,QAAAxF,EAAA,OACa,cAAAqF,EACb,aAAAtC,EACA,MAAA/C,EAAA,MACW,iBAAAA,EAAA,aACW,CAAA,CACxB,EAAA,IAAA8rG,IAAAx1L,IAAAmsF,IAfkC,EAmBxCt8E,EAAA,KAAA,CAAA,UAAA,YAAA,EAAA,IAAA2lL,KAAArpG,IAAA,CAAoE,CACtE,EAIF0nG,GACE4B,EAAA,QAAW5lL,EAAA,KAAA,CAAA,UAAA,kBAAA,SAAAA,EAEP23K,GAAC,CAAA,SAAA5N,EAEW,oBAAAoH,CACV,EAAApH,CAFK,CAAA,EAAAA,CAAA,CAIT,EAGJ,MAAAvlK,IAAAioB,EAAAwtJ,EAAAlQ,CAAA,IAAA,YAAAt9I,EAAA,OAAA,4CAGA+4J,GAEEI,EAAA,QAAW5lL,EACT,KAAC,CAAA,UAAA,kCAEW,SAAAwE,GAAAxE,EAGRq1K,GAAC,CAAA,mBAAAtL,EACqB,oBAAAoH,CACpB,CAAA,CACD,EAAA,mBAAApH,GAPqB,CAS1B,EAGJma,GACE0B,EAAA,QAAW5lL,EACT,KAAC,CAAA,UAAA,0CAEW,SAAAwE,GAAAxE,EAGRkxK,GAAC,CAAA,SAAAnH,EACW,oBAAA,SAAAoH,CAAA,CACwC,CAAA,CACnD,EAAA,2BAAApH,GAP6B,CASlC,EAIJzsF,GAAAyB,GACE6mG,EAAA,QAAW5lL,EAAA,KAAA,CAAA,UAAA,kBAAA,SAAAA,EAEPq5J,GAAC,CAAA,MAAA,GACO,QAAA,CAAA,CAAAt6E,EAAA,KAAAp2E,GAAAA,EAAA,QAAAkxE,EAAA,KAAA,EACiD,SAAAq/B,GAAA,CAErD,MAAA4sE,EAAA,CAAA,GAAA/mG,CAAA,EACA,GAAAm6B,EACE4sE,EAAA,KAAAjsG,CAAA,MAA0B,CAE1B,MAAAx5F,EAAAylM,EAAA,QAAAjsG,CAAA,EACAx5F,EAAA,IACEylM,EAAA,OAAAzlM,EAAA,CAAA,EAIJ2+F,EAAA8mG,CAAA,CAAiC,CACnC,CAAA,CAAA,EAAA,IAAAH,oBAAA,CAEJ,EAIJ,MAAAI,EAAA/lL,EAAA,KAAA,CAAA,SAAA4lL,CAAA,EAAA/rG,EAAA,OAAA8rG,CAAA,EACAF,EAAA,KAAAM,CAAA,CAA+B,CAAA,EAEjCN,CAAO,CACT,iBAAAO,EAAA,CAGE,OAAAA,EAAA,CAAgB,KAAAlqG,GAAA,OACM,KAAAA,GAAA,SACA,KAAAA,GAAA,aACA,KAAAA,GAAA,YACA,KAAAA,GAAA,aACA,KAAAA,GAAA,aACA,KAAAA,GAAA,UACA,KAAAA,GAAA,YACA,KAAAA,GAAA,cAElB,MAAA,GAAO,QAEP,MAAA,EAAO,CACX,CACF,kBAAAlC,EAAAgD,EAAAi+E,EAAAmpB,EAAAwB,EAAAtB,EAAA5mG,EAAA2B,EAAA,CAYE,KAAA,CAAA,sBAAAqlG,EAAA,oBAAAD,GAAA,KAAA,MACA,CAAM,0BAAA,CAAA,qBAAAjlG,EAAA,qBAAAw5E,CAAA,EACoE,aAAA,CAAA,aAAA/X,CAAA,CAC3C,EAAA,KAAA,MAE/BolC,EAAArsG,EAAA,IAAyD,CAAAosG,EAAA3lM,IAAA,OAGrD,GADAu4K,EAAA,SAAAotB,EAAA,IAAA,EACA,CAEE,MAAAppB,EAAA,KAAA,mBAAA0nB,EAAA0B,EAAA,IAAA,IAAA,GAGAE,EAAA7B,EAAAhkM,CAAA,IAAA,OAAA,EAAAgkM,EAAAhkM,CAAA,EAKA8lM,EAAAtrB,EAAA,UAAkCurB,GAE9BA,EAAA,aAAAJ,EAAA,IACF,EAGFK,EAAAF,IAAA,IAAAtrB,EAAAsrB,CAAA,EAAA,YAAA,cAEAjmC,EAAA2a,EAAAsrB,CAAA,EACAG,EAAA1pB,EAAA,gDAAA,GAGA2pB,EAAA3pB,EAAA,oCAAA,mCAGA4pB,EAAA,qFAAAF,IACAG,EAAArnG,EAA8C4mG,EAAA,IACrC,EAETv1B,EAAA7zE,EAAA,KAAAjqD,GAAAA,EAAA,OAAAqzJ,EAAA,IAAA,EACAU,EAAAV,EAAA,KAAA,YAAA,MAAA/6J,EAAA41H,GAAA,YAAAA,EAAA,aAAA,YAAA51H,EAAA,eAGA07J,EAAAl2B,GAAAA,EAAA,MAAA,MAAAA,EAAA,YAAA30E,GAAA,SAIA,OAAA97E,EAAA,KAAA,CAAA,SAAAwC,EAAA,MAAA,CAAA,UAAA,YAAA,SAAA,CAGMxC,EAAA,OAAA,CAAA,MAAA,CAAA,WAAA,QAAA,EAAA,SAAAymL,EAAA,EAEAjkL,EAAA,MAAA,CAAA,UAAA,oBAAA,SAAA,CAEG6jL,GAAA,CAAAK,GAAA,KAAA,uBAEMxmC,EACHuQ,EACAxxE,CACA,EACF,KAAA,iBAAA+mG,EAAA,UAAA,GAAAhmL,EAEA,OAAC,CAAA,KAAA,SACM,aAAA,OACM,SAAA,EACD,UAAAwmL,EACC,WAAA,KAAA,sBAAA,CAC4B,MAAAnmM,EACrC,KAAA2lM,EAAA,IACa,CAAA,EACd,QAAA,KAAA,sBAAA,CACmC,MAAA3lM,EAClC,KAAA2lM,EAAA,IACa,CAAA,EACd,SAAAhmL,EAEDrK,GAAC,CAAA,KAAA4uL,GAAA2B,CAAA,EAC6B,SAAAK,CAClB,CAAA,CACX,CAAA,EACHI,GAAA3mL,EAAAk7K,GAAA,EAAA,CAE2C,EAAA,CAC/C,CAAA,CAAA,CAAA,EAAA8K,EAAA,IAAA,MAKN,QAAAhmL,EAAA,KAAA,CAAA,UAAA,cAAAgmL,EAAA,IAAA,CACF,CACF,EAGF,OAAAhC,GACEiC,EAAA,QAA0BjmL,EAAA,KAAA,CAAA,SAAAA,EAAA,MAAA,CAAA,UAAA,oBAAA,SAAAA,EAAA,OAAA,CAAA,MAAA,CAAA,WAAA,QAAA,EAAA,SAAA,SAAA,CAAA,CAAA,CAAA,EAAA,cAAA,CAKxB,EAIJwlL,GACES,EAAA,QAA0BjmL,EAAA,KAAA,CAAA,SAAAA,EAAA,MAAA,CAAA,UAAA,oBAAA,SAAA,IAAA,CAAA,EAAA,gBAAA,CAGxB,EAGJkkL,GACE+B,EAAA,QAA0BjmL,EACxB,KAAC,CAAA,cAAA,kCACa,SAAAA,EAAA,MAAA,CAAA,UAAA,oBAAA,SAAA,IAAA,CAG6B,EAAA,2BAFrC,CAGN,EAGJs9E,GACE2oG,EAAA,QAA0BjmL,EAAA,KAAA,CAAA,SAAAA,EAAA,MAAA,CAAA,UAAA,mBAAA,CAAA,CAAA,EAAA,oBAAA,CAGxB,EAGJimL,CAAO,CACT,mBAAA3B,EAAAtsL,EAAA,CAYE,OAAAssL,EAAA,SAAA,EAEEA,EAAA,UAA6B3xJ,GAAAA,EAAA,SAAA36B,CACK,EAGpC,EAAO,CACT,eAAA5Y,EAAA,CAIEA,GAAAA,EAAA,iBACA,MAAA6/F,EAAA,KAAA,MAAA,aAAA,oBAAA,EACA,CAAA,MAAAlG,CAAA,EAAAkG,EAEAogE,EAAA,KAAA,KAAA,UAAAtmE,CAAA,CAAA,EACA6tG,EAAA3nG,EAAA,SACA,OAAA,KAAO,GAAAp+B,GAAA,mBAAA+lI,kBAAAvnC,IACqE,QAC1E,CACF,CACF,sBAAA,OAGE,KAAA,CAAA,KAAA74I,CAAA,EAAA,KAAA,MAAA,aACA,QAAAykB,EAAAzkB,GAAA,YAAAA,EAAA,cAAA,YAAAykB,EAAA,aAAA,QAAA,SAAA,CAAyD,CAC3D,uBAAAm7J,EAAA31B,EAAAxxE,EAAA,CAiBE,OAAAj/E,EACE86J,GAAC,CAAA,YAAA,WACa,YAAAsrB,EAAA,YACmB,YAAA31B,EAC/B,SAAA8P,GAAA,CAEEnB,GAAAngF,EACEmnG,EACA,KAAA,4BACK7lB,CACL,CACF,EACF,QAAA,IAAA,CAEEtB,GAAAhgF,EACEmnG,EACA,KAAA,2BACK,CACP,CACF,CAAA,CACF,CAWN,i/BCh4BA,SAAwBS,IAAgB,CAChC,KAAA,CAAE,KAAArgL,GAAS4zE,KACX,CAAE,kBAAA0sG,GAAsB5pG,KACvB,OAAA4pG,GAAqBtgL,GAAQA,EAAK,cACvCxG,EAAC,MAAA,CACC,MAAO,CACL,QAAS,OACT,cAAe,SACf,WAAY,UACd,EAEA,SAAAwC,EAACs9C,GAAW,CAAA,QAAQ,cAAc,SAAA,CAAA,mBACfh6C,GAAWC,GAAMS,EAAK,aAAa,CAAC,CAAA,EACvD,CAAA,CAAA,EAGAxG,EAAAyC,GAAA,CAAA,CAAA,CAEN,CCLA,MAAAskL,GAAAtrM,GAAA,CACE,KAAA,CAAA,mBAAAurM,EAAA,kBAAAC,EAAA,aAAA1uB,CAAA,EAAA98K,EACA0/L,EAAAv6K,KACAu5E,EAAAC,KACA6C,EAAAC,KACA,OAAA16E,EAAA,MAAA,CAAA,UAAA,gBAAA,SAAA,CAEKwkL,EAAAhnL,EACC6jL,GAAC,CAAA,GAAAmD,EACK,eAAA7L,EACJ,aAAAhhG,EACA,0BAAA8C,EACA,aAAAs7E,CACA,CAAA,EAAAv4J,EAAAyC,GAAA,EAAA,EAGAwkL,EAAAjnL,EAAA8nK,GAAA,CAAA,GAAAmf,CAAA,CAAA,EAAAjnL,EAAAyC,GAAA,EAAA,EAE8DzC,EAAA6mL,GAAA,EAAA,CACnD,CAAA,CAAA,CAGrB,4iBC3BA,MAAMK,GAAiC,IACjCC,GACJ,uCACIC,GAAuC,2BACvCC,GAA8B,cAOvBC,GAAqBjnL,GACzB,IAAI,QAAQ,CAAC+kB,EAASC,IAAW,CAEtC,MAAMkiK,EAAwB,aAAa,QACzCJ,EAAA,EAEIK,EAAc,aAAa,QAAQJ,EAA4B,EACrE,GAAIG,GAAyBC,GAEP,IAAI,KAAK,EAAE,QAAQ,EAC7B,OAAOD,CAAqB,EAAG,CAC/BniK,EAAA,OAAOoiK,CAAW,CAAC,EAC3B,OASJhnL,GAAUH,EAAagnL,EAAmB,EACvC,KAAMhsG,GAAmB,CACxB,MAAM06F,EAAyB16F,EAQzB71E,EAA4B,CAChC,mBAAoB,GACpB,qBAAsB,GACtB,4BAA6B,GAC7B,eAXyD,CACzD,CACE,kBAAmBuwK,EAAW,GAC9B,oBAAqBnxK,GAAwB,WAC7C,aAAcmxK,EAAW,gBAC3B,CAAA,CAMgB,EAElBp+F,GAASnyE,EAASnF,CAAW,EAAE,KAAMmG,GAA0B,CAC7D,MAAMihL,EAAuBjhL,EAAK,eAAe,CAAC,EAAE,aAE9CzD,EAAyByD,EAAK,eAAe,CAAC,EAAE,WAEhDkhL,EAAU,IAAI,KAAK,EAAE,QAAQ,EACnC,OAAOC,GAAqB5kL,EAAY0kL,CAAY,EAAE,KAAK,IAAM,CAGzD,MAAA9wJ,EACJ5zB,EAAW,cACT,IAAI,OAAO,UAAY2kL,EAAUR,IAA0B,KAEzD3nK,EAAc,IAAI,KAAK,EAAE,QAAQ,EAC1B,aAAA,QACX4nK,IACC5nK,EAAM,IAAO,GAAK,GAAG,SAAS,CAAA,EAEpB,aAAA,QACX6nK,GACAzwJ,EAAO,SAAS,CAAA,EAElBvR,EAAQuR,CAAM,CAAA,CACf,CAAA,CACF,CAAA,CACF,EACA,MAAakhD,GAAAxyD,EAAOwyD,CAAG,CAAC,CAAA,CAC5B,sCC1FF,SAASlqF,EAAE0pB,EAAE,CAAsDld,EAAA,QAAekd,GAAmI,GAAE4pC,GAAM,UAAU,CAAc,IAAItzD,EAAE0pB,EAAEhP,EAAE,IAAI,EAAE,IAAI3H,EAAE,KAAKiI,EAAE,MAAMiL,EAAE,sFAAsF,EAAE,QAAQ3L,EAAE,OAAOC,EAAE,sKAAsKM,EAAE,CAAC,MAAM,EAAE,OAAOP,EAAE,KAAKU,EAAE,MAAMjI,EAAE,QAAQ,EAAE,QAAQ2H,EAAE,aAAa,EAAE,MAAM,MAAM,EAAEnP,EAAE,SAASvL,EAAE,CAAC,OAAOA,aAAa2a,CAAC,EAAEG,EAAE,SAAS9a,EAAE0pB,EAAEhP,EAAE,CAAC,OAAO,IAAIC,EAAE3a,EAAE0a,EAAEgP,EAAE,EAAE,CAAC,EAAEjP,EAAE,SAASza,EAAE,CAAC,OAAO0pB,EAAE,EAAE1pB,CAAC,EAAE,GAAG,EAAEwa,EAAE,SAASxa,EAAE,CAAC,OAAOA,EAAE,CAAC,EAAEynL,EAAE,SAASznL,EAAE,CAAC,OAAOwa,EAAExa,CAAC,EAAE,KAAK,KAAKA,CAAC,EAAE,KAAK,MAAMA,CAAC,CAAC,EAAEgoB,EAAE,SAAShoB,EAAE,CAAC,OAAO,KAAK,IAAIA,CAAC,CAAC,EAAE+a,EAAE,SAAS/a,EAAE0pB,EAAE,CAAC,OAAO1pB,EAAEwa,EAAExa,CAAC,EAAE,CAAC,SAAS,GAAG,OAAO,GAAGgoB,EAAEhoB,CAAC,EAAE0pB,CAAC,EAAE,CAAC,SAAS,GAAG,OAAO,GAAG1pB,EAAE0pB,CAAC,EAAE,CAAC,SAAS,GAAG,OAAO,EAAE,CAAC,EAAE/O,EAAE,UAAU,CAAC,SAASH,EAAExa,EAAE0pB,EAAEhP,EAAE,CAAC,IAAIntB,EAAE,KAAK,GAAG,KAAK,GAAG,CAAE,EAAC,KAAK,GAAGmtB,EAAW1a,IAAT,SAAa,KAAK,IAAI,EAAE,KAAK,sBAAqB,GAAI0pB,EAAE,OAAO5O,EAAE9a,EAAE6a,EAAEJ,EAAEiP,CAAC,CAAC,EAAE,IAAI,EAAE,GAAa,OAAO1pB,GAAjB,SAAmB,OAAO,KAAK,IAAIA,EAAE,KAAK,sBAAqB,EAAG,KAAK,GAAa,OAAOA,GAAjB,SAAmB,OAAO,OAAO,KAAKA,CAAC,EAAE,QAAS,SAAS0pB,EAAE,CAACn8B,EAAE,GAAGktB,EAAEiP,CAAC,CAAC,EAAE1pB,EAAE0pB,CAAC,CAAC,CAAC,EAAG,KAAK,kBAAkB,KAAK,GAAa,OAAO1pB,GAAjB,SAAmB,CAAC,IAAI+S,EAAE/S,EAAE,MAAMua,CAAC,EAAE,GAAGxH,EAAE,CAAC,IAAIiI,EAAEjI,EAAE,MAAM,CAAC,EAAE,IAAK,SAAS/S,EAAE,CAAC,OAAaA,GAAN,KAAQ,OAAOA,CAAC,EAAE,CAAC,CAAC,EAAG,OAAO,KAAK,GAAG,MAAMgb,EAAE,CAAC,EAAE,KAAK,GAAG,OAAOA,EAAE,CAAC,EAAE,KAAK,GAAG,MAAMA,EAAE,CAAC,EAAE,KAAK,GAAG,KAAKA,EAAE,CAAC,EAAE,KAAK,GAAG,MAAMA,EAAE,CAAC,EAAE,KAAK,GAAG,QAAQA,EAAE,CAAC,EAAE,KAAK,GAAG,QAAQA,EAAE,CAAC,EAAE,KAAK,gBAAe,EAAG,MAAM,OAAO,IAAI,CAAC,IAAIgN,EAAExN,EAAE,UAAU,OAAOwN,EAAE,gBAAgB,UAAU,CAAC,IAAIhoB,EAAE,KAAK,KAAK,IAAI,OAAO,KAAK,KAAK,EAAE,EAAE,OAAQ,SAAS0pB,EAAEhP,EAAE,CAAC,OAAOgP,GAAG1pB,EAAE,GAAG0a,CAAC,GAAG,GAAGG,EAAEH,CAAC,CAAC,EAAG,CAAC,CAAC,EAAEsN,EAAE,sBAAsB,UAAU,CAAC,IAAIhoB,EAAE,KAAK,IAAI,KAAK,GAAG,MAAMynL,EAAEznL,EAAE,CAAC,EAAEA,GAAG,EAAE,KAAK,GAAG,OAAOynL,EAAEznL,EAAEsa,CAAC,EAAEta,GAAGsa,EAAE,KAAK,GAAG,KAAKmtK,EAAEznL,EAAEgb,CAAC,EAAEhb,GAAGgb,EAAE,KAAK,GAAG,MAAMysK,EAAEznL,EAAE+S,CAAC,EAAE/S,GAAG+S,EAAE,KAAK,GAAG,QAAQ00K,EAAEznL,EAAE,CAAC,EAAEA,GAAG,EAAE,KAAK,GAAG,QAAQynL,EAAEznL,EAAE0a,CAAC,EAAE1a,GAAG0a,EAAE,KAAK,GAAG,aAAa1a,CAAC,EAAEgoB,EAAE,YAAY,UAAU,CAAC,IAAIhoB,EAAE+a,EAAE,KAAK,GAAG,MAAM,GAAG,EAAE2O,EAAE3O,EAAE,KAAK,GAAG,OAAO,GAAG,EAAEL,EAAE,CAAC,KAAK,GAAG,MAAM,EAAE,KAAK,GAAG,QAAQA,GAAG,EAAE,KAAK,GAAG,OAAO,IAAIntB,EAAEwtB,EAAEL,EAAE,GAAG,EAAE3H,EAAEgI,EAAE,KAAK,GAAG,MAAM,GAAG,EAAEC,EAAED,EAAE,KAAK,GAAG,QAAQ,GAAG,EAAEkL,EAAE,KAAK,GAAG,SAAS,EAAE,KAAK,GAAG,eAAeA,GAAG,KAAK,GAAG,aAAa,KAAK,IAAIhL,EAAEF,EAAEkL,EAAE,GAAG,EAAE3L,EAAEta,EAAE,UAAU0pB,EAAE,UAAUn8B,EAAE,UAAUwlB,EAAE,UAAUiI,EAAE,UAAUC,EAAE,SAASV,EAAExH,EAAE,QAAQiI,EAAE,QAAQC,EAAE,OAAO,IAAI,GAAGJ,GAAGP,EAAE,IAAI,IAAI,IAAIta,EAAE,OAAO0pB,EAAE,OAAOn8B,EAAE,OAAOgtB,EAAExH,EAAE,OAAOiI,EAAE,OAAOC,EAAE,OAAO,OAAYJ,IAAN,KAAgBA,IAAP,KAAS,MAAMA,CAAC,EAAEmN,EAAE,OAAO,UAAU,CAAC,OAAO,KAAK,YAAW,CAAE,EAAEA,EAAE,OAAO,SAAShoB,EAAE,CAAC,IAAI0a,EAAE1a,GAAG,sBAAsBzS,EAAE,CAAC,EAAE,KAAK,GAAG,MAAM,GAAGm8B,EAAE,EAAE,KAAK,GAAG,MAAM,EAAE,GAAG,EAAE,KAAKA,EAAE,EAAE,KAAK,GAAG,MAAM,EAAE,GAAG,EAAE,EAAE,KAAK,GAAG,OAAO,GAAGA,EAAE,EAAE,KAAK,GAAG,OAAO,EAAE,GAAG,EAAE,EAAE,KAAK,GAAG,KAAK,GAAGA,EAAE,EAAE,KAAK,GAAG,KAAK,EAAE,GAAG,EAAE,EAAE,KAAK,GAAG,MAAM,GAAGA,EAAE,EAAE,KAAK,GAAG,MAAM,EAAE,GAAG,EAAE,EAAE,KAAK,GAAG,QAAQ,GAAGA,EAAE,EAAE,KAAK,GAAG,QAAQ,EAAE,GAAG,EAAE,EAAE,KAAK,GAAG,QAAQ,GAAGA,EAAE,EAAE,KAAK,GAAG,QAAQ,EAAE,GAAG,EAAE,IAAIA,EAAE,EAAE,KAAK,GAAG,aAAa,EAAE,GAAG,CAAC,EAAE,OAAOhP,EAAE,QAAQuL,EAAG,SAASjmB,EAAE0pB,EAAE,CAAC,OAAOA,GAAG,OAAOn8B,EAAEyS,CAAC,CAAC,CAAC,CAAG,CAAA,EAAEgoB,EAAE,GAAG,SAAShoB,EAAE,CAAC,OAAO,KAAK,IAAI6a,EAAEJ,EAAEza,CAAC,CAAC,CAAC,EAAEgoB,EAAE,IAAI,SAAShoB,EAAE,CAAC,IAAI0pB,EAAE,KAAK,IAAIhP,EAAED,EAAEza,CAAC,EAAE,OAAuB0a,IAAjB,eAAmBgP,GAAG,IAAIA,EAAYhP,IAAV,QAAY+sK,EAAE/9J,EAAE7O,EAAEH,CAAC,CAAC,EAAE,KAAK,GAAGA,CAAC,EAAMgP,IAAJ,EAAM,EAAEA,CAAC,EAAE1B,EAAE,IAAI,SAAShoB,EAAE0pB,EAAEhP,EAAE,CAAC,IAAIntB,EAAE,OAAOA,EAAEm8B,EAAE1pB,EAAE6a,EAAEJ,EAAEiP,CAAC,CAAC,EAAEne,EAAEvL,CAAC,EAAEA,EAAE,IAAI8a,EAAE9a,EAAE,IAAI,EAAE,IAAI8a,EAAE,KAAK,IAAIvtB,GAAGmtB,EAAE,GAAG,GAAG,IAAI,CAAC,EAAEsN,EAAE,SAAS,SAAShoB,EAAE0pB,EAAE,CAAC,OAAO,KAAK,IAAI1pB,EAAE0pB,EAAE,EAAE,CAAC,EAAE1B,EAAE,OAAO,SAAShoB,EAAE,CAAC,IAAI0pB,EAAE,KAAK,MAAO,EAAC,OAAOA,EAAE,GAAG1pB,EAAE0pB,CAAC,EAAE1B,EAAE,MAAM,UAAU,CAAC,OAAOlN,EAAE,KAAK,IAAI,IAAI,CAAC,EAAEkN,EAAE,SAAS,SAAS0B,EAAE,CAAC,OAAO1pB,IAAI,IAAI,KAAK,IAAI,IAAI,EAAE,OAAO,KAAK,EAAE,EAAE,QAAQ,CAAC0pB,CAAC,CAAC,EAAE1B,EAAE,aAAa,UAAU,CAAC,OAAO,KAAK,IAAI,cAAc,CAAC,EAAEA,EAAE,eAAe,UAAU,CAAC,OAAO,KAAK,GAAG,cAAc,CAAC,EAAEA,EAAE,QAAQ,UAAU,CAAC,OAAO,KAAK,IAAI,SAAS,CAAC,EAAEA,EAAE,UAAU,UAAU,CAAC,OAAO,KAAK,GAAG,SAAS,CAAC,EAAEA,EAAE,QAAQ,UAAU,CAAC,OAAO,KAAK,IAAI,SAAS,CAAC,EAAEA,EAAE,UAAU,UAAU,CAAC,OAAO,KAAK,GAAG,SAAS,CAAC,EAAEA,EAAE,MAAM,UAAU,CAAC,OAAO,KAAK,IAAI,OAAO,CAAC,EAAEA,EAAE,QAAQ,UAAU,CAAC,OAAO,KAAK,GAAG,OAAO,CAAC,EAAEA,EAAE,KAAK,UAAU,CAAC,OAAO,KAAK,IAAI,MAAM,CAAC,EAAEA,EAAE,OAAO,UAAU,CAAC,OAAO,KAAK,GAAG,MAAM,CAAC,EAAEA,EAAE,MAAM,UAAU,CAAC,OAAO,KAAK,IAAI,OAAO,CAAC,EAAEA,EAAE,QAAQ,UAAU,CAAC,OAAO,KAAK,GAAG,OAAO,CAAC,EAAEA,EAAE,OAAO,UAAU,CAAC,OAAO,KAAK,IAAI,QAAQ,CAAC,EAAEA,EAAE,SAAS,UAAU,CAAC,OAAO,KAAK,GAAG,QAAQ,CAAC,EAAEA,EAAE,MAAM,UAAU,CAAC,OAAO,KAAK,IAAI,OAAO,CAAC,EAAEA,EAAE,QAAQ,UAAU,CAAC,OAAO,KAAK,GAAG,OAAO,CAAC,EAAExN,CAAC,EAAC,EAAG,OAAO,SAASE,EAAEntB,EAAEwlB,EAAE,CAAC/S,EAAE+S,EAAE2W,EAAE3W,EAAC,EAAG,OAAQ,EAACA,EAAE,SAAS,SAAS/S,EAAE0pB,EAAE,CAAC,IAAIhP,EAAE3H,EAAE,OAAQ,EAAC,OAAO+H,EAAE9a,EAAE,CAAC,GAAG0a,CAAC,EAAEgP,CAAC,CAAC,EAAE3W,EAAE,WAAWxH,EAAE,IAAIyP,EAAEztB,EAAE,UAAU,IAAI04B,EAAE14B,EAAE,UAAU,SAASA,EAAE,UAAU,IAAI,SAASyS,EAAE0pB,EAAE,CAAC,OAAOne,EAAEvL,CAAC,IAAIA,EAAEA,EAAE,eAAc,GAAIgb,EAAE,KAAK,IAAI,EAAEhb,EAAE0pB,CAAC,CAAC,EAAEn8B,EAAE,UAAU,SAAS,SAASyS,EAAE0pB,EAAE,CAAC,OAAOne,EAAEvL,CAAC,IAAIA,EAAEA,EAAE,eAAc,GAAIimB,EAAE,KAAK,IAAI,EAAEjmB,EAAE0pB,CAAC,CAAC,CAAC,CAAC,CAAC,8ECA//I,SAAS1O,EAAEjI,EAAE,CAAsDvG,EAAe,QAAAuG,EAAuI,CAAA,GAAEugD,GAAM,UAAU,CAAc,OAAO,SAASt4C,EAAEjI,EAAE/S,EAAE,CAACgb,EAAEA,GAAG,CAAE,EAAC,IAAIN,EAAE3H,EAAE,UAAU,EAAE,CAAC,OAAO,QAAQ,KAAK,SAAS,EAAE,gBAAgB,EAAE,WAAW,GAAG,aAAa,EAAE,UAAU,GAAG,WAAW,EAAE,QAAQ,GAAG,UAAU,EAAE,UAAU,GAAG,YAAY,EAAE,SAAS,GAAG,UAAU,EAAE,SAASxlB,EAAEytB,EAAEjI,EAAE/S,EAAEimB,EAAE,CAAC,OAAOvL,EAAE,WAAWM,EAAEjI,EAAE/S,EAAEimB,CAAC,CAAC,CAACjmB,EAAE,GAAG,aAAa,EAAE0a,EAAE,WAAW,SAAS3H,EAAE2H,EAAEntB,EAAEstB,EAAEI,EAAE,CAAC,QAAQH,EAAEP,EAAEmP,EAAElP,EAAEjtB,EAAE,QAAS,EAAC,cAAc,EAAE+sB,EAAEU,EAAE,YAAY,CAAC,CAAC,EAAE,IAAI,EAAE,GAAG,EAAE,QAAQ,EAAE,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE,QAAQ,EAAE,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM,EAAE,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE,OAAO,EAAE,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE,CAAC,EAAE,KAAK,EAAE,MAAM,CAAC,EAAEP,EAAEH,EAAE,OAAO/O,EAAE,EAAEA,EAAEkP,EAAElP,GAAG,EAAE,CAAC,IAAIyc,EAAE1N,EAAE/O,CAAC,EAAEyc,EAAE,IAAIlN,EAAED,EAAE7a,EAAE+S,CAAC,EAAE,KAAKxlB,EAAEy6B,EAAE,EAAE,EAAE,EAAEz6B,EAAE,KAAKwlB,EAAEiV,EAAE,EAAE,EAAE,GAAG,IAAIrN,GAAGK,EAAE,UAAU,KAAK,OAAO,KAAK,IAAIF,CAAC,CAAC,EAAE,GAAG4O,EAAE5O,EAAE,EAAEH,GAAGqN,EAAE,GAAG,CAACA,EAAE,EAAE,CAACrN,GAAG,GAAGpP,EAAE,IAAIyc,EAAE1N,EAAE/O,EAAE,CAAC,GAAG,IAAIgF,EAAEiK,EAAEwN,EAAE,CAAC,EAAE/M,IAAIN,EAAEM,EAAE,GAAGN,CAAC,GAAGJ,EAAY,OAAOhK,GAAjB,SAAmBA,EAAE,QAAQ,KAAKoK,CAAC,EAAEpK,EAAEoK,EAAED,EAAEsN,EAAE,EAAE0B,CAAC,EAAE,OAAO,GAAGhP,EAAE,OAAOH,EAAE,IAAI0/K,EAAEvwK,EAAElP,EAAE,OAAOA,EAAE,KAAK,OAAkB,OAAOy/K,GAAnB,WAAqBA,EAAE1/K,CAAC,EAAE0/K,EAAE,QAAQ,KAAK1/K,CAAC,CAAC,EAAEG,EAAE,GAAG,SAASM,EAAEjI,EAAE,CAAC,OAAOxlB,EAAEytB,EAAEjI,EAAE,KAAK,EAAE,CAAC,EAAE2H,EAAE,KAAK,SAASM,EAAEjI,EAAE,CAAC,OAAOxlB,EAAEytB,EAAEjI,EAAE,IAAI,CAAC,EAAE,IAAI8H,EAAE,SAASG,EAAE,CAAC,OAAOA,EAAE,GAAGhb,EAAE,IAAG,EAAGA,EAAC,CAAE,EAAE0a,EAAE,MAAM,SAASM,EAAE,CAAC,OAAO,KAAK,GAAGH,EAAE,IAAI,EAAEG,CAAC,CAAC,EAAEN,EAAE,QAAQ,SAASM,EAAE,CAAC,OAAO,KAAK,KAAKH,EAAE,IAAI,EAAEG,CAAC,CAAC,CAAC,CAAC,2CCgB14C5C,GAAA,OAAA+gB,EAAA,EACA/gB,GAAA,OAAA8hL,EAAA,EAkBA,SAAAC,GAAArsM,EAAA,CACE,KAAA,CAAA,SAAAssM,EAAA,SAAAC,CAAA,EAAAvsM,EACA,CAAA,YAAA4kB,GAAAO,KACAqnL,EAAA,CAAA,CAAAD,EAEA,CAAAzgL,EAAAlR,CAAA,EAAA0L,WAAA,CAA0C,UAAAkmL,EAC7B,cAAA,CACI,CAAA,EAEjB,CAAA,UAAA1mL,EAAA,cAAA2mL,CAAA,EAAA3gL,EAEAlF,EAAAA,UAAA,IAAA,CACEhC,GACEinL,GAAAjnL,CAAA,EAAA,KAAA8nL,GAAA,CACE9xL,EAAA,CAAS,UAAA,GACI,cAAA8xL,CACI,CAAA,CAChB,CAAA,CAEL,EAAA,CAAA9nL,CAAA,CAAA,EAGF,MAAA+nL,EAAA7mL,GAAA2mL,IAAA,GAAA,CAAAF,EAAA,EAAAA,EAAAE,EAEAG,EAAAD,IAAA,EACAE,EAAAD,EAAA,GAAAtiL,GAAA,SAAA,CAAA,QAAAqiL,CAAA,CAAA,EAAA,WAIAG,EAAAR,IAAA,EACAS,EAAAD,EAAA,eAAA,yBAIAE,EAAAJ,EAAA,eAAA,yBAGA,OAAA7lL,EAAA,OAAA,CAAA,UAAA,6BAAA,SAAA,CAEIA,EAAA,OAAA,CAAA,SAAA,CACExC,EAAA0oL,GAAA,CAAA,UAAAF,CAAA,CAAA,EAAuDD,EAAAvoL,EAAA42J,GAAA,CAAA,MAAA,EAAA,CAAA,EAAAp0J,EAAAC,GAAA,CAAA,SAAA,CAIlDslL,EAAA,eAAA,EAAwB,QAAE,EAAA,CAAW,EAAA,EAE5CE,GAAAjoL,EAEE6/C,GAAC,CAAA,MAAA,iFACO,eAAAg3H,GACU,UAAA,MACN,SAAAr0K,EAAA,OAAA,CAAA,cAAA,aAAA,SAAA,CAGRxC,EAAA2oL,GAAA,CAAA,UAAAF,CAAA,CAAA,EAAiDJ,EAAAroL,EAAA42J,GAAA,CAAA,MAAA,GAAA,EAAA+X,GAAAqZ,CAAA,CAIb,EAAA,CAEtC,CAAA,EACFC,GAAAjoL,EAGA6/C,GAAC,CAAA,MAAA,8DACO,eAAAg3H,GACU,UAAA,MACN,SAAAr0K,EAAA,OAAA,CAAA,cAAA,yBAAA,SAAA,CAGRxC,EAAA7I,GAAA,CAAA,UAAAsxL,CAAA,CAAA,EAAqDlnL,GAAAwmL,EAAA,EAAA/nL,EAAA42J,GAAA,CAAA,MAAA,EAAA,CAAA,EAAA0xB,CAInD,EAAA,CAEJ,CAAA,CACF,CAAA,CAAA,CAIR;mXCnFA,MAAAM,GAAA,CAA2C,CAAA,CAAA,EAAA,CACtB,SAAA,OACP,SAAA,0DACA,UAAA,QACC,EACb,CAAA,CAAA,EAAA,CACiC,SAAA,OACrB,SAAApmL,EAAAC,GAAA,CAAA,SAAA,CAEN,0FAAAzC,EAAA,KAAA,EAAA,EAGI,mFAAE,EAAA,EAGR,UAAA,QAES,EACb,CAAA,CAAA,EAAA,CACyB,SAAA,OACb,SAAA,gCACA,UAAA,QACC,EACb,CAAA,CAAA,EAAA,CAE2B,SAAA,OACf,SAAA,wBACA,UAAA,QACC,EACb,CAAA,CAAA,EAAA,CACyB,SAAA,QACb,UAAA,QACC,SAAAwC,EAAAC,GAAA,CAAA,SAAA,CAEP,UAAAzC,EAAA6oL,GAAA,EAAA,EACqB,sCAAE,EAAA,CACzB,CAGN,EAQA,SAAAC,GAAArtM,EAAA,CACE,KAAA,CAAA,OAAAgrB,EAAA,UAAAgoK,EAAA,SAAAC,CAAA,EAAAjzL,EACA,OAAAgrB,EAAA,CAAgB,IAAA,GACT,IAAA,GAEH,OAAAjE,EAAAC,GAAA,CAAA,SAAA,CAEIzC,EAAA,MAAA,CAAA,UAAA,eAAA,CAAA,EAAiCA,EAAA8/C,GAAA,CAAA,QAAA,aAAA,SAAA8oI,GAAAniL,CAAA,EAAA,SAAA,CAGjC,CAAA,CAAA,EACF,IAAA,GAIF,OAAAzG,EAAA8/C,GAAA,CAAA,QAAA,aAAA,SAAA8oI,GAAAniL,CAAA,EAAA,QAAA,CAAA,EAGE,IAAA,GAEC,IAAA,GAEH,OAAAjE,EAAAC,GAAA,CAAA,SAAA,CAEIzC,EAAA8nL,GAAC,CAAA,SAAArZ,EACW,SAAAC,CACA,CAAA,EACX1uK,EAAA8/C,GAAA,CAAA,QAAA,aAAA,GAAA,CAAA,SAAA,CAAA,EAAA,SAAA8oI,GAAAniL,CAAA,EAAA,QAAA,CAAA,CAGD,CAAA,CAAA,EACF,QAIF,OAAAzG,EAAAyC,GAAA,CAAA,CAAA,CAAS,CAEf,CAMO,SAAAsmL,GAAAttM,EAAA,CACL,KAAA,CAAM,oBAAAutM,EACJ,SAAAxhC,EACA,UAAAinB,EACA,SAAAC,EACA,eAAAua,EAAA,GACiB,uBAAAC,EAAA,EACQ,EAAAztM,EAE3B,CAAA,YAAA4kB,GAAAO,KAEA,CAAA,KAAAuoL,CAAA,EAAAC,GAAA,EAEA3iL,EAAAzP,EAAAA,QAAA,IACEqJ,EACA4oL,EAAoB,EACpBC,EAA4B,EAC5BC,GAAAA,EAAA,mBAAA,EACE,EACF,EALkB,EAKX,CACN9oL,EACD4oL,EACAC,EACAC,CACA,CAAA,EAGF,OAAAnpL,EAAAyC,GAAA,CAAA,SAAAzC,EAEI0C,GAAC,CAAA,GAAA,CACK,GAAA,EACE,GAAA,EACA,QAAA,OACK,eAAA,gBACO,WAAA,QACJ,EACd,KAAAkmL,GAAAniL,CAAA,EAAA,WAAA,QAAA,OAAA,GACiE,SAAAmiL,GAAAniL,CAAA,EAAA,SAC/B,UAAA,wBACvB,OAAAjE,EAAAC,GAAA,CAAA,SAAA,CAGNgE,IAAA,GAAAzG,EAAAw9I,GAAA,CAAA,QAAA,OAAA,MAAA,UAAA,QAAAgK,EAAA,SAAAohC,GAAAniL,CAAA,EAAA,UAAA,GAGCA,IAAA,GAAAA,IAAA,IAAAzG,EAKAw9I,GAAC,CAAA,QAAA,YACS,MAAA,UACF,QAAA,IAAA,CAEJwrC,GAAoB,EACtB,GAAA,CAAA,GAAA,KAAA,EACgB,SAAA,KACjB,CAAA,CAED,EAAA,EAEJ,SAAAhpL,EAAAkjJ,GAAA,CAAA,QAAA,OAAA,WAAA,SAAA,IAAA,EAAA,SAAAljJ,EAIA8oL,GAAC,CAAA,OAAAriL,EACC,UAAAgoK,EACA,SAAAC,CACA,CAAA,EAAA,CAEJ,CAAA,CAAA,CAAA,CAIR;ovBCnMO,SAAS2a,GACdC,EACA,CACA5yG,GACE,yDACA,UACA,CACE,oBAAqB,CACnB,KAAM,qBACN,QAAS,IAAM,CACb,OAAO,SAAS,KAAO4yG,CACzB,CACF,CACF,CAAA,CAEJ,CCDO,SAAAC,GAAA9tM,EAAA,CAGL,KAAA,CAAA,SAAA+tM,EAAA,QAAAC,CAAA,EAAAhuM,EACA,CAAA,oBAAA6tM,GAAA1oL,KAEA,CAAA,KAAA8oL,EAAA,UAAAT,CAAA,EAAA3pI,GAAA,CACuB,SAAAkqI,EACT,oBAAA,GACW,uBAAA,GACG,aAAA,CAAAnpI,GAAA,IAAA,CACM,CAAA,EAGlCouH,GAAAib,GAAA,YAAAA,EAAA,kBAAA,EACAC,EAAAD,GAAA,YAAAA,EAAA,kBAEA,CAAA,OAAAtY,EAAA,UAAA8X,CAAA,EAAAU,GAAA,CAC4B,UAAA,IAAA,CAEtBP,GAAAC,CAAA,EACAG,GAAQ,EACV,QAAA5rF,GAAA,CAEEnnB,GAAAmnB,EAAA,OAAA,QAAA,EACA4rF,GAAQ,CACV,CAAA,EAGJ,OAAAzpL,EACE+oL,GAAC,CAAA,oBAAA,IAAA3X,EAAA,CAEqB,SAAAoY,EACN,aAAA,kEAER,CAAA,EACH,UAAA/a,EAEH,SAAAkb,EACU,uBAAAT,EACV,eAAAD,EACA,SAAAQ,CACU,CAAA,CAGhB,sUChDO,SAASI,IAAiC,eAC/C,KAAM,CAAE,KAAArjL,EAAM,oBAAAk3E,CAAoB,EAAItD,GAAgB,EAChD,CACJ,4BAAAsE,EACA,gBAAA40E,EACA,aAAAv0E,EACA,uBAAAlB,GACEX,GAA6B,EAC3B+/D,EAAqBjmJ,EAAAA,QAAQ,IAAM,CACvC,MAAM8yL,EAAcpsG,IACR,OAAAosG,EAAA,SACVprC,GACAkpB,GAEEtU,GAAmBz1E,IAA0Br3E,GAAA,MAAAA,EAAM,gBACrDsjL,EAAY,MAAM,kBAAoB,CACpC,GAAIA,EAAY,MAAM,mBAAqB,CAAC,EAC5CjyB,GACEh6E,EACAkB,EACAv4E,EAAK,YACP,CAAA,GAGGsjL,CAAA,EACN,CACDtjL,GAAA,YAAAA,EAAM,aACNk3E,EACA41E,EACAz1E,EACAkB,CAAA,CACD,EACK,CAAE,oBAAAuqG,GAAwB1oL,KAEhC,SAASrjB,GAAU,CACjBmhG,EAA4B,EAAK,CACnC,CAEA,KAAM,CAAE,OAAQ0yF,EAAmB,UAAW8X,CAAA,EAC5CU,GAA0B,CACxB,UAAW,IAAM,CACfP,GAA2CC,CAAmB,EACtD/rM,GACV,EACA,QAAkBsgH,GAAA,CACHnnB,GAAAmnB,EAAM,OAAQ,QAAQ,EAC3BtgH,GACV,CAAA,CACD,EAEG,CAAE,KAAMwsM,EAAqB,UAAWd,GAC5C7nC,GAAuCnE,CAAkB,EAErDwxB,IAAYxjJ,EAAA8+J,GAAA,YAAAA,EAAqB,eAArB,YAAA9+J,EAAmC,aAAc,EAC7D0+J,GAAgBnmJ,GAAA/W,EAAAs9J,GAAA,YAAAA,EAAqB,eAArB,YAAAt9J,EAAmC,eAAnC,MAAA+W,EAClB,cAEAE,GAAAD,EAAAsmJ,GAAA,YAAAA,EAAqB,eAArB,YAAAtmJ,EAAmC,eAAnC,KADA,OACAC,EAAiD,kBAGnD,OAAA1jC,EAAC+oL,GAAA,CACC,oBAAqB,IACnB3X,EAAkB,CAChB,MAAOn0B,GAAA,YAAAA,EAAoB,MAC3B,aACE,kEAAA,CACH,EAEH,UAAAwxB,EACA,SAAUkb,EACV,uBAAAT,EACA,eAAAD,EACA,SAAU1rM,CAAA,CAAA,CAGhB,CC9CO,MAAAysM,GAAA,wBACAC,GAAA,uBAuDPC,GAAAzuM,GAAA,CAGE,KAAA,CAAAu4K,EAAAC,CAAA,EAAAp9J,GAAA,SAAA,EAAA,EACA,CAAM,aAAAszL,EACJ,IAAA/sC,EACA,YAAAgtC,EACA,mBAAApD,EACA,KAAAhvL,EACA,kBAAAivL,EACA,aAAAjiB,EACA,gBAAAhF,EACA,aAAAzH,EACA,eAAAG,EACA,qBAAAC,EACA,oBAAA0xB,EACA,MAAAjwM,EAAAolK,GACQ,cAAA8qC,EACR,kBAAAxD,EACA,qBAAAvwB,EAAA,GACuB,gBAAA0B,EACvB,eAAA5B,EACA,sBAAA/4E,EACA,gBAAAk2E,EACA,uBAAA31E,CACA,EAAApiG,EAGFslB,EAAAm4E,GAAAkkE,CAAA,EACAj9D,EAAAsnF,GAA0B1mK,EACxBopL,EACAC,CACA,EAGFrxG,EAAAuxG,EAAA,KAAA,MAAAA,CAAA,EAAA,CAEI,IAAAltC,EACE,kBAAAj9D,EACA,MAAA/lG,EACA,OAAA,CACQ,EAGd,CAAA,KAAAihG,CAAA,EAAAimE,GAAAvgJ,CAAA,EACAwpL,EAAAlvG,GAAAmvG,GAAAnvG,CAAA,GAAAA,EAAA,gBAEAijE,EAAA,CAA6C,SAAAv9I,EAC3C,aAAA,0DACc,SAAAk4E,GAAAylE,GAAAD,GAAAkpB,GAAAppB,GAAAC,GAAAopB,GAAAC,GASK,MAAA9uF,CACnB,EAMF,OAAA/4E,EAJAgnL,EAAAyD,GAAA5oC,GAIA,CAAA,GAAApmK,EAAA,iBAAA6iK,EAAA,SAAAt+I,EAEIo9E,GAAC,CAAA,gBAAAo2E,EACC,uBAAA31E,EACA,SAAApiG,EAAA,SACgB,cAAAA,EAAA,cACK,mBAAAA,EAAA,mBACK,8BAAAA,EAAA,8BACW,qBAAAA,EAAA,sBAAA8uM,EAEL,kBAAAzD,EAEhC,yBAAArsG,GAAA,YACmD,sBAAA6C,EACnD,SAAAt9E,EAAAu6E,GAAA,CAAA,SAAAJ,GAAA,CAII,GAAAA,IAAA,OACE,MAAA,IAAA,MAAU,uDACR,EAIJ,KAAA,CAAA,kBAAAuwG,EAAA,mBAAArpC,CAAA,EAAAlnE,EAGA,OAAAn6E,EAAAm9E,GAAA,CAAA,SAAAF,GAAA,CAGM,GAAAA,IAAA,OACE,MAAA,IAAA,MAAU,iFACR,EAIJ,OAAAz6E,EACE0gJ,GAAC,CAAA,UAAA,uBAAAjmE,EAAA,gBAAA+sG,GAAAC,KAIO,GAAA,CAEF,IAAA,CACG,OAAA5oC,EAAA,OAAA,MACmC,CACxC,EACF,SAAA,CAEArhJ,EAAA,MAAA,CAAA,UAAA,qBAAA,SAAAA,EAAAkwJ,GAAA,CAAA,CAAA,EAAA,EAEAq6B,EAAAvqL,EAEE0/E,GAAC,CAAA,QAAA2qG,GAAA,YAAAA,EAAA,qBAC+B,CAAA,EAAArqL,EAGhC2qL,GAAC,CAAA,GAAAN,EACK,aAAAlwG,EACJ,0BAAA8C,CACA,CAAA,EACFj9E,EAAAqxJ,GAAA,EAAA,EAESp0E,EAAA,0BAAAj9E,EAAA6pL,GAAA,CAAA,CAAA,EAEuB7pL,EAAAk3E,GAAA,CAAA,SAAAl3E,EAGhCq4J,GAAC,CAAA,oBAAA2uB,IAAA,OAC6C,KAAAhvL,EAC5C,aAAAugK,EACA,eAAAG,EACA,uBAAA,CAAAgyB,EACyB,0BAAA,CAAAA,EACG,qBAAA/xB,EAC5B,qBAAApC,EACA,gBAAA0B,EACA,eAAA5B,CACA,CAAA,EAAA,EAEJq0B,GAAA1qL,EAAAyC,GAAA,CAAA,SAAAzC,EAGI+/J,GAAC,CAAA,gBAAAC,CACC,CAAA,EAAA,EAEJhgK,EAAAilK,GAAA,CAAA,aAAAD,EAAA,EAEoChlK,EACtC+mL,GAAC,CAAA,mBAAAC,EACC,aAAAzuB,EACA,kBAAA0uB,CACA,CAAA,EACFjzB,GAAAh0J,EAEE88I,GAAC,CAAA,oBAAA3iE,EAAA,oBACmC,QAAA,IAAA85E,EAAA,EAAA,CACQ,CAAA,CAC5C,CAAA,CAAA,CAEJ,CAAA,CAAA,CAGN,EAAA,CAGN,CAAA,CAAA,CAAA,CAIR;gJCrNA,MAAA22B,GAAAxtC,IACE,CAAO,SAAAoB,GAAAE,GAAAD,GAAAF,GAAAtlE,GAAA4uF,GAOc,SAAA3uF,GAAAkkE,CAAA,EACwB,aAAA,0DAC7B,MAAA,CACP,IAAAA,EACL,MAAAoC,GACO,OAAA,CACC,CACV,GAOJqrC,GAAApvM,GAAA,CAGE,KAAA,CAAM,MAAA29F,EACJ,aAAA+wG,EACA,YAAAC,EACA,iBAAAtG,EACA,IAAA1mC,EACA,aAAAmb,EACA,eAAAG,EACA,KAAA1gK,EACA,qBAAA8yL,EAAA,GACuB,oBAAAT,EACvB,gBAAA72B,EAAA,UACkB,SAAA6U,EAClB,kBAAAye,EACA,yBAAAzpG,EAAAytG,EAAArwG,GAAA,YAAAA,GAAA,OAG6B,GAAApxD,CAC1B,EAAA5tC,EAGLsvM,EAAAH,GAAAxtC,CAAA,EACAr8I,EAAAm4E,GAAAkkE,CAAA,EACA2tC,EAAA,MAAA,kBAAAtjB,GAAA1mK,EAAAopL,EAAAC,CAAA,EAGA,MAAAjP,EAAAv6K,KAEA,CAAA,KAAAy6E,CAAA,EAAAimE,GAAAvgJ,CAAA,EACA,OAAAf,EACE2gJ,GAAC,CAAA,GAAAt3H,EACK,iBAAA0hK,EACc,SAAA/qL,EAElBo9E,GAAC,CAAA,SAAAirF,EACC,gBAAA7U,EACA,kBAAAszB,EACA,yBAAAzpG,EACA,GAAAh0D,EACI,SAAArpB,EAAAu6E,GAAA,CAAA,SAAAJ,GAAA,CAIA,GAAAA,IAAA,OACE,MAAA,IAAA,MAAU,yDACR,EAGJ,OAAAn6E,EAAAm9E,GAAA,CAAA,SAAAF,GAAA,CAGM,GAAAA,IAAA,OACE,MAAA,IAAA,MAAU,mFACR,EAIJ,OAAAz6E,EAAAC,GAAA,CAAA,SAAA,CAEKqoL,GAAA9qL,EACCq4J,GAAC,CAAA,oBAAA,GACsB,KAAArgK,EACrB,aAAAugK,EACA,eAAAG,EACA,uBAAA,GACwB,0BAAA,EACG,CAAA,EAC7Br9E,GAAAmvG,GAAAnvG,CAAA,GAAAA,EAAA,gBAAAr7E,EAGA0/E,GAAC,CAAA,QAAA2qG,GAAA,YAAAA,EAAA,qBAC+B,CAAA,EAAArqL,EAGhC2qL,GAAC,CAAA,GAAAN,EACK,aAAAlwG,EACJ,0BAAA8C,CACA,CAAA,EACFj9E,EAAAqxJ,GAAA,EAAA,EAESy5B,GAAA9qL,EAAAwkK,GAAA,CAAA,UAAA,EAAA,CAAA,EAEyBxkK,EAEpC6jL,GAAC,CAAA,eAAA1I,EACC,aAAAhhG,EACA,0BAAA8C,EACA,iBAAA6mG,EACA,MAAA1qG,EACA,cAAA,eACY,GAAA/vD,CACR,CAAA,EACNrpB,EAAA6mL,GAAA,EAAA,CACe,CAAA,CAAA,CACjB,CAAA,CAAA,CAGN,EAAA,CAGN,CAAA,CACF,CAAA,CAGN;4oGClLA,SAAAmE,GAAAvvM,EAAA,CACE,KAAA,CAAA,MAAAs9F,EAAA,UAAAkyG,EAAA,UAAAC,CAAA,EAAAzvM,EACA0vM,EAAAF,IAAA,OACAG,EAAAF,IAAA,OACAlzL,EAAA,QACA,OAAAozL,EACEprL,EAAA6qL,GAAA,CAAA,IAAA9xG,EAAA,KAAA/gF,CAAA,CAAA,EAGFgI,EACEkqL,GAAC,CAAA,IAAAnxG,EACM,qBAAA,CAAAoyG,EACkB,KAAAnzL,EACvB,8BAAA,GAC+B,mBAAA,CAAA,CACV,CAAA,CAG3B,mZC1BA,MAAAqzL,GAAA,CAAkB,EAAA,cACb,EAAA,cACA,EAAA,cACA,EAAA,cACA,EAAA,cACA,EAAA,aAEL,EAMA,SAAAC,GAAA7vM,EAAA,CAGE,KAAA,CAAA,eAAA8vM,CAAA,EAAA9vM,EACAk3D,EAAA,CAAA,EACA64I,EAAA,oDAEA,IAAAhtL,EAAA,GACA,OAAA+sL,EAAA,QAAAC,EAAA,CAAA9tK,EAAA2yD,EAAAo7G,EAAAC,KACEltL,GAAAktL,EACA/4I,EAAA,KAAS3yC,EAAA,MAAA,CAAA,SAAAA,EAEL,IAAC,CAAA,KAAA,OACM,UAAA,QAAAqrL,GAAA,OAAAh7G,CAAA,CAAA,IAC4D,cAAAo7G,EACpD,SAAAC,CAEZ,CAAA,CAAA,EAAAA,CAAA,CAEL,EAEF,GAAO,EAET1rL,EAAA,MAAA,CAAA,SAAA2yC,CAAA,EAAAn0C,CAAA,CACF,6OC/BA,SAAAmtL,GAAAlwM,EAAA,CAGE,KAAA,CAAA,MAAAmwM,CAAA,EAAAnwM,EACA,CAAA,KAAAsqK,CAAA,EAAA8lC,GAAA,CAAAD,CAAA,CAAA,EAEA,OAAA7lC,EAAA/lJ,EAAA8rL,GAAA,CAAA,YAAA/lC,EAAA,CAAA,EAAA,OAAA,CAAA,EAAA/lJ,EAAAyC,GAAA,CAAA,CAAA,CAKF,2NCdA,SAAAspL,GAAAtwM,EAAA,CACE,OAAAukB,EAAAgsL,GAAA,CAAA,OAAAvwM,CAAA,CAAA,CACF,uwBCsFA,SAAAwwM,GAAAxwM,EAAA,CACE,KAAA,CAAA,WAAAywM,EAAA,mBAAA3sL,EAAA,eAAAgsL,CAAA,EAAA9vM,EACA,OAAAywM,EAAA,CAAoB,IAAA,aAEhB,OAAAlsL,EAAAV,GAAA,CAAA,GAAAC,CAAA,CAAA,EAA+C,IAAA,QAE/C,OAAAS,EAAAu4E,GAAA,CAAA,GAAAh5E,CAAA,CAAA,EAAqD,IAAA,OAErD,OAAAS,EAAA+5E,GAAA,CAAA,GAAAx6E,CAAA,CAAA,EAAoD,IAAA,MAEpD,OAAAS,EAAAsrL,GAAA,CAAA,eAAAC,CAAA,CAAA,EAAgE,IAAA,QAEhE,OAAAvrL,EAAA2rL,GAAA,CAAA,GAAApsL,CAAA,CAAA,EAAwD,IAAA,YAExD,OAAAS,EAAA8G,GAAA,CAAA,GAAAvH,CAAA,CAAA,EAAkD,IAAA,QAC/C,IAAA,QACA,IAAA,UAEH,OAAAS,EAAA+rL,GAAA,CAAA,GAAAxsL,CAAA,CAAA,EAA8C,IAAA,eAE9C,OAAAS,EAAAgrL,GAAA,CAAA,GAAAzrL,CAAA,CAAA,EAAqD,IAAA,aAErD,OAAAS,EAAAm3E,GAAA,CAAA,GAAA53E,CAAA,CAAA,EAAwD,IAAA,UAExD,OAAAS,EAAAkF,GAAA,CAAA,GAAA3F,CAAA,CAAA,EAAsD,QAEtD,eAAA,KAAA,uBAAA2sL,IAAA,EACAlsL,EAAAyC,GAAA,CAAA,CAAA,CAAS,CAEf,CAEA,SAAA0pL,GAAA1wM,EAAA,CAEE,OAAAukB,EAAAk3E,GAAA,CAAA,SAAAl3E,EAAAisL,GAAA,CAAA,GAAAxwM,EAAA,CAAA,CAAA,CAKF,8pBC7HA,MAAA2wM,WAAAv1L,GAAA,SAAA,CAA+D,YAAApb,EAAA,CAE3D,MAAAA,CAAA,EACA,KAAA,gBAAA,KAAA,gBAAA,KAAA,IAAA,CAAqD,CACvD,iBAAA,CASE,MAAA4wM,EAAA,OAAA,KAAA,MAAA,SAAA,EAGAvgD,EAAA,mCACA,IAAAwgD,EACA,MAAA57L,EAAA,CAAA,EAEA,KAAA47L,EAAAxgD,EAAA,KAAAugD,CAAA,GACE37L,EAAA,KAAA47L,EAAA,CAAA,CAAA,EAIF,OAAA57L,EAAA,IAAA,CAAAiiC,EAAAtyC,IAAA,CACE,MAAAksM,EAAAlsM,EAAAqQ,EAAA,OAAA,EACA,OAAA8R,EAAA3L,GAAA,SAAA,CAAA,SAAA,CAEI2L,EAAA,SAAA,CAAA,UAAA,wBAAA,GAAA,WAAAniB,IAAA,SAAA,CAAkE,IAAAA,EAAA,EACtD,GAAE,EAAA,EACd2f,EAAA,OAAA,CAAA,wBAAA,CAAA,OAAA2yB,CAAA,EAAA,EAC+C45J,GAAAvsL,EAAA,KAAA,EAAA,CACnB,CAAA,EAAA3f,CAAA,CAC9B,CAAA,CAEH,CACH,QAAA,CAGE,OAAAmiB,EAAA3L,GAAA,SAAA,CAAA,SAAA,CAEImJ,EAAA,KAAA,EAAA,EAAI,KAAA,gBAAA,CACkB,CAAA,CAAA,CACxB,CAGN,uMCNA,MAAAwsL,GAAA,WAAA,CAAA,KAAA,EAAA,CAAA,EAeO,MAAAxmL,WAAAnP,GAAA,SAAA,CAKgB,YAAApb,EAAA,CAQnB,MAAAA,CAAA,EAVFu8F,GAAA,kBAYE,kBAAA,iBAAkBw0G,GAChB,cACA,cACA,qBACA,yBACA,uBACA,2BACA,oBACA,sBACA,yBACA,YACA,EAGF,MAAAC,EAAA,GAEAD,GAAA,IAAA,kBAAAC,EAAA,qBAAA,EAAA,IAA6D,eAC3DA,CACA,EAEF,MAAAjmL,EAAA,CAAA,EACA,KAAA,MAAA,WACEA,EAAA,SAAA,KAAA,MAAA,UAEF,KAAA,MAAA,CAAa,GAAAgmL,GACX,MAAA,OACO,YAAA,OACM,KAAAhmL,EACb,UAAA,EACW,EAEb,KAAA,UAAA3P,GAAA,YACA,KAAA,iBAAA,KAAA,iBAAA,KAAA,IAAA,EAEA,KAAA,eAAA,KAAA,eAAA,KAAA,IAAA,EACA,KAAA,gBAAA,KAAA,gBAAA,KAAA,IAAA,EACA,KAAA,YAAA,KAAA,YAAA,KAAA,IAAA,EAEA,KAAA,mBAAA,KAAA,mBAAA,KAAA,IAAA,EACA,KAAA,oBAAA,KAAA,oBAAA,KAAA,IAAA,EACA,KAAA,WAAA,KAAA,WAAA,KAAA,IAAA,EACA,KAAA,UAAA,KAAA,UAAA,KAAA,IAAA,EACA,KAAA,aAAA,KAAA,aAAA,KAAA,IAAA,EACA,KAAA,yBAAA,KAAA,yBAAA,KAAA,IAAA,EACA,KAAA,mBAAA,KAAA,mBAAA,KAAA,IAAA,CAA2D,CAC7D,sBAAA,CAIE,KAAA,UAAA,SAAe,KAAA,UAAA,QAAA,oBAAA,QAAA,KAAA,gBAAA,CAE4D,CAC7E,iBAAAzX,EAAA,CAIE,MAAAstM,EAAAttM,EAAA,OACA,GAAAstM,EAAA,UAAA,KAAAA,EAAA,UAAA,SAAA,CACE,MAAAp4D,EAAAl1I,EAAA,OACA,GAAAk1I,EAAA,GAAA,UAAA,EAAA,CAAA,IAAA,MAAA,CACEl1I,EAAA,eAAA,EAEA,MAAAutM,EAAA,OAAAvtM,EAAA,cAAA,GAAA,UAAA,CAAA,CAAA,EACAwtM,EAAA,KAAA,UAAA,QAAA,cAAqC,YAAAD,GACvB,EAEd,GAAA,CACEC,EAAA,eAAA,CAAqB,SAAA,SACT,MAAA,SACH,OAAA,QACC,CAAA,CACT,OAAAlsL,EAAA,CAED,QAAA,IAAA,kBAAAA,CAAA,CAAgC,UAClCthB,EAAA,cAAA,KAAA,MAAAk1I,EAAA,aAAA,aAAA,EAAA,CAKAl1I,EAAA,eAAA,EAEA,MAAAytM,EAAAv4D,EAAA,aAAA,aAAA,EACAs4D,EAAA,KAAA,UAAA,QAAA,cAAA,IAAAC,GAAA,EACA,GAAA,CACED,EAAA,eAAA,CAAqB,SAAA,SACT,MAAA,SACH,OAAA,QACC,CAAA,CACT,OAAAlsL,EAAA,CAED,QAAA,IAAA,kBAAAA,CAAA,CAAgC,GAGtC,CACF,WAAAkqJ,EAAA,CAQE,GAAA,CAAAA,EACE,MAAA,CAAA,OAAA,IAGF,MAAAkiC,EAAA,KAAA,MAAA,aAAA,KAAA,MAAA,GAAA,aAAAliC,CAAA,EAAA,KAAA,MAAA,GAAA,OAAAA,CAAA,EAIA,MAAA,CAAA,OADA3wJ,GAAA6yL,EAAAztL,EAAA,EAC2B,CAC7B,aAAA,CAQE,GAAA,CAAA,KAAA,UAAA,QACE,OAGF,MAAA0tL,EAAA,KAAA,UAAA,QAAA,iBAAA,kBAAA,EAGAC,EAAA,IAAA,OAAA,YAAA,GAAA,EACAD,EAAA,QAAAlsM,GAAA,CACE,GAAAA,EAAA,aAAA,CAAAA,EAAA,aAAA,WAAA,EAAA,CAEEA,EAAA,aAAA,YAAA,MAAA,EACA,MAAAosM,EAAApsM,EAAA,YAAA,QAAAmsM,EAAA,EAAA,EACA,OAAA,MAAA,OAAAC,EAAApsM,EAAA,CAA0C,OAAA,OAEhC,aAAA,EACM,CAAA,EAElB,CAAA,CACD,CACH,cAAA,CAOE,kBAAA,eAAA,EACA,KAAA,WAAA,KAAA,MAAA,KAAA,QAAA,EACA,MAAAqsM,EAAA,KAAA,WAAA,kBAAA,UAAA,CAAA,EAAA,OACA,GAAAA,EAAA,OAAA,EACE,OAAAltL,EAAAosL,GAAA,CAAA,UAAAc,CAAA,CAAA,CAEF,CACF,UAAAC,EAAA,CAGE,MAAAx6J,EAAA,SAAA,cAAA,KAAA,EACA,OAAAA,EAAA,UAAAw6J,EACAx6J,EAAA,aAAAA,EAAA,WAAA,EAAyC,CAC3C,MAAA,qBAAA,CAME,KAAA,CAAA,QAAAqnD,EAAA,OAAAxB,EAAA,WAAA40G,CAAA,EAAA,KAAA,MACA,GAAA,GAAApzG,GAAA,CAAAxB,GAGA,GAAA,CACE,MAAAC,EAAA,MAAAr3E,GAAA,cAAqC,KAAA,QAAA,YACtB44E,EACbxB,EACA40G,CACA,EAEF,GAAA,CACE,MAAA10G,EAAA,MAAA,KAAA,mBAA+BF,GAAAC,EAAA,EACF,EAE7B,GAAA,KAAA,MAAA,yBAAA,CACE,MAAA40G,EAAA,KAAA,UAAuB,KAAA,WAAA50G,EAAA,QAAA,EAAA,MACc,EAErC,KAAA,MAAA,yBAAA40G,CAAA,EAEF,KAAA,SAAA,CAAc,KAAA50G,EACN,YAAAC,EACN,MAAA,MACO,CAAA,CACR,OAAA40G,EAAA,CAED,QAAA,MAAA,oBAAAA,CAAA,CAAiD,CACnD,OAAAz1G,EAAA,CAEA,QAAA,MAAA;AAAA,EAAAA,CAAA,EACA,KAAA,SAAA,CAAc,MAAAA,CACL,CAAA,CACR,CACH,CACF,MAAA,mBAAAW,EAAA,CAEE,KAAA,CAAA,QAAAwB,EAAA,WAAAozG,GAAA,KAAA,MACA,GAAA,CAAApzG,EAAA,CACE,QAAA,MAAQ,mEACN,EAEF,OAEF,OAAA,MAAA54E,GAAA,6BAA2B,KAAA,QAAA,YACZ44E,EACbxB,EACA40G,CACA,EAAA,KAAA5mL,GAGEA,CAAO,EAAA,MAAAqxE,GAAA,CAGP,QAAA,MAAA,iCAAAA,CAAA,CACO,CAAA,CACR,CACL,yBAAAr5E,EAAA,CAGE,MAAA+uL,EAAA,6DAEA,IAAAC,EAAA,EAEA,OAAAhvL,EAAA,QAAA+uL,EAAA,IAAA,CAEE,MAAAxpJ,EAAAypJ,EACA,OAAAA,GAAA,EACA,qBAAAzpJ,OAAAA,QAAyC,CAAA,CAC1C,CACH,mBAAAvlC,EAAA,CAGE,MAAAivL,EAAA,cACA,IAAAC,EAAA,EACA,MAAAC,EAAA,oCAEA,OAAAnvL,EAAA,QAAAmvL,EAAAtzL,GAAA,CAEE,MAAAuzL,EAAAF,EACA,OAAAA,GAAA,EACA,GAAArzL,EAAA,UAA6B,EAC3B,CACA,SAAAozL,IAAAG,KAAAvzL,EAAA,UAAA,CAAA,GAEK,CAAA,CACR,CACH,gBAAA,CAWE,IAAAwzL,EAAA,KAAA,WAAA,KAAA,MAAA,KAAA,QAAA,EAAA,OAKA,GAHAA,EAAA,KAAA,yBAAAA,CAAA,EAEAA,EAAA,KAAA,mBAAAA,CAAA,EACAA,EAAA,OAAA,EAAA,CAEE,MAAAC,EADA,IAAA,YACA,gBAAAD,EAAA,WAAA,EACA,OAAA7tL,EAAAyC,GAAA,CAAA,SAAA,KAAA,gBAAAqrL,EAAA,KAAAD,CAAA,CAAA,CAAA,EAEF,CACF,gBAAAhtM,EAAA+pK,EAAA,CAoBE,GAAA/pK,EAAA,WAAA,KAAA,UAEE,OAAAmf,EAAAyC,GAAA,CAAA,SAAA5hB,EAAA,WAAA,CAAA,EAA8B,GAAAA,EAAA,WAAA,KAAA,cAAAA,aAAA,YAAA,CAK9B,MAAAktM,EAAAltM,EAAA,QAAA,YAAA,IAAA,OAAA,OAAAA,EAAA,QAAA,cAIAmtM,EAAAntM,EAAA,aAAA,mBAAA,EACA,GAAAmtM,EAGE,OAAA,KAAA,yBAAAA,EAAApjC,CAAA,EAKF,MAAAqjC,EAAAptM,EAAA,WACApF,EAAA,CAAA,EACA,QAAAP,EAAA,EAAAA,EAAA+yM,EAAA,OAAA/yM,IAAA,CACE,IAAA8c,EAAA,GACAlf,EAAA,GACA,MAAAo1M,EAAAD,EAAA,KAAA/yM,CAAA,EACAgzM,IACEl2L,EAAAk2L,EAAA,KACAp1M,EAAAo1M,EAAA,OAEFl2L,GAAAlf,IACE2C,EAAAuc,CAAA,EAAAlf,GAGJ,GAAA+H,EAAA,WAAA,SAAA,EAGE,OAAAmf,EAAA+tL,EAAA,CAAA,GAAAtyM,CAAA,CAAA,EAIF,MAAAkR,EAAA,MAAA,KAAA9L,EAAA,UAAA,EAAA,IAAA,CAAA8xC,EAAAtyC,IACE2f,EAAAnJ,GAAA,SAAA,CAAA,SAAA,KAAA,gBAAA87B,EAAAi4H,CAAA,CAAA,EAAAvqK,CAAA,CAGE,EAIJ,OAAA0tM,EAAA,CAAa,IAAA,IAET,OAAA/tL,EAAA8/C,GAAA,CAAA,QAAA,QAAA,GAAArkE,EAAA,UAAAsyM,EAAA,SAAAphM,CAAA,CAAA,EAGE,IAAA,OAGF,OAAAqT,EAAA8/C,GAAA,CAAA,QAAA,QAAA,GAAArkE,EAAA,UAAAsyM,EAAA,SAAAphM,CAAA,CAAA,EAGE,IAAA,KAGF,OAAAqT,EAAA8/C,GAAA,CAAA,QAAA,YAAA,GAAArkE,EAAA,UAAAsyM,EAAA,SAAAphM,CAAA,CAAA,EAGE,IAAA,KAGF,OAAAqT,EAAA8/C,GAAA,CAAA,QAAA,YAAA,GAAArkE,EAAA,UAAAsyM,EAAA,SAAAphM,CAAA,CAAA,EAGE,IAAA,KAGF,OAAAqT,EAAA8/C,GAAA,CAAA,QAAA,YAAA,GAAArkE,EAAA,UAAAsyM,EAAA,SAAAphM,CAAA,CAAA,EAGE,IAAA,KAGF,OAAAqT,EAAA8/C,GAAA,CAAA,QAAA,QAAA,GAAArkE,EAAA,UAAAsyM,EAAA,SAAAphM,CAAA,CAAA,EAGE,IAAA,KAGF,OAAAqT,EAAA8/C,GAAA,CAAA,QAAA,QAAA,GAAArkE,EAAA,UAAAsyM,EAAA,SAAAphM,CAAA,CAAA,EAGE,IAAA,IAGF,OAAAqT,EAAAonJ,GAAA,CAAA,GAAA3rK,EAAA,UAAAsyM,EAAA,SAAAphM,CAAA,CAAA,EAGE,QAGF,OAAAqT,EAAA+tL,EAAA,CAAA,GAAAtyM,EAAA,SAAAkR,CAAA,CAAA,CAAiC,EAEvC,CACF,UAAAwhM,EAAA,CAWE,MAAAC,EAAA,CAAkC,QAAA,IACvB,OAAA,IACD,OAAA,IACA,SAAA,GACE,EAEZ,OAAAD,EAAA,QAAW,4BACT,CAAA11L,EAAA1G,IAEEq8L,EAAAr8L,CAAA,CACF,CACF,CACF,yBAAAi8L,EAAAzC,EAAA,CAsBE,MAAA8C,EAAA,KAAA,UAAAL,CAAA,EAGAM,EAAAD,EAAA,QAAA,GAAA,EACA,GAAAC,IAAA,GAEE,OAAAtuL,EACEisL,GAAC,CAAA,WAAAoC,EAEa,mBAAA,CAAA,EACS,eAAA9C,CACrB,EAAA,KAAA,UAAA8C,CAAA,CAHuC,EAO7C,MAAAnC,EAAAmC,EAAA,UAAA,EAAAC,CAAA,EACA/uL,EAAA,CAAA,EAEA,OAAA8uL,EAAA,UAAAC,EAAA,CAAA,EAAA,MAAA,GAAA,EAAA,QAAAC,GAAA,CAII,GAAA,CAAAx9L,EAAAjY,CAAA,EAAAy1M,EAAA,MAAA,GAAA,EACAz1M,EAAA,mBAAAA,CAAA,EACAymB,EAAAxO,CAAA,EAAAjY,CAA0B,CAAA,EAE9BknB,EACEisL,GAAC,CAAA,WAAAC,EAEC,mBAAA3sL,EACA,eAAAgsL,CACA,EAAA,KAAA,UAAA8C,CAAA,CAHuC,CAIzC,CAEJ,MAAA,mBAAA,CAGE,GAAA,KAAA,MAAA,KAAA,SAAA,CAEE,GADA,KAAA,SAAA,CAAA,UAAA,EAAA,CAAA,EACA,KAAA,MAAA,yBAAA,CACE,MAAAhB,EAAA,KAAA,UAAuB,KAAA,WAAA,KAAA,MAAA,KAAA,QAAA,EAAA,MACqB,EAE5C,KAAA,MAAA,yBAAAA,CAAA,EAEF,OAIF,KAAA,UAAA,SAAe,KAAA,UAAA,QAAA,iBAAA,QAAA,KAAA,gBAAA,EAKf,MAAA,KAAA,sBACA,KAAA,YAAA,EACA,KAAA,SAAA,CAAA,UAAA,EAAA,CAAA,CAAkC,CACpC,MAAA,mBAAA5zM,EAAA,CAIE,IAAA6uK,EAAA,KAAA,MAAA,UAAA7uK,EAAA,QACA6uK,EAAAA,GAAA,KAAA,MAAA,SAAA7uK,EAAA,OAGA6uK,GACE,MAAA,KAAA,sBAEF,KAAA,YAAA,CAAiB,CACnB,QAAA,CAGE,KAAA,CAAA,aAAAkmC,EAAA,wBAAAC,GAAA,KAAA,MACA,CAAA,UAAAltL,EAAA,MAAAs8F,GAAA,KAAA,MAEAzlB,EAAA,CAA4C,QAAA,KAAA,MAAA,QACtB,OAAA,KAAA,MAAA,OACD,SAAA,KAAA,MAAA,KACE,YAAA,KAAA,MAAA,WACG,EAG1B,GAAAylB,EACE,OAAA79F,EAAAmwJ,GAAA,CAAA,MAAAtyD,CAAA,CAAA,EAEF,MAAA6wF,EAAA,KAAA,eACAvrL,EAAAX,EAAA21E,GAAA,CAAA,YAAAC,EAAA,SAAA,CAEK72E,GAAAvB,EAAAyC,GAAA,CAAA,SAAAgsL,EAAAzuL,EAAAmG,GAAA,CAAA,QAAA,EAAA,QAAAsoL,CAAA,CAAA,EAAAzuL,EAAA,OAAA,CAAA,UAAA,SAAA,CAAA,EAAA,EAOC,KAAA,eAAA,EAEmB0uL,GAAA1uL,EAAA,MAAA,CAAA,SAAA,KAAA,aAAA,EAAA,CACmB,CAAA,CAAA,EAG5C,OAAAwuL,EACExuL,EAAA,OAAA,CAAA,UAAA,2BAAA,IAAA,KAAA,UAAA,SAAAmD,CAAA,CAAA,EAMFnD,EAAA,MAAA,CAAA,UAAA,WAAA,IAAA,KAAA,UAAA,SAAAmD,CAAA,CAAA,CAGE,CAGN,CAtjBS60E,GAJFhyE,GAIE,cAAAiyE,ktDC9DF,MAAA02G,GAAAvpM,GAAoD,CAAA,CAAA,UAAAO,EAAA,GAAAlK,CAAA,IAAAukB,EAAA6/C,GAAA,CAAA,GAAApkE,EAAA,QAAA,CAAA,OAAAkK,CAAA,CAAA,CAAA,CAI3D,EAAA,CAAA,CAAA,MAAAL,MAAA,CAAkB,CAAA,MAAAspM,GAAA,SAAA,EAAA,CACkB,gBAAAtpM,EAAA,QAAA,OAAA,MACM,MAAAA,EAAA,QAAA,KAAA,GAAA,EACR,UAAAA,EAAA,QAAA,CAAA,EACJ,OAAA,aAAAA,EAAA,QAAA,KAAA,GAAA,GACiB,EAC7C,CAAA,MAAAspM,GAAA,OAAA,EAAA,CACgC,WAAA,CAClB,UAAAtpM,EAAA,QAAA,CAAA,EACgB,OAAA,aAAAA,EAAA,QAAA,KAAA,GAAA,GACiB,EAC7C,MAAAA,EAAA,QAAA,OAAA,KAC4B,CAEhC,EAAA,wMCOA,MAAAupM,GAAA,CAAoB,QAAA,OACT,eAAA,gBACO,cAAA,cACD,WAAA,CACH,SAAA,EACA,SAAA,KACA,CAEd,EAEOC,GAAA,CAAA,CAAwE,SAAAniM,EAC7E,aAAAoiM,EACA,UAAAC,EAAA,eACY,gBAAAC,EAAA,GACM,aAAAC,EAClB,GAAAxwH,EACA,SAAAywH,EAAA,QACW,SAAAC,EAAA,OAEb,IAAA,CACE,KAAA,CAAAt+B,EAAAiE,CAAA,EAAAhzJ,EAAA,SAAA,EAAA,EAEAoB,EAAAX,EAAA0gJ,GAAA,CAAA,GAAA,CAAA,QAAA,MAAA,EAAA,SAAA,CAEIljJ,EAAA8/C,GAAA,CAAA,QAAA,QAAA,aAAA,EAAA,SAAA9/C,EAAAgG,GAAA,CAAA,GAAA+oL,CAAA,CAAA,CAAA,CAAA,EAEAvsL,EAAA0gJ,GAAA,CAAA,GAAA2rC,GAAA,SAAA,CAEGK,GAAAlvL,EACCw9I,GAAC,CAAA,MAAA0xC,EAAA,OAAA,UAC8B,QAAAA,EAAA,SAAA,YACI,QAAA,IAAA,CAE/BA,EAAA,QAAA,EACAA,EAAA,qBACEn6B,EAAA,EAAA,CACF,EACF,SAAAm6B,EAAA,OAEc,CAAA,EAChBD,GAAAjvL,EAAAw9I,GAAA,CAAA,QAAA,WAAA,QAAA,IAAAuX,EAAA,EAAA,EAAA,SAAA,OAAA,CAAA,CAKA,EAAA,CAEJ,CAAA,CAAA,EAIJ,OAAA/0J,EACE2uL,GAAC,CAAA,MAAAxrL,EACQ,UAAA6rL,EACP,QAAA,IAAAj6B,EAAA,CAAAjE,CAAA,EAC4B,KAAAA,EACtB,GAAA,CACF,GAAApyF,EACC,CAAA,MAAAkwH,GAAA,SAAA,EAAA,CAC+B,SAAA,CAAA,SAAAO,CAAA,EACX,SAAA,CAAA,SAAAC,CAAA,CACA,CACvB,EACF,SAAApvL,EAEAkjJ,GAAC,CAAA,KAAA,SACM,UAAA,mBACM,GAAA,CAAA,QAAA,eAAA,OAAA,SAAA,EACsC,SAAAv2J,CAEhD,CAAA,CACH,CAAA,CAGN,+3CC1FO,MAAAqkF,GAAA,CAAA,CAAgE,aAAAq+G,EACrE,QAAAzvG,EACA,UAAAovG,EAAA,SACY,gBAAAC,EAAA,GACM,UAAAtpM,EAAA,EAEpB,IASEqa,EAAAyC,GAAA,CAAA,SAAAzC,EAEI8uL,GAAC,CAAA,aAAA,CAAA,SAAAO,CAAA,EACwC,UAAAL,EACvC,aAZNpvG,EAAA,CACI,QAAA5/E,EAAAyC,GAAA,CAAA,SAAA,WAAA,CAAA,EACsB,oBAAA,GACC,QAAA,IAAA,OAAA,KAAAm9E,EAAA,QAAA,EACuB,MAAA,SACrC,EAAA,OAQO,gBAAAqvG,EACd,SAAA,QACS,SAAAjvL,EAAAsvL,GAAA,CAAA,UAAA,cAAA3pM,IAAA,CAEiD,CAAA,CAAA,CAAA,m3BChB3D,MAAA4pM,GAAA,QAEAC,GAAA,CAAA,CAAiD,GAAA9wH,EAAA,CAAA,MAAA,UAAA,EAC7B,QAAAjkC,CAE3B,IACEz6B,EAAA5Y,GAAA,CAAA,GAAAs3E,EAAA,QAAAjkC,EAAA,aAAA80J,GAAA,SAAAvvL,EAAAyvL,GAAA,CAAA,CAAA,CAAA,CAAA,EAyBKlyC,GAAA,CAAA,CAAoB,KAAAh+J,EACzB,MAAA65F,EACA,QAAAj2E,EACA,QAAAgnJ,EACA,UAAAxkK,EACA,SAAA6hK,EACA,eAAAkoC,EAAA,GACiB,sBAAAC,EACjB,SAAAR,EAAA,KACW,UAAA3oM,EAAA,GACC,GAAAk4E,EACZ,aAAAqwH,EAAA,CAAA,CAEF,IACEvsL,EACEssJ,GAAC,CAAA,UAAAtoK,EACC,SAAA2oM,EACA,KAAA5vM,EACA,UAAAoG,EACA,QAAA,IAAA6hK,EAAA,EACwB,GAAA9oF,EACxB,SAAA,CAEA1+D,EAAAijJ,GAAA,CAAA,SAAAzgJ,EAAAy0D,GAAA,CAAA,UAAA,MAAA,WAAA,SAAA,IAAA,MAAA,SAAA,CAEKmiB,EAAAu2G,GAAA3vL,EAAAgxE,GAAA,CAAA,GAAA2+G,CAAA,CAAA,EACiE3vL,EAAAkjJ,GAAA,CAAA,GAAA,CAAA,SAAA,CAAA,EAAA,EACxCwsC,GAAA1vL,EAAAwvL,GAAA,CAAA,QAAA,IAAAhoC,EAAA,EAAA,CACiC,CAAA,CAAA,CAAA,CAAA,EAE/DxnJ,EAAAmjJ,GAAA,CAAA,GAAA4rC,EAAA,SAAA5rL,CAAA,CAAA,EAC0CgnJ,GAAAnqJ,EAAAojJ,GAAA,CAAA,SAAA+G,CAAA,CAAA,CACN,CAAA,CAAA,irDCrEnC,MAAAylC,GAAA,SAEA,SAAAC,GAAAp0M,EAAA,CACL,OAAAukB,EAAAw9I,GAAA,CAAA,QAAA,WAAA,QAAA,IAAA/hK,EAAA,SAAA,EAAA,SAAAm0M,EAAA,CAAA,CAKF,CAEO,MAAAE,GAAAr0M,GAAA,CACL,KAAA,CAAM,kBAAA28K,EAAA,KACgB,uBAAA23B,EACpB,mBAAAC,EAAA,UACqB,qBAAAC,EAAA,YACE,sBAAAC,EAAA,GACC,UAAAC,EACxB,SAAA3oC,EACA,gBAAA4oC,EAAA,EACkB,EAAA30M,EAEpB,OAAA+mB,EAAAC,GAAA,CAAA,SAAA,CAEK2tL,GAAApwL,EAAA6vL,GAAA,CAAA,SAAAroC,CAAA,CAAA,EAAqDxnJ,EACtDw9I,GAAC,CAAA,QAAAyyC,EACU,UAAAF,EACE,MAAAC,EACJ,QAAAG,EACE,SAAAD,EACC,SAAA93B,CAET,CAAA,CACH,CAAA,CAAA,CAGN,EAOO,SAAAzG,GAAAl2K,EAAA,CACL,KAAA,CAAM,kBAAA28K,EACJ,uBAAA23B,EACA,mBAAAC,EACA,qBAAAC,EACA,sBAAAC,EACA,UAAAC,EACA,SAAA3oC,EACA,gBAAA4oC,EACA,GAAA/mK,CACG,EAAA5tC,EAEL,OAAAukB,EACEu9I,GAAC,CAAA,SAAAiK,EACC,QAAAxnJ,EAEE8vL,GAAC,CAAA,kBAAA13B,EACC,uBAAA23B,EACA,mBAAAC,EACA,qBAAAC,EACA,sBAAAC,EACA,UAAAC,EACA,SAAA3oC,EACA,gBAAA4oC,CACA,CAAA,EACF,GAAA/mK,CAEE,CAAA,CAGV","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,24,25,26,27,28,29,30,31,32,33,34,35,36,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,167,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,384,385,386,387,388,389,390,391,392,393,394,395,396,397,398,399,400,401,402,403,404,405,406,407,408,409,410,411,412,413,485,487,497,498,499,500,501,502,503,504,505,506,507,508,509,510,511,512,513,514,515,516,517,518,519,520,521,522,528,529]}