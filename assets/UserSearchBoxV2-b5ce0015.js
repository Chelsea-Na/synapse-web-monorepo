import{j as u}from"./jsx-runtime-670450c2.js";import{r as l,R as m}from"./index-f1f749bf.js";import{S as _}from"./react-select.esm-32f3c5f2.js";import"./index-5643b5a3.js";import{a as v,U as h}from"./UserOrTeamBadge-7e8f91c4.js";import{u as E}from"./useGetInfoFromIds-42f03bd0.js";import{S as x}from"./Skeleton-58bfd0fa.js";import{d as p}from"./Select-40119e12.esm-dfca749b.js";const C=(r,a,t)=>{l.useEffect(()=>{const s=setTimeout(()=>r(),t);return()=>clearTimeout(s)},[...a||[],t])},H={Control:r=>u(p.Control,{...r,className:`form-control ${r.className??""}`}),SingleValue:r=>{const{data:a}=r;return l.createElement(p.SingleValue,{...r,key:a.id},u(h,{userGroupHeader:a.header,disableHref:!0,showFullName:!0},a.header.ownerId))},Option:r=>{const{data:a}=r;return l.createElement(p.Option,{...r,key:a.id},u(h,{userGroupHeader:a.header,disableHref:!0,showFullName:!0}))}},f=r=>{const{inputId:a,defaultValue:t=null,onChange:s,filterPredicate:S,typeFilter:g,placeholder:V,focusOnSelect:y=!1}=r,[n,I]=l.useState(""),[d,U]=l.useState("");C(()=>{U(n)},[n],500);const[i=void 0]=E({ids:t?[t]:[],type:"USER_PROFILE"}),{data:b,isLoading:o}=v(d,g),c=m.useRef(null);m.useEffect(()=>{y&&c.current&&c.current.focus()});const N=l.useMemo(()=>o||n!==d?()=>"Loadingâ€¦":void 0,[o,d,n]),O=(b??[]).filter(S??(()=>!0)).map(e=>({id:e.ownerId.toString(),value:e.ownerId.toString(),label:e.userName,header:e}));return t&&i==null?u(x,{width:"100%"}):u(_,{className:"bootstrap-4-backport UserSearchBoxV2",ref:c,inputValue:n,onInputChange:I,filterOption:()=>!0,isLoading:o,options:!o&&O||[],noOptionsMessage:N,defaultValue:t?{id:t,value:t,label:i.userName,header:i}:void 0,inputId:a,isClearable:!0,styles:{control:e=>({...e,display:"flex !important"}),input:e=>({...e,input:{gridArea:"1 / 2 / 4 / 4 !important"}})},components:H,onChange:e=>{s&&s((e==null?void 0:e.id)??null,(e==null?void 0:e.header)??null)},placeholder:V})},P=f;try{f.displayName="UserSearchBoxV2",f.__docgenInfo={description:"",displayName:"UserSearchBoxV2",props:{inputId:{defaultValue:null,description:"",name:"inputId",required:!1,type:{name:"string"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((principalId: string | null, header: UserGroupHeader | null) => void)"}},typeFilter:{defaultValue:null,description:"",name:"typeFilter",required:!1,type:{name:"enum",value:[{value:'"USERS_ONLY"'},{value:'"TEAMS_ONLY"'},{value:'"ALL"'}]}},filterPredicate:{defaultValue:null,description:"",name:"filterPredicate",required:!1,type:{name:"((item: UserGroupHeader) => boolean)"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},focusOnSelect:{defaultValue:null,description:"",name:"focusOnSelect",required:!1,type:{name:"boolean"}}}}}catch{}export{P as U,C as u};
//# sourceMappingURL=UserSearchBoxV2-b5ce0015.js.map
