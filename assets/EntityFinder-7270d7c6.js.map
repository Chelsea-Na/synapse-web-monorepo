{"version":3,"file":"EntityFinder-7270d7c6.js","sources":["../../../../node_modules/.pnpm/@mui+icons-material@5.11.0_m3y2ykptchyoygtoroit6l3ehq/node_modules/@mui/icons-material/esm/ChatBubbleTwoTone.js","../../../../node_modules/.pnpm/@mui+icons-material@5.11.0_m3y2ykptchyoygtoroit6l3ehq/node_modules/@mui/icons-material/esm/DescriptionTwoTone.js","../../../../node_modules/.pnpm/@mui+icons-material@5.11.0_m3y2ykptchyoygtoroit6l3ehq/node_modules/@mui/icons-material/esm/LinkOffTwoTone.js","../../../../node_modules/.pnpm/@mui+icons-material@5.11.0_m3y2ykptchyoygtoroit6l3ehq/node_modules/@mui/icons-material/esm/LocalOfferTwoTone.js","../../src/lib/utils/hooks/SynapseAPI/search/useSearch.ts","../../src/lib/utils/hooks/SynapseAPI/user/useProjects.ts","../../../../node_modules/.pnpm/@babel+runtime@7.20.13/node_modules/@babel/runtime/helpers/esm/objectSpread.js","../../../../node_modules/.pnpm/react-reflex@4.0.9_biqbaboplfbrettd7655fr4n2y/node_modules/react-reflex/dist/es/utilities.js","../../../../node_modules/.pnpm/react-reflex@4.0.9_biqbaboplfbrettd7655fr4n2y/node_modules/react-reflex/dist/es/ReflexSplitter.js","../../../../node_modules/.pnpm/react-reflex@4.0.9_biqbaboplfbrettd7655fr4n2y/node_modules/react-reflex/dist/es/ReflexEvents.js","../../../../node_modules/.pnpm/react-reflex@4.0.9_biqbaboplfbrettd7655fr4n2y/node_modules/react-reflex/dist/es/Polyfills.js","../../../../node_modules/.pnpm/react-reflex@4.0.9_biqbaboplfbrettd7655fr4n2y/node_modules/react-reflex/dist/es/ReflexContainer.js","../../../../node_modules/.pnpm/react-reflex@4.0.9_biqbaboplfbrettd7655fr4n2y/node_modules/react-reflex/dist/es/ReflexHandle.js","../../../../node_modules/.pnpm/lodash.throttle@4.1.1/node_modules/lodash.throttle/index.js","../../../../node_modules/.pnpm/resize-observer-polyfill@1.5.1/node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js","../../../../node_modules/.pnpm/react-measure@2.5.2_biqbaboplfbrettd7655fr4n2y/node_modules/react-measure/dist/index.esm.js","../../../../node_modules/.pnpm/react-reflex@4.0.9_biqbaboplfbrettd7655fr4n2y/node_modules/react-reflex/dist/es/ReflexElement.js","../../src/lib/containers/entity_finder/Breadcrumbs.tsx","../../src/lib/utils/hooks/useGetIsAllSelectedInfiniteList.ts","../../../../node_modules/.pnpm/memoize-one@5.2.1/node_modules/memoize-one/dist/memoize-one.esm.js","../../../../node_modules/.pnpm/react-window@1.8.8_biqbaboplfbrettd7655fr4n2y/node_modules/react-window/dist/index.esm.js","../../../../node_modules/.pnpm/@sage-bionetworks+react-base-table@1.13.2_biqbaboplfbrettd7655fr4n2y/node_modules/@sage-bionetworks/react-base-table/es/TableHeader.js","../../../../node_modules/.pnpm/@sage-bionetworks+react-base-table@1.13.2_biqbaboplfbrettd7655fr4n2y/node_modules/@sage-bionetworks/react-base-table/es/utils.js","../../../../node_modules/.pnpm/@sage-bionetworks+react-base-table@1.13.2_biqbaboplfbrettd7655fr4n2y/node_modules/@sage-bionetworks/react-base-table/es/GridTable.js","../../../../node_modules/.pnpm/@sage-bionetworks+react-base-table@1.13.2_biqbaboplfbrettd7655fr4n2y/node_modules/@sage-bionetworks/react-base-table/es/TableHeaderRow.js","../../../../node_modules/.pnpm/@sage-bionetworks+react-base-table@1.13.2_biqbaboplfbrettd7655fr4n2y/node_modules/@sage-bionetworks/react-base-table/es/TableRow.js","../../../../node_modules/.pnpm/@sage-bionetworks+react-base-table@1.13.2_biqbaboplfbrettd7655fr4n2y/node_modules/@sage-bionetworks/react-base-table/es/TableHeaderCell.js","../../../../node_modules/.pnpm/@sage-bionetworks+react-base-table@1.13.2_biqbaboplfbrettd7655fr4n2y/node_modules/@sage-bionetworks/react-base-table/es/TableCell.js","../../../../node_modules/.pnpm/@sage-bionetworks+react-base-table@1.13.2_biqbaboplfbrettd7655fr4n2y/node_modules/@sage-bionetworks/react-base-table/es/Column.js","../../../../node_modules/.pnpm/@sage-bionetworks+react-base-table@1.13.2_biqbaboplfbrettd7655fr4n2y/node_modules/@sage-bionetworks/react-base-table/es/SortOrder.js","../../../../node_modules/.pnpm/@sage-bionetworks+react-base-table@1.13.2_biqbaboplfbrettd7655fr4n2y/node_modules/@sage-bionetworks/react-base-table/es/ExpandIcon.js","../../../../node_modules/.pnpm/@sage-bionetworks+react-base-table@1.13.2_biqbaboplfbrettd7655fr4n2y/node_modules/@sage-bionetworks/react-base-table/es/SortIndicator.js","../../../../node_modules/.pnpm/@sage-bionetworks+react-base-table@1.13.2_biqbaboplfbrettd7655fr4n2y/node_modules/@sage-bionetworks/react-base-table/es/ColumnResizer.js","../../../../node_modules/.pnpm/@sage-bionetworks+react-base-table@1.13.2_biqbaboplfbrettd7655fr4n2y/node_modules/@sage-bionetworks/react-base-table/es/ColumnManager.js","../../../../node_modules/.pnpm/@sage-bionetworks+react-base-table@1.13.2_biqbaboplfbrettd7655fr4n2y/node_modules/@sage-bionetworks/react-base-table/es/BaseTable.js","../../../../node_modules/.pnpm/react-virtualized-auto-sizer@1.0.7_biqbaboplfbrettd7655fr4n2y/node_modules/react-virtualized-auto-sizer/dist/index.esm.js","../../../../node_modules/.pnpm/@sage-bionetworks+react-base-table@1.13.2_biqbaboplfbrettd7655fr4n2y/node_modules/@sage-bionetworks/react-base-table/es/AutoResizer.js","../../src/lib/containers/entity_finder/VersionSelectionType.ts","../../src/lib/containers/EntityBadgeIcons.tsx","../../src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx","../../src/lib/containers/entity_finder/details/view/VersionColumnHeader.tsx","../../src/lib/containers/entity_finder/details/view/DetailsView.tsx","../../src/lib/containers/entity_finder/details/configurations/EntityChildrenDetails.tsx","../../src/lib/containers/entity_finder/details/configurations/FavoritesDetails.tsx","../../src/lib/containers/entity_finder/details/configurations/ProjectListDetails.tsx","../../src/lib/containers/entity_finder/details/configurations/SearchDetails.tsx","../../src/lib/containers/entity_finder/details/EntityDetailsList.tsx","../../src/lib/containers/entity_finder/SelectionPane.tsx","../../../../node_modules/.pnpm/react-merge-refs@1.1.0/node_modules/react-merge-refs/dist/react-merge-refs.esm.js","../../../../node_modules/.pnpm/react-vtree@3.0.0-beta.3_bgu4ymtj2f6gbdjyrvl3ycsuia/node_modules/react-vtree/dist/es/utils.js","../../../../node_modules/.pnpm/react-vtree@3.0.0-beta.3_bgu4ymtj2f6gbdjyrvl3ycsuia/node_modules/react-vtree/dist/es/Tree.js","../../../../node_modules/.pnpm/react-vtree@3.0.0-beta.3_bgu4ymtj2f6gbdjyrvl3ycsuia/node_modules/react-vtree/dist/es/VariableSizeTree.js","../../src/lib/containers/entity_finder/tree/VirtualizedTree.tsx","../../src/lib/containers/entity_finder/tree/EntityTree.tsx","../../src/lib/containers/entity_finder/useEntitySelection.ts","../../src/lib/containers/entity_finder/EntityFinder.tsx"],"sourcesContent":["import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon([/*#__PURE__*/_jsx(\"path\", {\n  d: \"m4 18 2-2h14V4H4z\",\n  opacity: \".3\"\n}, \"0\"), /*#__PURE__*/_jsx(\"path\", {\n  d: \"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z\"\n}, \"1\")], 'ChatBubbleTwoTone');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon([/*#__PURE__*/_jsx(\"path\", {\n  d: \"M13 4H6v16h12V9h-5V4zm3 14H8v-2h8v2zm0-6v2H8v-2h8z\",\n  opacity: \".3\"\n}, \"0\"), /*#__PURE__*/_jsx(\"path\", {\n  d: \"M8 16h8v2H8zm0-4h8v2H8zm6-10H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11z\"\n}, \"1\")], 'DescriptionTwoTone');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M14.39 11 16 12.61V11zM17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.27-.77 2.37-1.87 2.84l1.4 1.4C21.05 15.36 22 13.79 22 12c0-2.76-2.24-5-5-5zM2 4.27l3.11 3.11C3.29 8.12 2 9.91 2 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-1.59 1.21-2.9 2.76-3.07L8.73 11H8v2h2.73L13 15.27V17h1.73l4.01 4.01 1.41-1.41L3.41 2.86 2 4.27z\"\n}), 'LinkOffTwoTone');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon([/*#__PURE__*/_jsx(\"path\", {\n  d: \"M11 4H4v7l9 9.01L20 13l-9-9zM6.5 8C5.67 8 5 7.33 5 6.5S5.67 5 6.5 5 8 5.67 8 6.5 7.33 8 6.5 8z\",\n  opacity: \".3\"\n}, \"0\"), /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12.41 2.58C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58s1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41s-.23-1.06-.59-1.42l-9-9zM13 20.01 4 11V4h7v-.01l9 9-7 7.02z\"\n}, \"1\"), /*#__PURE__*/_jsx(\"circle\", {\n  cx: \"6.5\",\n  cy: \"6.5\",\n  r: \"1.5\"\n}, \"2\")], 'LocalOfferTwoTone');","import {\n  QueryFunctionContext,\n  useInfiniteQuery,\n  UseInfiniteQueryOptions,\n  useQuery,\n  UseQueryOptions,\n} from 'react-query'\nimport { SynapseClient } from '../../..'\nimport { SynapseClientError } from '../../../SynapseClientError'\nimport { useSynapseContext } from '../../../SynapseContext'\nimport { SearchQuery, SearchResults } from '../../../synapseTypes/Search'\n\nexport function useSearch(\n  query: SearchQuery,\n  options?: UseQueryOptions<SearchResults, SynapseClientError, SearchResults>,\n) {\n  const { accessToken } = useSynapseContext()\n  return useQuery<SearchResults, SynapseClientError>(\n    ['search', accessToken, query],\n    () => SynapseClient.searchEntities(query, accessToken),\n    options,\n  )\n}\n\nexport function useSearchInfinite(\n  query: Omit<SearchQuery, 'start'>,\n  options?: UseInfiniteQueryOptions<\n    SearchResults,\n    SynapseClientError,\n    SearchResults\n  >,\n) {\n  const { accessToken } = useSynapseContext()\n\n  return useInfiniteQuery<SearchResults, SynapseClientError>(\n    ['search', accessToken, query],\n    async (context: QueryFunctionContext) => {\n      return SynapseClient.searchEntities(\n        { ...query, start: context.pageParam },\n        accessToken,\n      )\n    },\n    {\n      ...options,\n      getNextPageParam: prevPage => {\n        if (prevPage.start + prevPage.hits.length === prevPage.found) {\n          return null\n        } else {\n          return prevPage.start + prevPage.hits.length\n        }\n      },\n    },\n  )\n}\n","import {\n  useInfiniteQuery,\n  UseInfiniteQueryOptions,\n  useQuery,\n  UseQueryOptions,\n} from 'react-query'\nimport { SynapseClient } from '../../..'\nimport { SynapseClientError } from '../../../SynapseClientError'\nimport { useSynapseContext } from '../../../SynapseContext'\nimport { ProjectHeaderList } from '../../../synapseTypes'\nimport { GetProjectsParameters } from '../../../synapseTypes/GetProjectsParams'\n\nexport function useGetProjects(\n  params?: GetProjectsParameters,\n  options?: UseQueryOptions<\n    ProjectHeaderList,\n    SynapseClientError,\n    ProjectHeaderList\n  >,\n) {\n  const { accessToken } = useSynapseContext()\n  return useQuery<ProjectHeaderList, SynapseClientError>(\n    ['myProjects', accessToken, params],\n    () => SynapseClient.getMyProjects(accessToken!, params),\n    options,\n  )\n}\n\nexport function useGetProjectsInfinite(\n  params: GetProjectsParameters,\n  options?: UseInfiniteQueryOptions<\n    ProjectHeaderList,\n    SynapseClientError,\n    ProjectHeaderList\n  >,\n) {\n  const { accessToken } = useSynapseContext()\n\n  return useInfiniteQuery<ProjectHeaderList, SynapseClientError>(\n    ['myProjects', accessToken, params],\n    async context => {\n      return await SynapseClient.getMyProjects(accessToken!, {\n        ...params,\n        nextPageToken: context.pageParam,\n      })\n    },\n    {\n      ...options,\n      getNextPageParam: page => page.nextPageToken,\n    },\n  )\n}\n","import defineProperty from \"./defineProperty.js\";\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? Object(arguments[i]) : {};\n    var ownKeys = Object.keys(source);\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys.push.apply(ownKeys, Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n  return target;\n}","import _objectSpread from \"@babel/runtime/helpers/objectSpread\";\n\n/////////////////////////////////////////////////////////\n// Browser Utils\n//\n/////////////////////////////////////////////////////////\nclass Browser {\n  // Check if not running on server\n  static isBrowser() {\n    return typeof window !== 'undefined';\n  } // Opera 8.0+ (UA detection to detect Blink/v8-powered Opera)\n\n\n  static isOpera() {\n    return Browser.isBrowser() && (!!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0);\n  } // Firefox 1.0+\n\n\n  static isFirefox() {\n    return Browser.isBrowser() && typeof InstallTrigger !== 'undefined';\n  } // Safari 3.0+\n\n\n  static isSafari() {\n    if (!Browser.isBrowser()) {\n      return false;\n    }\n\n    return /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n  } // Internet Explorer 6-11\n\n\n  static isIE() {\n    /*@cc_on!@*/\n    return Browser.isBrowser() && !!document.documentMode;\n  } // Edge 20+\n\n\n  static isEdge() {\n    return Browser.isBrowser() && !Browser.isIE() && !!window.StyleMedia;\n  } // Chrome 1+\n\n\n  static isChrome() {\n    return Browser.isBrowser() && !!window.chrome && !!window.chrome.webstore;\n  } // Blink engine detection\n\n\n  static isBlink() {\n    return Browser.isBrowser() && (Browser.isChrome() || Browser.isOpera()) && !!window.CSS;\n  }\n\n  static getUserAgent() {\n    return typeof navigator === 'undefined' ? '' : navigator.userAgent;\n  }\n\n  static isAndroid() {\n    return Browser.isBrowser() && Browser.getUserAgent().match(/Android/i);\n  }\n\n  static isBlackBerry() {\n    return Browser.isBrowser() && Browser.getUserAgent().match(/BlackBerry/i);\n  }\n\n  static isIOS() {\n    return Browser.isBrowser() && Browser.getUserAgent().match(/iPhone|iPad|iPod/i);\n  }\n\n  static isOpera() {\n    return Browser.isBrowser() && Browser.getUserAgent().match(/Opera Mini/i);\n  }\n\n  static isWindows() {\n    return Browser.isBrowser() && Browser.isWindowsDesktop() || Browser.isWindowsMobile();\n  }\n\n  static isWindowsMobile() {\n    return Browser.isBrowser() && Browser.getUserAgent().match(/IEMobile/i);\n  }\n\n  static isWindowsDesktop() {\n    return Browser.isBrowser() && Browser.getUserAgent().match(/WPDesktop/i);\n  }\n\n  static isMobile() {\n    return Browser.isBrowser() && (Browser.isWindowsMobile() || Browser.isBlackBerry() || Browser.isAndroid() || Browser.isIOS());\n  }\n\n} /////////////////////////////////////////////////////////\n// Returns only the props that start with \"data-\"\n//\n/////////////////////////////////////////////////////////\n\n\nconst getDataProps = props => {\n  return Object.keys(props).reduce((prev, key) => {\n    if (key.substr(0, 5) === 'data-') {\n      return _objectSpread({}, prev, {\n        [key]: props[key]\n      });\n    }\n\n    return prev;\n  }, {});\n};\n\nexport { getDataProps, Browser };","import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n///////////////////////////////////////////////////////////\n// ReflexSplitter\n// By Philippe Leefsma\n// December 2016\n//\n///////////////////////////////////////////////////////////\nimport { Browser, getDataProps } from './utilities';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport default class ReflexSplitter extends React.Component {\n  static isA(element) {\n    if (!element) {\n      return false;\n    } //https://github.com/leefsmp/Re-Flex/issues/49\n\n\n    return process.env.NODE_ENV === 'development' ? element.type === React.createElement(ReflexSplitter, null).type : element.type === ReflexSplitter;\n  }\n\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"ref\", React.createRef());\n\n    _defineProperty(this, \"onMouseMove\", event => {\n      if (this.state.active) {\n        const domElement = this.ref.current;\n        this.props.events.emit('resize', {\n          index: this.props.index,\n          domElement,\n          event\n        });\n\n        if (this.props.onResize) {\n          this.props.onResize({\n            component: this,\n            domElement\n          });\n        }\n\n        event.stopPropagation();\n        event.preventDefault();\n      }\n    });\n\n    _defineProperty(this, \"onMouseDown\", event => {\n      this.setState({\n        active: true\n      });\n\n      if (this.props.onStartResize) {\n        // cancels resize from controller\n        // if needed by returning true\n        // to onStartResize\n        if (this.props.onStartResize({\n          domElement: this.ref.current,\n          component: this\n        })) {\n          return;\n        }\n      }\n\n      this.props.events.emit('startResize', {\n        index: this.props.index,\n        event\n      });\n    });\n\n    _defineProperty(this, \"onMouseUp\", event => {\n      if (this.state.active) {\n        this.setState({\n          active: false\n        });\n\n        if (this.props.onStopResize) {\n          this.props.onStopResize({\n            domElement: this.ref.current,\n            component: this\n          });\n        }\n\n        this.props.events.emit('stopResize', {\n          index: this.props.index,\n          event\n        });\n      }\n    });\n\n    this.state = {\n      active: false\n    };\n    this.document = props.document;\n  }\n\n  componentDidMount() {\n    if (!this.document) {\n      return;\n    }\n\n    this.document.addEventListener('touchend', this.onMouseUp);\n    this.document.addEventListener('mouseup', this.onMouseUp);\n    this.document.addEventListener('mousemove', this.onMouseMove, {\n      passive: false\n    });\n    this.document.addEventListener('touchmove', this.onMouseMove, {\n      passive: false\n    });\n  }\n\n  componentWillUnmount() {\n    if (!this.document) {\n      return;\n    }\n\n    this.document.removeEventListener('mouseup', this.onMouseUp);\n    this.document.removeEventListener('touchend', this.onMouseUp);\n    this.document.removeEventListener('mousemove', this.onMouseMove);\n    this.document.removeEventListener('touchmove', this.onMouseMove);\n\n    if (this.state.active) {\n      this.props.events.emit('stopResize', {\n        index: this.props.index,\n        event: null\n      });\n    }\n  }\n\n  render() {\n    const className = [Browser.isMobile() ? 'reflex-thin' : '', ...this.props.className.split(' '), this.state.active ? 'active' : '', 'reflex-splitter'].join(' ').trim();\n    return React.createElement(\"div\", _extends({}, getDataProps(this.props), {\n      onTouchStart: this.onMouseDown,\n      onMouseDown: this.onMouseDown,\n      style: this.props.style,\n      className: className,\n      id: this.props.id,\n      ref: this.ref\n    }), this.props.children);\n  }\n\n}\n\n_defineProperty(ReflexSplitter, \"propTypes\", {\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n  onStartResize: PropTypes.func,\n  onStopResize: PropTypes.func,\n  className: PropTypes.string,\n  propagate: PropTypes.bool,\n  onResize: PropTypes.func,\n  style: PropTypes.object\n});\n\n_defineProperty(ReflexSplitter, \"defaultProps\", {\n  document: typeof document !== 'undefined' ? document : null,\n  onStartResize: null,\n  onStopResize: null,\n  propagate: false,\n  onResize: null,\n  className: '',\n  style: {} /////////////////////////////////////////////////////////\n  // Determines if element is a splitter\n  // or wraps a splitter\n  //\n  /////////////////////////////////////////////////////////\n\n});","///////////////////////////////////////////////////////////\n// ReflexEvents\n// By Philippe Leefsma\n// December 2016\n//\n///////////////////////////////////////////////////////////\nclass ReflexEvents {\n  constructor() {\n    this._events = {};\n  } /////////////////////////////////////////////////////////\n  // Supports multiple events space-separated\n  //\n  /////////////////////////////////////////////////////////\n\n\n  on(events, fct) {\n    events.split(' ').forEach(event => {\n      this._events[event] = this._events[event] || [];\n\n      this._events[event].push(fct);\n    });\n    return this;\n  } /////////////////////////////////////////////////////////\n  // Supports multiple events space-separated\n  //\n  /////////////////////////////////////////////////////////\n\n\n  off(events, fct) {\n    if (events == undefined) {\n      this._events = {};\n      return;\n    }\n\n    events.split(' ').forEach(event => {\n      if (event in this._events === false) return;\n\n      if (fct) {\n        this._events[event].splice(this._events[event].indexOf(fct), 1);\n      } else {\n        this._events[event] = [];\n      }\n    });\n    return this;\n  }\n\n  emit(event\n  /* , args... */\n  ) {\n    if (this._events[event] === undefined) return;\n\n    var tmpArray = this._events[event].slice();\n\n    for (var i = 0; i < tmpArray.length; ++i) {\n      var result = tmpArray[i].apply(this, Array.prototype.slice.call(arguments, 1));\n\n      if (result !== undefined) {\n        return result;\n      }\n    }\n\n    return undefined;\n  }\n\n}\n\nexport default ReflexEvents;","if (!Array.prototype.includes) {\n  Object.defineProperty(Array.prototype, 'includes', {\n    value: function (valueToFind, fromIndex) {\n      if (this == null) {\n        throw new TypeError('\"this\" is null or not defined');\n      } // 1. Let O be ? ToObject(this value).\n\n\n      var o = Object(this); // 2. Let len be ? ToLength(? Get(O, \"length\")).\n\n      var len = o.length >>> 0; // 3. If len is 0, return false.\n\n      if (len === 0) {\n        return false;\n      } // 4. Let n be ? ToInteger(fromIndex).\n      //    (If fromIndex is undefined, this step produces the value 0.)\n\n\n      var n = fromIndex | 0; // 5. If n ≥ 0, then\n      //  a. Let k be n.\n      // 6. Else n < 0,\n      //  a. Let k be len + n.\n      //  b. If k < 0, let k be 0.\n\n      var k = Math.max(n >= 0 ? n : len - Math.abs(n), 0);\n\n      function sameValueZero(x, y) {\n        return x === y || typeof x === 'number' && typeof y === 'number' && isNaN(x) && isNaN(y);\n      } // 7. Repeat, while k < len\n\n\n      while (k < len) {\n        // a. Let elementK be the result of ? Get(O, ! ToString(k)).\n        // b. If SameValueZero(valueToFind, elementK) is true, return true.\n        if (sameValueZero(o[k], valueToFind)) {\n          return true;\n        } // c. Increase k by 1. \n\n\n        k++;\n      } // 8. Return false\n\n\n      return false;\n    }\n  });\n}\n\nif (!Math.sign) {\n  Math.sign = function (x) {\n    return (x > 0) - (x < 0) || +x;\n  };\n}","import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/objectSpread\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n///////////////////////////////////////////////////////////\n// ReflexContainer\n// By Philippe Leefsma\n// December 2016\n//\n///////////////////////////////////////////////////////////\nimport ReflexSplitter from './ReflexSplitter';\nimport ReflexEvents from './ReflexEvents';\nimport { getDataProps } from './utilities';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport './Polyfills';\nexport default class ReflexContainer extends React.Component {\n  /////////////////////////////////////////////////////////\n  // orientation: Orientation of the layout container\n  //              valid values are ['horizontal', 'vertical'] \n  // maxRecDepth: Maximun recursion depth to solve initial flex\n  //              of layout elements based on user provided values\n  // className: Space separated classnames to apply custom styles \n  //            to the layout container  \n  // style: allows passing inline style to the container\n  /////////////////////////////////////////////////////////\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"onWindowResize\", () => {\n      this.setState({\n        flexData: this.computeFlexData()\n      });\n    });\n\n    _defineProperty(this, \"onStartResize\", data => {\n      const pos = data.event.changedTouches ? data.event.changedTouches[0] : data.event;\n\n      switch (this.props.orientation) {\n        case 'horizontal':\n          document.body.classList.add('reflex-row-resize');\n          this.previousPos = pos.clientY;\n          break;\n\n        case 'vertical':\n        default:\n          document.body.classList.add('reflex-col-resize');\n          this.previousPos = pos.clientX;\n          break;\n      }\n\n      this.elements = [this.children[data.index - 1], this.children[data.index + 1]];\n      this.emitElementsEvent(this.elements, 'onStartResize');\n    });\n\n    _defineProperty(this, \"onResize\", data => {\n      const pos = data.event.changedTouches ? data.event.changedTouches[0] : data.event;\n      const offset = this.getOffset(pos, data.domElement);\n\n      switch (this.props.orientation) {\n        case 'horizontal':\n          this.previousPos = pos.clientY;\n          break;\n\n        case 'vertical':\n        default:\n          this.previousPos = pos.clientX;\n          break;\n      }\n\n      if (offset) {\n        const availableOffset = this.computeAvailableOffset(data.index, offset);\n\n        if (availableOffset) {\n          this.elements = this.dispatchOffset(data.index, availableOffset);\n          this.adjustFlex(this.elements);\n          this.setState({\n            resizing: true\n          }, () => {\n            this.emitElementsEvent(this.elements, 'onResize');\n          });\n        }\n      }\n    });\n\n    _defineProperty(this, \"onStopResize\", data => {\n      document.body.classList.remove('reflex-row-resize');\n      document.body.classList.remove('reflex-col-resize');\n      const resizedRefs = this.elements ? this.elements.map(element => {\n        return element.ref;\n      }) : [];\n      const elements = this.children.filter(child => {\n        return !ReflexSplitter.isA(child) && resizedRefs.includes(child.ref);\n      });\n      this.emitElementsEvent(elements, 'onStopResize');\n      this.setState({\n        resizing: false\n      });\n    });\n\n    _defineProperty(this, \"onElementSize\", data => {\n      return new Promise(resolve => {\n        try {\n          const idx = data.index;\n          const size = this.getSize(this.children[idx]);\n          const offset = data.size - size;\n          const dir = data.direction;\n          const splitterIdx = idx + dir;\n          const availableOffset = this.computeAvailableOffset(splitterIdx, dir * offset);\n          this.elements = null;\n\n          if (availableOffset) {\n            this.elements = this.dispatchOffset(splitterIdx, availableOffset);\n            this.adjustFlex(this.elements);\n          }\n\n          this.setState(this.state, () => {\n            this.emitElementsEvent(this.elements, 'onResize');\n            resolve();\n          });\n        } catch (ex) {\n          // TODO handle exception ...\n          console.log(ex);\n        }\n      });\n    });\n\n    this.events = new ReflexEvents();\n    this.children = [];\n    this.state = {\n      flexData: []\n    };\n    this.ref = React.createRef();\n  }\n\n  componentDidMount() {\n    const flexData = this.computeFlexData();\n    const {\n      windowResizeAware\n    } = this.props;\n\n    if (windowResizeAware) {\n      window.addEventListener('resize', this.onWindowResize);\n    }\n\n    this.setState({\n      windowResizeAware,\n      flexData\n    });\n    this.events.on('element.size', this.onElementSize);\n    this.events.on('startResize', this.onStartResize);\n    this.events.on('stopResize', this.onStopResize);\n    this.events.on('resize', this.onResize);\n  }\n\n  componentWillUnmount() {\n    this.events.off();\n    window.removeEventListener('resize', this.onWindowResize);\n  }\n\n  getValidChildren(props = this.props) {\n    return this.toArray(props.children).filter(child => {\n      return !!child;\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const children = this.getValidChildren(this.props);\n\n    if (children.length !== this.state.flexData.length || prevProps.orientation !== this.props.orientation || this.flexHasChanged(prevProps)) {\n      const flexData = this.computeFlexData(children, this.props);\n      this.setState({\n        flexData\n      });\n    }\n\n    if (this.props.windowResizeAware !== this.state.windowResizeAware) {\n      !this.props.windowResizeAware ? window.removeEventListener('resize', this.onWindowResize) : window.addEventListener('resize', this.onWindowResize);\n      this.setState({\n        windowResizeAware: this.props.windowResizeAware\n      });\n    }\n  } // UNSAFE_componentWillReceiveProps(props) {\n  //   const children = this.getValidChildren(props)\n  //   if (children.length !== this.state.flexData.length || \n  //     props.orientation !== this.props.orientation || \n  //     this.flexHasChanged(props)) \n  //   {\n  //     const flexData = this.computeFlexData(\n  //       children, props)\n  //     this.setState({\n  //       flexData\n  //     });\n  //   }\n  //   if (props.windowResizeAware !== this.state.windowResizeAware) {\n  //     !props.windowResizeAware\n  //       ? window.removeEventListener('resize', this.onWindowResize)\n  //       : window.addEventListener('resize', this.onWindowResize)\n  //     this.setState({\n  //       windowResizeAware: props.windowResizeAware\n  //     })\n  //   }\n  // } \n  /////////////////////////////////////////////////////////\n  // attempts to preserve current flex on window resize\n  //\n  /////////////////////////////////////////////////////////\n\n\n  /////////////////////////////////////////////////////////\n  // Check if flex has changed: this allows updating the\n  // component when different flex is passed as property\n  // to one or several children\n  //\n  /////////////////////////////////////////////////////////\n  flexHasChanged(prevProps) {\n    const prevChildrenFlex = this.getValidChildren(prevProps).map(child => {\n      return child.props.flex || 0;\n    });\n    const childrenFlex = this.getValidChildren().map(child => {\n      return child.props.flex || 0;\n    });\n    return !childrenFlex.every((flex, idx) => {\n      return flex === prevChildrenFlex[idx];\n    });\n  } /////////////////////////////////////////////////////////\n  // Returns size of a ReflexElement\n  //\n  /////////////////////////////////////////////////////////\n\n\n  getSize(element) {\n    const domElement = element.ref.current;\n\n    switch (this.props.orientation) {\n      case 'horizontal':\n        return domElement.offsetHeight;\n\n      case 'vertical':\n      default:\n        return domElement.offsetWidth;\n    }\n  } /////////////////////////////////////////////////////////\n  // Computes offset from pointer position\n  //\n  /////////////////////////////////////////////////////////\n\n\n  getOffset(pos, domElement) {\n    const {\n      top,\n      bottom,\n      left,\n      right\n    } = domElement.getBoundingClientRect();\n\n    switch (this.props.orientation) {\n      case 'horizontal':\n        {\n          const offset = pos.clientY - this.previousPos;\n\n          if (offset > 0) {\n            if (pos.clientY >= top) {\n              return offset;\n            }\n          } else {\n            if (pos.clientY <= bottom) {\n              return offset;\n            }\n          }\n\n          break;\n        }\n\n      case 'vertical':\n      default:\n        {\n          const offset = pos.clientX - this.previousPos;\n\n          if (offset > 0) {\n            if (pos.clientX > left) {\n              return offset;\n            }\n          } else {\n            if (pos.clientX < right) {\n              return offset;\n            }\n          }\n        }\n        break;\n    }\n\n    return 0;\n  } /////////////////////////////////////////////////////////\n  // Handles startResize event\n  //\n  /////////////////////////////////////////////////////////\n\n\n  /////////////////////////////////////////////////////////\n  // Adjusts flex after a dispatch to make sure\n  // total flex of modified elements remains the same\n  //\n  /////////////////////////////////////////////////////////\n  adjustFlex(elements) {\n    const diffFlex = elements.reduce((sum, element) => {\n      const idx = element.props.index;\n      const previousFlex = element.props.flex;\n      const nextFlex = this.state.flexData[idx].flex;\n      return sum + (previousFlex - nextFlex) / elements.length;\n    }, 0);\n    elements.forEach(element => {\n      this.state.flexData[element.props.index].flex += diffFlex;\n    });\n  } /////////////////////////////////////////////////////////\n  // Returns available offset for a given raw offset value\n  // This checks how much the panes can be stretched and\n  // shrink, then returns the min\n  //\n  /////////////////////////////////////////////////////////\n\n\n  computeAvailableOffset(idx, offset) {\n    const stretch = this.computeAvailableStretch(idx, offset);\n    const shrink = this.computeAvailableShrink(idx, offset);\n    const availableOffset = Math.min(stretch, shrink) * Math.sign(offset);\n    return availableOffset;\n  } /////////////////////////////////////////////////////////\n  // Returns true if the next splitter than the one at idx\n  // can propagate the drag. This can happen if that\n  // next element is actually a splitter and it has\n  // propagate=true property set\n  //\n  /////////////////////////////////////////////////////////\n\n\n  checkPropagate(idx, direction) {\n    if (direction > 0) {\n      if (idx < this.children.length - 2) {\n        const child = this.children[idx + 2];\n        const typeCheck = ReflexSplitter.isA(child);\n        return typeCheck && child.props.propagate;\n      }\n    } else {\n      if (idx > 2) {\n        const child = this.children[idx - 2];\n        const typeCheck = ReflexSplitter.isA(child);\n        return typeCheck && child.props.propagate;\n      }\n    }\n\n    return false;\n  } /////////////////////////////////////////////////////////\n  // Recursively computes available stretch at splitter\n  // idx for given raw offset\n  //\n  /////////////////////////////////////////////////////////\n\n\n  computeAvailableStretch(idx, offset) {\n    const childIdx = offset < 0 ? idx + 1 : idx - 1;\n    const child = this.children[childIdx];\n    const size = this.getSize(child);\n    const maxSize = child.props.maxSize;\n    const availableStretch = maxSize - size;\n\n    if (availableStretch < Math.abs(offset)) {\n      if (this.checkPropagate(idx, -1 * offset)) {\n        const nextOffset = Math.sign(offset) * (Math.abs(offset) - availableStretch);\n        return availableStretch + this.computeAvailableStretch(offset < 0 ? idx + 2 : idx - 2, nextOffset);\n      }\n    }\n\n    return Math.min(availableStretch, Math.abs(offset));\n  } /////////////////////////////////////////////////////////\n  // Recursively computes available shrink at splitter\n  // idx for given raw offset\n  //\n  /////////////////////////////////////////////////////////\n\n\n  computeAvailableShrink(idx, offset) {\n    const childIdx = offset > 0 ? idx + 1 : idx - 1;\n    const child = this.children[childIdx];\n    const size = this.getSize(child);\n    const minSize = Math.max(child.props.minSize, 0);\n    const availableShrink = size - minSize;\n\n    if (availableShrink < Math.abs(offset)) {\n      if (this.checkPropagate(idx, offset)) {\n        const nextOffset = Math.sign(offset) * (Math.abs(offset) - availableShrink);\n        return availableShrink + this.computeAvailableShrink(offset > 0 ? idx + 2 : idx - 2, nextOffset);\n      }\n    }\n\n    return Math.min(availableShrink, Math.abs(offset));\n  } /////////////////////////////////////////////////////////\n  // Returns flex value for unit pixel\n  //\n  /////////////////////////////////////////////////////////\n\n\n  computePixelFlex(orientation = this.props.orientation) {\n    if (!this.ref.current) {\n      console.warn('Unable to locate ReflexContainer dom node');\n      return 0.0;\n    }\n\n    switch (orientation) {\n      case 'horizontal':\n        if (this.ref.current.offsetHeight === 0.0) {\n          console.warn('Found ReflexContainer with height=0, ' + 'this will cause invalid behavior...');\n          console.warn(this.ref.current);\n          return 0.0;\n        }\n\n        return 1.0 / this.ref.current.offsetHeight;\n\n      case 'vertical':\n      default:\n        if (this.ref.current.offsetWidth === 0.0) {\n          console.warn('Found ReflexContainer with width=0, ' + 'this will cause invalid behavior...');\n          console.warn(this.ref.current);\n          return 0.0;\n        }\n\n        return 1.0 / this.ref.current.offsetWidth;\n    }\n  } /////////////////////////////////////////////////////////\n  // Adds offset to a given ReflexElement\n  //\n  /////////////////////////////////////////////////////////\n\n\n  addOffset(element, offset) {\n    const size = this.getSize(element);\n    const idx = element.props.index;\n    const newSize = Math.max(size + offset, 0);\n    const currentFlex = this.state.flexData[idx].flex;\n    const newFlex = currentFlex > 0 ? currentFlex * newSize / size : this.computePixelFlex() * newSize;\n    this.state.flexData[idx].flex = !isFinite(newFlex) || isNaN(newFlex) ? 0 : newFlex;\n  } /////////////////////////////////////////////////////////\n  // Recursively dispatches stretch offset across\n  // children elements starting at splitter idx\n  //\n  /////////////////////////////////////////////////////////\n\n\n  dispatchStretch(idx, offset) {\n    const childIdx = offset < 0 ? idx + 1 : idx - 1;\n\n    if (childIdx < 0 || childIdx > this.children.length - 1) {\n      return [];\n    }\n\n    const child = this.children[childIdx];\n    const size = this.getSize(child);\n    const newSize = Math.min(child.props.maxSize, size + Math.abs(offset));\n    const dispatchedStretch = newSize - size;\n    this.addOffset(child, dispatchedStretch);\n\n    if (dispatchedStretch < Math.abs(offset)) {\n      const nextIdx = idx - Math.sign(offset) * 2;\n      const nextOffset = Math.sign(offset) * (Math.abs(offset) - dispatchedStretch);\n      return [child, ...this.dispatchStretch(nextIdx, nextOffset)];\n    }\n\n    return [child];\n  } /////////////////////////////////////////////////////////\n  // Recursively dispatches shrink offset across\n  // children elements starting at splitter idx\n  //\n  /////////////////////////////////////////////////////////\n\n\n  dispatchShrink(idx, offset) {\n    const childIdx = offset > 0 ? idx + 1 : idx - 1;\n\n    if (childIdx < 0 || childIdx > this.children.length - 1) {\n      return [];\n    }\n\n    const child = this.children[childIdx];\n    const size = this.getSize(child);\n    const newSize = Math.max(child.props.minSize, size - Math.abs(offset));\n    const dispatchedShrink = newSize - size;\n    this.addOffset(child, dispatchedShrink);\n\n    if (Math.abs(dispatchedShrink) < Math.abs(offset)) {\n      const nextIdx = idx + Math.sign(offset) * 2;\n      const nextOffset = Math.sign(offset) * (Math.abs(offset) + dispatchedShrink);\n      return [child, ...this.dispatchShrink(nextIdx, nextOffset)];\n    }\n\n    return [child];\n  } /////////////////////////////////////////////////////////\n  // Dispatch offset at splitter idx\n  //\n  /////////////////////////////////////////////////////////\n\n\n  dispatchOffset(idx, offset) {\n    return [...this.dispatchStretch(idx, offset), ...this.dispatchShrink(idx, offset)];\n  } /////////////////////////////////////////////////////////\n  // Emits given if event for each given element\n  // if present in the component props\n  //\n  /////////////////////////////////////////////////////////\n\n\n  emitElementsEvent(elements, event) {\n    this.toArray(elements).forEach(component => {\n      if (component.props[event]) {\n        component.props[event]({\n          domElement: component.ref.current,\n          component\n        });\n      }\n    });\n  } /////////////////////////////////////////////////////////\n  // Computes initial flex data based on provided flex\n  // properties. By default each ReflexElement gets\n  // evenly arranged within its container\n  //\n  /////////////////////////////////////////////////////////\n\n\n  computeFlexData(children = this.getValidChildren(), props = this.props) {\n    const pixelFlex = this.computePixelFlex(props.orientation);\n\n    const computeFreeFlex = flexData => {\n      return flexData.reduce((sum, entry) => {\n        if (!ReflexSplitter.isA(entry) && entry.constrained) {\n          return sum - entry.flex;\n        }\n\n        return sum;\n      }, 1.0);\n    };\n\n    const computeFreeElements = flexData => {\n      return flexData.reduce((sum, entry) => {\n        if (!ReflexSplitter.isA(entry) && !entry.constrained) {\n          return sum + 1;\n        }\n\n        return sum;\n      }, 0.0);\n    };\n\n    const flexDataInit = children.map(child => {\n      const props = child.props;\n      return {\n        maxFlex: (props.maxSize || Number.MAX_VALUE) * pixelFlex,\n        sizeFlex: (props.size || Number.MAX_VALUE) * pixelFlex,\n        minFlex: (props.minSize || 1) * pixelFlex,\n        constrained: props.flex !== undefined,\n        flex: props.flex || 0,\n        type: child.type\n      };\n    });\n\n    const computeFlexDataRec = (flexDataIn, depth = 0) => {\n      let hasContrain = false;\n      const freeElements = computeFreeElements(flexDataIn);\n      const freeFlex = computeFreeFlex(flexDataIn);\n      const flexDataOut = flexDataIn.map(entry => {\n        if (ReflexSplitter.isA(entry)) {\n          return entry;\n        }\n\n        const proposedFlex = !entry.constrained ? freeFlex / freeElements : entry.flex;\n        const constrainedFlex = Math.min(entry.sizeFlex, Math.min(entry.maxFlex, Math.max(entry.minFlex, proposedFlex)));\n        const constrained = entry.constrained || constrainedFlex !== proposedFlex;\n        hasContrain = hasContrain || constrained;\n        return _objectSpread({}, entry, {\n          flex: constrainedFlex,\n          constrained\n        });\n      });\n      return hasContrain && depth < this.props.maxRecDepth ? computeFlexDataRec(flexDataOut, depth + 1) : flexDataOut;\n    };\n\n    const flexData = computeFlexDataRec(flexDataInit);\n    return flexData.map(entry => {\n      return {\n        flex: !ReflexSplitter.isA(entry) ? entry.flex : 0.0,\n        ref: React.createRef()\n      };\n    });\n  } /////////////////////////////////////////////////////////\n  // Utility method to ensure given argument is\n  // returned as an array\n  //\n  /////////////////////////////////////////////////////////\n\n\n  toArray(obj) {\n    return obj ? Array.isArray(obj) ? obj : [obj] : [];\n  } /////////////////////////////////////////////////////////\n  // Render container. This will clone all original child\n  // components in order to pass some internal properties\n  // used to handle resizing logic\n  //\n  /////////////////////////////////////////////////////////\n\n\n  render() {\n    const className = [this.state.resizing ? 'reflex-resizing' : '', ...this.props.className.split(' '), this.props.orientation, 'reflex-container'].join(' ').trim();\n    this.children = React.Children.map(this.getValidChildren(), (child, index) => {\n      if (index > this.state.flexData.length - 1) {\n        return React.createElement(\"div\", null);\n      }\n\n      const flexData = this.state.flexData[index];\n\n      const newProps = _objectSpread({}, child.props, {\n        maxSize: child.props.maxSize || Number.MAX_VALUE,\n        orientation: this.props.orientation,\n        minSize: child.props.minSize || 1,\n        events: this.events,\n        flex: flexData.flex,\n        ref: flexData.ref,\n        index\n      });\n\n      return React.cloneElement(child, newProps);\n    });\n    return React.createElement(\"div\", _extends({}, getDataProps(this.props), {\n      style: this.props.style,\n      className: className,\n      ref: this.ref\n    }), this.children);\n  }\n\n}\n\n_defineProperty(ReflexContainer, \"propTypes\", {\n  windowResizeAware: PropTypes.bool,\n  orientation: PropTypes.oneOf(['horizontal', 'vertical']),\n  maxRecDepth: PropTypes.number,\n  className: PropTypes.string,\n  style: PropTypes.object\n});\n\n_defineProperty(ReflexContainer, \"defaultProps\", {\n  orientation: 'horizontal',\n  windowResizeAware: false,\n  maxRecDepth: 100,\n  className: '',\n  style: {}\n});","import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n///////////////////////////////////////////////////////////\n// ReflexHandle\n// By Philippe Leefsma\n// June 2018\n//\n///////////////////////////////////////////////////////////\nimport { getDataProps } from './utilities';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport default class ReflexHandle extends React.Component {\n  static isA(element) {\n    if (!element) {\n      return false;\n    } //https://github.com/leefsmp/Re-Flex/issues/49\n\n\n    return process.env.NODE_ENV === 'development' ? element.type === React.createElement(ReflexHandle, null).type : element.type === ReflexHandle;\n  }\n\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"ref\", React.createRef());\n\n    _defineProperty(this, \"onMouseMove\", event => {\n      if (this.state.active) {\n        const domElement = this.ref.current;\n        this.props.events.emit('resize', {\n          index: this.props.index,\n          domElement,\n          event\n        });\n\n        if (this.props.onResize) {\n          this.props.onResize({\n            component: this,\n            domElement\n          });\n        }\n\n        event.stopPropagation();\n        event.preventDefault();\n      }\n    });\n\n    _defineProperty(this, \"onMouseDown\", event => {\n      this.setState({\n        active: true\n      });\n\n      if (this.props.onStartResize) {\n        // cancels resize from controller\n        // if needed by returning true\n        // to onStartResize\n        if (this.props.onStartResize({\n          domElement: this.ref.current,\n          component: this\n        })) {\n          return;\n        }\n      }\n\n      this.props.events.emit('startResize', {\n        index: this.props.index,\n        event\n      });\n    });\n\n    _defineProperty(this, \"onMouseUp\", event => {\n      if (this.state.active) {\n        this.setState({\n          active: false\n        });\n\n        if (this.props.onStopResize) {\n          this.props.onStopResize({\n            domElement: this.ref.current,\n            component: this\n          });\n        }\n\n        this.props.events.emit('stopResize', {\n          index: this.props.index,\n          event\n        });\n      }\n    });\n\n    this.state = {\n      active: false\n    };\n    this.document = props.document;\n  }\n\n  componentDidMount() {\n    if (!this.document) {\n      return;\n    }\n\n    this.document.addEventListener('touchend', this.onMouseUp);\n    this.document.addEventListener('mouseup', this.onMouseUp);\n    this.document.addEventListener('mousemove', this.onMouseMove, {\n      passive: false\n    });\n    this.document.addEventListener('touchmove', this.onMouseMove, {\n      passive: false\n    });\n  }\n\n  componentWillUnmount() {\n    if (!this.document) {\n      return;\n    }\n\n    this.document.removeEventListener('mouseup', this.onMouseUp);\n    this.document.removeEventListener('touchend', this.onMouseUp);\n    this.document.removeEventListener('mousemove', this.onMouseMove);\n    this.document.removeEventListener('touchmove', this.onMouseMove);\n\n    if (this.state.active) {\n      this.props.events.emit('stopResize', {\n        index: this.props.index,\n        event: null\n      });\n    }\n  }\n\n  render() {\n    const className = [...this.props.className.split(' '), this.state.active ? 'active' : '', 'reflex-handle'].join(' ').trim();\n    return React.createElement(\"div\", _extends({}, getDataProps(this.props), {\n      onTouchStart: this.onMouseDown,\n      onMouseDown: this.onMouseDown,\n      style: this.props.style,\n      className: className,\n      id: this.props.id,\n      ref: this.ref\n    }), this.props.children);\n  }\n\n}\n\n_defineProperty(ReflexHandle, \"propTypes\", {\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n  onStartResize: PropTypes.func,\n  onStopResize: PropTypes.func,\n  className: PropTypes.string,\n  propagate: PropTypes.bool,\n  onResize: PropTypes.func,\n  style: PropTypes.object\n});\n\n_defineProperty(ReflexHandle, \"defaultProps\", {\n  document: typeof document === 'undefined' ? null : document,\n  onStartResize: null,\n  onStopResize: null,\n  propagate: false,\n  onResize: null,\n  className: '',\n  style: {}\n});","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n","/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\r\n/* eslint-disable require-jsdoc, valid-jsdoc */\r\nvar MapShim = (function () {\r\n    if (typeof Map !== 'undefined') {\r\n        return Map;\r\n    }\r\n    /**\r\n     * Returns index in provided array that matches the specified key.\r\n     *\r\n     * @param {Array<Array>} arr\r\n     * @param {*} key\r\n     * @returns {number}\r\n     */\r\n    function getIndex(arr, key) {\r\n        var result = -1;\r\n        arr.some(function (entry, index) {\r\n            if (entry[0] === key) {\r\n                result = index;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        return result;\r\n    }\r\n    return /** @class */ (function () {\r\n        function class_1() {\r\n            this.__entries__ = [];\r\n        }\r\n        Object.defineProperty(class_1.prototype, \"size\", {\r\n            /**\r\n             * @returns {boolean}\r\n             */\r\n            get: function () {\r\n                return this.__entries__.length;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        /**\r\n         * @param {*} key\r\n         * @returns {*}\r\n         */\r\n        class_1.prototype.get = function (key) {\r\n            var index = getIndex(this.__entries__, key);\r\n            var entry = this.__entries__[index];\r\n            return entry && entry[1];\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @param {*} value\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.set = function (key, value) {\r\n            var index = getIndex(this.__entries__, key);\r\n            if (~index) {\r\n                this.__entries__[index][1] = value;\r\n            }\r\n            else {\r\n                this.__entries__.push([key, value]);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.delete = function (key) {\r\n            var entries = this.__entries__;\r\n            var index = getIndex(entries, key);\r\n            if (~index) {\r\n                entries.splice(index, 1);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.has = function (key) {\r\n            return !!~getIndex(this.__entries__, key);\r\n        };\r\n        /**\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.clear = function () {\r\n            this.__entries__.splice(0);\r\n        };\r\n        /**\r\n         * @param {Function} callback\r\n         * @param {*} [ctx=null]\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.forEach = function (callback, ctx) {\r\n            if (ctx === void 0) { ctx = null; }\r\n            for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\r\n                var entry = _a[_i];\r\n                callback.call(ctx, entry[1], entry[0]);\r\n            }\r\n        };\r\n        return class_1;\r\n    }());\r\n})();\n\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\r\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;\n\n// Returns global object of a current environment.\r\nvar global$1 = (function () {\r\n    if (typeof global !== 'undefined' && global.Math === Math) {\r\n        return global;\r\n    }\r\n    if (typeof self !== 'undefined' && self.Math === Math) {\r\n        return self;\r\n    }\r\n    if (typeof window !== 'undefined' && window.Math === Math) {\r\n        return window;\r\n    }\r\n    // eslint-disable-next-line no-new-func\r\n    return Function('return this')();\r\n})();\n\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\r\nvar requestAnimationFrame$1 = (function () {\r\n    if (typeof requestAnimationFrame === 'function') {\r\n        // It's required to use a bounded function because IE sometimes throws\r\n        // an \"Invalid calling object\" error if rAF is invoked without the global\r\n        // object on the left hand side.\r\n        return requestAnimationFrame.bind(global$1);\r\n    }\r\n    return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };\r\n})();\n\n// Defines minimum timeout before adding a trailing call.\r\nvar trailingTimeout = 2;\r\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\r\nfunction throttle (callback, delay) {\r\n    var leadingCall = false, trailingCall = false, lastCallTime = 0;\r\n    /**\r\n     * Invokes the original callback function and schedules new invocation if\r\n     * the \"proxy\" was called during current request.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function resolvePending() {\r\n        if (leadingCall) {\r\n            leadingCall = false;\r\n            callback();\r\n        }\r\n        if (trailingCall) {\r\n            proxy();\r\n        }\r\n    }\r\n    /**\r\n     * Callback invoked after the specified delay. It will further postpone\r\n     * invocation of the original function delegating it to the\r\n     * requestAnimationFrame.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function timeoutCallback() {\r\n        requestAnimationFrame$1(resolvePending);\r\n    }\r\n    /**\r\n     * Schedules invocation of the original function.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function proxy() {\r\n        var timeStamp = Date.now();\r\n        if (leadingCall) {\r\n            // Reject immediately following calls.\r\n            if (timeStamp - lastCallTime < trailingTimeout) {\r\n                return;\r\n            }\r\n            // Schedule new call to be in invoked when the pending one is resolved.\r\n            // This is important for \"transitions\" which never actually start\r\n            // immediately so there is a chance that we might miss one if change\r\n            // happens amids the pending invocation.\r\n            trailingCall = true;\r\n        }\r\n        else {\r\n            leadingCall = true;\r\n            trailingCall = false;\r\n            setTimeout(timeoutCallback, delay);\r\n        }\r\n        lastCallTime = timeStamp;\r\n    }\r\n    return proxy;\r\n}\n\n// Minimum delay before invoking the update of observers.\r\nvar REFRESH_DELAY = 20;\r\n// A list of substrings of CSS properties used to find transition events that\r\n// might affect dimensions of observed elements.\r\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];\r\n// Check if MutationObserver is available.\r\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\r\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\r\nvar ResizeObserverController = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserverController.\r\n     *\r\n     * @private\r\n     */\r\n    function ResizeObserverController() {\r\n        /**\r\n         * Indicates whether DOM listeners have been added.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.connected_ = false;\r\n        /**\r\n         * Tells that controller has subscribed for Mutation Events.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.mutationEventsAdded_ = false;\r\n        /**\r\n         * Keeps reference to the instance of MutationObserver.\r\n         *\r\n         * @private {MutationObserver}\r\n         */\r\n        this.mutationsObserver_ = null;\r\n        /**\r\n         * A list of connected observers.\r\n         *\r\n         * @private {Array<ResizeObserverSPI>}\r\n         */\r\n        this.observers_ = [];\r\n        this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\r\n        this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\r\n    }\r\n    /**\r\n     * Adds observer to observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be added.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.addObserver = function (observer) {\r\n        if (!~this.observers_.indexOf(observer)) {\r\n            this.observers_.push(observer);\r\n        }\r\n        // Add listeners if they haven't been added yet.\r\n        if (!this.connected_) {\r\n            this.connect_();\r\n        }\r\n    };\r\n    /**\r\n     * Removes observer from observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.removeObserver = function (observer) {\r\n        var observers = this.observers_;\r\n        var index = observers.indexOf(observer);\r\n        // Remove observer if it's present in registry.\r\n        if (~index) {\r\n            observers.splice(index, 1);\r\n        }\r\n        // Remove listeners if controller has no connected observers.\r\n        if (!observers.length && this.connected_) {\r\n            this.disconnect_();\r\n        }\r\n    };\r\n    /**\r\n     * Invokes the update of observers. It will continue running updates insofar\r\n     * it detects changes.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.refresh = function () {\r\n        var changesDetected = this.updateObservers_();\r\n        // Continue running updates if changes have been detected as there might\r\n        // be future ones caused by CSS transitions.\r\n        if (changesDetected) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Updates every observer from observers list and notifies them of queued\r\n     * entries.\r\n     *\r\n     * @private\r\n     * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n     *      dimensions of it's elements.\r\n     */\r\n    ResizeObserverController.prototype.updateObservers_ = function () {\r\n        // Collect observers that have active observations.\r\n        var activeObservers = this.observers_.filter(function (observer) {\r\n            return observer.gatherActive(), observer.hasActive();\r\n        });\r\n        // Deliver notifications in a separate cycle in order to avoid any\r\n        // collisions between observers, e.g. when multiple instances of\r\n        // ResizeObserver are tracking the same element and the callback of one\r\n        // of them changes content dimensions of the observed target. Sometimes\r\n        // this may result in notifications being blocked for the rest of observers.\r\n        activeObservers.forEach(function (observer) { return observer.broadcastActive(); });\r\n        return activeObservers.length > 0;\r\n    };\r\n    /**\r\n     * Initializes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.connect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already added.\r\n        if (!isBrowser || this.connected_) {\r\n            return;\r\n        }\r\n        // Subscription to the \"Transitionend\" event is used as a workaround for\r\n        // delayed transitions. This way it's possible to capture at least the\r\n        // final state of an element.\r\n        document.addEventListener('transitionend', this.onTransitionEnd_);\r\n        window.addEventListener('resize', this.refresh);\r\n        if (mutationObserverSupported) {\r\n            this.mutationsObserver_ = new MutationObserver(this.refresh);\r\n            this.mutationsObserver_.observe(document, {\r\n                attributes: true,\r\n                childList: true,\r\n                characterData: true,\r\n                subtree: true\r\n            });\r\n        }\r\n        else {\r\n            document.addEventListener('DOMSubtreeModified', this.refresh);\r\n            this.mutationEventsAdded_ = true;\r\n        }\r\n        this.connected_ = true;\r\n    };\r\n    /**\r\n     * Removes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.disconnect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already removed.\r\n        if (!isBrowser || !this.connected_) {\r\n            return;\r\n        }\r\n        document.removeEventListener('transitionend', this.onTransitionEnd_);\r\n        window.removeEventListener('resize', this.refresh);\r\n        if (this.mutationsObserver_) {\r\n            this.mutationsObserver_.disconnect();\r\n        }\r\n        if (this.mutationEventsAdded_) {\r\n            document.removeEventListener('DOMSubtreeModified', this.refresh);\r\n        }\r\n        this.mutationsObserver_ = null;\r\n        this.mutationEventsAdded_ = false;\r\n        this.connected_ = false;\r\n    };\r\n    /**\r\n     * \"Transitionend\" event handler.\r\n     *\r\n     * @private\r\n     * @param {TransitionEvent} event\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\r\n        var _b = _a.propertyName, propertyName = _b === void 0 ? '' : _b;\r\n        // Detect whether transition may affect dimensions of an element.\r\n        var isReflowProperty = transitionKeys.some(function (key) {\r\n            return !!~propertyName.indexOf(key);\r\n        });\r\n        if (isReflowProperty) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Returns instance of the ResizeObserverController.\r\n     *\r\n     * @returns {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.getInstance = function () {\r\n        if (!this.instance_) {\r\n            this.instance_ = new ResizeObserverController();\r\n        }\r\n        return this.instance_;\r\n    };\r\n    /**\r\n     * Holds reference to the controller's instance.\r\n     *\r\n     * @private {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.instance_ = null;\r\n    return ResizeObserverController;\r\n}());\n\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\r\nvar defineConfigurable = (function (target, props) {\r\n    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\r\n        var key = _a[_i];\r\n        Object.defineProperty(target, key, {\r\n            value: props[key],\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: true\r\n        });\r\n    }\r\n    return target;\r\n});\n\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\r\nvar getWindowOf = (function (target) {\r\n    // Assume that the element is an instance of Node, which means that it\r\n    // has the \"ownerDocument\" property from which we can retrieve a\r\n    // corresponding global object.\r\n    var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;\r\n    // Return the local global object if it's not possible extract one from\r\n    // provided element.\r\n    return ownerGlobal || global$1;\r\n});\n\n// Placeholder of an empty content rectangle.\r\nvar emptyRect = createRectInit(0, 0, 0, 0);\r\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\r\nfunction toFloat(value) {\r\n    return parseFloat(value) || 0;\r\n}\r\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\r\nfunction getBordersSize(styles) {\r\n    var positions = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        positions[_i - 1] = arguments[_i];\r\n    }\r\n    return positions.reduce(function (size, position) {\r\n        var value = styles['border-' + position + '-width'];\r\n        return size + toFloat(value);\r\n    }, 0);\r\n}\r\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\r\nfunction getPaddings(styles) {\r\n    var positions = ['top', 'right', 'bottom', 'left'];\r\n    var paddings = {};\r\n    for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\r\n        var position = positions_1[_i];\r\n        var value = styles['padding-' + position];\r\n        paddings[position] = toFloat(value);\r\n    }\r\n    return paddings;\r\n}\r\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getSVGContentRect(target) {\r\n    var bbox = target.getBBox();\r\n    return createRectInit(0, 0, bbox.width, bbox.height);\r\n}\r\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getHTMLElementContentRect(target) {\r\n    // Client width & height properties can't be\r\n    // used exclusively as they provide rounded values.\r\n    var clientWidth = target.clientWidth, clientHeight = target.clientHeight;\r\n    // By this condition we can catch all non-replaced inline, hidden and\r\n    // detached elements. Though elements with width & height properties less\r\n    // than 0.5 will be discarded as well.\r\n    //\r\n    // Without it we would need to implement separate methods for each of\r\n    // those cases and it's not possible to perform a precise and performance\r\n    // effective test for hidden elements. E.g. even jQuery's ':visible' filter\r\n    // gives wrong results for elements with width & height less than 0.5.\r\n    if (!clientWidth && !clientHeight) {\r\n        return emptyRect;\r\n    }\r\n    var styles = getWindowOf(target).getComputedStyle(target);\r\n    var paddings = getPaddings(styles);\r\n    var horizPad = paddings.left + paddings.right;\r\n    var vertPad = paddings.top + paddings.bottom;\r\n    // Computed styles of width & height are being used because they are the\r\n    // only dimensions available to JS that contain non-rounded values. It could\r\n    // be possible to utilize the getBoundingClientRect if only it's data wasn't\r\n    // affected by CSS transformations let alone paddings, borders and scroll bars.\r\n    var width = toFloat(styles.width), height = toFloat(styles.height);\r\n    // Width & height include paddings and borders when the 'border-box' box\r\n    // model is applied (except for IE).\r\n    if (styles.boxSizing === 'border-box') {\r\n        // Following conditions are required to handle Internet Explorer which\r\n        // doesn't include paddings and borders to computed CSS dimensions.\r\n        //\r\n        // We can say that if CSS dimensions + paddings are equal to the \"client\"\r\n        // properties then it's either IE, and thus we don't need to subtract\r\n        // anything, or an element merely doesn't have paddings/borders styles.\r\n        if (Math.round(width + horizPad) !== clientWidth) {\r\n            width -= getBordersSize(styles, 'left', 'right') + horizPad;\r\n        }\r\n        if (Math.round(height + vertPad) !== clientHeight) {\r\n            height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\r\n        }\r\n    }\r\n    // Following steps can't be applied to the document's root element as its\r\n    // client[Width/Height] properties represent viewport area of the window.\r\n    // Besides, it's as well not necessary as the <html> itself neither has\r\n    // rendered scroll bars nor it can be clipped.\r\n    if (!isDocumentElement(target)) {\r\n        // In some browsers (only in Firefox, actually) CSS width & height\r\n        // include scroll bars size which can be removed at this step as scroll\r\n        // bars are the only difference between rounded dimensions + paddings\r\n        // and \"client\" properties, though that is not always true in Chrome.\r\n        var vertScrollbar = Math.round(width + horizPad) - clientWidth;\r\n        var horizScrollbar = Math.round(height + vertPad) - clientHeight;\r\n        // Chrome has a rather weird rounding of \"client\" properties.\r\n        // E.g. for an element with content width of 314.2px it sometimes gives\r\n        // the client width of 315px and for the width of 314.7px it may give\r\n        // 314px. And it doesn't happen all the time. So just ignore this delta\r\n        // as a non-relevant.\r\n        if (Math.abs(vertScrollbar) !== 1) {\r\n            width -= vertScrollbar;\r\n        }\r\n        if (Math.abs(horizScrollbar) !== 1) {\r\n            height -= horizScrollbar;\r\n        }\r\n    }\r\n    return createRectInit(paddings.left, paddings.top, width, height);\r\n}\r\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nvar isSVGGraphicsElement = (function () {\r\n    // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\r\n    // interface.\r\n    if (typeof SVGGraphicsElement !== 'undefined') {\r\n        return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };\r\n    }\r\n    // If it's so, then check that element is at least an instance of the\r\n    // SVGElement and that it has the \"getBBox\" method.\r\n    // eslint-disable-next-line no-extra-parens\r\n    return function (target) { return (target instanceof getWindowOf(target).SVGElement &&\r\n        typeof target.getBBox === 'function'); };\r\n})();\r\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nfunction isDocumentElement(target) {\r\n    return target === getWindowOf(target).document.documentElement;\r\n}\r\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getContentRect(target) {\r\n    if (!isBrowser) {\r\n        return emptyRect;\r\n    }\r\n    if (isSVGGraphicsElement(target)) {\r\n        return getSVGContentRect(target);\r\n    }\r\n    return getHTMLElementContentRect(target);\r\n}\r\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\r\nfunction createReadOnlyRect(_a) {\r\n    var x = _a.x, y = _a.y, width = _a.width, height = _a.height;\r\n    // If DOMRectReadOnly is available use it as a prototype for the rectangle.\r\n    var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\r\n    var rect = Object.create(Constr.prototype);\r\n    // Rectangle's properties are not writable and non-enumerable.\r\n    defineConfigurable(rect, {\r\n        x: x, y: y, width: width, height: height,\r\n        top: y,\r\n        right: x + width,\r\n        bottom: height + y,\r\n        left: x\r\n    });\r\n    return rect;\r\n}\r\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction createRectInit(x, y, width, height) {\r\n    return { x: x, y: y, width: width, height: height };\r\n}\n\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\r\nvar ResizeObservation = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObservation.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     */\r\n    function ResizeObservation(target) {\r\n        /**\r\n         * Broadcasted width of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastWidth = 0;\r\n        /**\r\n         * Broadcasted height of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastHeight = 0;\r\n        /**\r\n         * Reference to the last observed content rectangle.\r\n         *\r\n         * @private {DOMRectInit}\r\n         */\r\n        this.contentRect_ = createRectInit(0, 0, 0, 0);\r\n        this.target = target;\r\n    }\r\n    /**\r\n     * Updates content rectangle and tells whether it's width or height properties\r\n     * have changed since the last broadcast.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObservation.prototype.isActive = function () {\r\n        var rect = getContentRect(this.target);\r\n        this.contentRect_ = rect;\r\n        return (rect.width !== this.broadcastWidth ||\r\n            rect.height !== this.broadcastHeight);\r\n    };\r\n    /**\r\n     * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n     * from the corresponding properties of the last observed content rectangle.\r\n     *\r\n     * @returns {DOMRectInit} Last observed content rectangle.\r\n     */\r\n    ResizeObservation.prototype.broadcastRect = function () {\r\n        var rect = this.contentRect_;\r\n        this.broadcastWidth = rect.width;\r\n        this.broadcastHeight = rect.height;\r\n        return rect;\r\n    };\r\n    return ResizeObservation;\r\n}());\n\nvar ResizeObserverEntry = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObserverEntry.\r\n     *\r\n     * @param {Element} target - Element that is being observed.\r\n     * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n     */\r\n    function ResizeObserverEntry(target, rectInit) {\r\n        var contentRect = createReadOnlyRect(rectInit);\r\n        // According to the specification following properties are not writable\r\n        // and are also not enumerable in the native implementation.\r\n        //\r\n        // Property accessors are not being used as they'd require to define a\r\n        // private WeakMap storage which may cause memory leaks in browsers that\r\n        // don't support this type of collections.\r\n        defineConfigurable(this, { target: target, contentRect: contentRect });\r\n    }\r\n    return ResizeObserverEntry;\r\n}());\n\nvar ResizeObserverSPI = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n     *      when one of the observed elements changes it's content dimensions.\r\n     * @param {ResizeObserverController} controller - Controller instance which\r\n     *      is responsible for the updates of observer.\r\n     * @param {ResizeObserver} callbackCtx - Reference to the public\r\n     *      ResizeObserver instance which will be passed to callback function.\r\n     */\r\n    function ResizeObserverSPI(callback, controller, callbackCtx) {\r\n        /**\r\n         * Collection of resize observations that have detected changes in dimensions\r\n         * of elements.\r\n         *\r\n         * @private {Array<ResizeObservation>}\r\n         */\r\n        this.activeObservations_ = [];\r\n        /**\r\n         * Registry of the ResizeObservation instances.\r\n         *\r\n         * @private {Map<Element, ResizeObservation>}\r\n         */\r\n        this.observations_ = new MapShim();\r\n        if (typeof callback !== 'function') {\r\n            throw new TypeError('The callback provided as parameter 1 is not a function.');\r\n        }\r\n        this.callback_ = callback;\r\n        this.controller_ = controller;\r\n        this.callbackCtx_ = callbackCtx;\r\n    }\r\n    /**\r\n     * Starts observing provided element.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.observe = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is already being observed.\r\n        if (observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.set(target, new ResizeObservation(target));\r\n        this.controller_.addObserver(this);\r\n        // Force the update of observations.\r\n        this.controller_.refresh();\r\n    };\r\n    /**\r\n     * Stops observing provided element.\r\n     *\r\n     * @param {Element} target - Element to stop observing.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.unobserve = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is not being observed.\r\n        if (!observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.delete(target);\r\n        if (!observations.size) {\r\n            this.controller_.removeObserver(this);\r\n        }\r\n    };\r\n    /**\r\n     * Stops observing all elements.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.disconnect = function () {\r\n        this.clearActive();\r\n        this.observations_.clear();\r\n        this.controller_.removeObserver(this);\r\n    };\r\n    /**\r\n     * Collects observation instances the associated element of which has changed\r\n     * it's content rectangle.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.gatherActive = function () {\r\n        var _this = this;\r\n        this.clearActive();\r\n        this.observations_.forEach(function (observation) {\r\n            if (observation.isActive()) {\r\n                _this.activeObservations_.push(observation);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Invokes initial callback function with a list of ResizeObserverEntry\r\n     * instances collected from active resize observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.broadcastActive = function () {\r\n        // Do nothing if observer doesn't have active observations.\r\n        if (!this.hasActive()) {\r\n            return;\r\n        }\r\n        var ctx = this.callbackCtx_;\r\n        // Create ResizeObserverEntry instance for every active observation.\r\n        var entries = this.activeObservations_.map(function (observation) {\r\n            return new ResizeObserverEntry(observation.target, observation.broadcastRect());\r\n        });\r\n        this.callback_.call(ctx, entries, ctx);\r\n        this.clearActive();\r\n    };\r\n    /**\r\n     * Clears the collection of active observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.clearActive = function () {\r\n        this.activeObservations_.splice(0);\r\n    };\r\n    /**\r\n     * Tells whether observer has active observations.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObserverSPI.prototype.hasActive = function () {\r\n        return this.activeObservations_.length > 0;\r\n    };\r\n    return ResizeObserverSPI;\r\n}());\n\n// Registry of internal observers. If WeakMap is not available use current shim\r\n// for the Map collection as it has all required methods and because WeakMap\r\n// can't be fully polyfilled anyway.\r\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\r\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\r\nvar ResizeObserver = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n     *      dimensions of the observed elements change.\r\n     */\r\n    function ResizeObserver(callback) {\r\n        if (!(this instanceof ResizeObserver)) {\r\n            throw new TypeError('Cannot call a class as a function.');\r\n        }\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        var controller = ResizeObserverController.getInstance();\r\n        var observer = new ResizeObserverSPI(callback, controller, this);\r\n        observers.set(this, observer);\r\n    }\r\n    return ResizeObserver;\r\n}());\r\n// Expose public methods of ResizeObserver.\r\n[\r\n    'observe',\r\n    'unobserve',\r\n    'disconnect'\r\n].forEach(function (method) {\r\n    ResizeObserver.prototype[method] = function () {\r\n        var _a;\r\n        return (_a = observers.get(this))[method].apply(_a, arguments);\r\n    };\r\n});\n\nvar index = (function () {\r\n    // Export existing implementation if available.\r\n    if (typeof global$1.ResizeObserver !== 'undefined') {\r\n        return global$1.ResizeObserver;\r\n    }\r\n    return ResizeObserver;\r\n})();\n\nexport default index;\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport { Component, createElement } from 'react';\nimport PropTypes from 'prop-types';\nimport ResizeObserver from 'resize-observer-polyfill';\n\nvar types = ['client', 'offset', 'scroll', 'bounds', 'margin'];\nfunction getTypes(props) {\n  var allowedTypes = [];\n  types.forEach(function (type) {\n    if (props[type]) {\n      allowedTypes.push(type);\n    }\n  });\n  return allowedTypes;\n}\n\nfunction getContentRect(node, types) {\n  var calculations = {};\n\n  if (types.indexOf('client') > -1) {\n    calculations.client = {\n      top: node.clientTop,\n      left: node.clientLeft,\n      width: node.clientWidth,\n      height: node.clientHeight\n    };\n  }\n\n  if (types.indexOf('offset') > -1) {\n    calculations.offset = {\n      top: node.offsetTop,\n      left: node.offsetLeft,\n      width: node.offsetWidth,\n      height: node.offsetHeight\n    };\n  }\n\n  if (types.indexOf('scroll') > -1) {\n    calculations.scroll = {\n      top: node.scrollTop,\n      left: node.scrollLeft,\n      width: node.scrollWidth,\n      height: node.scrollHeight\n    };\n  }\n\n  if (types.indexOf('bounds') > -1) {\n    var rect = node.getBoundingClientRect();\n    calculations.bounds = {\n      top: rect.top,\n      right: rect.right,\n      bottom: rect.bottom,\n      left: rect.left,\n      width: rect.width,\n      height: rect.height\n    };\n  }\n\n  if (types.indexOf('margin') > -1) {\n    var styles = getComputedStyle(node);\n    calculations.margin = {\n      top: styles ? parseInt(styles.marginTop) : 0,\n      right: styles ? parseInt(styles.marginRight) : 0,\n      bottom: styles ? parseInt(styles.marginBottom) : 0,\n      left: styles ? parseInt(styles.marginLeft) : 0\n    };\n  }\n\n  return calculations;\n}\n\n/**\n * Returns the global window object associated with provided element.\n */\nfunction getWindowOf(target) {\n  // Assume that the element is an instance of Node, which means that it\n  // has the \"ownerDocument\" property from which we can retrieve a\n  // corresponding global object.\n  var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView; // Return the local window object if it's not possible extract one from\n  // provided element.\n\n  return ownerGlobal || window;\n}\n\nfunction withContentRect(types) {\n  return function (WrappedComponent) {\n    var _class, _temp;\n\n    return _temp = _class =\n    /*#__PURE__*/\n    function (_Component) {\n      _inheritsLoose(WithContentRect, _Component);\n\n      function WithContentRect() {\n        var _this;\n\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n        _this.state = {\n          contentRect: {\n            entry: {},\n            client: {},\n            offset: {},\n            scroll: {},\n            bounds: {},\n            margin: {}\n          }\n        };\n        _this._animationFrameID = null;\n        _this._resizeObserver = null;\n        _this._node = null;\n        _this._window = null;\n\n        _this.measure = function (entries) {\n          var contentRect = getContentRect(_this._node, types || getTypes(_this.props));\n\n          if (entries) {\n            contentRect.entry = entries[0].contentRect;\n          }\n\n          _this._animationFrameID = _this._window.requestAnimationFrame(function () {\n            if (_this._resizeObserver !== null) {\n              _this.setState({\n                contentRect: contentRect\n              });\n\n              if (typeof _this.props.onResize === 'function') {\n                _this.props.onResize(contentRect);\n              }\n            }\n          });\n        };\n\n        _this._handleRef = function (node) {\n          if (_this._resizeObserver !== null && _this._node !== null) {\n            _this._resizeObserver.unobserve(_this._node);\n          }\n\n          _this._node = node;\n          _this._window = getWindowOf(_this._node);\n          var innerRef = _this.props.innerRef;\n\n          if (innerRef) {\n            if (typeof innerRef === 'function') {\n              innerRef(_this._node);\n            } else {\n              innerRef.current = _this._node;\n            }\n          }\n\n          if (_this._resizeObserver !== null && _this._node !== null) {\n            _this._resizeObserver.observe(_this._node);\n          }\n        };\n\n        return _this;\n      }\n\n      var _proto = WithContentRect.prototype;\n\n      _proto.componentDidMount = function componentDidMount() {\n        this._resizeObserver = this._window !== null && this._window.ResizeObserver ? new this._window.ResizeObserver(this.measure) : new ResizeObserver(this.measure);\n\n        if (this._node !== null) {\n          this._resizeObserver.observe(this._node);\n\n          if (typeof this.props.onResize === 'function') {\n            this.props.onResize(getContentRect(this._node, types || getTypes(this.props)));\n          }\n        }\n      };\n\n      _proto.componentWillUnmount = function componentWillUnmount() {\n        if (this._window !== null) {\n          this._window.cancelAnimationFrame(this._animationFrameID);\n        }\n\n        if (this._resizeObserver !== null) {\n          this._resizeObserver.disconnect();\n\n          this._resizeObserver = null;\n        }\n      };\n\n      _proto.render = function render() {\n        var _this$props = this.props,\n            innerRef = _this$props.innerRef,\n            onResize = _this$props.onResize,\n            props = _objectWithoutPropertiesLoose(_this$props, [\"innerRef\", \"onResize\"]);\n\n        return createElement(WrappedComponent, _extends({}, props, {\n          measureRef: this._handleRef,\n          measure: this.measure,\n          contentRect: this.state.contentRect\n        }));\n      };\n\n      return WithContentRect;\n    }(Component), _class.propTypes = {\n      client: PropTypes.bool,\n      offset: PropTypes.bool,\n      scroll: PropTypes.bool,\n      bounds: PropTypes.bool,\n      margin: PropTypes.bool,\n      innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n      onResize: PropTypes.func\n    }, _temp;\n  };\n}\n\nvar Measure = withContentRect()(function (_ref) {\n  var measure = _ref.measure,\n      measureRef = _ref.measureRef,\n      contentRect = _ref.contentRect,\n      children = _ref.children;\n  return children({\n    measure: measure,\n    measureRef: measureRef,\n    contentRect: contentRect\n  });\n});\nMeasure.displayName = 'Measure';\nMeasure.propTypes.children = PropTypes.func;\n\nexport default Measure;\nexport { withContentRect };\n","import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/objectSpread\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n///////////////////////////////////////////////////////////\n// ReflexElement\n// By Philippe Leefsma\n// December 2016\n//\n///////////////////////////////////////////////////////////\nimport ReflexHandle from './ReflexHandle';\nimport { getDataProps } from './utilities';\nimport throttle from 'lodash.throttle';\nimport Measure from 'react-measure';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst toArray = obj => {\n  return obj ? Array.isArray(obj) ? obj : [obj] : [];\n};\n\nclass SizeAwareReflexElement extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"onResize\", rect => {\n      const {\n        resizeHeight,\n        resizeWidth\n      } = this.props;\n      const {\n        height,\n        width\n      } = rect.bounds;\n      this.setDimensions(_objectSpread({}, resizeHeight && {\n        height\n      }, resizeWidth && {\n        width\n      }));\n    });\n\n    this.setDimensions = throttle(dimensions => {\n      this.setState(dimensions);\n    }, this.props.propagateDimensionsRate / 1000);\n    this.state = {\n      height: \"100%\",\n      width: \"100%\"\n    };\n  }\n\n  renderChildren() {\n    const {\n      propagateDimensions\n    } = this.props;\n    const validChildren = toArray(this.props.children).filter(child => {\n      return !!child;\n    });\n    return React.Children.map(validChildren, child => {\n      if (this.props.withHandle || ReflexHandle.isA(child)) {\n        return React.cloneElement(child, _objectSpread({\n          dimensions: propagateDimensions && this.state\n        }, child.props, {\n          index: this.props.index - 1,\n          events: this.props.events\n        }));\n      }\n\n      if (propagateDimensions) {\n        return React.cloneElement(child, _objectSpread({}, child.props, {\n          dimensions: this.state\n        }));\n      }\n\n      return child;\n    });\n  }\n\n  render() {\n    return React.createElement(Measure, {\n      bounds: true,\n      onResize: this.onResize\n    }, ({\n      measureRef\n    }) => {\n      return React.createElement(\"div\", {\n        ref: measureRef,\n        className: \"reflex-size-aware\"\n      }, React.createElement(\"div\", {\n        style: this.state\n      }, this.renderChildren()));\n    });\n  }\n\n}\n\nclass ReflexElement extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      size: props.size\n    };\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (nextProps.size !== prevState.size) {\n      return _objectSpread({}, prevState, {\n        size: nextProps.size\n      });\n    }\n\n    return null;\n  }\n\n  async componentDidUpdate(prevProps, prevState, snapshot) {\n    if (prevState.size !== this.state.size) {\n      const directions = toArray(this.props.direction);\n\n      for (let direction of directions) {\n        await this.props.events.emit('element.size', {\n          index: this.props.index,\n          size: this.props.size,\n          direction\n        });\n      }\n    }\n  }\n\n  renderChildren() {\n    const validChildren = toArray(this.props.children).filter(child => {\n      return !!child;\n    });\n    return React.Children.map(validChildren, child => {\n      if (this.props.withHandle || ReflexHandle.isA(child)) {\n        return React.cloneElement(child, _objectSpread({}, child.props, {\n          index: this.props.index - 1,\n          events: this.props.events\n        }));\n      }\n\n      return child;\n    });\n  }\n\n  render() {\n    const className = [...this.props.className.split(' '), this.props.orientation, 'reflex-element'].join(' ').trim();\n\n    const style = _objectSpread({}, this.props.style, {\n      flexGrow: this.props.flex,\n      flexShrink: 1,\n      flexBasis: '0%'\n    });\n\n    return React.createElement(\"div\", _extends({}, getDataProps(this.props), {\n      ref: this.props.innerRef,\n      className: className,\n      style: style\n    }), this.props.propagateDimensions ? React.createElement(SizeAwareReflexElement, this.props) : this.renderChildren());\n  }\n\n}\n\n_defineProperty(ReflexElement, \"propTypes\", {\n  propagateDimensions: PropTypes.bool,\n  resizeHeight: PropTypes.bool,\n  resizeWidth: PropTypes.bool,\n  className: PropTypes.string,\n  size: PropTypes.number\n});\n\n_defineProperty(ReflexElement, \"defaultProps\", {\n  propagateDimensionsRate: 100,\n  propagateDimensions: false,\n  resizeHeight: true,\n  resizeWidth: true,\n  direction: [1],\n  className: ''\n});\n\nexport default React.forwardRef((props, ref) => {\n  return React.createElement(ReflexElement, _extends({\n    innerRef: ref\n  }, props));\n});","import React from 'react'\n\nexport type BreadcrumbItem = {\n  name: string\n  isCurrent: boolean\n  action?: () => void\n}\n\nexport type BreadcrumbsProps = {\n  items: BreadcrumbItem[]\n  maxItemCount?: number\n}\n\nexport const Breadcrumbs: React.FunctionComponent<BreadcrumbsProps> = ({\n  items,\n  maxItemCount = 4,\n}: BreadcrumbsProps) => {\n  const truncateBreadcrumbs = items.length > maxItemCount\n  if (truncateBreadcrumbs) {\n    items = items.slice(-maxItemCount)\n  }\n  return (\n    <div className=\"Breadcrumbs\">\n      {items.length > 0 && <span>You are in: </span>}\n      {truncateBreadcrumbs && (\n        <>\n          <button className=\"BreadcrumbItem Current\">...</button>\n          <span>&gt;</span>\n        </>\n      )}\n      {items.map((item, index) => (\n        <>\n          <button\n            className={`BreadcrumbItem ${item.isCurrent ? 'Current' : ''}`}\n            key={index}\n            onClick={event => {\n              event.preventDefault()\n              if (item.action) {\n                item.action()\n              }\n            }}\n          >\n            {item.name}\n          </button>\n          {index !== items.length - 1 && <span>&gt;</span>}\n        </>\n      ))}\n    </div>\n  )\n}\n","import { useEffect, useState } from 'react'\nimport { FetchNextPageOptions, InfiniteQueryObserverResult } from 'react-query'\nimport { SynapseClientError } from '../SynapseClientError'\n\n/**\n * Given a list of items and predicates to determine what items are are selected, and which are selectable, return a boolean indicating if all of the entities that can be selected\n * are selected.\n *\n * This function is compatible with react-query's useInfiniteQuery pagination, in which case it's recommended to use the hook version\n * of this function to get updates as pages are fetched and updated.\n *\n * We don't currently support an indeterminate checkbox state because that would require always fetching all pages of a given query, which does not scale.\n * @param items An arbitrary list of items that have already been fetched\n * @param numSelected The number of items that have been selected.\n * @param isSelected A function that takes an item and returns a boolean indicating if that item is selected\n * @param isSelectable A function that takes an item and returns a boolean indicating if that item can be selected\n * @param hasNextPage Whether or not there are additional pages of items (typically supplied by useInfiniteQuery)\n * @param fetchNextPage A function to be invoked to fetch an additional page of items (typically supplied by useInfiniteQuery)\n * @param isFetchingNextPage Indicates if the next page of items is being fetched (typically supplied by useInfiniteQuery)\n * @returns true iff all selectable items have been selected, and there are no additional pages to fetch (because an unfetched page may include an unselected item)\n */\nexport function getIsAllSelectedFromInfiniteList<TItem, TFetchResult>(\n  items: TItem[],\n  numSelected: number,\n  isSelected: (item: TItem) => boolean,\n  isSelectable: (item: TItem) => boolean,\n  hasNextPage?: boolean | undefined,\n  fetchNextPage?: (\n    options?: FetchNextPageOptions | undefined,\n  ) => Promise<InfiniteQueryObserverResult<TFetchResult, SynapseClientError>>,\n  isFetchingNextPage?: boolean,\n): boolean {\n  if (items.length === 0 || numSelected === 0) {\n    return false\n  } else {\n    const allSelectableFetchedChildrenAreSelected = items.every(\n      e => isSelected(e) || !isSelectable(e),\n    )\n    if (\n      allSelectableFetchedChildrenAreSelected &&\n      hasNextPage &&\n      fetchNextPage &&\n      !isFetchingNextPage\n    ) {\n      // We don't yet know if the checkbox should be true or false, so get the next page\n      fetchNextPage()\n      return false\n    } else {\n      if (isFetchingNextPage) {\n        // Wait for the next page to be retrieved\n        return false\n      }\n\n      // At this point, we've fetched all of the pages or encountered an unselected entity\n      // The checkbox should be true if there are no unselected entities, and there's at least one selectable entity\n      const selectableEntitiesArePresent = items.some(e => isSelectable(e))\n      return (\n        allSelectableFetchedChildrenAreSelected && selectableEntitiesArePresent\n      )\n    }\n  }\n}\n\n/**\n * Given a list of items and predicates to determine what items are are selected, and which are selectable, return a boolean indicating if all of the entities that can be selected\n * are selected.\n *\n * This function is compatible with react-query's useInfiniteQuery pagination.\n *\n * There is also a non-hook version of this function that can be called in contexts where hooks cannot be used.\n * @param items An arbitrary list of items that have already been fetched\n * @param numSelected The number of items that have been selected.\n * @param isSelected A function that takes an item and returns a boolean indicating if that item is selected\n * @param isSelectable A function that takes an item and returns a boolean indicating if that item can be selected\n * @param hasNextPage Whether or not there are additional pages of items (typically supplied by useInfiniteQuery)\n * @param fetchNextPage A function to be invoked to fetch an additional page of items (typically supplied by useInfiniteQuery)\n * @param isFetchingNextPage Indicates if the next page of items is being fetched (typically supplied by useInfiniteQuery)\n * @returns true iff all selectable items have been selected, and there are no additional pages to fetch (because an unfetched page may include an unselected item)\n */\nexport default function useGetIsAllSelectedFromInfiniteList<\n  TItem,\n  TFetchResult,\n>(\n  items: TItem[],\n  numSelected: number,\n  isSelected: (item: TItem) => boolean,\n  isSelectable: (item: TItem) => boolean,\n  hasNextPage?: boolean | undefined,\n  fetchNextPage?: (\n    options?: FetchNextPageOptions | undefined,\n  ) => Promise<InfiniteQueryObserverResult<TFetchResult, SynapseClientError>>,\n  isFetchingNextPage?: boolean,\n) {\n  const [isSelectAll, setIsSelectAll] = useState(false)\n  useEffect(() => {\n    setIsSelectAll(\n      getIsAllSelectedFromInfiniteList(\n        items,\n        numSelected,\n        isSelected,\n        isSelectable,\n        hasNextPage,\n        fetchNextPage,\n        isFetchingNextPage,\n      ),\n    )\n  }, [\n    items,\n    numSelected,\n    fetchNextPage,\n    hasNextPage,\n    isSelected,\n    isSelectable,\n    isFetchingNextPage,\n  ])\n\n  return isSelectAll\n}\n","var safeIsNaN = Number.isNaN ||\n    function ponyfill(value) {\n        return typeof value === 'number' && value !== value;\n    };\nfunction isEqual(first, second) {\n    if (first === second) {\n        return true;\n    }\n    if (safeIsNaN(first) && safeIsNaN(second)) {\n        return true;\n    }\n    return false;\n}\nfunction areInputsEqual(newInputs, lastInputs) {\n    if (newInputs.length !== lastInputs.length) {\n        return false;\n    }\n    for (var i = 0; i < newInputs.length; i++) {\n        if (!isEqual(newInputs[i], lastInputs[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoizeOne(resultFn, isEqual) {\n    if (isEqual === void 0) { isEqual = areInputsEqual; }\n    var lastThis;\n    var lastArgs = [];\n    var lastResult;\n    var calledOnce = false;\n    function memoized() {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (calledOnce && lastThis === this && isEqual(newArgs, lastArgs)) {\n            return lastResult;\n        }\n        lastResult = resultFn.apply(this, newArgs);\n        calledOnce = true;\n        lastThis = this;\n        lastArgs = newArgs;\n        return lastResult;\n    }\n    return memoized;\n}\n\nexport default memoizeOne;\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport memoizeOne from 'memoize-one';\nimport { createElement, PureComponent } from 'react';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\n\n// Animation frame based implementation of setTimeout.\n// Inspired by Joe Lambert, https://gist.github.com/joelambert/1002116#file-requesttimeout-js\nvar hasNativePerformanceNow = typeof performance === 'object' && typeof performance.now === 'function';\nvar now = hasNativePerformanceNow ? function () {\n  return performance.now();\n} : function () {\n  return Date.now();\n};\nfunction cancelTimeout(timeoutID) {\n  cancelAnimationFrame(timeoutID.id);\n}\nfunction requestTimeout(callback, delay) {\n  var start = now();\n\n  function tick() {\n    if (now() - start >= delay) {\n      callback.call(null);\n    } else {\n      timeoutID.id = requestAnimationFrame(tick);\n    }\n  }\n\n  var timeoutID = {\n    id: requestAnimationFrame(tick)\n  };\n  return timeoutID;\n}\n\nvar size = -1; // This utility copied from \"dom-helpers\" package.\n\nfunction getScrollbarSize(recalculate) {\n  if (recalculate === void 0) {\n    recalculate = false;\n  }\n\n  if (size === -1 || recalculate) {\n    var div = document.createElement('div');\n    var style = div.style;\n    style.width = '50px';\n    style.height = '50px';\n    style.overflow = 'scroll';\n    document.body.appendChild(div);\n    size = div.offsetWidth - div.clientWidth;\n    document.body.removeChild(div);\n  }\n\n  return size;\n}\nvar cachedRTLResult = null; // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n// Chrome does not seem to adhere; its scrollLeft values are positive (measured relative to the left).\n// Safari's elastic bounce makes detecting this even more complicated wrt potential false positives.\n// The safest way to check this is to intentionally set a negative offset,\n// and then verify that the subsequent \"scroll\" event matches the negative offset.\n// If it does not match, then we can assume a non-standard RTL scroll implementation.\n\nfunction getRTLOffsetType(recalculate) {\n  if (recalculate === void 0) {\n    recalculate = false;\n  }\n\n  if (cachedRTLResult === null || recalculate) {\n    var outerDiv = document.createElement('div');\n    var outerStyle = outerDiv.style;\n    outerStyle.width = '50px';\n    outerStyle.height = '50px';\n    outerStyle.overflow = 'scroll';\n    outerStyle.direction = 'rtl';\n    var innerDiv = document.createElement('div');\n    var innerStyle = innerDiv.style;\n    innerStyle.width = '100px';\n    innerStyle.height = '100px';\n    outerDiv.appendChild(innerDiv);\n    document.body.appendChild(outerDiv);\n\n    if (outerDiv.scrollLeft > 0) {\n      cachedRTLResult = 'positive-descending';\n    } else {\n      outerDiv.scrollLeft = 1;\n\n      if (outerDiv.scrollLeft === 0) {\n        cachedRTLResult = 'negative';\n      } else {\n        cachedRTLResult = 'positive-ascending';\n      }\n    }\n\n    document.body.removeChild(outerDiv);\n    return cachedRTLResult;\n  }\n\n  return cachedRTLResult;\n}\n\nvar IS_SCROLLING_DEBOUNCE_INTERVAL = 150;\n\nvar defaultItemKey = function defaultItemKey(_ref) {\n  var columnIndex = _ref.columnIndex,\n      data = _ref.data,\n      rowIndex = _ref.rowIndex;\n  return rowIndex + \":\" + columnIndex;\n}; // In DEV mode, this Set helps us only log a warning once per component instance.\n// This avoids spamming the console every time a render happens.\n\n\nvar devWarningsOverscanCount = null;\nvar devWarningsOverscanRowsColumnsCount = null;\nvar devWarningsTagName = null;\n\nif (process.env.NODE_ENV !== 'production') {\n  if (typeof window !== 'undefined' && typeof window.WeakSet !== 'undefined') {\n    devWarningsOverscanCount = /*#__PURE__*/new WeakSet();\n    devWarningsOverscanRowsColumnsCount = /*#__PURE__*/new WeakSet();\n    devWarningsTagName = /*#__PURE__*/new WeakSet();\n  }\n}\n\nfunction createGridComponent(_ref2) {\n  var _class;\n\n  var getColumnOffset = _ref2.getColumnOffset,\n      getColumnStartIndexForOffset = _ref2.getColumnStartIndexForOffset,\n      getColumnStopIndexForStartIndex = _ref2.getColumnStopIndexForStartIndex,\n      getColumnWidth = _ref2.getColumnWidth,\n      getEstimatedTotalHeight = _ref2.getEstimatedTotalHeight,\n      getEstimatedTotalWidth = _ref2.getEstimatedTotalWidth,\n      getOffsetForColumnAndAlignment = _ref2.getOffsetForColumnAndAlignment,\n      getOffsetForRowAndAlignment = _ref2.getOffsetForRowAndAlignment,\n      getRowHeight = _ref2.getRowHeight,\n      getRowOffset = _ref2.getRowOffset,\n      getRowStartIndexForOffset = _ref2.getRowStartIndexForOffset,\n      getRowStopIndexForStartIndex = _ref2.getRowStopIndexForStartIndex,\n      initInstanceProps = _ref2.initInstanceProps,\n      shouldResetStyleCacheOnItemSizeChange = _ref2.shouldResetStyleCacheOnItemSizeChange,\n      validateProps = _ref2.validateProps;\n  return _class = /*#__PURE__*/function (_PureComponent) {\n    _inheritsLoose(Grid, _PureComponent);\n\n    // Always use explicit constructor for React components.\n    // It produces less code after transpilation. (#26)\n    // eslint-disable-next-line no-useless-constructor\n    function Grid(props) {\n      var _this;\n\n      _this = _PureComponent.call(this, props) || this;\n      _this._instanceProps = initInstanceProps(_this.props, _assertThisInitialized(_this));\n      _this._resetIsScrollingTimeoutId = null;\n      _this._outerRef = void 0;\n      _this.state = {\n        instance: _assertThisInitialized(_this),\n        isScrolling: false,\n        horizontalScrollDirection: 'forward',\n        scrollLeft: typeof _this.props.initialScrollLeft === 'number' ? _this.props.initialScrollLeft : 0,\n        scrollTop: typeof _this.props.initialScrollTop === 'number' ? _this.props.initialScrollTop : 0,\n        scrollUpdateWasRequested: false,\n        verticalScrollDirection: 'forward'\n      };\n      _this._callOnItemsRendered = void 0;\n      _this._callOnItemsRendered = memoizeOne(function (overscanColumnStartIndex, overscanColumnStopIndex, overscanRowStartIndex, overscanRowStopIndex, visibleColumnStartIndex, visibleColumnStopIndex, visibleRowStartIndex, visibleRowStopIndex) {\n        return _this.props.onItemsRendered({\n          overscanColumnStartIndex: overscanColumnStartIndex,\n          overscanColumnStopIndex: overscanColumnStopIndex,\n          overscanRowStartIndex: overscanRowStartIndex,\n          overscanRowStopIndex: overscanRowStopIndex,\n          visibleColumnStartIndex: visibleColumnStartIndex,\n          visibleColumnStopIndex: visibleColumnStopIndex,\n          visibleRowStartIndex: visibleRowStartIndex,\n          visibleRowStopIndex: visibleRowStopIndex\n        });\n      });\n      _this._callOnScroll = void 0;\n      _this._callOnScroll = memoizeOne(function (scrollLeft, scrollTop, horizontalScrollDirection, verticalScrollDirection, scrollUpdateWasRequested) {\n        return _this.props.onScroll({\n          horizontalScrollDirection: horizontalScrollDirection,\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop,\n          verticalScrollDirection: verticalScrollDirection,\n          scrollUpdateWasRequested: scrollUpdateWasRequested\n        });\n      });\n      _this._getItemStyle = void 0;\n\n      _this._getItemStyle = function (rowIndex, columnIndex) {\n        var _this$props = _this.props,\n            columnWidth = _this$props.columnWidth,\n            direction = _this$props.direction,\n            rowHeight = _this$props.rowHeight;\n\n        var itemStyleCache = _this._getItemStyleCache(shouldResetStyleCacheOnItemSizeChange && columnWidth, shouldResetStyleCacheOnItemSizeChange && direction, shouldResetStyleCacheOnItemSizeChange && rowHeight);\n\n        var key = rowIndex + \":\" + columnIndex;\n        var style;\n\n        if (itemStyleCache.hasOwnProperty(key)) {\n          style = itemStyleCache[key];\n        } else {\n          var _offset = getColumnOffset(_this.props, columnIndex, _this._instanceProps);\n\n          var isRtl = direction === 'rtl';\n          itemStyleCache[key] = style = {\n            position: 'absolute',\n            left: isRtl ? undefined : _offset,\n            right: isRtl ? _offset : undefined,\n            top: getRowOffset(_this.props, rowIndex, _this._instanceProps),\n            height: getRowHeight(_this.props, rowIndex, _this._instanceProps),\n            width: getColumnWidth(_this.props, columnIndex, _this._instanceProps)\n          };\n        }\n\n        return style;\n      };\n\n      _this._getItemStyleCache = void 0;\n      _this._getItemStyleCache = memoizeOne(function (_, __, ___) {\n        return {};\n      });\n\n      _this._onScroll = function (event) {\n        var _event$currentTarget = event.currentTarget,\n            clientHeight = _event$currentTarget.clientHeight,\n            clientWidth = _event$currentTarget.clientWidth,\n            scrollLeft = _event$currentTarget.scrollLeft,\n            scrollTop = _event$currentTarget.scrollTop,\n            scrollHeight = _event$currentTarget.scrollHeight,\n            scrollWidth = _event$currentTarget.scrollWidth;\n\n        _this.setState(function (prevState) {\n          if (prevState.scrollLeft === scrollLeft && prevState.scrollTop === scrollTop) {\n            // Scroll position may have been updated by cDM/cDU,\n            // In which case we don't need to trigger another render,\n            // And we don't want to update state.isScrolling.\n            return null;\n          }\n\n          var direction = _this.props.direction; // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n          // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n          // It's also easier for this component if we convert offsets to the same format as they would be in for ltr.\n          // So the simplest solution is to determine which browser behavior we're dealing with, and convert based on it.\n\n          var calculatedScrollLeft = scrollLeft;\n\n          if (direction === 'rtl') {\n            switch (getRTLOffsetType()) {\n              case 'negative':\n                calculatedScrollLeft = -scrollLeft;\n                break;\n\n              case 'positive-descending':\n                calculatedScrollLeft = scrollWidth - clientWidth - scrollLeft;\n                break;\n            }\n          } // Prevent Safari's elastic scrolling from causing visual shaking when scrolling past bounds.\n\n\n          calculatedScrollLeft = Math.max(0, Math.min(calculatedScrollLeft, scrollWidth - clientWidth));\n          var calculatedScrollTop = Math.max(0, Math.min(scrollTop, scrollHeight - clientHeight));\n          return {\n            isScrolling: true,\n            horizontalScrollDirection: prevState.scrollLeft < scrollLeft ? 'forward' : 'backward',\n            scrollLeft: calculatedScrollLeft,\n            scrollTop: calculatedScrollTop,\n            verticalScrollDirection: prevState.scrollTop < scrollTop ? 'forward' : 'backward',\n            scrollUpdateWasRequested: false\n          };\n        }, _this._resetIsScrollingDebounced);\n      };\n\n      _this._outerRefSetter = function (ref) {\n        var outerRef = _this.props.outerRef;\n        _this._outerRef = ref;\n\n        if (typeof outerRef === 'function') {\n          outerRef(ref);\n        } else if (outerRef != null && typeof outerRef === 'object' && outerRef.hasOwnProperty('current')) {\n          outerRef.current = ref;\n        }\n      };\n\n      _this._resetIsScrollingDebounced = function () {\n        if (_this._resetIsScrollingTimeoutId !== null) {\n          cancelTimeout(_this._resetIsScrollingTimeoutId);\n        }\n\n        _this._resetIsScrollingTimeoutId = requestTimeout(_this._resetIsScrolling, IS_SCROLLING_DEBOUNCE_INTERVAL);\n      };\n\n      _this._resetIsScrolling = function () {\n        _this._resetIsScrollingTimeoutId = null;\n\n        _this.setState({\n          isScrolling: false\n        }, function () {\n          // Clear style cache after state update has been committed.\n          // This way we don't break pure sCU for items that don't use isScrolling param.\n          _this._getItemStyleCache(-1);\n        });\n      };\n\n      return _this;\n    }\n\n    Grid.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n      validateSharedProps(nextProps, prevState);\n      validateProps(nextProps);\n      return null;\n    };\n\n    var _proto = Grid.prototype;\n\n    _proto.scrollTo = function scrollTo(_ref3) {\n      var scrollLeft = _ref3.scrollLeft,\n          scrollTop = _ref3.scrollTop;\n\n      if (scrollLeft !== undefined) {\n        scrollLeft = Math.max(0, scrollLeft);\n      }\n\n      if (scrollTop !== undefined) {\n        scrollTop = Math.max(0, scrollTop);\n      }\n\n      this.setState(function (prevState) {\n        if (scrollLeft === undefined) {\n          scrollLeft = prevState.scrollLeft;\n        }\n\n        if (scrollTop === undefined) {\n          scrollTop = prevState.scrollTop;\n        }\n\n        if (prevState.scrollLeft === scrollLeft && prevState.scrollTop === scrollTop) {\n          return null;\n        }\n\n        return {\n          horizontalScrollDirection: prevState.scrollLeft < scrollLeft ? 'forward' : 'backward',\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop,\n          scrollUpdateWasRequested: true,\n          verticalScrollDirection: prevState.scrollTop < scrollTop ? 'forward' : 'backward'\n        };\n      }, this._resetIsScrollingDebounced);\n    };\n\n    _proto.scrollToItem = function scrollToItem(_ref4) {\n      var _ref4$align = _ref4.align,\n          align = _ref4$align === void 0 ? 'auto' : _ref4$align,\n          columnIndex = _ref4.columnIndex,\n          rowIndex = _ref4.rowIndex;\n      var _this$props2 = this.props,\n          columnCount = _this$props2.columnCount,\n          height = _this$props2.height,\n          rowCount = _this$props2.rowCount,\n          width = _this$props2.width;\n      var _this$state = this.state,\n          scrollLeft = _this$state.scrollLeft,\n          scrollTop = _this$state.scrollTop;\n      var scrollbarSize = getScrollbarSize();\n\n      if (columnIndex !== undefined) {\n        columnIndex = Math.max(0, Math.min(columnIndex, columnCount - 1));\n      }\n\n      if (rowIndex !== undefined) {\n        rowIndex = Math.max(0, Math.min(rowIndex, rowCount - 1));\n      }\n\n      var estimatedTotalHeight = getEstimatedTotalHeight(this.props, this._instanceProps);\n      var estimatedTotalWidth = getEstimatedTotalWidth(this.props, this._instanceProps); // The scrollbar size should be considered when scrolling an item into view,\n      // to ensure it's fully visible.\n      // But we only need to account for its size when it's actually visible.\n\n      var horizontalScrollbarSize = estimatedTotalWidth > width ? scrollbarSize : 0;\n      var verticalScrollbarSize = estimatedTotalHeight > height ? scrollbarSize : 0;\n      this.scrollTo({\n        scrollLeft: columnIndex !== undefined ? getOffsetForColumnAndAlignment(this.props, columnIndex, align, scrollLeft, this._instanceProps, verticalScrollbarSize) : scrollLeft,\n        scrollTop: rowIndex !== undefined ? getOffsetForRowAndAlignment(this.props, rowIndex, align, scrollTop, this._instanceProps, horizontalScrollbarSize) : scrollTop\n      });\n    };\n\n    _proto.componentDidMount = function componentDidMount() {\n      var _this$props3 = this.props,\n          initialScrollLeft = _this$props3.initialScrollLeft,\n          initialScrollTop = _this$props3.initialScrollTop;\n\n      if (this._outerRef != null) {\n        var outerRef = this._outerRef;\n\n        if (typeof initialScrollLeft === 'number') {\n          outerRef.scrollLeft = initialScrollLeft;\n        }\n\n        if (typeof initialScrollTop === 'number') {\n          outerRef.scrollTop = initialScrollTop;\n        }\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentDidUpdate = function componentDidUpdate() {\n      var direction = this.props.direction;\n      var _this$state2 = this.state,\n          scrollLeft = _this$state2.scrollLeft,\n          scrollTop = _this$state2.scrollTop,\n          scrollUpdateWasRequested = _this$state2.scrollUpdateWasRequested;\n\n      if (scrollUpdateWasRequested && this._outerRef != null) {\n        // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n        // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n        // So we need to determine which browser behavior we're dealing with, and mimic it.\n        var outerRef = this._outerRef;\n\n        if (direction === 'rtl') {\n          switch (getRTLOffsetType()) {\n            case 'negative':\n              outerRef.scrollLeft = -scrollLeft;\n              break;\n\n            case 'positive-ascending':\n              outerRef.scrollLeft = scrollLeft;\n              break;\n\n            default:\n              var clientWidth = outerRef.clientWidth,\n                  scrollWidth = outerRef.scrollWidth;\n              outerRef.scrollLeft = scrollWidth - clientWidth - scrollLeft;\n              break;\n          }\n        } else {\n          outerRef.scrollLeft = Math.max(0, scrollLeft);\n        }\n\n        outerRef.scrollTop = Math.max(0, scrollTop);\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      if (this._resetIsScrollingTimeoutId !== null) {\n        cancelTimeout(this._resetIsScrollingTimeoutId);\n      }\n    };\n\n    _proto.render = function render() {\n      var _this$props4 = this.props,\n          children = _this$props4.children,\n          className = _this$props4.className,\n          columnCount = _this$props4.columnCount,\n          direction = _this$props4.direction,\n          height = _this$props4.height,\n          innerRef = _this$props4.innerRef,\n          innerElementType = _this$props4.innerElementType,\n          innerTagName = _this$props4.innerTagName,\n          itemData = _this$props4.itemData,\n          _this$props4$itemKey = _this$props4.itemKey,\n          itemKey = _this$props4$itemKey === void 0 ? defaultItemKey : _this$props4$itemKey,\n          outerElementType = _this$props4.outerElementType,\n          outerTagName = _this$props4.outerTagName,\n          rowCount = _this$props4.rowCount,\n          style = _this$props4.style,\n          useIsScrolling = _this$props4.useIsScrolling,\n          width = _this$props4.width;\n      var isScrolling = this.state.isScrolling;\n\n      var _this$_getHorizontalR = this._getHorizontalRangeToRender(),\n          columnStartIndex = _this$_getHorizontalR[0],\n          columnStopIndex = _this$_getHorizontalR[1];\n\n      var _this$_getVerticalRan = this._getVerticalRangeToRender(),\n          rowStartIndex = _this$_getVerticalRan[0],\n          rowStopIndex = _this$_getVerticalRan[1];\n\n      var items = [];\n\n      if (columnCount > 0 && rowCount) {\n        for (var _rowIndex = rowStartIndex; _rowIndex <= rowStopIndex; _rowIndex++) {\n          for (var _columnIndex = columnStartIndex; _columnIndex <= columnStopIndex; _columnIndex++) {\n            items.push(createElement(children, {\n              columnIndex: _columnIndex,\n              data: itemData,\n              isScrolling: useIsScrolling ? isScrolling : undefined,\n              key: itemKey({\n                columnIndex: _columnIndex,\n                data: itemData,\n                rowIndex: _rowIndex\n              }),\n              rowIndex: _rowIndex,\n              style: this._getItemStyle(_rowIndex, _columnIndex)\n            }));\n          }\n        }\n      } // Read this value AFTER items have been created,\n      // So their actual sizes (if variable) are taken into consideration.\n\n\n      var estimatedTotalHeight = getEstimatedTotalHeight(this.props, this._instanceProps);\n      var estimatedTotalWidth = getEstimatedTotalWidth(this.props, this._instanceProps);\n      return createElement(outerElementType || outerTagName || 'div', {\n        className: className,\n        onScroll: this._onScroll,\n        ref: this._outerRefSetter,\n        style: _extends({\n          position: 'relative',\n          height: height,\n          width: width,\n          overflow: 'auto',\n          WebkitOverflowScrolling: 'touch',\n          willChange: 'transform',\n          direction: direction\n        }, style)\n      }, createElement(innerElementType || innerTagName || 'div', {\n        children: items,\n        ref: innerRef,\n        style: {\n          height: estimatedTotalHeight,\n          pointerEvents: isScrolling ? 'none' : undefined,\n          width: estimatedTotalWidth\n        }\n      }));\n    };\n\n    _proto._callPropsCallbacks = function _callPropsCallbacks() {\n      var _this$props5 = this.props,\n          columnCount = _this$props5.columnCount,\n          onItemsRendered = _this$props5.onItemsRendered,\n          onScroll = _this$props5.onScroll,\n          rowCount = _this$props5.rowCount;\n\n      if (typeof onItemsRendered === 'function') {\n        if (columnCount > 0 && rowCount > 0) {\n          var _this$_getHorizontalR2 = this._getHorizontalRangeToRender(),\n              _overscanColumnStartIndex = _this$_getHorizontalR2[0],\n              _overscanColumnStopIndex = _this$_getHorizontalR2[1],\n              _visibleColumnStartIndex = _this$_getHorizontalR2[2],\n              _visibleColumnStopIndex = _this$_getHorizontalR2[3];\n\n          var _this$_getVerticalRan2 = this._getVerticalRangeToRender(),\n              _overscanRowStartIndex = _this$_getVerticalRan2[0],\n              _overscanRowStopIndex = _this$_getVerticalRan2[1],\n              _visibleRowStartIndex = _this$_getVerticalRan2[2],\n              _visibleRowStopIndex = _this$_getVerticalRan2[3];\n\n          this._callOnItemsRendered(_overscanColumnStartIndex, _overscanColumnStopIndex, _overscanRowStartIndex, _overscanRowStopIndex, _visibleColumnStartIndex, _visibleColumnStopIndex, _visibleRowStartIndex, _visibleRowStopIndex);\n        }\n      }\n\n      if (typeof onScroll === 'function') {\n        var _this$state3 = this.state,\n            _horizontalScrollDirection = _this$state3.horizontalScrollDirection,\n            _scrollLeft = _this$state3.scrollLeft,\n            _scrollTop = _this$state3.scrollTop,\n            _scrollUpdateWasRequested = _this$state3.scrollUpdateWasRequested,\n            _verticalScrollDirection = _this$state3.verticalScrollDirection;\n\n        this._callOnScroll(_scrollLeft, _scrollTop, _horizontalScrollDirection, _verticalScrollDirection, _scrollUpdateWasRequested);\n      }\n    } // Lazily create and cache item styles while scrolling,\n    // So that pure component sCU will prevent re-renders.\n    // We maintain this cache, and pass a style prop rather than index,\n    // So that List can clear cached styles and force item re-render if necessary.\n    ;\n\n    _proto._getHorizontalRangeToRender = function _getHorizontalRangeToRender() {\n      var _this$props6 = this.props,\n          columnCount = _this$props6.columnCount,\n          overscanColumnCount = _this$props6.overscanColumnCount,\n          overscanColumnsCount = _this$props6.overscanColumnsCount,\n          overscanCount = _this$props6.overscanCount,\n          rowCount = _this$props6.rowCount;\n      var _this$state4 = this.state,\n          horizontalScrollDirection = _this$state4.horizontalScrollDirection,\n          isScrolling = _this$state4.isScrolling,\n          scrollLeft = _this$state4.scrollLeft;\n      var overscanCountResolved = overscanColumnCount || overscanColumnsCount || overscanCount || 1;\n\n      if (columnCount === 0 || rowCount === 0) {\n        return [0, 0, 0, 0];\n      }\n\n      var startIndex = getColumnStartIndexForOffset(this.props, scrollLeft, this._instanceProps);\n      var stopIndex = getColumnStopIndexForStartIndex(this.props, startIndex, scrollLeft, this._instanceProps); // Overscan by one item in each direction so that tab/focus works.\n      // If there isn't at least one extra item, tab loops back around.\n\n      var overscanBackward = !isScrolling || horizontalScrollDirection === 'backward' ? Math.max(1, overscanCountResolved) : 1;\n      var overscanForward = !isScrolling || horizontalScrollDirection === 'forward' ? Math.max(1, overscanCountResolved) : 1;\n      return [Math.max(0, startIndex - overscanBackward), Math.max(0, Math.min(columnCount - 1, stopIndex + overscanForward)), startIndex, stopIndex];\n    };\n\n    _proto._getVerticalRangeToRender = function _getVerticalRangeToRender() {\n      var _this$props7 = this.props,\n          columnCount = _this$props7.columnCount,\n          overscanCount = _this$props7.overscanCount,\n          overscanRowCount = _this$props7.overscanRowCount,\n          overscanRowsCount = _this$props7.overscanRowsCount,\n          rowCount = _this$props7.rowCount;\n      var _this$state5 = this.state,\n          isScrolling = _this$state5.isScrolling,\n          verticalScrollDirection = _this$state5.verticalScrollDirection,\n          scrollTop = _this$state5.scrollTop;\n      var overscanCountResolved = overscanRowCount || overscanRowsCount || overscanCount || 1;\n\n      if (columnCount === 0 || rowCount === 0) {\n        return [0, 0, 0, 0];\n      }\n\n      var startIndex = getRowStartIndexForOffset(this.props, scrollTop, this._instanceProps);\n      var stopIndex = getRowStopIndexForStartIndex(this.props, startIndex, scrollTop, this._instanceProps); // Overscan by one item in each direction so that tab/focus works.\n      // If there isn't at least one extra item, tab loops back around.\n\n      var overscanBackward = !isScrolling || verticalScrollDirection === 'backward' ? Math.max(1, overscanCountResolved) : 1;\n      var overscanForward = !isScrolling || verticalScrollDirection === 'forward' ? Math.max(1, overscanCountResolved) : 1;\n      return [Math.max(0, startIndex - overscanBackward), Math.max(0, Math.min(rowCount - 1, stopIndex + overscanForward)), startIndex, stopIndex];\n    };\n\n    return Grid;\n  }(PureComponent), _class.defaultProps = {\n    direction: 'ltr',\n    itemData: undefined,\n    useIsScrolling: false\n  }, _class;\n}\n\nvar validateSharedProps = function validateSharedProps(_ref5, _ref6) {\n  var children = _ref5.children,\n      direction = _ref5.direction,\n      height = _ref5.height,\n      innerTagName = _ref5.innerTagName,\n      outerTagName = _ref5.outerTagName,\n      overscanColumnsCount = _ref5.overscanColumnsCount,\n      overscanCount = _ref5.overscanCount,\n      overscanRowsCount = _ref5.overscanRowsCount,\n      width = _ref5.width;\n  var instance = _ref6.instance;\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof overscanCount === 'number') {\n      if (devWarningsOverscanCount && !devWarningsOverscanCount.has(instance)) {\n        devWarningsOverscanCount.add(instance);\n        console.warn('The overscanCount prop has been deprecated. ' + 'Please use the overscanColumnCount and overscanRowCount props instead.');\n      }\n    }\n\n    if (typeof overscanColumnsCount === 'number' || typeof overscanRowsCount === 'number') {\n      if (devWarningsOverscanRowsColumnsCount && !devWarningsOverscanRowsColumnsCount.has(instance)) {\n        devWarningsOverscanRowsColumnsCount.add(instance);\n        console.warn('The overscanColumnsCount and overscanRowsCount props have been deprecated. ' + 'Please use the overscanColumnCount and overscanRowCount props instead.');\n      }\n    }\n\n    if (innerTagName != null || outerTagName != null) {\n      if (devWarningsTagName && !devWarningsTagName.has(instance)) {\n        devWarningsTagName.add(instance);\n        console.warn('The innerTagName and outerTagName props have been deprecated. ' + 'Please use the innerElementType and outerElementType props instead.');\n      }\n    }\n\n    if (children == null) {\n      throw Error('An invalid \"children\" prop has been specified. ' + 'Value should be a React component. ' + (\"\\\"\" + (children === null ? 'null' : typeof children) + \"\\\" was specified.\"));\n    }\n\n    switch (direction) {\n      case 'ltr':\n      case 'rtl':\n        // Valid values\n        break;\n\n      default:\n        throw Error('An invalid \"direction\" prop has been specified. ' + 'Value should be either \"ltr\" or \"rtl\". ' + (\"\\\"\" + direction + \"\\\" was specified.\"));\n    }\n\n    if (typeof width !== 'number') {\n      throw Error('An invalid \"width\" prop has been specified. ' + 'Grids must specify a number for width. ' + (\"\\\"\" + (width === null ? 'null' : typeof width) + \"\\\" was specified.\"));\n    }\n\n    if (typeof height !== 'number') {\n      throw Error('An invalid \"height\" prop has been specified. ' + 'Grids must specify a number for height. ' + (\"\\\"\" + (height === null ? 'null' : typeof height) + \"\\\" was specified.\"));\n    }\n  }\n};\n\nvar DEFAULT_ESTIMATED_ITEM_SIZE = 50;\n\nvar getEstimatedTotalHeight = function getEstimatedTotalHeight(_ref, _ref2) {\n  var rowCount = _ref.rowCount;\n  var rowMetadataMap = _ref2.rowMetadataMap,\n      estimatedRowHeight = _ref2.estimatedRowHeight,\n      lastMeasuredRowIndex = _ref2.lastMeasuredRowIndex;\n  var totalSizeOfMeasuredRows = 0; // Edge case check for when the number of items decreases while a scroll is in progress.\n  // https://github.com/bvaughn/react-window/pull/138\n\n  if (lastMeasuredRowIndex >= rowCount) {\n    lastMeasuredRowIndex = rowCount - 1;\n  }\n\n  if (lastMeasuredRowIndex >= 0) {\n    var itemMetadata = rowMetadataMap[lastMeasuredRowIndex];\n    totalSizeOfMeasuredRows = itemMetadata.offset + itemMetadata.size;\n  }\n\n  var numUnmeasuredItems = rowCount - lastMeasuredRowIndex - 1;\n  var totalSizeOfUnmeasuredItems = numUnmeasuredItems * estimatedRowHeight;\n  return totalSizeOfMeasuredRows + totalSizeOfUnmeasuredItems;\n};\n\nvar getEstimatedTotalWidth = function getEstimatedTotalWidth(_ref3, _ref4) {\n  var columnCount = _ref3.columnCount;\n  var columnMetadataMap = _ref4.columnMetadataMap,\n      estimatedColumnWidth = _ref4.estimatedColumnWidth,\n      lastMeasuredColumnIndex = _ref4.lastMeasuredColumnIndex;\n  var totalSizeOfMeasuredRows = 0; // Edge case check for when the number of items decreases while a scroll is in progress.\n  // https://github.com/bvaughn/react-window/pull/138\n\n  if (lastMeasuredColumnIndex >= columnCount) {\n    lastMeasuredColumnIndex = columnCount - 1;\n  }\n\n  if (lastMeasuredColumnIndex >= 0) {\n    var itemMetadata = columnMetadataMap[lastMeasuredColumnIndex];\n    totalSizeOfMeasuredRows = itemMetadata.offset + itemMetadata.size;\n  }\n\n  var numUnmeasuredItems = columnCount - lastMeasuredColumnIndex - 1;\n  var totalSizeOfUnmeasuredItems = numUnmeasuredItems * estimatedColumnWidth;\n  return totalSizeOfMeasuredRows + totalSizeOfUnmeasuredItems;\n};\n\nvar getItemMetadata = function getItemMetadata(itemType, props, index, instanceProps) {\n  var itemMetadataMap, itemSize, lastMeasuredIndex;\n\n  if (itemType === 'column') {\n    itemMetadataMap = instanceProps.columnMetadataMap;\n    itemSize = props.columnWidth;\n    lastMeasuredIndex = instanceProps.lastMeasuredColumnIndex;\n  } else {\n    itemMetadataMap = instanceProps.rowMetadataMap;\n    itemSize = props.rowHeight;\n    lastMeasuredIndex = instanceProps.lastMeasuredRowIndex;\n  }\n\n  if (index > lastMeasuredIndex) {\n    var offset = 0;\n\n    if (lastMeasuredIndex >= 0) {\n      var itemMetadata = itemMetadataMap[lastMeasuredIndex];\n      offset = itemMetadata.offset + itemMetadata.size;\n    }\n\n    for (var i = lastMeasuredIndex + 1; i <= index; i++) {\n      var size = itemSize(i);\n      itemMetadataMap[i] = {\n        offset: offset,\n        size: size\n      };\n      offset += size;\n    }\n\n    if (itemType === 'column') {\n      instanceProps.lastMeasuredColumnIndex = index;\n    } else {\n      instanceProps.lastMeasuredRowIndex = index;\n    }\n  }\n\n  return itemMetadataMap[index];\n};\n\nvar findNearestItem = function findNearestItem(itemType, props, instanceProps, offset) {\n  var itemMetadataMap, lastMeasuredIndex;\n\n  if (itemType === 'column') {\n    itemMetadataMap = instanceProps.columnMetadataMap;\n    lastMeasuredIndex = instanceProps.lastMeasuredColumnIndex;\n  } else {\n    itemMetadataMap = instanceProps.rowMetadataMap;\n    lastMeasuredIndex = instanceProps.lastMeasuredRowIndex;\n  }\n\n  var lastMeasuredItemOffset = lastMeasuredIndex > 0 ? itemMetadataMap[lastMeasuredIndex].offset : 0;\n\n  if (lastMeasuredItemOffset >= offset) {\n    // If we've already measured items within this range just use a binary search as it's faster.\n    return findNearestItemBinarySearch(itemType, props, instanceProps, lastMeasuredIndex, 0, offset);\n  } else {\n    // If we haven't yet measured this high, fallback to an exponential search with an inner binary search.\n    // The exponential search avoids pre-computing sizes for the full set of items as a binary search would.\n    // The overall complexity for this approach is O(log n).\n    return findNearestItemExponentialSearch(itemType, props, instanceProps, Math.max(0, lastMeasuredIndex), offset);\n  }\n};\n\nvar findNearestItemBinarySearch = function findNearestItemBinarySearch(itemType, props, instanceProps, high, low, offset) {\n  while (low <= high) {\n    var middle = low + Math.floor((high - low) / 2);\n    var currentOffset = getItemMetadata(itemType, props, middle, instanceProps).offset;\n\n    if (currentOffset === offset) {\n      return middle;\n    } else if (currentOffset < offset) {\n      low = middle + 1;\n    } else if (currentOffset > offset) {\n      high = middle - 1;\n    }\n  }\n\n  if (low > 0) {\n    return low - 1;\n  } else {\n    return 0;\n  }\n};\n\nvar findNearestItemExponentialSearch = function findNearestItemExponentialSearch(itemType, props, instanceProps, index, offset) {\n  var itemCount = itemType === 'column' ? props.columnCount : props.rowCount;\n  var interval = 1;\n\n  while (index < itemCount && getItemMetadata(itemType, props, index, instanceProps).offset < offset) {\n    index += interval;\n    interval *= 2;\n  }\n\n  return findNearestItemBinarySearch(itemType, props, instanceProps, Math.min(index, itemCount - 1), Math.floor(index / 2), offset);\n};\n\nvar getOffsetForIndexAndAlignment = function getOffsetForIndexAndAlignment(itemType, props, index, align, scrollOffset, instanceProps, scrollbarSize) {\n  var size = itemType === 'column' ? props.width : props.height;\n  var itemMetadata = getItemMetadata(itemType, props, index, instanceProps); // Get estimated total size after ItemMetadata is computed,\n  // To ensure it reflects actual measurements instead of just estimates.\n\n  var estimatedTotalSize = itemType === 'column' ? getEstimatedTotalWidth(props, instanceProps) : getEstimatedTotalHeight(props, instanceProps);\n  var maxOffset = Math.max(0, Math.min(estimatedTotalSize - size, itemMetadata.offset));\n  var minOffset = Math.max(0, itemMetadata.offset - size + scrollbarSize + itemMetadata.size);\n\n  if (align === 'smart') {\n    if (scrollOffset >= minOffset - size && scrollOffset <= maxOffset + size) {\n      align = 'auto';\n    } else {\n      align = 'center';\n    }\n  }\n\n  switch (align) {\n    case 'start':\n      return maxOffset;\n\n    case 'end':\n      return minOffset;\n\n    case 'center':\n      return Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n    case 'auto':\n    default:\n      if (scrollOffset >= minOffset && scrollOffset <= maxOffset) {\n        return scrollOffset;\n      } else if (minOffset > maxOffset) {\n        // Because we only take into account the scrollbar size when calculating minOffset\n        // this value can be larger than maxOffset when at the end of the list\n        return minOffset;\n      } else if (scrollOffset < minOffset) {\n        return minOffset;\n      } else {\n        return maxOffset;\n      }\n\n  }\n};\n\nvar VariableSizeGrid = /*#__PURE__*/createGridComponent({\n  getColumnOffset: function getColumnOffset(props, index, instanceProps) {\n    return getItemMetadata('column', props, index, instanceProps).offset;\n  },\n  getColumnStartIndexForOffset: function getColumnStartIndexForOffset(props, scrollLeft, instanceProps) {\n    return findNearestItem('column', props, instanceProps, scrollLeft);\n  },\n  getColumnStopIndexForStartIndex: function getColumnStopIndexForStartIndex(props, startIndex, scrollLeft, instanceProps) {\n    var columnCount = props.columnCount,\n        width = props.width;\n    var itemMetadata = getItemMetadata('column', props, startIndex, instanceProps);\n    var maxOffset = scrollLeft + width;\n    var offset = itemMetadata.offset + itemMetadata.size;\n    var stopIndex = startIndex;\n\n    while (stopIndex < columnCount - 1 && offset < maxOffset) {\n      stopIndex++;\n      offset += getItemMetadata('column', props, stopIndex, instanceProps).size;\n    }\n\n    return stopIndex;\n  },\n  getColumnWidth: function getColumnWidth(props, index, instanceProps) {\n    return instanceProps.columnMetadataMap[index].size;\n  },\n  getEstimatedTotalHeight: getEstimatedTotalHeight,\n  getEstimatedTotalWidth: getEstimatedTotalWidth,\n  getOffsetForColumnAndAlignment: function getOffsetForColumnAndAlignment(props, index, align, scrollOffset, instanceProps, scrollbarSize) {\n    return getOffsetForIndexAndAlignment('column', props, index, align, scrollOffset, instanceProps, scrollbarSize);\n  },\n  getOffsetForRowAndAlignment: function getOffsetForRowAndAlignment(props, index, align, scrollOffset, instanceProps, scrollbarSize) {\n    return getOffsetForIndexAndAlignment('row', props, index, align, scrollOffset, instanceProps, scrollbarSize);\n  },\n  getRowOffset: function getRowOffset(props, index, instanceProps) {\n    return getItemMetadata('row', props, index, instanceProps).offset;\n  },\n  getRowHeight: function getRowHeight(props, index, instanceProps) {\n    return instanceProps.rowMetadataMap[index].size;\n  },\n  getRowStartIndexForOffset: function getRowStartIndexForOffset(props, scrollTop, instanceProps) {\n    return findNearestItem('row', props, instanceProps, scrollTop);\n  },\n  getRowStopIndexForStartIndex: function getRowStopIndexForStartIndex(props, startIndex, scrollTop, instanceProps) {\n    var rowCount = props.rowCount,\n        height = props.height;\n    var itemMetadata = getItemMetadata('row', props, startIndex, instanceProps);\n    var maxOffset = scrollTop + height;\n    var offset = itemMetadata.offset + itemMetadata.size;\n    var stopIndex = startIndex;\n\n    while (stopIndex < rowCount - 1 && offset < maxOffset) {\n      stopIndex++;\n      offset += getItemMetadata('row', props, stopIndex, instanceProps).size;\n    }\n\n    return stopIndex;\n  },\n  initInstanceProps: function initInstanceProps(props, instance) {\n    var _ref5 = props,\n        estimatedColumnWidth = _ref5.estimatedColumnWidth,\n        estimatedRowHeight = _ref5.estimatedRowHeight;\n    var instanceProps = {\n      columnMetadataMap: {},\n      estimatedColumnWidth: estimatedColumnWidth || DEFAULT_ESTIMATED_ITEM_SIZE,\n      estimatedRowHeight: estimatedRowHeight || DEFAULT_ESTIMATED_ITEM_SIZE,\n      lastMeasuredColumnIndex: -1,\n      lastMeasuredRowIndex: -1,\n      rowMetadataMap: {}\n    };\n\n    instance.resetAfterColumnIndex = function (columnIndex, shouldForceUpdate) {\n      if (shouldForceUpdate === void 0) {\n        shouldForceUpdate = true;\n      }\n\n      instance.resetAfterIndices({\n        columnIndex: columnIndex,\n        shouldForceUpdate: shouldForceUpdate\n      });\n    };\n\n    instance.resetAfterRowIndex = function (rowIndex, shouldForceUpdate) {\n      if (shouldForceUpdate === void 0) {\n        shouldForceUpdate = true;\n      }\n\n      instance.resetAfterIndices({\n        rowIndex: rowIndex,\n        shouldForceUpdate: shouldForceUpdate\n      });\n    };\n\n    instance.resetAfterIndices = function (_ref6) {\n      var columnIndex = _ref6.columnIndex,\n          rowIndex = _ref6.rowIndex,\n          _ref6$shouldForceUpda = _ref6.shouldForceUpdate,\n          shouldForceUpdate = _ref6$shouldForceUpda === void 0 ? true : _ref6$shouldForceUpda;\n\n      if (typeof columnIndex === 'number') {\n        instanceProps.lastMeasuredColumnIndex = Math.min(instanceProps.lastMeasuredColumnIndex, columnIndex - 1);\n      }\n\n      if (typeof rowIndex === 'number') {\n        instanceProps.lastMeasuredRowIndex = Math.min(instanceProps.lastMeasuredRowIndex, rowIndex - 1);\n      } // We could potentially optimize further by only evicting styles after this index,\n      // But since styles are only cached while scrolling is in progress-\n      // It seems an unnecessary optimization.\n      // It's unlikely that resetAfterIndex() will be called while a user is scrolling.\n\n\n      instance._getItemStyleCache(-1);\n\n      if (shouldForceUpdate) {\n        instance.forceUpdate();\n      }\n    };\n\n    return instanceProps;\n  },\n  shouldResetStyleCacheOnItemSizeChange: false,\n  validateProps: function validateProps(_ref7) {\n    var columnWidth = _ref7.columnWidth,\n        rowHeight = _ref7.rowHeight;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof columnWidth !== 'function') {\n        throw Error('An invalid \"columnWidth\" prop has been specified. ' + 'Value should be a function. ' + (\"\\\"\" + (columnWidth === null ? 'null' : typeof columnWidth) + \"\\\" was specified.\"));\n      } else if (typeof rowHeight !== 'function') {\n        throw Error('An invalid \"rowHeight\" prop has been specified. ' + 'Value should be a function. ' + (\"\\\"\" + (rowHeight === null ? 'null' : typeof rowHeight) + \"\\\" was specified.\"));\n      }\n    }\n  }\n});\n\nvar IS_SCROLLING_DEBOUNCE_INTERVAL$1 = 150;\n\nvar defaultItemKey$1 = function defaultItemKey(index, data) {\n  return index;\n}; // In DEV mode, this Set helps us only log a warning once per component instance.\n// This avoids spamming the console every time a render happens.\n\n\nvar devWarningsDirection = null;\nvar devWarningsTagName$1 = null;\n\nif (process.env.NODE_ENV !== 'production') {\n  if (typeof window !== 'undefined' && typeof window.WeakSet !== 'undefined') {\n    devWarningsDirection = /*#__PURE__*/new WeakSet();\n    devWarningsTagName$1 = /*#__PURE__*/new WeakSet();\n  }\n}\n\nfunction createListComponent(_ref) {\n  var _class;\n\n  var getItemOffset = _ref.getItemOffset,\n      getEstimatedTotalSize = _ref.getEstimatedTotalSize,\n      getItemSize = _ref.getItemSize,\n      getOffsetForIndexAndAlignment = _ref.getOffsetForIndexAndAlignment,\n      getStartIndexForOffset = _ref.getStartIndexForOffset,\n      getStopIndexForStartIndex = _ref.getStopIndexForStartIndex,\n      initInstanceProps = _ref.initInstanceProps,\n      shouldResetStyleCacheOnItemSizeChange = _ref.shouldResetStyleCacheOnItemSizeChange,\n      validateProps = _ref.validateProps;\n  return _class = /*#__PURE__*/function (_PureComponent) {\n    _inheritsLoose(List, _PureComponent);\n\n    // Always use explicit constructor for React components.\n    // It produces less code after transpilation. (#26)\n    // eslint-disable-next-line no-useless-constructor\n    function List(props) {\n      var _this;\n\n      _this = _PureComponent.call(this, props) || this;\n      _this._instanceProps = initInstanceProps(_this.props, _assertThisInitialized(_this));\n      _this._outerRef = void 0;\n      _this._resetIsScrollingTimeoutId = null;\n      _this.state = {\n        instance: _assertThisInitialized(_this),\n        isScrolling: false,\n        scrollDirection: 'forward',\n        scrollOffset: typeof _this.props.initialScrollOffset === 'number' ? _this.props.initialScrollOffset : 0,\n        scrollUpdateWasRequested: false\n      };\n      _this._callOnItemsRendered = void 0;\n      _this._callOnItemsRendered = memoizeOne(function (overscanStartIndex, overscanStopIndex, visibleStartIndex, visibleStopIndex) {\n        return _this.props.onItemsRendered({\n          overscanStartIndex: overscanStartIndex,\n          overscanStopIndex: overscanStopIndex,\n          visibleStartIndex: visibleStartIndex,\n          visibleStopIndex: visibleStopIndex\n        });\n      });\n      _this._callOnScroll = void 0;\n      _this._callOnScroll = memoizeOne(function (scrollDirection, scrollOffset, scrollUpdateWasRequested) {\n        return _this.props.onScroll({\n          scrollDirection: scrollDirection,\n          scrollOffset: scrollOffset,\n          scrollUpdateWasRequested: scrollUpdateWasRequested\n        });\n      });\n      _this._getItemStyle = void 0;\n\n      _this._getItemStyle = function (index) {\n        var _this$props = _this.props,\n            direction = _this$props.direction,\n            itemSize = _this$props.itemSize,\n            layout = _this$props.layout;\n\n        var itemStyleCache = _this._getItemStyleCache(shouldResetStyleCacheOnItemSizeChange && itemSize, shouldResetStyleCacheOnItemSizeChange && layout, shouldResetStyleCacheOnItemSizeChange && direction);\n\n        var style;\n\n        if (itemStyleCache.hasOwnProperty(index)) {\n          style = itemStyleCache[index];\n        } else {\n          var _offset = getItemOffset(_this.props, index, _this._instanceProps);\n\n          var size = getItemSize(_this.props, index, _this._instanceProps); // TODO Deprecate direction \"horizontal\"\n\n          var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n          var isRtl = direction === 'rtl';\n          var offsetHorizontal = isHorizontal ? _offset : 0;\n          itemStyleCache[index] = style = {\n            position: 'absolute',\n            left: isRtl ? undefined : offsetHorizontal,\n            right: isRtl ? offsetHorizontal : undefined,\n            top: !isHorizontal ? _offset : 0,\n            height: !isHorizontal ? size : '100%',\n            width: isHorizontal ? size : '100%'\n          };\n        }\n\n        return style;\n      };\n\n      _this._getItemStyleCache = void 0;\n      _this._getItemStyleCache = memoizeOne(function (_, __, ___) {\n        return {};\n      });\n\n      _this._onScrollHorizontal = function (event) {\n        var _event$currentTarget = event.currentTarget,\n            clientWidth = _event$currentTarget.clientWidth,\n            scrollLeft = _event$currentTarget.scrollLeft,\n            scrollWidth = _event$currentTarget.scrollWidth;\n\n        _this.setState(function (prevState) {\n          if (prevState.scrollOffset === scrollLeft) {\n            // Scroll position may have been updated by cDM/cDU,\n            // In which case we don't need to trigger another render,\n            // And we don't want to update state.isScrolling.\n            return null;\n          }\n\n          var direction = _this.props.direction;\n          var scrollOffset = scrollLeft;\n\n          if (direction === 'rtl') {\n            // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n            // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n            // It's also easier for this component if we convert offsets to the same format as they would be in for ltr.\n            // So the simplest solution is to determine which browser behavior we're dealing with, and convert based on it.\n            switch (getRTLOffsetType()) {\n              case 'negative':\n                scrollOffset = -scrollLeft;\n                break;\n\n              case 'positive-descending':\n                scrollOffset = scrollWidth - clientWidth - scrollLeft;\n                break;\n            }\n          } // Prevent Safari's elastic scrolling from causing visual shaking when scrolling past bounds.\n\n\n          scrollOffset = Math.max(0, Math.min(scrollOffset, scrollWidth - clientWidth));\n          return {\n            isScrolling: true,\n            scrollDirection: prevState.scrollOffset < scrollLeft ? 'forward' : 'backward',\n            scrollOffset: scrollOffset,\n            scrollUpdateWasRequested: false\n          };\n        }, _this._resetIsScrollingDebounced);\n      };\n\n      _this._onScrollVertical = function (event) {\n        var _event$currentTarget2 = event.currentTarget,\n            clientHeight = _event$currentTarget2.clientHeight,\n            scrollHeight = _event$currentTarget2.scrollHeight,\n            scrollTop = _event$currentTarget2.scrollTop;\n\n        _this.setState(function (prevState) {\n          if (prevState.scrollOffset === scrollTop) {\n            // Scroll position may have been updated by cDM/cDU,\n            // In which case we don't need to trigger another render,\n            // And we don't want to update state.isScrolling.\n            return null;\n          } // Prevent Safari's elastic scrolling from causing visual shaking when scrolling past bounds.\n\n\n          var scrollOffset = Math.max(0, Math.min(scrollTop, scrollHeight - clientHeight));\n          return {\n            isScrolling: true,\n            scrollDirection: prevState.scrollOffset < scrollOffset ? 'forward' : 'backward',\n            scrollOffset: scrollOffset,\n            scrollUpdateWasRequested: false\n          };\n        }, _this._resetIsScrollingDebounced);\n      };\n\n      _this._outerRefSetter = function (ref) {\n        var outerRef = _this.props.outerRef;\n        _this._outerRef = ref;\n\n        if (typeof outerRef === 'function') {\n          outerRef(ref);\n        } else if (outerRef != null && typeof outerRef === 'object' && outerRef.hasOwnProperty('current')) {\n          outerRef.current = ref;\n        }\n      };\n\n      _this._resetIsScrollingDebounced = function () {\n        if (_this._resetIsScrollingTimeoutId !== null) {\n          cancelTimeout(_this._resetIsScrollingTimeoutId);\n        }\n\n        _this._resetIsScrollingTimeoutId = requestTimeout(_this._resetIsScrolling, IS_SCROLLING_DEBOUNCE_INTERVAL$1);\n      };\n\n      _this._resetIsScrolling = function () {\n        _this._resetIsScrollingTimeoutId = null;\n\n        _this.setState({\n          isScrolling: false\n        }, function () {\n          // Clear style cache after state update has been committed.\n          // This way we don't break pure sCU for items that don't use isScrolling param.\n          _this._getItemStyleCache(-1, null);\n        });\n      };\n\n      return _this;\n    }\n\n    List.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n      validateSharedProps$1(nextProps, prevState);\n      validateProps(nextProps);\n      return null;\n    };\n\n    var _proto = List.prototype;\n\n    _proto.scrollTo = function scrollTo(scrollOffset) {\n      scrollOffset = Math.max(0, scrollOffset);\n      this.setState(function (prevState) {\n        if (prevState.scrollOffset === scrollOffset) {\n          return null;\n        }\n\n        return {\n          scrollDirection: prevState.scrollOffset < scrollOffset ? 'forward' : 'backward',\n          scrollOffset: scrollOffset,\n          scrollUpdateWasRequested: true\n        };\n      }, this._resetIsScrollingDebounced);\n    };\n\n    _proto.scrollToItem = function scrollToItem(index, align) {\n      if (align === void 0) {\n        align = 'auto';\n      }\n\n      var _this$props2 = this.props,\n          itemCount = _this$props2.itemCount,\n          layout = _this$props2.layout;\n      var scrollOffset = this.state.scrollOffset;\n      index = Math.max(0, Math.min(index, itemCount - 1)); // The scrollbar size should be considered when scrolling an item into view, to ensure it's fully visible.\n      // But we only need to account for its size when it's actually visible.\n      // This is an edge case for lists; normally they only scroll in the dominant direction.\n\n      var scrollbarSize = 0;\n\n      if (this._outerRef) {\n        var outerRef = this._outerRef;\n\n        if (layout === 'vertical') {\n          scrollbarSize = outerRef.scrollWidth > outerRef.clientWidth ? getScrollbarSize() : 0;\n        } else {\n          scrollbarSize = outerRef.scrollHeight > outerRef.clientHeight ? getScrollbarSize() : 0;\n        }\n      }\n\n      this.scrollTo(getOffsetForIndexAndAlignment(this.props, index, align, scrollOffset, this._instanceProps, scrollbarSize));\n    };\n\n    _proto.componentDidMount = function componentDidMount() {\n      var _this$props3 = this.props,\n          direction = _this$props3.direction,\n          initialScrollOffset = _this$props3.initialScrollOffset,\n          layout = _this$props3.layout;\n\n      if (typeof initialScrollOffset === 'number' && this._outerRef != null) {\n        var outerRef = this._outerRef; // TODO Deprecate direction \"horizontal\"\n\n        if (direction === 'horizontal' || layout === 'horizontal') {\n          outerRef.scrollLeft = initialScrollOffset;\n        } else {\n          outerRef.scrollTop = initialScrollOffset;\n        }\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentDidUpdate = function componentDidUpdate() {\n      var _this$props4 = this.props,\n          direction = _this$props4.direction,\n          layout = _this$props4.layout;\n      var _this$state = this.state,\n          scrollOffset = _this$state.scrollOffset,\n          scrollUpdateWasRequested = _this$state.scrollUpdateWasRequested;\n\n      if (scrollUpdateWasRequested && this._outerRef != null) {\n        var outerRef = this._outerRef; // TODO Deprecate direction \"horizontal\"\n\n        if (direction === 'horizontal' || layout === 'horizontal') {\n          if (direction === 'rtl') {\n            // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n            // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n            // So we need to determine which browser behavior we're dealing with, and mimic it.\n            switch (getRTLOffsetType()) {\n              case 'negative':\n                outerRef.scrollLeft = -scrollOffset;\n                break;\n\n              case 'positive-ascending':\n                outerRef.scrollLeft = scrollOffset;\n                break;\n\n              default:\n                var clientWidth = outerRef.clientWidth,\n                    scrollWidth = outerRef.scrollWidth;\n                outerRef.scrollLeft = scrollWidth - clientWidth - scrollOffset;\n                break;\n            }\n          } else {\n            outerRef.scrollLeft = scrollOffset;\n          }\n        } else {\n          outerRef.scrollTop = scrollOffset;\n        }\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      if (this._resetIsScrollingTimeoutId !== null) {\n        cancelTimeout(this._resetIsScrollingTimeoutId);\n      }\n    };\n\n    _proto.render = function render() {\n      var _this$props5 = this.props,\n          children = _this$props5.children,\n          className = _this$props5.className,\n          direction = _this$props5.direction,\n          height = _this$props5.height,\n          innerRef = _this$props5.innerRef,\n          innerElementType = _this$props5.innerElementType,\n          innerTagName = _this$props5.innerTagName,\n          itemCount = _this$props5.itemCount,\n          itemData = _this$props5.itemData,\n          _this$props5$itemKey = _this$props5.itemKey,\n          itemKey = _this$props5$itemKey === void 0 ? defaultItemKey$1 : _this$props5$itemKey,\n          layout = _this$props5.layout,\n          outerElementType = _this$props5.outerElementType,\n          outerTagName = _this$props5.outerTagName,\n          style = _this$props5.style,\n          useIsScrolling = _this$props5.useIsScrolling,\n          width = _this$props5.width;\n      var isScrolling = this.state.isScrolling; // TODO Deprecate direction \"horizontal\"\n\n      var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n      var onScroll = isHorizontal ? this._onScrollHorizontal : this._onScrollVertical;\n\n      var _this$_getRangeToRend = this._getRangeToRender(),\n          startIndex = _this$_getRangeToRend[0],\n          stopIndex = _this$_getRangeToRend[1];\n\n      var items = [];\n\n      if (itemCount > 0) {\n        for (var _index = startIndex; _index <= stopIndex; _index++) {\n          items.push(createElement(children, {\n            data: itemData,\n            key: itemKey(_index, itemData),\n            index: _index,\n            isScrolling: useIsScrolling ? isScrolling : undefined,\n            style: this._getItemStyle(_index)\n          }));\n        }\n      } // Read this value AFTER items have been created,\n      // So their actual sizes (if variable) are taken into consideration.\n\n\n      var estimatedTotalSize = getEstimatedTotalSize(this.props, this._instanceProps);\n      return createElement(outerElementType || outerTagName || 'div', {\n        className: className,\n        onScroll: onScroll,\n        ref: this._outerRefSetter,\n        style: _extends({\n          position: 'relative',\n          height: height,\n          width: width,\n          overflow: 'auto',\n          WebkitOverflowScrolling: 'touch',\n          willChange: 'transform',\n          direction: direction\n        }, style)\n      }, createElement(innerElementType || innerTagName || 'div', {\n        children: items,\n        ref: innerRef,\n        style: {\n          height: isHorizontal ? '100%' : estimatedTotalSize,\n          pointerEvents: isScrolling ? 'none' : undefined,\n          width: isHorizontal ? estimatedTotalSize : '100%'\n        }\n      }));\n    };\n\n    _proto._callPropsCallbacks = function _callPropsCallbacks() {\n      if (typeof this.props.onItemsRendered === 'function') {\n        var itemCount = this.props.itemCount;\n\n        if (itemCount > 0) {\n          var _this$_getRangeToRend2 = this._getRangeToRender(),\n              _overscanStartIndex = _this$_getRangeToRend2[0],\n              _overscanStopIndex = _this$_getRangeToRend2[1],\n              _visibleStartIndex = _this$_getRangeToRend2[2],\n              _visibleStopIndex = _this$_getRangeToRend2[3];\n\n          this._callOnItemsRendered(_overscanStartIndex, _overscanStopIndex, _visibleStartIndex, _visibleStopIndex);\n        }\n      }\n\n      if (typeof this.props.onScroll === 'function') {\n        var _this$state2 = this.state,\n            _scrollDirection = _this$state2.scrollDirection,\n            _scrollOffset = _this$state2.scrollOffset,\n            _scrollUpdateWasRequested = _this$state2.scrollUpdateWasRequested;\n\n        this._callOnScroll(_scrollDirection, _scrollOffset, _scrollUpdateWasRequested);\n      }\n    } // Lazily create and cache item styles while scrolling,\n    // So that pure component sCU will prevent re-renders.\n    // We maintain this cache, and pass a style prop rather than index,\n    // So that List can clear cached styles and force item re-render if necessary.\n    ;\n\n    _proto._getRangeToRender = function _getRangeToRender() {\n      var _this$props6 = this.props,\n          itemCount = _this$props6.itemCount,\n          overscanCount = _this$props6.overscanCount;\n      var _this$state3 = this.state,\n          isScrolling = _this$state3.isScrolling,\n          scrollDirection = _this$state3.scrollDirection,\n          scrollOffset = _this$state3.scrollOffset;\n\n      if (itemCount === 0) {\n        return [0, 0, 0, 0];\n      }\n\n      var startIndex = getStartIndexForOffset(this.props, scrollOffset, this._instanceProps);\n      var stopIndex = getStopIndexForStartIndex(this.props, startIndex, scrollOffset, this._instanceProps); // Overscan by one item in each direction so that tab/focus works.\n      // If there isn't at least one extra item, tab loops back around.\n\n      var overscanBackward = !isScrolling || scrollDirection === 'backward' ? Math.max(1, overscanCount) : 1;\n      var overscanForward = !isScrolling || scrollDirection === 'forward' ? Math.max(1, overscanCount) : 1;\n      return [Math.max(0, startIndex - overscanBackward), Math.max(0, Math.min(itemCount - 1, stopIndex + overscanForward)), startIndex, stopIndex];\n    };\n\n    return List;\n  }(PureComponent), _class.defaultProps = {\n    direction: 'ltr',\n    itemData: undefined,\n    layout: 'vertical',\n    overscanCount: 2,\n    useIsScrolling: false\n  }, _class;\n} // NOTE: I considered further wrapping individual items with a pure ListItem component.\n// This would avoid ever calling the render function for the same index more than once,\n// But it would also add the overhead of a lot of components/fibers.\n// I assume people already do this (render function returning a class component),\n// So my doing it would just unnecessarily double the wrappers.\n\nvar validateSharedProps$1 = function validateSharedProps(_ref2, _ref3) {\n  var children = _ref2.children,\n      direction = _ref2.direction,\n      height = _ref2.height,\n      layout = _ref2.layout,\n      innerTagName = _ref2.innerTagName,\n      outerTagName = _ref2.outerTagName,\n      width = _ref2.width;\n  var instance = _ref3.instance;\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (innerTagName != null || outerTagName != null) {\n      if (devWarningsTagName$1 && !devWarningsTagName$1.has(instance)) {\n        devWarningsTagName$1.add(instance);\n        console.warn('The innerTagName and outerTagName props have been deprecated. ' + 'Please use the innerElementType and outerElementType props instead.');\n      }\n    } // TODO Deprecate direction \"horizontal\"\n\n\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n\n    switch (direction) {\n      case 'horizontal':\n      case 'vertical':\n        if (devWarningsDirection && !devWarningsDirection.has(instance)) {\n          devWarningsDirection.add(instance);\n          console.warn('The direction prop should be either \"ltr\" (default) or \"rtl\". ' + 'Please use the layout prop to specify \"vertical\" (default) or \"horizontal\" orientation.');\n        }\n\n        break;\n\n      case 'ltr':\n      case 'rtl':\n        // Valid values\n        break;\n\n      default:\n        throw Error('An invalid \"direction\" prop has been specified. ' + 'Value should be either \"ltr\" or \"rtl\". ' + (\"\\\"\" + direction + \"\\\" was specified.\"));\n    }\n\n    switch (layout) {\n      case 'horizontal':\n      case 'vertical':\n        // Valid values\n        break;\n\n      default:\n        throw Error('An invalid \"layout\" prop has been specified. ' + 'Value should be either \"horizontal\" or \"vertical\". ' + (\"\\\"\" + layout + \"\\\" was specified.\"));\n    }\n\n    if (children == null) {\n      throw Error('An invalid \"children\" prop has been specified. ' + 'Value should be a React component. ' + (\"\\\"\" + (children === null ? 'null' : typeof children) + \"\\\" was specified.\"));\n    }\n\n    if (isHorizontal && typeof width !== 'number') {\n      throw Error('An invalid \"width\" prop has been specified. ' + 'Horizontal lists must specify a number for width. ' + (\"\\\"\" + (width === null ? 'null' : typeof width) + \"\\\" was specified.\"));\n    } else if (!isHorizontal && typeof height !== 'number') {\n      throw Error('An invalid \"height\" prop has been specified. ' + 'Vertical lists must specify a number for height. ' + (\"\\\"\" + (height === null ? 'null' : typeof height) + \"\\\" was specified.\"));\n    }\n  }\n};\n\nvar DEFAULT_ESTIMATED_ITEM_SIZE$1 = 50;\n\nvar getItemMetadata$1 = function getItemMetadata(props, index, instanceProps) {\n  var _ref = props,\n      itemSize = _ref.itemSize;\n  var itemMetadataMap = instanceProps.itemMetadataMap,\n      lastMeasuredIndex = instanceProps.lastMeasuredIndex;\n\n  if (index > lastMeasuredIndex) {\n    var offset = 0;\n\n    if (lastMeasuredIndex >= 0) {\n      var itemMetadata = itemMetadataMap[lastMeasuredIndex];\n      offset = itemMetadata.offset + itemMetadata.size;\n    }\n\n    for (var i = lastMeasuredIndex + 1; i <= index; i++) {\n      var size = itemSize(i);\n      itemMetadataMap[i] = {\n        offset: offset,\n        size: size\n      };\n      offset += size;\n    }\n\n    instanceProps.lastMeasuredIndex = index;\n  }\n\n  return itemMetadataMap[index];\n};\n\nvar findNearestItem$1 = function findNearestItem(props, instanceProps, offset) {\n  var itemMetadataMap = instanceProps.itemMetadataMap,\n      lastMeasuredIndex = instanceProps.lastMeasuredIndex;\n  var lastMeasuredItemOffset = lastMeasuredIndex > 0 ? itemMetadataMap[lastMeasuredIndex].offset : 0;\n\n  if (lastMeasuredItemOffset >= offset) {\n    // If we've already measured items within this range just use a binary search as it's faster.\n    return findNearestItemBinarySearch$1(props, instanceProps, lastMeasuredIndex, 0, offset);\n  } else {\n    // If we haven't yet measured this high, fallback to an exponential search with an inner binary search.\n    // The exponential search avoids pre-computing sizes for the full set of items as a binary search would.\n    // The overall complexity for this approach is O(log n).\n    return findNearestItemExponentialSearch$1(props, instanceProps, Math.max(0, lastMeasuredIndex), offset);\n  }\n};\n\nvar findNearestItemBinarySearch$1 = function findNearestItemBinarySearch(props, instanceProps, high, low, offset) {\n  while (low <= high) {\n    var middle = low + Math.floor((high - low) / 2);\n    var currentOffset = getItemMetadata$1(props, middle, instanceProps).offset;\n\n    if (currentOffset === offset) {\n      return middle;\n    } else if (currentOffset < offset) {\n      low = middle + 1;\n    } else if (currentOffset > offset) {\n      high = middle - 1;\n    }\n  }\n\n  if (low > 0) {\n    return low - 1;\n  } else {\n    return 0;\n  }\n};\n\nvar findNearestItemExponentialSearch$1 = function findNearestItemExponentialSearch(props, instanceProps, index, offset) {\n  var itemCount = props.itemCount;\n  var interval = 1;\n\n  while (index < itemCount && getItemMetadata$1(props, index, instanceProps).offset < offset) {\n    index += interval;\n    interval *= 2;\n  }\n\n  return findNearestItemBinarySearch$1(props, instanceProps, Math.min(index, itemCount - 1), Math.floor(index / 2), offset);\n};\n\nvar getEstimatedTotalSize = function getEstimatedTotalSize(_ref2, _ref3) {\n  var itemCount = _ref2.itemCount;\n  var itemMetadataMap = _ref3.itemMetadataMap,\n      estimatedItemSize = _ref3.estimatedItemSize,\n      lastMeasuredIndex = _ref3.lastMeasuredIndex;\n  var totalSizeOfMeasuredItems = 0; // Edge case check for when the number of items decreases while a scroll is in progress.\n  // https://github.com/bvaughn/react-window/pull/138\n\n  if (lastMeasuredIndex >= itemCount) {\n    lastMeasuredIndex = itemCount - 1;\n  }\n\n  if (lastMeasuredIndex >= 0) {\n    var itemMetadata = itemMetadataMap[lastMeasuredIndex];\n    totalSizeOfMeasuredItems = itemMetadata.offset + itemMetadata.size;\n  }\n\n  var numUnmeasuredItems = itemCount - lastMeasuredIndex - 1;\n  var totalSizeOfUnmeasuredItems = numUnmeasuredItems * estimatedItemSize;\n  return totalSizeOfMeasuredItems + totalSizeOfUnmeasuredItems;\n};\n\nvar VariableSizeList = /*#__PURE__*/createListComponent({\n  getItemOffset: function getItemOffset(props, index, instanceProps) {\n    return getItemMetadata$1(props, index, instanceProps).offset;\n  },\n  getItemSize: function getItemSize(props, index, instanceProps) {\n    return instanceProps.itemMetadataMap[index].size;\n  },\n  getEstimatedTotalSize: getEstimatedTotalSize,\n  getOffsetForIndexAndAlignment: function getOffsetForIndexAndAlignment(props, index, align, scrollOffset, instanceProps, scrollbarSize) {\n    var direction = props.direction,\n        height = props.height,\n        layout = props.layout,\n        width = props.width; // TODO Deprecate direction \"horizontal\"\n\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var size = isHorizontal ? width : height;\n    var itemMetadata = getItemMetadata$1(props, index, instanceProps); // Get estimated total size after ItemMetadata is computed,\n    // To ensure it reflects actual measurements instead of just estimates.\n\n    var estimatedTotalSize = getEstimatedTotalSize(props, instanceProps);\n    var maxOffset = Math.max(0, Math.min(estimatedTotalSize - size, itemMetadata.offset));\n    var minOffset = Math.max(0, itemMetadata.offset - size + itemMetadata.size + scrollbarSize);\n\n    if (align === 'smart') {\n      if (scrollOffset >= minOffset - size && scrollOffset <= maxOffset + size) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        return Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n      case 'auto':\n      default:\n        if (scrollOffset >= minOffset && scrollOffset <= maxOffset) {\n          return scrollOffset;\n        } else if (scrollOffset < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getStartIndexForOffset: function getStartIndexForOffset(props, offset, instanceProps) {\n    return findNearestItem$1(props, instanceProps, offset);\n  },\n  getStopIndexForStartIndex: function getStopIndexForStartIndex(props, startIndex, scrollOffset, instanceProps) {\n    var direction = props.direction,\n        height = props.height,\n        itemCount = props.itemCount,\n        layout = props.layout,\n        width = props.width; // TODO Deprecate direction \"horizontal\"\n\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var size = isHorizontal ? width : height;\n    var itemMetadata = getItemMetadata$1(props, startIndex, instanceProps);\n    var maxOffset = scrollOffset + size;\n    var offset = itemMetadata.offset + itemMetadata.size;\n    var stopIndex = startIndex;\n\n    while (stopIndex < itemCount - 1 && offset < maxOffset) {\n      stopIndex++;\n      offset += getItemMetadata$1(props, stopIndex, instanceProps).size;\n    }\n\n    return stopIndex;\n  },\n  initInstanceProps: function initInstanceProps(props, instance) {\n    var _ref4 = props,\n        estimatedItemSize = _ref4.estimatedItemSize;\n    var instanceProps = {\n      itemMetadataMap: {},\n      estimatedItemSize: estimatedItemSize || DEFAULT_ESTIMATED_ITEM_SIZE$1,\n      lastMeasuredIndex: -1\n    };\n\n    instance.resetAfterIndex = function (index, shouldForceUpdate) {\n      if (shouldForceUpdate === void 0) {\n        shouldForceUpdate = true;\n      }\n\n      instanceProps.lastMeasuredIndex = Math.min(instanceProps.lastMeasuredIndex, index - 1); // We could potentially optimize further by only evicting styles after this index,\n      // But since styles are only cached while scrolling is in progress-\n      // It seems an unnecessary optimization.\n      // It's unlikely that resetAfterIndex() will be called while a user is scrolling.\n\n      instance._getItemStyleCache(-1);\n\n      if (shouldForceUpdate) {\n        instance.forceUpdate();\n      }\n    };\n\n    return instanceProps;\n  },\n  shouldResetStyleCacheOnItemSizeChange: false,\n  validateProps: function validateProps(_ref5) {\n    var itemSize = _ref5.itemSize;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof itemSize !== 'function') {\n        throw Error('An invalid \"itemSize\" prop has been specified. ' + 'Value should be a function. ' + (\"\\\"\" + (itemSize === null ? 'null' : typeof itemSize) + \"\\\" was specified.\"));\n      }\n    }\n  }\n});\n\nvar FixedSizeGrid = /*#__PURE__*/createGridComponent({\n  getColumnOffset: function getColumnOffset(_ref, index) {\n    var columnWidth = _ref.columnWidth;\n    return index * columnWidth;\n  },\n  getColumnWidth: function getColumnWidth(_ref2, index) {\n    var columnWidth = _ref2.columnWidth;\n    return columnWidth;\n  },\n  getRowOffset: function getRowOffset(_ref3, index) {\n    var rowHeight = _ref3.rowHeight;\n    return index * rowHeight;\n  },\n  getRowHeight: function getRowHeight(_ref4, index) {\n    var rowHeight = _ref4.rowHeight;\n    return rowHeight;\n  },\n  getEstimatedTotalHeight: function getEstimatedTotalHeight(_ref5) {\n    var rowCount = _ref5.rowCount,\n        rowHeight = _ref5.rowHeight;\n    return rowHeight * rowCount;\n  },\n  getEstimatedTotalWidth: function getEstimatedTotalWidth(_ref6) {\n    var columnCount = _ref6.columnCount,\n        columnWidth = _ref6.columnWidth;\n    return columnWidth * columnCount;\n  },\n  getOffsetForColumnAndAlignment: function getOffsetForColumnAndAlignment(_ref7, columnIndex, align, scrollLeft, instanceProps, scrollbarSize) {\n    var columnCount = _ref7.columnCount,\n        columnWidth = _ref7.columnWidth,\n        width = _ref7.width;\n    var lastColumnOffset = Math.max(0, columnCount * columnWidth - width);\n    var maxOffset = Math.min(lastColumnOffset, columnIndex * columnWidth);\n    var minOffset = Math.max(0, columnIndex * columnWidth - width + scrollbarSize + columnWidth);\n\n    if (align === 'smart') {\n      if (scrollLeft >= minOffset - width && scrollLeft <= maxOffset + width) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        // \"Centered\" offset is usually the average of the min and max.\n        // But near the edges of the list, this doesn't hold true.\n        var middleOffset = Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n        if (middleOffset < Math.ceil(width / 2)) {\n          return 0; // near the beginning\n        } else if (middleOffset > lastColumnOffset + Math.floor(width / 2)) {\n          return lastColumnOffset; // near the end\n        } else {\n          return middleOffset;\n        }\n\n      case 'auto':\n      default:\n        if (scrollLeft >= minOffset && scrollLeft <= maxOffset) {\n          return scrollLeft;\n        } else if (minOffset > maxOffset) {\n          // Because we only take into account the scrollbar size when calculating minOffset\n          // this value can be larger than maxOffset when at the end of the list\n          return minOffset;\n        } else if (scrollLeft < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getOffsetForRowAndAlignment: function getOffsetForRowAndAlignment(_ref8, rowIndex, align, scrollTop, instanceProps, scrollbarSize) {\n    var rowHeight = _ref8.rowHeight,\n        height = _ref8.height,\n        rowCount = _ref8.rowCount;\n    var lastRowOffset = Math.max(0, rowCount * rowHeight - height);\n    var maxOffset = Math.min(lastRowOffset, rowIndex * rowHeight);\n    var minOffset = Math.max(0, rowIndex * rowHeight - height + scrollbarSize + rowHeight);\n\n    if (align === 'smart') {\n      if (scrollTop >= minOffset - height && scrollTop <= maxOffset + height) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        // \"Centered\" offset is usually the average of the min and max.\n        // But near the edges of the list, this doesn't hold true.\n        var middleOffset = Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n        if (middleOffset < Math.ceil(height / 2)) {\n          return 0; // near the beginning\n        } else if (middleOffset > lastRowOffset + Math.floor(height / 2)) {\n          return lastRowOffset; // near the end\n        } else {\n          return middleOffset;\n        }\n\n      case 'auto':\n      default:\n        if (scrollTop >= minOffset && scrollTop <= maxOffset) {\n          return scrollTop;\n        } else if (minOffset > maxOffset) {\n          // Because we only take into account the scrollbar size when calculating minOffset\n          // this value can be larger than maxOffset when at the end of the list\n          return minOffset;\n        } else if (scrollTop < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getColumnStartIndexForOffset: function getColumnStartIndexForOffset(_ref9, scrollLeft) {\n    var columnWidth = _ref9.columnWidth,\n        columnCount = _ref9.columnCount;\n    return Math.max(0, Math.min(columnCount - 1, Math.floor(scrollLeft / columnWidth)));\n  },\n  getColumnStopIndexForStartIndex: function getColumnStopIndexForStartIndex(_ref10, startIndex, scrollLeft) {\n    var columnWidth = _ref10.columnWidth,\n        columnCount = _ref10.columnCount,\n        width = _ref10.width;\n    var left = startIndex * columnWidth;\n    var numVisibleColumns = Math.ceil((width + scrollLeft - left) / columnWidth);\n    return Math.max(0, Math.min(columnCount - 1, startIndex + numVisibleColumns - 1 // -1 is because stop index is inclusive\n    ));\n  },\n  getRowStartIndexForOffset: function getRowStartIndexForOffset(_ref11, scrollTop) {\n    var rowHeight = _ref11.rowHeight,\n        rowCount = _ref11.rowCount;\n    return Math.max(0, Math.min(rowCount - 1, Math.floor(scrollTop / rowHeight)));\n  },\n  getRowStopIndexForStartIndex: function getRowStopIndexForStartIndex(_ref12, startIndex, scrollTop) {\n    var rowHeight = _ref12.rowHeight,\n        rowCount = _ref12.rowCount,\n        height = _ref12.height;\n    var top = startIndex * rowHeight;\n    var numVisibleRows = Math.ceil((height + scrollTop - top) / rowHeight);\n    return Math.max(0, Math.min(rowCount - 1, startIndex + numVisibleRows - 1 // -1 is because stop index is inclusive\n    ));\n  },\n  initInstanceProps: function initInstanceProps(props) {// Noop\n  },\n  shouldResetStyleCacheOnItemSizeChange: true,\n  validateProps: function validateProps(_ref13) {\n    var columnWidth = _ref13.columnWidth,\n        rowHeight = _ref13.rowHeight;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof columnWidth !== 'number') {\n        throw Error('An invalid \"columnWidth\" prop has been specified. ' + 'Value should be a number. ' + (\"\\\"\" + (columnWidth === null ? 'null' : typeof columnWidth) + \"\\\" was specified.\"));\n      }\n\n      if (typeof rowHeight !== 'number') {\n        throw Error('An invalid \"rowHeight\" prop has been specified. ' + 'Value should be a number. ' + (\"\\\"\" + (rowHeight === null ? 'null' : typeof rowHeight) + \"\\\" was specified.\"));\n      }\n    }\n  }\n});\n\nvar FixedSizeList = /*#__PURE__*/createListComponent({\n  getItemOffset: function getItemOffset(_ref, index) {\n    var itemSize = _ref.itemSize;\n    return index * itemSize;\n  },\n  getItemSize: function getItemSize(_ref2, index) {\n    var itemSize = _ref2.itemSize;\n    return itemSize;\n  },\n  getEstimatedTotalSize: function getEstimatedTotalSize(_ref3) {\n    var itemCount = _ref3.itemCount,\n        itemSize = _ref3.itemSize;\n    return itemSize * itemCount;\n  },\n  getOffsetForIndexAndAlignment: function getOffsetForIndexAndAlignment(_ref4, index, align, scrollOffset, instanceProps, scrollbarSize) {\n    var direction = _ref4.direction,\n        height = _ref4.height,\n        itemCount = _ref4.itemCount,\n        itemSize = _ref4.itemSize,\n        layout = _ref4.layout,\n        width = _ref4.width;\n    // TODO Deprecate direction \"horizontal\"\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var size = isHorizontal ? width : height;\n    var lastItemOffset = Math.max(0, itemCount * itemSize - size);\n    var maxOffset = Math.min(lastItemOffset, index * itemSize);\n    var minOffset = Math.max(0, index * itemSize - size + itemSize + scrollbarSize);\n\n    if (align === 'smart') {\n      if (scrollOffset >= minOffset - size && scrollOffset <= maxOffset + size) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        {\n          // \"Centered\" offset is usually the average of the min and max.\n          // But near the edges of the list, this doesn't hold true.\n          var middleOffset = Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n          if (middleOffset < Math.ceil(size / 2)) {\n            return 0; // near the beginning\n          } else if (middleOffset > lastItemOffset + Math.floor(size / 2)) {\n            return lastItemOffset; // near the end\n          } else {\n            return middleOffset;\n          }\n        }\n\n      case 'auto':\n      default:\n        if (scrollOffset >= minOffset && scrollOffset <= maxOffset) {\n          return scrollOffset;\n        } else if (scrollOffset < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getStartIndexForOffset: function getStartIndexForOffset(_ref5, offset) {\n    var itemCount = _ref5.itemCount,\n        itemSize = _ref5.itemSize;\n    return Math.max(0, Math.min(itemCount - 1, Math.floor(offset / itemSize)));\n  },\n  getStopIndexForStartIndex: function getStopIndexForStartIndex(_ref6, startIndex, scrollOffset) {\n    var direction = _ref6.direction,\n        height = _ref6.height,\n        itemCount = _ref6.itemCount,\n        itemSize = _ref6.itemSize,\n        layout = _ref6.layout,\n        width = _ref6.width;\n    // TODO Deprecate direction \"horizontal\"\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var offset = startIndex * itemSize;\n    var size = isHorizontal ? width : height;\n    var numVisibleItems = Math.ceil((size + scrollOffset - offset) / itemSize);\n    return Math.max(0, Math.min(itemCount - 1, startIndex + numVisibleItems - 1 // -1 is because stop index is inclusive\n    ));\n  },\n  initInstanceProps: function initInstanceProps(props) {// Noop\n  },\n  shouldResetStyleCacheOnItemSizeChange: true,\n  validateProps: function validateProps(_ref7) {\n    var itemSize = _ref7.itemSize;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof itemSize !== 'number') {\n        throw Error('An invalid \"itemSize\" prop has been specified. ' + 'Value should be a number. ' + (\"\\\"\" + (itemSize === null ? 'null' : typeof itemSize) + \"\\\" was specified.\"));\n      }\n    }\n  }\n});\n\n// Pulled from react-compat\n// https://github.com/developit/preact-compat/blob/7c5de00e7c85e2ffd011bf3af02899b63f699d3a/src/index.js#L349\nfunction shallowDiffers(prev, next) {\n  for (var attribute in prev) {\n    if (!(attribute in next)) {\n      return true;\n    }\n  }\n\n  for (var _attribute in next) {\n    if (prev[_attribute] !== next[_attribute]) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nvar _excluded = [\"style\"],\n    _excluded2 = [\"style\"];\n// It knows to compare individual style props and ignore the wrapper object.\n// See https://reactjs.org/docs/react-api.html#reactmemo\n\nfunction areEqual(prevProps, nextProps) {\n  var prevStyle = prevProps.style,\n      prevRest = _objectWithoutPropertiesLoose(prevProps, _excluded);\n\n  var nextStyle = nextProps.style,\n      nextRest = _objectWithoutPropertiesLoose(nextProps, _excluded2);\n\n  return !shallowDiffers(prevStyle, nextStyle) && !shallowDiffers(prevRest, nextRest);\n}\n\n// It knows to compare individual style props and ignore the wrapper object.\n// See https://reactjs.org/docs/react-component.html#shouldcomponentupdate\n\nfunction shouldComponentUpdate(nextProps, nextState) {\n  return !areEqual(this.props, nextProps) || shallowDiffers(this.state, nextState);\n}\n\nexport { FixedSizeGrid, FixedSizeList, VariableSizeGrid, VariableSizeList, areEqual, shouldComponentUpdate };\n//# sourceMappingURL=index.esm.js.map\n","import _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nvar TableHeader = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(TableHeader, _React$PureComponent);\n\n  function TableHeader(props) {\n    var _this;\n\n    _this = _React$PureComponent.call(this, props) || this;\n    _this.renderHeaderRow = _this.renderHeaderRow.bind(_assertThisInitialized(_this));\n    _this.renderFrozenRow = _this.renderFrozenRow.bind(_assertThisInitialized(_this));\n    _this._setRef = _this._setRef.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = TableHeader.prototype;\n\n  _proto.scrollTo = function scrollTo(offset) {\n    var _this2 = this;\n\n    requestAnimationFrame(function () {\n      if (_this2.headerRef) _this2.headerRef.scrollLeft = offset;\n    });\n  };\n\n  _proto.renderHeaderRow = function renderHeaderRow(height, index) {\n    var _this$props = this.props,\n        columns = _this$props.columns,\n        headerRenderer = _this$props.headerRenderer;\n    if (height <= 0) return null;\n    var style = {\n      width: '100%',\n      height: height\n    };\n    return headerRenderer({\n      style: style,\n      columns: columns,\n      headerIndex: index\n    });\n  };\n\n  _proto.renderFrozenRow = function renderFrozenRow(rowData, index) {\n    var _this$props2 = this.props,\n        columns = _this$props2.columns,\n        rowHeight = _this$props2.rowHeight,\n        rowRenderer = _this$props2.rowRenderer;\n    var style = {\n      width: '100%',\n      height: rowHeight\n    }; // for frozen row the `rowIndex` is negative\n\n    var rowIndex = -index - 1;\n    return rowRenderer({\n      style: style,\n      columns: columns,\n      rowData: rowData,\n      rowIndex: rowIndex\n    });\n  };\n\n  _proto.render = function render() {\n    var _this$props3 = this.props,\n        className = _this$props3.className,\n        width = _this$props3.width,\n        height = _this$props3.height,\n        rowWidth = _this$props3.rowWidth,\n        headerHeight = _this$props3.headerHeight,\n        frozenData = _this$props3.frozenData;\n    if (height <= 0) return null;\n    var style = {\n      width: width,\n      height: height,\n      position: 'relative',\n      overflow: 'hidden'\n    };\n    var innerStyle = {\n      width: rowWidth,\n      height: height\n    };\n    var rowHeights = Array.isArray(headerHeight) ? headerHeight : [headerHeight];\n    return /*#__PURE__*/React.createElement(\"div\", {\n      role: \"grid\",\n      ref: this._setRef,\n      className: className,\n      style: style\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      role: \"rowgroup\",\n      style: innerStyle\n    }, rowHeights.map(this.renderHeaderRow), frozenData.map(this.renderFrozenRow)));\n  };\n\n  _proto._setRef = function _setRef(ref) {\n    this.headerRef = ref;\n  };\n\n  return TableHeader;\n}(React.PureComponent);\n\nTableHeader.propTypes = {\n  className: PropTypes.string,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  headerHeight: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.number)]).isRequired,\n  rowWidth: PropTypes.number.isRequired,\n  rowHeight: PropTypes.number.isRequired,\n  columns: PropTypes.arrayOf(PropTypes.object).isRequired,\n  data: PropTypes.array.isRequired,\n  frozenData: PropTypes.array,\n  headerRenderer: PropTypes.func.isRequired,\n  rowRenderer: PropTypes.func.isRequired\n};\nexport default TableHeader;\n//# sourceMappingURL=TableHeader.js.map","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React from 'react';\nexport function renderElement(renderer, props) {\n  if ( /*#__PURE__*/React.isValidElement(renderer)) {\n    if (!props) return renderer;\n    return /*#__PURE__*/React.cloneElement(renderer, props);\n  } else if (typeof renderer === 'function') {\n    return /*#__PURE__*/React.createElement(renderer, props);\n  } else {\n    return null;\n  }\n}\nexport function normalizeColumns(elements) {\n  var columns = [];\n  React.Children.forEach(elements, function (element) {\n    if ( /*#__PURE__*/React.isValidElement(element) && element.key) {\n      var column = _objectSpread(_objectSpread({}, element.props), {}, {\n        key: element.key\n      });\n\n      columns.push(column);\n    }\n  });\n  return columns;\n}\nexport function isObjectEqual(objA, objB, ignoreFunction) {\n  if (ignoreFunction === void 0) {\n    ignoreFunction = true;\n  }\n\n  if (objA === objB) return true;\n  if (objA === null && objB === null) return true;\n  if (objA === null || objB === null) return false;\n  if (typeof objA !== 'object' || typeof objB !== 'object') return false;\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n  if (keysA.length !== keysB.length) return false;\n\n  for (var i = 0; i < keysA.length; i++) {\n    var key = keysA[i];\n\n    if (key === '_owner' && objA.$$typeof) {\n      // React-specific: avoid traversing React elements' _owner.\n      //  _owner contains circular references\n      // and is not needed when comparing the actual elements (and not their owners)\n      continue;\n    }\n\n    var valueA = objA[key];\n    var valueB = objB[key];\n    var valueAType = typeof valueA;\n    if (valueAType !== typeof valueB) return false;\n    if (valueAType === 'function' && ignoreFunction) continue;\n\n    if (valueAType === 'object') {\n      if (!isObjectEqual(valueA, valueB, ignoreFunction)) return false;else continue;\n    }\n\n    if (valueA !== valueB) return false;\n  }\n\n  return true;\n}\nexport function callOrReturn(funcOrValue) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  return typeof funcOrValue === 'function' ? funcOrValue.apply(void 0, args) : funcOrValue;\n}\nexport function hasChildren(data) {\n  return Array.isArray(data.children) && data.children.length > 0;\n}\nexport function unflatten(array, rootId, dataKey, parentKey) {\n  if (rootId === void 0) {\n    rootId = null;\n  }\n\n  if (dataKey === void 0) {\n    dataKey = 'id';\n  }\n\n  if (parentKey === void 0) {\n    parentKey = 'parentId';\n  }\n\n  var tree = [];\n  var childrenMap = {};\n  var length = array.length;\n\n  for (var i = 0; i < length; i++) {\n    var item = _objectSpread({}, array[i]);\n\n    var id = item[dataKey];\n    var parentId = item[parentKey];\n\n    if (Array.isArray(item.children)) {\n      childrenMap[id] = item.children.concat(childrenMap[id] || []);\n    } else if (!childrenMap[id]) {\n      childrenMap[id] = [];\n    }\n\n    item.children = childrenMap[id];\n\n    if (parentId !== undefined && parentId !== rootId) {\n      if (!childrenMap[parentId]) childrenMap[parentId] = [];\n      childrenMap[parentId].push(item);\n    } else {\n      tree.push(item);\n    }\n  }\n\n  return tree;\n}\nexport function flattenOnKeys(tree, keys, depthMap, dataKey) {\n  if (depthMap === void 0) {\n    depthMap = {};\n  }\n\n  if (dataKey === void 0) {\n    dataKey = 'id';\n  }\n\n  if (!keys || !keys.length) return tree;\n  var array = [];\n  var keysSet = new Set();\n  keys.forEach(function (x) {\n    return keysSet.add(x);\n  });\n  var stack = [].concat(tree);\n  stack.forEach(function (x) {\n    return depthMap[x[dataKey]] = 0;\n  });\n\n  var _loop = function _loop() {\n    var item = stack.shift();\n    array.push(item);\n\n    if (keysSet.has(item[dataKey]) && Array.isArray(item.children) && item.children.length > 0) {\n      stack = [].concat(item.children, stack);\n      item.children.forEach(function (x) {\n        return depthMap[x[dataKey]] = depthMap[item[dataKey]] + 1;\n      });\n    }\n  };\n\n  while (stack.length > 0) {\n    _loop();\n  }\n\n  return array;\n} // Babel7 changed the behavior of @babel/plugin-transform-spread in https://github.com/babel/babel/pull/6763\n// [...array] is transpiled to array.concat() while it was [].concat(array) before\n// this change breaks immutable array(seamless-immutable), [...array] should always return mutable array\n\nexport function cloneArray(array) {\n  if (!Array.isArray(array)) return [];\n  return [].concat(array);\n}\nexport function noop() {}\nexport function toString(value) {\n  if (typeof value === 'string') return value;\n  if (value === null || value === undefined) return '';\n  return value.toString ? value.toString() : '';\n}\n\nfunction getPathSegments(path) {\n  var pathArray = path.split('.');\n  var parts = [];\n\n  for (var i = 0; i < pathArray.length; i++) {\n    var p = pathArray[i];\n\n    while (p[p.length - 1] === '\\\\' && pathArray[i + 1] !== undefined) {\n      p = p.slice(0, -1) + '.';\n      p += pathArray[++i];\n    }\n\n    parts.push(p);\n  }\n\n  return parts;\n} // changed from https://github.com/sindresorhus/dot-prop/blob/master/index.js\n\n\nexport function getValue(object, path, defaultValue) {\n  if (object === null || typeof object !== 'object' || typeof path !== 'string') {\n    return defaultValue;\n  }\n\n  var pathArray = getPathSegments(path);\n\n  for (var i = 0; i < pathArray.length; i++) {\n    if (!Object.prototype.propertyIsEnumerable.call(object, pathArray[i])) {\n      return defaultValue;\n    }\n\n    object = object[pathArray[i]];\n\n    if (object === undefined || object === null) {\n      if (i !== pathArray.length - 1) {\n        return defaultValue;\n      }\n\n      break;\n    }\n  }\n\n  return object;\n} // copied from https://www.30secondsofcode.org/js/s/debounce\n\nexport var debounce = function debounce(fn, ms) {\n  if (ms === void 0) {\n    ms = 0;\n  }\n\n  var timeoutId;\n  return function () {\n    var _this = this;\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    clearTimeout(timeoutId);\n    timeoutId = setTimeout(function () {\n      return fn.apply(_this, args);\n    }, ms);\n  };\n}; // copied from https://www.30secondsofcode.org/js/s/throttle\n\nexport var throttle = function throttle(fn, wait) {\n  var inThrottle, lastFn, lastTime;\n  return function () {\n    var context = this,\n        args = arguments;\n\n    if (!inThrottle) {\n      fn.apply(context, args);\n      lastTime = Date.now();\n      inThrottle = true;\n    } else {\n      clearTimeout(lastFn);\n      lastFn = setTimeout(function () {\n        if (Date.now() - lastTime >= wait) {\n          fn.apply(context, args);\n          lastTime = Date.now();\n        }\n      }, Math.max(wait - (Date.now() - lastTime), 0));\n    }\n  };\n}; // copied from https://github.com/react-bootstrap/dom-helpers\n\nvar scrollbarSize;\nexport function getScrollbarSize(recalculate) {\n  if (!scrollbarSize && scrollbarSize !== 0 || recalculate) {\n    if (typeof window !== 'undefined' && window.document && window.document.createElement) {\n      var scrollDiv = document.createElement('div');\n      scrollDiv.style.position = 'absolute';\n      scrollDiv.style.top = '-9999px';\n      scrollDiv.style.width = '50px';\n      scrollDiv.style.height = '50px';\n      scrollDiv.style.overflow = 'scroll';\n      document.body.appendChild(scrollDiv);\n      scrollbarSize = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n      document.body.removeChild(scrollDiv);\n    }\n  }\n\n  return scrollbarSize;\n}\nexport function addClassName(el, className) {\n  if (el.classList) {\n    el.classList.add(className);\n  } else {\n    if (!el.className.match(new RegExp(\"(?:^|\\\\s)\" + className + \"(?!\\\\S)\"))) {\n      el.className += \" \" + className;\n    }\n  }\n}\nexport function removeClassName(el, className) {\n  if (el.classList) {\n    el.classList.remove(className);\n  } else {\n    el.className = el.className.replace(new RegExp(\"(?:^|\\\\s)\" + className + \"(?!\\\\S)\", 'g'), '');\n  }\n}\nexport function getEstimatedTotalRowsHeight(data, estimatedRowHeight) {\n  return typeof estimatedRowHeight === 'function' ? data.reduce(function (height, rowData, rowIndex) {\n    return height + estimatedRowHeight({\n      rowData: rowData,\n      rowIndex: rowIndex\n    });\n  }, 0) : data.length * estimatedRowHeight;\n}\n//# sourceMappingURL=utils.js.map","import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nvar _excluded = [\"containerStyle\", \"classPrefix\", \"className\", \"data\", \"frozenData\", \"width\", \"height\", \"rowHeight\", \"estimatedRowHeight\", \"getRowHeight\", \"headerWidth\", \"bodyWidth\", \"useIsScrolling\", \"onScroll\", \"hoveredRowKey\", \"overscanRowCount\", \"style\", \"onScrollbarPresenceChange\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport { FixedSizeGrid, VariableSizeGrid } from 'react-window';\nimport memoize from 'memoize-one';\nimport Header from './TableHeader';\nimport { getEstimatedTotalRowsHeight } from './utils';\n/**\n * A wrapper of the Grid for internal only\n */\n\nvar GridTable = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(GridTable, _React$PureComponent);\n\n  function GridTable(props) {\n    var _this;\n\n    _this = _React$PureComponent.call(this, props) || this;\n    _this._setHeaderRef = _this._setHeaderRef.bind(_assertThisInitialized(_this));\n    _this._setBodyRef = _this._setBodyRef.bind(_assertThisInitialized(_this));\n    _this._setInnerRef = _this._setInnerRef.bind(_assertThisInitialized(_this));\n    _this._itemKey = _this._itemKey.bind(_assertThisInitialized(_this));\n    _this._getBodyWidth = _this._getBodyWidth.bind(_assertThisInitialized(_this));\n    _this._handleItemsRendered = _this._handleItemsRendered.bind(_assertThisInitialized(_this));\n    _this._resetColumnWidthCache = memoize(function (bodyWidth) {\n      if (!_this.props.estimatedRowHeight) return;\n      _this.bodyRef && _this.bodyRef.resetAfterColumnIndex(0, false);\n    });\n    _this._getEstimatedTotalRowsHeight = memoize(getEstimatedTotalRowsHeight);\n    _this.renderRow = _this.renderRow.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = GridTable.prototype;\n\n  _proto.resetAfterRowIndex = function resetAfterRowIndex(rowIndex, shouldForceUpdate) {\n    if (rowIndex === void 0) {\n      rowIndex = 0;\n    }\n\n    if (!this.props.estimatedRowHeight) return;\n    this.bodyRef && this.bodyRef.resetAfterRowIndex(rowIndex, shouldForceUpdate);\n  };\n\n  _proto.forceUpdateTable = function forceUpdateTable() {\n    this.headerRef && this.headerRef.forceUpdate();\n    this.bodyRef && this.bodyRef.forceUpdate();\n  };\n\n  _proto.scrollToPosition = function scrollToPosition(args) {\n    this.headerRef && this.headerRef.scrollTo(args.scrollLeft);\n    this.bodyRef && this.bodyRef.scrollTo(args);\n  };\n\n  _proto.scrollToTop = function scrollToTop(scrollTop) {\n    this.bodyRef && this.bodyRef.scrollTo({\n      scrollTop: scrollTop\n    });\n  };\n\n  _proto.scrollToLeft = function scrollToLeft(scrollLeft) {\n    this.headerRef && this.headerRef.scrollTo(scrollLeft);\n    this.bodyRef && this.bodyRef.scrollToPosition({\n      scrollLeft: scrollLeft\n    });\n  };\n\n  _proto.scrollToRow = function scrollToRow(rowIndex, align) {\n    if (rowIndex === void 0) {\n      rowIndex = 0;\n    }\n\n    if (align === void 0) {\n      align = 'auto';\n    }\n\n    this.bodyRef && this.bodyRef.scrollToItem({\n      rowIndex: rowIndex,\n      align: align\n    });\n  };\n\n  _proto.getTotalRowsHeight = function getTotalRowsHeight() {\n    var _this$props = this.props,\n        data = _this$props.data,\n        rowHeight = _this$props.rowHeight,\n        estimatedRowHeight = _this$props.estimatedRowHeight;\n\n    if (estimatedRowHeight) {\n      return this.innerRef && this.innerRef.clientHeight || this._getEstimatedTotalRowsHeight(data, estimatedRowHeight);\n    }\n\n    return data.length * rowHeight;\n  };\n\n  _proto.renderRow = function renderRow(args) {\n    var _this$props2 = this.props,\n        data = _this$props2.data,\n        columns = _this$props2.columns,\n        rowRenderer = _this$props2.rowRenderer;\n    var rowData = data[args.rowIndex];\n    return rowRenderer(_objectSpread(_objectSpread({}, args), {}, {\n      columns: columns,\n      rowData: rowData\n    }));\n  };\n\n  _proto.render = function render() {\n    var _this$props3 = this.props,\n        containerStyle = _this$props3.containerStyle,\n        classPrefix = _this$props3.classPrefix,\n        className = _this$props3.className,\n        data = _this$props3.data,\n        frozenData = _this$props3.frozenData,\n        width = _this$props3.width,\n        height = _this$props3.height,\n        rowHeight = _this$props3.rowHeight,\n        estimatedRowHeight = _this$props3.estimatedRowHeight,\n        getRowHeight = _this$props3.getRowHeight,\n        headerWidth = _this$props3.headerWidth,\n        bodyWidth = _this$props3.bodyWidth,\n        useIsScrolling = _this$props3.useIsScrolling,\n        onScroll = _this$props3.onScroll,\n        hoveredRowKey = _this$props3.hoveredRowKey,\n        overscanRowCount = _this$props3.overscanRowCount,\n        style = _this$props3.style,\n        onScrollbarPresenceChange = _this$props3.onScrollbarPresenceChange,\n        rest = _objectWithoutPropertiesLoose(_this$props3, _excluded);\n\n    var headerHeight = this._getHeaderHeight();\n\n    var frozenRowCount = frozenData.length;\n    var frozenRowsHeight = rowHeight * frozenRowCount;\n    var cls = cn(classPrefix + \"__table\", className);\n    var containerProps = containerStyle ? {\n      style: containerStyle\n    } : null;\n    var Grid = estimatedRowHeight ? VariableSizeGrid : FixedSizeGrid;\n\n    this._resetColumnWidthCache(bodyWidth);\n\n    return /*#__PURE__*/React.createElement(\"div\", _extends({\n      role: \"table\",\n      className: cls\n    }, containerProps), /*#__PURE__*/React.createElement(Grid, _extends({}, rest, {\n      className: classPrefix + \"__body\",\n      ref: this._setBodyRef,\n      innerRef: this._setInnerRef,\n      itemKey: this._itemKey,\n      data: data,\n      frozenData: frozenData,\n      width: width,\n      height: Math.max(height - headerHeight - frozenRowsHeight, 0),\n      rowHeight: estimatedRowHeight ? getRowHeight : rowHeight,\n      estimatedRowHeight: typeof estimatedRowHeight === 'function' ? undefined : estimatedRowHeight,\n      rowCount: data.length,\n      overscanRowCount: overscanRowCount,\n      columnWidth: estimatedRowHeight ? this._getBodyWidth : bodyWidth,\n      columnCount: 1,\n      overscanColumnCount: 0,\n      useIsScrolling: useIsScrolling,\n      hoveredRowKey: hoveredRowKey,\n      onScroll: onScroll,\n      onItemsRendered: this._handleItemsRendered,\n      children: this.renderRow\n    })), headerHeight + frozenRowsHeight > 0 &&\n    /*#__PURE__*/\n    // put header after body and reverse the display order via css\n    // to prevent header's shadow being covered by body\n    React.createElement(Header, _extends({}, rest, {\n      className: classPrefix + \"__header\",\n      ref: this._setHeaderRef,\n      data: data,\n      frozenData: frozenData,\n      width: width,\n      height: Math.min(headerHeight + frozenRowsHeight, height),\n      rowWidth: headerWidth,\n      rowHeight: rowHeight,\n      headerHeight: this.props.headerHeight,\n      headerRenderer: this.props.headerRenderer,\n      rowRenderer: this.props.rowRenderer,\n      hoveredRowKey: frozenRowCount > 0 ? hoveredRowKey : null\n    })));\n  };\n\n  _proto._setHeaderRef = function _setHeaderRef(ref) {\n    this.headerRef = ref;\n  };\n\n  _proto._setBodyRef = function _setBodyRef(ref) {\n    this.bodyRef = ref;\n  };\n\n  _proto._setInnerRef = function _setInnerRef(ref) {\n    this.innerRef = ref;\n  };\n\n  _proto._itemKey = function _itemKey(_ref) {\n    var rowIndex = _ref.rowIndex;\n    var _this$props4 = this.props,\n        data = _this$props4.data,\n        rowKey = _this$props4.rowKey;\n    return data[rowIndex][rowKey];\n  };\n\n  _proto._getHeaderHeight = function _getHeaderHeight() {\n    var headerHeight = this.props.headerHeight;\n\n    if (Array.isArray(headerHeight)) {\n      return headerHeight.reduce(function (sum, height) {\n        return sum + height;\n      }, 0);\n    }\n\n    return headerHeight;\n  };\n\n  _proto._getBodyWidth = function _getBodyWidth() {\n    return this.props.bodyWidth;\n  };\n\n  _proto._handleItemsRendered = function _handleItemsRendered(_ref2) {\n    var overscanRowStartIndex = _ref2.overscanRowStartIndex,\n        overscanRowStopIndex = _ref2.overscanRowStopIndex,\n        visibleRowStartIndex = _ref2.visibleRowStartIndex,\n        visibleRowStopIndex = _ref2.visibleRowStopIndex;\n    this.props.onRowsRendered({\n      overscanStartIndex: overscanRowStartIndex,\n      overscanStopIndex: overscanRowStopIndex,\n      startIndex: visibleRowStartIndex,\n      stopIndex: visibleRowStopIndex\n    });\n  };\n\n  return GridTable;\n}(React.PureComponent);\n\nGridTable.propTypes = {\n  containerStyle: PropTypes.object,\n  classPrefix: PropTypes.string,\n  className: PropTypes.string,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  headerHeight: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.number)]).isRequired,\n  headerWidth: PropTypes.number.isRequired,\n  bodyWidth: PropTypes.number.isRequired,\n  rowHeight: PropTypes.number.isRequired,\n  estimatedRowHeight: PropTypes.oneOfType([PropTypes.func, PropTypes.number]),\n  getRowHeight: PropTypes.func,\n  columns: PropTypes.arrayOf(PropTypes.object).isRequired,\n  data: PropTypes.array.isRequired,\n  frozenData: PropTypes.array,\n  rowKey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  useIsScrolling: PropTypes.bool,\n  overscanRowCount: PropTypes.number,\n  hoveredRowKey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  style: PropTypes.object,\n  onScrollbarPresenceChange: PropTypes.func,\n  onScroll: PropTypes.func,\n  onRowsRendered: PropTypes.func,\n  headerRenderer: PropTypes.func.isRequired,\n  rowRenderer: PropTypes.func.isRequired\n};\nexport default GridTable;\n//# sourceMappingURL=GridTable.js.map","import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nvar _excluded = [\"className\", \"style\", \"columns\", \"headerIndex\", \"cellRenderer\", \"headerRenderer\", \"expandColumnKey\", \"expandIcon\", \"tagName\"];\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { renderElement } from './utils';\n/**\n * HeaderRow component for BaseTable\n */\n\nvar TableHeaderRow = function TableHeaderRow(_ref) {\n  var className = _ref.className,\n      style = _ref.style,\n      columns = _ref.columns,\n      headerIndex = _ref.headerIndex,\n      cellRenderer = _ref.cellRenderer,\n      headerRenderer = _ref.headerRenderer,\n      expandColumnKey = _ref.expandColumnKey,\n      ExpandIcon = _ref.expandIcon,\n      Tag = _ref.tagName,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var cells = columns.map(function (column, columnIndex) {\n    return cellRenderer({\n      columns: columns,\n      column: column,\n      columnIndex: columnIndex,\n      headerIndex: headerIndex,\n      expandIcon: column.key === expandColumnKey && /*#__PURE__*/React.createElement(ExpandIcon, null)\n    });\n  });\n\n  if (headerRenderer) {\n    cells = renderElement(headerRenderer, {\n      cells: cells,\n      columns: columns,\n      headerIndex: headerIndex\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, rest, {\n    className: className,\n    style: style\n  }), cells);\n};\n\nTableHeaderRow.defaultProps = {\n  tagName: 'div'\n};\nTableHeaderRow.propTypes = {\n  isScrolling: PropTypes.bool,\n  className: PropTypes.string,\n  style: PropTypes.object,\n  columns: PropTypes.arrayOf(PropTypes.object).isRequired,\n  headerIndex: PropTypes.number,\n  cellRenderer: PropTypes.func,\n  headerRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n  expandColumnKey: PropTypes.string,\n  expandIcon: PropTypes.func,\n  tagName: PropTypes.elementType\n};\nexport default TableHeaderRow;\n//# sourceMappingURL=TableHeaderRow.js.map","import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nvar _excluded = [\"isScrolling\", \"className\", \"style\", \"columns\", \"rowIndex\", \"rowData\", \"expandColumnKey\", \"depth\", \"rowEventHandlers\", \"estimatedRowHeight\", \"rowRenderer\", \"cellRenderer\", \"expandIconRenderer\", \"tagName\", \"rowKey\", \"getIsResetting\", \"onRowHover\", \"onRowExpand\", \"onRowHeightChange\"],\n    _excluded2 = [\"height\"];\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { renderElement } from './utils';\n/**\n * Row component for BaseTable\n */\n\nvar TableRow = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(TableRow, _React$PureComponent);\n\n  function TableRow(props) {\n    var _this;\n\n    _this = _React$PureComponent.call(this, props) || this;\n    _this.state = {\n      measured: false\n    };\n    _this._setRef = _this._setRef.bind(_assertThisInitialized(_this));\n    _this._handleExpand = _this._handleExpand.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = TableRow.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.props.estimatedRowHeight && this.props.rowIndex >= 0 && this._measureHeight(true);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    var _this2 = this;\n\n    if (this.props.estimatedRowHeight && this.props.rowIndex >= 0 && // should not re-measure if it's updated after measured and reset\n    !this.props.getIsResetting() && this.state.measured && prevState.measured) {\n      this.setState({\n        measured: false\n      }, function () {\n        return _this2._measureHeight();\n      });\n    }\n  };\n\n  _proto.render = function render() {\n    /* eslint-disable no-unused-vars */\n    var _this$props = this.props,\n        isScrolling = _this$props.isScrolling,\n        className = _this$props.className,\n        style = _this$props.style,\n        columns = _this$props.columns,\n        rowIndex = _this$props.rowIndex,\n        rowData = _this$props.rowData,\n        expandColumnKey = _this$props.expandColumnKey,\n        depth = _this$props.depth,\n        rowEventHandlers = _this$props.rowEventHandlers,\n        estimatedRowHeight = _this$props.estimatedRowHeight,\n        rowRenderer = _this$props.rowRenderer,\n        cellRenderer = _this$props.cellRenderer,\n        expandIconRenderer = _this$props.expandIconRenderer,\n        Tag = _this$props.tagName,\n        rowKey = _this$props.rowKey,\n        getIsResetting = _this$props.getIsResetting,\n        onRowHover = _this$props.onRowHover,\n        onRowExpand = _this$props.onRowExpand,\n        onRowHeightChange = _this$props.onRowHeightChange,\n        rest = _objectWithoutPropertiesLoose(_this$props, _excluded);\n    /* eslint-enable no-unused-vars */\n\n\n    var expandIcon = expandIconRenderer({\n      rowData: rowData,\n      rowIndex: rowIndex,\n      depth: depth,\n      onExpand: this._handleExpand\n    });\n    var cells = columns.map(function (column, columnIndex) {\n      return cellRenderer({\n        isScrolling: isScrolling,\n        columns: columns,\n        column: column,\n        columnIndex: columnIndex,\n        rowData: rowData,\n        rowIndex: rowIndex,\n        expandIcon: column.key === expandColumnKey && expandIcon\n      });\n    });\n\n    if (rowRenderer) {\n      cells = renderElement(rowRenderer, {\n        isScrolling: isScrolling,\n        cells: cells,\n        columns: columns,\n        rowData: rowData,\n        rowIndex: rowIndex,\n        depth: depth\n      });\n    }\n\n    var eventHandlers = this._getEventHandlers(rowEventHandlers);\n\n    if (estimatedRowHeight && rowIndex >= 0) {\n      var height = style.height,\n          otherStyles = _objectWithoutPropertiesLoose(style, _excluded2);\n\n      return /*#__PURE__*/React.createElement(Tag, _extends({}, rest, {\n        ref: this._setRef,\n        className: className,\n        style: this.state.measured ? style : otherStyles\n      }, this.state.measured && eventHandlers), cells);\n    }\n\n    return /*#__PURE__*/React.createElement(Tag, _extends({}, rest, {\n      className: className,\n      style: style\n    }, eventHandlers), cells);\n  };\n\n  _proto._setRef = function _setRef(ref) {\n    this.ref = ref;\n  };\n\n  _proto._handleExpand = function _handleExpand(expanded) {\n    var _this$props2 = this.props,\n        onRowExpand = _this$props2.onRowExpand,\n        rowData = _this$props2.rowData,\n        rowIndex = _this$props2.rowIndex,\n        rowKey = _this$props2.rowKey;\n    onRowExpand && onRowExpand({\n      expanded: expanded,\n      rowData: rowData,\n      rowIndex: rowIndex,\n      rowKey: rowKey\n    });\n  };\n\n  _proto._measureHeight = function _measureHeight(initialMeasure) {\n    if (!this.ref) return;\n    var _this$props3 = this.props,\n        style = _this$props3.style,\n        rowKey = _this$props3.rowKey,\n        onRowHeightChange = _this$props3.onRowHeightChange,\n        rowIndex = _this$props3.rowIndex,\n        columns = _this$props3.columns;\n    var height = this.ref.getBoundingClientRect().height;\n    this.setState({\n      measured: true\n    }, function () {\n      if (initialMeasure || height !== style.height) onRowHeightChange(rowKey, height, rowIndex, columns[0] && !columns[0].__placeholder__ && columns[0].frozen);\n    });\n  };\n\n  _proto._getEventHandlers = function _getEventHandlers(handlers) {\n    if (handlers === void 0) {\n      handlers = {};\n    }\n\n    var _this$props4 = this.props,\n        rowData = _this$props4.rowData,\n        rowIndex = _this$props4.rowIndex,\n        rowKey = _this$props4.rowKey,\n        onRowHover = _this$props4.onRowHover;\n    var eventHandlers = {};\n    Object.keys(handlers).forEach(function (eventKey) {\n      var callback = handlers[eventKey];\n\n      if (typeof callback === 'function') {\n        eventHandlers[eventKey] = function (event) {\n          callback({\n            rowData: rowData,\n            rowIndex: rowIndex,\n            rowKey: rowKey,\n            event: event\n          });\n        };\n      }\n    });\n\n    if (onRowHover) {\n      var mouseEnterHandler = eventHandlers['onMouseEnter'];\n\n      eventHandlers['onMouseEnter'] = function (event) {\n        onRowHover({\n          hovered: true,\n          rowData: rowData,\n          rowIndex: rowIndex,\n          rowKey: rowKey,\n          event: event\n        });\n        mouseEnterHandler && mouseEnterHandler(event);\n      };\n\n      var mouseLeaveHandler = eventHandlers['onMouseLeave'];\n\n      eventHandlers['onMouseLeave'] = function (event) {\n        onRowHover({\n          hovered: false,\n          rowData: rowData,\n          rowIndex: rowIndex,\n          rowKey: rowKey,\n          event: event\n        });\n        mouseLeaveHandler && mouseLeaveHandler(event);\n      };\n    }\n\n    return eventHandlers;\n  };\n\n  return TableRow;\n}(React.PureComponent);\n\nTableRow.defaultProps = {\n  tagName: 'div'\n};\nTableRow.propTypes = {\n  isScrolling: PropTypes.bool,\n  className: PropTypes.string,\n  style: PropTypes.object,\n  columns: PropTypes.arrayOf(PropTypes.object).isRequired,\n  rowData: PropTypes.object.isRequired,\n  rowIndex: PropTypes.number.isRequired,\n  rowKey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  expandColumnKey: PropTypes.string,\n  depth: PropTypes.number,\n  rowEventHandlers: PropTypes.object,\n  rowRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n  cellRenderer: PropTypes.func,\n  expandIconRenderer: PropTypes.func,\n  estimatedRowHeight: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\n  getIsResetting: PropTypes.func,\n  onRowHover: PropTypes.func,\n  onRowExpand: PropTypes.func,\n  onRowHeightChange: PropTypes.func,\n  tagName: PropTypes.elementType\n};\nexport default TableRow;\n//# sourceMappingURL=TableRow.js.map","import React from 'react';\nimport PropTypes from 'prop-types';\n/**\n * HeaderCell component for BaseTable\n */\n\nvar TableHeaderCell = function TableHeaderCell(_ref) {\n  var className = _ref.className,\n      column = _ref.column,\n      columnIndex = _ref.columnIndex;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: className\n  }, column.title);\n};\n\nTableHeaderCell.propTypes = {\n  className: PropTypes.string,\n  column: PropTypes.object,\n  columnIndex: PropTypes.number\n};\nexport default TableHeaderCell;\n//# sourceMappingURL=TableHeaderCell.js.map","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { toString } from './utils';\n/**\n * Cell component for BaseTable\n */\n\nvar TableCell = function TableCell(_ref) {\n  var className = _ref.className,\n      cellData = _ref.cellData,\n      column = _ref.column,\n      columnIndex = _ref.columnIndex,\n      rowData = _ref.rowData,\n      rowIndex = _ref.rowIndex;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: className\n  }, /*#__PURE__*/React.isValidElement(cellData) ? cellData : toString(cellData));\n};\n\nTableCell.propTypes = {\n  className: PropTypes.string,\n  cellData: PropTypes.any,\n  column: PropTypes.object,\n  columnIndex: PropTypes.number,\n  rowData: PropTypes.object,\n  rowIndex: PropTypes.number\n};\nexport default TableCell;\n//# sourceMappingURL=TableCell.js.map","import _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nexport var Alignment = {\n  LEFT: 'left',\n  CENTER: 'center',\n  RIGHT: 'right'\n};\nexport var FrozenDirection = {\n  LEFT: 'left',\n  RIGHT: 'right',\n  DEFAULT: true,\n  NONE: false\n};\n/**\n * Column for BaseTable\n */\n\nvar Column = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Column, _React$Component);\n\n  function Column() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  return Column;\n}(React.Component);\n\nColumn.propTypes = {\n  /**\n   * Class name for the column cell, could be a callback to return the class name\n   * The callback is of the shape of `({ cellData, columns, column, columnIndex, rowData, rowIndex }) => string`\n   */\n  className: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n\n  /**\n   * Class name for the column header, could be a callback to return the class name\n   * The callback is of the shape of `({ columns, column, columnIndex, headerIndex }) => string`\n   */\n  headerClassName: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n\n  /**\n   * Custom style for the column cell, including the header cells\n   */\n  style: PropTypes.object,\n\n  /**\n   * Title for the column header\n   */\n  title: PropTypes.string,\n\n  /**\n   * Data key for the column cell, could be \"a.b.c\"\n   */\n  dataKey: PropTypes.string,\n\n  /**\n   * Custom cell data getter\n   * The handler is of the shape of `({ columns, column, columnIndex, rowData, rowIndex }) => node`\n   */\n  dataGetter: PropTypes.func,\n\n  /**\n   * Alignment of the column cell\n   */\n  align: PropTypes.oneOf(['left', 'center', 'right']),\n\n  /**\n   * Flex grow style, defaults to 0\n   */\n  flexGrow: PropTypes.number,\n\n  /**\n   * Flex shrink style, defaults to 1 for flexible table and 0 for fixed table\n   */\n  flexShrink: PropTypes.number,\n\n  /**\n   * The width of the column, gutter width is not included\n   */\n  width: PropTypes.number.isRequired,\n\n  /**\n   * Maximum width of the column, used if the column is resizable\n   */\n  maxWidth: PropTypes.number,\n\n  /**\n   * Minimum width of the column, used if the column is resizable\n   */\n  minWidth: PropTypes.number,\n\n  /**\n   * Whether the column is frozen and what's the frozen side\n   */\n  frozen: PropTypes.oneOf(['left', 'right', true, false]),\n\n  /**\n   * Whether the column is hidden\n   */\n  hidden: PropTypes.bool,\n\n  /**\n   * Whether the column is resizable, defaults to false\n   */\n  resizable: PropTypes.bool,\n\n  /**\n   * Whether the column is sortable, defaults to false\n   */\n  sortable: PropTypes.bool,\n\n  /**\n   * Custom column cell renderer\n   * The renderer receives props `{ cellData, columns, column, columnIndex, rowData, rowIndex, container, isScrolling }`\n   */\n  cellRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n\n  /**\n   * Custom column header renderer\n   * The renderer receives props `{ columns, column, columnIndex, headerIndex, container }`\n   */\n  headerRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element])\n};\nColumn.Alignment = Alignment;\nColumn.FrozenDirection = FrozenDirection;\nexport default Column;\n//# sourceMappingURL=Column.js.map","/**\n * Sort order for BaseTable\n */\nvar SortOrder = {\n  /**\n   * Sort data in ascending order\n   */\n  ASC: 'asc',\n\n  /**\n   * Sort data in descending order\n   */\n  DESC: 'desc'\n};\nexport default SortOrder;\n//# sourceMappingURL=SortOrder.js.map","import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nvar _excluded = [\"expandable\", \"expanded\", \"indentSize\", \"depth\", \"onExpand\"];\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\n/**\n * default ExpandIcon for BaseTable\n */\n\nvar ExpandIcon = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(ExpandIcon, _React$PureComponent);\n\n  function ExpandIcon(props) {\n    var _this;\n\n    _this = _React$PureComponent.call(this, props) || this;\n    _this._handleClick = _this._handleClick.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = ExpandIcon.prototype;\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        expandable = _this$props.expandable,\n        expanded = _this$props.expanded,\n        indentSize = _this$props.indentSize,\n        depth = _this$props.depth,\n        onExpand = _this$props.onExpand,\n        rest = _objectWithoutPropertiesLoose(_this$props, _excluded);\n\n    if (!expandable && indentSize === 0) return null;\n    var cls = cn('BaseTable__expand-icon', {\n      'BaseTable__expand-icon--expanded': expanded\n    });\n    return /*#__PURE__*/React.createElement(\"div\", _extends({}, rest, {\n      className: cls,\n      onClick: expandable && onExpand ? this._handleClick : null,\n      style: {\n        fontFamily: 'initial',\n        cursor: 'pointer',\n        userSelect: 'none',\n        width: '16px',\n        minWidth: '16px',\n        height: '16px',\n        lineHeight: '16px',\n        fontSize: '16px',\n        textAlign: 'center',\n        transition: 'transform 0.15s ease-out',\n        transform: \"rotate(\" + (expandable && expanded ? 90 : 0) + \"deg)\",\n        marginLeft: depth * indentSize\n      }\n    }), expandable && \"\\u25B8\");\n  };\n\n  _proto._handleClick = function _handleClick(e) {\n    e.stopPropagation();\n    e.preventDefault();\n    var _this$props2 = this.props,\n        onExpand = _this$props2.onExpand,\n        expanded = _this$props2.expanded;\n    onExpand(!expanded);\n  };\n\n  return ExpandIcon;\n}(React.PureComponent);\n\nExpandIcon.defaultProps = {\n  depth: 0,\n  indentSize: 16\n};\nExpandIcon.propTypes = {\n  expandable: PropTypes.bool,\n  expanded: PropTypes.bool,\n  indentSize: PropTypes.number,\n  depth: PropTypes.number,\n  onExpand: PropTypes.func\n};\nexport default ExpandIcon;\n//# sourceMappingURL=ExpandIcon.js.map","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport SortOrder from './SortOrder';\n/**\n * default SortIndicator for BaseTable\n */\n\nvar SortIndicator = function SortIndicator(_ref) {\n  var sortOrder = _ref.sortOrder,\n      className = _ref.className,\n      style = _ref.style;\n  var cls = cn('BaseTable__sort-indicator', className, {\n    'BaseTable__sort-indicator--descending': sortOrder === SortOrder.DESC\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: cls,\n    style: _objectSpread({\n      userSelect: 'none',\n      width: '16px',\n      height: '16px',\n      lineHeight: '16px',\n      textAlign: 'center'\n    }, style)\n  }, sortOrder === SortOrder.DESC ? \"\\u2193\" : \"\\u2191\");\n};\n\nSortIndicator.propTypes = {\n  sortOrder: PropTypes.oneOf([SortOrder.ASC, SortOrder.DESC]),\n  className: PropTypes.string,\n  style: PropTypes.object\n};\nexport default SortIndicator;\n//# sourceMappingURL=SortIndicator.js.map","import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nvar _excluded = [\"style\", \"column\", \"onResizeStart\", \"onResize\", \"onResizeStop\", \"minWidth\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { noop, addClassName, removeClassName } from './utils';\nvar INVALID_VALUE = null; // copied from https://github.com/mzabriskie/react-draggable/blob/master/lib/utils/domFns.js\n\nexport function addUserSelectStyles(doc) {\n  if (!doc) return;\n  var styleEl = doc.getElementById('react-draggable-style-el');\n\n  if (!styleEl) {\n    styleEl = doc.createElement('style');\n    styleEl.type = 'text/css';\n    styleEl.id = 'react-draggable-style-el';\n    styleEl.innerHTML = '.react-draggable-transparent-selection *::-moz-selection {all: inherit;}\\n';\n    styleEl.innerHTML += '.react-draggable-transparent-selection *::selection {all: inherit;}\\n';\n    doc.getElementsByTagName('head')[0].appendChild(styleEl);\n  }\n\n  if (doc.body) addClassName(doc.body, 'react-draggable-transparent-selection');\n}\nexport function removeUserSelectStyles(doc) {\n  if (!doc) return;\n\n  try {\n    if (doc.body) removeClassName(doc.body, 'react-draggable-transparent-selection');\n\n    if (doc.selection) {\n      doc.selection.empty();\n    } else {\n      // Remove selection caused by scroll, unless it's a focused input\n      // (we use doc.defaultView in case we're in an iframe)\n      var selection = (doc.defaultView || window).getSelection();\n\n      if (selection && selection.type !== 'Caret') {\n        selection.removeAllRanges();\n      }\n    }\n  } catch (e) {// probably IE\n  }\n}\nvar eventsFor = {\n  touch: {\n    start: 'touchstart',\n    move: 'touchmove',\n    stop: 'touchend'\n  },\n  mouse: {\n    start: 'mousedown',\n    move: 'mousemove',\n    stop: 'mouseup'\n  }\n};\nvar dragEventFor = eventsFor.mouse;\n/**\n * ColumnResizer for BaseTable\n */\n\nvar ColumnResizer = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(ColumnResizer, _React$PureComponent);\n\n  function ColumnResizer(props) {\n    var _this;\n\n    _this = _React$PureComponent.call(this, props) || this;\n    _this.isDragging = false;\n    _this.lastX = INVALID_VALUE;\n    _this.width = 0;\n    _this._setHandleRef = _this._setHandleRef.bind(_assertThisInitialized(_this));\n    _this._handleClick = _this._handleClick.bind(_assertThisInitialized(_this));\n    _this._handleMouseDown = _this._handleMouseDown.bind(_assertThisInitialized(_this));\n    _this._handleMouseUp = _this._handleMouseUp.bind(_assertThisInitialized(_this));\n    _this._handleTouchStart = _this._handleTouchStart.bind(_assertThisInitialized(_this));\n    _this._handleTouchEnd = _this._handleTouchEnd.bind(_assertThisInitialized(_this));\n    _this._handleDragStart = _this._handleDragStart.bind(_assertThisInitialized(_this));\n    _this._handleDragStop = _this._handleDragStop.bind(_assertThisInitialized(_this));\n    _this._handleDrag = _this._handleDrag.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = ColumnResizer.prototype;\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.handleRef) {\n      var ownerDocument = this.handleRef.ownerDocument;\n      ownerDocument.removeEventListener(eventsFor.mouse.move, this._handleDrag);\n      ownerDocument.removeEventListener(eventsFor.mouse.stop, this._handleDragStop);\n      ownerDocument.removeEventListener(eventsFor.touch.move, this._handleDrag);\n      ownerDocument.removeEventListener(eventsFor.touch.stop, this._handleDragStop);\n      removeUserSelectStyles(ownerDocument);\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        style = _this$props.style,\n        column = _this$props.column,\n        onResizeStart = _this$props.onResizeStart,\n        onResize = _this$props.onResize,\n        onResizeStop = _this$props.onResizeStop,\n        minWidth = _this$props.minWidth,\n        rest = _objectWithoutPropertiesLoose(_this$props, _excluded);\n\n    return /*#__PURE__*/React.createElement(\"div\", _extends({}, rest, {\n      ref: this._setHandleRef,\n      onClick: this._handleClick,\n      onMouseDown: this._handleMouseDown,\n      onMouseUp: this._handleMouseUp,\n      onTouchStart: this._handleTouchStart,\n      onTouchEnd: this._handleTouchEnd,\n      style: _objectSpread({\n        userSelect: 'none',\n        touchAction: 'none',\n        position: 'absolute',\n        top: 0,\n        bottom: 0,\n        right: 0,\n        cursor: 'col-resize'\n      }, style)\n    }));\n  };\n\n  _proto._setHandleRef = function _setHandleRef(ref) {\n    this.handleRef = ref;\n  };\n\n  _proto._handleClick = function _handleClick(e) {\n    e.stopPropagation();\n  };\n\n  _proto._handleMouseDown = function _handleMouseDown(e) {\n    dragEventFor = eventsFor.mouse;\n\n    this._handleDragStart(e);\n  };\n\n  _proto._handleMouseUp = function _handleMouseUp(e) {\n    dragEventFor = eventsFor.mouse;\n\n    this._handleDragStop(e);\n  };\n\n  _proto._handleTouchStart = function _handleTouchStart(e) {\n    dragEventFor = eventsFor.touch;\n\n    this._handleDragStart(e);\n  };\n\n  _proto._handleTouchEnd = function _handleTouchEnd(e) {\n    dragEventFor = eventsFor.touch;\n\n    this._handleDragStop(e);\n  };\n\n  _proto._handleDragStart = function _handleDragStart(e) {\n    if (typeof e.button === 'number' && e.button !== 0) return;\n    this.isDragging = true;\n    this.lastX = INVALID_VALUE;\n    this.width = this.props.column.width;\n    this.props.onResizeStart(this.props.column);\n    var ownerDocument = this.handleRef.ownerDocument;\n    addUserSelectStyles(ownerDocument);\n    ownerDocument.addEventListener(dragEventFor.move, this._handleDrag);\n    ownerDocument.addEventListener(dragEventFor.stop, this._handleDragStop);\n  };\n\n  _proto._handleDragStop = function _handleDragStop(e) {\n    if (!this.isDragging) return;\n    this.isDragging = false;\n    this.props.onResizeStop(this.props.column);\n    var ownerDocument = this.handleRef.ownerDocument;\n    removeUserSelectStyles(ownerDocument);\n    ownerDocument.removeEventListener(dragEventFor.move, this._handleDrag);\n    ownerDocument.removeEventListener(dragEventFor.stop, this._handleDragStop);\n  };\n\n  _proto._handleDrag = function _handleDrag(e) {\n    var clientX = e.clientX;\n\n    if (e.type === eventsFor.touch.move) {\n      e.preventDefault();\n      if (e.targetTouches && e.targetTouches[0]) clientX = e.targetTouches[0].clientX;\n    }\n\n    var offsetParent = this.handleRef.offsetParent;\n    var offsetParentRect = offsetParent.getBoundingClientRect();\n    var x = clientX + offsetParent.scrollLeft - offsetParentRect.left;\n\n    if (this.lastX === INVALID_VALUE) {\n      this.lastX = x;\n      return;\n    }\n\n    var _this$props2 = this.props,\n        column = _this$props2.column,\n        MIN_WIDTH = _this$props2.minWidth;\n    var width = column.width,\n        maxWidth = column.maxWidth,\n        _column$minWidth = column.minWidth,\n        minWidth = _column$minWidth === void 0 ? MIN_WIDTH : _column$minWidth;\n    var movedX = x - this.lastX;\n    if (!movedX) return;\n    this.width = this.width + movedX;\n    this.lastX = x;\n    var newWidth = this.width;\n\n    if (maxWidth && newWidth > maxWidth) {\n      newWidth = maxWidth;\n    } else if (newWidth < minWidth) {\n      newWidth = minWidth;\n    }\n\n    if (newWidth === width) return;\n    this.props.onResize(column, newWidth);\n  };\n\n  return ColumnResizer;\n}(React.PureComponent);\n\nColumnResizer.defaultProps = {\n  onResizeStart: noop,\n  onResize: noop,\n  onResizeStop: noop,\n  minWidth: 30\n};\nColumnResizer.propTypes = {\n  /**\n   * Custom style for the drag handler\n   */\n  style: PropTypes.object,\n\n  /**\n   * The column object to be dragged\n   */\n  column: PropTypes.object,\n\n  /**\n   * A callback function when resizing started\n   * The callback is of the shape of `(column) => *`\n   */\n  onResizeStart: PropTypes.func,\n\n  /**\n   * A callback function when resizing the column\n   * The callback is of the shape of `(column, width) => *`\n   */\n  onResize: PropTypes.func,\n\n  /**\n   * A callback function when resizing stopped\n   * The callback is of the shape of `(column) => *`\n   */\n  onResizeStop: PropTypes.func,\n\n  /**\n   * Minimum width of the column could be resized to if the column's `minWidth` is not set\n   */\n  minWidth: PropTypes.number\n};\nexport default ColumnResizer;\n//# sourceMappingURL=ColumnResizer.js.map","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport { FrozenDirection } from './Column';\n\nvar ColumnManager = /*#__PURE__*/function () {\n  function ColumnManager(columns, fixed) {\n    this._origColumns = [];\n    this.reset(columns, fixed);\n  }\n\n  var _proto = ColumnManager.prototype;\n\n  _proto._cache = function _cache(key, fn) {\n    if (key in this._cached) return this._cached[key];\n    this._cached[key] = fn();\n    return this._cached[key];\n  };\n\n  _proto.reset = function reset(columns, fixed) {\n    var _this = this;\n\n    this._columns = columns.map(function (column) {\n      var width = column.width;\n\n      if (column.resizable) {\n        // don't reset column's `width` if `width` prop doesn't change\n        var idx = _this._origColumns.findIndex(function (x) {\n          return x.key === column.key;\n        });\n\n        if (idx >= 0 && _this._origColumns[idx].width === column.width) {\n          width = _this._columns[idx].width;\n        }\n      }\n\n      return _objectSpread(_objectSpread({}, column), {}, {\n        width: width\n      });\n    });\n    this._origColumns = columns;\n    this._fixed = fixed;\n    this._cached = {};\n    this._columnStyles = this.recomputeColumnStyles();\n  };\n\n  _proto.resetCache = function resetCache() {\n    this._cached = {};\n  };\n\n  _proto.getOriginalColumns = function getOriginalColumns() {\n    return this._origColumns;\n  };\n\n  _proto.getColumns = function getColumns() {\n    return this._columns;\n  };\n\n  _proto.getVisibleColumns = function getVisibleColumns() {\n    var _this2 = this;\n\n    return this._cache('visibleColumns', function () {\n      return _this2._columns.filter(function (column) {\n        return !column.hidden;\n      });\n    });\n  };\n\n  _proto.hasFrozenColumns = function hasFrozenColumns() {\n    var _this3 = this;\n\n    return this._cache('hasFrozenColumns', function () {\n      return _this3._fixed && _this3.getVisibleColumns().some(function (column) {\n        return !!column.frozen;\n      });\n    });\n  };\n\n  _proto.hasLeftFrozenColumns = function hasLeftFrozenColumns() {\n    var _this4 = this;\n\n    return this._cache('hasLeftFrozenColumns', function () {\n      return _this4._fixed && _this4.getVisibleColumns().some(function (column) {\n        return column.frozen === FrozenDirection.LEFT || column.frozen === true;\n      });\n    });\n  };\n\n  _proto.hasRightFrozenColumns = function hasRightFrozenColumns() {\n    var _this5 = this;\n\n    return this._cache('hasRightFrozenColumns', function () {\n      return _this5._fixed && _this5.getVisibleColumns().some(function (column) {\n        return column.frozen === FrozenDirection.RIGHT;\n      });\n    });\n  };\n\n  _proto.getMainColumns = function getMainColumns() {\n    var _this6 = this;\n\n    return this._cache('mainColumns', function () {\n      var columns = _this6.getVisibleColumns();\n\n      if (!_this6.hasFrozenColumns()) return columns;\n      var mainColumns = [];\n\n      _this6.getLeftFrozenColumns().forEach(function (column) {\n        var _objectSpread2;\n\n        //columns placeholder for the fixed table above them\n        mainColumns.push(_objectSpread(_objectSpread({}, column), {}, (_objectSpread2 = {}, _objectSpread2[ColumnManager.PlaceholderKey] = true, _objectSpread2)));\n      });\n\n      _this6.getVisibleColumns().forEach(function (column) {\n        if (!column.frozen) mainColumns.push(column);\n      });\n\n      _this6.getRightFrozenColumns().forEach(function (column) {\n        var _objectSpread3;\n\n        mainColumns.push(_objectSpread(_objectSpread({}, column), {}, (_objectSpread3 = {}, _objectSpread3[ColumnManager.PlaceholderKey] = true, _objectSpread3)));\n      });\n\n      return mainColumns;\n    });\n  };\n\n  _proto.getLeftFrozenColumns = function getLeftFrozenColumns() {\n    var _this7 = this;\n\n    return this._cache('leftFrozenColumns', function () {\n      if (!_this7._fixed) return [];\n      return _this7.getVisibleColumns().filter(function (column) {\n        return column.frozen === FrozenDirection.LEFT || column.frozen === true;\n      });\n    });\n  };\n\n  _proto.getRightFrozenColumns = function getRightFrozenColumns() {\n    var _this8 = this;\n\n    return this._cache('rightFrozenColumns', function () {\n      if (!_this8._fixed) return [];\n      return _this8.getVisibleColumns().filter(function (column) {\n        return column.frozen === FrozenDirection.RIGHT;\n      });\n    });\n  };\n\n  _proto.getColumn = function getColumn(key) {\n    var idx = this._columns.findIndex(function (column) {\n      return column.key === key;\n    });\n\n    return this._columns[idx];\n  };\n\n  _proto.getColumnsWidth = function getColumnsWidth() {\n    var _this9 = this;\n\n    return this._cache('columnsWidth', function () {\n      return _this9.recomputeColumnsWidth(_this9.getVisibleColumns());\n    });\n  };\n\n  _proto.getLeftFrozenColumnsWidth = function getLeftFrozenColumnsWidth() {\n    var _this10 = this;\n\n    return this._cache('leftFrozenColumnsWidth', function () {\n      return _this10.recomputeColumnsWidth(_this10.getLeftFrozenColumns());\n    });\n  };\n\n  _proto.getRightFrozenColumnsWidth = function getRightFrozenColumnsWidth() {\n    var _this11 = this;\n\n    return this._cache('rightFrozenColumnsWidth', function () {\n      return _this11.recomputeColumnsWidth(_this11.getRightFrozenColumns());\n    });\n  };\n\n  _proto.recomputeColumnsWidth = function recomputeColumnsWidth(columns) {\n    return columns.reduce(function (width, column) {\n      return width + column.width;\n    }, 0);\n  };\n\n  _proto.setColumnWidth = function setColumnWidth(key, width) {\n    var column = this.getColumn(key);\n    column.width = width;\n    this._cached = {};\n    this._columnStyles[column.key] = this.recomputeColumnStyle(column);\n  };\n\n  _proto.getColumnStyle = function getColumnStyle(key) {\n    return this._columnStyles[key];\n  };\n\n  _proto.getColumnStyles = function getColumnStyles() {\n    return this._columnStyles;\n  };\n\n  _proto.recomputeColumnStyle = function recomputeColumnStyle(column) {\n    var flexGrow = 0;\n    var flexShrink = 0;\n\n    if (!this._fixed) {\n      flexGrow = typeof column.flexGrow === 'number' ? column.flexGrow : 0;\n      flexShrink = typeof column.flexShrink === 'number' ? column.flexShrink : 1;\n    } // workaround for Flex bug on IE: https://github.com/philipwalton/flexbugs#flexbug-7\n\n\n    var flexValue = flexGrow + \" \" + flexShrink + \" auto\";\n\n    var style = _objectSpread(_objectSpread({}, column.style), {}, {\n      flex: flexValue,\n      msFlex: flexValue,\n      WebkitFlex: flexValue,\n      width: column.width,\n      overflow: 'hidden'\n    });\n\n    if (!this._fixed && column.maxWidth) {\n      style.maxWidth = column.maxWidth;\n    }\n\n    if (!this._fixed && column.minWidth) {\n      style.minWidth = column.minWidth;\n    }\n\n    return style;\n  };\n\n  _proto.recomputeColumnStyles = function recomputeColumnStyles() {\n    var _this12 = this;\n\n    return this._columns.reduce(function (styles, column) {\n      styles[column.key] = _this12.recomputeColumnStyle(column);\n      return styles;\n    }, {});\n  };\n\n  return ColumnManager;\n}();\n\nexport { ColumnManager as default };\nColumnManager.PlaceholderKey = '__placeholder__';\n//# sourceMappingURL=ColumnManager.js.map","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nvar _excluded = [\"tagName\"],\n    _excluded2 = [\"tagName\"],\n    _excluded3 = [\"width\", \"headerHeight\", \"rowHeight\", \"fixed\", \"estimatedRowHeight\"],\n    _excluded4 = [\"width\", \"headerHeight\", \"rowHeight\", \"estimatedRowHeight\"],\n    _excluded5 = [\"width\", \"headerHeight\", \"rowHeight\", \"estimatedRowHeight\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport memoize from 'memoize-one';\nimport GridTable from './GridTable';\nimport TableHeaderRow from './TableHeaderRow';\nimport TableRow from './TableRow';\nimport TableHeaderCell from './TableHeaderCell';\nimport TableCell from './TableCell';\nimport Column, { Alignment, FrozenDirection } from './Column';\nimport SortOrder from './SortOrder';\nimport ExpandIcon from './ExpandIcon';\nimport SortIndicator from './SortIndicator';\nimport ColumnResizer from './ColumnResizer';\nimport ColumnManager from './ColumnManager';\nimport { renderElement, normalizeColumns, getScrollbarSize as defaultGetScrollbarSize, getEstimatedTotalRowsHeight, isObjectEqual, callOrReturn, hasChildren, flattenOnKeys, cloneArray, getValue, throttle, debounce, noop } from './utils';\nvar getColumns = memoize(function (columns, children) {\n  return columns || normalizeColumns(children);\n});\n\nvar getContainerStyle = function getContainerStyle(width, maxWidth, height) {\n  return {\n    width: width,\n    maxWidth: maxWidth,\n    height: height,\n    overflow: 'hidden'\n  };\n};\n\nvar DEFAULT_COMPONENTS = {\n  TableCell: TableCell,\n  TableHeaderCell: TableHeaderCell,\n  ExpandIcon: ExpandIcon,\n  SortIndicator: SortIndicator\n};\nvar RESIZE_THROTTLE_WAIT = 50; // used for memoization\n\nvar EMPTY_ARRAY = [];\n/**\n * React table component\n */\n\nvar BaseTable = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(BaseTable, _React$PureComponent);\n\n  function BaseTable(props) {\n    var _this;\n\n    _this = _React$PureComponent.call(this, props) || this;\n    var columns = props.columns,\n        children = props.children,\n        defaultExpandedRowKeys = props.defaultExpandedRowKeys;\n    _this.state = {\n      scrollbarSize: 0,\n      hoveredRowKey: null,\n      resizingKey: null,\n      resizingWidth: 0,\n      expandedRowKeys: cloneArray(defaultExpandedRowKeys)\n    };\n    _this.columnManager = new ColumnManager(getColumns(columns, children), props.fixed);\n    _this._setContainerRef = _this._setContainerRef.bind(_assertThisInitialized(_this));\n    _this._setMainTableRef = _this._setMainTableRef.bind(_assertThisInitialized(_this));\n    _this._setLeftTableRef = _this._setLeftTableRef.bind(_assertThisInitialized(_this));\n    _this._setRightTableRef = _this._setRightTableRef.bind(_assertThisInitialized(_this));\n    _this.renderExpandIcon = _this.renderExpandIcon.bind(_assertThisInitialized(_this));\n    _this.renderRow = _this.renderRow.bind(_assertThisInitialized(_this));\n    _this.renderRowCell = _this.renderRowCell.bind(_assertThisInitialized(_this));\n    _this.renderHeader = _this.renderHeader.bind(_assertThisInitialized(_this));\n    _this.renderHeaderCell = _this.renderHeaderCell.bind(_assertThisInitialized(_this));\n    _this._handleScroll = _this._handleScroll.bind(_assertThisInitialized(_this));\n    _this._handleVerticalScroll = _this._handleVerticalScroll.bind(_assertThisInitialized(_this));\n    _this._handleRowsRendered = _this._handleRowsRendered.bind(_assertThisInitialized(_this));\n    _this._handleRowHover = _this._handleRowHover.bind(_assertThisInitialized(_this));\n    _this._handleRowExpand = _this._handleRowExpand.bind(_assertThisInitialized(_this));\n    _this._handleColumnResize = throttle(_this._handleColumnResize.bind(_assertThisInitialized(_this)), RESIZE_THROTTLE_WAIT);\n    _this._handleColumnResizeStart = _this._handleColumnResizeStart.bind(_assertThisInitialized(_this));\n    _this._handleColumnResizeStop = _this._handleColumnResizeStop.bind(_assertThisInitialized(_this));\n    _this._handleColumnSort = _this._handleColumnSort.bind(_assertThisInitialized(_this));\n    _this._handleFrozenRowHeightChange = _this._handleFrozenRowHeightChange.bind(_assertThisInitialized(_this));\n    _this._handleRowHeightChange = _this._handleRowHeightChange.bind(_assertThisInitialized(_this));\n    _this._getLeftTableContainerStyle = memoize(getContainerStyle);\n    _this._getRightTableContainerStyle = memoize(getContainerStyle);\n    _this._flattenOnKeys = memoize(function (tree, keys, dataKey) {\n      _this._depthMap = {};\n      return flattenOnKeys(tree, keys, _this._depthMap, dataKey);\n    });\n    _this._resetColumnManager = memoize(function (columns, fixed) {\n      _this.columnManager.reset(columns, fixed);\n\n      if (_this.props.estimatedRowHeight && fixed) {\n        if (!_this.columnManager.hasLeftFrozenColumns()) {\n          _this._leftRowHeightMap = {};\n        }\n\n        if (!_this.columnManager.hasRightFrozenColumns()) {\n          _this._rightRowHeightMap = {};\n        }\n      }\n    }, function (newArgs, lastArgs) {\n      return isObjectEqual(newArgs, lastArgs, _this.props.ignoreFunctionInColumnCompare);\n    });\n    _this._isResetting = false;\n    _this._resetIndex = null;\n    _this._rowHeightMap = {};\n    _this._rowHeightMapBuffer = {};\n    _this._mainRowHeightMap = {};\n    _this._leftRowHeightMap = {};\n    _this._rightRowHeightMap = {};\n    _this._getEstimatedTotalRowsHeight = memoize(getEstimatedTotalRowsHeight);\n    _this._getRowHeight = _this._getRowHeight.bind(_assertThisInitialized(_this));\n    _this._updateRowHeights = debounce(function () {\n      _this._isResetting = true;\n      _this._rowHeightMap = _objectSpread(_objectSpread({}, _this._rowHeightMap), _this._rowHeightMapBuffer);\n\n      _this.resetAfterRowIndex(_this._resetIndex, false);\n\n      _this._rowHeightMapBuffer = {};\n      _this._resetIndex = null;\n\n      _this.forceUpdateTable();\n\n      _this.forceUpdate();\n\n      _this._isResetting = false;\n    }, 0);\n    _this._scroll = {\n      scrollLeft: 0,\n      scrollTop: 0\n    };\n    _this._scrollHeight = 0;\n    _this._lastScannedRowIndex = -1;\n    _this._hasDataChangedSinceEndReached = true;\n    _this._data = props.data;\n    _this._depthMap = {};\n    _this._horizontalScrollbarSize = 0;\n    _this._verticalScrollbarSize = 0;\n    _this._scrollbarPresenceChanged = false;\n    return _this;\n  }\n  /**\n   * Get the DOM node of the table\n   */\n\n\n  var _proto = BaseTable.prototype;\n\n  _proto.getDOMNode = function getDOMNode() {\n    return this.tableNode;\n  }\n  /**\n   * Get the column manager\n   */\n  ;\n\n  _proto.getColumnManager = function getColumnManager() {\n    return this.columnManager;\n  }\n  /**\n   * Get internal `expandedRowKeys` state\n   */\n  ;\n\n  _proto.getExpandedRowKeys = function getExpandedRowKeys() {\n    var expandedRowKeys = this.props.expandedRowKeys;\n    return expandedRowKeys !== undefined ? expandedRowKeys || EMPTY_ARRAY : this.state.expandedRowKeys;\n  }\n  /**\n   * Get the expanded state, fallback to normal state if not expandable.\n   */\n  ;\n\n  _proto.getExpandedState = function getExpandedState() {\n    return {\n      expandedData: this._data,\n      expandedRowKeys: this.getExpandedRowKeys(),\n      expandedDepthMap: this._depthMap\n    };\n  }\n  /**\n   * Get the total height of all rows, including expanded rows.\n   */\n  ;\n\n  _proto.getTotalRowsHeight = function getTotalRowsHeight() {\n    var _this$props = this.props,\n        rowHeight = _this$props.rowHeight,\n        estimatedRowHeight = _this$props.estimatedRowHeight;\n\n    if (estimatedRowHeight) {\n      return this.table ? this.table.getTotalRowsHeight() : this._getEstimatedTotalRowsHeight(this._data, estimatedRowHeight);\n    }\n\n    return this._data.length * rowHeight;\n  }\n  /**\n   * Get the total width of all columns.\n   */\n  ;\n\n  _proto.getTotalColumnsWidth = function getTotalColumnsWidth() {\n    return this.columnManager.getColumnsWidth();\n  }\n  /**\n   * Forcefully re-render the inner Grid component.\n   *\n   * Calling `forceUpdate` on `Table` may not re-render the inner Grid since it uses `shallowCompare` as a performance optimization.\n   * Use this method if you want to manually trigger a re-render.\n   * This may be appropriate if the underlying row data has changed but the row sizes themselves have not.\n   */\n  ;\n\n  _proto.forceUpdateTable = function forceUpdateTable() {\n    this.table && this.table.forceUpdateTable();\n    this.leftTable && this.leftTable.forceUpdateTable();\n    this.rightTable && this.rightTable.forceUpdateTable();\n  }\n  /**\n   * Reset cached offsets for positioning after a specific rowIndex, should be used only in dynamic mode(estimatedRowHeight is provided)\n   *\n   * @param {number} rowIndex\n   * @param {boolean} shouldForceUpdate\n   */\n  ;\n\n  _proto.resetAfterRowIndex = function resetAfterRowIndex(rowIndex, shouldForceUpdate) {\n    if (rowIndex === void 0) {\n      rowIndex = 0;\n    }\n\n    if (shouldForceUpdate === void 0) {\n      shouldForceUpdate = true;\n    }\n\n    if (!this.props.estimatedRowHeight) return;\n    this.table && this.table.resetAfterRowIndex(rowIndex, shouldForceUpdate);\n    this.leftTable && this.leftTable.resetAfterRowIndex(rowIndex, shouldForceUpdate);\n    this.rightTable && this.rightTable.resetAfterRowIndex(rowIndex, shouldForceUpdate);\n  }\n  /**\n   * Reset row height cache, useful if `data` changed entirely, should be used only in dynamic mode(estimatedRowHeight is provided)\n   */\n  ;\n\n  _proto.resetRowHeightCache = function resetRowHeightCache() {\n    if (!this.props.estimatedRowHeight) return;\n    this._resetIndex = null;\n    this._rowHeightMapBuffer = {};\n    this._rowHeightMap = {};\n    this._mainRowHeightMap = {};\n    this._leftRowHeightMap = {};\n    this._rightRowHeightMap = {};\n  }\n  /**\n   * Scroll to the specified offset.\n   * Useful for animating position changes.\n   *\n   * @param {object} offset\n   */\n  ;\n\n  _proto.scrollToPosition = function scrollToPosition(offset) {\n    this._scroll = offset;\n    this.table && this.table.scrollToPosition(offset);\n    this.leftTable && this.leftTable.scrollToTop(offset.scrollTop);\n    this.rightTable && this.rightTable.scrollToTop(offset.scrollTop);\n  }\n  /**\n   * Scroll to the specified offset vertically.\n   *\n   * @param {number} scrollTop\n   */\n  ;\n\n  _proto.scrollToTop = function scrollToTop(scrollTop) {\n    this._scroll.scrollTop = scrollTop;\n    this.table && this.table.scrollToPosition(this._scroll);\n    this.leftTable && this.leftTable.scrollToTop(scrollTop);\n    this.rightTable && this.rightTable.scrollToTop(scrollTop);\n  }\n  /**\n   * Scroll to the specified offset horizontally.\n   *\n   * @param {number} scrollLeft\n   */\n  ;\n\n  _proto.scrollToLeft = function scrollToLeft(scrollLeft) {\n    this._scroll.scrollLeft = scrollLeft;\n    this.table && this.table.scrollToPosition(this._scroll);\n  }\n  /**\n   * Scroll to the specified row.\n   * By default, the table will scroll as little as possible to ensure the row is visible.\n   * You can control the alignment of the row though by specifying an align property. Acceptable values are:\n   *\n   * - `auto` (default) - Scroll as little as possible to ensure the row is visible.\n   * - `smart` - Same as `auto` if it is less than one viewport away, or it's the same as`center`.\n   * - `center` - Center align the row within the table.\n   * - `end` - Align the row to the bottom side of the table.\n   * - `start` - Align the row to the top side of the table.\n   *\n   * @param {number} rowIndex\n   * @param {string} align\n   */\n  ;\n\n  _proto.scrollToRow = function scrollToRow(rowIndex, align) {\n    if (rowIndex === void 0) {\n      rowIndex = 0;\n    }\n\n    if (align === void 0) {\n      align = 'auto';\n    }\n\n    this.table && this.table.scrollToRow(rowIndex, align);\n    this.leftTable && this.leftTable.scrollToRow(rowIndex, align);\n    this.rightTable && this.rightTable.scrollToRow(rowIndex, align);\n  }\n  /**\n   * Set `expandedRowKeys` manually.\n   * This method is available only if `expandedRowKeys` is uncontrolled.\n   *\n   * @param {array} expandedRowKeys\n   */\n  ;\n\n  _proto.setExpandedRowKeys = function setExpandedRowKeys(expandedRowKeys) {\n    // if `expandedRowKeys` is controlled\n    if (this.props.expandedRowKeys !== undefined) return;\n    this.setState({\n      expandedRowKeys: cloneArray(expandedRowKeys)\n    });\n  };\n\n  _proto.renderExpandIcon = function renderExpandIcon(_ref) {\n    var rowData = _ref.rowData,\n        rowIndex = _ref.rowIndex,\n        depth = _ref.depth,\n        onExpand = _ref.onExpand;\n    var _this$props2 = this.props,\n        rowKey = _this$props2.rowKey,\n        expandColumnKey = _this$props2.expandColumnKey,\n        expandIconProps = _this$props2.expandIconProps;\n    if (!expandColumnKey) return null;\n    var expandable = rowIndex >= 0 && hasChildren(rowData);\n    var expanded = rowIndex >= 0 && this.getExpandedRowKeys().indexOf(rowData[rowKey]) >= 0;\n    var extraProps = callOrReturn(expandIconProps, {\n      rowData: rowData,\n      rowIndex: rowIndex,\n      depth: depth,\n      expandable: expandable,\n      expanded: expanded\n    });\n\n    var ExpandIcon = this._getComponent('ExpandIcon');\n\n    return /*#__PURE__*/React.createElement(ExpandIcon, _extends({\n      depth: depth,\n      expandable: expandable,\n      expanded: expanded\n    }, extraProps, {\n      onExpand: onExpand\n    }));\n  };\n\n  _proto.renderRow = function renderRow(_ref2) {\n    var _cn;\n\n    var isScrolling = _ref2.isScrolling,\n        columns = _ref2.columns,\n        rowData = _ref2.rowData,\n        rowIndex = _ref2.rowIndex,\n        style = _ref2.style;\n    var _this$props3 = this.props,\n        rowClassName = _this$props3.rowClassName,\n        rowRenderer = _this$props3.rowRenderer,\n        rowEventHandlers = _this$props3.rowEventHandlers,\n        expandColumnKey = _this$props3.expandColumnKey,\n        estimatedRowHeight = _this$props3.estimatedRowHeight;\n    var rowClass = callOrReturn(rowClassName, {\n      columns: columns,\n      rowData: rowData,\n      rowIndex: rowIndex\n    });\n    var extraProps = callOrReturn(this.props.rowProps, {\n      columns: columns,\n      rowData: rowData,\n      rowIndex: rowIndex\n    });\n    var rowKey = rowData[this.props.rowKey];\n    var depth = this._depthMap[rowKey] || 0;\n    var className = cn(this._prefixClass('row'), rowClass, (_cn = {}, _cn[this._prefixClass(\"row--depth-\" + depth)] = !!expandColumnKey && rowIndex >= 0, _cn[this._prefixClass('row--expanded')] = !!expandColumnKey && this.getExpandedRowKeys().indexOf(rowKey) >= 0, _cn[this._prefixClass('row--hovered')] = !isScrolling && rowKey === this.state.hoveredRowKey, _cn[this._prefixClass('row--frozen')] = depth === 0 && rowIndex < 0, _cn[this._prefixClass('row--customized')] = rowRenderer, _cn));\n    var hasFrozenColumns = this.columnManager.hasFrozenColumns();\n\n    var rowProps = _objectSpread(_objectSpread({}, extraProps), {}, {\n      role: 'row',\n      key: \"row-\" + rowKey,\n      isScrolling: isScrolling,\n      className: className,\n      style: style,\n      columns: columns,\n      rowIndex: rowIndex,\n      rowData: rowData,\n      rowKey: rowKey,\n      expandColumnKey: expandColumnKey,\n      depth: depth,\n      rowEventHandlers: rowEventHandlers,\n      rowRenderer: rowRenderer,\n      // for frozen rows we use fixed rowHeight\n      estimatedRowHeight: rowIndex >= 0 ? estimatedRowHeight : undefined,\n      getIsResetting: this._getIsResetting,\n      cellRenderer: this.renderRowCell,\n      expandIconRenderer: this.renderExpandIcon,\n      onRowExpand: this._handleRowExpand,\n      // for fixed table, we need to sync the hover state across the inner tables\n      onRowHover: hasFrozenColumns ? this._handleRowHover : null,\n      onRowHeightChange: hasFrozenColumns ? this._handleFrozenRowHeightChange : this._handleRowHeightChange\n    });\n\n    return /*#__PURE__*/React.createElement(TableRow, rowProps);\n  };\n\n  _proto.renderRowCell = function renderRowCell(_ref3) {\n    var _cn2;\n\n    var isScrolling = _ref3.isScrolling,\n        columns = _ref3.columns,\n        column = _ref3.column,\n        columnIndex = _ref3.columnIndex,\n        rowData = _ref3.rowData,\n        rowIndex = _ref3.rowIndex,\n        expandIcon = _ref3.expandIcon;\n\n    if (column[ColumnManager.PlaceholderKey]) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: \"row-\" + rowData[this.props.rowKey] + \"-cell-\" + column.key + \"-placeholder\",\n        className: this._prefixClass('row-cell-placeholder'),\n        style: this.columnManager.getColumnStyle(column.key)\n      });\n    }\n\n    var className = column.className,\n        dataKey = column.dataKey,\n        dataGetter = column.dataGetter,\n        cellRenderer = column.cellRenderer;\n\n    var TableCell = this._getComponent('TableCell');\n\n    var cellData = dataGetter ? dataGetter({\n      columns: columns,\n      column: column,\n      columnIndex: columnIndex,\n      rowData: rowData,\n      rowIndex: rowIndex\n    }) : getValue(rowData, dataKey);\n    var cellProps = {\n      isScrolling: isScrolling,\n      cellData: cellData,\n      columns: columns,\n      column: column,\n      columnIndex: columnIndex,\n      rowData: rowData,\n      rowIndex: rowIndex,\n      container: this\n    };\n    var cell = renderElement(cellRenderer || /*#__PURE__*/React.createElement(TableCell, {\n      className: this._prefixClass('row-cell-text')\n    }), cellProps);\n    var cellCls = callOrReturn(className, {\n      cellData: cellData,\n      columns: columns,\n      column: column,\n      columnIndex: columnIndex,\n      rowData: rowData,\n      rowIndex: rowIndex\n    });\n    var cls = cn(this._prefixClass('row-cell'), cellCls, (_cn2 = {}, _cn2[this._prefixClass('row-cell--align-center')] = column.align === Alignment.CENTER, _cn2[this._prefixClass('row-cell--align-right')] = column.align === Alignment.RIGHT, _cn2));\n    var extraProps = callOrReturn(this.props.cellProps, {\n      columns: columns,\n      column: column,\n      columnIndex: columnIndex,\n      rowData: rowData,\n      rowIndex: rowIndex\n    });\n\n    var _ref4 = extraProps || {},\n        tagName = _ref4.tagName,\n        rest = _objectWithoutPropertiesLoose(_ref4, _excluded);\n\n    var Tag = tagName || 'div';\n    return /*#__PURE__*/React.createElement(Tag, _extends({\n      role: \"gridcell\",\n      key: \"row-\" + rowData[this.props.rowKey] + \"-cell-\" + column.key\n    }, rest, {\n      className: cls,\n      style: this.columnManager.getColumnStyle(column.key)\n    }), expandIcon, cell);\n  };\n\n  _proto.renderHeader = function renderHeader(_ref5) {\n    var _cn3;\n\n    var columns = _ref5.columns,\n        headerIndex = _ref5.headerIndex,\n        style = _ref5.style;\n    var _this$props4 = this.props,\n        headerClassName = _this$props4.headerClassName,\n        headerRenderer = _this$props4.headerRenderer;\n    var headerClass = callOrReturn(headerClassName, {\n      columns: columns,\n      headerIndex: headerIndex\n    });\n    var extraProps = callOrReturn(this.props.headerProps, {\n      columns: columns,\n      headerIndex: headerIndex\n    });\n    var className = cn(this._prefixClass('header-row'), headerClass, (_cn3 = {}, _cn3[this._prefixClass('header-row--resizing')] = !!this.state.resizingKey, _cn3[this._prefixClass('header-row--customized')] = headerRenderer, _cn3));\n\n    var headerProps = _objectSpread(_objectSpread({}, extraProps), {}, {\n      role: 'row',\n      key: \"header-\" + headerIndex,\n      className: className,\n      style: style,\n      columns: columns,\n      headerIndex: headerIndex,\n      headerRenderer: headerRenderer,\n      cellRenderer: this.renderHeaderCell,\n      expandColumnKey: this.props.expandColumnKey,\n      expandIcon: this._getComponent('ExpandIcon')\n    });\n\n    return /*#__PURE__*/React.createElement(TableHeaderRow, headerProps);\n  };\n\n  _proto.renderHeaderCell = function renderHeaderCell(_ref6) {\n    var _cn4, _cn5;\n\n    var columns = _ref6.columns,\n        column = _ref6.column,\n        columnIndex = _ref6.columnIndex,\n        headerIndex = _ref6.headerIndex,\n        expandIcon = _ref6.expandIcon;\n\n    if (column[ColumnManager.PlaceholderKey]) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: \"header-\" + headerIndex + \"-cell-\" + column.key + \"-placeholder\",\n        className: this._prefixClass('header-cell-placeholder'),\n        style: this.columnManager.getColumnStyle(column.key)\n      });\n    }\n\n    var headerClassName = column.headerClassName,\n        headerRenderer = column.headerRenderer;\n    var _this$props5 = this.props,\n        sortBy = _this$props5.sortBy,\n        sortState = _this$props5.sortState,\n        headerCellProps = _this$props5.headerCellProps;\n\n    var TableHeaderCell = this._getComponent('TableHeaderCell');\n\n    var SortIndicator = this._getComponent('SortIndicator');\n\n    var cellProps = {\n      columns: columns,\n      column: column,\n      columnIndex: columnIndex,\n      headerIndex: headerIndex,\n      container: this\n    };\n    var cell = renderElement(headerRenderer || /*#__PURE__*/React.createElement(TableHeaderCell, {\n      className: this._prefixClass('header-cell-text')\n    }), cellProps);\n    var sorting, sortOrder;\n\n    if (sortState) {\n      var order = sortState[column.key];\n      sorting = order === SortOrder.ASC || order === SortOrder.DESC;\n      sortOrder = sorting ? order : SortOrder.ASC;\n    } else {\n      sorting = column.key === sortBy.key;\n      sortOrder = sorting ? sortBy.order : SortOrder.ASC;\n    }\n\n    var cellCls = callOrReturn(headerClassName, {\n      columns: columns,\n      column: column,\n      columnIndex: columnIndex,\n      headerIndex: headerIndex\n    });\n    var cls = cn(this._prefixClass('header-cell'), cellCls, (_cn4 = {}, _cn4[this._prefixClass('header-cell--align-center')] = column.align === Alignment.CENTER, _cn4[this._prefixClass('header-cell--align-right')] = column.align === Alignment.RIGHT, _cn4[this._prefixClass('header-cell--sortable')] = column.sortable, _cn4[this._prefixClass('header-cell--sorting')] = sorting, _cn4[this._prefixClass('header-cell--resizing')] = column.key === this.state.resizingKey, _cn4));\n    var extraProps = callOrReturn(headerCellProps, {\n      columns: columns,\n      column: column,\n      columnIndex: columnIndex,\n      headerIndex: headerIndex\n    });\n\n    var _ref7 = extraProps || {},\n        tagName = _ref7.tagName,\n        rest = _objectWithoutPropertiesLoose(_ref7, _excluded2);\n\n    var Tag = tagName || 'div';\n    return /*#__PURE__*/React.createElement(Tag, _extends({\n      role: \"gridcell\",\n      key: \"header-\" + headerIndex + \"-cell-\" + column.key,\n      onClick: column.sortable ? this._handleColumnSort : null\n    }, rest, {\n      className: cls,\n      style: this.columnManager.getColumnStyle(column.key),\n      \"data-key\": column.key\n    }), expandIcon, cell, column.sortable && /*#__PURE__*/React.createElement(SortIndicator, {\n      sortOrder: sortOrder,\n      className: cn(this._prefixClass('sort-indicator'), (_cn5 = {}, _cn5[this._prefixClass('sort-indicator--descending')] = sortOrder === SortOrder.DESC, _cn5))\n    }), column.resizable && /*#__PURE__*/React.createElement(ColumnResizer, {\n      className: this._prefixClass('column-resizer'),\n      column: column,\n      onResizeStart: this._handleColumnResizeStart,\n      onResizeStop: this._handleColumnResizeStop,\n      onResize: this._handleColumnResize\n    }));\n  };\n\n  _proto.renderMainTable = function renderMainTable() {\n    var _this$props6 = this.props,\n        width = _this$props6.width,\n        headerHeight = _this$props6.headerHeight,\n        rowHeight = _this$props6.rowHeight,\n        fixed = _this$props6.fixed,\n        estimatedRowHeight = _this$props6.estimatedRowHeight,\n        rest = _objectWithoutPropertiesLoose(_this$props6, _excluded3);\n\n    var height = this._getTableHeight();\n\n    var tableWidth = width - this._verticalScrollbarSize;\n\n    if (fixed) {\n      var columnsWidth = this.columnManager.getColumnsWidth(); // make sure `scrollLeft` is always integer to fix a sync bug when scrolling to end horizontally\n\n      tableWidth = Math.max(Math.round(columnsWidth), tableWidth);\n    }\n\n    return /*#__PURE__*/React.createElement(GridTable, _extends({}, rest, this.state, {\n      className: this._prefixClass('table-main'),\n      ref: this._setMainTableRef,\n      data: this._data,\n      columns: this.columnManager.getMainColumns(),\n      width: width,\n      height: height,\n      headerHeight: headerHeight,\n      rowHeight: rowHeight,\n      estimatedRowHeight: estimatedRowHeight,\n      getRowHeight: estimatedRowHeight ? this._getRowHeight : undefined,\n      headerWidth: tableWidth + (fixed ? this._verticalScrollbarSize : 0),\n      bodyWidth: tableWidth,\n      headerRenderer: this.renderHeader,\n      rowRenderer: this.renderRow,\n      onScroll: this._handleScroll,\n      onRowsRendered: this._handleRowsRendered\n    }));\n  };\n\n  _proto.renderLeftTable = function renderLeftTable() {\n    if (!this.columnManager.hasLeftFrozenColumns()) return null;\n\n    var _this$props7 = this.props,\n        width = _this$props7.width,\n        headerHeight = _this$props7.headerHeight,\n        rowHeight = _this$props7.rowHeight,\n        estimatedRowHeight = _this$props7.estimatedRowHeight,\n        rest = _objectWithoutPropertiesLoose(_this$props7, _excluded4);\n\n    var containerHeight = this._getFrozenContainerHeight();\n\n    var offset = this._verticalScrollbarSize || 20;\n    var columnsWidth = this.columnManager.getLeftFrozenColumnsWidth();\n    return /*#__PURE__*/React.createElement(GridTable, _extends({}, rest, this.state, {\n      containerStyle: this._getLeftTableContainerStyle(columnsWidth, width, containerHeight),\n      className: this._prefixClass('table-frozen-left'),\n      ref: this._setLeftTableRef,\n      data: this._data,\n      columns: this.columnManager.getLeftFrozenColumns(),\n      initialScrollTop: this._scroll.scrollTop,\n      width: columnsWidth + offset,\n      height: containerHeight,\n      headerHeight: headerHeight,\n      rowHeight: rowHeight,\n      estimatedRowHeight: estimatedRowHeight,\n      getRowHeight: estimatedRowHeight ? this._getRowHeight : undefined,\n      headerWidth: columnsWidth + offset,\n      bodyWidth: columnsWidth + offset,\n      headerRenderer: this.renderHeader,\n      rowRenderer: this.renderRow,\n      onScroll: this._handleVerticalScroll,\n      onRowsRendered: noop\n    }));\n  };\n\n  _proto.renderRightTable = function renderRightTable() {\n    if (!this.columnManager.hasRightFrozenColumns()) return null;\n\n    var _this$props8 = this.props,\n        width = _this$props8.width,\n        headerHeight = _this$props8.headerHeight,\n        rowHeight = _this$props8.rowHeight,\n        estimatedRowHeight = _this$props8.estimatedRowHeight,\n        rest = _objectWithoutPropertiesLoose(_this$props8, _excluded5);\n\n    var containerHeight = this._getFrozenContainerHeight();\n\n    var columnsWidth = this.columnManager.getRightFrozenColumnsWidth();\n    var scrollbarWidth = this._verticalScrollbarSize;\n    return /*#__PURE__*/React.createElement(GridTable, _extends({}, rest, this.state, {\n      containerStyle: this._getLeftTableContainerStyle(columnsWidth + scrollbarWidth, width, containerHeight),\n      className: this._prefixClass('table-frozen-right'),\n      ref: this._setRightTableRef,\n      data: this._data,\n      columns: this.columnManager.getRightFrozenColumns(),\n      initialScrollTop: this._scroll.scrollTop,\n      width: columnsWidth + scrollbarWidth,\n      height: containerHeight,\n      headerHeight: headerHeight,\n      rowHeight: rowHeight,\n      estimatedRowHeight: estimatedRowHeight,\n      getRowHeight: estimatedRowHeight ? this._getRowHeight : undefined,\n      headerWidth: columnsWidth + scrollbarWidth,\n      bodyWidth: columnsWidth,\n      headerRenderer: this.renderHeader,\n      rowRenderer: this.renderRow,\n      onScroll: this._handleVerticalScroll,\n      onRowsRendered: noop\n    }));\n  };\n\n  _proto.renderResizingLine = function renderResizingLine() {\n    var _this$props9 = this.props,\n        width = _this$props9.width,\n        fixed = _this$props9.fixed;\n    var resizingKey = this.state.resizingKey;\n    if (!fixed || !resizingKey) return null;\n    var columns = this.columnManager.getMainColumns();\n    var idx = columns.findIndex(function (column) {\n      return column.key === resizingKey;\n    });\n    var column = columns[idx];\n    var columnWidth = column.width,\n        frozen = column.frozen;\n    var leftWidth = this.columnManager.recomputeColumnsWidth(columns.slice(0, idx));\n    var left = leftWidth + columnWidth;\n\n    if (!frozen) {\n      left -= this._scroll.scrollLeft;\n    } else if (frozen === FrozenDirection.RIGHT) {\n      var rightWidth = this.columnManager.recomputeColumnsWidth(columns.slice(idx + 1));\n\n      if (rightWidth + columnWidth > width - this._verticalScrollbarSize) {\n        left = columnWidth;\n      } else {\n        left = width - this._verticalScrollbarSize - rightWidth;\n      }\n    }\n\n    var style = {\n      left: left,\n      height: this._getTableHeight() - this._horizontalScrollbarSize\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: this._prefixClass('resizing-line'),\n      style: style\n    });\n  };\n\n  _proto.renderFooter = function renderFooter() {\n    var _this$props10 = this.props,\n        footerHeight = _this$props10.footerHeight,\n        footerRenderer = _this$props10.footerRenderer;\n    if (footerHeight === 0) return null;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: this._prefixClass('footer'),\n      style: {\n        height: footerHeight\n      }\n    }, renderElement(footerRenderer));\n  };\n\n  _proto.renderEmptyLayer = function renderEmptyLayer() {\n    var _this$props11 = this.props,\n        data = _this$props11.data,\n        frozenData = _this$props11.frozenData,\n        footerHeight = _this$props11.footerHeight,\n        emptyRenderer = _this$props11.emptyRenderer;\n    if (data && data.length || frozenData && frozenData.length) return null;\n\n    var headerHeight = this._getHeaderHeight();\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: this._prefixClass('empty-layer'),\n      style: {\n        top: headerHeight,\n        bottom: footerHeight\n      }\n    }, renderElement(emptyRenderer));\n  };\n\n  _proto.renderOverlay = function renderOverlay() {\n    var overlayRenderer = this.props.overlayRenderer;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: this._prefixClass('overlay')\n    }, !!overlayRenderer && renderElement(overlayRenderer));\n  };\n\n  _proto.render = function render() {\n    var _cn6;\n\n    var _this$props12 = this.props,\n        columns = _this$props12.columns,\n        children = _this$props12.children,\n        width = _this$props12.width,\n        fixed = _this$props12.fixed,\n        data = _this$props12.data,\n        frozenData = _this$props12.frozenData,\n        expandColumnKey = _this$props12.expandColumnKey,\n        disabled = _this$props12.disabled,\n        className = _this$props12.className,\n        style = _this$props12.style,\n        footerHeight = _this$props12.footerHeight,\n        classPrefix = _this$props12.classPrefix,\n        estimatedRowHeight = _this$props12.estimatedRowHeight;\n\n    this._resetColumnManager(getColumns(columns, children), fixed);\n\n    var _data = expandColumnKey ? this._flattenOnKeys(data, this.getExpandedRowKeys(), this.props.rowKey) : data;\n\n    if (this._data !== _data) {\n      this.resetAfterRowIndex(0, false);\n      this._data = _data;\n    } // should be after `this._data` assigned\n\n\n    this._calcScrollbarSizes();\n\n    this._totalRowsHeight = this.getTotalRowsHeight();\n\n    var containerStyle = _objectSpread(_objectSpread({}, style), {}, {\n      width: width,\n      height: this._getTableHeight() + footerHeight,\n      position: 'relative'\n    });\n\n    var cls = cn(classPrefix, className, (_cn6 = {}, _cn6[classPrefix + \"--fixed\"] = fixed, _cn6[classPrefix + \"--expandable\"] = !!expandColumnKey, _cn6[classPrefix + \"--empty\"] = data.length === 0, _cn6[classPrefix + \"--has-frozen-rows\"] = frozenData.length > 0, _cn6[classPrefix + \"--has-frozen-columns\"] = this.columnManager.hasFrozenColumns(), _cn6[classPrefix + \"--disabled\"] = disabled, _cn6[classPrefix + \"--dynamic\"] = !!estimatedRowHeight, _cn6));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: this._setContainerRef,\n      className: cls,\n      style: containerStyle\n    }, this.renderFooter(), this.renderMainTable(), this.renderLeftTable(), this.renderRightTable(), this.renderResizingLine(), this.renderEmptyLayer(), this.renderOverlay());\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    var scrollbarSize = this.props.getScrollbarSize();\n\n    if (scrollbarSize > 0) {\n      this.setState({\n        scrollbarSize: scrollbarSize\n      });\n    }\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    var _this$props13 = this.props,\n        data = _this$props13.data,\n        height = _this$props13.height,\n        maxHeight = _this$props13.maxHeight,\n        estimatedRowHeight = _this$props13.estimatedRowHeight;\n\n    if (data !== prevProps.data) {\n      this._lastScannedRowIndex = -1;\n      this._hasDataChangedSinceEndReached = true;\n    }\n\n    if (maxHeight !== prevProps.maxHeight || height !== prevProps.height) {\n      this._maybeCallOnEndReached();\n    }\n\n    this._maybeScrollbarPresenceChange();\n\n    if (estimatedRowHeight) {\n      if (this.getTotalRowsHeight() !== this._totalRowsHeight) {\n        this.forceUpdate();\n      }\n    }\n  };\n\n  _proto._prefixClass = function _prefixClass(className) {\n    return this.props.classPrefix + \"__\" + className;\n  };\n\n  _proto._setContainerRef = function _setContainerRef(ref) {\n    this.tableNode = ref;\n  };\n\n  _proto._setMainTableRef = function _setMainTableRef(ref) {\n    this.table = ref;\n  };\n\n  _proto._setLeftTableRef = function _setLeftTableRef(ref) {\n    this.leftTable = ref;\n  };\n\n  _proto._setRightTableRef = function _setRightTableRef(ref) {\n    this.rightTable = ref;\n  };\n\n  _proto._getComponent = function _getComponent(name) {\n    if (this.props.components && this.props.components[name]) return this.props.components[name];\n    return DEFAULT_COMPONENTS[name];\n  } // for dynamic row height\n  ;\n\n  _proto._getRowHeight = function _getRowHeight(rowIndex) {\n    var _this$props14 = this.props,\n        estimatedRowHeight = _this$props14.estimatedRowHeight,\n        rowKey = _this$props14.rowKey;\n    return this._rowHeightMap[this._data[rowIndex][rowKey]] || callOrReturn(estimatedRowHeight, {\n      rowData: this._data[rowIndex],\n      rowIndex: rowIndex\n    });\n  };\n\n  _proto._getIsResetting = function _getIsResetting() {\n    return this._isResetting;\n  };\n\n  _proto._getHeaderHeight = function _getHeaderHeight() {\n    var headerHeight = this.props.headerHeight;\n\n    if (Array.isArray(headerHeight)) {\n      return headerHeight.reduce(function (sum, height) {\n        return sum + height;\n      }, 0);\n    }\n\n    return headerHeight;\n  };\n\n  _proto._getFrozenRowsHeight = function _getFrozenRowsHeight() {\n    var _this$props15 = this.props,\n        frozenData = _this$props15.frozenData,\n        rowHeight = _this$props15.rowHeight;\n    return frozenData.length * rowHeight;\n  };\n\n  _proto._getTableHeight = function _getTableHeight() {\n    var _this$props16 = this.props,\n        height = _this$props16.height,\n        maxHeight = _this$props16.maxHeight,\n        footerHeight = _this$props16.footerHeight;\n    var tableHeight = height - footerHeight;\n\n    if (maxHeight > 0) {\n      var frozenRowsHeight = this._getFrozenRowsHeight();\n\n      var totalRowsHeight = this.getTotalRowsHeight();\n\n      var headerHeight = this._getHeaderHeight();\n\n      var totalHeight = headerHeight + frozenRowsHeight + totalRowsHeight + this._horizontalScrollbarSize;\n      tableHeight = Math.min(totalHeight, maxHeight - footerHeight);\n    }\n\n    return tableHeight;\n  };\n\n  _proto._getBodyHeight = function _getBodyHeight() {\n    return this._getTableHeight() - this._getHeaderHeight() - this._getFrozenRowsHeight();\n  };\n\n  _proto._getFrozenContainerHeight = function _getFrozenContainerHeight() {\n    var maxHeight = this.props.maxHeight;\n    var tableHeight = this._getTableHeight() - (this._data.length > 0 ? this._horizontalScrollbarSize : 0); // in auto height mode tableHeight = totalHeight\n\n    if (maxHeight > 0) return tableHeight;\n\n    var totalHeight = this.getTotalRowsHeight() + this._getHeaderHeight() + this._getFrozenRowsHeight();\n\n    return Math.min(tableHeight, totalHeight);\n  };\n\n  _proto._calcScrollbarSizes = function _calcScrollbarSizes() {\n    var _this$props17 = this.props,\n        fixed = _this$props17.fixed,\n        width = _this$props17.width;\n    var scrollbarSize = this.state.scrollbarSize;\n    var totalRowsHeight = this.getTotalRowsHeight();\n    var totalColumnsWidth = this.getTotalColumnsWidth();\n    var prevHorizontalScrollbarSize = this._horizontalScrollbarSize;\n    var prevVerticalScrollbarSize = this._verticalScrollbarSize;\n\n    if (scrollbarSize === 0) {\n      this._horizontalScrollbarSize = 0;\n      this._verticalScrollbarSize = 0;\n    } else {\n      // we have to set `this._horizontalScrollbarSize` before calling `this._getBodyHeight`\n      if (!fixed || totalColumnsWidth <= width - scrollbarSize) {\n        this._horizontalScrollbarSize = 0;\n        this._verticalScrollbarSize = totalRowsHeight > this._getBodyHeight() ? scrollbarSize : 0;\n      } else {\n        if (totalColumnsWidth > width) {\n          this._horizontalScrollbarSize = scrollbarSize;\n          this._verticalScrollbarSize = totalRowsHeight > this._getBodyHeight() - this._horizontalScrollbarSize ? scrollbarSize : 0;\n        } else {\n          this._horizontalScrollbarSize = 0;\n          this._verticalScrollbarSize = 0;\n\n          if (totalRowsHeight > this._getBodyHeight()) {\n            this._horizontalScrollbarSize = scrollbarSize;\n            this._verticalScrollbarSize = scrollbarSize;\n          }\n        }\n      }\n    }\n\n    if (prevHorizontalScrollbarSize !== this._horizontalScrollbarSize || prevVerticalScrollbarSize !== this._verticalScrollbarSize) {\n      this._scrollbarPresenceChanged = true;\n    }\n  };\n\n  _proto._maybeScrollbarPresenceChange = function _maybeScrollbarPresenceChange() {\n    if (this._scrollbarPresenceChanged) {\n      var onScrollbarPresenceChange = this.props.onScrollbarPresenceChange;\n      this._scrollbarPresenceChanged = false;\n      onScrollbarPresenceChange({\n        size: this.state.scrollbarSize,\n        horizontal: this._horizontalScrollbarSize > 0,\n        vertical: this._verticalScrollbarSize > 0\n      });\n    }\n  };\n\n  _proto._maybeCallOnEndReached = function _maybeCallOnEndReached() {\n    var _this$props18 = this.props,\n        onEndReached = _this$props18.onEndReached,\n        onEndReachedThreshold = _this$props18.onEndReachedThreshold;\n    var scrollTop = this._scroll.scrollTop;\n    var scrollHeight = this.getTotalRowsHeight();\n\n    var clientHeight = this._getBodyHeight();\n\n    if (!onEndReached || !clientHeight || !scrollHeight) return;\n    var distanceFromEnd = scrollHeight - scrollTop - clientHeight + this._horizontalScrollbarSize;\n\n    if (this._lastScannedRowIndex >= 0 && distanceFromEnd <= onEndReachedThreshold && (this._hasDataChangedSinceEndReached || scrollHeight !== this._scrollHeight)) {\n      this._hasDataChangedSinceEndReached = false;\n      this._scrollHeight = scrollHeight;\n      onEndReached({\n        distanceFromEnd: distanceFromEnd\n      });\n    }\n  };\n\n  _proto._handleScroll = function _handleScroll(args) {\n    var lastScrollTop = this._scroll.scrollTop;\n    this.scrollToPosition(args);\n    this.props.onScroll(args);\n    if (args.scrollTop > lastScrollTop) this._maybeCallOnEndReached();\n  };\n\n  _proto._handleVerticalScroll = function _handleVerticalScroll(_ref8) {\n    var scrollTop = _ref8.scrollTop;\n    var lastScrollTop = this._scroll.scrollTop;\n    if (scrollTop !== lastScrollTop) this.scrollToTop(scrollTop);\n    if (scrollTop > lastScrollTop) this._maybeCallOnEndReached();\n  };\n\n  _proto._handleRowsRendered = function _handleRowsRendered(args) {\n    this.props.onRowsRendered(args);\n\n    if (args.overscanStopIndex > this._lastScannedRowIndex) {\n      this._lastScannedRowIndex = args.overscanStopIndex;\n\n      this._maybeCallOnEndReached();\n    }\n  };\n\n  _proto._handleRowHover = function _handleRowHover(_ref9) {\n    var hovered = _ref9.hovered,\n        rowKey = _ref9.rowKey;\n    this.setState({\n      hoveredRowKey: hovered ? rowKey : null\n    });\n  };\n\n  _proto._handleRowExpand = function _handleRowExpand(_ref10) {\n    var expanded = _ref10.expanded,\n        rowData = _ref10.rowData,\n        rowIndex = _ref10.rowIndex,\n        rowKey = _ref10.rowKey;\n    var expandedRowKeys = cloneArray(this.getExpandedRowKeys());\n\n    if (expanded) {\n      if (!expandedRowKeys.indexOf(rowKey) >= 0) expandedRowKeys.push(rowKey);\n    } else {\n      var index = expandedRowKeys.indexOf(rowKey);\n\n      if (index > -1) {\n        expandedRowKeys.splice(index, 1);\n      }\n    } // if `expandedRowKeys` is uncontrolled, update internal state\n\n\n    if (this.props.expandedRowKeys === undefined) {\n      this.setState({\n        expandedRowKeys: expandedRowKeys\n      });\n    }\n\n    this.props.onRowExpand({\n      expanded: expanded,\n      rowData: rowData,\n      rowIndex: rowIndex,\n      rowKey: rowKey\n    });\n    this.props.onExpandedRowsChange(expandedRowKeys);\n  };\n\n  _proto._handleColumnResize = function _handleColumnResize(_ref11, width) {\n    var key = _ref11.key;\n    this.columnManager.setColumnWidth(key, width);\n    this.setState({\n      resizingWidth: width\n    });\n    var column = this.columnManager.getColumn(key);\n    this.props.onColumnResize({\n      column: column,\n      width: width\n    });\n  };\n\n  _proto._handleColumnResizeStart = function _handleColumnResizeStart(_ref12) {\n    var key = _ref12.key;\n    this.setState({\n      resizingKey: key\n    });\n  };\n\n  _proto._handleColumnResizeStop = function _handleColumnResizeStop() {\n    var _this$state = this.state,\n        resizingKey = _this$state.resizingKey,\n        resizingWidth = _this$state.resizingWidth;\n    this.setState({\n      resizingKey: null,\n      resizingWidth: 0\n    });\n    if (!resizingKey || !resizingWidth) return;\n    var column = this.columnManager.getColumn(resizingKey);\n    this.props.onColumnResizeEnd({\n      column: column,\n      width: resizingWidth\n    });\n  };\n\n  _proto._handleColumnSort = function _handleColumnSort(event) {\n    var key = event.currentTarget.dataset.key;\n    var _this$props19 = this.props,\n        sortBy = _this$props19.sortBy,\n        sortState = _this$props19.sortState,\n        onColumnSort = _this$props19.onColumnSort;\n    var order = SortOrder.ASC;\n\n    if (sortState) {\n      order = sortState[key] === SortOrder.ASC ? SortOrder.DESC : SortOrder.ASC;\n    } else if (key === sortBy.key) {\n      order = sortBy.order === SortOrder.ASC ? SortOrder.DESC : SortOrder.ASC;\n    }\n\n    var column = this.columnManager.getColumn(key);\n    onColumnSort({\n      column: column,\n      key: key,\n      order: order\n    });\n  };\n\n  _proto._handleFrozenRowHeightChange = function _handleFrozenRowHeightChange(rowKey, size, rowIndex, frozen) {\n    if (!frozen) {\n      this._mainRowHeightMap[rowKey] = size;\n    } else if (frozen === FrozenDirection.RIGHT) {\n      this._rightRowHeightMap[rowKey] = size;\n    } else {\n      this._leftRowHeightMap[rowKey] = size;\n    }\n\n    var height = Math.max(this._mainRowHeightMap[rowKey] || 0, this._leftRowHeightMap[rowKey] || 0, this._rightRowHeightMap[rowKey] || 0);\n\n    if (this._rowHeightMap[rowKey] !== height) {\n      this._handleRowHeightChange(rowKey, height, rowIndex);\n    }\n  };\n\n  _proto._handleRowHeightChange = function _handleRowHeightChange(rowKey, size, rowIndex) {\n    if (this._resetIndex === null) this._resetIndex = rowIndex;else if (this._resetIndex > rowIndex) this._resetIndex = rowIndex;\n    this._rowHeightMapBuffer[rowKey] = size;\n\n    this._updateRowHeights();\n  };\n\n  return BaseTable;\n}(React.PureComponent);\n\nBaseTable.Column = Column;\nBaseTable.PlaceholderKey = ColumnManager.PlaceholderKey;\nBaseTable.defaultProps = {\n  classPrefix: 'BaseTable',\n  rowKey: 'id',\n  data: [],\n  frozenData: [],\n  fixed: false,\n  headerHeight: 50,\n  rowHeight: 50,\n  footerHeight: 0,\n  defaultExpandedRowKeys: [],\n  sortBy: {},\n  useIsScrolling: false,\n  overscanRowCount: 1,\n  onEndReachedThreshold: 500,\n  getScrollbarSize: defaultGetScrollbarSize,\n  ignoreFunctionInColumnCompare: true,\n  onScroll: noop,\n  onRowsRendered: noop,\n  onScrollbarPresenceChange: noop,\n  onRowExpand: noop,\n  onExpandedRowsChange: noop,\n  onColumnSort: noop,\n  onColumnResize: noop,\n  onColumnResizeEnd: noop\n};\nBaseTable.propTypes = {\n  /**\n   * Prefix for table's inner className\n   */\n  classPrefix: PropTypes.string,\n\n  /**\n   * Class name for the table\n   */\n  className: PropTypes.string,\n\n  /**\n   * Custom style for the table\n   */\n  style: PropTypes.object,\n\n  /**\n   * A collection of Column\n   */\n  children: PropTypes.node,\n\n  /**\n   * Columns for the table\n   */\n  columns: PropTypes.arrayOf(PropTypes.shape(Column.propTypes)),\n\n  /**\n   * The data for the table\n   */\n  data: PropTypes.array.isRequired,\n\n  /**\n   * The data be frozen to top, `rowIndex` is negative and started from `-1`\n   */\n  frozenData: PropTypes.array,\n\n  /**\n   * The key field of each data item\n   */\n  rowKey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\n  /**\n   * The width of the table\n   */\n  width: PropTypes.number.isRequired,\n\n  /**\n   * The height of the table, will be ignored if `maxHeight` is set\n   */\n  height: PropTypes.number,\n\n  /**\n   * The max height of the table, the table's height will auto change when data changes,\n   * will turns to vertical scroll if reaches the max height\n   */\n  maxHeight: PropTypes.number,\n\n  /**\n   * The height of each table row, will be only used by frozen rows if `estimatedRowHeight` is set\n   */\n  rowHeight: PropTypes.number,\n\n  /**\n   * Estimated row height, the real height will be measure dynamically according to the content\n   * The callback is of the shape of `({ rowData, rowIndex }) => number`\n   */\n  estimatedRowHeight: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\n\n  /**\n   * The height of the table header, set to 0 to hide the header, could be an array to render multi headers.\n   */\n  headerHeight: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.number)]).isRequired,\n\n  /**\n   * The height of the table footer\n   */\n  footerHeight: PropTypes.number,\n\n  /**\n   * Whether the width of the columns are fixed or flexible\n   */\n  fixed: PropTypes.bool,\n\n  /**\n   * Whether the table is disabled\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * Custom renderer on top of the table component\n   */\n  overlayRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n\n  /**\n   * Custom renderer when the length of data is 0\n   */\n  emptyRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n\n  /**\n   * Custom footer renderer, available only if `footerHeight` is larger then 0\n   */\n  footerRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n\n  /**\n   * Custom header renderer\n   * The renderer receives props `{ cells, columns, headerIndex }`\n   */\n  headerRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n\n  /**\n   * Custom row renderer\n   * The renderer receives props `{ isScrolling, cells, columns, rowData, rowIndex, depth }`\n   */\n  rowRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n\n  /**\n   * Class name for the table header, could be a callback to return the class name\n   * The callback is of the shape of `({ columns, headerIndex }) => string`\n   */\n  headerClassName: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n\n  /**\n   * Class name for the table row, could be a callback to return the class name\n   * The callback is of the shape of `({ columns, rowData, rowIndex }) => string`\n   */\n  rowClassName: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n\n  /**\n   * Extra props applied to header element\n   * The handler is of the shape of `({ columns, headerIndex }) object`\n   */\n  headerProps: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n\n  /**\n   * Extra props applied to header cell element\n   * The handler is of the shape of `({ columns, column, columnIndex, headerIndex }) => object`\n   */\n  headerCellProps: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n\n  /**\n   * Extra props applied to row element\n   * The handler is of the shape of `({ columns, rowData, rowIndex }) => object`\n   */\n  rowProps: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n\n  /**\n   * Extra props applied to row cell element\n   * The handler is of the shape of `({ columns, column, columnIndex, rowData, rowIndex }) => object`\n   */\n  cellProps: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n\n  /**\n   * Extra props applied to ExpandIcon component\n   * The handler is of the shape of `({ rowData, rowIndex, depth, expandable, expanded }) => object`\n   */\n  expandIconProps: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n\n  /**\n   * The key for the expand column which render the expand icon if the data is a tree\n   */\n  expandColumnKey: PropTypes.string,\n\n  /**\n   * Default expanded row keys when initialize the table\n   */\n  defaultExpandedRowKeys: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])),\n\n  /**\n   * Controlled expanded row keys\n   */\n  expandedRowKeys: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])),\n\n  /**\n   * A callback function when expand or collapse a tree node\n   * The handler is of the shape of `({ expanded, rowData, rowIndex, rowKey }) => *`\n   */\n  onRowExpand: PropTypes.func,\n\n  /**\n   * A callback function when the expanded row keys changed\n   * The handler is of the shape of `(expandedRowKeys) => *`\n   */\n  onExpandedRowsChange: PropTypes.func,\n\n  /**\n   * The sort state for the table, will be ignored if `sortState` is set\n   */\n  sortBy: PropTypes.shape({\n    /**\n     * Sort key\n     */\n    key: PropTypes.string,\n\n    /**\n     * Sort order\n     */\n    order: PropTypes.oneOf([SortOrder.ASC, SortOrder.DESC])\n  }),\n\n  /**\n   * Multiple columns sort state for the table\n   *\n   * example:\n   * ```js\n   * {\n   *   'column-0': SortOrder.ASC,\n   *   'column-1': SortOrder.DESC,\n   * }\n   * ```\n   */\n  sortState: PropTypes.object,\n\n  /**\n   * A callback function for the header cell click event\n   * The handler is of the shape of `({ column, key, order }) => *`\n   */\n  onColumnSort: PropTypes.func,\n\n  /**\n   * A callback function when resizing the column width\n   * The handler is of the shape of `({ column, width }) => *`\n   */\n  onColumnResize: PropTypes.func,\n\n  /**\n   * A callback function when resizing the column width ends\n   * The handler is of the shape of `({ column, width }) => *`\n   */\n  onColumnResizeEnd: PropTypes.func,\n\n  /**\n   * Adds an additional isScrolling parameter to the row renderer.\n   * This parameter can be used to show a placeholder row while scrolling.\n   */\n  useIsScrolling: PropTypes.bool,\n\n  /**\n   * Number of rows to render above/below the visible bounds of the list\n   */\n  overscanRowCount: PropTypes.number,\n\n  /**\n   * Custom scrollbar size measurement\n   */\n  getScrollbarSize: PropTypes.func,\n\n  /**\n   * A callback function when scrolling the table\n   * The handler is of the shape of `({ scrollLeft, scrollTop, horizontalScrollDirection, verticalScrollDirection, scrollUpdateWasRequested }) => *`\n   *\n   * `scrollLeft` and `scrollTop` are numbers.\n   *\n   * `horizontalDirection` and `verticalDirection` are either `forward` or `backward`.\n   *\n   * `scrollUpdateWasRequested` is a boolean. This value is true if the scroll was caused by `scrollTo*`,\n   * and false if it was the result of a user interaction in the browser.\n   */\n  onScroll: PropTypes.func,\n\n  /**\n   * A callback function when scrolling the table within `onEndReachedThreshold` of the bottom\n   * The handler is of the shape of `({ distanceFromEnd }) => *`\n   */\n  onEndReached: PropTypes.func,\n\n  /**\n   * Threshold in pixels for calling `onEndReached`.\n   */\n  onEndReachedThreshold: PropTypes.number,\n\n  /**\n   * A callback function with information about the slice of rows that were just rendered\n   * The handler is of the shape of `({ overscanStartIndex, overscanStopIndex, startIndex， stopIndex }) => *`\n   */\n  onRowsRendered: PropTypes.func,\n\n  /**\n   * A callback function when the scrollbar presence state changed\n   * The handler is of the shape of `({ size, vertical, horizontal }) => *`\n   */\n  onScrollbarPresenceChange: PropTypes.func,\n\n  /**\n   * A object for the row event handlers\n   * Each of the keys is row event name, like `onClick`, `onDoubleClick` and etc.\n   * Each of the handlers is of the shape of `({ rowData, rowIndex, rowKey, event }) => *`\n   */\n  rowEventHandlers: PropTypes.object,\n\n  /**\n   * whether to ignore function properties while comparing column definition\n   */\n  ignoreFunctionInColumnCompare: PropTypes.bool,\n\n  /**\n   * A object for the custom components, like `ExpandIcon` and `SortIndicator`\n   */\n  components: PropTypes.shape({\n    TableCell: PropTypes.elementType,\n    TableHeaderCell: PropTypes.elementType,\n    ExpandIcon: PropTypes.elementType,\n    SortIndicator: PropTypes.elementType\n  })\n};\nexport default BaseTable;\n//# sourceMappingURL=BaseTable.js.map","import { createElement, PureComponent } from 'react';\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\n/**\n * Detect Element Resize.\n * https://github.com/sdecima/javascript-detect-element-resize\n * Sebastian Decima\n *\n * Forked from version 0.5.3; includes the following modifications:\n * 1) Guard against unsafe 'window' and 'document' references (to support SSR).\n * 2) Defer initialization code via a top-level function wrapper (to support SSR).\n * 3) Avoid unnecessary reflows by not measuring size for scroll events bubbling from children.\n * 4) Add nonce for style element.\n **/\n\n// Check `document` and `window` in case of server-side rendering\nvar windowObject = void 0;\nif (typeof window !== 'undefined') {\n  windowObject = window;\n\n  // eslint-disable-next-line no-restricted-globals\n} else if (typeof self !== 'undefined') {\n  // eslint-disable-next-line no-restricted-globals\n  windowObject = self;\n} else {\n  windowObject = global;\n}\n\nvar cancelFrame = null;\nvar requestFrame = null;\n\nvar TIMEOUT_DURATION = 20;\n\nvar clearTimeoutFn = windowObject.clearTimeout;\nvar setTimeoutFn = windowObject.setTimeout;\n\nvar cancelAnimationFrameFn = windowObject.cancelAnimationFrame || windowObject.mozCancelAnimationFrame || windowObject.webkitCancelAnimationFrame;\n\nvar requestAnimationFrameFn = windowObject.requestAnimationFrame || windowObject.mozRequestAnimationFrame || windowObject.webkitRequestAnimationFrame;\n\nif (cancelAnimationFrameFn == null || requestAnimationFrameFn == null) {\n  // For environments that don't support animation frame,\n  // fallback to a setTimeout based approach.\n  cancelFrame = clearTimeoutFn;\n  requestFrame = function requestAnimationFrameViaSetTimeout(callback) {\n    return setTimeoutFn(callback, TIMEOUT_DURATION);\n  };\n} else {\n  // Counter intuitively, environments that support animation frames can be trickier.\n  // Chrome's \"Throttle non-visible cross-origin iframes\" flag can prevent rAFs from being called.\n  // In this case, we should fallback to a setTimeout() implementation.\n  cancelFrame = function cancelFrame(_ref) {\n    var _ref2 = slicedToArray(_ref, 2),\n        animationFrameID = _ref2[0],\n        timeoutID = _ref2[1];\n\n    cancelAnimationFrameFn(animationFrameID);\n    clearTimeoutFn(timeoutID);\n  };\n  requestFrame = function requestAnimationFrameWithSetTimeoutFallback(callback) {\n    var animationFrameID = requestAnimationFrameFn(function animationFrameCallback() {\n      clearTimeoutFn(timeoutID);\n      callback();\n    });\n\n    var timeoutID = setTimeoutFn(function timeoutCallback() {\n      cancelAnimationFrameFn(animationFrameID);\n      callback();\n    }, TIMEOUT_DURATION);\n\n    return [animationFrameID, timeoutID];\n  };\n}\n\nfunction createDetectElementResize(nonce) {\n  var animationKeyframes = void 0;\n  var animationName = void 0;\n  var animationStartEvent = void 0;\n  var animationStyle = void 0;\n  var checkTriggers = void 0;\n  var resetTriggers = void 0;\n  var scrollListener = void 0;\n\n  var attachEvent = typeof document !== 'undefined' && document.attachEvent;\n  if (!attachEvent) {\n    resetTriggers = function resetTriggers(element) {\n      var triggers = element.__resizeTriggers__,\n          expand = triggers.firstElementChild,\n          contract = triggers.lastElementChild,\n          expandChild = expand.firstElementChild;\n      contract.scrollLeft = contract.scrollWidth;\n      contract.scrollTop = contract.scrollHeight;\n      expandChild.style.width = expand.offsetWidth + 1 + 'px';\n      expandChild.style.height = expand.offsetHeight + 1 + 'px';\n      expand.scrollLeft = expand.scrollWidth;\n      expand.scrollTop = expand.scrollHeight;\n    };\n\n    checkTriggers = function checkTriggers(element) {\n      return element.offsetWidth !== element.__resizeLast__.width || element.offsetHeight !== element.__resizeLast__.height;\n    };\n\n    scrollListener = function scrollListener(e) {\n      // Don't measure (which forces) reflow for scrolls that happen inside of children!\n      if (e.target.className && typeof e.target.className.indexOf === 'function' && e.target.className.indexOf('contract-trigger') < 0 && e.target.className.indexOf('expand-trigger') < 0) {\n        return;\n      }\n\n      var element = this;\n      resetTriggers(this);\n      if (this.__resizeRAF__) {\n        cancelFrame(this.__resizeRAF__);\n      }\n      this.__resizeRAF__ = requestFrame(function animationFrame() {\n        if (checkTriggers(element)) {\n          element.__resizeLast__.width = element.offsetWidth;\n          element.__resizeLast__.height = element.offsetHeight;\n          element.__resizeListeners__.forEach(function forEachResizeListener(fn) {\n            fn.call(element, e);\n          });\n        }\n      });\n    };\n\n    /* Detect CSS Animations support to detect element display/re-attach */\n    var animation = false;\n    var keyframeprefix = '';\n    animationStartEvent = 'animationstart';\n    var domPrefixes = 'Webkit Moz O ms'.split(' ');\n    var startEvents = 'webkitAnimationStart animationstart oAnimationStart MSAnimationStart'.split(' ');\n    var pfx = '';\n    {\n      var elm = document.createElement('fakeelement');\n      if (elm.style.animationName !== undefined) {\n        animation = true;\n      }\n\n      if (animation === false) {\n        for (var i = 0; i < domPrefixes.length; i++) {\n          if (elm.style[domPrefixes[i] + 'AnimationName'] !== undefined) {\n            pfx = domPrefixes[i];\n            keyframeprefix = '-' + pfx.toLowerCase() + '-';\n            animationStartEvent = startEvents[i];\n            animation = true;\n            break;\n          }\n        }\n      }\n    }\n\n    animationName = 'resizeanim';\n    animationKeyframes = '@' + keyframeprefix + 'keyframes ' + animationName + ' { from { opacity: 0; } to { opacity: 0; } } ';\n    animationStyle = keyframeprefix + 'animation: 1ms ' + animationName + '; ';\n  }\n\n  var createStyles = function createStyles(doc) {\n    if (!doc.getElementById('detectElementResize')) {\n      //opacity:0 works around a chrome bug https://code.google.com/p/chromium/issues/detail?id=286360\n      var css = (animationKeyframes ? animationKeyframes : '') + '.resize-triggers { ' + (animationStyle ? animationStyle : '') + 'visibility: hidden; opacity: 0; } ' + '.resize-triggers, .resize-triggers > div, .contract-trigger:before { content: \" \"; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',\n          head = doc.head || doc.getElementsByTagName('head')[0],\n          style = doc.createElement('style');\n\n      style.id = 'detectElementResize';\n      style.type = 'text/css';\n\n      if (nonce != null) {\n        style.setAttribute('nonce', nonce);\n      }\n\n      if (style.styleSheet) {\n        style.styleSheet.cssText = css;\n      } else {\n        style.appendChild(doc.createTextNode(css));\n      }\n\n      head.appendChild(style);\n    }\n  };\n\n  var addResizeListener = function addResizeListener(element, fn) {\n    if (attachEvent) {\n      element.attachEvent('onresize', fn);\n    } else {\n      if (!element.__resizeTriggers__) {\n        var doc = element.ownerDocument;\n        var elementStyle = windowObject.getComputedStyle(element);\n        if (elementStyle && elementStyle.position === 'static') {\n          element.style.position = 'relative';\n        }\n        createStyles(doc);\n        element.__resizeLast__ = {};\n        element.__resizeListeners__ = [];\n        (element.__resizeTriggers__ = doc.createElement('div')).className = 'resize-triggers';\n        var expandTrigger = doc.createElement('div');\n        expandTrigger.className = 'expand-trigger';\n        expandTrigger.appendChild(doc.createElement('div'));\n        var contractTrigger = doc.createElement('div');\n        contractTrigger.className = 'contract-trigger';\n        element.__resizeTriggers__.appendChild(expandTrigger);\n        element.__resizeTriggers__.appendChild(contractTrigger);\n        element.appendChild(element.__resizeTriggers__);\n        resetTriggers(element);\n        element.addEventListener('scroll', scrollListener, true);\n\n        /* Listen for a css animation to detect element display/re-attach */\n        if (animationStartEvent) {\n          element.__resizeTriggers__.__animationListener__ = function animationListener(e) {\n            if (e.animationName === animationName) {\n              resetTriggers(element);\n            }\n          };\n          element.__resizeTriggers__.addEventListener(animationStartEvent, element.__resizeTriggers__.__animationListener__);\n        }\n      }\n      element.__resizeListeners__.push(fn);\n    }\n  };\n\n  var removeResizeListener = function removeResizeListener(element, fn) {\n    if (attachEvent) {\n      element.detachEvent('onresize', fn);\n    } else {\n      element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn), 1);\n      if (!element.__resizeListeners__.length) {\n        element.removeEventListener('scroll', scrollListener, true);\n        if (element.__resizeTriggers__.__animationListener__) {\n          element.__resizeTriggers__.removeEventListener(animationStartEvent, element.__resizeTriggers__.__animationListener__);\n          element.__resizeTriggers__.__animationListener__ = null;\n        }\n        try {\n          element.__resizeTriggers__ = !element.removeChild(element.__resizeTriggers__);\n        } catch (e) {\n          // Preact compat; see developit/preact-compat/issues/228\n        }\n      }\n    }\n  };\n\n  return {\n    addResizeListener: addResizeListener,\n    removeResizeListener: removeResizeListener\n  };\n}\n\nvar AutoSizer = function (_React$PureComponent) {\n  inherits(AutoSizer, _React$PureComponent);\n\n  function AutoSizer() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    classCallCheck(this, AutoSizer);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = possibleConstructorReturn(this, (_ref = AutoSizer.__proto__ || Object.getPrototypeOf(AutoSizer)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      height: _this.props.defaultHeight || 0,\n      width: _this.props.defaultWidth || 0\n    }, _this._onResize = function () {\n      var _this$props = _this.props,\n          disableHeight = _this$props.disableHeight,\n          disableWidth = _this$props.disableWidth,\n          onResize = _this$props.onResize;\n\n\n      if (_this._parentNode) {\n        // Guard against AutoSizer component being removed from the DOM immediately after being added.\n        // This can result in invalid style values which can result in NaN values if we don't handle them.\n        // See issue #150 for more context.\n\n        var _height = _this._parentNode.offsetHeight || 0;\n        var _width = _this._parentNode.offsetWidth || 0;\n\n        var _style = window.getComputedStyle(_this._parentNode) || {};\n        var paddingLeft = parseInt(_style.paddingLeft, 10) || 0;\n        var paddingRight = parseInt(_style.paddingRight, 10) || 0;\n        var paddingTop = parseInt(_style.paddingTop, 10) || 0;\n        var paddingBottom = parseInt(_style.paddingBottom, 10) || 0;\n\n        var newHeight = _height - paddingTop - paddingBottom;\n        var newWidth = _width - paddingLeft - paddingRight;\n\n        if (!disableHeight && _this.state.height !== newHeight || !disableWidth && _this.state.width !== newWidth) {\n          _this.setState({\n            height: _height - paddingTop - paddingBottom,\n            width: _width - paddingLeft - paddingRight\n          });\n\n          onResize({ height: _height, width: _width });\n        }\n      }\n    }, _this._setRef = function (autoSizer) {\n      _this._autoSizer = autoSizer;\n    }, _temp), possibleConstructorReturn(_this, _ret);\n  }\n\n  createClass(AutoSizer, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var nonce = this.props.nonce;\n\n      if (this._autoSizer && this._autoSizer.parentNode && this._autoSizer.parentNode.ownerDocument && this._autoSizer.parentNode.ownerDocument.defaultView && this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement) {\n        // Delay access of parentNode until mount.\n        // This handles edge-cases where the component has already been unmounted before its ref has been set,\n        // As well as libraries like react-lite which have a slightly different lifecycle.\n        this._parentNode = this._autoSizer.parentNode;\n\n        // Defer requiring resize handler in order to support server-side rendering.\n        // See issue #41\n        this._detectElementResize = createDetectElementResize(nonce);\n        this._detectElementResize.addResizeListener(this._parentNode, this._onResize);\n\n        this._onResize();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this._detectElementResize && this._parentNode) {\n        this._detectElementResize.removeResizeListener(this._parentNode, this._onResize);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          children = _props.children,\n          className = _props.className,\n          disableHeight = _props.disableHeight,\n          disableWidth = _props.disableWidth,\n          style = _props.style;\n      var _state = this.state,\n          height = _state.height,\n          width = _state.width;\n\n      // Outer div should not force width/height since that may prevent containers from shrinking.\n      // Inner component should overflow and use calculated width/height.\n      // See issue #68 for more information.\n\n      var outerStyle = { overflow: 'visible' };\n      var childParams = {};\n\n      // Avoid rendering children before the initial measurements have been collected.\n      // At best this would just be wasting cycles.\n      var bailoutOnChildren = false;\n\n      if (!disableHeight) {\n        if (height === 0) {\n          bailoutOnChildren = true;\n        }\n        outerStyle.height = 0;\n        childParams.height = height;\n      }\n\n      if (!disableWidth) {\n        if (width === 0) {\n          bailoutOnChildren = true;\n        }\n        outerStyle.width = 0;\n        childParams.width = width;\n      }\n\n      return createElement(\n        'div',\n        {\n          className: className,\n          ref: this._setRef,\n          style: _extends({}, outerStyle, style)\n        },\n        !bailoutOnChildren && children(childParams)\n      );\n    }\n  }]);\n  return AutoSizer;\n}(PureComponent);\n\nAutoSizer.defaultProps = {\n  onResize: function onResize() {},\n  disableHeight: false,\n  disableWidth: false,\n  style: {}\n};\n\nexport default AutoSizer;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport AutoSizer from 'react-virtualized-auto-sizer';\n/**\n * Decorator component that automatically adjusts the width and height of a single child\n */\n\nvar AutoResizer = function AutoResizer(_ref) {\n  var className = _ref.className,\n      width = _ref.width,\n      height = _ref.height,\n      children = _ref.children,\n      onResize = _ref.onResize;\n  var disableWidth = typeof width === 'number';\n  var disableHeight = typeof height === 'number';\n\n  if (disableWidth && disableHeight) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: className,\n      style: {\n        width: width,\n        height: height,\n        position: 'relative'\n      }\n    }, children({\n      width: width,\n      height: height\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(AutoSizer, {\n    className: className,\n    disableWidth: disableWidth,\n    disableHeight: disableHeight,\n    onResize: onResize\n  }, function (size) {\n    return children({\n      width: disableWidth ? width : size.width,\n      height: disableHeight ? height : size.height\n    });\n  });\n};\n\nAutoResizer.propTypes = {\n  /**\n   * Class name for the component\n   */\n  className: PropTypes.string,\n\n  /**\n   * the width of the component, will be the container's width if not set\n   */\n  width: PropTypes.number,\n\n  /**\n   * the height of the component, will be the container's width if not set\n   */\n  height: PropTypes.number,\n\n  /**\n   * A callback function to render the children component\n   * The handler is of the shape of `({ width, height }) => node`\n   */\n  children: PropTypes.func.isRequired,\n\n  /**\n   * A callback function when the size of the table container changed if the width and height are not set\n   * The handler is of the shape of `({ width, height }) => *`\n   */\n  onResize: PropTypes.func\n};\nexport default AutoResizer;\n//# sourceMappingURL=AutoResizer.js.map","/**\n * Documents the possible EntityFinder version selection configurations\n */\nexport enum VersionSelectionType {\n  /** Versions cannot be selected. In dual-pane mode, the version column will not be shown. */\n  DISALLOWED = 'DISALLOWED',\n  /** A numbered version must be selected. The current version of tables will not be shown. */\n  REQUIRED = 'REQUIRED',\n  /**\n   * Versions can be selected, including \"Always Latest\" version for any versionable entity type.\n   * This should be selected if updates to the entity will not be \"tracked\" by the use case,\n   * i.e. the widget will update when the entity is updated.\n   */\n  TRACKED = 'TRACKED',\n  /**\n   * Versions can be selected. Tables and views will allow selection of the \"Current\"/\"Draft\" version.\n   * This should be selected if updates to the entity will not be \"tracked\" by the use case.\n   */\n  UNTRACKED = 'UNTRACKED',\n}\n","import {\n  ChatBubbleTwoTone,\n  CheckTwoTone,\n  DescriptionTwoTone,\n  LinkOffTwoTone,\n  LocalOfferTwoTone,\n  LockTwoTone,\n  PublicTwoTone,\n} from '@mui/icons-material'\nimport { isEmpty } from 'lodash-es'\nimport React, { useEffect, useState } from 'react'\nimport { useInView } from 'react-intersection-observer'\nimport { useDeleteEntity } from '../utils/hooks/SynapseAPI/entity/useEntity'\nimport {\n  useGetSchemaBinding,\n  useGetValidationResults,\n} from '../utils/hooks/SynapseAPI/entity/useEntityBoundSchema'\nimport useGetEntityBundle from '../utils/hooks/SynapseAPI/entity/useEntityBundle'\nimport {\n  ANONYMOUS_PRINCIPAL_ID,\n  AUTHENTICATED_PRINCIPAL_ID,\n  PUBLIC_PRINCIPAL_ID,\n  ALL_ENTITY_BUNDLE_FIELDS,\n} from '../utils/SynapseConstants'\nimport { useSynapseContext } from '../utils/SynapseContext'\nimport { EntityBundle, EntityType } from '../utils/synapseTypes'\nimport { EntityModal, EntityModalTabs } from './entity/metadata/EntityModal'\nimport WarningModal from './synapse_form_wrapper/WarningModal'\nimport { Tooltip } from '@mui/material'\n\nfunction isPublic(bundle: EntityBundle): boolean {\n  return bundle.benefactorAcl.resourceAccess.some(ra => {\n    return (\n      ra.principalId === AUTHENTICATED_PRINCIPAL_ID ||\n      ra.principalId === PUBLIC_PRINCIPAL_ID ||\n      ra.principalId === ANONYMOUS_PRINCIPAL_ID\n    )\n  })\n}\n\nexport const ENTITY_BADGE_ICONS_TOOLTIP_ID = 'EntityBadgeIconsTooltipID'\n\nexport type EntityBadgeIconsProps = {\n  entityId: string\n  versionNumber?: number\n  flexWrap?: // possible settings for flex-wrap\n  | 'wrap'\n    | 'nowrap'\n    | '-moz-initial'\n    | 'inherit'\n    | 'initial'\n    | 'revert'\n    | 'unset'\n    | 'wrap-reverse'\n  justifyContent?: 'flex-start' | 'flex-end' | string\n  /** Shows an icon indicating if the entity is 'public' or 'private'. Default true  */\n  showIsPublicPrivate?: boolean\n  /** Shows an icon if the entity has sharing settings set on itself. Default true  */\n  showHasLocalSharingSettings?: boolean\n  /** Shows an icon if the entity has annotations, or if it has a validation schema (in experimental mode only). Default true  */\n  showHasAnnotations?: boolean\n  /** Shows an icon if the entity a wiki. Default true  */\n  showHasWiki?: boolean\n  /** Shows an icon if the entity has been mentioned in discussion threads. Default true  */\n  showHasDiscussionThread?: boolean\n  /* Shows an 'unlink' button if the entity is a link and the user has permission to delete it. Default true */\n  showUnlink?: boolean\n  /* Invoked after the entity is unlinked/deleted in case there is cleanup to do. Returns the entityId */\n  onUnlink?: (entityId: string) => void\n  onUnlinkError?: (error: unknown) => void\n  /** Whether or not the badges (e.g. Annotations) can trigger opening a modal on click */\n  canOpenModal: boolean\n  /** Whether this component should render a ReactTooltip or if an external component is managing it */\n  renderTooltipComponent: boolean\n}\n\n/**\n * Stateless component used to show icons that show an entity's status.\n * Adapted from https://github.com/Sage-Bionetworks/SynapseWebClient/blob/46b9b717636cda2421926d96365244bbb72a05b6/src/main/java/org/sagebionetworks/web/client/widget/entity/EntityBadge.java\n */\nexport const EntityBadgeIcons = (props: EntityBadgeIconsProps) => {\n  const {\n    entityId,\n    versionNumber,\n    flexWrap = 'nowrap',\n    justifyContent = 'flex-start',\n    showIsPublicPrivate = true,\n    showHasLocalSharingSettings = true,\n    showHasAnnotations = true,\n    showHasWiki = true,\n    showHasDiscussionThread = true,\n    showUnlink = true,\n    onUnlink = () => {\n      /* noop */\n    },\n    onUnlinkError = () => {\n      /* noop */\n    },\n    canOpenModal,\n  } = props\n\n  enum SchemaConformanceState {\n    NO_SCHEMA = '', // or not in experimental mode\n    VALID = 'Valid',\n    INVALID = 'Invalid',\n    ANNOTATIONS_MISSING = 'Missing',\n  }\n\n  const { ref, inView } = useInView()\n\n  const { data: bundle } = useGetEntityBundle(\n    entityId,\n    versionNumber,\n    ALL_ENTITY_BUNDLE_FIELDS,\n    {\n      enabled: inView,\n      staleTime: 60 * 1000, // 60 seconds\n    },\n  )\n  const [showModal, setShowModal] = useState(false)\n  const [showUnlinkConfirmModal, setShowUnlinkConfirmModal] = useState(false)\n  const [schemaConformance, setSchemaConformance] = useState(\n    SchemaConformanceState.NO_SCHEMA,\n  )\n\n  const { isInExperimentalMode } = useSynapseContext()\n\n  const { data: boundSchema } = useGetSchemaBinding(entityId, {\n    enabled: isInExperimentalMode && inView,\n    staleTime: 60 * 1000, // 60 seconds\n  })\n\n  const { data: schemaValidationResults } = useGetValidationResults(entityId, {\n    enabled: isInExperimentalMode && inView && !!boundSchema,\n    staleTime: 60 * 1000, // 60 seconds\n  })\n\n  // The maximum number of annotations to show in the popover\n  const maxAnnosToShow = 10\n  const annotationsCount =\n    bundle?.annotations && !isEmpty(bundle.annotations.annotations)\n      ? Object.keys(bundle.annotations.annotations).length\n      : 0\n\n  useEffect(() => {\n    if (isInExperimentalMode && schemaValidationResults) {\n      if (schemaValidationResults.isValid) {\n        setSchemaConformance(SchemaConformanceState.VALID)\n      } else if (annotationsCount) {\n        // If annotations exist, then indicate that they are invalid\n        setSchemaConformance(SchemaConformanceState.INVALID)\n      } else {\n        // If annotations are missing, it's still invalid, but should appear differently\n        setSchemaConformance(SchemaConformanceState.ANNOTATIONS_MISSING)\n      }\n    }\n  }, [\n    schemaValidationResults,\n    isInExperimentalMode,\n    annotationsCount,\n    bundle,\n    SchemaConformanceState.VALID,\n    SchemaConformanceState.INVALID,\n    SchemaConformanceState.ANNOTATIONS_MISSING,\n  ])\n\n  const { mutate: unlinkEntity } = useDeleteEntity({\n    onSuccess: (_, entityId) => {\n      onUnlink(entityId)\n    },\n    onError: onUnlinkError,\n  })\n\n  /**\n   * Convert the list of annotations to a string of <tr>...anno1</tr><tr>...anno2</tr>...\n   * If there are no annotations, this is the empty string ('')\n   */\n  const annotationsTableRows = (\n    <>\n      {bundle\n        ? Object.entries(bundle.annotations?.annotations ?? []).reduce(\n            (previous, current, index) => {\n              if (\n                index < maxAnnosToShow ||\n                (index === maxAnnosToShow &&\n                  maxAnnosToShow === annotationsCount)\n              ) {\n                return (\n                  <>\n                    {previous}\n                    <tr>\n                      <td>\n                        <b>{current[0]}</b>\n                      </td>\n                      <td>{current[1].value.join(', ')}</td>\n                    </tr>\n                  </>\n                )\n              } else {\n                return previous\n              }\n            },\n            <></>,\n          )\n        : ''}\n    </>\n  )\n  // We also show the schema name if there is one (and we're in experimental mode)\n  const valiationSchemaTableRow = (\n    <>\n      {isInExperimentalMode && boundSchema ? (\n        <tr>\n          <td>\n            <b>Validation Schema</b>\n          </td>\n          <td>{boundSchema.jsonSchemaVersionInfo.schemaName}</td>\n        </tr>\n      ) : (\n        ''\n      )}\n    </>\n  )\n  const annotationsHtml = (\n    <div className=\"EntityBadgeTooltip\">\n      {schemaValidationResults ? <p>{schemaConformance} Annotations</p> : ''}\n      <table>\n        {annotationsTableRows ? annotationsTableRows : ''}\n        {valiationSchemaTableRow}\n      </table>\n      {annotationsCount > maxAnnosToShow ? (\n        <p>and {annotationsCount - maxAnnosToShow} more</p>\n      ) : (\n        ''\n      )}\n    </div>\n  )\n  return (\n    <div className=\"EntityBadge\" ref={ref} style={{ flexWrap, justifyContent }}>\n      {bundle && (\n        <>\n          <div onClick={e => e.stopPropagation()}>\n            <EntityModal\n              entityId={entityId}\n              show={showModal}\n              showTabs={false}\n              onClose={() => setShowModal(false)}\n              initialTab={EntityModalTabs.ANNOTATIONS}\n            />\n          </div>\n          {showIsPublicPrivate && bundle.benefactorAcl && isPublic(bundle) ? (\n            <Tooltip title=\"Public\" enterNextDelay={100} placement=\"right\">\n              <PublicTwoTone\n                aria-hidden={false}\n                role=\"img\"\n                className=\"EntityBadge__Badge\"\n                data-testid={'is-public-icon'}\n              />\n            </Tooltip>\n          ) : null}\n          {showIsPublicPrivate && bundle.benefactorAcl && !isPublic(bundle) ? (\n            <Tooltip title=\"Private\" enterNextDelay={100} placement=\"right\">\n              <LockTwoTone\n                aria-hidden={false}\n                role=\"img\"\n                className=\"EntityBadge__Badge\"\n                data-testid={'is-private-icon'}\n              />\n            </Tooltip>\n          ) : null}\n          {showHasLocalSharingSettings &&\n          bundle.benefactorAcl &&\n          entityId === bundle.benefactorAcl.id ? (\n            <Tooltip\n              title=\"Sharing Settings have been set\"\n              enterNextDelay={100}\n              placement=\"right\"\n            >\n              <CheckTwoTone\n                aria-hidden={false}\n                role=\"img\"\n                className=\"EntityBadge__Badge\"\n                data-testid={'sharing-settings-icon'}\n              />\n            </Tooltip>\n          ) : null}\n\n          {showHasAnnotations &&\n            !!(annotationsCount || schemaValidationResults) && (\n              <Tooltip\n                title={annotationsHtml}\n                enterNextDelay={100}\n                placement=\"right\"\n              >\n                <LocalOfferTwoTone\n                  aria-hidden={false}\n                  role={canOpenModal ? 'button' : 'img'}\n                  className={`EntityBadge__Badge ${schemaConformance}`}\n                  style={canOpenModal ? { cursor: 'pointer' } : undefined}\n                  onClick={canOpenModal ? () => setShowModal(true) : undefined}\n                  data-html={true}\n                  data-testid={'annotations-icon'}\n                />\n              </Tooltip>\n            )}\n          {showHasWiki && bundle.rootWikiId && (\n            <Tooltip title=\"Has a wiki\" enterNextDelay={100} placement=\"right\">\n              <DescriptionTwoTone\n                aria-hidden={false}\n                role=\"img\"\n                className=\"EntityBadge__Badge\"\n                data-testid={'wiki-icon'}\n              />\n            </Tooltip>\n          )}\n          {showHasDiscussionThread &&\n            !!bundle.threadCount &&\n            !!(bundle.threadCount > 0) && (\n              <Tooltip\n                title=\"Has been mentioned in discussion\"\n                enterNextDelay={100}\n                placement=\"right\"\n              >\n                <ChatBubbleTwoTone\n                  aria-hidden={false}\n                  role=\"img\"\n                  className=\"EntityBadge__Badge\"\n                  data-testid={'discussion-icon'}\n                />\n              </Tooltip>\n            )}\n          {showUnlink &&\n            bundle.entityType === EntityType.LINK &&\n            bundle.permissions?.canDelete && (\n              <>\n                <WarningModal\n                  show={showUnlinkConfirmModal}\n                  title=\"Confirm Unlink\"\n                  modalBody={\n                    'Are you sure you want to remove this link? The original object will not be changed.'\n                  }\n                  confirmButtonText=\"Unlink\"\n                  confirmButtonVariant=\"danger\"\n                  onConfirm={() => {\n                    unlinkEntity(entityId)\n                    setShowUnlinkConfirmModal(false)\n                  }}\n                  onCancel={() => {\n                    setShowUnlinkConfirmModal(false)\n                  }}\n                />\n                <Tooltip\n                  title=\"Remove this link\"\n                  enterNextDelay={100}\n                  placement=\"right\"\n                >\n                  <LinkOffTwoTone\n                    aria-hidden={false}\n                    role=\"button\"\n                    onClick={() => setShowUnlinkConfirmModal(true)}\n                    className=\"EntityBadge__Badge Unlink\"\n                    data-testid={'unlink-icon'}\n                  />\n                </Tooltip>\n              </>\n            )}\n        </>\n      )}\n    </div>\n  )\n}\n","import { Skeleton } from '@mui/material'\nimport BaseTable, {\n  CallOrReturn,\n  ColumnShape,\n  SortOrder,\n} from '@sage-bionetworks/react-base-table'\nimport dayjs from 'dayjs'\nimport React, { SyntheticEvent, useEffect } from 'react'\nimport { Form } from 'react-bootstrap'\nimport SortIcon from '../../../../assets/icons/Sort'\nimport { formatDate } from '../../../../utils/functions/DateFormatter'\nimport { isTableType } from '../../../../utils/functions/EntityTypeUtils'\nimport {\n  useGetEntity,\n  useGetVersionsInfinite,\n} from '../../../../utils/hooks/SynapseAPI/entity/useEntity'\nimport useGetEntityBundle from '../../../../utils/hooks/SynapseAPI/entity/useEntityBundle'\nimport { SMALL_USER_CARD } from '../../../../utils/SynapseConstants'\nimport {\n  EntityRef,\n  EntityType,\n  Reference,\n} from '../../../../utils/synapseTypes'\nimport { Tooltip } from '@mui/material'\nimport { EntityBadgeIcons } from '../../../EntityBadgeIcons'\nimport { EntityTypeIcon } from '../../../EntityIcon'\nimport { EntityLink } from '../../../EntityLink'\nimport IconSvg from '../../../IconSvg'\nimport { SynapseSpinner } from '../../../LoadingScreen'\nimport { DatasetItemsEditorTableData } from '../../../table/datasets/DatasetItemsEditor'\nimport UserCard from '../../../UserCard'\nimport { Checkbox } from '../../../widgets/Checkbox'\nimport { NO_VERSION_NUMBER } from '../../EntityFinder'\nimport { VersionSelectionType } from '../../VersionSelectionType'\nimport { EntityFinderTableViewRowData } from './DetailsView'\n\n// TODO: Consider sharing logic with SynapseTableCell.tsx\n\nexport type CellRendererProps<T> = {\n  cellData: any\n  columns: ColumnShape<T>[]\n  column: ColumnShape<T>\n  columnIndex: number\n  rowData: T\n  rowIndex: number\n  container: BaseTable<T>\n  isScrolling?: boolean\n}\n\nexport type CellRenderer<T> = CallOrReturn<\n  React.ReactNode,\n  CellRendererProps<T>\n>\n\n/**\n * The data across tables may differ, but it has entity ID and version, then it can use many of these renderers\n */\nexport type EntityIdAndVersionNumber = {\n  entityId: string\n  versionNumber?: number\n}\n\nexport type EntityIdAndVersionRendererProps =\n  CellRendererProps<EntityIdAndVersionNumber>\n\n/**\n * Props for cellRenderer components within the BaseTable\n */\nexport type EntityFinderTableCellRendererProps =\n  CellRendererProps<EntityFinderTableViewRowData>\n\nexport const CustomSortIndicator = ({\n  className,\n  sortOrder,\n}: {\n  className: string\n  sortOrder: SortOrder\n}) => {\n  return (\n    <SortIcon\n      className={className}\n      active={true}\n      role=\"button\"\n      style={{ height: '20px', marginLeft: 'auto' }}\n      direction={sortOrder}\n    />\n  )\n}\n\n/**\n * Renders Entity Badges using the entity bundle.\n * @param props\n * @returns\n */\nexport function BadgeIconsRenderer(props: EntityIdAndVersionRendererProps) {\n  return (\n    <EntityBadgeIcons\n      entityId={props.rowData.entityId}\n      versionNumber={props.rowData.versionNumber}\n      showHasDiscussionThread={false}\n      showHasWiki={false}\n      showUnlink={false}\n      canOpenModal={false}\n      // We render the tooltip component outside of the table so it plays nicely with list virtualization\n      // https://github.com/wwayne/react-tooltip/issues/300#issuecomment-468042592\n      renderTooltipComponent={false}\n    />\n  )\n}\n\nexport function DateRenderer({ cellData }: { cellData?: string }) {\n  return <>{(cellData && formatDate(dayjs(cellData))) ?? <></>}</>\n}\n\n/**\n * Renders 'modifiedOn' from the entity bundle.\n * @param props\n * @returns\n */\nexport function ModifiedOnRenderer(props: EntityIdAndVersionRendererProps) {\n  const { data: bundle, isLoading } = useGetEntityBundle(\n    props.rowData.entityId,\n    props.rowData.versionNumber,\n  )\n\n  if (isLoading) {\n    return <Skeleton width={200} />\n  }\n\n  return <DateRenderer {...props} cellData={bundle?.entity.modifiedOn} />\n}\n\n/**\n * Renders 'createdOn' from the entity bundle.\n * @param props\n * @returns\n */\nexport function CreatedOnRenderer(props: EntityIdAndVersionRendererProps) {\n  const { data: bundle, isLoading } = useGetEntityBundle(\n    props.rowData.entityId,\n    props.rowData.versionNumber,\n  )\n\n  if (isLoading) {\n    return <Skeleton width={200} />\n  }\n\n  return <DateRenderer {...props} cellData={bundle?.entity?.createdOn} />\n}\n\nexport function EntityNameRenderer(props: EntityIdAndVersionRendererProps) {\n  const { data: bundle, isLoading } = useGetEntityBundle(\n    props.rowData.entityId,\n    props.rowData.versionNumber,\n  )\n  if (isLoading) {\n    return <Skeleton width={200} />\n  }\n\n  return bundle ? (\n    <EntityLink\n      className=\"EntityNameWithIconRenderer\"\n      entity={bundle.entity}\n      link={false}\n    />\n  ) : (\n    <></>\n  )\n}\n\nexport function ProjectRenderer(props: EntityIdAndVersionRendererProps) {\n  const { data: entityBundle, isLoading: isLoadingBundle } = useGetEntityBundle(\n    props.rowData.entityId,\n    props.rowData.versionNumber,\n  )\n  const { data: project, isLoading: isLoadingProjectEntity } = useGetEntity(\n    entityBundle?.path.path[1].id ?? '',\n    undefined,\n    { enabled: !!entityBundle },\n  )\n\n  if (isLoadingBundle || isLoadingProjectEntity) {\n    return <Skeleton width={200} />\n  }\n\n  return project ? <EntityLink entity={project} /> : <></>\n}\n\nexport function UserCardRenderer({ cellData }: { cellData?: string }) {\n  return (\n    <UserCard\n      ownerId={cellData}\n      size={SMALL_USER_CARD}\n      openLinkInNewTab={true}\n    />\n  )\n}\n\n/**\n * Renders 'modifiedBy' from the entity bundle.\n * @param props\n * @returns\n */\nexport function ModifiedByRenderer(props: EntityIdAndVersionRendererProps) {\n  const { data: bundle, isLoading } = useGetEntityBundle(\n    props.rowData.entityId,\n    props.rowData.versionNumber,\n  )\n\n  if (isLoading) {\n    return <Skeleton width={200} />\n  }\n\n  return <UserCardRenderer {...props} cellData={bundle?.entity.modifiedBy} />\n}\n\nexport function LoadingRenderer() {\n  return (\n    <div className=\"EntityFinderDetailsViewPlaceholder\">\n      <SynapseSpinner size={30} />\n    </div>\n  )\n}\n\nexport function DetailsViewCheckboxRenderer({\n  rowData,\n}: EntityFinderTableCellRendererProps) {\n  const { isSelected, isDisabled } = rowData\n  return (\n    !isDisabled && (\n      <Checkbox\n        label={`Select ${rowData.entityId}`}\n        hideLabel={true}\n        className=\"SRC-pointer-events-none\"\n        checked={isSelected}\n        onChange={() => {\n          // no-op\n        }}\n      />\n    )\n  )\n}\n\nexport function TypeIconRenderer({\n  cellData,\n}: EntityFinderTableCellRendererProps) {\n  return (\n    <EntityTypeIcon\n      className=\"EntityFinderTableCellEntityIcon\"\n      type={cellData as EntityType}\n    />\n  )\n}\n\nexport function EmptyRenderer({\n  noResultsPlaceholder,\n}: {\n  noResultsPlaceholder: React.ReactNode\n}) {\n  return (\n    <div className=\"EntityFinderDetailsViewPlaceholder\">\n      {noResultsPlaceholder || <div>Empty</div>}\n    </div>\n  )\n}\n\nexport const DatasetEditorVersionRenderer = ({\n  rowData,\n  toggleSelection,\n}: CellRendererProps<DatasetItemsEditorTableData> & {\n  toggleSelection: (entity: EntityRef) => void\n}) => {\n  const { entityId, versionNumber } = rowData\n\n  const {\n    data: versionData,\n    isError,\n    fetchNextPage,\n    isFetchingNextPage,\n    hasNextPage,\n  } = useGetVersionsInfinite(entityId, {\n    staleTime: 60 * 1000, // 60 seconds\n  })\n  const versions = versionData?.pages.flatMap(page => page.results) ?? []\n  const currentVersionHasBeenRetrieved = !!versions.find(\n    version => version.versionNumber === versionNumber,\n  )\n  useEffect(() => {\n    if (!currentVersionHasBeenRetrieved && hasNextPage && !isFetchingNextPage) {\n      fetchNextPage()\n    }\n  }, [\n    currentVersionHasBeenRetrieved,\n    hasNextPage,\n    isFetchingNextPage,\n    fetchNextPage,\n  ])\n\n  if (isError) {\n    return <>{versionNumber}</>\n  }\n\n  return (\n    <div>\n      {versions && versions.length > 0 && (\n        <Form.Control\n          role=\"listbox\"\n          size=\"sm\"\n          as=\"select\"\n          value={versionNumber}\n          onClick={(event: SyntheticEvent<HTMLSelectElement>) => {\n            event.stopPropagation()\n          }}\n          onChange={event => {\n            event.stopPropagation()\n            const version = parseInt(event.target.value)\n            toggleSelection({\n              entityId: entityId,\n              versionNumber: version,\n            })\n          }}\n        >\n          {\n            /* The selected version number doesn't exist */\n            !currentVersionHasBeenRetrieved &&\n              !hasNextPage &&\n              !isFetchingNextPage && (\n                <option disabled key={versionNumber} value={versionNumber}>\n                  {versionNumber} (Not Found)\n                </option>\n              )\n          }\n          {versions.map(version => {\n            return (\n              <option key={version.versionNumber} value={version.versionNumber}>\n                {version.versionNumber}\n                {version.isLatestVersion && ' (Latest)'}\n              </option>\n            )\n          })}\n        </Form.Control>\n      )}\n    </div>\n  )\n}\n\nfunction getLatestVersionText(\n  versionSelection: VersionSelectionType,\n  entityType: EntityType,\n) {\n  let versionDisplay = 'Latest'\n  let snapshotDisplay = ''\n  if (isTableType(entityType)) {\n    if (entityType === EntityType.DATASET) {\n      versionDisplay = 'Draft'\n      snapshotDisplay = 'Stable Version'\n    } else {\n      versionDisplay = 'Current'\n      snapshotDisplay = 'Snapshot'\n    }\n  }\n\n  if (versionSelection === VersionSelectionType.TRACKED) {\n    return `Always ${versionDisplay} Version`\n  } else if (versionSelection === VersionSelectionType.REQUIRED) {\n    return (\n      <>\n        {versionDisplay}\n\n        <IconSvg\n          icon=\"helpOutlineTwoTone\"\n          label={`No ${snapshotDisplay} exists. The ${versionDisplay} version will be referenced until a new ${snapshotDisplay} is created.`}\n          sx={{\n            width: '12px',\n            paddingLeft: '0.2rem',\n          }}\n        />\n      </>\n    )\n  }\n\n  return `${versionDisplay} Version`\n}\n\nexport const DetailsViewVersionRenderer = ({\n  rowData,\n  versionSelection,\n  toggleSelection,\n}: EntityFinderTableCellRendererProps & {\n  versionSelection: VersionSelectionType\n  toggleSelection: (entity: Reference | Reference[]) => void\n}) => {\n  const {\n    id,\n    entityType,\n    isVersionableEntity,\n    isSelected,\n    currentSelectedVersion,\n  } = rowData\n  const { data: versionData } = useGetVersionsInfinite(id, {\n    enabled: isVersionableEntity,\n    staleTime: 60 * 1000, // 60 seconds\n  })\n  const versions = versionData?.pages.flatMap(page => page.results) ?? []\n\n  useEffect(() => {\n    // If VersionSelectionType.REQUIRED, and the user has selected this entity and hasn't selected a version, then we force a version selection\n    if (\n      isSelected &&\n      versionSelection == VersionSelectionType.REQUIRED &&\n      currentSelectedVersion === NO_VERSION_NUMBER &&\n      versions.length > 0\n    ) {\n      toggleSelection({\n        targetId: id,\n        targetVersionNumber: versions[0].versionNumber,\n      })\n    }\n  }, [\n    currentSelectedVersion,\n    id,\n    isSelected,\n    versionSelection,\n    toggleSelection,\n    versions,\n  ])\n\n  const showLatestVersion =\n    versionSelection === VersionSelectionType.TRACKED ||\n    (versionSelection === VersionSelectionType.UNTRACKED &&\n      isTableType(entityType))\n\n  const latestVersionText = getLatestVersionText(versionSelection, entityType)\n\n  if (!isSelected || !isVersionableEntity) {\n    return <></>\n  }\n\n  return (\n    <div>\n      {versions && versions.length > 0 ? (\n        <Form.Control\n          role=\"listbox\"\n          size=\"sm\"\n          as=\"select\"\n          value={currentSelectedVersion}\n          onClick={(event: SyntheticEvent<HTMLSelectElement>) => {\n            event.stopPropagation()\n          }}\n          onChange={event => {\n            event.stopPropagation()\n            const version = parseInt(event.target.value)\n            toggleSelection({\n              targetId: id,\n              targetVersionNumber:\n                version === NO_VERSION_NUMBER ? undefined : version,\n            })\n          }}\n        >\n          {showLatestVersion && (\n            <option value={NO_VERSION_NUMBER}>{latestVersionText}</option>\n          )}\n          {versions.map(version => {\n            return (\n              <option key={version.versionNumber} value={version.versionNumber}>\n                Version {version.versionNumber}\n              </option>\n            )\n          })}\n        </Form.Control>\n      ) : (\n        latestVersionText\n      )}\n    </div>\n  )\n}\n\nexport function DatasetEditorCheckboxRenderer(\n  props: CellRendererProps<\n    EntityIdAndVersionNumber & {\n      isSelected: boolean\n      isDisabled?: boolean\n      setSelected: (newValue: boolean) => void\n    }\n  >,\n) {\n  const { isSelected, isDisabled, setSelected, entityId } = props.rowData\n  return (\n    !isDisabled && (\n      <Checkbox\n        data-testid={`dataset-editor-checkbox-${entityId}`}\n        disabled={isDisabled}\n        label={`Select ${entityId}`}\n        hideLabel={true}\n        checked={isSelected}\n        onChange={value => {\n          setSelected(value)\n        }}\n      />\n    )\n  )\n}\n\nexport const EntityErrorRenderer = (props: EntityIdAndVersionRendererProps) => {\n  const { entityId, versionNumber } = props.rowData\n  const { error, isError } = useGetEntity(entityId, versionNumber)\n\n  let message = error?.reason\n\n  if (error?.status === 403) {\n    message = \"You don't have permission to view this entity.\"\n  } else if (error?.status === 404) {\n    message = 'The entity or version does not exist. It may have been deleted.'\n  }\n\n  if (!isError) {\n    return <></>\n  } else {\n    return (\n      <Tooltip\n        title={message ?? ''}\n        placement=\"right\"\n        className=\"EntityBadgeTooltip\"\n      >\n        <div className=\"EntityErrorRenderer\">\n          <IconSvg icon=\"warningOutlined\" />\n        </div>\n      </Tooltip>\n    )\n  }\n}\n","import React from 'react'\nimport { HelpPopover } from '../../../HelpPopover'\nimport { VersionSelectionType } from '../../VersionSelectionType'\n\nconst CHOOSE_REFERENCE =\n  'Choose which version of this item you would like to reference.'\nconst CHOOSE_ACTION =\n  'Choose which version of this item you would like to perform this action on.'\nconst ALWAYS_LATEST_VERSION_EXPLANATION =\n  'If you would like the selection to update as new versions are created, choose \"Always Latest Version\".'\n\nexport function VersionColumnHeader(props: {\n  versionSelection: VersionSelectionType\n}) {\n  const { versionSelection } = props\n  let helpCopy = ''\n  switch (versionSelection) {\n    case VersionSelectionType.REQUIRED:\n      helpCopy = CHOOSE_REFERENCE\n      break\n    case VersionSelectionType.TRACKED:\n      helpCopy = CHOOSE_REFERENCE + ' ' + ALWAYS_LATEST_VERSION_EXPLANATION\n      break\n    case VersionSelectionType.UNTRACKED:\n      // If the selected version isn't being tracked, then this is most likely a one-time action\n      helpCopy = CHOOSE_ACTION\n      break\n    case VersionSelectionType.DISALLOWED:\n    default:\n    // this column is not shown in these cases.\n  }\n  return (\n    <>\n      Version\n      <HelpPopover\n        className=\"SRC-margin-left-5\"\n        markdownText={helpCopy}\n        placement=\"right\"\n      />\n    </>\n  )\n}\n","import BaseTable, {\n  AutoResizer,\n  Column,\n} from '@sage-bionetworks/react-base-table'\nimport React, { useCallback, useEffect, useMemo, useState } from 'react'\nimport { useQueryClient } from 'react-query'\nimport {\n  getEntityTypeFromHeader,\n  isContainerType,\n  isVersionableEntityType,\n} from '../../../../utils/functions/EntityTypeUtils'\nimport { getEntityVersions } from '../../../../utils/SynapseClient'\nimport { useSynapseContext } from '../../../../utils/SynapseContext'\nimport {\n  Direction,\n  EntityChildrenRequest,\n  EntityHeader,\n  EntityType,\n  SortBy,\n} from '../../../../utils/synapseTypes'\nimport { BlockingLoader } from '../../../LoadingScreen'\nimport { Checkbox } from '../../../widgets/Checkbox'\nimport { NO_VERSION_NUMBER } from '../../EntityFinder'\nimport { EntityFinderHeader } from '../../EntityFinderHeader'\nimport { VersionSelectionType } from '../../VersionSelectionType'\nimport { EntityDetailsListSharedProps } from '../EntityDetailsList'\nimport {\n  BadgeIconsRenderer,\n  CreatedOnRenderer,\n  CustomSortIndicator,\n  DetailsViewCheckboxRenderer,\n  DetailsViewVersionRenderer,\n  EmptyRenderer,\n  EntityFinderTableCellRendererProps,\n  LoadingRenderer,\n  ModifiedByRenderer,\n  ModifiedOnRenderer,\n  TypeIconRenderer,\n} from './DetailsViewTableRenderers'\nimport { VersionColumnHeader } from './VersionColumnHeader'\n\nconst MIN_TABLE_WIDTH = 1200\nconst ROW_HEIGHT = 46\n\nexport type DetailsViewProps = EntityDetailsListSharedProps & {\n  entities: EntityFinderHeader[]\n  isLoading: boolean\n  hasNextPage?: boolean\n  fetchNextPage?: () => Promise<any>\n  isFetchingNextPage?: boolean\n  /** The current sort of the view. If the view cannot be sorted, set this to `undefined` */\n  sort?: { sortBy: SortBy; sortDirection: Direction }\n  /** If sortable, `setSort` will be invoked when the user tries to change the sort */\n  setSort?: (soryBy: SortBy, sortDirection: Direction) => void\n  noResultsPlaceholder?: React.ReactElement\n  /** We defer to the configuration component to determine this */\n  selectAllIsChecked?: boolean\n  /** This request object is only used to tell react-query to cancel fetching all children at once. */\n  getChildrenInfiniteRequestObject?: EntityChildrenRequest\n  /** The total number of entities that can be retrieved */\n  totalEntities?: number\n}\n\n/**\n * Describes the shape of the data passed to the BaseTable\n */\nexport type EntityFinderTableViewRowData = EntityFinderHeader & {\n  entityId: string\n  versionNumber?: number\n  entityType: EntityType\n  isSelected: boolean\n  isDisabled: boolean\n  isVersionableEntity: boolean\n  currentSelectedVersion?: number\n}\n\n/**\n * Displays a list of entities in a table.\n *\n * If the list of entities is paginated, the `hasNextPage` prop can be set to indicate that there is more data to load.\n * When the view is ready to load more data, the `fetchNextPage` callback will be invoked. The view is designed to handle\n * an \"infinite scroll\" pattern, so entities should not be removed from the list when loading the next page.\n *\n * @param param0\n */\nexport const DetailsView: React.FunctionComponent<DetailsViewProps> = ({\n  entities,\n  isLoading,\n  hasNextPage,\n  fetchNextPage,\n  isFetchingNextPage,\n  versionSelection,\n  selectColumnType,\n  selected,\n  visibleTypes,\n  selectableTypes,\n  toggleSelection,\n  sort,\n  setSort,\n  noResultsPlaceholder,\n  enableSelectAll,\n  selectAllIsChecked = false,\n  getChildrenInfiniteRequestObject,\n  totalEntities,\n  setCurrentContainer,\n}) => {\n  const queryClient = useQueryClient()\n\n  const { accessToken } = useSynapseContext()\n\n  const showSelectColumn = selectColumnType !== 'none'\n\n  const [shouldSelectAll, setShouldSelectAll] = useState(false)\n  const [showLoadingScreen, setShowLoadingScreen] = useState(false)\n\n  const cancelQuery = () => {\n    // It's likely that the user will be throttled by the Synapse backend and may be waiting a\n    // noticeable amount of time for the current request, so cancel it (in addition to cancelling future requests)\n    queryClient.cancelQueries([\n      'entitychildren',\n      getChildrenInfiniteRequestObject,\n    ])\n    setShowLoadingScreen(false)\n    setShouldSelectAll(false)\n  }\n  type DetailsViewRowAppearance = 'hidden' | 'disabled' | 'selected' | 'default'\n\n  const determineRowAppearance = (\n    entity: EntityFinderHeader,\n  ): DetailsViewRowAppearance => {\n    if (!visibleTypes.includes(getEntityTypeFromHeader(entity))) {\n      return 'hidden'\n    } else if (!selectableTypes.includes(getEntityTypeFromHeader(entity))) {\n      return 'disabled'\n    } else if (selected.has(entity.id)) {\n      return 'selected'\n    } else {\n      return 'default'\n    }\n  }\n\n  useEffect(() => {\n    async function handleSelectAll() {\n      if (shouldSelectAll) {\n        if (hasNextPage && fetchNextPage) {\n          // Show the loading screen since we must fetch data (potentially a lot) to finish the task\n          setShowLoadingScreen(true)\n          if (!isFetchingNextPage) {\n            fetchNextPage()\n          }\n        } else {\n          if (selectAllIsChecked) {\n            // All of the items are selected, so we will deselect all\n            toggleSelection(\n              entities\n                .filter(e => {\n                  // Collect just entities that are selected\n                  // An entity may be in the list and unselected because it isn't of a selectable type\n                  return selected.has(e.id)\n                })\n                .map(e => {\n                  const selectedVersion = selected.get(e.id)\n                  return {\n                    targetId: e.id,\n                    targetVersionNumber:\n                      selectedVersion === NO_VERSION_NUMBER\n                        ? undefined\n                        : selectedVersion,\n                  }\n                }),\n            )\n          } else {\n            // Not all of the items are selected, so we will select all\n            toggleSelection(\n              await Promise.all(\n                entities\n                  .filter(e => {\n                    // must filter just selectable types or else any entities of unselectable types will get selected\n                    const type = getEntityTypeFromHeader(e)\n                    // also exclude already-selected entities, since we don't want to toggle those\n                    return (\n                      !selected.has(e.id) &&\n                      selectableTypes.includes(type) &&\n                      visibleTypes.includes(type)\n                    )\n                  })\n                  .map(async e => {\n                    let latestVersion: number | undefined\n                    if (\n                      versionSelection === VersionSelectionType.REQUIRED &&\n                      isVersionableEntityType(getEntityTypeFromHeader(e))\n                    ) {\n                      // If VersionSelectionType.REQUIRED, then we need to supply a version with the entity.\n                      // We may already have the version from the header:\n                      if (\n                        Object.prototype.hasOwnProperty.call(e, 'versionNumber')\n                      ) {\n                        latestVersion = (e as EntityHeader).versionNumber\n                      }\n                      if (!latestVersion) {\n                        // Failsafe if we didn't get the version in the header. This is rare/unlikely, since the only cases we're sure we don't get versions are:\n                        //  - ProjectHeaders (which are versionless)\n                        //  - Search Results (for which we don't support Select All)\n                        // For large lists, there's a good chance for this to trigger throttling.\n\n                        // Show the loading screen since we must fetch data (potentially a lot) to finish the task\n                        setShowLoadingScreen(true)\n\n                        const versions = await queryClient.fetchQuery(\n                          ['entity', e.id, 'versions', { offset: 0, limit: 1 }],\n                          () => getEntityVersions(e.id, accessToken, 0, 1),\n                        )\n                        // we pick the first version in the list because it is the most recent\n                        latestVersion = versions.results[0]?.versionNumber\n                      }\n                    }\n                    return {\n                      targetId: e.id,\n                      targetVersionNumber: latestVersion,\n                    }\n                  }),\n              ),\n            )\n          }\n          setShouldSelectAll(false)\n          setShowLoadingScreen(false)\n        }\n      }\n    }\n    handleSelectAll()\n  }, [\n    accessToken,\n    entities,\n    fetchNextPage,\n    hasNextPage,\n    versionSelection,\n    queryClient,\n    isFetchingNextPage,\n    selectAllIsChecked,\n    selectableTypes,\n    selected,\n    shouldSelectAll,\n    toggleSelection,\n    visibleTypes,\n  ])\n\n  const tableData = entities.reduce(\n    (entities: EntityFinderTableViewRowData[], entity) => {\n      const appearance = determineRowAppearance(entity)\n      if (appearance !== 'hidden') {\n        // only include entities that should not be hidden\n        const entityType = getEntityTypeFromHeader(entity)\n\n        const currentSelectedVersion = selected.get(entity.id)\n        let versionNumber: number | undefined = undefined\n        if ('versionNumber' in entity) {\n          if (\n            currentSelectedVersion != null &&\n            currentSelectedVersion !== NO_VERSION_NUMBER\n          ) {\n            // if a version is selected, the row should show that version's data\n            versionNumber = currentSelectedVersion\n          } else if (versionSelection === VersionSelectionType.REQUIRED) {\n            // if a version is not selected, but version selection is required, the row should show the latest version's data\n            versionNumber = entity.versionNumber\n          }\n          // otherwise, show the current version's data (versionNumber is undefined)\n        }\n\n        entities.push({\n          ...entity,\n          entityId: entity.id,\n          versionNumber: versionNumber,\n          entityType: entityType,\n          isSelected: appearance === 'selected',\n          isDisabled: appearance === 'disabled',\n          isVersionableEntity: isVersionableEntityType(entityType),\n          currentSelectedVersion: currentSelectedVersion,\n        })\n      }\n      return entities\n    },\n    [],\n  )\n\n  const SelectAllCheckboxRenderer = useMemo(() => {\n    // Enabled if there's at least one visible & selectable entity, OR there's a page we haven't fetched\n    const isEnabled =\n      hasNextPage ||\n      entities.filter(\n        e =>\n          selectableTypes.includes(getEntityTypeFromHeader(e)) &&\n          visibleTypes.includes(getEntityTypeFromHeader(e)),\n      ).length > 0\n    return (\n      enableSelectAll && (\n        <div\n          data-testid=\"Select All\"\n          style={isEnabled ? { cursor: 'pointer' } : { cursor: 'not-allowed' }}\n          onClick={() => {\n            if (isEnabled) {\n              setShouldSelectAll(true)\n            }\n          }}\n        >\n          <Checkbox\n            label=\"Select All\"\n            hideLabel={true}\n            className=\"SRC-pointer-events-none\"\n            checked={selectAllIsChecked}\n            disabled={!isEnabled}\n            onChange={() => {\n              // no-op\n            }}\n          />\n        </div>\n      )\n    )\n  }, [\n    enableSelectAll,\n    entities,\n    hasNextPage,\n    selectAllIsChecked,\n    selectableTypes,\n    visibleTypes,\n  ])\n\n  const NameRenderer = useCallback(\n    (props: EntityFinderTableCellRendererProps) => {\n      if (setCurrentContainer && isContainerType(props.rowData.entityType)) {\n        return (\n          <span\n            role=\"link\"\n            className=\"EntityFinderTableCellContainerLink\"\n            onClick={e => {\n              e.stopPropagation()\n              setCurrentContainer(props.rowData.id)\n            }}\n          >\n            {props.rowData.name}\n          </span>\n        )\n      } else {\n        return props.rowData.name\n      }\n    },\n    [setCurrentContainer],\n  )\n\n  const sortState = {}\n  if (sort) {\n    sortState[sort.sortBy] = sort.sortDirection.toLowerCase()\n  }\n\n  return (\n    <div className=\"EntityFinderDetailsView bootstrap-4-backport\">\n      <BlockingLoader\n        show={showLoadingScreen}\n        currentProgress={entities.length}\n        totalProgress={totalEntities}\n        hintText={\n          totalEntities\n            ? `${entities.length.toLocaleString()} of ${totalEntities?.toLocaleString()}`\n            : `Fetching ${entities.length.toLocaleString()}`\n        }\n        headlineText={'Fetching selected items'}\n        onCancel={cancelQuery}\n      />\n      <AutoResizer className=\"DetailsViewAutosizer\">\n        {({ height, width }: { height: number; width: number }) => (\n          <BaseTable<EntityFinderTableViewRowData>\n            classPrefix=\"DetailsViewTable\"\n            data={tableData}\n            height={height}\n            width={width > MIN_TABLE_WIDTH ? width : MIN_TABLE_WIDTH}\n            rowHeight={ROW_HEIGHT}\n            overscanRowCount={5}\n            // Apply classes to the rows for styling\n            rowClassName={({ rowIndex }: { rowIndex: number }) => {\n              let className = 'EntityFinderDetailsViewRow'\n              if (rowIndex % 2 === 0) {\n                // Apply a class based on index so we can get alternating colors\n                // We don't use CSSs nth-child because the rows are virtualized, so an even child might change to odd on-the-fly\n                className += ' isEven'\n              }\n              return className\n            }}\n            // Apply aria roles to the rows for a11y/styling\n            rowProps={({ rowData }) => {\n              return {\n                'aria-selected': rowData.isSelected,\n                'aria-disabled': rowData.isDisabled,\n              }\n            }}\n            headerCellProps={{\n              role: 'columnheader',\n            }}\n            // Sorting:\n            sortState={sortState}\n            components={{ SortIndicator: CustomSortIndicator }}\n            onColumnSort={({ key, order }) => {\n              if (sort && setSort) {\n                setSort(\n                  key as SortBy,\n                  order === 'asc' ? Direction.ASC : Direction.DESC,\n                )\n              }\n            }}\n            rowEventHandlers={{\n              onClick: ({ rowData }) => {\n                const { id, isDisabled, isVersionableEntity } = rowData\n                let { currentSelectedVersion } = rowData\n                if (!isDisabled) {\n                  if (\n                    isVersionableEntity &&\n                    versionSelection === VersionSelectionType.REQUIRED &&\n                    currentSelectedVersion == null &&\n                    Object.prototype.hasOwnProperty.call(\n                      rowData,\n                      'versionNumber',\n                    )\n                  ) {\n                    currentSelectedVersion = (rowData as EntityHeader)\n                      .versionNumber\n                    // Note that here we aren't handling the case where the header doesn't have a version, e.g. a search result\n                    // That case is actually handled by the VersionRenderer, which has an effect that will toggle the selection after data is fetched.\n                  }\n\n                  toggleSelection({\n                    targetId: id,\n                    targetVersionNumber:\n                      currentSelectedVersion === NO_VERSION_NUMBER\n                        ? undefined\n                        : currentSelectedVersion,\n                  })\n                }\n              },\n            }}\n            onEndReached={() => {\n              if (hasNextPage && fetchNextPage && !isFetchingNextPage) {\n                fetchNextPage()\n              }\n            }}\n            emptyRenderer={\n              isLoading\n                ? LoadingRenderer\n                : () => (\n                    <EmptyRenderer\n                      noResultsPlaceholder={noResultsPlaceholder}\n                    />\n                  )\n            }\n          >\n            {showSelectColumn && (\n              <Column<EntityFinderTableViewRowData>\n                key=\"isSelected\"\n                title=\"\"\n                minWidth={50}\n                maxWidth={50}\n                width={50}\n                dataKey=\"isSelected\"\n                headerRenderer={SelectAllCheckboxRenderer}\n                cellRenderer={DetailsViewCheckboxRenderer}\n              />\n            )}\n            <Column<EntityFinderTableViewRowData>\n              key=\"type\"\n              title=\"\"\n              minWidth={45}\n              maxWidth={45}\n              width={45}\n              dataKey=\"entityType\"\n              align=\"center\"\n              cellRenderer={TypeIconRenderer}\n            />\n            <Column<EntityFinderTableViewRowData>\n              key={SortBy.NAME}\n              title=\"Name\"\n              width={800}\n              sortable={sort != null}\n              resizable={true}\n              cellRenderer={NameRenderer}\n            />\n            <Column<EntityFinderTableViewRowData>\n              key=\"badge\"\n              title=\"\"\n              width={75}\n              maxWidth={75}\n              minWidth={75}\n              cellRenderer={BadgeIconsRenderer}\n            />\n\n            <Column<EntityFinderTableViewRowData>\n              key=\"id\"\n              width={130}\n              dataKey=\"id\"\n              title=\"ID\"\n              minWidth={130}\n            />\n            {versionSelection !== VersionSelectionType.DISALLOWED && (\n              <Column<EntityFinderTableViewRowData>\n                key=\"version\"\n                minWidth={150}\n                width={500}\n                title=\"Version\"\n                cellRenderer={props => (\n                  <DetailsViewVersionRenderer\n                    versionSelection={versionSelection}\n                    toggleSelection={toggleSelection}\n                    {...props}\n                  />\n                )}\n                headerRenderer={\n                  <VersionColumnHeader versionSelection={versionSelection} />\n                }\n              />\n            )}\n            <Column<EntityFinderTableViewRowData>\n              key={SortBy.CREATED_ON}\n              sortable={sort != null}\n              title=\"Created On\"\n              width={220}\n              minWidth={170}\n              cellRenderer={CreatedOnRenderer}\n            />\n            <Column<EntityFinderTableViewRowData>\n              key={SortBy.MODIFIED_ON}\n              title=\"Modified On\"\n              width={220}\n              minWidth={170}\n              sortable={sort != null}\n              cellRenderer={ModifiedOnRenderer}\n            />\n            <Column<EntityFinderTableViewRowData>\n              key=\"modifiedBy\"\n              title=\"Modified By\"\n              width={500}\n              resizable\n              cellRenderer={ModifiedByRenderer}\n            />\n          </BaseTable>\n        )}\n      </AutoResizer>\n    </div>\n  )\n}\n","import React, { useState } from 'react'\nimport { useGetEntityChildrenInfinite } from '../../../../utils/hooks/SynapseAPI/entity/useGetEntityChildren'\nimport { Direction, SortBy } from '../../../../utils/synapseTypes'\nimport { EntityDetailsListSharedProps } from '../EntityDetailsList'\nimport { DetailsView } from '../view/DetailsView'\nimport useGetIsAllSelectedFromInfiniteList from '../../../../utils/hooks/useGetIsAllSelectedInfiniteList'\n\ntype EntityChildrenDetailsProps = EntityDetailsListSharedProps & {\n  parentContainerId: string\n}\n\nexport const EntityChildrenDetails: React.FunctionComponent<\n  EntityChildrenDetailsProps\n> = ({ parentContainerId, ...sharedProps }) => {\n  const [sortBy, setSortBy] = useState<SortBy>(SortBy.NAME)\n  const [sortDirection, setSortDirection] = useState<Direction>(Direction.ASC)\n\n  const getChildrenInfiniteRequestObject = {\n    parentId: parentContainerId,\n    includeTotalChildCount: true,\n    includeTypes: sharedProps.visibleTypes,\n    sortBy: sortBy,\n    sortDirection: sortDirection,\n  }\n  const { data, isLoading, isFetchingNextPage, hasNextPage, fetchNextPage } =\n    useGetEntityChildrenInfinite(getChildrenInfiniteRequestObject, {\n      useErrorBoundary: true,\n    })\n  const entities = data?.pages.flatMap(page => page.page) ?? []\n  const totalEntities = data?.pages[0].totalChildCount\n\n  const selectAllCheckboxState = useGetIsAllSelectedFromInfiniteList(\n    entities,\n    sharedProps.selected.size,\n    sharedProps.isIdSelected,\n    sharedProps.isSelectable,\n    hasNextPage,\n    fetchNextPage,\n    isFetchingNextPage,\n  )\n\n  return (\n    <DetailsView\n      entities={entities}\n      isLoading={isLoading}\n      hasNextPage={hasNextPage}\n      fetchNextPage={fetchNextPage}\n      isFetchingNextPage={isFetchingNextPage}\n      sort={{ sortBy, sortDirection }}\n      setSort={(newSortBy, newSortDirection) => {\n        setSortBy(newSortBy)\n        setSortDirection(newSortDirection)\n      }}\n      selectAllIsChecked={selectAllCheckboxState}\n      getChildrenInfiniteRequestObject={getChildrenInfiniteRequestObject}\n      totalEntities={totalEntities}\n      {...sharedProps}\n    />\n  )\n}\n","import React from 'react'\nimport { useGetFavoritesInfinite } from '../../../../utils/hooks/SynapseAPI/user/useFavorites'\nimport useGetIsAllSelectedFromInfiniteList from '../../../../utils/hooks/useGetIsAllSelectedInfiniteList'\nimport { EntityDetailsListSharedProps } from '../EntityDetailsList'\nimport { DetailsView } from '../view/DetailsView'\n\ntype FavoritesDetailsProps = EntityDetailsListSharedProps\n\nexport const FavoritesDetails: React.FunctionComponent<\n  FavoritesDetailsProps\n> = ({ ...sharedProps }) => {\n  const { data, isLoading, hasNextPage, fetchNextPage, isFetchingNextPage } =\n    useGetFavoritesInfinite('NAME', 'ASC', { useErrorBoundary: true })\n\n  const entities = data?.pages.flatMap(page => page.results) ?? []\n\n  const selectAllCheckboxState = useGetIsAllSelectedFromInfiniteList(\n    entities,\n    sharedProps.selected.size,\n    sharedProps.isIdSelected,\n    sharedProps.isSelectable,\n    hasNextPage,\n    fetchNextPage,\n    isFetchingNextPage,\n  )\n\n  return (\n    <DetailsView\n      entities={entities}\n      isLoading={isLoading}\n      hasNextPage={hasNextPage}\n      fetchNextPage={fetchNextPage}\n      isFetchingNextPage={isFetchingNextPage}\n      selectAllIsChecked={selectAllCheckboxState}\n      {...sharedProps}\n    />\n  )\n}\n","import React from 'react'\nimport { useGetProjectsInfinite } from '../../../../utils/hooks/SynapseAPI/user/useProjects'\nimport useGetIsAllSelectedFromInfiniteList from '../../../../utils/hooks/useGetIsAllSelectedInfiniteList'\nimport { ProjectHeader } from '../../../../utils/synapseTypes'\nimport { GetProjectsParameters } from '../../../../utils/synapseTypes/GetProjectsParams'\nimport { EntityHeaderFromProjectHeader } from '../../EntityFinderHeader'\nimport { EntityDetailsListSharedProps } from '../EntityDetailsList'\nimport { DetailsView } from '../view/DetailsView'\n\ntype ProjectListDetailsProps = EntityDetailsListSharedProps & {\n  projectsParams: GetProjectsParameters\n}\n\nexport function toEntityHeader(\n  projectHeader: ProjectHeader,\n): EntityHeaderFromProjectHeader {\n  return {\n    ...projectHeader,\n    type: 'org.sagebionetworks.repo.model.Project',\n  }\n}\n\nexport const ProjectListDetails: React.FunctionComponent<\n  ProjectListDetailsProps\n> = ({ projectsParams, ...sharedProps }) => {\n  const { data, isLoading, isFetchingNextPage, hasNextPage, fetchNextPage } =\n    useGetProjectsInfinite(projectsParams, { useErrorBoundary: true })\n\n  const projects =\n    data?.pages.flatMap(page => page.results).map(toEntityHeader) ?? []\n\n  const selectAllCheckboxState = useGetIsAllSelectedFromInfiniteList(\n    projects,\n    sharedProps.selected.size,\n    sharedProps.isIdSelected,\n    sharedProps.isSelectable,\n    hasNextPage,\n    fetchNextPage,\n    isFetchingNextPage,\n  )\n\n  return (\n    <DetailsView\n      entities={projects}\n      isLoading={isLoading}\n      hasNextPage={hasNextPage}\n      fetchNextPage={fetchNextPage}\n      isFetchingNextPage={isFetchingNextPage}\n      selectAllIsChecked={selectAllCheckboxState}\n      {...sharedProps}\n    />\n  )\n}\n","import React from 'react'\nimport { convertToConcreteEntityType } from '../../../../utils/functions/EntityTypeUtils'\nimport { useSearchInfinite } from '../../../../utils/hooks/SynapseAPI/search/useSearch'\nimport { Hit, SearchQuery } from '../../../../utils/synapseTypes/Search'\nimport { EntityHeaderFromHit } from '../../EntityFinderHeader'\nimport { EntityDetailsListSharedProps } from '../EntityDetailsList'\nimport { DetailsView } from '../view/DetailsView'\n\ntype SearchDetailsProps = EntityDetailsListSharedProps & {\n  searchQuery: SearchQuery\n}\n\nfunction toEntityHeader(hit: Hit): EntityHeaderFromHit {\n  return {\n    name: hit.name,\n    id: hit.id,\n    type: convertToConcreteEntityType(hit.node_type),\n    createdOn: hit.created_on.toString(),\n    modifiedOn: hit.modified_on.toString(),\n    createdBy: hit.created_by,\n    modifiedBy: hit.modified_by,\n  }\n}\n\nexport const SearchDetails: React.FunctionComponent<SearchDetailsProps> = ({\n  searchQuery,\n  ...sharedProps\n}) => {\n  const { data, isLoading, hasNextPage, fetchNextPage, isFetchingNextPage } =\n    useSearchInfinite(searchQuery, {\n      enabled: !!searchQuery.queryTerm,\n      useErrorBoundary: true,\n    })\n\n  if (searchQuery.queryTerm) {\n    return (\n      <DetailsView\n        entities={\n          data?.pages.flatMap(page => page.hits).map(toEntityHeader) ?? []\n        }\n        isLoading={isLoading}\n        hasNextPage={hasNextPage}\n        fetchNextPage={fetchNextPage}\n        isFetchingNextPage={isFetchingNextPage}\n        noResultsPlaceholder={\n          <>\n            <img\n              className=\"SearchPlaceholderImage\"\n              alt=\"No results found\"\n              src=\"https://s3.amazonaws.com/static.synapse.org/images/search-sad.svg\"\n            />\n            <p>\n              No results for &ldquo;{searchQuery.queryTerm.join(' ')}&rdquo;\n            </p>\n          </>\n        }\n        {...sharedProps}\n        enableSelectAll={false} // Disable select all for search\n      />\n    )\n  } else {\n    return (\n      <DetailsView\n        entities={[]}\n        isLoading={false}\n        hasNextPage={false}\n        noResultsPlaceholder={\n          <>\n            <img\n              className=\"SearchPlaceholderImage\"\n              alt=\"Begin searching\"\n              src=\"https://s3.amazonaws.com/static.synapse.org/images/search-happy.svg\"\n            />\n            <p>Enter a term or Synapse ID to start searching</p>\n          </>\n        }\n        {...sharedProps}\n        enableSelectAll={false} // Disable select all for search\n      />\n    )\n  }\n}\n","import { Map } from 'immutable'\nimport React, { Dispatch, SetStateAction, useState } from 'react'\nimport useDeepCompareEffect from 'use-deep-compare-effect'\nimport { getIsAllSelectedFromInfiniteList } from '../../../utils/hooks/useGetIsAllSelectedInfiniteList'\nimport { EntityType, Reference } from '../../../utils/synapseTypes'\nimport { GetProjectsParameters } from '../../../utils/synapseTypes/GetProjectsParams'\nimport { SearchQuery } from '../../../utils/synapseTypes/Search'\nimport { SynapseErrorBoundary } from '../../error/ErrorBanner'\nimport { EntityFinderHeader } from '../EntityFinderHeader'\nimport { EntityTreeContainer } from '../tree/EntityTree'\nimport { VersionSelectionType } from '../VersionSelectionType'\nimport { EntityChildrenDetails } from './configurations/EntityChildrenDetails'\nimport { FavoritesDetails } from './configurations/FavoritesDetails'\nimport { ProjectListDetails } from './configurations/ProjectListDetails'\nimport { SearchDetails } from './configurations/SearchDetails'\nimport { DetailsView } from './view/DetailsView'\n\nexport enum EntityDetailsListDataConfigurationType {\n  HEADER_LIST, // simply displays one or more entity headers. incompatible with pagination\n  PARENT_CONTAINER, // retrieve the children for a given entity ID\n  USER_PROJECTS, // retrieve the user's projects (using the parameters)\n  USER_FAVORITES, // retrieve the user's favorites (using the parameters)\n  ENTITY_SEARCH, // Search for an entity\n  PROMPT, // Show no entities and instruct the user to make a selection\n}\n\nexport type EntityDetailsListDataConfiguration = {\n  type: EntityDetailsListDataConfigurationType\n  /** Defined if type is HEADER_LIST */\n  headerList?: Pick<EntityFinderHeader, 'id' | 'name' | 'type'>[]\n  /** Defined if type is PARENT_CONTAINER */\n  parentContainerId?: string\n  /** Defined if type is USER_PROJECTS */\n  getProjectParams?: GetProjectsParameters\n  /** Defined if type is ENTITY_SEARCH */\n  query?: SearchQuery\n}\n\n/**\n * These props are set by a parent to this component, but they are not affected by the configuration.\n * We collect them into this type to simplify passing them through to the view.\n */\nexport type EntityDetailsListSharedProps = {\n  versionSelection: VersionSelectionType\n  selectColumnType: 'checkbox' | 'none'\n  enableSelectAll: boolean\n  visibleTypes: EntityType[]\n  selected: Map<string, number>\n  selectableTypes: EntityType[]\n  isIdSelected: (header: EntityFinderHeader) => boolean\n  isSelectable: (header: EntityFinderHeader) => boolean\n  toggleSelection: (entity: Reference | Reference[]) => void\n  setCurrentContainer?: Dispatch<SetStateAction<EntityTreeContainer>>\n}\n\nexport type EntityDetailsListProps = EntityDetailsListSharedProps & {\n  configuration: EntityDetailsListDataConfiguration\n}\n\nexport const EntityDetailsList: React.FunctionComponent<\n  EntityDetailsListProps\n> = ({ configuration, ...sharedProps }) => {\n  /**\n   * This component simply uses the data configuration prop to determine which configuration component\n   * to use. Each configuration component has its own logic to utilize different Synapse APIs.\n   * The configuration components also manage view props that are more tightly-coupled with data,\n   * such as pagination and sorting.\n   *\n   * In the future, if we wanted to reuse this in other contexts (e.g. not selecting entities), we should consider refactoring\n   * to support different 'Row' components, determining the correct one determined at this level.\n   */\n\n  const [component, setComponent] = useState(<></>)\n\n  useDeepCompareEffect(() => {\n    const getComponentFromConfiguration = (\n      config: EntityDetailsListDataConfiguration,\n    ) => {\n      switch (config.type) {\n        case EntityDetailsListDataConfigurationType.PARENT_CONTAINER:\n          return (\n            <EntityChildrenDetails\n              parentContainerId={config.parentContainerId!}\n              {...sharedProps}\n            />\n          )\n\n        case EntityDetailsListDataConfigurationType.HEADER_LIST:\n          return (\n            <DetailsView\n              entities={config.headerList as EntityFinderHeader[]}\n              isLoading={false}\n              hasNextPage={false}\n              {...sharedProps}\n              enableSelectAll={sharedProps.enableSelectAll}\n              selectAllIsChecked={getIsAllSelectedFromInfiniteList(\n                (config.headerList as EntityFinderHeader[]) ?? [],\n                sharedProps.selected.size,\n                sharedProps.isIdSelected,\n                sharedProps.isSelectable,\n              )}\n            />\n          )\n        case EntityDetailsListDataConfigurationType.USER_FAVORITES:\n          return <FavoritesDetails {...sharedProps} />\n        case EntityDetailsListDataConfigurationType.ENTITY_SEARCH:\n          return <SearchDetails searchQuery={config.query!} {...sharedProps} />\n\n        case EntityDetailsListDataConfigurationType.USER_PROJECTS:\n          return (\n            <ProjectListDetails\n              projectsParams={config.getProjectParams!}\n              {...sharedProps}\n            />\n          )\n        case EntityDetailsListDataConfigurationType.PROMPT:\n          return (\n            <DetailsView\n              entities={[]}\n              isLoading={false}\n              noResultsPlaceholder={\n                <div>\n                  Use the left panel to browse Synapse, then make a selection in\n                  this panel\n                </div>\n              }\n              {...sharedProps}\n              enableSelectAll={false}\n            />\n          )\n\n        default:\n          console.warn(\n            'The configuration type does not map to a known view type. No Details view will be rendered. Invalid configuration: ',\n            config,\n          )\n          return <></>\n      }\n    }\n    setComponent(getComponentFromConfiguration(configuration))\n  }, [configuration, sharedProps])\n\n  return <SynapseErrorBoundary>{component}</SynapseErrorBoundary>\n}\n","import { Clear } from '@mui/icons-material'\nimport React, { useEffect, useState } from 'react'\nimport useGetEntityBundle from '../../utils/hooks/SynapseAPI/entity/useEntityBundle'\nimport { Reference } from '../../utils/synapseTypes'\nimport { Typography } from '@mui/material'\nimport { EntityTypeIcon } from '../EntityIcon'\nimport { NO_VERSION_NUMBER } from './EntityFinder'\nimport { Map } from 'immutable'\nimport { Skeleton } from '@mui/material'\nimport { Tooltip } from '@mui/material'\nimport { TOOLTIP_DELAY_SHOW } from '../table/SynapseTableConstants'\n\nexport type SelectionPaneProps = {\n  title: string | ((count: number) => string)\n  selectedEntities: Map<string, number>\n  toggleSelection: (entity: Reference) => void\n}\n\nexport const SelectionPane: React.FC<SelectionPaneProps> = ({\n  title,\n  selectedEntities,\n  toggleSelection,\n}: SelectionPaneProps) => {\n  if (typeof title === 'function') {\n    title = title(selectedEntities.size)\n  }\n  return (\n    <div className=\"EntityFinderSelectionPane alert alert-warning\">\n      <Typography variant={'headline3'} display={'inline'}>\n        {title}\n      </Typography>\n      {selectedEntities.size <= 200 ? (\n        <div className={'EntityFinderSelectionPane__Items'}>\n          {Array.from(selectedEntities.keys()).map(id => {\n            const version = selectedEntities.get(id)\n            return (\n              <div\n                key={`${id}${\n                  version !== NO_VERSION_NUMBER ? `.${version}` : ''\n                }`}\n              >\n                <EntityPathDisplay\n                  entity={{\n                    targetId: id,\n                    targetVersionNumber:\n                      version !== NO_VERSION_NUMBER ? version : undefined,\n                  }}\n                  toggleSelection={toggleSelection}\n                ></EntityPathDisplay>\n              </div>\n            )\n          })}\n        </div>\n      ) : (\n        <Typography variant=\"smallText1\">\n          Too many items to show here\n        </Typography>\n      )}\n    </div>\n  )\n}\n\nconst EntityPathDisplay: React.FunctionComponent<{\n  entity: Reference\n  toggleSelection: (entity: Reference) => void\n}> = ({ entity, toggleSelection }) => {\n  const { data: bundle } = useGetEntityBundle(\n    entity.targetId,\n    entity.targetVersionNumber,\n  )\n\n  const [entityName, setEntityName] = useState('')\n  const [fullPath, setFullPath] = useState('')\n  const [displayedPath, setDisplayedPath] = useState('')\n\n  useEffect(() => {\n    if (bundle?.path?.path) {\n      const header = bundle.path.path[bundle.path.path.length - 1]\n      setEntityName(header.name ?? header.id)\n      const path = bundle.path.path.slice(1, bundle.path.path.length - 1) // drop the first element, which is always syn4489 \"root\"\n      setFullPath(path.map(header => header.name).join('/'))\n      if (path.length < 4) {\n        // Show the full path from project to entity\n        setDisplayedPath(fullPath)\n      } else {\n        // Truncate the path, showing only project, parent, and self\n        setDisplayedPath(\n          path[0].name + // Project\n            '/…/' +\n            path\n              .slice(path.length - 1) // drop everything except parent and self\n              .map(header => header.name)\n              .join('/'),\n        )\n      }\n    }\n  }, [bundle, fullPath])\n\n  return (\n    <div className=\"EntityFinderSelectionPane__Row\">\n      {bundle && (\n        <EntityTypeIcon className=\"EntityIcon\" type={bundle.entityType} />\n      )}\n      <Tooltip\n        title={`${fullPath}/${entityName}`}\n        enterNextDelay={TOOLTIP_DELAY_SHOW}\n        placement=\"top\"\n      >\n        <span>{displayedPath ? displayedPath + '/' : ''}</span>\n      </Tooltip>\n      {entityName ? (\n        <span className=\"EntityFinderSelectionPane__Row__EntityName\">\n          {entityName}\n        </span>\n      ) : (\n        <Skeleton width={500} />\n      )}\n      {entity.targetVersionNumber && (\n        <span> (Version {entity.targetVersionNumber})</span>\n      )}\n      <Clear\n        className=\"EntityFinderSelectionPane__Row__DeselectButton\"\n        onClick={() => {\n          toggleSelection(entity)\n        }}\n      />\n    </div>\n  )\n}\n","function mergeRefs(refs) {\n  return function (value) {\n    refs.forEach(function (ref) {\n      if (typeof ref === \"function\") {\n        ref(value);\n      } else if (ref != null) {\n        ref.current = value;\n      }\n    });\n  };\n}\n\nexport default mergeRefs;\n//# sourceMappingURL=react-merge-refs.esm.js.map\n","// eslint-disable-next-line @typescript-eslint/no-empty-function\nexport var noop = function noop() {};\nexport var identity = function identity(value) {\n  return value;\n};\nexport var createBasicRecord = function createBasicRecord(pub, parent) {\n  if (parent === void 0) {\n    parent = null;\n  }\n\n  return {\n    child: null,\n    isShown: parent ? parent.public.isOpen && parent.isShown : true,\n    parent: parent,\n    public: pub,\n    sibling: null,\n    visited: false\n  };\n};\nexport var getIdByIndex = function getIdByIndex(index, _ref) {\n  var getRecordData = _ref.getRecordData;\n\n  var _getRecordData = getRecordData(index),\n      id = _getRecordData.data.id;\n\n  return id;\n};","import _extends from \"@babel/runtime/helpers/extends\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\n\n/* eslint-disable no-labels,max-depth,complexity */\nimport React, { createRef, PureComponent } from 'react';\nimport mergeRefs from 'react-merge-refs';\nimport { noop } from './utils';\n// eslint-disable-next-line @typescript-eslint/naming-convention,@typescript-eslint/prefer-readonly-parameter-types\nexport var Row = function Row(_ref) {\n  var index = _ref.index,\n      _ref$data = _ref.data,\n      Node = _ref$data.component,\n      getRecordData = _ref$data.getRecordData,\n      treeData = _ref$data.treeData,\n      style = _ref.style,\n      isScrolling = _ref.isScrolling;\n  var data = getRecordData(index);\n  return /*#__PURE__*/React.createElement(Node, Object.assign({\n    isScrolling: isScrolling,\n    style: style,\n    treeData: treeData\n  }, data));\n};\n\n// If refresh is required, we will run the TreeWalker. It will completely\n// update all requests and reset every state to default.\nvar generateNewTree = function generateNewTree(_ref2, _ref3, state) {\n  var createRecord = _ref2.createRecord;\n  var buildingTaskTimeout = _ref3.buildingTaskTimeout,\n      placeholder = _ref3.placeholder,\n      _ref3$async = _ref3.async,\n      async = _ref3$async === void 0 ? false : _ref3$async,\n      treeWalker = _ref3.treeWalker;\n  var shouldPreservePreviousState = // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n  async && state.records !== undefined;\n  var previousRecords = state.records;\n  var order = [];\n  var records = new Map();\n  var requestIdleCallbackOptions = buildingTaskTimeout ? {\n    timeout: buildingTaskTimeout\n  } : undefined;\n  var meta = new WeakMap();\n  var iter = treeWalker();\n\n  var _iter$next = iter.next(),\n      root = _iter$next.value; // Each record has a link to a parent, the next sibling and the next child.\n  // Having this info, we can perform a depth-first traverse.\n\n\n  var rootRecord = createRecord(root.data, state, undefined, shouldPreservePreviousState ? previousRecords.get(root.data.id) : undefined);\n  records.set(rootRecord.public.data.id, rootRecord);\n  meta.set(rootRecord, root);\n  var currentRecord = rootRecord;\n  var isTraversingRoot = true;\n  var tempRecord = rootRecord;\n  var useIdleCallback = typeof 'requestIdleCallback' !== 'undefined' && placeholder !== undefined && // If placeholder is set to null and this is the first build, idle callback\n  // won't be used. It is necessary for trees with async data which can be\n  // extremely complex but the first build is quite easy. During the following\n  // idle callbacks the old tree will be shown.\n  !(placeholder === null && !state.order);\n  var hasTime = useIdleCallback ? function (deadline) {\n    return deadline.timeRemaining() > 0;\n  } : function () {\n    return true;\n  };\n\n  var task = function task(deadline) {\n    while (currentRecord !== null) {\n      if (!hasTime(deadline)) {\n        requestIdleCallback(task, requestIdleCallbackOptions);\n        return;\n      }\n\n      if (!currentRecord.visited) {\n        // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion\n        var _iter$next2 = iter.next(meta.get(currentRecord)),\n            child = _iter$next2.value; // When the generator returns the undefined value we consider that all\n        // children are already sent and we need to select the new parent\n        // element to get its children.\n\n\n        if (child === undefined) {\n          if (isTraversingRoot) {\n            isTraversingRoot = false;\n          } else {\n            if (currentRecord.isShown) {\n              order.push(currentRecord.public.data.id);\n            }\n\n            currentRecord.visited = currentRecord.child !== null;\n            currentRecord = currentRecord.child !== null ? currentRecord.child : currentRecord.sibling !== null ? currentRecord.sibling : currentRecord.parent;\n          }\n\n          tempRecord = currentRecord;\n          continue;\n        }\n\n        var childRecord = createRecord(child.data, state, isTraversingRoot ? undefined : currentRecord, shouldPreservePreviousState ? previousRecords.get(child.data.id) : undefined);\n        records.set(childRecord.public.data.id, childRecord);\n        meta.set(childRecord, child);\n\n        if (!isTraversingRoot && tempRecord === currentRecord) {\n          tempRecord.child = childRecord;\n        } else {\n          tempRecord.sibling = childRecord;\n        }\n\n        tempRecord = childRecord;\n      } else {\n        currentRecord.visited = false;\n        currentRecord = currentRecord.sibling !== null ? currentRecord.sibling : currentRecord.parent;\n        tempRecord = currentRecord;\n      }\n    }\n\n    if (useIdleCallback) {\n      state.setState({\n        order: order,\n        records: records,\n        updateRequest: {}\n      });\n    }\n  };\n\n  if (useIdleCallback) {\n    requestIdleCallback(task, requestIdleCallbackOptions);\n  } else {\n    task();\n  } // If we want to preserve the previous state and use the requestIdleCallback,\n  // we need to return the old state.\n\n\n  return placeholder !== undefined && async && state.order ? state : {\n    order: order,\n    records: records\n  };\n};\n\nvar MAX_FUNCTION_ARGUMENTS = 32768;\nvar SPLICE_DEFAULT_ARGUMENTS_NUMBER = 2; // If we need to perform only the update, treeWalker won't be used. Update will\n// work internally, traversing only the subtree of elements that require\n// update through the opennessState option.\n\nvar updateExistingTree = function updateExistingTree(_ref4, _ref5) {\n  var order = _ref4.order,\n      records = _ref4.records;\n  var opennessState = _ref5.opennessState;\n\n  if (typeof opennessState !== 'object') {\n    return null;\n  }\n\n  for (var id in opennessState) {\n    if (!records.has(id)) {\n      continue;\n    }\n\n    var opts = opennessState[id];\n    var ownerRecord = records.get(id); // Here we unify the shape of openness state options\n\n    var _ref6 = typeof opts === 'boolean' ? {\n      open: opts\n    } : opts,\n        open = _ref6.open,\n        _ref6$subtreeCallback = _ref6.subtreeCallback,\n        subtreeCallback = _ref6$subtreeCallback === void 0 ? noop : _ref6$subtreeCallback;\n\n    var update = noop;\n    var apply = noop;\n\n    if (ownerRecord.isShown) {\n      if (open) {\n        (function () {\n          // If received rules require us to open the subtree, we have 2 cases:\n          // 1. The node is not opened yet. In this case we simply have to\n          // calculate and add new ids.\n          // 2. The node is opened already. In this case we have to remove all\n          // existing ids and replace them with new ids.\n          var index = order.indexOf(id); // Here we calculate a count of visible subtree nodes to remove from\n          // `order`. Then we will replace the gap with the updated list of\n          // subtree nodes.\n\n          var recordNextToSubtree = ownerRecord;\n\n          while (recordNextToSubtree !== null) {\n            if (recordNextToSubtree.sibling !== null) {\n              recordNextToSubtree = recordNextToSubtree.sibling;\n              break;\n            }\n\n            recordNextToSubtree = recordNextToSubtree.parent;\n          }\n\n          var countToRemove = recordNextToSubtree === null ? order.length - 1 - index : order.indexOf(recordNextToSubtree.public.data.id) - 1 - index;\n          var orderParts = [[index + 1, countToRemove]]; // Unfortunately, splice cannot work with big arrays. If array exceeds\n          // some length it may fire an exception. The length is specific for\n          // each engine; e.g., MDN says about 65536 for Webkit. So, to avoid this\n          // overflow, I split `order` parts to chunks by 32768 elements in each\n          // one. These chunks will be sent as arguments to the `splice` method.\n          //\n          // To avoid array concatenations which may cause Major GC, I set two\n          // first arguments as `splice`'s `start` and `deleteCount` arguments.\n\n          update = function update(record) {\n            // We have to consider only the newly shown elements that are not in\n            // the order list yet. We should do it AFTER the visibility update\n            // happens because otherwise we won't be able to distinguish if the\n            // element should be included in the order list.\n            // Update record visibility\n            record.isShown = record.parent ? record.parent.public.isOpen && record.parent.isShown : true;\n\n            if (record.isShown) {\n              var currentOrderPart = orderParts[orderParts.length - 1];\n              currentOrderPart.push(record.public.data.id);\n\n              if (currentOrderPart.length === MAX_FUNCTION_ARGUMENTS + SPLICE_DEFAULT_ARGUMENTS_NUMBER) {\n                orderParts.push([index + 1 + MAX_FUNCTION_ARGUMENTS * orderParts.length, 0]);\n              }\n            }\n          };\n\n          apply = function apply() {\n            for (var i = 0; i < orderParts.length; i++) {\n              var _ref7;\n\n              // @ts-expect-error: too generic for TS\n              (_ref7 = order).splice.apply(_ref7, orderParts[i]);\n            }\n          };\n        })();\n      } else if (ownerRecord.public.isOpen) {\n        (function () {\n          // If received rules require us to close the subtree, we have to remove\n          // all subtree ids from the order list.\n          var index = order.indexOf(id);\n          var count = 0;\n\n          update = function update(record) {\n            // We have to consider only currently visible subtree nodes BEFORE\n            // their visibility is updated. Otherwise we will have incorrect\n            // number of items to remove: we cannot remove elements that are not\n            // in the order list.\n            //\n            // If we do it after the visibility update, we will be unable to\n            // understand if the element is still in the order list.\n            if (record.isShown) {\n              count += 1;\n            } // Update record visibility\n\n\n            record.isShown = record.parent ? record.parent.public.isOpen && record.parent.isShown : true;\n          };\n\n          apply = function apply() {\n            // Remove data after element with index\n            order.splice(index + 1, count);\n          };\n        })();\n      }\n    }\n\n    var currentRecord = ownerRecord;\n\n    while (currentRecord !== null) {\n      if (!currentRecord.visited) {\n        currentRecord.public.isOpen = currentRecord === ownerRecord ? open : currentRecord.public.isOpen;\n        subtreeCallback(currentRecord.public, ownerRecord.public);\n\n        if (currentRecord !== ownerRecord) {\n          update(currentRecord);\n        }\n\n        currentRecord.visited = currentRecord.child !== null; // This algorithm is a bit different from the visit algorithm in the\n        // tree generator. We are restricted with the bounds of a subtree and\n        // shouldn't go over it. So we cannot search for the ownerRecord's\n        // parent or sibling because it will lead us out of the subtree.\n\n        currentRecord = // Look for child in any case\n        currentRecord.child !== null ? currentRecord.child : // Stop looking for next element if currentRecord is root.\n        currentRecord === ownerRecord ? null : // Otherwise, look for sibling or parent\n        currentRecord.sibling !== null ? currentRecord.sibling : currentRecord.parent;\n      } else {\n        currentRecord.visited = false;\n        currentRecord = currentRecord === ownerRecord ? null : currentRecord.sibling !== null ? currentRecord.sibling : currentRecord.parent;\n      }\n    }\n\n    apply();\n  }\n\n  return {\n    order: order,\n    records: records,\n    updateRequest: {}\n  };\n};\n\nexport var createTreeComputer = function createTreeComputer(creatorOptions) {\n  return function (props, state, options) {\n    return options.refresh ? generateNewTree(creatorOptions, props, state) : updateExistingTree(state, options);\n  };\n};\n\nvar Tree = /*#__PURE__*/function (_PureComponent) {\n  _inheritsLoose(Tree, _PureComponent);\n\n  Tree.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {\n    var _props$listRef = props.listRef,\n        listRef = _props$listRef === void 0 ? null : _props$listRef,\n        treeWalker = props.treeWalker;\n    var computeTree = state.computeTree,\n        list = state.list,\n        order = state.order,\n        oldTreeWalker = state.treeWalker;\n    return _extends({\n      attachRefs: mergeRefs([list, listRef])\n    }, treeWalker !== oldTreeWalker || !order ? computeTree(props, state, {\n      refresh: true\n    }) : null, {\n      treeWalker: treeWalker\n    });\n  };\n\n  function Tree(props, context) {\n    var _this;\n\n    _this = _PureComponent.call(this, props, context) || this;\n    _this.getRecordData = _this.getRecordData.bind(_assertThisInitialized(_this));\n    /* eslint-disable react/no-unused-state,@typescript-eslint/consistent-type-assertions */\n\n    _this.state = {\n      list: /*#__PURE__*/createRef(),\n      recomputeTree: _this.recomputeTree.bind(_assertThisInitialized(_this)),\n      setState: _this.setState.bind(_assertThisInitialized(_this))\n    };\n    /* eslint-enable react/no-unused-state,@typescript-eslint/consistent-type-assertions */\n\n    return _this;\n  }\n\n  var _proto = Tree.prototype;\n\n  _proto.getItemData = function getItemData() {\n    var _this$props = this.props,\n        component = _this$props.children,\n        treeData = _this$props.itemData;\n    return {\n      component: component,\n      // eslint-disable-next-line @typescript-eslint/unbound-method\n      getRecordData: this.getRecordData,\n      treeData: treeData\n    };\n  };\n\n  _proto.getRecordData = function getRecordData(index) {\n    var _this$state = this.state,\n        order = _this$state.order,\n        records = _this$state.records;\n    return records.get(order[index]).public;\n  };\n\n  _proto.recomputeTree = function recomputeTree(state) {\n    var _this2 = this;\n\n    return new Promise(function (resolve) {\n      _this2.setState(function (prevState) {\n        return prevState.computeTree(_this2.props, prevState, {\n          opennessState: state\n        });\n      }, resolve);\n    });\n  };\n\n  _proto.scrollTo = function scrollTo(scrollOffset) {\n    var _this$state$list$curr;\n\n    // eslint-disable-next-line react/destructuring-assignment\n    (_this$state$list$curr = this.state.list.current) == null ? void 0 : _this$state$list$curr.scrollTo(scrollOffset);\n  };\n\n  _proto.scrollToItem = function scrollToItem(id, align) {\n    var _this$state$list$curr2;\n\n    // eslint-disable-next-line react/destructuring-assignment\n    (_this$state$list$curr2 = this.state.list.current) == null ? void 0 : _this$state$list$curr2.scrollToItem(this.state.order.indexOf(id), align);\n  };\n\n  return Tree;\n}(PureComponent);\n\nTree.defaultProps = {\n  rowComponent: Row\n};\nexport default Tree;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport React from 'react';\nimport { VariableSizeList } from 'react-window';\nimport Tree, { createTreeComputer } from './Tree';\nimport { createBasicRecord, getIdByIndex } from './utils';\nvar computeTree = createTreeComputer({\n  createRecord: function createRecord(data, _ref, parent, previousRecord) {\n    var recomputeTree = _ref.recomputeTree,\n        resetAfterId = _ref.resetAfterId;\n    var record = createBasicRecord({\n      data: data,\n      height: previousRecord ? previousRecord.public.height : data.defaultHeight,\n      isOpen: previousRecord ? previousRecord.public.isOpen : data.isOpenByDefault,\n      resize: function resize(height, shouldForceUpdate) {\n        record.public.height = height;\n        resetAfterId(record.public.data.id, shouldForceUpdate);\n      },\n      setOpen: function setOpen(state) {\n        var _recomputeTree;\n\n        return recomputeTree((_recomputeTree = {}, _recomputeTree[data.id] = state, _recomputeTree));\n      }\n    }, parent);\n    return record;\n  }\n});\nexport var VariableSizeTree = /*#__PURE__*/function (_Tree) {\n  _inheritsLoose(VariableSizeTree, _Tree);\n\n  function VariableSizeTree(props, context) {\n    var _this;\n\n    _this = _Tree.call(this, props, context) || this;\n    _this.getItemSize = _this.getItemSize.bind(_assertThisInitialized(_this));\n    _this.state = _extends({}, _this.state, {\n      computeTree: computeTree,\n      resetAfterId: _this.resetAfterId.bind(_assertThisInitialized(_this))\n    });\n    return _this;\n  }\n\n  var _proto = VariableSizeTree.prototype;\n\n  _proto.resetAfterId = function resetAfterId(id, shouldForceUpdate) {\n    var _list$current;\n\n    if (shouldForceUpdate === void 0) {\n      shouldForceUpdate = false;\n    }\n\n    var _this$state = this.state,\n        list = _this$state.list,\n        order = _this$state.order;\n    (_list$current = list.current) == null ? void 0 : _list$current.resetAfterIndex(order.indexOf(id), shouldForceUpdate);\n  };\n\n  _proto.recomputeTree = function recomputeTree(state) {\n    var _this2 = this;\n\n    return _Tree.prototype.recomputeTree.call(this, state).then(function () {\n      var _this2$state$list$cur;\n\n      (_this2$state$list$cur = _this2.state.list.current) == null ? void 0 : _this2$state$list$cur.resetAfterIndex(0, true);\n    });\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        children = _this$props.children,\n        placeholder = _this$props.placeholder,\n        itemSize = _this$props.itemSize,\n        rowComponent = _this$props.rowComponent,\n        treeWalker = _this$props.treeWalker,\n        rest = _objectWithoutPropertiesLoose(_this$props, [\"children\", \"placeholder\", \"itemSize\", \"rowComponent\", \"treeWalker\"]);\n\n    var _this$state2 = this.state,\n        attachRefs = _this$state2.attachRefs,\n        order = _this$state2.order;\n    return placeholder && order.length === 0 ? placeholder : /*#__PURE__*/React.createElement(VariableSizeList, Object.assign({}, rest, {\n      itemCount: order.length,\n      itemData: this.getItemData() // eslint-disable-next-line @typescript-eslint/unbound-method\n      ,\n      itemKey: getIdByIndex // eslint-disable-next-line @typescript-eslint/unbound-method\n      ,\n      itemSize: itemSize != null ? itemSize : this.getItemSize // eslint-disable-next-line @typescript-eslint/unbound-method\n      ,\n      ref: attachRefs\n    }), rowComponent);\n  };\n\n  _proto.getItemSize = function getItemSize(index) {\n    return this.getRecordData(index).height;\n  };\n\n  return VariableSizeTree;\n}(Tree);","import { Skeleton } from '@mui/material'\nimport { Map } from 'immutable'\nimport { cloneDeep } from 'lodash-es'\nimport dayjs from 'dayjs'\nimport React, { useCallback, useEffect, useState } from 'react'\nimport { useInView } from 'react-intersection-observer'\nimport AutoSizer from 'react-virtualized-auto-sizer'\nimport {\n  TreeWalker,\n  TreeWalkerValue,\n  VariableSizeNodeData,\n  VariableSizeNodePublicState,\n  VariableSizeTree,\n} from 'react-vtree'\nimport { NodeComponentProps } from 'react-vtree/dist/es/Tree'\nimport { SynapseClient } from '../../../utils'\nimport { formatDate } from '../../../utils/functions/DateFormatter'\nimport {\n  getEntityTypeFromHeader,\n  isContainerType,\n} from '../../../utils/functions/EntityTypeUtils'\nimport { useSynapseContext } from '../../../utils/SynapseContext'\nimport { EntityType } from '../../../utils/synapseTypes'\nimport { Tooltip } from '@mui/material'\nimport { Writable } from '../../../utils/types/Writable'\nimport { Typography } from '@mui/material'\nimport { EntityBadgeIcons } from '../../EntityBadgeIcons'\nimport { EntityTypeIcon } from '../../EntityIcon'\nimport { SynapseSpinner } from '../../LoadingScreen'\nimport { UserCard } from '../../UserCard'\nimport { EntityFinderHeader } from '../EntityFinderHeader'\n\nexport enum EntityTreeNodeType {\n  /** The tree component's appearance and interactions will facilitate selection. Nodes will be larger and styles will indicate primary selection */\n  SINGLE_PANE,\n  /** The tree component's appearance and interactions will facilitate browsing. Nodes will be smaller and styles will indicate secondary selection */\n  DUAL_PANE,\n}\n\ntype NodeChildren = Readonly<{\n  /** The node's children. If undefined, then children have not been fetched. */\n  children?: EntityHeaderNode[]\n  /** The token used to fetch the next page of children for this entity. If this property is nullish and children is defined, then all children have been fetched. */\n  childrenNextPageToken?: string | null\n}>\n\ntype EntityHeaderNode = (\n  | EntityFinderHeader\n  // Only will have a subset of fields if the node is fetched via the entity path:\n  | Pick<EntityFinderHeader, 'id' | 'name' | 'type'>\n) &\n  NodeChildren\ntype PaginationNode = { __paginationNode: true }\n\ntype TreeNode = EntityHeaderNode | RootNodeConfiguration | PaginationNode\n\nfunction getTreeNodeType(\n  node: TreeNode,\n): 'entityHeader' | 'rootNodeConfiguration' | 'pagination' {\n  if ('__paginationNode' in node) {\n    return 'pagination'\n  }\n  return 'id' in node ? 'entityHeader' : 'rootNodeConfiguration'\n}\n\nfunction isPaginationNode(node: TreeNode): node is PaginationNode {\n  return getTreeNodeType(node) === 'pagination'\n}\n\nfunction isEntityHeaderNode(node: TreeNode): node is EntityHeaderNode {\n  return getTreeNodeType(node) === 'entityHeader'\n}\n\nfunction isRootNodeConfiguration(\n  node: TreeNode,\n): node is RootNodeConfiguration {\n  return getTreeNodeType(node) === 'rootNodeConfiguration'\n}\n\nfunction hasMoreChildren(node: TreeNode) {\n  if (isPaginationNode(node)) {\n    return true\n  } else if (isRootNodeConfiguration(node)) {\n    return node.hasNextPage\n  }\n\n  return node.children == null || node.childrenNextPageToken != null\n}\n\nfunction isLeafNode(node: TreeNode) {\n  if (isPaginationNode(node)) {\n    return true\n  } else if (isRootNodeConfiguration(node)) {\n    return false\n  } else {\n    return (\n      // Entity is not a container\n      !isContainerType(getEntityTypeFromHeader(node)) ||\n      // OR Children have been fetched (nonnull) and there are 0 children\n      (node.children != null && node.children.length === 0)\n    )\n  }\n}\n\nexport type TreeData = VariableSizeNodeData &\n  Readonly<{\n    node: TreeNode\n    getNextPageOfChildren: () => Promise<void>\n    isLeaf: boolean\n    nestingLevel: number\n    setSelectedId: (entityId: string) => void\n    treeNodeType: EntityTreeNodeType\n    isSelected: boolean\n    isDisabled: boolean\n  }>\n\ntype NodeMeta = Readonly<{\n  nestingLevel: number\n  node: TreeNode\n}>\n\nexport type RootNodeConfiguration = {\n  show: boolean\n  nodeText: string\n  children: EntityHeaderNode[]\n  /** If undefined, no more entities to fetch */\n  fetchNextPage: () => Promise<void>\n  hasNextPage: boolean\n}\n\n/**\n * Converts a TreeNode and related data into a TreeWalkerValue that react-vtree can use to render the tree.\n * Exported for testing purposes only.\n * @param config\n * @returns\n */\nexport const getNodeData = (config: {\n  node: TreeNode\n  nestingLevel: number\n  getNextPageOfChildren: () => Promise<void>\n  setSelectedId: (entityId: string) => void\n  treeNodeType: EntityTreeNodeType\n  selected: Map<string, number>\n  selectableTypes: EntityType[]\n  autoExpand: (entityId: string) => boolean\n  defaultHeight: number\n  currentContainer?: string | 'root' | null\n}): TreeWalkerValue<TreeData, NodeMeta> => {\n  const {\n    node,\n    nestingLevel,\n    getNextPageOfChildren,\n    setSelectedId,\n    treeNodeType,\n    selected,\n    selectableTypes,\n    autoExpand,\n    defaultHeight,\n    currentContainer,\n  } = config\n\n  if (isPaginationNode(node)) {\n    throw new Error('Cannot create data for a pagination node')\n  }\n\n  const id = isRootNodeConfiguration(node) ? 'root' : node.id\n\n  const isSelected =\n    treeNodeType === EntityTreeNodeType.SINGLE_PANE\n      ? selected.has(id)\n      : currentContainer === id\n  const isDisabled =\n    !isRootNodeConfiguration(node) &&\n    !selectableTypes.includes(getEntityTypeFromHeader(node))\n\n  const isOpenByDefault = autoExpand(id)\n  /*\n   * If the node is open by default and we haven't fetched its children,\n   * fetch the first page (otherwise we won't fetch unless re-toggled)\n   */\n  if (isOpenByDefault && node.children == null && hasMoreChildren(node)) {\n    getNextPageOfChildren()\n  }\n\n  return {\n    data: {\n      node,\n      getNextPageOfChildren,\n      id: id,\n      isLeaf: isLeafNode(node),\n      isOpenByDefault: isOpenByDefault,\n      nestingLevel,\n      setSelectedId,\n      treeNodeType,\n      isSelected,\n      isDisabled,\n      defaultHeight,\n    },\n    nestingLevel,\n    node,\n  }\n}\n\n/**\n * Node component for the react-vtree virtualized tree. Exported only for testing purposes\n */\nexport function Node(\n  props: NodeComponentProps<TreeData, VariableSizeNodePublicState<TreeData>>,\n) {\n  const {\n    data: {\n      node,\n      getNextPageOfChildren,\n      isLeaf,\n      id,\n      nestingLevel,\n      setSelectedId,\n      treeNodeType,\n      isSelected,\n      isDisabled,\n    },\n    isOpen,\n    style,\n    setOpen,\n  } = props\n\n  const [isLoading, setLoading] = useState(false)\n\n  const nodeText = isEntityHeaderNode(node) ? (\n    <span>{node.name}</span>\n  ) : isRootNodeConfiguration(node) ? (\n    <span>{node.nodeText}</span>\n  ) : (\n    // Pagination node\n    <Skeleton width={100} />\n  )\n\n  // We only use this for pagination nodes. If the pagination node comes into view, then immediately call `getNextPageOfChildren`\n  const { ref, inView } = useInView()\n  useEffect(() => {\n    if (isPaginationNode(node) && inView) {\n      getNextPageOfChildren()\n    }\n  }, [node, inView, getNextPageOfChildren])\n\n  const toggleExpand = useCallback(async () => {\n    if (hasMoreChildren(node)) {\n      setLoading(true)\n      await getNextPageOfChildren()\n      await setOpen(!isOpen)\n      setLoading(false)\n    } else {\n      await setOpen(!isOpen)\n    }\n  }, [getNextPageOfChildren, node, isOpen, setOpen])\n\n  /**\n   * If in the dual-pane view, expand a node when it becomes selected\n   */\n  useEffect(() => {\n    if (\n      treeNodeType === EntityTreeNodeType.DUAL_PANE &&\n      isSelected &&\n      !isOpen\n    ) {\n      toggleExpand()\n    }\n    // Intentionally only toggle the expanded state when isSelected changes, otherwise the node cannot be un-expanded\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isSelected])\n\n  /**\n   * If the height is 0, the node is purposefully hidden. Just render a fragment.\n   */\n  if ('height' in style && style.height === 0) {\n    return <></>\n  }\n\n  let tooltipContent: React.ReactNode = ''\n  if (isEntityHeaderNode(node)) {\n    tooltipContent = (\n      <div style={{ textAlign: 'center' }}>\n        <Typography display=\"inline\" component=\"span\" variant=\"smallText1\">\n          {node.name}\n          <br />\n          <b>ID: </b>\n          {node.id}\n          {'modifiedBy' in node && (\n            <>\n              <br />\n              <b>Modified By: </b>\n              <UserCard\n                showFullName\n                disableLink\n                showCardOnHover={false}\n                size=\"SMALL USER CARD\"\n                ownerId={node.modifiedBy.toString()}\n              />\n            </>\n          )}\n          {'modifiedOn' in node && (\n            <>\n              <br />\n              <b>Modified On: </b>\n              {formatDate(dayjs(node.modifiedOn))}\n            </>\n          )}\n        </Typography>\n      </div>\n    )\n  }\n\n  return (\n    <div\n      className={`Node ${\n        treeNodeType === EntityTreeNodeType.SINGLE_PANE\n          ? 'SelectNode'\n          : 'BrowseNode'\n      }`}\n      aria-selected={isSelected}\n      aria-disabled={isDisabled}\n      onClick={event => {\n        event.stopPropagation()\n        if (!isDisabled) {\n          setSelectedId(id)\n        }\n      }}\n      style={{\n        ...style,\n        paddingLeft: `${20 + nestingLevel * 20}px`,\n      }}\n    >\n      {!isLeaf && (\n        <button\n          className=\"ExpandButton\"\n          type=\"button\"\n          onClick={event => {\n            event.stopPropagation()\n            toggleExpand()\n          }}\n        >\n          {isLoading ? <SynapseSpinner size={10} /> : isOpen ? '▾' : '▸'}\n        </button>\n      )}\n      {treeNodeType === EntityTreeNodeType.SINGLE_PANE && ( // SWC-5592\n        <div className=\"EntityIcon\">\n          {isEntityHeaderNode(node) && (\n            <EntityTypeIcon type={getEntityTypeFromHeader(node)} />\n          )}\n        </div>\n      )}\n\n      <div className=\"EntityName\" ref={ref}>\n        <Tooltip title={tooltipContent} placement=\"right\">\n          {nodeText}\n        </Tooltip>\n      </div>\n\n      {treeNodeType === EntityTreeNodeType.SINGLE_PANE && (\n        <EntityBadgeIcons\n          entityId={id}\n          showHasDiscussionThread={false}\n          showHasWiki={false}\n          showUnlink={false}\n          canOpenModal={false}\n          renderTooltipComponent={true}\n        />\n      )}\n    </div>\n  )\n}\n\n/**\n * Extracted from the React component for testing purposes\n * @returns a generator function compatible with react-vtree\n */\nexport function getTreeWalkerFunction(\n  rootNode: RootNodeConfiguration,\n  setSelectedId: VirtualizedTreeProps['setSelectedId'],\n  treeNodeType: VirtualizedTreeProps['treeNodeType'],\n  selected: VirtualizedTreeProps['selected'],\n  selectableTypes: VirtualizedTreeProps['selectableTypes'],\n  autoExpand: VirtualizedTreeProps['autoExpand'],\n  itemSize: (index?: number) => number,\n  currentContainer: VirtualizedTreeProps['currentContainer'],\n  fetchNextPageOfChildren: (node: Writable<EntityHeaderNode>) => Promise<void>,\n): TreeWalker<TreeData, NodeMeta> {\n  return function* treeWalker() {\n    // Step [1]: Define the root node of our tree.\n    yield getNodeData({\n      node: rootNode,\n      nestingLevel: 0,\n      getNextPageOfChildren: rootNode.fetchNextPage,\n      setSelectedId,\n      treeNodeType,\n      selected,\n      selectableTypes,\n      autoExpand,\n      defaultHeight: itemSize(),\n      currentContainer,\n    })\n\n    while (true) {\n      // Step [2]: Get the parent node and nesting level, which will be passed into the Generator.next function by react-vtree.\n      // Yielding `undefined` indicates to react-vtree that we've finished iterating children from the last time we were in the loop.\n      const parentMeta = yield\n\n      if (\n        !isPaginationNode(parentMeta.node) &&\n        (parentMeta.node.children || hasMoreChildren(parentMeta.node))\n      ) {\n        for (let i = 0; i < (parentMeta.node.children ?? []).length; i++) {\n          // Step [3]: Yielding all the children of the parent\n          const childNode = parentMeta.node.children![i]\n\n          yield getNodeData({\n            node: childNode,\n            nestingLevel: parentMeta.nestingLevel + 1,\n            getNextPageOfChildren: () => fetchNextPageOfChildren(childNode),\n            setSelectedId,\n            treeNodeType,\n            selected,\n            selectableTypes,\n            autoExpand,\n            defaultHeight: itemSize(),\n            currentContainer,\n          })\n        }\n\n        // Step [4] - If the parent node has more children, render a \"pagination node\" that will fetch more children when it comes into view (via intersection observer)\n        if (\n          parentMeta.node.children != null &&\n          hasMoreChildren(parentMeta.node)\n        ) {\n          const paginationNode: PaginationNode = {\n            __paginationNode: true,\n          }\n          const paginationTreeWalkerValue: TreeWalkerValue<TreeData, NodeMeta> =\n            {\n              data: {\n                id: parentMeta.data.id + '-pagination',\n                node: paginationNode,\n                isOpenByDefault: false,\n                getNextPageOfChildren: parentMeta.data.getNextPageOfChildren,\n                isLeaf: true,\n                isSelected: false,\n                defaultHeight: itemSize(),\n                isDisabled: true,\n                nestingLevel: parentMeta.nestingLevel + 1,\n                setSelectedId: () => {},\n                treeNodeType,\n              },\n              nestingLevel: parentMeta.nestingLevel + 1,\n              node: {\n                __paginationNode: true,\n              },\n            }\n          yield paginationTreeWalkerValue\n        }\n      }\n    }\n  }\n}\n\nexport type VirtualizedTreeProps = Readonly<{\n  treeNodeType: EntityTreeNodeType\n  rootNodeConfiguration: RootNodeConfiguration\n  setSelectedId: (entityId: string) => void\n  selected: Map<string, number>\n  /* currentContainer is the container whose contents are shown on in the right pane in dual-pane configuration, and may only be defined when treeNodeType is DUAL_PANE */\n  currentContainer?: string | 'root' | null\n  autoExpand: (entityId: string) => boolean\n  selectableTypes: EntityType[]\n  visibleTypes: EntityType[]\n}>\n\n/**\n * Component that utilizes react-vtree to efficiently display a tree of entities. react-vtree utilizes react-window\n * to only render visible nodes, which eliminates performance issues as seen in SWC-5978.\n */\nexport const VirtualizedTree = (props: VirtualizedTreeProps) => {\n  const {\n    rootNodeConfiguration,\n    setSelectedId,\n    treeNodeType,\n    selected,\n    currentContainer,\n    selectableTypes,\n    visibleTypes,\n    autoExpand,\n  } = props\n\n  const { accessToken } = useSynapseContext()\n\n  const [rootNode, setRootNode] = useState<RootNodeConfiguration>(\n    rootNodeConfiguration,\n  )\n\n  useEffect(() => {\n    setRootNode(rootNodeConfiguration)\n  }, [rootNodeConfiguration, rootNodeConfiguration.children])\n\n  // This function is used by VariableSizeTree to identify the size of each node in the tree.\n  const itemSize = useCallback(\n    (index?: number) => {\n      /**\n       * We must have a root node, but we don't always want to show it.\n       * In those cases, set the height of the root node to 0.\n       */\n      if (index === 0 && !rootNodeConfiguration.show) {\n        return 0\n      }\n      /**\n       * The height of all other nodes in the tree varies depending on the tree node type.\n       */\n      return treeNodeType === EntityTreeNodeType.DUAL_PANE ? 30 : 60\n    },\n    [treeNodeType, rootNodeConfiguration.show],\n  )\n\n  /**\n   * Fetches the next page of children for a given node. After fetching the children, this method will make a deep clone of the\n   *  full tree, including the new data, and updates the state of the component\n   */\n  const fetchNextPageOfChildren = useCallback(\n    // Because we update the root node with a copy at the end of this function, we can write to the node under update.\n    async (node: Writable<EntityHeaderNode>) => {\n      // Fetch the children of the node\n      const children = await SynapseClient.getEntityChildren(\n        {\n          parentId: node.id,\n          nextPageToken: node.childrenNextPageToken,\n          includeTypes: visibleTypes,\n        },\n        accessToken,\n      )\n\n      // Update the node data -- add the children and store the nextPageToken\n      if (node.children) {\n        node.children.push(...children.page)\n      } else {\n        node.children = children.page\n      }\n      node.childrenNextPageToken = children.nextPageToken\n\n      // cloneDeep is required to re-render the tree with the new children\n      setRootNode(cloneDeep(rootNode))\n    },\n    [rootNode, accessToken, visibleTypes],\n  )\n\n  /**\n   * treeWalker is a generator function used by react-vtree to generate the tree structure. The tree is re-built when the function is updated,\n   * so the dependencies specified in useCallback are important.\n   */\n  const memoizedTreeWalker = useCallback(\n    getTreeWalkerFunction(\n      rootNode,\n      setSelectedId,\n      treeNodeType,\n      selected,\n      selectableTypes,\n      autoExpand,\n      itemSize,\n      currentContainer,\n      fetchNextPageOfChildren,\n    ),\n    [\n      rootNode,\n      setSelectedId,\n      treeNodeType,\n      selected,\n      selectableTypes,\n      autoExpand,\n      currentContainer,\n      fetchNextPageOfChildren,\n      itemSize,\n    ],\n  )\n\n  return (\n    <AutoSizer disableWidth>\n      {({ height }: { height: number }) => (\n        <VariableSizeTree\n          treeWalker={memoizedTreeWalker}\n          itemSize={itemSize}\n          height={height}\n          async={true}\n          width=\"100%\"\n        >\n          {Node}\n        </VariableSizeTree>\n      )}\n    </AutoSizer>\n  )\n}\n","import { Map } from 'immutable'\nimport React, {\n  Dispatch,\n  SetStateAction,\n  useCallback,\n  useEffect,\n  useMemo,\n  useState,\n} from 'react'\nimport { Dropdown } from 'react-bootstrap'\nimport { convertToEntityType } from '../../../utils/functions/EntityTypeUtils'\nimport { SYNAPSE_ENTITY_ID_REGEX } from '../../../utils/functions/RegularExpressions'\nimport useGetEntityBundle from '../../../utils/hooks/SynapseAPI/entity/useEntityBundle'\nimport {\n  useGetEntityHeader,\n  useGetEntityPath,\n  useGetFavorites,\n  useGetProjectsInfinite,\n} from '../../../utils/hooks/SynapseAPI'\nimport { ALL_ENTITY_BUNDLE_FIELDS } from '../../../utils/SynapseConstants'\nimport { EntityPath, EntityType, Reference } from '../../../utils/synapseTypes'\nimport { SynapseSpinner } from '../../LoadingScreen'\nimport { BreadcrumbItem } from '../Breadcrumbs'\nimport { toEntityHeader } from '../details/configurations/ProjectListDetails'\nimport {\n  EntityDetailsListDataConfiguration,\n  EntityDetailsListDataConfigurationType,\n} from '../details/EntityDetailsList'\nimport { EntityFinderHeader } from '../EntityFinderHeader'\nimport {\n  EntityTreeNodeType,\n  RootNodeConfiguration,\n  VirtualizedTree,\n} from './VirtualizedTree'\nimport { displayToast } from '../../ToastMessage'\n\nconst isEntityIdInPath = (entityId: string, path: EntityPath): boolean => {\n  for (const eh of path.path) {\n    if (entityId === eh.id) {\n      return true\n    }\n  }\n  return false\n}\n\nexport enum FinderScope {\n  CURRENT_PROJECT = 'Current Project',\n  ALL_PROJECTS = 'All Projects',\n  CREATED_BY_ME = 'Projects Created By Me',\n  FAVORITES = 'My Favorites',\n}\n\nfunction getScopeOptionDefaultContainer(\n  scope: FinderScope,\n): EntityTreeContainer {\n  switch (scope) {\n    case FinderScope.FAVORITES:\n      return 'root'\n    case FinderScope.CURRENT_PROJECT:\n    case FinderScope.ALL_PROJECTS:\n    case FinderScope.CREATED_BY_ME:\n      return null\n  }\n}\n\nfunction getScopeOptionNodeName(scope: FinderScope): string {\n  switch (scope) {\n    case FinderScope.CURRENT_PROJECT:\n    case FinderScope.ALL_PROJECTS:\n    case FinderScope.CREATED_BY_ME:\n      return 'Projects'\n    case FinderScope.FAVORITES:\n      return 'Favorites'\n  }\n}\n\n/**\n * Indicates which container is selected when the tree is used to control another component. If 'root', then the top-level entities\n * should be shown in the other component. If a synID, then that entity's children should be shown in the other component. If null,\n * then a selection has not been made.\n */\nexport type EntityTreeContainer = string | 'root' | null\n\n// if the first item is selected (matching the dropdown), then output a configuration. otherwise, output a synId\nexport type EntityTreeProps = {\n  initialScope?: FinderScope\n  /** To show the current project, projectId must be defined */\n  projectId?: string\n  initialContainer: EntityTreeContainer\n  currentContainer: EntityTreeContainer\n  setCurrentContainer: Dispatch<SetStateAction<EntityTreeContainer>>\n  showDropdown: boolean\n  selectedEntities: Map<string, number>\n  visibleTypes?: EntityType[]\n  toggleSelection?: (entity: Reference) => void\n  setDetailsViewConfiguration?: (\n    configuration: EntityDetailsListDataConfiguration,\n  ) => void\n  setBreadcrumbItems?: (items: BreadcrumbItem[]) => void\n  /** Determines whether to show the root node corresponding to the selected scope */\n  showScopeAsRootNode?: boolean\n  treeNodeType: EntityTreeNodeType\n  /** The entity types that may be selected. */\n  selectableTypes: EntityType[]\n}\n\n/**\n * The TreeView displays a user's entities hierarchically, allowing a user to quickly dive into an entity tree.\n *\n * The tree view currently can only be used to drive a DetailsView using the `setDetailsViewConfiguration` property.\n */\nexport function EntityTree(props: EntityTreeProps) {\n  const {\n    initialScope = FinderScope.CURRENT_PROJECT,\n    projectId,\n    initialContainer = null,\n    currentContainer,\n    setCurrentContainer,\n    visibleTypes = [EntityType.PROJECT, EntityType.FOLDER],\n    toggleSelection,\n    selectedEntities,\n    setDetailsViewConfiguration,\n    setBreadcrumbItems,\n    showScopeAsRootNode = true,\n    treeNodeType,\n    selectableTypes,\n  } = props\n\n  const DEFAULT_CONFIGURATION: EntityDetailsListDataConfiguration = {\n    type: EntityDetailsListDataConfigurationType.PROMPT,\n  }\n\n  const [scope, setScope] = useState(initialScope)\n\n  useEffect(() => {\n    if (setDetailsViewConfiguration) {\n      setDetailsViewConfiguration(DEFAULT_CONFIGURATION)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  const setSelectedId = useCallback(\n    (entityId: string) => {\n      if (toggleSelection) {\n        toggleSelection({ targetId: entityId })\n      }\n      setCurrentContainer(entityId)\n    },\n    [setCurrentContainer, toggleSelection],\n  )\n\n  // For these scopes, use the `useGetProjectsInfinite` hook\n  const useProjectData =\n    scope === FinderScope.ALL_PROJECTS || scope === FinderScope.CREATED_BY_ME\n\n  const {\n    data: projectData,\n    fetchNextPage: fetchNextPageProjects,\n    hasNextPage: hasNextPageProjects,\n    isLoading: isLoadingProjects,\n  } = useGetProjectsInfinite(\n    scope === FinderScope.CREATED_BY_ME\n      ? { filter: 'CREATED', sort: 'PROJECT_NAME', sortDirection: 'ASC' }\n      : { sort: 'PROJECT_NAME', sortDirection: 'ASC' },\n    {\n      enabled: useProjectData,\n      // Don't refetch the projects. Updating the entity headers will drop all the children that VirtualizedTree has fetched\n      refetchInterval: Infinity,\n    },\n  )\n\n  const { data: currentContainerBundle, isSuccess: isSuccessBundle } =\n    useGetEntityBundle(currentContainer!, undefined, ALL_ENTITY_BUNDLE_FIELDS, {\n      enabled: !!currentContainer && currentContainer !== 'root',\n      useErrorBoundary: true,\n    })\n\n  const { data: favorites, isLoading: isLoadingFavorites } = useGetFavorites(\n    'NAME',\n    'ASC',\n    {\n      select: data => ({\n        // TODO: https://sagebionetworks.jira.com/browse/PLFM-6652\n        ...data,\n        results: data.results.filter(eh =>\n          visibleTypes.includes(convertToEntityType(eh.type)),\n        ),\n      }),\n      // Don't refetch the projects. Updating the entity headers will drop all the children that VirtualizedTree has fetched\n      refetchInterval: Infinity,\n      useErrorBoundary: true,\n    },\n  )\n\n  const { data: initialContainerPath } = useGetEntityPath(initialContainer!, {\n    enabled: !!(\n      projectId &&\n      initialContainer &&\n      initialContainer.match(SYNAPSE_ENTITY_ID_REGEX)\n    ),\n    refetchInterval: Infinity,\n    useErrorBoundary: true,\n  })\n\n  const {\n    data: projectHeader,\n    isLoading: isLoadingProjectHeader,\n    error: fetchProjectError,\n  } = useGetEntityHeader(projectId!, {\n    enabled: !!(projectId ?? initialContainerPath?.path[1]?.id),\n    refetchInterval: Infinity,\n  })\n\n  if (\n    FinderScope.CURRENT_PROJECT === scope &&\n    projectId &&\n    fetchProjectError &&\n    fetchProjectError.status === 403\n  ) {\n    // The user doesn't have access to the project, so let's change the scope to something else\n    displayToast(\n      `You don't have access to the current project (${projectId}).`,\n      'warning',\n    )\n    setScope(FinderScope.CREATED_BY_ME)\n  }\n\n  // Populates the first level of entities in the tree view\n  const {\n    topLevelEntities,\n    isLoading,\n  }: {\n    topLevelEntities: Pick<EntityFinderHeader, 'name' | 'id' | 'type'>[]\n    isLoading: boolean\n  } = useMemo(() => {\n    let topLevelEntities: Pick<EntityFinderHeader, 'name' | 'id' | 'type'>[] =\n      []\n    let isLoading: boolean = false\n    switch (scope) {\n      case FinderScope.ALL_PROJECTS:\n      case FinderScope.CREATED_BY_ME:\n        if (projectData) {\n          topLevelEntities = projectData.pages\n            .flatMap(page => page.results)\n            .map(toEntityHeader)\n        }\n        isLoading = isLoadingProjects\n        break\n      case FinderScope.FAVORITES: {\n        topLevelEntities = favorites?.results ?? []\n        isLoading = isLoadingFavorites\n        break\n      }\n      case FinderScope.CURRENT_PROJECT:\n        if (projectHeader) {\n          // use projectHeader as topLevelEntities\n          topLevelEntities = [projectHeader]\n          isLoading = isLoadingProjectHeader\n        }\n        break\n      default:\n        throw new Error('No scope selected')\n    }\n    return { topLevelEntities, isLoading }\n  }, [\n    favorites?.results,\n    isLoadingFavorites,\n    isLoadingProjectHeader,\n    isLoadingProjects,\n    projectData,\n    projectHeader,\n    scope,\n  ])\n\n  // Creates the configuration for the details view and invokes the callback\n  useEffect(() => {\n    if (setDetailsViewConfiguration || setBreadcrumbItems) {\n      let detailsViewConfig: EntityDetailsListDataConfiguration\n      let breadcrumbItems: BreadcrumbItem[] = []\n      if (currentContainer === null) {\n        detailsViewConfig = {\n          type: EntityDetailsListDataConfigurationType.PROMPT,\n        }\n        breadcrumbItems = []\n      } else if (currentContainer === 'root') {\n        switch (scope) {\n          case FinderScope.ALL_PROJECTS:\n            detailsViewConfig = {\n              type: EntityDetailsListDataConfigurationType.USER_PROJECTS,\n            }\n            break\n          case FinderScope.CREATED_BY_ME:\n            detailsViewConfig = {\n              type: EntityDetailsListDataConfigurationType.USER_PROJECTS,\n              getProjectParams: {\n                filter: 'CREATED',\n              },\n            }\n            break\n          case FinderScope.CURRENT_PROJECT:\n            detailsViewConfig = {\n              type: EntityDetailsListDataConfigurationType.HEADER_LIST,\n              headerList: topLevelEntities,\n            }\n            break\n          case FinderScope.FAVORITES:\n            detailsViewConfig = {\n              type: EntityDetailsListDataConfigurationType.USER_FAVORITES,\n            }\n            break\n        }\n        breadcrumbItems = [\n          {\n            name: scope,\n            isCurrent: true,\n            action: () => {\n              setCurrentContainer('root')\n            },\n          },\n        ]\n      } else {\n        detailsViewConfig = {\n          type: EntityDetailsListDataConfigurationType.PARENT_CONTAINER,\n          parentContainerId: currentContainer,\n        }\n        if (currentContainerBundle) {\n          breadcrumbItems = [\n            {\n              name: scope,\n              isCurrent: false,\n              action: () => {\n                setCurrentContainer('root')\n              },\n            },\n            ...currentContainerBundle.path.path\n              .slice(1) // Remove the root entity, syn4489\n              .map(entity => {\n                return {\n                  name: entity.name ?? entity.id,\n                  isCurrent: entity.id === currentContainer,\n                  action: () => {\n                    setCurrentContainer(entity.id)\n                  },\n                }\n              }),\n          ]\n        }\n      }\n      if (setDetailsViewConfiguration) {\n        setDetailsViewConfiguration(detailsViewConfig)\n      }\n      if (setBreadcrumbItems) {\n        setBreadcrumbItems(breadcrumbItems)\n      }\n    }\n  }, [\n    scope,\n    currentContainer,\n    topLevelEntities,\n    setDetailsViewConfiguration,\n    setBreadcrumbItems,\n    currentContainerBundle,\n    isSuccessBundle,\n    setCurrentContainer,\n  ])\n\n  const rootNodeConfiguration: RootNodeConfiguration = useMemo(\n    () => ({\n      show: showScopeAsRootNode,\n      nodeText: getScopeOptionNodeName(scope),\n      children: topLevelEntities,\n      fetchNextPage: async () => {\n        await fetchNextPageProjects()\n      },\n      hasNextPage: useProjectData && hasNextPageProjects! && !isLoadingProjects,\n    }),\n    [\n      showScopeAsRootNode,\n      scope,\n      topLevelEntities,\n      useProjectData,\n      hasNextPageProjects,\n      isLoadingProjects,\n      fetchNextPageProjects,\n    ],\n  )\n\n  const shouldAutoExpand = useCallback(\n    (entityId: string) => {\n      if (entityId === 'root') {\n        return true\n      } else {\n        return !!(\n          scope === FinderScope.CURRENT_PROJECT &&\n          initialContainerPath &&\n          isEntityIdInPath(entityId, initialContainerPath)\n        )\n      }\n    },\n    [scope, initialContainerPath],\n  )\n\n  return (\n    <div\n      className={`TreeView ${\n        treeNodeType === EntityTreeNodeType.SINGLE_PANE\n          ? 'SelectTree'\n          : 'BrowseTree'\n      }`}\n    >\n      <div className=\"Header\">\n        <div className=\"Browse\">Browse:</div>\n        <div onClick={e => e.stopPropagation()}>\n          <Dropdown>\n            <Dropdown.Toggle variant=\"gray-primary-500\" id=\"dropdown-basic\">\n              {scope}\n            </Dropdown.Toggle>\n            <Dropdown.Menu role=\"menu\">\n              {Object.values(FinderScope).map(scopeOption => {\n                if (\n                  scopeOption === FinderScope.CURRENT_PROJECT &&\n                  projectId == null\n                ) {\n                  return <React.Fragment key={scopeOption} />\n                }\n                return (\n                  <Dropdown.Item\n                    role=\"menuitem\"\n                    key={scopeOption}\n                    onClick={e => {\n                      e.stopPropagation()\n                      if (scope !== scopeOption) {\n                        setScope(scopeOption)\n                        setCurrentContainer(\n                          getScopeOptionDefaultContainer(scopeOption),\n                        )\n                      }\n                    }}\n                  >\n                    {scopeOption}\n                  </Dropdown.Item>\n                )\n              })}\n            </Dropdown.Menu>\n          </Dropdown>\n        </div>\n      </div>\n      {isLoading ? (\n        <div className=\"Placeholder\">\n          <SynapseSpinner size={30} />\n        </div>\n      ) : (\n        <div className=\"Tree\" role=\"tree\">\n          <VirtualizedTree\n            selected={selectedEntities}\n            visibleTypes={visibleTypes}\n            autoExpand={shouldAutoExpand}\n            rootNodeConfiguration={rootNodeConfiguration}\n            treeNodeType={treeNodeType}\n            selectableTypes={selectableTypes}\n            currentContainer={currentContainer}\n            setSelectedId={setSelectedId}\n          />\n        </div>\n      )}\n    </div>\n  )\n}\n","import { useCallback, useReducer } from 'react'\nimport { Map } from 'immutable'\nimport { Reference } from '../../utils/synapseTypes'\nimport { NO_VERSION_NUMBER } from './EntityFinder'\n\nexport function useEntitySelection(selectMultiple: boolean) {\n  /**\n   *\n   * @param entity The entity to check selected status\n   * @param selected the list of selected entities\n   * @returns a boolean array of length equal to entities.length denoting selection status\n   */\n  const isSelected = useCallback(\n    (entity: Reference, selected: Map<string, number>): boolean => {\n      const match = selected.get(entity.targetId)\n      if (match == null) {\n        return false\n      }\n      if (match === NO_VERSION_NUMBER) {\n        return entity.targetVersionNumber === undefined\n      }\n      return match === entity.targetVersionNumber\n    },\n    [],\n  )\n\n  /**\n   * Given the existing selections and a list of toggled references, return the new list of selections\n   * @param selected\n   * @param toggledReference\n   * @returns\n   */\n  const entitySelectionReducer = useCallback(\n    (\n      selected: Map<string, number>,\n      toggledReferences: Reference | Reference[],\n    ): Map<string, number> => {\n      const newSelected = selected.withMutations(map => {\n        // Note: we currently don't allow selecting two versions of the same entity, so we replace previous selected version with new selected version\n        if (!Array.isArray(toggledReferences)) {\n          toggledReferences = [toggledReferences]\n        }\n        toggledReferences.forEach(toggledReference => {\n          if (isSelected(toggledReference, selected)) {\n            // remove from selection\n            map.delete(toggledReference.targetId)\n          } else {\n            // add to selection\n            if (!selectMultiple) {\n              map.clear()\n            }\n            map.set(\n              toggledReference.targetId,\n              toggledReference.targetVersionNumber ?? NO_VERSION_NUMBER,\n            )\n          }\n        })\n      })\n\n      return newSelected\n    },\n    [isSelected, selectMultiple],\n  )\n\n  return useReducer(entitySelectionReducer, Map<string, number>())\n}\n","import pluralize from 'pluralize'\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react'\nimport { Button, FormControl } from 'react-bootstrap'\nimport { useErrorHandler } from 'react-error-boundary'\nimport { ReflexContainer, ReflexElement, ReflexSplitter } from 'react-reflex'\nimport 'react-reflex/styles.css'\nimport { SizeMe } from 'react-sizeme'\nimport Arrow from '../../assets/icons/Arrow'\nimport { SynapseClient } from '../../utils'\nimport {\n  entityTypeToFriendlyName,\n  getEntityTypeFromHeader,\n} from '../../utils/functions/EntityTypeUtils'\nimport { parseSynId } from '../../utils/functions/RegularExpressions'\nimport { useSynapseContext } from '../../utils/SynapseContext'\nimport { Reference } from '../../utils/synapseTypes'\nimport { EntityType } from '../../utils/synapseTypes/EntityType'\nimport { KeyValue } from '../../utils/synapseTypes/Search'\nimport { SynapseErrorBoundary } from '../error/ErrorBanner'\nimport IconSvg from '../IconSvg'\nimport { BreadcrumbItem, Breadcrumbs, BreadcrumbsProps } from './Breadcrumbs'\nimport {\n  EntityDetailsList,\n  EntityDetailsListDataConfiguration,\n  EntityDetailsListDataConfigurationType,\n} from './details/EntityDetailsList'\nimport { EntityFinderHeader } from './EntityFinderHeader'\nimport { SelectionPane } from './SelectionPane'\nimport { EntityTree, EntityTreeContainer, FinderScope } from './tree/EntityTree'\nimport { EntityTreeNodeType } from './tree/VirtualizedTree'\nimport { useEntitySelection } from './useEntitySelection'\nimport { VersionSelectionType } from './VersionSelectionType'\n\nconst DEFAULT_SELECTABLE_TYPES = Object.values(EntityType)\nconst TABLE_DEFAULT_VISIBLE_TYPES = Object.values(EntityType)\nconst TREE_DEFAULT_VISIBLE_TYPES = [EntityType.PROJECT, EntityType.FOLDER]\n\n// In the map used to track selections, we use -1 to denote 'selected without version'\n// This is necessary because undefined is returned by map.get when the item is not in the map\nexport const NO_VERSION_NUMBER = -1\n\nconst searchForOnlyTypesBooleanQuery = (\n  entityTypes: EntityType[],\n): KeyValue[] => {\n  // Boolean query terms will be combined with AND, and there's no way to OR.\n  // So we will negate searching for all omitted types.\n  const allTypes = Object.values(EntityType)\n  const typesToOmit = allTypes.filter(type => !entityTypes.includes(type))\n  return typesToOmit.map(type => ({\n    key: 'node_type',\n    value: type.toString(),\n    not: true,\n  }))\n}\n\nexport type EntityFinderProps = {\n  /** Whether or not it is possible to select multiple entities */\n  selectMultiple: boolean\n  /** Callback invoked when the selection changes */\n  onSelectedChange: (selected: Reference[]) => void\n  /** The initial appearance of the entity finder. Possible values include \"Current Project\", \"All Projects\", \"Projects Created By Me\", \"My Favorites\" */\n  initialScope: FinderScope\n  /** The SynID of the 'Current Project'. If this is not a defined, then the scope cannot be \"Current Project\" */\n  projectId?: string\n  /** The SynID of the entity that should open by default. If this is a Syn ID, then it must be in the project specified in `projectId` */\n  initialContainer: string | 'root' | null\n  /** Determines if versions are selectable, and if so, how they should be shown. Default is \"TRACKED\" */\n  versionSelection?: VersionSelectionType\n  /** The entity types to show in the details view (right pane). Any types specified in `selectableTypes` will automatically be included. */\n  visibleTypesInList?: EntityType[]\n  /** The entity types that may be selected. Types in `visibleTypesInList` that are not in `selectableTypes` will appear as disabled options. Only the types in `selectableTypes` will appear in search */\n  selectableTypes?: EntityType[]\n  /** The types to show in the tree used to navigate. If `treeOnly` is true, any types specified in `selectableTypes` will automatically be included. */\n  visibleTypesInTree?: EntityType[]\n  /** The text to show before the list of selected entities */\n  selectedCopy?: string | ((count: number) => string)\n  /** Whether to show only the tree. If `true`, the tree will be used to make selections */\n  treeOnly?: boolean\n}\n\nexport const EntityFinder: React.FunctionComponent<EntityFinderProps> = ({\n  initialScope,\n  projectId,\n  initialContainer = null,\n  selectMultiple,\n  onSelectedChange,\n  versionSelection = VersionSelectionType.TRACKED,\n  selectableTypes = DEFAULT_SELECTABLE_TYPES,\n  visibleTypesInList = TABLE_DEFAULT_VISIBLE_TYPES,\n  visibleTypesInTree = TREE_DEFAULT_VISIBLE_TYPES,\n  selectedCopy = selectMultiple ? count => `Selected (${count})` : 'Selected',\n  treeOnly = false,\n}: EntityFinderProps) => {\n  const { accessToken } = useSynapseContext()\n\n  const [searchActive, setSearchActive] = useState(false)\n  // The raw value of the search input box:\n  const [searchInput, setSearchInput] = useState<string>()\n  // The \"parsed\" search terms, which are only calculated when Enter is pressed:\n  const [searchTerms, setSearchTerms] = useState<string[]>()\n  const [breadcrumbsProps, setBreadcrumbsProps] = useState<BreadcrumbsProps>({\n    items: [],\n  })\n  const [searchByIdResults, setSearchByIdResults] = useState<\n    EntityFinderHeader[]\n  >([])\n  const [configFromTreeView, setConfigFromTreeView] =\n    useState<EntityDetailsListDataConfiguration>({\n      type: EntityDetailsListDataConfigurationType.PROMPT,\n    })\n\n  const searchInputRef = useRef<HTMLInputElement>(null)\n\n  // If a type is selectable, it should be visible in the tree/list (depending on treeOnly)\n  const selectableAndVisibleTypesInTree = useMemo(\n    () => [...visibleTypesInTree, ...selectableTypes],\n    [visibleTypesInTree, selectableTypes],\n  )\n  const selectableAndVisibleTypesInList = useMemo(\n    () => [...visibleTypesInList, ...selectableTypes],\n    [visibleTypesInList, selectableTypes],\n  )\n\n  // For dual-pane, this state variable indicates which container is selected in the tree view and should be shown in the table view\n  const [currentContainer, setCurrentContainer] =\n    useState<EntityTreeContainer>(initialContainer)\n\n  const handleError = useErrorHandler()\n\n  const setBreadcrumbs = useCallback(\n    (items: BreadcrumbItem[]) => {\n      setBreadcrumbsProps({\n        items,\n      })\n    },\n    [setBreadcrumbsProps],\n  )\n\n  const [selectedEntities, toggleSelection] = useEntitySelection(selectMultiple)\n\n  const isIdSelected = useCallback(\n    (entity: EntityFinderHeader) => {\n      return selectedEntities.has(entity.id)\n    },\n    [selectedEntities],\n  )\n\n  const isSelectable = useCallback(\n    (entity: EntityFinderHeader) => {\n      const type = getEntityTypeFromHeader(entity)\n      return selectableTypes.includes(type)\n    },\n    [selectableTypes],\n  )\n\n  useEffect(() => {\n    // When it changes, convert the map of selected items to a list of references and invoke the callback\n    onSelectedChange(\n      selectedEntities.toArray().map(([id, version]) => {\n        return {\n          targetId: id,\n          targetVersionNumber:\n            version === NO_VERSION_NUMBER ? undefined : version,\n        }\n      }),\n    )\n  }, [selectedEntities, onSelectedChange])\n\n  useEffect(() => {\n    if (searchTerms?.length === 1) {\n      const searchTermReference = parseSynId(searchTerms[0])\n      if (searchTermReference) {\n        SynapseClient.getEntityHeaders([searchTermReference], accessToken)\n          .then(response => {\n            setSearchByIdResults(response.results)\n          })\n          .catch(e => handleError(e))\n      }\n    } else {\n      setSearchByIdResults([])\n    }\n  }, [accessToken, searchTerms, handleError])\n\n  const mainPanelClass = searchActive\n    ? 'MainPanelSearch'\n    : treeOnly\n    ? 'MainPanelSinglePane'\n    : 'MainPanelDualPane'\n\n  let searchButtonText\n  const tableArray = [\n    'table',\n    'entityview',\n    'materializedview',\n    'submissionview',\n    'dataset',\n    'datasetcollection',\n  ]\n  if (selectableTypes.length === 1) {\n    searchButtonText = `Search for ${pluralize(\n      entityTypeToFriendlyName(selectableTypes[0]),\n    )}`\n  } else if (selectableTypes.every(element => tableArray.includes(element))) {\n    searchButtonText = 'Search for Tables'\n  } else {\n    searchButtonText = 'Search all of Synapse'\n  }\n\n  return (\n    <SynapseErrorBoundary>\n      <div className=\"bootstrap-4-backport EntityFinder\">\n        <div className=\"EntityFinder__Search\" data-active={searchActive}>\n          <>\n            {searchActive ? (\n              <Button\n                variant=\"gray-primary-500\"\n                onClick={() => {\n                  setSearchActive(false)\n                  setSearchInput('')\n                  setSearchTerms(undefined)\n                }}\n              >\n                <Arrow arrowDirection=\"left\" style={{ height: '16px' }} />\n                Back to Browse\n              </Button>\n            ) : (\n              <Button\n                variant=\"sds-primary\"\n                className=\"EntityFinder__Search__SearchButton\"\n                onClick={() => {\n                  setSearchActive(true)\n                  searchInputRef!.current!.focus()\n                }}\n              >\n                <IconSvg icon=\"search\" />\n                {searchButtonText}\n              </Button>\n            )}\n            <span className=\"SearchIcon\">\n              <IconSvg icon=\"search\" />\n            </span>\n            <FormControl\n              role=\"textbox\"\n              ref={searchInputRef}\n              aria-hidden={!searchActive}\n              className=\"EntityFinder__Search__Input\"\n              type=\"search\"\n              placeholder=\"Search by name, Wiki contents, or Synapse ID\"\n              value={searchInput}\n              onChange={event => {\n                setSearchInput(event.target.value)\n              }}\n              onKeyDown={(event: any) => {\n                if (event.key === 'Enter') {\n                  if (event.target.value === '') {\n                    setSearchTerms(undefined)\n                  } else {\n                    setSearchTerms(event.target.value.trim().split(' '))\n                  }\n                }\n              }}\n            />\n            {searchInput && (\n              <span\n                className=\"ClearSearchIcon\"\n                onClick={() => {\n                  setSearchInput('')\n                  setSearchTerms(undefined)\n                }}\n              >\n                <IconSvg icon=\"close\" label=\"Clear Search\" />\n              </span>\n            )}\n          </>\n        </div>\n        <div className={`EntityFinder__MainPanel ${mainPanelClass}`}>\n          {/* We have a separate Details component for search in order to preserve state in the other component between searches */}\n          {searchActive && (\n            <EntityDetailsList\n              configuration={\n                searchByIdResults && searchByIdResults.length > 0\n                  ? {\n                      type: EntityDetailsListDataConfigurationType.HEADER_LIST,\n                      headerList: searchByIdResults,\n                    }\n                  : {\n                      type: EntityDetailsListDataConfigurationType.ENTITY_SEARCH,\n                      query: {\n                        queryTerm: searchTerms,\n                        booleanQuery:\n                          searchForOnlyTypesBooleanQuery(selectableTypes),\n                      },\n                    }\n              }\n              versionSelection={versionSelection}\n              selectColumnType={selectMultiple ? 'checkbox' : 'none'}\n              selected={selectedEntities}\n              isIdSelected={isIdSelected}\n              isSelectable={isSelectable}\n              visibleTypes={selectableTypes}\n              selectableTypes={selectableTypes}\n              toggleSelection={toggleSelection}\n              enableSelectAll={selectMultiple}\n              // Intentionally do not pass \"setCurrentContainer\" -- search does not use the tree so it has nothing to update\n              setCurrentContainer={undefined}\n            />\n          )}\n          {\n            <div style={searchActive ? { display: 'none' } : {}}>\n              {treeOnly ? (\n                <div>\n                  <EntityTree\n                    toggleSelection={toggleSelection}\n                    showDropdown={true}\n                    visibleTypes={selectableAndVisibleTypesInTree}\n                    initialScope={initialScope}\n                    selectedEntities={selectedEntities}\n                    projectId={projectId}\n                    initialContainer={initialContainer}\n                    currentContainer={currentContainer}\n                    setCurrentContainer={setCurrentContainer}\n                    showScopeAsRootNode={false}\n                    treeNodeType={EntityTreeNodeType.SINGLE_PANE}\n                    selectableTypes={selectableTypes}\n                  />\n                </div>\n              ) : (\n                <div className=\"EntityFinderReflexContainer\">\n                  <SizeMe>\n                    {({ size }) => (\n                      <ReflexContainer\n                        key={(!!size.width).toString()}\n                        orientation=\"vertical\"\n                        windowResizeAware\n                      >\n                        <ReflexElement\n                          className=\"TreeViewReflexElement\"\n                          flex={0.24}\n                        >\n                          <EntityTree\n                            selectedEntities={selectedEntities}\n                            setDetailsViewConfiguration={setConfigFromTreeView}\n                            showDropdown={true}\n                            visibleTypes={visibleTypesInTree}\n                            initialScope={initialScope}\n                            projectId={projectId}\n                            initialContainer={initialContainer}\n                            currentContainer={currentContainer}\n                            setCurrentContainer={setCurrentContainer}\n                            treeNodeType={EntityTreeNodeType.DUAL_PANE}\n                            setBreadcrumbItems={setBreadcrumbs}\n                            selectableTypes={visibleTypesInTree}\n                          />\n                        </ReflexElement>\n                        <ReflexSplitter></ReflexSplitter>\n                        <ReflexElement className=\"DetailsViewReflexElement\">\n                          <EntityDetailsList\n                            configuration={configFromTreeView}\n                            versionSelection={versionSelection}\n                            selected={selectedEntities}\n                            isIdSelected={isIdSelected}\n                            isSelectable={isSelectable}\n                            visibleTypes={selectableAndVisibleTypesInList}\n                            selectableTypes={selectableTypes}\n                            selectColumnType={\n                              selectMultiple ? 'checkbox' : 'none'\n                            }\n                            toggleSelection={toggleSelection}\n                            enableSelectAll={selectMultiple}\n                            setCurrentContainer={setCurrentContainer}\n                          />\n                          <Breadcrumbs {...breadcrumbsProps} />\n                        </ReflexElement>\n                      </ReflexContainer>\n                    )}\n                  </SizeMe>\n                </div>\n              )}\n            </div>\n          }\n        </div>\n\n        {selectedEntities.size > 0 && (\n          <SelectionPane\n            title={selectedCopy}\n            selectedEntities={selectedEntities}\n            toggleSelection={toggleSelection}\n          />\n        )}\n      </div>\n    </SynapseErrorBoundary>\n  )\n}\n\nexport default EntityFinder\n"],"names":["ChatBubbleTwoTone","createSvgIcon","_jsx","DescriptionTwoTone","LinkOffTwoTone","LocalOfferTwoTone","useSearchInfinite","query","options","accessToken","useSynapseContext","useInfiniteQuery","context","SynapseClient.searchEntities","prevPage","useGetProjectsInfinite","params","SynapseClient.getMyProjects","page","_objectSpread","target","i","source","ownKeys","sym","key","defineProperty","Browser","getDataProps","props","prev","ReflexSplitter","React","element","_defineProperty","event","domElement","className","_extends","PropTypes","ReflexEvents","events","fct","tmpArray","result","valueToFind","fromIndex","o","len","n","k","sameValueZero","x","y","ReflexContainer","data","pos","offset","availableOffset","resizedRefs","elements","child","resolve","idx","size","dir","splitterIdx","ex","flexData","windowResizeAware","prevProps","prevState","children","prevChildrenFlex","flex","top","bottom","left","right","diffFlex","sum","previousFlex","nextFlex","stretch","shrink","direction","childIdx","availableStretch","nextOffset","minSize","availableShrink","orientation","newSize","currentFlex","newFlex","dispatchedStretch","nextIdx","dispatchedShrink","component","pixelFlex","computeFreeFlex","entry","computeFreeElements","flexDataInit","computeFlexDataRec","flexDataIn","depth","hasContrain","freeElements","freeFlex","flexDataOut","proposedFlex","constrainedFlex","constrained","obj","index","newProps","ReflexHandle","FUNC_ERROR_TEXT","NAN","symbolTag","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","freeGlobal","global","freeSelf","root","objectProto","objectToString","nativeMax","nativeMin","now","debounce","func","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","toNumber","isObject","invokeFunc","time","args","thisArg","leadingEdge","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","shouldInvoke","trailingEdge","cancel","flush","debounced","isInvoking","throttle","value","type","isObjectLike","isSymbol","other","isBinary","lodash_throttle","MapShim","getIndex","arr","class_1","entries","callback","ctx","_i","_a","isBrowser","global$1","requestAnimationFrame$1","trailingTimeout","delay","leadingCall","trailingCall","resolvePending","proxy","timeoutCallback","timeStamp","REFRESH_DELAY","transitionKeys","mutationObserverSupported","ResizeObserverController","observer","observers","changesDetected","activeObservers","_b","propertyName","isReflowProperty","defineConfigurable","getWindowOf","ownerGlobal","emptyRect","createRectInit","toFloat","getBordersSize","styles","positions","position","getPaddings","paddings","positions_1","getSVGContentRect","bbox","getHTMLElementContentRect","clientWidth","clientHeight","horizPad","vertPad","width","height","isDocumentElement","vertScrollbar","horizScrollbar","isSVGGraphicsElement","getContentRect","createReadOnlyRect","Constr","rect","ResizeObservation","ResizeObserverEntry","rectInit","contentRect","ResizeObserverSPI","controller","callbackCtx","observations","_this","observation","ResizeObserver","method","types","getTypes","allowedTypes","node","calculations","withContentRect","WrappedComponent","_class","_temp","_Component","_inheritsLoose","WithContentRect","_len","_key","innerRef","_proto","_this$props","_objectWithoutPropertiesLoose","createElement","Component","Measure","_ref","measure","measureRef","toArray","SizeAwareReflexElement","resizeHeight","resizeWidth","dimensions","propagateDimensions","validChildren","ReflexElement","nextProps","snapshot","directions","style","ReflexElement$1","ref","Breadcrumbs","items","maxItemCount","truncateBreadcrumbs","jsxs","jsx","Fragment","item","getIsAllSelectedFromInfiniteList","numSelected","isSelected","isSelectable","hasNextPage","fetchNextPage","isFetchingNextPage","allSelectableFetchedChildrenAreSelected","e","selectableEntitiesArePresent","useGetIsAllSelectedFromInfiniteList","isSelectAll","setIsSelectAll","useState","useEffect","safeIsNaN","isEqual","first","second","areInputsEqual","newInputs","lastInputs","memoizeOne","resultFn","lastResult","calledOnce","memoized","newArgs","hasNativePerformanceNow","cancelTimeout","timeoutID","requestTimeout","start","tick","getScrollbarSize","recalculate","div","cachedRTLResult","getRTLOffsetType","outerDiv","outerStyle","innerDiv","innerStyle","IS_SCROLLING_DEBOUNCE_INTERVAL","defaultItemKey","columnIndex","rowIndex","createGridComponent","_ref2","getColumnOffset","getColumnStartIndexForOffset","getColumnStopIndexForStartIndex","getColumnWidth","getEstimatedTotalHeight","getEstimatedTotalWidth","getOffsetForColumnAndAlignment","getOffsetForRowAndAlignment","getRowHeight","getRowOffset","getRowStartIndexForOffset","getRowStopIndexForStartIndex","initInstanceProps","shouldResetStyleCacheOnItemSizeChange","validateProps","_PureComponent","Grid","_assertThisInitialized","overscanColumnStartIndex","overscanColumnStopIndex","overscanRowStartIndex","overscanRowStopIndex","visibleColumnStartIndex","visibleColumnStopIndex","visibleRowStartIndex","visibleRowStopIndex","scrollLeft","scrollTop","horizontalScrollDirection","verticalScrollDirection","scrollUpdateWasRequested","columnWidth","rowHeight","itemStyleCache","_offset","isRtl","_","__","___","_event$currentTarget","scrollHeight","scrollWidth","calculatedScrollLeft","calculatedScrollTop","outerRef","validateSharedProps","_ref3","_ref4","_ref4$align","align","_this$props2","columnCount","rowCount","_this$state","scrollbarSize","estimatedTotalHeight","estimatedTotalWidth","horizontalScrollbarSize","verticalScrollbarSize","_this$props3","initialScrollLeft","initialScrollTop","_this$state2","_this$props4","innerElementType","innerTagName","itemData","_this$props4$itemKey","itemKey","outerElementType","outerTagName","useIsScrolling","isScrolling","_this$_getHorizontalR","columnStartIndex","columnStopIndex","_this$_getVerticalRan","rowStartIndex","rowStopIndex","_rowIndex","_columnIndex","_this$props5","onItemsRendered","onScroll","_this$_getHorizontalR2","_overscanColumnStartIndex","_overscanColumnStopIndex","_visibleColumnStartIndex","_visibleColumnStopIndex","_this$_getVerticalRan2","_overscanRowStartIndex","_overscanRowStopIndex","_visibleRowStartIndex","_visibleRowStopIndex","_this$state3","_horizontalScrollDirection","_scrollLeft","_scrollTop","_scrollUpdateWasRequested","_verticalScrollDirection","_this$props6","overscanColumnCount","overscanColumnsCount","overscanCount","_this$state4","overscanCountResolved","startIndex","stopIndex","overscanBackward","overscanForward","_this$props7","overscanRowCount","overscanRowsCount","_this$state5","PureComponent","_ref5","_ref6","DEFAULT_ESTIMATED_ITEM_SIZE","rowMetadataMap","estimatedRowHeight","lastMeasuredRowIndex","totalSizeOfMeasuredRows","itemMetadata","numUnmeasuredItems","totalSizeOfUnmeasuredItems","columnMetadataMap","estimatedColumnWidth","lastMeasuredColumnIndex","getItemMetadata","itemType","instanceProps","itemMetadataMap","itemSize","lastMeasuredIndex","findNearestItem","lastMeasuredItemOffset","findNearestItemBinarySearch","findNearestItemExponentialSearch","high","low","middle","currentOffset","itemCount","interval","getOffsetForIndexAndAlignment","scrollOffset","estimatedTotalSize","maxOffset","minOffset","VariableSizeGrid","instance","shouldForceUpdate","_ref6$shouldForceUpda","_ref7","IS_SCROLLING_DEBOUNCE_INTERVAL$1","defaultItemKey$1","createListComponent","getItemOffset","getEstimatedTotalSize","getItemSize","getStartIndexForOffset","getStopIndexForStartIndex","List","overscanStartIndex","overscanStopIndex","visibleStartIndex","visibleStopIndex","scrollDirection","layout","isHorizontal","offsetHorizontal","_event$currentTarget2","validateSharedProps$1","initialScrollOffset","_this$props5$itemKey","_this$_getRangeToRend","_index","_this$_getRangeToRend2","_overscanStartIndex","_overscanStopIndex","_visibleStartIndex","_visibleStopIndex","_scrollDirection","_scrollOffset","DEFAULT_ESTIMATED_ITEM_SIZE$1","getItemMetadata$1","findNearestItem$1","findNearestItemBinarySearch$1","findNearestItemExponentialSearch$1","estimatedItemSize","totalSizeOfMeasuredItems","VariableSizeList","FixedSizeGrid","lastColumnOffset","middleOffset","_ref8","lastRowOffset","_ref9","_ref10","numVisibleColumns","_ref11","_ref12","numVisibleRows","_ref13","TableHeader","_React$PureComponent","_this2","columns","headerRenderer","rowData","rowRenderer","rowWidth","headerHeight","frozenData","rowHeights","object","enumerableOnly","keys","symbols","renderElement","renderer","normalizeColumns","column","isObjectEqual","objA","objB","ignoreFunction","keysA","keysB","valueA","valueB","valueAType","callOrReturn","funcOrValue","hasChildren","flattenOnKeys","tree","depthMap","dataKey","array","keysSet","stack","_loop","cloneArray","noop","toString","getPathSegments","path","pathArray","parts","p","getValue","defaultValue","fn","ms","timeoutId","_len2","_key2","inThrottle","lastFn","lastTime","scrollDiv","addClassName","el","removeClassName","getEstimatedTotalRowsHeight","_excluded","GridTable","memoize","bodyWidth","containerStyle","classPrefix","headerWidth","hoveredRowKey","rest","frozenRowCount","frozenRowsHeight","cls","cn","containerProps","Header","rowKey","TableHeaderRow","headerIndex","cellRenderer","expandColumnKey","ExpandIcon","Tag","cells","_excluded2","TableRow","rowEventHandlers","expandIconRenderer","expandIcon","eventHandlers","otherStyles","expanded","onRowExpand","initialMeasure","onRowHeightChange","handlers","onRowHover","eventKey","mouseEnterHandler","mouseLeaveHandler","TableHeaderCell","TableCell","cellData","Alignment","FrozenDirection","Column","_React$Component","SortOrder","expandable","indentSize","onExpand","SortIndicator","sortOrder","INVALID_VALUE","addUserSelectStyles","doc","styleEl","removeUserSelectStyles","selection","eventsFor","dragEventFor","ColumnResizer","ownerDocument","clientX","offsetParent","offsetParentRect","MIN_WIDTH","maxWidth","_column$minWidth","minWidth","movedX","newWidth","ColumnManager","fixed","_this3","_this4","_this5","_this6","mainColumns","_objectSpread2","_objectSpread3","_this7","_this8","_this9","_this10","_this11","flexGrow","flexShrink","flexValue","_this12","_excluded3","_excluded4","_excluded5","getColumns","getContainerStyle","DEFAULT_COMPONENTS","RESIZE_THROTTLE_WAIT","EMPTY_ARRAY","BaseTable","defaultExpandedRowKeys","expandedRowKeys","expandIconProps","extraProps","_cn","rowClassName","rowClass","hasFrozenColumns","rowProps","_cn2","dataGetter","cellProps","cell","cellCls","tagName","_cn3","headerClassName","headerClass","headerProps","_cn4","_cn5","sortBy","sortState","headerCellProps","sorting","order","tableWidth","columnsWidth","containerHeight","_this$props8","scrollbarWidth","_this$props9","resizingKey","frozen","leftWidth","rightWidth","_this$props10","footerHeight","footerRenderer","_this$props11","emptyRenderer","overlayRenderer","_cn6","_this$props12","disabled","_data","_this$props13","maxHeight","name","_this$props14","_this$props15","_this$props16","tableHeight","totalRowsHeight","totalHeight","_this$props17","totalColumnsWidth","prevHorizontalScrollbarSize","prevVerticalScrollbarSize","onScrollbarPresenceChange","_this$props18","onEndReached","onEndReachedThreshold","distanceFromEnd","lastScrollTop","hovered","resizingWidth","_this$props19","onColumnSort","defaultGetScrollbarSize","classCallCheck","Constructor","createClass","defineProperties","descriptor","protoProps","staticProps","inherits","subClass","superClass","possibleConstructorReturn","self","call","slicedToArray","sliceIterator","_arr","_n","_d","_e","_s","err","windowObject","cancelFrame","requestFrame","TIMEOUT_DURATION","clearTimeoutFn","setTimeoutFn","cancelAnimationFrameFn","requestAnimationFrameFn","animationFrameID","createDetectElementResize","nonce","animationKeyframes","animationName","animationStartEvent","animationStyle","checkTriggers","resetTriggers","scrollListener","attachEvent","triggers","expand","contract","expandChild","animation","keyframeprefix","domPrefixes","startEvents","pfx","elm","createStyles","css","head","addResizeListener","elementStyle","expandTrigger","contractTrigger","removeResizeListener","AutoSizer","_ret","disableHeight","disableWidth","onResize","_height","_width","_style","paddingLeft","paddingRight","paddingTop","paddingBottom","newHeight","autoSizer","_props","_state","childParams","bailoutOnChildren","AutoResizer","VersionSelectionType","isPublic","bundle","ra","AUTHENTICATED_PRINCIPAL_ID","PUBLIC_PRINCIPAL_ID","ANONYMOUS_PRINCIPAL_ID","EntityBadgeIcons","entityId","versionNumber","flexWrap","justifyContent","showIsPublicPrivate","showHasLocalSharingSettings","showHasAnnotations","showHasWiki","showHasDiscussionThread","showUnlink","onUnlink","onUnlinkError","canOpenModal","SchemaConformanceState","SchemaConformanceState2","inView","useInView","useGetEntityBundle","ALL_ENTITY_BUNDLE_FIELDS","showModal","setShowModal","showUnlinkConfirmModal","setShowUnlinkConfirmModal","schemaConformance","setSchemaConformance","isInExperimentalMode","boundSchema","useGetSchemaBinding","schemaValidationResults","useGetValidationResults","maxAnnosToShow","annotationsCount","isEmpty","unlinkEntity","useDeleteEntity","entityId2","annotationsTableRows","previous","current","valiationSchemaTableRow","annotationsHtml","EntityModal","EntityModalTabs","Tooltip","PublicTwoTone","LockTwoTone","CheckTwoTone","EntityType","WarningModal","CustomSortIndicator","SortIcon","BadgeIconsRenderer","DateRenderer","formatDate","dayjs","ModifiedOnRenderer","isLoading","Skeleton","CreatedOnRenderer","EntityNameRenderer","EntityLink","ProjectRenderer","entityBundle","isLoadingBundle","project","isLoadingProjectEntity","useGetEntity","UserCardRenderer","UserCard","SMALL_USER_CARD","ModifiedByRenderer","LoadingRenderer","SynapseSpinner","DetailsViewCheckboxRenderer","isDisabled","Checkbox","TypeIconRenderer","EntityTypeIcon","EmptyRenderer","noResultsPlaceholder","DatasetEditorVersionRenderer","toggleSelection","versionData","isError","useGetVersionsInfinite","versions","currentVersionHasBeenRetrieved","version","Form","getLatestVersionText","versionSelection","entityType","versionDisplay","snapshotDisplay","isTableType","IconSvg","DetailsViewVersionRenderer","id","isVersionableEntity","currentSelectedVersion","NO_VERSION_NUMBER","showLatestVersion","latestVersionText","DatasetEditorCheckboxRenderer","setSelected","EntityErrorRenderer","error","message","CHOOSE_REFERENCE","CHOOSE_ACTION","ALWAYS_LATEST_VERSION_EXPLANATION","VersionColumnHeader","helpCopy","HelpPopover","MIN_TABLE_WIDTH","ROW_HEIGHT","DetailsView","entities","selectColumnType","selected","visibleTypes","selectableTypes","sort","setSort","enableSelectAll","selectAllIsChecked","getChildrenInfiniteRequestObject","totalEntities","setCurrentContainer","queryClient","useQueryClient","showSelectColumn","shouldSelectAll","setShouldSelectAll","showLoadingScreen","setShowLoadingScreen","cancelQuery","determineRowAppearance","entity","getEntityTypeFromHeader","handleSelectAll","selectedVersion","latestVersion","isVersionableEntityType","getEntityVersions","tableData","entities2","appearance","SelectAllCheckboxRenderer","useMemo","isEnabled","NameRenderer","useCallback","isContainerType","BlockingLoader","Direction","SortBy","EntityChildrenDetails","parentContainerId","sharedProps","setSortBy","sortDirection","setSortDirection","useGetEntityChildrenInfinite","selectAllCheckboxState","newSortBy","newSortDirection","FavoritesDetails","useGetFavoritesInfinite","toEntityHeader","projectHeader","ProjectListDetails","projectsParams","projects","hit","convertToConcreteEntityType","SearchDetails","searchQuery","EntityDetailsListDataConfigurationType","EntityDetailsListDataConfigurationType2","EntityDetailsList","configuration","setComponent","useDeepCompareEffect","config","SynapseErrorBoundary","SelectionPane","title","selectedEntities","Typography","EntityPathDisplay","entityName","setEntityName","fullPath","setFullPath","displayedPath","setDisplayedPath","header","header2","TOOLTIP_DELAY_SHOW","Clear","mergeRefs","refs","createBasicRecord","pub","parent","getIdByIndex","getRecordData","_getRecordData","Row","_ref$data","Node","treeData","generateNewTree","state","createRecord","buildingTaskTimeout","placeholder","_ref3$async","async","treeWalker","shouldPreservePreviousState","previousRecords","records","requestIdleCallbackOptions","meta","iter","_iter$next","rootRecord","currentRecord","isTraversingRoot","tempRecord","useIdleCallback","hasTime","deadline","task","_iter$next2","childRecord","MAX_FUNCTION_ARGUMENTS","SPLICE_DEFAULT_ARGUMENTS_NUMBER","updateExistingTree","opennessState","opts","ownerRecord","open","_ref6$subtreeCallback","subtreeCallback","update","apply","recordNextToSubtree","countToRemove","orderParts","record","currentOrderPart","count","createTreeComputer","creatorOptions","Tree","_props$listRef","listRef","computeTree","list","oldTreeWalker","createRef","_this$state$list$curr","_this$state$list$curr2","previousRecord","recomputeTree","resetAfterId","_recomputeTree","VariableSizeTree","_Tree","_list$current","_this2$state$list$cur","rowComponent","attachRefs","EntityTreeNodeType","EntityTreeNodeType2","getTreeNodeType","isPaginationNode","isEntityHeaderNode","isRootNodeConfiguration","hasMoreChildren","isLeafNode","getNodeData","nestingLevel","getNextPageOfChildren","setSelectedId","treeNodeType","autoExpand","defaultHeight","currentContainer","isOpenByDefault","isLeaf","isOpen","setOpen","setLoading","nodeText","toggleExpand","tooltipContent","getTreeWalkerFunction","rootNode","fetchNextPageOfChildren","parentMeta","childNode","paginationNode","VirtualizedTree","rootNodeConfiguration","setRootNode","SynapseClient.getEntityChildren","cloneDeep","memoizedTreeWalker","isEntityIdInPath","eh","FinderScope","FinderScope2","getScopeOptionDefaultContainer","scope","getScopeOptionNodeName","EntityTree","initialScope","projectId","initialContainer","setDetailsViewConfiguration","setBreadcrumbItems","showScopeAsRootNode","DEFAULT_CONFIGURATION","setScope","useProjectData","projectData","fetchNextPageProjects","hasNextPageProjects","isLoadingProjects","currentContainerBundle","isSuccessBundle","favorites","isLoadingFavorites","useGetFavorites","convertToEntityType","initialContainerPath","useGetEntityPath","SYNAPSE_ENTITY_ID_REGEX","isLoadingProjectHeader","fetchProjectError","useGetEntityHeader","displayToast","topLevelEntities","topLevelEntities2","isLoading2","detailsViewConfig","breadcrumbItems","shouldAutoExpand","Dropdown","scopeOption","useEntitySelection","selectMultiple","match","entitySelectionReducer","toggledReferences","map","toggledReference","useReducer","Map","DEFAULT_SELECTABLE_TYPES","TABLE_DEFAULT_VISIBLE_TYPES","TREE_DEFAULT_VISIBLE_TYPES","searchForOnlyTypesBooleanQuery","entityTypes","EntityFinder","onSelectedChange","visibleTypesInList","visibleTypesInTree","selectedCopy","treeOnly","searchActive","setSearchActive","searchInput","setSearchInput","searchTerms","setSearchTerms","breadcrumbsProps","setBreadcrumbsProps","searchByIdResults","setSearchByIdResults","configFromTreeView","setConfigFromTreeView","searchInputRef","useRef","selectableAndVisibleTypesInTree","selectableAndVisibleTypesInList","handleError","useErrorHandler","setBreadcrumbs","isIdSelected","searchTermReference","parseSynId","SynapseClient.getEntityHeaders","response","mainPanelClass","searchButtonText","tableArray","pluralize","entityTypeToFriendlyName","Button","Arrow","FormControl","SizeMe","EntityFinder$1"],"mappings":"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"}