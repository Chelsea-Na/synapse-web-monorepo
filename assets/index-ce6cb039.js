var C=Object.defineProperty;var w=(n,l,e)=>l in n?C(n,l,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[l]=e;var m=(n,l,e)=>(w(n,typeof l!="symbol"?l+"":l,e),e);import{j as a,a as d,F as S}from"./jsx-runtime-095bf462.js";import{R as p}from"./index-8db94870.js";import{I as y}from"./IconSvg-8e470b55.js";import{D as N}from"./RegularExpressions-bc0adf55.js";import{I as g}from"./Icon-2eb6cc74.js";class h extends p.Component{constructor(e){super(e);m(this,"renderRowValue",(e,t,i)=>{const s=this.props.columnIconOptions;if(!t.match||!t.trim)return t;if(t=t.trim(),t.match(N))return a("a",{"data-search-handle":e,target:"_blank",rel:"noopener noreferrer",href:`https://dx.doi.org/${t}`,children:t});if(s&&s.columns&&Object.keys(s.columns).includes(i)){const r=s.columns[i][t];return r?(r.sx={...r.sx,paddingRight:"0.2rem"},d(S,{children:[a(y,{...r}),a("span",{style:{verticalAlign:"middle"},children:t})]})):a("span",{children:t})}return t});m(this,"renderRows",(e,t,i)=>e.map((s,r)=>{const o=r>=t?"SRC-hidden":"",c=s[0],u=this.renderRowValue(c,s[1],s[2]);return i?d("tr",{className:"SRC-cardRowDesktop "+o,children:[a("td",{className:"SRC-verticalAlignTop SRC-row-label",children:c}),a("td",{"data-search-handle":c,className:"SRC-row-data SRC-limitMaxWidth ",children:u})]},r):d(p.Fragment,{children:[a("tr",{className:"SRC-cardRowMobile "+o,children:a("td",{className:"SRC-verticalAlignTop SRC-row-label",children:c})}),a("tr",{className:"SRC-cardRowMobile "+o,children:a("td",{"data-search-handle":c,className:"SRC-row-data SRC-limitMaxWidth",children:u})})]},r)}));this.state={isShowMoreOn:!1,isDesktop:!1},this.toggleShowMore=this.toggleShowMore.bind(this),this.updatePredicate=this.updatePredicate.bind(this)}toggleShowMore(){this.setState({isShowMoreOn:!this.state.isShowMoreOn})}componentDidMount(){this.updatePredicate(),window.addEventListener("resize",this.updatePredicate)}componentWillUnmount(){window.removeEventListener("resize",this.updatePredicate)}updatePredicate(){this.setState({isDesktop:window.innerWidth>600})}render(){const{values:e,secondaryLabelLimit:t=3}=this.props,{isShowMoreOn:i,isDesktop:s}=this.state,r=e.filter(u=>u[1]),o=r.length>t,c=!o||i?1/0:t;return a("div",{"data-testid":"CardFooter",className:`SRC-cardMetadata ${this.props.className??""}`,children:a("table",{children:d("tbody",{children:[this.renderRows(r,c,s),o&&a("tr",{className:"SRC-cardRow",children:a("td",{children:d("a",{style:{textAlign:"left",margin:0,padding:0},onClick:this.toggleShowMore,className:"highlight-link",children:["Show ",i?"Less":"More",a(y,{icon:i?"expandLess":"expandMore"})]})})})]})})})}}try{h.displayName="CardFooter",h.__docgenInfo={description:"",displayName:"CardFooter",props:{values:{defaultValue:null,description:"",name:"values",required:!0,type:{name:"any[]"}},isHeader:{defaultValue:null,description:"",name:"isHeader",required:!0,type:{name:"boolean"}},secondaryLabelLimit:{defaultValue:null,description:"",name:"secondaryLabelLimit",required:!1,type:{name:"number"}},columnIconOptions:{defaultValue:null,description:"",name:"columnIconOptions",required:!1,type:{name:"ColumnIconConfigs"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const f=({chips:n})=>{const l=n.map((e,t)=>e?d("span",{children:[" ",e]},t):!1);return a(p.Fragment,{children:l})};try{f.displayName="ChipContainer",f.__docgenInfo={description:"",displayName:"ChipContainer",props:{chips:{defaultValue:null,description:"",name:"chips",required:!0,type:{name:"any[]"}}}}}catch{}const M=400;class _ extends p.Component{constructor(e){super(e);m(this,"getCutoff",(e,t)=>{let i="";if(!e)return{previewText:i};let s="";const r=e.split(" ");let o=0;for(;i.length<t&&o<r.length;)i+=`${r[o]} `,o+=1;return o<r.length-1&&(s=r.slice(o).join(" ")),{previewText:i,hiddenText:s}});this.state={showMore:!1},this.toggleShowMore=this.toggleShowMore.bind(this)}toggleShowMore(e){e.preventDefault(),this.setState({showMore:!0})}render(){const{summary:e,maxCharacterCount:t=M}=this.props,i=e&&e.length>=t,{previewText:s,hiddenText:r}=this.getCutoff(e,t),o=i&&a("a",{style:{fontSize:"14px",cursor:"pointer",marginLeft:"5px"},onClick:this.toggleShowMore,className:"highlight-link",children:"...Show More"});return d(p.Fragment,{children:[d("span",{children:[s,a("span",{className:this.state.showMore?"":"SRC-hidden",children:r})]}),!this.state.showMore&&o]})}}try{_.displayName="ShowMore",_.__docgenInfo={description:"",displayName:"ShowMore",props:{summary:{defaultValue:null,description:"",name:"summary",required:!0,type:{name:"string"}},maxCharacterCount:{defaultValue:null,description:"",name:"maxCharacterCount",required:!1,type:{name:"number"}}}}}catch{}try{h.displayName="CardFooter",h.__docgenInfo={description:"",displayName:"CardFooter",props:{values:{defaultValue:null,description:"",name:"values",required:!0,type:{name:"any[]"}},isHeader:{defaultValue:null,description:"",name:"isHeader",required:!0,type:{name:"boolean"}},secondaryLabelLimit:{defaultValue:null,description:"",name:"secondaryLabelLimit",required:!1,type:{name:"number"}},columnIconOptions:{defaultValue:null,description:"",name:"columnIconOptions",required:!1,type:{name:"ColumnIconConfigs"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}try{g.displayName="Icon",g.__docgenInfo={description:"",displayName:"Icon",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"string"}},iconOptions:{defaultValue:null,description:"",name:"iconOptions",required:!1,type:{name:"IconOptions"}},value:{defaultValue:{value:""},description:"",name:"value",required:!1,type:{name:"string"}},isHeader:{defaultValue:null,description:"",name:"isHeader",required:!1,type:{name:"boolean"}},cssClass:{defaultValue:null,description:"",name:"cssClass",required:!1,type:{name:"string"}}}}}catch{}try{utils.displayName="utils",utils.__docgenInfo={description:"",displayName:"utils",props:{summary:{defaultValue:null,description:"",name:"summary",required:!0,type:{name:"string"}},maxCharacterCount:{defaultValue:null,description:"",name:"maxCharacterCount",required:!1,type:{name:"number"}}}}}catch{}try{f.displayName="ChipContainer",f.__docgenInfo={description:"",displayName:"ChipContainer",props:{chips:{defaultValue:null,description:"",name:"chips",required:!0,type:{name:"any[]"}}}}}catch{}export{f as C,_ as S,h as a};
//# sourceMappingURL=index-ce6cb039.js.map
