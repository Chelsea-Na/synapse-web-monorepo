import{j as P,a as pe,F as qt}from"./jsx-runtime-095bf462.js";import{r as l}from"./index-8db94870.js";import{S as xl}from"./StepperDialog-ca502d5f.js";import{T as fn}from"./TextField-76c7d359.js";import{B as je}from"./Box-653de305.js";import{T as Zt}from"./Typography-387311b4.js";import{r as Ml,i as kl,a as Tl}from"./jsx-runtime_commonjs-proxy-255f87f5.js";import{f as Fl}from"./DateFormatter-138ea969.js";import{d as _l}from"./dayjs.min-8d4ef725.js";import{R as $l}from"./RadioGroup-18e2828d.js";import{d as Rl}from"./Search-27c9008a.js";import{B as Eo,u as Dl}from"./useGetEntityChallenge-295f064a.js";import{I as En,F as Vt,a as Io}from"./InputLabel-fc988d78.js";import"./SkeletonButton-49cb733d.js";import{L as xo,c as Mo,B as gr,d as mr,e as Hl,f as Ll}from"./ConfirmationDialog-ae3a4e27.js";import{S as Ol}from"./SkeletonTable-791899be.js";import"./SkeletonParagraph-de9476bc.js";import{u as Jn,f as fr,a as hr,b as Vl,h as ko,i as Al,j as Gl,r as zl,k as Nl}from"./SynapseClient-37e23fa2.js";import{L as Bl}from"./react-router-dom-3dc51658.js";import{g as Ul,B as Kl}from"./getEndpoint-ac94413e.js";import{P as z}from"./index-58d3fd43.js";import{_ as m}from"./emotion-use-insertion-effect-with-fallbacks.browser.esm-8498a53a.js";import{g as At,a as en,s as ce,c as Fe,b as Ve,l as tn,d as nn,u as on,_ as Z,e as de,f as ue}from"./styled-29603136.js";import{_ as Yt}from"./Select-457c486b.esm-8a18d265.js";import{c as Ee}from"./createSvgIcon-cc5dda5a.js";import{M as Be}from"./MenuItem-ba29a202.js";import{u as De,G as Wl}from"./Grow-e114a38b.js";import{u as Ye,a as Mt}from"./useForkRef-1b9aecd1.js";import{C as pr}from"./ErrorChip-fa66ec33.js";import{P as Xn,T as jl}from"./Tooltip-f9c1481b.js";import{C as Cr}from"./ClickAwayListener-ce43512b.js";import{P as br}from"./Paper-e7d00d51.js";import{I as lt}from"./IconButton-5d241967.js";import{M as wr}from"./MenuList-524109eb.js";import{i as ql,o as In}from"./isHostComponent-fa76b8d9.js";import{u as Ze}from"./TransitionGroupContext-979937b1.js";import{o as To,d as Sr}from"./ownerWindow-2c76219e.js";import{S as Yl,F as Ql,C as Jl}from"./FormControlLabel-d1d0ee28.js";import{M as vr,T as yr}from"./TextField-ffa078b8.js";import{B as Pr}from"./Button-5c815620.js";import{S as Xl}from"./Skeleton-877784f8.js";import{K as Fo,a as _o}from"./Tabs-5a3a3764.js";import{u as Zl}from"./useTheme-81f60015.js";import{F as es}from"./Modal-47901d1e.js";import{r as Er}from"./index-8ce4a492.js";import{c as ts}from"./Stack-16937500.js";import{A as ns}from"./SynapseConstants-351603e3.js";import"./EntityTypeUtils-a3f82d0d.js";import{u as os}from"./useGetUserTeams-153d5007.js";import{u as rs,a as ls}from"./useTeamMembers-621f951e.js";function _n(e,t){return()=>null}const ss=ts(),is=ss;function as(e){return en("MuiSwitch",e)}const cs=At("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),He=cs,us=["className","color","edge","size","sx"],ds=e=>{const{classes:t,edge:n,size:o,color:r,checked:s,disabled:i}=e,c={root:["root",n&&`edge${Fe(n)}`,`size${Fe(o)}`],switchBase:["switchBase",`color${Fe(r)}`,s&&"checked",i&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},a=ue(c,as,t);return m({},t,a)},gs=ce("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.edge&&t[`edge${Fe(n.edge)}`],t[`size${Fe(n.size)}`]]}})(({ownerState:e})=>m({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},e.edge==="start"&&{marginLeft:-8},e.edge==="end"&&{marginRight:-8},e.size==="small"&&{width:40,height:24,padding:7,[`& .${He.thumb}`]:{width:16,height:16},[`& .${He.switchBase}`]:{padding:4,[`&.${He.checked}`]:{transform:"translateX(16px)"}}})),ms=ce(Yl,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.switchBase,{[`& .${He.input}`]:t.input},n.color!=="default"&&t[`color${Fe(n.color)}`]]}})(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${He.checked}`]:{transform:"translateX(20px)"},[`&.${He.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${He.checked} + .${He.track}`]:{opacity:.5},[`&.${He.disabled} + .${He.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${He.input}`]:{left:"-100%",width:"300%"}}),({theme:e,ownerState:t})=>m({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Ve(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${He.checked}`]:{color:(e.vars||e).palette[t.color].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ve(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${He.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t.color}DisabledColor`]:`${e.palette.mode==="light"?tn(e.palette[t.color].main,.62):nn(e.palette[t.color].main,.55)}`}},[`&.${He.checked} + .${He.track}`]:{backgroundColor:(e.vars||e).palette[t.color].main}})),fs=ce("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`})),hs=ce("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),ps=l.forwardRef(function(t,n){const o=on({props:t,name:"MuiSwitch"}),{className:r,color:s="primary",edge:i=!1,size:c="medium",sx:a}=o,g=Z(o,us),d=m({},o,{color:s,edge:i,size:c}),u=ds(d),f=P(hs,{className:u.thumb,ownerState:d});return pe(gs,{className:de(u.root,r),sx:a,ownerState:d,children:[P(ms,m({type:"checkbox",icon:f,checkedIcon:f,ref:n,ownerState:d},g,{classes:m({},u,{root:u.switchBase})})),P(fs,{className:u.track,ownerState:d})]})}),Cs=ps,bs=l.createContext(),ws=bs,Ss=l.createContext(),vs=Ss;function ys(e){return en("MuiTableCell",e)}const Ps=At("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),Es=Ps,Is=["align","className","component","padding","scope","size","sortDirection","variant"],xs=e=>{const{classes:t,variant:n,align:o,padding:r,size:s,stickyHeader:i}=e,c={root:["root",n,i&&"stickyHeader",o!=="inherit"&&`align${Fe(o)}`,r!=="normal"&&`padding${Fe(r)}`,`size${Fe(s)}`]};return ue(c,ys,t)},Ms=ce("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${Fe(n.size)}`],n.padding!=="normal"&&t[`padding${Fe(n.padding)}`],n.align!=="inherit"&&t[`align${Fe(n.align)}`],n.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>m({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?tn(Ve(e.palette.divider,1),.88):nn(Ve(e.palette.divider,1),.68)}`,textAlign:"left",padding:16},t.variant==="head"&&{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},t.variant==="body"&&{color:(e.vars||e).palette.text.primary},t.variant==="footer"&&{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},t.size==="small"&&{padding:"6px 16px",[`&.${Es.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},t.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},t.padding==="none"&&{padding:0},t.align==="left"&&{textAlign:"left"},t.align==="center"&&{textAlign:"center"},t.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},t.align==="justify"&&{textAlign:"justify"},t.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default})),ks=l.forwardRef(function(t,n){const o=on({props:t,name:"MuiTableCell"}),{align:r="inherit",className:s,component:i,padding:c,scope:a,size:g,sortDirection:d,variant:u}=o,f=Z(o,Is),C=l.useContext(ws),x=l.useContext(vs),y=x&&x.variant==="head";let p;i?p=i:p=y?"th":"td";let I=a;p==="td"?I=void 0:!I&&y&&(I="col");const k=u||x&&x.variant,S=m({},o,{align:r,component:p,padding:c||(C&&C.padding?C.padding:"normal"),size:g||(C&&C.size?C.size:"medium"),sortDirection:d,stickyHeader:k==="head"&&C&&C.stickyHeader,variant:k}),h=xs(S);let F=null;return d&&(F=d==="asc"?"ascending":"descending"),P(Ms,m({as:p,ref:n,className:de(h.root,s),"aria-sort":F,scope:I,ownerState:S},f))}),Ln=ks;function Ts(e){return en("MuiToolbar",e)}At("MuiToolbar",["root","gutters","regular","dense"]);const Fs=["className","component","disableGutters","variant"],_s=e=>{const{classes:t,disableGutters:n,variant:o}=e;return ue({root:["root",!n&&"gutters",o]},Ts,t)},$s=ce("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})(({theme:e,ownerState:t})=>m({position:"relative",display:"flex",alignItems:"center"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}},t.variant==="dense"&&{minHeight:48}),({theme:e,ownerState:t})=>t.variant==="regular"&&e.mixins.toolbar),Rs=l.forwardRef(function(t,n){const o=on({props:t,name:"MuiToolbar"}),{className:r,component:s="div",disableGutters:i=!1,variant:c="regular"}=o,a=Z(o,Fs),g=m({},o,{component:s,disableGutters:i,variant:c}),d=_s(g);return P($s,m({as:s,className:de(d.root,r),ref:n,ownerState:g},a))}),Ds=Rs;var $o,Ro,Do,Ho,Lo,Oo,Vo,Ao;const Hs=["backIconButtonProps","count","getItemAriaLabel","nextIconButtonProps","onPageChange","page","rowsPerPage","showFirstButton","showLastButton"],Ls=l.forwardRef(function(t,n){const{backIconButtonProps:o,count:r,getItemAriaLabel:s,nextIconButtonProps:i,onPageChange:c,page:a,rowsPerPage:g,showFirstButton:d,showLastButton:u}=t,f=Z(t,Hs),C=Zl(),x=k=>{c(k,0)},y=k=>{c(k,a-1)},p=k=>{c(k,a+1)},I=k=>{c(k,Math.max(0,Math.ceil(r/g)-1))};return pe("div",m({ref:n},f,{children:[d&&P(lt,{onClick:x,disabled:a===0,"aria-label":s("first",a),title:s("first",a),children:C.direction==="rtl"?$o||($o=P(xo,{})):Ro||(Ro=P(Mo,{}))}),P(lt,m({onClick:y,disabled:a===0,color:"inherit","aria-label":s("previous",a),title:s("previous",a)},o,{children:C.direction==="rtl"?Do||(Do=P(Fo,{})):Ho||(Ho=P(_o,{}))})),P(lt,m({onClick:p,disabled:r!==-1?a>=Math.ceil(r/g)-1:!1,color:"inherit","aria-label":s("next",a),title:s("next",a)},i,{children:C.direction==="rtl"?Lo||(Lo=P(_o,{})):Oo||(Oo=P(Fo,{}))})),u&&P(lt,{onClick:I,disabled:a>=Math.ceil(r/g)-1,"aria-label":s("last",a),title:s("last",a),children:C.direction==="rtl"?Vo||(Vo=P(Mo,{})):Ao||(Ao=P(xo,{}))})]}))}),Os=Ls;function Vs(e){return en("MuiTablePagination",e)}const As=At("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]),Et=As;var Go;const Gs=["ActionsComponent","backIconButtonProps","className","colSpan","component","count","getItemAriaLabel","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","onPageChange","onRowsPerPageChange","page","rowsPerPage","rowsPerPageOptions","SelectProps","showFirstButton","showLastButton"],zs=ce(Ln,{name:"MuiTablePagination",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({overflow:"auto",color:(e.vars||e).palette.text.primary,fontSize:e.typography.pxToRem(14),"&:last-child":{padding:0}})),Ns=ce(Ds,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(e,t)=>m({[`& .${Et.actions}`]:t.actions},t.toolbar)})(({theme:e})=>({minHeight:52,paddingRight:2,[`${e.breakpoints.up("xs")} and (orientation: landscape)`]:{minHeight:52},[e.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},[`& .${Et.actions}`]:{flexShrink:0,marginLeft:20}})),Bs=ce("div",{name:"MuiTablePagination",slot:"Spacer",overridesResolver:(e,t)=>t.spacer})({flex:"1 1 100%"}),Us=ce("p",{name:"MuiTablePagination",slot:"SelectLabel",overridesResolver:(e,t)=>t.selectLabel})(({theme:e})=>m({},e.typography.body2,{flexShrink:0})),Ks=ce(vr,{name:"MuiTablePagination",slot:"Select",overridesResolver:(e,t)=>m({[`& .${Et.selectIcon}`]:t.selectIcon,[`& .${Et.select}`]:t.select},t.input,t.selectRoot)})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,[`& .${Et.select}`]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),Ws=ce(Be,{name:"MuiTablePagination",slot:"MenuItem",overridesResolver:(e,t)=>t.menuItem})({}),js=ce("p",{name:"MuiTablePagination",slot:"DisplayedRows",overridesResolver:(e,t)=>t.displayedRows})(({theme:e})=>m({},e.typography.body2,{flexShrink:0}));function qs({from:e,to:t,count:n}){return`${e}–${t} of ${n!==-1?n:`more than ${t}`}`}function Ys(e){return`Go to ${e} page`}const Qs=e=>{const{classes:t}=e;return ue({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},Vs,t)},Js=l.forwardRef(function(t,n){const o=on({props:t,name:"MuiTablePagination"}),{ActionsComponent:r=Os,backIconButtonProps:s,className:i,colSpan:c,component:a=Ln,count:g,getItemAriaLabel:d=Ys,labelDisplayedRows:u=qs,labelRowsPerPage:f="Rows per page:",nextIconButtonProps:C,onPageChange:x,onRowsPerPageChange:y,page:p,rowsPerPage:I,rowsPerPageOptions:k=[10,25,50,100],SelectProps:S={},showFirstButton:h=!1,showLastButton:F=!1}=o,R=Z(o,Gs),w=o,v=Qs(w),M=S.native?"option":Ws;let _;(a===Ln||a==="td")&&(_=c||1e3);const T=De(S.id),G=De(S.labelId),L=()=>g===-1?(p+1)*I:I===-1?g:Math.min(g,(p+1)*I);return P(zs,m({colSpan:_,ref:n,as:a,ownerState:w,className:de(v.root,i)},R,{children:pe(Ns,{className:v.toolbar,children:[P(Bs,{className:v.spacer}),k.length>1&&P(Us,{className:v.selectLabel,id:G,children:f}),k.length>1&&P(Ks,m({variant:"standard"},!S.variant&&{input:Go||(Go=P(En,{}))},{value:I,onChange:y,id:T,labelId:G},S,{classes:m({},S.classes,{root:de(v.input,v.selectRoot,(S.classes||{}).root),select:de(v.select,(S.classes||{}).select),icon:de(v.selectIcon,(S.classes||{}).icon)}),children:k.map(E=>l.createElement(M,m({},!ql(M)&&{ownerState:w},{className:v.menuItem,key:E.label?E.label:E,value:E.value?E.value:E}),E.label?E.label:E))})),P(js,{className:v.displayedRows,children:u({from:g===0?0:p*I+1,to:L(),count:g===-1?-1:g,page:p})}),P(r,{className:v.actions,backIconButtonProps:s,count:g,nextIconButtonProps:C,onPageChange:x,page:p,rowsPerPage:I,showFirstButton:h,showLastButton:F,getItemAriaLabel:d})]})}))}),Xs=Js,On=({onChangeTeamInfo:e,onError:t})=>{const[n,o]=l.useState({name:"",description:"",message:"",invitees:""}),r=i=>{const c={...n,...i};o(c),e(c)},s=i=>{if(i.split(",").length>3&&t)return t("Please limit the initial number of invited members to three. You may add additional members after the team has been created.");r({invitees:i})};return pe(je,{children:[P(Zt,{variant:"body1",sx:{lineHeight:"20px"},children:"Create a new team for this Challenge!"}),P(fn,{id:"name",label:"Team Name",value:n.name,fullWidth:!0,autoFocus:!0,required:!0,onChange:i=>r({name:i.target.value})}),P(je,{display:"flex",children:P(fn,{id:"description",label:P(je,{display:"flex",gap:2,children:P(je,{children:"Team Description"})}),value:n.description,fullWidth:!0,multiline:!0,rows:4,onChange:i=>r({description:i.target.value})})}),P(je,{display:"flex",children:P(fn,{id:"message",label:P(je,{display:"flex",gap:2,children:P(je,{children:"Recruitment Message"})}),value:n.message,fullWidth:!0,multiline:!0,rows:4,onChange:i=>r({message:i.target.value})})}),P(fn,{id:"invitees",label:"Emails of Additional Members to Invite (max 3)",placeholder:"Enter emails separated by comma",value:n.invitees,fullWidth:!0,onChange:i=>s(i.target.value)})]})};try{On.displayName="CreateChallengeTeam",On.__docgenInfo={description:"",displayName:"CreateChallengeTeam",props:{onChangeTeamInfo:{defaultValue:null,description:"",name:"onChangeTeamInfo",required:!0,type:{name:"(update: CreateTeamRequest) => void"}},onError:{defaultValue:null,description:"",name:"onError",required:!1,type:{name:"((msg: string) => void)"}}}}}catch{}var Zn={},Zs=kl;Object.defineProperty(Zn,"__esModule",{value:!0});var Ir=Zn.default=void 0,ei=Zs(Ml()),ti=Tl,ni=(0,ei.default)((0,ti.jsx)("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"ControlPoint");Ir=Zn.default=ni;const xr=l.createContext(void 0);function ae(){const e=l.useContext(xr);if(e===void 0)throw new Error(["MUI: Could not find the data grid context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the data grid."].join(`
`));return e}const Mr=l.createContext(void 0),te=()=>{const e=l.useContext(Mr);if(!e)throw new Error("MUI: useGridRootProps should only be used inside the DataGrid, DataGridPro or DataGridPremium component.");return e};function me(e){return en("MuiDataGrid",e)}const O=At("MuiDataGrid",["actionsCell","aggregationColumnHeader","aggregationColumnHeader--alignLeft","aggregationColumnHeader--alignCenter","aggregationColumnHeader--alignRight","autoHeight","booleanCell","cell--editable","cell--editing","cell--textCenter","cell--textLeft","cell--textRight","cell--withRenderer","cell","cellContent","cellCheckbox","cellSkeleton","checkboxInput","columnHeader--alignCenter","columnHeader--alignLeft","columnHeader--alignRight","columnHeader--dragging","columnHeader--moving","columnHeader--numeric","columnHeader--sortable","columnHeader--sorted","columnHeader--filtered","columnHeader","columnHeaderCheckbox","columnHeaderDraggableContainer","columnHeaderDropZone","columnHeaderTitle","columnHeaderTitleContainer","columnHeaderTitleContainerContent","columnGroupHeader","columnHeader--filledGroup","columnHeader--emptyGroup","columnHeader--showColumnBorder","columnHeaders","columnHeadersInner","columnHeadersInner--scrollable","columnSeparator--resizable","columnSeparator--resizing","columnSeparator--sideLeft","columnSeparator--sideRight","columnSeparator","columnsPanel","columnsPanelRow","detailPanel","detailPanels","detailPanelToggleCell","detailPanelToggleCell--expanded","footerCell","panel","panelHeader","panelWrapper","panelContent","panelFooter","paper","editBooleanCell","editInputCell","filterForm","filterFormDeleteIcon","filterFormLinkOperatorInput","filterFormColumnInput","filterFormOperatorInput","filterFormValueInput","filterIcon","footerContainer","iconButtonContainer","iconSeparator","main","menu","menuIcon","menuIconButton","menuOpen","menuList","overlay","root","root--densityStandard","root--densityComfortable","root--densityCompact","row","row--editable","row--editing","row--lastVisible","row--dragging","row--dynamicHeight","row--detailPanelExpanded","rowReorderCellPlaceholder","rowCount","rowReorderCellContainer","rowReorderCell","rowReorderCell--draggable","scrollArea--left","scrollArea--right","scrollArea","selectedRowCount","sortIcon","toolbarContainer","toolbarFilterList","virtualScroller","virtualScrollerContent","virtualScrollerContent--overflowed","virtualScrollerRenderZone","pinnedColumns","pinnedColumns--left","pinnedColumns--right","pinnedColumnHeaders","pinnedColumnHeaders--left","pinnedColumnHeaders--right","withBorder","treeDataGroupingCell","treeDataGroupingCellToggle","groupingCriteriaCell","groupingCriteriaCellToggle","pinnedRows","pinnedRows--top","pinnedRows--bottom","pinnedRowsRenderZone"]),oi=e=>{const{classes:t}=e;return ue({root:["main"]},me,t)},ri=ce("div",{name:"MuiDataGrid",slot:"Main",overridesResolver:(e,t)=>t.main})(()=>({position:"relative",flexGrow:1,display:"flex",flexDirection:"column",overflow:"hidden"}));function kr(e){const t=te(),n=oi(t);return P(ri,{className:n.root,ownerState:t,children:e.children})}function li(e,t){var n=function(h){var F=h.__resizeTriggers__,R=F.firstElementChild,w=F.lastElementChild,v=R.firstElementChild;w.scrollLeft=w.scrollWidth,w.scrollTop=w.scrollHeight,v.style.width=R.offsetWidth+1+"px",v.style.height=R.offsetHeight+1+"px",R.scrollLeft=R.scrollWidth,R.scrollTop=R.scrollHeight},o=function(h){return h.offsetWidth!=h.__resizeLast__.width||h.offsetHeight!=h.__resizeLast__.height},r=function(h){if(!(h.target.className.indexOf("contract-trigger")<0&&h.target.className.indexOf("expand-trigger")<0)){var F=this;n(this),this.__resizeRAF__&&t.cancelAnimationFrame(this.__resizeRAF__),this.__resizeRAF__=t.requestAnimationFrame(function(){o(F)&&(F.__resizeLast__.width=F.offsetWidth,F.__resizeLast__.height=F.offsetHeight,F.__resizeListeners__.forEach(function(R){R.call(F,h)}))})}},s=!1,i="",c="animationstart",a="Webkit Moz O ms".split(" "),g="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),d="";{var u=document.createElement("fakeelement");if(u.style.animationName!==void 0&&(s=!0),s===!1){for(var f=0;f<a.length;f++)if(u.style[a[f]+"AnimationName"]!==void 0){d=a[f],i="-"+d.toLowerCase()+"-",c=g[f],s=!0;break}}}var C="resizeanim",x="@"+i+"keyframes "+C+" { from { opacity: 0; } to { opacity: 0; } } ",y=i+"animation: 1ms "+C+"; ",p=function(h,F){if(!F.getElementById("muiDetectElementResize")){var R=(x||"")+".Mui-resizeTriggers { "+(y||"")+'visibility: hidden; opacity: 0; } .Mui-resizeTriggers, .Mui-resizeTriggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .Mui-resizeTriggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',w=F.constructor.name==="ShadowRoot"?F:h.head||h.getElementsByTagName("head")[0],v=h.createElement("style");v.id="muiDetectElementResize",v.type="text/css",e!=null&&v.setAttribute("nonce",e),v.styleSheet?v.styleSheet.cssText=R:v.appendChild(h.createTextNode(R)),w.appendChild(v)}},I=function(h,F){if(!h.__resizeTriggers__){var R=h.ownerDocument,w=t.getComputedStyle(h);w&&w.position=="static"&&(h.style.position="relative"),p(R,h.getRootNode()),h.__resizeLast__={},h.__resizeListeners__=[],(h.__resizeTriggers__=R.createElement("div")).className="Mui-resizeTriggers",h.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',h.appendChild(h.__resizeTriggers__),n(h),h.addEventListener("scroll",r,!0),c&&(h.__resizeTriggers__.__animationListener__=function(M){M.animationName==C&&n(h)},h.__resizeTriggers__.addEventListener(c,h.__resizeTriggers__.__animationListener__))}h.__resizeListeners__.push(F)},k=function(h,F){if(h.__resizeListeners__.splice(h.__resizeListeners__.indexOf(F),1),!h.__resizeListeners__.length){h.removeEventListener("scroll",r,!0),h.__resizeTriggers__.__animationListener__&&(h.__resizeTriggers__.removeEventListener(c,h.__resizeTriggers__.__animationListener__),h.__resizeTriggers__.__animationListener__=null);try{h.__resizeTriggers__=!h.removeChild(h.__resizeTriggers__)}catch{}}};return{addResizeListener:I,removeResizeListener:k}}const si=["children","defaultHeight","defaultWidth","disableHeight","disableWidth","nonce","onResize","style"],ii=l.forwardRef(function(t,n){const{children:o,defaultHeight:r=null,defaultWidth:s=null,disableHeight:i=!1,disableWidth:c=!1,nonce:a,onResize:g,style:d}=t,u=Z(t,si),[f,C]=l.useState({height:r,width:s}),x=l.useRef(null),y=l.useRef(null),p=Ze(()=>{if(y.current){const h=y.current.offsetHeight||0,F=y.current.offsetWidth||0,w=To(y.current).getComputedStyle(y.current),v=parseInt(w.paddingLeft,10)||0,M=parseInt(w.paddingRight,10)||0,_=parseInt(w.paddingTop,10)||0,T=parseInt(w.paddingBottom,10)||0,G=h-_-T,L=F-v-M;(!i&&f.height!==G||!c&&f.width!==L)&&(C({height:G,width:L}),g&&g({height:G,width:L}))}});Ye(()=>{var h;if(y.current=x.current.parentElement,!y)return;const F=To((h=y.current)!=null?h:void 0),R=li(a,F);return R.addResizeListener(y.current,p),p(),()=>{R.removeResizeListener(y.current,p)}},[a,p]);const I={overflow:"visible"},k={};i||(I.height=0,k.height=f.height),c||(I.width=0,k.width=f.width);const S=Mt(x,n);return P("div",m({ref:S,style:m({},I,d)},u,{children:f.height===null&&f.width===null?null:o(k)}))}),tt=(e,t="warning")=>{let n=!1;const o=Array.isArray(e)?e.join(`
`):e;return()=>{n||(n=!0,t==="error"?console.error(o):console.warn(o))}},eo=(e,t)=>e;function ai(e){return e.acceptsApiRef}tt(["MUI: `useGridSelector` has been called before the initialization of the state.","This hook can only be used inside the context of the grid."]);const ee=(e,t)=>ai(t)?t(e):t(e.current.state);var bn="NOT_FOUND";function ci(e){var t;return{get:function(o){return t&&e(t.key,o)?t.value:bn},put:function(o,r){t={key:o,value:r}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}function ui(e,t){var n=[];function o(c){var a=n.findIndex(function(d){return t(c,d.key)});if(a>-1){var g=n[a];return a>0&&(n.splice(a,1),n.unshift(g)),g.value}return bn}function r(c,a){o(c)===bn&&(n.unshift({key:c,value:a}),n.length>e&&n.pop())}function s(){return n}function i(){n=[]}return{get:o,put:r,getEntries:s,clear:i}}var di=function(t,n){return t===n};function gi(e){return function(n,o){if(n===null||o===null||n.length!==o.length)return!1;for(var r=n.length,s=0;s<r;s++)if(!e(n[s],o[s]))return!1;return!0}}function Tr(e,t){var n=typeof t=="object"?t:{equalityCheck:t},o=n.equalityCheck,r=o===void 0?di:o,s=n.maxSize,i=s===void 0?1:s,c=n.resultEqualityCheck,a=gi(r),g=i===1?ci(a):ui(i,a);function d(){var u=g.get(arguments);if(u===bn){if(u=e.apply(null,arguments),c){var f=g.getEntries(),C=f.find(function(x){return c(x.value,u)});C&&(u=C.value)}g.put(arguments,u)}return u}return d.clearCache=function(){return g.clear()},d}function mi(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(o){return typeof o=="function"})){var n=t.map(function(o){return typeof o=="function"?"function "+(o.name||"unnamed")+"()":typeof o}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function fi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var r=function(){for(var i=arguments.length,c=new Array(i),a=0;a<i;a++)c[a]=arguments[a];var g=0,d,u={memoizeOptions:void 0},f=c.pop();if(typeof f=="object"&&(u=f,f=c.pop()),typeof f!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof f+"]");var C=u,x=C.memoizeOptions,y=x===void 0?n:x,p=Array.isArray(y)?y:[y],I=mi(c),k=e.apply(void 0,[function(){return g++,f.apply(null,arguments)}].concat(p)),S=e(function(){for(var F=[],R=I.length,w=0;w<R;w++)F.push(I[w].apply(null,arguments));return d=k.apply(null,F),d});return Object.assign(S,{resultFunc:f,memoizedResultFunc:k,dependencies:I,lastResult:function(){return d},recomputations:function(){return g},resetRecomputations:function(){return g=0}}),S};return r}var hi=fi(Tr);const ut={cache:null};tt(["MUI: A selector was called without passing the instance ID, which may impact the performance of the grid.","To fix, call it with `apiRef`, e.g. `mySelector(apiRef)`, or pass the instance ID explicitly, e.g `mySelector(state, apiRef.current.instanceId)`."]);const ne=(...e)=>{ut.cache===null&&(ut.cache={});const t=(...n)=>{const[o,r]=n,s=!!o.current,i=s?o.current.instanceId:r??"default",c=s?o.current.state:o;ut.cache===null&&(ut.cache={});const{cache:a}=ut;if(a[i]&&a[i].get(e))return a[i].get(e)(c,i);const g=hi(...e);return a[i]||(a[i]=new Map),a[i].set(e,g),g(c,i)};return t.acceptsApiRef=!0,t},pi=e=>{typeof e<"u"?ut.cache&&ut.cache[e]&&delete ut.cache[e]:ut.cache=null},st=e=>e.rows,xn=ne(st,e=>e.totalRowCount),Ci=ne(st,e=>e.loading),bi=ne(st,e=>e.totalTopLevelRowCount),Rt=ne(st,e=>e.idRowsLookup),to=ne(st,e=>e.idToIdLookup),bt=ne(st,e=>e.tree),wi=ne(st,e=>e.groupingName),no=ne(st,e=>e.treeDepth),Pt=ne(st,e=>e.ids),Si=ne(st,e=>e==null?void 0:e.additionalRowGroups),rn=ne(Si,e=>e==null?void 0:e.pinnedRows),vi=ne(rn,e=>{var t,n;return((e==null||(t=e.top)==null?void 0:t.length)||0)+((e==null||(n=e.bottom)==null?void 0:n.length)||0)}),oo=e=>e.sorting,ro=ne(oo,e=>e.sortedRows),lo=ne(ro,Rt,(e,t)=>e.map(n=>({id:n,model:t[n]}))),Je=ne(oo,e=>e.sortModel),yi=ne(Je,e=>e.reduce((n,o,r)=>(n[o.field]={sortDirection:o.sort,sortIndex:e.length>1?r+1:void 0},n),{})),It=e=>e.columns,Lt=ne(It,e=>e.all),Gt=ne(It,e=>e.lookup),et=ne(Lt,Gt,(e,t)=>e.map(n=>t[n])),dt=ne(It,e=>e.columnVisibilityModel),Oe=ne(et,dt,(e,t)=>e.filter(n=>t[n.field]!==!1));ne(Oe,e=>e.map(t=>t.field));const xt=ne(Oe,e=>{const t=[];let n=0;for(let o=0;o<e.length;o+=1)t.push(n),n+=e[o].computedWidth;return t}),Mn=ne(Oe,xt,(e,t)=>{const n=e.length;return n===0?0:t[n-1]+e[n-1].computedWidth}),so=ne(et,e=>e.filter(t=>t.filterable)),Pi=ne(et,e=>e.reduce((t,n)=>(n.filterable&&(t[n.field]=n),t),{}));eo(ne(so,e=>e.map(t=>t.field)));eo(ne(Oe,e=>e.length));const Ei=eo(ne(xt,Mn,(e,t)=>({totalWidth:t,positions:e}))),ln=e=>e.filter,Ne=ne(ln,e=>e.filterModel);ne(Ne,e=>e.quickFilterValues);const Ii=ne(ln,e=>e.visibleRowsLookup),Fr=ne(ln,e=>e.filteredRowsLookup);ne(ln,e=>e.filteredDescendantCountLookup);const mt=ne(Ii,lo,(e,t)=>t.filter(n=>e[n.id]!==!1)),Wt=ne(mt,e=>e.map(t=>t.id)),xi=ne(Fr,lo,(e,t)=>t.filter(n=>e[n.id]!==!1)),Mi=ne(xi,e=>e.map(t=>t.id)),_r=ne(mt,bt,no,(e,t,n)=>n<2?e:e.filter(o=>{var r;return((r=t[o.id])==null?void 0:r.depth)===0})),$r=ne(mt,e=>e.length),Rr=ne(_r,e=>e.length),ki=ne(Ne,Gt,(e,t)=>{var n;return(n=e.items)==null?void 0:n.filter(o=>{var r,s;if(!o.columnField)return!1;const i=t[o.columnField];if(!(i!=null&&i.filterOperators)||(i==null||(r=i.filterOperators)==null?void 0:r.length)===0)return!1;const c=i.filterOperators.find(a=>a.value===o.operatorValue);return c?!c.InputComponent||o.value!=null&&((s=o.value)==null?void 0:s.toString())!=="":!1})}),Ti=ne(ki,e=>e.reduce((n,o)=>(n[o.columnField]?n[o.columnField].push(o):n[o.columnField]=[o],n),{})),kt=e=>e.density,Fi=ne(kt,e=>e.value),sn=ne(kt,e=>e.rowHeight),Dr=ne(kt,e=>e.headerHeight),io=ne(kt,e=>e.headerGroupingMaxDepth),_i=ne(kt,e=>e.factor),an=ne(kt,e=>e.headerHeight*(1+e.headerGroupingMaxDepth));function $i(e){var t,n;const o=ae(),r=te(),s=ee(o,an),[i,c]=l.useState(()=>{var d,u;return(d=(u=o.current.getRootDimensions())==null?void 0:u.viewportInnerSize)!=null?d:null}),a=l.useCallback(()=>{var d,u;c((d=(u=o.current.getRootDimensions())==null?void 0:u.viewportInnerSize)!=null?d:null)},[o]);Ye(()=>o.current.subscribeEvent("viewportInnerSizeChange",a),[o,a]);let g=(t=i==null?void 0:i.height)!=null?t:0;return r.autoHeight&&g===0&&(g="auto"),i?P("div",m({style:{height:g,width:(n=i==null?void 0:i.width)!=null?n:0,position:"absolute",top:s,bottom:g==="auto"?0:void 0}},e)):null}function Ri(){const e=ae(),t=te(),n=ee(e,xn),o=ee(e,$r),r=ee(e,Ci),s=!r&&n===0,i=!r&&n>0&&o===0;let c=null;if(s){var a;c=P(t.components.NoRowsOverlay,m({},(a=t.componentsProps)==null?void 0:a.noRowsOverlay))}if(i){var g;c=P(t.components.NoResultsOverlay,m({},(g=t.componentsProps)==null?void 0:g.noResultsOverlay))}if(r){var d;c=P(t.components.LoadingOverlay,m({},(d=t.componentsProps)==null?void 0:d.loadingOverlay))}return c===null?null:P($i,{children:c})}function Di(e){const{children:t,VirtualScrollerComponent:n,ColumnHeadersComponent:o}=e,r=ae(),s=te(),i=ee(r,an),[c,a]=l.useState(s.disableVirtualization),g=l.useCallback(()=>{a(!0)},[]),d=l.useCallback(()=>{a(!1)},[]);l.useEffect(()=>{a(s.disableVirtualization)},[s.disableVirtualization]),r.current.unstable_disableVirtualization=g,r.current.unstable_enableVirtualization=d;const u=l.useRef(null),f=l.useRef(null),C=l.useRef(null),x=l.useRef(null);r.current.columnHeadersContainerElementRef=f,r.current.columnHeadersElementRef=u,r.current.windowRef=C,r.current.renderingZoneRef=x;const y=l.useCallback(p=>{r.current.publishEvent("resize",p)},[r]);return pe(kr,{children:[P(Ri,{}),P(o,{ref:f,innerRef:u}),P(ii,{nonce:s.nonce,disableHeight:s.autoHeight,onResize:y,children:p=>{const I={width:p.width,height:p.height?p.height-i:"auto",marginTop:i};return P(n,{ref:C,style:I,disableVirtualization:c})}}),t]})}function Me(e,t){const n=l.useRef(null);if(n.current)return n.current;const o=e.current.getLogger(t);return n.current=o,o}class Hi extends l.Component{static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){this.props.api.current&&(this.logError(t),this.props.api.current.showError({error:t,errorInfo:n}))}logError(t,n){this.props.logger.error(`An unexpected error occurred. Error: ${t&&t.message}. `,t,n)}render(){var t;return this.props.hasError||(t=this.state)!=null&&t.hasError?this.props.render(this.state):this.props.children}}function Li(e){const{children:t}=e,n=ae(),o=Me(n,"GridErrorHandler"),r=te(),s=n.current.state.error;return P(Hi,{hasError:s!=null,api:n,logger:o,render:i=>{var c;return P(kr,{children:P(r.components.ErrorOverlay,m({},i,s,(c=r.componentsProps)==null?void 0:c.errorOverlay))})},children:t})}function Oi(){var e;const t=ae(),n=te(),o=l.useRef(null);return t.current.footerRef=o,n.hideFooter?null:P("div",{ref:o,children:P(n.components.Footer,m({},(e=n.componentsProps)==null?void 0:e.footer))})}function Vi(){var e;const t=ae(),n=te(),o=l.useRef(null);return t.current.headerRef=o,P("div",{ref:o,children:P(n.components.Header,m({},(e=n.componentsProps)==null?void 0:e.header))})}var Le;(function(e){e.Cell="cell",e.Row="row"})(Le||(Le={}));var ge;(function(e){e.Edit="edit",e.View="view"})(ge||(ge={}));var be;(function(e){e.Edit="edit",e.View="view"})(be||(be={}));const Dt={client:"client",server:"server"};var Ae;(function(e){e.And="and",e.Or="or"})(Ae||(Ae={}));var at;(function(e){e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown"})(at||(at={}));var nt;(function(e){e.cellFocusOut="cellFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown"})(nt||(nt={}));var ct;(function(e){e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown"})(ct||(ct={}));var ot;(function(e){e.rowFocusOut="rowFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown"})(ot||(ot={}));var Qt;(function(e){e.Compact="compact",e.Standard="standard",e.Comfortable="comfortable"})(Qt||(Qt={}));function Hr(e){return e.field!==void 0}const Lr=e=>e.focus,Xe=ne(Lr,e=>e.cell),Ai=ne(Lr,e=>e.columnHeader),Or=e=>e.tabIndex,wn=ne(Or,e=>e.cell),Vr=ne(Or,e=>e.columnHeader),Gi=["align","children","colIndex","colDef","cellMode","field","formattedValue","hasFocus","height","isEditable","rowId","tabIndex","value","width","className","showRightBorder","extendRowFullWidth","row","colSpan","disableDragEvents","onClick","onDoubleClick","onMouseDown","onMouseUp","onKeyDown","onDragEnter","onDragOver"];let $n;function zi(){return $n===void 0&&document.createElement("div").focus({get preventScroll(){return $n=!0,!1}}),$n}const Ni=e=>{const{align:t,showRightBorder:n,isEditable:o,classes:r}=e,s={root:["cell",`cell--text${Fe(t)}`,o&&"cell--editable",n&&"withBorder"],content:["cellContent"]};return ue(s,me,r)};function Bi(e){const{align:t,children:n,colIndex:o,cellMode:r,field:s,formattedValue:i,hasFocus:c,height:a,isEditable:g,rowId:d,tabIndex:u,value:f,width:C,className:x,showRightBorder:y,colSpan:p,disableDragEvents:I,onClick:k,onDoubleClick:S,onMouseDown:h,onMouseUp:F,onKeyDown:R,onDragEnter:w,onDragOver:v}=e,M=Z(e,Gi),_=i??f,T=l.useRef(null),G=l.useRef(null),L=ae(),E=te(),b={align:t,showRightBorder:y,isEditable:g,classes:E.classes},$=Ni(b),V=l.useCallback(Y=>re=>{const K=L.current.getCellParams(d,s||"");L.current.publishEvent(Y,K,re),F&&F(re)},[L,s,F,d]),D=l.useCallback(Y=>re=>{const K=L.current.getCellParams(d,s||"");L.current.publishEvent(Y,K,re),h&&h(re)},[L,s,h,d]),H=l.useCallback((Y,re)=>K=>{if(!K.currentTarget.contains(K.target)||!L.current.getRow(d))return;const J=L.current.getCellParams(d,s||"");L.current.publishEvent(Y,J,K),re&&re(K)},[L,s,d]),A={minWidth:C,maxWidth:C,minHeight:a,maxHeight:a==="auto"?"none":a};l.useEffect(()=>{if(!c||r===ge.Edit)return;const Y=In(L.current.rootElementRef.current);if(T.current&&!T.current.contains(Y.activeElement)){const re=T.current.querySelector('[tabindex="0"]'),K=G.current||re||T.current;if(zi())K.focus({preventScroll:!0});else{const J=L.current.getScrollPosition();K.focus(),L.current.scroll(J)}}},[c,r,L]);let B=M.onFocus;const j=L.current.getColumn(s).type==="actions",q=()=>{if(n==null){const Y=_==null?void 0:_.toString();return P("div",{title:Y,className:$.content,children:Y})}return l.isValidElement(n)&&j?l.cloneElement(n,{focusElementRef:G}):n},oe=I?null:{onDragEnter:H("cellDragEnter",w),onDragOver:H("cellDragOver",v)};return P("div",m({ref:T,className:de(x,$.root),role:"cell","data-field":s,"data-colindex":o,"aria-colindex":o+1,"aria-colspan":p,style:A,tabIndex:(r==="view"||!g)&&!j?u:-1,onClick:H("cellClick",k),onDoubleClick:H("cellDoubleClick",S),onMouseDown:D("cellMouseDown"),onMouseUp:V("cellMouseUp"),onKeyDown:H("cellKeyDown",R)},oe,M,{onFocus:B,children:q()}))}const Ui=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","hasFocus","tabIndex","getValue"],Ki=e=>{const{classes:t}=e;return ue({root:["booleanCell"]},me,t)},Wi=e=>{const{value:t}=e,n=Z(e,Ui),o=ae(),r=te(),s={classes:r.classes},i=Ki(s),c=l.useMemo(()=>t?r.components.BooleanCellTrueIcon:r.components.BooleanCellFalseIcon,[r.components.BooleanCellFalseIcon,r.components.BooleanCellTrueIcon,t]);return P(c,m({fontSize:"small",className:i.root,titleAccess:o.current.getLocaleText(t?"booleanCellTrueLabel":"booleanCellFalseLabel"),"data-value":!!t},n))},ji=l.memo(Wi),qi=e=>e.rowNode.isAutoGenerated?"":P(ji,m({},e)),Yi=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","getValue","hasFocus","isValidating","isProcessingProps","error","onValueChange"],Qi=e=>{const{classes:t}=e;return ue({root:["editBooleanCell"]},me,t)};function Ji(e){var t;const{id:n,value:o,field:r,className:s,hasFocus:i,onValueChange:c}=e,a=Z(e,Yi),g=ae(),d=l.useRef(null),u=De(),[f,C]=l.useState(o),x=te(),y={classes:x.classes},p=Qi(y),I=l.useCallback(async k=>{const S=k.target.checked;c&&await c(k,S),C(S),await g.current.setEditCellValue({id:n,field:r,value:S},k)},[g,r,n,c]);return l.useEffect(()=>{C(o)},[o]),Ye(()=>{i&&d.current.focus()},[i]),P("label",m({htmlFor:u,className:de(p.root,s)},a,{children:P(x.components.BaseCheckbox,m({id:u,inputRef:d,checked:!!f,onChange:I,size:"small"},(t=x.componentsProps)==null?void 0:t.baseCheckbox))}))}const Xi=e=>P(Ji,m({},e)),Zi=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","getValue","inputProps","isValidating","isProcessingProps","onValueChange"],ea=ce(En)({fontSize:"inherit"}),ta=e=>{const{classes:t}=e;return ue({root:["editInputCell"]},me,t)};function na(e){const{id:t,value:n,field:o,colDef:r,hasFocus:s,inputProps:i,onValueChange:c}=e,a=Z(e,Zi),g=r.type==="dateTime",d=ae(),u=l.useRef(),f=l.useMemo(()=>{let S;n==null?S=null:n instanceof Date?S=n:S=new Date((n??"").toString());let h;return S==null||Number.isNaN(S.getTime())?h="":h=new Date(S.getTime()-S.getTimezoneOffset()*60*1e3).toISOString().substr(0,g?16:10),{parsed:S,formatted:h}},[n,g]),[C,x]=l.useState(f),p={classes:te().classes},I=ta(p),k=l.useCallback(async S=>{const h=S.target.value;let F;if(h==="")F=null;else{const[R,w]=h.split("T"),[v,M,_]=R.split("-");if(F=new Date,F.setFullYear(Number(v),Number(M)-1,Number(_)),F.setHours(0,0,0,0),w){const[T,G]=w.split(":");F.setHours(Number(T),Number(G),0,0)}}c&&await c(S,F),x({parsed:F,formatted:h}),d.current.setEditCellValue({id:t,field:o,value:F},S)},[d,o,t,c]);return l.useEffect(()=>{x(S=>{var h,F;return f.parsed!==S.parsed&&((h=f.parsed)==null?void 0:h.getTime())!==((F=S.parsed)==null?void 0:F.getTime())?f:S})},[f]),Ye(()=>{s&&u.current.focus()},[s]),P(ea,m({inputRef:u,fullWidth:!0,className:I.root,type:g?"datetime-local":"date",inputProps:m({max:g?"9999-12-31T23:59":"9999-12-31"},i),value:C.formatted,onChange:k},a))}const Ar=e=>P(na,m({},e)),oa=Ee(P("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward"),ra=Ee(P("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),zo=Ee(P("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight"),No=Ee(P("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),la=Ee(P("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"}),"FilterList"),sa=Ee(P("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAlt"),ia=Ee(P("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");Ee(P("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");Ee(P("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");const aa=Ee(P("path",{d:"M6 5H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm14 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm-7 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1z"}),"ColumnIcon"),ca=Ee(P("path",{d:"M11 19V5h2v14z"}),"Separator"),ua=Ee(P("path",{d:"M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"}),"ViewHeadline"),da=Ee(P("path",{d:"M21,8H3V4h18V8z M21,10H3v4h18V10z M21,16H3v4h18V16z"}),"TableRows"),ga=Ee(P("path",{d:"M4 18h17v-6H4v6zM4 5v6h17V5H4z"}),"ViewStream"),ma=Ee(P("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"TripleDotsVertical"),Rn=Ee(P("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),Gr=Ee(P("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),fa=Ee(P("path",{d:"M19 13H5v-2h14v2z"}),"Remove"),ao=Ee(P("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Load"),zr=Ee(P("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"Drag"),ha=Ee(P("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt"),pa=Ee(P("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),Ca=Ee(P("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");function wt(e){return typeof e=="object"&&e!==null?e.value:e}function Sn(e,t){if(t===void 0)return;const n=t.find(o=>{const r=wt(o);return String(r)===String(e)});return wt(n)}const ba=["item","applyValue","type","apiRef","focusElementRef"],wa=({valueOptions:e,valueFormatter:t,field:n},o,r)=>(typeof e=="function"?["",...e({field:n})]:["",...e||[]]).map(i=>{const c=typeof i=="object",a=c?i.value:i,g=c?i.value:i,d=t&&i!==""?t({value:i,field:n,api:o}):i,u=c?i.label:d;return P(r,{value:g,children:u},a)}),Nr=500;function rt(e){var t,n,o,r,s;const{item:i,applyValue:c,type:a,apiRef:g,focusElementRef:d}=e,u=Z(e,ba),f=l.useRef(),[C,x]=l.useState((t=i.value)!=null?t:""),[y,p]=l.useState(!1),I=De(),k=te(),h=(o=(((n=k.componentsProps)==null?void 0:n.baseSelect)||{}).native)!=null?o:!0,F=a==="singleSelect"?{select:!0,SelectProps:m({native:h},(r=k.componentsProps)==null?void 0:r.baseSelect),children:wa(g.current.getColumn(i.columnField),g.current,h?"option":Be)}:{},R=l.useCallback(v=>{let M=v.target.value;if(a==="singleSelect"){const _=g.current.getColumn(i.columnField),T=typeof _.valueOptions=="function"?_.valueOptions({field:_.field}):_.valueOptions;M=Sn(M,T)}clearTimeout(f.current),x(String(M)),p(!0),f.current=setTimeout(()=>{c(m({},i,{value:M})),p(!1)},Nr)},[g,c,i,a]);l.useEffect(()=>()=>{clearTimeout(f.current)},[]),l.useEffect(()=>{var v;const M=(v=i.value)!=null?v:"";x(String(M))},[i.value]);const w=y?{endAdornment:P(ao,{})}:u.InputProps;return P(k.components.BaseTextField,m({id:I,label:g.current.getLocaleText("filterPanelInputLabel"),placeholder:g.current.getLocaleText("filterPanelInputPlaceholder"),value:C,onChange:R,variant:"standard",type:a||"text",InputProps:w,InputLabelProps:{shrink:!0},inputRef:d},F,u,(s=k.componentsProps)==null?void 0:s.baseTextField))}const Sa=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","getValue","isValidating","debounceMs","isProcessingProps","onValueChange"],va=e=>{const{classes:t}=e;return ue({root:["editInputCell"]},me,t)},ya=ce(En,{name:"MuiDataGrid",slot:"EditInputCell",overridesResolver:(e,t)=>t.editInputCell})(({theme:e})=>m({},e.typography.body2,{padding:"1px 0","& input":{padding:"0 16px",height:"100%"}})),Pa=l.forwardRef((e,t)=>{var n,o;const r=te(),{id:s,value:i,field:c,colDef:a,hasFocus:g,debounceMs:d=(n=r.experimentalFeatures)!=null&&n.newEditingApi?200:Nr,isProcessingProps:u,onValueChange:f}=e,C=Z(e,Sa),x=ae(),y=l.useRef(),[p,I]=l.useState(i),k=va(r),S=l.useCallback(async F=>{var R;const w=F.target.value;f&&await f(F,w);const v=x.current.getColumn(c);let M=w;v.valueParser&&(R=r.experimentalFeatures)!=null&&R.newEditingApi&&(M=v.valueParser(w,x.current.getCellParams(s,c))),I(M),x.current.setEditCellValue({id:s,field:c,value:M,debounceMs:d,unstable_skipValueParser:!0},F)},[x,d,c,s,f,(o=r.experimentalFeatures)==null?void 0:o.newEditingApi]),h=x.current.unstable_getEditCellMeta?x.current.unstable_getEditCellMeta(s,c):{};return l.useEffect(()=>{h.changeReason!=="debouncedSetEditCellValue"&&I(i)},[h.changeReason,i]),Ye(()=>{g&&y.current.focus()},[g]),P(ya,m({ref:t,inputRef:y,className:k.root,ownerState:r,fullWidth:!0,type:a.type==="number"?a.type:"text",value:p??"",onChange:S,endAdornment:u?P(ao,{}):void 0},C))}),Ea=e=>P(Pa,m({},e)),co=e=>e==="Escape",Br=e=>e==="Enter",Ur=e=>e==="Tab",Kr=e=>e===" ",Ia=e=>e.indexOf("Arrow")===0,xa=e=>e==="Home"||e==="End",Ma=e=>e.indexOf("Page")===0,Vn=e=>e==="Delete"||e==="Backspace";function kn(e){return e.key.length===1&&e.ctrlKey===!1&&e.metaKey===!1}const ka=["Enter","Escape","Tab"],Ta=["Enter","Tab"],Fa=e=>Br(e.key)||Vn(e.key)||kn(e),_a=e=>ka.indexOf(e)>-1,Bo=e=>Ta.indexOf(e)>-1,cn=e=>xa(e)||Ia(e)||Ma(e)||Kr(e),An=e=>!!e.key,$a=e=>Ur(e)||co(e),Ra=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","getValue","hasFocus","isValidating","isProcessingProps","error","onValueChange","initialOpen"],Da=(e,t)=>{const n=typeof e=="object",o=n?e.value:e,r=n?e.value:e,s=n?e.label:e;return P(t,{value:r,children:s},o)};function Ha(e){return!!e.key}function La(e){var t,n,o;const r=te(),{id:s,value:i,api:c,field:a,row:g,colDef:d,hasFocus:u,error:f,onValueChange:C,initialOpen:x=r.editMode===Le.Cell}=e,y=Z(e,Ra),p=ae(),I=l.useRef(),k=l.useRef(),[S,h]=l.useState(x),R=(n=(((t=r.componentsProps)==null?void 0:t.baseSelect)||{}).native)!=null?n:!1;let w;typeof d.valueOptions=="function"?w=d.valueOptions({id:s,row:g,field:a}):w=d.valueOptions,d.valueFormatter&&(w=w.map(T=>{if(typeof T=="object")return T;const G={field:a,api:c,value:T};return{value:T,label:String(d.valueFormatter(G))}}));const v=async T=>{var G;h(!1);const L=T.target,E=Sn(L.value,w);C&&await C(T,E);const b=await p.current.setEditCellValue({id:s,field:a,value:E},T);if((G=r.experimentalFeatures)!=null&&G.newEditingApi||r.editMode===Le.Row||b===!1)return;if(await Promise.resolve(p.current.commitCellChange({id:s,field:a},T))&&(p.current.setCellMode(s,a,"view"),T.key)){const V=p.current.getCellParams(s,a);p.current.publishEvent("cellNavigationKeyDown",V,T)}},M=(T,G)=>{if(r.editMode===Le.Row){h(!1);return}if(G==="backdropClick"||co(T.key)){var L;(L=r.experimentalFeatures)!=null&&L.newEditingApi?p.current.stopCellEditMode({id:s,field:a,ignoreModifications:!0}):p.current.setCellMode(s,a,"view")}},_=T=>{Ha(T)&&T.key==="Enter"||h(!0)};return Ye(()=>{u&&k.current.focus()},[u]),P(r.components.BaseSelect,m({ref:I,inputRef:k,value:i,onChange:v,open:S,onOpen:_,MenuProps:{onClose:M},error:f,native:R,fullWidth:!0},y,(o=r.componentsProps)==null?void 0:o.baseSelect,{children:w.map(T=>Da(T,R?"option":Be))}))}const Oa=e=>P(La,m({},e)),Va=["open","target","onClickAway","children","position","className","onExited"],Aa=e=>{const{classes:t}=e;return ue({root:["menu"]},me,t)},Ga=ce(Xn,{name:"MuiDataGrid",slot:"Menu",overridesResolver:(e,t)=>t.menu})(({theme:e})=>({zIndex:e.zIndex.modal,[`& .${O.menuList}`]:{outline:0}})),za={"bottom-start":"top left","bottom-end":"top right"},Wr=e=>{var t;const{open:n,target:o,onClickAway:r,children:s,position:i,className:c,onExited:a}=e,g=Z(e,Va),d=ae(),u=l.useRef(o),f=l.useRef(n),C=te(),x=Aa(C);l.useEffect(()=>{f.current&&u.current&&u.current.focus();const p=n?"menuOpen":"menuClose";d.current.publishEvent(p,{target:o}),f.current=n,u.current=o},[d,n,o]);const y=p=>I=>{p&&p(),a&&a(I)};return P(Ga,m({as:C.components.BasePopper,className:de(c,x.root),ownerState:C,open:n,anchorEl:o,transition:!0,placement:i},g,(t=C.componentsProps)==null?void 0:t.basePopper,{children:({TransitionProps:p,placement:I})=>P(Cr,{onClickAway:r,mouseEvent:"onMouseDown",children:P(Wl,m({},p,{style:{transformOrigin:za[I]},onExited:y(p==null?void 0:p.onExited),children:P(br,{children:s})}))})}))},Na=["colDef","id","api","hasFocus","isEditable","field","value","formattedValue","row","rowNode","cellMode","getValue","tabIndex","position","focusElementRef"],Ba=e=>typeof e.getActions=="function",Ua=e=>{const{colDef:t,id:n,hasFocus:o,tabIndex:r,position:s="bottom-end",focusElementRef:i}=e,c=Z(e,Na),[a,g]=l.useState(-1),[d,u]=l.useState(!1),f=ae(),C=l.useRef(null),x=l.useRef(null),y=l.useRef(!1),p=l.useRef({}),I=De(),k=De(),S=te();if(l.useLayoutEffect(()=>{o||Object.entries(p.current).forEach(([E,b])=>{b==null||b.stop({},()=>{delete p.current[E]})})},[o]),l.useEffect(()=>{if(a<0||!C.current||a>=C.current.children.length)return;C.current.children[a].focus({preventScroll:!0})},[a]),l.useEffect(()=>{o||(g(-1),y.current=!1)},[o]),l.useImperativeHandle(i,()=>({focus(){y.current||g(0)}}),[]),!Ba(t))throw new Error("MUI: Missing the `getActions` property in the `GridColDef`.");const h=t.getActions(f.current.getRowParams(n)),F=h.filter(E=>!E.props.showInMenu),R=h.filter(E=>E.props.showInMenu),w=F.length+(R.length?1:0);l.useEffect(()=>{a>=w&&g(w-1)},[a,w]);const v=()=>{u(!0),g(w-1),y.current=!0},M=()=>{u(!1)},_=E=>b=>{p.current[E]=b},T=(E,b)=>$=>{g(E),y.current=!0,b&&b($)},G=E=>{if(w<=1)return;let b=a;E.key==="ArrowRight"?b+=1:E.key==="ArrowLeft"&&(b-=1),!(b<0||b>=w)&&b!==a&&(E.preventDefault(),E.stopPropagation(),g(b))},L=E=>{E.key==="Tab"&&E.preventDefault(),["Tab","Enter","Escape"].includes(E.key)&&M()};return pe("div",m({role:"menu",ref:C,tabIndex:-1,className:O.actionsCell,onKeyDown:G},c,{children:[F.map((E,b)=>l.cloneElement(E,{key:b,touchRippleRef:_(b),onClick:T(b,E.props.onClick),tabIndex:a===b?r:-1})),R.length>0&&k&&P(lt,{ref:x,id:k,"aria-label":f.current.getLocaleText("actionsCellMore"),"aria-controls":I,"aria-expanded":d?"true":void 0,"aria-haspopup":"true",role:"menuitem",size:"small",onClick:v,touchRippleRef:_(k),tabIndex:a===F.length?r:-1,children:P(S.components.MoreActionsIcon,{fontSize:"small"})}),R.length>0&&P(Wr,{onClickAway:M,onClick:M,open:d,target:x.current,position:s,children:P(wr,{id:I,className:O.menuList,onKeyDown:L,"aria-labelledby":k,variant:"menu",autoFocusItem:!0,children:R.map((E,b)=>l.cloneElement(E,{key:b}))})})]}))},Ka=e=>P(Ua,m({},e)),Wa=["field","align","width","contentWidth"],ja=e=>{const{align:t,classes:n}=e,o={root:["cell","cellSkeleton",`cell--text${Fe(t)}`]};return ue(o,me,n)};function qa(e){const{align:t,width:n,contentWidth:o}=e,r=Z(e,Wa),i={classes:te().classes,align:t},c=ja(i);return P("div",m({className:c.root,style:{width:n}},r,{children:P(Xl,{width:`${o}%`})}))}const Ya=ce("div",{name:"MuiDataGrid",slot:"Root",overridesResolver:(e,t)=>[{[`&.${O.autoHeight}`]:t.autoHeight},{[`&.${O.aggregationColumnHeader}`]:t.aggregationColumnHeader},{[`&.${O["aggregationColumnHeader--alignLeft"]}`]:t["aggregationColumnHeader--alignLeft"]},{[`&.${O["aggregationColumnHeader--alignCenter"]}`]:t["aggregationColumnHeader--alignCenter"]},{[`&.${O["aggregationColumnHeader--alignRight"]}`]:t["aggregationColumnHeader--alignRight"]},{[`&.${O.aggregationColumnHeaderLabel}`]:t.aggregationColumnHeaderLabel},{[`& .${O.editBooleanCell}`]:t.editBooleanCell},{[`& .${O["cell--editing"]}`]:t["cell--editing"]},{[`& .${O["cell--textCenter"]}`]:t["cell--textCenter"]},{[`& .${O["cell--textLeft"]}`]:t["cell--textLeft"]},{[`& .${O["cell--textRight"]}`]:t["cell--textRight"]},{[`& .${O["cell--withRenderer"]}`]:t["cell--withRenderer"]},{[`& .${O.cell}`]:t.cell},{[`& .${O.cellContent}`]:t.cellContent},{[`& .${O.cellCheckbox}`]:t.cellCheckbox},{[`& .${O.cellSkeleton}`]:t.cellSkeleton},{[`& .${O.checkboxInput}`]:t.checkboxInput},{[`& .${O["columnHeader--alignCenter"]}`]:t["columnHeader--alignCenter"]},{[`& .${O["columnHeader--alignLeft"]}`]:t["columnHeader--alignLeft"]},{[`& .${O["columnHeader--alignRight"]}`]:t["columnHeader--alignRight"]},{[`& .${O["columnHeader--dragging"]}`]:t["columnHeader--dragging"]},{[`& .${O["columnHeader--moving"]}`]:t["columnHeader--moving"]},{[`& .${O["columnHeader--numeric"]}`]:t["columnHeader--numeric"]},{[`& .${O["columnHeader--sortable"]}`]:t["columnHeader--sortable"]},{[`& .${O["columnHeader--sorted"]}`]:t["columnHeader--sorted"]},{[`& .${O.columnHeader}`]:t.columnHeader},{[`& .${O.columnHeaderCheckbox}`]:t.columnHeaderCheckbox},{[`& .${O.columnHeaderDraggableContainer}`]:t.columnHeaderDraggableContainer},{[`& .${O.columnHeaderTitleContainer}`]:t.columnHeaderTitleContainer},{[`& .${O["columnSeparator--resizable"]}`]:t["columnSeparator--resizable"]},{[`& .${O["columnSeparator--resizing"]}`]:t["columnSeparator--resizing"]},{[`& .${O.columnSeparator}`]:t.columnSeparator},{[`& .${O.filterIcon}`]:t.filterIcon},{[`& .${O.iconSeparator}`]:t.iconSeparator},{[`& .${O.menuIcon}`]:t.menuIcon},{[`& .${O.menuIconButton}`]:t.menuIconButton},{[`& .${O.menuOpen}`]:t.menuOpen},{[`& .${O.menuList}`]:t.menuList},{[`& .${O["row--editable"]}`]:t["row--editable"]},{[`& .${O["row--editing"]}`]:t["row--editing"]},{[`& .${O["row--dragging"]}`]:t["row--dragging"]},{[`& .${O.row}`]:t.row},{[`& .${O.rowReorderCellPlaceholder}`]:t.rowReorderCellPlaceholder},{[`& .${O.rowReorderCell}`]:t.rowReorderCell},{[`& .${O["rowReorderCell--draggable"]}`]:t["rowReorderCell--draggable"]},{[`& .${O.sortIcon}`]:t.sortIcon},{[`& .${O.withBorder}`]:t.withBorder},{[`& .${O.treeDataGroupingCell}`]:t.treeDataGroupingCell},{[`& .${O.treeDataGroupingCellToggle}`]:t.treeDataGroupingCellToggle},{[`& .${O.detailPanelToggleCell}`]:t.detailPanelToggleCell},{[`& .${O["detailPanelToggleCell--expanded"]}`]:t["detailPanelToggleCell--expanded"]},t.root]})(({theme:e})=>{const t=e.palette.mode==="light"?tn(Ve(e.palette.divider,1),.88):nn(Ve(e.palette.divider,1),.68);return m({flex:1,boxSizing:"border-box",position:"relative",border:`1px solid ${t}`,borderRadius:e.shape.borderRadius,color:e.palette.text.primary},e.typography.body2,{outline:"none",height:"100%",display:"flex",flexDirection:"column",[`&.${O.autoHeight}`]:{height:"auto",[`& .${O["row--lastVisible"]} .${O.cell}`]:{borderBottomColor:"transparent"}},[`& .${O["virtualScrollerContent--overflowed"]} .${O["row--lastVisible"]} .${O.cell}`]:{borderBottomColor:"transparent"},[`& .${O.columnHeader}, & .${O.cell}`]:{WebkitTapHighlightColor:"transparent",lineHeight:null,padding:"0 10px",boxSizing:"border-box"},[`& .${O.columnHeader}:focus-within, & .${O.cell}:focus-within`]:{outline:`solid ${Ve(e.palette.primary.main,.5)} 1px`,outlineWidth:1,outlineOffset:-1},[`& .${O.columnHeader}:focus, & .${O.cell}:focus`]:{outline:`solid ${e.palette.primary.main} 1px`},[`& .${O.columnHeaderCheckbox}, & .${O.cellCheckbox}`]:{padding:0,justifyContent:"center",alignItems:"center"},[`& .${O.columnHeader}`]:{position:"relative",display:"flex",alignItems:"center"},[`& .${O["columnHeader--sorted"]} .${O.iconButtonContainer}, & .${O["columnHeader--filtered"]} .${O.iconButtonContainer}`]:{visibility:"visible",width:"auto"},[`& .${O.columnHeader}:not(.${O["columnHeader--sorted"]}) .${O.sortIcon}`]:{opacity:0,transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.shorter})},[`& .${O.columnHeader}:not(.${O["columnHeader--sorted"]}):hover .${O.sortIcon}`]:{opacity:.5},[`& .${O.columnHeaderTitleContainer}`]:{display:"flex",alignItems:"center",minWidth:0,flex:1,whiteSpace:"nowrap",overflow:"hidden"},[`& .${O.columnHeaderTitleContainerContent}`]:{overflow:"hidden",display:"flex",alignItems:"center"},[`& .${O["columnHeader--filledGroup"]} .${O.columnHeaderTitleContainer}`]:{borderBottom:`solid ${t} 1px`,boxSizing:"border-box"},[`& .${O["columnHeader--filledGroup"]}.${O["columnHeader--showColumnBorder"]} .${O.columnHeaderTitleContainer}`]:{borderBottom:"none"},[`& .${O["columnHeader--filledGroup"]}.${O["columnHeader--showColumnBorder"]}`]:{borderBottom:`solid ${t} 1px`,boxSizing:"border-box"},[`& .${O.sortIcon}, & .${O.filterIcon}`]:{fontSize:"inherit"},[`& .${O["columnHeader--sortable"]}`]:{cursor:"pointer"},[`& .${O["columnHeader--alignCenter"]} .${O.columnHeaderTitleContainer}`]:{justifyContent:"center"},[`& .${O["columnHeader--alignRight"]} .${O.columnHeaderDraggableContainer}, & .${O["columnHeader--alignRight"]} .${O.columnHeaderTitleContainer}`]:{flexDirection:"row-reverse"},[`& .${O["columnHeader--alignCenter"]} .${O.menuIcon}, & .${O["columnHeader--alignRight"]} .${O.menuIcon}`]:{marginRight:"auto",marginLeft:-6},[`& .${O["columnHeader--alignRight"]} .${O.menuIcon}, & .${O["columnHeader--alignRight"]} .${O.menuIcon}`]:{marginRight:"auto",marginLeft:-10},[`& .${O["columnHeader--moving"]}`]:{backgroundColor:e.palette.action.hover},[`& .${O.columnSeparator}`]:{position:"absolute",zIndex:100,display:"flex",flexDirection:"column",justifyContent:"center",color:t},[`& .${O["columnSeparator--sideLeft"]}`]:{left:-12},[`& .${O["columnSeparator--sideRight"]}`]:{right:-12},[`& .${O["columnSeparator--resizable"]}`]:{cursor:"col-resize",touchAction:"none","&:hover":{color:e.palette.text.primary,"@media (hover: none)":{color:t}},[`&.${O["columnSeparator--resizing"]}`]:{color:e.palette.text.primary},"& svg":{pointerEvents:"none"}},[`& .${O.iconSeparator}`]:{color:"inherit"},[`& .${O.menuIcon}`]:{width:0,visibility:"hidden",fontSize:20,marginRight:-10,display:"flex",alignItems:"center"},[`& .${O.columnHeader}:hover`]:{[`& .${O.iconButtonContainer}`]:{visibility:"visible",width:"auto"},[`& .${O.menuIcon}`]:{width:"auto",visibility:"visible"}},[`.${O.menuOpen}`]:{visibility:"visible",width:"auto"},[`& .${O.row}`]:{display:"flex",width:"fit-content",breakInside:"avoid","&:hover, &.Mui-hovered":{backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},"&.Mui-selected":{backgroundColor:Ve(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover, &.Mui-hovered":{backgroundColor:Ve(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:Ve(e.palette.primary.main,e.palette.action.selectedOpacity)}}}},[`& .${O.cell}`]:{display:"flex",alignItems:"center",borderBottom:`1px solid ${t}`},[`& .${O.row}:not(.${O["row--dynamicHeight"]}) > .${O.cell}`]:{overflow:"hidden",whiteSpace:"nowrap"},[`& .${O.cellContent}`]:{overflow:"hidden",textOverflow:"ellipsis"},[`& .${O.cell}.${O["cell--editing"]}`]:{padding:1,display:"flex",boxShadow:e.shadows[2],backgroundColor:e.palette.background.paper,"&:focus-within":{outline:`solid ${e.palette.primary.main} 1px`,outlineOffset:"-1px"}},[`& .${O["row--editing"]}`]:{boxShadow:e.shadows[2]},[`& .${O["row--editing"]} .${O.cell}`]:{boxShadow:e.shadows[0],backgroundColor:e.palette.background.paper},[`& .${O.editBooleanCell}`]:{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"},[`& .${O.booleanCell}[data-value="true"]`]:{color:e.palette.text.secondary},[`& .${O.booleanCell}[data-value="false"]`]:{color:e.palette.text.disabled},[`& .${O.actionsCell}`]:{display:"inline-flex",alignItems:"center",gridGap:e.spacing(1)},[`& .${O.rowReorderCell}`]:{display:"inline-flex",flex:1,alignItems:"center",justifyContent:"center",opacity:e.palette.action.disabledOpacity},[`& .${O["rowReorderCell--draggable"]}`]:{cursor:"move",opacity:1},[`& .${O.rowReorderCellContainer}`]:{padding:0,alignItems:"stretch"},[`& .${O.withBorder}`]:{borderRight:`1px solid ${t}`},[`& .${O["cell--textLeft"]}`]:{justifyContent:"flex-start"},[`& .${O["cell--textRight"]}`]:{justifyContent:"flex-end"},[`& .${O["cell--textCenter"]}`]:{justifyContent:"center"},[`& .${O.columnHeaderDraggableContainer}`]:{display:"flex",width:"100%",height:"100%"},[`& .${O.rowReorderCellPlaceholder}`]:{display:"none"},[`& .${O["columnHeader--dragging"]}, & .${O["row--dragging"]}`]:{background:e.palette.background.paper,padding:"0 12px",borderRadius:e.shape.borderRadius,opacity:e.palette.action.disabledOpacity},[`& .${O["row--dragging"]}`]:{background:e.palette.background.paper,padding:"0 12px",borderRadius:e.shape.borderRadius,opacity:e.palette.action.disabledOpacity,[`& .${O.rowReorderCellPlaceholder}`]:{display:"flex"}},[`& .${O.treeDataGroupingCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${O.treeDataGroupingCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:e.spacing(2)},[`& .${O.groupingCriteriaCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${O.groupingCriteriaCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:e.spacing(2)}})}),Qa=["children","className"],Ja=e=>{const{autoHeight:t,density:n,classes:o}=e,r={root:["root",t&&"autoHeight",`root--density${Fe(n)}`]};return ue(r,me,o)},Xa=l.forwardRef(function(t,n){const o=te(),{children:r,className:s}=t,i=Z(t,Qa),c=ae(),a=ee(c,Oe),g=ee(c,xn),d=ee(c,Fi),u=ee(c,io),f=l.useRef(null),C=Mt(f,n),x=ee(c,vi),y=m({},o,{density:d}),p=Ja(y);c.current.rootElementRef=f;const[I,k]=l.useState(!1);return Ye(()=>{k(!0)},[]),Ye(()=>{I&&c.current.unstable_updateGridDimensionsRef()},[c,I]),I?P(Ya,m({ref:C,className:de(s,p.root),ownerState:y,role:"grid","aria-colcount":a.length,"aria-rowcount":u+1+x+g,"aria-multiselectable":!o.disableMultipleSelection,"aria-label":o["aria-label"],"aria-labelledby":o["aria-labelledby"]},i,{children:r})):null}),Za=["className"],ec=e=>{const{classes:t}=e;return ue({root:["footerContainer"]},me,t)},tc=ce("div",{name:"MuiDataGrid",slot:"FooterContainer",overridesResolver:(e,t)=>t.footerContainer})(({theme:e})=>({display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:52,borderTop:`1px solid ${e.palette.mode==="light"?tn(Ve(e.palette.divider,1),.88):nn(Ve(e.palette.divider,1),.68)}`})),nc=l.forwardRef(function(t,n){const{className:o}=t,r=Z(t,Za),s=te(),i=ec(s);return P(tc,m({ref:n,className:de(i.root,o),ownerState:s},r))}),oc=["className"],rc=e=>{const{classes:t}=e;return ue({root:["overlay"]},me,t)},lc=ce("div",{name:"MuiDataGrid",slot:"Overlay",overridesResolver:(e,t)=>t.overlay})(({theme:e})=>({position:"absolute",top:0,zIndex:4,width:"100%",height:"100%",pointerEvents:"none",display:"flex",alignSelf:"center",alignItems:"center",justifyContent:"center",backgroundColor:Ve(e.palette.background.default,e.palette.action.disabledOpacity)})),Tn=l.forwardRef(function(t,n){const{className:o}=t,r=Z(t,oc),s=te(),i=rc(s);return P(lc,m({ref:n,className:de(i.root,o),ownerState:s},r))}),sc=["className"],ic=e=>{const{classes:t}=e;return ue({root:["iconButtonContainer"]},me,t)},ac=ce("div",{name:"MuiDataGrid",slot:"IconButtonContainer",overridesResolver:(e,t)=>t.iconButtonContainer})(()=>({display:"flex",visibility:"hidden",width:0})),jr=l.forwardRef(function(t,n){const{className:o}=t,r=Z(t,sc),s=te(),i=ic(s);return P(ac,m({ref:n,className:de(i.root,o),ownerState:s},r))}),cc=e=>{const{classes:t}=e;return ue({icon:["sortIcon"]},me,t)};function uc(e,t,n,o){let r;const s={};return t==="asc"?r=e.ColumnSortedAscendingIcon:t==="desc"?r=e.ColumnSortedDescendingIcon:(r=e.ColumnUnsortedIcon,s.sortingOrder=o),r?P(r,m({fontSize:"small",className:n},s)):null}function dc(e){const{direction:t,index:n,sortingOrder:o}=e,r=ae(),s=te(),i=m({},e,{classes:s.classes}),c=cc(i),a=uc(s.components,t,c.icon,o);if(!a)return null;const g=P(lt,{tabIndex:-1,"aria-label":r.current.getLocaleText("columnHeaderSortIconLabel"),title:r.current.getLocaleText("columnHeaderSortIconLabel"),size:"small",children:a});return pe(jr,{children:[n!=null&&P(gr,{badgeContent:n,color:"default",children:g}),n==null&&g]})}const gc=l.memo(dc),mc=e=>{const{classes:t,open:n}=e;return ue({root:["menuIcon",n&&"menuOpen"],button:["menuIconButton"]},me,t)},fc=l.memo(e=>{const{column:t,open:n,columnMenuId:o,columnMenuButtonId:r,iconButtonRef:s}=e,i=ae(),c=te(),a=m({},e,{classes:c.classes}),g=mc(a),d=l.useCallback(u=>{u.preventDefault(),u.stopPropagation(),i.current.toggleColumnMenu(t.field)},[i,t.field]);return P("div",{className:g.root,children:P(lt,{ref:s,tabIndex:-1,className:g.button,"aria-label":i.current.getLocaleText("columnMenuLabel"),title:i.current.getLocaleText("columnMenuLabel"),size:"small",onClick:d,"aria-expanded":n?"true":void 0,"aria-haspopup":"true","aria-controls":o,id:r,children:P(c.components.ColumnMenuIcon,{fontSize:"small"})})})});function hc({columnMenuId:e,columnMenuButtonId:t,ContentComponent:n,contentComponentProps:o,field:r,open:s,target:i,onExited:c}){const a=ae(),g=a.current.getColumn(r),d=l.useCallback(u=>{u.stopPropagation(),a.current.hideColumnMenu()},[a]);return i?P(Wr,{placement:`bottom-${g.align==="right"?"start":"end"}`,open:s,target:i,onClickAway:d,onExited:c,children:P(n,m({currentColumn:g,hideMenu:d,open:s,id:e,labelledby:t},o))}):null}function pc(e){return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth}function Cc(e,t){return e.closest(`.${t}`)}function uo(e){return e.replace(/["\\]/g,"\\$&")}function bc(e,t){return e.querySelector(`[role="columnheader"][data-field="${uo(t)}"]`)}function qr(e){return`.${O.row}[data-id="${uo(String(e))}"]`}function wc(e,t){return e.querySelector(qr(t))}function Sc(e,{id:t,field:n}){const o=qr(t),r=`.${O.cell}[data-field="${uo(n)}"]`,s=`${o} ${r}`;return e.querySelector(s)}const vc=["className"],yc=e=>{const{classes:t}=e;return ue({root:["columnHeaderTitle"]},me,t)},Pc=ce("div",{name:"MuiDataGrid",slot:"ColumnHeaderTitle",overridesResolver:(e,t)=>t.columnHeaderTitle})(({theme:e})=>({textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",fontWeight:e.typography.fontWeightMedium})),Ec=l.forwardRef(function(t,n){const{className:o}=t,r=Z(t,vc),s=te(),i=yc(s);return P(Pc,m({ref:n,className:de(i.root,o),ownerState:s},r))});function Ic(e){var t;const{label:n,description:o,columnWidth:r}=e,s=te(),i=l.useRef(null),[c,a]=l.useState("");return l.useEffect(()=>{if(!o&&i&&i.current){const g=pc(i.current);a(g?n:"")}},[i,r,o,n]),P(s.components.BaseTooltip,m({title:o||c},(t=s.componentsProps)==null?void 0:t.baseTooltip,{children:P(Ec,{ref:i,children:n})}))}const xc=["resizable","resizing","height","side"];var Gn;(function(e){e.Left="left",e.Right="right"})(Gn||(Gn={}));const Mc=e=>{const{resizable:t,resizing:n,classes:o,side:r}=e,s={root:["columnSeparator",t&&"columnSeparator--resizable",n&&"columnSeparator--resizing",r&&`columnSeparator--side${Fe(r)}`],icon:["iconSeparator"]};return ue(s,me,o)};function kc(e){const{height:t,side:n=Gn.Right}=e,o=Z(e,xc),r=te(),s=m({},e,{side:n,classes:r.classes}),i=Mc(s),c=l.useCallback(a=>{a.preventDefault(),a.stopPropagation()},[]);return P("div",m({className:i.root,style:{minHeight:t,opacity:r.showColumnRightBorder?0:1}},o,{onClick:c,children:P(r.components.ColumnResizeIcon,{className:i.icon})}))}const Tc=l.memo(kc),Fc=["classes","columnMenuOpen","colIndex","height","isResizing","sortDirection","hasFocus","tabIndex","separatorSide","isDraggable","headerComponent","description","elementId","width","columnMenuIconButton","columnMenu","columnTitleIconButtons","headerClassName","label","resizable","draggableContainerProps","columnHeaderSeparatorProps","disableHeaderSeparator"],Yr=l.forwardRef(function(t,n){const{classes:o,columnMenuOpen:r,colIndex:s,height:i,isResizing:c,sortDirection:a,hasFocus:g,tabIndex:d,separatorSide:u,isDraggable:f,headerComponent:C,description:x,width:y,columnMenuIconButton:p=null,columnMenu:I=null,columnTitleIconButtons:k=null,headerClassName:S,label:h,resizable:F,draggableContainerProps:R,columnHeaderSeparatorProps:w,disableHeaderSeparator:v}=t,M=Z(t,Fc),_=ae(),T=te(),G=l.useRef(null),[L,E]=l.useState(r),b=Mt(G,n);let $="none";return a!=null&&($=a==="asc"?"ascending":"descending"),l.useEffect(()=>{L||E(r)},[L,r]),l.useLayoutEffect(()=>{const V=_.current.state.columnMenu;if(g&&!V.open){const H=G.current.querySelector('[tabindex="0"]')||G.current;H==null||H.focus(),_.current.columnHeadersContainerElementRef.current.scrollLeft=0}},[_,g]),pe("div",m({ref:b,className:de(o.root,S),style:{height:i,width:y,minWidth:y,maxWidth:y},role:"columnheader",tabIndex:d,"aria-colindex":s+1,"aria-sort":$,"aria-label":C==null?h:void 0},M,{children:[pe("div",m({className:o.draggableContainer,draggable:f},R,{children:[pe("div",{className:o.titleContainer,children:[P("div",{className:o.titleContainerContent,children:C!==void 0?C:P(Ic,{label:h,description:x,columnWidth:y})}),k]}),p]})),!v&&P(Tc,m({resizable:!T.disableColumnResize&&!!F,resizing:c,height:i,side:u},w)),I]}))}),_c=e=>{const{column:t,classes:n,isDragging:o,sortDirection:r,showRightBorder:s,filterItemsCounter:i}=e,c=r!=null,a=i!=null&&i>0,g=t.type==="number",d={root:["columnHeader",t.headerAlign==="left"&&"columnHeader--alignLeft",t.headerAlign==="center"&&"columnHeader--alignCenter",t.headerAlign==="right"&&"columnHeader--alignRight",t.sortable&&"columnHeader--sortable",o&&"columnHeader--moving",c&&"columnHeader--sorted",a&&"columnHeader--filtered",g&&"columnHeader--numeric",s&&"withBorder"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer"],titleContainerContent:["columnHeaderTitleContainerContent"]};return ue(d,me,n)};function $c(e){var t,n,o,r,s;const{column:i,columnMenuOpen:c,colIndex:a,headerHeight:g,isResizing:d,isLastColumn:u,sortDirection:f,sortIndex:C,filterItemsCounter:x,hasFocus:y,tabIndex:p,extendRowFullWidth:I,disableReorder:k,separatorSide:S}=e,h=ae(),F=te(),R=l.useRef(null),w=De(),v=De(),M=l.useRef(null),[_,T]=l.useState(c),{hasScrollX:G,hasScrollY:L}=(t=h.current.getRootDimensions())!=null?t:{hasScrollX:!1,hasScrollY:!1},E=l.useMemo(()=>!F.disableColumnReorder&&!k&&!i.disableReorder,[F.disableColumnReorder,k,i.disableReorder]);let b;i.renderHeader&&(b=i.renderHeader(h.current.getColumnHeaderParams(i.field)));const V=u?!(u&&G&&!L)&&!I:F.showColumnRightBorder,D=m({},e,{classes:F.classes,showRightBorder:V}),H=_c(D),A=l.useCallback(X=>ie=>{ie.currentTarget.contains(ie.target)&&h.current.publishEvent(X,h.current.getColumnHeaderParams(i.field),ie)},[h,i.field]),B=l.useMemo(()=>({onClick:A("columnHeaderClick"),onDoubleClick:A("columnHeaderDoubleClick"),onMouseOver:A("columnHeaderOver"),onMouseOut:A("columnHeaderOut"),onMouseEnter:A("columnHeaderEnter"),onMouseLeave:A("columnHeaderLeave"),onKeyDown:A("columnHeaderKeyDown"),onFocus:A("columnHeaderFocus"),onBlur:A("columnHeaderBlur")}),[A]),U=l.useMemo(()=>E?{onDragStart:A("columnHeaderDragStart"),onDragEnter:A("columnHeaderDragEnter"),onDragOver:A("columnHeaderDragOver"),onDragEnd:A("columnHeaderDragEnd")}:{},[E,A]),j=l.useMemo(()=>({onMouseDown:A("columnSeparatorMouseDown")}),[A]);l.useEffect(()=>{_||T(c)},[_,c]);const q=l.useCallback(()=>{T(!1)},[]),oe=!F.disableColumnMenu&&!i.disableColumnMenu&&P(fc,{column:i,columnMenuId:w,columnMenuButtonId:v,open:_,iconButtonRef:M}),Y=P(hc,{columnMenuId:w,columnMenuButtonId:v,field:i.field,open:c,target:M.current,ContentComponent:F.components.ColumnMenu,contentComponentProps:(n=F.componentsProps)==null?void 0:n.columnMenu,onExited:q}),re=(o=i.sortingOrder)!=null?o:F.sortingOrder,K=pe(l.Fragment,{children:[!F.disableColumnFilter&&P(F.components.ColumnHeaderFilterIconButton,m({field:i.field,counter:x},(r=F.componentsProps)==null?void 0:r.columnHeaderFilterIconButton)),i.sortable&&!i.hideSortIcons&&P(gc,{direction:f,index:C,sortingOrder:re})]});l.useLayoutEffect(()=>{const X=h.current.state.columnMenu;if(y&&!X.open){const fe=R.current.querySelector('[tabindex="0"]')||R.current;fe==null||fe.focus(),h.current.columnHeadersContainerElementRef.current.scrollLeft=0}},[h,y]);const J=typeof i.headerClassName=="function"?i.headerClassName({field:i.field,colDef:i}):i.headerClassName,N=(s=i.headerName)!=null?s:i.field;return P(Yr,m({ref:R,classes:H,columnMenuOpen:c,colIndex:a,height:g,isResizing:d,sortDirection:f,hasFocus:y,tabIndex:p,separatorSide:S,isDraggable:E,headerComponent:b,description:i.description,elementId:i.field,width:i.computedWidth,columnMenuIconButton:oe,columnTitleIconButtons:K,headerClassName:J,label:N,resizable:!F.disableColumnResize&&!!i.resizable,"data-field":i.field,columnMenu:Y,draggableContainerProps:U,columnHeaderSeparatorProps:j},B))}const vn=e=>e.preferencePanel;var St;(function(e){e.filters="filters",e.columns="columns"})(St||(St={}));const Rc=e=>{const{classes:t}=e;return ue({icon:["filterIcon"]},me,t)};function Dc(e){var t;const{counter:n,field:o,onClick:r}=e,s=ae(),i=te(),c=m({},e,{classes:i.classes}),a=Rc(c),g=l.useCallback(u=>{u.preventDefault(),u.stopPropagation();const{open:f,openedPanelValue:C}=vn(s.current.state);f&&C===St.filters?s.current.hideFilterPanel():s.current.showFilterPanel(),r&&r(s.current.getColumnHeaderParams(o),u)},[s,o,r]);if(!n)return null;const d=P(lt,{onClick:g,color:"default","aria-label":s.current.getLocaleText("columnHeaderFiltersLabel"),size:"small",tabIndex:-1,children:P(i.components.ColumnFilteredIcon,{className:a.icon,fontSize:"small"})});return P(i.components.BaseTooltip,m({title:s.current.getLocaleText("columnHeaderFiltersTooltipActive")(n),enterDelay:1e3},(t=i.componentsProps)==null?void 0:t.baseTooltip,{children:pe(jr,{children:[n>1&&P(gr,{badgeContent:n,color:"default",children:d}),n===1&&d]})}))}const Hc=["field","id","value","formattedValue","row","rowNode","colDef","isEditable","cellMode","hasFocus","tabIndex","getValue","api"],Lc=e=>{const{classes:t}=e;return ue({root:["checkboxInput"]},me,t)},Oc=l.forwardRef(function(t,n){var o;const{field:r,id:s,value:i,rowNode:c,hasFocus:a,tabIndex:g}=t,d=Z(t,Hc),u=ae(),f=te(),C={classes:f.classes},x=Lc(C),y=l.useRef(null),p=l.useRef(),I=Mt(y,n),k=u.current.getCellElement(s,r),S=w=>{const v={value:w.target.checked,id:s};u.current.publishEvent("rowSelectionCheckboxChange",v,w)};l.useLayoutEffect(()=>{g===0&&k&&(k.tabIndex=-1)},[k,g]),l.useEffect(()=>{if(a){var w;const v=(w=y.current)==null?void 0:w.querySelector("input");v==null||v.focus({preventScroll:!0})}else p.current&&p.current.stop({})},[a]);const h=l.useCallback(w=>{Kr(w.key)&&w.stopPropagation(),cn(w.key)&&!w.shiftKey&&u.current.publishEvent("cellNavigationKeyDown",t,w)},[u,t]);if(c.position==="footer")return null;const F=u.current.isRowSelectable(s),R=u.current.getLocaleText(i?"checkboxSelectionUnselectRow":"checkboxSelectionSelectRow");return c.isPinned?null:P(f.components.BaseCheckbox,m({ref:I,tabIndex:g,checked:i,onChange:S,className:x.root,inputProps:{"aria-label":R},onKeyDown:h,disabled:!F,touchRippleRef:p},(o=f.componentsProps)==null?void 0:o.baseCheckbox,d))}),Vc=Oc,qe=e=>e.selection,Ac=ne(qe,e=>e.length),Gc=ne(qe,Rt,(e,t)=>new Map(e.map(n=>[n,t[n]]))),yn=ne(qe,e=>e.reduce((t,n)=>(t[n]=n,t),{})),zt=e=>e.pagination,Ut=ne(zt,e=>e.page),jt=ne(zt,e=>e.pageSize);ne(zt,e=>e.pageCount);const go=ne(zt,bt,no,mt,_r,(e,t,n,o,r)=>{const s=r.length,i=Math.min(e.pageSize*e.page,s-1),c=Math.min(i+e.pageSize-1,s-1);if(i===-1||c===-1)return null;if(n<2)return{firstRowIndex:i,lastRowIndex:c};const a=r[i],g=c-i+1,d=o.findIndex(C=>C.id===a.id);let u=d,f=0;for(;u<o.length&&f<=g;){const C=o[u],x=t[C.id].depth;(f<g||x>0)&&(u+=1),x===0&&(f+=1)}return{firstRowIndex:d,lastRowIndex:u-1}}),zc=ne(mt,go,(e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]),Qr=ne(Wt,go,(e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]),Nc=["field","colDef"],Bc=e=>{const{classes:t}=e;return ue({root:["checkboxInput"]},me,t)},Uc=l.forwardRef(function(t,n){var o;const r=Z(t,Nc),[,s]=l.useState(!1),i=ae(),c=te(),a={classes:c.classes},g=Bc(a),d=ee(i,Vr),u=ee(i,qe),f=ee(i,Wt),C=ee(i,Qr),x=l.useMemo(()=>typeof c.isRowSelectable!="function"?u:u.filter(v=>i.current.getRow(v)?c.isRowSelectable(i.current.getRowParams(v)):!1),[i,c.isRowSelectable,u]),y=l.useMemo(()=>(!c.pagination||!c.checkboxSelectionVisibleOnly?f:C).reduce((M,_)=>(M[_]=!0,M),{}),[c.pagination,c.checkboxSelectionVisibleOnly,C,f]),p=l.useMemo(()=>x.filter(v=>y[v]).length,[x,y]),I=p>0&&p<Object.keys(y).length,k=p>0,S=v=>{const M={value:v.target.checked};i.current.publishEvent("headerSelectionCheckboxChange",M)},h=d!==null&&d.field===t.field?0:-1;l.useLayoutEffect(()=>{const v=i.current.getColumnHeaderElement(t.field);h===0&&v&&(v.tabIndex=-1)},[h,i,t.field]);const F=l.useCallback(v=>{v.key===" "&&i.current.publishEvent("headerSelectionCheckboxChange",{value:!k}),cn(v.key)&&!v.shiftKey&&i.current.publishEvent("columnHeaderNavigationKeyDown",t,v)},[i,t,k]),R=l.useCallback(()=>{s(v=>!v)},[]);l.useEffect(()=>i.current.subscribeEvent("selectionChange",R),[i,R]);const w=i.current.getLocaleText(k?"checkboxSelectionUnselectAllRows":"checkboxSelectionSelectAllRows");return P(c.components.BaseCheckbox,m({ref:n,indeterminate:I,checked:k,onChange:S,className:g.root,inputProps:{"aria-label":w},tabIndex:h,onKeyDown:F},(o=c.componentsProps)==null?void 0:o.baseCheckbox,r))}),Kc=e=>{const{onClick:t}=e,n=ae(),o=te(),r=l.useCallback(s=>{t(s),n.current.showPreferences(St.columns)},[n,t]);return o.disableColumnSelector?null:P(Be,{onClick:r,children:n.current.getLocaleText("columnMenuShowColumns")})},Wc=e=>{const{column:t,onClick:n}=e,o=ae(),r=te(),s=l.useCallback(i=>{n(i),o.current.showFilterPanel(t==null?void 0:t.field)},[o,t==null?void 0:t.field,n]);return r.disableColumnFilter||!(t!=null&&t.filterable)?null:P(Be,{onClick:s,children:o.current.getLocaleText("columnMenuFilter")})},jc=["hideMenu","currentColumn","open","id","labelledby","className","children"],qc=l.forwardRef(function(t,n){const{hideMenu:o,open:r,id:s,labelledby:i,className:c,children:a}=t,g=Z(t,jc),d=l.useCallback(u=>{Ur(u.key)&&u.preventDefault(),$a(u.key)&&o(u)},[o]);return P(wr,m({id:s,ref:n,className:de(O.menuList,c),"aria-labelledby":i,onKeyDown:d,autoFocus:r},g,{children:a}))}),Yc=tt(["MUI: The `sortModel` can only contain a single item when the `disableMultipleColumnsSorting` prop is set to `true`.","If you are using the community version of the `DataGrid`, this prop is always `true`."],"error"),Jr=(e,t)=>t&&e.length>1?(Yc(),[e[0]]):e,Uo=(e,t)=>n=>m({},n,{sorting:m({},n.sorting,{sortModel:Jr(e,t)})}),Qc=e=>e==="desc",Jc=(e,t)=>{const n=t.current.getColumn(e.field);if(!n)return null;const o=Qc(e.sort)?(...s)=>-1*n.sortComparator(...s):n.sortComparator;return{getSortCellParams:s=>({id:s,field:n.field,rowNode:t.current.getRowNode(s),value:t.current.getCellValue(s,n.field),api:t.current}),comparator:o}},Xc=(e,t,n)=>e.reduce((o,r,s)=>{if(o!==0)return o;const i=t.params[s],c=n.params[s];return o=r.comparator(i.value,c.value,i,c),o},0),Zc=(e,t)=>{const n=e.map(o=>Jc(o,t)).filter(o=>!!o);return n.length===0?null:o=>o.map(r=>({node:r,params:n.map(s=>s.getSortCellParams(r.id))})).sort((r,s)=>Xc(n,r,s)).map(r=>r.node.id)},Ko=(e,t)=>{const n=e.indexOf(t);return!t||n===-1||n+1===e.length?e[0]:e[n+1]},mo=(e,t)=>e==null&&t!=null?-1:t==null&&e!=null?1:e==null&&t==null?0:null,eu=new Intl.Collator,tu=(e,t)=>{const n=mo(e,t);return n!==null?n:typeof e=="string"?eu.compare(e.toString(),t.toString()):e-t},Xr=(e,t)=>{const n=mo(e,t);return n!==null?n:Number(e)-Number(t)},Zr=(e,t)=>{const n=mo(e,t);return n!==null?n:e>t?1:e<t?-1:0};function nu(e){return typeof e=="number"}function el(e){return typeof e=="function"}function ou(){try{const e="__some_random_key_you_are_not_going_to_use__";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch{return!1}}function pn(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}const Ot=(e,t,n)=>Math.max(t,Math.min(n,e));function gt(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)){const r=e.length;if(r!==t.length)return!1;for(let s=0;s<r;s+=1)if(!gt(e[s],t[s]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;const r=Array.from(e.entries());for(let s=0;s<r.length;s+=1)if(!t.has(r[s][0]))return!1;for(let s=0;s<r.length;s+=1){const i=r[s];if(!gt(i[1],t.get(i[0])))return!1}return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;const r=Array.from(e.entries());for(let s=0;s<r.length;s+=1)if(!t.has(r[s][0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){const r=e.length;if(r!==t.length)return!1;for(let s=0;s<r;s+=1)if(e[s]!==t[s])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const n=Object.keys(e),o=n.length;if(o!==Object.keys(t).length)return!1;for(let r=0;r<o;r+=1)if(!Object.prototype.hasOwnProperty.call(t,n[r]))return!1;for(let r=0;r<o;r+=1){const s=n[r];if(!gt(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function ru(e){return()=>{let t=e+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}}function lu(e,t,n){const o=ru(e);return()=>t+(n-t)*o()}function tl(e){return typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e))}const su=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant"];function nl(e){const{item:t,applyValue:n,type:o,apiRef:r,focusElementRef:s,color:i,error:c,helperText:a,size:g,variant:d}=e,u=Z(e,su),f={color:i,error:c,helperText:a,size:g,variant:d},[C,x]=l.useState(t.value||[]),y=De(),p=te();l.useEffect(()=>{var k;const S=(k=t.value)!=null?k:[];x(S.map(String))},[t.value]);const I=l.useCallback((k,S)=>{x(S.map(String)),n(m({},t,{value:[...S]}))},[n,t]);return P(mr,m({multiple:!0,freeSolo:!0,options:[],filterOptions:(k,S)=>{const{inputValue:h}=S;return h==null||h===""?[]:[h]},id:y,value:C,onChange:I,renderTags:(k,S)=>k.map((h,F)=>P(pr,m({variant:"outlined",size:"small",label:h},S({index:F})))),renderInput:k=>{var S;return P(p.components.BaseTextField,m({},k,{label:r.current.getLocaleText("filterPanelInputLabel"),placeholder:r.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:m({},k.InputLabelProps,{shrink:!0}),inputRef:s,type:o||"text"},f,(S=p.componentsProps)==null?void 0:S.baseTextField))}},u))}const iu=e=>{if(!e)return null;const t=new RegExp(pn(e),"i");return({value:n})=>n!=null?t.test(n.toString()):!1},au=(e=!1)=>[{value:"contains",getApplyFilterFn:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),o=new RegExp(pn(n),"i");return({value:r})=>r!=null?o.test(r.toString()):!1},InputComponent:rt},{value:"equals",getApplyFilterFn:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),o=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return({value:r})=>r!=null?o.compare(n,r.toString())===0:!1},InputComponent:rt},{value:"startsWith",getApplyFilterFn:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),o=new RegExp(`^${pn(n)}.*$`,"i");return({value:r})=>r!=null?o.test(r.toString()):!1},InputComponent:rt},{value:"endsWith",getApplyFilterFn:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),o=new RegExp(`.*${pn(n)}$`,"i");return({value:r})=>r!=null?o.test(r.toString()):!1},InputComponent:rt},{value:"isEmpty",getApplyFilterFn:()=>({value:t})=>t===""||t==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>({value:t})=>t!==""&&t!=null,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:t=>{if(!Array.isArray(t.value)||t.value.length===0)return null;const n=e?t.value:t.value.map(r=>r.trim()),o=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return({value:r})=>r!=null?n.some(s=>o.compare(s,r.toString()||"")===0):!1},InputComponent:nl}],vt={width:100,minWidth:50,maxWidth:1/0,hide:!1,hideable:!0,sortable:!0,resizable:!0,filterable:!0,groupable:!0,pinnable:!0,aggregable:!0,editable:!1,sortComparator:tu,type:"string",align:"left",filterOperators:au(),renderEditCell:Ea,getApplyQuickFilterFn:iu},fo="actions",cu=m({},vt,{sortable:!1,filterable:!1,aggregable:!1,width:100,align:"center",headerAlign:"center",headerName:"",disableColumnMenu:!0,disableExport:!0,renderCell:Ka,getApplyQuickFilterFn:void 0}),uu=["item","applyValue","apiRef","focusElementRef"];function du(e){var t,n,o,r;const{item:s,applyValue:i,apiRef:c,focusElementRef:a}=e,g=Z(e,uu),[d,u]=l.useState(s.value||""),f=te(),x=(n=(((t=f.componentsProps)==null?void 0:t.baseSelect)||{}).native)!=null?n:!0,y=x?"option":Be,p=l.useCallback(I=>{const k=I.target.value;u(k),i(m({},s,{value:k}))},[i,s]);return l.useEffect(()=>{u(s.value||"")},[s.value]),pe(f.components.BaseTextField,m({label:c.current.getLocaleText("filterPanelInputLabel"),value:d,onChange:p,select:!0,variant:"standard",SelectProps:m({native:x,displayEmpty:!0},(o=f.componentsProps)==null?void 0:o.baseSelect),InputLabelProps:{shrink:!0},inputRef:a},g,(r=f.componentsProps)==null?void 0:r.baseTextField,{children:[P(y,{value:"",children:c.current.getLocaleText("filterValueAny")}),P(y,{value:"true",children:c.current.getLocaleText("filterValueTrue")}),P(y,{value:"false",children:c.current.getLocaleText("filterValueFalse")})]}))}const gu=()=>[{value:"is",getApplyFilterFn:e=>{if(!e.value)return null;const t=e.value==="true";return({value:n})=>!!n===t},InputComponent:du}];function mu({value:e,api:t}){return e?t.getLocaleText("booleanCellTrueLabel"):t.getLocaleText("booleanCellFalseLabel")}const ol=m({},vt,{type:"boolean",align:"center",headerAlign:"center",renderCell:qi,renderEditCell:Xi,sortComparator:Xr,valueFormatter:mu,filterOperators:gu(),getApplyQuickFilterFn:void 0,aggregable:!1}),ft="__check__",un=m({},ol,{field:ft,type:"checkboxSelection",width:50,resizable:!1,sortable:!1,filterable:!1,aggregable:!1,disableColumnMenu:!0,disableReorder:!0,disableExport:!0,getApplyQuickFilterFn:void 0,valueGetter:e=>yn(e.api.state,e.api.instanceId)[e.id]!==void 0,renderHeader:e=>P(Uc,m({},e)),renderCell:e=>P(Vc,m({},e))}),fu=["item","applyValue","type","apiRef","focusElementRef","InputProps"],hu=500;function Ft(e){var t,n;const{item:o,applyValue:r,type:s,apiRef:i,focusElementRef:c,InputProps:a}=e,g=Z(e,fu),d=l.useRef(),[u,f]=l.useState((t=o.value)!=null?t:""),[C,x]=l.useState(!1),y=De(),p=te(),I=l.useCallback(k=>{const S=k.target.value;clearTimeout(d.current),f(String(S)),x(!0),d.current=setTimeout(()=>{r(m({},o,{value:S})),x(!1)},hu)},[r,o]);return l.useEffect(()=>()=>{clearTimeout(d.current)},[]),l.useEffect(()=>{var k;const S=(k=o.value)!=null?k:"";f(String(S))},[o.value]),P(p.components.BaseTextField,m({id:y,label:i.current.getLocaleText("filterPanelInputLabel"),placeholder:i.current.getLocaleText("filterPanelInputPlaceholder"),value:u,onChange:I,variant:"standard",type:s||"text",InputLabelProps:{shrink:!0},inputRef:c,InputProps:m({},C?{endAdornment:P(ao,{})}:{},a,{inputProps:m({max:s==="datetime-local"?"9999-12-31T23:59":"9999-12-31"},a==null?void 0:a.inputProps)})},g,(n=p.componentsProps)==null?void 0:n.baseTextField))}const pu=/(\d+)-(\d+)-(\d+)/,Cu=/(\d+)-(\d+)-(\d+)T(\d+):(\d+)/;function _t(e,t,n,o){if(!e.value)return null;const[r,s,i,c,a]=e.value.match(n?Cu:pu).slice(1).map(Number),g=new Date(r,s-1,i,c||0,a||0).getTime();return({value:d})=>{if(!d)return!1;const u=d instanceof Date?d:new Date(d.toString());if(o)return t(u.getTime(),g);const C=(d instanceof Date?new Date(u):u).setHours(n?u.getHours():0,n?u.getMinutes():0,0,0);return t(C,g)}}const rl=e=>[{value:"is",getApplyFilterFn:t=>_t(t,(n,o)=>n===o,e),InputComponent:Ft,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"not",getApplyFilterFn:t=>_t(t,(n,o)=>n!==o,e),InputComponent:Ft,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"after",getApplyFilterFn:t=>_t(t,(n,o)=>n>o,e),InputComponent:Ft,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrAfter",getApplyFilterFn:t=>_t(t,(n,o)=>n>=o,e),InputComponent:Ft,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"before",getApplyFilterFn:t=>_t(t,(n,o)=>n<o,e,!e),InputComponent:Ft,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrBefore",getApplyFilterFn:t=>_t(t,(n,o)=>n<=o,e),InputComponent:Ft,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"isEmpty",getApplyFilterFn:()=>({value:t})=>t==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>({value:t})=>t!=null,requiresFilterValue:!1}];function bu({value:e}){return e instanceof Date?e.toLocaleDateString():e??""}function wu({value:e}){return e instanceof Date?e.toLocaleString():e??""}const Su=m({},vt,{type:"date",sortComparator:Zr,valueFormatter:bu,filterOperators:rl(),renderEditCell:Ar,getApplyQuickFilterFn:void 0}),vu=m({},vt,{type:"dateTime",sortComparator:Zr,valueFormatter:wu,filterOperators:rl(!0),renderEditCell:Ar,getApplyQuickFilterFn:void 0}),ht=e=>e==null?null:Number(e),yu=e=>e==null||Number.isNaN(e)||e===""?null:({value:t})=>ht(t)===ht(e),Pu=()=>[{label:"=",value:"=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:({value:t})=>ht(t)===e.value,InputComponent:rt,InputComponentProps:{type:"number"}},{label:"!=",value:"!=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:({value:t})=>ht(t)!==e.value,InputComponent:rt,InputComponentProps:{type:"number"}},{label:">",value:">",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:({value:t})=>t==null?!1:ht(t)>e.value,InputComponent:rt,InputComponentProps:{type:"number"}},{label:">=",value:">=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:({value:t})=>t==null?!1:ht(t)>=e.value,InputComponent:rt,InputComponentProps:{type:"number"}},{label:"<",value:"<",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:({value:t})=>t==null?!1:ht(t)<e.value,InputComponent:rt,InputComponentProps:{type:"number"}},{label:"<=",value:"<=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:({value:t})=>t==null?!1:ht(t)<=e.value,InputComponent:rt,InputComponentProps:{type:"number"}},{value:"isEmpty",getApplyFilterFn:()=>({value:e})=>e==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>({value:e})=>e!=null,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:e=>!Array.isArray(e.value)||e.value.length===0?null:({value:t})=>t!=null&&e.value.includes(Number(t)),InputComponent:nl,InputComponentProps:{type:"number"}}],Eu=m({},vt,{type:"number",align:"right",headerAlign:"right",sortComparator:Xr,valueParser:e=>e===""?null:Number(e),valueFormatter:({value:e})=>nu(e)?e.toLocaleString():e||"",filterOperators:Pu(),getApplyQuickFilterFn:yu}),Iu=["item","applyValue","type","apiRef","focusElementRef"],xu=({valueOptions:e,valueFormatter:t,field:n},o,r)=>(typeof e=="function"?["",...e({field:n})]:["",...e||[]]).map(i=>{const c=typeof i=="object",a=c?i.value:i,g=c?i.value:i,d=t&&i!==""?t({value:i,field:n,api:o}):i,u=c?i.label:d;return P(r,{value:g,children:u},a)});function Wo(e){var t,n,o,r,s;const{item:i,applyValue:c,type:a,apiRef:g,focusElementRef:d}=e,u=Z(e,Iu),[f,C]=l.useState((t=i.value)!=null?t:""),x=De(),y=te(),I=(o=(((n=y.componentsProps)==null?void 0:n.baseSelect)||{}).native)!=null?o:!0,k=i.columnField?g.current.getColumn(i.columnField):null,S=l.useMemo(()=>{if(k!==null)return typeof k.valueOptions=="function"?k.valueOptions({field:k.field}):k.valueOptions},[k]),h=l.useCallback(F=>{let R=F.target.value;R=Sn(R,S),C(String(R)),c(m({},i,{value:R}))},[c,i,S]);return l.useEffect(()=>{var F;let R;if(S!==void 0){if(R=Sn(i.value,S),R!==i.value){c(m({},i,{value:R}));return}}else R=i.value;R=(F=R)!=null?F:"",C(String(R))},[i,S,c]),P(y.components.BaseTextField,m({id:x,label:g.current.getLocaleText("filterPanelInputLabel"),placeholder:g.current.getLocaleText("filterPanelInputPlaceholder"),value:f,onChange:h,variant:"standard",type:a||"text",InputLabelProps:{shrink:!0},inputRef:d,select:!0,SelectProps:m({native:I},(r=y.componentsProps)==null?void 0:r.baseSelect)},u,(s=y.componentsProps)==null?void 0:s.baseTextField,{children:xu(g.current.getColumn(i.columnField),g.current,I?"option":Be)}))}const Mu=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant"],ku=(e,t)=>wt(e)===wt(t),Tu=Hl();function Fu(e){const{item:t,applyValue:n,apiRef:o,focusElementRef:r,color:s,error:i,helperText:c,size:a,variant:g="standard"}=e,d=Z(e,Mu),u={color:s,error:i,helperText:c,size:a,variant:g},f=De(),C=te(),x=t.columnField?o.current.getColumn(t.columnField):null,y=l.useMemo(()=>x!=null&&x.valueOptions?typeof x.valueOptions=="function"?x.valueOptions({field:x.field}):x.valueOptions:[],[x]),p=l.useMemo(()=>y==null?void 0:y.map(wt),[y]),{valueFormatter:I,field:k}=o.current.getColumn(t.columnField),S=R=>typeof R=="object"?R.label:I&&R!==""?I({value:R,field:k,api:o.current}):R,h=l.useMemo(()=>Array.isArray(t.value)?y!==void 0?t.value.map(w=>{const v=wt(w);return(p==null?void 0:p.findIndex(_=>_===v))||0}).filter(w=>w>=0).map(w=>y[w]):t.value:[],[t.value,y,p]);l.useEffect(()=>{(!Array.isArray(t.value)||h.length!==t.value.length)&&n(m({},t,{value:h.map(wt)}))},[t,h,n]);const F=l.useCallback((R,w)=>{n(m({},t,{value:[...w.map(wt)]}))},[n,t]);return P(mr,m({multiple:!0,options:y,isOptionEqualToValue:ku,filterOptions:Tu,id:f,value:h,onChange:F,renderTags:(R,w)=>R.map((v,M)=>P(pr,m({variant:"outlined",size:"small",label:S(v)},w({index:M})))),renderInput:R=>{var w;return P(C.components.BaseTextField,m({},R,{label:o.current.getLocaleText("filterPanelInputLabel"),placeholder:o.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:m({},R.InputLabelProps,{shrink:!0}),inputRef:r,type:"singleSelect"},u,(w=C.componentsProps)==null?void 0:w.baseTextField))}},d))}const pt=e=>e==null||typeof e!="object"?e:e.value,_u=(e,t,n)=>{if(!e)return null;const{valueOptions:o,valueFormatter:r,field:s}=t,i=[pt(e).toString()],c=typeof o=="function"?o({field:s}):o||[];return c&&c.forEach(a=>{let g,d;typeof a=="object"?(g=a.value,d=a.label):(g=a,r?d=r({value:a,field:s,api:n.current}):d=a),d.slice(0,e.length).toLowerCase()===e.toLowerCase()&&(i.includes(g)||i.push(g.toString()))}),({value:a})=>a!=null?i.includes(pt(a).toString()):!1},$u=()=>[{value:"is",getApplyFilterFn:e=>e.value==null||e.value===""?null:({value:t})=>pt(t)===pt(e.value),InputComponent:Wo},{value:"not",getApplyFilterFn:e=>e.value==null||e.value===""?null:({value:t})=>pt(t)!==pt(e.value),InputComponent:Wo},{value:"isAnyOf",getApplyFilterFn:e=>{if(!Array.isArray(e.value)||e.value.length===0)return null;const t=e.value.map(pt);return({value:n})=>t.includes(pt(n))},InputComponent:Fu}],Ru=m({},vt,{type:"singleSelect",renderEditCell:Oa,filterOperators:$u(),getApplyQuickFilterFn:_u}),Pn="__default__",Du=()=>({string:vt,number:Eu,date:Su,dateTime:vu,boolean:ol,singleSelect:Ru,[fo]:cu,[Pn]:vt}),ll=["maxWidth","minWidth","width","flex"],sl=(e={})=>{const t=m({},Du());return Object.entries(e).forEach(([n,o])=>{t[n]?t[n]=m({},t[n],o):t[n]=m({},t[o.extendType||Pn],o)}),t};function Hu({initialFreeSpace:e,totalFlexUnits:t,flexColumns:n}){const o={all:{},frozenFields:[],freeze:s=>{const i=o.all[s];i&&i.frozen!==!0&&(o.all[s].frozen=!0,o.frozenFields.push(s))}};function r(){if(o.frozenFields.length===n.length)return;const s={min:{},max:{}};let i=e,c=t,a=0;o.frozenFields.forEach(g=>{i-=o.all[g].computedWidth,c-=o.all[g].flex});for(let g=0;g<n.length;g+=1){const d=n[g];if(o.all[d.field]&&o.all[d.field].frozen===!0)continue;let f=i/c*d.flex;f<d.minWidth?(a+=d.minWidth-f,f=d.minWidth,s.min[d.field]=!0):f>d.maxWidth&&(a+=d.maxWidth-f,f=d.maxWidth,s.max[d.field]=!0),o.all[d.field]={frozen:!1,computedWidth:f,flex:d.flex}}a<0?Object.keys(s.max).forEach(g=>{o.freeze(g)}):a>0?Object.keys(s.min).forEach(g=>{o.freeze(g)}):n.forEach(({field:g})=>{o.freeze(g)}),r()}return r(),o.all}const il=(e,t)=>{const n={};let o=0,r=0;const s=[];e.all.forEach(c=>{const a=m({},e.lookup[c]);if(e.columnVisibilityModel[c]===!1)a.computedWidth=0;else{let g;a.flex&&a.flex>0?(o+=a.flex,g=0,s.push(a)):g=Ot(a.width,a.minWidth,a.maxWidth),r+=g,a.computedWidth=g}n[c]=a});const i=Math.max(t-r,0);if(o>0&&t>0){const c=Hu({initialFreeSpace:i,totalFlexUnits:o,flexColumns:s});Object.keys(c).forEach(a=>{n[a].computedWidth=c[a].computedWidth})}return m({},e,{lookup:n})},Lu=(e,t)=>{if(!t)return e;const{orderedFields:n=[],dimensions:o={}}=t,r=Object.keys(o);if(r.length===0&&n.length===0)return e;const s={},i=[];for(let d=0;d<n.length;d+=1){const u=n[d];e.lookup[u]&&(s[u]=!0,i.push(u))}const c=i.length===0?e.all:[...i,...e.all.filter(d=>!s[d])],a=m({},e.lookup);for(let d=0;d<r.length;d+=1){const u=r[d],f=m({},a[u],{hasBeenResized:!0});Object.entries(o[u]).forEach(([C,x])=>{f[C]=x===-1?1/0:x}),a[u]=f}return{all:c,lookup:a}},Ou=(e,t)=>!t||!e[t]?e[Pn]:e[t],$t=({apiRef:e,columnsToUpsert:t,initialState:n,columnTypes:o,currentColumnVisibilityModel:r=dt(e),shouldRegenColumnVisibilityModelFromColumns:s,keepOnlyColumnsToUpsert:i=!1})=>{var c,a,g,d;const u=!e.current.state.columns;let f;if(u)f={all:[],lookup:{}};else{const h=It(e.current.state);f={all:i?[]:[...h.all],lookup:m({},h.lookup)}}let C={};i&&!u&&(C=Object.keys(f.lookup).reduce((h,F)=>m({},h,{[F]:!1}),{}));const x={};t.forEach(h=>{const{field:F}=h;x[F]=!0,C[F]=!0;let R=f.lookup[F];R==null?(R=m({},Ou(o,h.type),{field:F,hasBeenResized:!1}),f.all.push(F)):i&&f.all.push(F);let w=R.hasBeenResized;ll.forEach(v=>{h[v]!==void 0&&(w=!0,h[v]===-1&&(h[v]=1/0))}),f.lookup[F]=m({},R,{hide:h.hide==null?!1:h.hide},h,{hasBeenResized:w})}),i&&!u&&Object.keys(f.lookup).forEach(h=>{C[h]||delete f.lookup[h]});const y=m({},f.lookup),p=e.current.unstable_applyPipeProcessors("hydrateColumns",f);let I={};if(s){let h=!1;const F=m({},r);u?p.all.forEach(R=>{F[R]=!f.lookup[R].hide}):i&&Object.keys(F).forEach(R=>{p.lookup[R]||(delete F[R],h=!0)}),p.all.forEach(R=>{if(!x[R]&&y[R]===p.lookup[R])return;let w=r[R];w===void 0&&(u?w=!0:w=!!It(e.current.state).lookup[R]);const v=!p.lookup[R].hide;v!==w&&(h=!0,F[R]=v)}),h||u?I=F:I=r}else I=r;const k=Lu(p,n),S=m({},k,{columnVisibilityModel:I});return il(S,(c=(a=(g=e.current).getRootDimensions)==null||(d=a.call(g))==null?void 0:d.viewportInnerSize.width)!=null?c:0)},jo=e=>t=>m({},t,{columns:e});function zn({firstColumnToRender:e,apiRef:t,firstRowToRender:n,lastRowToRender:o,visibleRows:r}){let s=e;for(let i=n;i<o;i+=1)if(r[i]){const a=r[i].id,g=t.current.unstable_getCellColSpanInfo(a,e);g&&g.spannedByColSpan&&(s=g.leftVisibleCellIndex)}return s}function Vu({firstColumnIndex:e,minColumnIndex:t,columnBuffer:n,firstRowToRender:o,lastRowToRender:r,apiRef:s,visibleRows:i}){const c=Math.max(e-n,t);return zn({firstColumnToRender:c,apiRef:s,firstRowToRender:o,lastRowToRender:r,visibleRows:i})}const Au=e=>{const{column:t,onClick:n}=e,o=ae(),r=te(),s=l.useRef(),a=Oe(o).filter(d=>d.disableColumnMenu!==!0).length===1,g=l.useCallback(d=>{a||(n(d),s.current=setTimeout(()=>{o.current.setColumnVisibility(t==null?void 0:t.field,!1)},100))},[o,t==null?void 0:t.field,n,a]);return l.useEffect(()=>()=>clearTimeout(s.current),[]),r.disableColumnSelector||t.hideable===!1?null:P(Be,{onClick:g,disabled:a,children:o.current.getLocaleText("columnMenuHideColumn")})};function Gu(e){var t;const{column:n,onClick:o}=e,r=ae(),s=ee(r,Je),i=te(),c=(t=n.sortingOrder)!=null?t:i.sortingOrder,a=l.useMemo(()=>{if(!n)return null;const d=s.find(u=>u.field===n.field);return d==null?void 0:d.sort},[n,s]),g=l.useCallback(d=>{o(d);const u=d.currentTarget.getAttribute("data-value")||null;r.current.sortColumn(n,u)},[r,n,o]);return!n||!n.sortable?null:pe(l.Fragment,{children:[c.includes(null)?P(Be,{onClick:g,disabled:a==null,children:r.current.getLocaleText("columnMenuUnsort")}):null,c.includes("asc")?P(Be,{onClick:g,"data-value":"asc",disabled:a==="asc",children:r.current.getLocaleText("columnMenuSortAsc")}):null,c.includes("desc")?P(Be,{onClick:g,"data-value":"desc",disabled:a==="desc",children:r.current.getLocaleText("columnMenuSortDesc")}):null]})}const zu=l.forwardRef(function(t,n){const{hideMenu:o,currentColumn:r}=t,s=ae(),i=[P(Gu,{onClick:o,column:r}),P(Wc,{onClick:o,column:r}),P(Au,{onClick:o,column:r}),P(Kc,{onClick:o,column:r})],c=s.current.unstable_applyPipeProcessors("columnMenu",i,r);return P(qc,m({ref:n},t,{children:c.map((a,g)=>l.cloneElement(a,{key:g,onClick:o,column:r}))}))}),Nu=["className"],Bu=e=>{const{classes:t}=e;return ue({root:["panelContent"]},me,t)},Uu=ce("div",{name:"MuiDataGrid",slot:"PanelContent",overridesResolver:(e,t)=>t.panelContent})({display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400});function al(e){const{className:t}=e,n=Z(e,Nu),o=te(),r=Bu(o);return P(Uu,m({className:de(t,r.root),ownerState:o},n))}const Ku=["className"],Wu=e=>{const{classes:t}=e;return ue({root:["panelFooter"]},me,t)},ju=ce("div",{name:"MuiDataGrid",slot:"PanelFooter",overridesResolver:(e,t)=>t.panelFooter})(({theme:e})=>({padding:e.spacing(.5),display:"flex",justifyContent:"space-between"}));function cl(e){const{className:t}=e,n=Z(e,Ku),o=te(),r=Wu(o);return P(ju,m({className:de(t,r.root),ownerState:o},n))}const qu=["className"],Yu=e=>{const{classes:t}=e;return ue({root:["panelHeader"]},me,t)},Qu=ce("div",{name:"MuiDataGrid",slot:"PanelHeader",overridesResolver:(e,t)=>t.panelHeader})(({theme:e})=>({padding:e.spacing(1)}));function Ju(e){const{className:t}=e,n=Z(e,qu),o=te(),r=Yu(o);return P(Qu,m({className:de(t,r.root),ownerState:o},n))}const Xu=["className","slotProps"],Zu=e=>{const{classes:t}=e;return ue({root:["panelWrapper"]},me,t)},ed=ce("div",{name:"MuiDataGrid",slot:"PanelWrapper",overridesResolver:(e,t)=>t.panelWrapper})({display:"flex",flexDirection:"column",flex:1,"&:focus":{outline:0}}),td=()=>!0,ul=l.forwardRef(function(t,n){const{className:o,slotProps:r={}}=t,s=Z(t,Xu),i=te(),c=Zu(i);return P(es,m({open:!0,disableEnforceFocus:!0,isEnabled:td},r.TrapFocus,{children:P(ed,m({ref:n,tabIndex:-1,className:de(o,c.root),ownerState:i},s))}))}),nd=!1,od=["sort","searchPredicate","autoFocusSearchField"],rd=e=>{const{classes:t}=e;return ue({root:["columnsPanel"],columnsPanelRow:["columnsPanelRow"]},me,t)},ld=ce("div",{name:"MuiDataGrid",slot:"ColumnsPanel",overridesResolver:(e,t)=>t.columnsPanel})({padding:"8px 0px 8px 8px"}),sd=ce("div",{name:"MuiDataGrid",slot:"ColumnsPanelRow",overridesResolver:(e,t)=>t.columnsPanelRow})(({theme:e})=>({display:"flex",justifyContent:"space-between",padding:"1px 8px 1px 7px",[`& .${He.root}`]:{marginRight:e.spacing(.5)}})),id=ce(lt)({justifyContent:"flex-end"}),qo=new Intl.Collator,ad=(e,t)=>(e.headerName||e.field).toLowerCase().indexOf(t)>-1;function cd(e){var t,n,o;const r=ae(),s=l.useRef(null),i=ee(r,et),c=ee(r,dt),a=te(),[g,d]=l.useState(""),u=rd(a),{sort:f,searchPredicate:C=ad,autoFocusSearchField:x=!0}=e,y=Z(e,od),p=l.useMemo(()=>{switch(f){case"asc":return[...i].sort((v,M)=>qo.compare(v.headerName||v.field,M.headerName||M.field));case"desc":return[...i].sort((v,M)=>-qo.compare(v.headerName||v.field,M.headerName||M.field));default:return i}},[i,f]),I=v=>{const{name:M}=v.target;r.current.setColumnVisibility(M,c[M]===!1)},k=l.useCallback(v=>{if(r.current.unstable_caches.columns.isUsingColumnVisibilityModel){const M=dt(r),_=m({},M);return i.forEach(T=>{T.hideable&&(v?delete _[T.field]:_[T.field]=!1)}),r.current.setColumnVisibilityModel(_)}return r.current.updateColumns(i.map(M=>M.hideable!==!1?{field:M.field,hide:!v}:M))},[r,i]),S=l.useCallback(v=>{d(v.target.value)},[]),h=l.useMemo(()=>{if(!g)return p;const v=g.toLowerCase();return p.filter(M=>C(M,v))},[p,g,C]),F=l.useRef(null);l.useEffect(()=>{x?s.current.focus():F.current&&typeof F.current.focus=="function"&&F.current.focus()},[x]);let R=!1;const w=v=>R===!1&&v.hideable!==!1?(R=!0,!0):!1;return pe(ul,m({},y,{children:[P(Ju,{children:P(a.components.BaseTextField,m({label:r.current.getLocaleText("columnsPanelTextFieldLabel"),placeholder:r.current.getLocaleText("columnsPanelTextFieldPlaceholder"),inputRef:s,value:g,onChange:S,variant:"standard",fullWidth:!0},(t=a.componentsProps)==null?void 0:t.baseTextField))}),P(al,{children:P(ld,{className:u.root,ownerState:a,children:h.map(v=>{var M;return pe(sd,{className:u.columnsPanelRow,ownerState:a,children:[P(Ql,{control:P(a.components.BaseSwitch,m({disabled:v.hideable===!1,checked:c[v.field]!==!1,onClick:I,name:v.field,size:"small",inputRef:w(v)?F:void 0},(M=a.componentsProps)==null?void 0:M.baseSwitch)),label:v.headerName||v.field}),!a.disableColumnReorder&&nd&&P(id,{draggable:!0,"aria-label":r.current.getLocaleText("columnsPanelDragIconLabel"),title:r.current.getLocaleText("columnsPanelDragIconLabel"),size:"small",disabled:!0,children:P(zr,{})})]},v.field)})})}),pe(cl,{children:[P(a.components.BaseButton,m({onClick:()=>k(!1)},(n=a.componentsProps)==null?void 0:n.baseButton,{children:r.current.getLocaleText("columnsPanelHideAllButton")})),P(a.components.BaseButton,m({onClick:()=>k(!0)},(o=a.componentsProps)==null?void 0:o.baseButton,{children:r.current.getLocaleText("columnsPanelShowAllButton")}))]})]}))}const ud=["children","className","classes"],dd=At("MuiDataGrid",["panel","paper"]),gd=ce(Xn,{name:"MuiDataGrid",slot:"Panel",overridesResolver:(e,t)=>t.panel})(({theme:e})=>({zIndex:e.zIndex.modal})),md=ce(br,{name:"MuiDataGrid",slot:"Paper",overridesResolver:(e,t)=>t.paper})(({theme:e})=>({backgroundColor:e.palette.background.paper,minWidth:300,maxHeight:450,display:"flex"})),fd=l.forwardRef((e,t)=>{var n;const{children:o,className:r}=e,s=Z(e,ud),i=ae(),c=te(),a=dd,[g,d]=l.useState(!1),u=l.useCallback(()=>{i.current.hidePreferences()},[i]),f=l.useCallback(y=>{co(y.key)&&i.current.hidePreferences()},[i]),C=l.useMemo(()=>[{name:"flip",enabled:!1},{name:"isPlaced",enabled:!0,phase:"main",fn:()=>{d(!0)},effect:()=>()=>{d(!1)}}],[]),x=(n=i.current.columnHeadersContainerElementRef)==null?void 0:n.current;return x?P(gd,m({ref:t,placement:"bottom-start",className:de(r,a.panel),ownerState:c,anchorEl:x,modifiers:C},s,{children:P(Cr,{mouseEvent:"onMouseUp",onClickAway:u,children:P(md,{className:a.paper,ownerState:c,elevation:8,onKeyDown:f,children:g&&o})})})):null}),hd=l.forwardRef(function(t,n){var o,r,s;const i=ae(),c=ee(i,et),a=te(),g=ee(i,vn),d=i.current.unstable_applyPipeProcessors("preferencePanel",null,(o=g.openedPanelValue)!=null?o:St.filters);return P(a.components.Panel,m({ref:n,as:a.components.BasePopper,open:c.length>0&&g.open},(r=a.componentsProps)==null?void 0:r.panel,t,(s=a.componentsProps)==null?void 0:s.basePopper,{children:d}))}),pd=["item","hasMultipleFilters","deleteFilter","applyFilterChanges","multiFilterOperator","showMultiFilterOperators","disableMultiFilterOperator","applyMultiFilterOperatorChanges","focusElementRef","linkOperators","columnsSort","deleteIconProps","linkOperatorInputProps","operatorInputProps","columnInputProps","valueInputProps","children"],Cd=["InputComponentProps"],bd=e=>{const{classes:t}=e;return ue({root:["filterForm"],deleteIcon:["filterFormDeleteIcon"],linkOperatorInput:["filterFormLinkOperatorInput"],columnInput:["filterFormColumnInput"],operatorInput:["filterFormOperatorInput"],valueInput:["filterFormValueInput"]},me,t)},wd=ce("div",{name:"MuiDataGrid",slot:"FilterForm",overridesResolver:(e,t)=>t.filterForm})(({theme:e})=>({display:"flex",padding:e.spacing(1)})),Sd=ce(Vt,{name:"MuiDataGrid",slot:"FilterFormDeleteIcon",overridesResolver:(e,t)=>t.filterFormDeleteIcon})(({theme:e})=>({flexShrink:0,justifyContent:"flex-end",marginRight:e.spacing(.5),marginBottom:e.spacing(.2)})),vd=ce(Vt,{name:"MuiDataGrid",slot:"FilterFormLinkOperatorInput",overridesResolver:(e,t)=>t.filterFormLinkOperatorInput})({minWidth:55,marginRight:5,justifyContent:"end"}),yd=ce(Vt,{name:"MuiDataGrid",slot:"FilterFormColumnInput",overridesResolver:(e,t)=>t.filterFormColumnInput})({width:150}),Pd=ce(Vt,{name:"MuiDataGrid",slot:"FilterFormOperatorInput",overridesResolver:(e,t)=>t.filterFormOperatorInput})({width:120}),Ed=ce(Vt,{name:"MuiDataGrid",slot:"FilterFormValueInput",overridesResolver:(e,t)=>t.filterFormValueInput})({width:190}),Id=e=>{switch(e){case Ae.And:return"filterPanelOperatorAnd";case Ae.Or:return"filterPanelOperatorOr";default:throw new Error("MUI: Invalid `linkOperator` property in the `GridFilterPanel`.")}},Nt=e=>e.headerName||e.field,Yo=new Intl.Collator,xd=l.forwardRef(function(t,n){var o,r,s,i,c,a,g;const{item:d,hasMultipleFilters:u,deleteFilter:f,applyFilterChanges:C,multiFilterOperator:x,showMultiFilterOperators:y,disableMultiFilterOperator:p,applyMultiFilterOperatorChanges:I,focusElementRef:k,linkOperators:S=[Ae.And,Ae.Or],columnsSort:h,deleteIconProps:F={},linkOperatorInputProps:R={},operatorInputProps:w={},columnInputProps:v={},valueInputProps:M={}}=t,_=Z(t,pd),T=ae(),G=ee(T,so),L=De(),E=De(),b=De(),$=De(),V=te(),D=bd(V),H=l.useRef(null),A=l.useRef(null),B=u&&S.length>0,U=((o=V.componentsProps)==null?void 0:o.baseFormControl)||{},q=(s=(((r=V.componentsProps)==null?void 0:r.baseSelect)||{}).native)!=null?s:!0,oe=q?"option":Be,{InputComponentProps:Y}=M,re=Z(M,Cd),K=l.useMemo(()=>{switch(h){case"asc":return G.sort((W,le)=>Yo.compare(Nt(W),Nt(le)));case"desc":return G.sort((W,le)=>-Yo.compare(Nt(W),Nt(le)));default:return G}},[G,h]),J=d.columnField?T.current.getColumn(d.columnField):null,N=l.useMemo(()=>{var W;return!d.operatorValue||!J?null:(W=J.filterOperators)==null?void 0:W.find(le=>le.value===d.operatorValue)},[d,J]),X=l.useCallback(W=>{const le=W.target.value,se=T.current.getColumn(le);if(se.field===J.field)return;const Ce=se.filterOperators.find(Ue=>Ue.value===d.operatorValue)||se.filterOperators[0],ve=!Ce.InputComponent||Ce.InputComponent!==(N==null?void 0:N.InputComponent);C(m({},d,{columnField:le,operatorValue:Ce.value,value:ve?void 0:d.value}))},[T,C,d,J,N]),ie=l.useCallback(W=>{const le=W.target.value,se=J==null?void 0:J.filterOperators.find(ve=>ve.value===le),Ce=!(se!=null&&se.InputComponent)||(se==null?void 0:se.InputComponent)!==(N==null?void 0:N.InputComponent);C(m({},d,{operatorValue:le,value:Ce?void 0:d.value}))},[C,d,J,N]),fe=l.useCallback(W=>{const le=W.target.value===Ae.And.toString()?Ae.And:Ae.Or;I(le)},[I]),Se=()=>{V.disableMultipleColumnsFiltering?d.value===void 0?f(d):C(m({},d,{value:void 0})):f(d)};return l.useImperativeHandle(k,()=>({focus:()=>{if(N!=null&&N.InputComponent){var W;H==null||(W=H.current)==null||W.focus()}else A.current.focus()}}),[N]),pe(wd,m({ref:n,className:D.root,ownerState:V},_,{children:[P(Sd,m({variant:"standard",as:V.components.BaseFormControl},U,F,{className:de(D.deleteIcon,U.className,F.className),ownerState:V,children:P(lt,{"aria-label":T.current.getLocaleText("filterPanelDeleteIconLabel"),title:T.current.getLocaleText("filterPanelDeleteIconLabel"),onClick:Se,size:"small",children:P(V.components.FilterPanelDeleteIcon,{fontSize:"small"})})})),P(vd,m({variant:"standard",as:V.components.BaseFormControl},U,R,{sx:m({display:B?"flex":"none",visibility:y?"visible":"hidden"},U.sx||{},R.sx||{}),className:de(D.linkOperatorInput,U.className,R.className),ownerState:V,children:P(V.components.BaseSelect,m({inputProps:{"aria-label":T.current.getLocaleText("filterPanelLinkOperator")},value:x,onChange:fe,disabled:!!p||S.length===1,native:q},(i=V.componentsProps)==null?void 0:i.baseSelect,{children:S.map(W=>P(oe,{value:W.toString(),children:T.current.getLocaleText(Id(W))},W.toString()))}))})),pe(yd,m({variant:"standard",as:V.components.BaseFormControl},U,v,{className:de(D.columnInput,U.className,v.className),ownerState:V,children:[P(Io,{htmlFor:L,id:E,children:T.current.getLocaleText("filterPanelColumns")}),P(V.components.BaseSelect,m({labelId:E,id:L,label:T.current.getLocaleText("filterPanelColumns"),value:d.columnField||"",onChange:X,native:q},(c=V.componentsProps)==null?void 0:c.baseSelect,{children:K.map(W=>P(oe,{value:W.field,children:Nt(W)},W.field))}))]})),pe(Pd,m({variant:"standard",as:V.components.BaseFormControl},U,w,{className:de(D.operatorInput,U.className,w.className),ownerState:V,children:[P(Io,{htmlFor:b,id:$,children:T.current.getLocaleText("filterPanelOperators")}),P(V.components.BaseSelect,m({labelId:$,label:T.current.getLocaleText("filterPanelOperators"),id:b,value:d.operatorValue,onChange:ie,native:q,inputRef:A},(a=V.componentsProps)==null?void 0:a.baseSelect,{children:J==null||(g=J.filterOperators)==null?void 0:g.map(W=>P(oe,{value:W.value,children:W.label||T.current.getLocaleText(`filterOperator${Fe(W.value)}`)},W.value))}))]})),P(Ed,m({variant:"standard",as:V.components.BaseFormControl},U,re,{className:de(D.valueInput,U.className,re.className),ownerState:V,children:N!=null&&N.InputComponent?P(N.InputComponent,m({apiRef:T,item:d,applyValue:C,focusElementRef:H},N.InputComponentProps,Y)):null}))]}))}),Md=["linkOperators","columnsSort","filterFormProps","children"],kd=l.forwardRef(function(t,n){var o;const r=ae(),s=te(),i=ee(r,Ne),c=ee(r,so),a=l.useRef(null),{linkOperators:g=[Ae.And,Ae.Or],columnsSort:d,filterFormProps:u}=t,f=Z(t,Md),C=l.useCallback(h=>{r.current.upsertFilterItem(h)},[r]),x=l.useCallback(h=>{r.current.setFilterLinkOperator(h)},[r]),y=l.useCallback(()=>{const h=c.find(F=>{var R;return(R=F.filterOperators)==null?void 0:R.length});return h?{columnField:h.field,operatorValue:h.filterOperators[0].value,id:Math.round(Math.random()*1e5)}:null},[c]),p=l.useMemo(()=>{if(i.items.length)return i.items;const h=y();return h?[h]:[]},[i.items,y]),I=p.length>1,k=()=>{const h=y();h&&r.current.upsertFilterItems([...p,h])},S=l.useCallback(h=>{const F=p.length===1;r.current.deleteFilterItem(h),F&&r.current.hideFilterPanel()},[r,p.length]);return l.useEffect(()=>{g.length>0&&i.linkOperator&&!g.includes(i.linkOperator)&&x(g[0])},[g,x,i.linkOperator]),l.useEffect(()=>{p.length>0&&a.current.focus()},[p.length]),pe(ul,m({ref:n},f,{children:[P(al,{children:p.map((h,F)=>P(xd,m({item:h,applyFilterChanges:C,deleteFilter:S,hasMultipleFilters:I,showMultiFilterOperators:F>0,multiFilterOperator:i.linkOperator,disableMultiFilterOperator:F!==1,applyMultiFilterOperatorChanges:x,focusElementRef:F===p.length-1?a:null,linkOperators:g,columnsSort:d},u),h.id==null?F:h.id))}),!s.disableMultipleColumnsFiltering&&P(cl,{children:P(s.components.BaseButton,m({onClick:k,startIcon:P(Gr,{})},(o=s.componentsProps)==null?void 0:o.baseButton,{children:r.current.getLocaleText("filterPanelAddFilter")}))})]}))}),Td=["hideMenu","options"],Fd=["hideMenu","options"],_d=e=>{const t=ae(),{hideMenu:n,options:o}=e,r=Z(e,Td);return P(Be,m({onClick:()=>{t.current.exportDataAsCsv(o),n==null||n()}},r,{children:t.current.getLocaleText("toolbarExportCSV")}))},$d=e=>{const t=ae(),{hideMenu:n,options:o}=e,r=Z(e,Fd);return P(Be,m({onClick:()=>{t.current.exportDataAsPrint(o),n==null||n()}},r,{children:t.current.getLocaleText("toolbarExportPrint")}))},Jt=()=>({items:[],linkOperator:Ae.And,quickFilterValues:[],quickFilterLogicOperator:Ae.And}),Rd=["className","rowCount","visibleRowCount"],Dd=e=>{const{classes:t}=e;return ue({root:["rowCount"]},me,t)},Hd=ce("div",{name:"MuiDataGrid",slot:"RowCount",overridesResolver:(e,t)=>t.rowCount})(({theme:e})=>({alignItems:"center",display:"flex",margin:e.spacing(0,2)})),Ld=l.forwardRef(function(t,n){const{className:o,rowCount:r,visibleRowCount:s}=t,i=Z(t,Rd),c=ae(),a=te(),g=Dd(a);if(r===0)return null;const d=s<r?c.current.getLocaleText("footerTotalVisibleRows")(s,r):r.toLocaleString();return pe(Hd,m({ref:n,className:de(g.root,o),ownerState:a},i,{children:[c.current.getLocaleText("footerTotalRows")," ",d]}))}),Od=["className","selectedRowCount"],Vd=e=>{const{classes:t}=e;return ue({root:["selectedRowCount"]},me,t)},Ad=ce("div",{name:"MuiDataGrid",slot:"SelectedRowCount",overridesResolver:(e,t)=>t.selectedRowCount})(({theme:e})=>({alignItems:"center",display:"flex",margin:e.spacing(0,2),visibility:"hidden",width:0,height:0,[e.breakpoints.up("sm")]:{visibility:"visible",width:"auto",height:"auto"}})),Gd=l.forwardRef(function(t,n){const{className:o,selectedRowCount:r}=t,s=Z(t,Od),i=ae(),c=te(),a=Vd(c),g=i.current.getLocaleText("footerRowSelected")(r);return P(Ad,m({ref:n,className:de(a.root,o),ownerState:c},s,{children:g}))}),zd=l.forwardRef(function(t,n){var o;const r=ae(),s=te(),i=ee(r,bi),c=ee(r,Ac),a=ee(r,Rr),g=!s.hideFooterSelectedRowCount&&c>0?P(Gd,{selectedRowCount:c}):P("div",{}),d=!s.hideFooterRowCount&&!s.pagination?P(Ld,{rowCount:i,visibleRowCount:a}):null,u=s.pagination&&!s.hideFooterPagination&&s.components.Pagination&&P(s.components.Pagination,m({},(o=s.componentsProps)==null?void 0:o.pagination));return pe(nc,m({ref:n},t,{children:[g,d,u]}))}),Nd=l.forwardRef(function(t,n){var o,r;const s=te();return pe("div",m({ref:n},t,{children:[P(s.components.PreferencesPanel,m({},(o=s.componentsProps)==null?void 0:o.preferencesPanel)),s.components.Toolbar&&P(s.components.Toolbar,m({},(r=s.componentsProps)==null?void 0:r.toolbar))]}))}),Bd=l.forwardRef(function(t,n){return P(Tn,m({ref:n},t,{children:P(Ll,{})}))}),Ud=l.forwardRef(function(t,n){const r=ae().current.getLocaleText("noRowsLabel");return P(Tn,m({ref:n},t,{children:r}))}),Kd=ce(Xs)(({theme:e})=>({[`& .${Et.selectLabel}`]:{display:"none",[e.breakpoints.up("sm")]:{display:"block"}},[`& .${Et.input}`]:{display:"none",[e.breakpoints.up("sm")]:{display:"inline-flex"}}})),Wd=l.forwardRef(function(t,n){var o;const r=ae(),s=te(),i=ee(r,zt),c=l.useMemo(()=>Math.floor(i.rowCount/(i.pageSize||1)),[i.rowCount,i.pageSize]),a=l.useCallback(d=>{const u=Number(d.target.value);r.current.setPageSize(u)},[r]),g=l.useCallback((d,u)=>{r.current.setPage(u)},[r]);return P(Kd,m({ref:n,component:"div",count:i.rowCount,page:i.page<=c?i.page:c,rowsPerPageOptions:(o=s.rowsPerPageOptions)!=null&&o.includes(i.pageSize)?s.rowsPerPageOptions:[],rowsPerPage:i.pageSize,onPageChange:g,onRowsPerPageChange:a},r.current.getLocaleText("MuiTablePagination"),t))}),Fn=(e,t)=>{let n,o;return t.pagination&&t.paginationMode==="client"?(o=go(e),n=zc(e)):(n=mt(e),n.length===0?o=null:o={firstRowIndex:0,lastRowIndex:n.length-1}),{rows:n,range:o}},Tt=(e,t)=>{const n=Fn(e,t);return l.useMemo(()=>({rows:n.rows,range:n.range}),[n.rows,n.range])},ho="__detail_panel_toggle__",jd=["selected","rowId","row","index","style","position","rowHeight","className","visibleColumns","renderedColumns","containerWidth","firstColumnToRender","lastColumnToRender","cellFocus","cellTabIndex","editRowsState","isLastVisible","onClick","onDoubleClick","onMouseEnter","onMouseLeave"],qd=["changeReason"],Yd=e=>{const{editable:t,editing:n,selected:o,isLastVisible:r,rowHeight:s,classes:i}=e;return ue({root:["row",o&&"selected",t&&"row--editable",n&&"row--editing",r&&"row--lastVisible",s==="auto"&&"row--dynamicHeight"]},me,i)},Qd=({width:e})=>e?P("div",{className:"MuiDataGrid-cell",style:{width:e}}):null,Jd=l.forwardRef(function(t,n){var o;const{selected:r,rowId:s,row:i,index:c,style:a,position:g,rowHeight:d,className:u,visibleColumns:f,renderedColumns:C,containerWidth:x,firstColumnToRender:y,cellFocus:p,cellTabIndex:I,editRowsState:k,isLastVisible:S=!1,onClick:h,onDoubleClick:F,onMouseEnter:R,onMouseLeave:w}=t,v=Z(t,jd),M=ae(),_=l.useRef(null),T=te(),G=Tt(M,T),L=ee(M,Mn),E=ee(M,Je),b=ee(M,no),$=ee(M,io),V=Mt(_,n),D=c+$+2,{hasScrollX:H,hasScrollY:A}=(o=M.current.getRootDimensions())!=null?o:{hasScrollX:!1,hasScrollY:!1},B={selected:r,isLastVisible:S,classes:T.classes,editing:M.current.getRowMode(s)===be.Edit,editable:T.editMode===Le.Row,rowHeight:d},U=Yd(B);l.useLayoutEffect(()=>{d==="auto"&&_.current&&typeof ResizeObserver>"u"&&M.current.unstable_storeRowHeightMeasurement(s,_.current.clientHeight,g)},[M,d,s,g]),l.useLayoutEffect(()=>{if(G.range){const Ce=M.current.getRowIndexRelativeToVisibleRows(s);Ce!=null&&M.current.unstable_setLastMeasuredRowIndex(Ce)}const W=_.current;if(!W||d!=="auto"||typeof ResizeObserver>"u")return;const se=new ResizeObserver(Ce=>{const[ve]=Ce,Ue=ve.borderBoxSize&&ve.borderBoxSize.length>0?ve.borderBoxSize[0].blockSize:ve.contentRect.height;M.current.unstable_storeRowHeightMeasurement(s,Ue,g)});return se.observe(W),()=>se.disconnect()},[M,G.range,c,d,s,g]);const j=l.useCallback((W,le)=>se=>{se.target.nodeType===1&&!se.currentTarget.contains(se.target)||M.current.getRow(s)&&(M.current.publishEvent(W,M.current.getRowParams(s),se),le&&le(se))},[M,s]),q=l.useCallback(W=>{const le=Cc(W.target,O.cell),se=le==null?void 0:le.getAttribute("data-field");se&&(se===un.field||se===ho||se==="__reorder__"||M.current.getCellMode(s,se)===ge.Edit||M.current.getColumn(se).type===fo)||j("rowClick",h)(W)},[M,h,j,s]),oe=l.useCallback((W,le)=>{var se;const Ce=M.current.getCellParams(s,W.field),ve=[],Ue=T.disableColumnReorder&&W.disableReorder||!T.rowReordering&&!!E.length&&b>1&&Object.keys(k).length>0;W.cellClassName&&ve.push(de(typeof W.cellClassName=="function"?W.cellClassName(Ce):W.cellClassName));const Ge=k[s]?k[s][W.field]:null;let Ke=null;if(Ge==null&&W.renderCell){var ye;Ke=W.renderCell(m({},Ce,{api:M.current})),ve.push(de(O["cell--withRenderer"],(ye=T.classes)==null?void 0:ye["cell--withRenderer"]))}if(Ge!=null&&W.renderEditCell){var _e;let Ie=i;M.current.unstable_getRowWithUpdatedValues&&(Ie=M.current.unstable_getRowWithUpdatedValues(s,W.field));const $e=Z(Ge,qd),ze=m({},Ce,{row:Ie},$e,{api:M.current});Ke=W.renderEditCell(ze),ve.push(de(O["cell--editing"],(_e=T.classes)==null?void 0:_e["cell--editing"]))}T.getCellClassName&&ve.push(T.getCellClassName(Ce));const it=p!==null&&p.id===s&&p.field===W.field,xe=I!==null&&I.id===s&&I.field===W.field&&Ce.cellMode==="view"?0:-1;return P(T.components.Cell,m({value:Ce.value,field:W.field,width:le.width,rowId:s,height:d,showRightBorder:le.showRightBorder,formattedValue:Ce.formattedValue,align:W.align||"left",cellMode:Ce.cellMode,colIndex:le.indexRelativeToAllColumns,isEditable:Ce.isEditable,hasFocus:it,tabIndex:xe,className:de(ve),colSpan:le.colSpan,disableDragEvents:Ue},(se=T.componentsProps)==null?void 0:se.cell,{children:Ke}),W.field)},[M,I,k,p,T,i,d,s,b,E.length]),Y=M.current.unstable_getRowInternalSizes(s);let re=d;if(re==="auto"&&Y){let W=0;const le=Object.entries(Y).reduce((se,[Ce,ve])=>/^base[A-Z]/.test(Ce)?(W+=1,ve>se?ve:se):se,0);le>0&&W>1&&(re=le)}const K=m({},a,{maxHeight:d==="auto"?"none":d,minHeight:re});if(Y!=null&&Y.spacingTop){const W=T.rowSpacingType==="border"?"borderTopWidth":"marginTop";K[W]=Y.spacingTop}if(Y!=null&&Y.spacingBottom){const W=T.rowSpacingType==="border"?"borderBottomWidth":"marginBottom";let le=K[W];typeof le!="number"&&(le=parseInt(le||"0",10)),le+=Y.spacingBottom,K[W]=le}const J=M.current.unstable_applyPipeProcessors("rowClassName",[],s);if(typeof T.getRowClassName=="function"){var N;const W=c-(((N=G.range)==null?void 0:N.firstRowIndex)||0),le=m({},M.current.getRowParams(s),{isFirstVisible:W===0,isLastVisible:W===G.rows.length-1,indexRelativeToCurrentPage:W});J.push(T.getRowClassName(le))}const X=lu(1e4,20,80),ie=[];for(let W=0;W<C.length;W+=1){const le=C[W],se=y+W,Ce=se===f.length-1,Ue=Ce?!(Ce&&H&&!A)&&T.disableExtendRowFullWidth:T.showCellRightBorder,Ge=M.current.unstable_getCellColSpanInfo(s,se);if(Ge&&!Ge.spannedByColSpan)if(i){const{colSpan:Ke,width:ye}=Ge.cellProps,_e={width:ye,colSpan:Ke,showRightBorder:Ue,indexRelativeToAllColumns:se};ie.push(oe(le,_e))}else{const{width:Ke}=Ge.cellProps,ye=Math.round(X());ie.push(P(T.components.SkeletonCell,{width:Ke,contentWidth:ye,field:le.field,align:le.align},le.field))}}const fe=x-L,Se=i?{onClick:q,onDoubleClick:j("rowDoubleClick",F),onMouseEnter:j("rowMouseEnter",R),onMouseLeave:j("rowMouseLeave",w)}:null;return pe("div",m({ref:V,"data-id":s,"data-rowindex":c,role:"row",className:de(...J,U.root,u),"aria-rowindex":D,"aria-selected":r,style:K},Se,v,{children:[ie,fe>0&&P(Qd,{width:fe})]}))}),Qo=1e3;class Xd{constructor(t=Qo){this.timeouts=new Map,this.cleanupTimeout=Qo,this.cleanupTimeout=t}register(t,n,o){this.timeouts||(this.timeouts=new Map);const r=setTimeout(()=>{typeof n=="function"&&n(),this.timeouts.delete(o.cleanupToken)},this.cleanupTimeout);this.timeouts.set(o.cleanupToken,r)}unregister(t){const n=this.timeouts.get(t.cleanupToken);n&&(this.timeouts.delete(t.cleanupToken),clearTimeout(n))}reset(){this.timeouts&&(this.timeouts.forEach((t,n)=>{this.unregister({cleanupToken:n})}),this.timeouts=void 0)}}class Zd{constructor(){this.registry=new FinalizationRegistry(t=>{typeof t=="function"&&t()})}register(t,n,o){this.registry.register(t,n,o)}unregister(t){this.registry.unregister(t)}reset(){}}var yt;(function(e){e.DataGrid="DataGrid",e.DataGridPro="DataGridPro"})(yt||(yt={}));class eg{}function tg(e){let t=0;return function(o,r,s,i){e.registry===null&&(e.registry=typeof FinalizationRegistry<"u"?new Zd:new Xd);const[c]=l.useState(new eg),a=l.useRef(null),g=l.useRef();g.current=s;const d=l.useRef(null);if(!a.current&&g.current){const u=(f,C,x)=>{if(!C.defaultMuiPrevented){var y;(y=g.current)==null||y.call(g,f,C,x)}};a.current=o.current.subscribeEvent(r,u,i),t+=1,d.current={cleanupToken:t},e.registry.register(c,()=>{var f;(f=a.current)==null||f.call(a),a.current=null,d.current=null},d.current)}else!g.current&&a.current&&(a.current(),a.current=null,d.current&&(e.registry.unregister(d.current),d.current=null));l.useEffect(()=>{if(!a.current&&g.current){const u=(f,C,x)=>{if(!C.defaultMuiPrevented){var y;(y=g.current)==null||y.call(g,f,C,x)}};a.current=o.current.subscribeEvent(r,u,i)}return d.current&&e.registry&&(e.registry.unregister(d.current),d.current=null),()=>{var u;(u=a.current)==null||u.call(a),a.current=null}},[o,r,i])}}const ng={registry:null},Q=tg(ng),og={isFirst:!0};function he(e,t,n){Q(e,t,n,og)}const Jo=1,rg=1.5,lg=e=>{const{scrollDirection:t,classes:n}=e,o={root:["scrollArea",`scrollArea--${t}`]};return ue(o,me,n)},sg=ce("div",{name:"MuiDataGrid",slot:"ScrollArea",overridesResolver:(e,t)=>[{[`&.${O["scrollArea--left"]}`]:t["scrollArea--left"]},{[`&.${O["scrollArea--right"]}`]:t["scrollArea--right"]},t.scrollArea]})(()=>({position:"absolute",top:0,zIndex:101,width:20,bottom:0,[`&.${O["scrollArea--left"]}`]:{left:0},[`&.${O["scrollArea--right"]}`]:{right:0}}));function ig(e){const{scrollDirection:t}=e,n=l.useRef(null),o=ae(),r=l.useRef(),[s,i]=l.useState(!1),c=ee(o,Dr),a=l.useRef({left:0,top:0}),g=te(),d=m({},g,{scrollDirection:t}),u=lg(d),f=l.useCallback(y=>{a.current=y},[]),C=l.useCallback(y=>{let p;if(t==="left")p=y.clientX-n.current.getBoundingClientRect().right;else if(t==="right")p=Math.max(1,y.clientX-n.current.getBoundingClientRect().left);else throw new Error("MUI: Wrong drag direction");p=(p-Jo)*rg+Jo,clearTimeout(r.current),r.current=setTimeout(()=>{o.current.scroll({left:a.current.left+p,top:a.current.top})})},[t,o]);l.useEffect(()=>()=>{clearTimeout(r.current)},[]);const x=l.useCallback(()=>{i(y=>!y)},[]);return Q(o,"rowsScroll",f),Q(o,"columnHeaderDragStart",x),Q(o,"columnHeaderDragEnd",x),s?P(sg,{ref:n,className:de(u.root),ownerState:d,onDragOver:C,style:{height:c}}):null}const Xo=l.memo(ig),ag=({apiRef:e,props:t,children:n})=>P(Mr.Provider,{value:t,children:P(xr.Provider,{value:e,children:n})}),cg=ou()&&window.localStorage.getItem("DEBUG")!=null,Kt=()=>{},ug={debug:Kt,info:Kt,warn:Kt,error:Kt},Zo=["debug","info","warn","error"];function er(e,t,n=console){const o=Zo.indexOf(t);if(o===-1)throw new Error(`MUI: Log level ${t} not recognized.`);return Zo.reduce((s,i,c)=>(c>=o?s[i]=(...a)=>{const[g,...d]=a;n[i](`MUI: ${e} - ${g}`,...d)}:s[i]=Kt,s),{})}const dg=(e,t)=>{e.current.getLogger=l.useCallback(n=>cg?er(n,"debug",t.logger):t.logLevel?er(n,t.logLevel.toString(),t.logger):ug,[t.logLevel,t.logger])};function we(e,t,n){const o=l.useRef(t),[r]=l.useState(Object.keys(t)),s=l.useCallback(()=>{e.current&&r.forEach(i=>{e.current.hasOwnProperty(i)||(e.current[i]=(...c)=>o.current[i](...c))})},[r,e]);l.useEffect(()=>{o.current=t},[t]),l.useEffect(()=>{s()},[s]),s()}class gg{constructor(){this.maxListeners=10,this.warnOnce=!1,this.events={}}on(t,n,o={}){let r=this.events[t];r||(r={highPriority:new Map,regular:new Map},this.events[t]=r),o.isFirst?r.highPriority.set(n,!0):r.regular.set(n,!0)}removeListener(t,n){this.events[t]&&(this.events[t].regular.delete(n),this.events[t].highPriority.delete(n))}removeAllListeners(){this.events={}}emit(t,...n){const o=this.events[t];if(!o)return;const r=Array.from(o.highPriority.keys()),s=Array.from(o.regular.keys());for(let i=r.length-1;i>=0;i-=1){const c=r[i];o.highPriority.has(c)&&c.apply(this,n)}for(let i=0;i<s.length;i+=1){const c=s[i];o.regular.has(c)&&c.apply(this,n)}}once(t,n){const o=this;this.on(t,function r(...s){o.removeListener(t,r),n.apply(o,s)})}}const mg=e=>e.isPropagationStopped!==void 0;let tr=0;function fg(e,t){const n=l.useRef();n.current||(n.current={unstable_eventManager:new gg,unstable_caches:{},state:{},instanceId:tr},tr+=1),l.useImperativeHandle(e,()=>n.current,[n]);const o=l.useCallback((...i)=>{const[c,a,g={}]=i;if(g.defaultMuiPrevented=!1,mg(g)&&g.isPropagationStopped())return;const d=t.signature===yt.DataGridPro?{api:n.current}:{};n.current.unstable_eventManager.emit(c,a,g,d)},[n,t.signature]),r=l.useCallback((i,c,a)=>{n.current.unstable_eventManager.on(i,c,a);const g=n.current;return()=>{g.unstable_eventManager.removeListener(i,c)}},[n]),s=l.useCallback(i=>{n.current.publishEvent("componentError",i)},[n]);return we(n,{subscribeEvent:r,publishEvent:o,showError:s}),l.useEffect(()=>{const i=n.current;return()=>{pi(i.instanceId),i.publishEvent("unmount")}},[n]),n}function hg(e,t){const n=l.useCallback(o=>{e.current.setState(r=>m({},r,{error:o}))},[e]);l.useEffect(()=>{t.error?n({error:t.error}):n(null)},[n,t.error]),Q(e,"componentError",n)}const pg=(e,t)=>{const n=l.useCallback(o=>{if(t.localeText[o]==null)throw new Error(`Missing translation for key ${o}.`);return t.localeText[o]},[t.localeText]);e.current.getLocaleText=n},Cg=e=>{const t=l.useRef({}),n=l.useCallback(a=>{a&&Object.values(a.appliers).forEach(g=>{g()})},[]),o=l.useCallback((a,g,d)=>{t.current[a]||(t.current[a]={processors:new Map,appliers:{}});const u=t.current[a];return u.processors.get(g)!==d&&(u.processors.set(g,d),n(u)),()=>{t.current[a].processors.set(g,null)}},[n]),r=l.useCallback((a,g,d)=>(t.current[a]||(t.current[a]={processors:new Map,appliers:{}}),t.current[a].appliers[g]=d,()=>{const u=t.current[a].appliers,f=Z(u,[g].map(Yt));t.current[a].appliers=f}),[]),s=l.useCallback(a=>{const g=t.current[a];n(g)},[n]),i=l.useCallback((...a)=>{const[g,d,u]=a;return t.current[g]?Array.from(t.current[g].processors.values()).reduce((C,x)=>x?x(C,u):C,d):d},[]);we(e,{unstable_registerPipeProcessor:o,unstable_registerPipeApplier:r,unstable_requestPipeProcessorsApplication:s,unstable_applyPipeProcessors:i})},dn=e=>{const t=l.useRef(!0);t.current&&(t.current=!1,e())},Re=(e,t,n)=>{const o=l.useRef(),r=l.useRef(`mui-${Math.round(Math.random()*1e9)}`),s=l.useCallback(()=>{o.current=e.current.unstable_registerPipeProcessor(t,r.current,n)},[e,n,t]);dn(()=>{s()});const i=l.useRef(!0);l.useEffect(()=>(i.current?i.current=!1:s(),()=>{o.current&&(o.current(),o.current=null)}),[s])},po=(e,t,n)=>{const o=l.useRef(),r=l.useRef(`mui-${Math.round(Math.random()*1e9)}`),s=l.useCallback(()=>{o.current=e.current.unstable_registerPipeApplier(t,r.current,n)},[e,n,t]);dn(()=>{s()});const i=l.useRef(!0);l.useEffect(()=>(i.current?i.current=!1:s(),()=>{o.current&&(o.current(),o.current=null)}),[s])},Co=(e,t,n,o)=>{const r=l.useCallback(()=>{e.current.unstable_registerStrategyProcessor(t,n,o)},[e,o,n,t]);dn(()=>{r()});const s=l.useRef(!0);l.useEffect(()=>{s.current?s.current=!1:r()},[r])},gn="none",nr={rowTreeCreation:"rowTree",filtering:"rowTree",sorting:"rowTree"},bg=e=>{const t=l.useRef(new Map),n=l.useRef({}),o=l.useCallback((a,g,d)=>{const u=()=>{const x=n.current[g],y=Z(x,[a].map(Yt));n.current[g]=y};n.current[g]||(n.current[g]={});const f=n.current[g],C=f[a];return f[a]=d,!C||C===d||a===e.current.unstable_getActiveStrategy(nr[g])&&e.current.publishEvent("activeStrategyProcessorChange",g),u},[e]),r=l.useCallback((a,g)=>{const d=e.current.unstable_getActiveStrategy(nr[a]);if(d==null)throw new Error("Can't apply a strategy processor before defining an active strategy");const u=n.current[a];if(!u||!u[d])throw new Error(`No processor found for processor "${a}" on strategy "${d}"`);const f=u[d];return f(g)},[e]),s=l.useCallback(a=>{var g;const u=Array.from(t.current.entries()).find(([,f])=>f.group!==a?!1:f.isAvailable());return(g=u==null?void 0:u[0])!=null?g:gn},[]),i=l.useCallback((a,g,d)=>{t.current.set(g,{group:a,isAvailable:d}),e.current.publishEvent("strategyAvailabilityChange")},[e]);we(e,{unstable_registerStrategyProcessor:o,unstable_applyStrategyProcessor:r,unstable_getActiveStrategy:s,unstable_setStrategyAvailability:i})},wg=(e,t,n,o,r)=>{const s=Me(e,"useNativeEventListener"),[i,c]=l.useState(!1),a=l.useRef(o),g=l.useCallback(d=>a.current&&a.current(d),[]);l.useEffect(()=>{a.current=o},[o]),l.useEffect(()=>{let d;if(el(t)?d=t():d=t&&t.current?t.current:null,d&&n&&!i){s.debug(`Binding native ${n} event`),d.addEventListener(n,g,r);const u=d;c(!0);const f=()=>{s.debug(`Clearing native ${n} event`),u.removeEventListener(n,g,r)};e.current.subscribeEvent("unmount",f)}},[t,g,n,i,s,r,e])},Sg=["stateId"],vg=(e,t)=>{const n=l.useRef({}),[,o]=l.useState(),r=l.useCallback(g=>{const{stateId:d}=g,u=Z(g,Sg);n.current[d]=m({},u,{stateId:d})},[]),s=l.useCallback((g,d)=>{let u;if(el(g)?u=g(e.current.state):u=g,e.current.state===u)return!1;let f=!1;const C=[];if(Object.keys(n.current).forEach(x=>{const y=n.current[x],p=y.stateSelector(e.current.state,e.current.instanceId),I=y.stateSelector(u,e.current.instanceId);I!==p&&(C.push({stateId:y.stateId,hasPropChanged:I!==y.propModel}),y.propModel!==void 0&&I!==y.propModel&&(f=!0))}),C.length>1)throw new Error(`You're not allowed to update several sub-state in one transaction. You already updated ${C[0].stateId}, therefore, you're not allowed to update ${C.map(x=>x.stateId).join(", ")} in the same transaction.`);if(f||(e.current.state=u,e.current.publishEvent&&e.current.publishEvent("stateChange",u)),C.length===1){const{stateId:x,hasPropChanged:y}=C[0],p=n.current[x],I=p.stateSelector(u,e.current.instanceId);if(p.propOnChange&&y){const k=t.signature===yt.DataGridPro?{api:e.current,reason:d}:{reason:d};p.propOnChange(I,k)}f||e.current.publishEvent(p.changeEvent,I,{reason:d})}return!f},[e,t.signature]),i=l.useCallback((g,d,u)=>e.current.setState(f=>m({},f,{[g]:d(f[g])}),u),[e]),c=l.useCallback(()=>o(()=>e.current.state),[e]);we(e,{setState:s,forceUpdate:c,unstable_updateControlState:i,unstable_registerControlState:r})},yg=(e,t)=>{const n=fg(e,t);return dg(n,t),hg(n,t),vg(n,t),Cg(n),bg(n),pg(n,t),n},We=(e,t,n)=>{const o=l.useRef(!1);o.current||(t.current.state=e(t.current.state,n,t),o.current=!0)};function or(e){const t=document.createElement("span");t.style.whiteSpace="pre",t.style.userSelect="all",t.style.opacity="0px",t.textContent=e,document.body.appendChild(t);const n=document.createRange();n.selectNode(t);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy")}finally{document.body.removeChild(t)}}function Pg(e){var t;return((t=window.getSelection())==null?void 0:t.toString())!==""?!0:e?(e.selectionEnd||0)-(e.selectionStart||0)>0:!1}const Eg=e=>{const t=l.useCallback((r=!1)=>{if(e.current.getSelectedRows().size===0)return;const s=e.current.getDataAsCsv({includeHeaders:r,delimiter:"	"});navigator.clipboard?navigator.clipboard.writeText(s).catch(()=>{or(s)}):or(s)},[e]),n=l.useCallback(r=>{const s=r.ctrlKey||r.metaKey||r.altKey;String.fromCharCode(r.keyCode)!=="C"||!s||Pg(r.target)||e.current.unstable_copySelectedRowsToClipboard(r.altKey)},[e]);wg(e,e.current.rootElementRef,"keydown",n),we(e,{unstable_copySelectedRowsToClipboard:t})},dl=e=>e.columnMenu,Ig=e=>m({},e,{columnMenu:{open:!1}}),xg=e=>{const t=Me(e,"useGridColumnMenu"),n=l.useCallback(c=>{e.current.setState(g=>g.columnMenu.open&&g.columnMenu.field===c?g:(t.debug("Opening Column Menu"),m({},g,{columnMenu:{open:!0,field:c}})))&&(e.current.hidePreferences(),e.current.forceUpdate())},[e,t]),o=l.useCallback(()=>{e.current.setState(a=>!a.columnMenu.open&&a.columnMenu.field===void 0?a:(t.debug("Hiding Column Menu"),m({},a,{columnMenu:m({},a.columnMenu,{open:!1,field:void 0})})))&&e.current.forceUpdate()},[e,t]),r=l.useCallback(c=>{t.debug("Toggle Column Menu");const a=dl(e.current.state);!a.open||a.field!==c?n(c):o()},[e,t,n,o]);we(e,{showColumnMenu:n,hideColumnMenu:o,toggleColumnMenu:r});const i=l.useCallback((c,a)=>{if(!a.target.classList.contains(O.menuIconButton)||!a.relatedTarget)return;const g=a.relatedTarget.classList.contains(O.menuList),d=a.relatedTarget.getAttribute("role")==="menuitem";(g||d)&&e.current.setColumnHeaderFocus(c.field)},[e]);Q(e,"columnResizeStart",o),Q(e,"columnHeaderFocus",i),Q(e,"virtualScrollerWheel",e.current.hideColumnMenu),Q(e,"virtualScrollerTouchMove",e.current.hideColumnMenu)},Mg=(e,t,n)=>{var o,r,s,i,c,a,g;const d=!!t.columnVisibilityModel||!!((o=t.initialState)!=null&&(r=o.columns)!=null&&r.columnVisibilityModel);n.current.unstable_caches.columns={isUsingColumnVisibilityModel:d};const u=sl(t.columnTypes),f=$t({apiRef:n,columnTypes:u,columnsToUpsert:t.columns,initialState:(s=t.initialState)==null?void 0:s.columns,shouldRegenColumnVisibilityModelFromColumns:!d,currentColumnVisibilityModel:(i=(c=t.columnVisibilityModel)!=null?c:(a=t.initialState)==null||(g=a.columns)==null?void 0:g.columnVisibilityModel)!=null?i:{},keepOnlyColumnsToUpsert:!0});return m({},e,{columns:f})};function kg(e,t){var n,o;const r=Me(e,"useGridColumns"),s=l.useMemo(()=>sl(t.columnTypes),[t.columnTypes]),i=l.useRef(t.columns),c=l.useRef(s);e.current.unstable_registerControlState({stateId:"visibleColumns",propModel:t.columnVisibilityModel,propOnChange:t.onColumnVisibilityModelChange,stateSelector:dt,changeEvent:"columnVisibilityModelChange"});const a=l.useCallback(L=>{r.debug("Updating columns state."),e.current.setState(jo(L)),e.current.forceUpdate(),e.current.publishEvent("columnsChange",L.all)},[r,e]),g=l.useCallback(L=>Gt(e)[L],[e]),d=l.useCallback(()=>et(e),[e]),u=l.useCallback(()=>Oe(e),[e]),f=l.useCallback(()=>Ei(e),[e]),C=l.useCallback((L,E=!0)=>(E?Oe(e):et(e)).findIndex($=>$.field===L),[e]),x=l.useCallback(L=>{const E=C(L);return xt(e)[E]},[e,C]),y=l.useCallback(L=>{dt(e)!==L&&(e.current.setState(b=>m({},b,{columns:$t({apiRef:e,columnTypes:s,columnsToUpsert:[],initialState:void 0,shouldRegenColumnVisibilityModelFromColumns:!1,currentColumnVisibilityModel:L,keepOnlyColumnsToUpsert:!1})})),e.current.forceUpdate())},[e,s]),p=l.useCallback(L=>{const E=$t({apiRef:e,columnTypes:s,columnsToUpsert:L,initialState:void 0,shouldRegenColumnVisibilityModelFromColumns:!0,keepOnlyColumnsToUpsert:!1});a(E)},[e,a,s]),I=l.useCallback(L=>e.current.updateColumns([L]),[e]),k=l.useCallback((L,E)=>{if(e.current.unstable_caches.columns.isUsingColumnVisibilityModel){var b;const $=dt(e),V=(b=$[L])!=null?b:!0;if(E!==V){const D=m({},$,{[L]:E});e.current.setColumnVisibilityModel(D)}}else{const $=e.current.getColumn(L),V=m({},$,{hide:!E});e.current.updateColumns([V]);const D={field:L,colDef:V,isVisible:E};e.current.publishEvent("columnVisibilityChange",D)}},[e]),S=l.useCallback((L,E)=>{const b=Lt(e),$=b.findIndex(A=>A===L);if($===E)return;r.debug(`Moving column ${L} to index ${E}`);const V=[...b],D=V.splice($,1)[0];V.splice(E,0,D),a(m({},It(e.current.state),{all:V}));const H={field:L,element:e.current.getColumnHeaderElement(L),colDef:e.current.getColumn(L),targetIndex:E,oldIndex:$};e.current.publishEvent("columnOrderChange",H)},[e,r,a]),h=l.useCallback((L,E)=>{r.debug(`Updating column ${L} width to ${E}`);const b=e.current.getColumn(L),$=m({},b,{width:E});e.current.updateColumns([$]),e.current.publishEvent("columnWidthChange",{element:e.current.getColumnHeaderElement(L),colDef:$,width:E})},[e,r]);we(e,{getColumn:g,getAllColumns:d,getColumnIndex:C,getColumnPosition:x,getVisibleColumns:u,getColumnsMeta:f,updateColumn:I,updateColumns:p,setColumnVisibilityModel:y,setColumnVisibility:k,setColumnIndex:S,setColumnWidth:h});const R=l.useCallback((L,E)=>{const b={};if(e.current.unstable_caches.columns.isUsingColumnVisibilityModel){var $,V,D;const B=dt(e);(!E.exportOnlyDirtyModels||t.columnVisibilityModel!=null||Object.keys(($=(V=t.initialState)==null||(D=V.columns)==null?void 0:D.columnVisibilityModel)!=null?$:{}).length>0||Object.keys(B).length>0)&&(b.columnVisibilityModel=B)}b.orderedFields=Lt(e);const H=et(e),A={};return H.forEach(B=>{if(B.hasBeenResized){const U={};ll.forEach(j=>{let q=B[j];q===1/0&&(q=-1),U[j]=q}),A[B.field]=U}}),Object.keys(A).length>0&&(b.dimensions=A),m({},L,{columns:b})},[e,t.columnVisibilityModel,(n=t.initialState)==null?void 0:n.columns]),w=l.useCallback((L,E)=>{var b;const $=e.current.unstable_caches.columns.isUsingColumnVisibilityModel?(b=E.stateToRestore.columns)==null?void 0:b.columnVisibilityModel:void 0,V=E.stateToRestore.columns;if($==null&&V==null)return L;const D=$t({apiRef:e,columnTypes:s,columnsToUpsert:[],initialState:V,shouldRegenColumnVisibilityModelFromColumns:!e.current.unstable_caches.columns.isUsingColumnVisibilityModel,currentColumnVisibilityModel:$,keepOnlyColumnsToUpsert:!1});return e.current.setState(jo(D)),V!=null&&e.current.publishEvent("columnsChange",D.all),L},[e,s]),v=l.useCallback((L,E)=>{if(E===St.columns){var b;const $=t.components.ColumnsPanel;return P($,m({},(b=t.componentsProps)==null?void 0:b.columnsPanel))}return L},[t.components.ColumnsPanel,(o=t.componentsProps)==null?void 0:o.columnsPanel]);Re(e,"exportState",R),Re(e,"restoreState",w),Re(e,"preferencePanel",v);const M=l.useRef(null);Q(e,"viewportInnerSizeChange",L=>{M.current!==L.width&&(M.current=L.width,a(il(It(e.current.state),L.width)))}),he(e,"columnVisibilityChange",t.onColumnVisibilityChange);const T=l.useCallback(()=>{r.info("Columns pipe processing have changed, regenerating the columns");const L=$t({apiRef:e,columnTypes:s,columnsToUpsert:[],initialState:void 0,shouldRegenColumnVisibilityModelFromColumns:!e.current.unstable_caches.columns.isUsingColumnVisibilityModel,keepOnlyColumnsToUpsert:!1});a(L)},[e,r,a,s]);po(e,"hydrateColumns",T);const G=l.useRef(!0);l.useEffect(()=>{if(G.current){G.current=!1;return}if(r.info(`GridColumns have changed, new length ${t.columns.length}`),i.current===t.columns&&c.current===s)return;const L=$t({apiRef:e,columnTypes:s,initialState:void 0,shouldRegenColumnVisibilityModelFromColumns:!e.current.unstable_caches.columns.isUsingColumnVisibilityModel,columnsToUpsert:t.columns,keepOnlyColumnsToUpsert:!0});i.current=t.columns,c.current=s,a(L)},[r,e,a,t.columns,s]),l.useEffect(()=>{t.columnVisibilityModel!==void 0&&e.current.setColumnVisibilityModel(t.columnVisibilityModel)},[e,r,t.columnVisibilityModel])}const Tg=e=>e.columnGrouping,gl=ne(Tg,e=>e.lookup),Fg=["groupId","children"];function _g(e){return e.groupPath!==void 0}const ml=(e,t,n)=>{if(Hr(e)){if(n[e.field]!==void 0)throw new Error(["MUI: columnGroupingModel contains duplicated field",`column field ${e.field} occurrs two times in the grouping model:`,`- ${n[e.field].join(" > ")}`,`- ${t.join(" > ")}`].join(`
`));n[e.field]=t;return}const{groupId:o,children:r}=e;r.forEach(s=>{ml(s,[...t,o],n)})},fl=e=>{if(!e)return{};const t={};return e.forEach(n=>{ml(n,[],t)}),t},bo=e=>{let t={};return e.forEach(n=>{if(Hr(n))return;const{groupId:o,children:r}=n,s=Z(n,Fg);if(!o)throw new Error("MUI: An element of the columnGroupingModel does not have either `field` or `groupId`.");r||console.warn(`MUI: group groupId=${o} has no children.`);const i=m({},s,{groupId:o}),c=bo(r);if(c[o]!==void 0||t[o]!==void 0)throw new Error(`MUI: The groupId ${o} is used multiple times in the columnGroupingModel.`);t=m({},t,c,{[o]:i})}),m({},t)},$g=(e,t)=>{var n;const o=bo((n=t.columnGroupingModel)!=null?n:[]);return m({},e,{columnGrouping:{lookup:o,groupCollapsedModel:{}}})},Rg=(e,t)=>{var n;const o=l.useCallback(c=>{var a,g;return(a=(g=Gt(e)[c])==null?void 0:g.groupPath)!=null?a:[]},[e]),r=l.useCallback(()=>gl(e),[e]);we(e,{unstable_getColumnGroupPath:o,unstable_getAllGroupDetails:r});const i=l.useRef(!0);l.useEffect(()=>{var c,a;if(i.current){i.current=!1;return}if(!((c=t.experimentalFeatures)!=null&&c.columnGrouping))return;const g=bo((a=t.columnGroupingModel)!=null?a:[]);e.current.setState(d=>m({},d,{columnGrouping:m({},d.columnGrouping,{lookup:g})}))},[e,t.columnGroupingModel,(n=t.experimentalFeatures)==null?void 0:n.columnGrouping])},Dn=.7,Hn=1.3,hl=(e,t,n,o)=>{switch(e){case Qt.Compact:return{value:e,headerHeight:Math.floor(t*Dn),rowHeight:Math.floor(n*Dn),headerGroupingMaxDepth:o,factor:Dn};case Qt.Comfortable:return{value:e,headerHeight:Math.floor(t*Hn),rowHeight:Math.floor(n*Hn),headerGroupingMaxDepth:o,factor:Hn};default:return{value:e,headerHeight:t,rowHeight:n,headerGroupingMaxDepth:o,factor:1}}},Dg=(e,t)=>{let n;if(t.columnGroupingModel==null||Object.keys(t.columnGroupingModel).length===0)n=0;else{const o=fl(t.columnGroupingModel),r=e.columns,s=r.all.filter(i=>r.columnVisibilityModel[i]!==!1);s.length===0?n=0:n=Math.max(...s.map(i=>{var c,a;return(c=(a=o[i])==null?void 0:a.length)!=null?c:0}))}return m({},e,{density:hl(t.density,t.headerHeight,t.rowHeight,n)})},Hg=(e,t)=>{const n=ee(e,Oe),o=n.length>0?Math.max(...n.map(c=>{var a,g;return(a=(g=c.groupPath)==null?void 0:g.length)!=null?a:0})):0,r=Me(e,"useDensity"),s=l.useCallback((c,a=t.headerHeight,g=t.rowHeight,d=o)=>{r.debug(`Set grid density to ${c}`),e.current.setState(u=>{const f=kt(u),C=hl(c,a,g,d);return gt(f,C)?u:m({},u,{density:C})}),e.current.forceUpdate()},[r,e,t.headerHeight,t.rowHeight,o]);l.useEffect(()=>{e.current.setDensity(t.density,t.headerHeight,t.rowHeight,o)},[e,t.density,t.rowHeight,t.headerHeight,o]),we(e,{setDensity:s})};function Lg(e,t="csv",n=document.title||"untitled"){const o=`${n}.${t}`;if("download"in HTMLAnchorElement.prototype){const r=URL.createObjectURL(e),s=document.createElement("a");s.href=r,s.download=o,s.click(),setTimeout(()=>{URL.revokeObjectURL(r)});return}throw new Error("MUI: exportAs not supported")}const pl=(e,t)=>{if(typeof e=="string"){const n=e.replace(/"/g,'""');return[t,`
`,"\r"].some(o=>n.includes(o))?`"${n}"`:n}return e};tt(["MUI: When the value of a field is an object or a `renderCell` is provided, the CSV export might not display the value correctly.","You can provide a `valueFormatter` with a string representation to be used."]);const Og=(e,t,n,o)=>t.map(r=>{const s=n(e,r.field);return pl(s.formattedValue,o)});function Vg(e){const{columns:t,rowIds:n,getCellParams:o,delimiterCharacter:r,includeHeaders:s}=e,i=n.reduce((a,g)=>`${a}${Og(g,t,o,r).join(r)}\r
`,"").trim();return s?`${`${t.filter(a=>a.field!==un.field).map(a=>pl(a.headerName||a.field,r)).join(r)}\r
`}${i}`.trim():i}const Cl=({apiRef:e,options:t})=>{const n=et(e);return t.fields?t.fields.map(r=>n.find(s=>s.field===r)).filter(r=>!!r):(t.allColumns?n:Oe(e)).filter(r=>!r.disableExport)},Ag=({apiRef:e})=>{var t,n;const o=Mi(e),r=bt(e),s=e.current.getSelectedRows(),i=o.filter(d=>{var u;return((u=r[d].position)!=null?u:"body")==="body"}),c=rn(e),a=(c==null||(t=c.top)==null?void 0:t.map(d=>d.id))||[],g=(c==null||(n=c.bottom)==null?void 0:n.map(d=>d.id))||[];return i.unshift(...a),i.push(...g),s.size>0?i.filter(d=>s.has(d)):i},Gg=e=>{const t=Me(e,"useGridCsvExport"),n=l.useCallback((i={})=>{var c,a;t.debug("Get data as CSV");const g=Cl({apiRef:e,options:i}),u=((c=i.getRowsToExport)!=null?c:Ag)({apiRef:e});return Vg({columns:g,rowIds:u,getCellParams:e.current.getCellParams,delimiterCharacter:i.delimiter||",",includeHeaders:(a=i.includeHeaders)!=null?a:!0})},[t,e]),o=l.useCallback(i=>{t.debug("Export data as CSV");const c=n(i),a=new Blob([i!=null&&i.utf8WithBom?new Uint8Array([239,187,191]):"",c],{type:"text/csv"});Lg(a,"csv",i==null?void 0:i.fileName)},[t,n]);we(e,{getDataAsCsv:n,exportDataAsCsv:o});const s=l.useCallback((i,c)=>{var a;return(a=c.csvOptions)!=null&&a.disableToolbarButton?i:[...i,{component:P(_d,{options:c.csvOptions}),componentName:"csvExport"}]},[]);Re(e,"exportMenu",s)},Xt=e=>e.rowsMeta;function zg(){return new Promise(e=>{requestAnimationFrame(()=>{e()})})}function Ng(){const e=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return e?parseInt(e[2],10):null}const Bg=(e,t)=>{const n=Me(e,"useGridPrintExport"),o=l.useRef(null),r=l.useRef(null),s=l.useRef({});l.useEffect(()=>{o.current=In(e.current.rootElementRef.current)},[e]);const i=l.useCallback((C,x)=>new Promise(y=>{if(!C&&!x){y();return}const p=Cl({apiRef:e,options:{fields:C,allColumns:x}}).map(S=>S.field),I=et(e),k={};I.forEach(S=>{k[S.field]=p.includes(S.field)}),e.current.setColumnVisibilityModel(k),y()}),[e]),c=l.useCallback(C=>{const x=document.createElement("iframe");return x.style.position="absolute",x.style.width="0px",x.style.height="0px",x.title=C||document.title,x},[]),a=l.useCallback((C,x)=>{var y,p;const I=m({copyStyles:!0,hideToolbar:!1,hideFooter:!1},x),k=C.contentDocument;if(!k)return;const S=an(e),h=Xt(e.current.state),F=e.current.rootElementRef.current,R=F.cloneNode(!0),w=R.querySelector(`.${O.virtualScroller}`);w.style.height="auto",w.style.width="auto",w.parentElement.style.width="auto",w.parentElement.style.height="auto";const v=R.querySelector(`.${O.main}`);v.style.overflow="visible";const M=Ng();M&&M>=108&&(R.style.contain="size");const T=R.querySelector(`.${O.columnHeaders}`).querySelector(`.${O.columnHeadersInner}`);T.style.width="100%";let G=((y=F.querySelector(`.${O.toolbarContainer}`))==null?void 0:y.clientHeight)||0,L=((p=F.querySelector(`.${O.footerContainer}`))==null?void 0:p.clientHeight)||0;if(I.hideToolbar){var E;(E=R.querySelector(`.${O.toolbarContainer}`))==null||E.remove(),G=0}if(I.hideFooter){var b;(b=R.querySelector(`.${O.footerContainer}`))==null||b.remove(),L=0}R.style.height=`${h.currentPageTotalHeight+S+G+L}px`;const $=document.createElement("div");$.appendChild(R),k.body.innerHTML=$.innerHTML;const V=typeof I.pageStyle=="function"?I.pageStyle():I.pageStyle;if(typeof V=="string"){const D=k.createElement("style");D.appendChild(k.createTextNode(V)),k.head.appendChild(D)}if(I.bodyClassName&&k.body.classList.add(...I.bodyClassName.split(" ")),I.copyStyles){const D=o.current.querySelectorAll("style, link[rel='stylesheet']");for(let H=0;H<D.length;H+=1){const A=D[H];if(A.tagName==="STYLE"){const B=k.createElement(A.tagName),U=A.sheet;if(U){let j="";for(let q=0;q<U.cssRules.length;q+=1)typeof U.cssRules[q].cssText=="string"&&(j+=`${U.cssRules[q].cssText}\r
`);B.appendChild(k.createTextNode(j)),k.head.appendChild(B)}}else if(A.getAttribute("href")){const B=k.createElement(A.tagName);for(let U=0;U<A.attributes.length;U+=1){const j=A.attributes[U];j&&B.setAttribute(j.nodeName,j.nodeValue||"")}k.head.appendChild(B)}}}C.contentWindow.print()},[e,o]),g=l.useCallback(C=>{var x,y;o.current.body.removeChild(C),e.current.restoreState(r.current||{}),(x=r.current)!=null&&(y=x.columns)!=null&&y.columnVisibilityModel||e.current.setColumnVisibilityModel(s.current),e.current.unstable_enableVirtualization(),r.current=null,s.current={}},[e]),u={exportDataAsPrint:l.useCallback(async C=>{if(n.debug("Export data as Print"),!e.current.rootElementRef.current)throw new Error("MUI: No grid root element available.");if(r.current=e.current.exportState(),s.current=dt(e),t.pagination){const y=$r(e);e.current.setPageSize(y)}await i(C==null?void 0:C.fields,C==null?void 0:C.allColumns),e.current.unstable_disableVirtualization(),await zg();const x=c(C==null?void 0:C.fileName);x.onload=()=>{a(x,C),x.contentWindow.matchMedia("print").addEventListener("change",p=>{p.matches===!1&&g(x)})},o.current.body.appendChild(x)},[t,n,e,c,a,g,i])};we(e,u);const f=l.useCallback((C,x)=>{var y;return(y=x.printOptions)!=null&&y.disableToolbarButton?C:[...C,{component:P($d,{options:x.printOptions}),componentName:"printExport"}]},[]);Re(e,"exportMenu",f)},Ug=["rowsBeforePartialUpdates"];function Kg(e,t,n="A row was provided without id in the rows prop:"){if(e==null)throw new Error(["MUI: The data grid component requires all rows to have a unique `id` property.","Alternatively, you can use the `getRowId` prop to specify a custom id for each row.",n,JSON.stringify(t)].join(`
`))}const Nn=(e,t,n)=>{const o=t?t(e):e.id;return Kg(o,e,n),o},Cn=({rows:e,getRowId:t,loading:n,rowCount:o})=>{const r={rowsBeforePartialUpdates:e,loadingPropBeforePartialUpdates:n,rowCountPropBeforePartialUpdates:o,idRowsLookup:{},idToIdLookup:{},ids:[]};for(let s=0;s<e.length;s+=1){const i=e[s],c=Nn(i,t);r.idRowsLookup[c]=i,r.idToIdLookup[c]=c,r.ids.push(c)}return r},bl=({apiRef:e,previousTree:t,rowCountProp:n,loadingProp:o})=>{const r=e.current.unstable_caches.rows,s=Z(r,Ug),i=n??0,c=e.current.unstable_applyStrategyProcessor("rowTreeCreation",m({},s,{previousTree:t})),a=e.current.unstable_applyPipeProcessors("hydrateRows",c),g=a.treeDepth===1?a.ids.length:Object.values(a.tree).filter(d=>d.parent==null&&!d.isPinned).length;return m({},a,{groupingResponseBeforeRowHydration:c,loading:o,totalRowCount:Math.max(i,a.ids.length),totalTopLevelRowCount:Math.max(i,g)})},wl=(e,t,n)=>{var o;const r=(o=e[t])==null?void 0:o.children;if(r==null)return[];const s=[];for(let i=0;i<r.length;i+=1){const c=r[i],a=e[c];(!n||!a.isAutoGenerated)&&s.push(c),s.push(...wl(e,a.id,n))}return s};function Sl(e){var t,n;const o=rn(e),r=(o==null||(t=o.top)==null?void 0:t.reduce((i,c)=>(i+=e.current.unstable_getRowHeight(c.id),i),0))||0,s=(o==null||(n=o.bottom)==null?void 0:n.reduce((i,c)=>(i+=e.current.unstable_getRowHeight(c.id),i),0))||0;return{top:r,bottom:s}}const Bn=(e,t)=>{const n=m({},e);if(n.id==null&&(n.id=Math.round(Math.random()*1e5)),n.operatorValue==null){const o=Gt(t)[n.columnField];n.operatorValue=o&&o.filterOperators[0].value}return n},Wg=tt(["MUI: The `filterModel` can only contain a single item when the `disableMultipleColumnsFiltering` prop is set to `true`.","If you are using the community version of the `DataGrid`, this prop is always `true`."],"error"),jg=tt("MUI: The 'id' field is required on `filterModel.items` when you use multiple filters.","error"),qg=tt(["MUI: One of your filtering item have no `operatorValue` provided.","This property will become required on `@mui/x-data-grid@6.X`."]),vl=(e,t,n)=>{const o=e.items.length>1;let r;o&&t?(Wg(),r=[e.items[0]]):r=e.items;const s=o&&r.some(c=>c.id==null),i=r.some(c=>c.operatorValue==null);return s&&jg(),i&&qg(),i||s?m({},e,{items:r.map(c=>Bn(c,n))}):e.items!==r?m({},e,{items:r}):e},rr=(e,t,n)=>o=>m({},o,{filterModel:vl(e,t,n)}),yl=(e,t)=>{if(!e.columnField||!e.operatorValue)return null;const n=t.current.getColumn(e.columnField);if(!n)return null;let o;if(n.valueParser){var r;const d=n.valueParser;o=Array.isArray(e.value)?(r=e.value)==null?void 0:r.map(u=>d(u)):d(e.value)}else o=e.value;const s=m({},e,{value:o}),i=n.filterOperators;if(!(i!=null&&i.length))throw new Error(`MUI: No filter operators found for column '${n.field}'.`);const c=i.find(d=>d.value===s.operatorValue);if(!c)throw new Error(`MUI: No filter operator found for column '${n.field}' and operator value '${s.operatorValue}'.`);const a=c.getApplyFilterFn(s,n);return typeof a!="function"?null:{fn:d=>{const u=t.current.getCellParams(d,s.columnField);return a(u)},item:s}},Yg=(e,t)=>{const{items:n}=e,o=n.map(r=>yl(r,t)).filter(r=>!!r);return o.length===0?null:(r,s)=>{const i={};return(s?o.filter(a=>s(a.item.columnField)):o).forEach(a=>{i[a.item.id]=a.fn(r)}),i}},Qg=(e,t)=>{const{quickFilterValues:n=[]}=e;if(n.length===0)return null;const o=Lt(t),r={};o.forEach(i=>{const c=t.current.getColumn(i),a=c==null?void 0:c.getApplyQuickFilterFn;a&&(r[i]=n.map(g=>a(g,c,t)))});const s=n.filter((i,c)=>Object.keys(r).some(a=>r[a][c]!=null));return s.length===0?null:(i,c)=>{const a={},g=[];Object.keys(r).forEach(u=>{(!c||c(u))&&(a[u]=t.current.getCellParams(i,u),g.push(u))});const d={};return s.forEach((u,f)=>{const C=g.some(x=>{var y,p;return r[x][f]==null?!1:(y=(p=r[x])[f])==null?void 0:y.call(p,a[x])});d[u]=C}),d}},Jg=(e,t)=>{const n=Yg(e,t),o=Qg(e,t);return(r,s)=>({passingFilterItems:n&&n(r,s),passingQuickFilterValues:o&&o(r,s)})},Xg=(e,t,n,o)=>{var r,s;const i=n.items.filter(u=>yl(u,o)!==null),c=e.filter(u=>u!=null),a=t.filter(u=>u!=null),g=(r=n.quickFilterLogicOperator)!=null?r:Jt().quickFilterLogicOperator,d=(s=n.linkOperator)!=null?s:Jt().linkOperator;if(c.length>0){const u=f=>c.some(C=>C[f.id]);if(d===Ae.And){if(!i.every(u))return!1}else if(!i.some(u))return!1}if(a.length>0&&n.quickFilterValues!=null){const u=f=>a.some(C=>C[f]);if(g===Ae.And){if(!n.quickFilterValues.every(u))return!1}else if(!n.quickFilterValues.some(u))return!1}return!0},Zg=(e,t,n)=>{var o,r,s,i;const c=(o=(r=t.filterModel)!=null?r:(s=t.initialState)==null||(i=s.filter)==null?void 0:i.filterModel)!=null?o:Jt();return m({},e,{filter:{filterModel:vl(c,t.disableMultipleColumnsFiltering,n),visibleRowsLookup:{},filteredDescendantCountLookup:{}}})},em=(e,t)=>{var n,o,r;const s=Me(e,"useGridFilter");e.current.unstable_registerControlState({stateId:"filter",propModel:t.filterModel,propOnChange:t.onFilterModelChange,stateSelector:Ne,changeEvent:"filterModelChange"});const i=l.useCallback(()=>{e.current.setState(v=>{const M=Ne(v,e.current.instanceId),_=t.filterMode===Dt.client?Jg(M,e):null,T=e.current.unstable_applyStrategyProcessor("filtering",{isRowMatchingFilters:_,filterModel:M??Jt()});return m({},v,{filter:m({},v.filter,T)})}),e.current.publishEvent("filteredRowsSet")},[t.filterMode,e]),c=l.useCallback(()=>{i(),e.current.forceUpdate()},[e,i]),a=l.useCallback(v=>{const M=Ne(e),_=[...M.items],T=_.findIndex(G=>G.id===v.id);T===-1?_.push(v):_[T]=v,e.current.setFilterModel(m({},M,{items:_}),"upsertFilterItem")},[e]),g=l.useCallback(v=>{const M=Ne(e),_=[...M.items];v.forEach(T=>{const G=v.findIndex(L=>L.id===T.id);G===-1?_.push(T):_[G]=T}),e.current.setFilterModel(m({},M,{items:v}),"upsertFilterItems")},[e]),d=l.useCallback(v=>{const M=Ne(e),_=M.items.filter(T=>T.id!==v.id);_.length!==M.items.length&&e.current.setFilterModel(m({},M,{items:_}),"deleteFilterItem")},[e]),u=l.useCallback(v=>{if(s.debug("Displaying filter panel"),v){const M=Ne(e),_=M.items.filter(L=>{var E;if(L.value!==void 0)return!0;const $=(E=e.current.getColumn(L.columnField).filterOperators)==null?void 0:E.find(D=>D.value===L.operatorValue);return!(typeof($==null?void 0:$.requiresFilterValue)>"u"?!0:$==null?void 0:$.requiresFilterValue)});let T;_.find(L=>L.columnField===v)?T=_:t.disableMultipleColumnsFiltering?T=[Bn({columnField:v},e)]:T=[..._,Bn({columnField:v},e)],e.current.setFilterModel(m({},M,{items:T}))}e.current.showPreferences(St.filters)},[e,s,t.disableMultipleColumnsFiltering]),f=l.useCallback(()=>{s.debug("Hiding filter panel"),e.current.hidePreferences()},[e,s]),C=l.useCallback(v=>{const M=Ne(e);M.linkOperator!==v&&e.current.setFilterModel(m({},M,{linkOperator:v}),"changeLogicOperator")},[e]),x=l.useCallback(v=>{const M=Ne(e);gt(M.quickFilterValues,v)||e.current.setFilterModel(m({},M,{quickFilterValues:[...v]}))},[e]),y=l.useCallback((v,M)=>{Ne(e)!==v&&(s.debug("Setting filter model"),e.current.unstable_updateControlState("filter",rr(v,t.disableMultipleColumnsFiltering,e),M),e.current.unstable_applyFilters())},[e,s,t.disableMultipleColumnsFiltering]),p=l.useCallback(()=>{const v=mt(e);return new Map(v.map(M=>[M.id,M.model]))},[e]);we(e,{setFilterLinkOperator:C,unstable_applyFilters:c,deleteFilterItem:d,upsertFilterItem:a,upsertFilterItems:g,setFilterModel:y,showFilterPanel:u,hideFilterPanel:f,getVisibleRowModels:p,setQuickFilterValues:x});const k=l.useCallback((v,M)=>{var _,T;const G=Ne(e);return!M.exportOnlyDirtyModels||t.filterModel!=null||((_=t.initialState)==null||(T=_.filter)==null?void 0:T.filterModel)!=null||!gt(G,Jt())?m({},v,{filter:{filterModel:G}}):v},[e,t.filterModel,(n=t.initialState)==null||(o=n.filter)==null?void 0:o.filterModel]),S=l.useCallback((v,M)=>{var _;const T=(_=M.stateToRestore.filter)==null?void 0:_.filterModel;return T==null?v:(e.current.unstable_updateControlState("filter",rr(T,t.disableMultipleColumnsFiltering,e),"restoreState"),m({},v,{callbacks:[...v.callbacks,e.current.unstable_applyFilters]}))},[e,t.disableMultipleColumnsFiltering]),h=l.useCallback((v,M)=>{if(M===St.filters){var _;const T=t.components.FilterPanel;return P(T,m({},(_=t.componentsProps)==null?void 0:_.filterPanel))}return v},[t.components.FilterPanel,(r=t.componentsProps)==null?void 0:r.filterPanel]),F=l.useCallback(v=>{if(t.filterMode===Dt.client&&v.isRowMatchingFilters){const M=Pt(e),_={};for(let T=0;T<M.length;T+=1){const G=M[T];let L;if(typeof G=="string"&&G.startsWith("auto-generated-group-footer"))L=!0;else{const{passingFilterItems:E,passingQuickFilterValues:b}=v.isRowMatchingFilters(G);L=Xg([E],[b],v.filterModel,e)}_[G]=L}return{filteredRowsLookup:_,visibleRowsLookup:_,filteredDescendantCountLookup:{}}}return{visibleRowsLookup:{},filteredRowsLookup:{},filteredDescendantCountLookup:{}}},[e,t.filterMode]);Re(e,"exportState",k),Re(e,"restoreState",S),Re(e,"preferencePanel",h),Co(e,gn,"filtering",F);const R=l.useCallback(()=>{s.debug("onColUpdated - GridColumns changed, applying filters");const v=Ne(e),M=Pi(e),_=v.items.filter(T=>T.columnField&&M[T.columnField]);_.length<v.items.length&&e.current.setFilterModel(m({},v,{items:_}))},[e,s]),w=l.useCallback(v=>{v==="filtering"&&e.current.unstable_applyFilters()},[e]);Q(e,"rowsSet",i),Q(e,"rowExpansionChange",e.current.unstable_applyFilters),Q(e,"columnsChange",R),Q(e,"activeStrategyProcessorChange",w),dn(()=>{e.current.unstable_applyFilters()}),l.useEffect(()=>{t.filterModel!==void 0&&e.current.setFilterModel(t.filterModel)},[e,s,t.filterModel])},tm=e=>m({},e,{focus:{cell:null,columnHeader:null},tabIndex:{cell:null,columnHeader:null}}),nm=(e,t)=>{const n=Me(e,"useGridFocus"),o=l.useRef(null),r=l.useCallback((p,I)=>{p&&e.current.getRow(p.id)&&e.current.publishEvent("cellFocusOut",e.current.getCellParams(p.id,p.field),I)},[e]),s=l.useCallback((p,I)=>{const k=Xe(e);(k==null?void 0:k.id)===p&&(k==null?void 0:k.field)===I||(e.current.setState(S=>(n.debug(`Focusing on cell with id=${p} and field=${I}`),m({},S,{tabIndex:{cell:{id:p,field:I},columnHeader:null},focus:{cell:{id:p,field:I},columnHeader:null}}))),e.current.forceUpdate(),e.current.getRow(p)&&(k&&r(k,{}),e.current.publishEvent("cellFocusIn",e.current.getCellParams(p,I))))},[e,n,r]),i=l.useCallback((p,I={})=>{const k=Xe(e);r(k,I),e.current.setState(S=>(n.debug(`Focusing on column header with colIndex=${p}`),m({},S,{tabIndex:{columnHeader:{field:p},cell:null},focus:{columnHeader:{field:p},cell:null}}))),e.current.forceUpdate()},[e,n,r]),c=l.useCallback((p,I,k)=>{let S=e.current.getColumnIndex(I),h=e.current.getRowIndexRelativeToVisibleRows(p);const F=Oe(e);k==="right"?S+=1:k==="left"?S-=1:h+=1;const R=Fn(e,{pagination:t.pagination,paginationMode:t.paginationMode});S>=F.length?(h+=1,h<R.rows.length&&(S=0)):S<0&&(h-=1,h>=0&&(S=F.length-1)),h=Ot(h,0,R.rows.length-1);const w=R.rows[h],v=e.current.unstable_getCellColSpanInfo(w.id,S);v&&v.spannedByColSpan&&(k==="left"||k==="below"?S=v.leftVisibleCellIndex:k==="right"&&(S=v.rightVisibleCellIndex)),S=Ot(S,0,F.length-1);const M=F[S];e.current.setCellFocus(w.id,M.field)},[e,t.pagination,t.paginationMode]),a=l.useCallback(({id:p,field:I})=>{e.current.setCellFocus(p,I)},[e]),g=l.useCallback((p,I)=>{I.key==="Enter"||I.key==="Tab"||cn(I.key)||e.current.setCellFocus(p.id,p.field)},[e]),d=l.useCallback(({field:p},I)=>{I.target===I.currentTarget&&e.current.setColumnHeaderFocus(p,I)},[e]),u=l.useCallback(()=>{n.debug("Clearing focus"),e.current.setState(p=>m({},p,{focus:{cell:null,columnHeader:null}}))},[n,e]),f=l.useCallback(p=>{o.current=p},[]),C=l.useCallback(p=>{const I=o.current;o.current=null;const k=Xe(e);if(!k){I&&e.current.setCellFocus(I.id,I.field);return}if((I==null?void 0:I.id)===k.id&&(I==null?void 0:I.field)===k.field)return;const S=e.current.getCellElement(k.id,k.field);S!=null&&S.contains(p.target)||(I?e.current.setCellFocus(I.id,I.field):(e.current.setState(h=>m({},h,{focus:{cell:null,columnHeader:null}})),e.current.forceUpdate(),r(k,p)))},[e,r]),x=l.useCallback(p=>{if(p.cellMode==="view")return;const I=Xe(e);((I==null?void 0:I.id)!==p.id||(I==null?void 0:I.field)!==p.field)&&e.current.setCellFocus(p.id,p.field)},[e]),y=l.useCallback(()=>{const p=Xe(e);p&&!e.current.getRow(p.id)&&e.current.setState(I=>m({},I,{focus:{cell:null,columnHeader:null}}))},[e]);we(e,{setCellFocus:s,setColumnHeaderFocus:i,unstable_moveFocusToRelativeCell:c}),l.useEffect(()=>{const p=In(e.current.rootElementRef.current);return p.addEventListener("click",C),()=>{p.removeEventListener("click",C)}},[e,C]),Q(e,"columnHeaderBlur",u),Q(e,"cellDoubleClick",a),Q(e,"cellMouseDown",f),Q(e,"cellKeyDown",g),Q(e,"cellModeChange",x),Q(e,"columnHeaderFocus",d),Q(e,"rowsSet",y)};function om(e,t){const n=rn(e)||{};return[...n.top||[],...t,...n.bottom||[]]}const rm=(e,t)=>{const n=Me(e,"useGridKeyboardNavigation"),o=Tt(e,t).rows,r=l.useMemo(()=>om(e,o),[e,o]),s=l.useCallback((u,f,C="left")=>{const x=mt(e),y=e.current.unstable_getCellColSpanInfo(f,u);y&&y.spannedByColSpan&&(C==="left"?u=y.leftVisibleCellIndex:C==="right"&&(u=y.rightVisibleCellIndex));const p=x.findIndex(k=>k.id===f);n.debug(`Navigating to cell row ${p}, col ${u}`),e.current.scrollToIndexes({colIndex:u,rowIndex:p});const I=e.current.getVisibleColumns()[u].field;e.current.setCellFocus(f,I)},[e,n]),i=l.useCallback((u,f)=>{n.debug(`Navigating to header col ${u}`),e.current.scrollToIndexes({colIndex:u});const C=e.current.getVisibleColumns()[u].field;e.current.setColumnHeaderFocus(C,f)},[e,n]),c=l.useCallback(u=>r[u].id,[r]),a=l.useCallback((u,f)=>{const C=e.current.getRootDimensions();if(r.length===0||!C)return;const x=e.current.unstable_getViewportPageSize(),y=u.field?e.current.getColumnIndex(u.field):0,p=r.findIndex(R=>R.id===u.id),I=0,k=r.length-1,S=0,h=Oe(e).length-1;let F=!0;switch(f.key){case"ArrowDown":case"Enter":{p<k&&s(y,c(p+1));break}case"ArrowUp":{p>I?s(y,c(p-1)):i(y,f);break}case"ArrowRight":{y<h&&s(y+1,c(p),"right");break}case"ArrowLeft":{y>S&&s(y-1,c(p));break}case"Tab":{f.shiftKey&&y>S?s(y-1,c(p),"left"):!f.shiftKey&&y<h&&s(y+1,c(p),"right");break}case" ":{if(u.field===ho)break;const w=u.colDef;if(w&&w.type==="treeDataGroup")break;!f.shiftKey&&p<k&&s(y,c(Math.min(p+x,k)));break}case"PageDown":{p<k&&s(y,c(Math.min(p+x,k)));break}case"PageUp":{const R=Math.max(p-x,I);R!==p&&R>=I?s(y,c(R)):i(y,f);break}case"Home":{f.ctrlKey||f.metaKey||f.shiftKey?s(S,c(I)):s(S,c(p));break}case"End":{f.ctrlKey||f.metaKey||f.shiftKey?s(h,c(k)):s(h,c(p));break}default:F=!1}F&&f.preventDefault()},[e,r,s,i,c]),g=l.useCallback((u,f)=>{const C=f.currentTarget.querySelector(`.${O.columnHeaderTitleContainerContent}`);if(!!C&&C.contains(f.target)&&u.field!==un.field||!e.current.getRootDimensions())return;const p=e.current.unstable_getViewportPageSize(),I=u.field?e.current.getColumnIndex(u.field):0,k=0,S=r.length-1,h=0,F=Oe(e).length-1;let R=!0;switch(f.key){case"ArrowDown":{s(I,c(k));break}case"ArrowRight":{I<F&&i(I+1,f);break}case"ArrowLeft":{I>h&&i(I-1,f);break}case"PageDown":{S!==null&&s(I,c(Math.min(k+p,S)));break}case"Home":{i(h,f);break}case"End":{i(F,f);break}case"Enter":{(f.ctrlKey||f.metaKey)&&e.current.toggleColumnMenu(u.field);break}case" ":break;default:R=!1}R&&f.preventDefault()},[e,r,s,i,c]),d=l.useCallback((u,f)=>{if(!f.currentTarget.contains(f.target))return;const C=e.current.getCellParams(u.id,u.field);C.cellMode!==ge.Edit&&cn(f.key)&&e.current.publishEvent("cellNavigationKeyDown",C,f)},[e]);Q(e,"cellNavigationKeyDown",a),Q(e,"columnHeaderKeyDown",g),Q(e,"cellKeyDown",d)},Pl=e=>e?0:100,lr=e=>t=>m({},t,{pagination:m({},t.pagination,{pageSize:e})}),lm=(e,t)=>{var n,o;const r=Me(e,"useGridPageSize"),s=ee(e,sn);e.current.unstable_registerControlState({stateId:"pageSize",propModel:t.pageSize,propOnChange:t.onPageSizeChange,stateSelector:jt,changeEvent:"pageSizeChange"});const c={setPageSize:l.useCallback(u=>{u!==jt(e)&&(r.debug(`Setting page size to ${u}`),e.current.setState(lr(u)),e.current.forceUpdate())},[e,r])};we(e,c);const a=l.useCallback((u,f)=>{var C,x;const y=jt(e);return!f.exportOnlyDirtyModels||t.pageSize!=null||((C=t.initialState)==null||(x=C.pagination)==null?void 0:x.pageSize)!=null||y!==Pl(t.autoPageSize)?m({},u,{pagination:m({},u.pagination,{pageSize:y})}):u},[e,t.pageSize,(n=t.initialState)==null||(o=n.pagination)==null?void 0:o.pageSize,t.autoPageSize]),g=l.useCallback((u,f)=>{var C;const x=(C=f.stateToRestore.pagination)==null?void 0:C.pageSize;return x!=null&&e.current.setState(lr(x)),u},[e]);Re(e,"exportState",a),Re(e,"restoreState",g);const d=l.useCallback(()=>{const u=e.current.getRootDimensions();if(!t.autoPageSize||!u)return;const f=Sl(e),C=Math.floor((u.viewportInnerSize.height-f.top-f.bottom)/s);e.current.setPageSize(C)},[e,t.autoPageSize,s]);Q(e,"viewportInnerSizeChange",d),l.useEffect(()=>{t.pageSize!=null&&!t.autoPageSize&&e.current.setPageSize(t.pageSize)},[e,t.autoPageSize,t.pageSize]),l.useEffect(()=>{d()},[d])},Un=(e,t)=>t>0&&e>0?Math.ceil(e/t):0,Kn=e=>e.pageCount?m({},e,{page:Math.max(Math.min(e.page,e.pageCount-1),0)}):e,sr=e=>t=>m({},t,{pagination:Kn(m({},t.pagination,{page:e}))});tt(["MUI: the 'rowCount' prop is undefined while using paginationMode='server'","For more detail, see http://mui.com/components/data-grid/pagination/#basic-implementation"],"error");const sm=(e,t)=>{var n,o;const r=Me(e,"useGridPage"),s=ee(e,Rr);e.current.unstable_registerControlState({stateId:"page",propModel:t.page,propOnChange:t.onPageChange,stateSelector:Ut,changeEvent:"pageChange"});const c={setPage:l.useCallback(f=>{r.debug(`Setting page to ${f}`),e.current.setState(sr(f)),e.current.forceUpdate()},[e,r])};we(e,c);const a=l.useCallback((f,C)=>{var x,y;const p=Ut(e);return!C.exportOnlyDirtyModels||t.page!=null||((x=t.initialState)==null||(y=x.pagination)==null?void 0:y.page)!=null||p!==0?m({},f,{pagination:m({},f.pagination,{page:p})}):f},[e,t.page,(n=t.initialState)==null||(o=n.pagination)==null?void 0:o.page]),g=l.useCallback((f,C)=>{var x,y;const p=(x=(y=C.stateToRestore.pagination)==null?void 0:y.page)!=null?x:Ut(e);return e.current.setState(sr(p)),f},[e]);Re(e,"exportState",a),Re(e,"restoreState",g);const d=f=>{e.current.setState(C=>{const x=Un(C.pagination.rowCount,f);return m({},C,{pagination:Kn(m({},C.pagination,{pageCount:x,page:C.pagination.page}))})}),e.current.forceUpdate()},u=()=>e.current.scrollToIndexes({rowIndex:Ut(e)*jt(e)});Q(e,"pageSizeChange",d),Q(e,"pageChange",u),l.useEffect(()=>{},[t.rowCount,t.paginationMode]),l.useEffect(()=>{e.current.setState(f=>{const C=t.rowCount!==void 0?t.rowCount:s,x=Un(C,f.pagination.pageSize),y=t.page==null?f.pagination.page:t.page;return m({},f,{pagination:Kn(m({},f.pagination,{page:y,rowCount:C,pageCount:x}))})}),e.current.forceUpdate()},[s,t.rowCount,t.page,t.paginationMode,e])},im=(e,t)=>{var n,o,r,s,i,c,a,g;let d;return t.pageSize!=null?d=t.pageSize:((n=t.initialState)==null||(o=n.pagination)==null?void 0:o.pageSize)!=null?d=t.initialState.pagination.pageSize:d=Pl(t.autoPageSize),m({},e,{pagination:{pageSize:d,page:(r=(s=t.page)!=null?s:(i=t.initialState)==null||(c=i.pagination)==null?void 0:c.page)!=null?r:0,pageCount:Un((a=t.rowCount)!=null?a:0,d),rowCount:(g=t.rowCount)!=null?g:0}})},am=(e,t)=>{lm(e,t),sm(e,t)},cm=(e,t)=>{var n,o;return m({},e,{preferencePanel:(n=(o=t.initialState)==null?void 0:o.preferencePanel)!=null?n:{open:!1}})},um=(e,t)=>{var n;const o=Me(e,"useGridPreferencesPanel"),r=l.useRef(),s=l.useRef(),i=l.useCallback(()=>{o.debug("Hiding Preferences Panel");const f=vn(e.current.state);f.openedPanelValue&&e.current.publishEvent("preferencePanelClose",{openedPanelValue:f.openedPanelValue}),e.current.setState(C=>m({},C,{preferencePanel:{open:!1}})),e.current.forceUpdate()},[e,o]),c=l.useCallback(()=>{s.current=setTimeout(()=>clearTimeout(r.current),0)},[]),a=l.useCallback(()=>{r.current=setTimeout(i,100)},[i]),g=l.useCallback(f=>{o.debug("Opening Preferences Panel"),c(),e.current.setState(C=>m({},C,{preferencePanel:m({},C.preferencePanel,{open:!0,openedPanelValue:f})})),e.current.publishEvent("preferencePanelOpen",{openedPanelValue:f}),e.current.forceUpdate()},[o,c,e]);we(e,{showPreferences:g,hidePreferences:a});const d=l.useCallback((f,C)=>{var x;const y=vn(e.current.state);return!C.exportOnlyDirtyModels||((x=t.initialState)==null?void 0:x.preferencePanel)!=null||y.open?m({},f,{preferencePanel:y}):f},[e,(n=t.initialState)==null?void 0:n.preferencePanel]),u=l.useCallback((f,C)=>{const x=C.stateToRestore.preferencePanel;return x!=null&&e.current.setState(y=>m({},y,{preferencePanel:x})),f},[e]);Re(e,"exportState",d),Re(e,"restoreState",u),l.useEffect(()=>()=>{clearTimeout(r.current),clearTimeout(s.current)},[])},Pe=e=>e.editRows;function ir(e){return typeof e.then=="function"}const dm=(e,t)=>{var n;const o=Me(e,"useGridEditRows"),r=S=>(...h)=>{t.editMode===Le.Cell&&S(...h)},s=l.useCallback((S,h,F)=>{e.current.getCellMode(S,h)!==F&&(o.debug(`Switching cell id: ${S} field: ${h} to mode: ${F}`),e.current.setState(R=>{const w=m({},R.editRows);return w[S]=m({},w[S]),F===ge.Edit?w[S][h]={value:e.current.getCellValue(S,h)}:(delete w[S][h],Object.keys(w[S]).length||delete w[S]),m({},R,{editRows:w})}),e.current.forceUpdate(),e.current.publishEvent("cellModeChange",e.current.getCellParams(S,h)))},[e,o]),i=l.useCallback((S,h)=>{const F=Pe(e.current.state);return F[S]&&F[S][h]?ge.Edit:ge.View},[e]),c=l.useCallback((S,h={})=>{var F;const{id:R,field:w}=S;e.current.unstable_runPendingEditCellValueMutation(R,w);const v=e.current.getEditRowsModel();if(!v[R]||!v[R][w])throw new Error(`MUI: Cell at id: ${R} and field: ${w} is not in edit mode.`);const M=v[R][w],_=e.current.getColumn(w),T=e.current.getRow(R);if((F=t.experimentalFeatures)!=null&&F.preventCommitWhileValidating){const E=v[R][w];if(E.isValidating||E.error)return!1}const G=m({},S,{value:M.value});let L=!!M.error;if(!L&&typeof _.preProcessEditCellProps=="function"){const E=_.preProcessEditCellProps({id:R,row:T,props:M});if(ir(E))return E.then(b=>(e.current.unstable_setEditCellProps({id:R,field:w,props:b}),b.error?!1:(e.current.publishEvent("cellEditCommit",G,h),!0)));e.current.unstable_setEditCellProps({id:R,field:w,props:E}),L=!!E.error}return L?!1:(e.current.publishEvent("cellEditCommit",G,h),!0)},[e,(n=t.experimentalFeatures)==null?void 0:n.preventCommitWhileValidating]),a=l.useCallback(S=>{const h=e.current.getColumn(S.field),F=e.current.getRow(S.id);return new Promise(R=>{let w={value:S.value};const M=e.current.getEditRowsModel()[S.id][S.field];if(typeof h.preProcessEditCellProps!="function"){e.current.unstable_setEditCellProps(m({},S,{props:w})),R(!0);return}w=e.current.unstable_setEditCellProps(m({},S,{props:m({},M,{isValidating:!0})})),Promise.resolve(h.preProcessEditCellProps({id:S.id,row:F,props:m({},w,{value:e.current.unstable_parseValue(S.id,S.field,S.value)})})).then(_=>{e.current.unstable_setEditCellProps(m({},S,{props:m({},_,{isValidating:!1})})),R(!_.error)})})},[e]);we(e,{setCellMode:s,getCellMode:i,commitCellChange:c,unstable_setCellEditingEditCellValue:a});const d=l.useCallback(async(S,h)=>{if(h.which===229)return;const{id:F,field:R,cellMode:w,isEditable:v}=S;if(!v)return;const M=w===ge.Edit,_=h.ctrlKey||h.metaKey||h.altKey;if(!M&&Fa(h)&&!_&&!(h.key===" "&&h.shiftKey)&&e.current.publishEvent("cellEditStart",S,h),!M&&Vn(h.key)&&(e.current.setEditCellValue({id:F,field:R,value:""}),e.current.commitCellChange({id:F,field:R},h),e.current.publishEvent("cellEditStop",S,h)),M&&Bo(h.key)){const T={id:F,field:R};if(!await e.current.commitCellChange(T,h))return}M&&_a(h.key)&&e.current.publishEvent("cellEditStop",S,h)},[e]),u=l.useCallback((S,h)=>{S.isEditable&&e.current.publishEvent("cellEditStart",S,h)},[e]),f=async(S,h)=>{S.cellMode!==ge.View&&(await e.current.commitCellChange(S,h),e.current.publishEvent("cellEditStop",S,h))},C=Ze((S,h)=>{f(S,h)}),x=Ze(()=>{const S=Xe(e);if(!S)return;const h=e.current.getCellParams(S.id,S.field);f(h,{})}),y=l.useCallback((S,h)=>{S.isEditable&&(e.current.setCellMode(S.id,S.field,ge.Edit),An(h)&&kn(h)&&e.current.unstable_setEditCellProps({id:S.id,field:S.field,props:{value:""}}))},[e]),p=l.useCallback((S,h)=>{if(e.current.setCellMode(S.id,S.field,ge.View),!!An(h)){if(Bo(h.key)){e.current.publishEvent("cellNavigationKeyDown",S,h);return}(h.key==="Escape"||Vn(h.key))&&e.current.setCellFocus(S.id,S.field)}},[e]),I=l.useCallback(S=>{const{id:h,field:F}=S,R=e.current.getEditRowsModel(),{value:w}=R[h][F];o.debug(`Setting cell id: ${h} field: ${F} to value: ${w==null?void 0:w.toString()}`);const v=e.current.getRow(h);if(v){const M=e.current.getColumn(S.field);let _=m({},v,{[F]:w});M.valueSetter&&(_=M.valueSetter({row:v,value:w})),e.current.updateRows([_])}},[e,o]),k=l.useCallback(S=>{const h=e.current.getRow(S.id),F=e.current.getColumn(S.field),R=F.preProcessEditCellProps?F.preProcessEditCellProps({id:S.id,row:h,props:S.props}):S.props;ir(R)?R.then(w=>{e.current.unstable_setEditCellProps(m({},S,{props:w}))}):e.current.unstable_setEditCellProps(m({},S,{props:R}))},[e]);Q(e,"cellKeyDown",r(d)),Q(e,"cellDoubleClick",r(u)),Q(e,"cellFocusOut",r(C)),Q(e,"columnHeaderDragStart",r(x)),Q(e,"cellEditStart",r(y)),Q(e,"cellEditStop",r(p)),Q(e,"cellEditCommit",r(I)),Q(e,"editCellPropsChange",r(k)),he(e,"cellEditCommit",t.onCellEditCommit),he(e,"cellEditStart",t.onCellEditStart),he(e,"cellEditStop",t.onCellEditStop)},gm=(e,t)=>{var n,o;const r=l.useRef(null),s=l.useRef(null),i=ee(e,et),c=w=>(...v)=>{t.editMode===Le.Row&&w(...v)},a=l.useCallback((w,v)=>{v!==e.current.getRowMode(w)&&(e.current.setState(M=>{const _=m({},M.editRows);return v===be.Edit?(_[w]={},i.forEach(T=>{const G=e.current.getCellParams(w,T.field);G.isEditable&&(_[w][T.field]={value:G.value})})):delete _[w],m({},M,{editRows:_})}),e.current.forceUpdate())},[e,i]),g=l.useCallback(w=>t.editMode===Le.Cell?be.View:Pe(e.current.state)[w]?be.Edit:be.View,[e,t.editMode]),d=l.useCallback((w,v={})=>{var M;if(t.editMode===Le.Cell)throw new Error("MUI: You can't commit changes when the edit mode is 'cell'.");e.current.unstable_runPendingEditCellValueMutation(w);const T=e.current.getEditRowsModel()[w];if(!T)throw new Error(`MUI: Row at id: ${w} is not being edited.`);if((M=t.experimentalFeatures)!=null&&M.preventCommitWhileValidating&&!Object.keys(T).reduce((b,$)=>b&&!T[$].isValidating&&!T[$].error,!0)||Object.values(T).some(E=>!!E.error))return!1;const L=Object.keys(T).filter(E=>typeof e.current.getColumn(E).preProcessEditCellProps=="function");if(L.length>0){const E=e.current.getRow(w),b=L.map(async $=>{const V=e.current.getColumn($),D=await Promise.resolve(V.preProcessEditCellProps({id:w,row:E,props:T[$]}));return e.current.unstable_setEditCellProps({id:w,field:$,props:D}),D.error});return Promise.all(b).then($=>$.some(V=>!!V)?!1:(e.current.publishEvent("rowEditCommit",w,v),!0))}return e.current.publishEvent("rowEditCommit",w,v),!0},[e,t.editMode,(n=t.experimentalFeatures)==null?void 0:n.preventCommitWhileValidating]),u=l.useCallback(w=>{const M=e.current.getEditRowsModel()[w.id],_=e.current.getRow(w.id);let T=!0;return new Promise(G=>{Object.keys(M).forEach(async L=>{const E=e.current.getColumn(L);let b=L===w.field?{value:w.value}:M[L];b=e.current.unstable_setEditCellProps({id:w.id,field:L,props:m({},b,{isValidating:!0})}),E.preProcessEditCellProps&&(b=await Promise.resolve(E.preProcessEditCellProps({id:w.id,row:_,props:m({},b,{value:L===w.field?e.current.unstable_parseValue(w.id,L,w.value):b.value})}))),b.error&&(T=!1),e.current.unstable_setEditCellProps({id:w.id,field:L,props:m({},b,{isValidating:!1})})}),G(T)})},[e]);we(e,{setRowMode:a,getRowMode:g,commitRowChange:d,unstable_setRowEditingEditCellValue:u});const C=l.useCallback(async(w,v)=>{if(v.which===229)return;const{cellMode:M,isEditable:_}=w;if(!_)return;const T=M===ge.Edit,G=e.current.getRowParams(w.id);if(T)if(v.key==="Enter"){var L;if(!await e.current.commitRowChange(w.id)&&(L=t.experimentalFeatures)!=null&&L.preventCommitWhileValidating)return;e.current.publishEvent("rowEditStop",G,v)}else v.key==="Escape"&&e.current.publishEvent("rowEditStop",G,v);else v.key==="Enter"&&e.current.publishEvent("rowEditStart",G,v)},[e,(o=t.experimentalFeatures)==null?void 0:o.preventCommitWhileValidating]),x=l.useCallback((w,v)=>{if(!w.isEditable)return;const M=e.current.getRowParams(w.id);e.current.publishEvent("rowEditStart",M,v)},[e]),y=l.useCallback(w=>{const v=e.current.getRow(w.id),_=e.current.getEditRowsModel()[w.id];Object.keys(_).forEach(async T=>{const G=e.current.getColumn(T);if(G.preProcessEditCellProps){const L=T===w.field?w.props:_[T],E=await Promise.resolve(G.preProcessEditCellProps({id:w.id,row:v,props:L}));e.current.unstable_setEditCellProps({id:w.id,field:T,props:E})}else T===w.field&&e.current.unstable_setEditCellProps(w)})},[e]),p=l.useCallback(w=>{e.current.setRowMode(w.id,be.Edit)},[e]),I=l.useCallback((w,v)=>{e.current.setRowMode(w.id,be.View),v.key==="Enter"&&e.current.publishEvent("cellNavigationKeyDown",w,v)},[e]),k=l.useCallback(w=>{const M=e.current.getEditRowsModel()[w];if(!M)throw new Error(`MUI: Row at id: ${w} is not being edited.`);const _=e.current.getRow(w);if(_){let T=m({},_);Object.keys(M).forEach(G=>{const L=e.current.getColumn(G),E=M[G].value;L.valueSetter?T=L.valueSetter({row:T,value:E}):T[G]=E}),e.current.updateRows([T])}},[e]),S=l.useCallback(w=>{s.current=w},[]),h=async(w,v)=>{w.cellMode!==ge.View&&(s.current=null,r.current=setTimeout(async()=>{var M;if(((M=s.current)==null?void 0:M.id)!==w.id){await e.current.commitRowChange(w.id,v);const _=e.current.getRowParams(w.id);e.current.publishEvent("rowEditStop",_,v)}}))},F=Ze((w,v)=>{h(w,v)}),R=Ze(()=>{const w=Xe(e);if(!w)return;const v=e.current.getCellParams(w.id,w.field);h(v,{})});Q(e,"cellKeyDown",c(C)),Q(e,"cellDoubleClick",c(x)),Q(e,"editCellPropsChange",c(y)),Q(e,"rowEditStart",c(p)),Q(e,"rowEditStop",c(I)),Q(e,"rowEditCommit",c(k)),Q(e,"cellFocusIn",c(S)),Q(e,"cellFocusOut",c(F)),Q(e,"columnHeaderDragStart",c(R)),he(e,"rowEditCommit",t.onRowEditCommit),he(e,"rowEditStart",t.onRowEditStart),he(e,"rowEditStop",t.onRowEditStop)},mm=e=>m({},e,{editRows:{}});function fm(e,t){var n;const o=Me(e,"useGridEditRows");dm(e,t),gm(e,t);const r=l.useRef({});e.current.unstable_registerControlState({stateId:"editRows",propModel:t.editRowsModel,propOnChange:t.onEditRowsModelChange,stateSelector:Pe,changeEvent:"editRowsModelChange"});const s=l.useCallback(y=>!y.rowNode.isAutoGenerated&&!y.rowNode.isPinned&&!!y.colDef.editable&&!!y.colDef.renderEditCell&&(!t.isCellEditable||t.isCellEditable(y)),[t.isCellEditable]),i=(y,p,I,k)=>{if(!I){k();return}if(r.current[y]||(r.current[y]={}),r.current[y][p]){const[F]=r.current[y][p];clearTimeout(F)}const S=()=>{k();const[F]=r.current[y][p];clearTimeout(F),delete r.current[y][p]},h=setTimeout(()=>{k(),delete r.current[y][p]},I);r.current[y][p]=[h,S]},c=l.useCallback((y,p)=>{if(r.current[y]){if(!p)Object.keys(r.current[y]).forEach(I=>{const[,k]=r.current[y][I];k()});else if(r.current[y][p]){const[,I]=r.current[y][p];I()}}},[]),a=l.useCallback((y,p={})=>{i(y.id,y.field,y.debounceMs,()=>{var I;if((I=t.experimentalFeatures)!=null&&I.preventCommitWhileValidating)return t.editMode==="row"?e.current.unstable_setRowEditingEditCellValue(y):e.current.unstable_setCellEditingEditCellValue(y);const k={id:y.id,field:y.field,props:{value:y.value}};return e.current.publishEvent("editCellPropsChange",k,p)})},[e,t.editMode,(n=t.experimentalFeatures)==null?void 0:n.preventCommitWhileValidating]),g=l.useCallback((y,p,I)=>{const k=e.current.getColumn(p);return k.valueParser?k.valueParser(I,e.current.getCellParams(y,p)):I},[e]),d=l.useCallback(y=>{const{id:p,field:I,props:k}=y;return o.debug(`Setting cell props on id: ${p} field: ${I}`),e.current.setState(h=>{const F=m({},h.editRows);return F[p]=m({},h.editRows[p]),F[p][I]=m({},k,{value:g(p,I,k.value)}),m({},h,{editRows:F})}),e.current.forceUpdate(),Pe(e.current.state)[p][I]},[e,o,g]),u=l.useCallback(y=>{Pe(e.current.state)!==y&&(o.debug("Setting editRows model"),e.current.setState(I=>m({},I,{editRows:y})),e.current.forceUpdate())},[e,o]),f=l.useCallback(()=>Pe(e.current.state),[e]),C=l.useCallback((y,p)=>{const I=p.detail>1;y.isEditable&&y.cellMode===ge.View&&I&&p.preventDefault()},[]);Q(e,"cellMouseDown",C),he(e,"editCellPropsChange",t.onEditCellPropsChange),we(e,{isCellEditable:s,setEditRowsModel:u,getEditRowsModel:f,setEditCellValue:a,unstable_setEditCellProps:d,unstable_parseValue:g,unstable_runPendingEditCellValueMutation:c}),l.useEffect(()=>{t.editRowsModel!==void 0&&e.current.setEditRowsModel(t.editRowsModel)},[e,t.editRowsModel])}const hm=["id","field"],pm=["id","field"],Cm=tt(["MUI: A call to `processRowUpdate` threw an error which was not handled because `onProcessRowUpdateError` is missing.","To handle the error pass a callback to the `onProcessRowUpdateError` prop, e.g. `<DataGrid onProcessRowUpdateError={(error) => ...} />`.","For more detail, see http://mui.com/components/data-grid/editing/#persistence."],"error"),bm=(e,t)=>{const[n,o]=l.useState({}),r=l.useRef(n),s=l.useRef({}),{processRowUpdate:i,onProcessRowUpdateError:c,cellModesModel:a,onCellModesModelChange:g,signature:d}=t,u=E=>(...b)=>{t.editMode===Le.Cell&&E(...b)},f=l.useCallback((E,b)=>{const $=e.current.getCellParams(E,b);if(!e.current.isCellEditable($))throw new Error(`MUI: The cell with id=${E} and field=${b} is not editable.`)},[e]),C=l.useCallback((E,b,$)=>{if(e.current.getCellMode(E,b)!==$)throw new Error(`MUI: The cell with id=${E} and field=${b} is not in ${$} mode.`)},[e]),x=l.useCallback((E,b)=>{if(!E.isEditable||E.cellMode===ge.Edit)return;const $=m({},E,{reason:at.cellDoubleClick});e.current.publishEvent("cellEditStart",$,b)},[e]),y=l.useCallback((E,b)=>{if(E.cellMode===ge.View||e.current.getCellMode(E.id,E.field)===ge.View)return;const $=m({},E,{reason:nt.cellFocusOut});e.current.publishEvent("cellEditStop",$,b)},[e]),p=l.useCallback((E,b)=>{if(E.cellMode===ge.Edit){if(b.which===229)return;let $;if(b.key==="Escape"?$=nt.escapeKeyDown:b.key==="Enter"?$=nt.enterKeyDown:b.key==="Tab"&&($=b.shiftKey?nt.shiftTabKeyDown:nt.tabKeyDown,b.preventDefault()),$){const V=m({},E,{reason:$});e.current.publishEvent("cellEditStop",V,b)}}else if(E.isEditable){let $;if(b.key===" "&&b.shiftKey)return;if(kn(b)||(b.ctrlKey||b.metaKey)&&b.key==="v"?$=at.printableKeyDown:b.key==="Enter"?$=at.enterKeyDown:(b.key==="Delete"||b.key==="Backspace")&&($=at.deleteKeyDown),$){const V=m({},E,{reason:$,key:b.key});e.current.publishEvent("cellEditStart",V,b)}}},[e]),I=l.useCallback(E=>{const{id:b,field:$,reason:V,key:D}=E,H={id:b,field:$};V===at.printableKeyDown?l.version.startsWith("18")?H.initialValue=D:H.deleteValue=!0:V===at.deleteKeyDown&&(H.deleteValue=!0),e.current.startCellEditMode(H)},[e]),k=l.useCallback(E=>{const{id:b,field:$,reason:V}=E;e.current.unstable_runPendingEditCellValueMutation(b,$);let D;V===nt.enterKeyDown?D="below":V===nt.tabKeyDown?D="right":V===nt.shiftTabKeyDown&&(D="left");let H=V==="escapeKeyDown";Pe(e.current.state)[b][$].isProcessingProps&&!t.disableIgnoreModificationsIfProcessingProps&&(H=!0),e.current.stopCellEditMode({id:b,field:$,ignoreModifications:H,cellToFocusAfter:D})},[e,t.disableIgnoreModificationsIfProcessingProps]);Q(e,"cellDoubleClick",u(x)),Q(e,"cellFocusOut",u(y)),Q(e,"cellKeyDown",u(p)),Q(e,"cellEditStart",u(I)),Q(e,"cellEditStop",u(k)),he(e,"cellEditStart",t.onCellEditStart),he(e,"cellEditStop",t.onCellEditStop);const S=l.useCallback((E,b)=>{const $=Pe(e.current.state);return $[E]&&$[E][b]?ge.Edit:ge.View},[e]),h=Ze(E=>{const b=E!==t.cellModesModel;if(g&&b){const $=d===yt.DataGridPro?{api:e.current}:{};g(E,$)}t.cellModesModel&&b||(o(E),r.current=E,e.current.publishEvent("cellModesModelChange",E))}),F=l.useCallback((E,b,$)=>{const V=m({},r.current);if($!==null)V[E]=m({},V[E],{[b]:m({},$)});else{const D=V[E],H=Z(D,[b].map(Yt));V[E]=H,Object.keys(V[E]).length===0&&delete V[E]}h(V)},[h]),R=l.useCallback((E,b,$)=>{e.current.setState(V=>{const D=m({},V.editRows);return $!==null?D[E]=m({},D[E],{[b]:m({},$)}):(delete D[E][b],Object.keys(D[E]).length===0&&delete D[E]),m({},V,{editRows:D})}),e.current.forceUpdate()},[e]),w=l.useCallback(E=>{const{id:b,field:$}=E,V=Z(E,hm);f(b,$),C(b,$,ge.View),F(b,$,m({mode:ge.Edit},V))},[f,C,F]),v=Ze(E=>{const{id:b,field:$,deleteValue:V,initialValue:D}=E;let H=e.current.getCellValue(b,$);(V||D)&&(H=V?"":D),R(b,$,{value:H,error:!1,isProcessingProps:!1}),e.current.setCellFocus(b,$)}),M=l.useCallback(E=>{const{id:b,field:$}=E,V=Z(E,pm);C(b,$,ge.Edit),F(b,$,m({mode:ge.View},V))},[C,F]),_=Ze(async E=>{const{id:b,field:$,ignoreModifications:V,cellToFocusAfter:D="none"}=E;C(b,$,ge.Edit),e.current.unstable_runPendingEditCellValueMutation(b,$);const H=()=>{R(b,$,null),F(b,$,null),D!=="none"&&e.current.unstable_moveFocusToRelativeCell(b,$,D)};if(V){H();return}const A=Pe(e.current.state),{error:B,isProcessingProps:U}=A[b][$];if(B||U){s.current[b][$].mode=ge.Edit,F(b,$,{mode:ge.Edit});return}const j=e.current.unstable_getRowWithUpdatedValuesFromCellEditing(b,$);if(i){const q=oe=>{s.current[b][$].mode=ge.Edit,F(b,$,{mode:ge.Edit}),c?c(oe):Cm()};try{const oe=e.current.getRow(b);Promise.resolve(i(j,oe)).then(Y=>{e.current.updateRows([Y]),H()}).catch(q)}catch(oe){q(oe)}}else e.current.updateRows([j]),H()}),T=l.useCallback(async E=>{var b,$;const{id:V,field:D,value:H,debounceMs:A,unstable_skipValueParser:B}=E;f(V,D),C(V,D,ge.Edit);const U=e.current.getColumn(D),j=e.current.getRow(V);let q=H;U.valueParser&&!B&&(q=U.valueParser(H,e.current.getCellParams(V,D)));let oe=Pe(e.current.state),Y=m({},oe[V][D],{value:q,changeReason:A?"debouncedSetEditCellValue":"setEditCellValue"});if(U.preProcessEditCellProps){const re=H!==oe[V][D].value;Y=m({},Y,{isProcessingProps:!0}),R(V,D,Y),Y=await Promise.resolve(U.preProcessEditCellProps({id:V,row:j,props:Y,hasChanged:re}))}return e.current.getCellMode(V,D)===ge.View?!1:(oe=Pe(e.current.state),Y=m({},Y,{isProcessingProps:!1}),Y.value=U.preProcessEditCellProps?oe[V][D].value:q,R(V,D,Y),oe=Pe(e.current.state),!((b=oe[V])!=null&&($=b[D])!=null&&$.error))},[e,f,C,R]),G=l.useCallback((E,b)=>{const $=e.current.getColumn(b),V=Pe(e.current.state),{value:D}=V[E][b],H=e.current.getRow(E);return $.valueSetter?$.valueSetter({value:D,row:H}):m({},H,{[b]:D})},[e]);we(e,{getCellMode:S,startCellEditMode:w,stopCellEditMode:M,unstable_setCellEditingEditCellValue:T,unstable_getRowWithUpdatedValuesFromCellEditing:G}),l.useEffect(()=>{a&&h(a)},[a,h]),l.useEffect(()=>{const E=to(e),b=s.current;s.current=tl(n),Object.entries(n).forEach(([$,V])=>{Object.entries(V).forEach(([D,H])=>{var A,B,U;const j=((A=b[$])==null||(B=A[D])==null?void 0:B.mode)||ge.View,q=(U=E[$])!=null?U:$;H.mode===ge.Edit&&j===ge.View?v(m({id:q,field:D},H)):H.mode===ge.View&&j===ge.Edit&&_(m({id:q,field:D},H))})})},[e,n,v,_])},wm=["id"],Sm=["id"],vm=tt(["MUI: A call to `processRowUpdate` threw an error which was not handled because `onProcessRowUpdateError` is missing.","To handle the error pass a callback to the `onProcessRowUpdateError` prop, e.g. `<DataGrid onProcessRowUpdateError={(error) => ...} />`.","For more detail, see http://mui.com/components/data-grid/editing/#persistence."],"error"),ym=(e,t)=>{const[n,o]=l.useState({}),r=l.useRef(n),s=l.useRef({}),i=l.useRef(null),c=l.useRef(null),{processRowUpdate:a,onProcessRowUpdateError:g,rowModesModel:d,onRowModesModelChange:u,signature:f}=t,C=D=>(...H)=>{t.editMode===Le.Row&&D(...H)},x=l.useCallback((D,H)=>{const A=e.current.getCellParams(D,H);if(!e.current.isCellEditable(A))throw new Error(`MUI: The cell with id=${D} and field=${H} is not editable.`)},[e]),y=l.useCallback((D,H)=>{if(e.current.getRowMode(D)!==H)throw new Error(`MUI: The row with id=${D} is not in ${H} mode.`)},[e]),p=l.useCallback((D,H)=>{if(!D.isEditable||e.current.getRowMode(D.id)===be.Edit)return;const A=e.current.getRowParams(D.id),B=m({},A,{field:D.field,reason:ct.cellDoubleClick});e.current.publishEvent("rowEditStart",B,H)},[e]),I=l.useCallback(D=>{c.current=D},[]),k=l.useCallback((D,H)=>{D.isEditable&&e.current.getRowMode(D.id)!==be.View&&(c.current=null,i.current=setTimeout(()=>{var A;if(i.current=null,((A=c.current)==null?void 0:A.id)!==D.id){if(!e.current.getRow(D.id)||e.current.getRowMode(D.id)===be.View)return;const B=e.current.getRowParams(D.id),U=m({},B,{field:D.field,reason:ot.rowFocusOut});e.current.publishEvent("rowEditStop",U,H)}}))},[e]);l.useEffect(()=>()=>{clearTimeout(i.current)},[]);const S=l.useCallback((D,H)=>{if(D.cellMode===be.Edit){if(H.which===229)return;let A;if(H.key==="Escape")A=ot.escapeKeyDown;else if(H.key==="Enter")A=ot.enterKeyDown;else if(H.key==="Tab"){const B=Lt(e).filter(U=>e.current.isCellEditable(e.current.getCellParams(D.id,U)));H.shiftKey?D.field===B[0]&&(A=ot.shiftTabKeyDown):D.field===B[B.length-1]&&(A=ot.tabKeyDown),A&&H.preventDefault()}if(A){const B=e.current.getRowParams(D.id),U=m({},B,{reason:A,field:D.field});e.current.publishEvent("rowEditStop",U,H)}}else if(D.isEditable){let A;if(H.key===" "&&H.shiftKey)return;if(kn(H)||(H.ctrlKey||H.metaKey)&&H.key==="v"?A=ct.printableKeyDown:H.key==="Enter"?A=ct.enterKeyDown:(H.key==="Delete"||H.key==="Backspace")&&(A=ct.deleteKeyDown),A){const B=e.current.getRowParams(D.id),U=m({},B,{field:D.field,key:H.key,reason:A});e.current.publishEvent("rowEditStart",U,H)}}},[e]),h=l.useCallback(D=>{const{id:H,field:A,reason:B,key:U}=D,j={id:H,fieldToFocus:A};B===ct.printableKeyDown?l.version.startsWith("18")?j.initialValue=U:j.deleteValue=!!A:B===ct.deleteKeyDown&&(j.deleteValue=!!A),e.current.startRowEditMode(j)},[e]),F=l.useCallback(D=>{const{id:H,reason:A,field:B}=D;e.current.unstable_runPendingEditCellValueMutation(H);let U;A===ot.enterKeyDown?U="below":A===ot.tabKeyDown?U="right":A===ot.shiftTabKeyDown&&(U="left");let j=A==="escapeKeyDown";const q=Pe(e.current.state);!j&&!t.disableIgnoreModificationsIfProcessingProps&&(j=Object.values(q[H]).some(oe=>oe.isProcessingProps)),e.current.stopRowEditMode({id:H,ignoreModifications:j,field:B,cellToFocusAfter:U})},[e,t.disableIgnoreModificationsIfProcessingProps]);Q(e,"cellDoubleClick",C(p)),Q(e,"cellFocusIn",C(I)),Q(e,"cellFocusOut",C(k)),Q(e,"cellKeyDown",C(S)),Q(e,"rowEditStart",C(h)),Q(e,"rowEditStop",C(F)),he(e,"rowEditStart",t.onRowEditStart),he(e,"rowEditStop",t.onRowEditStop);const R=l.useCallback(D=>{if(t.editMode===Le.Cell)return be.View;const H=Pe(e.current.state);return H[D]&&Object.keys(H[D]).length>0?be.Edit:be.View},[e,t.editMode]),w=Ze(D=>{const H=D!==t.rowModesModel;if(u&&H){const A=f===yt.DataGridPro?{api:e.current}:{};u(D,A)}t.rowModesModel&&H||(o(D),r.current=D,e.current.publishEvent("rowModesModelChange",D))}),v=l.useCallback((D,H)=>{const A=m({},r.current);H!==null?A[D]=m({},H):delete A[D],w(A)},[w]),M=l.useCallback((D,H)=>{e.current.setState(A=>{const B=m({},A.editRows);return H!==null?B[D]=H:delete B[D],m({},A,{editRows:B})}),e.current.forceUpdate()},[e]),_=l.useCallback((D,H,A)=>{e.current.setState(B=>{const U=m({},B.editRows);return A!==null?U[D]=m({},U[D],{[H]:m({},A)}):(delete U[D][H],Object.keys(U[D]).length===0&&delete U[D]),m({},B,{editRows:U})}),e.current.forceUpdate()},[e]),T=l.useCallback(D=>{const{id:H}=D,A=Z(D,wm);y(H,be.View),v(H,m({mode:be.Edit},A))},[y,v]),G=Ze(D=>{const{id:H,fieldToFocus:A,deleteValue:B,initialValue:U}=D,q=Lt(e).reduce((oe,Y)=>{if(!e.current.getCellParams(H,Y).isEditable)return oe;let K=e.current.getCellValue(H,Y);return A===Y&&(B||U)&&(K=B?"":U),oe[Y]={value:K,error:!1,isProcessingProps:!1},oe},{});M(H,q),A&&e.current.setCellFocus(H,A)}),L=l.useCallback(D=>{const{id:H}=D,A=Z(D,Sm);y(H,be.Edit),v(H,m({mode:be.View},A))},[y,v]),E=Ze(D=>{const{id:H,ignoreModifications:A,field:B,cellToFocusAfter:U="none"}=D;e.current.unstable_runPendingEditCellValueMutation(H);const j=()=>{U!=="none"&&B&&e.current.unstable_moveFocusToRelativeCell(H,B,U),M(H,null),v(H,null)};if(A){j();return}const q=Pe(e.current.state),oe=e.current.getRow(H);if(Object.values(q[H]).some(J=>J.isProcessingProps)){s.current[H].mode=be.Edit;return}if(Object.values(q[H]).some(J=>J.error)){s.current[H].mode=be.Edit,v(H,{mode:be.Edit});return}const K=e.current.unstable_getRowWithUpdatedValuesFromRowEditing(H);if(a){const J=N=>{s.current[H].mode=be.Edit,v(H,{mode:be.Edit}),g?g(N):vm()};try{Promise.resolve(a(K,oe)).then(N=>{e.current.updateRows([N]),j()}).catch(J)}catch(N){J(N)}}else e.current.updateRows([K]),j()}),b=l.useCallback(D=>{const{id:H,field:A,value:B,debounceMs:U,unstable_skipValueParser:j}=D;x(H,A);const q=e.current.getColumn(A),oe=e.current.getRow(H);let Y=B;q.valueParser&&!j&&(Y=q.valueParser(B,e.current.getCellParams(H,A)));let re=Pe(e.current.state),K=m({},re[H][A],{value:Y,changeReason:U?"debouncedSetEditCellValue":"setEditCellValue"});return q.preProcessEditCellProps||_(H,A,K),new Promise(J=>{const N=[];if(q.preProcessEditCellProps){const X=K.value!==re[H][A].value;K=m({},K,{isProcessingProps:!0}),_(H,A,K);const ie=re[H],fe=Z(ie,[A].map(Yt)),Se=Promise.resolve(q.preProcessEditCellProps({id:H,row:oe,props:K,hasChanged:X,otherFieldsProps:fe})).then(W=>{if(e.current.getRowMode(H)===be.View){J(!1);return}re=Pe(e.current.state),W=m({},W,{isProcessingProps:!1}),W.value=q.preProcessEditCellProps?re[H][A].value:Y,_(H,A,W)});N.push(Se)}Object.entries(re[H]).forEach(([X,ie])=>{if(X===A)return;const fe=e.current.getColumn(X);if(!fe.preProcessEditCellProps)return;ie=m({},ie,{isProcessingProps:!0}),_(H,X,ie),re=Pe(e.current.state);const Se=re[H],W=Z(Se,[X].map(Yt)),le=Promise.resolve(fe.preProcessEditCellProps({id:H,row:oe,props:ie,hasChanged:!1,otherFieldsProps:W})).then(se=>{if(e.current.getRowMode(H)===be.View){J(!1);return}se=m({},se,{isProcessingProps:!1}),_(H,X,se)});N.push(le)}),Promise.all(N).then(()=>{e.current.getRowMode(H)===be.Edit?(re=Pe(e.current.state),J(!re[H][A].error)):J(!1)})})},[e,x,_]),$=l.useCallback(D=>{const H=Pe(e.current.state),A=e.current.getRow(D);let B=m({},A);return Object.entries(H[D]).forEach(([U,j])=>{const q=e.current.getColumn(U);q.valueSetter?B=q.valueSetter({value:j.value,row:B}):B[U]=j.value}),B},[e]);we(e,{getRowMode:R,startRowEditMode:T,stopRowEditMode:L,unstable_setRowEditingEditCellValue:b,unstable_getRowWithUpdatedValuesFromRowEditing:$}),l.useEffect(()=>{d&&w(d)},[d,w]),l.useEffect(()=>{const D=to(e),H=s.current;s.current=tl(n),Object.entries(n).forEach(([A,B])=>{var U,j;const q=((U=H[A])==null?void 0:U.mode)||be.View,oe=(j=D[A])!=null?j:A;B.mode===be.Edit&&q===be.View?G(m({id:oe},B)):B.mode===be.View&&q===be.Edit&&E(m({id:oe},B))})},[e,n,G,E])},Pm=e=>m({},e,{editRows:{}}),Em=(e,t)=>{bm(e,t),ym(e,t);const n=l.useRef({}),{isCellEditable:o}=t,r=l.useCallback(u=>u.rowNode.isAutoGenerated||!u.colDef.editable||!u.colDef.renderEditCell?!1:o?o(u):!u.rowNode.isPinned,[o]),s=(u,f,C,x)=>{if(!C){x();return}if(n.current[u]||(n.current[u]={}),n.current[u][f]){const[I]=n.current[u][f];clearTimeout(I)}const y=()=>{const[I]=n.current[u][f];clearTimeout(I),x(),delete n.current[u][f]},p=setTimeout(()=>{x(),delete n.current[u][f]},C);n.current[u][f]=[p,y]};l.useEffect(()=>{const u=n.current;return()=>{Object.entries(u).forEach(([f,C])=>{Object.keys(C).forEach(x=>{const[y]=u[f][x];clearTimeout(y),delete u[f][x]})})}},[]);const i=l.useCallback((u,f)=>{if(n.current[u]){if(!f)Object.keys(n.current[u]).forEach(C=>{const[,x]=n.current[u][C];x()});else if(n.current[u][f]){const[,C]=n.current[u][f];C()}}},[]),c=l.useCallback(u=>{const{id:f,field:C,debounceMs:x}=u;return new Promise(y=>{s(f,C,x,async()=>{const p=t.editMode===Le.Row?e.current.unstable_setRowEditingEditCellValue:e.current.unstable_setCellEditingEditCellValue;if(e.current.getCellMode(f,C)===ge.Edit){const I=await p(u);y(I)}})})},[e,t.editMode]),a=l.useCallback((u,f)=>t.editMode===Le.Cell?e.current.unstable_getRowWithUpdatedValuesFromCellEditing(u,f):e.current.unstable_getRowWithUpdatedValuesFromRowEditing(u),[e,t.editMode]),g=l.useCallback((u,f)=>({changeReason:Pe(e.current.state)[u][f].changeReason}),[e]);we(e,{isCellEditable:r,setEditCellValue:c,unstable_runPendingEditCellValueMutation:i,unstable_getRowWithUpdatedValues:a,unstable_getEditCellMeta:g})},Im=(e,t,n)=>(n.current.unstable_caches.rows=Cn({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),m({},e,{rows:bl({apiRef:n,previousTree:null,rowCountProp:t.rowCount,loadingProp:t.loading})})),xm=(e,t)=>{const n=Me(e,"useGridRows"),o=Tt(e,t),r=l.useRef(Date.now()),s=l.useRef(null),i=l.useCallback(_=>{var T;return(T=Rt(e)[_])!=null?T:null},[e]),c=l.useMemo(()=>o.rows.reduce((_,{id:T},G)=>(_[T]=G,_),{}),[o.rows]),a=l.useCallback((_,T)=>{const G=()=>{s.current=null,r.current=Date.now(),e.current.setState(E=>m({},E,{rows:bl({apiRef:e,previousTree:bt(e),rowCountProp:t.rowCount,loadingProp:t.loading})})),e.current.publishEvent("rowsSet"),e.current.forceUpdate()};if(s.current&&(clearTimeout(s.current),s.current=null),e.current.unstable_caches.rows=_,!T){G();return}const L=t.throttleRowsMs-(Date.now()-r.current);if(L>0){s.current=setTimeout(G,L);return}G()},[t.throttleRowsMs,t.rowCount,t.loading,e]),g=l.useCallback(_=>{n.debug(`Updating all rows, new length ${_.length}`);const T=Cn({rows:_,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),G=e.current.unstable_caches.rows;T.rowsBeforePartialUpdates=G.rowsBeforePartialUpdates,a(T,!0)},[n,t.getRowId,t.loading,t.rowCount,a,e]),d=l.useCallback(_=>{if(t.signature===yt.DataGrid&&_.length>1)throw new Error(["MUI: You can't update several rows at once in `apiRef.current.updateRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));const T=new Map;_.forEach(b=>{const $=Nn(b,t.getRowId,"A row was provided without id when calling updateRows():");T.has($)?T.set($,m({},T.get($),b)):T.set($,b)});const G=[],L=e.current.unstable_caches.rows,E={rowsBeforePartialUpdates:L.rowsBeforePartialUpdates,loadingPropBeforePartialUpdates:L.loadingPropBeforePartialUpdates,rowCountPropBeforePartialUpdates:L.rowCountPropBeforePartialUpdates,idRowsLookup:m({},L.idRowsLookup),idToIdLookup:m({},L.idToIdLookup),ids:[...L.ids]};T.forEach((b,$)=>{if(b._action==="delete"){delete E.idRowsLookup[$],delete E.idToIdLookup[$],G.push($);return}if(!e.current.getRow($)){E.idRowsLookup[$]=b,E.idToIdLookup[$]=$,E.ids.push($);return}E.idRowsLookup[$]=m({},e.current.getRow($),b)}),G.length>0&&(E.ids=E.ids.filter(b=>!G.includes(b))),a(E,!0)},[t.signature,t.getRowId,a,e]),u=l.useCallback(()=>{const _=Pt(e),T=Rt(e);return new Map(_.map(G=>[G,T[G]]))},[e]),f=l.useCallback(()=>xn(e),[e]),C=l.useCallback(()=>Pt(e),[e]),x=l.useCallback(_=>c[_],[c]),y=l.useCallback((_,T)=>{const G=e.current.getRowNode(_);if(!G)throw new Error(`MUI: No row with id #${_} found`);const L=m({},G,{childrenExpanded:T});e.current.setState(E=>m({},E,{rows:m({},E.rows,{tree:m({},E.rows.tree,{[_]:L})})})),e.current.forceUpdate(),e.current.publishEvent("rowExpansionChange",L)},[e]),p=l.useCallback(_=>{var T;return(T=bt(e)[_])!=null?T:null},[e]),I=l.useCallback(({skipAutoGeneratedRows:_=!0,groupId:T,applySorting:G,applyFiltering:L})=>{const E=bt(e);let b;if(G){const $=E[T];if(!$)return[];const V=ro(e);b=[];const D=V.findIndex(H=>H===T)+1;for(let H=D;H<V.length&&E[V[H]].depth>$.depth;H+=1){const A=V[H],B=E[A];(!_||!B.isAutoGenerated)&&b.push(A)}}else b=wl(E,T,_);if(L){const $=Fr(e);b=b.filter(V=>$[V]!==!1)}return b},[e]),k=l.useCallback((_,T)=>{const G=Pt(e),L=G.findIndex(b=>b===_);if(L===-1||L===T)return;n.debug(`Moving row ${_} to index ${T}`);const E=[...G];E.splice(T,0,E.splice(L,1)[0]),e.current.setState(b=>m({},b,{rows:m({},b.rows,{ids:E})})),e.current.unstable_caches.rows.ids=E,e.current.publishEvent("rowsSet")},[e,n]),S=l.useCallback((_,T)=>{if(t.signature===yt.DataGrid&&T.length>1)throw new Error(["MUI: You can't replace rows using `apiRef.current.unstable_replaceRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));if(T.length===0)return;const L=[...Pt(e)],E=Rt(e),b=to(e),$=bt(e),V=m({},E),D=m({},b),H=m({},$),A=T.map(B=>({id:Nn(B,t.getRowId,"A row was provided without id when calling replaceRows()."),model:B}));A.forEach((B,U)=>{const[j]=L.splice(_+U,1,B.id);delete V[j],delete D[j],delete H[j]}),A.forEach(B=>{const U={id:B.id,parent:null,depth:0,groupingKey:null,groupingField:null};V[B.id]=B.model,D[B.id]=B.id,H[B.id]=U}),e.current.unstable_caches.rows.idRowsLookup=V,e.current.unstable_caches.rows.idToIdLookup=D,e.current.unstable_caches.rows.ids=L,e.current.setState(B=>{const U={idRowsLookup:V,idToIdLookup:D,tree:H,ids:L};return m({},B,{rows:m({},B.rows,U,{groupingResponseBeforeRowHydration:m({},B.rows.groupingResponseBeforeRowHydration,U)})})}),e.current.publishEvent("rowsSet")},[e,t.signature,t.getRowId]),h={getRow:i,getRowModels:u,getRowsCount:f,getAllRowIds:C,setRows:g,setRowIndex:k,updateRows:d,setRowChildrenExpansion:y,getRowNode:p,getRowIndexRelativeToVisibleRows:x,getRowGroupChildren:I,unstable_replaceRows:S},F=l.useCallback(()=>{n.info("Row grouping pre-processing have changed, regenerating the row tree");let _;e.current.unstable_caches.rows.rowsBeforePartialUpdates===t.rows?_=e.current.unstable_caches.rows:_=Cn({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),a(_,!1)},[n,e,t.rows,t.getRowId,t.loading,t.rowCount,a]),R=l.useCallback(_=>{_==="rowTreeCreation"&&F()},[F]),w=l.useCallback(()=>{e.current.unstable_getActiveStrategy("rowTree")!==wi(e)&&F()},[e,F]);Q(e,"activeStrategyProcessorChange",R),Q(e,"strategyAvailabilityChange",w);const v=l.useCallback(()=>{e.current.setState(_=>m({},_,{rows:m({},_.rows,e.current.unstable_applyPipeProcessors("hydrateRows",_.rows.groupingResponseBeforeRowHydration))})),e.current.publishEvent("rowsSet"),e.current.forceUpdate()},[e]);po(e,"hydrateRows",v),we(e,h),l.useEffect(()=>()=>{s.current!==null&&clearTimeout(s.current)},[]);const M=l.useRef(!0);l.useEffect(()=>{if(M.current){M.current=!1;return}const _=e.current.unstable_caches.rows.rowsBeforePartialUpdates===t.rows,T=e.current.unstable_caches.rows.loadingPropBeforePartialUpdates===t.loading,G=e.current.unstable_caches.rows.rowCountPropBeforePartialUpdates===t.rowCount;if(_){T||(e.current.setState(L=>m({},L,{rows:m({},L.rows,{loading:t.loading})})),e.current.unstable_caches.rows.loadingPropBeforePartialUpdates=t.loading,e.current.forceUpdate()),G||(e.current.setState(L=>m({},L,{rows:m({},L.rows,{totalRowCount:Math.max(t.rowCount||0,L.rows.totalRowCount),totalTopLevelRowCount:Math.max(t.rowCount||0,L.rows.totalTopLevelRowCount)})})),e.current.unstable_caches.rows.rowCountPropBeforePartialUpdates=t.rowCount,e.current.forceUpdate());return}n.debug(`Updating all rows, new length ${t.rows.length}`),a(Cn({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),!1)},[t.rows,t.rowCount,t.getRowId,t.loading,n,a,e])},Mm=({ids:e,idRowsLookup:t,idToIdLookup:n,previousTree:o})=>{const r={};for(let s=0;s<e.length;s+=1){const i=e[s];o&&o[i]&&o[i].depth===0&&o[i].parent==null&&!o[i].isPinned?r[i]=o[i]:r[i]={id:i,depth:0,parent:null,groupingKey:"",groupingField:null}}return{groupingName:gn,tree:r,treeDepth:1,idRowsLookup:t,idToIdLookup:n,ids:e}},km=e=>{Co(e,gn,"rowTreeCreation",Mm)};tt(["MUI: You are calling getValue. This method is deprecated and will be removed in the next major version.","Instead, you can access the data from `params.row`."]);function Tm(e){const t=l.useCallback(u=>({field:u,colDef:e.current.getColumn(u)}),[e]),n=l.useCallback((...u)=>e.current.getCellValue(...u),[e]),o=l.useCallback(u=>{const f=e.current.getRow(u);if(!f)throw new Error(`No row with id #${u} found`);return{id:u,columns:e.current.getAllColumns(),row:f,getValue:n}},[e,n]),r=l.useCallback((u,f)=>{const C=e.current.getRow(u),x=e.current.getRowNode(u);if(!C||!x)throw new Error(`No row with id #${u} found`);const y=Xe(e),p=wn(e);return{id:u,field:f,row:C,rowNode:x,value:C[f],colDef:e.current.getColumn(f),cellMode:e.current.getCellMode(u,f),getValue:n,api:e.current,hasFocus:y!==null&&y.field===f&&y.id===u,tabIndex:p&&p.field===f&&p.id===u?0:-1}},[e,n]),s=l.useCallback((u,f)=>{const C=e.current.getColumn(f),x=e.current.getCellValue(u,f),y=e.current.getRow(u),p=e.current.getRowNode(u);if(!y||!p)throw new Error(`No row with id #${u} found`);const I=Xe(e),k=wn(e),S={id:u,field:f,row:y,rowNode:p,colDef:C,cellMode:e.current.getCellMode(u,f),getValue:n,hasFocus:I!==null&&I.field===f&&I.id===u,tabIndex:k&&k.field===f&&k.id===u?0:-1,value:x,formattedValue:x};return C&&C.valueFormatter&&(S.formattedValue=C.valueFormatter({id:u,field:S.field,value:S.value,api:e.current})),S.isEditable=C&&e.current.isCellEditable(S),S},[e,n]),i=l.useCallback((u,f)=>{const C=e.current.getColumn(f);if(!C||!C.valueGetter){const x=e.current.getRow(u);if(!x)throw new Error(`No row with id #${u} found`);return x[f]}return C.valueGetter(r(u,f))},[e,r]),c=l.useCallback(u=>e.current.rootElementRef.current?bc(e.current.rootElementRef.current,u):null,[e]),a=l.useCallback(u=>e.current.rootElementRef.current?wc(e.current.rootElementRef.current,u):null,[e]),g=l.useCallback((u,f)=>e.current.rootElementRef.current?Sc(e.current.rootElementRef.current,{id:u,field:f}):null,[e]);we(e,{getCellValue:i,getCellParams:s,getCellElement:g,getRowParams:o,getRowElement:a,getColumnHeaderParams:t,getColumnHeaderElement:c})}const El=(e,t)=>e==null||Array.isArray(e)?e:t&&t[0]===e?t:[e],Fm=(e,t)=>{var n;return m({},e,{selection:(n=El(t.selectionModel))!=null?n:[]})},_m=(e,t)=>{const n=Me(e,"useGridSelection"),o=l.useMemo(()=>El(t.selectionModel,qe(e.current.state)),[e,t.selectionModel]),r=l.useRef(null);e.current.unstable_registerControlState({stateId:"selection",propModel:o,propOnChange:t.onSelectionModelChange,stateSelector:qe,changeEvent:"selectionChange"});const{checkboxSelection:s,disableMultipleSelection:i,disableSelectionOnClick:c,pagination:a,paginationMode:g,isRowSelectable:d}=t,u=!i||s,f=Tt(e,t),C=l.useCallback(E=>{var b;let $=E;const V=(b=r.current)!=null?b:E,D=e.current.isRowSelected(E);if(D){const H=Wt(e),A=H.findIndex(U=>U===V),B=H.findIndex(U=>U===$);if(A===B)return;A>B?$=H[B+1]:$=H[B-1]}r.current=E,e.current.selectRowRange({startId:V,endId:$},!D)},[e]),x=l.useCallback(E=>{qe(e.current.state)!==E&&(n.debug("Setting selection model"),e.current.setState($=>m({},$,{selection:E})),e.current.forceUpdate())},[e,n]),y=l.useCallback(E=>qe(e.current.state).includes(E),[e]),p=l.useCallback(E=>{if(d&&!d(e.current.getRowParams(E)))return!1;const b=e.current.getRowNode(E);return!((b==null?void 0:b.position)==="footer"||b!=null&&b.isPinned)},[e,d]),I=l.useCallback(()=>Gc(e),[e]),k=l.useCallback((E,b=!0,$=!1)=>{if(e.current.isRowSelectable(E))if(r.current=E,$)n.debug(`Setting selection for row ${E}`),e.current.setSelectionModel(b?[E]:[]);else{n.debug(`Toggling selection for row ${E}`);const D=qe(e.current.state).filter(A=>A!==E);b&&D.push(E),(D.length<2||u)&&e.current.setSelectionModel(D)}},[e,n,u]),S=l.useCallback((E,b=!0,$=!1)=>{n.debug("Setting selection for several rows");const V=E.filter(A=>e.current.isRowSelectable(A));let D;if($)D=b?V:[];else{const A=m({},yn(e));V.forEach(B=>{b?A[B]=B:delete A[B]}),D=Object.values(A)}(D.length<2||u)&&e.current.setSelectionModel(D)},[e,n,u]),h=l.useCallback(({startId:E,endId:b},$=!0,V)=>{if(!e.current.getRow(E)||!e.current.getRow(b))return;n.debug(`Expanding selection from row ${E} to row ${b}`);const D=Wt(e),H=D.indexOf(E),A=D.indexOf(b),[B,U]=H>A?[A,H]:[H,A],j=D.slice(B,U+1);e.current.selectRows(j,$,V)},[e,n]);we(e,{selectRow:k,selectRows:S,selectRowRange:h,setSelectionModel:x,getSelectedRows:I,isRowSelected:y,isRowSelectable:p});const R=l.useCallback(()=>{if(t.keepNonExistentRowsSelected)return;const E=qe(e.current.state),b=Rt(e),$=m({},yn(e));let V=!1;E.forEach(D=>{b[D]||(delete $[D],V=!0)}),V&&e.current.setSelectionModel(Object.values($))},[e,t.keepNonExistentRowsSelected]),w=l.useCallback((E,b)=>{const $=b.metaKey||b.ctrlKey,V=!s&&!$&&!An(b),D=!u||V,H=e.current.isRowSelected(E);D?e.current.selectRow(E,V?!0:!H,!0):e.current.selectRow(E,!H,!1)},[e,u,s]),v=l.useCallback((E,b)=>{var $;if(c)return;const V=($=b.target.closest(`.${O.cell}`))==null?void 0:$.getAttribute("data-field");V===un.field||V===ho||V&&e.current.getColumn(V).type===fo||e.current.getRowNode(E.id).isPinned||(b.shiftKey&&(u||s)?C(E.id):w(E.id,b))},[c,u,s,e,C,w]),M=l.useCallback((E,b)=>{if(u&&b.shiftKey){var $;($=window.getSelection())==null||$.removeAllRanges()}},[u]),_=l.useCallback((E,b)=>{b.nativeEvent.shiftKey?C(E.id):e.current.selectRow(E.id,E.value)},[e,C]),T=l.useCallback(E=>{const $=t.checkboxSelectionVisibleOnly&&t.pagination?Qr(e):Wt(e);e.current.selectRows($,E.value)},[e,t.checkboxSelectionVisibleOnly,t.pagination]),G=l.useCallback((E,b)=>{if(e.current.getCellMode(E.id,E.field)!==ge.Edit&&b.currentTarget.contains(b.target)){if(cn(b.key)&&b.shiftKey){const $=Xe(e);if($&&$.id!==E.id){b.preventDefault();const V=e.current.isRowSelected($.id);if(!u){e.current.selectRow($.id,!V,!0);return}const D=e.current.getRowIndexRelativeToVisibleRows($.id),H=e.current.getRowIndexRelativeToVisibleRows(E.id);let A,B;D>H?V?(A=H,B=D-1):(A=H,B=D):V?(A=D+1,B=H):(A=D,B=H);const U=f.rows.slice(A,B+1).map(j=>j.id);e.current.selectRows(U,!V);return}}if(b.key===" "&&b.shiftKey){b.preventDefault(),w(E.id,b);return}b.key.toLowerCase()==="a"&&(b.ctrlKey||b.metaKey)&&(b.preventDefault(),S(e.current.getAllRowIds(),!0))}},[e,w,S,f.rows,u]);Q(e,"sortedRowsSet",R),Q(e,"rowClick",v),Q(e,"rowSelectionCheckboxChange",_),Q(e,"headerSelectionCheckboxChange",T),Q(e,"cellMouseDown",M),Q(e,"cellKeyDown",G),l.useEffect(()=>{o!==void 0&&e.current.setSelectionModel(o)},[e,o]);const L=o!=null;l.useEffect(()=>{if(L)return;const E=qe(e.current.state);if(p){const b=E.filter($=>p($));b.length<E.length&&e.current.setSelectionModel(b)}},[e,p,L]),l.useEffect(()=>{const E=qe(e.current.state);if(!u&&E.length>1){const{rows:b}=Fn(e,{pagination:a,paginationMode:g}),$=b.reduce((D,{id:H})=>(D[H]=!0,D),{}),V=E.find(D=>{let H=!0;return p&&(H=p(D)),H&&$[D]});e.current.setSelectionModel(V!==void 0?[V]:[])}},[e,u,s,i,p,a,g])},$m={noRowsLabel:"No rows",noResultsOverlayLabel:"No results found.",errorOverlayDefaultLabel:"An error occurred.",toolbarDensity:"Density",toolbarDensityLabel:"Density",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comfortable",toolbarColumns:"Columns",toolbarColumnsLabel:"Select columns",toolbarFilters:"Filters",toolbarFiltersLabel:"Show filters",toolbarFiltersTooltipHide:"Hide filters",toolbarFiltersTooltipShow:"Show filters",toolbarFiltersTooltipActive:e=>e!==1?`${e} active filters`:`${e} active filter`,toolbarQuickFilterPlaceholder:"Search…",toolbarQuickFilterLabel:"Search",toolbarQuickFilterDeleteIconLabel:"Clear",toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Download as CSV",toolbarExportPrint:"Print",toolbarExportExcel:"Download as Excel",columnsPanelTextFieldLabel:"Find column",columnsPanelTextFieldPlaceholder:"Column title",columnsPanelDragIconLabel:"Reorder column",columnsPanelShowAllButton:"Show all",columnsPanelHideAllButton:"Hide all",filterPanelAddFilter:"Add filter",filterPanelDeleteIconLabel:"Delete",filterPanelLinkOperator:"Logic operator",filterPanelOperators:"Operator",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"Columns",filterPanelInputLabel:"Value",filterPanelInputPlaceholder:"Filter value",filterOperatorContains:"contains",filterOperatorEquals:"equals",filterOperatorStartsWith:"starts with",filterOperatorEndsWith:"ends with",filterOperatorIs:"is",filterOperatorNot:"is not",filterOperatorAfter:"is after",filterOperatorOnOrAfter:"is on or after",filterOperatorBefore:"is before",filterOperatorOnOrBefore:"is on or before",filterOperatorIsEmpty:"is empty",filterOperatorIsNotEmpty:"is not empty",filterOperatorIsAnyOf:"is any of",filterValueAny:"any",filterValueTrue:"true",filterValueFalse:"false",columnMenuLabel:"Menu",columnMenuShowColumns:"Show columns",columnMenuFilter:"Filter",columnMenuHideColumn:"Hide",columnMenuUnsort:"Unsort",columnMenuSortAsc:"Sort by ASC",columnMenuSortDesc:"Sort by DESC",columnHeaderFiltersTooltipActive:e=>e!==1?`${e} active filters`:`${e} active filter`,columnHeaderFiltersLabel:"Show filters",columnHeaderSortIconLabel:"Sort",footerRowSelected:e=>e!==1?`${e.toLocaleString()} rows selected`:`${e.toLocaleString()} row selected`,footerTotalRows:"Total Rows:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} of ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Checkbox selection",checkboxSelectionSelectAllRows:"Select all rows",checkboxSelectionUnselectAllRows:"Unselect all rows",checkboxSelectionSelectRow:"Select row",checkboxSelectionUnselectRow:"Unselect row",booleanCellTrueLabel:"yes",booleanCellFalseLabel:"no",actionsCellMore:"more",pinToLeft:"Pin to left",pinToRight:"Pin to right",unpin:"Unpin",treeDataGroupingHeaderName:"Group",treeDataExpand:"see children",treeDataCollapse:"hide children",groupingColumnHeaderName:"Group",groupColumn:e=>`Group by ${e}`,unGroupColumn:e=>`Stop grouping by ${e}`,detailPanelToggle:"Detail panel toggle",expandDetailPanel:"Expand",collapseDetailPanel:"Collapse",MuiTablePagination:{},rowReorderingHeaderName:"Row reordering",aggregationMenuItemHeader:"Aggregation",aggregationFunctionLabelSum:"sum",aggregationFunctionLabelAvg:"avg",aggregationFunctionLabelMin:"min",aggregationFunctionLabelMax:"max",aggregationFunctionLabelSize:"size"},Rm=["sortingOrder"],Dm=l.memo(function(t){const{sortingOrder:n}=t,o=Z(t,Rm),r=te(),[s]=n,i=s==="asc"?r.components.ColumnSortedAscendingIcon:r.components.ColumnSortedDescendingIcon;return i?P(i,m({},o)):null}),Hm=["error","hasError","errorInfo"],Lm=l.forwardRef(function(t,n){const{error:o}=t,r=Z(t,Hm),s=ae(),i=s.current.getLocaleText("errorOverlayDefaultLabel"),c=ee(s,sn);return P(Tn,m({ref:n,sx:{width:"100%",minHeight:2*c}},r,{children:(o==null?void 0:o.message)||i}))}),Om=l.forwardRef(function(t,n){const r=ae().current.getLocaleText("noResultsOverlayLabel");return P(Tn,m({ref:n},t,{children:r}))}),Vm={BooleanCellTrueIcon:pa,BooleanCellFalseIcon:Rn,ColumnMenuIcon:ma,OpenFilterButtonIcon:la,FilterPanelDeleteIcon:Rn,ColumnFilteredIcon:sa,ColumnSelectorIcon:aa,ColumnUnsortedIcon:Dm,ColumnSortedAscendingIcon:oa,ColumnSortedDescendingIcon:ra,ColumnResizeIcon:ca,DensityCompactIcon:ua,DensityStandardIcon:da,DensityComfortableIcon:ga,ExportIcon:ha,MoreActionsIcon:Ca,TreeDataCollapseIcon:No,TreeDataExpandIcon:zo,GroupingCriteriaCollapseIcon:No,GroupingCriteriaExpandIcon:zo,DetailPanelExpandIcon:Gr,DetailPanelCollapseIcon:fa,RowReorderIcon:zr,QuickFilterIcon:ia,QuickFilterClearIcon:Rn},ar=m({},Vm,{BaseCheckbox:Jl,BaseTextField:yr,BaseFormControl:Vt,BaseSelect:vr,BaseSwitch:Cs,BaseButton:Pr,BaseTooltip:jl,BasePopper:Xn,Cell:Bi,SkeletonCell:qa,ColumnHeaderFilterIconButton:Dc,ColumnMenu:zu,ErrorOverlay:Lm,Footer:zd,Header:Nd,Toolbar:null,PreferencesPanel:hd,LoadingOverlay:Bd,NoResultsOverlay:Om,NoRowsOverlay:Ud,Pagination:Wd,FilterPanel:kd,ColumnsPanel:cd,Panel:fd,Row:Jd}),Am=e=>{const{classes:t}=e;return l.useMemo(()=>ue({cellCheckbox:["cellCheckbox"],columnHeaderCheckbox:["columnHeaderCheckbox"]},me,t),[t])},Gm=(e,t)=>{const n={classes:t.classes},o=Am(n),r=l.useCallback(s=>{const i=m({},un,{cellClassName:o.cellCheckbox,headerClassName:o.columnHeaderCheckbox,headerName:e.current.getLocaleText("checkboxSelectionHeaderName")}),c=t.checkboxSelection,a=s.lookup[ft]!=null;return c&&!a?(s.lookup[ft]=i,s.all=[ft,...s.all]):!c&&a?(delete s.lookup[ft],s.all=s.all.filter(g=>g!==ft)):c&&a&&(s.lookup[ft]=m({},i,s.lookup[ft])),s},[e,o,t.checkboxSelection]);Re(e,"hydrateColumns",r)},zm=(e,t)=>{var n,o,r,s;const i=(n=(o=t.sortModel)!=null?o:(r=t.initialState)==null||(s=r.sorting)==null?void 0:s.sortModel)!=null?n:[];return m({},e,{sorting:{sortModel:Jr(i,t.disableMultipleColumnsSorting),sortedRows:[]}})},Nm=(e,t)=>{var n,o;const r=Me(e,"useGridSorting");e.current.unstable_registerControlState({stateId:"sortModel",propModel:t.sortModel,propOnChange:t.onSortModelChange,stateSelector:Je,changeEvent:"sortModelChange"});const s=l.useCallback((w,v)=>{const M=Je(e),_=M.findIndex(G=>G.field===w);let T=[...M];return _>-1?v?T.splice(_,1,v):T.splice(_,1):T=[...M,v],T},[e]),i=l.useCallback((w,v)=>{var M;const T=Je(e).find(L=>L.field===w.field);if(T){var G;const L=v===void 0?Ko((G=w.sortingOrder)!=null?G:t.sortingOrder,T.sort):v;return L==null?void 0:m({},T,{sort:L})}return{field:w.field,sort:v===void 0?Ko((M=w.sortingOrder)!=null?M:t.sortingOrder):v}},[e,t.sortingOrder]),c=l.useCallback(()=>{e.current.setState(w=>{if(t.sortingMode===Dt.server)return r.debug("Skipping sorting rows as sortingMode = server"),m({},w,{sorting:m({},w.sorting,{sortedRows:Pt(w,e.current.instanceId)})});const v=Je(w,e.current.instanceId),M=Zc(v,e),_=e.current.unstable_applyStrategyProcessor("sorting",{sortRowList:M});return m({},w,{sorting:m({},w.sorting,{sortedRows:_})})}),e.current.publishEvent("sortedRowsSet"),e.current.forceUpdate()},[e,r,t.sortingMode]),a=l.useCallback(w=>{Je(e)!==w&&(r.debug("Setting sort model"),e.current.setState(Uo(w,t.disableMultipleColumnsSorting)),e.current.forceUpdate(),e.current.applySorting())},[e,r,t.disableMultipleColumnsSorting]),g=l.useCallback((w,v,M)=>{if(!w.sortable)return;const _=i(w,v);let T;!M||t.disableMultipleColumnsSorting?T=_?[_]:[]:T=s(w.field,_),e.current.setSortModel(T)},[e,s,i,t.disableMultipleColumnsSorting]),d=l.useCallback(()=>Je(e),[e]),u=l.useCallback(()=>lo(e).map(v=>v.model),[e]),f=l.useCallback(()=>ro(e),[e]),C=l.useCallback(w=>e.current.getSortedRowIds().indexOf(w),[e]),x=l.useCallback(w=>e.current.getSortedRowIds()[w],[e]);we(e,{getSortModel:d,getSortedRows:u,getSortedRowIds:f,getRowIndex:C,getRowIdFromRowIndex:x,setSortModel:a,sortColumn:g,applySorting:c});const p=l.useCallback((w,v)=>{var M,_;const T=Je(e);return!v.exportOnlyDirtyModels||t.sortModel!=null||((M=t.initialState)==null||(_=M.sorting)==null?void 0:_.sortModel)!=null||T.length>0?m({},w,{sorting:{sortModel:T}}):w},[e,t.sortModel,(n=t.initialState)==null||(o=n.sorting)==null?void 0:o.sortModel]),I=l.useCallback((w,v)=>{var M;const _=(M=v.stateToRestore.sorting)==null?void 0:M.sortModel;return _==null?w:(e.current.setState(Uo(_,t.disableMultipleColumnsSorting)),m({},w,{callbacks:[...w.callbacks,e.current.applySorting]}))},[e,t.disableMultipleColumnsSorting]),k=l.useCallback(w=>{const v=bt(e);if(!w.sortRowList){const T=[],G=[];return Pt(e).forEach(L=>{v[L].isPinned||(v[L].position==="footer"?G.push(L):T.push(L))}),[...T,...G]}const M=[],_=[];return Object.values(v).forEach(T=>{T.isPinned||(T.position==="footer"?_.push(T.id):M.push(T))}),[...w.sortRowList(M),..._]},[e]);Re(e,"exportState",p),Re(e,"restoreState",I),Co(e,gn,"sorting",k);const S=l.useCallback(({colDef:w},v)=>{const M=v.shiftKey||v.metaKey||v.ctrlKey;g(w,void 0,M)},[g]),h=l.useCallback(({colDef:w},v)=>{Br(v.key)&&!v.ctrlKey&&!v.metaKey&&g(w,void 0,v.shiftKey)},[g]),F=l.useCallback(()=>{const w=Je(e),v=Gt(e);if(w.length>0){const M=w.filter(_=>v[_.field]);M.length<w.length&&e.current.setSortModel(M)}},[e]),R=l.useCallback(w=>{w==="sorting"&&e.current.applySorting()},[e]);Q(e,"columnHeaderClick",S),Q(e,"columnHeaderKeyDown",h),Q(e,"rowsSet",e.current.applySorting),Q(e,"columnsChange",F),Q(e,"activeStrategyProcessorChange",R),dn(()=>{e.current.applySorting()}),l.useEffect(()=>{t.sortModel!==void 0&&e.current.setSortModel(t.sortModel)},[e,t.sortModel])};function cr(e){const{clientHeight:t,scrollTop:n,offsetHeight:o,offsetTop:r}=e,s=r+o;if(o>t)return r;if(s-t>n)return s-t;if(r<n)return r}const Bm=(e,t)=>{const n=Me(e,"useGridScroll"),o=e.current.columnHeadersElementRef,r=e.current.windowRef,s=ee(e,mt),i=l.useCallback(d=>{const u=xn(e),f=Oe(e);if(!(d.rowIndex==null)&&u===0||f.length===0)return!1;n.debug(`Scrolling to cell at row ${d.rowIndex}, col: ${d.colIndex} `);let x={};if(d.colIndex!=null){const k=xt(e);let S;if(typeof d.rowIndex<"u"){var y;const h=(y=s[d.rowIndex])==null?void 0:y.id,F=e.current.unstable_getCellColSpanInfo(h,d.colIndex);F&&!F.spannedByColSpan&&(S=F.cellProps.width)}typeof S>"u"&&(S=f[d.colIndex].computedWidth),x.left=cr({clientHeight:r.current.clientWidth,scrollTop:r.current.scrollLeft,offsetHeight:S,offsetTop:k[d.colIndex]})}if(d.rowIndex!=null){var p,I;const k=Xt(e.current.state),S=Ut(e),h=jt(e),F=t.pagination?d.rowIndex-S*h:d.rowIndex,R=k.positions[F+1]?k.positions[F+1]-k.positions[F]:k.currentPageTotalHeight-k.positions[F],w=((p=r.current.querySelector(`.${O["pinnedRows--top"]}`))==null?void 0:p.clientHeight)||0,v=((I=r.current.querySelector(`.${O["pinnedRows--bottom"]}`))==null?void 0:I.clientHeight)||0;x.top=cr({clientHeight:r.current.clientHeight-w-v,scrollTop:r.current.scrollTop,offsetHeight:R,offsetTop:k.positions[F]})}return x=e.current.unstable_applyPipeProcessors("scrollToIndexes",x,d),typeof x.left!==void 0||typeof x.top!==void 0?(e.current.scroll(x),!0):!1},[n,e,r,t.pagination,s]),c=l.useCallback(d=>{r.current&&d.left!=null&&o.current&&(o.current.scrollLeft=d.left,r.current.scrollLeft=d.left,n.debug(`Scrolling left: ${d.left}`)),r.current&&d.top!=null&&(r.current.scrollTop=d.top,n.debug(`Scrolling top: ${d.top}`)),n.debug("Scrolling, updating container, and viewport")},[r,o,n]),a=l.useCallback(()=>r!=null&&r.current?{top:r.current.scrollTop,left:r.current.scrollLeft}:{top:0,left:0},[r]);we(e,{scroll:c,scrollToIndexes:i,getScrollPosition:a})};function Um(e,t){he(e,"columnHeaderClick",t.onColumnHeaderClick),he(e,"columnHeaderDoubleClick",t.onColumnHeaderDoubleClick),he(e,"columnHeaderOver",t.onColumnHeaderOver),he(e,"columnHeaderOut",t.onColumnHeaderOut),he(e,"columnHeaderEnter",t.onColumnHeaderEnter),he(e,"columnHeaderLeave",t.onColumnHeaderLeave),he(e,"columnOrderChange",t.onColumnOrderChange),he(e,"cellClick",t.onCellClick),he(e,"cellDoubleClick",t.onCellDoubleClick),he(e,"cellKeyDown",t.onCellKeyDown),he(e,"cellFocusOut",t.onCellFocusOut),he(e,"preferencePanelClose",t.onPreferencePanelClose),he(e,"preferencePanelOpen",t.onPreferencePanelOpen),he(e,"menuOpen",t.onMenuOpen),he(e,"menuClose",t.onMenuClose),he(e,"rowDoubleClick",t.onRowDoubleClick),he(e,"rowClick",t.onRowClick),he(e,"componentError",t.onError),he(e,"stateChange",t.onStateChange)}const Km=({content:e,container:t,scrollBarSize:n})=>{const o=e.width>t.width,r=e.height>t.height;let s=!1,i=!1;return(o||r)&&(s=o,i=e.height+(s?n:0)>t.height,i&&(s=e.width+n>t.width)),{hasScrollX:s,hasScrollY:i}};function Wm(e,t){const n=Me(e,"useResizeContainer"),o=l.useRef(!1),r=l.useRef(null),s=l.useRef(null),i=ee(e,Xt),c=ee(e,an),a=l.useCallback(()=>{var p;const I=(p=e.current.rootElementRef)==null?void 0:p.current,k=Mn(e),S=Sl(e);if(!r.current)return;let h;if(t.scrollbarSize!=null)h=t.scrollbarSize;else if(!k||!I)h=0;else{const G=In(I).createElement("div");G.style.width="99px",G.style.height="99px",G.style.position="absolute",G.style.overflow="scroll",G.className="scrollDiv",I.appendChild(G),h=G.offsetWidth-G.clientWidth,I.removeChild(G)}let F,R,w;if(t.autoHeight)w=!1,R=Math.round(k)>r.current.width,F={width:r.current.width,height:i.currentPageTotalHeight+(R?h:0)};else{F={width:r.current.width,height:r.current.height-c};const T=Km({content:{width:Math.round(k),height:i.currentPageTotalHeight},container:{width:F.width,height:F.height-S.top-S.bottom},scrollBarSize:h});w=T.hasScrollY,R=T.hasScrollX}const v={width:F.width-(w?h:0),height:F.height-(R?h:0)},M={viewportOuterSize:F,viewportInnerSize:v,hasScrollX:R,hasScrollY:w,scrollBarSize:h},_=s.current;s.current=M,(M.viewportInnerSize.width!==(_==null?void 0:_.viewportInnerSize.width)||M.viewportInnerSize.height!==(_==null?void 0:_.viewportInnerSize.height))&&e.current.publishEvent("viewportInnerSizeChange",M.viewportInnerSize)},[e,t.scrollbarSize,t.autoHeight,c,i.currentPageTotalHeight]),g=l.useCallback(()=>{a(),e.current.publishEvent("debouncedResize",r.current)},[e,a]),d=l.useCallback(()=>s.current,[]),u=l.useCallback(()=>{const p=e.current.getRootDimensions();if(!p)return 0;const I=Fn(e,{pagination:t.pagination,paginationMode:t.paginationMode});if(t.getRowHeight){const S=e.current.unstable_getRenderContext(),h=S.lastRowIndex-S.firstRowIndex;return Math.min(h-1,I.rows.length)}const k=Math.floor(p.viewportInnerSize.height/sn(e));return Math.min(k,I.rows.length)},[e,t.pagination,t.paginationMode,t.getRowHeight]);we(e,{resize:g,getRootDimensions:d,unstable_getViewportPageSize:u,unstable_updateGridDimensionsRef:a});const C=l.useMemo(()=>Sr(g,60),[g]),x=l.useRef(!0),y=l.useCallback(p=>{r.current=p;const I=/jsdom/.test(window.navigator.userAgent);if(p.height===0&&!o.current&&!t.autoHeight&&!I&&(n.error(["The parent DOM element of the data grid has an empty height.","Please make sure that this element has an intrinsic height.","The grid displays with a height of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join(`
`)),o.current=!0),p.width===0&&!o.current&&!I&&(n.error(["The parent DOM element of the data grid has an empty width.","Please make sure that this element has an intrinsic width.","The grid displays with a width of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join(`
`)),o.current=!0),x.current){g(),x.current=!1;return}C()},[t.autoHeight,C,n,g]);Ye(()=>a(),[a]),he(e,"sortedRowsSet",a),he(e,"pageChange",a),he(e,"pageSizeChange",a),he(e,"columnsChange",a),Q(e,"resize",y),he(e,"debouncedResize",t.onResize)}const jm=e=>m({},e,{rowsMeta:{currentPageTotalHeight:0,positions:[]}}),qm=(e,t)=>{const{getRowHeight:n,getRowSpacing:o,getEstimatedRowHeight:r}=t,s=l.useRef({}),i=l.useRef(-1),c=l.useRef(!1),a=ee(e,sn),g=ee(e,ln),d=ee(e,zt),u=ee(e,oo),f=Tt(e,t),C=ee(e,rn),x=l.useCallback(()=>{var M,_;c.current=!1;const T=_i(e.current.state,e.current.instanceId),G=b=>{s.current[b.id]||(s.current[b.id]={sizes:{baseCenter:a},isResized:!1,autoHeight:!1,needsFirstMeasurement:!0});const{isResized:$,needsFirstMeasurement:V,sizes:D}=s.current[b.id];let H=a;const A=D.baseCenter;if($)H=A;else if(n){const Y=n(m({},b,{densityFactor:T}));if(Y==="auto"){if(V){const re=r?r(m({},b,{densityFactor:T})):a;H=re??a}else H=A;c.current=!0,s.current[b.id].autoHeight=!0}else H=Y??a,s.current[b.id].needsFirstMeasurement=!1,s.current[b.id].autoHeight=!1}else s.current[b.id].needsFirstMeasurement=!1;const B=Object.entries(D).reduce((Y,[re,K])=>(/^base[A-Z]/.test(re)&&(Y[re]=K),Y),{}),U=m({},B,{baseCenter:H});if(o){var j,q;const Y=e.current.getRowIndexRelativeToVisibleRows(b.id),re=o(m({},b,{isFirstVisible:Y===0,isLastVisible:Y===f.rows.length-1,indexRelativeToCurrentPage:Y}));U.spacingTop=(j=re.top)!=null?j:0,U.spacingBottom=(q=re.bottom)!=null?q:0}const oe=e.current.unstable_applyPipeProcessors("rowHeight",U,b);return s.current[b.id].sizes=oe,oe},L=[],E=f.rows.reduce((b,$)=>{L.push(b);let V=0,D=0;const H=G($);return Object.entries(H).forEach(([A,B])=>{/^base[A-Z]/.test(A)?V=B>V?B:V:D+=B}),b+V+D},0);C==null||(M=C.top)==null||M.forEach(b=>{G(b)}),C==null||(_=C.bottom)==null||_.forEach(b=>{G(b)}),e.current.setState(b=>m({},b,{rowsMeta:{currentPageTotalHeight:E,positions:L}})),c.current||(i.current=1/0),e.current.forceUpdate()},[e,f.rows,a,n,o,r,C]),y=l.useCallback(M=>{const _=s.current[M];return _?_.sizes.baseCenter:a},[a]),p=M=>{var _;return(_=s.current[M])==null?void 0:_.sizes},I=l.useCallback((M,_)=>{s.current[M].sizes.baseCenter=_,s.current[M].isResized=!0,s.current[M].needsFirstMeasurement=!1,x()},[x]),k=l.useMemo(()=>Sr(x),[x]),S=l.useCallback((M,_,T)=>{if(!s.current[M]||!s.current[M].autoHeight)return;const G=s.current[M].sizes[`base${Fe(T)}`]!==_;s.current[M].needsFirstMeasurement=!1,s.current[M].sizes[`base${Fe(T)}`]=_,G&&k()},[k]),h=l.useCallback(M=>{var _;return((_=s.current[M])==null?void 0:_.autoHeight)||!1},[]),F=l.useCallback(()=>i.current,[]),R=l.useCallback(M=>{c.current&&M>i.current&&(i.current=M)},[]),w=l.useCallback(()=>{s.current={},x()},[x]);l.useEffect(()=>{x()},[a,g,d,u,x]),po(e,"rowHeight",x),we(e,{unstable_getLastMeasuredRowIndex:F,unstable_setLastMeasuredRowIndex:R,unstable_rowHasAutoHeight:h,unstable_getRowHeight:y,unstable_getRowInternalSizes:p,unstable_setRowHeight:I,unstable_storeRowHeightMeasurement:S,resetRowHeights:w})},Ym=e=>{const t=l.useCallback((r={})=>e.current.unstable_applyPipeProcessors("exportState",{},r),[e]),n=l.useCallback(r=>{e.current.unstable_applyPipeProcessors("restoreState",{callbacks:[]},{stateToRestore:r}).callbacks.forEach(i=>{i()}),e.current.forceUpdate()},[e]);we(e,{exportState:t,restoreState:n})},Qm=e=>{const t=l.useRef({}),n=l.useCallback((a,g,d)=>{const u=t.current;u[a]||(u[a]={}),u[a][g]=d},[]),o=l.useCallback((a,g)=>{var d;return(d=t.current[a])==null?void 0:d[g]},[]),r=l.useCallback(a=>{const{columnIndex:g,rowId:d,minFirstColumnIndex:u,maxLastColumnIndex:f,columns:C}=a,x=C.length,y=C[g],p=typeof y.colSpan=="function"?y.colSpan(e.current.getCellParams(d,y.field)):y.colSpan;if(!p||p===1)return n(d,g,{spannedByColSpan:!1,cellProps:{colSpan:1,width:y.computedWidth}}),{colSpan:1};let I=y.computedWidth;for(let k=1;k<p;k+=1){const S=g+k;if(S>=u&&S<f){const h=C[S];I+=h.computedWidth,n(d,g+k,{spannedByColSpan:!0,rightVisibleCellIndex:Math.min(g+p,x-1),leftVisibleCellIndex:g})}n(d,g,{spannedByColSpan:!1,cellProps:{colSpan:p,width:I}})}return{colSpan:p}},[e,n]),s=l.useCallback(({rowId:a,minFirstColumn:g,maxLastColumn:d,columns:u})=>{for(let f=g;f<d;f+=1){const C=r({columnIndex:f,rowId:a,minFirstColumnIndex:g,maxLastColumnIndex:d,columns:u});C.colSpan>1&&(f+=C.colSpan-1)}},[r]);we(e,{unstable_getCellColSpanInfo:o,unstable_calculateColSpan:s});const c=l.useCallback(()=>{t.current={}},[]);Q(e,"columnOrderChange",c)},Jm=(e,t)=>{var n;const o=l.useCallback(r=>{var s;if(!((s=t.experimentalFeatures)!=null&&s.columnGrouping))return r;const i=fl(t.columnGroupingModel);return r.all.forEach(c=>{var a,g;const d=(a=i[c])!=null?a:[],u=r.lookup[c];_g(u)&&gt(d,u==null?void 0:u.groupPath)||(r.lookup[c]=m({},r.lookup[c],{groupPath:(g=i[c])!=null?g:[]}))}),r},[t.columnGroupingModel,(n=t.experimentalFeatures)==null?void 0:n.columnGrouping]);Re(e,"hydrateColumns",o)},Xm=e=>{var t,n;const o=yg(void 0,e);return Jm(o,e),Gm(o,e),km(o),We(Fm,o,e),We(Mg,o,e),We($g,o,e),We(Im,o,e),We((t=e.experimentalFeatures)!=null&&t.newEditingApi?Pm:mm,o,e),We(tm,o,e),We(zm,o,e),We(cm,o,e),We(Zg,o,e),We(Dg,o,e),We(im,o,e),We(jm,o,e),We(Ig,o,e),rm(o,e),_m(o,e),kg(o,e),xm(o,e),Tm(o),Qm(o),Rg(o,e),((n=e.experimentalFeatures)!=null&&n.newEditingApi?Em:fm)(o,e),nm(o,e),um(o,e),em(o,e),Nm(o,e),Hg(o,e),am(o,e),qm(o,e),Bm(o,e),xg(o),Gg(o),Bg(o,e),Eg(o),Wm(o,e),Um(o,e),Ym(o),o},Zm={apiRef:void 0,disableMultipleColumnsFiltering:!0,disableMultipleColumnsSorting:!0,disableMultipleSelection:!0,throttleRowsMs:void 0,hideFooterRowCount:!1,pagination:!0,checkboxSelectionVisibleOnly:!1,disableColumnReorder:!0,disableColumnResize:!0,keepColumnPositionIfDraggedOutside:!1,signature:"DataGrid"},ef=100,tf={autoHeight:!1,autoPageSize:!1,checkboxSelection:!1,checkboxSelectionVisibleOnly:!1,columnBuffer:3,rowBuffer:3,columnThreshold:3,rowThreshold:3,density:Qt.Standard,disableExtendRowFullWidth:!1,disableColumnFilter:!1,disableColumnMenu:!1,disableColumnSelector:!1,disableDensitySelector:!1,disableMultipleColumnsFiltering:!1,disableMultipleSelection:!1,disableMultipleColumnsSorting:!1,disableSelectionOnClick:!1,disableVirtualization:!1,disableIgnoreModificationsIfProcessingProps:!1,editMode:Le.Cell,filterMode:Dt.client,headerHeight:56,hideFooter:!1,hideFooterPagination:!1,hideFooterRowCount:!1,hideFooterSelectedRowCount:!1,logger:console,logLevel:"error",pagination:!1,paginationMode:Dt.client,rowHeight:52,rowsPerPageOptions:[25,50,100],rowSpacingType:"margin",showCellRightBorder:!1,showColumnRightBorder:!1,sortingOrder:["asc","desc",null],sortingMode:Dt.client,throttleRowsMs:0,disableColumnReorder:!1,disableColumnResize:!1,keepNonExistentRowsSelected:!1,keepColumnPositionIfDraggedOutside:!1},nf=e=>{if(e.pageSize>ef)throw new Error("'props.pageSize' cannot exceed 100 in DataGrid.");const t=on({props:e,name:"MuiDataGrid"}),n=l.useMemo(()=>m({},$m,t.localeText),[t.localeText]),o=l.useMemo(()=>{const r=t.components;if(!r)return m({},ar);const s={};return Object.entries(ar).forEach(([i,c])=>{s[i]=r[i]===void 0?c:r[i]}),s},[t.components]);return l.useMemo(()=>m({},tf,t,{localeText:n,components:o},Zm),[t,n,o])},of=["className"],rf=e=>{const{classes:t}=e;return ue({root:["virtualScroller"]},me,t)},lf=ce("div",{name:"MuiDataGrid",slot:"VirtualScroller",overridesResolver:(e,t)=>t.virtualScroller})({overflow:"auto",position:"relative","@media print":{overflow:"hidden"}}),sf=l.forwardRef(function(t,n){const{className:o}=t,r=Z(t,of),s=te(),i=rf(s);return P(lf,m({ref:n,className:de(i.root,o),ownerState:s},r))}),af=["className","style"],cf=e=>{const{classes:t,overflowedContent:n}=e;return ue({root:["virtualScrollerContent",n&&"virtualScrollerContent--overflowed"]},me,t)},uf=ce("div",{name:"MuiDataGrid",slot:"VirtualScrollerContent",overridesResolver:(e,t)=>t.virtualScrollerContent})({}),df=l.forwardRef(function(t,n){const{className:o,style:r}=t,s=Z(t,af),i=te(),c=m({},i,{overflowedContent:!i.autoHeight&&(r==null?void 0:r.minHeight)==="auto"}),a=cf(c);return P(uf,m({ref:n,className:de(a.root,o),ownerState:c,style:r},s))}),gf=["className"],mf=e=>{const{classes:t}=e;return ue({root:["virtualScrollerRenderZone"]},me,t)},ff=ce("div",{name:"MuiDataGrid",slot:"VirtualScrollerRenderZone",overridesResolver:(e,t)=>t.virtualScrollerRenderZone})({position:"absolute",display:"flex",flexDirection:"column"}),hf=l.forwardRef(function(t,n){const{className:o}=t,r=Z(t,gf),s=te(),i=mf(s);return P(ff,m({ref:n,className:de(i.root,o),ownerState:s},r))}),pf=["style"];function Ht(e,t,n=0,o=t.length){if(t.length<=0)return-1;if(n>=o)return n;const r=n+Math.floor((o-n)/2),s=t[r];return e<=s?Ht(e,t,n,r):Ht(e,t,r+1,o)}function Cf(e,t,n){let o=1;for(;n<t.length&&t[n]<e;)n+=o,o*=2;return Ht(e,t,Math.floor(n/2),Math.min(n,t.length))}const Ct=({firstIndex:e,lastIndex:t,buffer:n,minFirstIndex:o,maxLastIndex:r})=>[Ot(e-n,o,r),Ot(t+n,o,r)],bf=(e,t)=>e===t?!0:e.firstRowIndex===t.firstRowIndex&&e.lastRowIndex===t.lastRowIndex&&e.firstColumnIndex===t.firstColumnIndex&&e.lastColumnIndex===t.lastColumnIndex,wf=e=>{var t,n;const o=ae(),r=te(),s=ee(o,Oe),{ref:i,disableVirtualization:c,onRenderZonePositioning:a,renderZoneMinColumnIndex:g=0,renderZoneMaxColumnIndex:d=s.length,getRowProps:u}=e,f=ee(o,xt),C=ee(o,Mn),x=ee(o,sn),y=ee(o,Xe),p=ee(o,wn),I=ee(o,Xt),k=ee(o,Pe),S=ee(o,yn),h=Tt(o,r),F=l.useRef(null),R=l.useRef(null),w=Mt(i,R),[v,M]=l.useState(null),_=l.useRef(v),T=l.useRef({top:0,left:0}),[G,L]=l.useState({width:null,height:null}),E=l.useRef(C),b=l.useCallback(K=>{var J,N;const X=o.current.unstable_getLastMeasuredRowIndex();let ie=X===1/0;(J=h.range)!=null&&J.lastRowIndex&&!ie&&(ie=X>=h.range.lastRowIndex);const fe=Ot(X-(((N=h.range)==null?void 0:N.firstRowIndex)||0),0,I.positions.length);return ie||I.positions[fe]>=K?Ht(K,I.positions):Cf(K,I.positions,fe)},[o,(t=h.range)==null?void 0:t.firstRowIndex,(n=h.range)==null?void 0:n.lastRowIndex,I.positions]),$=l.useCallback(()=>{if(c)return{firstRowIndex:0,lastRowIndex:h.rows.length,firstColumnIndex:0,lastColumnIndex:s.length};const{top:K,left:J}=T.current,N=Math.min(b(K),I.positions.length-1),X=r.autoHeight?N+h.rows.length:b(K+G.height);let ie=!1,fe=0,Se=f.length;const[W,le]=Ct({firstIndex:N,lastIndex:X,minFirstIndex:0,maxLastIndex:h.rows.length,buffer:r.rowBuffer});for(let se=W;se<le&&!ie;se+=1){const Ce=h.rows[se];ie=o.current.unstable_rowHasAutoHeight(Ce.id)}return ie||(fe=Ht(J,f),Se=Ht(J+G.width,f)),{firstRowIndex:N,lastRowIndex:X,firstColumnIndex:fe,lastColumnIndex:Se}},[c,b,I.positions.length,r.autoHeight,r.rowBuffer,h.rows,f,s.length,o,G]);Ye(()=>{c?F.current.style.transform="translate3d(0px, 0px, 0px)":(R.current.scrollLeft=0,R.current.scrollTop=0)},[c]),Ye(()=>{L({width:R.current.clientWidth,height:R.current.clientHeight})},[I.currentPageTotalHeight]);const V=l.useCallback(K=>{L({width:K.width,height:K.height})},[]);Q(o,"resize",V);const D=l.useCallback(K=>{const[J,N]=Ct({firstIndex:K.firstRowIndex,lastIndex:K.lastRowIndex,minFirstIndex:0,maxLastIndex:h.rows.length,buffer:r.rowBuffer}),[X]=Ct({firstIndex:K.firstColumnIndex,lastIndex:K.lastColumnIndex,minFirstIndex:g,maxLastIndex:d,buffer:r.columnBuffer}),ie=zn({firstColumnToRender:X,apiRef:o,firstRowToRender:J,lastRowToRender:N,visibleRows:h.rows}),fe=Xt(o.current.state).positions[J],Se=xt(o)[ie];F.current.style.transform=`translate3d(${Se}px, ${fe}px, 0px)`,typeof a=="function"&&a({top:fe,left:Se})},[o,h.rows,a,g,d,r.columnBuffer,r.rowBuffer]),H=l.useCallback(K=>{if(_.current&&bf(K,_.current)){D(K);return}M(K),D(K);const[J,N]=Ct({firstIndex:K.firstRowIndex,lastIndex:K.lastRowIndex,minFirstIndex:0,maxLastIndex:h.rows.length,buffer:r.rowBuffer});o.current.publishEvent("renderedRowsIntervalChange",{firstRowToRender:J,lastRowToRender:N}),_.current=K},[o,M,_,h.rows.length,r.rowBuffer,D]);Ye(()=>{if(G.width==null)return;const K=$();H(K);const{top:J,left:N}=T.current,X={top:J,left:N,renderContext:K};o.current.publishEvent("rowsScroll",X)},[o,$,G.width,H]);const A=K=>{const{scrollTop:J,scrollLeft:N}=K.currentTarget;if(T.current.top=J,T.current.left=N,N<0||J<0||!_.current)return;const X=c?_.current:$(),ie=Math.abs(X.firstRowIndex-_.current.firstRowIndex),fe=Math.abs(X.lastRowIndex-_.current.lastRowIndex),Se=Math.abs(X.firstColumnIndex-_.current.firstColumnIndex),W=Math.abs(X.lastColumnIndex-_.current.lastColumnIndex),le=ie>=r.rowThreshold||fe>=r.rowThreshold||Se>=r.columnThreshold||W>=r.columnThreshold||E.current!==C;o.current.publishEvent("rowsScroll",{top:J,left:N,renderContext:le?X:_.current},K),le&&(Er.flushSync(()=>{H(X)}),E.current=C)},B=K=>{o.current.publishEvent("virtualScrollerWheel",{},K)},U=K=>{o.current.publishEvent("virtualScrollerTouchMove",{},K)},j=(K={renderContext:v})=>{const{renderContext:J,minFirstColumn:N=g,maxLastColumn:X=d,availableSpace:ie=G.width,rowIndexOffset:fe=0,position:Se="center"}=K;if(!J||ie==null)return null;const W=c?0:r.rowBuffer,le=c?0:r.columnBuffer,[se,Ce]=Ct({firstIndex:J.firstRowIndex,lastIndex:J.lastRowIndex,minFirstIndex:0,maxLastIndex:h.rows.length,buffer:W}),ve=[];if(K.rows)K.rows.forEach(Ie=>{ve.push(Ie),o.current.unstable_calculateColSpan({rowId:Ie.id,minFirstColumn:N,maxLastColumn:X,columns:s})});else{if(!h.range)return null;for(let Ie=se;Ie<Ce;Ie+=1){const $e=h.rows[Ie];ve.push($e),o.current.unstable_calculateColSpan({rowId:$e.id,minFirstColumn:N,maxLastColumn:X,columns:s})}}const[Ue,Ge]=Ct({firstIndex:J.firstColumnIndex,lastIndex:J.lastColumnIndex,minFirstIndex:N,maxLastIndex:X,buffer:le}),Ke=zn({firstColumnToRender:Ue,apiRef:o,firstRowToRender:se,lastRowToRender:Ce,visibleRows:h.rows}),ye=s.slice(Ke,Ge),_e=[];for(let Ie=0;Ie<ve.length;Ie+=1){var it,xe;const{id:$e,model:ze}=ve[Ie],mn=se+Ie===h.rows.length-1,ke=o.current.unstable_rowHasAutoHeight($e)?"auto":o.current.unstable_getRowHeight($e);let Te;S[$e]==null?Te=!1:Te=o.current.isRowSelectable($e),_e.push(P(r.components.Row,m({row:ze,rowId:$e,rowHeight:ke,cellFocus:y,cellTabIndex:p,editRowsState:k,renderedColumns:ye,visibleColumns:s,firstColumnToRender:Ke,lastColumnToRender:Ge,selected:Te,index:fe+((h==null||(it=h.range)==null?void 0:it.firstRowIndex)||0)+se+Ie,containerWidth:ie,isLastVisible:mn,position:Se},typeof u=="function"?u($e,ze):{},(xe=r.componentsProps)==null?void 0:xe.row),$e))}return _e},q=G.width&&C>G.width,oe=l.useMemo(()=>{const K=Math.max(I.currentPageTotalHeight,1);let J=!1;R!=null&&R.current&&K<=(R==null?void 0:R.current.clientHeight)&&(J=!0);const N={width:q?C:"auto",height:K,minHeight:J?"100%":"auto"};return r.autoHeight&&h.rows.length===0&&(N.height=2*x),N},[R,C,I.currentPageTotalHeight,h.rows.length,q,r.autoHeight,x]);l.useEffect(()=>{o.current.publishEvent("virtualScrollerContentSizeChange")},[o,oe]),r.autoHeight&&h.rows.length===0&&(oe.height=2*x);const Y={};q||(Y.overflowX="hidden"),r.autoHeight&&(Y.overflowY="hidden");const re=l.useCallback(()=>_.current,[]);return o.current.unstable_getRenderContext=re,{renderContext:v,updateRenderZonePosition:D,getRows:j,getRootProps:(K={})=>{let{style:J={}}=K,N=Z(K,pf);return m({ref:w,onScroll:A,onWheel:B,onTouchMove:U,style:m({},J,Y)},N)},getContentProps:({style:K={}}={})=>({style:m({},K,oe)}),getRenderZoneProps:()=>({ref:F})}},Sf=["className","disableVirtualization"],vf=l.forwardRef(function(t,n){const{className:o,disableVirtualization:r}=t,s=Z(t,Sf),{getRootProps:i,getContentProps:c,getRenderZoneProps:a,getRows:g}=wf({ref:n,disableVirtualization:r});return P(sf,m({className:o},i(s),{children:P(df,m({},c(),{children:P(hf,m({},a(),{children:g()}))}))}))}),yf=e=>{const{classes:t,headerAlign:n,isDragging:o,showRightBorder:r,showColumnBorder:s,groupId:i}=e;return ue({root:["columnHeader",n==="left"&&"columnHeader--alignLeft",n==="center"&&"columnHeader--alignCenter",n==="right"&&"columnHeader--alignRight",o&&"columnHeader--moving",r&&"withBorder",s&&"columnHeader--showColumnBorder",i===null?"columnHeader--emptyGroup":"columnHeader--filledGroup"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer"],titleContainerContent:["columnHeaderTitleContainerContent"]},me,t)};function Pf(e){var t,n;const{groupId:o,width:r,depth:s,maxDepth:i,fields:c,height:a,colIndex:g,isLastColumn:d,extendRowFullWidth:u}=e,f=te(),C=ae(),x=ee(C,gl),{hasScrollX:y,hasScrollY:p}=(t=C.current.getRootDimensions())!=null?t:{hasScrollX:!1,hasScrollY:!1},I=o?x[o]:{},{headerName:k=o??"",description:S="",headerAlign:h=void 0}=I;let F;const R=o&&((n=x[o])==null?void 0:n.renderHeaderGroup),w={groupId:o,headerName:k,description:S,depth:s,maxDepth:i,fields:c,colIndex:g,isLastColumn:d};o&&R&&(F=R(w));const M=d?!(d&&y&&!p)&&!u:f.showColumnRightBorder,_=f.showColumnRightBorder,T=m({},e,{classes:f.classes,showRightBorder:M,showColumnBorder:_,headerAlign:h,depth:s,isDragging:!1}),G=k??o,L=De(),E=o===null?`empty-group-cell-${L}`:o,b=yf(T),$=typeof I.headerClassName=="function"?I.headerClassName(w):I.headerClassName;return P(Yr,{classes:b,columnMenuOpen:!1,colIndex:g,height:a,isResizing:!1,sortDirection:null,hasFocus:!1,tabIndex:-1,isDraggable:!1,headerComponent:F,headerClassName:$,description:S,elementId:E,width:r,columnMenuIconButton:null,columnTitleIconButtons:null,resizable:!1,label:G,"aria-colspan":c.length,"data-fields":`|-${c.join("-|-")}-|`,disableHeaderSeparator:!0})}const ur=ce("div",{name:"MuiDataGrid",slot:"ColumnHeaderRow",overridesResolver:(e,t)=>t.columnHeaderRow})(()=>({display:"flex"}));function Ef(e){return!!e.target}const If=e=>{const{innerRef:t,minColumnIndex:n=0}=e,[o,r]=l.useState(""),[s,i]=l.useState(""),c=ae(),a=ee(c,Oe),g=ee(c,xt),d=ee(c,Vr),u=ee(c,wn),f=ee(c,Ai),C=ee(c,Dr),x=ee(c,io),y=ee(c,an),p=ee(c,Ti),I=ee(c,yi),k=ee(c,dl),S=te(),h=l.useRef(null),F=Mt(t,h),[R,w]=l.useState(null),v=l.useRef(R),M=l.useRef(0),_=Tt(c,S);l.useEffect(()=>{c.current.columnHeadersContainerElementRef.current.scrollLeft=0},[c]);const T=l.useRef(Tr(Vu,{equalityCheck:(j,q)=>["firstColumnIndex","minColumnIndex","columnBuffer"].every(oe=>j[oe]===q[oe])})),G=l.useCallback(j=>{const[q,oe]=Ct({firstIndex:j.firstRowIndex,lastIndex:j.lastRowIndex,minFirstIndex:0,maxLastIndex:_.rows.length,buffer:S.rowBuffer}),Y=T.current({firstColumnIndex:j.firstColumnIndex,minColumnIndex:n,columnBuffer:S.columnBuffer,firstRowToRender:q,lastRowToRender:oe,apiRef:c,visibleRows:_.rows}),re=Y>0?M.current-g[Y]:M.current;h.current.style.transform=`translate3d(${-re}px, 0px, 0px)`},[g,n,S.columnBuffer,c,_.rows,S.rowBuffer]);l.useLayoutEffect(()=>{R&&G(R)},[R,G]);const L=l.useCallback(({left:j,renderContext:q=null},oe)=>{var Y,re;if(!h.current||M.current===j&&((Y=v.current)==null?void 0:Y.firstColumnIndex)===(q==null?void 0:q.firstColumnIndex)&&((re=v.current)==null?void 0:re.lastColumnIndex)===(q==null?void 0:q.lastColumnIndex))return;M.current=j;let K=!1;q!==v.current||!v.current?(Ef(oe)?(Er.flushSync(()=>{w(q)}),K=!0):w(q),v.current=q):K=!0,q&&K&&G(q)},[G]),E=l.useCallback(j=>i(j.field),[]),b=l.useCallback(()=>i(""),[]),$=l.useCallback(j=>r(j.field),[]),V=l.useCallback(()=>r(""),[]);Q(c,"columnResizeStart",E),Q(c,"columnResizeStop",b),Q(c,"columnHeaderDragStart",$),Q(c,"columnHeaderDragEnd",V),Q(c,"rowsScroll",L);const D=j=>{const{renderContext:q=R,minFirstColumn:oe=n,maxLastColumn:Y=a.length}=j||{};if(!q)return null;const[re,K]=Ct({firstIndex:q.firstRowIndex,lastIndex:q.lastRowIndex,minFirstIndex:0,maxLastIndex:_.rows.length,buffer:S.rowBuffer}),J=T.current({firstColumnIndex:q.firstColumnIndex,minColumnIndex:oe,columnBuffer:S.columnBuffer,apiRef:c,firstRowToRender:re,lastRowToRender:K,visibleRows:_.rows}),N=Math.min(q.lastColumnIndex+S.columnBuffer,Y);return{renderedColumns:a.slice(J,N),firstColumnToRender:J,lastColumnToRender:N,minFirstColumn:oe,maxLastColumn:Y}},H=(j,q={})=>{const oe=D(j);if(oe==null)return null;const{renderedColumns:Y,firstColumnToRender:re}=oe,K=[];for(let J=0;J<Y.length;J+=1){const N=Y[J],X=re+J,ie=X===0,fe=!(d===null&&u===null),Se=d!==null&&d.field===N.field||ie&&!fe?0:-1,W=f!==null&&f.field===N.field,le=k.open&&k.field===N.field;K.push(P($c,m({},I[N.field],{columnMenuOpen:le,filterItemsCounter:p[N.field]&&p[N.field].length,headerHeight:C,isDragging:N.field===o,column:N,colIndex:X,isResizing:s===N.field,isLastColumn:X===a.length-1,extendRowFullWidth:!S.disableExtendRowFullWidth,hasFocus:W,tabIndex:Se},q),N.field))}return P(ur,{role:"row","aria-rowindex":x+1,ownerState:S,children:K})},A=(j=[],q)=>j.slice(0,q+1),B=j=>{if(x===0)return null;const q=D(j);if(q==null||q.renderedColumns.length===0)return null;const{renderedColumns:oe,firstColumnToRender:Y,lastColumnToRender:re,maxLastColumn:K}=q,J=[],N=[];for(let ye=0;ye<x;ye+=1){var X,ie,fe;const _e=[];let it=0,xe=Y-1;const Ie=(X=a[Y])==null||(ie=X.groupPath)==null?void 0:ie[ye],$e=A((fe=a[Y])==null?void 0:fe.groupPath,ye);for(;Ie!==null&&xe>=n&&(Se=a[xe])!=null&&Se.groupPath&&gt(A((W=a[xe])==null?void 0:W.groupPath,ye),$e);){var Se,W,le;const ke=a[xe];if(it+=(le=ke.computedWidth)!=null?le:0,_e.length===0){var se;_e.push({width:(se=ke.computedWidth)!=null?se:0,fields:[ke.field],groupId:Ie,groupParents:$e,colIndex:xe})}else{var Ce;_e[0].width+=(Ce=ke.computedWidth)!=null?Ce:0,_e[0].fields.push(ke.field),_e[0].colIndex=xe}xe-=1}const ze=oe.reduce((ke,Te,wo)=>{var So;const Qe=ke[ke.length-1];if(Te.groupPath&&Te.groupPath.length>ye){var vo;if(Qe&&Qe.groupId===Te.groupPath[ye]){var yo;return[...ke.slice(0,ke.length-1),m({},Qe,{width:Qe.width+((yo=Te.computedWidth)!=null?yo:0),fields:[...Qe.fields,Te.field]})]}return[...ke,{groupId:Te.groupPath[ye],groupParents:A(Te.groupPath,ye),width:(vo=Te.computedWidth)!=null?vo:0,fields:[Te.field],colIndex:Y+wo}]}if(Qe&&Qe.groupId===null&&gt(A(Te.groupPath,ye),Qe.groupParents)){var Po;return[...ke.slice(0,ke.length-1),m({},Qe,{width:Qe.width+((Po=Te.computedWidth)!=null?Po:0),fields:[...Qe.fields,Te.field]})]}return[...ke,{groupId:null,groupParents:A(Te.groupPath,ye),width:(So=Te.computedWidth)!=null?So:0,fields:[Te.field],colIndex:Y+wo}]},_e);xe=re;const mn=ze[ze.length-1].groupId;for(;mn!==null&&xe<K&&(ve=a[xe])!=null&&ve.groupPath&&((Ue=a[xe])==null||(Ge=Ue.groupPath)==null?void 0:Ge[ye])===mn;){var ve,Ue,Ge,Ke;const ke=a[xe];ze[ze.length-1].width+=(Ke=ke.computedWidth)!=null?Ke:0,ze[ze.length-1].fields.push(ke.field),xe+=1}N.push({leftOverflow:it,elements:[...ze]})}return N.forEach((ye,_e)=>{J.push(P(ur,{style:{height:`${C}px`,transform:`translateX(-${ye.leftOverflow}px)`},role:"row","aria-rowindex":_e+1,ownerState:S,children:ye.elements.map(({groupId:it,width:xe,fields:Ie,colIndex:$e},ze)=>P(Pf,{groupId:it,width:xe,fields:Ie,colIndex:$e,depth:_e,isLastColumn:$e===a.length-Ie.length,extendRowFullWidth:!S.disableExtendRowFullWidth,maxDepth:N.length,height:C},ze))},_e))}),J},U={minHeight:y,maxHeight:y,lineHeight:`${C}px`};return{renderContext:R,getColumnHeaders:H,getColumnGroupHeaders:B,isDragging:!!o,getRootProps:(j={})=>m({style:U},j),getInnerProps:()=>({ref:F,role:"rowgroup"})}},xf=["className"],Mf=e=>{const{classes:t}=e;return ue({root:["columnHeaders"]},me,t)},kf=ce("div",{name:"MuiDataGrid",slot:"ColumnHeaders",overridesResolver:(e,t)=>t.columnHeaders})(({theme:e})=>({position:"absolute",top:0,left:0,right:0,overflow:"hidden",display:"flex",alignItems:"center",boxSizing:"border-box",borderBottom:`1px solid ${e.palette.mode==="light"?tn(Ve(e.palette.divider,1),.88):nn(Ve(e.palette.divider,1),.68)}`,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius})),Tf=l.forwardRef(function(t,n){const{className:o}=t,r=Z(t,xf),s=te(),i=Mf(s);return P(kf,m({ref:n,className:de(o,i.root),ownerState:s},r))}),Ff=["isDragging","className"],_f=e=>{const{isDragging:t,hasScrollX:n,classes:o}=e;return ue({root:["columnHeadersInner",t&&"columnHeaderDropZone",n&&"columnHeadersInner--scrollable"]},me,o)},$f=ce("div",{name:"MuiDataGrid",slot:"columnHeadersInner",overridesResolver:(e,t)=>[{[`&.${O.columnHeaderDropZone}`]:t.columnHeaderDropZone},t.columnHeadersInner]})(()=>({display:"flex",alignItems:"flex-start",flexDirection:"column",[`&.${O.columnHeaderDropZone} .${O.columnHeaderDraggableContainer}`]:{cursor:"move"},[`&.${O["columnHeadersInner--scrollable"]} .${O.columnHeader}:last-child`]:{borderRight:"none"}})),Rf=l.forwardRef(function(t,n){var o,r;const{isDragging:s,className:i}=t,c=Z(t,Ff),a=ae(),g=te(),d=m({},g,{isDragging:s,hasScrollX:(o=(r=a.current.getRootDimensions())==null?void 0:r.hasScrollX)!=null?o:!1}),u=_f(d);return P($f,m({ref:n,className:de(i,u.root),ownerState:d},c))}),Df=["innerRef","className"],Hf=l.forwardRef(function(t,n){const{innerRef:o}=t,r=Z(t,Df),{isDragging:s,getRootProps:i,getInnerProps:c,getColumnHeaders:a,getColumnGroupHeaders:g}=If({innerRef:o});return pe(Tf,m({ref:n},i(r),{children:[P(Xo,{scrollDirection:"left"}),pe(Rf,m({isDragging:s},c(),{children:[g(),a()]})),P(Xo,{scrollDirection:"right"})]}))}),Il=l.forwardRef(function(t,n){const o=nf(t),r=Xm(o);return P(ag,{apiRef:r,props:o,children:P(Xa,{className:o.className,style:o.style,sx:o.sx,ref:n,children:pe(Li,{children:[P(Vi,{}),P(Di,{ColumnHeadersComponent:Hf,VirtualScrollerComponent:vf}),P(Oi,{})]})})})}),Lf=l.memo(Il);Il.propTypes={"aria-label":z.string,"aria-labelledby":z.string,autoHeight:z.bool,autoPageSize:z.bool,cellModesModel:z.object,checkboxSelection:z.bool,classes:z.object,columnBuffer:z.number,columnGroupingModel:z.arrayOf(z.object),columns:_n(z.array.isRequired),columnThreshold:z.number,columnTypes:z.object,columnVisibilityModel:z.object,components:z.object,componentsProps:z.object,density:z.oneOf(["comfortable","compact","standard"]),disableColumnFilter:z.bool,disableColumnMenu:z.bool,disableColumnSelector:z.bool,disableDensitySelector:z.bool,disableExtendRowFullWidth:z.bool,disableIgnoreModificationsIfProcessingProps:z.bool,disableSelectionOnClick:z.bool,disableVirtualization:z.bool,editMode:z.oneOf(["cell","row"]),editRowsModel:z.object,error:z.any,experimentalFeatures:z.shape({columnGrouping:z.bool,newEditingApi:z.bool,preventCommitWhileValidating:z.bool,warnIfFocusStateIsNotSynced:z.bool}),filterMode:z.oneOf(["client","server"]),filterModel:z.shape({items:z.arrayOf(z.shape({columnField:z.string.isRequired,id:z.oneOfType([z.number,z.string]),operatorValue:z.string,value:z.any})).isRequired,linkOperator:z.oneOf(["and","or"]),quickFilterLogicOperator:z.oneOf(["and","or"]),quickFilterValues:z.array}),getCellClassName:z.func,getDetailPanelContent:z.func,getEstimatedRowHeight:z.func,getRowClassName:z.func,getRowHeight:z.func,getRowId:z.func,getRowSpacing:z.func,headerHeight:z.number,hideFooter:z.bool,hideFooterPagination:z.bool,hideFooterSelectedRowCount:z.bool,initialState:z.object,isCellEditable:z.func,isRowSelectable:z.func,keepNonExistentRowsSelected:z.bool,loading:z.bool,localeText:z.object,logger:z.shape({debug:z.func.isRequired,error:z.func.isRequired,info:z.func.isRequired,warn:z.func.isRequired}),logLevel:z.oneOf(["debug","error","info","warn",!1]),nonce:z.string,onCellClick:z.func,onCellDoubleClick:z.func,onCellEditCommit:z.func,onCellEditStart:z.func,onCellEditStop:z.func,onCellFocusOut:z.func,onCellKeyDown:z.func,onCellModesModelChange:z.func,onColumnHeaderClick:z.func,onColumnHeaderDoubleClick:z.func,onColumnHeaderEnter:z.func,onColumnHeaderLeave:z.func,onColumnHeaderOut:z.func,onColumnHeaderOver:z.func,onColumnOrderChange:z.func,onColumnVisibilityChange:z.func,onColumnVisibilityModelChange:z.func,onEditCellPropsChange:z.func,onEditRowsModelChange:z.func,onError:z.func,onFilterModelChange:z.func,onMenuClose:z.func,onMenuOpen:z.func,onPageChange:z.func,onPageSizeChange:z.func,onPreferencePanelClose:z.func,onPreferencePanelOpen:z.func,onProcessRowUpdateError:z.func,onResize:z.func,onRowClick:z.func,onRowDoubleClick:z.func,onRowEditCommit:z.func,onRowEditStart:z.func,onRowEditStop:z.func,onRowModesModelChange:z.func,onSelectionModelChange:z.func,onSortModelChange:z.func,onStateChange:z.func,page:z.number,pageSize:_n(z.number),pagination:e=>e.pagination===!1?new Error(["MUI: `<DataGrid pagination={false} />` is not a valid prop.","Infinite scrolling is not available in the MIT version.","","You need to upgrade to DataGridPro or DataGridPremium component to disable the pagination."].join(`
`)):null,paginationMode:z.oneOf(["client","server"]),processRowUpdate:z.func,rowBuffer:z.number,rowCount:z.number,rowHeight:z.number,rowModesModel:z.object,rows:z.arrayOf(z.object).isRequired,rowSpacingType:z.oneOf(["border","margin"]),rowsPerPageOptions:z.arrayOf(z.number),rowThreshold:z.number,scrollbarSize:z.number,selectionModel:_n(z.oneOfType([z.number,z.string,z.array])),showCellRightBorder:z.bool,showColumnRightBorder:z.bool,sortingMode:z.oneOf(["client","server"]),sortingOrder:z.arrayOf(z.oneOf(["asc","desc"])),sortModel:z.arrayOf(z.shape({field:z.string.isRequired,sort:z.oneOf(["asc","desc"])})),sx:z.oneOfType([z.arrayOf(z.oneOfType([z.func,z.object,z.bool])),z.func,z.object])};const Wn=({rowCount:e,onChange:t})=>{const n=e>5?"calc(100% - 8px)":"100%";return pe(Eo,{component:"form",sx:{p:"4px 4px",display:"flex",flexGrow:1,width:n,border:"1px solid #F2F2F2","& .Mui-focused":{border:"none",boxShadow:"none"}},children:[P(Eo,{sx:{margin:"0px 0 -4px 8px"},"aria-label":"search",children:P(Rl,{sx:{color:"#878E95"}})}),P(En,{onChange:t,sx:{"& .MuiInputBase-input":{p:"1px 8px"},ml:1,flex:1,backgroundColor:"white"},placeholder:"Search all teams",inputProps:{"aria-label":"search all teams"}})]})};try{Wn.displayName="ChallengeTeamSearch",Wn.__docgenInfo={description:"",displayName:"ChallengeTeamSearch",props:{rowCount:{defaultValue:null,description:"",name:"rowCount",required:!0,type:{name:"number"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(event: ChangeEvent<HTMLInputElement>) => void"}}}}}catch{}function Of(e,t){const{accessToken:n,keyFactory:o}=Jn();return fr(o.getTeamListQueryKey(e.sort().join()),()=>hr.getTeamList(e,n),t)}function Vf(e,t){const{accessToken:n,keyFactory:o}=Jn();return fr(o.getChallengeTeamListQueryKey(e),()=>hr.getAllChallengeTeams(n,e),t)}function jn({challengeId:e,onSelectTeam:t}){const[n,o]=l.useState([]),[r,s]=l.useState([]),[i,c]=l.useState({}),{data:a}=Vf(e),[g,d]=l.useState(),{data:u,isLoading:f}=Of(r,{enabled:!!r.length}),C=I=>{d(I),t(i[I])},x=I=>({id:I.id,name:I.name,created:Fl(_l(I.createdOn),"MM/DD/YY"),description:I.description});l.useEffect(()=>{const I=(a==null?void 0:a.map(k=>k.teamId))??[];s(I)},[a]),l.useEffect(()=>{const I=(u==null?void 0:u.list.filter(h=>h.canRequestMembership!==!1))??[],k=[],S={};I.forEach(h=>{k.push(x(h)),S[h.id]=h}),o(k),c(S)},[u]);const y=I=>{const k=I.target.value.toLowerCase(),S=(u==null?void 0:u.list.filter(F=>F.canRequestMembership!==!1))??[];let h=S;k.length&&(h=S.filter(F=>{var R;return F.name.toLowerCase().includes(k)||((R=F.description)==null?void 0:R.toLowerCase().includes(k))})),o(h.map(F=>x(F)))},p=[{field:"radiobutton",headerName:"",width:25,sortable:!1,filterable:!1,hideable:!1,disableColumnMenu:!0,renderCell:I=>P($l,{value:I.id,currentValue:g,onChange:C,label:"",groupId:"radiogroup",style:{marginBottom:"16px"}})},{field:"name",headerName:"Team Name",flex:1,filterable:!1,hideable:!1,disableColumnMenu:!0,renderCell:I=>P(Bl,{to:{pathname:`${Ul(Kl.PORTAL_ENDPOINT)}/#!Team:${I.row.id}`},target:"_blank",children:I.row.name})},{field:"created",headerName:"Created On",width:100,filterable:!1,hideable:!1,disableColumnMenu:!0},{field:"description",headerName:"Description",flex:1,filterable:!1,hideable:!1,disableColumnMenu:!0}];return pe(je,{sx:{height:220},children:[!f&&pe(qt,{children:[P(Wn,{onChange:y,rowCount:n.length}),P(Lf,{rows:n,columns:p,rowCount:5,hideFooter:!0,density:"compact",sx:{border:"none",height:"100%","& .MuiDataGrid-columnHeader":{backgroundColor:"#F1F3F5"},"& .Mui-odd":{backgroundColor:"#FBFBFC"},".MuiDataGrid-columnHeaderTitleContainer":{justifyContent:"space-between"}},getRowClassName:I=>I.indexRelativeToCurrentPage%2===0?"Mui-even":"Mui-odd"})]}),f&&P(Ol,{numRows:10,numCols:1})]})}try{jn.displayName="ChallengeTeamTable",jn.__docgenInfo={description:"",displayName:"ChallengeTeamTable",props:{challengeId:{defaultValue:null,description:"",name:"challengeId",required:!0,type:{name:"string"}},onSelectTeam:{defaultValue:null,description:"",name:"onSelectTeam",required:!0,type:{name:"(team: Team) => void"}}}}}catch{}const qn=({challengeId:e,onCreateTeam:t,onSelectTeam:n})=>pe(is,{spacing:1,children:[P(Zt,{variant:"body1",sx:{lineHeight:"20px"},children:'To participate in a challenge, you need to create a new Team or join an existing one.     By default, the participant who creates a team is the "Team Captain" and has the ability to invite and remove members.     All team members will need a Synapse account so that they can login and accept the team invitation.'}),P(je,{sx:{height:270},children:P(jn,{challengeId:e,onSelectTeam:n})}),P(je,{children:P(Pr,{color:"primary",variant:"contained",onClick:t,startIcon:P(Ir,{}),children:"Create New Team"})})]});try{qn.displayName="SelectChallengeTeam",qn.__docgenInfo={description:"",displayName:"SelectChallengeTeam",props:{challengeId:{defaultValue:null,description:"",name:"challengeId",required:!0,type:{name:"string"}},onCreateTeam:{defaultValue:null,description:"",name:"onCreateTeam",required:!0,type:{name:"() => void"}},onSelectTeam:{defaultValue:null,description:"",name:"onSelectTeam",required:!0,type:{name:"(team: Team) => void"}}}}}catch{}const Yn=({createdNewTeam:e,teamName:t})=>t?pe(qt,{children:[pe(Zt,{variant:"body1",sx:{lineHeight:"20px"},children:["You have successfully ",e?"created":"joined"," team"," ",P("b",{children:t})," and have been added to this challenge."]}),e&&P(je,{children:"Invited team members will be automatically registered for the challenge as soon as they accept the team member invitation."})]}):null;try{Yn.displayName="RegistrationSuccessful",Yn.__docgenInfo={description:"",displayName:"RegistrationSuccessful",props:{createdNewTeam:{defaultValue:null,description:"",name:"createdNewTeam",required:!0,type:{name:"boolean"}},teamName:{defaultValue:null,description:"",name:"teamName",required:!0,type:{name:"string | undefined"}}}}}catch{}const Qn=({team:e,joinMessageChange:t})=>{const[n,o]=l.useState("");if(!e)return null;const r=s=>{const i=s.target.value;o(i),t(i)};return pe(qt,{children:[pe(Zt,{variant:"body1",sx:{lineHeight:"20px"},children:["The following message will be sent to the Team Manager(s) of the"," ",P("strong",{children:e.name})," team."]}),P(je,{children:P("strong",{children:"Your Message to Team Managers(s)"})}),P(je,{children:P(yr,{id:"membershipRequestMessage",value:n,fullWidth:!0,multiline:!0,rows:4,autoFocus:!0,onChange:r})})]})};try{Qn.displayName="JoinRequestForm",Qn.__docgenInfo={description:"",displayName:"JoinRequestForm",props:{team:{defaultValue:null,description:"",name:"team",required:!0,type:{name:"Team | undefined"}},joinMessageChange:{defaultValue:null,description:"",name:"joinMessageChange",required:!0,type:{name:"(msg: string) => void"}}}}}catch{}const hn={SELECT_YOUR_CHALLENGE_TEAM:{id:"SELECT_YOUR_CHALLENGE_TEAM",title:"Select Your Challenge Team",nextStep:"JOIN_REQUEST_FORM",nextEnabled:!1},JOIN_REQUEST_FORM:{id:"JOIN_REQUEST_FORM",title:"Request Team Membership",previousStep:"SELECT_YOUR_CHALLENGE_TEAM",confirmStep:"JOIN_REQUEST_SENT",confirmButtonText:"Send Request",confirmEnabled:!0},JOIN_REQUEST_SENT:{id:"JOIN_REQUEST_SENT",title:"Request Sent",confirmButtonText:"Close",confirmEnabled:!0},CREATE_NEW_TEAM:{id:"CREATE_NEW_TEAM",title:"Create Team",confirmStep:"REGISTRATION_SUCCESSFUL",confirmButtonText:"Finish Registration",confirmEnabled:!1,previousStep:"SELECT_YOUR_CHALLENGE_TEAM"},REGISTRATION_SUCCESSFUL:{id:"REGISTRATION_SUCCESSFUL",title:"Registration Successful!"}},Bt="",dr=({projectId:e,isShowingModal:t=!1,onClose:n})=>{const{accessToken:o}=Jn(),r=!!o,[s,i]=l.useState(!0),[c,a]=l.useState(hn.SELECT_YOUR_CHALLENGE_TEAM),[g,d]=l.useState(),[u,f]=l.useState(),[C,x]=l.useState(!1),[y,p]=l.useState(!1),[I,k]=l.useState(!1),[S,h]=l.useState({}),[F,R]=l.useState(!1),[w,v]=l.useState(!1),[M,_]=l.useState({name:"",description:"",message:"",invitees:""}),[T,G]=l.useState(""),[L,E]=l.useState(!1),{data:b}=Vl({enabled:r,onError:N=>{i(!1),d(N.reason)}}),{data:$}=Dl(e,{enabled:L,onError:()=>{i(!1),d(`Error: Could not retrieve challenge for project "${e}".`)}});rs(($==null?void 0:$.participantTeamId)??Bt,(b==null?void 0:b.ownerId)??Bt,{enabled:!!$&&!!b,onSettled:(N,X)=>{N===null&&$!=null&&$.participantTeamId&&b&&o&&ko($==null?void 0:$.participantTeamId,b.ownerId,o),X&&(i(!1),d("Error: could not determine if user is a member of this challenge."))}}),os(($==null?void 0:$.id)??Bt,1,{enabled:!!$&&!!o,onSettled:(N,X)=>{if(N){const ie=N.results.length>0;ie&&(d("Error: You are already a member of a registered submission team for this Challenge."),k(ie))}X&&d("Error: Could not determine if you are already registered for this Challenge."),i(!1)}}),ls((u==null?void 0:u.id)??Bt,(b==null?void 0:b.ownerId)??Bt,{enabled:!!u&&!!b,onSettled:(N,X)=>{N&&h({...S,[N.teamId]:N}),X&&d(X.reason)}});const V=()=>{if(u&&u.id in S){const{canJoin:N,membershipApprovalRequired:X,isMember:ie,hasOpenInvitation:fe,hasOpenRequest:Se}=S[u.id];if(ie)return{canJoin:!1,errorMessage:"You are already a member of this team."};if(Se)return{canJoin:!1,errorMessage:"Your previous request to join this team is pending review."};if(fe||N||X)return{canJoin:!0,needsApproval:X,errorMessage:void 0}}return{canJoin:!1}};l.useEffect(()=>{const N=!!b&&b.ownerId===ns.toString();E(!!o&&!!e&&!$),N&&(i(!1),d("Please login to continue."))},[o,b,e,$]),l.useEffect(()=>{F&&w&&(p(!1),K(c.confirmStep))},[w,F,c]),l.useEffect(()=>{if(u&&u.id in S&&c.id==="SELECT_YOUR_CHALLENGE_TEAM"){const{canJoin:N,errorMessage:X}=V();if(N){c.nextEnabled||a({...c,nextEnabled:!0});return}c.nextEnabled&&a({...c,nextEnabled:!1}),X&&d(X)}},[S,u,c]);const D=N=>{N&&(d(void 0),f(N))},H=N=>{_(N);const X=N.name.length>1;a({...c,confirmEnabled:X})},A=(N=u==null?void 0:u.id)=>{!N||!b||!o||(p(!0),d(void 0),ko(N,b.ownerId,o).then(()=>{K("REGISTRATION_SUCCESSFUL")}).catch(X=>{d(`Error joining team: ${X.reason}`)}).finally(()=>{p(!1)}))},B=async()=>{b&&u&&(p(!0),a({...c,nextEnabled:!1}),d(void 0),await Al(u.id,b.ownerId,T,void 0,o).then(()=>{a(hn.JOIN_REQUEST_SENT)}).catch(N=>{console.error({err:N}),d(`Error requesting membership: ${N.reason}`)}).finally(()=>{p(!1)}))},U=async N=>{const X="Error registering challenge team";N&&$?(d(void 0),v(!1),await zl(o,$.id,N).then(()=>{v(!0)}).catch(ie=>{d(`${X}: ${ie.reason}`),p(!1)})):(d(`${X}: Invalid team.`),p(!1))},j=async(N,X)=>{if(!X.length){R(!0);return}const ie="Error inviting members";if(N){d(void 0),R(!1);const fe=X.split(","),Se=[];for(const W of fe)await Nl(o,N,W.trim()).catch(()=>{Se.push(W.trim())});Se.length?(d(`${ie}: ${Se.join(", ")}`),p(!1)):R(!0)}else d(`${ie}: Invalid team.`),p(!1)},q=async()=>{M&&M.name&&M.name.length>1&&(a({...c,confirmEnabled:!1}),p(!0),d(void 0),await Gl(o,M.name,M.description).then(N=>{x(!0),f(N),U(N.id),j(N.id,M.invitees)}).catch(N=>{p(!1),d(`Error creating team: ${N.reason}`),a({...c,confirmEnabled:!0})}))},oe=()=>{d(void 0),x(!1),f(void 0),a({...c,nextEnabled:!1}),n()},Y={CREATE_NEW_TEAM:q,JOIN_REQUEST_FORM:B},re=()=>{switch(c.id){case"SELECT_YOUR_CHALLENGE_TEAM":return o&&$&&!I?P(qn,{challengeId:$.id,onCreateTeam:()=>K("CREATE_NEW_TEAM"),onSelectTeam:D}):P(qt,{});case"JOIN_REQUEST_FORM":return P(Qn,{team:u,joinMessageChange:G});case"JOIN_REQUEST_SENT":return P(Zt,{variant:"body1",sx:{lineHeight:"20px"},children:"Team Manager(s) have received your request. Check your Synapse email address for status of your request."});case"REGISTRATION_SUCCESSFUL":return P(Yn,{createdNewTeam:C,teamName:u==null?void 0:u.name});case"CREATE_NEW_TEAM":return P(On,{onChangeTeamInfo:H,onError:d});default:return P(qt,{})}};function K(N){if(!N||!hn[N])return;d(void 0);const{canJoin:X,errorMessage:ie,needsApproval:fe}=V();switch(N){case"SELECT_YOUR_CHALLENGE_TEAM":x(!1);break;case"JOIN_REQUEST_FORM":if(X){if(!fe)return A()}else return d(ie);break}a(hn[N])}const J=Y[c.id]?Y[c.id]:()=>{};return P(xl,{errorMessage:g,onCancel:oe,onStepChange:K,open:t,onConfirm:J,confirming:y,step:c,content:re(),loading:s})};try{dr.displayName="ChallengeTeamWizard",dr.__docgenInfo={description:"",displayName:"ChallengeTeamWizard",props:{projectId:{defaultValue:null,description:"",name:"projectId",required:!0,type:{name:"string"}},isShowingModal:{defaultValue:{value:"false"},description:"",name:"isShowingModal",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}}}}}catch{}export{dr as C};
//# sourceMappingURL=ChallengeTeamWizard-c1e7ab27.js.map
