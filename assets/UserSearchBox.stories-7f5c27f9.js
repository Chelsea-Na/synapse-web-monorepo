import{j as V,F as je,a as qe}from"./jsx-runtime-9dc53467.js";import{P as o}from"./index-9d475cdf.js";import{r as re}from"./index-76fb7be0.js";import"./index-8d9ddb1f.js";import{bo as Ye}from"./ApplicationSessionManager-5baf04bf.js";import{U as Xe}from"./UserOrTeamBadge-9531ef78.js";import"./_commonjsHelpers-de833af9.js";import"./SynapseConstants-0078d114.js";import"./OrientationBanner-450e6652.js";import"./FullWidthAlert-149d754f.js";import"./Alert-fd45ce28.js";import"./createTheme-d609db80.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-55b21f7f.js";import"./styled-bb145c31.js";import"./createSvgIcon-b657d91b.js";import"./Paper-35c12a01.js";import"./IconButton-9b53499e.js";import"./ButtonBase-0719e676.js";import"./emotion-react.browser.esm-ca9fe929.js";import"./TransitionGroupContext-e6fd87c7.js";import"./useForkRef-8feb2ebf.js";import"./assertThisInitialized-081f9914.js";import"./inheritsLoose-c82a83d4.js";import"./useIsFocusVisible-18cd238e.js";import"./Stack-9fb6382b.js";import"./extendSxProp-7fb4e09f.js";import"./Box-f6adec47.js";import"./AlertTitle-9139c2ff.js";import"./Typography-f217f607.js";import"./useTheme-a28bb397.js";import"./Grow-2f9de6a4.js";import"./isHostComponent-fa76b8d9.js";import"./index-d3ea75b5.js";import"./utils-19a63403.js";import"./ClickAwayListener-3b20c94f.js";import"./Tooltip-248f4fe4.js";import"./Button-065a21d4.js";import"./getEndpoint-ac94413e.js";import"./tinycolor-ea5bcbb6.js";import"./InfoTwoTone-aaf78040.js";import"./CheckCircleTwoTone-6570b572.js";import"./inputBaseClasses-8d4a6788.js";import"./Fade-05777e49.js";import"./Link-5cdd275a.js";import"./_getTag-b87d0382.js";import"./_Map-92f6da1c.js";import"./isArray-5e3f9107.js";import"./StringUtils-2ea3ab4d.js";import"./index-4a1b1a67.js";import"./dayjs.min-941aafe8.js";import"./tiny-invariant-dd7d57d2.js";import"./UserBadge-7ffd6a45.js";import"./Menu-fd3efe37.js";import"./index-c71daf5e.js";import"./Modal-38359b46.js";import"./Backdrop-3c9a13b0.js";import"./getScrollbarSize-ac846fe6.js";import"./ownerWindow-2c76219e.js";import"./createChainedFunction-0bab83cf.js";import"./MenuList-acf5f616.js";import"./List-81115ae1.js";import"./IconSvg-1ce336f3.js";import"./ErrorOutlined-5d3a6347.js";import"./GetAppTwoTone-6e3519f9.js";import"./InfoOutlined-aa78e498.js";import"./cloneDeep-10deac57.js";import"./_baseClone-d4db307e.js";import"./_Uint8Array-df44b265.js";import"./_baseTimes-8715be3e.js";import"./_initCloneObject-c3239c20.js";import"./_getAllKeys-af1012ce.js";import"./SkeletonTable-3361182b.js";import"./times-8d386772.js";import"./identity-46f208ab.js";import"./toInteger-5bb233f4.js";import"./isSymbol-7c514724.js";import"./Skeleton-2007774f.js";import"./ToastMessage-3dbe47cb.js";import"./CSSTransition-e180c3db.js";import"./hasClass-ec9efd32.js";import"./uniqueId-4d05949d.js";import"./toString-cc90cb98.js";import"./Divider-f85fbd3b.js";import"./dividerClasses-ed167313.js";import"./MenuItem-9dd34ee5.js";import"./Card-116c8a68.js";import"./Avatar-e1ef2d77.js";function ge(i){return typeof i=="object"&&i!=null&&i.nodeType===1}function me(i,s){return(!s||i!=="hidden")&&i!=="visible"&&i!=="clip"}function se(i,s){if(i.clientHeight<i.scrollHeight||i.clientWidth<i.scrollWidth){var t=getComputedStyle(i,null);return me(t.overflowY,s)||me(t.overflowX,s)||function(e){var u=function(d){if(!d.ownerDocument||!d.ownerDocument.defaultView)return null;try{return d.ownerDocument.defaultView.frameElement}catch{return null}}(e);return!!u&&(u.clientHeight<e.scrollHeight||u.clientWidth<e.scrollWidth)}(i)}return!1}function X(i,s,t,e,u,d,h,p){return d<i&&h>s||d>i&&h<s?0:d<=i&&p<=t||h>=s&&p>=t?d-i-e:h>s&&p<t||d<i&&p>t?h-s+u:0}var ze=function(i,s){var t=window,e=s.scrollMode,u=s.block,d=s.inline,h=s.boundary,p=s.skipOverflowHiddenElements,C=typeof h=="function"?h:function(_e){return _e!==h};if(!ge(i))throw new TypeError("Invalid target");for(var I,S,n=document.scrollingElement||document.documentElement,r=[],l=i;ge(l)&&C(l);){if((l=(S=(I=l).parentElement)==null?I.getRootNode().host||null:S)===n){r.push(l);break}l!=null&&l===document.body&&se(l)&&!se(document.documentElement)||l!=null&&se(l,p)&&r.push(l)}for(var a=t.visualViewport?t.visualViewport.width:innerWidth,c=t.visualViewport?t.visualViewport.height:innerHeight,f=window.scrollX||pageXOffset,m=window.scrollY||pageYOffset,g=i.getBoundingClientRect(),w=g.height,v=g.width,H=g.top,E=g.right,M=g.bottom,P=g.left,b=u==="start"||u==="nearest"?H:u==="end"?M:H+w/2,x=d==="center"?P+v/2:d==="end"?E:P,ee=[],te=0;te<r.length;te++){var y=r[te],R=y.getBoundingClientRect(),L=R.height,K=R.width,U=R.top,ne=R.right,ie=R.bottom,W=R.left;if(e==="if-needed"&&H>=0&&P>=0&&M<=c&&E<=a&&H>=U&&M<=ie&&P>=W&&E<=ne)return ee;var $=getComputedStyle(y),B=parseInt($.borderLeftWidth,10),F=parseInt($.borderTopWidth,10),_=parseInt($.borderRightWidth,10),j=parseInt($.borderBottomWidth,10),A=0,N=0,q="offsetWidth"in y?y.offsetWidth-y.clientWidth-B-_:0,Y="offsetHeight"in y?y.offsetHeight-y.clientHeight-F-j:0,de="offsetWidth"in y?y.offsetWidth===0?0:K/y.offsetWidth:0,he="offsetHeight"in y?y.offsetHeight===0?0:L/y.offsetHeight:0;if(n===y)A=u==="start"?b:u==="end"?b-c:u==="nearest"?X(m,m+c,c,F,j,m+b,m+b+w,w):b-c/2,N=d==="start"?x:d==="center"?x-a/2:d==="end"?x-a:X(f,f+a,a,B,_,f+x,f+x+v,v),A=Math.max(0,A+m),N=Math.max(0,N+f);else{A=u==="start"?b-U-F:u==="end"?b-ie+j+Y:u==="nearest"?X(U,ie,L,F,j+Y,b,b+w,w):b-(U+L/2)+Y/2,N=d==="start"?x-W-B:d==="center"?x-(W+K/2)+q/2:d==="end"?x-ne+_+q:X(W,ne,K,B,_+q,x,x+v,v);var pe=y.scrollLeft,ce=y.scrollTop;b+=ce-(A=Math.max(0,Math.min(ce+A/he,y.scrollHeight-L/he+Y))),x+=pe-(N=Math.max(0,Math.min(pe+N/de,y.scrollWidth-K/de+q)))}ee.push({el:y,top:A,left:N})}return ee},J=function(){return J=Object.assign||function(s){for(var t,e=1,u=arguments.length;e<u;e++){t=arguments[e];for(var d in t)Object.prototype.hasOwnProperty.call(t,d)&&(s[d]=t[d])}return s},J.apply(this,arguments)};let Qe=0;function fe(i){return typeof i=="function"?i:O}function O(){}function Ce(i,s){if(!i)return;ze(i,{boundary:s,block:"nearest",scrollMode:"if-needed"}).forEach(e=>{let{el:u,top:d,left:h}=e;u.scrollTop=d,u.scrollLeft=h})}function Ie(i,s,t){return i===s||s instanceof t.Node&&i.contains&&i.contains(s)}function ae(i,s){let t;function e(){t&&clearTimeout(t)}function u(){for(var d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];e(),t=setTimeout(()=>{t=null,i(...h)},s)}return u.cancel=e,u}function D(){for(var i=arguments.length,s=new Array(i),t=0;t<i;t++)s[t]=arguments[t];return function(e){for(var u=arguments.length,d=new Array(u>1?u-1:0),h=1;h<u;h++)d[h-1]=arguments[h];return s.some(p=>(p&&p(e,...d),e.preventDownshiftDefault||e.hasOwnProperty("nativeEvent")&&e.nativeEvent.preventDownshiftDefault))}}function ve(){for(var i=arguments.length,s=new Array(i),t=0;t<i;t++)s[t]=arguments[t];return e=>{s.forEach(u=>{typeof u=="function"?u(e):u&&(u.current=e)})}}function Ze(){return String(Qe++)}function Ee(i){let{isOpen:s,resultCount:t,previousResultCount:e}=i;return s?t?t!==e?`${t} result${t===1?" is":"s are"} available, use up and down arrow keys to navigate. Press Enter key to select.`:"":"No results are available.":""}function ye(i,s){return i=Array.isArray(i)?i[0]:i,!i&&s?s:i}function Ge(i){return typeof i.type=="string"}function Je(i){return i.props}const et=["highlightedIndex","inputValue","isOpen","selectedItem","type"];function z(i){i===void 0&&(i={});const s={};return et.forEach(t=>{i.hasOwnProperty(t)&&(s[t]=i[t])}),s}function tt(i,s){return Object.keys(i).reduce((t,e)=>(t[e]=le(s,e)?s[e]:i[e],t),{})}function le(i,s){return i[s]!==void 0}function we(i){const{key:s,keyCode:t}=i;return t>=37&&t<=40&&s.indexOf("Arrow")!==0?`Arrow${s}`:s}function oe(i,s,t,e,u){if(u===void 0&&(u=!0),t===0)return-1;const d=t-1;(typeof s!="number"||s<0||s>=t)&&(s=i>0?-1:d+1);let h=s+i;h<0?h=u?d:0:h>d&&(h=u?0:d);const p=k(i,h,t,e,u);return p===-1?s>=t?-1:s:p}function k(i,s,t,e,u){const d=e(s);if(!d||!d.hasAttribute("disabled"))return s;if(i>0){for(let h=s+1;h<t;h++)if(!e(h).hasAttribute("disabled"))return h}else for(let h=s-1;h>=0;h--)if(!e(h).hasAttribute("disabled"))return h;return u?i>0?k(1,0,t,e,!1):k(-1,t-1,t,e,!1):-1}function Se(i,s,t,e){return e===void 0&&(e=!0),s.some(u=>u&&(Ie(u,i,t)||e&&Ie(u,t.document.activeElement,t)))}const nt=ae(i=>{Oe(i).textContent=""},500);function De(i,s){const t=Oe(s);i&&(t.textContent=i,nt(s))}function Oe(i){i===void 0&&(i=document);let s=i.getElementById("a11y-status-message");return s||(s=i.createElement("div"),s.setAttribute("id","a11y-status-message"),s.setAttribute("role","status"),s.setAttribute("aria-live","polite"),s.setAttribute("aria-relevant","additions text"),Object.assign(s.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),i.body.appendChild(s),s)}const Me=0,Ae=1,Ne=2,Z=3,G=4,Pe=5,Re=6,Ve=7,Te=8,ke=9,Le=10,Ke=11,Ue=12,We=13,$e=14,Be=15,Fe=16;var it=Object.freeze({__proto__:null,unknown:Me,mouseUp:Ae,itemMouseEnter:Ne,keyDownArrowUp:Z,keyDownArrowDown:G,keyDownEscape:Pe,keyDownEnter:Re,keyDownHome:Ve,keyDownEnd:Te,clickItem:ke,blurInput:Le,changeInput:Ke,keyDownSpaceButton:Ue,clickButton:We,blurButton:$e,controlledPropUpdatedSelectedItem:Be,touchEnd:Fe});const st=(()=>{class i extends re.Component{constructor(t){var e;super(t),e=this,this.id=this.props.id||`downshift-${Ze()}`,this.menuId=this.props.menuId||`${this.id}-menu`,this.labelId=this.props.labelId||`${this.id}-label`,this.inputId=this.props.inputId||`${this.id}-input`,this.getItemId=this.props.getItemId||(n=>`${this.id}-item-${n}`),this.input=null,this.items=[],this.itemCount=null,this.previousResultCount=0,this.timeoutIds=[],this.internalSetTimeout=(n,r)=>{const l=setTimeout(()=>{this.timeoutIds=this.timeoutIds.filter(a=>a!==l),n()},r);this.timeoutIds.push(l)},this.setItemCount=n=>{this.itemCount=n},this.unsetItemCount=()=>{this.itemCount=null},this.setHighlightedIndex=function(n,r){n===void 0&&(n=e.props.defaultHighlightedIndex),r===void 0&&(r={}),r=z(r),e.internalSetState({highlightedIndex:n,...r})},this.clearSelection=n=>{this.internalSetState({selectedItem:null,inputValue:"",highlightedIndex:this.props.defaultHighlightedIndex,isOpen:this.props.defaultIsOpen},n)},this.selectItem=(n,r,l)=>{r=z(r),this.internalSetState({isOpen:this.props.defaultIsOpen,highlightedIndex:this.props.defaultHighlightedIndex,selectedItem:n,inputValue:this.props.itemToString(n),...r},l)},this.selectItemAtIndex=(n,r,l)=>{const a=this.items[n];a!=null&&this.selectItem(a,r,l)},this.selectHighlightedItem=(n,r)=>this.selectItemAtIndex(this.getState().highlightedIndex,n,r),this.internalSetState=(n,r)=>{let l,a;const c={},f=typeof n=="function";return!f&&n.hasOwnProperty("inputValue")&&this.props.onInputValueChange(n.inputValue,{...this.getStateAndHelpers(),...n}),this.setState(m=>{m=this.getState(m);let g=f?n(m):n;g=this.props.stateReducer(m,g),l=g.hasOwnProperty("selectedItem");const w={};return l&&g.selectedItem!==m.selectedItem&&(a=g.selectedItem),g.type=g.type||Me,Object.keys(g).forEach(v=>{m[v]!==g[v]&&(c[v]=g[v]),v!=="type"&&(g[v],le(this.props,v)||(w[v]=g[v]))}),f&&g.hasOwnProperty("inputValue")&&this.props.onInputValueChange(g.inputValue,{...this.getStateAndHelpers(),...g}),w},()=>{fe(r)(),Object.keys(c).length>1&&this.props.onStateChange(c,this.getStateAndHelpers()),l&&this.props.onSelect(n.selectedItem,this.getStateAndHelpers()),a!==void 0&&this.props.onChange(a,this.getStateAndHelpers()),this.props.onUserAction(c,this.getStateAndHelpers())})},this.rootRef=n=>this._rootNode=n,this.getRootProps=function(n,r){let{refKey:l="ref",ref:a,...c}=n===void 0?{}:n,{suppressRefError:f=!1}=r===void 0?{}:r;e.getRootProps.called=!0,e.getRootProps.refKey=l,e.getRootProps.suppressRefError=f;const{isOpen:m}=e.getState();return{[l]:ve(a,e.rootRef),role:"combobox","aria-expanded":m,"aria-haspopup":"listbox","aria-owns":m?e.menuId:null,"aria-labelledby":e.labelId,...c}},this.keyDownHandlers={ArrowDown(n){if(n.preventDefault(),this.getState().isOpen){const r=n.shiftKey?5:1;this.moveHighlightedIndex(r,{type:G})}else this.internalSetState({isOpen:!0,type:G},()=>{const r=this.getItemCount();if(r>0){const{highlightedIndex:l}=this.getState(),a=oe(1,l,r,c=>this.getItemNodeFromIndex(c));this.setHighlightedIndex(a,{type:G})}})},ArrowUp(n){if(n.preventDefault(),this.getState().isOpen){const r=n.shiftKey?-5:-1;this.moveHighlightedIndex(r,{type:Z})}else this.internalSetState({isOpen:!0,type:Z},()=>{const r=this.getItemCount();if(r>0){const{highlightedIndex:l}=this.getState(),a=oe(-1,l,r,c=>this.getItemNodeFromIndex(c));this.setHighlightedIndex(a,{type:Z})}})},Enter(n){if(n.which===229)return;const{isOpen:r,highlightedIndex:l}=this.getState();if(r&&l!=null){n.preventDefault();const a=this.items[l],c=this.getItemNodeFromIndex(l);if(a==null||c&&c.hasAttribute("disabled"))return;this.selectHighlightedItem({type:Re})}},Escape(n){n.preventDefault(),this.reset({type:Pe,...!this.state.isOpen&&{selectedItem:null,inputValue:""}})}},this.buttonKeyDownHandlers={...this.keyDownHandlers," "(n){n.preventDefault(),this.toggleMenu({type:Ue})}},this.inputKeyDownHandlers={...this.keyDownHandlers,Home(n){const{isOpen:r}=this.getState();if(!r)return;n.preventDefault();const l=this.getItemCount();if(l<=0||!r)return;const a=k(1,0,l,c=>this.getItemNodeFromIndex(c),!1);this.setHighlightedIndex(a,{type:Ve})},End(n){const{isOpen:r}=this.getState();if(!r)return;n.preventDefault();const l=this.getItemCount();if(l<=0||!r)return;const a=k(-1,l-1,l,c=>this.getItemNodeFromIndex(c),!1);this.setHighlightedIndex(a,{type:Te})}},this.getToggleButtonProps=function(n){let{onClick:r,onPress:l,onKeyDown:a,onKeyUp:c,onBlur:f,...m}=n===void 0?{}:n;const{isOpen:g}=e.getState(),w={onClick:D(r,e.buttonHandleClick),onKeyDown:D(a,e.buttonHandleKeyDown),onKeyUp:D(c,e.buttonHandleKeyUp),onBlur:D(f,e.buttonHandleBlur)},v=m.disabled?{}:w;return{type:"button",role:"button","aria-label":g?"close menu":"open menu","aria-haspopup":!0,"data-toggle":!0,...v,...m}},this.buttonHandleKeyUp=n=>{n.preventDefault()},this.buttonHandleKeyDown=n=>{const r=we(n);this.buttonKeyDownHandlers[r]&&this.buttonKeyDownHandlers[r].call(this,n)},this.buttonHandleClick=n=>{n.preventDefault(),this.props.environment.document.activeElement===this.props.environment.document.body&&n.target.focus(),this.internalSetTimeout(()=>this.toggleMenu({type:We}))},this.buttonHandleBlur=n=>{const r=n.target;this.internalSetTimeout(()=>{!this.isMouseDown&&(this.props.environment.document.activeElement==null||this.props.environment.document.activeElement.id!==this.inputId)&&this.props.environment.document.activeElement!==r&&this.reset({type:$e})})},this.getLabelProps=n=>({htmlFor:this.inputId,id:this.labelId,...n}),this.getInputProps=function(n){let{onKeyDown:r,onBlur:l,onChange:a,onInput:c,onChangeText:f,...m}=n===void 0?{}:n,g,w={};g="onChange";const{inputValue:v,isOpen:H,highlightedIndex:E}=e.getState();return m.disabled||(w={[g]:D(a,c,e.inputHandleChange),onKeyDown:D(r,e.inputHandleKeyDown),onBlur:D(l,e.inputHandleBlur)}),{"aria-autocomplete":"list","aria-activedescendant":H&&typeof E=="number"&&E>=0?e.getItemId(E):null,"aria-controls":H?e.menuId:null,"aria-labelledby":e.labelId,autoComplete:"off",value:v,id:e.inputId,...w,...m}},this.inputHandleKeyDown=n=>{const r=we(n);r&&this.inputKeyDownHandlers[r]&&this.inputKeyDownHandlers[r].call(this,n)},this.inputHandleChange=n=>{this.internalSetState({type:Ke,isOpen:!0,inputValue:n.target.value,highlightedIndex:this.props.defaultHighlightedIndex})},this.inputHandleBlur=()=>{this.internalSetTimeout(()=>{const n=this.props.environment.document&&!!this.props.environment.document.activeElement&&!!this.props.environment.document.activeElement.dataset&&this.props.environment.document.activeElement.dataset.toggle&&this._rootNode&&this._rootNode.contains(this.props.environment.document.activeElement);!this.isMouseDown&&!n&&this.reset({type:Le})})},this.menuRef=n=>{this._menuNode=n},this.getMenuProps=function(n,r){let{refKey:l="ref",ref:a,...c}=n===void 0?{}:n,{suppressRefError:f=!1}=r===void 0?{}:r;return e.getMenuProps.called=!0,e.getMenuProps.refKey=l,e.getMenuProps.suppressRefError=f,{[l]:ve(a,e.menuRef),role:"listbox","aria-labelledby":c&&c["aria-label"]?null:e.labelId,id:e.menuId,...c}},this.getItemProps=function(n){let{onMouseMove:r,onMouseDown:l,onClick:a,onPress:c,index:f,item:m=void 0,...g}=n===void 0?{}:n;f===void 0?(e.items.push(m),f=e.items.indexOf(m)):e.items[f]=m;const w="onClick",v=a,H={onMouseMove:D(r,()=>{f!==e.getState().highlightedIndex&&(e.setHighlightedIndex(f,{type:Ne}),e.avoidScrolling=!0,e.internalSetTimeout(()=>e.avoidScrolling=!1,250))}),onMouseDown:D(l,M=>{M.preventDefault()}),[w]:D(v,()=>{e.selectItemAtIndex(f,{type:ke})})},E=g.disabled?{onMouseDown:H.onMouseDown}:H;return{id:e.getItemId(f),role:"option","aria-selected":e.getState().highlightedIndex===f,...E,...g}},this.clearItems=()=>{this.items=[]},this.reset=function(n,r){n===void 0&&(n={}),n=z(n),e.internalSetState(l=>{let{selectedItem:a}=l;return{isOpen:e.props.defaultIsOpen,highlightedIndex:e.props.defaultHighlightedIndex,inputValue:e.props.itemToString(a),...n}},r)},this.toggleMenu=function(n,r){n===void 0&&(n={}),n=z(n),e.internalSetState(l=>{let{isOpen:a}=l;return{isOpen:!a,...a&&{highlightedIndex:e.props.defaultHighlightedIndex},...n}},()=>{const{isOpen:l,highlightedIndex:a}=e.getState();l&&e.getItemCount()>0&&typeof a=="number"&&e.setHighlightedIndex(a,n),fe(r)()})},this.openMenu=n=>{this.internalSetState({isOpen:!0},n)},this.closeMenu=n=>{this.internalSetState({isOpen:!1},n)},this.updateStatus=ae(()=>{const n=this.getState(),r=this.items[n.highlightedIndex],l=this.getItemCount(),a=this.props.getA11yStatusMessage({itemToString:this.props.itemToString,previousResultCount:this.previousResultCount,resultCount:l,highlightedItem:r,...n});this.previousResultCount=l,De(a,this.props.environment.document)},200);const{defaultHighlightedIndex:u,initialHighlightedIndex:d=u,defaultIsOpen:h,initialIsOpen:p=h,initialInputValue:C="",initialSelectedItem:I=null}=this.props,S=this.getState({highlightedIndex:d,isOpen:p,inputValue:C,selectedItem:I});S.selectedItem!=null&&this.props.initialInputValue===void 0&&(S.inputValue=this.props.itemToString(S.selectedItem)),this.state=S}internalClearTimeouts(){this.timeoutIds.forEach(t=>{clearTimeout(t)}),this.timeoutIds=[]}getState(t){return t===void 0&&(t=this.state),tt(t,this.props)}getItemCount(){let t=this.items.length;return this.itemCount!=null?t=this.itemCount:this.props.itemCount!==void 0&&(t=this.props.itemCount),t}getItemNodeFromIndex(t){return this.props.environment.document.getElementById(this.getItemId(t))}scrollHighlightedItemIntoView(){{const t=this.getItemNodeFromIndex(this.getState().highlightedIndex);this.props.scrollIntoView(t,this._menuNode)}}moveHighlightedIndex(t,e){const u=this.getItemCount(),{highlightedIndex:d}=this.getState();if(u>0){const h=oe(t,d,u,p=>this.getItemNodeFromIndex(p));this.setHighlightedIndex(h,e)}}getStateAndHelpers(){const{highlightedIndex:t,inputValue:e,selectedItem:u,isOpen:d}=this.getState(),{itemToString:h}=this.props,{id:p}=this,{getRootProps:C,getToggleButtonProps:I,getLabelProps:S,getMenuProps:n,getInputProps:r,getItemProps:l,openMenu:a,closeMenu:c,toggleMenu:f,selectItem:m,selectItemAtIndex:g,selectHighlightedItem:w,setHighlightedIndex:v,clearSelection:H,clearItems:E,reset:M,setItemCount:P,unsetItemCount:b,internalSetState:x}=this;return{getRootProps:C,getToggleButtonProps:I,getLabelProps:S,getMenuProps:n,getInputProps:r,getItemProps:l,reset:M,openMenu:a,closeMenu:c,toggleMenu:f,selectItem:m,selectItemAtIndex:g,selectHighlightedItem:w,setHighlightedIndex:v,clearSelection:H,clearItems:E,setItemCount:P,unsetItemCount:b,setState:x,itemToString:h,id:p,highlightedIndex:t,inputValue:e,isOpen:d,selectedItem:u}}componentDidMount(){{const t=()=>{this.isMouseDown=!0},e=C=>{this.isMouseDown=!1,!Se(C.target,[this._rootNode,this._menuNode],this.props.environment)&&this.getState().isOpen&&this.reset({type:Ae},()=>this.props.onOuterClick(this.getStateAndHelpers()))},u=()=>{this.isTouchMove=!1},d=()=>{this.isTouchMove=!0},h=C=>{const I=Se(C.target,[this._rootNode,this._menuNode],this.props.environment,!1);!this.isTouchMove&&!I&&this.getState().isOpen&&this.reset({type:Fe},()=>this.props.onOuterClick(this.getStateAndHelpers()))},{environment:p}=this.props;p.addEventListener("mousedown",t),p.addEventListener("mouseup",e),p.addEventListener("touchstart",u),p.addEventListener("touchmove",d),p.addEventListener("touchend",h),this.cleanup=()=>{this.internalClearTimeouts(),this.updateStatus.cancel(),p.removeEventListener("mousedown",t),p.removeEventListener("mouseup",e),p.removeEventListener("touchstart",u),p.removeEventListener("touchmove",d),p.removeEventListener("touchend",h)}}}shouldScroll(t,e){const{highlightedIndex:u}=this.props.highlightedIndex===void 0?this.getState():this.props,{highlightedIndex:d}=e.highlightedIndex===void 0?t:e;return u&&this.getState().isOpen&&!t.isOpen||u!==d}componentDidUpdate(t,e){le(this.props,"selectedItem")&&this.props.selectedItemChanged(t.selectedItem,this.props.selectedItem)&&this.internalSetState({type:Be,inputValue:this.props.itemToString(this.props.selectedItem)}),!this.avoidScrolling&&this.shouldScroll(e,t)&&this.scrollHighlightedItemIntoView(),this.updateStatus()}componentWillUnmount(){this.cleanup()}render(){const t=ye(this.props.children,O);this.clearItems(),this.getRootProps.called=!1,this.getRootProps.refKey=void 0,this.getRootProps.suppressRefError=void 0,this.getMenuProps.called=!1,this.getMenuProps.refKey=void 0,this.getMenuProps.suppressRefError=void 0,this.getLabelProps.called=!1,this.getInputProps.called=!1;const e=ye(t(this.getStateAndHelpers()));if(!e)return null;if(this.getRootProps.called||this.props.suppressRefError)return e;if(Ge(e))return re.cloneElement(e,this.getRootProps(Je(e)))}}return i.defaultProps={defaultHighlightedIndex:null,defaultIsOpen:!1,getA11yStatusMessage:Ee,itemToString:s=>s==null?"":String(s),onStateChange:O,onInputValueChange:O,onUserAction:O,onChange:O,onSelect:O,onOuterClick:O,selectedItemChanged:(s,t)=>s!==t,environment:typeof window>"u"?{}:window,stateReducer:(s,t)=>t,suppressRefError:!1,scrollIntoView:Ce},i.stateChangeTypes=it,i})();var ot=st;function rt(i,s){return s.changes}function lt(i){const{selectedItem:s,itemToString:t}=i;return s?`${t(s)} has been selected.`:""}ae((i,s)=>{De(i(),s)},200);function ut(i){return i?String(i):""}const T={itemToString:ut,stateReducer:rt,getA11ySelectionMessage:lt,scrollIntoView:Ce,circularNavigation:!1,environment:typeof window>"u"?{}:window};o.array.isRequired,o.func,o.func,o.func,o.bool,o.number,o.number,o.number,o.bool,o.bool,o.bool,o.any,o.any,o.any,o.string,o.string,o.string,o.func,o.string,o.func,o.func,o.func,o.func,o.func,o.shape({addEventListener:o.func,removeEventListener:o.func,document:o.shape({getElementById:o.func,activeElement:o.any,body:o.any})});function at(i){var s=i.isOpen,t=i.resultCount,e=i.previousResultCount;return s?t?t!==e?"".concat(t," result").concat(t===1?" is":"s are"," available, use up and down arrow keys to navigate. Press Enter or Space Bar keys to select."):"":"No results are available.":""}J(J({},T),{getA11yStatusMessage:at});o.array.isRequired,o.func,o.func,o.func,o.bool,o.number,o.number,o.number,o.bool,o.bool,o.bool,o.any,o.any,o.any,o.string,o.string,o.string,o.string,o.string,o.string,o.func,o.string,o.string,o.func,o.func,o.func,o.func,o.func,o.func,o.shape({addEventListener:o.func,removeEventListener:o.func,document:o.shape({getElementById:o.func,activeElement:o.any,body:o.any})});({...T});function dt(i){const{removedSelectedItem:s,itemToString:t}=i;return`${t(s)} has been removed.`}o.array,o.array,o.array,o.func,o.func,o.func,o.number,o.number,o.number,o.func,o.func,o.string,o.string,o.shape({addEventListener:o.func,removeEventListener:o.func,document:o.shape({getElementById:o.func,activeElement:o.any,body:o.any})});T.itemToString,T.stateReducer,T.environment;const ue=i=>{const{id:s,onSelectCallback:t,filterUserIds:e,typeFilter:u}=i,[d,h]=re.useState([]),p=async I=>{try{const S=await Ye(I,u),n=e!=null&&e.length?S.children.filter(r=>!e.includes(r.ownerId)):S.children;h(n)}catch(S){console.log("onInputValueChange",S)}},C=I=>{t&&t(I)};return V(je,{children:V(ot,{onInputValueChange:I=>{p(I)},onChange:I=>C(I),itemToString:I=>I!=null&&I.name?I.name:"",children:({getInputProps:I,getMenuProps:S,getItemProps:n,isOpen:r,inputValue:l})=>qe("div",{className:"user-search-box",children:[V("input",{...I({className:"form-control",id:s,type:"search",role:"searchbox",placeholder:"Enter the name..."}),style:{marginBottom:"0"}}),V("ul",{...S(),className:r?"users-visible":"",role:"list",children:r?d.filter(a=>!l||`${a.firstName} ${a.lastName}`.includes(l)||a.userName.includes(l)).map((a,c)=>V("li",{...n({key:a.ownerId,index:c,item:a}),children:V(Xe,{userGroupHeader:a,disableHref:!0,showFullName:!0})},`userSearchBox-${c}`)):null})]})})})};try{ue.displayName="UserSearchBox",ue.__docgenInfo={description:"",displayName:"UserSearchBox",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},onSelectCallback:{defaultValue:null,description:"",name:"onSelectCallback",required:!1,type:{name:"((selected: UserGroupHeader) => void)"}},typeFilter:{defaultValue:null,description:"",name:"typeFilter",required:!1,type:{name:"enum",value:[{value:'"USERS_ONLY"'},{value:'"TEAMS_ONLY"'},{value:'"ALL"'}]}},filterUserIds:{defaultValue:null,description:"",name:"filterUserIds",required:!1,type:{name:"string[]"}}}}}catch{}const jn={title:"UI/UserSearchBox",component:ue},Q={};var be,xe,He;Q.parameters={...Q.parameters,docs:{...(be=Q.parameters)==null?void 0:be.docs,source:{originalSource:"{}",...(He=(xe=Q.parameters)==null?void 0:xe.docs)==null?void 0:He.source}}};const qn=["Demo"];export{Q as Demo,qn as __namedExportsOrder,jn as default};
