var DT=Object.defineProperty;var VT=(e,t,n)=>t in e?DT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ht=(e,t,n)=>(VT(e,typeof t!="symbol"?t+"":t,n),n);import{j as f,a as P,F as te}from"./jsx-runtime-095bf462.js";import{r as R,R as J}from"./index-8db94870.js";import{d as rn}from"./dayjs.min-59ef0ea6.js";import{f as So}from"./DateFormatter-3999adb4.js";import{u as Ze,cQ as LT,a1 as qt,a2 as Co,n as $t,z as Yo,av as Ow,cR as FT,C as pe,cS as Sl,L as Cl,N as El,a0 as Nl,cT as qT,cU as Oh,b5 as $u,bB as MT,bO as BT,t as kw,i as Pf,be as UT,ae as oi,m as HT,cV as zT,b3 as Qo,ba as Pw,af as ia,bb as Jr,a4 as Cn,y as kh,ar as jT,aY as ba,aZ as Ph,f as dn,cW as WT,U as GT,ah as KT,E as Dh,w as YT,x as Dw,I as Au,cX as Vw,K as Xo,cY as QT,cZ as XT,l as JT,b4 as ZT,bw as Vh,c_ as eI,aN as Lw,c$ as Fw,bm as qw}from"./SynapseClient-cd42b8b0.js";import{I as De,d as tI,L as nI,H as rI,t as aI}from"./IconSvg-ea1bcb68.js";import{T as Tl,N as iI}from"./SynapseTableConstants-5f56c39f.js";import{c as Jo,g as Er}from"./_commonjsHelpers-042e6b4d.js";import{a as Ou,b as oI,U as gi,c as sI}from"./UserCard-d8555bf0.js";import{P as Mw,T as At,t as Df}from"./Tooltip-e6a8fad5.js";import{E as Vf}from"./EntityLink-ee3c0125.js";import{P as Zr,g as lI,B as uI}from"./getEndpoint-ac94413e.js";import"./OrientationBanner-3e5e2da7.js";import{a as Lh,u as cI}from"./useGetEntityHeaders-391302eb.js";import{u as Fh}from"./index-95cfb7c2.js";import{V as Eo,aC as ku,u as dI,v as fI,t as pI,D as Pu,aD as mI,aE as hI,S as Il,b as Zo,at as Cc,as as gI,q as Lf,c as qh,aF as yI,B as es,aG as vI,ad as bI,i as Mh,e as Bh,f as Bw,g as Uh,h as Hh,j as zh,o as Uw,O as Ff,M as rv,G as _I,F as wI,$ as SI}from"./SynapseConstants-cca80e29.js";import{p as CI,S as Hw,D as EI}from"./RegularExpressions-bc0adf55.js";import{p as oa,a as zw,g as jh}from"./SqlFunctions-d8d27279.js";import{U as NI,a as co,S as TI}from"./UserSearchBoxV2-64f1ba68.js";import{D as zt,E as Ca,C as II,b as Wh,S as RI}from"./ElementWithTooltip-3c0c740b.js";import{W as ts}from"./WideButton-f0b8b47c.js";import{S as Du,l as Gh}from"./LoadingScreen-5786dec8.js";import{u as xI}from"./useTeamMembers-f33e23bf.js";import{C as $I,A as pn}from"./AlertTitle-d92dfb78.js";import{u as jw}from"./useInfiniteQuery-6dd9dc5c.js";import{S as Kh}from"./SkeletonTable-0163a8d6.js";import{S as Xn}from"./Skeleton-a24326d8.js";import{T as le}from"./Typography-c5b8eeae.js";import{E as av}from"./EntityIcon-020b9854.js";import{c as Vu}from"./_commonjs-dynamic-modules-302442b1.js";import{b as AI,d as Ww,e as OI,f as Gw,k as Lu,g as kI,h as PI,i as DI,j as VI,l as Kw,m as LI,_ as FI,n as qI,o as Yw,p as Qw,q as Xw,r as Yh,s as MI,M as Fu}from"./index.modern-2873e19a.js";import{o as Ha,K as Jw,L as Ai,i as nr,g as sa,M as BI,N as UI,O as Zw,v as eS,P as Qh,z as Xh,l as HI,Q as Jh,f as la,R as zI,b as jI,S as Zh,c as ns,u as WI,q as GI,T as KI,a as tS,k as eg,j as tg,G as YI,U as nS,d as rS,h as QI,y as XI,V as JI,I as ZI,x as qu,W as eR,X as tR,Y as nR,D as aS,E as iS,_ as rR}from"./mapValues-b26bbf14.js";import{b as aR,c as Mu}from"./isPlainObject-c2262b51.js";import{t as iR,n as oR}from"./now-9181443a.js";import{a as Oi,g as ki,s as ct,m as ft,e as Pi,_ as ea,f as wn,h as Di,c as cr}from"./styled-96220216.js";import{B as Le}from"./Box-891dc3c7.js";import{B as rt}from"./Button-d3d5b3a8.js";import"./index-8ce4a492.js";import{g as sR,i as ng,k as en,l as Sn,r as lR,t as oS,j as uR,m as cR,u as iv,p as dR,a as fR}from"./unCamelCase-557c2693.js";import{b as Ht,i as pR,a as mR}from"./isNil-58ae61fb.js";import{d as _r,C as hR}from"./ToastMessage-08f9c422.js";import{_ as Re}from"./emotion-use-insertion-effect-with-fallbacks.browser.esm-4abd396b.js";import{k as sS,c as lS}from"./emotion-react.browser.esm-8516f11f.js";import{c as uS,P as cS}from"./factory-275e83af.js";import{u as rs}from"./useEntity-e1f8b991.js";import{a as dS,u as fS,b as Bu}from"./use-deep-compare-effect.esm-7a830988.js";import{s as gR}from"./NoSearchResults-460db635.js";import{s as yR}from"./NoData-59ea70fa.js";import{r as ov,q as vR,c as pS,i as mS,a as bR,b as _R,h as wR}from"./queryUtils-cef08cc1.js";import{c as fr}from"./cloneDeep-45e2676d.js";import{b as SR}from"./LastLoginInfo-00de0e96.js";import{r as CR,i as ER,a as NR}from"./jsx-runtime_commonjs-proxy-0d22bf03.js";import{a as Oa,b as ka,c as as,D as hS}from"./DialogTitle-41c5a17f.js";import{S as Nr}from"./Stack-f7ee2fdc.js";import{I as an}from"./IconButton-1e0dd4f6.js";import{b as Uu,u as TR,c as IR}from"./useGetQueryResultBundle-e3f5f9ac.js";import{i as Ec,o as sv,f as Ga,A as RR,T as rg,a as xR}from"./TextField-46d1fd36.js";import{i as ag}from"./isPlainObject-8762b81f.js";import{g as Se,s as $R}from"./sortBy-e7ea8d39.js";import{o as Rl,_ as AR}from"./pick-558e6cd4.js";import{t as ig}from"./times-0fa5da9b.js";import{R as lv}from"./index-953d39fd.js";import{f as gS,b as Hu,g as yS,h as OR,i as kR,j as PR,k as og,l as DR,m as VR,n as LR,o as FR,p as qR,u as vS,q as bS}from"./useAccessRequirements-7192d2a1.js";import{S as MR}from"./StandaloneLoginForm-07cfed08.js";import{T as fo}from"./TextField-90f0df55.js";import{G as Nc}from"./Grid-c86b3808.js";import{c as BR}from"./useDataAccessSubmission-026cdba4.js";import{R as sg}from"./RadioGroup-eb876a69.js";import{F as uv}from"./Form-b48723b2.js";import{F as UR}from"./FileUpload-8f87122b.js";import{D as ri}from"./Divider-a5888bbc.js";import{L as St}from"./Link-9ad54ce1.js";import{A as HR}from"./AuthenticatedRequirement-04719ff7.js";import{C as zR}from"./CertificationRequirement-86500af6.js";import{V as jR}from"./ValidationRequirement-da02a6c3.js";import{T as WR}from"./TwoFactorAuthEnabledRequirement-603a5c92.js";import{R as lg,a as On}from"./RequirementItem-24c0533f.js";import{A as _S}from"./ActionRequiredCard-407d979e.js";import{R as GR}from"./RequestDownloadCard-7eac3f9f.js";import{T as KR,a as Tc}from"./Tabs-e906015a.js";import{Q as YR}from"./QueryCount-990cb961.js";import{c as Vi,S as QR}from"./createSvgIcon-102248e7.js";import{c as XR,b as al,u as cv}from"./Grow-15d1c4f6.js";import{P as ug}from"./Paper-8ac7942c.js";import{G as JR}from"./GetAppTwoTone-9a0869d1.js";import"./SkeletonButton-1cc36769.js";import{u as ZR}from"./uniqueId-4d05949d.js";import{F as ex}from"./Fade-5a6f6506.js";import{R as wS}from"./RangeSlider-e66fc33f.js";import{r as tx}from"./react-sizeme-5bfc490a.js";import{g as nx}from"./ColorGradient-3d3e1969.js";import{I as rx}from"./InfoOutlined-1265fd90.js";import{S as ax}from"./SelectionCriteriaPill-ee34357c.js";import{u as SS}from"./useTheme-a5fe342b.js";import{B as ix}from"./ButtonBase-0195d275.js";import{d as ox,u as sx,e as CS}from"./useDownloadList-e885042d.js";import{a as lx,U as cg}from"./UserOrTeamBadge-37c17ccb.js";import{L as ux}from"./LinearProgress-ddf61131.js";import{S as cx}from"./SynapseVideo-bf79628d.js";import{I as dx}from"./IconList-60aeb57f.js";import{I as ES}from"./Icon-ddcbfada.js";import{U as fx}from"./UserCardList-df6302dc.js";import{i as ga}from"./inputBaseClasses-f1eaf41c.js";import{u as Ns}from"./TransitionGroupContext-f2b81dde.js";import{s as px,u as mx}from"./useForkRef-f2aa3d66.js";import{C as hx}from"./ErrorChip-4e9635ea.js";import{d as gx}from"./Select-ce3716e1.esm-8435c103.js";const yx=e=>{const t=R.useRef({});return R.useEffect(()=>{t.current=e}),t.current},dg=yx;function vx(e){const{badgeContent:t,invisible:n=!1,max:r=99,showZero:a=!1}=e,i=dg({badgeContent:t,max:r});let o=n;n===!1&&t===0&&!a&&(o=!0);const{badgeContent:s,max:l=r}=o?i:e,c=s&&Number(s)>l?`${l}+`:s;return{badgeContent:s,invisible:o,max:l,displayValue:c}}function dv(e){return typeof e.normalize<"u"?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e}function NS(e={}){const{ignoreAccents:t=!0,ignoreCase:n=!0,limit:r,matchFrom:a="any",stringify:i,trim:o=!1}=e;return(s,{inputValue:l,getOptionLabel:c})=>{let u=o?l.trim():l;n&&(u=u.toLowerCase()),t&&(u=dv(u));const d=u?s.filter(p=>{let m=(i||c)(p);return n&&(m=m.toLowerCase()),t&&(m=dv(m)),a==="start"?m.indexOf(u)===0:m.indexOf(u)>-1}):s;return typeof r=="number"?d.slice(0,r):d}}function Ic(e,t){for(let n=0;n<e.length;n+=1)if(t(e[n]))return n;return-1}const bx=NS(),fv=5,_x=e=>{var t;return e.current!==null&&((t=e.current.parentElement)==null?void 0:t.contains(document.activeElement))};function wx(e){const{unstable_isActiveElementInListbox:t=_x,unstable_classNamePrefix:n="Mui",autoComplete:r=!1,autoHighlight:a=!1,autoSelect:i=!1,blurOnSelect:o=!1,clearOnBlur:s=!e.freeSolo,clearOnEscape:l=!1,componentName:c="useAutocomplete",defaultValue:u=e.multiple?[]:null,disableClearable:d=!1,disableCloseOnSelect:p=!1,disabled:m,disabledItemsFocusable:h=!1,disableListWrap:g=!1,filterOptions:y=bx,filterSelectedOptions:v=!1,freeSolo:w=!1,getOptionDisabled:_,getOptionLabel:b=Y=>{var X;return(X=Y.label)!=null?X:Y},groupBy:E,handleHomeEndKeys:S=!e.freeSolo,id:N,includeInputInList:C=!1,inputValue:I,isOptionEqualToValue:k=(Y,X)=>Y===X,multiple:O=!1,onChange:M,onClose:q,onHighlightChange:$,onInputChange:B,onOpen:L,open:F,openOnFocus:z=!1,options:D,readOnly:x=!1,selectOnFocus:A=!e.freeSolo,value:j}=e,U=XR(N);let T=b;T=Y=>{const X=b(Y);return typeof X!="string"?String(X):X};const V=R.useRef(!1),K=R.useRef(!0),Z=R.useRef(null),Q=R.useRef(null),[re,se]=R.useState(null),[de,xe]=R.useState(-1),qe=a?0:-1,he=R.useRef(qe),[ie,Te]=al({controlled:j,default:u,name:c}),[ae,Ge]=al({controlled:I,default:"",name:c,state:"inputValue"}),[Qe,bt]=R.useState(!1),Nt=R.useCallback((Y,X)=>{if(!(O?ie.length<X.length:X!==null)&&!s)return;let ue;if(O)ue="";else if(X==null)ue="";else{const fe=T(X);ue=typeof fe=="string"?fe:""}ae!==ue&&(Ge(ue),B&&B(Y,ue,"reset"))},[T,ae,O,B,Ge,s,ie]),[Me,Ke]=al({controlled:F,default:!1,name:c,state:"open"}),[dt,Ee]=R.useState(!0),Ie=!O&&ie!=null&&ae===T(ie),ce=Me&&!x,ve=ce?y(D.filter(Y=>!(v&&(O?ie:[ie]).some(X=>X!==null&&k(Y,X)))),{inputValue:Ie&&dt?"":ae,getOptionLabel:T}):[],Pe=dg({filteredOptions:ve,value:ie,inputValue:ae});R.useEffect(()=>{const Y=ie!==Pe.value;Qe&&!Y||w&&!Y||Nt(null,ie)},[ie,Nt,Qe,Pe.value,w]);const Be=Me&&ve.length>0&&!x,Ne=Ns(Y=>{Y===-1?Z.current.focus():re.querySelector(`[data-tag-index="${Y}"]`).focus()});R.useEffect(()=>{O&&de>ie.length-1&&(xe(-1),Ne(-1))},[ie,O,de,Ne]);function ge(Y,X){if(!Q.current||Y===-1)return-1;let oe=Y;for(;;){if(X==="next"&&oe===ve.length||X==="previous"&&oe===-1)return-1;const ue=Q.current.querySelector(`[data-option-index="${oe}"]`),fe=h?!1:!ue||ue.disabled||ue.getAttribute("aria-disabled")==="true";if(ue&&!ue.hasAttribute("tabindex")||fe)oe+=X==="next"?1:-1;else return oe}}const ze=Ns(({event:Y,index:X,reason:oe="auto"})=>{if(he.current=X,X===-1?Z.current.removeAttribute("aria-activedescendant"):Z.current.setAttribute("aria-activedescendant",`${U}-option-${X}`),$&&$(Y,X===-1?null:ve[X],oe),!Q.current)return;const ue=Q.current.querySelector(`[role="option"].${n}-focused`);ue&&(ue.classList.remove(`${n}-focused`),ue.classList.remove(`${n}-focusVisible`));let fe=Q.current;if(Q.current.getAttribute("role")!=="listbox"&&(fe=Q.current.parentElement.querySelector('[role="listbox"]')),!fe)return;if(X===-1){fe.scrollTop=0;return}const $e=Q.current.querySelector(`[data-option-index="${X}"]`);if($e&&($e.classList.add(`${n}-focused`),oe==="keyboard"&&$e.classList.add(`${n}-focusVisible`),fe.scrollHeight>fe.clientHeight&&oe!=="mouse")){const ke=$e,we=fe.clientHeight+fe.scrollTop,et=ke.offsetTop+ke.offsetHeight;et>we?fe.scrollTop=et-fe.clientHeight:ke.offsetTop-ke.offsetHeight*(E?1.3:0)<fe.scrollTop&&(fe.scrollTop=ke.offsetTop-ke.offsetHeight*(E?1.3:0))}}),at=Ns(({event:Y,diff:X,direction:oe="next",reason:ue="auto"})=>{if(!ce)return;const $e=ge((()=>{const ke=ve.length-1;if(X==="reset")return qe;if(X==="start")return 0;if(X==="end")return ke;const we=he.current+X;return we<0?we===-1&&C?-1:g&&he.current!==-1||Math.abs(X)>1?0:ke:we>ke?we===ke+1&&C?-1:g||Math.abs(X)>1?ke:0:we})(),oe);if(ze({index:$e,reason:ue,event:Y}),r&&X!=="reset")if($e===-1)Z.current.value=ae;else{const ke=T(ve[$e]);Z.current.value=ke,ke.toLowerCase().indexOf(ae.toLowerCase())===0&&ae.length>0&&Z.current.setSelectionRange(ae.length,ke.length)}}),ln=()=>{const Y=(X,oe)=>{const ue=X?T(X):"",fe=oe?T(oe):"";return ue===fe};if(he.current!==-1&&Pe.filteredOptions&&Pe.filteredOptions.length!==ve.length&&Pe.inputValue===ae&&(O?ie.length===Pe.value.length&&Pe.value.every((X,oe)=>T(ie[oe])===T(X)):Y(Pe.value,ie))){const X=Pe.filteredOptions[he.current];if(X&&ve.some(ue=>T(ue)===T(X)))return!0}return!1},xt=R.useCallback(()=>{if(!ce||ln())return;const Y=O?ie[0]:ie;if(ve.length===0||Y==null){at({diff:"reset"});return}if(Q.current){if(Y!=null){const X=ve[he.current];if(O&&X&&Ic(ie,ue=>k(X,ue))!==-1)return;const oe=Ic(ve,ue=>k(ue,Y));oe===-1?at({diff:"reset"}):ze({index:oe});return}if(he.current>=ve.length-1){ze({index:ve.length-1});return}ze({index:he.current})}},[ve.length,O?!1:ie,v,at,ze,ce,ae,O]),kt=Ns(Y=>{px(Q,Y),Y&&xt()});R.useEffect(()=>{xt()},[xt]);const jt=Y=>{Me||(Ke(!0),Ee(!0),L&&L(Y))},Pt=(Y,X)=>{Me&&(Ke(!1),q&&q(Y,X))},Bt=(Y,X,oe,ue)=>{if(O){if(ie.length===X.length&&ie.every((fe,$e)=>fe===X[$e]))return}else if(ie===X)return;M&&M(Y,X,oe,ue),Te(X)},un=R.useRef(!1),Vt=(Y,X,oe="selectOption",ue="options")=>{let fe=oe,$e=X;if(O){$e=Array.isArray(ie)?ie.slice():[];const ke=Ic($e,we=>k(X,we));ke===-1?$e.push(X):ue!=="freeSolo"&&($e.splice(ke,1),fe="removeOption")}Nt(Y,$e),Bt(Y,$e,fe,{option:X}),!p&&(!Y||!Y.ctrlKey&&!Y.metaKey)&&Pt(Y,fe),(o===!0||o==="touch"&&un.current||o==="mouse"&&!un.current)&&Z.current.blur()};function ca(Y,X){if(Y===-1)return-1;let oe=Y;for(;;){if(X==="next"&&oe===ie.length||X==="previous"&&oe===-1)return-1;const ue=re.querySelector(`[data-tag-index="${oe}"]`);if(!ue||!ue.hasAttribute("tabindex")||ue.disabled||ue.getAttribute("aria-disabled")==="true")oe+=X==="next"?1:-1;else return oe}}const Qt=(Y,X)=>{if(!O)return;ae===""&&Pt(Y,"toggleInput");let oe=de;de===-1?ae===""&&X==="previous"&&(oe=ie.length-1):(oe+=X==="next"?1:-1,oe<0&&(oe=0),oe===ie.length&&(oe=-1)),oe=ca(oe,X),xe(oe),Ne(oe)},Rr=Y=>{V.current=!0,Ge(""),B&&B(Y,"","clear"),Bt(Y,O?[]:null,"clear")},xr=Y=>X=>{if(Y.onKeyDown&&Y.onKeyDown(X),!X.defaultMuiPrevented&&(de!==-1&&["ArrowLeft","ArrowRight"].indexOf(X.key)===-1&&(xe(-1),Ne(-1)),X.which!==229))switch(X.key){case"Home":ce&&S&&(X.preventDefault(),at({diff:"start",direction:"next",reason:"keyboard",event:X}));break;case"End":ce&&S&&(X.preventDefault(),at({diff:"end",direction:"previous",reason:"keyboard",event:X}));break;case"PageUp":X.preventDefault(),at({diff:-fv,direction:"previous",reason:"keyboard",event:X}),jt(X);break;case"PageDown":X.preventDefault(),at({diff:fv,direction:"next",reason:"keyboard",event:X}),jt(X);break;case"ArrowDown":X.preventDefault(),at({diff:1,direction:"next",reason:"keyboard",event:X}),jt(X);break;case"ArrowUp":X.preventDefault(),at({diff:-1,direction:"previous",reason:"keyboard",event:X}),jt(X);break;case"ArrowLeft":Qt(X,"previous");break;case"ArrowRight":Qt(X,"next");break;case"Enter":if(he.current!==-1&&ce){const oe=ve[he.current],ue=_?_(oe):!1;if(X.preventDefault(),ue)return;Vt(X,oe,"selectOption"),r&&Z.current.setSelectionRange(Z.current.value.length,Z.current.value.length)}else w&&ae!==""&&Ie===!1&&(O&&X.preventDefault(),Vt(X,ae,"createOption","freeSolo"));break;case"Escape":ce?(X.preventDefault(),X.stopPropagation(),Pt(X,"escape")):l&&(ae!==""||O&&ie.length>0)&&(X.preventDefault(),X.stopPropagation(),Rr(X));break;case"Backspace":if(O&&!x&&ae===""&&ie.length>0){const oe=de===-1?ie.length-1:de,ue=ie.slice();ue.splice(oe,1),Bt(X,ue,"removeOption",{option:ie[oe]})}break;case"Delete":if(O&&!x&&ae===""&&ie.length>0&&de!==-1){const oe=de,ue=ie.slice();ue.splice(oe,1),Bt(X,ue,"removeOption",{option:ie[oe]})}break}},da=Y=>{bt(!0),z&&!V.current&&jt(Y)},_t=Y=>{if(t(Q)){Z.current.focus();return}bt(!1),K.current=!0,V.current=!1,i&&he.current!==-1&&ce?Vt(Y,ve[he.current],"blur"):i&&w&&ae!==""?Vt(Y,ae,"blur","freeSolo"):s&&Nt(Y,ie),Pt(Y,"blur")},mt=Y=>{const X=Y.target.value;ae!==X&&(Ge(X),Ee(!1),B&&B(Y,X,"input")),X===""?!d&&!O&&Bt(Y,null,"clear"):jt(Y)},Wt=Y=>{const X=Number(Y.currentTarget.getAttribute("data-option-index"));he.current!==X&&ze({event:Y,index:X,reason:"mouse"})},fa=Y=>{ze({event:Y,index:Number(Y.currentTarget.getAttribute("data-option-index")),reason:"touch"}),un.current=!0},pa=Y=>{const X=Number(Y.currentTarget.getAttribute("data-option-index"));Vt(Y,ve[X],"selectOption"),un.current=!1},ma=Y=>X=>{const oe=ie.slice();oe.splice(Y,1),Bt(X,oe,"removeOption",{option:ie[Y]})},W=Y=>{Me?Pt(Y,"toggleInput"):jt(Y)},H=Y=>{Y.currentTarget.contains(Y.target)&&Y.target.getAttribute("id")!==U&&Y.preventDefault()},G=Y=>{Y.currentTarget.contains(Y.target)&&(Z.current.focus(),A&&K.current&&Z.current.selectionEnd-Z.current.selectionStart===0&&Z.current.select(),K.current=!1)},ne=Y=>{(ae===""||!Me)&&W(Y)};let ee=w&&ae.length>0;ee=ee||(O?ie.length>0:ie!==null);let me=ve;return E&&(me=ve.reduce((Y,X,oe)=>{const ue=E(X);return Y.length>0&&Y[Y.length-1].group===ue?Y[Y.length-1].options.push(X):Y.push({key:oe,index:oe,group:ue,options:[X]}),Y},[])),m&&Qe&&_t(),{getRootProps:(Y={})=>Re({"aria-owns":Be?`${U}-listbox`:null},Y,{onKeyDown:xr(Y),onMouseDown:H,onClick:G}),getInputLabelProps:()=>({id:`${U}-label`,htmlFor:U}),getInputProps:()=>({id:U,value:ae,onBlur:_t,onFocus:da,onChange:mt,onMouseDown:ne,"aria-activedescendant":ce?"":null,"aria-autocomplete":r?"both":"list","aria-controls":Be?`${U}-listbox`:void 0,"aria-expanded":Be,autoComplete:"off",ref:Z,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:m}),getClearProps:()=>({tabIndex:-1,onClick:Rr}),getPopupIndicatorProps:()=>({tabIndex:-1,onClick:W}),getTagProps:({index:Y})=>Re({key:Y,"data-tag-index":Y,tabIndex:-1},!x&&{onDelete:ma(Y)}),getListboxProps:()=>({role:"listbox",id:`${U}-listbox`,"aria-labelledby":`${U}-label`,ref:kt,onMouseDown:Y=>{Y.preventDefault()}}),getOptionProps:({index:Y,option:X})=>{const oe=(O?ie:[ie]).some(fe=>fe!=null&&k(X,fe)),ue=_?_(X):!1;return{key:T(X),tabIndex:-1,role:"option",id:`${U}-option-${Y}`,onMouseMove:Wt,onClick:pa,onTouchStart:fa,"data-option-index":Y,"aria-disabled":ue,"aria-selected":oe}},id:U,inputValue:ae,value:ie,dirty:ee,expanded:ce&&re,popupOpen:ce,focused:Qe||de!==-1,anchorEl:re,setAnchorEl:se,focusedTag:de,groupedOptions:me}}function Sx(e){return Oi("MuiListSubheader",e)}ki("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const Cx=["className","color","component","disableGutters","disableSticky","inset"],Ex=e=>{const{classes:t,color:n,disableGutters:r,inset:a,disableSticky:i}=e,o={root:["root",n!=="default"&&`color${ft(n)}`,!r&&"gutters",a&&"inset",!i&&"sticky"]};return Di(o,Sx,t)},Nx=ct("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${ft(n.color)}`],!n.disableGutters&&t.gutters,n.inset&&t.inset,!n.disableSticky&&t.sticky]}})(({theme:e,ownerState:t})=>Re({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(e.vars||e).palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14)},t.color==="primary"&&{color:(e.vars||e).palette.primary.main},t.color==="inherit"&&{color:"inherit"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.inset&&{paddingLeft:72},!t.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(e.vars||e).palette.background.paper})),TS=R.forwardRef(function(t,n){const r=Pi({props:t,name:"MuiListSubheader"}),{className:a,color:i="default",component:o="li",disableGutters:s=!1,disableSticky:l=!1,inset:c=!1}=r,u=ea(r,Cx),d=Re({},r,{color:i,component:o,disableGutters:s,disableSticky:l,inset:c}),p=Ex(d);return f(Nx,Re({as:o,className:wn(p.root,a),ref:n,ownerState:d},u))});TS.muiSkipListHighlight=!0;const Tx=TS;function Ix(e){return Oi("MuiAutocomplete",e)}const Rx=ki("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]),We=Rx;var pv,mv;const xx=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","slotProps","value"],$x=["ref"],Ax=e=>{const{classes:t,disablePortal:n,expanded:r,focused:a,fullWidth:i,hasClearIcon:o,hasPopupIcon:s,inputFocused:l,popupOpen:c,size:u}=e,d={root:["root",r&&"expanded",a&&"focused",i&&"fullWidth",o&&"hasClearIcon",s&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",l&&"inputFocused"],tag:["tag",`tagSize${ft(u)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",c&&"popupIndicatorOpen"],popper:["popper",n&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return Di(d,Ix,t)},Ox=ct("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{fullWidth:r,hasClearIcon:a,hasPopupIcon:i,inputFocused:o,size:s}=n;return[{[`& .${We.tag}`]:t.tag},{[`& .${We.tag}`]:t[`tagSize${ft(s)}`]},{[`& .${We.inputRoot}`]:t.inputRoot},{[`& .${We.input}`]:t.input},{[`& .${We.input}`]:o&&t.inputFocused},t.root,r&&t.fullWidth,i&&t.hasPopupIcon,a&&t.hasClearIcon]}})(({ownerState:e})=>Re({[`&.${We.focused} .${We.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${We.clearIndicator}`]:{visibility:"visible"}}},e.fullWidth&&{width:"100%"},{[`& .${We.tag}`]:Re({margin:3,maxWidth:"calc(100% - 6px)"},e.size==="small"&&{margin:2,maxWidth:"calc(100% - 4px)"}),[`& .${We.inputRoot}`]:{flexWrap:"wrap",[`.${We.hasPopupIcon}&, .${We.hasClearIcon}&`]:{paddingRight:26+4},[`.${We.hasPopupIcon}.${We.hasClearIcon}&`]:{paddingRight:52+4},[`& .${We.input}`]:{width:0,minWidth:30}},[`& .${Ec.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${Ec.root}.${ga.sizeSmall}`]:{[`& .${Ec.input}`]:{padding:"2px 4px 3px 0"}},[`& .${sv.root}`]:{padding:9,[`.${We.hasPopupIcon}&, .${We.hasClearIcon}&`]:{paddingRight:26+4+9},[`.${We.hasPopupIcon}.${We.hasClearIcon}&`]:{paddingRight:52+4+9},[`& .${We.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${We.endAdornment}`]:{right:9}},[`& .${sv.root}.${ga.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${We.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${Ga.root}`]:{paddingTop:19,paddingLeft:8,[`.${We.hasPopupIcon}&, .${We.hasClearIcon}&`]:{paddingRight:26+4+9},[`.${We.hasPopupIcon}.${We.hasClearIcon}&`]:{paddingRight:52+4+9},[`& .${Ga.input}`]:{padding:"7px 4px"},[`& .${We.endAdornment}`]:{right:9}},[`& .${Ga.root}.${ga.sizeSmall}`]:{paddingBottom:1,[`& .${Ga.input}`]:{padding:"2.5px 4px"}},[`& .${ga.hiddenLabel}`]:{paddingTop:8},[`& .${Ga.root}.${ga.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${We.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${Ga.root}.${ga.hiddenLabel}.${ga.sizeSmall}`]:{[`& .${We.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${We.input}`]:Re({flexGrow:1,textOverflow:"ellipsis",opacity:0},e.inputFocused&&{opacity:1})})),kx=ct("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(e,t)=>t.endAdornment})({position:"absolute",right:0,top:"calc(50% - 14px)"}),Px=ct(an,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(e,t)=>t.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),Dx=ct(an,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:({ownerState:e},t)=>Re({},t.popupIndicator,e.popupOpen&&t.popupIndicatorOpen)})(({ownerState:e})=>Re({padding:2,marginRight:-2},e.popupOpen&&{transform:"rotate(180deg)"})),Vx=ct(Mw,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${We.option}`]:t.option},t.popper,n.disablePortal&&t.popperDisablePortal]}})(({theme:e,ownerState:t})=>Re({zIndex:(e.vars||e).zIndex.modal},t.disablePortal&&{position:"absolute"})),Lx=ct(ug,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(e,t)=>t.paper})(({theme:e})=>Re({},e.typography.body1,{overflow:"auto"})),Fx=ct("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(e,t)=>t.loading})(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"})),qx=ct("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(e,t)=>t.noOptions})(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"})),Mx=ct("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(e,t)=>t.listbox})(({theme:e})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${We.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[e.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${We.focused}`]:{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${We.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:cr(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${We.focused}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:cr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${We.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:cr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}}}})),Bx=ct(Tx,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(e,t)=>t.groupLabel})(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,top:-8})),Ux=ct("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(e,t)=>t.groupUl})({padding:0,[`& .${We.option}`]:{paddingLeft:24}}),Hx=R.forwardRef(function(t,n){var r,a,i,o;const s=Pi({props:t,name:"MuiAutocomplete"}),{autoComplete:l=!1,autoHighlight:c=!1,autoSelect:u=!1,blurOnSelect:d=!1,ChipProps:p,className:m,clearIcon:h=pv||(pv=f($I,{fontSize:"small"})),clearOnBlur:g=!s.freeSolo,clearOnEscape:y=!1,clearText:v="Clear",closeText:w="Close",componentsProps:_={},defaultValue:b=s.multiple?[]:null,disableClearable:E=!1,disableCloseOnSelect:S=!1,disabled:N=!1,disabledItemsFocusable:C=!1,disableListWrap:I=!1,disablePortal:k=!1,filterSelectedOptions:O=!1,forcePopupIcon:M="auto",freeSolo:q=!1,fullWidth:$=!1,getLimitTagsText:B=Y=>`+${Y}`,getOptionLabel:L=Y=>{var X;return(X=Y.label)!=null?X:Y},groupBy:F,handleHomeEndKeys:z=!s.freeSolo,includeInputInList:D=!1,limitTags:x=-1,ListboxComponent:A="ul",ListboxProps:j,loading:U=!1,loadingText:T="Loading…",multiple:V=!1,noOptionsText:K="No options",openOnFocus:Z=!1,openText:Q="Open",PaperComponent:re=ug,PopperComponent:se=Mw,popupIcon:de=mv||(mv=f(RR,{})),readOnly:xe=!1,renderGroup:qe,renderInput:he,renderOption:ie,renderTags:Te,selectOnFocus:ae=!s.freeSolo,size:Ge="medium",slotProps:Qe={}}=s,bt=ea(s,xx),{getRootProps:Nt,getInputProps:Me,getInputLabelProps:Ke,getPopupIndicatorProps:dt,getClearProps:Ee,getTagProps:Ie,getListboxProps:ce,getOptionProps:ve,value:Pe,dirty:Be,expanded:Ne,id:ge,popupOpen:ze,focused:at,focusedTag:ln,anchorEl:xt,setAnchorEl:kt,inputValue:jt,groupedOptions:Pt}=wx(Re({},s,{componentName:"Autocomplete"})),Bt=!E&&!N&&Be&&!xe,un=(!q||M===!0)&&M!==!1,{onMouseDown:Vt}=Me(),{ref:ca}=j??{},Qt=ce(),{ref:Rr}=Qt,xr=ea(Qt,$x),da=mx(Rr,ca),_t=Re({},s,{disablePortal:k,expanded:Ne,focused:at,fullWidth:$,hasClearIcon:Bt,hasPopupIcon:un,inputFocused:ln===-1,popupOpen:ze,size:Ge}),mt=Ax(_t);let Wt;if(V&&Pe.length>0){const Y=X=>Re({className:mt.tag,disabled:N},Ie(X));Te?Wt=Te(Pe,Y,_t):Wt=Pe.map((X,oe)=>f(hx,Re({label:L(X),size:Ge},Y({index:oe}),p)))}if(x>-1&&Array.isArray(Wt)){const Y=Wt.length-x;!at&&Y>0&&(Wt=Wt.splice(0,x),Wt.push(f("span",{className:mt.tag,children:B(Y)},Wt.length)))}const pa=qe||(Y=>P("li",{children:[f(Bx,{className:mt.groupLabel,ownerState:_t,component:"div",children:Y.group}),f(Ux,{className:mt.groupUl,ownerState:_t,children:Y.children})]},Y.key)),W=ie||((Y,X)=>f("li",Re({},Y,{children:L(X)}))),H=(Y,X)=>{const oe=ve({option:Y,index:X});return W(Re({},oe,{className:mt.option}),Y,{selected:oe["aria-selected"],index:X,inputValue:jt})},G=(r=Qe.clearIndicator)!=null?r:_.clearIndicator,ne=(a=Qe.paper)!=null?a:_.paper,ee=(i=Qe.popper)!=null?i:_.popper,me=(o=Qe.popupIndicator)!=null?o:_.popupIndicator;return P(R.Fragment,{children:[f(Ox,Re({ref:n,className:wn(mt.root,m),ownerState:_t},Nt(bt),{children:he({id:ge,disabled:N,fullWidth:!0,size:Ge==="small"?"small":void 0,InputLabelProps:Ke(),InputProps:Re({ref:kt,className:mt.inputRoot,startAdornment:Wt,onClick:Y=>{Y.target===Y.currentTarget&&Vt(Y)}},(Bt||un)&&{endAdornment:P(kx,{className:mt.endAdornment,ownerState:_t,children:[Bt?f(Px,Re({},Ee(),{"aria-label":v,title:v,ownerState:_t},G,{className:wn(mt.clearIndicator,G==null?void 0:G.className),children:h})):null,un?f(Dx,Re({},dt(),{disabled:N,"aria-label":ze?w:Q,title:ze?w:Q,ownerState:_t},me,{className:wn(mt.popupIndicator,me==null?void 0:me.className),children:de})):null]})}),inputProps:Re({className:mt.input,disabled:N,readOnly:xe},Me())})})),xt?f(Vx,Re({as:se,disablePortal:k,style:{width:xt?xt.clientWidth:null},ownerState:_t,role:"presentation",anchorEl:xt,open:ze},ee,{className:wn(mt.popper,ee==null?void 0:ee.className),children:P(Lx,Re({ownerState:_t,as:re},ne,{className:wn(mt.paper,ne==null?void 0:ne.className),children:[U&&Pt.length===0?f(Fx,{className:mt.loading,ownerState:_t,children:T}):null,Pt.length===0&&!q&&!U?f(qx,{className:mt.noOptions,ownerState:_t,role:"presentation",onMouseDown:Y=>{Y.preventDefault()},children:K}):null,Pt.length>0?f(Mx,Re({as:A,className:mt.listbox,ownerState:_t},xr,j,{ref:da,children:Pt.map((Y,X)=>F?pa({key:Y.key,group:Y.group,children:Y.options.map((oe,ue)=>H(oe,Y.index+ue))}):H(Y,X))})):null]}))})):null]})}),zx=Hx;function jx(e){return Oi("MuiBadge",e)}const Wx=ki("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),Ar=Wx,Gx=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],Rc=10,xc=4,Kx=e=>{const{color:t,anchorOrigin:n,invisible:r,overlap:a,variant:i,classes:o={}}=e,s={root:["root"],badge:["badge",i,r&&"invisible",`anchorOrigin${ft(n.vertical)}${ft(n.horizontal)}`,`anchorOrigin${ft(n.vertical)}${ft(n.horizontal)}${ft(a)}`,`overlap${ft(a)}`,t!=="default"&&`color${ft(t)}`]};return Di(s,jx,o)},Yx=ct("span",{name:"MuiBadge",slot:"Root",overridesResolver:(e,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),Qx=ct("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.badge,t[n.variant],t[`anchorOrigin${ft(n.anchorOrigin.vertical)}${ft(n.anchorOrigin.horizontal)}${ft(n.overlap)}`],n.color!=="default"&&t[`color${ft(n.color)}`],n.invisible&&t.invisible]}})(({theme:e,ownerState:t})=>Re({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:Rc*2,lineHeight:1,padding:"0 6px",height:Rc*2,borderRadius:Rc,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen})},t.color!=="default"&&{backgroundColor:(e.vars||e).palette[t.color].main,color:(e.vars||e).palette[t.color].contrastText},t.variant==="dot"&&{borderRadius:xc,height:xc*2,minWidth:xc*2,padding:0},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular"&&{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Ar.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular"&&{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Ar.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular"&&{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Ar.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular"&&{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Ar.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular"&&{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Ar.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular"&&{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Ar.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular"&&{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Ar.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular"&&{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Ar.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},t.invisible&&{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})})),Xx=R.forwardRef(function(t,n){var r,a,i,o,s,l;const c=Pi({props:t,name:"MuiBadge"}),{anchorOrigin:u={vertical:"top",horizontal:"right"},className:d,component:p,components:m={},componentsProps:h={},children:g,overlap:y="rectangular",color:v="default",invisible:w=!1,max:_=99,badgeContent:b,slots:E,slotProps:S,showZero:N=!1,variant:C="standard"}=c,I=ea(c,Gx),{badgeContent:k,invisible:O,max:M,displayValue:q}=vx({max:_,invisible:w,badgeContent:b,showZero:N}),$=dg({anchorOrigin:u,color:v,overlap:y,variant:C,badgeContent:b}),B=O||k==null&&C!=="dot",{color:L=v,overlap:F=y,anchorOrigin:z=u,variant:D=C}=B?$:c,x=D!=="dot"?q:void 0,A=Re({},c,{badgeContent:k,invisible:B,max:M,displayValue:x,showZero:N,anchorOrigin:z,color:L,overlap:F,variant:D}),j=Kx(A),U=(r=(a=E==null?void 0:E.root)!=null?a:m.Root)!=null?r:Yx,T=(i=(o=E==null?void 0:E.badge)!=null?o:m.Badge)!=null?i:Qx,V=(s=S==null?void 0:S.root)!=null?s:h.root,K=(l=S==null?void 0:S.badge)!=null?l:h.badge,Z=cv({elementType:U,externalSlotProps:V,externalForwardedProps:I,additionalProps:{ref:n,as:p},ownerState:A,className:wn(V==null?void 0:V.className,j.root,d)}),Q=cv({elementType:T,externalSlotProps:K,ownerState:A,className:wn(j.badge,K==null?void 0:K.className)});return P(U,Re({},Z,{children:[g,f(T,Re({},Q,{children:x}))]}))}),Jx=Xx;function Zx(e){return Oi("MuiCircularProgress",e)}ki("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const e$=["className","color","disableShrink","size","style","thickness","value","variant"];let zu=e=>e,hv,gv,yv,vv;const Or=44,t$=sS(hv||(hv=zu`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),n$=sS(gv||(gv=zu`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),r$=e=>{const{classes:t,variant:n,color:r,disableShrink:a}=e,i={root:["root",n,`color${ft(r)}`],svg:["svg"],circle:["circle",`circle${ft(n)}`,a&&"circleDisableShrink"]};return Di(i,Zx,t)},a$=ct("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${ft(n.color)}`]]}})(({ownerState:e,theme:t})=>Re({display:"inline-block"},e.variant==="determinate"&&{transition:t.transitions.create("transform")},e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main}),({ownerState:e})=>e.variant==="indeterminate"&&lS(yv||(yv=zu`
      animation: ${0} 1.4s linear infinite;
    `),t$)),i$=ct("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),o$=ct("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${ft(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(({ownerState:e,theme:t})=>Re({stroke:"currentColor"},e.variant==="determinate"&&{transition:t.transitions.create("stroke-dashoffset")},e.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink&&lS(vv||(vv=zu`
      animation: ${0} 1.4s ease-in-out infinite;
    `),n$)),s$=R.forwardRef(function(t,n){const r=Pi({props:t,name:"MuiCircularProgress"}),{className:a,color:i="primary",disableShrink:o=!1,size:s=40,style:l,thickness:c=3.6,value:u=0,variant:d="indeterminate"}=r,p=ea(r,e$),m=Re({},r,{color:i,disableShrink:o,size:s,thickness:c,value:u,variant:d}),h=r$(m),g={},y={},v={};if(d==="determinate"){const w=2*Math.PI*((Or-c)/2);g.strokeDasharray=w.toFixed(3),v["aria-valuenow"]=Math.round(u),g.strokeDashoffset=`${((100-u)/100*w).toFixed(3)}px`,y.transform="rotate(-90deg)"}return f(a$,Re({className:wn(h.root,a),style:Re({width:s,height:s},y,l),ownerState:m,ref:n,role:"progressbar"},v,p,{children:f(i$,{className:h.svg,ownerState:m,viewBox:`${Or/2} ${Or/2} ${Or} ${Or}`,children:f(o$,{className:h.circle,style:g,ownerState:m,cx:Or,cy:Or,r:(Or-c)/2,fill:"none",strokeWidth:c})})}))}),l$=s$;function u$(e){return Oi("MuiPagination",e)}ki("MuiPagination",["root","ul","outlined","text"]);const c$=["boundaryCount","componentName","count","defaultPage","disabled","hideNextButton","hidePrevButton","onChange","page","showFirstButton","showLastButton","siblingCount"];function d$(e={}){const{boundaryCount:t=1,componentName:n="usePagination",count:r=1,defaultPage:a=1,disabled:i=!1,hideNextButton:o=!1,hidePrevButton:s=!1,onChange:l,page:c,showFirstButton:u=!1,showLastButton:d=!1,siblingCount:p=1}=e,m=ea(e,c$),[h,g]=al({controlled:c,default:a,name:n,state:"page"}),y=(I,k)=>{c||g(k),l&&l(I,k)},v=(I,k)=>{const O=k-I+1;return Array.from({length:O},(M,q)=>I+q)},w=v(1,Math.min(t,r)),_=v(Math.max(r-t+1,t+1),r),b=Math.max(Math.min(h-p,r-t-p*2-1),t+2),E=Math.min(Math.max(h+p,t+p*2+2),_.length>0?_[0]-2:r-1),S=[...u?["first"]:[],...s?[]:["previous"],...w,...b>t+2?["start-ellipsis"]:t+1<r-t?[t+1]:[],...v(b,E),...E<r-t-1?["end-ellipsis"]:r-t>t?[r-t]:[],..._,...o?[]:["next"],...d?["last"]:[]],N=I=>{switch(I){case"first":return 1;case"previous":return h-1;case"next":return h+1;case"last":return r;default:return null}},C=S.map(I=>typeof I=="number"?{onClick:k=>{y(k,I)},type:"page",page:I,selected:I===h,disabled:i,"aria-current":I===h?"true":void 0}:{onClick:k=>{y(k,N(I))},type:I,page:N(I),selected:!1,disabled:i||I.indexOf("ellipsis")===-1&&(I==="next"||I==="last"?h>=r:h<=1)});return Re({items:C},m)}function f$(e){return Oi("MuiPaginationItem",e)}const p$=ki("MuiPaginationItem",["root","page","sizeSmall","sizeLarge","text","textPrimary","textSecondary","outlined","outlinedPrimary","outlinedSecondary","rounded","ellipsis","firstLast","previousNext","focusVisible","disabled","selected","icon"]),bn=p$,bv=Vi(f("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),_v=Vi(f("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),wv=Vi(f("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore"),Sv=Vi(f("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext"),m$=["className","color","component","components","disabled","page","selected","shape","size","slots","type","variant"],IS=(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${ft(n.size)}`],n.variant==="text"&&t[`text${ft(n.color)}`],n.variant==="outlined"&&t[`outlined${ft(n.color)}`],n.shape==="rounded"&&t.rounded,n.type==="page"&&t.page,(n.type==="start-ellipsis"||n.type==="end-ellipsis")&&t.ellipsis,(n.type==="previous"||n.type==="next")&&t.previousNext,(n.type==="first"||n.type==="last")&&t.firstLast]},h$=e=>{const{classes:t,color:n,disabled:r,selected:a,size:i,shape:o,type:s,variant:l}=e,c={root:["root",`size${ft(i)}`,l,o,n!=="standard"&&`${l}${ft(n)}`,r&&"disabled",a&&"selected",{page:"page",first:"firstLast",last:"firstLast","start-ellipsis":"ellipsis","end-ellipsis":"ellipsis",previous:"previousNext",next:"previousNext"}[s]],icon:["icon"]};return Di(c,f$,t)},g$=ct("div",{name:"MuiPaginationItem",slot:"Root",overridesResolver:IS})(({theme:e,ownerState:t})=>Re({},e.typography.body2,{borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,padding:"0 6px",margin:"0 3px",color:(e.vars||e).palette.text.primary,height:"auto",[`&.${bn.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.size==="small"&&{minWidth:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"},t.size==="large"&&{minWidth:40,borderRadius:40/2,padding:"0 10px",fontSize:e.typography.pxToRem(15)})),y$=ct(ix,{name:"MuiPaginationItem",slot:"Root",overridesResolver:IS})(({theme:e,ownerState:t})=>Re({},e.typography.body2,{borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:(e.vars||e).palette.text.primary,[`&.${bn.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${bn.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},transition:e.transitions.create(["color","background-color"],{duration:e.transitions.duration.short}),"&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${bn.selected}`]:{backgroundColor:(e.vars||e).palette.action.selected,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selected} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:cr(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${bn.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selected} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:cr(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},[`&.${bn.disabled}`]:{opacity:1,color:(e.vars||e).palette.action.disabled,backgroundColor:(e.vars||e).palette.action.selected}}},t.size==="small"&&{minWidth:26,height:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"},t.size==="large"&&{minWidth:40,height:40,borderRadius:40/2,padding:"0 10px",fontSize:e.typography.pxToRem(15)},t.shape==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius}),({theme:e,ownerState:t})=>Re({},t.variant==="text"&&{[`&.${bn.selected}`]:Re({},t.color!=="standard"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main,"&:hover":{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}},[`&.${bn.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}},{[`&.${bn.disabled}`]:{color:(e.vars||e).palette.action.disabled}})},t.variant==="outlined"&&{border:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${bn.selected}`]:Re({},t.color!=="standard"&&{color:(e.vars||e).palette[t.color].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:cr(e.palette[t.color].main,.5)}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.activatedOpacity})`:cr(e.palette[t.color].main,e.palette.action.activatedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / calc(${e.vars.palette.action.activatedOpacity} + ${e.vars.palette.action.focusOpacity}))`:cr(e.palette[t.color].main,e.palette.action.activatedOpacity+e.palette.action.focusOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${bn.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / calc(${e.vars.palette.action.activatedOpacity} + ${e.vars.palette.action.focusOpacity}))`:cr(e.palette[t.color].main,e.palette.action.activatedOpacity+e.palette.action.focusOpacity)}},{[`&.${bn.disabled}`]:{borderColor:(e.vars||e).palette.action.disabledBackground,color:(e.vars||e).palette.action.disabled}})})),v$=ct("div",{name:"MuiPaginationItem",slot:"Icon",overridesResolver:(e,t)=>t.icon})(({theme:e,ownerState:t})=>Re({fontSize:e.typography.pxToRem(20),margin:"0 -8px"},t.size==="small"&&{fontSize:e.typography.pxToRem(18)},t.size==="large"&&{fontSize:e.typography.pxToRem(22)})),b$=R.forwardRef(function(t,n){const r=Pi({props:t,name:"MuiPaginationItem"}),{className:a,color:i="standard",component:o,components:s={},disabled:l=!1,page:c,selected:u=!1,shape:d="circular",size:p="medium",slots:m={},type:h="page",variant:g="text"}=r,y=ea(r,m$),v=Re({},r,{color:i,disabled:l,selected:u,shape:d,size:p,type:h,variant:g}),w=SS(),_=h$(v),E=(w.direction==="rtl"?{previous:m.next||s.next||Sv,next:m.previous||s.previous||wv,last:m.first||s.first||bv,first:m.last||s.last||_v}:{previous:m.previous||s.previous||wv,next:m.next||s.next||Sv,first:m.first||s.first||bv,last:m.last||s.last||_v})[h];return h==="start-ellipsis"||h==="end-ellipsis"?f(g$,{ref:n,ownerState:v,className:wn(_.root,a),children:"…"}):P(y$,Re({ref:n,ownerState:v,component:o,disabled:l,className:wn(_.root,a)},y,{children:[h==="page"&&c,E?f(v$,{as:E,ownerState:v,className:_.icon}):null]}))}),_$=b$,w$=["boundaryCount","className","color","count","defaultPage","disabled","getItemAriaLabel","hideNextButton","hidePrevButton","onChange","page","renderItem","shape","showFirstButton","showLastButton","siblingCount","size","variant"],S$=e=>{const{classes:t,variant:n}=e;return Di({root:["root",n],ul:["ul"]},u$,t)},C$=ct("nav",{name:"MuiPagination",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant]]}})({}),E$=ct("ul",{name:"MuiPagination",slot:"Ul",overridesResolver:(e,t)=>t.ul})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"});function N$(e,t,n){return e==="page"?`${n?"":"Go to "}page ${t}`:`Go to ${e} page`}const T$=R.forwardRef(function(t,n){const r=Pi({props:t,name:"MuiPagination"}),{boundaryCount:a=1,className:i,color:o="standard",count:s=1,defaultPage:l=1,disabled:c=!1,getItemAriaLabel:u=N$,hideNextButton:d=!1,hidePrevButton:p=!1,renderItem:m=C=>f(_$,Re({},C)),shape:h="circular",showFirstButton:g=!1,showLastButton:y=!1,siblingCount:v=1,size:w="medium",variant:_="text"}=r,b=ea(r,w$),{items:E}=d$(Re({},r,{componentName:"Pagination"})),S=Re({},r,{boundaryCount:a,color:o,count:s,defaultPage:l,disabled:c,getItemAriaLabel:u,hideNextButton:d,hidePrevButton:p,renderItem:m,shape:h,showFirstButton:g,showLastButton:y,siblingCount:v,size:w,variant:_}),N=S$(S);return f(C$,Re({"aria-label":"pagination navigation",className:wn(N.root,i),ownerState:S,ref:n},b,{children:f(E$,{className:N.ul,ownerState:S,children:E.map((C,I)=>f("li",{children:m(Re({},C,{color:o,"aria-label":u(C.type,C.page,C.selected),shape:h,size:w,variant:_}))},I))})}))}),I$=T$;function Cv(e,t){return n=>{typeof n=="function"?e(r=>{const a=n(r);return a&&t(!1),a}):n?(e(!0),t(!1)):e(!1)}}function R$(e,t){if(e&&t)throw new Error("initialValue1 and initialValue2 cannot both be true");const[n,r]=J.useState(e),[a,i]=J.useState(t),o=R.useMemo(()=>Cv(r,i),[]),s=R.useMemo(()=>Cv(i,r),[]);return[n,o,a,s]}const x$=Vi(f("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"WarningSharp"),$$=Vi([f("path",{d:"M12 4c-4.41 0-8 3.59-8 8s3.59 8 8 8 8-3.59 8-8-3.59-8-8-8zm4.2 12.2L11 13V7h1.5v5.2l4.5 2.7-.8 1.3z",opacity:".3"},"0"),f("path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm.5-13H11v6l5.2 3.2.8-1.3-4.5-2.7V7z"},"1")],"WatchLaterTwoTone");var qf={exports:{}};(function(e,t){(function(n,r){var a="1.0.35",i="",o="?",s="function",l="undefined",c="object",u="string",d="major",p="model",m="name",h="type",g="vendor",y="version",v="architecture",w="console",_="mobile",b="tablet",E="smarttv",S="wearable",N="embedded",C=350,I="Amazon",k="Apple",O="ASUS",M="BlackBerry",q="Browser",$="Chrome",B="Edge",L="Firefox",F="Google",z="Huawei",D="LG",x="Microsoft",A="Motorola",j="Opera",U="Samsung",T="Sharp",V="Sony",K="Xiaomi",Z="Zebra",Q="Facebook",re="Chromium OS",se="Mac OS",de=function(Ee,Ie){var ce={};for(var ve in Ee)Ie[ve]&&Ie[ve].length%2===0?ce[ve]=Ie[ve].concat(Ee[ve]):ce[ve]=Ee[ve];return ce},xe=function(Ee){for(var Ie={},ce=0;ce<Ee.length;ce++)Ie[Ee[ce].toUpperCase()]=Ee[ce];return Ie},qe=function(Ee,Ie){return typeof Ee===u?he(Ie).indexOf(he(Ee))!==-1:!1},he=function(Ee){return Ee.toLowerCase()},ie=function(Ee){return typeof Ee===u?Ee.replace(/[^\d\.]/g,i).split(".")[0]:r},Te=function(Ee,Ie){if(typeof Ee===u)return Ee=Ee.replace(/^\s\s*/,i),typeof Ie===l?Ee:Ee.substring(0,C)},ae=function(Ee,Ie){for(var ce=0,ve,Pe,Be,Ne,ge,ze;ce<Ie.length&&!ge;){var at=Ie[ce],ln=Ie[ce+1];for(ve=Pe=0;ve<at.length&&!ge&&at[ve];)if(ge=at[ve++].exec(Ee),ge)for(Be=0;Be<ln.length;Be++)ze=ge[++Pe],Ne=ln[Be],typeof Ne===c&&Ne.length>0?Ne.length===2?typeof Ne[1]==s?this[Ne[0]]=Ne[1].call(this,ze):this[Ne[0]]=Ne[1]:Ne.length===3?typeof Ne[1]===s&&!(Ne[1].exec&&Ne[1].test)?this[Ne[0]]=ze?Ne[1].call(this,ze,Ne[2]):r:this[Ne[0]]=ze?ze.replace(Ne[1],Ne[2]):r:Ne.length===4&&(this[Ne[0]]=ze?Ne[3].call(this,ze.replace(Ne[1],Ne[2])):r):this[Ne]=ze||r;ce+=2}},Ge=function(Ee,Ie){for(var ce in Ie)if(typeof Ie[ce]===c&&Ie[ce].length>0){for(var ve=0;ve<Ie[ce].length;ve++)if(qe(Ie[ce][ve],Ee))return ce===o?r:ce}else if(qe(Ie[ce],Ee))return ce===o?r:ce;return Ee},Qe={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},bt={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Nt={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[y,[m,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[y,[m,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[m,y],[/opios[\/ ]+([\w\.]+)/i],[y,[m,j+" Mini"]],[/\bopr\/([\w\.]+)/i],[y,[m,j]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[m,y],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[y,[m,"UC"+q]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[y,[m,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[y,[m,"WeChat"]],[/konqueror\/([\w\.]+)/i],[y,[m,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[y,[m,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[y,[m,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[m,/(.+)/,"$1 Secure "+q],y],[/\bfocus\/([\w\.]+)/i],[y,[m,L+" Focus"]],[/\bopt\/([\w\.]+)/i],[y,[m,j+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[y,[m,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[y,[m,"Dolphin"]],[/coast\/([\w\.]+)/i],[y,[m,j+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[y,[m,"MIUI "+q]],[/fxios\/([-\w\.]+)/i],[y,[m,L]],[/\bqihu|(qi?ho?o?|360)browser/i],[[m,"360 "+q]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[m,/(.+)/,"$1 "+q],y],[/(comodo_dragon)\/([\w\.]+)/i],[[m,/_/g," "],y],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[m,y],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[m],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[m,Q],y],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[m,y],[/\bgsa\/([\w\.]+) .*safari\//i],[y,[m,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[y,[m,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[y,[m,$+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[m,$+" WebView"],y],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[y,[m,"Android "+q]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[m,y],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[y,[m,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[y,m],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[m,[y,Ge,Qe]],[/(webkit|khtml)\/([\w\.]+)/i],[m,y],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[m,"Netscape"],y],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[y,[m,L+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[m,y],[/(cobalt)\/([\w\.]+)/i],[m,[y,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[v,"amd64"]],[/(ia32(?=;))/i],[[v,he]],[/((?:i[346]|x)86)[;\)]/i],[[v,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[v,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[v,"armhf"]],[/windows (ce|mobile); ppc;/i],[[v,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[v,/ower/,i,he]],[/(sun4\w)[;\)]/i],[[v,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[v,he]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[p,[g,U],[h,b]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[p,[g,U],[h,_]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[p,[g,k],[h,_]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[p,[g,k],[h,b]],[/(macintosh);/i],[p,[g,k]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[p,[g,T],[h,_]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[p,[g,z],[h,b]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[p,[g,z],[h,_]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[p,/_/g," "],[g,K],[h,_]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[p,/_/g," "],[g,K],[h,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[p,[g,"OPPO"],[h,_]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[p,[g,"Vivo"],[h,_]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[p,[g,"Realme"],[h,_]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[p,[g,A],[h,_]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[p,[g,A],[h,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[p,[g,D],[h,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[p,[g,D],[h,_]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[p,[g,"Lenovo"],[h,b]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[p,/_/g," "],[g,"Nokia"],[h,_]],[/(pixel c)\b/i],[p,[g,F],[h,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[p,[g,F],[h,_]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[p,[g,V],[h,_]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[p,"Xperia Tablet"],[g,V],[h,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[p,[g,"OnePlus"],[h,_]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[p,[g,I],[h,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[p,/(.+)/g,"Fire Phone $1"],[g,I],[h,_]],[/(playbook);[-\w\),; ]+(rim)/i],[p,g,[h,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[p,[g,M],[h,_]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[p,[g,O],[h,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[p,[g,O],[h,_]],[/(nexus 9)/i],[p,[g,"HTC"],[h,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[g,[p,/_/g," "],[h,_]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[p,[g,"Acer"],[h,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[p,[g,"Meizu"],[h,_]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[g,p,[h,_]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[g,p,[h,b]],[/(surface duo)/i],[p,[g,x],[h,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[p,[g,"Fairphone"],[h,_]],[/(u304aa)/i],[p,[g,"AT&T"],[h,_]],[/\bsie-(\w*)/i],[p,[g,"Siemens"],[h,_]],[/\b(rct\w+) b/i],[p,[g,"RCA"],[h,b]],[/\b(venue[\d ]{2,7}) b/i],[p,[g,"Dell"],[h,b]],[/\b(q(?:mv|ta)\w+) b/i],[p,[g,"Verizon"],[h,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[p,[g,"Barnes & Noble"],[h,b]],[/\b(tm\d{3}\w+) b/i],[p,[g,"NuVision"],[h,b]],[/\b(k88) b/i],[p,[g,"ZTE"],[h,b]],[/\b(nx\d{3}j) b/i],[p,[g,"ZTE"],[h,_]],[/\b(gen\d{3}) b.+49h/i],[p,[g,"Swiss"],[h,_]],[/\b(zur\d{3}) b/i],[p,[g,"Swiss"],[h,b]],[/\b((zeki)?tb.*\b) b/i],[p,[g,"Zeki"],[h,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[g,"Dragon Touch"],p,[h,b]],[/\b(ns-?\w{0,9}) b/i],[p,[g,"Insignia"],[h,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[p,[g,"NextBook"],[h,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[g,"Voice"],p,[h,_]],[/\b(lvtel\-)?(v1[12]) b/i],[[g,"LvTel"],p,[h,_]],[/\b(ph-1) /i],[p,[g,"Essential"],[h,_]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[p,[g,"Envizen"],[h,b]],[/\b(trio[-\w\. ]+) b/i],[p,[g,"MachSpeed"],[h,b]],[/\btu_(1491) b/i],[p,[g,"Rotor"],[h,b]],[/(shield[\w ]+) b/i],[p,[g,"Nvidia"],[h,b]],[/(sprint) (\w+)/i],[g,p,[h,_]],[/(kin\.[onetw]{3})/i],[[p,/\./g," "],[g,x],[h,_]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[p,[g,Z],[h,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[p,[g,Z],[h,_]],[/smart-tv.+(samsung)/i],[g,[h,E]],[/hbbtv.+maple;(\d+)/i],[[p,/^/,"SmartTV"],[g,U],[h,E]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[g,D],[h,E]],[/(apple) ?tv/i],[g,[p,k+" TV"],[h,E]],[/crkey/i],[[p,$+"cast"],[g,F],[h,E]],[/droid.+aft(\w)( bui|\))/i],[p,[g,I],[h,E]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[p,[g,T],[h,E]],[/(bravia[\w ]+)( bui|\))/i],[p,[g,V],[h,E]],[/(mitv-\w{5}) bui/i],[p,[g,K],[h,E]],[/Hbbtv.*(technisat) (.*);/i],[g,p,[h,E]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[g,Te],[p,Te],[h,E]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,E]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[g,p,[h,w]],[/droid.+; (shield) bui/i],[p,[g,"Nvidia"],[h,w]],[/(playstation [345portablevi]+)/i],[p,[g,V],[h,w]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[p,[g,x],[h,w]],[/((pebble))app/i],[g,p,[h,S]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[p,[g,k],[h,S]],[/droid.+; (glass) \d/i],[p,[g,F],[h,S]],[/droid.+; (wt63?0{2,3})\)/i],[p,[g,Z],[h,S]],[/(quest( 2| pro)?)/i],[p,[g,Q],[h,S]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[g,[h,N]],[/(aeobc)\b/i],[p,[g,I],[h,N]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[p,[h,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[p,[h,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,b]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[h,_]],[/(android[-\w\. ]{0,9});.+buil/i],[p,[g,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[y,[m,B+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[y,[m,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[m,y],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[y,m]],os:[[/microsoft (windows) (vista|xp)/i],[m,y],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[m,[y,Ge,bt]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[m,"Windows"],[y,Ge,bt]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[y,/_/g,"."],[m,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[m,se],[y,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[y,m],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[m,y],[/\(bb(10);/i],[y,[m,M]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[y,[m,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[y,[m,L+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[y,[m,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[y,[m,"watchOS"]],[/crkey\/([\d\.]+)/i],[y,[m,$+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[m,re],y],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[m,y],[/(sunos) ?([\w\.\d]*)/i],[[m,"Solaris"],y],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[m,y]]},Me=function(Ee,Ie){if(typeof Ee===c&&(Ie=Ee,Ee=r),!(this instanceof Me))return new Me(Ee,Ie).getResult();var ce=typeof n!==l&&n.navigator?n.navigator:r,ve=Ee||(ce&&ce.userAgent?ce.userAgent:i),Pe=ce&&ce.userAgentData?ce.userAgentData:r,Be=Ie?de(Nt,Ie):Nt,Ne=ce&&ce.userAgent==ve;return this.getBrowser=function(){var ge={};return ge[m]=r,ge[y]=r,ae.call(ge,ve,Be.browser),ge[d]=ie(ge[y]),Ne&&ce&&ce.brave&&typeof ce.brave.isBrave==s&&(ge[m]="Brave"),ge},this.getCPU=function(){var ge={};return ge[v]=r,ae.call(ge,ve,Be.cpu),ge},this.getDevice=function(){var ge={};return ge[g]=r,ge[p]=r,ge[h]=r,ae.call(ge,ve,Be.device),Ne&&!ge[h]&&Pe&&Pe.mobile&&(ge[h]=_),Ne&&ge[p]=="Macintosh"&&ce&&typeof ce.standalone!==l&&ce.maxTouchPoints&&ce.maxTouchPoints>2&&(ge[p]="iPad",ge[h]=b),ge},this.getEngine=function(){var ge={};return ge[m]=r,ge[y]=r,ae.call(ge,ve,Be.engine),ge},this.getOS=function(){var ge={};return ge[m]=r,ge[y]=r,ae.call(ge,ve,Be.os),Ne&&!ge[m]&&Pe&&Pe.platform!="Unknown"&&(ge[m]=Pe.platform.replace(/chrome os/i,re).replace(/macos/i,se)),ge},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return ve},this.setUA=function(ge){return ve=typeof ge===u&&ge.length>C?Te(ge,C):ge,this},this.setUA(ve),this};Me.VERSION=a,Me.BROWSER=xe([m,y,d]),Me.CPU=xe([v]),Me.DEVICE=xe([p,g,h,w,_,E,b,S,N]),Me.ENGINE=Me.OS=xe([m,y]),e.exports&&(t=e.exports=Me),t.UAParser=Me;var Ke=typeof n!==l&&(n.jQuery||n.Zepto);if(Ke&&!Ke.ua){var dt=new Me;Ke.ua=dt.getResult(),Ke.ua.get=function(){return dt.getUA()},Ke.ua.set=function(Ee){dt.setUA(Ee);var Ie=dt.getResult();for(var ce in Ie)Ke.ua[ce]=Ie[ce]}}})(typeof window=="object"?window:Jo)})(qf,qf.exports);var A$=qf.exports;function O$(e){const{isExternalFile:t,onClick:n,getDownloadLink:r,stopPropagation:a,externalURL:i,hasFileAccess:o,displayFileName:s,fileName:l,iconSvgPropOverrides:c={}}=e;return t?f("button",{className:"btn-download-icon",onClick:u=>{n&&(n(t),a&&u.stopPropagation())},children:f("a",{className:"ignoreLink",rel:"noreferrer",href:i,target:"_blank",children:f(De,{icon:"openInNewWindow",...c})})}):o?P("button",{className:"btn-download-icon",onClick:u=>{r(),a&&u.stopPropagation()},children:[f(De,{icon:"download",...c}),s&&l?l:""]}):f(te,{})}function xl(e){var w;const{accessToken:t}=Ze(),{associatedObjectId:n,associatedObjectType:r,fileHandleId:a,displayFileName:i=!1,onClickCallback:o,stopPropagation:s=!1,iconSvgPropOverrides:l}=e,c={fileHandleId:a,associateObjectId:n,associateObjectType:r},{data:u}=Ou({requestedFiles:[c],includeFileHandles:!0,includePreSignedURLs:!1,includePreviewPreSignedURLs:!1}),d=(w=u==null?void 0:u.requestedFiles[0])==null?void 0:w.fileHandle,p=!!d,m=d==null?void 0:d.fileName,h=d?LT(d):void 0,g=d?d.externalURL:void 0,y=async()=>{let _;const E=new A$.UAParser().getBrowser().name=="Safari";let S=null;E&&(S=window.open("","Safari Download","toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,popup,width=600,height=200"),S.document.body.innerHTML="Downloading file on Safari...");try{r===qt.TableEntity?_=(await v(!0)).requestedFiles[0].preSignedURL:_=(await Co({requestedFiles:[c],includePreSignedURLs:!0,includePreviewPreSignedURLs:!1,includeFileHandles:!1},t)).requestedFiles[0].preSignedURL}catch(N){console.log("Fail to get file download link: ",N)}_?(E&&S?(S.location=_,setTimeout(()=>{S&&S.close()},1e4)):window.open(_),o&&o(h)):(S==null||S.close(),console.log("Fail to get file download link"))},v=(_=!1)=>Co({includeFileHandles:!0,includePreSignedURLs:_,includePreviewPreSignedURLs:!1,requestedFiles:[{associateObjectId:n,associateObjectType:r,fileHandleId:a}]},t);return f(At,{title:h?"Navigate to external link":"Download this file individually",enterNextDelay:Tl,placement:"left",children:f("div",{children:f(O$,{isExternalFile:h,hasFileAccess:p,onClick:o,getDownloadLink:y,stopPropagation:s,externalURL:g,displayFileName:i,fileName:m,iconSvgPropOverrides:l})})})}try{xl.displayName="DirectDownload",xl.__docgenInfo={description:"",displayName:"DirectDownload",props:{associatedObjectId:{defaultValue:null,description:"",name:"associatedObjectId",required:!0,type:{name:"string"}},associatedObjectType:{defaultValue:null,description:"",name:"associatedObjectType",required:!0,type:{name:"enum",value:[{value:'"FileEntity"'},{value:'"TableEntity"'},{value:'"WikiAttachment"'},{value:'"WikiMarkdown"'},{value:'"UserProfileAttachment"'},{value:'"MessageAttachment"'},{value:'"TeamAttachment"'},{value:'"SubmissionAttachment"'},{value:'"VerificationSubmission"'},{value:'"AccessRequirementAttachment"'},{value:'"DataAccessRequestAttachment"'},{value:'"DataAccessSubmissionAttachment"'}]}},fileHandleId:{defaultValue:null,description:"",name:"fileHandleId",required:!0,type:{name:"string"}},displayFileName:{defaultValue:null,description:"",name:"displayFileName",required:!1,type:{name:"boolean"}},onClickCallback:{defaultValue:null,description:"",name:"onClickCallback",required:!1,type:{name:"((isExternalLink: boolean) => void)"}},stopPropagation:{defaultValue:null,description:"",name:"stopPropagation",required:!1,type:{name:"boolean"}},iconSvgPropOverrides:{defaultValue:null,description:"",name:"iconSvgPropOverrides",required:!1,type:{name:"Partial<IconSvgProps>"}}}}}catch{}function k$(e,t){const{accessToken:n,keyFactory:r}=Ze(),a={accessRequirementId:e};return jw(r.getApprovedSubmissionInfoQueryKey(a),async i=>await $t.getApprovedSubmissionInfo({...a,nextPageToken:i.pageParam},n),{...t,getNextPageParam:i=>i.nextPageToken})}function RS(e,t,n=Ow,r){const{accessToken:a,keyFactory:i}=Ze();return Yo(i.getEntityBundleQueryKey(e,t,n),()=>$t.getEntityBundleV2(e,n,t,a),r)}function P$(e,t){const{accessToken:n,keyFactory:r}=Ze();return Yo(r.getEntityActionsRequiredQueryKey(e),()=>$t.getEntityDownloadActionsRequired(e,n),t)}function D$(e,t){const{accessToken:n,keyFactory:r}=Ze();return Yo(r.getEntityChildrenQueryKey(e,!1),()=>$t.getEntityChildren(e,n),t)}function LX(e,t){const{accessToken:n,keyFactory:r}=Ze();return jw(r.getEntityChildrenQueryKey(e,!0),async a=>await $t.getEntityChildren({...e,includeTotalChildCount:a.pageParam?!1:e.includeTotalChildCount,nextPageToken:a.pageParam},n,a.signal),{...t,getNextPageParam:a=>a.nextPageToken})}function Mf(e){const{entityIdList:t}=e,{data:n}=Lh(t.map(r=>({targetId:r})),{});return f("span",{children:n==null?void 0:n.results.map(r=>f("p",{children:f(Vf,{entity:r,displayTextField:"name"})},r.id))})}try{Mf.displayName="EntityIdList",Mf.__docgenInfo={description:"",displayName:"EntityIdList",props:{entityIdList:{defaultValue:null,description:"",name:"entityIdList",required:!0,type:{name:"string[]"}}}}}catch{}const Bf=e=>{const{accessToken:t}=Ze(),{evaluationId:n}=e,[r,a]=R.useState(),{ref:i,inView:o}=Fh();let s=!0;R.useEffect(()=>(s&&o&&l(),()=>{s=!1}),[n,o]);const l=()=>{n&&FT(n,t).then(c=>{a(c.name)}).catch(c=>{console.log("EvaluationIdListRenderer: Error getting evaluation queue names",c)})};return f("span",{ref:i,children:r})};try{Bf.displayName="EvaluationIdRenderer",Bf.__docgenInfo={description:"",displayName:"EvaluationIdRenderer",props:{evaluationId:{defaultValue:null,description:"",name:"evaluationId",required:!0,type:{name:"string"}}}}}catch{}const Pa=R.createContext(void 0),Uf=({children:e,queryContext:t})=>f(Pa.Provider,{value:t,children:e});function Ct(){const e=R.useContext(Pa);if(e===void 0)throw new Error("useQueryContext must be used within a QueryWrapper");return e}function V$(){const e=R.useContext(Pa);if(e===void 0)throw new Error("usePaginatedQueryContext must be used within a QueryWrapper");return e}function L$(){const e=R.useContext(Pa);if(e===void 0)throw new Error("useInfiniteQueryContext must be used within a QueryWrapper");return e}const $l=Pa.Consumer;try{Ct.displayName="useQueryContext",Ct.__docgenInfo={description:"Returns the QueryContext, including QueryResultBundle",displayName:"useQueryContext",props:{}}}catch{}try{Pa.displayName="QueryContext",Pa.__docgenInfo={description:"This must be exported to use the context in class components.",displayName:"QueryContext",props:{}}}catch{}try{Uf.displayName="QueryContextProvider",Uf.__docgenInfo={description:"Provides data related to a Synapse table query, and functions for iterating through pages of the data.",displayName:"QueryContextProvider",props:{queryContext:{defaultValue:null,description:"",name:"queryContext",required:!0,type:{name:"QueryContextType<never, false>"}}}}}catch{}try{$l.displayName="QueryContextConsumer",$l.__docgenInfo={description:"",displayName:"QueryContextConsumer",props:{}}}catch{}function F$(){return P(te,{children:[f("p",{className:"SRC-no-results-title",children:"There is currently no content here."}),f("p",{className:"SRC-no-results-description",children:"Information is always being updated, so check back later to see if content has been added."})]})}var Gr=(e=>(e.INTERACTIVE="INTERACTIVE",e.STATIC="STATIC",e))(Gr||{});function q$(){return P("div",{className:"text-center",children:[gR,f("h4",{children:"No Matching Results"}),f("p",{children:"Try checking the spelling or removing filters."})]})}function M$(){return P("div",{className:"text-center SRCBorderedPanel SRCBorderedPanel--padded2x",children:[yR,f("div",{style:{marginTop:"20px",fontStyle:"italic"},children:"This table is currently empty"})]})}const B$=()=>{try{return JSON.parse(sessionStorage.getItem(dI)||"")}catch{return[]}},U$=()=>{try{return JSON.parse(sessionStorage.getItem(fI)||"")}catch{return[]}},H$=()=>{try{return JSON.parse(sessionStorage.getItem(pI)||"")}catch{return[]}},z$=e=>{const t=B$().find(n=>n.id===e);return(t==null?void 0:t.name)??e},j$=e=>{const t=H$().find(n=>n.id===e);return(t==null?void 0:t.name)||e},W$=e=>{const t=U$().find(n=>n.ownerId===e);return(t==null?void 0:t.userName)||e},G$=(e,t)=>{if(e===Eo)return ku;switch(t){case pe.ENTITYID:case pe.ENTITYID_LIST:return z$(e);case pe.USERID:case pe.USERID_LIST:return W$(e);case pe.EVALUATIONID:return j$(e);default:return e}};let K$=0;function Tr(e,t){const n=`atom${++K$}`,r={toString:()=>n};return typeof e=="function"?r.read=e:(r.init=e,r.read=a=>a(r),r.write=(a,i,o)=>i(r,typeof o=="function"?o(a(r)):o)),t&&(r.write=t),r}const Ev=e=>"init"in e,Nv=e=>!!e.write,Al=new WeakMap,Y$=(e,t)=>{Al.set(e,t),e.catch(()=>{}).finally(()=>Al.delete(e))},Tv=(e,t)=>{const n=Al.get(e);n&&(Al.delete(e),n(t))},Iv=(e,t)=>{e.status="fulfilled",e.value=t},Rv=(e,t)=>{e.status="rejected",e.reason=t},Q$=e=>typeof(e==null?void 0:e.then)=="function",Ts=(e,t)=>"v"in e&&"v"in t&&Object.is(e.v,t.v),xv=(e,t)=>"e"in e&&"e"in t&&Object.is(e.e,t.e),zi=e=>"v"in e&&e.v instanceof Promise,X$=(e,t)=>"v"in e&&"v"in t&&e.v.orig&&e.v.orig===t.v.orig,Is=e=>{if("e"in e)throw e.e;return e.v},xS=()=>{const e=new WeakMap,t=new WeakMap,n=new Map;let r,a;const i=C=>e.get(C),o=(C,I)=>{const k=e.get(C);if(e.set(C,I),n.has(C)||n.set(C,k),k&&zi(k)){const O="v"in I?I.v instanceof Promise?I.v:Promise.resolve(I.v):Promise.reject(I.e);Tv(k.v,O)}},s=(C,I,k)=>{const O=new Map;let M=!1;k.forEach((q,$)=>{!q&&$===C&&(q=I),q&&(O.set($,q),I.d.get($)!==q&&(M=!0))}),(M||I.d.size!==O.size)&&(I.d=O)},l=(C,I,k)=>{const O=i(C),M={d:(O==null?void 0:O.d)||new Map,v:I};if(k&&s(C,M,k),O&&Ts(O,M)&&O.d===M.d)return O;if(O&&zi(O)&&zi(M)&&X$(O,M)){if(O.d===M.d)return O;M.v=O.v}return o(C,M),M},c=(C,I,k,O)=>{if(Q$(I)){let M;const q=new Promise(($,B)=>{let L=!1;I.then(F=>{if(!L){L=!0;const z=i(C),D=l(C,q,k);Iv(q,F),$(F),(z==null?void 0:z.d)!==D.d&&E(C,D,z==null?void 0:z.d)}},F=>{if(!L){L=!0;const z=i(C),D=l(C,q,k);Rv(q,F),B(F),(z==null?void 0:z.d)!==D.d&&E(C,D,z==null?void 0:z.d)}}),M=F=>{L||(L=!0,F.then(z=>Iv(q,z),z=>Rv(q,z)),$(F))}});return q.orig=I,q.status="pending",Y$(q,$=>{$&&M($),O==null||O()}),l(C,q,k)}return l(C,I,k)},u=(C,I,k)=>{const O=i(C),M={d:(O==null?void 0:O.d)||new Map,e:I};return k&&s(C,M,k),O&&xv(O,M)&&O.d===M.d?O:(o(C,M),M)},d=(C,I)=>{const k=i(C);if(!I&&k&&(t.has(C)||Array.from(k.d).every(([F,z])=>F===C||d(F)===z)))return k;const O=new Map;let M=!0;const q=F=>{if(F===C){const D=i(F);if(D)return O.set(F,D),Is(D);if(Ev(F))return O.set(F,void 0),F.init;throw new Error("no atom init")}const z=d(F);return O.set(F,z),Is(z)};let $,B;const L={get signal(){return $||($=new AbortController),$.signal},get setSelf(){return!B&&Nv(C)&&(B=(...F)=>{if(!M)return w(C,...F)}),B}};try{const F=C.read(q,L);return c(C,F,O,()=>$==null?void 0:$.abort())}catch(F){return u(C,F,O)}finally{M=!1}},p=C=>Is(d(C)),m=C=>{let I=t.get(C);return I||(I=_(C)),I},h=(C,I)=>!I.l.size&&(!I.t.size||I.t.size===1&&I.t.has(C)),g=C=>{const I=t.get(C);I&&h(C,I)&&b(C)},y=C=>{const I=new Map,k=new WeakMap,O=q=>{const $=t.get(q);$==null||$.t.forEach(B=>{B!==q&&(I.set(B,(I.get(B)||new Set).add(q)),k.set(B,(k.get(B)||0)+1),O(B))})};O(C);const M=q=>{const $=t.get(q);$==null||$.t.forEach(B=>{var L;if(B!==q){let F=k.get(B);if(F&&k.set(B,--F),!F){let z=!!((L=I.get(B))!=null&&L.size);if(z){const D=i(B),x=d(B,!0);z=!D||!Ts(D,x)}z||I.forEach(D=>D.delete(B))}M(B)}})};M(C)},v=(C,...I)=>{let k=!0;const O=$=>Is(d($)),M=($,...B)=>{let L;if($===C){if(!Ev($))throw new Error("atom not writable");const F=i($),z=c($,B[0]);(!F||!Ts(F,z))&&y($)}else L=v($,...B);if(!k){const F=S()}return L},q=C.write(O,M,...I);return k=!1,q},w=(C,...I)=>{const k=v(C,...I),O=S();return k},_=(C,I)=>{var k;(k=i(C))==null||k.d.forEach((M,q)=>{const $=t.get(q);$?$.t.add(C):q!==C&&_(q,C)}),d(C);const O={t:new Set(I&&[I]),l:new Set};if(t.set(C,O),Nv(C)&&C.onMount){const M=C.onMount((...q)=>w(C,...q));M&&(O.u=M)}return O},b=C=>{var I;const k=(I=t.get(C))==null?void 0:I.u;k&&k(),t.delete(C);const O=i(C);O&&(zi(O)&&Tv(O.v),O.d.forEach((M,q)=>{if(q!==C){const $=t.get(q);$&&($.t.delete(C),h(q,$)&&b(q))}}))},E=(C,I,k)=>{const O=new Set(I.d.keys());k==null||k.forEach((M,q)=>{if(O.has(q)){O.delete(q);return}const $=t.get(q);$&&($.t.delete(C),h(q,$)&&b(q))}),O.forEach(M=>{const q=t.get(M);q?q.t.add(C):t.has(C)&&_(M,C)})},S=()=>{let C;for(;n.size;){const I=Array.from(n);n.clear(),I.forEach(([k,O])=>{const M=i(k);if(M){M.d!==(O==null?void 0:O.d)&&E(k,M,O==null?void 0:O.d);const q=t.get(k);q&&!(O&&!zi(O)&&(Ts(O,M)||xv(O,M)))&&q.l.forEach($=>$())}})}};return{get:p,set:w,sub:(C,I)=>{const k=m(C),O=S(),M=k.l;return M.add(I),()=>{M.delete(I),g(C)}}}};let $c;const J$=()=>($c||($c=xS()),$c),$S=R.createContext(void 0),AS=e=>{const t=R.useContext($S);return(e==null?void 0:e.store)||t||J$()},Z$=({children:e,store:t})=>{const n=R.useRef();return!t&&!n.current&&(n.current=xS()),R.createElement($S.Provider,{value:t||n.current},e)},eA=e=>typeof(e==null?void 0:e.then)=="function",tA=J.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e)});function Ce(e,t){const n=AS(t),[[r,a,i],o]=R.useReducer(c=>{const u=n.get(e);return Object.is(c[0],u)&&c[1]===n&&c[2]===e?c:[u,n,e]},void 0,()=>[n.get(e),n,e]);let s=r;(a!==n||i!==e)&&(o(),s=n.get(e));const l=t==null?void 0:t.delay;return R.useEffect(()=>{const c=n.sub(e,()=>{if(typeof l=="number"){setTimeout(o,l);return}o()});return o(),c},[n,e,l]),R.useDebugValue(s),eA(s)?tA(s):s}function Lr(e,t){const n=AS(t);return R.useCallback((...a)=>n.set(e,...a),[n,e])}function OS(e,t){return[Ce(e,t),Lr(e,t)]}function kS(e,t){return`${e}${t}`}function $v(e,t,n){const r=t!==void 0?kS(e,t):e,a=new URLSearchParams(window.location.search);n?a.set(r,n):a.delete(r);const i=a.toString();window.history.replaceState(null,"",window.location.pathname+(Array.from(a).length>0?`?${i.toString()}`:""))}function nA(e,t){const n=kS(e,t),r=new URLSearchParams(window.location.search).get(n);let a;if(r){const i=JSON.parse(r);i.sql&&(a={concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",entityId:oa(i.sql),query:i})}return a}function rA(e,t){const[n,r]=R.useState(e),[a,i]=R.useState(e),[o,s]=R.useState(!1),l=J.useCallback(()=>{s(!0)},[]);return R.useEffect(()=>{o&&(r(a),s(!1),t&&t(a))},[o,a]),{committedState:n,uncommittedState:a,commit:l,setUncommittedState:i,isDirty:n!==a}}function aA(e){const t=SR(e);R.useEffect(()=>()=>{t.current()},[])}function iA(e,t,n,r=0){const a=R.useRef(),i=R.useRef(),o=R.useRef(),s=()=>{a.current&&(clearTimeout(a.current),a.current=void 0),i.current&&(clearTimeout(i.current),i.current=void 0)};return aA(s),R.useMemo(()=>{const l=()=>{if(!o.current)return;const u=o.current;o.current=void 0,e.apply(u.this,u.args),s()},c=function(...u){a.current&&clearTimeout(a.current),o.current={args:u,this:this},a.current=setTimeout(l,n),r>0&&!i.current&&(i.current=setTimeout(l,r))};return Object.defineProperties(c,{length:{value:e.length},name:{value:`${e.name||"anonymous"}__debounced__${n}`}}),c},[n,r,...t])}function oA(e,t,n,r=0){R.useEffect(iA(e,t,n,r),t)}const sA=1500;function lA(e){const{initQueryRequest:t,componentIndex:n=0,shouldDeepLink:r=!1,onQueryChange:a,requireConfirmationOnChange:i=!1}=e,o=R.useMemo(()=>{const D=fr(t);return D.query=ov(D.query),D},[t]),{committedState:s,uncommittedState:l,commit:c,setUncommittedState:u}=rA(o,D=>{if(a){const x=JSON.stringify(D.query);a(x)}}),[d,p]=R.useState(!1),[m,h]=R.useState(()=>{p(!1)}),g=R.useCallback(()=>fr(l),[l]),y=R.useCallback(()=>fr(s),[s]),v=R.useCallback(()=>fr(o),[o]),[w,_]=R.useState(!1);oA(()=>{w&&(c(),_(!1))},[l,c,w],sA);const b=R.useCallback((D,x)=>{const A=typeof D=="function"?D(g()):D;A.query=ov(A.query),u(A),x?"debounce"in x&&x.debounce&&_(!0):c()},[c,g,u]),E=R.useCallback((D,x)=>{const A=typeof D=="function"?D(g()):D;i&&!vR(s.query,A.query)?(h(()=>()=>{b(D,x),p(!1)}),p(!0)):b(D,x)},[g,i,s.query,b]);R.useEffect(()=>{const D=nA("QueryWrapper",n);D&&D.query&&(b(x=>({...x,...D,query:{...x.query,...D.query}})),c())},[n]),R.useEffect(()=>{if(r)if(Ht(o,s))$v("QueryWrapper",n,null);else{const D=JSON.stringify(s.query);$v("QueryWrapper",n,D)}},[n,s,o,r]);const S=R.useCallback(()=>{p(!1),u(s)},[s,u]),{entityId:N,versionNumber:C}=R.useMemo(()=>zw(s.query.sql),[s.query.sql]),I=s.query.limit??Pu,k=Math.ceil(((s.query.offset??0)+Number(I))/I),O=R.useCallback(D=>{E(x=>(x.query.limit=D,x))},[E]),M=R.useCallback(D=>{E(x=>(x.query.offset=(D-1)*I,x))},[I,E]),q=R.useCallback(()=>{E(o)},[o,E]);dS(()=>{s!=o&&q()},[o]);const $=R.useCallback((D,x,A)=>{E(j=>{const U=j.query.selectedFacets??[],T=U.find(V=>V.concreteType==="org.sagebionetworks.repo.model.table.FacetColumnValuesRequest"&&V.columnName===D);return T?T.facetValues.includes(x)||T.facetValues.push(x):U.push({concreteType:"org.sagebionetworks.repo.model.table.FacetColumnValuesRequest",columnName:D,facetValues:[x]}),j.query.selectedFacets=U,j},A)},[E]),B=R.useCallback(D=>{const x=Array.isArray(D);E(A=>(A.query.selectedFacets=(A.query.selectedFacets??[]).filter(j=>x?!D.find(U=>Ht(j,U)):!Ht(j,D)),A))},[E]),L=R.useCallback((D,x,A)=>{const j=typeof D=="object"?D.columnName:D;E(U=>(U.query.selectedFacets=(U.query.selectedFacets??[]).map(T=>(Sl(T)&&Ht(T.columnName,j)&&(T.facetValues=T.facetValues.filter(V=>V!==x)),T)).filter(T=>Sl(T)?Array.isArray(T.facetValues)&&T.facetValues.length>0:!0),U),A)},[E]),F=R.useCallback(D=>{E(x=>(x.query.additionalFilters=(x.query.additionalFilters??[]).filter(A=>!Ht(A,D)),x))},[E]),z=R.useCallback((D,x)=>{E(A=>(A.query.additionalFilters=(A.query.additionalFilters??[]).map(j=>((Cl(j)||El(j))&&Ht(j,D)&&(j.values=j.values.filter(U=>U!==x)),j)).filter(j=>Cl(j)||El(j)?Array.isArray(j.values)&&j.values.length>0:!0),A))},[E]);return{entityId:N,commitChanges:c,currentQueryRequest:s,nextQueryRequest:l,versionNumber:C,getInitQueryRequest:v,getCurrentQueryRequest:y,setQuery:E,pageSize:I,currentPage:k,setPageSize:O,goToPage:M,resetQuery:q,removeSelectedFacet:B,removeValueFromSelectedFacet:L,removeQueryFilter:F,removeValueFromQueryFilter:z,isConfirmingChange:d,onConfirmChange:m,onCancelChange:S,addValueToSelectedFacet:$}}var fg={},uA=ER;Object.defineProperty(fg,"__esModule",{value:!0});var PS=fg.default=void 0,cA=uA(CR()),dA=NR,fA=(0,cA.default)((0,dA.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");PS=fg.default=fA;var Hf={exports:{}},vt={},zf={exports:{}},za={};function DS(){var e={};return e["align-content"]=!1,e["align-items"]=!1,e["align-self"]=!1,e["alignment-adjust"]=!1,e["alignment-baseline"]=!1,e.all=!1,e["anchor-point"]=!1,e.animation=!1,e["animation-delay"]=!1,e["animation-direction"]=!1,e["animation-duration"]=!1,e["animation-fill-mode"]=!1,e["animation-iteration-count"]=!1,e["animation-name"]=!1,e["animation-play-state"]=!1,e["animation-timing-function"]=!1,e.azimuth=!1,e["backface-visibility"]=!1,e.background=!0,e["background-attachment"]=!0,e["background-clip"]=!0,e["background-color"]=!0,e["background-image"]=!0,e["background-origin"]=!0,e["background-position"]=!0,e["background-repeat"]=!0,e["background-size"]=!0,e["baseline-shift"]=!1,e.binding=!1,e.bleed=!1,e["bookmark-label"]=!1,e["bookmark-level"]=!1,e["bookmark-state"]=!1,e.border=!0,e["border-bottom"]=!0,e["border-bottom-color"]=!0,e["border-bottom-left-radius"]=!0,e["border-bottom-right-radius"]=!0,e["border-bottom-style"]=!0,e["border-bottom-width"]=!0,e["border-collapse"]=!0,e["border-color"]=!0,e["border-image"]=!0,e["border-image-outset"]=!0,e["border-image-repeat"]=!0,e["border-image-slice"]=!0,e["border-image-source"]=!0,e["border-image-width"]=!0,e["border-left"]=!0,e["border-left-color"]=!0,e["border-left-style"]=!0,e["border-left-width"]=!0,e["border-radius"]=!0,e["border-right"]=!0,e["border-right-color"]=!0,e["border-right-style"]=!0,e["border-right-width"]=!0,e["border-spacing"]=!0,e["border-style"]=!0,e["border-top"]=!0,e["border-top-color"]=!0,e["border-top-left-radius"]=!0,e["border-top-right-radius"]=!0,e["border-top-style"]=!0,e["border-top-width"]=!0,e["border-width"]=!0,e.bottom=!1,e["box-decoration-break"]=!0,e["box-shadow"]=!0,e["box-sizing"]=!0,e["box-snap"]=!0,e["box-suppress"]=!0,e["break-after"]=!0,e["break-before"]=!0,e["break-inside"]=!0,e["caption-side"]=!1,e.chains=!1,e.clear=!0,e.clip=!1,e["clip-path"]=!1,e["clip-rule"]=!1,e.color=!0,e["color-interpolation-filters"]=!0,e["column-count"]=!1,e["column-fill"]=!1,e["column-gap"]=!1,e["column-rule"]=!1,e["column-rule-color"]=!1,e["column-rule-style"]=!1,e["column-rule-width"]=!1,e["column-span"]=!1,e["column-width"]=!1,e.columns=!1,e.contain=!1,e.content=!1,e["counter-increment"]=!1,e["counter-reset"]=!1,e["counter-set"]=!1,e.crop=!1,e.cue=!1,e["cue-after"]=!1,e["cue-before"]=!1,e.cursor=!1,e.direction=!1,e.display=!0,e["display-inside"]=!0,e["display-list"]=!0,e["display-outside"]=!0,e["dominant-baseline"]=!1,e.elevation=!1,e["empty-cells"]=!1,e.filter=!1,e.flex=!1,e["flex-basis"]=!1,e["flex-direction"]=!1,e["flex-flow"]=!1,e["flex-grow"]=!1,e["flex-shrink"]=!1,e["flex-wrap"]=!1,e.float=!1,e["float-offset"]=!1,e["flood-color"]=!1,e["flood-opacity"]=!1,e["flow-from"]=!1,e["flow-into"]=!1,e.font=!0,e["font-family"]=!0,e["font-feature-settings"]=!0,e["font-kerning"]=!0,e["font-language-override"]=!0,e["font-size"]=!0,e["font-size-adjust"]=!0,e["font-stretch"]=!0,e["font-style"]=!0,e["font-synthesis"]=!0,e["font-variant"]=!0,e["font-variant-alternates"]=!0,e["font-variant-caps"]=!0,e["font-variant-east-asian"]=!0,e["font-variant-ligatures"]=!0,e["font-variant-numeric"]=!0,e["font-variant-position"]=!0,e["font-weight"]=!0,e.grid=!1,e["grid-area"]=!1,e["grid-auto-columns"]=!1,e["grid-auto-flow"]=!1,e["grid-auto-rows"]=!1,e["grid-column"]=!1,e["grid-column-end"]=!1,e["grid-column-start"]=!1,e["grid-row"]=!1,e["grid-row-end"]=!1,e["grid-row-start"]=!1,e["grid-template"]=!1,e["grid-template-areas"]=!1,e["grid-template-columns"]=!1,e["grid-template-rows"]=!1,e["hanging-punctuation"]=!1,e.height=!0,e.hyphens=!1,e.icon=!1,e["image-orientation"]=!1,e["image-resolution"]=!1,e["ime-mode"]=!1,e["initial-letters"]=!1,e["inline-box-align"]=!1,e["justify-content"]=!1,e["justify-items"]=!1,e["justify-self"]=!1,e.left=!1,e["letter-spacing"]=!0,e["lighting-color"]=!0,e["line-box-contain"]=!1,e["line-break"]=!1,e["line-grid"]=!1,e["line-height"]=!1,e["line-snap"]=!1,e["line-stacking"]=!1,e["line-stacking-ruby"]=!1,e["line-stacking-shift"]=!1,e["line-stacking-strategy"]=!1,e["list-style"]=!0,e["list-style-image"]=!0,e["list-style-position"]=!0,e["list-style-type"]=!0,e.margin=!0,e["margin-bottom"]=!0,e["margin-left"]=!0,e["margin-right"]=!0,e["margin-top"]=!0,e["marker-offset"]=!1,e["marker-side"]=!1,e.marks=!1,e.mask=!1,e["mask-box"]=!1,e["mask-box-outset"]=!1,e["mask-box-repeat"]=!1,e["mask-box-slice"]=!1,e["mask-box-source"]=!1,e["mask-box-width"]=!1,e["mask-clip"]=!1,e["mask-image"]=!1,e["mask-origin"]=!1,e["mask-position"]=!1,e["mask-repeat"]=!1,e["mask-size"]=!1,e["mask-source-type"]=!1,e["mask-type"]=!1,e["max-height"]=!0,e["max-lines"]=!1,e["max-width"]=!0,e["min-height"]=!0,e["min-width"]=!0,e["move-to"]=!1,e["nav-down"]=!1,e["nav-index"]=!1,e["nav-left"]=!1,e["nav-right"]=!1,e["nav-up"]=!1,e["object-fit"]=!1,e["object-position"]=!1,e.opacity=!1,e.order=!1,e.orphans=!1,e.outline=!1,e["outline-color"]=!1,e["outline-offset"]=!1,e["outline-style"]=!1,e["outline-width"]=!1,e.overflow=!1,e["overflow-wrap"]=!1,e["overflow-x"]=!1,e["overflow-y"]=!1,e.padding=!0,e["padding-bottom"]=!0,e["padding-left"]=!0,e["padding-right"]=!0,e["padding-top"]=!0,e.page=!1,e["page-break-after"]=!1,e["page-break-before"]=!1,e["page-break-inside"]=!1,e["page-policy"]=!1,e.pause=!1,e["pause-after"]=!1,e["pause-before"]=!1,e.perspective=!1,e["perspective-origin"]=!1,e.pitch=!1,e["pitch-range"]=!1,e["play-during"]=!1,e.position=!1,e["presentation-level"]=!1,e.quotes=!1,e["region-fragment"]=!1,e.resize=!1,e.rest=!1,e["rest-after"]=!1,e["rest-before"]=!1,e.richness=!1,e.right=!1,e.rotation=!1,e["rotation-point"]=!1,e["ruby-align"]=!1,e["ruby-merge"]=!1,e["ruby-position"]=!1,e["shape-image-threshold"]=!1,e["shape-outside"]=!1,e["shape-margin"]=!1,e.size=!1,e.speak=!1,e["speak-as"]=!1,e["speak-header"]=!1,e["speak-numeral"]=!1,e["speak-punctuation"]=!1,e["speech-rate"]=!1,e.stress=!1,e["string-set"]=!1,e["tab-size"]=!1,e["table-layout"]=!1,e["text-align"]=!0,e["text-align-last"]=!0,e["text-combine-upright"]=!0,e["text-decoration"]=!0,e["text-decoration-color"]=!0,e["text-decoration-line"]=!0,e["text-decoration-skip"]=!0,e["text-decoration-style"]=!0,e["text-emphasis"]=!0,e["text-emphasis-color"]=!0,e["text-emphasis-position"]=!0,e["text-emphasis-style"]=!0,e["text-height"]=!0,e["text-indent"]=!0,e["text-justify"]=!0,e["text-orientation"]=!0,e["text-overflow"]=!0,e["text-shadow"]=!0,e["text-space-collapse"]=!0,e["text-transform"]=!0,e["text-underline-position"]=!0,e["text-wrap"]=!0,e.top=!1,e.transform=!1,e["transform-origin"]=!1,e["transform-style"]=!1,e.transition=!1,e["transition-delay"]=!1,e["transition-duration"]=!1,e["transition-property"]=!1,e["transition-timing-function"]=!1,e["unicode-bidi"]=!1,e["vertical-align"]=!1,e.visibility=!1,e["voice-balance"]=!1,e["voice-duration"]=!1,e["voice-family"]=!1,e["voice-pitch"]=!1,e["voice-range"]=!1,e["voice-rate"]=!1,e["voice-stress"]=!1,e["voice-volume"]=!1,e.volume=!1,e["white-space"]=!1,e.widows=!1,e.width=!0,e["will-change"]=!1,e["word-break"]=!0,e["word-spacing"]=!0,e["word-wrap"]=!0,e["wrap-flow"]=!1,e["wrap-through"]=!1,e["writing-mode"]=!1,e["z-index"]=!1,e}function pA(e,t,n){}function mA(e,t,n){}var hA=/javascript\s*\:/img;function gA(e,t){return hA.test(t)?"":t}za.whiteList=DS();za.getDefaultWhiteList=DS;za.onAttr=pA;za.onIgnoreAttr=mA;za.safeAttrValue=gA;var yA={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,a;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,a=e.length;r<a;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}},ji=yA;function vA(e,t){e=ji.trimRight(e),e[e.length-1]!==";"&&(e+=";");var n=e.length,r=!1,a=0,i=0,o="";function s(){if(!r){var u=ji.trim(e.slice(a,i)),d=u.indexOf(":");if(d!==-1){var p=ji.trim(u.slice(0,d)),m=ji.trim(u.slice(d+1));if(p){var h=t(a,o.length,p,m,u);h&&(o+=h+"; ")}}}a=i+1}for(;i<n;i++){var l=e[i];if(l==="/"&&e[i+1]==="*"){var c=e.indexOf("*/",i+2);if(c===-1)break;i=c+1,a=i+1,r=!1}else l==="("?r=!0:l===")"?r=!1:l===";"?r||s():l===`
`&&s()}return ji.trim(o)}var bA=vA,Rs=za,_A=bA;function Av(e){return e==null}function wA(e){var t={};for(var n in e)t[n]=e[n];return t}function VS(e){e=wA(e||{}),e.whiteList=e.whiteList||Rs.whiteList,e.onAttr=e.onAttr||Rs.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||Rs.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||Rs.safeAttrValue,this.options=e}VS.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,n=t.options,r=n.whiteList,a=n.onAttr,i=n.onIgnoreAttr,o=n.safeAttrValue,s=_A(e,function(l,c,u,d,p){var m=r[u],h=!1;if(m===!0?h=m:typeof m=="function"?h=m(d):m instanceof RegExp&&(h=m.test(d)),h!==!0&&(h=!1),d=o(u,d),!!d){var g={position:c,sourcePosition:l,source:p,isWhite:h};if(h){var y=a(u,d,g);return Av(y)?u+":"+d:y}else{var y=i(u,d,g);if(!Av(y))return y}}});return s};var SA=VS;(function(e,t){var n=za,r=SA;function a(o,s){var l=new r(s);return l.process(o)}t=e.exports=a,t.FilterCSS=r;for(var i in n)t[i]=n[i];typeof window<"u"&&(window.filterCSS=e.exports)})(zf,zf.exports);var pg=zf.exports,mg={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,a;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,a=e.length;r<a;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/,n=t.exec(e);return n?n.index:-1}},CA=pg.FilterCSS,EA=pg.getDefaultWhiteList,Ol=mg;function LS(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var FS=new CA;function NA(e,t,n){}function TA(e,t,n){}function IA(e,t,n){}function RA(e,t,n){}function qS(e){return e.replace($A,"&lt;").replace(AA,"&gt;")}function xA(e,t,n,r){if(n=jS(n),t==="href"||t==="src"){if(n=Ol.trim(n),n==="#")return"#";if(!(n.substr(0,7)==="http://"||n.substr(0,8)==="https://"||n.substr(0,7)==="mailto:"||n.substr(0,4)==="tel:"||n.substr(0,11)==="data:image/"||n.substr(0,6)==="ftp://"||n.substr(0,2)==="./"||n.substr(0,3)==="../"||n[0]==="#"||n[0]==="/"))return""}else if(t==="background"){if(xs.lastIndex=0,xs.test(n))return""}else if(t==="style"){if(Ov.lastIndex=0,Ov.test(n)||(kv.lastIndex=0,kv.test(n)&&(xs.lastIndex=0,xs.test(n))))return"";r!==!1&&(r=r||FS,n=r.process(n))}return n=WS(n),n}var $A=/</g,AA=/>/g,OA=/"/g,kA=/&quot;/g,PA=/&#([a-zA-Z0-9]*);?/gim,DA=/&colon;?/gim,VA=/&newline;?/gim,xs=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,Ov=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,kv=/u\s*r\s*l\s*\(.*/gi;function MS(e){return e.replace(OA,"&quot;")}function BS(e){return e.replace(kA,'"')}function US(e){return e.replace(PA,function(n,r){return r[0]==="x"||r[0]==="X"?String.fromCharCode(parseInt(r.substr(1),16)):String.fromCharCode(parseInt(r,10))})}function HS(e){return e.replace(DA,":").replace(VA," ")}function zS(e){for(var t="",n=0,r=e.length;n<r;n++)t+=e.charCodeAt(n)<32?" ":e.charAt(n);return Ol.trim(t)}function jS(e){return e=BS(e),e=US(e),e=HS(e),e=zS(e),e}function WS(e){return e=MS(e),e=qS(e),e}function LA(){return""}function FA(e,t){typeof t!="function"&&(t=function(){});var n=!Array.isArray(e);function r(o){return n?!0:Ol.indexOf(e,o)!==-1}var a=[],i=!1;return{onIgnoreTag:function(o,s,l){if(r(o))if(l.isClosing){var c="[/removed]",u=l.position+c.length;return a.push([i!==!1?i:l.position,u]),i=!1,c}else return i||(i=l.position),"[removed]";else return t(o,s,l)},remove:function(o){var s="",l=0;return Ol.forEach(a,function(c){s+=o.slice(l,c[0]),l=c[1]}),s+=o.slice(l),s}}}function qA(e){for(var t="",n=0;n<e.length;){var r=e.indexOf("<!--",n);if(r===-1){t+=e.slice(n);break}t+=e.slice(n,r);var a=e.indexOf("-->",r);if(a===-1)break;n=a+3}return t}function MA(e){var t=e.split("");return t=t.filter(function(n){var r=n.charCodeAt(0);return r===127?!1:r<=31?r===10||r===13:!0}),t.join("")}vt.whiteList=LS();vt.getDefaultWhiteList=LS;vt.onTag=NA;vt.onIgnoreTag=TA;vt.onTagAttr=IA;vt.onIgnoreTagAttr=RA;vt.safeAttrValue=xA;vt.escapeHtml=qS;vt.escapeQuote=MS;vt.unescapeQuote=BS;vt.escapeHtmlEntities=US;vt.escapeDangerHtml5Entities=HS;vt.clearNonPrintableCharacter=zS;vt.friendlyAttrValue=jS;vt.escapeAttrValue=WS;vt.onIgnoreTagStripAll=LA;vt.StripTagBody=FA;vt.stripCommentTag=qA;vt.stripBlankChar=MA;vt.cssFilter=FS;vt.getDefaultCSSWhiteList=EA;var ju={},Mr=mg;function BA(e){var t=Mr.spaceIndex(e),n;return t===-1?n=e.slice(1,-1):n=e.slice(1,t+1),n=Mr.trim(n).toLowerCase(),n.slice(0,1)==="/"&&(n=n.slice(1)),n.slice(-1)==="/"&&(n=n.slice(0,-1)),n}function UA(e){return e.slice(0,2)==="</"}function HA(e,t,n){var r="",a=0,i=!1,o=!1,s=0,l=e.length,c="",u="";e:for(s=0;s<l;s++){var d=e.charAt(s);if(i===!1){if(d==="<"){i=s;continue}}else if(o===!1){if(d==="<"){r+=n(e.slice(a,s)),i=s,a=s;continue}if(d===">"||s===l-1){r+=n(e.slice(a,i)),u=e.slice(i,s+1),c=BA(u),r+=t(i,r.length,c,u,UA(u)),a=s+1,i=!1;continue}if(d==='"'||d==="'")for(var p=1,m=e.charAt(s-p);m.trim()===""||m==="=";){if(m==="="){o=d;continue e}m=e.charAt(s-++p)}}else if(d===o){o=!1;continue}}return a<l&&(r+=n(e.substr(a))),r}var zA=/[^a-zA-Z0-9\\_:.-]/gim;function jA(e,t){var n=0,r=0,a=[],i=!1,o=e.length;function s(p,m){if(p=Mr.trim(p),p=p.replace(zA,"").toLowerCase(),!(p.length<1)){var h=t(p,m||"");h&&a.push(h)}}for(var l=0;l<o;l++){var c=e.charAt(l),u,d;if(i===!1&&c==="="){i=e.slice(n,l),n=l+1,r=e.charAt(n)==='"'||e.charAt(n)==="'"?n:GA(e,l+1);continue}if(i!==!1&&l===r){if(d=e.indexOf(c,l+1),d===-1)break;u=Mr.trim(e.slice(r+1,d)),s(i,u),i=!1,l=d,n=l+1;continue}if(/\s|\n|\t/.test(c))if(e=e.replace(/\s|\n|\t/g," "),i===!1)if(d=WA(e,l),d===-1){u=Mr.trim(e.slice(n,l)),s(u),i=!1,n=l+1;continue}else{l=d-1;continue}else if(d=KA(e,l-1),d===-1){u=Mr.trim(e.slice(n,l)),u=Pv(u),s(i,u),i=!1,n=l+1;continue}else continue}return n<e.length&&(i===!1?s(e.slice(n)):s(i,Pv(Mr.trim(e.slice(n))))),Mr.trim(a.join(" "))}function WA(e,t){for(;t<e.length;t++){var n=e[t];if(n!==" ")return n==="="?t:-1}}function GA(e,t){for(;t<e.length;t++){var n=e[t];if(n!==" ")return n==="'"||n==='"'?t:-1}}function KA(e,t){for(;t>0;t--){var n=e[t];if(n!==" ")return n==="="?t:-1}}function YA(e){return e[0]==='"'&&e[e.length-1]==='"'||e[0]==="'"&&e[e.length-1]==="'"}function Pv(e){return YA(e)?e.substr(1,e.length-2):e}ju.parseTag=HA;ju.parseAttr=jA;var QA=pg.FilterCSS,An=vt,GS=ju,XA=GS.parseTag,JA=GS.parseAttr,il=mg;function $s(e){return e==null}function ZA(e){var t=il.spaceIndex(e);if(t===-1)return{html:"",closing:e[e.length-2]==="/"};e=il.trim(e.slice(t+1,-1));var n=e[e.length-1]==="/";return n&&(e=il.trim(e.slice(0,-1))),{html:e,closing:n}}function eO(e){var t={};for(var n in e)t[n]=e[n];return t}function tO(e){var t={};for(var n in e)Array.isArray(e[n])?t[n.toLowerCase()]=e[n].map(function(r){return r.toLowerCase()}):t[n.toLowerCase()]=e[n];return t}function KS(e){e=eO(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=An.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=tO(e.whiteList||e.allowList):e.whiteList=An.whiteList,e.onTag=e.onTag||An.onTag,e.onTagAttr=e.onTagAttr||An.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||An.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||An.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||An.safeAttrValue,e.escapeHtml=e.escapeHtml||An.escapeHtml,this.options=e,e.css===!1?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new QA(e.css))}KS.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,n=t.options,r=n.whiteList,a=n.onTag,i=n.onIgnoreTag,o=n.onTagAttr,s=n.onIgnoreTagAttr,l=n.safeAttrValue,c=n.escapeHtml,u=t.cssFilter;n.stripBlankChar&&(e=An.stripBlankChar(e)),n.allowCommentTag||(e=An.stripCommentTag(e));var d=!1;n.stripIgnoreTagBody&&(d=An.StripTagBody(n.stripIgnoreTagBody,i),i=d.onIgnoreTag);var p=XA(e,function(m,h,g,y,v){var w={sourcePosition:m,position:h,isClosing:v,isWhite:Object.prototype.hasOwnProperty.call(r,g)},_=a(g,y,w);if(!$s(_))return _;if(w.isWhite){if(w.isClosing)return"</"+g+">";var b=ZA(y),E=r[g],S=JA(b.html,function(N,C){var I=il.indexOf(E,N)!==-1,k=o(g,N,C,I);return $s(k)?I?(C=l(g,N,C,u),C?N+'="'+C+'"':N):(k=s(g,N,C,I),$s(k)?void 0:k):k});return y="<"+g,S&&(y+=" "+S),b.closing&&(y+=" /"),y+=">",y}else return _=i(g,y,w),$s(_)?c(y):_},c);return d&&(p=d.remove(p)),p};var nO=KS;(function(e,t){var n=vt,r=ju,a=nO;function i(s,l){var c=new a(l);return c.process(s)}t=e.exports=i,t.filterXSS=i,t.FilterXSS=a,function(){for(var s in n)t[s]=n[s];for(var l in r)t[l]=r[l]}(),typeof window<"u"&&(window.filterXSS=e.exports);function o(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}o()&&(self.filterXSS=e.exports)})(Hf,Hf.exports);var rO=Hf.exports;const YS=Er(rO),QS={whiteList:{a:["target","href","title","ref"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],body:[],br:[],button:["class"],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:["class"],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],g:[],h1:["toc"],h2:["toc"],h3:["toc"],h4:["toc"],h5:["toc"],h6:["toc"],head:[],header:[],hr:[],html:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:["class"],mark:[],nav:[],noscript:[],ol:["class"],p:[],pre:[],s:[],section:[],small:[],span:["data-widgetparams","class","id"],sub:[],summary:[],sup:[],strong:[],svg:[],table:["width","border","align","valign","class"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign","class"],thead:["class","align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:["class"],video:["autoplay","controls","loop","preload","src","height","width"]},stripIgnoreTagBody:!0,allowCommentTag:!1,css:!1,onIgnoreTag:function(e,t,n){if(e==="!doctype")return t},safeAttrValue:function(e,t,n){return e==="img"&&t==="src"?n&&(n.startsWith("data:image/")||n.startsWith("http"))?n:"":n}};function jf(e){let t="";const{align:n="",highlight:r=""}=e,a=r==="true",i=n.toLowerCase();i==="left"&&(t+="floatleft "),i==="right"&&(t+="floatright ");const o=i==="center",s=a?"secondary":"neutral",l=f(ts,{href:e.url,className:t,variant:"contained",color:s,sx:{"&:hover":{backgroundColor:a?void 0:"secondary.main",color:"white"},...!o&&e.url&&{margin:"20px 20px 20px 0px"}},children:e.text});return o?f("div",{style:{textAlign:"center"},children:l}):f("span",{children:l})}try{jf.displayName="MarkdownButton",jf.__docgenInfo={description:"",displayName:"MarkdownButton",props:{align:{defaultValue:null,description:"",name:"align",required:!1,type:{name:"string"}},highlight:{defaultValue:null,description:"",name:"highlight",required:!1,type:{name:"string"}},url:{defaultValue:null,description:"",name:"url",required:!1,type:{name:"string"}},text:{defaultValue:null,description:"",name:"text",required:!1,type:{name:"string"}}}}}catch{}async function aO(e,t,n){const r=new Set;try{let a=await Nl(n,e,t);for(;qT(a);){if(r.has(a.id))throw new Error("Link forms a cycle.");r.add(a.id),a=await Nl(n,a.linksTo.targetId,a.linksTo.targetVersionNumber)}return a}catch(a){throw new Error(`${e} could not be resolved.
${a.message}`)}}function iO(e,t,n){const{accessToken:r}=Ze();return Yo(["resolveLinkEntity",e,t],()=>aO(e,t,r),n)}function oO(e){const{rawHtml:t,isLoading:n,isTrusted:r}=e;return R.useMemo(()=>{if(!n)return r?t:YS(t,QS)},[n,r,t])}function Wf(e){const{createdByUserId:t,rawHtml:n}=e,r=R.useRef(null),[a,i]=R.useState(100),{data:o,isLoading:s}=xI(mI,t),l=()=>{if(r!=null&&r.current&&(r!=null&&r.current.contentWindow)){let d=r.current.contentWindow.document.body.scrollHeight;d<450&&(d=450),(!a||Math.abs(d-a)>70)&&i(d+50)}};R.useEffect(()=>{setInterval(()=>{l()},500)},[n]);const u=oO({rawHtml:n,isLoading:s,isTrusted:!!o});return s?f(Du,{}):P(te,{children:[n!==u&&f(pn,{severity:"info",sx:{marginBottom:"20px"},children:"Limited rendering only."}),f("iframe",{ref:r,srcDoc:u,height:`${a}px`,style:{border:0,width:"100%"}})]})}try{Wf.displayName="HtmlPreview",Wf.__docgenInfo={description:"Renders raw HTML. Uses file handle data to determine if the content should be sanitized.",displayName:"HtmlPreview",props:{createdByUserId:{defaultValue:null,description:"",name:"createdByUserId",required:!0,type:{name:"string"}},rawHtml:{defaultValue:null,description:"",name:"rawHtml",required:!0,type:{name:"string"}}}}}catch{}var gt=(e=>(e.PLAINTEXT="PLAINTEXT",e.CODE="CODE",e.ZIP="ZIP",e.CSV="CSV",e.IMAGE="IMAGE",e.NONE="NONE",e.TAB="TAB",e.HTML="HTML",e.PDF="PDF",e.IPYNB="IPYNB",e.VIDEO="VIDEO",e.MARKDOWN="MARKDOWN",e.TIFF="TIFF",e))(gt||{});const sO=30*hI;function kl(e){const{fileHandle:t,fileHandleAssociation:n,previewType:r}=e,a={requestedFiles:[n],includePreSignedURLs:!0,includeFileHandles:!1,includePreviewPreSignedURLs:!1},{data:i,isLoading:o}=oI(t,a,sO,{useErrorBoundary:!0});return o?f(Du,{}):r===gt.HTML?f(Wf,{rawHtml:i,createdByUserId:t.createdBy}):(r!==gt.NONE&&console.warn(`Rendering a preview of type ${r} is not supported in Portals`),f(te,{}))}try{kl.displayName="FileHandleContentRenderer",kl.__docgenInfo={description:"Fetches the content for and renders the contents of a file handle.",displayName:"FileHandleContentRenderer",props:{fileHandle:{defaultValue:null,description:"The file handle whose contents should be downloaded and rendered",name:"fileHandle",required:!0,type:{name:"FileHandle"}},fileHandleAssociation:{defaultValue:null,description:"The association between the file handle and an object which will give the user permission to access the file data",name:"fileHandleAssociation",required:!0,type:{name:"FileHandleAssociation"}},previewType:{defaultValue:null,description:"Informs how to render the file data",name:"previewType",required:!0,type:{name:"enum",value:[{value:'"PLAINTEXT"'},{value:'"CODE"'},{value:'"ZIP"'},{value:'"CSV"'},{value:'"IMAGE"'},{value:'"NONE"'},{value:'"TAB"'},{value:'"HTML"'},{value:'"PDF"'},{value:'"IPYNB"'},{value:'"VIDEO"'},{value:'"MARKDOWN"'},{value:'"TIFF"'}]}}}}}catch{}const XS=["image/bmp","image/pjpeg","image/jpeg","image/jpg","image/jpe","image/gif","image/png","image/svg+xml"],lO=[".mp4",".m4a",".m4p",".m4b",".m4r",".m4v"],uO=[".ogv",".ogg"],cO=[...lO,...uO,".webm"],dO=[".cwl",".wdl",".json",".awk",".bat",".btm",".c",".cmd",".cpp",".cxx",".def",".dlg",".dpc",".dpj",".dtd",".h",".hdl",".hpp",".hrc",".html",".hxx",".inc",".ini",".inl",".ins",".ipy",".java",".js",".jsp",".l",".lgt",".ll",".par",".pl",".py",".r",".rc",".rdb",".res",".s",".sbl",".scp",".sh",".sql",".src",".srs",".xml",".xrb",".y",".yaml",".yxx"],fO=[".md",".markdown",".rmd"];function pO(e){const t=e.lastIndexOf(".");return t===-1?null:e.substring(t)}function mO(e){if(!Oh(e))return gt.NONE;const t=pO(e.fileName);return t&&cO.includes(t)?gt.VIDEO:t===".ipynb"?gt.IPYNB:XS.includes(e.contentType)?gt.IMAGE:e.contentType==="text/html"?gt.HTML:e.contentType.toLowerCase().startsWith("application/pdf")?gt.PDF:t&&dO.includes(t)?gt.CODE:t&&fO.includes(t)?gt.MARKDOWN:e.contentType==="image/tiff"?gt.TIFF:gt.NONE}function hO(e,t){const n=e.contentType;return Oh(e)?XS.includes(e.contentType)?gt.IMAGE:n.toLowerCase().startsWith("text/")?n.toLowerCase()==="text/csv"?t.contentType==="application/zip"?gt.ZIP:gt.CSV:n.toLowerCase()==="text/tab-separated-values"?gt.TAB:gt.PLAINTEXT:n.toLowerCase().startsWith("application/pdf")?gt.PDF:gt.NONE:gt.NONE}function Gf(e){const{bundle:t}=e,{accessToken:n}=Ze(),r=!!n;if(!$u(t.entity))throw new Error(`Entity ${t.entity.id} is not a FileEntity`);const a=t.entity.dataFileHandleId,i=t.fileHandles.find(s=>s.id===a);if(!i&&!r)return f(pn,{severity:"error",children:f(MT,{})});if(i){const s=mO(i);if(s!==gt.NONE)return f(kl,{fileHandle:i,fileHandleAssociation:{fileHandleId:a,associateObjectId:t.entity.id,associateObjectType:qt.FileEntity},previewType:s})}const o=t.fileHandles.find(s=>Oh(s)&&s.isPreview);if(o&&i){const s=hO(o,i);if(s!==gt.NONE)return f(kl,{fileHandle:o,fileHandleAssociation:{fileHandleId:o.id,associateObjectId:t.entity.id,associateObjectType:qt.FileEntity},previewType:s})}throw new Error(`Could not render a preview for entity: ${t.entity.id}`)}try{Gf.displayName="FileEntityPreview",Gf.__docgenInfo={description:`Given an entity bundle that contains a FileEntity, render a preview of the file. The rendered preview will be determined based on the
content type and file name of the file handle(s) associated with the FileEntity.`,displayName:"FileEntityPreview",props:{bundle:{defaultValue:null,description:"An entity bundle containing a FileEntity, and its fileHandles",name:"bundle",required:!0,type:{name:"EntityBundle"}}}}}catch{}function Kf(e){const{entityId:t,versionNumber:n}=e,{data:r,isLoading:a}=iO(t,n),i=r&&$u(r),{data:o,isLoading:s}=RS(r==null?void 0:r.id,r==null?void 0:r.versionNumber,Ow,{enabled:!!i,useErrorBoundary:!0});if(a||s)return f(Du,{});if(i)return f(Gf,{bundle:o});throw new Error(`${t} is not a File and cannot be previewed.`)}try{Kf.displayName="EntityPreview",Kf.__docgenInfo={description:"Returns a preview of an entity. Currently only works for FileEntities, and Links that resolve to FileEntities.",displayName:"EntityPreview",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},versionNumber:{defaultValue:null,description:"",name:"versionNumber",required:!1,type:{name:"number"}}}}}catch{}function Yf(e){const t=CI(e.entityId);if(t==null)throw new Error(`${e.entityId} is not a valid Synapse ID`);const n=parseInt(e.versionNumber??""),r=t.targetId,a=Number.isNaN(n)?t.targetVersionNumber:n;return f(Kf,{entityId:r,versionNumber:a})}try{Yf.displayName="MarkdownEntityPreview",Yf.__docgenInfo={description:"",displayName:"MarkdownEntityPreview",props:{entityId:{defaultValue:null,description:'A Synapse Entity ID that may optionally contain a "dot" version, e.g. syn123 or syn123.2',name:"entityId",required:!0,type:{name:"string"}},versionNumber:{defaultValue:null,description:"An optional Entity version number.",name:"versionNumber",required:!1,type:{name:"string"}}}}}catch{}const Qf=({info:e})=>f(te,{children:e&&P("p",{className:"SubmissionInfoCard",children:[f("strong",{children:" Project Lead: "})," ",f("span",{children:e.projectLead})," ",f("br",{}),f("strong",{children:" Institution: "})," ",f("span",{children:e.institution})," ",f("br",{}),f("strong",{children:" Data Access Request Submitted By: "})," ",f(gi,{ownerId:e.submittedBy,size:Il})," ",f("br",{}),P("strong",{children:[" ","Intended Data Use Statement (accepted on"," ",So(rn(e.modifiedOn),"M/D/YYYY"),"):"]}),f(gn,{markdown:e.intendedDataUseStatement}),e.accessorChanges&&e.accessorChanges.map(t=>P("div",{children:[f(gi,{ownerId:t.userId,size:Il})," ",t.type]},`${t.userId}-${t.type}`))]})}),Pl=()=>P("p",{className:"SubmissionInfoCard",children:[f(Kh,{numCols:1,numRows:4}),f(Xn,{variant:"rectangular",width:"100%",height:80})]});try{Qf.displayName="SubmissionInfoCard",Qf.__docgenInfo={description:"",displayName:"SubmissionInfoCard",props:{info:{defaultValue:null,description:"",name:"info",required:!0,type:{name:"SubmissionInfo"}}}}}catch{}try{Pl.displayName="LoadingSubmissionInfoCard",Pl.__docgenInfo={description:"",displayName:"LoadingSubmissionInfoCard",props:{}}}catch{}const Xf=e=>{const{accessRequirementId:t}=e,{ref:n,inView:r}=Fh(),{data:a,status:i,isLoading:o,hasNextPage:s,isFetchingNextPage:l,fetchNextPage:c}=k$(t,{useErrorBoundary:!0});R.useEffect(()=>{i==="success"&&!l&&s&&c&&r&&c()},[i,s,l,c,r]);const u=(a==null?void 0:a.pages.flatMap(d=>d.results))??[];return P(te,{children:[u.length>0&&P("div",{className:"IDUReport",children:[u.map(d=>P(J.Fragment,{children:[f(Qf,{info:d}),f("hr",{})]},JSON.stringify(d))),f("div",{ref:n})]}),(o||l)&&P(te,{children:[f(Pl,{}),f(Pl,{})]})]})};try{Xf.displayName="IDUReport",Xf.__docgenInfo={description:"",displayName:"IDUReport",props:{accessRequirementId:{defaultValue:null,description:"",name:"accessRequirementId",required:!0,type:{name:"string"}}}}}catch{}function Jf(e){const{accessRestrictionId:t}=e;return f(Xf,{accessRequirementId:t})}try{Jf.displayName="MarkdownIDUReport",Jf.__docgenInfo={description:"",displayName:"MarkdownIDUReport",props:{accessRestrictionId:{defaultValue:null,description:"",name:"accessRestrictionId",required:!0,type:{name:"string"}}}}}catch{}function sn(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=sn(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}const Dv=e=>{let t;const n=new Set,r=(l,c)=>{const u=typeof l=="function"?l(t):l;if(!Object.is(u,t)){const d=t;t=c??typeof u!="object"?u:Object.assign({},t,u),n.forEach(p=>p(t,d))}},a=()=>t,s={setState:r,getState:a,subscribe:l=>(n.add(l),()=>n.delete(l)),destroy:()=>{n.clear()}};return t=e(r,a,s),s},gO=e=>e?Dv(e):Dv;var JS={exports:{}},ZS={},eC={exports:{}},tC={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yi=R;function yO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vO=typeof Object.is=="function"?Object.is:yO,bO=yi.useState,_O=yi.useEffect,wO=yi.useLayoutEffect,SO=yi.useDebugValue;function CO(e,t){var n=t(),r=bO({inst:{value:n,getSnapshot:t}}),a=r[0].inst,i=r[1];return wO(function(){a.value=n,a.getSnapshot=t,Ac(a)&&i({inst:a})},[e,n,t]),_O(function(){return Ac(a)&&i({inst:a}),e(function(){Ac(a)&&i({inst:a})})},[e]),SO(n),n}function Ac(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vO(e,n)}catch{return!0}}function EO(e,t){return t()}var NO=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?EO:CO;tC.useSyncExternalStore=yi.useSyncExternalStore!==void 0?yi.useSyncExternalStore:NO;eC.exports=tC;var TO=eC.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wu=R,IO=TO;function RO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xO=typeof Object.is=="function"?Object.is:RO,$O=IO.useSyncExternalStore,AO=Wu.useRef,OO=Wu.useEffect,kO=Wu.useMemo,PO=Wu.useDebugValue;ZS.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var i=AO(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=kO(function(){function l(m){if(!c){if(c=!0,u=m,m=r(m),a!==void 0&&o.hasValue){var h=o.value;if(a(h,m))return d=h}return d=m}if(h=d,xO(u,m))return h;var g=r(m);return a!==void 0&&a(h,g)?h:(u=m,d=g)}var c=!1,u,d,p=n===void 0?null:n;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,n,r,a]);var s=$O(e,i[0],i[1]);return OO(function(){o.hasValue=!0,o.value=s},[s]),PO(s),s};JS.exports=ZS;var DO=JS.exports;const VO=Er(DO),{useSyncExternalStoreWithSelector:LO}=VO;function FO(e,t=e.getState,n){const r=LO(e.subscribe,e.getState,e.getServerState||e.getState,t,n);return R.useDebugValue(r),r}function Kt(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,a]of e)if(!Object.is(a,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}var qO={value:()=>{}};function Gu(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ol(n)}function ol(e){this._=e}function MO(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");if(a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ol.prototype=Gu.prototype={constructor:ol,on:function(e,t){var n=this._,r=MO(e+"",n),a,i=-1,o=r.length;if(arguments.length<2){for(;++i<o;)if((a=(e=r[i]).type)&&(a=BO(n[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(a=(e=r[i]).type)n[a]=Vv(n[a],e.name,t);else if(t==null)for(a in n)n[a]=Vv(n[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ol(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var n=new Array(a),r=0,a,i;r<a;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,a=i.length;r<a;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,i=r.length;a<i;++a)r[a].value.apply(t,n)}};function BO(e,t){for(var n=0,r=e.length,a;n<r;++n)if((a=e[n]).name===t)return a.value}function Vv(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=qO,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Zf="http://www.w3.org/1999/xhtml";const Lv={svg:"http://www.w3.org/2000/svg",xhtml:Zf,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ku(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Lv.hasOwnProperty(t)?{space:Lv[t],local:e}:e}function UO(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Zf&&t.documentElement.namespaceURI===Zf?t.createElement(e):t.createElementNS(n,e)}}function HO(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function nC(e){var t=Ku(e);return(t.local?HO:UO)(t)}function zO(){}function hg(e){return e==null?zO:function(){return this.querySelector(e)}}function jO(e){typeof e!="function"&&(e=hg(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var i=t[a],o=i.length,s=r[a]=new Array(o),l,c,u=0;u<o;++u)(l=i[u])&&(c=e.call(l,l.__data__,u,i))&&("__data__"in l&&(c.__data__=l.__data__),s[u]=c);return new hn(r,this._parents)}function WO(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function GO(){return[]}function rC(e){return e==null?GO:function(){return this.querySelectorAll(e)}}function KO(e){return function(){return WO(e.apply(this,arguments))}}function YO(e){typeof e=="function"?e=KO(e):e=rC(e);for(var t=this._groups,n=t.length,r=[],a=[],i=0;i<n;++i)for(var o=t[i],s=o.length,l,c=0;c<s;++c)(l=o[c])&&(r.push(e.call(l,l.__data__,c,o)),a.push(l));return new hn(r,a)}function aC(e){return function(){return this.matches(e)}}function iC(e){return function(t){return t.matches(e)}}var QO=Array.prototype.find;function XO(e){return function(){return QO.call(this.children,e)}}function JO(){return this.firstElementChild}function ZO(e){return this.select(e==null?JO:XO(typeof e=="function"?e:iC(e)))}var ek=Array.prototype.filter;function tk(){return Array.from(this.children)}function nk(e){return function(){return ek.call(this.children,e)}}function rk(e){return this.selectAll(e==null?tk:nk(typeof e=="function"?e:iC(e)))}function ak(e){typeof e!="function"&&(e=aC(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var i=t[a],o=i.length,s=r[a]=[],l,c=0;c<o;++c)(l=i[c])&&e.call(l,l.__data__,c,i)&&s.push(l);return new hn(r,this._parents)}function oC(e){return new Array(e.length)}function ik(){return new hn(this._enter||this._groups.map(oC),this._parents)}function Dl(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Dl.prototype={constructor:Dl,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function ok(e){return function(){return e}}function sk(e,t,n,r,a,i){for(var o=0,s,l=t.length,c=i.length;o<c;++o)(s=t[o])?(s.__data__=i[o],r[o]=s):n[o]=new Dl(e,i[o]);for(;o<l;++o)(s=t[o])&&(a[o]=s)}function lk(e,t,n,r,a,i,o){var s,l,c=new Map,u=t.length,d=i.length,p=new Array(u),m;for(s=0;s<u;++s)(l=t[s])&&(p[s]=m=o.call(l,l.__data__,s,t)+"",c.has(m)?a[s]=l:c.set(m,l));for(s=0;s<d;++s)m=o.call(e,i[s],s,i)+"",(l=c.get(m))?(r[s]=l,l.__data__=i[s],c.delete(m)):n[s]=new Dl(e,i[s]);for(s=0;s<u;++s)(l=t[s])&&c.get(p[s])===l&&(a[s]=l)}function uk(e){return e.__data__}function ck(e,t){if(!arguments.length)return Array.from(this,uk);var n=t?lk:sk,r=this._parents,a=this._groups;typeof e!="function"&&(e=ok(e));for(var i=a.length,o=new Array(i),s=new Array(i),l=new Array(i),c=0;c<i;++c){var u=r[c],d=a[c],p=d.length,m=dk(e.call(u,u&&u.__data__,c,r)),h=m.length,g=s[c]=new Array(h),y=o[c]=new Array(h),v=l[c]=new Array(p);n(u,d,g,y,v,m,t);for(var w=0,_=0,b,E;w<h;++w)if(b=g[w]){for(w>=_&&(_=w+1);!(E=y[_])&&++_<h;);b._next=E||null}}return o=new hn(o,r),o._enter=s,o._exit=l,o}function dk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function fk(){return new hn(this._exit||this._groups.map(oC),this._parents)}function pk(e,t,n){var r=this.enter(),a=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),n==null?i.remove():n(i),r&&a?r.merge(a).order():a}function mk(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,a=n.length,i=r.length,o=Math.min(a,i),s=new Array(a),l=0;l<o;++l)for(var c=n[l],u=r[l],d=c.length,p=s[l]=new Array(d),m,h=0;h<d;++h)(m=c[h]||u[h])&&(p[h]=m);for(;l<a;++l)s[l]=n[l];return new hn(s,this._parents)}function hk(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],a=r.length-1,i=r[a],o;--a>=0;)(o=r[a])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function gk(e){e||(e=yk);function t(d,p){return d&&p?e(d.__data__,p.__data__):!d-!p}for(var n=this._groups,r=n.length,a=new Array(r),i=0;i<r;++i){for(var o=n[i],s=o.length,l=a[i]=new Array(s),c,u=0;u<s;++u)(c=o[u])&&(l[u]=c);l.sort(t)}return new hn(a,this._parents).order()}function yk(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function vk(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function bk(){return Array.from(this)}function _k(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,i=r.length;a<i;++a){var o=r[a];if(o)return o}return null}function wk(){let e=0;for(const t of this)++e;return e}function Sk(){return!this.node()}function Ck(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a=t[n],i=0,o=a.length,s;i<o;++i)(s=a[i])&&e.call(s,s.__data__,i,a);return this}function Ek(e){return function(){this.removeAttribute(e)}}function Nk(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Tk(e,t){return function(){this.setAttribute(e,t)}}function Ik(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Rk(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function xk(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function $k(e,t){var n=Ku(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Nk:Ek:typeof t=="function"?n.local?xk:Rk:n.local?Ik:Tk)(n,t))}function sC(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Ak(e){return function(){this.style.removeProperty(e)}}function Ok(e,t,n){return function(){this.style.setProperty(e,t,n)}}function kk(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Pk(e,t,n){return arguments.length>1?this.each((t==null?Ak:typeof t=="function"?kk:Ok)(e,t,n??"")):vi(this.node(),e)}function vi(e,t){return e.style.getPropertyValue(t)||sC(e).getComputedStyle(e,null).getPropertyValue(t)}function Dk(e){return function(){delete this[e]}}function Vk(e,t){return function(){this[e]=t}}function Lk(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Fk(e,t){return arguments.length>1?this.each((t==null?Dk:typeof t=="function"?Lk:Vk)(e,t)):this.node()[e]}function lC(e){return e.trim().split(/^|\s+/)}function gg(e){return e.classList||new uC(e)}function uC(e){this._node=e,this._names=lC(e.getAttribute("class")||"")}uC.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function cC(e,t){for(var n=gg(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function dC(e,t){for(var n=gg(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function qk(e){return function(){cC(this,e)}}function Mk(e){return function(){dC(this,e)}}function Bk(e,t){return function(){(t.apply(this,arguments)?cC:dC)(this,e)}}function Uk(e,t){var n=lC(e+"");if(arguments.length<2){for(var r=gg(this.node()),a=-1,i=n.length;++a<i;)if(!r.contains(n[a]))return!1;return!0}return this.each((typeof t=="function"?Bk:t?qk:Mk)(n,t))}function Hk(){this.textContent=""}function zk(e){return function(){this.textContent=e}}function jk(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Wk(e){return arguments.length?this.each(e==null?Hk:(typeof e=="function"?jk:zk)(e)):this.node().textContent}function Gk(){this.innerHTML=""}function Kk(e){return function(){this.innerHTML=e}}function Yk(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Qk(e){return arguments.length?this.each(e==null?Gk:(typeof e=="function"?Yk:Kk)(e)):this.node().innerHTML}function Xk(){this.nextSibling&&this.parentNode.appendChild(this)}function Jk(){return this.each(Xk)}function Zk(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function eP(){return this.each(Zk)}function tP(e){var t=typeof e=="function"?e:nC(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function nP(){return null}function rP(e,t){var n=typeof e=="function"?e:nC(e),r=t==null?nP:typeof t=="function"?t:hg(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function aP(){var e=this.parentNode;e&&e.removeChild(this)}function iP(){return this.each(aP)}function oP(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function sP(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function lP(e){return this.select(e?sP:oP)}function uP(e){return arguments.length?this.property("__data__",e):this.node().__data__}function cP(e){return function(t){e.call(this,t,this.__data__)}}function dP(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function fP(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,a=t.length,i;n<a;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function pP(e,t,n){return function(){var r=this.__on,a,i=cP(t);if(r){for(var o=0,s=r.length;o<s;++o)if((a=r[o]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=i,a.options=n),a.value=t;return}}this.addEventListener(e.type,i,n),a={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(a):this.__on=[a]}}function mP(e,t,n){var r=dP(e+""),a,i=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,c=s.length,u;l<c;++l)for(a=0,u=s[l];a<i;++a)if((o=r[a]).type===u.type&&o.name===u.name)return u.value}return}for(s=t?pP:fP,a=0;a<i;++a)this.each(s(r[a],t,n));return this}function fC(e,t,n){var r=sC(e),a=r.CustomEvent;typeof a=="function"?a=new a(t,n):(a=r.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function hP(e,t){return function(){return fC(this,e,t)}}function gP(e,t){return function(){return fC(this,e,t.apply(this,arguments))}}function yP(e,t){return this.each((typeof t=="function"?gP:hP)(e,t))}function*vP(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,i=r.length,o;a<i;++a)(o=r[a])&&(yield o)}var pC=[null];function hn(e,t){this._groups=e,this._parents=t}function is(){return new hn([[document.documentElement]],pC)}function bP(){return this}hn.prototype=is.prototype={constructor:hn,select:jO,selectAll:YO,selectChild:ZO,selectChildren:rk,filter:ak,data:ck,enter:ik,exit:fk,join:pk,merge:mk,selection:bP,order:hk,sort:gk,call:vk,nodes:bk,node:_k,size:wk,empty:Sk,each:Ck,attr:$k,style:Pk,property:Fk,classed:Uk,text:Wk,html:Qk,raise:Jk,lower:eP,append:tP,insert:rP,remove:iP,clone:lP,datum:uP,on:mP,dispatch:yP,[Symbol.iterator]:vP};function kn(e){return typeof e=="string"?new hn([[document.querySelector(e)]],[document.documentElement]):new hn([[e]],pC)}function _P(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Wn(e,t){if(e=_P(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}const wP={passive:!1},No={capture:!0,passive:!1};function Oc(e){e.stopImmediatePropagation()}function si(e){e.preventDefault(),e.stopImmediatePropagation()}function mC(e){var t=e.document.documentElement,n=kn(e).on("dragstart.drag",si,No);"onselectstart"in t?n.on("selectstart.drag",si,No):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function hC(e,t){var n=e.document.documentElement,r=kn(e).on("dragstart.drag",null);t&&(r.on("click.drag",si,No),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const As=e=>()=>e;function ep(e,{sourceEvent:t,subject:n,target:r,identifier:a,active:i,x:o,y:s,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}ep.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function SP(e){return!e.ctrlKey&&!e.button}function CP(){return this.parentNode}function EP(e,t){return t??{x:e.x,y:e.y}}function NP(){return navigator.maxTouchPoints||"ontouchstart"in this}function TP(){var e=SP,t=CP,n=EP,r=NP,a={},i=Gu("start","drag","end"),o=0,s,l,c,u,d=0;function p(b){b.on("mousedown.drag",m).filter(r).on("touchstart.drag",y).on("touchmove.drag",v,wP).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(b,E){if(!(u||!e.call(this,b,E))){var S=_(this,t.call(this,b,E),b,E,"mouse");S&&(kn(b.view).on("mousemove.drag",h,No).on("mouseup.drag",g,No),mC(b.view),Oc(b),c=!1,s=b.clientX,l=b.clientY,S("start",b))}}function h(b){if(si(b),!c){var E=b.clientX-s,S=b.clientY-l;c=E*E+S*S>d}a.mouse("drag",b)}function g(b){kn(b.view).on("mousemove.drag mouseup.drag",null),hC(b.view,c),si(b),a.mouse("end",b)}function y(b,E){if(e.call(this,b,E)){var S=b.changedTouches,N=t.call(this,b,E),C=S.length,I,k;for(I=0;I<C;++I)(k=_(this,N,b,E,S[I].identifier,S[I]))&&(Oc(b),k("start",b,S[I]))}}function v(b){var E=b.changedTouches,S=E.length,N,C;for(N=0;N<S;++N)(C=a[E[N].identifier])&&(si(b),C("drag",b,E[N]))}function w(b){var E=b.changedTouches,S=E.length,N,C;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),N=0;N<S;++N)(C=a[E[N].identifier])&&(Oc(b),C("end",b,E[N]))}function _(b,E,S,N,C,I){var k=i.copy(),O=Wn(I||S,E),M,q,$;if(($=n.call(b,new ep("beforestart",{sourceEvent:S,target:p,identifier:C,active:o,x:O[0],y:O[1],dx:0,dy:0,dispatch:k}),N))!=null)return M=$.x-O[0]||0,q=$.y-O[1]||0,function B(L,F,z){var D=O,x;switch(L){case"start":a[C]=B,x=o++;break;case"end":delete a[C],--o;case"drag":O=Wn(z||F,E),x=o;break}k.call(L,b,new ep(L,{sourceEvent:F,subject:$,target:p,identifier:C,active:x,x:O[0]+M,y:O[1]+q,dx:O[0]-D[0],dy:O[1]-D[1],dispatch:k}),N)}}return p.filter=function(b){return arguments.length?(e=typeof b=="function"?b:As(!!b),p):e},p.container=function(b){return arguments.length?(t=typeof b=="function"?b:As(b),p):t},p.subject=function(b){return arguments.length?(n=typeof b=="function"?b:As(b),p):n},p.touchable=function(b){return arguments.length?(r=typeof b=="function"?b:As(!!b),p):r},p.on=function(){var b=i.on.apply(i,arguments);return b===i?p:b},p.clickDistance=function(b){return arguments.length?(d=(b=+b)*b,p):Math.sqrt(d)},p}function yg(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function gC(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function os(){}var To=.7,Vl=1/To,li="\\s*([+-]?\\d+)\\s*",Io="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Jn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",IP=/^#([0-9a-f]{3,8})$/,RP=new RegExp(`^rgb\\(${li},${li},${li}\\)$`),xP=new RegExp(`^rgb\\(${Jn},${Jn},${Jn}\\)$`),$P=new RegExp(`^rgba\\(${li},${li},${li},${Io}\\)$`),AP=new RegExp(`^rgba\\(${Jn},${Jn},${Jn},${Io}\\)$`),OP=new RegExp(`^hsl\\(${Io},${Jn},${Jn}\\)$`),kP=new RegExp(`^hsla\\(${Io},${Jn},${Jn},${Io}\\)$`),Fv={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};yg(os,Ro,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:qv,formatHex:qv,formatHex8:PP,formatHsl:DP,formatRgb:Mv,toString:Mv});function qv(){return this.rgb().formatHex()}function PP(){return this.rgb().formatHex8()}function DP(){return yC(this).formatHsl()}function Mv(){return this.rgb().formatRgb()}function Ro(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=IP.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Bv(t):n===3?new nn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Os(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Os(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=RP.exec(e))?new nn(t[1],t[2],t[3],1):(t=xP.exec(e))?new nn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=$P.exec(e))?Os(t[1],t[2],t[3],t[4]):(t=AP.exec(e))?Os(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=OP.exec(e))?zv(t[1],t[2]/100,t[3]/100,1):(t=kP.exec(e))?zv(t[1],t[2]/100,t[3]/100,t[4]):Fv.hasOwnProperty(e)?Bv(Fv[e]):e==="transparent"?new nn(NaN,NaN,NaN,0):null}function Bv(e){return new nn(e>>16&255,e>>8&255,e&255,1)}function Os(e,t,n,r){return r<=0&&(e=t=n=NaN),new nn(e,t,n,r)}function VP(e){return e instanceof os||(e=Ro(e)),e?(e=e.rgb(),new nn(e.r,e.g,e.b,e.opacity)):new nn}function tp(e,t,n,r){return arguments.length===1?VP(e):new nn(e,t,n,r??1)}function nn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}yg(nn,tp,gC(os,{brighter(e){return e=e==null?Vl:Math.pow(Vl,e),new nn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?To:Math.pow(To,e),new nn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new nn(Ta(this.r),Ta(this.g),Ta(this.b),Ll(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Uv,formatHex:Uv,formatHex8:LP,formatRgb:Hv,toString:Hv}));function Uv(){return`#${Ea(this.r)}${Ea(this.g)}${Ea(this.b)}`}function LP(){return`#${Ea(this.r)}${Ea(this.g)}${Ea(this.b)}${Ea((isNaN(this.opacity)?1:this.opacity)*255)}`}function Hv(){const e=Ll(this.opacity);return`${e===1?"rgb(":"rgba("}${Ta(this.r)}, ${Ta(this.g)}, ${Ta(this.b)}${e===1?")":`, ${e})`}`}function Ll(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ta(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ea(e){return e=Ta(e),(e<16?"0":"")+e.toString(16)}function zv(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Pn(e,t,n,r)}function yC(e){if(e instanceof Pn)return new Pn(e.h,e.s,e.l,e.opacity);if(e instanceof os||(e=Ro(e)),!e)return new Pn;if(e instanceof Pn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,s=i-a,l=(i+a)/2;return s?(t===i?o=(n-r)/s+(n<r)*6:n===i?o=(r-t)/s+2:o=(t-n)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new Pn(o,s,l,e.opacity)}function FP(e,t,n,r){return arguments.length===1?yC(e):new Pn(e,t,n,r??1)}function Pn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}yg(Pn,FP,gC(os,{brighter(e){return e=e==null?Vl:Math.pow(Vl,e),new Pn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?To:Math.pow(To,e),new Pn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new nn(kc(e>=240?e-240:e+120,a,r),kc(e,a,r),kc(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new Pn(jv(this.h),ks(this.s),ks(this.l),Ll(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ll(this.opacity);return`${e===1?"hsl(":"hsla("}${jv(this.h)}, ${ks(this.s)*100}%, ${ks(this.l)*100}%${e===1?")":`, ${e})`}`}}));function jv(e){return e=(e||0)%360,e<0?e+360:e}function ks(e){return Math.max(0,Math.min(1,e||0))}function kc(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const vC=e=>()=>e;function qP(e,t){return function(n){return e+n*t}}function MP(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function BP(e){return(e=+e)==1?bC:function(t,n){return n-t?MP(t,n,e):vC(isNaN(t)?n:t)}}function bC(e,t){var n=t-e;return n?qP(e,n):vC(isNaN(e)?t:e)}const Wv=function e(t){var n=BP(t);function r(a,i){var o=n((a=tp(a)).r,(i=tp(i)).r),s=n(a.g,i.g),l=n(a.b,i.b),c=bC(a.opacity,i.opacity);return function(u){return a.r=o(u),a.g=s(u),a.b=l(u),a.opacity=c(u),a+""}}return r.gamma=e,r}(1);function Br(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var np=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Pc=new RegExp(np.source,"g");function UP(e){return function(){return e}}function HP(e){return function(t){return e(t)+""}}function zP(e,t){var n=np.lastIndex=Pc.lastIndex=0,r,a,i,o=-1,s=[],l=[];for(e=e+"",t=t+"";(r=np.exec(e))&&(a=Pc.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),s[o]?s[o]+=i:s[++o]=i),(r=r[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,l.push({i:o,x:Br(r,a)})),n=Pc.lastIndex;return n<t.length&&(i=t.slice(n),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?HP(l[0].x):UP(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)s[(d=l[u]).i]=d.x(c);return s.join("")})}var Gv=180/Math.PI,rp={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function _C(e,t,n,r,a,i){var o,s,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:a,translateY:i,rotate:Math.atan2(t,e)*Gv,skewX:Math.atan(l)*Gv,scaleX:o,scaleY:s}}var Ps;function jP(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?rp:_C(t.a,t.b,t.c,t.d,t.e,t.f)}function WP(e){return e==null||(Ps||(Ps=document.createElementNS("http://www.w3.org/2000/svg","g")),Ps.setAttribute("transform",e),!(e=Ps.transform.baseVal.consolidate()))?rp:(e=e.matrix,_C(e.a,e.b,e.c,e.d,e.e,e.f))}function wC(e,t,n,r){function a(c){return c.length?c.pop()+" ":""}function i(c,u,d,p,m,h){if(c!==d||u!==p){var g=m.push("translate(",null,t,null,n);h.push({i:g-4,x:Br(c,d)},{i:g-2,x:Br(u,p)})}else(d||p)&&m.push("translate("+d+t+p+n)}function o(c,u,d,p){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),p.push({i:d.push(a(d)+"rotate(",null,r)-2,x:Br(c,u)})):u&&d.push(a(d)+"rotate("+u+r)}function s(c,u,d,p){c!==u?p.push({i:d.push(a(d)+"skewX(",null,r)-2,x:Br(c,u)}):u&&d.push(a(d)+"skewX("+u+r)}function l(c,u,d,p,m,h){if(c!==d||u!==p){var g=m.push(a(m)+"scale(",null,",",null,")");h.push({i:g-4,x:Br(c,d)},{i:g-2,x:Br(u,p)})}else(d!==1||p!==1)&&m.push(a(m)+"scale("+d+","+p+")")}return function(c,u){var d=[],p=[];return c=e(c),u=e(u),i(c.translateX,c.translateY,u.translateX,u.translateY,d,p),o(c.rotate,u.rotate,d,p),s(c.skewX,u.skewX,d,p),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,p),c=u=null,function(m){for(var h=-1,g=p.length,y;++h<g;)d[(y=p[h]).i]=y.x(m);return d.join("")}}}var GP=wC(jP,"px, ","px)","deg)"),KP=wC(WP,", ",")",")"),YP=1e-12;function Kv(e){return((e=Math.exp(e))+1/e)/2}function QP(e){return((e=Math.exp(e))-1/e)/2}function XP(e){return((e=Math.exp(2*e))-1)/(e+1)}const JP=function e(t,n,r){function a(i,o){var s=i[0],l=i[1],c=i[2],u=o[0],d=o[1],p=o[2],m=u-s,h=d-l,g=m*m+h*h,y,v;if(g<YP)v=Math.log(p/c)/t,y=function(N){return[s+N*m,l+N*h,c*Math.exp(t*N*v)]};else{var w=Math.sqrt(g),_=(p*p-c*c+r*g)/(2*c*n*w),b=(p*p-c*c-r*g)/(2*p*n*w),E=Math.log(Math.sqrt(_*_+1)-_),S=Math.log(Math.sqrt(b*b+1)-b);v=(S-E)/t,y=function(N){var C=N*v,I=Kv(E),k=c/(n*w)*(I*XP(t*C+E)-QP(E));return[s+k*m,l+k*h,c*I/Kv(t*C+E)]}}return y.duration=v*1e3*t/Math.SQRT2,y}return a.rho=function(i){var o=Math.max(.001,+i),s=o*o,l=s*s;return e(o,s,l)},a}(Math.SQRT2,2,4);var bi=0,no=0,Wi=0,SC=1e3,Fl,ro,ql=0,Da=0,Yu=0,xo=typeof performance=="object"&&performance.now?performance:Date,CC=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function vg(){return Da||(CC(ZP),Da=xo.now()+Yu)}function ZP(){Da=0}function Ml(){this._call=this._time=this._next=null}Ml.prototype=EC.prototype={constructor:Ml,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?vg():+n)+(t==null?0:+t),!this._next&&ro!==this&&(ro?ro._next=this:Fl=this,ro=this),this._call=e,this._time=n,ap()},stop:function(){this._call&&(this._call=null,this._time=1/0,ap())}};function EC(e,t,n){var r=new Ml;return r.restart(e,t,n),r}function eD(){vg(),++bi;for(var e=Fl,t;e;)(t=Da-e._time)>=0&&e._call.call(void 0,t),e=e._next;--bi}function Yv(){Da=(ql=xo.now())+Yu,bi=no=0;try{eD()}finally{bi=0,nD(),Da=0}}function tD(){var e=xo.now(),t=e-ql;t>SC&&(Yu-=t,ql=e)}function nD(){for(var e,t=Fl,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Fl=n);ro=e,ap(r)}function ap(e){if(!bi){no&&(no=clearTimeout(no));var t=e-Da;t>24?(e<1/0&&(no=setTimeout(Yv,e-xo.now()-Yu)),Wi&&(Wi=clearInterval(Wi))):(Wi||(ql=xo.now(),Wi=setInterval(tD,SC)),bi=1,CC(Yv))}}function Qv(e,t,n){var r=new Ml;return t=t==null?0:+t,r.restart(a=>{r.stop(),e(a+t)},t,n),r}var rD=Gu("start","end","cancel","interrupt"),aD=[],NC=0,Xv=1,ip=2,sl=3,Jv=4,op=5,ll=6;function Qu(e,t,n,r,a,i){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;iD(e,n,{name:t,index:r,group:a,on:rD,tween:aD,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:NC})}function bg(e,t){var n=Un(e,t);if(n.state>NC)throw new Error("too late; already scheduled");return n}function rr(e,t){var n=Un(e,t);if(n.state>sl)throw new Error("too late; already running");return n}function Un(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function iD(e,t,n){var r=e.__transition,a;r[t]=n,n.timer=EC(i,0,n.time);function i(c){n.state=Xv,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var u,d,p,m;if(n.state!==Xv)return l();for(u in r)if(m=r[u],m.name===n.name){if(m.state===sl)return Qv(o);m.state===Jv?(m.state=ll,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete r[u]):+u<t&&(m.state=ll,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete r[u])}if(Qv(function(){n.state===sl&&(n.state=Jv,n.timer.restart(s,n.delay,n.time),s(c))}),n.state=ip,n.on.call("start",e,e.__data__,n.index,n.group),n.state===ip){for(n.state=sl,a=new Array(p=n.tween.length),u=0,d=-1;u<p;++u)(m=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(a[++d]=m);a.length=d+1}}function s(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=op,1),d=-1,p=a.length;++d<p;)a[d].call(e,u);n.state===op&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=ll,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function ul(e,t){var n=e.__transition,r,a,i=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){i=!1;continue}a=r.state>ip&&r.state<op,r.state=ll,r.timer.stop(),r.on.call(a?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}i&&delete e.__transition}}function oD(e){return this.each(function(){ul(this,e)})}function sD(e,t){var n,r;return function(){var a=rr(this,e),i=a.tween;if(i!==n){r=n=i;for(var o=0,s=r.length;o<s;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}a.tween=r}}function lD(e,t,n){var r,a;if(typeof n!="function")throw new Error;return function(){var i=rr(this,e),o=i.tween;if(o!==r){a=(r=o).slice();for(var s={name:t,value:n},l=0,c=a.length;l<c;++l)if(a[l].name===t){a[l]=s;break}l===c&&a.push(s)}i.tween=a}}function uD(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Un(this.node(),n).tween,a=0,i=r.length,o;a<i;++a)if((o=r[a]).name===e)return o.value;return null}return this.each((t==null?sD:lD)(n,e,t))}function _g(e,t,n){var r=e._id;return e.each(function(){var a=rr(this,r);(a.value||(a.value={}))[t]=n.apply(this,arguments)}),function(a){return Un(a,r).value[t]}}function TC(e,t){var n;return(typeof t=="number"?Br:t instanceof Ro?Wv:(n=Ro(t))?(t=n,Wv):zP)(e,t)}function cD(e){return function(){this.removeAttribute(e)}}function dD(e){return function(){this.removeAttributeNS(e.space,e.local)}}function fD(e,t,n){var r,a=n+"",i;return function(){var o=this.getAttribute(e);return o===a?null:o===r?i:i=t(r=o,n)}}function pD(e,t,n){var r,a=n+"",i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===r?i:i=t(r=o,n)}}function mD(e,t,n){var r,a,i;return function(){var o,s=n(this),l;return s==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=s+"",o===l?null:o===r&&l===a?i:(a=l,i=t(r=o,s)))}}function hD(e,t,n){var r,a,i;return function(){var o,s=n(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=s+"",o===l?null:o===r&&l===a?i:(a=l,i=t(r=o,s)))}}function gD(e,t){var n=Ku(e),r=n==="transform"?KP:TC;return this.attrTween(e,typeof t=="function"?(n.local?hD:mD)(n,r,_g(this,"attr."+e,t)):t==null?(n.local?dD:cD)(n):(n.local?pD:fD)(n,r,t))}function yD(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function vD(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function bD(e,t){var n,r;function a(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&vD(e,i)),n}return a._value=t,a}function _D(e,t){var n,r;function a(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&yD(e,i)),n}return a._value=t,a}function wD(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Ku(e);return this.tween(n,(r.local?bD:_D)(r,t))}function SD(e,t){return function(){bg(this,e).delay=+t.apply(this,arguments)}}function CD(e,t){return t=+t,function(){bg(this,e).delay=t}}function ED(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?SD:CD)(t,e)):Un(this.node(),t).delay}function ND(e,t){return function(){rr(this,e).duration=+t.apply(this,arguments)}}function TD(e,t){return t=+t,function(){rr(this,e).duration=t}}function ID(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ND:TD)(t,e)):Un(this.node(),t).duration}function RD(e,t){if(typeof t!="function")throw new Error;return function(){rr(this,e).ease=t}}function xD(e){var t=this._id;return arguments.length?this.each(RD(t,e)):Un(this.node(),t).ease}function $D(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;rr(this,e).ease=n}}function AD(e){if(typeof e!="function")throw new Error;return this.each($D(this._id,e))}function OD(e){typeof e!="function"&&(e=aC(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var i=t[a],o=i.length,s=r[a]=[],l,c=0;c<o;++c)(l=i[c])&&e.call(l,l.__data__,c,i)&&s.push(l);return new wr(r,this._parents,this._name,this._id)}function kD(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,a=n.length,i=Math.min(r,a),o=new Array(r),s=0;s<i;++s)for(var l=t[s],c=n[s],u=l.length,d=o[s]=new Array(u),p,m=0;m<u;++m)(p=l[m]||c[m])&&(d[m]=p);for(;s<r;++s)o[s]=t[s];return new wr(o,this._parents,this._name,this._id)}function PD(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function DD(e,t,n){var r,a,i=PD(t)?bg:rr;return function(){var o=i(this,e),s=o.on;s!==r&&(a=(r=s).copy()).on(t,n),o.on=a}}function VD(e,t){var n=this._id;return arguments.length<2?Un(this.node(),n).on.on(e):this.each(DD(n,e,t))}function LD(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function FD(){return this.on("end.remove",LD(this._id))}function qD(e){var t=this._name,n=this._id;typeof e!="function"&&(e=hg(e));for(var r=this._groups,a=r.length,i=new Array(a),o=0;o<a;++o)for(var s=r[o],l=s.length,c=i[o]=new Array(l),u,d,p=0;p<l;++p)(u=s[p])&&(d=e.call(u,u.__data__,p,s))&&("__data__"in u&&(d.__data__=u.__data__),c[p]=d,Qu(c[p],t,n,p,c,Un(u,n)));return new wr(i,this._parents,t,n)}function MD(e){var t=this._name,n=this._id;typeof e!="function"&&(e=rC(e));for(var r=this._groups,a=r.length,i=[],o=[],s=0;s<a;++s)for(var l=r[s],c=l.length,u,d=0;d<c;++d)if(u=l[d]){for(var p=e.call(u,u.__data__,d,l),m,h=Un(u,n),g=0,y=p.length;g<y;++g)(m=p[g])&&Qu(m,t,n,g,p,h);i.push(p),o.push(u)}return new wr(i,o,t,n)}var BD=is.prototype.constructor;function UD(){return new BD(this._groups,this._parents)}function HD(e,t){var n,r,a;return function(){var i=vi(this,e),o=(this.style.removeProperty(e),vi(this,e));return i===o?null:i===n&&o===r?a:a=t(n=i,r=o)}}function IC(e){return function(){this.style.removeProperty(e)}}function zD(e,t,n){var r,a=n+"",i;return function(){var o=vi(this,e);return o===a?null:o===r?i:i=t(r=o,n)}}function jD(e,t,n){var r,a,i;return function(){var o=vi(this,e),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),vi(this,e))),o===l?null:o===r&&l===a?i:(a=l,i=t(r=o,s))}}function WD(e,t){var n,r,a,i="style."+t,o="end."+i,s;return function(){var l=rr(this,e),c=l.on,u=l.value[i]==null?s||(s=IC(t)):void 0;(c!==n||a!==u)&&(r=(n=c).copy()).on(o,a=u),l.on=r}}function GD(e,t,n){var r=(e+="")=="transform"?GP:TC;return t==null?this.styleTween(e,HD(e,r)).on("end.style."+e,IC(e)):typeof t=="function"?this.styleTween(e,jD(e,r,_g(this,"style."+e,t))).each(WD(this._id,e)):this.styleTween(e,zD(e,r,t),n).on("end.style."+e,null)}function KD(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function YD(e,t,n){var r,a;function i(){var o=t.apply(this,arguments);return o!==a&&(r=(a=o)&&KD(e,o,n)),r}return i._value=t,i}function QD(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,YD(e,t,n??""))}function XD(e){return function(){this.textContent=e}}function JD(e){return function(){var t=e(this);this.textContent=t??""}}function ZD(e){return this.tween("text",typeof e=="function"?JD(_g(this,"text",e)):XD(e==null?"":e+""))}function eV(e){return function(t){this.textContent=e.call(this,t)}}function tV(e){var t,n;function r(){var a=e.apply(this,arguments);return a!==n&&(t=(n=a)&&eV(a)),t}return r._value=e,r}function nV(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,tV(e))}function rV(){for(var e=this._name,t=this._id,n=RC(),r=this._groups,a=r.length,i=0;i<a;++i)for(var o=r[i],s=o.length,l,c=0;c<s;++c)if(l=o[c]){var u=Un(l,t);Qu(l,e,n,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new wr(r,this._parents,e,n)}function aV(){var e,t,n=this,r=n._id,a=n.size();return new Promise(function(i,o){var s={value:o},l={value:function(){--a===0&&i()}};n.each(function(){var c=rr(this,r),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),c.on=t}),a===0&&i()})}var iV=0;function wr(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function RC(){return++iV}var sr=is.prototype;wr.prototype={constructor:wr,select:qD,selectAll:MD,selectChild:sr.selectChild,selectChildren:sr.selectChildren,filter:OD,merge:kD,selection:UD,transition:rV,call:sr.call,nodes:sr.nodes,node:sr.node,size:sr.size,empty:sr.empty,each:sr.each,on:VD,attr:gD,attrTween:wD,style:GD,styleTween:QD,text:ZD,textTween:nV,remove:FD,tween:uD,delay:ED,duration:ID,ease:xD,easeVarying:AD,end:aV,[Symbol.iterator]:sr[Symbol.iterator]};function oV(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var sV={time:null,delay:0,duration:250,ease:oV};function lV(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function uV(e){var t,n;e instanceof wr?(t=e._id,e=e._name):(t=RC(),(n=sV).time=vg(),e=e==null?null:e+"");for(var r=this._groups,a=r.length,i=0;i<a;++i)for(var o=r[i],s=o.length,l,c=0;c<s;++c)(l=o[c])&&Qu(l,e,t,c,o,n||lV(l,t));return new wr(r,this._parents,e,t)}is.prototype.interrupt=oD;is.prototype.transition=uV;const Ds=e=>()=>e;function cV(e,{sourceEvent:t,target:n,transform:r,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:a}})}function pr(e,t,n){this.k=e,this.x=t,this.y=n}pr.prototype={constructor:pr,scale:function(e){return e===1?this:new pr(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new pr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Kr=new pr(1,0,0);pr.prototype;function Dc(e){e.stopImmediatePropagation()}function Gi(e){e.preventDefault(),e.stopImmediatePropagation()}function dV(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function fV(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Zv(){return this.__zoom||Kr}function pV(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function mV(){return navigator.maxTouchPoints||"ontouchstart"in this}function hV(e,t,n){var r=e.invertX(t[0][0])-n[0][0],a=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(a>r?(r+a)/2:Math.min(0,r)||Math.max(0,a),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function gV(){var e=dV,t=fV,n=hV,r=pV,a=mV,i=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],s=250,l=JP,c=Gu("start","zoom","end"),u,d,p,m=500,h=150,g=0,y=10;function v($){$.property("__zoom",Zv).on("wheel.zoom",C,{passive:!1}).on("mousedown.zoom",I).on("dblclick.zoom",k).filter(a).on("touchstart.zoom",O).on("touchmove.zoom",M).on("touchend.zoom touchcancel.zoom",q).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}v.transform=function($,B,L,F){var z=$.selection?$.selection():$;z.property("__zoom",Zv),$!==z?E($,B,L,F):z.interrupt().each(function(){S(this,arguments).event(F).start().zoom(null,typeof B=="function"?B.apply(this,arguments):B).end()})},v.scaleBy=function($,B,L,F){v.scaleTo($,function(){var z=this.__zoom.k,D=typeof B=="function"?B.apply(this,arguments):B;return z*D},L,F)},v.scaleTo=function($,B,L,F){v.transform($,function(){var z=t.apply(this,arguments),D=this.__zoom,x=L==null?b(z):typeof L=="function"?L.apply(this,arguments):L,A=D.invert(x),j=typeof B=="function"?B.apply(this,arguments):B;return n(_(w(D,j),x,A),z,o)},L,F)},v.translateBy=function($,B,L,F){v.transform($,function(){return n(this.__zoom.translate(typeof B=="function"?B.apply(this,arguments):B,typeof L=="function"?L.apply(this,arguments):L),t.apply(this,arguments),o)},null,F)},v.translateTo=function($,B,L,F,z){v.transform($,function(){var D=t.apply(this,arguments),x=this.__zoom,A=F==null?b(D):typeof F=="function"?F.apply(this,arguments):F;return n(Kr.translate(A[0],A[1]).scale(x.k).translate(typeof B=="function"?-B.apply(this,arguments):-B,typeof L=="function"?-L.apply(this,arguments):-L),D,o)},F,z)};function w($,B){return B=Math.max(i[0],Math.min(i[1],B)),B===$.k?$:new pr(B,$.x,$.y)}function _($,B,L){var F=B[0]-L[0]*$.k,z=B[1]-L[1]*$.k;return F===$.x&&z===$.y?$:new pr($.k,F,z)}function b($){return[(+$[0][0]+ +$[1][0])/2,(+$[0][1]+ +$[1][1])/2]}function E($,B,L,F){$.on("start.zoom",function(){S(this,arguments).event(F).start()}).on("interrupt.zoom end.zoom",function(){S(this,arguments).event(F).end()}).tween("zoom",function(){var z=this,D=arguments,x=S(z,D).event(F),A=t.apply(z,D),j=L==null?b(A):typeof L=="function"?L.apply(z,D):L,U=Math.max(A[1][0]-A[0][0],A[1][1]-A[0][1]),T=z.__zoom,V=typeof B=="function"?B.apply(z,D):B,K=l(T.invert(j).concat(U/T.k),V.invert(j).concat(U/V.k));return function(Z){if(Z===1)Z=V;else{var Q=K(Z),re=U/Q[2];Z=new pr(re,j[0]-Q[0]*re,j[1]-Q[1]*re)}x.zoom(null,Z)}})}function S($,B,L){return!L&&$.__zooming||new N($,B)}function N($,B){this.that=$,this.args=B,this.active=0,this.sourceEvent=null,this.extent=t.apply($,B),this.taps=0}N.prototype={event:function($){return $&&(this.sourceEvent=$),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function($,B){return this.mouse&&$!=="mouse"&&(this.mouse[1]=B.invert(this.mouse[0])),this.touch0&&$!=="touch"&&(this.touch0[1]=B.invert(this.touch0[0])),this.touch1&&$!=="touch"&&(this.touch1[1]=B.invert(this.touch1[0])),this.that.__zoom=B,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function($){var B=kn(this.that).datum();c.call($,this.that,new cV($,{sourceEvent:this.sourceEvent,target:v,type:$,transform:this.that.__zoom,dispatch:c}),B)}};function C($,...B){if(!e.apply(this,arguments))return;var L=S(this,B).event($),F=this.__zoom,z=Math.max(i[0],Math.min(i[1],F.k*Math.pow(2,r.apply(this,arguments)))),D=Wn($);if(L.wheel)(L.mouse[0][0]!==D[0]||L.mouse[0][1]!==D[1])&&(L.mouse[1]=F.invert(L.mouse[0]=D)),clearTimeout(L.wheel);else{if(F.k===z)return;L.mouse=[D,F.invert(D)],ul(this),L.start()}Gi($),L.wheel=setTimeout(x,h),L.zoom("mouse",n(_(w(F,z),L.mouse[0],L.mouse[1]),L.extent,o));function x(){L.wheel=null,L.end()}}function I($,...B){if(p||!e.apply(this,arguments))return;var L=$.currentTarget,F=S(this,B,!0).event($),z=kn($.view).on("mousemove.zoom",j,!0).on("mouseup.zoom",U,!0),D=Wn($,L),x=$.clientX,A=$.clientY;mC($.view),Dc($),F.mouse=[D,this.__zoom.invert(D)],ul(this),F.start();function j(T){if(Gi(T),!F.moved){var V=T.clientX-x,K=T.clientY-A;F.moved=V*V+K*K>g}F.event(T).zoom("mouse",n(_(F.that.__zoom,F.mouse[0]=Wn(T,L),F.mouse[1]),F.extent,o))}function U(T){z.on("mousemove.zoom mouseup.zoom",null),hC(T.view,F.moved),Gi(T),F.event(T).end()}}function k($,...B){if(e.apply(this,arguments)){var L=this.__zoom,F=Wn($.changedTouches?$.changedTouches[0]:$,this),z=L.invert(F),D=L.k*($.shiftKey?.5:2),x=n(_(w(L,D),F,z),t.apply(this,B),o);Gi($),s>0?kn(this).transition().duration(s).call(E,x,F,$):kn(this).call(v.transform,x,F,$)}}function O($,...B){if(e.apply(this,arguments)){var L=$.touches,F=L.length,z=S(this,B,$.changedTouches.length===F).event($),D,x,A,j;for(Dc($),x=0;x<F;++x)A=L[x],j=Wn(A,this),j=[j,this.__zoom.invert(j),A.identifier],z.touch0?!z.touch1&&z.touch0[2]!==j[2]&&(z.touch1=j,z.taps=0):(z.touch0=j,D=!0,z.taps=1+!!u);u&&(u=clearTimeout(u)),D&&(z.taps<2&&(d=j[0],u=setTimeout(function(){u=null},m)),ul(this),z.start())}}function M($,...B){if(this.__zooming){var L=S(this,B).event($),F=$.changedTouches,z=F.length,D,x,A,j;for(Gi($),D=0;D<z;++D)x=F[D],A=Wn(x,this),L.touch0&&L.touch0[2]===x.identifier?L.touch0[0]=A:L.touch1&&L.touch1[2]===x.identifier&&(L.touch1[0]=A);if(x=L.that.__zoom,L.touch1){var U=L.touch0[0],T=L.touch0[1],V=L.touch1[0],K=L.touch1[1],Z=(Z=V[0]-U[0])*Z+(Z=V[1]-U[1])*Z,Q=(Q=K[0]-T[0])*Q+(Q=K[1]-T[1])*Q;x=w(x,Math.sqrt(Z/Q)),A=[(U[0]+V[0])/2,(U[1]+V[1])/2],j=[(T[0]+K[0])/2,(T[1]+K[1])/2]}else if(L.touch0)A=L.touch0[0],j=L.touch0[1];else return;L.zoom("touch",n(_(x,A,j),L.extent,o))}}function q($,...B){if(this.__zooming){var L=S(this,B).event($),F=$.changedTouches,z=F.length,D,x;for(Dc($),p&&clearTimeout(p),p=setTimeout(function(){p=null},m),D=0;D<z;++D)x=F[D],L.touch0&&L.touch0[2]===x.identifier?delete L.touch0:L.touch1&&L.touch1[2]===x.identifier&&delete L.touch1;if(L.touch1&&!L.touch0&&(L.touch0=L.touch1,delete L.touch1),L.touch0)L.touch0[1]=this.__zoom.invert(L.touch0[0]);else if(L.end(),L.taps===2&&(x=Wn(x,this),Math.hypot(d[0]-x[0],d[1]-x[1])<y)){var A=kn(this).on("dblclick.zoom");A&&A.apply(this,arguments)}}}return v.wheelDelta=function($){return arguments.length?(r=typeof $=="function"?$:Ds(+$),v):r},v.filter=function($){return arguments.length?(e=typeof $=="function"?$:Ds(!!$),v):e},v.touchable=function($){return arguments.length?(a=typeof $=="function"?$:Ds(!!$),v):a},v.extent=function($){return arguments.length?(t=typeof $=="function"?$:Ds([[+$[0][0],+$[0][1]],[+$[1][0],+$[1][1]]]),v):t},v.scaleExtent=function($){return arguments.length?(i[0]=+$[0],i[1]=+$[1],v):[i[0],i[1]]},v.translateExtent=function($){return arguments.length?(o[0][0]=+$[0][0],o[1][0]=+$[1][0],o[0][1]=+$[0][1],o[1][1]=+$[1][1],v):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},v.constrain=function($){return arguments.length?(n=$,v):n},v.duration=function($){return arguments.length?(s=+$,v):s},v.interpolate=function($){return arguments.length?(l=$,v):l},v.on=function(){var $=c.on.apply(c,arguments);return $===c?v:$},v.clickDistance=function($){return arguments.length?(g=($=+$)*$,v):Math.sqrt(g)},v.tapDistance=function($){return arguments.length?(y=+$,v):y},v}const Xu=R.createContext(null),yV=Xu.Provider,ta={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`},xC=ta.error001();function Et(e,t){const n=R.useContext(Xu);if(n===null)throw new Error(xC);return FO(n,e,t)}const Mt=()=>{const e=R.useContext(Xu);if(e===null)throw new Error(xC);return R.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},vV=e=>e.userSelectionActive?"none":"all";function $C({position:e,children:t,className:n,style:r,...a}){const i=Et(vV),o=`${e}`.split("-");return f("div",{className:sn(["react-flow__panel",n,...o]),style:{...r,pointerEvents:i},...a,children:t})}function bV({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:f($C,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:f("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const _V=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:a=!0,labelBgStyle:i={},labelBgPadding:o=[2,4],labelBgBorderRadius:s=2,children:l,className:c,...u})=>{const d=R.useRef(null),[p,m]=R.useState({x:0,y:0,width:0,height:0}),h=sn(["react-flow__edge-textwrapper",c]);return R.useEffect(()=>{if(d.current){const g=d.current.getBBox();m({x:g.x,y:g.y,width:g.width,height:g.height})}},[n]),typeof n>"u"||!n?null:P("g",{transform:`translate(${e-p.width/2} ${t-p.height/2})`,className:h,visibility:p.width?"visible":"hidden",...u,children:[a&&f("rect",{width:p.width+2*o[0],x:-o[0],y:-o[1],height:p.height+2*o[1],className:"react-flow__edge-textbg",style:i,rx:s,ry:s}),f("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:d,style:r,children:n}),l]})};var wV=R.memo(_V);const wg=e=>({width:e.offsetWidth,height:e.offsetHeight}),_i=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Sg=(e={x:0,y:0},t)=>({x:_i(e.x,t[0][0],t[1][0]),y:_i(e.y,t[0][1],t[1][1])}),eb=(e,t,n)=>e<t?_i(Math.abs(e-t),1,50)/50:e>n?-_i(Math.abs(e-n),1,50)/50:0,AC=(e,t)=>{const n=eb(e.x,35,t.width-35)*20,r=eb(e.y,35,t.height-35)*20;return[n,r]},OC=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},SV=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),kC=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),CV=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),tb=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),sp=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},EV=e=>En(e.width)&&En(e.height)&&En(e.x)&&En(e.y),En=e=>!isNaN(e)&&isFinite(e),Ot=Symbol.for("internals"),PC=["Enter"," ","Escape"],NV=(e,t)=>{},TV=e=>"nativeEvent"in e;function lp(e){var a,i;const t=TV(e)?e.nativeEvent:e,n=((i=(a=t.composedPath)==null?void 0:a.call(t))==null?void 0:i[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const DC=e=>"clientX"in e,Yr=(e,t)=>{var i,o;const n=DC(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,a=n?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:a-((t==null?void 0:t.top)??0)}},ss=({id:e,path:t,labelX:n,labelY:r,label:a,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:d,markerStart:p,interactionWidth:m=20})=>P(te,{children:[f("path",{id:e,style:u,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:d,markerStart:p}),m&&f("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:m,className:"react-flow__edge-interaction"}),a&&En(n)&&En(r)?f(wV,{x:n,y:r,label:a,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c}):null]});ss.displayName="BaseEdge";function Ki(e,t,n){return n===void 0?n:r=>{const a=t().edges.find(i=>i.id===e);a&&n(r,{...a})}}function VC({sourceX:e,sourceY:t,targetX:n,targetY:r}){const a=Math.abs(n-e)/2,i=n<e?n+a:n-a,o=Math.abs(r-t)/2,s=r<t?r+o:r-o;return[i,s,a,o]}function LC({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:a,sourceControlY:i,targetControlX:o,targetControlY:s}){const l=e*.125+a*.375+o*.375+n*.125,c=t*.125+i*.375+s*.375+r*.125,u=Math.abs(l-e),d=Math.abs(c-t);return[l,c,u,d]}var Va;(function(e){e.Strict="strict",e.Loose="loose"})(Va||(Va={}));var ui;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(ui||(ui={}));var $o;(function(e){e.Partial="partial",e.Full="full"})($o||($o={}));var dr;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(dr||(dr={}));var Ao;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Ao||(Ao={}));var _e;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(_e||(_e={}));function nb({pos:e,x1:t,y1:n,x2:r,y2:a}){return e===_e.Left||e===_e.Right?[.5*(t+r),n]:[t,.5*(n+a)]}function FC({sourceX:e,sourceY:t,sourcePosition:n=_e.Bottom,targetX:r,targetY:a,targetPosition:i=_e.Top}){const[o,s]=nb({pos:n,x1:e,y1:t,x2:r,y2:a}),[l,c]=nb({pos:i,x1:r,y1:a,x2:e,y2:t}),[u,d,p,m]=LC({sourceX:e,sourceY:t,targetX:r,targetY:a,sourceControlX:o,sourceControlY:s,targetControlX:l,targetControlY:c});return[`M${e},${t} C${o},${s} ${l},${c} ${r},${a}`,u,d,p,m]}const Cg=R.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:a=_e.Bottom,targetPosition:i=_e.Top,label:o,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:p,markerEnd:m,markerStart:h,interactionWidth:g})=>{const[y,v,w]=FC({sourceX:e,sourceY:t,sourcePosition:a,targetX:n,targetY:r,targetPosition:i});return f(ss,{path:y,labelX:v,labelY:w,label:o,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:p,markerEnd:m,markerStart:h,interactionWidth:g})});Cg.displayName="SimpleBezierEdge";const rb={[_e.Left]:{x:-1,y:0},[_e.Right]:{x:1,y:0},[_e.Top]:{x:0,y:-1},[_e.Bottom]:{x:0,y:1}},IV=({source:e,sourcePosition:t=_e.Bottom,target:n})=>t===_e.Left||t===_e.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},ab=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function RV({source:e,sourcePosition:t=_e.Bottom,target:n,targetPosition:r=_e.Top,center:a,offset:i}){const o=rb[t],s=rb[r],l={x:e.x+o.x*i,y:e.y+o.y*i},c={x:n.x+s.x*i,y:n.y+s.y*i},u=IV({source:l,sourcePosition:t,target:c}),d=u.x!==0?"x":"y",p=u[d];let m=[],h,g;const[y,v,w,_]=VC({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(o[d]*s[d]===-1){h=a.x||y,g=a.y||v;const E=[{x:h,y:l.y},{x:h,y:c.y}],S=[{x:l.x,y:g},{x:c.x,y:g}];o[d]===p?m=d==="x"?E:S:m=d==="x"?S:E}else{const E=[{x:l.x,y:c.y}],S=[{x:c.x,y:l.y}];if(d==="x"?m=o.x===p?S:E:m=o.y===p?E:S,t!==r){const N=d==="x"?"y":"x",C=o[d]===s[N],I=l[N]>c[N],k=l[N]<c[N];(o[d]===1&&(!C&&I||C&&k)||o[d]!==1&&(!C&&k||C&&I))&&(m=d==="x"?E:S)}h=m[0].x,g=m[0].y}return[[e,l,...m,c,n],h,g,w,_]}function xV(e,t,n,r){const a=Math.min(ab(e,t)/2,ab(t,n)/2,r),{x:i,y:o}=t;if(e.x===i&&i===n.x||e.y===o&&o===n.y)return`L${i} ${o}`;if(e.y===o){const c=e.x<n.x?-1:1,u=e.y<n.y?1:-1;return`L ${i+a*c},${o}Q ${i},${o} ${i},${o+a*u}`}const s=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${i},${o+a*l}Q ${i},${o} ${i+a*s},${o}`}function up({sourceX:e,sourceY:t,sourcePosition:n=_e.Bottom,targetX:r,targetY:a,targetPosition:i=_e.Top,borderRadius:o=5,centerX:s,centerY:l,offset:c=20}){const[u,d,p,m,h]=RV({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:a},targetPosition:i,center:{x:s,y:l},offset:c});return[u.reduce((y,v,w)=>{let _="";return w>0&&w<u.length-1?_=xV(u[w-1],v,u[w+1],o):_=`${w===0?"M":"L"}${v.x} ${v.y}`,y+=_,y},""),d,p,m,h]}const Ju=R.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:a,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:u,sourcePosition:d=_e.Bottom,targetPosition:p=_e.Top,markerEnd:m,markerStart:h,pathOptions:g,interactionWidth:y})=>{const[v,w,_]=up({sourceX:e,sourceY:t,sourcePosition:d,targetX:n,targetY:r,targetPosition:p,borderRadius:g==null?void 0:g.borderRadius,offset:g==null?void 0:g.offset});return f(ss,{path:v,labelX:w,labelY:_,label:a,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:m,markerStart:h,interactionWidth:y})});Ju.displayName="SmoothStepEdge";const Eg=R.memo(e=>{var t;return f(Ju,{...e,pathOptions:R.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});Eg.displayName="StepEdge";function $V({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[a,i,o,s]=VC({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,a,i,o,s]}const Ng=R.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:a,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:d,markerStart:p,interactionWidth:m})=>{const[h,g,y]=$V({sourceX:e,sourceY:t,targetX:n,targetY:r});return f(ss,{path:h,labelX:g,labelY:y,label:a,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:d,markerStart:p,interactionWidth:m})});Ng.displayName="StraightEdge";function Vs(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function ib({pos:e,x1:t,y1:n,x2:r,y2:a,c:i}){switch(e){case _e.Left:return[t-Vs(t-r,i),n];case _e.Right:return[t+Vs(r-t,i),n];case _e.Top:return[t,n-Vs(n-a,i)];case _e.Bottom:return[t,n+Vs(a-n,i)]}}function qC({sourceX:e,sourceY:t,sourcePosition:n=_e.Bottom,targetX:r,targetY:a,targetPosition:i=_e.Top,curvature:o=.25}){const[s,l]=ib({pos:n,x1:e,y1:t,x2:r,y2:a,c:o}),[c,u]=ib({pos:i,x1:r,y1:a,x2:e,y2:t,c:o}),[d,p,m,h]=LC({sourceX:e,sourceY:t,targetX:r,targetY:a,sourceControlX:s,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${e},${t} C${s},${l} ${c},${u} ${r},${a}`,d,p,m,h]}const Bl=R.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:a=_e.Bottom,targetPosition:i=_e.Top,label:o,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:p,markerEnd:m,markerStart:h,pathOptions:g,interactionWidth:y})=>{const[v,w,_]=qC({sourceX:e,sourceY:t,sourcePosition:a,targetX:n,targetY:r,targetPosition:i,curvature:g==null?void 0:g.curvature});return f(ss,{path:v,labelX:w,labelY:_,label:o,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:p,markerEnd:m,markerStart:h,interactionWidth:y})});Bl.displayName="BezierEdge";const Tg=R.createContext(null),AV=Tg.Provider;Tg.Consumer;const OV=()=>R.useContext(Tg),kV=e=>"id"in e&&"source"in e&&"target"in e,PV=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,cp=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,DV=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),VV=(e,t)=>{if(!e.source||!e.target)return t;let n;return kV(e)?n={...e}:n={...e,id:PV(e)},DV(n,t)?t:t.concat(n)},MC=({x:e,y:t},[n,r,a],i,[o,s])=>{const l={x:(e-n)/a,y:(t-r)/a};return i?{x:o*Math.round(l.x/o),y:s*Math.round(l.y/s)}:l},LV=({x:e,y:t},[n,r,a])=>({x:e*a+n,y:t*a+r}),ci=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],a={x:e.position.x-n,y:e.position.y-r};return{...a,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:a}},BC=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,a)=>{const{x:i,y:o}=ci(a,t).positionAbsolute;return SV(r,kC({x:i,y:o,width:a.width||0,height:a.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return CV(n)},UC=(e,t,[n,r,a]=[0,0,1],i=!1,o=!1,s=[0,0])=>{const l={x:(t.x-n)/a,y:(t.y-r)/a,width:t.width/a,height:t.height/a},c=[];return e.forEach(u=>{const{width:d,height:p,selectable:m=!0,hidden:h=!1}=u;if(o&&!m||h)return!1;const{positionAbsolute:g}=ci(u,s),y={x:g.x,y:g.y,width:d||0,height:p||0},v=sp(l,y),w=typeof d>"u"||typeof p>"u"||d===null||p===null,_=i&&v>0,b=(d||0)*(p||0);(w||_||v>=b||u.dragging)&&c.push(u)}),c},Ig=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},HC=(e,t,n,r,a,i=.1)=>{const o=t/(e.width*(1+i)),s=n/(e.height*(1+i)),l=Math.min(o,s),c=_i(l,r,a),u=e.x+e.width/2,d=e.y+e.height/2,p=t/2-u*c,m=n/2-d*c;return[p,m,c]},va=(e,t=0)=>e.transition().duration(t);function ob(e,t,n,r){return(t[n]||[]).reduce((a,i)=>{var o,s;return`${e.id}-${i.id}-${n}`!==r&&a.push({id:i.id||null,type:n,nodeId:e.id,x:(((o=e.positionAbsolute)==null?void 0:o.x)??0)+i.x+i.width/2,y:(((s=e.positionAbsolute)==null?void 0:s.y)??0)+i.y+i.height/2}),a},[])}function FV(e,t,n,r,a,i){const{x:o,y:s}=Yr(e),c=t.elementsFromPoint(o,s).find(h=>h.classList.contains("react-flow__handle"));if(c){const h=c.getAttribute("data-nodeid");if(h){const g=Rg(void 0,c),y=c.getAttribute("data-handleid"),v=i({nodeId:h,id:y,type:g});if(v)return{handle:{id:y,type:g,nodeId:h,x:n.x,y:n.y},validHandleResult:v}}}let u=[],d=1/0;if(a.forEach(h=>{const g=Math.sqrt((h.x-n.x)**2+(h.y-n.y)**2);if(g<=r){const y=i(h);g<=d&&(g<d?u=[{handle:h,validHandleResult:y}]:g===d&&u.push({handle:h,validHandleResult:y}),d=g)}}),!u.length)return{handle:null,validHandleResult:zC()};if(u.length===1)return u[0];const p=u.some(({validHandleResult:h})=>h.isValid),m=u.some(({handle:h})=>h.type==="target");return u.find(({handle:h,validHandleResult:g})=>m?h.type==="target":p?g.isValid:!0)||u[0]}const qV={source:null,target:null,sourceHandle:null,targetHandle:null},zC=()=>({handleDomNode:null,isValid:!1,connection:qV,endHandle:null});function jC(e,t,n,r,a,i,o){const s=a==="target",l=o.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),c={...zC(),handleDomNode:l};if(l){const u=Rg(void 0,l),d=l.getAttribute("data-nodeid"),p=l.getAttribute("data-handleid"),m=l.classList.contains("connectable"),h=l.classList.contains("connectableend"),g={source:s?d:n,sourceHandle:s?p:r,target:s?n:d,targetHandle:s?r:p};c.connection=g,m&&h&&(t===Va.Strict?s&&u==="source"||!s&&u==="target":d!==n||p!==r)&&(c.endHandle={nodeId:d,handleId:p,type:u},c.isValid=i(g))}return c}function MV({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((a,i)=>{if(i[Ot]){const{handleBounds:o}=i[Ot];let s=[],l=[];o&&(s=ob(i,o,"source",`${t}-${n}-${r}`),l=ob(i,o,"target",`${t}-${n}-${r}`)),a.push(...s,...l)}return a},[])}function Rg(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Vc(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function BV(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function WC({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:a,getState:i,setState:o,isValidConnection:s,edgeUpdaterType:l,onEdgeUpdateEnd:c}){const u=OC(e.target),{connectionMode:d,domNode:p,autoPanOnConnect:m,connectionRadius:h,onConnectStart:g,panBy:y,getNodes:v,cancelConnection:w}=i();let _=0,b;const{x:E,y:S}=Yr(e),N=u==null?void 0:u.elementFromPoint(E,S),C=Rg(l,N),I=p==null?void 0:p.getBoundingClientRect();if(!I||!C)return;let k,O=Yr(e,I),M=!1,q=null,$=!1,B=null;const L=MV({nodes:v(),nodeId:n,handleId:t,handleType:C}),F=()=>{if(!m)return;const[x,A]=AC(O,I);y({x,y:A}),_=requestAnimationFrame(F)};o({connectionPosition:O,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:C,connectionStartHandle:{nodeId:n,handleId:t,type:C},connectionEndHandle:null}),g==null||g(e,{nodeId:n,handleId:t,handleType:C});function z(x){const{transform:A}=i();O=Yr(x,I);const{handle:j,validHandleResult:U}=FV(x,u,MC(O,A,!1,[1,1]),h,L,T=>jC(T,d,n,t,a?"target":"source",s,u));if(b=j,M||(F(),M=!0),B=U.handleDomNode,q=U.connection,$=U.isValid,o({connectionPosition:b&&$?LV({x:b.x,y:b.y},A):O,connectionStatus:BV(!!b,$),connectionEndHandle:U.endHandle}),!b&&!$&&!B)return Vc(k);q.source!==q.target&&B&&(Vc(k),k=B,B.classList.add("connecting","react-flow__handle-connecting"),B.classList.toggle("valid",$),B.classList.toggle("react-flow__handle-valid",$))}function D(x){var A,j;(b||B)&&q&&$&&(r==null||r(q)),(j=(A=i()).onConnectEnd)==null||j.call(A,x),l&&(c==null||c(x)),Vc(k),w(),cancelAnimationFrame(_),M=!1,$=!1,q=null,B=null,u.removeEventListener("mousemove",z),u.removeEventListener("mouseup",D),u.removeEventListener("touchmove",z),u.removeEventListener("touchend",D)}u.addEventListener("mousemove",z),u.addEventListener("mouseup",D),u.addEventListener("touchmove",z),u.addEventListener("touchend",D)}const sb=()=>!0,UV=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),HV=(e,t,n)=>r=>{const{connectionStartHandle:a,connectionEndHandle:i,connectionClickStartHandle:o}=r;return{connecting:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.handleId)===t&&(a==null?void 0:a.type)===n||(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n}},GC=R.forwardRef(({type:e="source",position:t=_e.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:a=!0,isConnectableEnd:i=!0,id:o,onConnect:s,children:l,className:c,onMouseDown:u,onTouchStart:d,...p},m)=>{var I,k;const h=o||null,g=e==="target",y=Mt(),v=OV(),{connectOnClick:w,noPanClassName:_}=Et(UV,Kt),{connecting:b,clickConnecting:E}=Et(HV(v,h,e),Kt);v||(k=(I=y.getState()).onError)==null||k.call(I,"010",ta.error010());const S=O=>{const{defaultEdgeOptions:M,onConnect:q,hasDefaultEdges:$}=y.getState(),B={...M,...O};if($){const{edges:L,setEdges:F}=y.getState();F(VV(B,L))}q==null||q(B),s==null||s(B)},N=O=>{if(!v)return;const M=DC(O);a&&(M&&O.button===0||!M)&&WC({event:O,handleId:h,nodeId:v,onConnect:S,isTarget:g,getState:y.getState,setState:y.setState,isValidConnection:n||y.getState().isValidConnection||sb}),M?u==null||u(O):d==null||d(O)},C=O=>{const{onClickConnectStart:M,onClickConnectEnd:q,connectionClickStartHandle:$,connectionMode:B,isValidConnection:L}=y.getState();if(!v||!$&&!a)return;if(!$){M==null||M(O,{nodeId:v,handleId:h,handleType:e}),y.setState({connectionClickStartHandle:{nodeId:v,type:e,handleId:h}});return}const F=OC(O.target),z=n||L||sb,{connection:D,isValid:x}=jC({nodeId:v,id:h,type:e},B,$.nodeId,$.handleId||null,$.type,z,F);x&&S(D),q==null||q(O),y.setState({connectionClickStartHandle:null})};return f("div",{"data-handleid":h,"data-nodeid":v,"data-handlepos":t,"data-id":`${v}-${h}-${e}`,className:sn(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",_,c,{source:!g,target:g,connectable:r,connectablestart:a,connectableend:i,connecting:E,connectionindicator:r&&(a&&!b||i&&b)}]),onMouseDown:N,onTouchStart:N,onClick:w?C:void 0,ref:m,...p,children:l})});GC.displayName="Handle";var Ul=R.memo(GC);const KC=({data:e,isConnectable:t,targetPosition:n=_e.Top,sourcePosition:r=_e.Bottom})=>P(te,{children:[f(Ul,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,f(Ul,{type:"source",position:r,isConnectable:t})]});KC.displayName="DefaultNode";var dp=R.memo(KC);const YC=({data:e,isConnectable:t,sourcePosition:n=_e.Bottom})=>P(te,{children:[e==null?void 0:e.label,f(Ul,{type:"source",position:n,isConnectable:t})]});YC.displayName="InputNode";var QC=R.memo(YC);const XC=({data:e,isConnectable:t,targetPosition:n=_e.Top})=>P(te,{children:[f(Ul,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]});XC.displayName="OutputNode";var JC=R.memo(XC);const xg=()=>null;xg.displayName="GroupNode";const zV=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected)}),Ls=e=>e.id;function jV(e,t){return Kt(e.selectedNodes.map(Ls),t.selectedNodes.map(Ls))&&Kt(e.selectedEdges.map(Ls),t.selectedEdges.map(Ls))}const ZC=R.memo(({onSelectionChange:e})=>{const t=Mt(),{selectedNodes:n,selectedEdges:r}=Et(zV,jV);return R.useEffect(()=>{var i,o;const a={nodes:n,edges:r};e==null||e(a),(o=(i=t.getState()).onSelectionChange)==null||o.call(i,a)},[n,r,e]),null});ZC.displayName="SelectionListener";const WV=e=>!!e.onSelectionChange;function GV({onSelectionChange:e}){const t=Et(WV);return e||t?f(ZC,{onSelectionChange:e}):null}const KV=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function Ka(e,t){R.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function je(e,t,n){R.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const YV=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:a,onConnectStart:i,onConnectEnd:o,onClickConnectStart:s,onClickConnectEnd:l,nodesDraggable:c,nodesConnectable:u,nodesFocusable:d,edgesFocusable:p,edgesUpdatable:m,elevateNodesOnSelect:h,minZoom:g,maxZoom:y,nodeExtent:v,onNodesChange:w,onEdgesChange:_,elementsSelectable:b,connectionMode:E,snapGrid:S,snapToGrid:N,translateExtent:C,connectOnClick:I,defaultEdgeOptions:k,fitView:O,fitViewOptions:M,onNodesDelete:q,onEdgesDelete:$,onNodeDrag:B,onNodeDragStart:L,onNodeDragStop:F,onSelectionDrag:z,onSelectionDragStart:D,onSelectionDragStop:x,noPanClassName:A,nodeOrigin:j,rfId:U,autoPanOnConnect:T,autoPanOnNodeDrag:V,onError:K,connectionRadius:Z,isValidConnection:Q})=>{const{setNodes:re,setEdges:se,setDefaultNodesAndEdges:de,setMinZoom:xe,setMaxZoom:qe,setTranslateExtent:he,setNodeExtent:ie,reset:Te}=Et(KV,Kt),ae=Mt();return R.useEffect(()=>{const Ge=r==null?void 0:r.map(Qe=>({...Qe,...k}));return de(n,Ge),()=>{Te()}},[]),je("defaultEdgeOptions",k,ae.setState),je("connectionMode",E,ae.setState),je("onConnect",a,ae.setState),je("onConnectStart",i,ae.setState),je("onConnectEnd",o,ae.setState),je("onClickConnectStart",s,ae.setState),je("onClickConnectEnd",l,ae.setState),je("nodesDraggable",c,ae.setState),je("nodesConnectable",u,ae.setState),je("nodesFocusable",d,ae.setState),je("edgesFocusable",p,ae.setState),je("edgesUpdatable",m,ae.setState),je("elementsSelectable",b,ae.setState),je("elevateNodesOnSelect",h,ae.setState),je("snapToGrid",N,ae.setState),je("snapGrid",S,ae.setState),je("onNodesChange",w,ae.setState),je("onEdgesChange",_,ae.setState),je("connectOnClick",I,ae.setState),je("fitViewOnInit",O,ae.setState),je("fitViewOnInitOptions",M,ae.setState),je("onNodesDelete",q,ae.setState),je("onEdgesDelete",$,ae.setState),je("onNodeDrag",B,ae.setState),je("onNodeDragStart",L,ae.setState),je("onNodeDragStop",F,ae.setState),je("onSelectionDrag",z,ae.setState),je("onSelectionDragStart",D,ae.setState),je("onSelectionDragStop",x,ae.setState),je("noPanClassName",A,ae.setState),je("nodeOrigin",j,ae.setState),je("rfId",U,ae.setState),je("autoPanOnConnect",T,ae.setState),je("autoPanOnNodeDrag",V,ae.setState),je("onError",K,ae.setState),je("connectionRadius",Z,ae.setState),je("isValidConnection",Q,ae.setState),Ka(e,re),Ka(t,se),Ka(g,xe),Ka(y,qe),Ka(C,he),Ka(v,ie),null},lb={display:"none"},QV={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},eE="react-flow__node-desc",tE="react-flow__edge-desc",XV="react-flow__aria-live",JV=e=>e.ariaLiveMessage;function ZV({rfId:e}){const t=Et(JV);return f("div",{id:`${XV}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:QV,children:t})}function eL({rfId:e,disableKeyboardA11y:t}){return P(te,{children:[P("div",{id:`${eE}-${e}`,style:lb,children:["Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),f("div",{id:`${tE}-${e}`,style:lb,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!t&&f(ZV,{rfId:e})]})}const tL=(e,t,n)=>n===_e.Left?e-t:n===_e.Right?e+t:e,nL=(e,t,n)=>n===_e.Top?e-t:n===_e.Bottom?e+t:e,ub="react-flow__edgeupdater",cb=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:a,onMouseEnter:i,onMouseOut:o,type:s})=>f("circle",{onMouseDown:a,onMouseEnter:i,onMouseOut:o,className:sn([ub,`${ub}-${s}`]),cx:tL(t,r,e),cy:nL(n,r,e),r,stroke:"transparent",fill:"transparent"}),rL=()=>!0;var Ya=e=>{const t=({id:n,className:r,type:a,data:i,onClick:o,onEdgeDoubleClick:s,selected:l,animated:c,label:u,labelStyle:d,labelShowBg:p,labelBgStyle:m,labelBgPadding:h,labelBgBorderRadius:g,style:y,source:v,target:w,sourceX:_,sourceY:b,targetX:E,targetY:S,sourcePosition:N,targetPosition:C,elementsSelectable:I,hidden:k,sourceHandleId:O,targetHandleId:M,onContextMenu:q,onMouseEnter:$,onMouseMove:B,onMouseLeave:L,edgeUpdaterRadius:F,onEdgeUpdate:z,onEdgeUpdateStart:D,onEdgeUpdateEnd:x,markerEnd:A,markerStart:j,rfId:U,ariaLabel:T,isFocusable:V,isUpdatable:K,pathOptions:Z,interactionWidth:Q})=>{const re=R.useRef(null),[se,de]=R.useState(!1),[xe,qe]=R.useState(!1),he=Mt(),ie=R.useMemo(()=>`url(#${cp(j,U)})`,[j,U]),Te=R.useMemo(()=>`url(#${cp(A,U)})`,[A,U]);if(k)return null;const ae=Be=>{const{edges:Ne,addSelectedEdges:ge}=he.getState();if(I&&(he.setState({nodesSelectionActive:!1}),ge([n])),o){const ze=Ne.find(at=>at.id===n);o(Be,ze)}},Ge=Ki(n,he.getState,s),Qe=Ki(n,he.getState,q),bt=Ki(n,he.getState,$),Nt=Ki(n,he.getState,B),Me=Ki(n,he.getState,L),Ke=(Be,Ne)=>{if(Be.button!==0)return;const{edges:ge,isValidConnection:ze}=he.getState(),at=Ne?w:v,ln=(Ne?M:O)||null,xt=Ne?"target":"source",kt=ze||rL,jt=Ne,Pt=ge.find(Vt=>Vt.id===n);qe(!0),D==null||D(Be,Pt,xt);const Bt=Vt=>{qe(!1),x==null||x(Vt,Pt,xt)};WC({event:Be,handleId:ln,nodeId:at,onConnect:Vt=>z==null?void 0:z(Pt,Vt),isTarget:jt,getState:he.getState,setState:he.setState,isValidConnection:kt,edgeUpdaterType:xt,onEdgeUpdateEnd:Bt})},dt=Be=>Ke(Be,!0),Ee=Be=>Ke(Be,!1),Ie=()=>de(!0),ce=()=>de(!1),ve=!I&&!o,Pe=Be=>{var Ne;if(PC.includes(Be.key)&&I){const{unselectNodesAndEdges:ge,addSelectedEdges:ze,edges:at}=he.getState();Be.key==="Escape"?((Ne=re.current)==null||Ne.blur(),ge({edges:[at.find(xt=>xt.id===n)]})):ze([n])}};return P("g",{className:sn(["react-flow__edge",`react-flow__edge-${a}`,r,{selected:l,animated:c,inactive:ve,updating:se}]),onClick:ae,onDoubleClick:Ge,onContextMenu:Qe,onMouseEnter:bt,onMouseMove:Nt,onMouseLeave:Me,onKeyDown:V?Pe:void 0,tabIndex:V?0:void 0,role:V?"button":void 0,"data-testid":`rf__edge-${n}`,"aria-label":T===null?void 0:T||`Edge from ${v} to ${w}`,"aria-describedby":V?`${tE}-${U}`:void 0,ref:re,children:[!xe&&f(e,{id:n,source:v,target:w,selected:l,animated:c,label:u,labelStyle:d,labelShowBg:p,labelBgStyle:m,labelBgPadding:h,labelBgBorderRadius:g,data:i,style:y,sourceX:_,sourceY:b,targetX:E,targetY:S,sourcePosition:N,targetPosition:C,sourceHandleId:O,targetHandleId:M,markerStart:ie,markerEnd:Te,pathOptions:Z,interactionWidth:Q}),K&&P(te,{children:[(K==="source"||K===!0)&&f(cb,{position:N,centerX:_,centerY:b,radius:F,onMouseDown:dt,onMouseEnter:Ie,onMouseOut:ce,type:"source"}),(K==="target"||K===!0)&&f(cb,{position:C,centerX:E,centerY:S,radius:F,onMouseDown:Ee,onMouseEnter:Ie,onMouseOut:ce,type:"target"})]})]})};return t.displayName="EdgeWrapper",R.memo(t)};function aL(e){const t={default:Ya(e.default||Bl),straight:Ya(e.bezier||Ng),step:Ya(e.step||Eg),smoothstep:Ya(e.step||Ju),simplebezier:Ya(e.simplebezier||Cg)},n={},r=Object.keys(e).filter(a=>!["default","bezier"].includes(a)).reduce((a,i)=>(a[i]=Ya(e[i]||Bl),a),n);return{...t,...r}}function db(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,a=((n==null?void 0:n.y)||0)+t.y,i=(n==null?void 0:n.width)||t.width,o=(n==null?void 0:n.height)||t.height;switch(e){case _e.Top:return{x:r+i/2,y:a};case _e.Right:return{x:r+i,y:a+o/2};case _e.Bottom:return{x:r+i/2,y:a+o};case _e.Left:return{x:r,y:a+o/2}}}function fb(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const iL=(e,t,n,r,a,i)=>{const o=db(n,e,t),s=db(i,r,a);return{sourceX:o.x,sourceY:o.y,targetX:s.x,targetY:s.y}};function oL({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:a,targetHeight:i,width:o,height:s,transform:l}){const c={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+a),y2:Math.max(e.y+r,t.y+i)};c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);const u=kC({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:o/l[2],height:s/l[2]}),d=Math.max(0,Math.min(u.x2,c.x2)-Math.max(u.x,c.x)),p=Math.max(0,Math.min(u.y2,c.y2)-Math.max(u.y,c.y));return Math.ceil(d*p)>0}function pb(e){var r,a,i,o,s;const t=((r=e==null?void 0:e[Ot])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.x)<"u"&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.y)<"u";return[{x:((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)||0,y:((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}function nE(e,t){if(!e.parentNode)return!1;const n=t.get(e.parentNode);return n?n.selected?!0:nE(n,t):!1}function mb(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function sL(e,t,n,r){return Array.from(e.values()).filter(a=>(a.selected||a.id===r)&&(!a.parentNode||!nE(a,e))&&(a.draggable||t&&typeof a.draggable>"u")).map(a=>{var i,o;return{id:a.id,position:a.position||{x:0,y:0},positionAbsolute:a.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((i=a.positionAbsolute)==null?void 0:i.x)??0),y:n.y-(((o=a.positionAbsolute)==null?void 0:o.y)??0)},delta:{x:0,y:0},extent:a.extent,parentNode:a.parentNode,width:a.width,height:a.height}})}function lL(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function rE(e,t,n,r,a=[0,0],i){const o=lL(e,e.extent||r);let s=o;if(e.extent==="parent")if(e.parentNode&&e.width&&e.height){const u=n.get(e.parentNode),{x:d,y:p}=ci(u,a).positionAbsolute;s=u&&En(d)&&En(p)&&En(u.width)&&En(u.height)?[[d+e.width*a[0],p+e.height*a[1]],[d+u.width-e.width+e.width*a[0],p+u.height-e.height+e.height*a[1]]]:s}else i==null||i("005",ta.error005()),s=o;else if(e.extent&&e.parentNode){const u=n.get(e.parentNode),{x:d,y:p}=ci(u,a).positionAbsolute;s=[[e.extent[0][0]+d,e.extent[0][1]+p],[e.extent[1][0]+d,e.extent[1][1]+p]]}let l={x:0,y:0};if(e.parentNode){const u=n.get(e.parentNode);l=ci(u,a).positionAbsolute}const c=s?Sg(t,s):t;return{position:{x:c.x-l.x,y:c.y-l.y},positionAbsolute:c}}function Lc({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(a=>({...n.get(a.id),position:a.position,positionAbsolute:a.positionAbsolute}));return[e?r.find(a=>a.id===e):r[0],r]}const hb=(e,t,n,r)=>{const a=t.querySelectorAll(e);if(!a||!a.length)return null;const i=Array.from(a),o=t.getBoundingClientRect(),s={x:o.width*r[0],y:o.height*r[1]};return i.map(l=>{const c=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(c.left-o.left-s.x)/n,y:(c.top-o.top-s.y)/n,...wg(l)}})};function Yi(e,t,n){return n===void 0?n:r=>{const a=t().nodeInternals.get(e);n(r,{...a})}}function fp({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:a,unselectNodesAndEdges:i,multiSelectionActive:o,nodeInternals:s}=t.getState(),l=s.get(e);t.setState({nodesSelectionActive:!1}),l.selected?(n||l.selected&&o)&&(i({nodes:[l]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):a([e])}function uL(){const e=Mt();return R.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:a,snapToGrid:i}=e.getState(),o=n.touches?n.touches[0].clientX:n.clientX,s=n.touches?n.touches[0].clientY:n.clientY,l={x:(o-r[0])/r[2],y:(s-r[1])/r[2]};return{xSnapped:i?a[0]*Math.round(l.x/a[0]):l.x,ySnapped:i?a[1]*Math.round(l.y/a[1]):l.y,...l}},[])}function Fc(e){return(t,n,r)=>e==null?void 0:e(t,r)}function aE({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:a,isSelectable:i,selectNodesOnDrag:o}){const s=Mt(),[l,c]=R.useState(!1),u=R.useRef([]),d=R.useRef({x:null,y:null}),p=R.useRef(0),m=R.useRef(null),h=R.useRef({x:0,y:0}),g=R.useRef(null),y=R.useRef(!1),v=uL();return R.useEffect(()=>{if(e!=null&&e.current){const w=kn(e.current),_=({x:E,y:S})=>{const{nodeInternals:N,onNodeDrag:C,onSelectionDrag:I,updateNodePositions:k,nodeExtent:O,snapGrid:M,snapToGrid:q,nodeOrigin:$,onError:B}=s.getState();d.current={x:E,y:S};let L=!1;if(u.current=u.current.map(z=>{const D={x:E-z.distance.x,y:S-z.distance.y};q&&(D.x=M[0]*Math.round(D.x/M[0]),D.y=M[1]*Math.round(D.y/M[1]));const x=rE(z,D,N,O,$,B);return L=L||z.position.x!==x.position.x||z.position.y!==x.position.y,z.position=x.position,z.positionAbsolute=x.positionAbsolute,z}),!L)return;k(u.current,!0,!0),c(!0);const F=a?C:Fc(I);if(F&&g.current){const[z,D]=Lc({nodeId:a,dragItems:u.current,nodeInternals:N});F(g.current,z,D)}},b=()=>{if(!m.current)return;const[E,S]=AC(h.current,m.current);if(E!==0||S!==0){const{transform:N,panBy:C}=s.getState();d.current.x=(d.current.x??0)-E/N[2],d.current.y=(d.current.y??0)-S/N[2],C({x:E,y:S})&&_(d.current)}p.current=requestAnimationFrame(b)};if(t)w.on(".drag",null);else{const E=TP().on("start",S=>{var L;const{nodeInternals:N,multiSelectionActive:C,domNode:I,nodesDraggable:k,unselectNodesAndEdges:O,onNodeDragStart:M,onSelectionDragStart:q}=s.getState(),$=a?M:Fc(q);!o&&!C&&a&&((L=N.get(a))!=null&&L.selected||O()),a&&i&&o&&fp({id:a,store:s,nodeRef:e});const B=v(S);if(d.current=B,u.current=sL(N,k,B,a),$&&u.current){const[F,z]=Lc({nodeId:a,dragItems:u.current,nodeInternals:N});$(S.sourceEvent,F,z)}m.current=(I==null?void 0:I.getBoundingClientRect())||null,h.current=Yr(S.sourceEvent,m.current)}).on("drag",S=>{const N=v(S),{autoPanOnNodeDrag:C}=s.getState();!y.current&&C&&(y.current=!0,b()),(d.current.x!==N.xSnapped||d.current.y!==N.ySnapped)&&u.current&&(g.current=S.sourceEvent,h.current=Yr(S.sourceEvent,m.current),_(N))}).on("end",S=>{if(c(!1),y.current=!1,cancelAnimationFrame(p.current),u.current){const{updateNodePositions:N,nodeInternals:C,onNodeDragStop:I,onSelectionDragStop:k}=s.getState(),O=a?I:Fc(k);if(N(u.current,!1,!1),O){const[M,q]=Lc({nodeId:a,dragItems:u.current,nodeInternals:C});O(S.sourceEvent,M,q)}}}).filter(S=>{const N=S.target;return!S.button&&(!n||!mb(N,`.${n}`,e))&&(!r||mb(N,r,e))});return w.call(E),()=>{w.on(".drag",null)}}}},[e,t,n,r,i,s,a,o,v]),l}function iE(){const e=Mt();return R.useCallback(n=>{const{nodeInternals:r,nodeExtent:a,updateNodePositions:i,getNodes:o,snapToGrid:s,snapGrid:l,onError:c,nodesDraggable:u}=e.getState(),d=o().filter(w=>w.selected&&(w.draggable||u&&typeof w.draggable>"u")),p=s?l[0]:5,m=s?l[1]:5,h=n.isShiftPressed?4:1,g=n.x*p*h,y=n.y*m*h,v=d.map(w=>{if(w.positionAbsolute){const _={x:w.positionAbsolute.x+g,y:w.positionAbsolute.y+y};s&&(_.x=l[0]*Math.round(_.x/l[0]),_.y=l[1]*Math.round(_.y/l[1]));const{positionAbsolute:b,position:E}=rE(w,_,r,a,void 0,c);w.position=E,w.positionAbsolute=b}return w});i(v,!0,!1)},[])}const di={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Qi=e=>{const t=({id:n,type:r,data:a,xPos:i,yPos:o,xPosOrigin:s,yPosOrigin:l,selected:c,onClick:u,onMouseEnter:d,onMouseMove:p,onMouseLeave:m,onContextMenu:h,onDoubleClick:g,style:y,className:v,isDraggable:w,isSelectable:_,isConnectable:b,isFocusable:E,selectNodesOnDrag:S,sourcePosition:N,targetPosition:C,hidden:I,resizeObserver:k,dragHandle:O,zIndex:M,isParent:q,noDragClassName:$,noPanClassName:B,initialized:L,disableKeyboardA11y:F,ariaLabel:z,rfId:D})=>{const x=Mt(),A=R.useRef(null),j=R.useRef(N),U=R.useRef(C),T=R.useRef(r),V=_||w||u||d||p||m,K=iE(),Z=Yi(n,x.getState,d),Q=Yi(n,x.getState,p),re=Yi(n,x.getState,m),se=Yi(n,x.getState,h),de=Yi(n,x.getState,g),xe=ie=>{if(_&&(!S||!w)&&fp({id:n,store:x,nodeRef:A}),u){const Te=x.getState().nodeInternals.get(n);u(ie,{...Te})}},qe=ie=>{if(!lp(ie))if(PC.includes(ie.key)&&_){const Te=ie.key==="Escape";fp({id:n,store:x,unselect:Te,nodeRef:A})}else!F&&w&&c&&Object.prototype.hasOwnProperty.call(di,ie.key)&&(x.setState({ariaLiveMessage:`Moved selected node ${ie.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~i}, y: ${~~o}`}),K({x:di[ie.key].x,y:di[ie.key].y,isShiftPressed:ie.shiftKey}))};R.useEffect(()=>{if(A.current&&!I){const ie=A.current;return k==null||k.observe(ie),()=>k==null?void 0:k.unobserve(ie)}},[I]),R.useEffect(()=>{const ie=T.current!==r,Te=j.current!==N,ae=U.current!==C;A.current&&(ie||Te||ae)&&(ie&&(T.current=r),Te&&(j.current=N),ae&&(U.current=C),x.getState().updateNodeDimensions([{id:n,nodeElement:A.current,forceUpdate:!0}]))},[n,r,N,C]);const he=aE({nodeRef:A,disabled:I||!w,noDragClassName:$,handleSelector:O,nodeId:n,isSelectable:_,selectNodesOnDrag:S});return I?null:f("div",{className:sn(["react-flow__node",`react-flow__node-${r}`,{[B]:w},v,{selected:c,selectable:_,parent:q,dragging:he}]),ref:A,style:{zIndex:M,transform:`translate(${s}px,${l}px)`,pointerEvents:V?"all":"none",visibility:L?"visible":"hidden",...y},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:Z,onMouseMove:Q,onMouseLeave:re,onContextMenu:se,onClick:xe,onDoubleClick:de,onKeyDown:E?qe:void 0,tabIndex:E?0:void 0,role:E?"button":void 0,"aria-describedby":F?void 0:`${eE}-${D}`,"aria-label":z,children:f(AV,{value:n,children:f(e,{id:n,data:a,type:r,xPos:i,yPos:o,selected:c,isConnectable:b,sourcePosition:N,targetPosition:C,dragging:he,dragHandle:O,zIndex:M})})})};return t.displayName="NodeWrapper",R.memo(t)};function cL(e){const t={input:Qi(e.input||QC),default:Qi(e.default||dp),output:Qi(e.output||JC),group:Qi(e.group||xg)},n={},r=Object.keys(e).filter(a=>!["input","default","output","group"].includes(a)).reduce((a,i)=>(a[i]=Qi(e[i]||dp),a),n);return{...t,...r}}const dL=({x:e,y:t,width:n,height:r,origin:a})=>!n||!r?{x:e,y:t}:a[0]<0||a[1]<0||a[0]>1||a[1]>1?{x:e,y:t}:{x:e-n*a[0],y:t-r*a[1]},fL=typeof document<"u"?document:null;var Oo=(e=null,t={target:fL})=>{const[n,r]=R.useState(!1),a=R.useRef(!1),i=R.useRef(new Set([])),[o,s]=R.useMemo(()=>{if(e!==null){const c=(Array.isArray(e)?e:[e]).filter(d=>typeof d=="string").map(d=>d.split("+")),u=c.reduce((d,p)=>d.concat(...p),[]);return[c,u]}return[[],[]]},[e]);return R.useEffect(()=>{var l,c;if(e!==null){const u=m=>{if(a.current=m.ctrlKey||m.metaKey||m.shiftKey,!a.current&&lp(m))return!1;const h=yb(m.code,s);i.current.add(m[h]),gb(o,i.current,!1)&&(m.preventDefault(),r(!0))},d=m=>{if(!a.current&&lp(m))return!1;const h=yb(m.code,s);gb(o,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(m[h]),a.current=!1},p=()=>{i.current.clear(),r(!1)};return(l=t==null?void 0:t.target)==null||l.addEventListener("keydown",u),(c=t==null?void 0:t.target)==null||c.addEventListener("keyup",d),window.addEventListener("blur",p),()=>{var m,h;(m=t==null?void 0:t.target)==null||m.removeEventListener("keydown",u),(h=t==null?void 0:t.target)==null||h.removeEventListener("keyup",d),window.removeEventListener("blur",p)}}},[e,r]),n};function gb(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(a=>t.has(a)))}function yb(e,t){return t.includes(e)?"code":"key"}function oE(e,t,n,r){var o,s;if(!e.parentNode)return n;const a=t.get(e.parentNode),i=ci(a,r);return oE(a,t,{x:(n.x??0)+i.x,y:(n.y??0)+i.y,z:(((o=a[Ot])==null?void 0:o.z)??0)>(n.z??0)?((s=a[Ot])==null?void 0:s.z)??0:n.z??0},r)}function sE(e,t,n){e.forEach(r=>{var a;if(r.parentNode&&!e.has(r.parentNode))throw new Error(`Parent node ${r.parentNode} not found`);if(r.parentNode||n!=null&&n[r.id]){const{x:i,y:o,z:s}=oE(r,e,{...r.position,z:((a=r[Ot])==null?void 0:a.z)??0},t);r.positionAbsolute={x:i,y:o},r[Ot].z=s,n!=null&&n[r.id]&&(r[Ot].isParent=!0)}})}function qc(e,t,n,r){const a=new Map,i={},o=r?1e3:0;return e.forEach(s=>{var d;const l=(En(s.zIndex)?s.zIndex:0)+(s.selected?o:0),c=t.get(s.id),u={width:c==null?void 0:c.width,height:c==null?void 0:c.height,...s,positionAbsolute:{x:s.position.x,y:s.position.y}};s.parentNode&&(u.parentNode=s.parentNode,i[s.parentNode]=!0),Object.defineProperty(u,Ot,{enumerable:!1,value:{handleBounds:(d=c==null?void 0:c[Ot])==null?void 0:d.handleBounds,z:l}}),a.set(s.id,u)}),sE(a,n,i),a}function lE(e,t={}){const{getNodes:n,width:r,height:a,minZoom:i,maxZoom:o,d3Zoom:s,d3Selection:l,fitViewOnInitDone:c,fitViewOnInit:u,nodeOrigin:d}=e(),p=t.initial&&!c&&u;if(s&&l&&(p||!t.initial)){const h=n().filter(y=>{var w;const v=t.includeHiddenNodes?y.width&&y.height:!y.hidden;return(w=t.nodes)!=null&&w.length?v&&t.nodes.some(_=>_.id===y.id):v}),g=h.every(y=>y.width&&y.height);if(h.length>0&&g){const y=BC(h,d),[v,w,_]=HC(y,r,a,t.minZoom??i,t.maxZoom??o,t.padding??.1),b=Kr.translate(v,w).scale(_);return typeof t.duration=="number"&&t.duration>0?s.transform(va(l,t.duration),b):s.transform(l,b),!0}}return!1}function pL(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[Ot]:r[Ot],selected:n.selected})}),new Map(t)}function mL(e,t){return t.map(n=>{const r=e.find(a=>a.id===n.id);return r&&(n.selected=r.selected),n})}function Fs({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:a,edges:i,onNodesChange:o,onEdgesChange:s,hasDefaultNodes:l,hasDefaultEdges:c}=n();e!=null&&e.length&&(l&&r({nodeInternals:pL(e,a)}),o==null||o(e)),t!=null&&t.length&&(c&&r({edges:mL(t,i)}),s==null||s(t))}const Qa=()=>{},hL={zoomIn:Qa,zoomOut:Qa,zoomTo:Qa,getZoom:()=>1,setViewport:Qa,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Qa,fitBounds:Qa,project:e=>e,viewportInitialized:!1},gL=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),yL=()=>{const e=Mt(),{d3Zoom:t,d3Selection:n}=Et(gL,Kt);return R.useMemo(()=>n&&t?{zoomIn:a=>t.scaleBy(va(n,a==null?void 0:a.duration),1.2),zoomOut:a=>t.scaleBy(va(n,a==null?void 0:a.duration),1/1.2),zoomTo:(a,i)=>t.scaleTo(va(n,i==null?void 0:i.duration),a),getZoom:()=>e.getState().transform[2],setViewport:(a,i)=>{const[o,s,l]=e.getState().transform,c=Kr.translate(a.x??o,a.y??s).scale(a.zoom??l);t.transform(va(n,i==null?void 0:i.duration),c)},getViewport:()=>{const[a,i,o]=e.getState().transform;return{x:a,y:i,zoom:o}},fitView:a=>lE(e.getState,a),setCenter:(a,i,o)=>{const{width:s,height:l,maxZoom:c}=e.getState(),u=typeof(o==null?void 0:o.zoom)<"u"?o.zoom:c,d=s/2-a*u,p=l/2-i*u,m=Kr.translate(d,p).scale(u);t.transform(va(n,o==null?void 0:o.duration),m)},fitBounds:(a,i)=>{const{width:o,height:s,minZoom:l,maxZoom:c}=e.getState(),[u,d,p]=HC(a,o,s,l,c,(i==null?void 0:i.padding)??.1),m=Kr.translate(u,d).scale(p);t.transform(va(n,i==null?void 0:i.duration),m)},project:a=>{const{transform:i,snapToGrid:o,snapGrid:s}=e.getState();return MC(a,i,o,s)},viewportInitialized:!0}:hL,[t,n])};function Zu(){const e=yL(),t=Mt(),n=R.useCallback(()=>t.getState().getNodes().map(g=>({...g})),[]),r=R.useCallback(g=>t.getState().nodeInternals.get(g),[]),a=R.useCallback(()=>{const{edges:g=[]}=t.getState();return g.map(y=>({...y}))},[]),i=R.useCallback(g=>{const{edges:y=[]}=t.getState();return y.find(v=>v.id===g)},[]),o=R.useCallback(g=>{const{getNodes:y,setNodes:v,hasDefaultNodes:w,onNodesChange:_}=t.getState(),b=y(),E=typeof g=="function"?g(b):g;if(w)v(E);else if(_){const S=E.length===0?b.map(N=>({type:"remove",id:N.id})):E.map(N=>({item:N,type:"reset"}));_(S)}},[]),s=R.useCallback(g=>{const{edges:y=[],setEdges:v,hasDefaultEdges:w,onEdgesChange:_}=t.getState(),b=typeof g=="function"?g(y):g;if(w)v(b);else if(_){const E=b.length===0?y.map(S=>({type:"remove",id:S.id})):b.map(S=>({item:S,type:"reset"}));_(E)}},[]),l=R.useCallback(g=>{const y=Array.isArray(g)?g:[g],{getNodes:v,setNodes:w,hasDefaultNodes:_,onNodesChange:b}=t.getState();if(_){const S=[...v(),...y];w(S)}else if(b){const E=y.map(S=>({item:S,type:"add"}));b(E)}},[]),c=R.useCallback(g=>{const y=Array.isArray(g)?g:[g],{edges:v=[],setEdges:w,hasDefaultEdges:_,onEdgesChange:b}=t.getState();if(_)w([...v,...y]);else if(b){const E=y.map(S=>({item:S,type:"add"}));b(E)}},[]),u=R.useCallback(()=>{const{getNodes:g,edges:y=[],transform:v}=t.getState(),[w,_,b]=v;return{nodes:g().map(E=>({...E})),edges:y.map(E=>({...E})),viewport:{x:w,y:_,zoom:b}}},[]),d=R.useCallback(({nodes:g,edges:y})=>{const{nodeInternals:v,getNodes:w,edges:_,hasDefaultNodes:b,hasDefaultEdges:E,onNodesDelete:S,onEdgesDelete:N,onNodesChange:C,onEdgesChange:I}=t.getState(),k=(g||[]).map(B=>B.id),O=(y||[]).map(B=>B.id),M=w().reduce((B,L)=>{const F=!k.includes(L.id)&&L.parentNode&&B.find(D=>D.id===L.parentNode);return(typeof L.deletable=="boolean"?L.deletable:!0)&&(k.includes(L.id)||F)&&B.push(L),B},[]),q=_.filter(B=>typeof B.deletable=="boolean"?B.deletable:!0),$=q.filter(B=>O.includes(B.id));if(M||$){const B=Ig(M,q),L=[...$,...B],F=L.reduce((z,D)=>(z.includes(D.id)||z.push(D.id),z),[]);if((E||b)&&(E&&t.setState({edges:_.filter(z=>!F.includes(z.id))}),b&&(M.forEach(z=>{v.delete(z.id)}),t.setState({nodeInternals:new Map(v)}))),F.length>0&&(N==null||N(L),I&&I(F.map(z=>({id:z,type:"remove"})))),M.length>0&&(S==null||S(M),C)){const z=M.map(D=>({id:D.id,type:"remove"}));C(z)}}},[]),p=R.useCallback(g=>{const y=EV(g),v=y?null:t.getState().nodeInternals.get(g.id);return[y?g:tb(v),v,y]},[]),m=R.useCallback((g,y=!0,v)=>{const[w,_,b]=p(g);return w?(v||t.getState().getNodes()).filter(E=>{if(!b&&(E.id===_.id||!E.positionAbsolute))return!1;const S=tb(E),N=sp(S,w);return y&&N>0||N>=g.width*g.height}):[]},[]),h=R.useCallback((g,y,v=!0)=>{const[w]=p(g);if(!w)return!1;const _=sp(w,y);return v&&_>0||_>=g.width*g.height},[]);return R.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:a,getEdge:i,setNodes:o,setEdges:s,addNodes:l,addEdges:c,toObject:u,deleteElements:d,getIntersectingNodes:m,isNodeIntersecting:h}),[e,n,r,a,i,o,s,l,c,u,d,m,h])}var vL=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=Mt(),{deleteElements:r}=Zu(),a=Oo(e),i=Oo(t);R.useEffect(()=>{if(a){const{edges:o,getNodes:s}=n.getState(),l=s().filter(u=>u.selected),c=o.filter(u=>u.selected);r({nodes:l,edges:c}),n.setState({nodesSelectionActive:!1})}},[a]),R.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])};function bL(e){const t=Mt();R.useEffect(()=>{let n;const r=()=>{var i,o;if(!e.current)return;const a=wg(e.current);(a.height===0||a.width===0)&&((o=(i=t.getState()).onError)==null||o.call(i,"004",ta.error004())),t.setState({width:a.width||500,height:a.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const $g={position:"absolute",width:"100%",height:"100%",top:0,left:0},_L=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Mc=e=>({x:e.x,y:e.y,zoom:e.k}),Xa=(e,t)=>e.target.closest(`.${t}`),vb=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),wL=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),SL=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:a=!0,zoomOnPinch:i=!0,panOnScroll:o=!1,panOnScrollSpeed:s=.5,panOnScrollMode:l=ui.Free,zoomOnDoubleClick:c=!0,elementsSelectable:u,panOnDrag:d=!0,defaultViewport:p,translateExtent:m,minZoom:h,maxZoom:g,zoomActivationKeyCode:y,preventScrolling:v=!0,children:w,noWheelClassName:_,noPanClassName:b})=>{const E=R.useRef(),S=Mt(),N=R.useRef(!1),C=R.useRef(!1),I=R.useRef(null),k=R.useRef({x:0,y:0,zoom:0}),{d3Zoom:O,d3Selection:M,d3ZoomHandler:q,userSelectionActive:$}=Et(wL,Kt),B=Oo(y),L=R.useRef(0);return bL(I),R.useEffect(()=>{if(I.current){const F=I.current.getBoundingClientRect(),z=gV().scaleExtent([h,g]).translateExtent(m),D=kn(I.current).call(z),x=Kr.translate(p.x,p.y).scale(_i(p.zoom,h,g)),A=[[0,0],[F.width,F.height]],j=z.constrain()(x,A,m);z.transform(D,j),S.setState({d3Zoom:z,d3Selection:D,d3ZoomHandler:D.on("wheel.zoom"),transform:[j.x,j.y,j.k],domNode:I.current.closest(".react-flow")})}},[]),R.useEffect(()=>{M&&O&&(o&&!B&&!$?M.on("wheel.zoom",F=>{if(Xa(F,_))return!1;F.preventDefault(),F.stopImmediatePropagation();const z=M.property("__zoom").k||1;if(F.ctrlKey&&i){const j=Wn(F),U=-F.deltaY*(F.deltaMode===1?.05:F.deltaMode?1:.002)*10,T=z*Math.pow(2,U);O.scaleTo(M,T,j);return}const D=F.deltaMode===1?20:1,x=l===ui.Vertical?0:F.deltaX*D,A=l===ui.Horizontal?0:F.deltaY*D;O.translateBy(M,-(x/z)*s,-(A/z)*s)},{passive:!1}):typeof q<"u"&&M.on("wheel.zoom",function(F,z){if(!v||Xa(F,_))return null;F.preventDefault(),q.call(this,F,z)},{passive:!1}))},[$,o,l,M,O,q,B,i,v,_]),R.useEffect(()=>{O&&O.on("start",F=>{var D;if(!F.sourceEvent)return null;L.current=F.sourceEvent.button;const{onViewportChangeStart:z}=S.getState();if(N.current=!0,((D=F.sourceEvent)==null?void 0:D.type)==="mousedown"&&S.setState({paneDragging:!0}),t||z){const x=Mc(F.transform);k.current=x,z==null||z(x),t==null||t(F.sourceEvent,x)}})},[O,t]),R.useEffect(()=>{O&&($&&!N.current?O.on("zoom",null):$||O.on("zoom",F=>{const{onViewportChange:z}=S.getState();if(S.setState({transform:[F.transform.x,F.transform.y,F.transform.k]}),C.current=!!(r&&vb(d,L.current??0)),e||z){const D=Mc(F.transform);z==null||z(D),e==null||e(F.sourceEvent,D)}}))},[$,O,e,d,r]),R.useEffect(()=>{O&&O.on("end",F=>{if(!F.sourceEvent)return null;const{onViewportChangeEnd:z}=S.getState();if(N.current=!1,S.setState({paneDragging:!1}),r&&vb(d,L.current??0)&&!C.current&&r(F.sourceEvent),C.current=!1,(n||z)&&_L(k.current,F.transform)){const D=Mc(F.transform);k.current=D,clearTimeout(E.current),E.current=setTimeout(()=>{z==null||z(D),n==null||n(F.sourceEvent,D)},o?150:0)}})},[O,o,d,n,r]),R.useEffect(()=>{O&&O.filter(F=>{const z=B||a,D=i&&F.ctrlKey;if(F.button===1&&F.type==="mousedown"&&(Xa(F,"react-flow__node")||Xa(F,"react-flow__edge")))return!0;if(!d&&!z&&!o&&!c&&!i||$||!c&&F.type==="dblclick"||Xa(F,_)&&F.type==="wheel"||Xa(F,b)&&F.type!=="wheel"||!i&&F.ctrlKey&&F.type==="wheel"||!z&&!o&&!D&&F.type==="wheel"||!d&&(F.type==="mousedown"||F.type==="touchstart")||Array.isArray(d)&&!d.includes(F.button)&&(F.type==="mousedown"||F.type==="touchstart"))return!1;const x=Array.isArray(d)&&d.includes(F.button)||!F.button||F.button<=1;return(!F.ctrlKey||F.type==="wheel")&&x})},[$,O,a,i,o,c,d,u,B]),f("div",{className:"react-flow__renderer",ref:I,style:$g,children:w})},CL=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function EL(){const{userSelectionActive:e,userSelectionRect:t}=Et(CL,Kt);return e&&t?f("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function bb(e,t){const n=e.find(r=>r.id===t.parentNode);if(n){const r=t.position.x+t.width-n.width,a=t.position.y+t.height-n.height;if(r>0||a>0||t.position.x<0||t.position.y<0){if(n.style={...n.style},n.style.width=n.style.width??n.width,n.style.height=n.style.height??n.height,r>0&&(n.style.width+=r),a>0&&(n.style.height+=a),t.position.x<0){const i=Math.abs(t.position.x);n.position.x=n.position.x-i,n.style.width+=i,t.position.x=0}if(t.position.y<0){const i=Math.abs(t.position.y);n.position.y=n.position.y-i,n.style.height+=i,t.position.y=0}n.width=n.style.width,n.height=n.style.height}}}function uE(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,a)=>{const i=e.filter(s=>s.id===a.id);if(i.length===0)return r.push(a),r;const o={...a};for(const s of i)if(s)switch(s.type){case"select":{o.selected=s.selected;break}case"position":{typeof s.position<"u"&&(o.position=s.position),typeof s.positionAbsolute<"u"&&(o.positionAbsolute=s.positionAbsolute),typeof s.dragging<"u"&&(o.dragging=s.dragging),o.expandParent&&bb(r,o);break}case"dimensions":{typeof s.dimensions<"u"&&(o.width=s.dimensions.width,o.height=s.dimensions.height),typeof s.updateStyle<"u"&&(o.style={...o.style||{},...s.dimensions}),typeof s.resizing=="boolean"&&(o.resizing=s.resizing),o.expandParent&&bb(r,o);break}case"remove":return r}return r.push(o),r},n)}function cE(e,t){return uE(e,t)}function NL(e,t){return uE(e,t)}const Ur=(e,t)=>({id:e,type:"select",selected:t});function ai(e,t){return e.reduce((n,r)=>{const a=t.includes(r.id);return!r.selected&&a?(r.selected=!0,n.push(Ur(r.id,!0))):r.selected&&!a&&(r.selected=!1,n.push(Ur(r.id,!1))),n},[])}const Bc=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},TL=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),dE=R.memo(({isSelecting:e,selectionMode:t=$o.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:a,onPaneClick:i,onPaneContextMenu:o,onPaneScroll:s,onPaneMouseEnter:l,onPaneMouseMove:c,onPaneMouseLeave:u,children:d})=>{const p=R.useRef(null),m=Mt(),h=R.useRef(0),g=R.useRef(0),y=R.useRef(),{userSelectionActive:v,elementsSelectable:w,dragging:_}=Et(TL,Kt),b=()=>{m.setState({userSelectionActive:!1,userSelectionRect:null}),h.current=0,g.current=0},E=q=>{i==null||i(q),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},S=q=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){q.preventDefault();return}o==null||o(q)},N=s?q=>s(q):void 0,C=q=>{const{resetSelectedElements:$,domNode:B}=m.getState();if(y.current=B==null?void 0:B.getBoundingClientRect(),!w||!e||q.button!==0||q.target!==p.current||!y.current)return;const{x:L,y:F}=Yr(q,y.current);$(),m.setState({userSelectionRect:{width:0,height:0,startX:L,startY:F,x:L,y:F}}),r==null||r(q)},I=q=>{const{userSelectionRect:$,nodeInternals:B,edges:L,transform:F,onNodesChange:z,onEdgesChange:D,nodeOrigin:x,getNodes:A}=m.getState();if(!e||!y.current||!$)return;m.setState({userSelectionActive:!0,nodesSelectionActive:!1});const j=Yr(q,y.current),U=$.startX??0,T=$.startY??0,V={...$,x:j.x<U?j.x:U,y:j.y<T?j.y:T,width:Math.abs(j.x-U),height:Math.abs(j.y-T)},K=A(),Z=UC(B,V,F,t===$o.Partial,!0,x),Q=Ig(Z,L).map(se=>se.id),re=Z.map(se=>se.id);if(h.current!==re.length){h.current=re.length;const se=ai(K,re);se.length&&(z==null||z(se))}if(g.current!==Q.length){g.current=Q.length;const se=ai(L,Q);se.length&&(D==null||D(se))}m.setState({userSelectionRect:V})},k=q=>{if(q.button!==0)return;const{userSelectionRect:$}=m.getState();!v&&$&&q.target===p.current&&(E==null||E(q)),m.setState({nodesSelectionActive:h.current>0}),b(),a==null||a(q)},O=q=>{v&&(m.setState({nodesSelectionActive:h.current>0}),a==null||a(q)),b()},M=w&&(e||v);return P("div",{className:sn(["react-flow__pane",{dragging:_,selection:e}]),onClick:M?void 0:Bc(E,p),onContextMenu:Bc(S,p),onWheel:Bc(N,p),onMouseEnter:M?void 0:l,onMouseDown:M?C:void 0,onMouseMove:M?I:c,onMouseUp:M?k:void 0,onMouseLeave:M?O:u,ref:p,style:$g,children:[d,f(EL,{})]})});dE.displayName="Pane";const IL=e=>{const t=e.getNodes().filter(n=>n.selected);return{...BC(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function RL({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Mt(),{width:a,height:i,x:o,y:s,transformString:l,userSelectionActive:c}=Et(IL,Kt),u=iE(),d=R.useRef(null);if(R.useEffect(()=>{var h;n||(h=d.current)==null||h.focus({preventScroll:!0})},[n]),aE({nodeRef:d}),c||!a||!i)return null;const p=e?h=>{const g=r.getState().getNodes().filter(y=>y.selected);e(h,g)}:void 0,m=h=>{Object.prototype.hasOwnProperty.call(di,h.key)&&u({x:di[h.key].x,y:di[h.key].y,isShiftPressed:h.shiftKey})};return f("div",{className:sn(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l},children:f("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:n?void 0:-1,onKeyDown:n?void 0:m,style:{width:a,height:i,top:s,left:o}})})}var xL=R.memo(RL);const $L=e=>e.nodesSelectionActive,fE=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:a,onPaneContextMenu:i,onPaneScroll:o,deleteKeyCode:s,onMove:l,onMoveStart:c,onMoveEnd:u,selectionKeyCode:d,selectionOnDrag:p,selectionMode:m,onSelectionStart:h,onSelectionEnd:g,multiSelectionKeyCode:y,panActivationKeyCode:v,zoomActivationKeyCode:w,elementsSelectable:_,zoomOnScroll:b,zoomOnPinch:E,panOnScroll:S,panOnScrollSpeed:N,panOnScrollMode:C,zoomOnDoubleClick:I,panOnDrag:k,defaultViewport:O,translateExtent:M,minZoom:q,maxZoom:$,preventScrolling:B,onSelectionContextMenu:L,noWheelClassName:F,noPanClassName:z,disableKeyboardA11y:D})=>{const x=Et($L),A=Oo(d),U=Oo(v)||k,T=A||p&&U!==!0;return vL({deleteKeyCode:s,multiSelectionKeyCode:y}),f(SL,{onMove:l,onMoveStart:c,onMoveEnd:u,onPaneContextMenu:i,elementsSelectable:_,zoomOnScroll:b,zoomOnPinch:E,panOnScroll:S,panOnScrollSpeed:N,panOnScrollMode:C,zoomOnDoubleClick:I,panOnDrag:!A&&U,defaultViewport:O,translateExtent:M,minZoom:q,maxZoom:$,zoomActivationKeyCode:w,preventScrolling:B,noWheelClassName:F,noPanClassName:z,children:P(dE,{onSelectionStart:h,onSelectionEnd:g,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:a,onPaneContextMenu:i,onPaneScroll:o,panOnDrag:U,isSelecting:!!T,selectionMode:m,children:[e,x&&f(xL,{onSelectionContextMenu:L,noPanClassName:z,disableKeyboardA11y:D})]})})};fE.displayName="FlowRenderer";var AL=R.memo(fE);function OL(e){return Et(R.useCallback(n=>e?UC(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}const kL=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),pE=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:a,updateNodeDimensions:i,onError:o}=Et(kL,Kt),s=OL(e.onlyRenderVisibleElements),l=R.useRef(),c=R.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const u=new ResizeObserver(d=>{const p=d.map(m=>({id:m.target.getAttribute("data-id"),nodeElement:m.target,forceUpdate:!0}));i(p)});return l.current=u,u},[]);return R.useEffect(()=>()=>{var u;(u=l==null?void 0:l.current)==null||u.disconnect()},[]),f("div",{className:"react-flow__nodes",style:$g,children:s.map(u=>{var E,S;let d=u.type||"default";e.nodeTypes[d]||(o==null||o("003",ta.error003(d)),d="default");const p=e.nodeTypes[d]||e.nodeTypes.default,m=!!(u.draggable||t&&typeof u.draggable>"u"),h=!!(u.selectable||a&&typeof u.selectable>"u"),g=!!(u.connectable||n&&typeof u.connectable>"u"),y=!!(u.focusable||r&&typeof u.focusable>"u"),v=e.nodeExtent?Sg(u.positionAbsolute,e.nodeExtent):u.positionAbsolute,w=(v==null?void 0:v.x)??0,_=(v==null?void 0:v.y)??0,b=dL({x:w,y:_,width:u.width??0,height:u.height??0,origin:e.nodeOrigin});return f(p,{id:u.id,className:u.className,style:u.style,type:d,data:u.data,sourcePosition:u.sourcePosition||_e.Bottom,targetPosition:u.targetPosition||_e.Top,hidden:u.hidden,xPos:w,yPos:_,xPosOrigin:b.x,yPosOrigin:b.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!u.selected,isDraggable:m,isSelectable:h,isConnectable:g,isFocusable:y,resizeObserver:c,dragHandle:u.dragHandle,zIndex:((E=u[Ot])==null?void 0:E.z)??0,isParent:!!((S=u[Ot])!=null&&S.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!u.width&&!!u.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:u.ariaLabel},u.id)})})};pE.displayName="NodeRenderer";var PL=R.memo(pE);const DL=[{level:0,isMaxLevel:!0,edges:[]}];function VL(e,t,n=!1){let r=-1;const a=e.reduce((o,s)=>{var u,d;const l=En(s.zIndex);let c=l?s.zIndex:0;if(n){const p=t.get(s.target),m=t.get(s.source),h=s.selected||(p==null?void 0:p.selected)||(m==null?void 0:m.selected),g=Math.max(((u=m==null?void 0:m[Ot])==null?void 0:u.z)||0,((d=p==null?void 0:p[Ot])==null?void 0:d.z)||0,1e3);c=(l?s.zIndex:0)+(h?g:0)}return o[c]?o[c].push(s):o[c]=[s],r=c>r?c:r,o},{}),i=Object.entries(a).map(([o,s])=>{const l=+o;return{edges:s,level:l,isMaxLevel:l===r}});return i.length===0?DL:i}function LL(e,t,n){const r=Et(R.useCallback(a=>e?a.edges.filter(i=>{const o=t.get(i.source),s=t.get(i.target);return(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&oL({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:s.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:s.width,targetHeight:s.height,width:a.width,height:a.height,transform:a.transform})}):a.edges,[e,t]));return VL(r,t,n)}const FL=({color:e="none",strokeWidth:t=1})=>f("polyline",{stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:t,fill:"none",points:"-5,-4 0,0 -5,4"}),qL=({color:e="none",strokeWidth:t=1})=>f("polyline",{stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:t,fill:e,points:"-5,-4 0,0 -5,4 -5,-4"}),_b={[Ao.Arrow]:FL,[Ao.ArrowClosed]:qL};function ML(e){const t=Mt();return R.useMemo(()=>{var a,i;return Object.prototype.hasOwnProperty.call(_b,e)?_b[e]:((i=(a=t.getState()).onError)==null||i.call(a,"009",ta.error009(e)),null)},[e])}const BL=({id:e,type:t,color:n,width:r=12.5,height:a=12.5,markerUnits:i="strokeWidth",strokeWidth:o,orient:s="auto-start-reverse"})=>{const l=ML(t);return l?f("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:s,refX:"0",refY:"0",children:f(l,{color:n,strokeWidth:o})}):null},UL=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((a,i)=>([i.markerStart,i.markerEnd].forEach(o=>{if(o&&typeof o=="object"){const s=cp(o,t);r.includes(s)||(a.push({id:s,color:o.color||e,...o}),r.push(s))}}),a),[]).sort((a,i)=>a.id.localeCompare(i.id))},mE=({defaultColor:e,rfId:t})=>{const n=Et(R.useCallback(UL({defaultColor:e,rfId:t}),[e,t]),(r,a)=>!(r.length!==a.length||r.some((i,o)=>i.id!==a[o].id)));return f("defs",{children:n.map(r=>f(BL,{id:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient},r.id))})};mE.displayName="MarkerDefinitions";var HL=R.memo(mE);const zL=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),hE=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:a,noPanClassName:i,onEdgeUpdate:o,onEdgeContextMenu:s,onEdgeMouseEnter:l,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:d,edgeUpdaterRadius:p,onEdgeDoubleClick:m,onEdgeUpdateStart:h,onEdgeUpdateEnd:g,children:y})=>{const{edgesFocusable:v,edgesUpdatable:w,elementsSelectable:_,width:b,height:E,connectionMode:S,nodeInternals:N,onError:C}=Et(zL,Kt),I=LL(t,N,n);return b?P(te,{children:[I.map(({level:k,edges:O,isMaxLevel:M})=>P("svg",{style:{zIndex:k},width:b,height:E,className:"react-flow__edges react-flow__container",children:[M&&f(HL,{defaultColor:e,rfId:r}),f("g",{children:O.map(q=>{const[$,B,L]=pb(N.get(q.source)),[F,z,D]=pb(N.get(q.target));if(!L||!D)return null;let x=q.type||"default";a[x]||(C==null||C("011",ta.error011(x)),x="default");const A=a[x]||a.default,j=S===Va.Strict?z.target:(z.target??[]).concat(z.source??[]),U=fb(B.source,q.sourceHandle),T=fb(j,q.targetHandle),V=(U==null?void 0:U.position)||_e.Bottom,K=(T==null?void 0:T.position)||_e.Top,Z=!!(q.focusable||v&&typeof q.focusable>"u"),Q=typeof o<"u"&&(q.updatable||w&&typeof q.updatable>"u");if(!U||!T)return C==null||C("008",ta.error008(U,q)),null;const{sourceX:re,sourceY:se,targetX:de,targetY:xe}=iL($,U,V,F,T,K);return f(A,{id:q.id,className:sn([q.className,i]),type:x,data:q.data,selected:!!q.selected,animated:!!q.animated,hidden:!!q.hidden,label:q.label,labelStyle:q.labelStyle,labelShowBg:q.labelShowBg,labelBgStyle:q.labelBgStyle,labelBgPadding:q.labelBgPadding,labelBgBorderRadius:q.labelBgBorderRadius,style:q.style,source:q.source,target:q.target,sourceHandleId:q.sourceHandle,targetHandleId:q.targetHandle,markerEnd:q.markerEnd,markerStart:q.markerStart,sourceX:re,sourceY:se,targetX:de,targetY:xe,sourcePosition:V,targetPosition:K,elementsSelectable:_,onEdgeUpdate:o,onContextMenu:s,onMouseEnter:l,onMouseMove:c,onMouseLeave:u,onClick:d,edgeUpdaterRadius:p,onEdgeDoubleClick:m,onEdgeUpdateStart:h,onEdgeUpdateEnd:g,rfId:r,ariaLabel:q.ariaLabel,isFocusable:Z,isUpdatable:Q,pathOptions:"pathOptions"in q?q.pathOptions:void 0,interactionWidth:q.interactionWidth},q.id)})})]},k)),y]}):null};hE.displayName="EdgeRenderer";var jL=R.memo(hE);const WL=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function GL({children:e}){const t=Et(WL);return f("div",{className:"react-flow__viewport react-flow__container",style:{transform:t},children:e})}function KL(e){const t=Zu(),n=R.useRef(!1);R.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const YL={[_e.Left]:_e.Right,[_e.Right]:_e.Left,[_e.Top]:_e.Bottom,[_e.Bottom]:_e.Top},gE=({nodeId:e,handleType:t,style:n,type:r=dr.Bezier,CustomComponent:a,connectionStatus:i})=>{var S,N,C;const{fromNode:o,handleId:s,toX:l,toY:c,connectionMode:u}=Et(R.useCallback(I=>({fromNode:I.nodeInternals.get(e),handleId:I.connectionHandleId,toX:(I.connectionPosition.x-I.transform[0])/I.transform[2],toY:(I.connectionPosition.y-I.transform[1])/I.transform[2],connectionMode:I.connectionMode}),[e]),Kt),d=(S=o==null?void 0:o[Ot])==null?void 0:S.handleBounds;let p=d==null?void 0:d[t];if(u===Va.Loose&&(p=p||(d==null?void 0:d[t==="source"?"target":"source"])),!o||!p)return null;const m=s?p.find(I=>I.id===s):p[0],h=m?m.x+m.width/2:(o.width??0)/2,g=m?m.y+m.height/2:o.height??0,y=(((N=o.positionAbsolute)==null?void 0:N.x)??0)+h,v=(((C=o.positionAbsolute)==null?void 0:C.y)??0)+g,w=m==null?void 0:m.position,_=w?YL[w]:null;if(!w||!_)return null;if(a)return f(a,{connectionLineType:r,connectionLineStyle:n,fromNode:o,fromHandle:m,fromX:y,fromY:v,toX:l,toY:c,fromPosition:w,toPosition:_,connectionStatus:i});let b="";const E={sourceX:y,sourceY:v,sourcePosition:w,targetX:l,targetY:c,targetPosition:_};return r===dr.Bezier?[b]=qC(E):r===dr.Step?[b]=up({...E,borderRadius:0}):r===dr.SmoothStep?[b]=up(E):r===dr.SimpleBezier?[b]=FC(E):b=`M${y},${v} ${l},${c}`,f("path",{d:b,fill:"none",className:"react-flow__connection-path",style:n})};gE.displayName="ConnectionLine";const QL=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function XL({containerStyle:e,style:t,type:n,component:r}){const{nodeId:a,handleType:i,nodesConnectable:o,width:s,height:l,connectionStatus:c}=Et(QL,Kt);return!(a&&i&&s&&o)?null:f("svg",{style:e,width:s,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container",children:f("g",{className:sn(["react-flow__connection",c]),children:f(gE,{nodeId:a,handleType:i,style:t,type:n,CustomComponent:r,connectionStatus:c})})})}const yE=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:a,onInit:i,onNodeClick:o,onEdgeClick:s,onNodeDoubleClick:l,onEdgeDoubleClick:c,onNodeMouseEnter:u,onNodeMouseMove:d,onNodeMouseLeave:p,onNodeContextMenu:m,onSelectionContextMenu:h,onSelectionStart:g,onSelectionEnd:y,connectionLineType:v,connectionLineStyle:w,connectionLineComponent:_,connectionLineContainerStyle:b,selectionKeyCode:E,selectionOnDrag:S,selectionMode:N,multiSelectionKeyCode:C,panActivationKeyCode:I,zoomActivationKeyCode:k,deleteKeyCode:O,onlyRenderVisibleElements:M,elementsSelectable:q,selectNodesOnDrag:$,defaultViewport:B,translateExtent:L,minZoom:F,maxZoom:z,preventScrolling:D,defaultMarkerColor:x,zoomOnScroll:A,zoomOnPinch:j,panOnScroll:U,panOnScrollSpeed:T,panOnScrollMode:V,zoomOnDoubleClick:K,panOnDrag:Z,onPaneClick:Q,onPaneMouseEnter:re,onPaneMouseMove:se,onPaneMouseLeave:de,onPaneScroll:xe,onPaneContextMenu:qe,onEdgeUpdate:he,onEdgeContextMenu:ie,onEdgeMouseEnter:Te,onEdgeMouseMove:ae,onEdgeMouseLeave:Ge,edgeUpdaterRadius:Qe,onEdgeUpdateStart:bt,onEdgeUpdateEnd:Nt,noDragClassName:Me,noWheelClassName:Ke,noPanClassName:dt,elevateEdgesOnSelect:Ee,disableKeyboardA11y:Ie,nodeOrigin:ce,nodeExtent:ve,rfId:Pe})=>(KL(i),f(AL,{onPaneClick:Q,onPaneMouseEnter:re,onPaneMouseMove:se,onPaneMouseLeave:de,onPaneContextMenu:qe,onPaneScroll:xe,deleteKeyCode:O,selectionKeyCode:E,selectionOnDrag:S,selectionMode:N,onSelectionStart:g,onSelectionEnd:y,multiSelectionKeyCode:C,panActivationKeyCode:I,zoomActivationKeyCode:k,elementsSelectable:q,onMove:n,onMoveStart:r,onMoveEnd:a,zoomOnScroll:A,zoomOnPinch:j,zoomOnDoubleClick:K,panOnScroll:U,panOnScrollSpeed:T,panOnScrollMode:V,panOnDrag:Z,defaultViewport:B,translateExtent:L,minZoom:F,maxZoom:z,onSelectionContextMenu:h,preventScrolling:D,noDragClassName:Me,noWheelClassName:Ke,noPanClassName:dt,disableKeyboardA11y:Ie,children:P(GL,{children:[f(jL,{edgeTypes:t,onEdgeClick:s,onEdgeDoubleClick:c,onEdgeUpdate:he,onlyRenderVisibleElements:M,onEdgeContextMenu:ie,onEdgeMouseEnter:Te,onEdgeMouseMove:ae,onEdgeMouseLeave:Ge,onEdgeUpdateStart:bt,onEdgeUpdateEnd:Nt,edgeUpdaterRadius:Qe,defaultMarkerColor:x,noPanClassName:dt,elevateEdgesOnSelect:!!Ee,disableKeyboardA11y:Ie,rfId:Pe,children:f(XL,{style:w,type:v,component:_,containerStyle:b})}),f("div",{className:"react-flow__edgelabel-renderer"}),f(PL,{nodeTypes:e,onNodeClick:o,onNodeDoubleClick:l,onNodeMouseEnter:u,onNodeMouseMove:d,onNodeMouseLeave:p,onNodeContextMenu:m,selectNodesOnDrag:$,onlyRenderVisibleElements:M,noPanClassName:dt,noDragClassName:Me,disableKeyboardA11y:Ie,nodeOrigin:ce,nodeExtent:ve,rfId:Pe})]})}));yE.displayName="GraphView";var JL=R.memo(yE);const pp=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],kr={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:pp,nodeExtent:pp,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Va.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:NV,isValidConnection:void 0},ZL=()=>gO((e,t)=>({...kr,setNodes:n=>{const{nodeInternals:r,nodeOrigin:a,elevateNodesOnSelect:i}=t();e({nodeInternals:qc(n,r,a,i)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(a=>({...r,...a}))})},setDefaultNodesAndEdges:(n,r)=>{const a=typeof n<"u",i=typeof r<"u",o=a?qc(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:o,edges:i?r:[],hasDefaultNodes:a,hasDefaultEdges:i})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:a,fitViewOnInit:i,fitViewOnInitDone:o,fitViewOnInitOptions:s,domNode:l,nodeOrigin:c}=t(),u=l==null?void 0:l.querySelector(".react-flow__viewport");if(!u)return;const d=window.getComputedStyle(u),{m22:p}=new window.DOMMatrixReadOnly(d.transform),m=n.reduce((g,y)=>{const v=a.get(y.id);if(v){const w=wg(y.nodeElement);!!(w.width&&w.height&&(v.width!==w.width||v.height!==w.height||y.forceUpdate))&&(a.set(v.id,{...v,[Ot]:{...v[Ot],handleBounds:{source:hb(".source",y.nodeElement,p,c),target:hb(".target",y.nodeElement,p,c)}},...w}),g.push({id:v.id,type:"dimensions",dimensions:w}))}return g},[]);sE(a,c);const h=o||i&&!o&&lE(t,{initial:!0,...s});e({nodeInternals:new Map(a),fitViewOnInitDone:h}),(m==null?void 0:m.length)>0&&(r==null||r(m))},updateNodePositions:(n,r=!0,a=!1)=>{const{triggerNodeChanges:i}=t(),o=n.map(s=>{const l={id:s.id,type:"position",dragging:a};return r&&(l.positionAbsolute=s.positionAbsolute,l.position=s.position),l});i(o)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:a,hasDefaultNodes:i,nodeOrigin:o,getNodes:s,elevateNodesOnSelect:l}=t();if(n!=null&&n.length){if(i){const c=cE(n,s()),u=qc(c,a,o,l);e({nodeInternals:u})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:a,getNodes:i}=t();let o,s=null;r?o=n.map(l=>Ur(l,!0)):(o=ai(i(),n),s=ai(a,[])),Fs({changedNodes:o,changedEdges:s,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:a,getNodes:i}=t();let o,s=null;r?o=n.map(l=>Ur(l,!0)):(o=ai(a,n),s=ai(i(),[])),Fs({changedNodes:s,changedEdges:o,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:a,getNodes:i}=t(),o=n||i(),s=r||a,l=o.map(u=>(u.selected=!1,Ur(u.id,!1))),c=s.map(u=>Ur(u.id,!1));Fs({changedNodes:l,changedEdges:c,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:a}=t();r==null||r.scaleExtent([n,a]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:a}=t();r==null||r.scaleExtent([a,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),i=r().filter(s=>s.selected).map(s=>Ur(s.id,!1)),o=n.filter(s=>s.selected).map(s=>Ur(s.id,!1));Fs({changedNodes:i,changedEdges:o,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(a=>{a.positionAbsolute=Sg(a.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:a,height:i,d3Zoom:o,d3Selection:s,translateExtent:l}=t();if(!o||!s||!n.x&&!n.y)return!1;const c=Kr.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),u=[[0,0],[a,i]],d=o==null?void 0:o.constrain()(c,u,l);return o.transform(s,d),r[0]!==d.x||r[1]!==d.y||r[2]!==d.k},cancelConnection:()=>e({connectionNodeId:kr.connectionNodeId,connectionHandleId:kr.connectionHandleId,connectionHandleType:kr.connectionHandleType,connectionStatus:kr.connectionStatus,connectionStartHandle:kr.connectionStartHandle,connectionEndHandle:kr.connectionEndHandle}),reset:()=>e({...kr})})),Ag=({children:e})=>{const t=R.useRef(null);return t.current||(t.current=ZL()),f(yV,{value:t.current,children:e})};Ag.displayName="ReactFlowProvider";const vE=({children:e})=>R.useContext(Xu)?f(te,{children:e}):f(Ag,{children:e});vE.displayName="ReactFlowWrapper";function wb(e,t){return R.useRef(null),R.useMemo(()=>t(e),[e])}const eF={input:QC,default:dp,output:JC,group:xg},tF={default:Bl,straight:Ng,step:Eg,smoothstep:Ju,simplebezier:Cg},nF=[0,0],rF=[15,15],aF={x:0,y:0,zoom:1},iF={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},bE=R.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:a,nodeTypes:i=eF,edgeTypes:o=tF,onNodeClick:s,onEdgeClick:l,onInit:c,onMove:u,onMoveStart:d,onMoveEnd:p,onConnect:m,onConnectStart:h,onConnectEnd:g,onClickConnectStart:y,onClickConnectEnd:v,onNodeMouseEnter:w,onNodeMouseMove:_,onNodeMouseLeave:b,onNodeContextMenu:E,onNodeDoubleClick:S,onNodeDragStart:N,onNodeDrag:C,onNodeDragStop:I,onNodesDelete:k,onEdgesDelete:O,onSelectionChange:M,onSelectionDragStart:q,onSelectionDrag:$,onSelectionDragStop:B,onSelectionContextMenu:L,onSelectionStart:F,onSelectionEnd:z,connectionMode:D=Va.Strict,connectionLineType:x=dr.Bezier,connectionLineStyle:A,connectionLineComponent:j,connectionLineContainerStyle:U,deleteKeyCode:T="Backspace",selectionKeyCode:V="Shift",selectionOnDrag:K=!1,selectionMode:Z=$o.Full,panActivationKeyCode:Q="Space",multiSelectionKeyCode:re="Meta",zoomActivationKeyCode:se="Meta",snapToGrid:de=!1,snapGrid:xe=rF,onlyRenderVisibleElements:qe=!1,selectNodesOnDrag:he=!0,nodesDraggable:ie,nodesConnectable:Te,nodesFocusable:ae,nodeOrigin:Ge=nF,edgesFocusable:Qe,edgesUpdatable:bt,elementsSelectable:Nt,defaultViewport:Me=aF,minZoom:Ke=.5,maxZoom:dt=2,translateExtent:Ee=pp,preventScrolling:Ie=!0,nodeExtent:ce,defaultMarkerColor:ve="#b1b1b7",zoomOnScroll:Pe=!0,zoomOnPinch:Be=!0,panOnScroll:Ne=!1,panOnScrollSpeed:ge=.5,panOnScrollMode:ze=ui.Free,zoomOnDoubleClick:at=!0,panOnDrag:ln=!0,onPaneClick:xt,onPaneMouseEnter:kt,onPaneMouseMove:jt,onPaneMouseLeave:Pt,onPaneScroll:Bt,onPaneContextMenu:un,children:Vt,onEdgeUpdate:ca,onEdgeContextMenu:Qt,onEdgeDoubleClick:Rr,onEdgeMouseEnter:xr,onEdgeMouseMove:da,onEdgeMouseLeave:_t,onEdgeUpdateStart:mt,onEdgeUpdateEnd:Wt,edgeUpdaterRadius:fa=10,onNodesChange:pa,onEdgesChange:ma,noDragClassName:W="nodrag",noWheelClassName:H="nowheel",noPanClassName:G="nopan",fitView:ne=!1,fitViewOptions:ee,connectOnClick:me=!0,attributionPosition:Y,proOptions:X,defaultEdgeOptions:oe,elevateNodesOnSelect:ue=!0,elevateEdgesOnSelect:fe=!1,disableKeyboardA11y:$e=!1,autoPanOnConnect:ke=!0,autoPanOnNodeDrag:we=!0,connectionRadius:et=20,isValidConnection:wt,onError:ot,style:zn,id:cn,...vn},$r)=>{const ir=wb(i,cL),Xt=wb(o,aL),Jt=cn||"1";return f("div",{...vn,style:{...zn,...iF},ref:$r,className:sn(["react-flow",a]),"data-testid":"rf__wrapper",id:cn,children:P(vE,{children:[f(JL,{onInit:c,onMove:u,onMoveStart:d,onMoveEnd:p,onNodeClick:s,onEdgeClick:l,onNodeMouseEnter:w,onNodeMouseMove:_,onNodeMouseLeave:b,onNodeContextMenu:E,onNodeDoubleClick:S,nodeTypes:ir,edgeTypes:Xt,connectionLineType:x,connectionLineStyle:A,connectionLineComponent:j,connectionLineContainerStyle:U,selectionKeyCode:V,selectionOnDrag:K,selectionMode:Z,deleteKeyCode:T,multiSelectionKeyCode:re,panActivationKeyCode:Q,zoomActivationKeyCode:se,onlyRenderVisibleElements:qe,selectNodesOnDrag:he,defaultViewport:Me,translateExtent:Ee,minZoom:Ke,maxZoom:dt,preventScrolling:Ie,zoomOnScroll:Pe,zoomOnPinch:Be,zoomOnDoubleClick:at,panOnScroll:Ne,panOnScrollSpeed:ge,panOnScrollMode:ze,panOnDrag:ln,onPaneClick:xt,onPaneMouseEnter:kt,onPaneMouseMove:jt,onPaneMouseLeave:Pt,onPaneScroll:Bt,onPaneContextMenu:un,onSelectionContextMenu:L,onSelectionStart:F,onSelectionEnd:z,onEdgeUpdate:ca,onEdgeContextMenu:Qt,onEdgeDoubleClick:Rr,onEdgeMouseEnter:xr,onEdgeMouseMove:da,onEdgeMouseLeave:_t,onEdgeUpdateStart:mt,onEdgeUpdateEnd:Wt,edgeUpdaterRadius:fa,defaultMarkerColor:ve,noDragClassName:W,noWheelClassName:H,noPanClassName:G,elevateEdgesOnSelect:fe,rfId:Jt,disableKeyboardA11y:$e,nodeOrigin:Ge,nodeExtent:ce}),f(YV,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:m,onConnectStart:h,onConnectEnd:g,onClickConnectStart:y,onClickConnectEnd:v,nodesDraggable:ie,nodesConnectable:Te,nodesFocusable:ae,edgesFocusable:Qe,edgesUpdatable:bt,elementsSelectable:Nt,elevateNodesOnSelect:ue,minZoom:Ke,maxZoom:dt,nodeExtent:ce,onNodesChange:pa,onEdgesChange:ma,snapToGrid:de,snapGrid:xe,connectionMode:D,translateExtent:Ee,connectOnClick:me,defaultEdgeOptions:oe,fitView:ne,fitViewOptions:ee,onNodesDelete:k,onEdgesDelete:O,onNodeDragStart:N,onNodeDrag:C,onNodeDragStop:I,onSelectionDrag:$,onSelectionDragStart:q,onSelectionDragStop:B,noPanClassName:G,nodeOrigin:Ge,rfId:Jt,autoPanOnConnect:ke,autoPanOnNodeDrag:we,onError:ot,connectionRadius:et,isValidConnection:wt}),f(GV,{onSelectionChange:M}),Vt,f(bV,{proOptions:X,position:Y}),f(eL,{rfId:Jt,disableKeyboardA11y:$e})]})})});bE.displayName="ReactFlow";function _E(e){return t=>{const[n,r]=R.useState(t),a=R.useCallback(i=>r(o=>e(i,o)),[]);return[n,r,a]}}const oF=_E(cE),sF=_E(NL);function lF(){return f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:f("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function uF(){return f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:f("path",{d:"M0 0h32v4.2H0z"})})}function cF(){return f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:f("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function dF(){return f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:f("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function fF(){return f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:f("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}const ao=({children:e,className:t,...n})=>f("button",{type:"button",className:sn(["react-flow__controls-button",t]),...n,children:e});ao.displayName="ControlButton";const pF=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),wE=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:a,onZoomIn:i,onZoomOut:o,onFitView:s,onInteractiveChange:l,className:c,children:u,position:d="bottom-left"})=>{const p=Mt(),[m,h]=R.useState(!1),{isInteractive:g,minZoomReached:y,maxZoomReached:v}=Et(pF,Kt),{zoomIn:w,zoomOut:_,fitView:b}=Zu();if(R.useEffect(()=>{h(!0)},[]),!m)return null;const E=()=>{w(),i==null||i()},S=()=>{_(),o==null||o()},N=()=>{b(a),s==null||s()},C=()=>{p.setState({nodesDraggable:!g,nodesConnectable:!g,elementsSelectable:!g}),l==null||l(!g)};return P($C,{className:sn(["react-flow__controls",c]),position:d,style:e,"data-testid":"rf__controls",children:[t&&P(te,{children:[f(ao,{onClick:E,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:v,children:f(lF,{})}),f(ao,{onClick:S,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:y,children:f(uF,{})})]}),n&&f(ao,{className:"react-flow__controls-fitview",onClick:N,title:"fit view","aria-label":"fit view",children:f(cF,{})}),r&&f(ao,{className:"react-flow__controls-interactive",onClick:C,title:"toggle interactivity","aria-label":"toggle interactivity",children:g?f(fF,{}):f(dF,{})}),u]})};wE.displayName="Controls";var mF=R.memo(wE);const mp=e=>{const{data:t}=BT(e.modifiedBy),n=So(rn(e.modifiedOn)),{name:r,description:a}=e;return R.useMemo(()=>P(te,{children:[r&&f(At,{title:r,placement:"top",enterNextDelay:200,children:f("span",{children:f(le,{variant:"smallText1",className:"name",children:r})})}),a&&f(At,{title:a,placement:"top",enterNextDelay:200,children:f("span",{children:f(le,{variant:"smallText1",className:"description",children:a})})}),t&&f(sI,{userProfile:t}),f("div",{children:n})]}),[r,a,t,n])};try{mp.displayName="ActivityNodeLabel",mp.__docgenInfo={description:"",displayName:"ActivityNodeLabel",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},etag:{defaultValue:null,description:"",name:"etag",required:!0,type:{name:"string"}},createdOn:{defaultValue:null,description:"",name:"createdOn",required:!0,type:{name:"string"}},modifiedOn:{defaultValue:null,description:"",name:"modifiedOn",required:!0,type:{name:"string"}},createdBy:{defaultValue:null,description:"",name:"createdBy",required:!0,type:{name:"string"}},modifiedBy:{defaultValue:null,description:"",name:"modifiedBy",required:!0,type:{name:"string"}},used:{defaultValue:null,description:"",name:"used",required:!1,type:{name:"(UsedURL | UsedEntity)[]"}}}}}catch{}const hF=new Set([".awk",".bat",".btm",".c",".cmd",".cpp",".cxx",".def",".dlg",".dpc",".dpj",".dtd",".h",".hdl",".hpp",".hrc",".html",".hxx",".inc",".ini",".inl",".ins",".ipy",".java",".js",".jsp",".l",".lgt",".ll",".par",".pl",".py",".r",".rc",".rdb",".res",".s",".sbl",".scp",".sh",".sql",".src",".srs",".xml",".xrb",".y",".yaml",".yxx",".cwl",".wdl",".json"]),hp=e=>{const{entityHeader:t}=e;if(t){const n=kw(t==null?void 0:t.type);if(n==Pf.FILE){const r=t.name.lastIndexOf(".");if(r>-1){const a=t.name.slice(r);if(hF.has(a.toLowerCase()))return f(De,{icon:"code"})}}else return f(av,{type:n,includeTooltip:!1})}return f(av,{type:Pf.FILE,includeTooltip:!1})};try{hp.displayName="ProvenanceEntityIcon",hp.__docgenInfo={description:"",displayName:"ProvenanceEntityIcon",props:{entityHeader:{defaultValue:null,description:"",name:"entityHeader",required:!1,type:{name:"EntityHeader"}}}}}catch{}const gp=e=>{const t=e.versionNumber?`.${e.versionNumber}`:"",n=`${e.id}${t}`;return R.useMemo(()=>P(te,{children:[f("div",{children:f(hp,{entityHeader:e})}),P(te,{children:[f("div",{children:f(At,{title:e.name,placement:"top",enterNextDelay:300,children:f("a",{href:`${Zr.PORTAL}#!Synapse:${n}`,children:e.name})})}),UT(kw(e.type))&&P("div",{children:[P("div",{children:["v.",e.versionNumber]}),!e.isLatestVersion&&f("div",{children:"(old version)"})]})]})]}),[e,n])};try{gp.displayName="EntityNodeLabel",gp.__docgenInfo={description:"",displayName:"EntityNodeLabel",props:{name:{defaultValue:null,description:"The name of the entity",name:"name",required:!0,type:{name:"string"}},id:{defaultValue:null,description:"The id of the entity",name:"id",required:!0,type:{name:"string"}},type:{defaultValue:null,description:"The type of the entity",name:"type",required:!0,type:{name:"enum",value:[{value:'"org.sagebionetworks.repo.model.Link"'},{value:'"org.sagebionetworks.repo.model.docker.DockerRepository"'},{value:'"org.sagebionetworks.repo.model.FileEntity"'},{value:'"org.sagebionetworks.repo.model.table.TableEntity"'},{value:'"org.sagebionetworks.repo.model.table.EntityView"'},{value:'"org.sagebionetworks.repo.model.table.SubmissionView"'},{value:'"org.sagebionetworks.repo.model.table.Dataset"'},{value:'"org.sagebionetworks.repo.model.table.DatasetCollection"'},{value:'"org.sagebionetworks.repo.model.table.MaterializedView"'},{value:'"org.sagebionetworks.repo.model.table.VirtualTable"'},{value:'"org.sagebionetworks.repo.model.Folder"'},{value:'"org.sagebionetworks.repo.model.Project"'}]}},versionNumber:{defaultValue:null,description:"The version number of the entity",name:"versionNumber",required:!1,type:{name:"number"}},versionLabel:{defaultValue:null,description:"The user defined version label of the entity",name:"versionLabel",required:!1,type:{name:"string"}},benefactorId:{defaultValue:null,description:"The ID of the entity that this Entity's ACL is inherited from.",name:"benefactorId",required:!0,type:{name:"number"}},createdOn:{defaultValue:null,description:"The date this entity was created.",name:"createdOn",required:!0,type:{name:"string"}},modifiedOn:{defaultValue:null,description:"The date this entity was last modified.",name:"modifiedOn",required:!0,type:{name:"string"}},createdBy:{defaultValue:null,description:"The ID of the user that created this entity.",name:"createdBy",required:!0,type:{name:"string"}},modifiedBy:{defaultValue:null,description:"The ID of the user that last modified this entity.",name:"modifiedBy",required:!0,type:{name:"string"}},isLatestVersion:{defaultValue:null,description:"If this version is the latest version of the entity",name:"isLatestVersion",required:!0,type:{name:"boolean"}}}}}catch{}var SE={exports:{}};(function(e,t){(function(n,r){typeof Vu=="function"?e.exports=r():n.pluralize=r()})(Jo,function(){var n=[],r=[],a={},i={},o={};function s(g){return typeof g=="string"?new RegExp("^"+g+"$","i"):g}function l(g,y){return g===y?y:g===g.toLowerCase()?y.toLowerCase():g===g.toUpperCase()?y.toUpperCase():g[0]===g[0].toUpperCase()?y.charAt(0).toUpperCase()+y.substr(1).toLowerCase():y.toLowerCase()}function c(g,y){return g.replace(/\$(\d{1,2})/g,function(v,w){return y[w]||""})}function u(g,y){return g.replace(y[0],function(v,w){var _=c(y[1],arguments);return l(v===""?g[w-1]:v,_)})}function d(g,y,v){if(!g.length||a.hasOwnProperty(g))return y;for(var w=v.length;w--;){var _=v[w];if(_[0].test(y))return u(y,_)}return y}function p(g,y,v){return function(w){var _=w.toLowerCase();return y.hasOwnProperty(_)?l(w,_):g.hasOwnProperty(_)?l(w,g[_]):d(_,w,v)}}function m(g,y,v,w){return function(_){var b=_.toLowerCase();return y.hasOwnProperty(b)?!0:g.hasOwnProperty(b)?!1:d(b,b,v)===b}}function h(g,y,v){var w=y===1?h.singular(g):h.plural(g);return(v?y+" ":"")+w}return h.plural=p(o,i,n),h.isPlural=m(o,i,n),h.singular=p(i,o,r),h.isSingular=m(i,o,r),h.addPluralRule=function(g,y){n.push([s(g),y])},h.addSingularRule=function(g,y){r.push([s(g),y])},h.addUncountableRule=function(g){if(typeof g=="string"){a[g.toLowerCase()]=!0;return}h.addPluralRule(g,"$0"),h.addSingularRule(g,"$0")},h.addIrregularRule=function(g,y){y=y.toLowerCase(),g=g.toLowerCase(),o[g]=y,i[y]=g},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach(function(g){return h.addIrregularRule(g[0],g[1])}),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach(function(g){return h.addPluralRule(g[0],g[1])}),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(g){return h.addSingularRule(g[0],g[1])}),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[eé]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(h.addUncountableRule),h})})(SE);var gF=SE.exports;const Zn=Er(gF),yp=e=>{const{itemCount:t}=e;return R.useMemo(()=>f(te,{children:P("a",{children:["Show ",t," ",Zn("item",t),"…"]})}),[t])};try{yp.displayName="ExpandGraphNodeLabel",yp.__docgenInfo={description:"",displayName:"ExpandGraphNodeLabel",props:{entityHeader:{defaultValue:null,description:"",name:"entityHeader",required:!0,type:{name:"EntityHeader"}},itemCount:{defaultValue:null,description:"",name:"itemCount",required:!0,type:{name:"number"}}}}}catch{}const yF=/^(.+?\.)?github\.com$/,vF=/^(.+?\.)?githubusercontent\.com$/,vp=e=>{const{url:t}=e;let n="link";const r=new URL(t),{hostname:a}=r;return(a.match(yF)||a.match(vF))&&(n="github"),f(De,{icon:n})};try{vp.displayName="ProvenanceExternalIcon",vp.__docgenInfo={description:"",displayName:"ProvenanceExternalIcon",props:{url:{defaultValue:null,description:"",name:"url",required:!0,type:{name:"string"}}}}}catch{}const bp=e=>R.useMemo(()=>P(te,{children:[f("div",{children:f(vp,{url:e.url})}),f(At,{title:e.name,placement:"top",enterNextDelay:300,children:f("a",{href:e.url,rel:"noopener noreferrer",children:e.name})})]}),[e.name,e.url]);try{bp.displayName="ExternalGraphNodeLabel",bp.__docgenInfo={description:"",displayName:"ExternalGraphNodeLabel",props:{concreteType:{defaultValue:null,description:"",name:"concreteType",required:!0,type:{name:'"org.sagebionetworks.repo.model.provenance.UsedURL"'}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},url:{defaultValue:null,description:"",name:"url",required:!0,type:{name:"string"}},wasExecuted:{defaultValue:null,description:"",name:"wasExecuted",required:!0,type:{name:"boolean"}}}}}catch{}var Uc,Sb;function bF(){if(Sb)return Uc;Sb=1;var e=AI,t=4;function n(r){return e(r,t)}return Uc=n,Uc}var Hc,Cb;function Og(){if(Cb)return Hc;Cb=1;function e(t){return function(){return t}}return Hc=e,Hc}var _F=Ha;function wF(e,t){return function(n,r){if(n==null)return n;if(!_F(n))return e(n,r);for(var a=n.length,i=t?a:-1,o=Object(n);(t?i--:++i<a)&&r(o[i],i,o)!==!1;);return n}}var SF=wF,CF=Jw,EF=SF,NF=EF(CF),ec=NF,TF=Ai;function IF(e){return typeof e=="function"?e:TF}var CE=IF,RF=Ww,xF=ec,$F=CE,AF=nr;function OF(e,t){var n=AF(e)?RF:xF;return n(e,$F(t))}var tc=OF,zc,Eb;function EE(){return Eb||(Eb=1,zc=tc),zc}var jc,Nb;function kF(){if(Nb)return jc;Nb=1;var e=ec;function t(n,r){var a=[];return e(n,function(i,o,s){r(i,o,s)&&a.push(i)}),a}return jc=t,jc}var Wc,Tb;function NE(){if(Tb)return Wc;Tb=1;var e=BI,t=kF(),n=sa,r=nr;function a(i,o){var s=r(i)?e:t;return s(i,n(o))}return Wc=a,Wc}var Gc,Ib;function PF(){if(Ib)return Gc;Ib=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r,a){return r!=null&&t.call(r,a)}return Gc=n,Gc}var Kc,Rb;function TE(){if(Rb)return Kc;Rb=1;var e=PF(),t=UI;function n(r,a){return r!=null&&t(r,a,e)}return Kc=n,Kc}var Yc,xb;function DF(){if(xb)return Yc;xb=1;var e=Zw,t=eS,n=Qh,r=nr,a=Ha,i=Xh,o=HI,s=Jh,l="[object Map]",c="[object Set]",u=Object.prototype,d=u.hasOwnProperty;function p(m){if(m==null)return!0;if(a(m)&&(r(m)||typeof m=="string"||typeof m.splice=="function"||i(m)||s(m)||n(m)))return!m.length;var h=t(m);if(h==l||h==c)return!m.size;if(o(m))return!e(m).length;for(var g in m)if(d.call(m,g))return!1;return!0}return Yc=p,Yc}var Qc,$b;function IE(){if($b)return Qc;$b=1;function e(t){return t===void 0}return Qc=e,Qc}var VF=ec,LF=Ha;function FF(e,t){var n=-1,r=LF(e)?Array(e.length):[];return VF(e,function(a,i,o){r[++n]=t(a,i,o)}),r}var RE=FF,Xc,Ab;function xE(){if(Ab)return Xc;Ab=1;var e=la,t=sa,n=RE,r=nr;function a(i,o){var s=r(i)?e:n;return s(i,t(o))}return Xc=a,Xc}var Jc,Ob;function qF(){if(Ob)return Jc;Ob=1;function e(t,n,r,a){var i=-1,o=t==null?0:t.length;for(a&&o&&(r=t[++i]);++i<o;)r=n(r,t[i],i,t);return r}return Jc=e,Jc}var Zc,kb;function MF(){if(kb)return Zc;kb=1;function e(t,n,r,a,i){return i(t,function(o,s,l){r=a?(a=!1,o):n(r,o,s,l)}),r}return Zc=e,Zc}var ed,Pb;function $E(){if(Pb)return ed;Pb=1;var e=qF(),t=ec,n=sa,r=MF(),a=nr;function i(o,s,l){var c=a(o)?e:r,u=arguments.length<3;return c(o,n(s),l,u,t)}return ed=i,ed}var td,Db;function BF(){if(Db)return td;Db=1;var e=zI,t=e("length");return td=t,td}var nd,Vb;function UF(){if(Vb)return nd;Vb=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",a=t+n+r,i="\\ufe0e\\ufe0f",o="\\u200d",s=RegExp("["+o+e+a+i+"]");function l(c){return s.test(c)}return nd=l,nd}var rd,Lb;function HF(){if(Lb)return rd;Lb=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",a=t+n+r,i="\\ufe0e\\ufe0f",o="["+e+"]",s="["+a+"]",l="\\ud83c[\\udffb-\\udfff]",c="(?:"+s+"|"+l+")",u="[^"+e+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",m="\\u200d",h=c+"?",g="["+i+"]?",y="(?:"+m+"(?:"+[u,d,p].join("|")+")"+g+h+")*",v=g+h+y,w="(?:"+[u+s+"?",s,d,p,o].join("|")+")",_=RegExp(l+"(?="+l+")|"+w+v,"g");function b(E){for(var S=_.lastIndex=0;_.test(E);)++S;return S}return rd=b,rd}var ad,Fb;function zF(){if(Fb)return ad;Fb=1;var e=BF(),t=UF(),n=HF();function r(a){return t(a)?n(a):e(a)}return ad=r,ad}var id,qb;function jF(){if(qb)return id;qb=1;var e=Zw,t=eS,n=Ha,r=aR,a=zF(),i="[object Map]",o="[object Set]";function s(l){if(l==null)return 0;if(n(l))return r(l)?a(l):l.length;var c=t(l);return c==i||c==o?l.size:e(l).length}return id=s,id}var od,Mb;function WF(){if(Mb)return od;Mb=1;var e=Ww,t=OI,n=Jw,r=sa,a=jI,i=nr,o=Xh,s=Zh,l=ns,c=Jh;function u(d,p,m){var h=i(d),g=h||o(d)||c(d);if(p=r(p),m==null){var y=d&&d.constructor;g?m=h?new y:[]:l(d)?m=s(y)?t(a(d)):{}:m={}}return(g?e:n)(d,function(v,w,_){return p(m,v,w,_)}),m}return od=u,od}var Bb=WI,GF=Qh,KF=nr,Ub=Bb?Bb.isConcatSpreadable:void 0;function YF(e){return KF(e)||GF(e)||!!(Ub&&e&&e[Ub])}var QF=YF,XF=GI,JF=QF;function AE(e,t,n,r,a){var i=-1,o=e.length;for(n||(n=JF),a||(a=[]);++i<o;){var s=e[i];t>0&&n(s)?t>1?AE(s,t-1,n,r,a):XF(a,s):r||(a[a.length]=s)}return a}var nc=AE;function ZF(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var OE=ZF,eq=OE,Hb=Math.max;function tq(e,t,n){return t=Hb(t===void 0?e.length-1:t,0),function(){for(var r=arguments,a=-1,i=Hb(r.length-t,0),o=Array(i);++a<i;)o[a]=r[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=r[a];return s[t]=n(o),eq(e,this,s)}}var kE=tq,nq=Og(),zb=KI,rq=Ai,aq=zb?function(e,t){return zb(e,"toString",{configurable:!0,enumerable:!1,value:nq(t),writable:!0})}:rq,iq=aq,oq=800,sq=16,lq=Date.now;function uq(e){var t=0,n=0;return function(){var r=lq(),a=sq-(r-n);if(n=r,a>0){if(++t>=oq)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var cq=uq,dq=iq,fq=cq,pq=fq(dq),PE=pq,mq=Ai,hq=kE,gq=PE;function yq(e,t){return gq(hq(e,t,mq),e+"")}var ua=yq,vq=Ha,bq=tS;function _q(e){return bq(e)&&vq(e)}var rc=_q,sd,jb;function wq(){if(jb)return sd;jb=1;var e=nc,t=ua,n=Gw,r=rc,a=t(function(i){return n(e(i,1,r,!0))});return sd=a,sd}var ld,Wb;function Sq(){if(Wb)return ld;Wb=1;var e=la;function t(n,r){return e(r,function(a){return n[a]})}return ld=t,ld}var ud,Gb;function DE(){if(Gb)return ud;Gb=1;var e=Sq(),t=eg;function n(r){return r==null?[]:e(r,t(r))}return ud=n,ud}var cd,Kb;function Rn(){if(Kb)return cd;Kb=1;var e;if(typeof Vu=="function")try{e={clone:bF(),constant:Og(),each:EE(),filter:NE(),has:TE(),isArray:nr,isEmpty:DF(),isFunction:Zh,isUndefined:IE(),keys:eg,map:xE(),reduce:$E(),size:jF(),transform:WF(),union:wq(),values:DE()}}catch{}return e||(e=window._),cd=e,cd}var dd,Yb;function kg(){if(Yb)return dd;Yb=1;var e=Rn();dd=a;var t="\0",n="\0",r="";function a(u){this._isDirected=e.has(u,"directed")?u.directed:!0,this._isMultigraph=e.has(u,"multigraph")?u.multigraph:!1,this._isCompound=e.has(u,"compound")?u.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}a.prototype._nodeCount=0,a.prototype._edgeCount=0,a.prototype.isDirected=function(){return this._isDirected},a.prototype.isMultigraph=function(){return this._isMultigraph},a.prototype.isCompound=function(){return this._isCompound},a.prototype.setGraph=function(u){return this._label=u,this},a.prototype.graph=function(){return this._label},a.prototype.setDefaultNodeLabel=function(u){return e.isFunction(u)||(u=e.constant(u)),this._defaultNodeLabelFn=u,this},a.prototype.nodeCount=function(){return this._nodeCount},a.prototype.nodes=function(){return e.keys(this._nodes)},a.prototype.sources=function(){var u=this;return e.filter(this.nodes(),function(d){return e.isEmpty(u._in[d])})},a.prototype.sinks=function(){var u=this;return e.filter(this.nodes(),function(d){return e.isEmpty(u._out[d])})},a.prototype.setNodes=function(u,d){var p=arguments,m=this;return e.each(u,function(h){p.length>1?m.setNode(h,d):m.setNode(h)}),this},a.prototype.setNode=function(u,d){return e.has(this._nodes,u)?(arguments.length>1&&(this._nodes[u]=d),this):(this._nodes[u]=arguments.length>1?d:this._defaultNodeLabelFn(u),this._isCompound&&(this._parent[u]=n,this._children[u]={},this._children[n][u]=!0),this._in[u]={},this._preds[u]={},this._out[u]={},this._sucs[u]={},++this._nodeCount,this)},a.prototype.node=function(u){return this._nodes[u]},a.prototype.hasNode=function(u){return e.has(this._nodes,u)},a.prototype.removeNode=function(u){var d=this;if(e.has(this._nodes,u)){var p=function(m){d.removeEdge(d._edgeObjs[m])};delete this._nodes[u],this._isCompound&&(this._removeFromParentsChildList(u),delete this._parent[u],e.each(this.children(u),function(m){d.setParent(m)}),delete this._children[u]),e.each(e.keys(this._in[u]),p),delete this._in[u],delete this._preds[u],e.each(e.keys(this._out[u]),p),delete this._out[u],delete this._sucs[u],--this._nodeCount}return this},a.prototype.setParent=function(u,d){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(d))d=n;else{d+="";for(var p=d;!e.isUndefined(p);p=this.parent(p))if(p===u)throw new Error("Setting "+d+" as parent of "+u+" would create a cycle");this.setNode(d)}return this.setNode(u),this._removeFromParentsChildList(u),this._parent[u]=d,this._children[d][u]=!0,this},a.prototype._removeFromParentsChildList=function(u){delete this._children[this._parent[u]][u]},a.prototype.parent=function(u){if(this._isCompound){var d=this._parent[u];if(d!==n)return d}},a.prototype.children=function(u){if(e.isUndefined(u)&&(u=n),this._isCompound){var d=this._children[u];if(d)return e.keys(d)}else{if(u===n)return this.nodes();if(this.hasNode(u))return[]}},a.prototype.predecessors=function(u){var d=this._preds[u];if(d)return e.keys(d)},a.prototype.successors=function(u){var d=this._sucs[u];if(d)return e.keys(d)},a.prototype.neighbors=function(u){var d=this.predecessors(u);if(d)return e.union(d,this.successors(u))},a.prototype.isLeaf=function(u){var d;return this.isDirected()?d=this.successors(u):d=this.neighbors(u),d.length===0},a.prototype.filterNodes=function(u){var d=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});d.setGraph(this.graph());var p=this;e.each(this._nodes,function(g,y){u(y)&&d.setNode(y,g)}),e.each(this._edgeObjs,function(g){d.hasNode(g.v)&&d.hasNode(g.w)&&d.setEdge(g,p.edge(g))});var m={};function h(g){var y=p.parent(g);return y===void 0||d.hasNode(y)?(m[g]=y,y):y in m?m[y]:h(y)}return this._isCompound&&e.each(d.nodes(),function(g){d.setParent(g,h(g))}),d},a.prototype.setDefaultEdgeLabel=function(u){return e.isFunction(u)||(u=e.constant(u)),this._defaultEdgeLabelFn=u,this},a.prototype.edgeCount=function(){return this._edgeCount},a.prototype.edges=function(){return e.values(this._edgeObjs)},a.prototype.setPath=function(u,d){var p=this,m=arguments;return e.reduce(u,function(h,g){return m.length>1?p.setEdge(h,g,d):p.setEdge(h,g),g}),this},a.prototype.setEdge=function(){var u,d,p,m,h=!1,g=arguments[0];typeof g=="object"&&g!==null&&"v"in g?(u=g.v,d=g.w,p=g.name,arguments.length===2&&(m=arguments[1],h=!0)):(u=g,d=arguments[1],p=arguments[3],arguments.length>2&&(m=arguments[2],h=!0)),u=""+u,d=""+d,e.isUndefined(p)||(p=""+p);var y=s(this._isDirected,u,d,p);if(e.has(this._edgeLabels,y))return h&&(this._edgeLabels[y]=m),this;if(!e.isUndefined(p)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(u),this.setNode(d),this._edgeLabels[y]=h?m:this._defaultEdgeLabelFn(u,d,p);var v=l(this._isDirected,u,d,p);return u=v.v,d=v.w,Object.freeze(v),this._edgeObjs[y]=v,i(this._preds[d],u),i(this._sucs[u],d),this._in[d][y]=v,this._out[u][y]=v,this._edgeCount++,this},a.prototype.edge=function(u,d,p){var m=arguments.length===1?c(this._isDirected,arguments[0]):s(this._isDirected,u,d,p);return this._edgeLabels[m]},a.prototype.hasEdge=function(u,d,p){var m=arguments.length===1?c(this._isDirected,arguments[0]):s(this._isDirected,u,d,p);return e.has(this._edgeLabels,m)},a.prototype.removeEdge=function(u,d,p){var m=arguments.length===1?c(this._isDirected,arguments[0]):s(this._isDirected,u,d,p),h=this._edgeObjs[m];return h&&(u=h.v,d=h.w,delete this._edgeLabels[m],delete this._edgeObjs[m],o(this._preds[d],u),o(this._sucs[u],d),delete this._in[d][m],delete this._out[u][m],this._edgeCount--),this},a.prototype.inEdges=function(u,d){var p=this._in[u];if(p){var m=e.values(p);return d?e.filter(m,function(h){return h.v===d}):m}},a.prototype.outEdges=function(u,d){var p=this._out[u];if(p){var m=e.values(p);return d?e.filter(m,function(h){return h.w===d}):m}},a.prototype.nodeEdges=function(u,d){var p=this.inEdges(u,d);if(p)return p.concat(this.outEdges(u,d))};function i(u,d){u[d]?u[d]++:u[d]=1}function o(u,d){--u[d]||delete u[d]}function s(u,d,p,m){var h=""+d,g=""+p;if(!u&&h>g){var y=h;h=g,g=y}return h+r+g+r+(e.isUndefined(m)?t:m)}function l(u,d,p,m){var h=""+d,g=""+p;if(!u&&h>g){var y=h;h=g,g=y}var v={v:h,w:g};return m&&(v.name=m),v}function c(u,d){return s(u,d.v,d.w,d.name)}return dd}var fd,Qb;function Cq(){return Qb||(Qb=1,fd="2.1.8"),fd}var pd,Xb;function Eq(){return Xb||(Xb=1,pd={Graph:kg(),version:Cq()}),pd}var md,Jb;function Nq(){if(Jb)return md;Jb=1;var e=Rn(),t=kg();md={write:n,read:i};function n(o){var s={options:{directed:o.isDirected(),multigraph:o.isMultigraph(),compound:o.isCompound()},nodes:r(o),edges:a(o)};return e.isUndefined(o.graph())||(s.value=e.clone(o.graph())),s}function r(o){return e.map(o.nodes(),function(s){var l=o.node(s),c=o.parent(s),u={v:s};return e.isUndefined(l)||(u.value=l),e.isUndefined(c)||(u.parent=c),u})}function a(o){return e.map(o.edges(),function(s){var l=o.edge(s),c={v:s.v,w:s.w};return e.isUndefined(s.name)||(c.name=s.name),e.isUndefined(l)||(c.value=l),c})}function i(o){var s=new t(o.options).setGraph(o.value);return e.each(o.nodes,function(l){s.setNode(l.v,l.value),l.parent&&s.setParent(l.v,l.parent)}),e.each(o.edges,function(l){s.setEdge({v:l.v,w:l.w,name:l.name},l.value)}),s}return md}var hd,Zb;function Tq(){if(Zb)return hd;Zb=1;var e=Rn();hd=t;function t(n){var r={},a=[],i;function o(s){e.has(r,s)||(r[s]=!0,i.push(s),e.each(n.successors(s),o),e.each(n.predecessors(s),o))}return e.each(n.nodes(),function(s){i=[],o(s),i.length&&a.push(i)}),a}return hd}var gd,e0;function VE(){if(e0)return gd;e0=1;var e=Rn();gd=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(n){return n.key})},t.prototype.has=function(n){return e.has(this._keyIndices,n)},t.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(n,r){var a=this._keyIndices;if(n=String(n),!e.has(a,n)){var i=this._arr,o=i.length;return a[n]=o,i.push({key:n,priority:r}),this._decrease(o),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},t.prototype.decrease=function(n,r){var a=this._keyIndices[n];if(r>this._arr[a].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[a].priority+" New: "+r);this._arr[a].priority=r,this._decrease(a)},t.prototype._heapify=function(n){var r=this._arr,a=2*n,i=a+1,o=n;a<r.length&&(o=r[a].priority<r[o].priority?a:o,i<r.length&&(o=r[i].priority<r[o].priority?i:o),o!==n&&(this._swap(n,o),this._heapify(o)))},t.prototype._decrease=function(n){for(var r=this._arr,a=r[n].priority,i;n!==0&&(i=n>>1,!(r[i].priority<a));)this._swap(n,i),n=i},t.prototype._swap=function(n,r){var a=this._arr,i=this._keyIndices,o=a[n],s=a[r];a[n]=s,a[r]=o,i[s.key]=n,i[o.key]=r},gd}var yd,t0;function LE(){if(t0)return yd;t0=1;var e=Rn(),t=VE();yd=r;var n=e.constant(1);function r(i,o,s,l){return a(i,String(o),s||n,l||function(c){return i.outEdges(c)})}function a(i,o,s,l){var c={},u=new t,d,p,m=function(h){var g=h.v!==d?h.v:h.w,y=c[g],v=s(h),w=p.distance+v;if(v<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+h+" Weight: "+v);w<y.distance&&(y.distance=w,y.predecessor=d,u.decrease(g,w))};for(i.nodes().forEach(function(h){var g=h===o?0:Number.POSITIVE_INFINITY;c[h]={distance:g},u.add(h,g)});u.size()>0&&(d=u.removeMin(),p=c[d],p.distance!==Number.POSITIVE_INFINITY);)l(d).forEach(m);return c}return yd}var vd,n0;function Iq(){if(n0)return vd;n0=1;var e=LE(),t=Rn();vd=n;function n(r,a,i){return t.transform(r.nodes(),function(o,s){o[s]=e(r,s,a,i)},{})}return vd}var bd,r0;function FE(){if(r0)return bd;r0=1;var e=Rn();bd=t;function t(n){var r=0,a=[],i={},o=[];function s(l){var c=i[l]={onStack:!0,lowlink:r,index:r++};if(a.push(l),n.successors(l).forEach(function(p){e.has(i,p)?i[p].onStack&&(c.lowlink=Math.min(c.lowlink,i[p].index)):(s(p),c.lowlink=Math.min(c.lowlink,i[p].lowlink))}),c.lowlink===c.index){var u=[],d;do d=a.pop(),i[d].onStack=!1,u.push(d);while(l!==d);o.push(u)}}return n.nodes().forEach(function(l){e.has(i,l)||s(l)}),o}return bd}var _d,a0;function Rq(){if(a0)return _d;a0=1;var e=Rn(),t=FE();_d=n;function n(r){return e.filter(t(r),function(a){return a.length>1||a.length===1&&r.hasEdge(a[0],a[0])})}return _d}var wd,i0;function xq(){if(i0)return wd;i0=1;var e=Rn();wd=n;var t=e.constant(1);function n(a,i,o){return r(a,i||t,o||function(s){return a.outEdges(s)})}function r(a,i,o){var s={},l=a.nodes();return l.forEach(function(c){s[c]={},s[c][c]={distance:0},l.forEach(function(u){c!==u&&(s[c][u]={distance:Number.POSITIVE_INFINITY})}),o(c).forEach(function(u){var d=u.v===c?u.w:u.v,p=i(u);s[c][d]={distance:p,predecessor:c}})}),l.forEach(function(c){var u=s[c];l.forEach(function(d){var p=s[d];l.forEach(function(m){var h=p[c],g=u[m],y=p[m],v=h.distance+g.distance;v<y.distance&&(y.distance=v,y.predecessor=g.predecessor)})})}),s}return wd}var Sd,o0;function qE(){if(o0)return Sd;o0=1;var e=Rn();Sd=t,t.CycleException=n;function t(r){var a={},i={},o=[];function s(l){if(e.has(i,l))throw new n;e.has(a,l)||(i[l]=!0,a[l]=!0,e.each(r.predecessors(l),s),delete i[l],o.push(l))}if(e.each(r.sinks(),s),e.size(a)!==r.nodeCount())throw new n;return o}function n(){}return n.prototype=new Error,Sd}var Cd,s0;function $q(){if(s0)return Cd;s0=1;var e=qE();Cd=t;function t(n){try{e(n)}catch(r){if(r instanceof e.CycleException)return!1;throw r}return!0}return Cd}var Ed,l0;function ME(){if(l0)return Ed;l0=1;var e=Rn();Ed=t;function t(r,a,i){e.isArray(a)||(a=[a]);var o=(r.isDirected()?r.successors:r.neighbors).bind(r),s=[],l={};return e.each(a,function(c){if(!r.hasNode(c))throw new Error("Graph does not have node: "+c);n(r,c,i==="post",l,o,s)}),s}function n(r,a,i,o,s,l){e.has(o,a)||(o[a]=!0,i||l.push(a),e.each(s(a),function(c){n(r,c,i,o,s,l)}),i&&l.push(a))}return Ed}var Nd,u0;function Aq(){if(u0)return Nd;u0=1;var e=ME();Nd=t;function t(n,r){return e(n,r,"post")}return Nd}var Td,c0;function Oq(){if(c0)return Td;c0=1;var e=ME();Td=t;function t(n,r){return e(n,r,"pre")}return Td}var Id,d0;function kq(){if(d0)return Id;d0=1;var e=Rn(),t=kg(),n=VE();Id=r;function r(a,i){var o=new t,s={},l=new n,c;function u(p){var m=p.v===c?p.w:p.v,h=l.priority(m);if(h!==void 0){var g=i(p);g<h&&(s[m]=c,l.decrease(m,g))}}if(a.nodeCount()===0)return o;e.each(a.nodes(),function(p){l.add(p,Number.POSITIVE_INFINITY),o.setNode(p)}),l.decrease(a.nodes()[0],0);for(var d=!1;l.size()>0;){if(c=l.removeMin(),e.has(s,c))o.setEdge(c,s[c]);else{if(d)throw new Error("Input graph is not connected: "+a);d=!0}a.nodeEdges(c).forEach(u)}return o}return Id}var Rd,f0;function Pq(){return f0||(f0=1,Rd={components:Tq(),dijkstra:LE(),dijkstraAll:Iq(),findCycles:Rq(),floydWarshall:xq(),isAcyclic:$q(),postorder:Aq(),preorder:Oq(),prim:kq(),tarjan:FE(),topsort:qE()}),Rd}var xd,p0;function Dq(){if(p0)return xd;p0=1;var e=Eq();return xd={Graph:e.Graph,json:Nq(),alg:Pq(),version:e.version},xd}var Hl;if(typeof Vu=="function")try{Hl=Dq()}catch{}Hl||(Hl=window.graphlib);var Hn=Hl,Vq=tg,Lq=Ha,Fq=YI,qq=ns;function Mq(e,t,n){if(!qq(n))return!1;var r=typeof t;return(r=="number"?Lq(n)&&Fq(t,n.length):r=="string"&&t in n)?Vq(n[t],e):!1}var ac=Mq,Bq=ua,Uq=tg,Hq=ac,zq=Lu,BE=Object.prototype,jq=BE.hasOwnProperty,Wq=Bq(function(e,t){e=Object(e);var n=-1,r=t.length,a=r>2?t[2]:void 0;for(a&&Hq(t[0],t[1],a)&&(r=1);++n<r;)for(var i=t[n],o=zq(i),s=-1,l=o.length;++s<l;){var c=o[s],u=e[c];(u===void 0||Uq(u,BE[c])&&!jq.call(e,c))&&(e[c]=i[c])}return e}),UE=Wq,$d,m0;function Gq(){if(m0)return $d;m0=1;var e=sa,t=Ha,n=eg;function r(a){return function(i,o,s){var l=Object(i);if(!t(i)){var c=e(o);i=n(i),o=function(d){return c(l[d],d,l)}}var u=a(i,o,s);return u>-1?l[c?i[u]:u]:void 0}}return $d=r,$d}var Ad,h0;function HE(){if(h0)return Ad;h0=1;var e=iR,t=1/0,n=17976931348623157e292;function r(a){if(!a)return a===0?a:0;if(a=e(a),a===t||a===-t){var i=a<0?-1:1;return i*n}return a===a?a:0}return Ad=r,Ad}var Od,g0;function Kq(){if(g0)return Od;g0=1;var e=HE();function t(n){var r=e(n),a=r%1;return r===r?a?r-a:r:0}return Od=t,Od}var kd,y0;function Yq(){if(y0)return kd;y0=1;var e=kI,t=sa,n=Kq(),r=Math.max;function a(i,o,s){var l=i==null?0:i.length;if(!l)return-1;var c=s==null?0:n(s);return c<0&&(c=r(l+c,0)),e(i,t(o),c)}return kd=a,kd}var Pd,v0;function Qq(){if(v0)return Pd;v0=1;var e=Gq(),t=Yq(),n=e(t);return Pd=n,Pd}var Xq=nc;function Jq(e){var t=e==null?0:e.length;return t?Xq(e,1):[]}var ic=Jq,Dd,b0;function Zq(){if(b0)return Dd;b0=1;var e=nS,t=CE,n=Lu;function r(a,i){return a==null?a:e(a,t(i),n)}return Dd=r,Dd}function e2(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var zE=e2,Vd,_0;function Pg(){if(_0)return Vd;_0=1;var e=rS;function t(n,r,a){for(var i=-1,o=n.length;++i<o;){var s=n[i],l=r(s);if(l!=null&&(c===void 0?l===l&&!e(l):a(l,c)))var c=l,u=s}return u}return Vd=t,Vd}var Ld,w0;function t2(){if(w0)return Ld;w0=1;function e(t,n){return t>n}return Ld=e,Ld}var Fd,S0;function n2(){if(S0)return Fd;S0=1;var e=Pg(),t=t2(),n=Ai;function r(a){return a&&a.length?e(a,n,t):void 0}return Fd=r,Fd}var r2=QI,a2=tg;function i2(e,t,n){(n!==void 0&&!a2(e[t],n)||n===void 0&&!(t in e))&&r2(e,t,n)}var jE=i2;function o2(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var WE=o2,s2=PI,l2=Lu;function u2(e){return s2(e,l2(e))}var c2=u2,C0=jE,d2=DI,f2=VI,p2=Kw,m2=LI,E0=Qh,N0=nr,h2=rc,g2=Xh,y2=Zh,v2=ns,b2=Mu,_2=Jh,T0=WE,w2=c2;function S2(e,t,n,r,a,i,o){var s=T0(e,n),l=T0(t,n),c=o.get(l);if(c){C0(e,n,c);return}var u=i?i(s,l,n+"",e,t,o):void 0,d=u===void 0;if(d){var p=N0(l),m=!p&&g2(l),h=!p&&!m&&_2(l);u=l,p||m||h?N0(s)?u=s:h2(s)?u=p2(s):m?(d=!1,u=d2(l,!0)):h?(d=!1,u=f2(l,!0)):u=[]:b2(l)||E0(l)?(u=s,E0(s)?u=w2(s):(!v2(s)||y2(s))&&(u=m2(l))):d=!1}d&&(o.set(l,u),a(u,l,r,i,o),o.delete(l)),C0(e,n,u)}var C2=S2,E2=XI,N2=jE,T2=nS,I2=C2,R2=ns,x2=Lu,$2=WE;function GE(e,t,n,r,a){e!==t&&T2(t,function(i,o){if(a||(a=new E2),R2(i))I2(e,t,o,n,GE,r,a);else{var s=r?r($2(e,o),i,o+"",e,t,a):void 0;s===void 0&&(s=i),N2(e,o,s)}},x2)}var Dg=GE,A2=ua,O2=ac;function k2(e){return A2(function(t,n){var r=-1,a=n.length,i=a>1?n[a-1]:void 0,o=a>2?n[2]:void 0;for(i=e.length>3&&typeof i=="function"?(a--,i):void 0,o&&O2(n[0],n[1],o)&&(i=a<3?void 0:i,a=1),t=Object(t);++r<a;){var s=n[r];s&&e(t,s,r,i)}return t})}var KE=k2,qd,I0;function P2(){if(I0)return qd;I0=1;var e=Dg,t=KE,n=t(function(r,a,i){e(r,a,i)});return qd=n,qd}var Md,R0;function YE(){if(R0)return Md;R0=1;function e(t,n){return t<n}return Md=e,Md}var Bd,x0;function D2(){if(x0)return Bd;x0=1;var e=Pg(),t=YE(),n=Ai;function r(a){return a&&a.length?e(a,n,t):void 0}return Bd=r,Bd}var Ud,$0;function V2(){if($0)return Ud;$0=1;var e=Pg(),t=sa,n=YE();function r(a,i){return a&&a.length?e(a,t(i),n):void 0}return Ud=r,Ud}var Hd,A0;function L2(){if(A0)return Hd;A0=1;var e=FI,t=JI;function n(r,a){return e(r,a,function(i,o){return t(r,o)})}return Hd=n,Hd}var zd,O0;function F2(){if(O0)return zd;O0=1;var e=ic,t=kE,n=PE;function r(a){return n(t(a,void 0,e),a+"")}return zd=r,zd}var jd,k0;function q2(){if(k0)return jd;k0=1;var e=L2(),t=F2(),n=t(function(r,a){return r==null?{}:e(r,a)});return jd=n,jd}var Wd,P0;function M2(){if(P0)return Wd;P0=1;var e=Math.ceil,t=Math.max;function n(r,a,i,o){for(var s=-1,l=t(e((a-r)/(i||1)),0),c=Array(l);l--;)c[o?l:++s]=r,r+=i;return c}return Wd=n,Wd}var Gd,D0;function B2(){if(D0)return Gd;D0=1;var e=M2(),t=ac,n=HE();function r(a){return function(i,o,s){return s&&typeof s!="number"&&t(i,o,s)&&(o=s=void 0),i=n(i),o===void 0?(o=i,i=0):o=n(o),s=s===void 0?i<o?1:-1:n(s),e(i,o,s,a)}}return Gd=r,Gd}var Kd,V0;function U2(){if(V0)return Kd;V0=1;var e=B2(),t=e();return Kd=t,Kd}function H2(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var z2=H2,L0=rS;function j2(e,t){if(e!==t){var n=e!==void 0,r=e===null,a=e===e,i=L0(e),o=t!==void 0,s=t===null,l=t===t,c=L0(t);if(!s&&!c&&!i&&e>t||i&&o&&l&&!s&&!c||r&&o&&l||!n&&l||!a)return 1;if(!r&&!i&&!c&&e<t||c&&n&&a&&!r&&!i||s&&n&&a||!o&&a||!l)return-1}return 0}var W2=j2,G2=W2;function K2(e,t,n){for(var r=-1,a=e.criteria,i=t.criteria,o=a.length,s=n.length;++r<o;){var l=G2(a[r],i[r]);if(l){if(r>=s)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return e.index-t.index}var Y2=K2,Yd=la,Q2=ZI,X2=sa,J2=RE,Z2=z2,eM=qu,tM=Y2,nM=Ai,rM=nr;function aM(e,t,n){t.length?t=Yd(t,function(i){return rM(i)?function(o){return Q2(o,i.length===1?i[0]:i)}:i}):t=[nM];var r=-1;t=Yd(t,eM(X2));var a=J2(e,function(i,o,s){var l=Yd(t,function(c){return c(i)});return{criteria:l,index:++r,value:i}});return Z2(a,function(i,o){return tM(i,o,n)})}var iM=aM,oM=nc,sM=iM,lM=ua,F0=ac,uM=lM(function(e,t){if(e==null)return[];var n=t.length;return n>1&&F0(e,t[0],t[1])?t=[]:n>2&&F0(t[0],t[1],t[2])&&(t=[t[0]]),sM(e,oM(t,1),[])}),Vg=uM,Qd,q0;function cM(){if(q0)return Qd;q0=1;var e=eR,t=0;function n(r){var a=++t;return e(r)+a}return Qd=n,Qd}var Xd,M0;function dM(){if(M0)return Xd;M0=1;function e(t,n,r){for(var a=-1,i=t.length,o=n.length,s={};++a<i;){var l=a<o?n[a]:void 0;r(s,t[a],l)}return s}return Xd=e,Xd}var Jd,B0;function fM(){if(B0)return Jd;B0=1;var e=qI,t=dM();function n(r,a){return t(r||[],a||[],e)}return Jd=n,Jd}var zl;if(typeof Vu=="function")try{zl={cloneDeep:Yw,constant:Og(),defaults:UE,each:EE(),filter:NE(),find:Qq(),flatten:ic,forEach:tc,forIn:Zq(),has:TE(),isUndefined:IE(),last:zE,map:xE(),mapValues:tR,max:n2(),merge:P2(),min:D2(),minBy:V2(),now:oR,pick:q2(),range:U2(),reduce:$E(),sortBy:Vg,uniqueId:cM(),values:DE(),zipObject:fM()}}catch{}zl||(zl=window._);var pt=zl,pM=oc;function oc(){var e={};e._next=e._prev=e,this._sentinel=e}oc.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return QE(t),t};oc.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&QE(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t};oc.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,mM)),n=n._prev;return"["+e.join(", ")+"]"};function QE(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function mM(e,t){if(e!=="_next"&&e!=="_prev")return t}var mr=pt,hM=Hn.Graph,gM=pM,yM=bM,vM=mr.constant(1);function bM(e,t){if(e.nodeCount()<=1)return[];var n=wM(e,t||vM),r=_M(n.graph,n.buckets,n.zeroIdx);return mr.flatten(mr.map(r,function(a){return e.outEdges(a.v,a.w)}),!0)}function _M(e,t,n){for(var r=[],a=t[t.length-1],i=t[0],o;e.nodeCount();){for(;o=i.dequeue();)Zd(e,t,n,o);for(;o=a.dequeue();)Zd(e,t,n,o);if(e.nodeCount()){for(var s=t.length-2;s>0;--s)if(o=t[s].dequeue(),o){r=r.concat(Zd(e,t,n,o,!0));break}}}return r}function Zd(e,t,n,r,a){var i=a?[]:void 0;return mr.forEach(e.inEdges(r.v),function(o){var s=e.edge(o),l=e.node(o.v);a&&i.push({v:o.v,w:o.w}),l.out-=s,_p(t,n,l)}),mr.forEach(e.outEdges(r.v),function(o){var s=e.edge(o),l=o.w,c=e.node(l);c.in-=s,_p(t,n,c)}),e.removeNode(r.v),i}function wM(e,t){var n=new hM,r=0,a=0;mr.forEach(e.nodes(),function(s){n.setNode(s,{v:s,in:0,out:0})}),mr.forEach(e.edges(),function(s){var l=n.edge(s.v,s.w)||0,c=t(s),u=l+c;n.setEdge(s.v,s.w,u),a=Math.max(a,n.node(s.v).out+=c),r=Math.max(r,n.node(s.w).in+=c)});var i=mr.range(a+r+3).map(function(){return new gM}),o=r+1;return mr.forEach(n.nodes(),function(s){_p(i,o,n.node(s))}),{graph:n,buckets:i,zeroIdx:o}}function _p(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var Na=pt,SM=yM,CM={run:EM,undo:TM};function EM(e){var t=e.graph().acyclicer==="greedy"?SM(e,n(e)):NM(e);Na.forEach(t,function(r){var a=e.edge(r);e.removeEdge(r),a.forwardName=r.name,a.reversed=!0,e.setEdge(r.w,r.v,a,Na.uniqueId("rev"))});function n(r){return function(a){return r.edge(a).weight}}}function NM(e){var t=[],n={},r={};function a(i){Na.has(r,i)||(r[i]=!0,n[i]=!0,Na.forEach(e.outEdges(i),function(o){Na.has(n,o.w)?t.push(o):a(o.w)}),delete n[i])}return Na.forEach(e.nodes(),a),t}function TM(e){Na.forEach(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}var Xe=pt,XE=Hn.Graph,on={addDummyNode:JE,simplify:IM,asNonCompoundGraph:RM,successorWeights:xM,predecessorWeights:$M,intersectRect:AM,buildLayerMatrix:OM,normalizeRanks:kM,removeEmptyRanks:PM,addBorderNode:DM,maxRank:ZE,partition:VM,time:LM,notime:FM};function JE(e,t,n,r){var a;do a=Xe.uniqueId(r);while(e.hasNode(a));return n.dummy=t,e.setNode(a,n),a}function IM(e){var t=new XE().setGraph(e.graph());return Xe.forEach(e.nodes(),function(n){t.setNode(n,e.node(n))}),Xe.forEach(e.edges(),function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},a=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+a.weight,minlen:Math.max(r.minlen,a.minlen)})}),t}function RM(e){var t=new XE({multigraph:e.isMultigraph()}).setGraph(e.graph());return Xe.forEach(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),Xe.forEach(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t}function xM(e){var t=Xe.map(e.nodes(),function(n){var r={};return Xe.forEach(e.outEdges(n),function(a){r[a.w]=(r[a.w]||0)+e.edge(a).weight}),r});return Xe.zipObject(e.nodes(),t)}function $M(e){var t=Xe.map(e.nodes(),function(n){var r={};return Xe.forEach(e.inEdges(n),function(a){r[a.v]=(r[a.v]||0)+e.edge(a).weight}),r});return Xe.zipObject(e.nodes(),t)}function AM(e,t){var n=e.x,r=e.y,a=t.x-n,i=t.y-r,o=e.width/2,s=e.height/2;if(!a&&!i)throw new Error("Not possible to find intersection inside of the rectangle");var l,c;return Math.abs(i)*o>Math.abs(a)*s?(i<0&&(s=-s),l=s*a/i,c=s):(a<0&&(o=-o),l=o,c=o*i/a),{x:n+l,y:r+c}}function OM(e){var t=Xe.map(Xe.range(ZE(e)+1),function(){return[]});return Xe.forEach(e.nodes(),function(n){var r=e.node(n),a=r.rank;Xe.isUndefined(a)||(t[a][r.order]=n)}),t}function kM(e){var t=Xe.min(Xe.map(e.nodes(),function(n){return e.node(n).rank}));Xe.forEach(e.nodes(),function(n){var r=e.node(n);Xe.has(r,"rank")&&(r.rank-=t)})}function PM(e){var t=Xe.min(Xe.map(e.nodes(),function(i){return e.node(i).rank})),n=[];Xe.forEach(e.nodes(),function(i){var o=e.node(i).rank-t;n[o]||(n[o]=[]),n[o].push(i)});var r=0,a=e.graph().nodeRankFactor;Xe.forEach(n,function(i,o){Xe.isUndefined(i)&&o%a!==0?--r:r&&Xe.forEach(i,function(s){e.node(s).rank+=r})})}function DM(e,t,n,r){var a={width:0,height:0};return arguments.length>=4&&(a.rank=n,a.order=r),JE(e,"border",a,t)}function ZE(e){return Xe.max(Xe.map(e.nodes(),function(t){var n=e.node(t).rank;if(!Xe.isUndefined(n))return n}))}function VM(e,t){var n={lhs:[],rhs:[]};return Xe.forEach(e,function(r){t(r)?n.lhs.push(r):n.rhs.push(r)}),n}function LM(e,t){var n=Xe.now();try{return t()}finally{console.log(e+" time: "+(Xe.now()-n)+"ms")}}function FM(e,t){return t()}var e1=pt,qM=on,MM={run:BM,undo:HM};function BM(e){e.graph().dummyChains=[],e1.forEach(e.edges(),function(t){UM(e,t)})}function UM(e,t){var n=t.v,r=e.node(n).rank,a=t.w,i=e.node(a).rank,o=t.name,s=e.edge(t),l=s.labelRank;if(i!==r+1){e.removeEdge(t);var c,u,d;for(d=0,++r;r<i;++d,++r)s.points=[],u={width:0,height:0,edgeLabel:s,edgeObj:t,rank:r},c=qM.addDummyNode(e,"edge",u,"_d"),r===l&&(u.width=s.width,u.height=s.height,u.dummy="edge-label",u.labelpos=s.labelpos),e.setEdge(n,c,{weight:s.weight},o),d===0&&e.graph().dummyChains.push(c),n=c;e.setEdge(n,a,{weight:s.weight},o)}}function HM(e){e1.forEach(e.graph().dummyChains,function(t){var n=e.node(t),r=n.edgeLabel,a;for(e.setEdge(n.edgeObj,r);n.dummy;)a=e.successors(t)[0],e.removeNode(t),r.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),t=a,n=e.node(t)})}var qs=pt,sc={longestPath:zM,slack:jM};function zM(e){var t={};function n(r){var a=e.node(r);if(qs.has(t,r))return a.rank;t[r]=!0;var i=qs.min(qs.map(e.outEdges(r),function(o){return n(o.w)-e.edge(o).minlen}));return(i===Number.POSITIVE_INFINITY||i===void 0||i===null)&&(i=0),a.rank=i}qs.forEach(e.sources(),n)}function jM(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var jl=pt,WM=Hn.Graph,Wl=sc.slack,t1=GM;function GM(e){var t=new WM({directed:!1}),n=e.nodes()[0],r=e.nodeCount();t.setNode(n,{});for(var a,i;KM(t,e)<r;)a=YM(t,e),i=t.hasNode(a.v)?Wl(e,a):-Wl(e,a),QM(t,e,i);return t}function KM(e,t){function n(r){jl.forEach(t.nodeEdges(r),function(a){var i=a.v,o=r===i?a.w:i;!e.hasNode(o)&&!Wl(t,a)&&(e.setNode(o,{}),e.setEdge(r,o,{}),n(o))})}return jl.forEach(e.nodes(),n),e.nodeCount()}function YM(e,t){return jl.minBy(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return Wl(t,n)})}function QM(e,t,n){jl.forEach(e.nodes(),function(r){t.node(r).rank+=n})}var Sr=pt,XM=t1,JM=sc.slack,ZM=sc.longestPath,e5=Hn.alg.preorder,t5=Hn.alg.postorder,n5=on.simplify,r5=ja;ja.initLowLimValues=Fg;ja.initCutValues=Lg;ja.calcCutValue=n1;ja.leaveEdge=a1;ja.enterEdge=i1;ja.exchangeEdges=o1;function ja(e){e=n5(e),ZM(e);var t=XM(e);Fg(t),Lg(t,e);for(var n,r;n=a1(t);)r=i1(t,e,n),o1(t,e,n,r)}function Lg(e,t){var n=t5(e,e.nodes());n=n.slice(0,n.length-1),Sr.forEach(n,function(r){a5(e,t,r)})}function a5(e,t,n){var r=e.node(n),a=r.parent;e.edge(n,a).cutvalue=n1(e,t,n)}function n1(e,t,n){var r=e.node(n),a=r.parent,i=!0,o=t.edge(n,a),s=0;return o||(i=!1,o=t.edge(a,n)),s=o.weight,Sr.forEach(t.nodeEdges(n),function(l){var c=l.v===n,u=c?l.w:l.v;if(u!==a){var d=c===i,p=t.edge(l).weight;if(s+=d?p:-p,o5(e,n,u)){var m=e.edge(n,u).cutvalue;s+=d?-m:m}}}),s}function Fg(e,t){arguments.length<2&&(t=e.nodes()[0]),r1(e,{},1,t)}function r1(e,t,n,r,a){var i=n,o=e.node(r);return t[r]=!0,Sr.forEach(e.neighbors(r),function(s){Sr.has(t,s)||(n=r1(e,t,n,s,r))}),o.low=i,o.lim=n++,a?o.parent=a:delete o.parent,n}function a1(e){return Sr.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function i1(e,t,n){var r=n.v,a=n.w;t.hasEdge(r,a)||(r=n.w,a=n.v);var i=e.node(r),o=e.node(a),s=i,l=!1;i.lim>o.lim&&(s=o,l=!0);var c=Sr.filter(t.edges(),function(u){return l===U0(e,e.node(u.v),s)&&l!==U0(e,e.node(u.w),s)});return Sr.minBy(c,function(u){return JM(t,u)})}function o1(e,t,n,r){var a=n.v,i=n.w;e.removeEdge(a,i),e.setEdge(r.v,r.w,{}),Fg(e),Lg(e,t),i5(e,t)}function i5(e,t){var n=Sr.find(e.nodes(),function(a){return!t.node(a).parent}),r=e5(e,n);r=r.slice(1),Sr.forEach(r,function(a){var i=e.node(a).parent,o=t.edge(a,i),s=!1;o||(o=t.edge(i,a),s=!0),t.node(a).rank=t.node(i).rank+(s?o.minlen:-o.minlen)})}function o5(e,t,n){return e.hasEdge(t,n)}function U0(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}var s5=sc,s1=s5.longestPath,l5=t1,u5=r5,c5=d5;function d5(e){switch(e.graph().ranker){case"network-simplex":H0(e);break;case"tight-tree":p5(e);break;case"longest-path":f5(e);break;default:H0(e)}}var f5=s1;function p5(e){s1(e),l5(e)}function H0(e){u5(e)}var wp=pt,m5=h5;function h5(e){var t=y5(e);wp.forEach(e.graph().dummyChains,function(n){for(var r=e.node(n),a=r.edgeObj,i=g5(e,t,a.v,a.w),o=i.path,s=i.lca,l=0,c=o[l],u=!0;n!==a.w;){if(r=e.node(n),u){for(;(c=o[l])!==s&&e.node(c).maxRank<r.rank;)l++;c===s&&(u=!1)}if(!u){for(;l<o.length-1&&e.node(c=o[l+1]).minRank<=r.rank;)l++;c=o[l]}e.setParent(n,c),n=e.successors(n)[0]}})}function g5(e,t,n,r){var a=[],i=[],o=Math.min(t[n].low,t[r].low),s=Math.max(t[n].lim,t[r].lim),l,c;l=n;do l=e.parent(l),a.push(l);while(l&&(t[l].low>o||s>t[l].lim));for(c=l,l=r;(l=e.parent(l))!==c;)i.push(l);return{path:a.concat(i.reverse()),lca:c}}function y5(e){var t={},n=0;function r(a){var i=n;wp.forEach(e.children(a),r),t[a]={low:i,lim:n++}}return wp.forEach(e.children(),r),t}var hr=pt,Sp=on,v5={run:b5,cleanup:S5};function b5(e){var t=Sp.addDummyNode(e,"root",{},"_root"),n=_5(e),r=hr.max(hr.values(n))-1,a=2*r+1;e.graph().nestingRoot=t,hr.forEach(e.edges(),function(o){e.edge(o).minlen*=a});var i=w5(e)+1;hr.forEach(e.children(),function(o){l1(e,t,a,i,r,n,o)}),e.graph().nodeRankFactor=a}function l1(e,t,n,r,a,i,o){var s=e.children(o);if(!s.length){o!==t&&e.setEdge(t,o,{weight:0,minlen:n});return}var l=Sp.addBorderNode(e,"_bt"),c=Sp.addBorderNode(e,"_bb"),u=e.node(o);e.setParent(l,o),u.borderTop=l,e.setParent(c,o),u.borderBottom=c,hr.forEach(s,function(d){l1(e,t,n,r,a,i,d);var p=e.node(d),m=p.borderTop?p.borderTop:d,h=p.borderBottom?p.borderBottom:d,g=p.borderTop?r:2*r,y=m!==h?1:a-i[o]+1;e.setEdge(l,m,{weight:g,minlen:y,nestingEdge:!0}),e.setEdge(h,c,{weight:g,minlen:y,nestingEdge:!0})}),e.parent(o)||e.setEdge(t,l,{weight:0,minlen:a+i[o]})}function _5(e){var t={};function n(r,a){var i=e.children(r);i&&i.length&&hr.forEach(i,function(o){n(o,a+1)}),t[r]=a}return hr.forEach(e.children(),function(r){n(r,1)}),t}function w5(e){return hr.reduce(e.edges(),function(t,n){return t+e.edge(n).weight},0)}function S5(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,hr.forEach(e.edges(),function(n){var r=e.edge(n);r.nestingEdge&&e.removeEdge(n)})}var ef=pt,C5=on,E5=N5;function N5(e){function t(n){var r=e.children(n),a=e.node(n);if(r.length&&ef.forEach(r,t),ef.has(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(var i=a.minRank,o=a.maxRank+1;i<o;++i)z0(e,"borderLeft","_bl",n,a,i),z0(e,"borderRight","_br",n,a,i)}}ef.forEach(e.children(),t)}function z0(e,t,n,r,a,i){var o={width:0,height:0,rank:i,borderType:t},s=a[t][i-1],l=C5.addDummyNode(e,"border",o,n);a[t][i]=l,e.setParent(l,r),s&&e.setEdge(s,l,{weight:1})}var Kn=pt,T5={adjust:I5,undo:R5};function I5(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&u1(e)}function R5(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&x5(e),(t==="lr"||t==="rl")&&($5(e),u1(e))}function u1(e){Kn.forEach(e.nodes(),function(t){j0(e.node(t))}),Kn.forEach(e.edges(),function(t){j0(e.edge(t))})}function j0(e){var t=e.width;e.width=e.height,e.height=t}function x5(e){Kn.forEach(e.nodes(),function(t){tf(e.node(t))}),Kn.forEach(e.edges(),function(t){var n=e.edge(t);Kn.forEach(n.points,tf),Kn.has(n,"y")&&tf(n)})}function tf(e){e.y=-e.y}function $5(e){Kn.forEach(e.nodes(),function(t){nf(e.node(t))}),Kn.forEach(e.edges(),function(t){var n=e.edge(t);Kn.forEach(n.points,nf),Kn.has(n,"x")&&nf(n)})}function nf(e){var t=e.x;e.x=e.y,e.y=t}var lr=pt,A5=O5;function O5(e){var t={},n=lr.filter(e.nodes(),function(s){return!e.children(s).length}),r=lr.max(lr.map(n,function(s){return e.node(s).rank})),a=lr.map(lr.range(r+1),function(){return[]});function i(s){if(!lr.has(t,s)){t[s]=!0;var l=e.node(s);a[l.rank].push(s),lr.forEach(e.successors(s),i)}}var o=lr.sortBy(n,function(s){return e.node(s).rank});return lr.forEach(o,i),a}var Pr=pt,k5=P5;function P5(e,t){for(var n=0,r=1;r<t.length;++r)n+=D5(e,t[r-1],t[r]);return n}function D5(e,t,n){for(var r=Pr.zipObject(n,Pr.map(n,function(c,u){return u})),a=Pr.flatten(Pr.map(t,function(c){return Pr.sortBy(Pr.map(e.outEdges(c),function(u){return{pos:r[u.w],weight:e.edge(u).weight}}),"pos")}),!0),i=1;i<n.length;)i<<=1;var o=2*i-1;i-=1;var s=Pr.map(new Array(o),function(){return 0}),l=0;return Pr.forEach(a.forEach(function(c){var u=c.pos+i;s[u]+=c.weight;for(var d=0;u>0;)u%2&&(d+=s[u+1]),u=u-1>>1,s[u]+=c.weight;l+=c.weight*d})),l}var W0=pt,V5=L5;function L5(e,t){return W0.map(t,function(n){var r=e.inEdges(n);if(r.length){var a=W0.reduce(r,function(i,o){var s=e.edge(o),l=e.node(o.v);return{sum:i.sum+s.weight*l.order,weight:i.weight+s.weight}},{sum:0,weight:0});return{v:n,barycenter:a.sum/a.weight,weight:a.weight}}else return{v:n}})}var fn=pt,F5=q5;function q5(e,t){var n={};fn.forEach(e,function(a,i){var o=n[a.v]={indegree:0,in:[],out:[],vs:[a.v],i};fn.isUndefined(a.barycenter)||(o.barycenter=a.barycenter,o.weight=a.weight)}),fn.forEach(t.edges(),function(a){var i=n[a.v],o=n[a.w];!fn.isUndefined(i)&&!fn.isUndefined(o)&&(o.indegree++,i.out.push(n[a.w]))});var r=fn.filter(n,function(a){return!a.indegree});return M5(r)}function M5(e){var t=[];function n(i){return function(o){o.merged||(fn.isUndefined(o.barycenter)||fn.isUndefined(i.barycenter)||o.barycenter>=i.barycenter)&&B5(i,o)}}function r(i){return function(o){o.in.push(i),--o.indegree===0&&e.push(o)}}for(;e.length;){var a=e.pop();t.push(a),fn.forEach(a.in.reverse(),n(a)),fn.forEach(a.out,r(a))}return fn.map(fn.filter(t,function(i){return!i.merged}),function(i){return fn.pick(i,["vs","i","barycenter","weight"])})}function B5(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}var io=pt,U5=on,H5=z5;function z5(e,t){var n=U5.partition(e,function(u){return io.has(u,"barycenter")}),r=n.lhs,a=io.sortBy(n.rhs,function(u){return-u.i}),i=[],o=0,s=0,l=0;r.sort(j5(!!t)),l=G0(i,a,l),io.forEach(r,function(u){l+=u.vs.length,i.push(u.vs),o+=u.barycenter*u.weight,s+=u.weight,l=G0(i,a,l)});var c={vs:io.flatten(i,!0)};return s&&(c.barycenter=o/s,c.weight=s),c}function G0(e,t,n){for(var r;t.length&&(r=io.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}function j5(e){return function(t,n){return t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}}var Hr=pt,W5=V5,G5=F5,K5=H5,Y5=c1;function c1(e,t,n,r){var a=e.children(t),i=e.node(t),o=i?i.borderLeft:void 0,s=i?i.borderRight:void 0,l={};o&&(a=Hr.filter(a,function(h){return h!==o&&h!==s}));var c=W5(e,a);Hr.forEach(c,function(h){if(e.children(h.v).length){var g=c1(e,h.v,n,r);l[h.v]=g,Hr.has(g,"barycenter")&&X5(h,g)}});var u=G5(c,n);Q5(u,l);var d=K5(u,r);if(o&&(d.vs=Hr.flatten([o,d.vs,s],!0),e.predecessors(o).length)){var p=e.node(e.predecessors(o)[0]),m=e.node(e.predecessors(s)[0]);Hr.has(d,"barycenter")||(d.barycenter=0,d.weight=0),d.barycenter=(d.barycenter*d.weight+p.order+m.order)/(d.weight+2),d.weight+=2}return d}function Q5(e,t){Hr.forEach(e,function(n){n.vs=Hr.flatten(n.vs.map(function(r){return t[r]?t[r].vs:r}),!0)})}function X5(e,t){Hr.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var oo=pt,J5=Hn.Graph,Z5=eB;function eB(e,t,n){var r=tB(e),a=new J5({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(i){return e.node(i)});return oo.forEach(e.nodes(),function(i){var o=e.node(i),s=e.parent(i);(o.rank===t||o.minRank<=t&&t<=o.maxRank)&&(a.setNode(i),a.setParent(i,s||r),oo.forEach(e[n](i),function(l){var c=l.v===i?l.w:l.v,u=a.edge(c,i),d=oo.isUndefined(u)?0:u.weight;a.setEdge(c,i,{weight:e.edge(l).weight+d})}),oo.has(o,"minRank")&&a.setNode(i,{borderLeft:o.borderLeft[t],borderRight:o.borderRight[t]}))}),a}function tB(e){for(var t;e.hasNode(t=oo.uniqueId("_root")););return t}var nB=pt,rB=aB;function aB(e,t,n){var r={},a;nB.forEach(n,function(i){for(var o=e.parent(i),s,l;o;){if(s=e.parent(o),s?(l=r[s],r[s]=o):(l=a,a=o),l&&l!==o){t.setEdge(l,o);return}o=s}})}var Qr=pt,iB=A5,oB=k5,sB=Y5,lB=Z5,uB=rB,cB=Hn.Graph,K0=on,dB=fB;function fB(e){var t=K0.maxRank(e),n=Y0(e,Qr.range(1,t+1),"inEdges"),r=Y0(e,Qr.range(t-1,-1,-1),"outEdges"),a=iB(e);Q0(e,a);for(var i=Number.POSITIVE_INFINITY,o,s=0,l=0;l<4;++s,++l){pB(s%2?n:r,s%4>=2),a=K0.buildLayerMatrix(e);var c=oB(e,a);c<i&&(l=0,o=Qr.cloneDeep(a),i=c)}Q0(e,o)}function Y0(e,t,n){return Qr.map(t,function(r){return lB(e,r,n)})}function pB(e,t){var n=new cB;Qr.forEach(e,function(r){var a=r.graph().root,i=sB(r,a,n,t);Qr.forEach(i.vs,function(o,s){r.node(o).order=s}),uB(r,n,i.vs)})}function Q0(e,t){Qr.forEach(t,function(n){Qr.forEach(n,function(r,a){e.node(r).order=a})})}var Oe=pt,mB=Hn.Graph,hB=on,gB={positionX:bB,findType1Conflicts:d1,findType2Conflicts:f1,addConflict:qg,hasConflict:p1,verticalAlignment:m1,horizontalCompaction:h1,alignCoordinates:y1,findSmallestWidthAlignment:g1,balance:v1};function d1(e,t){var n={};function r(a,i){var o=0,s=0,l=a.length,c=Oe.last(i);return Oe.forEach(i,function(u,d){var p=yB(e,u),m=p?e.node(p).order:l;(p||u===c)&&(Oe.forEach(i.slice(s,d+1),function(h){Oe.forEach(e.predecessors(h),function(g){var y=e.node(g),v=y.order;(v<o||m<v)&&!(y.dummy&&e.node(h).dummy)&&qg(n,g,h)})}),s=d+1,o=m)}),i}return Oe.reduce(t,r),n}function f1(e,t){var n={};function r(i,o,s,l,c){var u;Oe.forEach(Oe.range(o,s),function(d){u=i[d],e.node(u).dummy&&Oe.forEach(e.predecessors(u),function(p){var m=e.node(p);m.dummy&&(m.order<l||m.order>c)&&qg(n,p,u)})})}function a(i,o){var s=-1,l,c=0;return Oe.forEach(o,function(u,d){if(e.node(u).dummy==="border"){var p=e.predecessors(u);p.length&&(l=e.node(p[0]).order,r(o,c,d,s,l),c=d,s=l)}r(o,c,o.length,l,i.length)}),o}return Oe.reduce(t,a),n}function yB(e,t){if(e.node(t).dummy)return Oe.find(e.predecessors(t),function(n){return e.node(n).dummy})}function qg(e,t,n){if(t>n){var r=t;t=n,n=r}var a=e[t];a||(e[t]=a={}),a[n]=!0}function p1(e,t,n){if(t>n){var r=t;t=n,n=r}return Oe.has(e[t],n)}function m1(e,t,n,r){var a={},i={},o={};return Oe.forEach(t,function(s){Oe.forEach(s,function(l,c){a[l]=l,i[l]=l,o[l]=c})}),Oe.forEach(t,function(s){var l=-1;Oe.forEach(s,function(c){var u=r(c);if(u.length){u=Oe.sortBy(u,function(g){return o[g]});for(var d=(u.length-1)/2,p=Math.floor(d),m=Math.ceil(d);p<=m;++p){var h=u[p];i[c]===c&&l<o[h]&&!p1(n,c,h)&&(i[h]=c,i[c]=a[c]=a[h],l=o[h])}}})}),{root:a,align:i}}function h1(e,t,n,r,a){var i={},o=vB(e,t,n,a),s=a?"borderLeft":"borderRight";function l(d,p){for(var m=o.nodes(),h=m.pop(),g={};h;)g[h]?d(h):(g[h]=!0,m.push(h),m=m.concat(p(h))),h=m.pop()}function c(d){i[d]=o.inEdges(d).reduce(function(p,m){return Math.max(p,i[m.v]+o.edge(m))},0)}function u(d){var p=o.outEdges(d).reduce(function(h,g){return Math.min(h,i[g.w]-o.edge(g))},Number.POSITIVE_INFINITY),m=e.node(d);p!==Number.POSITIVE_INFINITY&&m.borderType!==s&&(i[d]=Math.max(i[d],p))}return l(c,o.predecessors.bind(o)),l(u,o.successors.bind(o)),Oe.forEach(r,function(d){i[d]=i[n[d]]}),i}function vB(e,t,n,r){var a=new mB,i=e.graph(),o=_B(i.nodesep,i.edgesep,r);return Oe.forEach(t,function(s){var l;Oe.forEach(s,function(c){var u=n[c];if(a.setNode(u),l){var d=n[l],p=a.edge(d,u);a.setEdge(d,u,Math.max(o(e,c,l),p||0))}l=c})}),a}function g1(e,t){return Oe.minBy(Oe.values(t),function(n){var r=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY;return Oe.forIn(n,function(i,o){var s=wB(e,o)/2;r=Math.max(i+s,r),a=Math.min(i-s,a)}),r-a})}function y1(e,t){var n=Oe.values(t),r=Oe.min(n),a=Oe.max(n);Oe.forEach(["u","d"],function(i){Oe.forEach(["l","r"],function(o){var s=i+o,l=e[s],c;if(l!==t){var u=Oe.values(l);c=o==="l"?r-Oe.min(u):a-Oe.max(u),c&&(e[s]=Oe.mapValues(l,function(d){return d+c}))}})})}function v1(e,t){return Oe.mapValues(e.ul,function(n,r){if(t)return e[t.toLowerCase()][r];var a=Oe.sortBy(Oe.map(e,r));return(a[1]+a[2])/2})}function bB(e){var t=hB.buildLayerMatrix(e),n=Oe.merge(d1(e,t),f1(e,t)),r={},a;Oe.forEach(["u","d"],function(o){a=o==="u"?t:Oe.values(t).reverse(),Oe.forEach(["l","r"],function(s){s==="r"&&(a=Oe.map(a,function(d){return Oe.values(d).reverse()}));var l=(o==="u"?e.predecessors:e.successors).bind(e),c=m1(e,a,n,l),u=h1(e,a,c.root,c.align,s==="r");s==="r"&&(u=Oe.mapValues(u,function(d){return-d})),r[o+s]=u})});var i=g1(e,r);return y1(r,i),v1(r,e.graph().align)}function _B(e,t,n){return function(r,a,i){var o=r.node(a),s=r.node(i),l=0,c;if(l+=o.width/2,Oe.has(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":c=-o.width/2;break;case"r":c=o.width/2;break}if(c&&(l+=n?c:-c),c=0,l+=(o.dummy?t:e)/2,l+=(s.dummy?t:e)/2,l+=s.width/2,Oe.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":c=s.width/2;break;case"r":c=-s.width/2;break}return c&&(l+=n?c:-c),c=0,l}}function wB(e,t){return e.node(t).width}var so=pt,b1=on,SB=gB.positionX,CB=EB;function EB(e){e=b1.asNonCompoundGraph(e),NB(e),so.forEach(SB(e),function(t,n){e.node(n).x=t})}function NB(e){var t=b1.buildLayerMatrix(e),n=e.graph().ranksep,r=0;so.forEach(t,function(a){var i=so.max(so.map(a,function(o){return e.node(o).height}));so.forEach(a,function(o){e.node(o).y=r+i/2}),r+=i+n})}var Ue=pt,X0=CM,J0=MM,TB=c5,IB=on.normalizeRanks,RB=m5,xB=on.removeEmptyRanks,Z0=v5,$B=E5,e_=T5,AB=dB,OB=CB,na=on,kB=Hn.Graph,PB=DB;function DB(e,t){var n=t&&t.debugTiming?na.time:na.notime;n("layout",function(){var r=n("  buildLayoutGraph",function(){return WB(e)});n("  runLayout",function(){VB(r,n)}),n("  updateInputGraph",function(){LB(e,r)})})}function VB(e,t){t("    makeSpaceForEdgeLabels",function(){GB(e)}),t("    removeSelfEdges",function(){nU(e)}),t("    acyclic",function(){X0.run(e)}),t("    nestingGraph.run",function(){Z0.run(e)}),t("    rank",function(){TB(na.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){KB(e)}),t("    removeEmptyRanks",function(){xB(e)}),t("    nestingGraph.cleanup",function(){Z0.cleanup(e)}),t("    normalizeRanks",function(){IB(e)}),t("    assignRankMinMax",function(){YB(e)}),t("    removeEdgeLabelProxies",function(){QB(e)}),t("    normalize.run",function(){J0.run(e)}),t("    parentDummyChains",function(){RB(e)}),t("    addBorderSegments",function(){$B(e)}),t("    order",function(){AB(e)}),t("    insertSelfEdges",function(){rU(e)}),t("    adjustCoordinateSystem",function(){e_.adjust(e)}),t("    position",function(){OB(e)}),t("    positionSelfEdges",function(){aU(e)}),t("    removeBorderNodes",function(){tU(e)}),t("    normalize.undo",function(){J0.undo(e)}),t("    fixupEdgeLabelCoords",function(){ZB(e)}),t("    undoCoordinateSystem",function(){e_.undo(e)}),t("    translateGraph",function(){XB(e)}),t("    assignNodeIntersects",function(){JB(e)}),t("    reversePoints",function(){eU(e)}),t("    acyclic.undo",function(){X0.undo(e)})}function LB(e,t){Ue.forEach(e.nodes(),function(n){var r=e.node(n),a=t.node(n);r&&(r.x=a.x,r.y=a.y,t.children(n).length&&(r.width=a.width,r.height=a.height))}),Ue.forEach(e.edges(),function(n){var r=e.edge(n),a=t.edge(n);r.points=a.points,Ue.has(a,"x")&&(r.x=a.x,r.y=a.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var FB=["nodesep","edgesep","ranksep","marginx","marginy"],qB={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},MB=["acyclicer","ranker","rankdir","align"],BB=["width","height"],UB={width:0,height:0},HB=["minlen","weight","width","height","labeloffset"],zB={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},jB=["labelpos"];function WB(e){var t=new kB({multigraph:!0,compound:!0}),n=af(e.graph());return t.setGraph(Ue.merge({},qB,rf(n,FB),Ue.pick(n,MB))),Ue.forEach(e.nodes(),function(r){var a=af(e.node(r));t.setNode(r,Ue.defaults(rf(a,BB),UB)),t.setParent(r,e.parent(r))}),Ue.forEach(e.edges(),function(r){var a=af(e.edge(r));t.setEdge(r,Ue.merge({},zB,rf(a,HB),Ue.pick(a,jB)))}),t}function GB(e){var t=e.graph();t.ranksep/=2,Ue.forEach(e.edges(),function(n){var r=e.edge(n);r.minlen*=2,r.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function KB(e){Ue.forEach(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),a=e.node(t.w),i={rank:(a.rank-r.rank)/2+r.rank,e:t};na.addDummyNode(e,"edge-proxy",i,"_ep")}})}function YB(e){var t=0;Ue.forEach(e.nodes(),function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=Ue.max(t,r.maxRank))}),e.graph().maxRank=t}function QB(e){Ue.forEach(e.nodes(),function(t){var n=e.node(t);n.dummy==="edge-proxy"&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}function XB(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,a=0,i=e.graph(),o=i.marginx||0,s=i.marginy||0;function l(c){var u=c.x,d=c.y,p=c.width,m=c.height;t=Math.min(t,u-p/2),n=Math.max(n,u+p/2),r=Math.min(r,d-m/2),a=Math.max(a,d+m/2)}Ue.forEach(e.nodes(),function(c){l(e.node(c))}),Ue.forEach(e.edges(),function(c){var u=e.edge(c);Ue.has(u,"x")&&l(u)}),t-=o,r-=s,Ue.forEach(e.nodes(),function(c){var u=e.node(c);u.x-=t,u.y-=r}),Ue.forEach(e.edges(),function(c){var u=e.edge(c);Ue.forEach(u.points,function(d){d.x-=t,d.y-=r}),Ue.has(u,"x")&&(u.x-=t),Ue.has(u,"y")&&(u.y-=r)}),i.width=n-t+o,i.height=a-r+s}function JB(e){Ue.forEach(e.edges(),function(t){var n=e.edge(t),r=e.node(t.v),a=e.node(t.w),i,o;n.points?(i=n.points[0],o=n.points[n.points.length-1]):(n.points=[],i=a,o=r),n.points.unshift(na.intersectRect(r,i)),n.points.push(na.intersectRect(a,o))})}function ZB(e){Ue.forEach(e.edges(),function(t){var n=e.edge(t);if(Ue.has(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function eU(e){Ue.forEach(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}function tU(e){Ue.forEach(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),a=e.node(n.borderBottom),i=e.node(Ue.last(n.borderLeft)),o=e.node(Ue.last(n.borderRight));n.width=Math.abs(o.x-i.x),n.height=Math.abs(a.y-r.y),n.x=i.x+n.width/2,n.y=r.y+n.height/2}}),Ue.forEach(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function nU(e){Ue.forEach(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function rU(e){var t=na.buildLayerMatrix(e);Ue.forEach(t,function(n){var r=0;Ue.forEach(n,function(a,i){var o=e.node(a);o.order=i+r,Ue.forEach(o.selfEdges,function(s){na.addDummyNode(e,"selfedge",{width:s.label.width,height:s.label.height,rank:o.rank,order:i+ ++r,e:s.e,label:s.label},"_se")}),delete o.selfEdges})})}function aU(e){Ue.forEach(e.nodes(),function(t){var n=e.node(t);if(n.dummy==="selfedge"){var r=e.node(n.e.v),a=r.x+r.width/2,i=r.y,o=n.x-a,s=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:a+2*o/3,y:i-s},{x:a+5*o/6,y:i-s},{x:a+o,y:i},{x:a+5*o/6,y:i+s},{x:a+2*o/3,y:i+s}],n.label.x=n.x,n.label.y=n.y}})}function rf(e,t){return Ue.mapValues(Ue.pick(e,t),Number)}function af(e){var t={};return Ue.forEach(e,function(n,r){t[r.toLowerCase()]=n}),t}var Ms=pt,iU=on,oU=Hn.Graph,sU={debugOrdering:lU};function lU(e){var t=iU.buildLayerMatrix(e),n=new oU({compound:!0,multigraph:!0}).setGraph({});return Ms.forEach(e.nodes(),function(r){n.setNode(r,{label:r}),n.setParent(r,"layer"+e.node(r).rank)}),Ms.forEach(e.edges(),function(r){n.setEdge(r.v,r.w,{},r.name)}),Ms.forEach(t,function(r,a){var i="layer"+a;n.setNode(i,{rank:"same"}),Ms.reduce(r,function(o,s){return n.setEdge(o,s,{style:"invis"}),s})}),n}var uU="0.8.5",cU={graphlib:Hn,layout:PB,debug:sU,util:{time:on.time,notime:on.notime},version:uU};const _1=Er(cU),dU=()=>P(te,{children:[f(le,{variant:"smallText1",className:"description",children:"Undefined"}),f(Ma,{placement:"top",markdownText:`Provenance tracks the relationship 
          between data, code and analytical results.`,helpUrl:"https://help.synapse.org/docs/Provenance.1972470373.html"})]}),Cp=e=>{const t=e.targetVersionNumber?`.${e.targetVersionNumber}`:"",n=`${e.targetId}${t}`;return R.useMemo(()=>P(te,{children:[f("div",{children:f(De,{icon:"fileOutlined"})}),f("span",{children:n})]}),[n])};try{Cp.displayName="EntityPlaceholderNodeLabel",Cp.__docgenInfo={description:"This node type is used if the user cannot access the entity for some reason",displayName:"EntityPlaceholderNodeLabel",props:{targetId:{defaultValue:null,description:"",name:"targetId",required:!0,type:{name:"string"}},targetVersionNumber:{defaultValue:null,description:"",name:"targetVersionNumber",required:!1,type:{name:"number"}}}}}catch{}var Yt=(e=>(e.ENTITY="EntityNode",e.ENTITY_PLACEHOLDER="EntityPlaceholderNode",e.EXTERNAL="ExternalNode",e.ACTIVITY="ActivityNode",e.EXPAND="ExpandNode",e.UNDEFINED="UndefinedNode",e))(Yt||{});const Gl=e=>{const{type:t,data:n}=e;let r;switch(t){case"EntityNode":r=f(gp,{...n});break;case"EntityPlaceholderNode":r=f(Cp,{...n});break;case"ExternalNode":r=f(bp,{...n});break;case"ActivityNode":r=f(mp,{...n});break;case"ExpandNode":r=f(yp,{...n});break;case"UndefinedNode":r=f(dU,{});break;default:r=P("p",{children:["Unrecognized node type: ",t]});break}const a={label:r,props:n,type:t};return{id:Cr(e),position:{x:100,y:100},data:a,connectable:!1,draggable:!1,className:`${t}`}},w1=(e,t)=>{const n=Cr(e),r=Cr(t);return{id:`${n}-${r}`,source:n,target:r,animated:!0,type:dr.SimpleBezier,markerEnd:{type:Ao.ArrowClosed}}},Cr=e=>{const{type:t,data:n}=e;switch(t){case"EntityNode":return`${n.id}.${n.versionNumber??"latest"}`;case"EntityPlaceholderNode":return`${n.targetId}.${n.targetVersionNumber??"latest"}`;case"ExternalNode":return`${n.url}`;case"ActivityNode":return`${n.id}`;case"ExpandNode":return`expand.node.${n.entityHeader.id}.${n.entityHeader.versionNumber??"latest"}`;case"UndefinedNode":return`undefined.dummy.node.${n.id}.${n.versionNumber??"latest"}`}},ti=new _1.graphlib.Graph;ti.setDefaultEdgeLabel(()=>({}));const t_=e=>e.data.type=="ExpandNode"?30:100,n_=e=>e.data.type=="ExpandNode"?30:172,fU=(e,t,n)=>{const r=n==="LR";return ti.setGraph({rankdir:n}),e.forEach(a=>{ti.setNode(a.id,{width:n_(a),height:t_(a)})}),t.forEach(a=>{ti.setEdge(a.source,a.target)}),_1.layout(ti),e.forEach(a=>{const i=ti.node(a.id);return a.targetPosition=r?_e.Left:_e.Top,a.sourcePosition=r?_e.Right:_e.Bottom,a.position={x:i.x-n_(a)/2,y:i.y-t_(a)/2},a}),{nodes:e,edges:t}},r_=(e,t)=>sR(e,t,Ht).length==0;try{Gl.displayName="getProvenanceNode",Gl.__docgenInfo={description:"",displayName:"getProvenanceNode",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"EntityNode"'},{value:'"EntityPlaceholderNode"'},{value:'"ExternalNode"'},{value:'"ActivityNode"'},{value:'"ExpandNode"'},{value:'"UndefinedNode"'}]}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"ProvenanceNodeLabelProps"}}}}}catch{}try{Cr.displayName="getNodeId",Cr.__docgenInfo={description:"",displayName:"getNodeId",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"EntityNode"'},{value:'"EntityPlaceholderNode"'},{value:'"ExternalNode"'},{value:'"ActivityNode"'},{value:'"ExpandNode"'},{value:'"UndefinedNode"'}]}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"ProvenanceNodeLabelProps"}}}}}catch{}const a_=e=>{const{entityHeader:t,rootEntityHeaders:n}=e;return(n==null?void 0:n.find(a=>t.id==a.id&&t.versionNumber==a.versionNumber))!==void 0},S1=(e,t)=>t.find(r=>r.id===Cr(e))===void 0,pU=(e,t)=>{const n={type:Yt.ENTITY,data:e};return t.find(r=>r.id===Cr(n))},mU=(e,t,n)=>n.find(a=>a.source===Cr(e)&&a.target===Cr(t))===void 0,ls=e=>{const{newNodeProps:t,existingNodeProps:n,nodesCopy:r,edgesCopy:a}=e;S1(t,r)&&r.push(Gl(t)),mU(t,n,a)&&a.push(w1(t,n))},hU=e=>{const{activity:t,entityHeader:n,nodesCopy:r,edgesCopy:a}=e,i={type:Yt.ACTIVITY,data:t},o={type:Yt.ENTITY,data:n};ls({newNodeProps:i,existingNodeProps:o,nodesCopy:r,edgesCopy:a})},gU=e=>{const{entityHeader:t,itemCount:n=0,nodesCopy:r,edgesCopy:a}=e,i={type:Yt.EXPAND,data:{itemCount:n,entityHeader:t}},o={type:Yt.ENTITY,data:t};ls({newNodeProps:i,existingNodeProps:o,nodesCopy:r,edgesCopy:a})},yU=e=>{const{ref:t,activity:n,nodesCopy:r,edgesCopy:a}=e,i={type:Yt.ENTITY_PLACEHOLDER,data:t},o={type:Yt.ACTIVITY,data:n};ls({newNodeProps:i,existingNodeProps:o,nodesCopy:r,edgesCopy:a})},vU=e=>{const{entityHeader:t,nodesCopy:n,edgesCopy:r}=e,a={type:Yt.UNDEFINED,data:t},i={type:Yt.ENTITY,data:t};ls({newNodeProps:a,existingNodeProps:i,nodesCopy:n,edgesCopy:r})},bU=e=>{const{usedURL:t,activity:n,nodesCopy:r,edgesCopy:a}=e,i={type:Yt.ACTIVITY,data:n},o={type:Yt.EXTERNAL,data:t};ls({newNodeProps:o,existingNodeProps:i,nodesCopy:r,edgesCopy:a})},_U=e=>{const{entityHeader:t,activity:n,nodesCopy:r,edgesCopy:a}=e,i={type:Yt.ENTITY,data:t};if(S1(i,r)&&(r.push(Gl(i)),n)){const o={type:Yt.ACTIVITY,data:n};a.push(w1(i,o))}};const of=400,sf=.85,wU=e=>{const{entityRefs:t,containerHeight:n="200px",initialNodes:r=[],initialEdges:a=[],onNodesChangedListener:i,onEdgesChangedListener:o}=e,{accessToken:s}=Ze(),[l,c]=J.useState(r),[u,d]=J.useState(a),[p,m,h]=oF([]),[g,y,v]=sF([]),[w,_]=R.useState(),b=HT(),{data:E,isSuccess:S}=Lh(t,{useErrorBoundary:!0});if(S&&E&&E.totalNumberOfResults==0){const B=t.map(L=>L.targetId).join(",");b(`Unable to load provenance for the given Synapse IDs: ${B}`)}const N=E==null?void 0:E.results,[C,I]=J.useState(!1),k=Zu(),O=R.useCallback((B,L)=>{_(L)},[]),M=R.useCallback(async B=>{var x;const{entityHeader:L,nodesCopy:F,edgesCopy:z,usedInActivity:D}=B;_U({entityHeader:L,activity:D,nodesCopy:F,edgesCopy:z});try{const A=await $t.getActivityForEntity(L.id,L.versionNumber,s);(!a_({entityHeader:L,rootEntityHeaders:N})||A.used&&A.used.length>=of)&&gU({entityHeader:L,itemCount:(x=A.used)==null?void 0:x.length,nodesCopy:F,edgesCopy:z})}catch(A){console.error(A),a_({entityHeader:L,rootEntityHeaders:N})&&vU({entityHeader:L,nodesCopy:F,edgesCopy:z})}},[s,N]);R.useEffect(()=>{!C&&p.length>0&&setTimeout(()=>{if(N){const B=pU(N[0],p);if(B){const L=k.getZoom(),F=L>sf?sf:L;k==null||k.setCenter(B.position.x+150,B.position.y-30,{zoom:F,duration:0})}I(!0)}})},[C,p,k,N]);const q=R.useCallback(async B=>{const{entityHeader:L,nodesCopy:F,edgesCopy:z}=B;try{const D=await $t.getActivityForEntity(L.id,L.versionNumber,s);if(hU({activity:D,entityHeader:L,nodesCopy:F,edgesCopy:z}),D.used&&D.used.length<of){const x=[];D.used.forEach(V=>{V.concreteType==zT?x.push(V.reference):bU({usedURL:V,activity:D,nodesCopy:F,edgesCopy:z})});const A=await $t.getEntityHeaders(x,s),{results:j}=A;x.filter(V=>j.find(K=>K.id==V.targetId)==null).forEach(V=>{yU({ref:V,activity:D,nodesCopy:F,edgesCopy:z})});const T=[];j.forEach(V=>{T.push(M({entityHeader:V,nodesCopy:F,edgesCopy:z,usedInActivity:D}))}),await Promise.allSettled(T)}}catch(D){console.error(D)}},[s,M]);R.useEffect(()=>{if(N&&l.length==0){const B=[...l],L=[...u],F=[];N.forEach(z=>{const D=M({entityHeader:z,nodesCopy:B,edgesCopy:L});F.push(D);const x=q({entityHeader:z,nodesCopy:B,edgesCopy:L});F.push(x)}),Promise.allSettled(F).finally(()=>{c(B),d(L)})}},[M,b,q,N,t,u,l]),R.useEffect(()=>{const B=w==null?void 0:w.data;if(w&&(B==null?void 0:B.type)==Yt.EXPAND){const L=B.props;if(L.itemCount>of){_r("Web visualization does not support expanding this many items at this time.","danger");return}else{B.label=f(l$,{size:30});const F=l.filter(x=>x.id!=w.id),z=Ig([w],u)[0],D=u.filter(x=>x!=z);q({entityHeader:L.entityHeader,nodesCopy:F,edgesCopy:D}).finally(()=>{c(F),d(D)})}_(void 0)}},[w,l,u,q]),R.useEffect(()=>{const{nodes:B,edges:L}=fU(l,u,"TB");r_(B,p)||(m(B),i&&i(B)),r_(L,g)||(y(L),o&&o(L))},[l,u,p,g,m,y,C,k,t,i,o]);const $=R.useCallback(B=>{B&&typeof B.deltaX<"u"&&typeof B.deltaY<"u"&&window.scrollTo(window.scrollX+B.deltaX,window.scrollY+B.deltaY)},[]);return f("div",{className:"bootstrap-4-backport ProvenanceWidget",role:"graphics-doc",style:{width:"100%",height:n},children:f(bE,{defaultViewport:{x:0,y:0,zoom:sf},nodes:p,edges:g,onNodeClick:O,onNodesChange:h,onEdgesChange:v,attributionPosition:"bottom-right",onConnect:void 0,zoomOnScroll:!1,onPaneScroll:$,children:f(mF,{})})})},Ep=e=>f(oi,{children:f(Ag,{children:f(wU,{...e})})});try{Ep.displayName="ProvenanceGraph",Ep.__docgenInfo={description:"",displayName:"ProvenanceGraph",props:{entityRefs:{defaultValue:null,description:"",name:"entityRefs",required:!0,type:{name:"ReferenceList"}},containerHeight:{defaultValue:null,description:"",name:"containerHeight",required:!1,type:{name:"string"}},initialNodes:{defaultValue:null,description:"",name:"initialNodes",required:!1,type:{name:"Node[]"}},initialEdges:{defaultValue:null,description:"",name:"initialEdges",required:!1,type:{name:"Edge[]"}},onNodesChangedListener:{defaultValue:null,description:"",name:"onNodesChangedListener",required:!1,type:{name:"((nodes: Node[]) => void)"}},onEdgesChangedListener:{defaultValue:null,description:"",name:"onEdgesChangedListener",required:!1,type:{name:"((edges: Edge[]) => void)"}}}}}catch{}function Np(e){const{entityList:t,displayHeightPx:n}=e,r=t.split(",").map(i=>{const o=i.split("/version/");return{targetId:o[0],targetVersionNumber:o.length>1?parseInt(o[1]):void 0}}),a=n?`${n}px`:void 0;return f(Ep,{entityRefs:r,containerHeight:a})}try{Np.displayName="MarkdownProvenanceGraph",Np.__docgenInfo={description:"",displayName:"MarkdownProvenanceGraph",props:{entityList:{defaultValue:null,description:"",name:"entityList",required:!0,type:{name:"string"}},displayHeightPx:{defaultValue:null,description:"",name:"displayHeightPx",required:!0,type:{name:"string"}}}}}catch{}class ko extends J.Component{constructor(t){super(t),this.getEntity=this.getEntity.bind(this),this.getSynapseFiles=this.getSynapseFiles.bind(this),this.state={preSignedURL:""}}getEntity(){const{synapseId:t}=this.props;t&&Nl(this.context.accessToken,t).then(n=>{const r=[{associateObjectId:t,associateObjectType:qt.FileEntity,fileHandleId:n.dataFileHandleId}];this.getSynapseFiles(r,n.dataFileHandleId)})}getSynapseFiles(t,n){Co({includeFileHandles:!1,includePreSignedURLs:!0,includePreviewPreSignedURLs:!1,requestedFiles:t},this.context.accessToken).then(a=>{const{preSignedURL:i}=a.requestedFiles.filter(o=>o.fileHandleId===n)[0];this.setState({preSignedURL:i})}).catch(a=>{console.error("Error on getting image ",a)})}componentDidMount(){if(!this.props.wikiId)this.getEntity();else{const{fileName:t,fileResults:n=[]}=this.props,{id:r}=n.filter(i=>i.fileName===t)[0],a=[{associateObjectId:this.props.wikiId,associateObjectType:qt.WikiAttachment,fileHandleId:r}];this.getSynapseFiles(a,r)}}render(){const{params:t}=this.props,{align:n="",altText:r="synapse image"}=t;let a="auto";t.scale&&t.scale!=="100"&&(a=`${Number(t.scale)}%`);const i=n.toLowerCase();let o="";i==="left"&&(o="floatLeft"),i==="right"&&(o="floatright"),i==="center"&&(o="align-center");const s={width:a,height:a};return this.state.preSignedURL?f(J.Fragment,{children:f("img",{alt:r,className:"img-fluid  "+o,src:this.state.preSignedURL,style:s})}):null}}ht(ko,"contextType",Qo);try{ko.displayName="SynapseImage",ko.__docgenInfo={description:"",displayName:"SynapseImage",props:{wikiId:{defaultValue:null,description:"",name:"wikiId",required:!1,type:{name:"string"}},synapseId:{defaultValue:null,description:"",name:"synapseId",required:!1,type:{name:"string"}},fileName:{defaultValue:null,description:"",name:"fileName",required:!1,type:{name:"string"}},fileResults:{defaultValue:null,description:"",name:"fileResults",required:!1,type:{name:"FileHandle[]"}},params:{defaultValue:null,description:"",name:"params",required:!0,type:{name:"{ align: string; scale: string; responsive: string; altText: string; }"}}}}}catch{}const Po=J.createContext(void 0),Tp=({children:e,wikiContext:t})=>f(Po.Provider,{value:t,children:e}),i_=Po.Consumer;function C1(){return R.useContext(Po)??{}}try{Po.displayName="SynapseWikiContext",Po.__docgenInfo={description:"This must be exported to use the context in class components.",displayName:"SynapseWikiContext",props:{}}}catch{}try{Tp.displayName="SynapseWikiContextProvider",Tp.__docgenInfo={description:"Provides context related to Synapse Wikis",displayName:"SynapseWikiContextProvider",props:{wikiContext:{defaultValue:null,description:"",name:"wikiContext",required:!1,type:{name:"SynapseWikiContextType"}}}}}catch{}try{i_.displayName="SynapseWikiContextConsumer",i_.__docgenInfo={description:"",displayName:"SynapseWikiContextConsumer",props:{}}}catch{}function Ip(e){const{wikiId:t,wikiPage:n,fileHandles:r}=C1();return e.fileName?r?f(ko,{params:e,fileName:e.fileName,wikiId:t||(n==null?void 0:n.id),fileResults:r.list}):f(te,{}):e.synapseId?f(ko,{params:e,synapseId:e.synapseId}):f(te,{})}try{Ip.displayName="MarkdownSynapseImage",Ip.__docgenInfo={description:"",displayName:"MarkdownSynapseImage",props:{wikiId:{defaultValue:null,description:"",name:"wikiId",required:!1,type:{name:"string"}},synapseId:{defaultValue:null,description:"",name:"synapseId",required:!1,type:{name:"string"}},fileName:{defaultValue:null,description:"",name:"fileName",required:!1,type:{name:"string"}},align:{defaultValue:null,description:"",name:"align",required:!0,type:{name:"string"}},scale:{defaultValue:null,description:"",name:"scale",required:!0,type:{name:"string"}},responsive:{defaultValue:null,description:"",name:"responsive",required:!0,type:{name:"string"}},altText:{defaultValue:null,description:"",name:"altText",required:!0,type:{name:"string"}}}}}catch{}const SU=uS(cS);class Kl extends J.Component{constructor(t){super(t),this.state={isLoaded:!1,queryData:{}},this.fetchPlotlyData=this.fetchPlotlyData.bind(this),this.showPlot=this.showPlot.bind(this)}componentDidMount(){this.fetchPlotlyData()}fetchPlotlyData(){const{query:t}=this.props.widgetparamsMapped,n={concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",partMask:Zo,entityId:oa(t),query:{sql:t}};Pw(n,this.context.accessToken).then(r=>{this.setState({isLoaded:!0,queryData:r})}).catch(r=>{console.log("Error on full table query ",r)})}showPlot(){var m,h;if(!this.state.isLoaded)return;const{title:t,xtitle:n,ytitle:r,type:a,xaxistype:i,showlegend:o}=this.props.widgetparamsMapped,s=this.state,l=this.props.widgetparamsMapped.horizontal.toLowerCase(),c={showlegend:o,title:t};n&&(c.xaxis={title:n}),i&&(c.xaxis={...c.xaxis,xaxistype:i.toLowerCase()}),r&&(c.yaxis={title:r});const u=[],d=l?"v":"h",p=((m=s.queryData.queryResult)==null?void 0:m.queryResults.headers)??[];for(let g=0;g<p.length-1;g+=1)u[g]={orientation:d,name:p[g+1].name,type:a.toLowerCase(),x:[],y:[]};for(const g of((h=s.queryData.queryResult)==null?void 0:h.queryResults.rows)??[])for(let y=1;y<g.values.length;y+=1){const v=g.values;u[y-1].x.push(v[0]),u[y-1].y.push(v[y])}return f(SU,{layout:c,data:u})}render(){return this.state.isLoaded?this.showPlot():null}}ht(Kl,"contextType",Qo);try{Kl.displayName="SynapsePlot",Kl.__docgenInfo={description:"",displayName:"SynapsePlot",props:{ownerId:{defaultValue:null,description:"",name:"ownerId",required:!1,type:{name:"string"}},wikiId:{defaultValue:null,description:"",name:"wikiId",required:!1,type:{name:"string"}},widgetparamsMapped:{defaultValue:null,description:"",name:"widgetparamsMapped",required:!1,type:{name:"any"}}}}}catch{}function Rp(e){const{ownerId:t,wikiId:n,wikiPage:r}=C1();return f(Kl,{ownerId:t,wikiId:n||(r==null?void 0:r.id),widgetparamsMapped:e})}try{Rp.displayName="MarkdownSynapsePlot",Rp.__docgenInfo={description:"",displayName:"MarkdownSynapsePlot",props:{}}}catch{}const lf=3,Yl=({helpMessage:e="This search bar is powered by MySQL Full Text Search.",helpUrl:t})=>{const{executeQueryRequest:n}=Ct(),{showSearchBar:r}=Rt(),[a,i]=R.useState(""),o=R.useRef(null),s=c=>{var u;c.preventDefault(),a.trim().length<lf?(u=o.current)==null||u.setCustomValidity(`Search term must have a minimum of ${lf} characters`):n(d=>{const{additionalFilters:p=[]}=d.query,m={concreteType:"org.sagebionetworks.repo.model.table.TextMatchesQueryFilter",searchExpression:a};return p.find(g=>g.concreteType==m.concreteType&&g.searchExpression==m.searchExpression)||(p.push(m),d.query.additionalFilters=p,i("")),d})},l=c=>{var u;(u=o.current)==null||u.setCustomValidity(""),i(c.currentTarget.value)};return f("div",{className:"QueryWrapperFullTextSearchInput",children:f(ia,{in:r,timeout:{enter:300,exit:300},children:f("form",{onSubmit:s,children:f(rg,{sx:{width:"100%"},inputProps:{minLength:lf,ref:o},InputProps:{startAdornment:f(De,{icon:"search",wrap:!1,sx:{mr:1,color:"grey.600"}}),endAdornment:P(te,{children:[a.length>0&&f(an,{size:"small",onClick:()=>{i("")},children:f(De,{icon:"close",wrap:!1,fontSize:"inherit"})}),f(Ma,{markdownText:e,helpUrl:t,placement:"left"})]})},onChange:l,placeholder:"Enter Search Terms",value:a,type:"text"})})})})};try{Yl.displayName="FullTextSearch",Yl.__docgenInfo={description:"",displayName:"FullTextSearch",props:{helpMessage:{defaultValue:{value:"This search bar is powered by MySQL Full Text Search."},description:"",name:"helpMessage",required:!1,type:{name:"string"}},helpUrl:{defaultValue:null,description:"",name:"helpUrl",required:!1,type:{name:"string"}}}}}catch{}var lc={},CU=/~/,EU=/~[01]/g;function NU(e){switch(e){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+e)}function E1(e){return CU.test(e)?e.replace(EU,NU):e}function TU(e,t,n){for(var r,a,i=1,o=t.length;i<o;){if(t[i]==="constructor"||t[i]==="prototype"||t[i]==="__proto__")return e;if(r=E1(t[i++]),a=o>i,typeof e[r]>"u"&&(Array.isArray(e)&&r==="-"&&(r=e.length),a&&(t[i]!==""&&t[i]<1/0||t[i]==="-"?e[r]=[]:e[r]={})),!a)break;e=e[r]}var s=e[r];return n===void 0?delete e[r]:e[r]=n,s}function Mg(e){if(typeof e=="string"){if(e=e.split("/"),e[0]==="")return e;throw new Error("Invalid JSON pointer.")}else if(Array.isArray(e)){for(const t of e)if(typeof t!="string"&&typeof t!="number")throw new Error("Invalid JSON pointer. Must be of type string or number.");return e}throw new Error("Invalid JSON pointer.")}function N1(e,t){if(typeof e!="object")throw new Error("Invalid input object.");t=Mg(t);var n=t.length;if(n===1)return e;for(var r=1;r<n;){if(e=e[E1(t[r++])],n===r)return e;if(typeof e!="object"||e===null)return}}function T1(e,t,n){if(typeof e!="object")throw new Error("Invalid input object.");if(t=Mg(t),t.length===0)throw new Error("Invalid JSON pointer for set.");return TU(e,t,n)}function IU(e){var t=Mg(e);return{get:function(n){return N1(n,t)},set:function(n,r){return T1(n,t,r)}}}lc.get=N1;lc.set=T1;lc.compile=IU;var RU=nR;function xU(e,t){return RU(e,t)}var I1=xU,$U=Gw;function AU(e,t){return t=typeof t=="function"?t:void 0,e&&e.length?$U(e,void 0,t):[]}var Bg=AU,OU=aS,kU=Qw,PU=Xw,DU=la,VU=qu,o_=iS,LU=Math.min;function FU(e,t,n){for(var r=n?PU:kU,a=e[0].length,i=e.length,o=i,s=Array(i),l=1/0,c=[];o--;){var u=e[o];o&&t&&(u=DU(u,VU(t))),l=LU(u.length,l),s[o]=!n&&(t||a>=120&&u.length>=120)?new OU(o&&u):void 0}u=e[0];var d=-1,p=s[0];e:for(;++d<a&&c.length<l;){var m=u[d],h=t?t(m):m;if(m=n||m!==0?m:0,!(p?o_(p,h):r(c,h,n))){for(o=i;--o;){var g=s[o];if(!(g?o_(g,h):r(e[o],h,n)))continue e}p&&p.push(h),c.push(m)}}return c}var R1=FU,qU=rc;function MU(e){return qU(e)?e:[]}var x1=MU,BU=la,UU=R1,HU=ua,zU=x1,jU=zE,WU=HU(function(e){var t=jU(e),n=BU(e,zU);return t=typeof t=="function"?t:void 0,t&&n.pop(),n.length&&n[0]===e[0]?UU(n,void 0,t):[]}),$1=WU,GU=rR,KU=tS,YU="[object Boolean]";function QU(e){return e===!0||e===!1||KU(e)&&GU(e)==YU}var XU=QU,Mn=I1,JU=Vg,Ug=Yh,s_=Bg,ZU=UE,e3=$1,Ql=Mu,uf=XU,l_=e=>Array.isArray(e)?e:[e],Nn=e=>e===void 0,Bs=e=>Ql(e)||Array.isArray(e)?Object.keys(e):[],ii=(e,t)=>e.hasOwnProperty(t),wi=e=>JU(Ug(e)),u_=e=>Nn(e)||Array.isArray(e)&&e.length===0,t3=(e,t,n,r)=>t&&ii(t,n)&&e&&ii(e,n)&&r(e[n],t[n]),cf=(e,t)=>Nn(e)&&t===0||Nn(t)&&e===0||Mn(e,t),n3=(e,t)=>Nn(e)&&t===!1||Nn(t)&&e===!1||Mn(e,t),c_=e=>Nn(e)||Mn(e,{})||e===!0,Us=e=>Nn(e)||Mn(e,{}),d_=e=>Nn(e)||Ql(e)||e===!0||e===!1;function f_(e,t){return u_(e)&&u_(t)?!0:Mn(wi(e),wi(t))}function r3(e,t){return e=l_(e),t=l_(t),Mn(wi(e),wi(t))}function cl(e,t,n,r){var a=Ug(Bs(e).concat(Bs(t)));return Us(e)&&Us(t)?!0:Us(e)&&Bs(t).length||Us(t)&&Bs(e).length?!1:a.every(function(i){var o=e[i],s=t[i];return Array.isArray(o)&&Array.isArray(s)?Mn(wi(e),wi(t)):Array.isArray(o)&&!Array.isArray(s)||Array.isArray(s)&&!Array.isArray(o)?!1:t3(e,t,i,r)})}function a3(e,t,n,r){return Ql(e)&&Ql(t)?r(e,t):Array.isArray(e)&&Array.isArray(t)?cl(e,t,n,r):Mn(e,t)}function df(e,t,n,r){var a=s_(e,r),i=s_(t,r),o=e3(a,i,r);return o.length===Math.max(a.length,i.length)}var i3={title:Mn,uniqueItems:n3,minLength:cf,minItems:cf,minProperties:cf,required:f_,enum:f_,type:r3,items:a3,anyOf:df,allOf:df,oneOf:df,properties:cl,patternProperties:cl,dependencies:cl},o3=["properties","patternProperties","dependencies","uniqueItems","minLength","minItems","minProperties","required"],s3=["additionalProperties","additionalItems","contains","propertyNames","not"];function xp(e,t,n){if(n=ZU(n,{ignore:[]}),c_(e)&&c_(t))return!0;if(!d_(e)||!d_(t))throw new Error("Either of the values are not a JSON schema.");if(e===t)return!0;if(uf(e)&&uf(t))return e===t;if(e===void 0&&t===!1||t===void 0&&e===!1||Nn(e)&&!Nn(t)||!Nn(e)&&Nn(t))return!1;var r=Ug(Object.keys(e).concat(Object.keys(t)));if(n.ignore.length&&(r=r.filter(i=>n.ignore.indexOf(i)===-1)),!r.length)return!0;function a(i,o){return xp(i,o,n)}return r.every(function(i){var o=e[i],s=t[i];if(s3.indexOf(i)!==-1)return xp(o,s,n);var l=i3[i];if(l||(l=Mn),Mn(o,s))return!0;if(o3.indexOf(i)===-1&&(!ii(e,i)&&ii(t,i)||ii(e,i)&&!ii(t,i)))return o===s;var c=l(o,s,i,a);if(!uf(c))throw new Error("Comparer must return true or false");return c})}var Hg=xp;function l3(e){return Object.prototype.toString.call(e)==="[object Array]"}var zg=Array.isArray||l3;function u3(e){return(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")&&e.valueOf()===e.valueOf()}var c3=u3,d3=c3;function f3(e){return d3(e)&&e%1===0}var p3=f3,m3=zg,h3=p3;function g3(e){var t;if(!m3(e)||(t=e.length,!t))return!1;for(var n=0;n<t;n++)if(!h3(e[n]))return!1;return!0}var A1=g3;function y3(e){return typeof e=="function"}var O1=y3,v3=zg,p_=A1,b3=O1,Hs=Math.pow(2,31)-1;function m_(e,t){var n=1,r;if(e===0)return t;if(t===0)return e;for(;e%2===0&&t%2===0;)e=e/2,t=t/2,n=n*2;for(;e%2===0;)e=e/2;for(;t;){for(;t%2===0;)t=t/2;e>t&&(r=t,t=e,e=r),t=t-e}return n*e}function h_(e,t){var n=0,r;if(e===0)return t;if(t===0)return e;for(;!(e&1)&&!(t&1);)e>>>=1,t>>>=1,n++;for(;!(e&1);)e>>>=1;for(;t;){for(;!(t&1);)t>>>=1;e>t&&(r=t,t=e,e=r),t=t-e}return e<<n}function _3(){var e=arguments.length,t,n,r,a,i,o,s;for(t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];if(p_(t)){if(e===2)return i=t[0],o=t[1],i<0&&(i=-i),o<0&&(o=-o),i<=Hs&&o<=Hs?h_(i,o):m_(i,o);r=t}else if(v3(t[0]))if(e>1){if(r=t[0],n=t[1],!b3(n))throw new TypeError("gcd()::invalid input argument. Accessor must be a function. Value: `"+n+"`.")}else r=t[0];else throw new TypeError("gcd()::invalid input argument. Must provide an array of integers. Value: `"+t[0]+"`.");if(a=r.length,a<2)return null;if(n){for(i=new Array(a),s=0;s<a;s++)i[s]=n(r[s],s);r=i}if(e<3&&!p_(r))throw new TypeError("gcd()::invalid input argument. Accessed array values must be integers. Value: `"+r+"`.");for(s=0;s<a;s++)i=r[s],i<0&&(r[s]=-i);for(i=r[0],s=1;s<a;s++)o=r[s],o<=Hs&&i<=Hs?i=h_(i,o):i=m_(i,o);return i}var w3=_3,g_=w3,S3=zg,y_=A1,C3=O1;function E3(){var e=arguments.length,t,n,r,a,i,o,s;for(t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];if(y_(t)){if(e===2)return i=t[0],o=t[1],i<0&&(i=-i),o<0&&(o=-o),i===0||o===0?0:i/g_(i,o)*o;r=t}else if(S3(t[0]))if(e>1){if(r=t[0],n=t[1],!C3(n))throw new TypeError("lcm()::invalid input argument. Accessor must be a function. Value: `"+n+"`.")}else r=t[0];else throw new TypeError("lcm()::invalid input argument. Must provide an array of integers. Value: `"+t[0]+"`.");if(a=r.length,a<2)return null;if(n){for(i=new Array(a),s=0;s<a;s++)i[s]=n(r[s],s);r=i}if(e<3&&!y_(r))throw new TypeError("lcm()::invalid input argument. Accessed array values must be integers. Value: `"+r+"`.");for(s=0;s<a;s++)i=r[s],i<0&&(r[s]=-i);for(i=r[0],s=1;s<a;s++){if(o=r[s],i===0||o===0)return 0;i=i/g_(i,o)*o}return i}var N3=E3,T3=Dg,v_=ns;function k1(e,t,n,r,a,i){return v_(e)&&v_(t)&&(i.set(t,e),T3(e,t,void 0,k1,i),i.delete(t)),e}var I3=k1,R3=Dg,x3=KE,$3=x3(function(e,t,n,r){R3(e,t,n,r)}),A3=$3,O3=OE,k3=ua,P3=I3,D3=A3,V3=k3(function(e){return e.push(void 0,P3),O3(D3,void 0,e)}),L3=V3,F3=nc,q3=1/0;function M3(e){var t=e==null?0:e.length;return t?F3(e,q3):[]}var P1=M3,B3=la,U3=R1,H3=ua,z3=x1,j3=H3(function(e){var t=B3(e,z3);return t.length&&t[0]===e[0]?U3(t):[]}),W3=j3;function G3(e,t,n,r){for(var a=n-1,i=e.length;++a<i;)if(r(e[a],t))return a;return-1}var K3=G3,Y3=la,Q3=MI,X3=K3,J3=qu,Z3=Kw,e4=Array.prototype,b_=e4.splice;function t4(e,t,n,r){var a=r?X3:Q3,i=-1,o=t.length,s=e;for(e===t&&(t=Z3(t)),n&&(s=Y3(e,J3(n)));++i<o;)for(var l=0,c=t[i],u=n?n(c):c;(l=a(s,u,l,r))>-1;)s!==e&&b_.call(s,l,1),b_.call(e,l,1);return e}var n4=t4,r4=n4;function a4(e,t){return e&&e.length&&t&&t.length?r4(e,t):e}var i4=a4,o4=aS,s4=Qw,l4=Xw,u4=la,c4=qu,d4=iS,f4=200;function p4(e,t,n,r){var a=-1,i=s4,o=!0,s=e.length,l=[],c=t.length;if(!s)return l;n&&(t=u4(t,c4(n))),r?(i=l4,o=!1):t.length>=f4&&(i=d4,o=!1,t=new o4(t));e:for(;++a<s;){var u=e[a],d=n==null?u:n(u);if(u=r||u!==0?u:0,o&&d===d){for(var p=c;p--;)if(t[p]===d)continue e;l.push(u)}else i(t,d,r)||l.push(u)}return l}var m4=p4,h4=m4,g4=ua,y4=rc,v4=g4(function(e,t){return y4(e)?h4(e,t):[]}),b4=v4;const _4=ic,w4=P1,D1=Mu,S4=Yh,C4=Bg,E4=b4;function N4(e){for(const t in e)V1(e,t)&&L1(e[t])&&delete e[t];return e}const T4=e=>S4(w4(e.map(jg))),I4=(e,t)=>e.map(n=>n&&n[t]),V1=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),jg=e=>D1(e)||Array.isArray(e)?Object.keys(e):[],R4=e=>e!==void 0,x4=e=>D1(e)||e===!0||e===!1,L1=e=>!jg(e).length&&e!==!1&&e!==!0,$4=(e,...t)=>E4.apply(null,[e].concat(_4(t)));var F1={allUniqueKeys:T4,deleteUndefinedProps:N4,getValues:I4,has:V1,isEmptySchema:L1,isSchema:x4,keys:jg,notUndefined:R4,uniqWith:C4,withoutArr:$4};const A4=Hg,O4=tc,{allUniqueKeys:k4,deleteUndefinedProps:P4,getValues:D4,keys:Xi,notUndefined:V4,uniqWith:L4,withoutArr:__}=F1;function F4(e){O4(e,function(t,n){t===!1&&delete e[n]})}function w_(e,t){return k4(e).reduce(function(r,a){const i=D4(e,a),o=L4(i.filter(V4),A4);return r[a]=t(o,a),r},{})}var q4={keywords:["properties","patternProperties","additionalProperties"],resolver(e,t,n,r){r.ignoreAdditionalProperties||(e.forEach(function(i){const o=e.filter(u=>u!==i),s=Xi(i.properties),c=Xi(i.patternProperties).map(u=>new RegExp(u));o.forEach(function(u){const d=Xi(u.properties),p=d.filter(h=>c.some(g=>g.test(h)));__(d,s,p).forEach(function(h){u.properties[h]=n.properties([u.properties[h],i.additionalProperties],h)})})}),e.forEach(function(i){const o=e.filter(l=>l!==i),s=Xi(i.patternProperties);i.additionalProperties===!1&&o.forEach(function(l){const c=Xi(l.patternProperties);__(c,s).forEach(d=>delete l.patternProperties[d])})}));const a={additionalProperties:n.additionalProperties(e.map(i=>i.additionalProperties)),patternProperties:w_(e.map(i=>i.patternProperties),n.patternProperties),properties:w_(e.map(i=>i.properties),n.properties)};return a.additionalProperties===!1&&F4(a.properties),P4(a)}};const M4=Hg,B4=tc,{allUniqueKeys:U4,deleteUndefinedProps:H4,has:z4,isSchema:q1,notUndefined:M1,uniqWith:j4}=F1;function W4(e){B4(e,function(t,n){t===!1&&e.splice(n,1)})}function G4(e,t){return e.map(function(n){if(n)if(Array.isArray(n.items)){const r=n.items[t];if(q1(r))return r;if(z4(n,"additionalItems"))return n.additionalItems}else return n.items})}function K4(e){return e.map(function(t){if(t)return Array.isArray(t.items)?t.additionalItems:t.items})}function Y4(e,t,n){return U4(n).reduce(function(a,i){const o=G4(e,i),s=j4(o.filter(M1),M4);return a[i]=t(s,i),a},[])}var Q4={keywords:["items","additionalItems"],resolver(e,t,n){const r=e.map(s=>s.items),a=r.filter(M1),i={};a.every(q1)?i.items=n.items(r):i.items=Y4(e,n.items,r);let o;return a.every(Array.isArray)?o=e.map(s=>s.additionalItems):a.some(Array.isArray)&&(o=K4(e)),o&&(i.additionalItems=n.additionalItems(o)),i.additionalItems===!1&&Array.isArray(i.items)&&W4(i.items),H4(i)}};const B1=Yw,Xl=Hg,X4=N3,J4=L3,U1=ic,Wg=P1,Z4=W3,eH=$1,$p=I1,Si=Mu,tH=i4,H1=Vg,Gg=Yh,fi=Bg,z1=q4,j1=Q4,zs=(e,t)=>e.indexOf(t)!==-1,nH=e=>Si(e)||e===!0||e===!1,rH=e=>e===!1,W1=e=>e===!0,uc=(e,t,n)=>n(e),G1=e=>H1(Gg(Wg(e))),Jl=e=>e!==void 0,K1=e=>Gg(Wg(e.map(uH))),Li=e=>e[0],aH=e=>G1(e),us=e=>Math.max.apply(Math,e),cs=e=>Math.min.apply(Math,e),iH=e=>e.some(W1),oH=e=>fi(U1(e),$p);function sH(e){return function(t,n){return Xl({[e]:t},{[e]:n})}}function Y1(e){let{allOf:t=[],...n}=e;return n=Si(e)?n:e,[n,...t.map(Y1)]}function Q1(e,t){return e.map(n=>n&&n[t])}function lH(e,t){return e.map(function(n,r){try{return t(n,r)}catch{return}}).filter(Jl)}function uH(e){return Si(e)||Array.isArray(e)?Object.keys(e):[]}function Ap(e,t){if(t=t||[],!e.length)return t;const n=e.slice(0).shift(),r=e.slice(1);return t.length?Ap(r,U1(t.map(a=>n.map(i=>[i].concat(a))))):Ap(r,n.map(a=>a))}function X1(e,t){let n;try{n=e.map(function(r){return JSON.stringify(r,null,2)}).join(`
`)}catch{n=e.join(", ")}throw new Error('Could not resolve values for path:"'+t.join(".")+`". They are probably incompatible. Values: 
`+n)}function cH(e,t,n,r,a,i){if(e.length){const o=a.complexResolvers[t];if(!o||!o.resolver)throw new Error("No resolver found for "+t);const s=n.map(d=>e.reduce((p,m)=>(d[m]!==void 0&&(p[m]=d[m]),p),{})),l=fi(s,Xl),c=o.keywords.reduce((d,p)=>({...d,[p]:(m,h=[])=>r(m,null,i.concat(p,h))}),{}),u=o.resolver(l,i.concat(t),c,a);return Si(u)||X1(l,i.concat(t)),u}}function dH(e){return{required:e}}const fH=["properties","patternProperties","definitions","dependencies"],pH=["anyOf","oneOf"],mH=["additionalProperties","additionalItems","contains","propertyNames","not","items"],Je={type(e){if(e.some(Array.isArray)){const t=e.map(function(r){return Array.isArray(r)?r:[r]}),n=Z4.apply(null,t);if(n.length===1)return n[0];if(n.length>1)return Gg(n)}},dependencies(e,t,n){return K1(e).reduce(function(a,i){const o=Q1(e,i);let s=fi(o.filter(Jl),$p);const l=s.filter(Array.isArray);if(l.length){if(l.length===s.length)a[i]=G1(s);else{const c=s.filter(nH),u=l.map(dH);a[i]=n(c.concat(u),i)}return a}return s=fi(s,Xl),a[i]=n(s,i),a},{})},oneOf(e,t,n){const r=Ap(B1(e)),a=lH(r,n),i=fi(a,Xl);if(i.length)return i},not(e){return{anyOf:e}},pattern(e){return e.map(t=>"(?="+t+")").join("")},multipleOf(e){let t=e.slice(0),n=1;for(;t.some(r=>!Number.isInteger(r));)t=t.map(r=>r*10),n=n*10;return X4(t)/n},enum(e){const t=eH.apply(null,e.concat($p));if(t.length)return H1(t)}};Je.$id=Li;Je.$ref=Li;Je.$schema=Li;Je.additionalItems=uc;Je.additionalProperties=uc;Je.anyOf=Je.oneOf;Je.contains=uc;Je.default=Li;Je.definitions=Je.dependencies;Je.description=Li;Je.examples=oH;Je.exclusiveMaximum=cs;Je.exclusiveMinimum=us;Je.items=j1;Je.maximum=cs;Je.maxItems=cs;Je.maxLength=cs;Je.maxProperties=cs;Je.minimum=us;Je.minItems=us;Je.minLength=us;Je.minProperties=us;Je.properties=z1;Je.propertyNames=uc;Je.required=aH;Je.title=Li;Je.uniqueItems=iH;const hH={properties:z1,items:j1};function Kg(e,t,n){t=J4(t,{ignoreAdditionalProperties:!1,resolvers:Je,complexResolvers:hH,deep:!0});const r=Object.entries(t.complexResolvers);function a(s,l,c){s=B1(s.filter(Jl)),c=c||[];const u=Si(l)?l:{};if(!s.length)return;if(s.some(rH))return!1;if(s.every(W1))return!0;s=s.filter(Si);const d=K1(s);if(t.deep&&zs(d,"allOf"))return Kg({allOf:s},t);const p=r.map(([m,h])=>d.filter(g=>h.keywords.includes(g)));return p.forEach(m=>tH(d,m)),d.forEach(function(m){const h=Q1(s,m),g=fi(h.filter(Jl),sH(m));if(g.length===1&&zs(pH,m))u[m]=g[0].map(y=>a([y],y));else if(g.length===1&&!zs(fH,m)&&!zs(mH,m))u[m]=g[0];else{const y=t.resolvers[m]||t.resolvers.defaultResolver;if(!y)throw new Error("No resolver found for key "+m+". You can provide a resolver for this keyword in the options, or provide a default resolver.");const v=(w,_=[])=>a(w,null,c.concat(m,_));u[m]=y(g,c.concat(m),v,t),u[m]===void 0?X1(g,c.concat(m)):u[m]===void 0&&delete u[m]}}),r.reduce((m,[h,g],y)=>({...m,...cH(p[y],h,s,a,t,c)}),u)}const i=Wg(Y1(e));return a(i)}Kg.options={resolvers:Je};var gH=Kg;const yH=Er(gH);function yt(e){return typeof File<"u"&&e instanceof File||typeof Date<"u"&&e instanceof Date?!1:typeof e=="object"&&e!==null&&!Array.isArray(e)}function vH(e){return e.additionalItems===!0&&console.warn("additionalItems=true is currently not supported"),yt(e.additionalItems)}function S_(e){if(e!==""){if(e===null)return null;if(/\.$/.test(e)||/\.0$/.test(e)||/\.\d*0$/.test(e))return e;var t=Number(e),n=typeof t=="number"&&!Number.isNaN(t);return n?t:e}}function C_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,SH(r.key),r)}}function bH(e,t,n){return t&&C_(e.prototype,t),n&&C_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function st(){return st=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},st.apply(this,arguments)}function _H(e){if(e==null)throw new TypeError("Cannot destructure "+e)}function Fi(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function wH(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SH(e){var t=wH(e,"string");return typeof t=="symbol"?t:String(t)}var ds="__additional_property",Op="additionalProperties",cc="allOf",dc="anyOf",J1="const",CH="default",fc="dependencies",EH="enum",Vn="__errors",zr="$id",NH="if",Ia="items",TH="_$junk_option_schema_id$_",dl="$name",La="oneOf",Dt="properties",IH="required",Zl="submitButtonOptions",It="$ref",Yg="__rjsf_additionalProperties",Z1="__rjsf_rootSchema",RH="ui:field",Qg="ui:widget",po="ui:options",xH="ui:globalOptions";function tt(e,t){return e===void 0&&(e={}),t===void 0&&(t={}),Object.keys(e).filter(function(n){return n.indexOf("ui:")===0}).reduce(function(n,r){var a,i=e[r];return r===Qg&&yt(i)?(console.error("Setting options via ui:widget object is no longer supported, use ui:options instead"),n):r===po&&yt(i)?st({},n,i):st({},n,(a={},a[r.substring(3)]=i,a))},st({},t))}function $H(e,t,n){if(t===void 0&&(t={}),!e.additionalProperties)return!1;var r=tt(t),a=r.expandable,i=a===void 0?!0:a;return i===!1?i:e.maxProperties!==void 0&&n?Object.keys(n).length<e.maxProperties:!0}function kp(e){var t,n=(t={},t[Vn]=[],t.addError=function(i){this[Vn].push(i)},t);if(Array.isArray(e))return e.reduce(function(a,i,o){var s;return st({},a,(s={},s[o]=kp(i),s))},n);if(ag(e)){var r=e;return Object.keys(r).reduce(function(a,i){var o;return st({},a,(o={},o[i]=kp(r[i]),o))},n)}return n}function Ln(e,t){return pR(e,t,function(n,r){if(typeof n=="function"&&typeof r=="function")return!0})}function Xg(e,t){var n=t[e],r=Rl(t,[e]);return[r,n]}function Jg(e,t){t===void 0&&(t={});var n=e||"";if(n.startsWith("#"))n=decodeURIComponent(n.substring(1));else throw new Error("Could not find a definition for "+e+".");var r=lc.get(t,n);if(r===void 0)throw new Error("Could not find a definition for "+e+".");if(r[It]){var a=Xg(It,r),i=a[0],o=a[1],s=Jg(o,t);return Object.keys(i).length>0?st({},i,s):s}return r}function eN(e,t,n,r,a){if(t===void 0)return 0;for(var i=0;i<n.length;i++){var o=n[i];if(a&&en(o,[Dt,a])){var s=Se(t,a),l=Se(o,[Dt,a],{});if(e.isValid(l,s,r))return i}else if(o[Dt]){var c={anyOf:Object.keys(o[Dt]).map(function(p){return{required:[p]}})},u=void 0;if(o.anyOf){var d=st({},(_H(o),o));d.allOf?d.allOf=d.allOf.slice():d.allOf=[],d.allOf.push(c),u=d}else u=Object.assign({},o,c);if(delete u.required,e.isValid(u,t,r))return i}else if(e.isValid(o,t,r))return i}return 0}function Zg(e,t,n,r,a){return eN(e,t,n,r,a)}function Do(e){var t,n=Se(e,"discriminator.propertyName",void 0);return ng(n)?t=n:n!==void 0&&console.warn('Expecting discriminator to be a string, got "'+typeof n+'" instead'),t}function Vo(e){return Array.isArray(e)?"array":typeof e=="string"?"string":e==null?"null":typeof e=="boolean"?"boolean":isNaN(e)?typeof e=="object"?"object":"string":"number"}function ra(e){var t=e.type;return!t&&e.const?Vo(e.const):!t&&e.enum?"string":!t&&(e.properties||e.additionalProperties)?"object":(Array.isArray(t)&&t.length===2&&t.includes("null")&&(t=t.find(function(n){return n!=="null"})),t)}function pc(e,t){var n=Object.assign({},e);return Object.keys(t).reduce(function(r,a){var i=e?e[a]:{},o=t[a];return e&&a in e&&yt(o)?r[a]=pc(i,o):e&&t&&(ra(e)==="object"||ra(t)==="object")&&a===IH&&Array.isArray(i)&&Array.isArray(o)?r[a]=uR(i,o):r[a]=o,r},n)}var AH=["if","then","else"],OH=["$ref"],kH=["allOf"],PH=["dependencies"],DH=["oneOf"];function mn(e,t,n,r){return n===void 0&&(n={}),Yn(e,t,n,r)[0]}function VH(e,t,n,r,a){var i=t.if,o=t.then,s=t.else,l=Fi(t,AH),c=e.isValid(i,a||{},n),u=[l],d=[];if(r)o&&typeof o!="boolean"&&(d=d.concat(Yn(e,o,n,a,r))),s&&typeof s!="boolean"&&(d=d.concat(Yn(e,s,n,a,r)));else{var p=c?o:s;p&&typeof p!="boolean"&&(d=d.concat(Yn(e,p,n,a,r)))}return d.length&&(u=d.map(function(m){return pc(l,m)})),u.flatMap(function(m){return Yn(e,m,n,a,r)})}function tN(e){var t=e.reduce(function(n,r){return r.length>1?r.flatMap(function(a){return ig(n.length,function(i){return[].concat(n[i]).concat(a)})}):(n.forEach(function(a){return a.push(r[0])}),n)},[[]]);return t}function LH(e,t,n,r,a){if(It in t)return ey(e,t,n,r,a);if(fc in t){var i=nN(e,t,n,r,a);return i.flatMap(function(l){return Yn(e,l,n,a,r)})}if(cc in t&&Array.isArray(t.allOf)){var o=t.allOf.map(function(l){return Yn(e,l,n,a,r)}),s=tN(o);return s.map(function(l){return st({},t,{allOf:l})})}return[t]}function ey(e,t,n,r,a){var i=t.$ref,o=Fi(t,OH),s=Jg(i,n);return Yn(e,st({},s,o),n,a,r)}function FH(e,t,n,r){var a=st({},t,{properties:st({},t.properties)}),i=r&&yt(r)?r:{};return Object.keys(i).forEach(function(o){if(!(o in a.properties)){var s={};typeof a.additionalProperties!="boolean"?It in a.additionalProperties?s=mn(e,{$ref:Se(a.additionalProperties,[It])},n,i):"type"in a.additionalProperties?s=st({},a.additionalProperties):dc in a.additionalProperties||La in a.additionalProperties?s=st({type:"object"},a.additionalProperties):s={type:Vo(Se(i,[o]))}:s={type:Vo(Se(i,[o]))},a.properties[o]=s,Sn(a.properties,[o,ds],!0)}}),a}function Yn(e,t,n,r,a){if(a===void 0&&(a=!1),!yt(t))return[{}];var i=LH(e,t,n,a,r);return i.flatMap(function(o){var s=o;if(NH in s)return VH(e,s,n,a,r);if(cc in t)try{s=yH(o,{deep:!1})}catch(p){console.warn(`could not merge subschemas in allOf:
`,p);var l=s,c=l.allOf,u=Fi(l,kH);return a&&c?[u].concat(c):u}var d=Op in s&&s.additionalProperties!==!1;return d?FH(e,s,n,r):s})}function qH(e,t,n,r,a){var i;if(Array.isArray(t.oneOf)?i=t.oneOf:Array.isArray(t.anyOf)&&(i=t.anyOf),i){var o=a===void 0&&r?{}:a,s=Do(t);i=i.map(function(c){return It in c?ey(e,c,n,!1,o)[0]:c});var l=Zg(e,o,i,n,s);if(r)return i;t=i[l]}return[t]}function nN(e,t,n,r,a){var i=t.dependencies,o=Fi(t,PH),s=qH(e,o,n,r,a);return s.flatMap(function(l){return rN(e,i,l,n,r,a)})}function rN(e,t,n,r,a,i){var o=[n],s=function(){if(!a&&Se(i,[l])===void 0||n.properties&&!(l in n.properties))return"continue";var d=Xg(l,t),p=d[0],m=d[1];return Array.isArray(m)?o[0]=MH(n,m):yt(m)&&(o=BH(e,n,r,l,m,a,i)),{v:o.flatMap(function(h){return rN(e,p,h,r,a,i)})}};for(var l in t){var c=s();if(c!=="continue"&&typeof c=="object")return c.v}return o}function MH(e,t){if(!t)return e;var n=Array.isArray(e.required)?Array.from(new Set([].concat(e.required,t))):t;return st({},e,{required:n})}function BH(e,t,n,r,a,i,o){var s=Yn(e,a,n,o,i);return s.flatMap(function(l){var c=l.oneOf,u=Fi(l,DH);if(t=pc(t,u),c===void 0)return t;var d=c.map(function(m){return typeof m=="boolean"||!(It in m)?[m]:ey(e,m,n,i,o)}),p=tN(d);return p.flatMap(function(m){return UH(e,t,n,r,m,i,o)})})}function UH(e,t,n,r,a,i,o){var s=a.filter(function(l){if(typeof l=="boolean"||!l||!l.properties)return!1;var c=l.properties[r];if(c){var u,d={type:"object",properties:(u={},u[r]=c,u)};return e.isValid(d,o,n)||i}return!1});return!i&&s.length!==1?(console.warn("ignoring oneOf in dependencies because there isn't exactly one subschema that is valid"),[t]):s.flatMap(function(l){var c=l,u=Xg(r,c.properties),d=u[0],p=st({},c,{properties:d}),m=Yn(e,p,n,o,i);return m.map(function(h){return pc(t,h)})})}var HH={type:"object",$id:TH,properties:{__not_really_there__:{type:"number"}}};function Pp(e,t,n,r){r===void 0&&(r={});var a=0;return n&&(Cn(n.properties)?a+=lR(n.properties,function(i,o,s){var l=Se(r,s);if(typeof o=="boolean")return i;if(en(o,It)){var c=mn(e,o,t,l);return i+Pp(e,t,c,l||{})}if(en(o,La)&&l)return i+Lo(e,t,l,Se(o,La));if(o.type==="object")return i+Pp(e,t,o,l||{});if(o.type===Vo(l)){var u=i+1;return o.default?u+=l===o.default?1:-1:o.const&&(u+=l===o.const?1:-1),u}return i},0):ng(n.type)&&n.type===Vo(r)&&(a+=1)),a}function Lo(e,t,n,r,a,i){a===void 0&&(a=-1);var o=r.reduce(function(u,d,p){var m=[HH,d],h=Zg(e,n,m,t,i);return h===1&&u.push(p),u},[]);if(o.length===1)return o[0];o.length||ig(r.length,function(u){return o.push(u)});var s=new Set,l=o.reduce(function(u,d){var p=u.bestScore,m=r[d];en(m,It)&&(m=mn(e,m,t,n));var h=Pp(e,t,m,n);return s.add(h),h>p?{bestIndex:d,bestScore:h}:u},{bestIndex:a,bestScore:0}),c=l.bestIndex;return s.size===1&&a>=0?a:c}function Dp(e){return Array.isArray(e.items)&&e.items.length>0&&e.items.every(function(t){return yt(t)})}function eu(e,t,n){if(n===void 0&&(n=!1),Array.isArray(t)){var r=Array.isArray(e)?e:[],a=t.map(function(o,s){return r[s]?eu(r[s],o,n):o});return n&&a.length<r.length&&a.push.apply(a,r.slice(a.length)),a}if(yt(t)){var i=Object.assign({},e);return Object.keys(t).reduce(function(o,s){return o[s]=eu(e?Se(e,s):{},Se(t,s),n),o},i)}return t}function qi(e,t,n){return n===void 0&&(n=!1),Object.keys(t).reduce(function(r,a){var i=e?e[a]:{},o=t[a];if(e&&a in e&&yt(o))r[a]=qi(i,o,n);else if(n&&Array.isArray(i)&&Array.isArray(o)){var s=o;n==="preventDuplicates"&&(s=o.reduce(function(l,c){return i.includes(c)||l.push(c),l},[])),r[a]=i.concat(s)}else r[a]=o;return r},Object.assign({},e))}function zH(e){return Array.isArray(e.enum)&&e.enum.length===1||J1 in e}function aN(e,t,n){n===void 0&&(n={});var r=mn(e,t,n,void 0),a=r.oneOf||r.anyOf;return Array.isArray(r.enum)?!0:Array.isArray(a)?a.every(function(i){return typeof i!="boolean"&&zH(i)}):!1}function ty(e,t,n){return!t.uniqueItems||!t.items||typeof t.items=="boolean"?!1:aN(e,t.items,n)}var Ci;(function(e){e[e.Ignore=0]="Ignore",e[e.Invert=1]="Invert",e[e.Fallback=2]="Fallback"})(Ci||(Ci={}));function ff(e,t,n){if(t===void 0&&(t=Ci.Ignore),n===void 0&&(n=-1),n>=0){if(Array.isArray(e.items)&&n<e.items.length){var r=e.items[n];if(typeof r!="boolean")return r}}else if(e.items&&!Array.isArray(e.items)&&typeof e.items!="boolean")return e.items;return t!==Ci.Ignore&&yt(e.additionalItems)?e.additionalItems:{}}function E_(e,t,n,r,a,i,o){i===void 0&&(i=[]),o===void 0&&(o={});var s=o,l=s.emptyObjectFields,c=l===void 0?"populateAllDefaults":l;if(r)e[t]=n;else if(c!=="skipDefaults")if(yt(n)){var u=a===void 0?i.includes(t):a;(!Jr(n)||i.includes(t))&&(u||c!=="populateRequiredDefaults")&&(e[t]=n)}else n!==void 0&&(c==="populateAllDefaults"||i.includes(t))&&(e[t]=n)}function Fr(e,t,n){var r=n===void 0?{}:n,a=r.parentDefaults,i=r.rawFormData,o=r.rootSchema,s=o===void 0?{}:o,l=r.includeUndefinedValues,c=l===void 0?!1:l,u=r._recurseList,d=u===void 0?[]:u,p=r.experimental_defaultFormStateBehavior,m=p===void 0?void 0:p,h=r.required,g=yt(i)?i:{},y=yt(t)?t:{},v=a,w=null,_=d;if(yt(v)&&yt(y.default))v=qi(v,y.default);else if(CH in y)v=y.default;else if(It in y){var b=y[It];d.includes(b)||(_=d.concat(b),w=Jg(b,s))}else if(fc in y){var E=nN(e,y,s,!1,g);w=E[0]}else if(Dp(y))v=y.items.map(function(x,A){return Fr(e,x,{rootSchema:s,includeUndefinedValues:c,_recurseList:d,experimental_defaultFormStateBehavior:m,parentDefaults:Array.isArray(a)?a[A]:void 0,rawFormData:g,required:h})});else if(La in y){if(y.oneOf.length===0)return;var S=Do(y);w=y.oneOf[Lo(e,s,Jr(g)?void 0:g,y.oneOf,0,S)]}else if(dc in y){if(y.anyOf.length===0)return;var N=Do(y);w=y.anyOf[Lo(e,s,Jr(g)?void 0:g,y.anyOf,0,N)]}if(w)return Fr(e,w,{rootSchema:s,includeUndefinedValues:c,_recurseList:_,experimental_defaultFormStateBehavior:m,parentDefaults:v,rawFormData:g,required:h});switch(v===void 0&&(v=y.default),ra(y)){case"object":{var C=Object.keys(y.properties||{}).reduce(function(x,A){var j,U=Fr(e,Se(y,[Dt,A]),{rootSchema:s,_recurseList:d,experimental_defaultFormStateBehavior:m,includeUndefinedValues:c===!0,parentDefaults:Se(v,[A]),rawFormData:Se(g,[A]),required:(j=y.required)===null||j===void 0?void 0:j.includes(A)});return E_(x,A,U,c,h,y.required,m),x},{});if(y.additionalProperties){var I=yt(y.additionalProperties)?y.additionalProperties:{},k=new Set;yt(v)&&Object.keys(v).filter(function(x){return!y.properties||!y.properties[x]}).forEach(function(x){return k.add(x)});var O;yt(g)&&(O=[],Object.keys(g).filter(function(x){return!y.properties||!y.properties[x]}).forEach(function(x){k.add(x),O.push(x)})),k.forEach(function(x){var A,j=Fr(e,I,{rootSchema:s,_recurseList:d,experimental_defaultFormStateBehavior:m,includeUndefinedValues:c===!0,parentDefaults:Se(v,[x]),rawFormData:Se(g,[x]),required:(A=y.required)===null||A===void 0?void 0:A.includes(x)});E_(C,x,j,c,h,O)})}return C}case"array":{var M;if(Array.isArray(v)&&(v=v.map(function(x,A){var j=ff(y,Ci.Fallback,A);return Fr(e,j,{rootSchema:s,_recurseList:d,experimental_defaultFormStateBehavior:m,parentDefaults:x,required:h})})),Array.isArray(i)){var q=ff(y);v=i.map(function(x,A){return Fr(e,q,{rootSchema:s,_recurseList:d,experimental_defaultFormStateBehavior:m,rawFormData:x,parentDefaults:Se(v,[A]),required:h})})}var $=(m==null||(M=m.arrayMinItems)===null||M===void 0?void 0:M.populate)==="requiredOnly";if($&&!h)return v||void 0;var B=Array.isArray(v)?v.length:0;if(!y.minItems||ty(e,y,s)||y.minItems<=B)return v||[];var L=v||[],F=ff(y,Ci.Invert),z=F.default,D=new Array(y.minItems-B).fill(Fr(e,F,{parentDefaults:z,rootSchema:s,_recurseList:d,experimental_defaultFormStateBehavior:m,required:h}));return L.concat(D)}}return v}function iN(e,t,n,r,a,i){if(a===void 0&&(a=!1),!yt(t))throw new Error("Invalid schema: "+t);var o=mn(e,t,r,n),s=Fr(e,o,{rootSchema:r,includeUndefinedValues:a,experimental_defaultFormStateBehavior:i,rawFormData:n});if(n==null||typeof n=="number"&&isNaN(n))return s;var l=(i==null?void 0:i.arrayMinItems)||{},c=l.mergeExtraDefaults;return yt(n)||Array.isArray(n)?eu(s,n,c):n}function oN(e){return e===void 0&&(e={}),"widget"in tt(e)&&tt(e).widget!=="hidden"}function sN(e,t,n,r){if(n===void 0&&(n={}),n[Qg]==="files")return!0;if(t.items){var a=mn(e,t.items,r);return a.type==="string"&&a.format==="data-url"}return!1}function jH(e,t,n,r,a){n===void 0&&(n={});var i=tt(n,a),o=i.label,s=o===void 0?!0:o,l=!!s,c=ra(t);return c==="array"&&(l=ty(e,t,r)||sN(e,t,n,r)||oN(n)),c==="object"&&(l=!1),c==="boolean"&&!n[Qg]&&(l=!1),n[RH]&&(l=!1),l}function WH(e,t,n){if(!n)return t;var r=t.errors,a=t.errorSchema,i=e.toErrorList(n),o=n;return Jr(a)||(o=qi(a,n,!0),i=[].concat(r).concat(i)),{errorSchema:o,errors:i}}var Ja=Symbol("no Value");function Vp(e,t,n,r,a){a===void 0&&(a={});var i;if(en(n,Dt)){var o={};if(en(r,Dt)){var s=Se(r,Dt,{});Object.keys(s).forEach(function(g){en(a,g)&&(o[g]=void 0)})}var l=Object.keys(Se(n,Dt,{})),c={};l.forEach(function(g){var y=Se(a,g),v=Se(r,[Dt,g],{}),w=Se(n,[Dt,g],{});en(v,It)&&(v=mn(e,v,t,y)),en(w,It)&&(w=mn(e,w,t,y));var _=Se(v,"type"),b=Se(w,"type");if(!_||_===b)if(en(o,g)&&delete o[g],b==="object"||b==="array"&&Array.isArray(y)){var E=Vp(e,t,w,v,y);(E!==void 0||b==="array")&&(c[g]=E)}else{var S=Se(w,"default",Ja),N=Se(v,"default",Ja);S!==Ja&&S!==y&&(N===y?o[g]=S:Se(w,"readOnly")===!0&&(o[g]=void 0));var C=Se(w,"const",Ja),I=Se(v,"const",Ja);C!==Ja&&C!==y&&(o[g]=I===y?C:void 0)}}),i=st({},a,o,c)}else if(Se(r,"type")==="array"&&Se(n,"type")==="array"&&Array.isArray(a)){var u=Se(r,"items"),d=Se(n,"items");if(typeof u=="object"&&typeof d=="object"&&!Array.isArray(u)&&!Array.isArray(d)){en(u,It)&&(u=mn(e,u,t,a)),en(d,It)&&(d=mn(e,d,t,a));var p=Se(u,"type"),m=Se(d,"type");if(!p||p===m){var h=Se(n,"maxItems",-1);m==="object"?i=a.reduce(function(g,y){var v=Vp(e,t,d,u,y);return v!==void 0&&(h<0||g.length<h)&&g.push(v),g},[]):i=h>0&&a.length>h?a.slice(0,h):a}}else typeof u=="boolean"&&typeof d=="boolean"&&u===d&&(i=a)}return i}function fl(e,t,n,r,a,i,o,s){if(s===void 0&&(s=[]),It in t||fc in t||cc in t){var l=mn(e,t,i,o),c=s.findIndex(function(g){return Ht(g,l)});if(c===-1)return fl(e,l,n,r,a,i,o,s.concat(l))}if(Ia in t&&!Se(t,[Ia,It]))return fl(e,Se(t,Ia),n,r,a,i,o,s);var u=a||n,d={$id:u};if(ra(t)==="object"&&Dt in t)for(var p in t.properties){var m=Se(t,[Dt,p]),h=d[zr]+r+p;d[p]=fl(e,yt(m)?m:{},n,r,h,i,Se(o,[p]),s)}return d}function GH(e,t,n,r,a,i,o){return i===void 0&&(i="root"),o===void 0&&(o="_"),fl(e,t,i,o,n,r,a)}function lo(e,t,n,r,a,i){var o;if(i===void 0&&(i=[]),It in t||fc in t||cc in t){var s=mn(e,t,r,a),l=i.findIndex(function(y){return Ht(y,s)});if(l===-1)return lo(e,s,n,r,a,i.concat(s))}var c=(o={},o[dl]=n.replace(/^\./,""),o);if(La in t||dc in t){var u=La in t?t.oneOf:t.anyOf,d=Do(t),p=Lo(e,r,a,u,0,d),m=u[p];c=st({},c,lo(e,m,n,r,a,i))}if(Op in t&&t[Op]!==!1&&Sn(c,Yg,!0),Ia in t&&Array.isArray(a))a.forEach(function(y,v){c[v]=lo(e,t.items,n+"."+v,r,y,i)});else if(Dt in t)for(var h in t.properties){var g=Se(t,[Dt,h]);c[h]=lo(e,g,n+"."+h,r,Se(a,[h]),i)}return c}function KH(e,t,n,r,a){return n===void 0&&(n=""),lo(e,t,n,r,a)}var YH=function(){function e(n,r,a){this.rootSchema=void 0,this.validator=void 0,this.experimental_defaultFormStateBehavior=void 0,this.rootSchema=r,this.validator=n,this.experimental_defaultFormStateBehavior=a}var t=e.prototype;return t.getValidator=function(){return this.validator},t.doesSchemaUtilsDiffer=function(r,a,i){return i===void 0&&(i={}),!r||!a?!1:this.validator!==r||!Ln(this.rootSchema,a)||!Ln(this.experimental_defaultFormStateBehavior,i)},t.getDefaultFormState=function(r,a,i){return i===void 0&&(i=!1),iN(this.validator,r,a,this.rootSchema,i,this.experimental_defaultFormStateBehavior)},t.getDisplayLabel=function(r,a,i){return jH(this.validator,r,a,this.rootSchema,i)},t.getClosestMatchingOption=function(r,a,i,o){return Lo(this.validator,this.rootSchema,r,a,i,o)},t.getFirstMatchingOption=function(r,a,i){return Zg(this.validator,r,a,this.rootSchema,i)},t.getMatchingOption=function(r,a,i){return eN(this.validator,r,a,this.rootSchema,i)},t.isFilesArray=function(r,a){return sN(this.validator,r,a,this.rootSchema)},t.isMultiSelect=function(r){return ty(this.validator,r,this.rootSchema)},t.isSelect=function(r){return aN(this.validator,r,this.rootSchema)},t.mergeValidationData=function(r,a){return WH(this.validator,r,a)},t.retrieveSchema=function(r,a){return mn(this.validator,r,this.rootSchema,a)},t.sanitizeDataForNewSchema=function(r,a,i){return Vp(this.validator,this.rootSchema,r,a,i)},t.toIdSchema=function(r,a,i,o,s){return o===void 0&&(o="root"),s===void 0&&(s="_"),GH(this.validator,r,a,this.rootSchema,i,o,s)},t.toPathSchema=function(r,a,i){return KH(this.validator,r,a,this.rootSchema,i)},e}();function QH(e,t,n){return n===void 0&&(n={}),new YH(e,t,n)}function XH(e){var t=e.split(","),n=t[0].split(";"),r=n[0].replace("data:",""),a=n.filter(function(u){return u.split("=")[0]==="name"}),i;a.length!==1?i="unknown":i=decodeURI(a[0].split("=")[1]);try{for(var o=atob(t[1]),s=[],l=0;l<o.length;l++)s.push(o.charCodeAt(l));var c=new window.Blob([new Uint8Array(s)],{type:r});return{blob:c,name:i}}catch(u){return{blob:{size:0,type:u.message},name:e}}}function JH(e,t){var n=e;if(Array.isArray(t)){var r=n.split(/(%\d)/);t.forEach(function(a,i){var o=r.findIndex(function(s){return s==="%"+(i+1)});o>=0&&(r[o]=a)}),n=r.join("")}return n}function ZH(e,t){return JH(e,t)}function er(e,t,n){if(t===void 0&&(t=[]),Array.isArray(e))return e.map(function(i){return er(i,t)}).filter(function(i){return i});var r=e===""||e===null?-1:Number(e),a=t[r];return a?a.value:n}function e6(e,t,n){n===void 0&&(n=[]);var r=er(e,n);return Array.isArray(t)?t.filter(function(a){return!Ht(a,r)}):Ht(r,t)?void 0:t}function ny(e,t){return Array.isArray(t)?t.some(function(n){return Ht(n,e)}):Ht(t,e)}function t6(e,t,n){t===void 0&&(t=[]),n===void 0&&(n=!1);var r=t.map(function(a,i){return ny(a.value,e)?String(i):void 0}).filter(function(a){return typeof a<"u"});return n?r:r[0]}function n6(e,t,n){n===void 0&&(n=[]);var r=er(e,n);if(!mR(r)){var a=n.findIndex(function(s){return r===s.value}),i=n.map(function(s){var l=s.value;return l}),o=t.slice(0,a).concat(r,t.slice(a));return o.sort(function(s,l){return+(i.indexOf(s)>i.indexOf(l))})}return t}var r6=function(){function e(n){this.errorSchema={},this.resetAllErrors(n)}var t=e.prototype;return t.getOrCreateErrorBlock=function(r){var a=Array.isArray(r)&&r.length>0||typeof r=="string",i=a?Se(this.errorSchema,r):this.errorSchema;return!i&&r&&(i={},Sn(this.errorSchema,r,i)),i},t.resetAllErrors=function(r){return this.errorSchema=r?fr(r):{},this},t.addErrors=function(r,a){var i=this.getOrCreateErrorBlock(a),o=Se(i,Vn);if(Array.isArray(o)||(o=[],i[Vn]=o),Array.isArray(r)){var s;(s=o).push.apply(s,r)}else o.push(r);return this},t.setErrors=function(r,a){var i=this.getOrCreateErrorBlock(a),o=Array.isArray(r)?[].concat(r):[r];return Sn(i,Vn,o),this},t.clearErrors=function(r){var a=this.getOrCreateErrorBlock(r);return Sn(a,Vn,[]),this},bH(e,[{key:"ErrorSchema",get:function(){return this.errorSchema}}]),e}();function a6(e){var t={};return e.multipleOf&&(t.step=e.multipleOf),(e.minimum||e.minimum===0)&&(t.min=e.minimum),(e.maximum||e.maximum===0)&&(t.max=e.maximum),t}function i6(e,t,n,r){n===void 0&&(n={}),r===void 0&&(r=!0);var a=st({type:t||"text"},a6(e));return n.inputType?a.type=n.inputType:t||(e.type==="number"?(a.type="number",r&&a.step===void 0&&(a.step="any")):e.type==="integer"&&(a.type="number",a.step===void 0&&(a.step=1))),n.autocomplete&&(a.autoComplete=n.autocomplete),a}var N_={props:{disabled:!1},submitText:"Submit",norender:!1};function o6(e){e===void 0&&(e={});var t=tt(e);if(t&&t[Zl]){var n=t[Zl];return st({},N_,n)}return N_}function nt(e,t,n){n===void 0&&(n={});var r=t.templates;return e==="ButtonTemplates"?r[e]:n[e]||r[e]}var s6=["options"],pf={boolean:{checkbox:"CheckboxWidget",radio:"RadioWidget",select:"SelectWidget",hidden:"HiddenWidget"},string:{text:"TextWidget",password:"PasswordWidget",email:"EmailWidget",hostname:"TextWidget",ipv4:"TextWidget",ipv6:"TextWidget",uri:"URLWidget","data-url":"FileWidget",radio:"RadioWidget",select:"SelectWidget",textarea:"TextareaWidget",hidden:"HiddenWidget",date:"DateWidget",datetime:"DateTimeWidget","date-time":"DateTimeWidget","alt-date":"AltDateWidget","alt-datetime":"AltDateTimeWidget",time:"TimeWidget",color:"ColorWidget",file:"FileWidget"},number:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},integer:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},array:{select:"SelectWidget",checkboxes:"CheckboxesWidget",files:"FileWidget",hidden:"HiddenWidget"}};function l6(e){var t=Se(e,"MergedWidget");if(!t){var n=e.defaultProps&&e.defaultProps.options||{};t=function(a){var i=a.options,o=Fi(a,s6);return f(e,st({options:st({},n,i)},o))},Sn(e,"MergedWidget",t)}return t}function yr(e,t,n){n===void 0&&(n={});var r=ra(e);if(typeof t=="function"||t&&lv.isForwardRef(R.createElement(t))||lv.isMemo(t))return l6(t);if(typeof t!="string")throw new Error("Unsupported widget definition: "+typeof t);if(t in n){var a=n[t];return yr(e,a,n)}if(typeof r=="string"){if(!(r in pf))throw new Error("No widget for type '"+r+"'");if(t in pf[r]){var i=n[pf[r][t]];return yr(e,i,n)}}throw new Error("No widget '"+t+"' for type '"+r+"'")}function u6(e){for(var t=0,n=0;n<e.length;n+=1){var r=e.charCodeAt(n);t=(t<<5)-t+r,t=t&t}return t.toString(16)}function c6(e){var t=new Set;return JSON.stringify(e,function(n,r){return t.add(n),r}),u6(JSON.stringify(e,Array.from(t).sort()))}function d6(e,t,n){n===void 0&&(n={});try{return yr(e,t,n),!0}catch(a){var r=a;if(r.message&&(r.message.startsWith("No widget")||r.message.startsWith("Unsupported widget")))return!1;throw a}}function fs(e,t){var n=ng(e)?e:e[zr];return n+"__"+t}function ps(e){return fs(e,"description")}function lN(e){return fs(e,"error")}function Lp(e){return fs(e,"examples")}function uN(e){return fs(e,"help")}function cN(e){return fs(e,"title")}function Wa(e,t){t===void 0&&(t=!1);var n=t?" "+Lp(e):"";return lN(e)+" "+ps(e)+" "+uN(e)+n}function dN(e,t){return e+"-"+t}function f6(e,t,n){return t?n:e}function p6(e){return e?new Date(e).toJSON():void 0}function m6(e){if(EH in e&&Array.isArray(e.enum)&&e.enum.length===1)return e.enum[0];if(J1 in e)return e.const;throw new Error("schema cannot be inferred as a constant")}function tu(e){var t=e;if(t.enumNames,e.enum)return e.enum.map(function(r,a){var i=t.enumNames&&t.enumNames[a]||String(r);return{label:i,value:r}});var n=e.oneOf||e.anyOf;return n&&n.map(function(r){var a=r,i=m6(a),o=a.title||String(i);return{schema:a,label:o,value:i}})}function h6(e,t){if(!Array.isArray(t))return e;var n=function(d){return d.reduce(function(p,m){return p[m]=!0,p},{})},r=function(d){return d.length>1?"properties '"+d.join("', '")+"'":"property '"+d[0]+"'"},a=n(e),i=t.filter(function(u){return u==="*"||a[u]}),o=n(i),s=e.filter(function(u){return!o[u]}),l=i.indexOf("*");if(l===-1){if(s.length)throw new Error("uiSchema order list does not contain "+r(s));return i}if(l!==i.lastIndexOf("*"))throw new Error("uiSchema order list contains more than one wildcard item");var c=[].concat(i);return c.splice.apply(c,[l,1].concat(s)),c}function qr(e,t){for(var n=String(e);n.length<t;)n="0"+n;return n}function mf(e,t){if(t===void 0&&(t=!0),!e)return{year:-1,month:-1,day:-1,hour:t?-1:0,minute:t?-1:0,second:t?-1:0};var n=new Date(e);if(Number.isNaN(n.getTime()))throw new Error("Unable to parse date "+e);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:t?n.getUTCHours():0,minute:t?n.getUTCMinutes():0,second:t?n.getUTCSeconds():0}}function pl(e){if(e.const||e.enum&&e.enum.length===1&&e.enum[0]===!0)return!0;if(e.anyOf&&e.anyOf.length===1)return pl(e.anyOf[0]);if(e.oneOf&&e.oneOf.length===1)return pl(e.oneOf[0]);if(e.allOf){var t=function(r){return pl(r)};return e.allOf.some(t)}return!1}function g6(e,t,n){var r=e.props,a=e.state;return!Ln(r,t)||!Ln(a,n)}function T_(e,t){t===void 0&&(t=!0);var n=e.year,r=e.month,a=e.day,i=e.hour,o=i===void 0?0:i,s=e.minute,l=s===void 0?0:s,c=e.second,u=c===void 0?0:c,d=Date.UTC(n,r-1,a,o,l,u),p=new Date(d).toJSON();return t?p:p.slice(0,10)}function Fo(e,t){if(t===void 0&&(t=[]),!e)return[];var n=[];return Vn in e&&(n=n.concat(e[Vn].map(function(r){var a="."+t.join(".");return{property:a,message:r,stack:a+" "+r}}))),Object.keys(e).reduce(function(r,a){if(a!==Vn){var i=e[a];ag(i)&&(r=r.concat(Fo(i,[].concat(t,[a]))))}return r},n)}function y6(e){var t=new r6;return e.length&&e.forEach(function(n){var r=n.property,a=n.message,i=r==="."?[]:oS(r);i.length>0&&i[0]===""&&i.splice(0,1),a&&t.addErrors(a,i)}),t.ErrorSchema}function fN(e){return Object.keys(e).reduce(function(t,n){if(n==="addError")return t;var r,a=e[n];if(ag(a)){var i;return st({},t,(i={},i[n]=fN(a),i))}return st({},t,(r={},r[n]=a,r))},{})}function v6(e){if(!e)return"";var t=new Date(e),n=qr(t.getFullYear(),4),r=qr(t.getMonth()+1,2),a=qr(t.getDate(),2),i=qr(t.getHours(),2),o=qr(t.getMinutes(),2),s=qr(t.getSeconds(),2),l=qr(t.getMilliseconds(),3);return n+"-"+r+"-"+a+"T"+i+":"+o+":"+s+"."+l}function ml(e,t){if(!t)return e;var n=e.errors,r=e.errorSchema,a=Fo(t),i=t;return Jr(r)||(i=qi(r,t,!0),a=[].concat(n).concat(a)),{errorSchema:i,errors:a}}function b6(e){for(var t in e){var n=e,r=n[t];t===It&&typeof r=="string"&&r.startsWith("#")?n[t]=Z1+r:n[t]=ry(r)}return e}function _6(e){for(var t=0;t<e.length;t++)e[t]=ry(e[t]);return e}function ry(e){return e.constructor===Object?b6(st({},e)):Array.isArray(e)?_6([].concat(e)):e}var it;(function(e){e.ArrayItemTitle="Item",e.MissingItems="Missing items definition",e.YesLabel="Yes",e.NoLabel="No",e.CloseLabel="Close",e.ErrorsLabel="Errors",e.NewStringDefault="New Value",e.AddButton="Add",e.AddItemButton="Add Item",e.CopyButton="Copy",e.MoveDownButton="Move down",e.MoveUpButton="Move up",e.RemoveButton="Remove",e.NowLabel="Now",e.ClearLabel="Clear",e.AriaDateLabel="Select a date",e.PreviewLabel="Preview",e.DecrementAriaLabel="Decrease value by 1",e.IncrementAriaLabel="Increase value by 1",e.UnknownFieldType="Unknown field type %1",e.OptionPrefix="Option %1",e.TitleOptionPrefix="%1 option %2",e.KeyLabel="%1 Key",e.InvalidObjectField='Invalid "%1" object field configuration: <em>%2</em>.',e.UnsupportedField="Unsupported field schema.",e.UnsupportedFieldWithId="Unsupported field schema for field <code>%1</code>.",e.UnsupportedFieldWithReason="Unsupported field schema: <em>%1</em>.",e.UnsupportedFieldWithIdAndReason="Unsupported field schema for field <code>%1</code>: <em>%2</em>.",e.FilesInfo="<strong>%1</strong> (%2, %3 bytes)"})(it||(it={}));let w6=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");function I_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,E6(r.key),r)}}function S6(e,t,n){return t&&I_(e.prototype,t),n&&I_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ye.apply(this,arguments)}function ms(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Fp(e,t)}function Fp(e,t){return Fp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Fp(e,t)}function Tn(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function C6(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E6(e){var t=C6(e,"string");return typeof t=="symbol"?t:String(t)}var N6=["widget","title"],T6=["widget","title"],I6=["widget","title"];function qp(){return w6()}function R_(e){return Array.isArray(e)?e.map(function(t){return{key:qp(),item:t}}):[]}function Ji(e){return Array.isArray(e)?e.map(function(t){return t.item}):[]}var R6=function(e){ms(t,e);function t(r){var a;a=e.call(this,r)||this,a._getNewFormDataRow=function(){var l=a.props,c=l.schema,u=l.registry,d=u.schemaUtils,p=c.items;return Dp(c)&&vH(c)&&(p=c.additionalItems),d.getDefaultFormState(p)},a.onAddClick=function(l){a._handleAddClick(l)},a.onAddIndexClick=function(l){return function(c){a._handleAddClick(c,l)}},a.onCopyIndexClick=function(l){return function(c){c&&c.preventDefault();var u=a.props.onChange,d=a.state.keyedFormData,p={key:qp(),item:fr(d[l].item)},m=[].concat(d);l!==void 0?m.splice(l+1,0,p):m.push(p),a.setState({keyedFormData:m,updatedKeyedFormData:!0},function(){return u(Ji(m))})}},a.onDropIndexClick=function(l){return function(c){c&&c.preventDefault();var u=a.props,d=u.onChange,p=u.errorSchema,m=a.state.keyedFormData,h;if(p){h={};for(var g in p){var y=parseInt(g);y<l?Sn(h,[y],p[g]):y>l&&Sn(h,[y-1],p[g])}}var v=m.filter(function(w,_){return _!==l});a.setState({keyedFormData:v,updatedKeyedFormData:!0},function(){return d(Ji(v),h)})}},a.onReorderClick=function(l,c){return function(u){u&&(u.preventDefault(),u.currentTarget.blur());var d=a.props,p=d.onChange,m=d.errorSchema,h;if(m){h={};for(var g in m){var y=parseInt(g);y==l?Sn(h,[c],m[l]):y==c?Sn(h,[l],m[c]):Sn(h,[g],m[y])}}var v=a.state.keyedFormData;function w(){var b=v.slice();return b.splice(l,1),b.splice(c,0,v[l]),b}var _=w();a.setState({keyedFormData:_},function(){return p(Ji(_),h)})}},a.onChangeForIndex=function(l){return function(c,u,d){var p,m=a.props,h=m.formData,g=m.onChange,y=m.errorSchema,v=Array.isArray(h)?h:[],w=v.map(function(_,b){var E=typeof c>"u"?null:c;return l===b?E:_});g(w,y&&y&&ye({},y,(p={},p[l]=u,p)),d)}},a.onSelectChange=function(l){var c=a.props,u=c.onChange,d=c.idSchema;u(l,void 0,d&&d.$id)};var i=r.formData,o=i===void 0?[]:i,s=R_(o);return a.state={keyedFormData:s,updatedKeyedFormData:!1},a}t.getDerivedStateFromProps=function(a,i){if(i.updatedKeyedFormData)return{updatedKeyedFormData:!1};var o=Array.isArray(a.formData)?a.formData:[],s=i.keyedFormData||[],l=o.length===s.length?s.map(function(c,u){return{key:c.key,item:o[u]}}):R_(o);return{keyedFormData:l}};var n=t.prototype;return n.isItemRequired=function(a){return Array.isArray(a.type)?!a.type.includes("null"):a.type!=="null"},n.canAddItem=function(a){var i=this.props,o=i.schema,s=i.uiSchema,l=i.registry,c=tt(s,l.globalUiOptions),u=c.addable;return u!==!1&&(o.maxItems!==void 0?u=a.length<o.maxItems:u=!0),u},n._handleAddClick=function(a,i){a&&a.preventDefault();var o=this.props.onChange,s=this.state.keyedFormData,l={key:qp(),item:this._getNewFormDataRow()},c=[].concat(s);i!==void 0?c.splice(i,0,l):c.push(l),this.setState({keyedFormData:c,updatedKeyedFormData:!0},function(){return o(Ji(c))})},n.render=function(){var a=this.props,i=a.schema,o=a.uiSchema,s=a.idSchema,l=a.registry,c=l.schemaUtils,u=l.translateString;if(!(Ia in i)){var d=tt(o),p=nt("UnsupportedFieldTemplate",l,d);return f(p,{schema:i,idSchema:s,reason:u(it.MissingItems),registry:l})}return c.isMultiSelect(i)?this.renderMultiSelect():oN(o)?this.renderCustomWidget():Dp(i)?this.renderFixedArray():c.isFilesArray(i,o)?this.renderFiles():this.renderNormalArray()},n.renderNormalArray=function(){var a=this,i=this.props,o=i.schema,s=i.uiSchema,l=s===void 0?{}:s,c=i.errorSchema,u=i.idSchema,d=i.name,p=i.disabled,m=p===void 0?!1:p,h=i.readonly,g=h===void 0?!1:h,y=i.autofocus,v=y===void 0?!1:y,w=i.required,_=w===void 0?!1:w,b=i.registry,E=i.onBlur,S=i.onFocus,N=i.idPrefix,C=i.idSeparator,I=C===void 0?"_":C,k=i.rawErrors,O=this.state.keyedFormData,M=o.title===void 0?d:o.title,q=b.schemaUtils,$=b.formContext,B=tt(l),L=Cn(o.items)?o.items:{},F=q.retrieveSchema(L),z=Ji(this.state.keyedFormData),D=this.canAddItem(z),x={canAdd:D,items:O.map(function(j,U){var T=j.key,V=j.item,K=V,Z=q.retrieveSchema(L,K),Q=c?c[U]:void 0,re=u.$id+I+U,se=q.toIdSchema(Z,re,K,N,I);return a.renderArrayFieldItem({key:T,index:U,name:d&&d+"-"+U,canAdd:D,canMoveUp:U>0,canMoveDown:U<z.length-1,itemSchema:Z,itemIdSchema:se,itemErrorSchema:Q,itemData:K,itemUiSchema:l.items,autofocus:v&&U===0,onBlur:E,onFocus:S,rawErrors:k,totalItems:O.length})}),className:"field field-array field-array-of-"+F.type,disabled:m,idSchema:u,uiSchema:l,onAddClick:this.onAddClick,readonly:g,required:_,schema:o,title:M,formContext:$,formData:z,rawErrors:k,registry:b},A=nt("ArrayFieldTemplate",b,B);return f(A,ye({},x))},n.renderCustomWidget=function(){var a,i=this.props,o=i.schema,s=i.idSchema,l=i.uiSchema,c=i.disabled,u=c===void 0?!1:c,d=i.readonly,p=d===void 0?!1:d,m=i.autofocus,h=m===void 0?!1:m,g=i.required,y=g===void 0?!1:g,v=i.hideError,w=i.placeholder,_=i.onBlur,b=i.onFocus,E=i.formData,S=E===void 0?[]:E,N=i.registry,C=i.rawErrors,I=i.name,k=N.widgets,O=N.formContext,M=N.globalUiOptions,q=N.schemaUtils,$=tt(l,M),B=$.widget,L=$.title,F=Tn($,N6),z=yr(o,B,k),D=(a=L??o.title)!=null?a:I,x=q.getDisplayLabel(o,l,M);return f(z,{id:s.$id,name:I,multiple:!0,onChange:this.onSelectChange,onBlur:_,onFocus:b,options:F,schema:o,uiSchema:l,registry:N,value:S,disabled:u,readonly:p,hideError:v,required:y,label:D,hideLabel:!x,placeholder:w,formContext:O,autofocus:h,rawErrors:C})},n.renderMultiSelect=function(){var a,i=this.props,o=i.schema,s=i.idSchema,l=i.uiSchema,c=i.formData,u=c===void 0?[]:c,d=i.disabled,p=d===void 0?!1:d,m=i.readonly,h=m===void 0?!1:m,g=i.autofocus,y=g===void 0?!1:g,v=i.required,w=v===void 0?!1:v,_=i.placeholder,b=i.onBlur,E=i.onFocus,S=i.registry,N=i.rawErrors,C=i.name,I=S.widgets,k=S.schemaUtils,O=S.formContext,M=S.globalUiOptions,q=k.retrieveSchema(o.items,u),$=tu(q),B=tt(l,M),L=B.widget,F=L===void 0?"select":L,z=B.title,D=Tn(B,T6),x=yr(o,F,I),A=(a=z??o.title)!=null?a:C,j=k.getDisplayLabel(o,l,M);return f(x,{id:s.$id,name:C,multiple:!0,onChange:this.onSelectChange,onBlur:b,onFocus:E,options:ye({},D,{enumOptions:$}),schema:o,uiSchema:l,registry:S,value:u,disabled:p,readonly:h,required:w,label:A,hideLabel:!j,placeholder:_,formContext:O,autofocus:y,rawErrors:N})},n.renderFiles=function(){var a,i=this.props,o=i.schema,s=i.uiSchema,l=i.idSchema,c=i.name,u=i.disabled,d=u===void 0?!1:u,p=i.readonly,m=p===void 0?!1:p,h=i.autofocus,g=h===void 0?!1:h,y=i.required,v=y===void 0?!1:y,w=i.onBlur,_=i.onFocus,b=i.registry,E=i.formData,S=E===void 0?[]:E,N=i.rawErrors,C=b.widgets,I=b.formContext,k=b.globalUiOptions,O=b.schemaUtils,M=tt(s,k),q=M.widget,$=q===void 0?"files":q,B=M.title,L=Tn(M,I6),F=yr(o,$,C),z=(a=B??o.title)!=null?a:c,D=O.getDisplayLabel(o,s,k);return f(F,{options:L,id:l.$id,name:c,multiple:!0,onChange:this.onSelectChange,onBlur:w,onFocus:_,schema:o,uiSchema:s,value:S,disabled:d,readonly:m,required:v,registry:b,formContext:I,autofocus:g,rawErrors:N,label:z,hideLabel:!D})},n.renderFixedArray=function(){var a=this,i=this.props,o=i.schema,s=i.uiSchema,l=s===void 0?{}:s,c=i.formData,u=c===void 0?[]:c,d=i.errorSchema,p=i.idPrefix,m=i.idSeparator,h=m===void 0?"_":m,g=i.idSchema,y=i.name,v=i.disabled,w=v===void 0?!1:v,_=i.readonly,b=_===void 0?!1:_,E=i.autofocus,S=E===void 0?!1:E,N=i.required,C=N===void 0?!1:N,I=i.registry,k=i.onBlur,O=i.onFocus,M=i.rawErrors,q=this.state.keyedFormData,$=this.props.formData,B=$===void 0?[]:$,L=o.title||y,F=tt(l),z=I.schemaUtils,D=I.formContext,x=Cn(o.items)?o.items:[],A=x.map(function(K,Z){return z.retrieveSchema(K,u[Z])}),j=Cn(o.additionalItems)?z.retrieveSchema(o.additionalItems,u):null;(!B||B.length<A.length)&&(B=B||[],B=B.concat(new Array(A.length-B.length)));var U=this.canAddItem(B)&&!!j,T={canAdd:U,className:"field field-array field-array-fixed-items",disabled:w,idSchema:g,formData:u,items:q.map(function(K,Z){var Q=K.key,re=K.item,se=re,de=Z>=A.length,xe=de&&Cn(o.additionalItems)?z.retrieveSchema(o.additionalItems,se):A[Z],qe=g.$id+h+Z,he=z.toIdSchema(xe,qe,se,p,h),ie=de?l.additionalItems||{}:Array.isArray(l.items)?l.items[Z]:l.items||{},Te=d?d[Z]:void 0;return a.renderArrayFieldItem({key:Q,index:Z,name:y&&y+"-"+Z,canAdd:U,canRemove:de,canMoveUp:Z>=A.length+1,canMoveDown:de&&Z<B.length-1,itemSchema:xe,itemData:se,itemUiSchema:ie,itemIdSchema:he,itemErrorSchema:Te,autofocus:S&&Z===0,onBlur:k,onFocus:O,rawErrors:M,totalItems:q.length})}),onAddClick:this.onAddClick,readonly:b,required:C,registry:I,schema:o,uiSchema:l,title:L,formContext:D,rawErrors:M},V=nt("ArrayFieldTemplate",I,F);return f(V,ye({},T))},n.renderArrayFieldItem=function(a){var i=a.key,o=a.index,s=a.name,l=a.canAdd,c=a.canRemove,u=c===void 0?!0:c,d=a.canMoveUp,p=a.canMoveDown,m=a.itemSchema,h=a.itemData,g=a.itemUiSchema,y=a.itemIdSchema,v=a.itemErrorSchema,w=a.autofocus,_=a.onBlur,b=a.onFocus,E=a.rawErrors,S=a.totalItems,N=this.props,C=N.disabled,I=N.hideError,k=N.idPrefix,O=N.idSeparator,M=N.readonly,q=N.uiSchema,$=N.registry,B=N.formContext,L=$.fields,F=L.ArraySchemaField,z=L.SchemaField,D=$.globalUiOptions,x=F||z,A=tt(q,D),j=A.orderable,U=j===void 0?!0:j,T=A.removable,V=T===void 0?!0:T,K=A.copyable,Z=K===void 0?!1:K,Q={moveUp:U&&d,moveDown:U&&p,copy:Z&&l,remove:V&&u,toolbar:!1};return Q.toolbar=Object.keys(Q).some(function(re){return Q[re]}),{children:f(x,{name:s,index:o,schema:m,uiSchema:g,formData:h,formContext:B,errorSchema:v,idPrefix:k,idSeparator:O,idSchema:y,required:this.isItemRequired(m),onChange:this.onChangeForIndex(o),onBlur:_,onFocus:b,registry:$,disabled:C,readonly:M,hideError:I,autofocus:w,rawErrors:E}),className:"array-item",disabled:C,canAdd:l,hasCopy:Q.copy,hasToolbar:Q.toolbar,hasMoveUp:Q.moveUp,hasMoveDown:Q.moveDown,hasRemove:Q.remove,index:o,totalItems:S,key:i,onAddIndexClick:this.onAddIndexClick,onCopyIndexClick:this.onCopyIndexClick,onDropIndexClick:this.onDropIndexClick,onReorderClick:this.onReorderClick,readonly:M,registry:$,schema:m,uiSchema:g}},S6(t,[{key:"itemTitle",get:function(){var a=this.props,i=a.schema,o=a.registry,s=o.translateString;return Se(i,[Ia,"title"],Se(i,[Ia,"description"],s(it.ArrayItemTitle)))}}]),t}(R.Component),x6=["widget","title","label"];function $6(e){var t,n=e.schema,r=e.name,a=e.uiSchema,i=e.idSchema,o=e.formData,s=e.registry,l=e.required,c=e.disabled,u=e.readonly,d=e.autofocus,p=e.onChange,m=e.onFocus,h=e.onBlur,g=e.rawErrors,y=n.title,v=s.widgets,w=s.formContext,_=s.translateString,b=s.globalUiOptions,E=tt(a,b),S=E.widget,N=S===void 0?"checkbox":S,C=E.title,I=E.label,k=I===void 0?!0:I,O=Tn(E,x6),M=yr(n,N,v),q=_(it.YesLabel),$=_(it.NoLabel),B,L=(t=C??y)!=null?t:r;if(Array.isArray(n.oneOf))B=tu({oneOf:n.oneOf.map(function(x){if(Cn(x))return ye({},x,{title:x.title||(x.const===!0?q:$)})}).filter(function(x){return x})});else{var F,z=n,D=(F=n.enum)!=null?F:[!0,!1];!z.enumNames&&D.length===2&&D.every(function(x){return typeof x=="boolean"})?B=[{value:D[0],label:D[0]?q:$},{value:D[1],label:D[1]?q:$}]:B=tu({enum:D,enumNames:z.enumNames})}return f(M,{options:ye({},O,{enumOptions:B}),schema:n,uiSchema:a,id:i.$id,name:r,onChange:p,onFocus:m,onBlur:h,label:L,hideLabel:!k,value:o,required:l,disabled:c,readonly:u,registry:s,formContext:w,autofocus:d,rawErrors:g})}var A6=["widget","placeholder","autofocus","autocomplete","title"],x_=function(e){ms(t,e);function t(r){var a;a=e.call(this,r)||this,a.onOptionChange=function(u){var d=a.state,p=d.selectedOption,m=d.retrievedOptions,h=a.props,g=h.formData,y=h.onChange,v=h.registry,w=v.schemaUtils,_=u!==void 0?parseInt(u,10):-1;if(_!==p){var b=_>=0?m[_]:void 0,E=p>=0?m[p]:void 0,S=w.sanitizeDataForNewSchema(b,E,g);S&&b&&(S=w.getDefaultFormState(b,S,"excludeObjectChildren")),y(S,void 0,a.getFieldId()),a.setState({selectedOption:_})}};var i=a.props,o=i.formData,s=i.options,l=i.registry.schemaUtils,c=s.map(function(u){return l.retrieveSchema(u,o)});return a.state={retrievedOptions:c,selectedOption:a.getMatchingOption(0,o,c)},a}var n=t.prototype;return n.componentDidUpdate=function(a,i){var o=this.props,s=o.formData,l=o.options,c=o.idSchema,u=this.state.selectedOption,d=this.state;if(!Ln(a.options,l)){var p=this.props.registry.schemaUtils,m=l.map(function(v){return p.retrieveSchema(v,s)});d={selectedOption:u,retrievedOptions:m}}if(!Ln(s,a.formData)&&c.$id===a.idSchema.$id){var h=d,g=h.retrievedOptions,y=this.getMatchingOption(u,s,g);i&&y!==u&&(d={selectedOption:y,retrievedOptions:g})}d!==this.state&&this.setState(d)},n.getMatchingOption=function(a,i,o){var s=this.props,l=s.schema,c=s.registry.schemaUtils,u=Do(l),d=c.getClosestMatchingOption(i,o,a,u);return d},n.getFieldId=function(){var a=this.props,i=a.idSchema,o=a.schema;return""+i.$id+(o.oneOf?"__oneof_select":"__anyof_select")},n.render=function(){var a=this.props,i=a.name,o=a.baseType,s=a.disabled,l=s===void 0?!1:s,c=a.errorSchema,u=c===void 0?{}:c,d=a.formContext,p=a.onBlur,m=a.onFocus,h=a.registry,g=a.schema,y=a.uiSchema,v=h.widgets,w=h.fields,_=h.translateString,b=h.globalUiOptions,E=h.schemaUtils,S=w.SchemaField,N=this.state,C=N.selectedOption,I=N.retrievedOptions,k=tt(y,b),O=k.widget,M=O===void 0?"select":O,q=k.placeholder,$=k.autofocus,B=k.autocomplete,L=k.title,F=L===void 0?g.title:L,z=Tn(k,A6),D=yr({type:"number"},M,v),x=Se(u,Vn,[]),A=Rl(u,[Vn]),j=E.getDisplayLabel(g,y,b),U=C>=0&&I[C]||null,T;U&&(T=U.type?U:Object.assign({},U,{type:o}));var V=F?it.TitleOptionPrefix:it.OptionPrefix,K=F?[F]:[],Z=I.map(function(Q,re){return{label:Q.title||_(V,K.concat(String(re+1))),value:re}});return P("div",{className:"panel panel-default panel-body",children:[f("div",{className:"form-group",children:f(D,{id:this.getFieldId(),name:""+i+(g.oneOf?"__oneof_select":"__anyof_select"),schema:{type:"number",default:0},onChange:this.onOptionChange,onBlur:p,onFocus:m,disabled:l||Jr(Z),multiple:!1,rawErrors:x,errorSchema:A,value:C>=0?C:void 0,options:ye({enumOptions:Z},z),registry:h,formContext:d,placeholder:q,autocomplete:B,autofocus:$,label:F??i,hideLabel:!j})}),U!==null&&f(S,ye({},this.props,{schema:T}))]})},t}(R.Component),O6=/\.([0-9]*0)*$/,k6=/[0.]0*$/;function P6(e){var t=e.registry,n=e.onChange,r=e.formData,a=e.value,i=R.useState(a),o=i[0],s=i[1],l=t.fields.StringField,c=r,u=R.useCallback(function(p){s(p),(""+p).charAt(0)==="."&&(p="0"+p);var m=typeof p=="string"&&p.match(O6)?S_(p.replace(k6,"")):S_(p);n(m)},[n]);if(typeof o=="string"&&typeof c=="number"){var d=new RegExp((""+c).replace(".","\\.")+"\\.?0*$");o.match(d)&&(c=o)}return f(l,ye({},e,{formData:c,onChange:u}))}var D6=function(e){ms(t,e);function t(){for(var r,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i))||this,r.state={wasPropertyKeyModified:!1,additionalProperties:{}},r.onPropertyChange=function(s,l){return l===void 0&&(l=!1),function(c,u,d){var p,m,h=r.props,g=h.formData,y=h.onChange,v=h.errorSchema;c===void 0&&l&&(c="");var w=ye({},g,(p={},p[s]=c,p));y(w,v&&v&&ye({},v,(m={},m[s]=u,m)),d)}},r.onDropPropertyClick=function(s){return function(l){l.preventDefault();var c=r.props,u=c.onChange,d=c.formData,p=ye({},d);cR(p,s),u(p)}},r.getAvailableKey=function(s,l){for(var c=r.props,u=c.uiSchema,d=c.registry,p=tt(u,d.globalUiOptions),m=p.duplicateKeySuffixSeparator,h=m===void 0?"-":m,g=0,y=s;en(l,y);)y=""+s+h+ ++g;return y},r.onKeyChange=function(s){return function(l,c){var u,d;if(s!==l){var p=r.props,m=p.formData,h=p.onChange,g=p.errorSchema;l=r.getAvailableKey(l,m);var y=ye({},m),v=(u={},u[s]=l,u),w=Object.keys(y).map(function(b){var E,S=v[b]||b;return E={},E[S]=y[b],E}),_=Object.assign.apply(Object,[{}].concat(w));r.setState({wasPropertyKeyModified:!0}),h(_,g&&g&&ye({},g,(d={},d[l]=c,d)))}}},r.handleAddClick=function(s){return function(){if(s.additionalProperties){var l=r.props,c=l.formData,u=l.onChange,d=l.registry,p=ye({},c),m=void 0;if(Cn(s.additionalProperties)){m=s.additionalProperties.type;var h=s.additionalProperties;if(It in h){var g=d.schemaUtils;h=g.retrieveSchema({$ref:h[It]},c),m=h.type}!m&&(dc in h||La in h)&&(m="object")}var y=r.getAvailableKey("newKey",p);Sn(p,y,r.getDefaultValue(m)),u(p)}}},r}var n=t.prototype;return n.isRequired=function(a){var i=this.props.schema;return Array.isArray(i.required)&&i.required.indexOf(a)!==-1},n.getDefaultValue=function(a){var i=this.props.registry.translateString;switch(a){case"array":return[];case"boolean":return!1;case"null":return null;case"number":return 0;case"object":return{};case"string":default:return i(it.NewStringDefault)}},n.render=function(){var a,i,o,s=this,l=this.props,c=l.schema,u=l.uiSchema,d=u===void 0?{}:u,p=l.formData,m=l.errorSchema,h=l.idSchema,g=l.name,y=l.required,v=y===void 0?!1:y,w=l.disabled,_=w===void 0?!1:w,b=l.readonly,E=b===void 0?!1:b,S=l.hideError,N=l.idPrefix,C=l.idSeparator,I=l.onBlur,k=l.onFocus,O=l.registry,M=O.fields,q=O.formContext,$=O.schemaUtils,B=O.translateString,L=O.globalUiOptions,F=M.SchemaField,z=$.retrieveSchema(c,p),D=tt(d,L),x=z.properties,A=x===void 0?{}:x,j=(a=(i=D.title)!=null?i:z.title)!=null?a:g,U=(o=D.description)!=null?o:z.description,T;try{var V=Object.keys(A);T=h6(V,D.order)}catch(Q){return P("div",{children:[f("p",{className:"config-error",style:{color:"red"},children:f(Fu,{children:B(it.InvalidObjectField,[g||"root",Q.message])})}),f("pre",{children:JSON.stringify(z)})]})}var K=nt("ObjectFieldTemplate",O,D),Z={title:D.label===!1?"":j,description:D.label===!1?void 0:U,properties:T.map(function(Q){var re=en(z,[Dt,Q,ds]),se=re?d.additionalProperties:d[Q],de=tt(se).widget==="hidden",xe=Se(h,[Q],{});return{content:f(F,{name:Q,required:s.isRequired(Q),schema:Se(z,[Dt,Q],{}),uiSchema:se,errorSchema:Se(m,Q),idSchema:xe,idPrefix:N,idSeparator:C,formData:Se(p,Q),formContext:q,wasPropertyKeyModified:s.state.wasPropertyKeyModified,onKeyChange:s.onKeyChange(Q),onChange:s.onPropertyChange(Q,re),onBlur:I,onFocus:k,registry:O,disabled:_,readonly:E,hideError:S,onDropPropertyClick:s.onDropPropertyClick},Q),name:Q,readonly:E,disabled:_,required:v,hidden:de}}),readonly:E,disabled:_,required:v,idSchema:h,uiSchema:d,errorSchema:m,schema:z,formData:p,formContext:q,registry:O};return f(K,ye({},Z,{onAddClick:this.handleAddClick}))},t}(R.Component),V6=["__errors"],L6={array:"ArrayField",boolean:"BooleanField",integer:"NumberField",number:"NumberField",object:"ObjectField",string:"StringField",null:"NullField"};function F6(e,t,n,r){var a=t.field,i=r.fields,o=r.translateString;if(typeof a=="function")return a;if(typeof a=="string"&&a in i)return i[a];var s=ra(e),l=Array.isArray(s)?s[0]:s||"",c=L6[l];return!c&&(e.anyOf||e.oneOf)?function(){return null}:c in i?i[c]:function(){var u=nt("UnsupportedFieldTemplate",r,t);return f(u,{schema:e,idSchema:n,reason:o(it.UnknownFieldType,[String(e.type)]),registry:r})}}function q6(e){var t=e.schema,n=e.idSchema,r=e.uiSchema,a=e.formData,i=e.errorSchema,o=e.idPrefix,s=e.idSeparator,l=e.name,c=e.onChange,u=e.onKeyChange,d=e.onDropPropertyClick,p=e.required,m=e.registry,h=e.wasPropertyKeyModified,g=h===void 0?!1:h,y=m.formContext,v=m.schemaUtils,w=m.globalUiOptions,_=tt(r,w),b=nt("FieldTemplate",m,_),E=nt("DescriptionFieldTemplate",m,_),S=nt("FieldHelpTemplate",m,_),N=nt("FieldErrorTemplate",m,_),C=v.retrieveSchema(t,a),I=n[zr],k=qi(v.toIdSchema(C,I,a,o,s),n),O=R.useCallback(function(ae,Ge,Qe){var bt=Qe||I;return c(ae,Ge,bt)},[I,c]),M=F6(C,_,k,m),q=!!(e.disabled||_.disabled),$=!!(e.readonly||_.readonly||e.schema.readOnly||C.readOnly),B=_.hideError,L=B===void 0?e.hideError:!!B,F=!!(e.autofocus||_.autofocus);if(Object.keys(C).length===0)return null;var z=v.getDisplayLabel(C,r,w),D=i||{},x=D.__errors,A=Tn(D,V6),j=Rl(r,["ui:classNames","classNames","ui:style"]);po in j&&(j[po]=Rl(j[po],["classNames","style"]));var U=f(M,ye({},e,{onChange:O,idSchema:k,schema:C,uiSchema:j,disabled:q,readonly:$,hideError:L,autofocus:F,errorSchema:A,formContext:y,rawErrors:x})),T=k[zr],V;g?V=l:V=ds in C?l:_.title||e.schema.title||C.title||l;var K=_.description||e.schema.description||C.description||"",Z=_.enableMarkdownInDescription?f(Fu,{children:K}):K,Q=_.help,re=_.widget==="hidden",se=["form-group","field","field-"+ra(C)];!L&&x&&x.length>0&&se.push("field-error has-error has-danger"),r!=null&&r.classNames&&se.push(r.classNames),_.classNames&&se.push(_.classNames);var de=f(S,{help:Q,idSchema:k,schema:C,uiSchema:r,hasErrors:!L&&x&&x.length>0,registry:m}),xe=L?void 0:f(N,{errors:x,errorSchema:i,idSchema:k,schema:C,uiSchema:r,registry:m}),qe={description:f(E,{id:ps(T),description:Z,schema:C,uiSchema:r,registry:m}),rawDescription:K,help:de,rawHelp:typeof Q=="string"?Q:void 0,errors:xe,rawErrors:L?void 0:x,id:T,label:V,hidden:re,onChange:c,onKeyChange:u,onDropPropertyClick:d,required:p,disabled:q,readonly:$,hideError:L,displayLabel:z,classNames:se.join(" ").trim(),style:_.style,formContext:y,formData:a,schema:C,uiSchema:r,registry:m},he=m.fields.AnyOfField,ie=m.fields.OneOfField,Te=(r==null?void 0:r["ui:field"])&&(r==null?void 0:r["ui:fieldReplacesAnyOrOneOf"])===!0;return f(b,ye({},qe,{children:P(te,{children:[U,C.anyOf&&!Te&&!v.isSelect(C)&&f(he,{name:l,disabled:q,readonly:$,hideError:L,errorSchema:i,formData:a,formContext:y,idPrefix:o,idSchema:k,idSeparator:s,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,options:C.anyOf.map(function(ae){return v.retrieveSchema(Cn(ae)?ae:{},a)}),baseType:C.type,registry:m,schema:C,uiSchema:r}),C.oneOf&&!Te&&!v.isSelect(C)&&f(ie,{name:l,disabled:q,readonly:$,hideError:L,errorSchema:i,formData:a,formContext:y,idPrefix:o,idSchema:k,idSeparator:s,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,options:C.oneOf.map(function(ae){return v.retrieveSchema(Cn(ae)?ae:{},a)}),baseType:C.type,registry:m,schema:C,uiSchema:r})]})}))}var M6=function(e){ms(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.shouldComponentUpdate=function(a){return!Ln(this.props,a)},n.render=function(){return f(q6,ye({},this.props))},t}(R.Component),B6=["widget","placeholder","title"];function U6(e){var t,n=e.schema,r=e.name,a=e.uiSchema,i=e.idSchema,o=e.formData,s=e.required,l=e.disabled,c=l===void 0?!1:l,u=e.readonly,d=u===void 0?!1:u,p=e.autofocus,m=p===void 0?!1:p,h=e.onChange,g=e.onBlur,y=e.onFocus,v=e.registry,w=e.rawErrors,_=n.title,b=n.format,E=v.widgets,S=v.formContext,N=v.schemaUtils,C=v.globalUiOptions,I=N.isSelect(n)?tu(n):void 0,k=I?"select":"text";b&&d6(n,b,E)&&(k=b);var O=tt(a),M=O.widget,q=M===void 0?k:M,$=O.placeholder,B=$===void 0?"":$,L=O.title,F=Tn(O,B6),z=N.getDisplayLabel(n,a,C),D=(t=L??_)!=null?t:r,x=yr(n,q,E);return f(x,{options:ye({},F,{enumOptions:I}),schema:n,uiSchema:a,id:i.$id,name:r,label:D,hideLabel:!z,value:o,onChange:h,onBlur:g,onFocus:y,required:s,disabled:c,readonly:d,formContext:S,autofocus:m,registry:v,placeholder:B,rawErrors:w})}function H6(e){var t=e.formData,n=e.onChange;return R.useEffect(function(){t===void 0&&n(null)},[t,n]),null}function z6(){return{AnyOfField:x_,ArrayField:R6,BooleanField:$6,NumberField:P6,ObjectField:D6,OneOfField:x_,SchemaField:M6,StringField:U6,NullField:H6}}function j6(e){var t=e.idSchema,n=e.description,r=e.registry,a=e.schema,i=e.uiSchema,o=tt(i,r.globalUiOptions),s=o.label,l=s===void 0?!0:s;if(!n||!l)return null;var c=nt("DescriptionFieldTemplate",r,o);return f(c,{id:ps(t),description:n,schema:a,uiSchema:i,registry:r})}function W6(e){var t=e.children,n=e.className,r=e.disabled,a=e.hasToolbar,i=e.hasMoveDown,o=e.hasMoveUp,s=e.hasRemove,l=e.hasCopy,c=e.index,u=e.onCopyIndexClick,d=e.onDropIndexClick,p=e.onReorderClick,m=e.readonly,h=e.registry,g=e.uiSchema,y=h.templates.ButtonTemplates,v=y.CopyButton,w=y.MoveDownButton,_=y.MoveUpButton,b=y.RemoveButton,E={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};return P("div",{className:n,children:[f("div",{className:a?"col-xs-9":"col-xs-12",children:t}),a&&f("div",{className:"col-xs-3 array-item-toolbox",children:P("div",{className:"btn-group",style:{display:"flex",justifyContent:"space-around"},children:[(o||i)&&f(_,{style:E,disabled:r||m||!o,onClick:p(c,c-1),uiSchema:g,registry:h}),(o||i)&&f(w,{style:E,disabled:r||m||!i,onClick:p(c,c+1),uiSchema:g,registry:h}),l&&f(v,{style:E,disabled:r||m,onClick:u(c),uiSchema:g,registry:h}),s&&f(b,{style:E,disabled:r||m,onClick:d(c),uiSchema:g,registry:h})]})})]})}var G6=["key"];function K6(e){var t=e.canAdd,n=e.className,r=e.disabled,a=e.idSchema,i=e.uiSchema,o=e.items,s=e.onAddClick,l=e.readonly,c=e.registry,u=e.required,d=e.schema,p=e.title,m=tt(i),h=nt("ArrayFieldDescriptionTemplate",c,m),g=nt("ArrayFieldItemTemplate",c,m),y=nt("ArrayFieldTitleTemplate",c,m),v=c.templates.ButtonTemplates.AddButton;return P("fieldset",{className:n,id:a.$id,children:[f(y,{idSchema:a,title:m.title||p,required:u,schema:d,uiSchema:i,registry:c}),f(h,{idSchema:a,description:m.description||d.description,schema:d,uiSchema:i,registry:c}),f("div",{className:"row array-item-list",children:o&&o.map(function(w){var _=w.key,b=Tn(w,G6);return f(g,ye({},b),_)})}),t&&f(v,{className:"array-item-add",onClick:s,disabled:r||l,uiSchema:i,registry:c})]})}function Y6(e){var t=e.idSchema,n=e.title,r=e.schema,a=e.uiSchema,i=e.required,o=e.registry,s=tt(a,o.globalUiOptions),l=s.label,c=l===void 0?!0:l;if(!n||!c)return null;var u=nt("TitleFieldTemplate",o,s);return f(u,{id:cN(t),title:n,required:i,schema:r,uiSchema:a,registry:o})}var Q6=["id","name","value","readonly","disabled","autofocus","onBlur","onFocus","onChange","onChangeOverride","options","schema","uiSchema","formContext","registry","rawErrors","type","hideLabel","hideError"];function X6(e){var t=e.id,n=e.value,r=e.readonly,a=e.disabled,i=e.autofocus,o=e.onBlur,s=e.onFocus,l=e.onChange,c=e.onChangeOverride,u=e.options,d=e.schema,p=e.type,m=Tn(e,Q6);if(!t)throw console.log("No id for",e),new Error("no id for props "+JSON.stringify(e));var h=ye({},m,i6(d,p,u)),g;h.type==="number"||h.type==="integer"?g=n||n===0?n:"":g=n??"";var y=R.useCallback(function(_){var b=_.target.value;return l(b===""?u.emptyValue:b)},[l,u]),v=R.useCallback(function(_){var b=_.target.value;return o(t,b)},[o,t]),w=R.useCallback(function(_){var b=_.target.value;return s(t,b)},[s,t]);return P(te,{children:[f("input",ye({id:t,name:t,className:"form-control",readOnly:r,disabled:a,autoFocus:i,value:g},h,{list:d.examples?Lp(t):void 0,onChange:c||y,onBlur:v,onFocus:w,"aria-describedby":Wa(t,!!d.examples)})),Array.isArray(d.examples)&&f("datalist",{id:Lp(t),children:d.examples.concat(d.default&&!d.examples.includes(d.default)?[d.default]:[]).map(function(_){return f("option",{value:_},_)})},"datalist_"+t)]})}function J6(e){var t=e.uiSchema,n=o6(t),r=n.submitText,a=n.norender,i=n.props,o=i===void 0?{}:i;return a?null:f("div",{children:f("button",ye({type:"submit"},o,{className:"btn btn-info "+(o.className||""),children:r}))})}var Z6=["iconType","icon","className","uiSchema","registry"];function hs(e){var t=e.iconType,n=t===void 0?"default":t,r=e.icon,a=e.className,i=Tn(e,Z6);return f("button",ye({type:"button",className:"btn btn-"+n+" "+a},i,{children:f("i",{className:"glyphicon glyphicon-"+r})}))}function ez(e){var t=e.registry.translateString;return f(hs,ye({title:t(it.CopyButton),className:"array-item-copy"},e,{icon:"copy"}))}function tz(e){var t=e.registry.translateString;return f(hs,ye({title:t(it.MoveDownButton),className:"array-item-move-down"},e,{icon:"arrow-down"}))}function nz(e){var t=e.registry.translateString;return f(hs,ye({title:t(it.MoveUpButton),className:"array-item-move-up"},e,{icon:"arrow-up"}))}function rz(e){var t=e.registry.translateString;return f(hs,ye({title:t(it.RemoveButton),className:"array-item-remove"},e,{iconType:"danger",icon:"remove"}))}function az(e){var t=e.className,n=e.onClick,r=e.disabled,a=e.registry,i=a.translateString;return f("div",{className:"row",children:f("p",{className:"col-xs-3 col-xs-offset-9 text-right "+t,children:f(hs,{iconType:"info",icon:"plus",className:"btn-add col-xs-12",title:i(it.AddButton),onClick:n,disabled:r,registry:a})})})}function iz(){return{SubmitButton:J6,AddButton:az,CopyButton:ez,MoveDownButton:tz,MoveUpButton:nz,RemoveButton:rz}}function oz(e){var t=e.id,n=e.description;return n?typeof n=="string"?f("p",{id:t,className:"field-description",children:n}):f("div",{id:t,className:"field-description",children:n}):null}function sz(e){var t=e.errors,n=e.registry,r=n.translateString;return P("div",{className:"panel panel-danger errors",children:[f("div",{className:"panel-heading",children:f("h3",{className:"panel-title",children:r(it.ErrorsLabel)})}),f("ul",{className:"list-group",children:t.map(function(a,i){return f("li",{className:"list-group-item text-danger",children:a.stack},i)})})]})}var lz="*";function pN(e){var t=e.label,n=e.required,r=e.id;return t?P("label",{className:"control-label",htmlFor:r,children:[t,n&&f("span",{className:"required",children:lz})]}):null}function uz(e){var t=e.id,n=e.label,r=e.children,a=e.errors,i=e.help,o=e.description,s=e.hidden,l=e.required,c=e.displayLabel,u=e.registry,d=e.uiSchema,p=tt(d),m=nt("WrapIfAdditionalTemplate",u,p);return s?f("div",{className:"hidden",children:r}):P(m,ye({},e,{children:[c&&f(pN,{label:n,required:l,id:t}),c&&o?o:null,r,a,i]}))}function cz(e){var t=e.errors,n=t===void 0?[]:t,r=e.idSchema;if(n.length===0)return null;var a=lN(r);return f("div",{children:f("ul",{id:a,className:"error-detail bs-callout bs-callout-info",children:n.filter(function(i){return!!i}).map(function(i,o){return f("li",{className:"text-danger",children:i},o)})})})}function dz(e){var t=e.idSchema,n=e.help;if(!n)return null;var r=uN(t);return typeof n=="string"?f("p",{id:r,className:"help-block",children:n}):f("div",{id:r,className:"help-block",children:n})}function fz(e){var t=e.description,n=e.disabled,r=e.formData,a=e.idSchema,i=e.onAddClick,o=e.properties,s=e.readonly,l=e.registry,c=e.required,u=e.schema,d=e.title,p=e.uiSchema,m=tt(p),h=nt("TitleFieldTemplate",l,m),g=nt("DescriptionFieldTemplate",l,m),y=l.templates.ButtonTemplates.AddButton;return P("fieldset",{id:a.$id,children:[d&&f(h,{id:cN(a),title:d,required:c,schema:u,uiSchema:p,registry:l}),t&&f(g,{id:ps(a),description:t,schema:u,uiSchema:p,registry:l}),o.map(function(v){return v.content}),$H(u,p,r)&&f(y,{className:"object-property-expand",onClick:i(u),disabled:n||s,uiSchema:p,registry:l})]})}var pz="*";function mz(e){var t=e.id,n=e.title,r=e.required;return P("legend",{id:t,children:[n,r&&f("span",{className:"required",children:pz})]})}function hz(e){var t=e.schema,n=e.idSchema,r=e.reason,a=e.registry,i=a.translateString,o=it.UnsupportedField,s=[];return n&&n.$id&&(o=it.UnsupportedFieldWithId,s.push(n.$id)),r&&(o=o===it.UnsupportedField?it.UnsupportedFieldWithReason:it.UnsupportedFieldWithIdAndReason,s.push(r)),P("div",{className:"unsupported-field",children:[f("p",{children:f(Fu,{children:i(o,s)})}),t&&f("pre",{children:JSON.stringify(t,null,2)})]})}function gz(e){var t=e.id,n=e.classNames,r=e.style,a=e.disabled,i=e.label,o=e.onKeyChange,s=e.onDropPropertyClick,l=e.readonly,c=e.required,u=e.schema,d=e.children,p=e.uiSchema,m=e.registry,h=m.templates,g=m.translateString,y=h.ButtonTemplates.RemoveButton,v=g(it.KeyLabel,[i]),w=ds in u;return w?f("div",{className:n,style:r,children:P("div",{className:"row",children:[f("div",{className:"col-xs-5 form-additional",children:P("div",{className:"form-group",children:[f(pN,{label:v,required:c,id:t+"-key"}),f("input",{className:"form-control",type:"text",id:t+"-key",onBlur:function(b){return o(b.target.value)},defaultValue:i})]})}),f("div",{className:"form-additional form-group col-xs-5",children:d}),f("div",{className:"col-xs-2",children:f(y,{className:"array-item-remove btn-block",style:{border:"0"},disabled:a||l,onClick:s(i),uiSchema:p,registry:m})})]})}):f("div",{className:n,style:r,children:d})}function yz(){return{ArrayFieldDescriptionTemplate:j6,ArrayFieldItemTemplate:W6,ArrayFieldTemplate:K6,ArrayFieldTitleTemplate:Y6,ButtonTemplates:iz(),BaseInputTemplate:X6,DescriptionFieldTemplate:oz,ErrorListTemplate:sz,FieldTemplate:uz,FieldErrorTemplate:cz,FieldHelpTemplate:dz,ObjectFieldTemplate:fz,TitleFieldTemplate:mz,UnsupportedFieldTemplate:hz,WrapIfAdditionalTemplate:gz}}function vz(e,t){for(var n=[],r=e;r<=t;r++)n.push({value:r,label:qr(r,2)});return n}function bz(e){return Object.values(e).every(function(t){return t!==-1})}function _z(e,t,n){n===void 0&&(n=[1900,new Date().getFullYear()+2]);var r=e.year,a=e.month,i=e.day,o=e.hour,s=e.minute,l=e.second,c=[{type:"year",range:n,value:r},{type:"month",range:[1,12],value:a},{type:"day",range:[1,31],value:i}];return t&&c.push({type:"hour",range:[0,23],value:o},{type:"minute",range:[0,59],value:s},{type:"second",range:[0,59],value:l}),c}function wz(e){var t=e.type,n=e.range,r=e.value,a=e.select,i=e.rootId,o=e.name,s=e.disabled,l=e.readonly,c=e.autofocus,u=e.registry,d=e.onBlur,p=e.onFocus,m=i+"_"+t,h=u.widgets.SelectWidget;return f(h,{schema:{type:"integer"},id:m,name:o,className:"form-control",options:{enumOptions:vz(n[0],n[1])},placeholder:t,value:r,disabled:s,readonly:l,autofocus:c,onChange:function(y){return a(t,y)},onBlur:d,onFocus:p,registry:u,label:"","aria-describedby":Wa(i)})}function Sz(e){var t=e.time,n=t===void 0?!1:t,r=e.disabled,a=r===void 0?!1:r,i=e.readonly,o=i===void 0?!1:i,s=e.autofocus,l=s===void 0?!1:s,c=e.options,u=e.id,d=e.name,p=e.registry,m=e.onBlur,h=e.onFocus,g=e.onChange,y=e.value,v=p.translateString,w=R.useState(y),_=w[0],b=w[1],E=R.useReducer(function(O,M){return ye({},O,M)},mf(y,n)),S=E[0],N=E[1];R.useEffect(function(){var O=T_(S,n);bz(S)&&O!==y?g(O):_!==y&&(b(y),N(mf(y,n)))},[n,y,g,S,_]);var C=R.useCallback(function(O,M){var q;N((q={},q[O]=M,q))},[]),I=R.useCallback(function(O){if(O.preventDefault(),!(a||o)){var M=mf(new Date().toJSON(),n);g(T_(M,n))}},[a,o,n]),k=R.useCallback(function(O){O.preventDefault(),!(a||o)&&g(void 0)},[a,o,g]);return P("ul",{className:"list-inline",children:[_z(S,n,c.yearsRange).map(function(O,M){return f("li",{className:"list-inline-item",children:f(wz,ye({rootId:u,name:d,select:C},O,{disabled:a,readonly:o,registry:p,onBlur:m,onFocus:h,autofocus:l&&M===0}))},M)}),(c.hideNowButton!=="undefined"?!c.hideNowButton:!0)&&f("li",{className:"list-inline-item",children:f("a",{href:"#",className:"btn btn-info btn-now",onClick:I,children:v(it.NowLabel)})}),(c.hideClearButton!=="undefined"?!c.hideClearButton:!0)&&f("li",{className:"list-inline-item",children:f("a",{href:"#",className:"btn btn-warning btn-clear",onClick:k,children:v(it.ClearLabel)})})]})}var Cz=["time"];function Ez(e){var t=e.time,n=t===void 0?!0:t,r=Tn(e,Cz),a=r.registry.widgets.AltDateWidget;return f(a,ye({time:n},r))}function Nz(e){var t,n=e.schema,r=e.uiSchema,a=e.options,i=e.id,o=e.value,s=e.disabled,l=e.readonly,c=e.label,u=e.hideLabel,d=e.autofocus,p=d===void 0?!1:d,m=e.onBlur,h=e.onFocus,g=e.onChange,y=e.registry,v=nt("DescriptionFieldTemplate",y,a),w=pl(n),_=R.useCallback(function(N){return g(N.target.checked)},[g]),b=R.useCallback(function(N){return m(i,N.target.checked)},[m,i]),E=R.useCallback(function(N){return h(i,N.target.checked)},[h,i]),S=(t=a.description)!=null?t:n.description;return P("div",{className:"checkbox "+(s||l?"disabled":""),children:[!u&&!!S&&f(v,{id:ps(i),description:S,schema:n,uiSchema:r,registry:y}),P("label",{children:[f("input",{type:"checkbox",id:i,name:i,checked:typeof o>"u"?!1:o,required:w,disabled:s||l,autoFocus:p,onChange:_,onBlur:b,onFocus:E,"aria-describedby":Wa(i)}),f6(f("span",{children:c}),u)]})]})}function Tz(e){var t=e.id,n=e.disabled,r=e.options,a=r.inline,i=a===void 0?!1:a,o=r.enumOptions,s=r.enumDisabled,l=r.emptyValue,c=e.value,u=e.autofocus,d=u===void 0?!1:u,p=e.readonly,m=e.onChange,h=e.onBlur,g=e.onFocus,y=Array.isArray(c)?c:[c],v=R.useCallback(function(_){var b=_.target.value;return h(t,er(b,o,l))},[h,t]),w=R.useCallback(function(_){var b=_.target.value;return g(t,er(b,o,l))},[g,t]);return f("div",{className:"checkboxes",id:t,children:Array.isArray(o)&&o.map(function(_,b){var E=ny(_.value,y),S=Array.isArray(s)&&s.indexOf(_.value)!==-1,N=n||S||p?"disabled":"",C=function(O){O.target.checked?m(n6(b,y,o)):m(e6(b,y,o))},I=P("span",{children:[f("input",{type:"checkbox",id:dN(t,b),name:t,checked:E,value:String(b),disabled:n||S||p,autoFocus:d&&b===0,onChange:C,onBlur:v,onFocus:w,"aria-describedby":Wa(t)}),f("span",{children:_.label})]});return i?f("label",{className:"checkbox-inline "+N,children:I},b):f("div",{className:"checkbox "+N,children:f("label",{children:I})},b)})})}function Iz(e){var t=e.disabled,n=e.readonly,r=e.options,a=e.registry,i=nt("BaseInputTemplate",a,r);return f(i,ye({type:"color"},e,{disabled:t||n}))}function Rz(e){var t=e.onChange,n=e.options,r=e.registry,a=nt("BaseInputTemplate",r,n),i=R.useCallback(function(o){return t(o||void 0)},[t]);return f(a,ye({type:"date"},e,{onChange:i}))}function xz(e){var t=e.onChange,n=e.value,r=e.options,a=e.registry,i=nt("BaseInputTemplate",a,r);return f(i,ye({type:"datetime-local"},e,{value:v6(n),onChange:function(s){return t(p6(s))}}))}function $z(e){var t=e.options,n=e.registry,r=nt("BaseInputTemplate",n,t);return f(r,ye({type:"email"},e))}function Az(e,t){return e===null?null:e.replace(";base64",";name="+encodeURIComponent(t)+";base64")}function Oz(e){var t=e.name,n=e.size,r=e.type;return new Promise(function(a,i){var o=new window.FileReader;o.onerror=i,o.onload=function(s){var l;typeof((l=s.target)===null||l===void 0?void 0:l.result)=="string"?a({dataURL:Az(s.target.result,t),name:t,size:n,type:r}):a({dataURL:null,name:t,size:n,type:r})},o.readAsDataURL(e)})}function kz(e){return Promise.all(Array.from(e).map(Oz))}function Pz(e){var t=e.fileInfo,n=e.registry,r=n.translateString,a=t.dataURL,i=t.type,o=t.name;return a?i.indexOf("image")!==-1?f("img",{src:a,style:{maxWidth:"100%"},className:"file-preview"}):P(te,{children:[" ",f("a",{download:"preview-"+o,href:a,className:"file-download",children:r(it.PreviewLabel)})]}):null}function Dz(e){var t=e.filesInfo,n=e.registry,r=e.preview;if(t.length===0)return null;var a=n.translateString;return f("ul",{className:"file-info",children:t.map(function(i,o){var s=i.name,l=i.size,c=i.type;return P("li",{children:[f(Fu,{children:a(it.FilesInfo,[s,c,String(l)])}),r&&f(Pz,{fileInfo:i,registry:n})]},o)})})}function $_(e){return e.filter(function(t){return t}).map(function(t){var n=XH(t),r=n.blob,a=n.name;return{dataURL:t,name:a,size:r.size,type:r.type}})}function Vz(e){var t=e.disabled,n=e.readonly,r=e.required,a=e.multiple,i=e.onChange,o=e.value,s=e.options,l=e.registry,c=nt("BaseInputTemplate",l,s),u=R.useState(Array.isArray(o)?$_(o):$_([o])),d=u[0],p=u[1],m=R.useCallback(function(h){h.target.files&&kz(h.target.files).then(function(g){var y=g.map(function(v){return v.dataURL});a?(p(d.concat(g[0])),i(o.concat(y[0]))):(p(g),i(y[0]))})},[a,o,d,i]);return P("div",{children:[f(c,ye({},e,{disabled:t||n,type:"file",required:o?!1:r,onChangeOverride:m,value:"",accept:s.accept?String(s.accept):void 0})),f(Dz,{filesInfo:d,registry:l,preview:s.filePreview})]})}function Lz(e){var t=e.id,n=e.value;return f("input",{type:"hidden",id:t,name:t,value:typeof n>"u"?"":n})}function Fz(e){var t=e.options,n=e.registry,r=nt("BaseInputTemplate",n,t);return f(r,ye({type:"password"},e))}function qz(e){var t=e.options,n=e.value,r=e.required,a=e.disabled,i=e.readonly,o=e.autofocus,s=o===void 0?!1:o,l=e.onBlur,c=e.onFocus,u=e.onChange,d=e.id,p=t.enumOptions,m=t.enumDisabled,h=t.inline,g=t.emptyValue,y=R.useCallback(function(w){var _=w.target.value;return l(d,er(_,p,g))},[l,d]),v=R.useCallback(function(w){var _=w.target.value;return c(d,er(_,p,g))},[c,d]);return f("div",{className:"field-radio-group",id:d,children:Array.isArray(p)&&p.map(function(w,_){var b=ny(w.value,n),E=Array.isArray(m)&&m.indexOf(w.value)!==-1,S=a||E||i?"disabled":"",N=function(){return u(w.value)},C=P("span",{children:[f("input",{type:"radio",id:dN(d,_),checked:b,name:d,required:r,value:String(_),disabled:a||E||i,autoFocus:s&&_===0,onChange:N,onBlur:y,onFocus:v,"aria-describedby":Wa(d)}),f("span",{children:w.label})]});return h?f("label",{className:"radio-inline "+S,children:C},_):f("div",{className:"radio "+S,children:f("label",{children:C})},_)})})}function Mz(e){var t=e.value,n=e.registry.templates.BaseInputTemplate;return P("div",{className:"field-range-wrapper",children:[f(n,ye({type:"range"},e)),f("span",{className:"range-view",children:t})]})}function hf(e,t){return t?Array.from(e.target.options).slice().filter(function(n){return n.selected}).map(function(n){return n.value}):e.target.value}function Bz(e){var t=e.schema,n=e.id,r=e.options,a=e.value,i=e.required,o=e.disabled,s=e.readonly,l=e.multiple,c=l===void 0?!1:l,u=e.autofocus,d=u===void 0?!1:u,p=e.onChange,m=e.onBlur,h=e.onFocus,g=e.placeholder,y=r.enumOptions,v=r.enumDisabled,w=r.emptyValue,_=c?[]:"",b=R.useCallback(function(C){var I=hf(C,c);return h(n,er(I,y,w))},[h,n,t,c,r]),E=R.useCallback(function(C){var I=hf(C,c);return m(n,er(I,y,w))},[m,n,t,c,r]),S=R.useCallback(function(C){var I=hf(C,c);return p(er(I,y,w))},[p,t,c,r]),N=t6(a,y,c);return P("select",{id:n,name:n,multiple:c,className:"form-control",value:typeof N>"u"?_:N,required:i,disabled:o||s,autoFocus:d,onBlur:E,onFocus:b,onChange:S,"aria-describedby":Wa(n),children:[!c&&t.default===void 0&&f("option",{value:"",children:g}),Array.isArray(y)&&y.map(function(C,I){var k=C.value,O=C.label,M=v&&v.indexOf(k)!==-1;return f("option",{value:String(I),disabled:M,children:O},I)})]})}function mN(e){var t=e.id,n=e.options,r=n===void 0?{}:n,a=e.placeholder,i=e.value,o=e.required,s=e.disabled,l=e.readonly,c=e.autofocus,u=c===void 0?!1:c,d=e.onChange,p=e.onBlur,m=e.onFocus,h=R.useCallback(function(v){var w=v.target.value;return d(w===""?r.emptyValue:w)},[d,r.emptyValue]),g=R.useCallback(function(v){var w=v.target.value;return p(t,w)},[p,t]),y=R.useCallback(function(v){var w=v.target.value;return m(t,w)},[t,m]);return f("textarea",{id:t,name:t,className:"form-control",value:i||"",placeholder:a,required:o,disabled:s,readOnly:l,autoFocus:u,rows:r.rows,onBlur:g,onFocus:y,onChange:h,"aria-describedby":Wa(t)})}mN.defaultProps={autofocus:!1,options:{}};function Uz(e){var t=e.options,n=e.registry,r=nt("BaseInputTemplate",n,t);return f(r,ye({},e))}function Hz(e){var t=e.onChange,n=e.options,r=e.registry,a=nt("BaseInputTemplate",r,n),i=R.useCallback(function(o){return t(o?o+":00":void 0)},[t]);return f(a,ye({type:"time"},e,{onChange:i}))}function zz(e){var t=e.options,n=e.registry,r=nt("BaseInputTemplate",n,t);return f(r,ye({type:"url"},e))}function jz(e){var t=e.options,n=e.registry,r=nt("BaseInputTemplate",n,t);return f(r,ye({type:"number"},e))}function Wz(){return{AltDateWidget:Sz,AltDateTimeWidget:Ez,CheckboxWidget:Nz,CheckboxesWidget:Tz,ColorWidget:Iz,DateWidget:Rz,DateTimeWidget:xz,EmailWidget:$z,FileWidget:Vz,HiddenWidget:Lz,PasswordWidget:Fz,RadioWidget:qz,RangeWidget:Mz,SelectWidget:Bz,TextWidget:Uz,TextareaWidget:mN,TimeWidget:Hz,UpDownWidget:jz,URLWidget:zz}}function Gz(){return{fields:z6(),templates:yz(),widgets:Wz(),rootSchema:{},formContext:{},translateString:ZH}}var hN=function(e){ms(t,e);function t(r){var a;if(a=e.call(this,r)||this,a.formElement=void 0,a.getUsedFormData=function(i,o){if(o.length===0&&typeof i!="object")return i;var s=AR(i,o);return Array.isArray(i)?Object.keys(s).map(function(l){return s[l]}):s},a.getFieldNames=function(i,o){var s=function l(c,u,d){return u===void 0&&(u=[]),d===void 0&&(d=[[]]),Object.keys(c).forEach(function(p){if(typeof c[p]=="object"){var m=d.map(function(h){return[].concat(h,[p])});c[p][Yg]&&c[p][dl]!==""?u.push(c[p][dl]):l(c[p],u,m)}else p===dl&&c[p]!==""&&d.forEach(function(h){var g=Se(o,h);(typeof g!="object"||Jr(g))&&u.push(h)})}),u};return s(i)},a.onChange=function(i,o,s){var l=a.props,c=l.extraErrors,u=l.omitExtraData,d=l.liveOmit,p=l.noValidate,m=l.liveValidate,h=l.onChange,g=a.state,y=g.schemaUtils,v=g.schema;if(yt(i)||Array.isArray(i)){var w=a.getStateFromProps(a.props,i);i=w.formData}var _=!p&&m,b={formData:i,schema:v},E=i;if(u===!0&&d===!0){var S=y.retrieveSchema(v,i),N=y.toPathSchema(S,"",i),C=a.getFieldNames(N,i);E=a.getUsedFormData(i,C),b={formData:E}}if(_){var I=a.validate(E),k=I.errors,O=I.errorSchema,M=k,q=O;if(c){var $=ml(I,c);O=$.errorSchema,k=$.errors}b={formData:E,errors:k,errorSchema:O,schemaValidationErrors:M,schemaValidationErrorSchema:q}}else if(!p&&o){var B=c?qi(o,c,"preventDuplicates"):o;b={formData:E,errorSchema:B,errors:Fo(B)}}a.setState(b,function(){return h&&h(ye({},a.state,b),s)})},a.reset=function(){var i=a.props.onChange,o=a.getStateFromProps(a.props,void 0),s=o.formData,l={formData:s,errorSchema:{},errors:[],schemaValidationErrors:[],schemaValidationErrorSchema:{}};a.setState(l,function(){return i&&i(ye({},a.state,l))})},a.onBlur=function(i,o){var s=a.props.onBlur;s&&s(i,o)},a.onFocus=function(i,o){var s=a.props.onFocus;s&&s(i,o)},a.onSubmit=function(i){if(i.preventDefault(),i.target===i.currentTarget){i.persist();var o=a.props,s=o.omitExtraData,l=o.extraErrors,c=o.noValidate,u=o.onSubmit,d=a.state.formData,p=a.state,m=p.schema,h=p.schemaUtils;if(s===!0){var g=h.retrieveSchema(m,d),y=h.toPathSchema(g,"",d),v=a.getFieldNames(y,d);d=a.getUsedFormData(d,v)}if(c||a.validateForm()){var w=l||{},_=l?Fo(l):[];a.setState({formData:d,errors:_,errorSchema:w,schemaValidationErrors:[],schemaValidationErrorSchema:{}},function(){u&&u(ye({},a.state,{formData:d,status:"submitted"}),i)})}}},!r.validator)throw new Error("A validator is required for Form functionality to work");return a.state=a.getStateFromProps(r,r.formData),a.props.onChange&&!Ln(a.state.formData,a.props.formData)&&a.props.onChange(a.state),a.formElement=R.createRef(),a}var n=t.prototype;return n.UNSAFE_componentWillReceiveProps=function(a){var i=this.getStateFromProps(a,a.formData);!Ln(i.formData,a.formData)&&!Ln(i.formData,this.state.formData)&&a.onChange&&a.onChange(i),this.setState(i)},n.getStateFromProps=function(a,i){var o=this.state||{},s="schema"in a?a.schema:this.props.schema,l=("uiSchema"in a?a.uiSchema:this.props.uiSchema)||{},c=typeof i<"u",u="liveValidate"in a?a.liveValidate:this.props.liveValidate,d=c&&!a.noValidate&&u,p=s,m="experimental_defaultFormStateBehavior"in a?a.experimental_defaultFormStateBehavior:this.props.experimental_defaultFormStateBehavior,h=o.schemaUtils;(!h||h.doesSchemaUtilsDiffer(a.validator,p,m))&&(h=QH(a.validator,p,m));var g=h.getDefaultFormState(s,i),y=h.retrieveSchema(s,g),v=function(){return a.noValidate?{errors:[],errorSchema:{}}:a.liveValidate?{errors:o.errors||[],errorSchema:o.errorSchema||{}}:{errors:o.schemaValidationErrors||[],errorSchema:o.schemaValidationErrorSchema||{}}},w,_,b=o.schemaValidationErrors,E=o.schemaValidationErrorSchema;if(d){var S=this.validate(g,s,h);w=S.errors,_=S.errorSchema,b=w,E=_}else{var N=v();w=N.errors,_=N.errorSchema}if(a.extraErrors){var C=ml({errorSchema:_,errors:w},a.extraErrors);_=C.errorSchema,w=C.errors}var I=h.toIdSchema(y,l["ui:rootFieldId"],g,a.idPrefix,a.idSeparator),k={schemaUtils:h,schema:s,uiSchema:l,idSchema:I,formData:g,edit:c,errors:w,errorSchema:_,schemaValidationErrors:b,schemaValidationErrorSchema:E};return k},n.shouldComponentUpdate=function(a,i){return g6(this,a,i)},n.validate=function(a,i,o){i===void 0&&(i=this.props.schema);var s=o||this.state.schemaUtils,l=this.props,c=l.customValidate,u=l.transformErrors,d=l.uiSchema,p=s.retrieveSchema(i,a);return s.getValidator().validateFormData(a,p,c,u,d)},n.renderErrors=function(a){var i=this.state,o=i.errors,s=i.errorSchema,l=i.schema,c=i.uiSchema,u=this.props.formContext,d=tt(c),p=nt("ErrorListTemplate",a,d);return o&&o.length?f(p,{errors:o,errorSchema:s||{},schema:l,uiSchema:c,formContext:u,registry:a}):null},n.getRegistry=function(){var a,i=this.props,o=i.translateString,s=i.uiSchema,l=s===void 0?{}:s,c=this.state.schemaUtils,u=Gz(),d=u.fields,p=u.templates,m=u.widgets,h=u.formContext,g=u.translateString;return{fields:ye({},d,this.props.fields),templates:ye({},p,this.props.templates,{ButtonTemplates:ye({},p.ButtonTemplates,(a=this.props.templates)===null||a===void 0?void 0:a.ButtonTemplates)}),widgets:ye({},m,this.props.widgets),rootSchema:this.props.schema,formContext:this.props.formContext||h,schemaUtils:c,translateString:o||g,globalUiOptions:l[xH]}},n.submit=function(){this.formElement.current&&(this.formElement.current.dispatchEvent(new CustomEvent("submit",{cancelable:!0})),this.formElement.current.requestSubmit())},n.focusOnError=function(a){var i=this.props,o=i.idPrefix,s=o===void 0?"root":o,l=i.idSeparator,c=l===void 0?"_":l,u=a.property,d=oS(u);d[0]===""?d[0]=s:d.unshift(s);var p=d.join(c),m=this.formElement.current.elements[p];m||(m=this.formElement.current.querySelector("input[id^="+p)),m&&m.length&&(m=m[0]),m&&m.focus()},n.validateForm=function(){var a=this.props,i=a.extraErrors,o=a.focusOnFirstError,s=a.onError,l=this.state.formData,c=this.validate(l),u=c.errors,d=c.errorSchema,p=u,m=d;if(u.length>0){if(i){var h=ml(c,i);d=h.errorSchema,u=h.errors}return o&&(typeof o=="function"?o(c.errors[0]):this.focusOnError(c.errors[0])),this.setState({errors:u,errorSchema:d,schemaValidationErrors:p,schemaValidationErrorSchema:m},function(){s?s(u):console.error("Form validation failed",u)}),!1}return!0},n.render=function(){var a,i,o=this.props,s=o.children,l=o.id,c=o.idPrefix,u=o.idSeparator,d=o.className,p=d===void 0?"":d,m=o.tagName,h=o.name,g=o.method,y=o.target,v=o.action,w=o.autoComplete,_=o.enctype,b=o.acceptcharset,E=o.noHtml5Validate,S=E===void 0?!1:E,N=o.disabled,C=N===void 0?!1:N,I=o.readonly,k=I===void 0?!1:I,O=o.formContext,M=o.showErrorList,q=M===void 0?"top":M,$=o._internalFormWrapper,B=this.state,L=B.schema,F=B.uiSchema,z=B.formData,D=B.errorSchema,x=B.idSchema,A=this.getRegistry(),j=A.fields.SchemaField,U=A.templates.ButtonTemplates.SubmitButton,T=$?m:void 0,V=$||m||"form",K=tt(F),Z=K[Zl],Q=Z===void 0?{}:Z;C&&(Q=ye({},Q,{props:ye({},Q.props,{disabled:!0})}));var re=(i={},i[po]=(a={},a[Zl]=Q,a),i);return P(V,{className:p||"rjsf",id:l,name:h,method:g,target:y,action:v,autoComplete:w,encType:_,acceptCharset:b,noValidate:S,onSubmit:this.onSubmit,as:T,ref:this.formElement,children:[q==="top"&&this.renderErrors(A),f(j,{name:"",schema:L,uiSchema:F,errorSchema:D,idSchema:x,idPrefix:c,idSeparator:u,formContext:O,formData:z,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,registry:A,disabled:C,readonly:k}),s||f(U,{uiSchema:re,registry:A}),q==="bottom"&&this.renderErrors(A)]})},t}(R.Component),Kz=["fields","widgets","templates"];function FX(e){return R.forwardRef(function(t,n){var r,a,i=t.fields,o=t.widgets,s=t.templates,l=Tn(t,Kz);return i=ye({},e==null?void 0:e.fields,i),o=ye({},e==null?void 0:e.widgets,o),s=ye({},e==null?void 0:e.templates,s,{ButtonTemplates:ye({},e==null||(r=e.templates)===null||r===void 0?void 0:r.ButtonTemplates,(a=s)===null||a===void 0?void 0:a.ButtonTemplates)}),f(hN,ye({},e,l,{fields:i,widgets:o,templates:s,ref:n}))})}var Mp={exports:{}},gN={},Fn={},Ei={},gs={},Fe={},qo={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends t{constructor(w){if(super(),!e.IDENTIFIER.test(w))throw new Error("CodeGen: name must be a valid identifier");this.str=w}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=n;class r extends t{constructor(w){super(),this._items=typeof w=="string"?[w]:w}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const w=this._items[0];return w===""||w==='""'}get str(){var w;return(w=this._str)!==null&&w!==void 0?w:this._str=this._items.reduce((_,b)=>`${_}${b}`,"")}get names(){var w;return(w=this._names)!==null&&w!==void 0?w:this._names=this._items.reduce((_,b)=>(b instanceof n&&(_[b.str]=(_[b.str]||0)+1),_),{})}}e._Code=r,e.nil=new r("");function a(v,...w){const _=[v[0]];let b=0;for(;b<w.length;)s(_,w[b]),_.push(v[++b]);return new r(_)}e._=a;const i=new r("+");function o(v,...w){const _=[m(v[0])];let b=0;for(;b<w.length;)_.push(i),s(_,w[b]),_.push(i,m(v[++b]));return l(_),new r(_)}e.str=o;function s(v,w){w instanceof r?v.push(...w._items):w instanceof n?v.push(w):v.push(d(w))}e.addCodeArg=s;function l(v){let w=1;for(;w<v.length-1;){if(v[w]===i){const _=c(v[w-1],v[w+1]);if(_!==void 0){v.splice(w-1,3,_);continue}v[w++]="+"}w++}}function c(v,w){if(w==='""')return v;if(v==='""')return w;if(typeof v=="string")return w instanceof n||v[v.length-1]!=='"'?void 0:typeof w!="string"?`${v.slice(0,-1)}${w}"`:w[0]==='"'?v.slice(0,-1)+w.slice(1):void 0;if(typeof w=="string"&&w[0]==='"'&&!(v instanceof n))return`"${v}${w.slice(1)}`}function u(v,w){return w.emptyStr()?v:v.emptyStr()?w:o`${v}${w}`}e.strConcat=u;function d(v){return typeof v=="number"||typeof v=="boolean"||v===null?v:m(Array.isArray(v)?v.join(","):v)}function p(v){return new r(m(v))}e.stringify=p;function m(v){return JSON.stringify(v).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=m;function h(v){return typeof v=="string"&&e.IDENTIFIER.test(v)?new r(`.${v}`):a`[${v}]`}e.getProperty=h;function g(v){if(typeof v=="string"&&e.IDENTIFIER.test(v))return new r(`${v}`);throw new Error(`CodeGen: invalid export name: ${v}, use explicit $id name mapping`)}e.getEsmExportName=g;function y(v){return new r(v.toString())}e.regexpCode=y})(qo);var Bp={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=qo;class n extends Error{constructor(c){super(`CodeGen: "code" for ${c} not defined`),this.value=c.value}}var r;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(r=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class a{constructor({prefixes:c,parent:u}={}){this._names={},this._prefixes=c,this._parent=u}toName(c){return c instanceof t.Name?c:this.name(c)}name(c){return new t.Name(this._newName(c))}_newName(c){const u=this._names[c]||this._nameGroup(c);return`${c}${u.index++}`}_nameGroup(c){var u,d;if(!((d=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||d===void 0)&&d.has(c)||this._prefixes&&!this._prefixes.has(c))throw new Error(`CodeGen: prefix "${c}" is not allowed in this scope`);return this._names[c]={prefix:c,index:0}}}e.Scope=a;class i extends t.Name{constructor(c,u){super(u),this.prefix=c}setValue(c,{property:u,itemIndex:d}){this.value=c,this.scopePath=(0,t._)`.${new t.Name(u)}[${d}]`}}e.ValueScopeName=i;const o=(0,t._)`\n`;class s extends a{constructor(c){super(c),this._values={},this._scope=c.scope,this.opts={...c,_n:c.lines?o:t.nil}}get(){return this._scope}name(c){return new i(c,this._newName(c))}value(c,u){var d;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const p=this.toName(c),{prefix:m}=p,h=(d=u.key)!==null&&d!==void 0?d:u.ref;let g=this._values[m];if(g){const w=g.get(h);if(w)return w}else g=this._values[m]=new Map;g.set(h,p);const y=this._scope[m]||(this._scope[m]=[]),v=y.length;return y[v]=u.ref,p.setValue(u,{property:m,itemIndex:v}),p}getValue(c,u){const d=this._values[c];if(d)return d.get(u)}scopeRefs(c,u=this._values){return this._reduceValues(u,d=>{if(d.scopePath===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return(0,t._)`${c}${d.scopePath}`})}scopeCode(c=this._values,u,d){return this._reduceValues(c,p=>{if(p.value===void 0)throw new Error(`CodeGen: name "${p}" has no value`);return p.value.code},u,d)}_reduceValues(c,u,d={},p){let m=t.nil;for(const h in c){const g=c[h];if(!g)continue;const y=d[h]=d[h]||new Map;g.forEach(v=>{if(y.has(v))return;y.set(v,r.Started);let w=u(v);if(w){const _=this.opts.es5?e.varKinds.var:e.varKinds.const;m=(0,t._)`${m}${_} ${v} = ${w};${this.opts._n}`}else if(w=p==null?void 0:p(v))m=(0,t._)`${m}${w}${this.opts._n}`;else throw new n(v);y.set(v,r.Completed)})}return m}}e.ValueScope=s})(Bp);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=qo,n=Bp;var r=qo;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}});var a=Bp;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return a.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return a.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return a.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return a.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class i{optimizeNodes(){return this}optimizeNames(T,V){return this}}class o extends i{constructor(T,V,K){super(),this.varKind=T,this.name=V,this.rhs=K}render({es5:T,_n:V}){const K=T?n.varKinds.var:this.varKind,Z=this.rhs===void 0?"":` = ${this.rhs}`;return`${K} ${this.name}${Z};`+V}optimizeNames(T,V){if(T[this.name.str])return this.rhs&&(this.rhs=$(this.rhs,T,V)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class s extends i{constructor(T,V,K){super(),this.lhs=T,this.rhs=V,this.sideEffects=K}render({_n:T}){return`${this.lhs} = ${this.rhs};`+T}optimizeNames(T,V){if(!(this.lhs instanceof t.Name&&!T[this.lhs.str]&&!this.sideEffects))return this.rhs=$(this.rhs,T,V),this}get names(){const T=this.lhs instanceof t.Name?{}:{...this.lhs.names};return q(T,this.rhs)}}class l extends s{constructor(T,V,K,Z){super(T,K,Z),this.op=V}render({_n:T}){return`${this.lhs} ${this.op}= ${this.rhs};`+T}}class c extends i{constructor(T){super(),this.label=T,this.names={}}render({_n:T}){return`${this.label}:`+T}}class u extends i{constructor(T){super(),this.label=T,this.names={}}render({_n:T}){return`break${this.label?` ${this.label}`:""};`+T}}class d extends i{constructor(T){super(),this.error=T}render({_n:T}){return`throw ${this.error};`+T}get names(){return this.error.names}}class p extends i{constructor(T){super(),this.code=T}render({_n:T}){return`${this.code};`+T}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(T,V){return this.code=$(this.code,T,V),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class m extends i{constructor(T=[]){super(),this.nodes=T}render(T){return this.nodes.reduce((V,K)=>V+K.render(T),"")}optimizeNodes(){const{nodes:T}=this;let V=T.length;for(;V--;){const K=T[V].optimizeNodes();Array.isArray(K)?T.splice(V,1,...K):K?T[V]=K:T.splice(V,1)}return T.length>0?this:void 0}optimizeNames(T,V){const{nodes:K}=this;let Z=K.length;for(;Z--;){const Q=K[Z];Q.optimizeNames(T,V)||(B(T,Q.names),K.splice(Z,1))}return K.length>0?this:void 0}get names(){return this.nodes.reduce((T,V)=>M(T,V.names),{})}}class h extends m{render(T){return"{"+T._n+super.render(T)+"}"+T._n}}class g extends m{}class y extends h{}y.kind="else";class v extends h{constructor(T,V){super(V),this.condition=T}render(T){let V=`if(${this.condition})`+super.render(T);return this.else&&(V+="else "+this.else.render(T)),V}optimizeNodes(){super.optimizeNodes();const T=this.condition;if(T===!0)return this.nodes;let V=this.else;if(V){const K=V.optimizeNodes();V=this.else=Array.isArray(K)?new y(K):K}if(V)return T===!1?V instanceof v?V:V.nodes:this.nodes.length?this:new v(L(T),V instanceof v?[V]:V.nodes);if(!(T===!1||!this.nodes.length))return this}optimizeNames(T,V){var K;if(this.else=(K=this.else)===null||K===void 0?void 0:K.optimizeNames(T,V),!!(super.optimizeNames(T,V)||this.else))return this.condition=$(this.condition,T,V),this}get names(){const T=super.names;return q(T,this.condition),this.else&&M(T,this.else.names),T}}v.kind="if";class w extends h{}w.kind="for";class _ extends w{constructor(T){super(),this.iteration=T}render(T){return`for(${this.iteration})`+super.render(T)}optimizeNames(T,V){if(super.optimizeNames(T,V))return this.iteration=$(this.iteration,T,V),this}get names(){return M(super.names,this.iteration.names)}}class b extends w{constructor(T,V,K,Z){super(),this.varKind=T,this.name=V,this.from=K,this.to=Z}render(T){const V=T.es5?n.varKinds.var:this.varKind,{name:K,from:Z,to:Q}=this;return`for(${V} ${K}=${Z}; ${K}<${Q}; ${K}++)`+super.render(T)}get names(){const T=q(super.names,this.from);return q(T,this.to)}}class E extends w{constructor(T,V,K,Z){super(),this.loop=T,this.varKind=V,this.name=K,this.iterable=Z}render(T){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(T)}optimizeNames(T,V){if(super.optimizeNames(T,V))return this.iterable=$(this.iterable,T,V),this}get names(){return M(super.names,this.iterable.names)}}class S extends h{constructor(T,V,K){super(),this.name=T,this.args=V,this.async=K}render(T){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(T)}}S.kind="func";class N extends m{render(T){return"return "+super.render(T)}}N.kind="return";class C extends h{render(T){let V="try"+super.render(T);return this.catch&&(V+=this.catch.render(T)),this.finally&&(V+=this.finally.render(T)),V}optimizeNodes(){var T,V;return super.optimizeNodes(),(T=this.catch)===null||T===void 0||T.optimizeNodes(),(V=this.finally)===null||V===void 0||V.optimizeNodes(),this}optimizeNames(T,V){var K,Z;return super.optimizeNames(T,V),(K=this.catch)===null||K===void 0||K.optimizeNames(T,V),(Z=this.finally)===null||Z===void 0||Z.optimizeNames(T,V),this}get names(){const T=super.names;return this.catch&&M(T,this.catch.names),this.finally&&M(T,this.finally.names),T}}class I extends h{constructor(T){super(),this.error=T}render(T){return`catch(${this.error})`+super.render(T)}}I.kind="catch";class k extends h{render(T){return"finally"+super.render(T)}}k.kind="finally";class O{constructor(T,V={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...V,_n:V.lines?`
`:""},this._extScope=T,this._scope=new n.Scope({parent:T}),this._nodes=[new g]}toString(){return this._root.render(this.opts)}name(T){return this._scope.name(T)}scopeName(T){return this._extScope.name(T)}scopeValue(T,V){const K=this._extScope.value(T,V);return(this._values[K.prefix]||(this._values[K.prefix]=new Set)).add(K),K}getScopeValue(T,V){return this._extScope.getValue(T,V)}scopeRefs(T){return this._extScope.scopeRefs(T,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(T,V,K,Z){const Q=this._scope.toName(V);return K!==void 0&&Z&&(this._constants[Q.str]=K),this._leafNode(new o(T,Q,K)),Q}const(T,V,K){return this._def(n.varKinds.const,T,V,K)}let(T,V,K){return this._def(n.varKinds.let,T,V,K)}var(T,V,K){return this._def(n.varKinds.var,T,V,K)}assign(T,V,K){return this._leafNode(new s(T,V,K))}add(T,V){return this._leafNode(new l(T,e.operators.ADD,V))}code(T){return typeof T=="function"?T():T!==t.nil&&this._leafNode(new p(T)),this}object(...T){const V=["{"];for(const[K,Z]of T)V.length>1&&V.push(","),V.push(K),(K!==Z||this.opts.es5)&&(V.push(":"),(0,t.addCodeArg)(V,Z));return V.push("}"),new t._Code(V)}if(T,V,K){if(this._blockNode(new v(T)),V&&K)this.code(V).else().code(K).endIf();else if(V)this.code(V).endIf();else if(K)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(T){return this._elseNode(new v(T))}else(){return this._elseNode(new y)}endIf(){return this._endBlockNode(v,y)}_for(T,V){return this._blockNode(T),V&&this.code(V).endFor(),this}for(T,V){return this._for(new _(T),V)}forRange(T,V,K,Z,Q=this.opts.es5?n.varKinds.var:n.varKinds.let){const re=this._scope.toName(T);return this._for(new b(Q,re,V,K),()=>Z(re))}forOf(T,V,K,Z=n.varKinds.const){const Q=this._scope.toName(T);if(this.opts.es5){const re=V instanceof t.Name?V:this.var("_arr",V);return this.forRange("_i",0,(0,t._)`${re}.length`,se=>{this.var(Q,(0,t._)`${re}[${se}]`),K(Q)})}return this._for(new E("of",Z,Q,V),()=>K(Q))}forIn(T,V,K,Z=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(T,(0,t._)`Object.keys(${V})`,K);const Q=this._scope.toName(T);return this._for(new E("in",Z,Q,V),()=>K(Q))}endFor(){return this._endBlockNode(w)}label(T){return this._leafNode(new c(T))}break(T){return this._leafNode(new u(T))}return(T){const V=new N;if(this._blockNode(V),this.code(T),V.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(N)}try(T,V,K){if(!V&&!K)throw new Error('CodeGen: "try" without "catch" and "finally"');const Z=new C;if(this._blockNode(Z),this.code(T),V){const Q=this.name("e");this._currNode=Z.catch=new I(Q),V(Q)}return K&&(this._currNode=Z.finally=new k,this.code(K)),this._endBlockNode(I,k)}throw(T){return this._leafNode(new d(T))}block(T,V){return this._blockStarts.push(this._nodes.length),T&&this.code(T).endBlock(V),this}endBlock(T){const V=this._blockStarts.pop();if(V===void 0)throw new Error("CodeGen: not in self-balancing block");const K=this._nodes.length-V;if(K<0||T!==void 0&&K!==T)throw new Error(`CodeGen: wrong number of nodes: ${K} vs ${T} expected`);return this._nodes.length=V,this}func(T,V=t.nil,K,Z){return this._blockNode(new S(T,V,K)),Z&&this.code(Z).endFunc(),this}endFunc(){return this._endBlockNode(S)}optimize(T=1){for(;T-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(T){return this._currNode.nodes.push(T),this}_blockNode(T){this._currNode.nodes.push(T),this._nodes.push(T)}_endBlockNode(T,V){const K=this._currNode;if(K instanceof T||V&&K instanceof V)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${V?`${T.kind}/${V.kind}`:T.kind}"`)}_elseNode(T){const V=this._currNode;if(!(V instanceof v))throw new Error('CodeGen: "else" without "if"');return this._currNode=V.else=T,this}get _root(){return this._nodes[0]}get _currNode(){const T=this._nodes;return T[T.length-1]}set _currNode(T){const V=this._nodes;V[V.length-1]=T}}e.CodeGen=O;function M(U,T){for(const V in T)U[V]=(U[V]||0)+(T[V]||0);return U}function q(U,T){return T instanceof t._CodeOrName?M(U,T.names):U}function $(U,T,V){if(U instanceof t.Name)return K(U);if(!Z(U))return U;return new t._Code(U._items.reduce((Q,re)=>(re instanceof t.Name&&(re=K(re)),re instanceof t._Code?Q.push(...re._items):Q.push(re),Q),[]));function K(Q){const re=V[Q.str];return re===void 0||T[Q.str]!==1?Q:(delete T[Q.str],re)}function Z(Q){return Q instanceof t._Code&&Q._items.some(re=>re instanceof t.Name&&T[re.str]===1&&V[re.str]!==void 0)}}function B(U,T){for(const V in T)U[V]=(U[V]||0)-(T[V]||0)}function L(U){return typeof U=="boolean"||typeof U=="number"||U===null?!U:(0,t._)`!${j(U)}`}e.not=L;const F=A(e.operators.AND);function z(...U){return U.reduce(F)}e.and=z;const D=A(e.operators.OR);function x(...U){return U.reduce(D)}e.or=x;function A(U){return(T,V)=>T===t.nil?V:V===t.nil?T:(0,t._)`${j(T)} ${U} ${j(V)}`}function j(U){return U instanceof t.Name?U:(0,t._)`(${U})`}})(Fe);var Ye={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=Fe,n=qo;function r(S){const N={};for(const C of S)N[C]=!0;return N}e.toHash=r;function a(S,N){return typeof N=="boolean"?N:Object.keys(N).length===0?!0:(i(S,N),!o(N,S.self.RULES.all))}e.alwaysValidSchema=a;function i(S,N=S.schema){const{opts:C,self:I}=S;if(!C.strictSchema||typeof N=="boolean")return;const k=I.RULES.keywords;for(const O in N)k[O]||E(S,`unknown keyword: "${O}"`)}e.checkUnknownRules=i;function o(S,N){if(typeof S=="boolean")return!S;for(const C in S)if(N[C])return!0;return!1}e.schemaHasRules=o;function s(S,N){if(typeof S=="boolean")return!S;for(const C in S)if(C!=="$ref"&&N.all[C])return!0;return!1}e.schemaHasRulesButRef=s;function l({topSchemaRef:S,schemaPath:N},C,I,k){if(!k){if(typeof C=="number"||typeof C=="boolean")return C;if(typeof C=="string")return(0,t._)`${C}`}return(0,t._)`${S}${N}${(0,t.getProperty)(I)}`}e.schemaRefOrVal=l;function c(S){return p(decodeURIComponent(S))}e.unescapeFragment=c;function u(S){return encodeURIComponent(d(S))}e.escapeFragment=u;function d(S){return typeof S=="number"?`${S}`:S.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=d;function p(S){return S.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=p;function m(S,N){if(Array.isArray(S))for(const C of S)N(C);else N(S)}e.eachItem=m;function h({mergeNames:S,mergeToName:N,mergeValues:C,resultToName:I}){return(k,O,M,q)=>{const $=M===void 0?O:M instanceof t.Name?(O instanceof t.Name?S(k,O,M):N(k,O,M),M):O instanceof t.Name?(N(k,M,O),O):C(O,M);return q===t.Name&&!($ instanceof t.Name)?I(k,$):$}}e.mergeEvaluated={props:h({mergeNames:(S,N,C)=>S.if((0,t._)`${C} !== true && ${N} !== undefined`,()=>{S.if((0,t._)`${N} === true`,()=>S.assign(C,!0),()=>S.assign(C,(0,t._)`${C} || {}`).code((0,t._)`Object.assign(${C}, ${N})`))}),mergeToName:(S,N,C)=>S.if((0,t._)`${C} !== true`,()=>{N===!0?S.assign(C,!0):(S.assign(C,(0,t._)`${C} || {}`),y(S,C,N))}),mergeValues:(S,N)=>S===!0?!0:{...S,...N},resultToName:g}),items:h({mergeNames:(S,N,C)=>S.if((0,t._)`${C} !== true && ${N} !== undefined`,()=>S.assign(C,(0,t._)`${N} === true ? true : ${C} > ${N} ? ${C} : ${N}`)),mergeToName:(S,N,C)=>S.if((0,t._)`${C} !== true`,()=>S.assign(C,N===!0?!0:(0,t._)`${C} > ${N} ? ${C} : ${N}`)),mergeValues:(S,N)=>S===!0?!0:Math.max(S,N),resultToName:(S,N)=>S.var("items",N)})};function g(S,N){if(N===!0)return S.var("props",!0);const C=S.var("props",(0,t._)`{}`);return N!==void 0&&y(S,C,N),C}e.evaluatedPropsToName=g;function y(S,N,C){Object.keys(C).forEach(I=>S.assign((0,t._)`${N}${(0,t.getProperty)(I)}`,!0))}e.setEvaluated=y;const v={};function w(S,N){return S.scopeValue("func",{ref:N,code:v[N.code]||(v[N.code]=new n._Code(N.code))})}e.useFunc=w;var _;(function(S){S[S.Num=0]="Num",S[S.Str=1]="Str"})(_=e.Type||(e.Type={}));function b(S,N,C){if(S instanceof t.Name){const I=N===_.Num;return C?I?(0,t._)`"[" + ${S} + "]"`:(0,t._)`"['" + ${S} + "']"`:I?(0,t._)`"/" + ${S}`:(0,t._)`"/" + ${S}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return C?(0,t.getProperty)(S).toString():"/"+d(S)}e.getErrorPath=b;function E(S,N,C=S.opts.strictSchema){if(C){if(N=`strict mode: ${N}`,C===!0)throw new Error(N);S.self.logger.warn(N)}}e.checkStrictMode=E})(Ye);var ar={};Object.defineProperty(ar,"__esModule",{value:!0});const Ut=Fe,Yz={data:new Ut.Name("data"),valCxt:new Ut.Name("valCxt"),instancePath:new Ut.Name("instancePath"),parentData:new Ut.Name("parentData"),parentDataProperty:new Ut.Name("parentDataProperty"),rootData:new Ut.Name("rootData"),dynamicAnchors:new Ut.Name("dynamicAnchors"),vErrors:new Ut.Name("vErrors"),errors:new Ut.Name("errors"),this:new Ut.Name("this"),self:new Ut.Name("self"),scope:new Ut.Name("scope"),json:new Ut.Name("json"),jsonPos:new Ut.Name("jsonPos"),jsonLen:new Ut.Name("jsonLen"),jsonPart:new Ut.Name("jsonPart")};ar.default=Yz;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=Fe,n=Ye,r=ar;e.keywordError={message:({keyword:y})=>(0,t.str)`must pass "${y}" keyword validation`},e.keyword$DataError={message:({keyword:y,schemaType:v})=>v?(0,t.str)`"${y}" keyword must be ${v} ($data)`:(0,t.str)`"${y}" keyword is invalid ($data)`};function a(y,v=e.keywordError,w,_){const{it:b}=y,{gen:E,compositeRule:S,allErrors:N}=b,C=d(y,v,w);_??(S||N)?l(E,C):c(b,(0,t._)`[${C}]`)}e.reportError=a;function i(y,v=e.keywordError,w){const{it:_}=y,{gen:b,compositeRule:E,allErrors:S}=_,N=d(y,v,w);l(b,N),E||S||c(_,r.default.vErrors)}e.reportExtraError=i;function o(y,v){y.assign(r.default.errors,v),y.if((0,t._)`${r.default.vErrors} !== null`,()=>y.if(v,()=>y.assign((0,t._)`${r.default.vErrors}.length`,v),()=>y.assign(r.default.vErrors,null)))}e.resetErrorsCount=o;function s({gen:y,keyword:v,schemaValue:w,data:_,errsCount:b,it:E}){if(b===void 0)throw new Error("ajv implementation error");const S=y.name("err");y.forRange("i",b,r.default.errors,N=>{y.const(S,(0,t._)`${r.default.vErrors}[${N}]`),y.if((0,t._)`${S}.instancePath === undefined`,()=>y.assign((0,t._)`${S}.instancePath`,(0,t.strConcat)(r.default.instancePath,E.errorPath))),y.assign((0,t._)`${S}.schemaPath`,(0,t.str)`${E.errSchemaPath}/${v}`),E.opts.verbose&&(y.assign((0,t._)`${S}.schema`,w),y.assign((0,t._)`${S}.data`,_))})}e.extendErrors=s;function l(y,v){const w=y.const("err",v);y.if((0,t._)`${r.default.vErrors} === null`,()=>y.assign(r.default.vErrors,(0,t._)`[${w}]`),(0,t._)`${r.default.vErrors}.push(${w})`),y.code((0,t._)`${r.default.errors}++`)}function c(y,v){const{gen:w,validateName:_,schemaEnv:b}=y;b.$async?w.throw((0,t._)`new ${y.ValidationError}(${v})`):(w.assign((0,t._)`${_}.errors`,v),w.return(!1))}const u={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function d(y,v,w){const{createErrors:_}=y.it;return _===!1?(0,t._)`{}`:p(y,v,w)}function p(y,v,w={}){const{gen:_,it:b}=y,E=[m(b,w),h(y,w)];return g(y,v,E),_.object(...E)}function m({errorPath:y},{instancePath:v}){const w=v?(0,t.str)`${y}${(0,n.getErrorPath)(v,n.Type.Str)}`:y;return[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,w)]}function h({keyword:y,it:{errSchemaPath:v}},{schemaPath:w,parentSchema:_}){let b=_?v:(0,t.str)`${v}/${y}`;return w&&(b=(0,t.str)`${b}${(0,n.getErrorPath)(w,n.Type.Str)}`),[u.schemaPath,b]}function g(y,{params:v,message:w},_){const{keyword:b,data:E,schemaValue:S,it:N}=y,{opts:C,propertyName:I,topSchemaRef:k,schemaPath:O}=N;_.push([u.keyword,b],[u.params,typeof v=="function"?v(y):v||(0,t._)`{}`]),C.messages&&_.push([u.message,typeof w=="function"?w(y):w]),C.verbose&&_.push([u.schema,S],[u.parentSchema,(0,t._)`${k}${O}`],[r.default.data,E]),I&&_.push([u.propertyName,I])}})(gs);Object.defineProperty(Ei,"__esModule",{value:!0});Ei.boolOrEmptySchema=Ei.topBoolOrEmptySchema=void 0;const Qz=gs,Xz=Fe,Jz=ar,Zz={message:"boolean schema is false"};function e9(e){const{gen:t,schema:n,validateName:r}=e;n===!1?yN(e,!1):typeof n=="object"&&n.$async===!0?t.return(Jz.default.data):(t.assign((0,Xz._)`${r}.errors`,null),t.return(!0))}Ei.topBoolOrEmptySchema=e9;function t9(e,t){const{gen:n,schema:r}=e;r===!1?(n.var(t,!1),yN(e)):n.var(t,!0)}Ei.boolOrEmptySchema=t9;function yN(e,t){const{gen:n,data:r}=e,a={gen:n,keyword:"false schema",data:r,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,Qz.reportError)(a,Zz,void 0,t)}var ys={},Fa={};Object.defineProperty(Fa,"__esModule",{value:!0});Fa.getRules=Fa.isJSONType=void 0;const n9=["string","number","integer","boolean","null","object","array"],r9=new Set(n9);function a9(e){return typeof e=="string"&&r9.has(e)}Fa.isJSONType=a9;function i9(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}Fa.getRules=i9;var vr={};Object.defineProperty(vr,"__esModule",{value:!0});vr.shouldUseRule=vr.shouldUseGroup=vr.schemaHasRulesForType=void 0;function o9({schema:e,self:t},n){const r=t.RULES.types[n];return r&&r!==!0&&vN(e,r)}vr.schemaHasRulesForType=o9;function vN(e,t){return t.rules.some(n=>bN(e,n))}vr.shouldUseGroup=vN;function bN(e,t){var n;return e[t.keyword]!==void 0||((n=t.definition.implements)===null||n===void 0?void 0:n.some(r=>e[r]!==void 0))}vr.shouldUseRule=bN;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=Fa,n=vr,r=gs,a=Fe,i=Ye;var o;(function(_){_[_.Correct=0]="Correct",_[_.Wrong=1]="Wrong"})(o=e.DataType||(e.DataType={}));function s(_){const b=l(_.type);if(b.includes("null")){if(_.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!b.length&&_.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');_.nullable===!0&&b.push("null")}return b}e.getSchemaTypes=s;function l(_){const b=Array.isArray(_)?_:_?[_]:[];if(b.every(t.isJSONType))return b;throw new Error("type must be JSONType or JSONType[]: "+b.join(","))}e.getJSONTypes=l;function c(_,b){const{gen:E,data:S,opts:N}=_,C=d(b,N.coerceTypes),I=b.length>0&&!(C.length===0&&b.length===1&&(0,n.schemaHasRulesForType)(_,b[0]));if(I){const k=g(b,S,N.strictNumbers,o.Wrong);E.if(k,()=>{C.length?p(_,b,C):v(_)})}return I}e.coerceAndCheckDataType=c;const u=new Set(["string","number","integer","boolean","null"]);function d(_,b){return b?_.filter(E=>u.has(E)||b==="array"&&E==="array"):[]}function p(_,b,E){const{gen:S,data:N,opts:C}=_,I=S.let("dataType",(0,a._)`typeof ${N}`),k=S.let("coerced",(0,a._)`undefined`);C.coerceTypes==="array"&&S.if((0,a._)`${I} == 'object' && Array.isArray(${N}) && ${N}.length == 1`,()=>S.assign(N,(0,a._)`${N}[0]`).assign(I,(0,a._)`typeof ${N}`).if(g(b,N,C.strictNumbers),()=>S.assign(k,N))),S.if((0,a._)`${k} !== undefined`);for(const M of E)(u.has(M)||M==="array"&&C.coerceTypes==="array")&&O(M);S.else(),v(_),S.endIf(),S.if((0,a._)`${k} !== undefined`,()=>{S.assign(N,k),m(_,k)});function O(M){switch(M){case"string":S.elseIf((0,a._)`${I} == "number" || ${I} == "boolean"`).assign(k,(0,a._)`"" + ${N}`).elseIf((0,a._)`${N} === null`).assign(k,(0,a._)`""`);return;case"number":S.elseIf((0,a._)`${I} == "boolean" || ${N} === null
              || (${I} == "string" && ${N} && ${N} == +${N})`).assign(k,(0,a._)`+${N}`);return;case"integer":S.elseIf((0,a._)`${I} === "boolean" || ${N} === null
              || (${I} === "string" && ${N} && ${N} == +${N} && !(${N} % 1))`).assign(k,(0,a._)`+${N}`);return;case"boolean":S.elseIf((0,a._)`${N} === "false" || ${N} === 0 || ${N} === null`).assign(k,!1).elseIf((0,a._)`${N} === "true" || ${N} === 1`).assign(k,!0);return;case"null":S.elseIf((0,a._)`${N} === "" || ${N} === 0 || ${N} === false`),S.assign(k,null);return;case"array":S.elseIf((0,a._)`${I} === "string" || ${I} === "number"
              || ${I} === "boolean" || ${N} === null`).assign(k,(0,a._)`[${N}]`)}}}function m({gen:_,parentData:b,parentDataProperty:E},S){_.if((0,a._)`${b} !== undefined`,()=>_.assign((0,a._)`${b}[${E}]`,S))}function h(_,b,E,S=o.Correct){const N=S===o.Correct?a.operators.EQ:a.operators.NEQ;let C;switch(_){case"null":return(0,a._)`${b} ${N} null`;case"array":C=(0,a._)`Array.isArray(${b})`;break;case"object":C=(0,a._)`${b} && typeof ${b} == "object" && !Array.isArray(${b})`;break;case"integer":C=I((0,a._)`!(${b} % 1) && !isNaN(${b})`);break;case"number":C=I();break;default:return(0,a._)`typeof ${b} ${N} ${_}`}return S===o.Correct?C:(0,a.not)(C);function I(k=a.nil){return(0,a.and)((0,a._)`typeof ${b} == "number"`,k,E?(0,a._)`isFinite(${b})`:a.nil)}}e.checkDataType=h;function g(_,b,E,S){if(_.length===1)return h(_[0],b,E,S);let N;const C=(0,i.toHash)(_);if(C.array&&C.object){const I=(0,a._)`typeof ${b} != "object"`;N=C.null?I:(0,a._)`!${b} || ${I}`,delete C.null,delete C.array,delete C.object}else N=a.nil;C.number&&delete C.integer;for(const I in C)N=(0,a.and)(N,h(I,b,E,S));return N}e.checkDataTypes=g;const y={message:({schema:_})=>`must be ${_}`,params:({schema:_,schemaValue:b})=>typeof _=="string"?(0,a._)`{type: ${_}}`:(0,a._)`{type: ${b}}`};function v(_){const b=w(_);(0,r.reportError)(b,y)}e.reportTypeError=v;function w(_){const{gen:b,data:E,schema:S}=_,N=(0,i.schemaRefOrVal)(_,S,"type");return{gen:b,keyword:"type",data:E,schema:S.type,schemaCode:N,schemaValue:N,parentSchema:S,params:{},it:_}}})(ys);var mc={};Object.defineProperty(mc,"__esModule",{value:!0});mc.assignDefaults=void 0;const Za=Fe,s9=Ye;function l9(e,t){const{properties:n,items:r}=e.schema;if(t==="object"&&n)for(const a in n)A_(e,a,n[a].default);else t==="array"&&Array.isArray(r)&&r.forEach((a,i)=>A_(e,i,a.default))}mc.assignDefaults=l9;function A_(e,t,n){const{gen:r,compositeRule:a,data:i,opts:o}=e;if(n===void 0)return;const s=(0,Za._)`${i}${(0,Za.getProperty)(t)}`;if(a){(0,s9.checkStrictMode)(e,`default is ignored for: ${s}`);return}let l=(0,Za._)`${s} === undefined`;o.useDefaults==="empty"&&(l=(0,Za._)`${l} || ${s} === null || ${s} === ""`),r.if(l,(0,Za._)`${s} = ${(0,Za.stringify)(n)}`)}var Qn={},He={};Object.defineProperty(He,"__esModule",{value:!0});He.validateUnion=He.validateArray=He.usePattern=He.callValidateCode=He.schemaProperties=He.allSchemaProperties=He.noPropertyInData=He.propertyInData=He.isOwnProperty=He.hasPropFunc=He.reportMissingProp=He.checkMissingProp=He.checkReportMissingProp=void 0;const lt=Fe,ay=Ye,Dr=ar,u9=Ye;function c9(e,t){const{gen:n,data:r,it:a}=e;n.if(oy(n,r,t,a.opts.ownProperties),()=>{e.setParams({missingProperty:(0,lt._)`${t}`},!0),e.error()})}He.checkReportMissingProp=c9;function d9({gen:e,data:t,it:{opts:n}},r,a){return(0,lt.or)(...r.map(i=>(0,lt.and)(oy(e,t,i,n.ownProperties),(0,lt._)`${a} = ${i}`)))}He.checkMissingProp=d9;function f9(e,t){e.setParams({missingProperty:t},!0),e.error()}He.reportMissingProp=f9;function _N(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,lt._)`Object.prototype.hasOwnProperty`})}He.hasPropFunc=_N;function iy(e,t,n){return(0,lt._)`${_N(e)}.call(${t}, ${n})`}He.isOwnProperty=iy;function p9(e,t,n,r){const a=(0,lt._)`${t}${(0,lt.getProperty)(n)} !== undefined`;return r?(0,lt._)`${a} && ${iy(e,t,n)}`:a}He.propertyInData=p9;function oy(e,t,n,r){const a=(0,lt._)`${t}${(0,lt.getProperty)(n)} === undefined`;return r?(0,lt.or)(a,(0,lt.not)(iy(e,t,n))):a}He.noPropertyInData=oy;function wN(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}He.allSchemaProperties=wN;function m9(e,t){return wN(t).filter(n=>!(0,ay.alwaysValidSchema)(e,t[n]))}He.schemaProperties=m9;function h9({schemaCode:e,data:t,it:{gen:n,topSchemaRef:r,schemaPath:a,errorPath:i},it:o},s,l,c){const u=c?(0,lt._)`${e}, ${t}, ${r}${a}`:t,d=[[Dr.default.instancePath,(0,lt.strConcat)(Dr.default.instancePath,i)],[Dr.default.parentData,o.parentData],[Dr.default.parentDataProperty,o.parentDataProperty],[Dr.default.rootData,Dr.default.rootData]];o.opts.dynamicRef&&d.push([Dr.default.dynamicAnchors,Dr.default.dynamicAnchors]);const p=(0,lt._)`${u}, ${n.object(...d)}`;return l!==lt.nil?(0,lt._)`${s}.call(${l}, ${p})`:(0,lt._)`${s}(${p})`}He.callValidateCode=h9;const g9=(0,lt._)`new RegExp`;function y9({gen:e,it:{opts:t}},n){const r=t.unicodeRegExp?"u":"",{regExp:a}=t.code,i=a(n,r);return e.scopeValue("pattern",{key:i.toString(),ref:i,code:(0,lt._)`${a.code==="new RegExp"?g9:(0,u9.useFunc)(e,a)}(${n}, ${r})`})}He.usePattern=y9;function v9(e){const{gen:t,data:n,keyword:r,it:a}=e,i=t.name("valid");if(a.allErrors){const s=t.let("valid",!0);return o(()=>t.assign(s,!1)),s}return t.var(i,!0),o(()=>t.break()),i;function o(s){const l=t.const("len",(0,lt._)`${n}.length`);t.forRange("i",0,l,c=>{e.subschema({keyword:r,dataProp:c,dataPropType:ay.Type.Num},i),t.if((0,lt.not)(i),s)})}}He.validateArray=v9;function b9(e){const{gen:t,schema:n,keyword:r,it:a}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some(l=>(0,ay.alwaysValidSchema)(a,l))&&!a.opts.unevaluated)return;const o=t.let("valid",!1),s=t.name("_valid");t.block(()=>n.forEach((l,c)=>{const u=e.subschema({keyword:r,schemaProp:c,compositeRule:!0},s);t.assign(o,(0,lt._)`${o} || ${s}`),e.mergeValidEvaluated(u,s)||t.if((0,lt.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}He.validateUnion=b9;Object.defineProperty(Qn,"__esModule",{value:!0});Qn.validateKeywordUsage=Qn.validSchemaType=Qn.funcKeywordCode=Qn.macroKeywordCode=void 0;const Gt=Fe,_a=ar,_9=He,w9=gs;function S9(e,t){const{gen:n,keyword:r,schema:a,parentSchema:i,it:o}=e,s=t.macro.call(o.self,a,i,o),l=SN(n,r,s);o.opts.validateSchema!==!1&&o.self.validateSchema(s,!0);const c=n.name("valid");e.subschema({schema:s,schemaPath:Gt.nil,errSchemaPath:`${o.errSchemaPath}/${r}`,topSchemaRef:l,compositeRule:!0},c),e.pass(c,()=>e.error(!0))}Qn.macroKeywordCode=S9;function C9(e,t){var n;const{gen:r,keyword:a,schema:i,parentSchema:o,$data:s,it:l}=e;N9(l,t);const c=!s&&t.compile?t.compile.call(l.self,i,o,l):t.validate,u=SN(r,a,c),d=r.let("valid");e.block$data(d,p),e.ok((n=t.valid)!==null&&n!==void 0?n:d);function p(){if(t.errors===!1)g(),t.modifying&&O_(e),y(()=>e.error());else{const v=t.async?m():h();t.modifying&&O_(e),y(()=>E9(e,v))}}function m(){const v=r.let("ruleErrs",null);return r.try(()=>g((0,Gt._)`await `),w=>r.assign(d,!1).if((0,Gt._)`${w} instanceof ${l.ValidationError}`,()=>r.assign(v,(0,Gt._)`${w}.errors`),()=>r.throw(w))),v}function h(){const v=(0,Gt._)`${u}.errors`;return r.assign(v,null),g(Gt.nil),v}function g(v=t.async?(0,Gt._)`await `:Gt.nil){const w=l.opts.passContext?_a.default.this:_a.default.self,_=!("compile"in t&&!s||t.schema===!1);r.assign(d,(0,Gt._)`${v}${(0,_9.callValidateCode)(e,u,w,_)}`,t.modifying)}function y(v){var w;r.if((0,Gt.not)((w=t.valid)!==null&&w!==void 0?w:d),v)}}Qn.funcKeywordCode=C9;function O_(e){const{gen:t,data:n,it:r}=e;t.if(r.parentData,()=>t.assign(n,(0,Gt._)`${r.parentData}[${r.parentDataProperty}]`))}function E9(e,t){const{gen:n}=e;n.if((0,Gt._)`Array.isArray(${t})`,()=>{n.assign(_a.default.vErrors,(0,Gt._)`${_a.default.vErrors} === null ? ${t} : ${_a.default.vErrors}.concat(${t})`).assign(_a.default.errors,(0,Gt._)`${_a.default.vErrors}.length`),(0,w9.extendErrors)(e)},()=>e.error())}function N9({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function SN(e,t,n){if(n===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof n=="function"?{ref:n}:{ref:n,code:(0,Gt.stringify)(n)})}function T9(e,t,n=!1){return!t.length||t.some(r=>r==="array"?Array.isArray(e):r==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==r||n&&typeof e>"u")}Qn.validSchemaType=T9;function I9({schema:e,opts:t,self:n,errSchemaPath:r},a,i){if(Array.isArray(a.keyword)?!a.keyword.includes(i):a.keyword!==i)throw new Error("ajv implementation error");const o=a.dependencies;if(o!=null&&o.some(s=>!Object.prototype.hasOwnProperty.call(e,s)))throw new Error(`parent schema must have dependencies of ${i}: ${o.join(",")}`);if(a.validateSchema&&!a.validateSchema(e[i])){const l=`keyword "${i}" value is invalid at path "${r}": `+n.errorsText(a.validateSchema.errors);if(t.validateSchema==="log")n.logger.error(l);else throw new Error(l)}}Qn.validateKeywordUsage=I9;var Xr={};Object.defineProperty(Xr,"__esModule",{value:!0});Xr.extendSubschemaMode=Xr.extendSubschemaData=Xr.getSubschema=void 0;const Gn=Fe,CN=Ye;function R9(e,{keyword:t,schemaProp:n,schema:r,schemaPath:a,errSchemaPath:i,topSchemaRef:o}){if(t!==void 0&&r!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const s=e.schema[t];return n===void 0?{schema:s,schemaPath:(0,Gn._)`${e.schemaPath}${(0,Gn.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:s[n],schemaPath:(0,Gn._)`${e.schemaPath}${(0,Gn.getProperty)(t)}${(0,Gn.getProperty)(n)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,CN.escapeFragment)(n)}`}}if(r!==void 0){if(a===void 0||i===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:r,schemaPath:a,topSchemaRef:o,errSchemaPath:i}}throw new Error('either "keyword" or "schema" must be passed')}Xr.getSubschema=R9;function x9(e,t,{dataProp:n,dataPropType:r,data:a,dataTypes:i,propertyName:o}){if(a!==void 0&&n!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:s}=t;if(n!==void 0){const{errorPath:c,dataPathArr:u,opts:d}=t,p=s.let("data",(0,Gn._)`${t.data}${(0,Gn.getProperty)(n)}`,!0);l(p),e.errorPath=(0,Gn.str)`${c}${(0,CN.getErrorPath)(n,r,d.jsPropertySyntax)}`,e.parentDataProperty=(0,Gn._)`${n}`,e.dataPathArr=[...u,e.parentDataProperty]}if(a!==void 0){const c=a instanceof Gn.Name?a:s.let("data",a,!0);l(c),o!==void 0&&(e.propertyName=o)}i&&(e.dataTypes=i);function l(c){e.data=c,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,c]}}Xr.extendSubschemaData=x9;function $9(e,{jtdDiscriminator:t,jtdMetadata:n,compositeRule:r,createErrors:a,allErrors:i}){r!==void 0&&(e.compositeRule=r),a!==void 0&&(e.createErrors=a),i!==void 0&&(e.allErrors=i),e.jtdDiscriminator=t,e.jtdMetadata=n}Xr.extendSubschemaMode=$9;var Ft={},EN=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,a,i;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(a=r;a--!==0;)if(!e(t[a],n[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(i=Object.keys(t),r=i.length,r!==Object.keys(n).length)return!1;for(a=r;a--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[a]))return!1;for(a=r;a--!==0;){var o=i[a];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n},NN={exports:{}},jr=NN.exports=function(e,t,n){typeof t=="function"&&(n=t,t={}),n=t.cb||n;var r=typeof n=="function"?n:n.pre||function(){},a=n.post||function(){};hl(t,r,a,e,"",e)};jr.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};jr.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};jr.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};jr.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function hl(e,t,n,r,a,i,o,s,l,c){if(r&&typeof r=="object"&&!Array.isArray(r)){t(r,a,i,o,s,l,c);for(var u in r){var d=r[u];if(Array.isArray(d)){if(u in jr.arrayKeywords)for(var p=0;p<d.length;p++)hl(e,t,n,d[p],a+"/"+u+"/"+p,i,a,u,r,p)}else if(u in jr.propsKeywords){if(d&&typeof d=="object")for(var m in d)hl(e,t,n,d[m],a+"/"+u+"/"+A9(m),i,a,u,r,m)}else(u in jr.keywords||e.allKeys&&!(u in jr.skipKeywords))&&hl(e,t,n,d,a+"/"+u,i,a,u,r)}n(r,a,i,o,s,l,c)}}function A9(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var O9=NN.exports;Object.defineProperty(Ft,"__esModule",{value:!0});Ft.getSchemaRefs=Ft.resolveUrl=Ft.normalizeId=Ft._getFullPath=Ft.getFullPath=Ft.inlineRef=void 0;const k9=Ye,P9=EN,D9=O9,V9=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function L9(e,t=!0){return typeof e=="boolean"?!0:t===!0?!Up(e):t?TN(e)<=t:!1}Ft.inlineRef=L9;const F9=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Up(e){for(const t in e){if(F9.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(Up)||typeof n=="object"&&Up(n))return!0}return!1}function TN(e){let t=0;for(const n in e){if(n==="$ref")return 1/0;if(t++,!V9.has(n)&&(typeof e[n]=="object"&&(0,k9.eachItem)(e[n],r=>t+=TN(r)),t===1/0))return 1/0}return t}function IN(e,t="",n){n!==!1&&(t=pi(t));const r=e.parse(t);return RN(e,r)}Ft.getFullPath=IN;function RN(e,t){return e.serialize(t).split("#")[0]+"#"}Ft._getFullPath=RN;const q9=/#\/?$/;function pi(e){return e?e.replace(q9,""):""}Ft.normalizeId=pi;function M9(e,t,n){return n=pi(n),e.resolve(t,n)}Ft.resolveUrl=M9;const B9=/^[a-z_][-a-z0-9._]*$/i;function U9(e,t){if(typeof e=="boolean")return{};const{schemaId:n,uriResolver:r}=this.opts,a=pi(e[n]||t),i={"":a},o=IN(r,a,!1),s={},l=new Set;return D9(e,{allKeys:!0},(d,p,m,h)=>{if(h===void 0)return;const g=o+p;let y=i[h];typeof d[n]=="string"&&(y=v.call(this,d[n])),w.call(this,d.$anchor),w.call(this,d.$dynamicAnchor),i[p]=y;function v(_){const b=this.opts.uriResolver.resolve;if(_=pi(y?b(y,_):_),l.has(_))throw u(_);l.add(_);let E=this.refs[_];return typeof E=="string"&&(E=this.refs[E]),typeof E=="object"?c(d,E.schema,_):_!==pi(g)&&(_[0]==="#"?(c(d,s[_],_),s[_]=d):this.refs[_]=g),_}function w(_){if(typeof _=="string"){if(!B9.test(_))throw new Error(`invalid anchor "${_}"`);v.call(this,`#${_}`)}}}),s;function c(d,p,m){if(p!==void 0&&!P9(d,p))throw u(m)}function u(d){return new Error(`reference "${d}" resolves to more than one schema`)}}Ft.getSchemaRefs=U9;Object.defineProperty(Fn,"__esModule",{value:!0});Fn.getData=Fn.KeywordCxt=Fn.validateFunctionCode=void 0;const xN=Ei,k_=ys,sy=vr,nu=ys,H9=mc,mo=Qn,gf=Xr,be=Fe,Ae=ar,z9=Ft,br=Ye,Zi=gs;function j9(e){if(ON(e)&&(kN(e),AN(e))){K9(e);return}$N(e,()=>(0,xN.topBoolOrEmptySchema)(e))}Fn.validateFunctionCode=j9;function $N({gen:e,validateName:t,schema:n,schemaEnv:r,opts:a},i){a.code.es5?e.func(t,(0,be._)`${Ae.default.data}, ${Ae.default.valCxt}`,r.$async,()=>{e.code((0,be._)`"use strict"; ${P_(n,a)}`),G9(e,a),e.code(i)}):e.func(t,(0,be._)`${Ae.default.data}, ${W9(a)}`,r.$async,()=>e.code(P_(n,a)).code(i))}function W9(e){return(0,be._)`{${Ae.default.instancePath}="", ${Ae.default.parentData}, ${Ae.default.parentDataProperty}, ${Ae.default.rootData}=${Ae.default.data}${e.dynamicRef?(0,be._)`, ${Ae.default.dynamicAnchors}={}`:be.nil}}={}`}function G9(e,t){e.if(Ae.default.valCxt,()=>{e.var(Ae.default.instancePath,(0,be._)`${Ae.default.valCxt}.${Ae.default.instancePath}`),e.var(Ae.default.parentData,(0,be._)`${Ae.default.valCxt}.${Ae.default.parentData}`),e.var(Ae.default.parentDataProperty,(0,be._)`${Ae.default.valCxt}.${Ae.default.parentDataProperty}`),e.var(Ae.default.rootData,(0,be._)`${Ae.default.valCxt}.${Ae.default.rootData}`),t.dynamicRef&&e.var(Ae.default.dynamicAnchors,(0,be._)`${Ae.default.valCxt}.${Ae.default.dynamicAnchors}`)},()=>{e.var(Ae.default.instancePath,(0,be._)`""`),e.var(Ae.default.parentData,(0,be._)`undefined`),e.var(Ae.default.parentDataProperty,(0,be._)`undefined`),e.var(Ae.default.rootData,Ae.default.data),t.dynamicRef&&e.var(Ae.default.dynamicAnchors,(0,be._)`{}`)})}function K9(e){const{schema:t,opts:n,gen:r}=e;$N(e,()=>{n.$comment&&t.$comment&&DN(e),Z9(e),r.let(Ae.default.vErrors,null),r.let(Ae.default.errors,0),n.unevaluated&&Y9(e),PN(e),n8(e)})}function Y9(e){const{gen:t,validateName:n}=e;e.evaluated=t.const("evaluated",(0,be._)`${n}.evaluated`),t.if((0,be._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,be._)`${e.evaluated}.props`,(0,be._)`undefined`)),t.if((0,be._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,be._)`${e.evaluated}.items`,(0,be._)`undefined`))}function P_(e,t){const n=typeof e=="object"&&e[t.schemaId];return n&&(t.code.source||t.code.process)?(0,be._)`/*# sourceURL=${n} */`:be.nil}function Q9(e,t){if(ON(e)&&(kN(e),AN(e))){X9(e,t);return}(0,xN.boolOrEmptySchema)(e,t)}function AN({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const n in e)if(t.RULES.all[n])return!0;return!1}function ON(e){return typeof e.schema!="boolean"}function X9(e,t){const{schema:n,gen:r,opts:a}=e;a.$comment&&n.$comment&&DN(e),e8(e),t8(e);const i=r.const("_errs",Ae.default.errors);PN(e,i),r.var(t,(0,be._)`${i} === ${Ae.default.errors}`)}function kN(e){(0,br.checkUnknownRules)(e),J9(e)}function PN(e,t){if(e.opts.jtd)return D_(e,[],!1,t);const n=(0,k_.getSchemaTypes)(e.schema),r=(0,k_.coerceAndCheckDataType)(e,n);D_(e,n,!r,t)}function J9(e){const{schema:t,errSchemaPath:n,opts:r,self:a}=e;t.$ref&&r.ignoreKeywordsWithRef&&(0,br.schemaHasRulesButRef)(t,a.RULES)&&a.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}function Z9(e){const{schema:t,opts:n}=e;t.default!==void 0&&n.useDefaults&&n.strictSchema&&(0,br.checkStrictMode)(e,"default is ignored in the schema root")}function e8(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,z9.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function t8(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function DN({gen:e,schemaEnv:t,schema:n,errSchemaPath:r,opts:a}){const i=n.$comment;if(a.$comment===!0)e.code((0,be._)`${Ae.default.self}.logger.log(${i})`);else if(typeof a.$comment=="function"){const o=(0,be.str)`${r}/$comment`,s=e.scopeValue("root",{ref:t.root});e.code((0,be._)`${Ae.default.self}.opts.$comment(${i}, ${o}, ${s}.schema)`)}}function n8(e){const{gen:t,schemaEnv:n,validateName:r,ValidationError:a,opts:i}=e;n.$async?t.if((0,be._)`${Ae.default.errors} === 0`,()=>t.return(Ae.default.data),()=>t.throw((0,be._)`new ${a}(${Ae.default.vErrors})`)):(t.assign((0,be._)`${r}.errors`,Ae.default.vErrors),i.unevaluated&&r8(e),t.return((0,be._)`${Ae.default.errors} === 0`))}function r8({gen:e,evaluated:t,props:n,items:r}){n instanceof be.Name&&e.assign((0,be._)`${t}.props`,n),r instanceof be.Name&&e.assign((0,be._)`${t}.items`,r)}function D_(e,t,n,r){const{gen:a,schema:i,data:o,allErrors:s,opts:l,self:c}=e,{RULES:u}=c;if(i.$ref&&(l.ignoreKeywordsWithRef||!(0,br.schemaHasRulesButRef)(i,u))){a.block(()=>FN(e,"$ref",u.all.$ref.definition));return}l.jtd||a8(e,t),a.block(()=>{for(const p of u.rules)d(p);d(u.post)});function d(p){(0,sy.shouldUseGroup)(i,p)&&(p.type?(a.if((0,nu.checkDataType)(p.type,o,l.strictNumbers)),V_(e,p),t.length===1&&t[0]===p.type&&n&&(a.else(),(0,nu.reportTypeError)(e)),a.endIf()):V_(e,p),s||a.if((0,be._)`${Ae.default.errors} === ${r||0}`))}}function V_(e,t){const{gen:n,schema:r,opts:{useDefaults:a}}=e;a&&(0,H9.assignDefaults)(e,t.type),n.block(()=>{for(const i of t.rules)(0,sy.shouldUseRule)(r,i)&&FN(e,i.keyword,i.definition,t.type)})}function a8(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(i8(e,t),e.opts.allowUnionTypes||o8(e,t),s8(e,e.dataTypes))}function i8(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(n=>{VN(e.dataTypes,n)||ly(e,`type "${n}" not allowed by context "${e.dataTypes.join(",")}"`)}),u8(e,t)}}function o8(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&ly(e,"use allowUnionTypes to allow union type keyword")}function s8(e,t){const n=e.self.RULES.all;for(const r in n){const a=n[r];if(typeof a=="object"&&(0,sy.shouldUseRule)(e.schema,a)){const{type:i}=a.definition;i.length&&!i.some(o=>l8(t,o))&&ly(e,`missing type "${i.join(",")}" for keyword "${r}"`)}}}function l8(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function VN(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function u8(e,t){const n=[];for(const r of e.dataTypes)VN(t,r)?n.push(r):t.includes("integer")&&r==="number"&&n.push("integer");e.dataTypes=n}function ly(e,t){const n=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${n}" (strictTypes)`,(0,br.checkStrictMode)(e,t,e.opts.strictTypes)}class LN{constructor(t,n,r){if((0,mo.validateKeywordUsage)(t,n,r),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=r,this.data=t.data,this.schema=t.schema[r],this.$data=n.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,br.schemaRefOrVal)(t,this.schema,r,this.$data),this.schemaType=n.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=n,this.$data)this.schemaCode=t.gen.const("vSchema",qN(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,mo.validSchemaType)(this.schema,n.schemaType,n.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(n.schemaType)}`);("code"in n?n.trackErrors:n.errors!==!1)&&(this.errsCount=t.gen.const("_errs",Ae.default.errors))}result(t,n,r){this.failResult((0,be.not)(t),n,r)}failResult(t,n,r){this.gen.if(t),r?r():this.error(),n?(this.gen.else(),n(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,n){this.failResult((0,be.not)(t),void 0,n)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:n}=this;this.fail((0,be._)`${n} !== undefined && (${(0,be.or)(this.invalid$data(),t)})`)}error(t,n,r){if(n){this.setParams(n),this._error(t,r),this.setParams({});return}this._error(t,r)}_error(t,n){(t?Zi.reportExtraError:Zi.reportError)(this,this.def.error,n)}$dataError(){(0,Zi.reportError)(this,this.def.$dataError||Zi.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Zi.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,n){n?Object.assign(this.params,t):this.params=t}block$data(t,n,r=be.nil){this.gen.block(()=>{this.check$data(t,r),n()})}check$data(t=be.nil,n=be.nil){if(!this.$data)return;const{gen:r,schemaCode:a,schemaType:i,def:o}=this;r.if((0,be.or)((0,be._)`${a} === undefined`,n)),t!==be.nil&&r.assign(t,!0),(i.length||o.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),t!==be.nil&&r.assign(t,!1)),r.else()}invalid$data(){const{gen:t,schemaCode:n,schemaType:r,def:a,it:i}=this;return(0,be.or)(o(),s());function o(){if(r.length){if(!(n instanceof be.Name))throw new Error("ajv implementation error");const l=Array.isArray(r)?r:[r];return(0,be._)`${(0,nu.checkDataTypes)(l,n,i.opts.strictNumbers,nu.DataType.Wrong)}`}return be.nil}function s(){if(a.validateSchema){const l=t.scopeValue("validate$data",{ref:a.validateSchema});return(0,be._)`!${l}(${n})`}return be.nil}}subschema(t,n){const r=(0,gf.getSubschema)(this.it,t);(0,gf.extendSubschemaData)(r,this.it,t),(0,gf.extendSubschemaMode)(r,t);const a={...this.it,...r,items:void 0,props:void 0};return Q9(a,n),a}mergeEvaluated(t,n){const{it:r,gen:a}=this;r.opts.unevaluated&&(r.props!==!0&&t.props!==void 0&&(r.props=br.mergeEvaluated.props(a,t.props,r.props,n)),r.items!==!0&&t.items!==void 0&&(r.items=br.mergeEvaluated.items(a,t.items,r.items,n)))}mergeValidEvaluated(t,n){const{it:r,gen:a}=this;if(r.opts.unevaluated&&(r.props!==!0||r.items!==!0))return a.if(n,()=>this.mergeEvaluated(t,be.Name)),!0}}Fn.KeywordCxt=LN;function FN(e,t,n,r){const a=new LN(e,n,t);"code"in n?n.code(a,r):a.$data&&n.validate?(0,mo.funcKeywordCode)(a,n):"macro"in n?(0,mo.macroKeywordCode)(a,n):(n.compile||n.validate)&&(0,mo.funcKeywordCode)(a,n)}const c8=/^\/(?:[^~]|~0|~1)*$/,d8=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function qN(e,{dataLevel:t,dataNames:n,dataPathArr:r}){let a,i;if(e==="")return Ae.default.rootData;if(e[0]==="/"){if(!c8.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);a=e,i=Ae.default.rootData}else{const c=d8.exec(e);if(!c)throw new Error(`Invalid JSON-pointer: ${e}`);const u=+c[1];if(a=c[2],a==="#"){if(u>=t)throw new Error(l("property/index",u));return r[t-u]}if(u>t)throw new Error(l("data",u));if(i=n[t-u],!a)return i}let o=i;const s=a.split("/");for(const c of s)c&&(i=(0,be._)`${i}${(0,be.getProperty)((0,br.unescapeJsonPointer)(c))}`,o=(0,be._)`${o} && ${i}`);return o;function l(c,u){return`Cannot access ${c} ${u} levels up, current level is ${t}`}}Fn.getData=qN;var vs={};Object.defineProperty(vs,"__esModule",{value:!0});class f8 extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}vs.default=f8;var bs={};Object.defineProperty(bs,"__esModule",{value:!0});const yf=Ft;class p8 extends Error{constructor(t,n,r,a){super(a||`can't resolve reference ${r} from id ${n}`),this.missingRef=(0,yf.resolveUrl)(t,n,r),this.missingSchema=(0,yf.normalizeId)((0,yf.getFullPath)(t,this.missingRef))}}bs.default=p8;var tn={};Object.defineProperty(tn,"__esModule",{value:!0});tn.resolveSchema=tn.getCompilingSchema=tn.resolveRef=tn.compileSchema=tn.SchemaEnv=void 0;const xn=Fe,m8=vs,ya=ar,Dn=Ft,L_=Ye,h8=Fn;class hc{constructor(t){var n;this.refs={},this.dynamicAnchors={};let r;typeof t.schema=="object"&&(r=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(n=t.baseId)!==null&&n!==void 0?n:(0,Dn.normalizeId)(r==null?void 0:r[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=r==null?void 0:r.$async,this.refs={}}}tn.SchemaEnv=hc;function uy(e){const t=MN.call(this,e);if(t)return t;const n=(0,Dn.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:r,lines:a}=this.opts.code,{ownProperties:i}=this.opts,o=new xn.CodeGen(this.scope,{es5:r,lines:a,ownProperties:i});let s;e.$async&&(s=o.scopeValue("Error",{ref:m8.default,code:(0,xn._)`require("ajv/dist/runtime/validation_error").default`}));const l=o.scopeName("validate");e.validateName=l;const c={gen:o,allErrors:this.opts.allErrors,data:ya.default.data,parentData:ya.default.parentData,parentDataProperty:ya.default.parentDataProperty,dataNames:[ya.default.data],dataPathArr:[xn.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,xn.stringify)(e.schema)}:{ref:e.schema}),validateName:l,ValidationError:s,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:xn.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,xn._)`""`,opts:this.opts,self:this};let u;try{this._compilations.add(e),(0,h8.validateFunctionCode)(c),o.optimize(this.opts.code.optimize);const d=o.toString();u=`${o.scopeRefs(ya.default.scope)}return ${d}`,this.opts.code.process&&(u=this.opts.code.process(u,e));const m=new Function(`${ya.default.self}`,`${ya.default.scope}`,u)(this,this.scope.get());if(this.scope.value(l,{ref:m}),m.errors=null,m.schema=e.schema,m.schemaEnv=e,e.$async&&(m.$async=!0),this.opts.code.source===!0&&(m.source={validateName:l,validateCode:d,scopeValues:o._values}),this.opts.unevaluated){const{props:h,items:g}=c;m.evaluated={props:h instanceof xn.Name?void 0:h,items:g instanceof xn.Name?void 0:g,dynamicProps:h instanceof xn.Name,dynamicItems:g instanceof xn.Name},m.source&&(m.source.evaluated=(0,xn.stringify)(m.evaluated))}return e.validate=m,e}catch(d){throw delete e.validate,delete e.validateName,u&&this.logger.error("Error compiling schema, function code:",u),d}finally{this._compilations.delete(e)}}tn.compileSchema=uy;function g8(e,t,n){var r;n=(0,Dn.resolveUrl)(this.opts.uriResolver,t,n);const a=e.refs[n];if(a)return a;let i=b8.call(this,e,n);if(i===void 0){const o=(r=e.localRefs)===null||r===void 0?void 0:r[n],{schemaId:s}=this.opts;o&&(i=new hc({schema:o,schemaId:s,root:e,baseId:t}))}if(i!==void 0)return e.refs[n]=y8.call(this,i)}tn.resolveRef=g8;function y8(e){return(0,Dn.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:uy.call(this,e)}function MN(e){for(const t of this._compilations)if(v8(t,e))return t}tn.getCompilingSchema=MN;function v8(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function b8(e,t){let n;for(;typeof(n=this.refs[t])=="string";)t=n;return n||this.schemas[t]||gc.call(this,e,t)}function gc(e,t){const n=this.opts.uriResolver.parse(t),r=(0,Dn._getFullPath)(this.opts.uriResolver,n);let a=(0,Dn.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&r===a)return vf.call(this,n,e);const i=(0,Dn.normalizeId)(r),o=this.refs[i]||this.schemas[i];if(typeof o=="string"){const s=gc.call(this,e,o);return typeof(s==null?void 0:s.schema)!="object"?void 0:vf.call(this,n,s)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||uy.call(this,o),i===(0,Dn.normalizeId)(t)){const{schema:s}=o,{schemaId:l}=this.opts,c=s[l];return c&&(a=(0,Dn.resolveUrl)(this.opts.uriResolver,a,c)),new hc({schema:s,schemaId:l,root:e,baseId:a})}return vf.call(this,n,o)}}tn.resolveSchema=gc;const _8=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function vf(e,{baseId:t,schema:n,root:r}){var a;if(((a=e.fragment)===null||a===void 0?void 0:a[0])!=="/")return;for(const s of e.fragment.slice(1).split("/")){if(typeof n=="boolean")return;const l=n[(0,L_.unescapeFragment)(s)];if(l===void 0)return;n=l;const c=typeof n=="object"&&n[this.opts.schemaId];!_8.has(s)&&c&&(t=(0,Dn.resolveUrl)(this.opts.uriResolver,t,c))}let i;if(typeof n!="boolean"&&n.$ref&&!(0,L_.schemaHasRulesButRef)(n,this.RULES)){const s=(0,Dn.resolveUrl)(this.opts.uriResolver,t,n.$ref);i=gc.call(this,r,s)}const{schemaId:o}=this.opts;if(i=i||new hc({schema:n,schemaId:o,root:r,baseId:t}),i.schema!==i.root.schema)return i}const w8="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",S8="Meta-schema for $data reference (JSON AnySchema extension proposal)",C8="object",E8=["$data"],N8={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},T8=!1,I8={$id:w8,description:S8,type:C8,required:E8,properties:N8,additionalProperties:T8};var cy={},Hp={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(n,r){r(t)})(Jo,function(n){function r(){for(var W=arguments.length,H=Array(W),G=0;G<W;G++)H[G]=arguments[G];if(H.length>1){H[0]=H[0].slice(0,-1);for(var ne=H.length-1,ee=1;ee<ne;++ee)H[ee]=H[ee].slice(1,-1);return H[ne]=H[ne].slice(1),H.join("")}else return H[0]}function a(W){return"(?:"+W+")"}function i(W){return W===void 0?"undefined":W===null?"null":Object.prototype.toString.call(W).split(" ").pop().split("]").shift().toLowerCase()}function o(W){return W.toUpperCase()}function s(W){return W!=null?W instanceof Array?W:typeof W.length!="number"||W.split||W.setInterval||W.call?[W]:Array.prototype.slice.call(W):[]}function l(W,H){var G=W;if(H)for(var ne in H)G[ne]=H[ne];return G}function c(W){var H="[A-Za-z]",G="[0-9]",ne=r(G,"[A-Fa-f]"),ee=a(a("%[EFef]"+ne+"%"+ne+ne+"%"+ne+ne)+"|"+a("%[89A-Fa-f]"+ne+"%"+ne+ne)+"|"+a("%"+ne+ne)),me="[\\:\\/\\?\\#\\[\\]\\@]",Y="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",X=r(me,Y),oe=W?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",ue=W?"[\\uE000-\\uF8FF]":"[]",fe=r(H,G,"[\\-\\.\\_\\~]",oe);a(H+r(H,G,"[\\+\\-\\.]")+"*"),a(a(ee+"|"+r(fe,Y,"[\\:]"))+"*");var $e=a(a("25[0-5]")+"|"+a("2[0-4]"+G)+"|"+a("1"+G+G)+"|"+a("0?[1-9]"+G)+"|0?0?"+G),ke=a($e+"\\."+$e+"\\."+$e+"\\."+$e),we=a(ne+"{1,4}"),et=a(a(we+"\\:"+we)+"|"+ke),wt=a(a(we+"\\:")+"{6}"+et),ot=a("\\:\\:"+a(we+"\\:")+"{5}"+et),zn=a(a(we)+"?\\:\\:"+a(we+"\\:")+"{4}"+et),cn=a(a(a(we+"\\:")+"{0,1}"+we)+"?\\:\\:"+a(we+"\\:")+"{3}"+et),vn=a(a(a(we+"\\:")+"{0,2}"+we)+"?\\:\\:"+a(we+"\\:")+"{2}"+et),$r=a(a(a(we+"\\:")+"{0,3}"+we)+"?\\:\\:"+we+"\\:"+et),ir=a(a(a(we+"\\:")+"{0,4}"+we)+"?\\:\\:"+et),Xt=a(a(a(we+"\\:")+"{0,5}"+we)+"?\\:\\:"+we),Jt=a(a(a(we+"\\:")+"{0,6}"+we)+"?\\:\\:"),ha=a([wt,ot,zn,cn,vn,$r,ir,Xt,Jt].join("|")),or=a(a(fe+"|"+ee)+"+");a("[vV]"+ne+"+\\."+r(fe,Y,"[\\:]")+"+"),a(a(ee+"|"+r(fe,Y))+"*");var Ui=a(ee+"|"+r(fe,Y,"[\\:\\@]"));return a(a(ee+"|"+r(fe,Y,"[\\@]"))+"+"),a(a(Ui+"|"+r("[\\/\\?]",ue))+"*"),{NOT_SCHEME:new RegExp(r("[^]",H,G,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",fe,Y),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",fe,Y),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",fe,Y),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",fe,Y),"g"),NOT_QUERY:new RegExp(r("[^\\%]",fe,Y,"[\\:\\@\\/\\?]",ue),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",fe,Y,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",fe,Y),"g"),UNRESERVED:new RegExp(fe,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",fe,X),"g"),PCT_ENCODED:new RegExp(ee,"g"),IPV4ADDRESS:new RegExp("^("+ke+")$"),IPV6ADDRESS:new RegExp("^\\[?("+ha+")"+a(a("\\%25|\\%(?!"+ne+"{2})")+"("+or+")")+"?\\]?$")}}var u=c(!1),d=c(!0),p=function(){function W(H,G){var ne=[],ee=!0,me=!1,Y=void 0;try{for(var X=H[Symbol.iterator](),oe;!(ee=(oe=X.next()).done)&&(ne.push(oe.value),!(G&&ne.length===G));ee=!0);}catch(ue){me=!0,Y=ue}finally{try{!ee&&X.return&&X.return()}finally{if(me)throw Y}}return ne}return function(H,G){if(Array.isArray(H))return H;if(Symbol.iterator in Object(H))return W(H,G);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),m=function(W){if(Array.isArray(W)){for(var H=0,G=Array(W.length);H<W.length;H++)G[H]=W[H];return G}else return Array.from(W)},h=2147483647,g=36,y=1,v=26,w=38,_=700,b=72,E=128,S="-",N=/^xn--/,C=/[^\0-\x7E]/,I=/[\x2E\u3002\uFF0E\uFF61]/g,k={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},O=g-y,M=Math.floor,q=String.fromCharCode;function $(W){throw new RangeError(k[W])}function B(W,H){for(var G=[],ne=W.length;ne--;)G[ne]=H(W[ne]);return G}function L(W,H){var G=W.split("@"),ne="";G.length>1&&(ne=G[0]+"@",W=G[1]),W=W.replace(I,".");var ee=W.split("."),me=B(ee,H).join(".");return ne+me}function F(W){for(var H=[],G=0,ne=W.length;G<ne;){var ee=W.charCodeAt(G++);if(ee>=55296&&ee<=56319&&G<ne){var me=W.charCodeAt(G++);(me&64512)==56320?H.push(((ee&1023)<<10)+(me&1023)+65536):(H.push(ee),G--)}else H.push(ee)}return H}var z=function(H){return String.fromCodePoint.apply(String,m(H))},D=function(H){return H-48<10?H-22:H-65<26?H-65:H-97<26?H-97:g},x=function(H,G){return H+22+75*(H<26)-((G!=0)<<5)},A=function(H,G,ne){var ee=0;for(H=ne?M(H/_):H>>1,H+=M(H/G);H>O*v>>1;ee+=g)H=M(H/O);return M(ee+(O+1)*H/(H+w))},j=function(H){var G=[],ne=H.length,ee=0,me=E,Y=b,X=H.lastIndexOf(S);X<0&&(X=0);for(var oe=0;oe<X;++oe)H.charCodeAt(oe)>=128&&$("not-basic"),G.push(H.charCodeAt(oe));for(var ue=X>0?X+1:0;ue<ne;){for(var fe=ee,$e=1,ke=g;;ke+=g){ue>=ne&&$("invalid-input");var we=D(H.charCodeAt(ue++));(we>=g||we>M((h-ee)/$e))&&$("overflow"),ee+=we*$e;var et=ke<=Y?y:ke>=Y+v?v:ke-Y;if(we<et)break;var wt=g-et;$e>M(h/wt)&&$("overflow"),$e*=wt}var ot=G.length+1;Y=A(ee-fe,ot,fe==0),M(ee/ot)>h-me&&$("overflow"),me+=M(ee/ot),ee%=ot,G.splice(ee++,0,me)}return String.fromCodePoint.apply(String,G)},U=function(H){var G=[];H=F(H);var ne=H.length,ee=E,me=0,Y=b,X=!0,oe=!1,ue=void 0;try{for(var fe=H[Symbol.iterator](),$e;!(X=($e=fe.next()).done);X=!0){var ke=$e.value;ke<128&&G.push(q(ke))}}catch(Hi){oe=!0,ue=Hi}finally{try{!X&&fe.return&&fe.return()}finally{if(oe)throw ue}}var we=G.length,et=we;for(we&&G.push(S);et<ne;){var wt=h,ot=!0,zn=!1,cn=void 0;try{for(var vn=H[Symbol.iterator](),$r;!(ot=($r=vn.next()).done);ot=!0){var ir=$r.value;ir>=ee&&ir<wt&&(wt=ir)}}catch(Hi){zn=!0,cn=Hi}finally{try{!ot&&vn.return&&vn.return()}finally{if(zn)throw cn}}var Xt=et+1;wt-ee>M((h-me)/Xt)&&$("overflow"),me+=(wt-ee)*Xt,ee=wt;var Jt=!0,ha=!1,or=void 0;try{for(var Ui=H[Symbol.iterator](),Zy;!(Jt=(Zy=Ui.next()).done);Jt=!0){var ev=Zy.value;if(ev<ee&&++me>h&&$("overflow"),ev==ee){for(var Ss=me,Cs=g;;Cs+=g){var Es=Cs<=Y?y:Cs>=Y+v?v:Cs-Y;if(Ss<Es)break;var tv=Ss-Es,nv=g-Es;G.push(q(x(Es+tv%nv,0))),Ss=M(tv/nv)}G.push(q(x(Ss,0))),Y=A(me,Xt,et==we),me=0,++et}}}catch(Hi){ha=!0,or=Hi}finally{try{!Jt&&Ui.return&&Ui.return()}finally{if(ha)throw or}}++me,++ee}return G.join("")},T=function(H){return L(H,function(G){return N.test(G)?j(G.slice(4).toLowerCase()):G})},V=function(H){return L(H,function(G){return C.test(G)?"xn--"+U(G):G})},K={version:"2.1.0",ucs2:{decode:F,encode:z},decode:j,encode:U,toASCII:V,toUnicode:T},Z={};function Q(W){var H=W.charCodeAt(0),G=void 0;return H<16?G="%0"+H.toString(16).toUpperCase():H<128?G="%"+H.toString(16).toUpperCase():H<2048?G="%"+(H>>6|192).toString(16).toUpperCase()+"%"+(H&63|128).toString(16).toUpperCase():G="%"+(H>>12|224).toString(16).toUpperCase()+"%"+(H>>6&63|128).toString(16).toUpperCase()+"%"+(H&63|128).toString(16).toUpperCase(),G}function re(W){for(var H="",G=0,ne=W.length;G<ne;){var ee=parseInt(W.substr(G+1,2),16);if(ee<128)H+=String.fromCharCode(ee),G+=3;else if(ee>=194&&ee<224){if(ne-G>=6){var me=parseInt(W.substr(G+4,2),16);H+=String.fromCharCode((ee&31)<<6|me&63)}else H+=W.substr(G,6);G+=6}else if(ee>=224){if(ne-G>=9){var Y=parseInt(W.substr(G+4,2),16),X=parseInt(W.substr(G+7,2),16);H+=String.fromCharCode((ee&15)<<12|(Y&63)<<6|X&63)}else H+=W.substr(G,9);G+=9}else H+=W.substr(G,3),G+=3}return H}function se(W,H){function G(ne){var ee=re(ne);return ee.match(H.UNRESERVED)?ee:ne}return W.scheme&&(W.scheme=String(W.scheme).replace(H.PCT_ENCODED,G).toLowerCase().replace(H.NOT_SCHEME,"")),W.userinfo!==void 0&&(W.userinfo=String(W.userinfo).replace(H.PCT_ENCODED,G).replace(H.NOT_USERINFO,Q).replace(H.PCT_ENCODED,o)),W.host!==void 0&&(W.host=String(W.host).replace(H.PCT_ENCODED,G).toLowerCase().replace(H.NOT_HOST,Q).replace(H.PCT_ENCODED,o)),W.path!==void 0&&(W.path=String(W.path).replace(H.PCT_ENCODED,G).replace(W.scheme?H.NOT_PATH:H.NOT_PATH_NOSCHEME,Q).replace(H.PCT_ENCODED,o)),W.query!==void 0&&(W.query=String(W.query).replace(H.PCT_ENCODED,G).replace(H.NOT_QUERY,Q).replace(H.PCT_ENCODED,o)),W.fragment!==void 0&&(W.fragment=String(W.fragment).replace(H.PCT_ENCODED,G).replace(H.NOT_FRAGMENT,Q).replace(H.PCT_ENCODED,o)),W}function de(W){return W.replace(/^0*(.*)/,"$1")||"0"}function xe(W,H){var G=W.match(H.IPV4ADDRESS)||[],ne=p(G,2),ee=ne[1];return ee?ee.split(".").map(de).join("."):W}function qe(W,H){var G=W.match(H.IPV6ADDRESS)||[],ne=p(G,3),ee=ne[1],me=ne[2];if(ee){for(var Y=ee.toLowerCase().split("::").reverse(),X=p(Y,2),oe=X[0],ue=X[1],fe=ue?ue.split(":").map(de):[],$e=oe.split(":").map(de),ke=H.IPV4ADDRESS.test($e[$e.length-1]),we=ke?7:8,et=$e.length-we,wt=Array(we),ot=0;ot<we;++ot)wt[ot]=fe[ot]||$e[et+ot]||"";ke&&(wt[we-1]=xe(wt[we-1],H));var zn=wt.reduce(function(Xt,Jt,ha){if(!Jt||Jt==="0"){var or=Xt[Xt.length-1];or&&or.index+or.length===ha?or.length++:Xt.push({index:ha,length:1})}return Xt},[]),cn=zn.sort(function(Xt,Jt){return Jt.length-Xt.length})[0],vn=void 0;if(cn&&cn.length>1){var $r=wt.slice(0,cn.index),ir=wt.slice(cn.index+cn.length);vn=$r.join(":")+"::"+ir.join(":")}else vn=wt.join(":");return me&&(vn+="%"+me),vn}else return W}var he=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,ie="".match(/(){0}/)[1]===void 0;function Te(W){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},G={},ne=H.iri!==!1?d:u;H.reference==="suffix"&&(W=(H.scheme?H.scheme+":":"")+"//"+W);var ee=W.match(he);if(ee){ie?(G.scheme=ee[1],G.userinfo=ee[3],G.host=ee[4],G.port=parseInt(ee[5],10),G.path=ee[6]||"",G.query=ee[7],G.fragment=ee[8],isNaN(G.port)&&(G.port=ee[5])):(G.scheme=ee[1]||void 0,G.userinfo=W.indexOf("@")!==-1?ee[3]:void 0,G.host=W.indexOf("//")!==-1?ee[4]:void 0,G.port=parseInt(ee[5],10),G.path=ee[6]||"",G.query=W.indexOf("?")!==-1?ee[7]:void 0,G.fragment=W.indexOf("#")!==-1?ee[8]:void 0,isNaN(G.port)&&(G.port=W.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?ee[4]:void 0)),G.host&&(G.host=qe(xe(G.host,ne),ne)),G.scheme===void 0&&G.userinfo===void 0&&G.host===void 0&&G.port===void 0&&!G.path&&G.query===void 0?G.reference="same-document":G.scheme===void 0?G.reference="relative":G.fragment===void 0?G.reference="absolute":G.reference="uri",H.reference&&H.reference!=="suffix"&&H.reference!==G.reference&&(G.error=G.error||"URI is not a "+H.reference+" reference.");var me=Z[(H.scheme||G.scheme||"").toLowerCase()];if(!H.unicodeSupport&&(!me||!me.unicodeSupport)){if(G.host&&(H.domainHost||me&&me.domainHost))try{G.host=K.toASCII(G.host.replace(ne.PCT_ENCODED,re).toLowerCase())}catch(Y){G.error=G.error||"Host's domain name can not be converted to ASCII via punycode: "+Y}se(G,u)}else se(G,ne);me&&me.parse&&me.parse(G,H)}else G.error=G.error||"URI can not be parsed.";return G}function ae(W,H){var G=H.iri!==!1?d:u,ne=[];return W.userinfo!==void 0&&(ne.push(W.userinfo),ne.push("@")),W.host!==void 0&&ne.push(qe(xe(String(W.host),G),G).replace(G.IPV6ADDRESS,function(ee,me,Y){return"["+me+(Y?"%25"+Y:"")+"]"})),(typeof W.port=="number"||typeof W.port=="string")&&(ne.push(":"),ne.push(String(W.port))),ne.length?ne.join(""):void 0}var Ge=/^\.\.?\//,Qe=/^\/\.(\/|$)/,bt=/^\/\.\.(\/|$)/,Nt=/^\/?(?:.|\n)*?(?=\/|$)/;function Me(W){for(var H=[];W.length;)if(W.match(Ge))W=W.replace(Ge,"");else if(W.match(Qe))W=W.replace(Qe,"/");else if(W.match(bt))W=W.replace(bt,"/"),H.pop();else if(W==="."||W==="..")W="";else{var G=W.match(Nt);if(G){var ne=G[0];W=W.slice(ne.length),H.push(ne)}else throw new Error("Unexpected dot segment condition")}return H.join("")}function Ke(W){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},G=H.iri?d:u,ne=[],ee=Z[(H.scheme||W.scheme||"").toLowerCase()];if(ee&&ee.serialize&&ee.serialize(W,H),W.host&&!G.IPV6ADDRESS.test(W.host)){if(H.domainHost||ee&&ee.domainHost)try{W.host=H.iri?K.toUnicode(W.host):K.toASCII(W.host.replace(G.PCT_ENCODED,re).toLowerCase())}catch(X){W.error=W.error||"Host's domain name can not be converted to "+(H.iri?"Unicode":"ASCII")+" via punycode: "+X}}se(W,G),H.reference!=="suffix"&&W.scheme&&(ne.push(W.scheme),ne.push(":"));var me=ae(W,H);if(me!==void 0&&(H.reference!=="suffix"&&ne.push("//"),ne.push(me),W.path&&W.path.charAt(0)!=="/"&&ne.push("/")),W.path!==void 0){var Y=W.path;!H.absolutePath&&(!ee||!ee.absolutePath)&&(Y=Me(Y)),me===void 0&&(Y=Y.replace(/^\/\//,"/%2F")),ne.push(Y)}return W.query!==void 0&&(ne.push("?"),ne.push(W.query)),W.fragment!==void 0&&(ne.push("#"),ne.push(W.fragment)),ne.join("")}function dt(W,H){var G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ne=arguments[3],ee={};return ne||(W=Te(Ke(W,G),G),H=Te(Ke(H,G),G)),G=G||{},!G.tolerant&&H.scheme?(ee.scheme=H.scheme,ee.userinfo=H.userinfo,ee.host=H.host,ee.port=H.port,ee.path=Me(H.path||""),ee.query=H.query):(H.userinfo!==void 0||H.host!==void 0||H.port!==void 0?(ee.userinfo=H.userinfo,ee.host=H.host,ee.port=H.port,ee.path=Me(H.path||""),ee.query=H.query):(H.path?(H.path.charAt(0)==="/"?ee.path=Me(H.path):((W.userinfo!==void 0||W.host!==void 0||W.port!==void 0)&&!W.path?ee.path="/"+H.path:W.path?ee.path=W.path.slice(0,W.path.lastIndexOf("/")+1)+H.path:ee.path=H.path,ee.path=Me(ee.path)),ee.query=H.query):(ee.path=W.path,H.query!==void 0?ee.query=H.query:ee.query=W.query),ee.userinfo=W.userinfo,ee.host=W.host,ee.port=W.port),ee.scheme=W.scheme),ee.fragment=H.fragment,ee}function Ee(W,H,G){var ne=l({scheme:"null"},G);return Ke(dt(Te(W,ne),Te(H,ne),ne,!0),ne)}function Ie(W,H){return typeof W=="string"?W=Ke(Te(W,H),H):i(W)==="object"&&(W=Te(Ke(W,H),H)),W}function ce(W,H,G){return typeof W=="string"?W=Ke(Te(W,G),G):i(W)==="object"&&(W=Ke(W,G)),typeof H=="string"?H=Ke(Te(H,G),G):i(H)==="object"&&(H=Ke(H,G)),W===H}function ve(W,H){return W&&W.toString().replace(!H||!H.iri?u.ESCAPE:d.ESCAPE,Q)}function Pe(W,H){return W&&W.toString().replace(!H||!H.iri?u.PCT_ENCODED:d.PCT_ENCODED,re)}var Be={scheme:"http",domainHost:!0,parse:function(H,G){return H.host||(H.error=H.error||"HTTP URIs must have a host."),H},serialize:function(H,G){var ne=String(H.scheme).toLowerCase()==="https";return(H.port===(ne?443:80)||H.port==="")&&(H.port=void 0),H.path||(H.path="/"),H}},Ne={scheme:"https",domainHost:Be.domainHost,parse:Be.parse,serialize:Be.serialize};function ge(W){return typeof W.secure=="boolean"?W.secure:String(W.scheme).toLowerCase()==="wss"}var ze={scheme:"ws",domainHost:!0,parse:function(H,G){var ne=H;return ne.secure=ge(ne),ne.resourceName=(ne.path||"/")+(ne.query?"?"+ne.query:""),ne.path=void 0,ne.query=void 0,ne},serialize:function(H,G){if((H.port===(ge(H)?443:80)||H.port==="")&&(H.port=void 0),typeof H.secure=="boolean"&&(H.scheme=H.secure?"wss":"ws",H.secure=void 0),H.resourceName){var ne=H.resourceName.split("?"),ee=p(ne,2),me=ee[0],Y=ee[1];H.path=me&&me!=="/"?me:void 0,H.query=Y,H.resourceName=void 0}return H.fragment=void 0,H}},at={scheme:"wss",domainHost:ze.domainHost,parse:ze.parse,serialize:ze.serialize},ln={},xt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",kt="[0-9A-Fa-f]",jt=a(a("%[EFef]"+kt+"%"+kt+kt+"%"+kt+kt)+"|"+a("%[89A-Fa-f]"+kt+"%"+kt+kt)+"|"+a("%"+kt+kt)),Pt="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Bt="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",un=r(Bt,'[\\"\\\\]'),Vt="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",ca=new RegExp(xt,"g"),Qt=new RegExp(jt,"g"),Rr=new RegExp(r("[^]",Pt,"[\\.]",'[\\"]',un),"g"),xr=new RegExp(r("[^]",xt,Vt),"g"),da=xr;function _t(W){var H=re(W);return H.match(ca)?H:W}var mt={scheme:"mailto",parse:function(H,G){var ne=H,ee=ne.to=ne.path?ne.path.split(","):[];if(ne.path=void 0,ne.query){for(var me=!1,Y={},X=ne.query.split("&"),oe=0,ue=X.length;oe<ue;++oe){var fe=X[oe].split("=");switch(fe[0]){case"to":for(var $e=fe[1].split(","),ke=0,we=$e.length;ke<we;++ke)ee.push($e[ke]);break;case"subject":ne.subject=Pe(fe[1],G);break;case"body":ne.body=Pe(fe[1],G);break;default:me=!0,Y[Pe(fe[0],G)]=Pe(fe[1],G);break}}me&&(ne.headers=Y)}ne.query=void 0;for(var et=0,wt=ee.length;et<wt;++et){var ot=ee[et].split("@");if(ot[0]=Pe(ot[0]),G.unicodeSupport)ot[1]=Pe(ot[1],G).toLowerCase();else try{ot[1]=K.toASCII(Pe(ot[1],G).toLowerCase())}catch(zn){ne.error=ne.error||"Email address's domain name can not be converted to ASCII via punycode: "+zn}ee[et]=ot.join("@")}return ne},serialize:function(H,G){var ne=H,ee=s(H.to);if(ee){for(var me=0,Y=ee.length;me<Y;++me){var X=String(ee[me]),oe=X.lastIndexOf("@"),ue=X.slice(0,oe).replace(Qt,_t).replace(Qt,o).replace(Rr,Q),fe=X.slice(oe+1);try{fe=G.iri?K.toUnicode(fe):K.toASCII(Pe(fe,G).toLowerCase())}catch(et){ne.error=ne.error||"Email address's domain name can not be converted to "+(G.iri?"Unicode":"ASCII")+" via punycode: "+et}ee[me]=ue+"@"+fe}ne.path=ee.join(",")}var $e=H.headers=H.headers||{};H.subject&&($e.subject=H.subject),H.body&&($e.body=H.body);var ke=[];for(var we in $e)$e[we]!==ln[we]&&ke.push(we.replace(Qt,_t).replace(Qt,o).replace(xr,Q)+"="+$e[we].replace(Qt,_t).replace(Qt,o).replace(da,Q));return ke.length&&(ne.query=ke.join("&")),ne}},Wt=/^([^\:]+)\:(.*)/,fa={scheme:"urn",parse:function(H,G){var ne=H.path&&H.path.match(Wt),ee=H;if(ne){var me=G.scheme||ee.scheme||"urn",Y=ne[1].toLowerCase(),X=ne[2],oe=me+":"+(G.nid||Y),ue=Z[oe];ee.nid=Y,ee.nss=X,ee.path=void 0,ue&&(ee=ue.parse(ee,G))}else ee.error=ee.error||"URN can not be parsed.";return ee},serialize:function(H,G){var ne=G.scheme||H.scheme||"urn",ee=H.nid,me=ne+":"+(G.nid||ee),Y=Z[me];Y&&(H=Y.serialize(H,G));var X=H,oe=H.nss;return X.path=(ee||G.nid)+":"+oe,X}},pa=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ma={scheme:"urn:uuid",parse:function(H,G){var ne=H;return ne.uuid=ne.nss,ne.nss=void 0,!G.tolerant&&(!ne.uuid||!ne.uuid.match(pa))&&(ne.error=ne.error||"UUID is not valid."),ne},serialize:function(H,G){var ne=H;return ne.nss=(H.uuid||"").toLowerCase(),ne}};Z[Be.scheme]=Be,Z[Ne.scheme]=Ne,Z[ze.scheme]=ze,Z[at.scheme]=at,Z[mt.scheme]=mt,Z[fa.scheme]=fa,Z[ma.scheme]=ma,n.SCHEMES=Z,n.pctEncChar=Q,n.pctDecChars=re,n.parse=Te,n.removeDotSegments=Me,n.serialize=Ke,n.resolveComponents=dt,n.resolve=Ee,n.normalize=Ie,n.equal=ce,n.escapeComponent=ve,n.unescapeComponent=Pe,Object.defineProperty(n,"__esModule",{value:!0})})})(Hp,Hp.exports);var R8=Hp.exports;Object.defineProperty(cy,"__esModule",{value:!0});const BN=R8;BN.code='require("ajv/dist/runtime/uri").default';cy.default=BN;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Fn;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var n=Fe;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=vs,a=bs,i=Fa,o=tn,s=Fe,l=Ft,c=ys,u=Ye,d=I8,p=cy,m=(x,A)=>new RegExp(x,A);m.code="new RegExp";const h=["removeAdditional","useDefaults","coerceTypes"],g=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),y={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},v={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},w=200;function _(x){var A,j,U,T,V,K,Z,Q,re,se,de,xe,qe,he,ie,Te,ae,Ge,Qe,bt,Nt,Me,Ke,dt,Ee;const Ie=x.strict,ce=(A=x.code)===null||A===void 0?void 0:A.optimize,ve=ce===!0||ce===void 0?1:ce||0,Pe=(U=(j=x.code)===null||j===void 0?void 0:j.regExp)!==null&&U!==void 0?U:m,Be=(T=x.uriResolver)!==null&&T!==void 0?T:p.default;return{strictSchema:(K=(V=x.strictSchema)!==null&&V!==void 0?V:Ie)!==null&&K!==void 0?K:!0,strictNumbers:(Q=(Z=x.strictNumbers)!==null&&Z!==void 0?Z:Ie)!==null&&Q!==void 0?Q:!0,strictTypes:(se=(re=x.strictTypes)!==null&&re!==void 0?re:Ie)!==null&&se!==void 0?se:"log",strictTuples:(xe=(de=x.strictTuples)!==null&&de!==void 0?de:Ie)!==null&&xe!==void 0?xe:"log",strictRequired:(he=(qe=x.strictRequired)!==null&&qe!==void 0?qe:Ie)!==null&&he!==void 0?he:!1,code:x.code?{...x.code,optimize:ve,regExp:Pe}:{optimize:ve,regExp:Pe},loopRequired:(ie=x.loopRequired)!==null&&ie!==void 0?ie:w,loopEnum:(Te=x.loopEnum)!==null&&Te!==void 0?Te:w,meta:(ae=x.meta)!==null&&ae!==void 0?ae:!0,messages:(Ge=x.messages)!==null&&Ge!==void 0?Ge:!0,inlineRefs:(Qe=x.inlineRefs)!==null&&Qe!==void 0?Qe:!0,schemaId:(bt=x.schemaId)!==null&&bt!==void 0?bt:"$id",addUsedSchema:(Nt=x.addUsedSchema)!==null&&Nt!==void 0?Nt:!0,validateSchema:(Me=x.validateSchema)!==null&&Me!==void 0?Me:!0,validateFormats:(Ke=x.validateFormats)!==null&&Ke!==void 0?Ke:!0,unicodeRegExp:(dt=x.unicodeRegExp)!==null&&dt!==void 0?dt:!0,int32range:(Ee=x.int32range)!==null&&Ee!==void 0?Ee:!0,uriResolver:Be}}class b{constructor(A={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,A=this.opts={...A,..._(A)};const{es5:j,lines:U}=this.opts.code;this.scope=new s.ValueScope({scope:{},prefixes:g,es5:j,lines:U}),this.logger=M(A.logger);const T=A.validateFormats;A.validateFormats=!1,this.RULES=(0,i.getRules)(),E.call(this,y,A,"NOT SUPPORTED"),E.call(this,v,A,"DEPRECATED","warn"),this._metaOpts=k.call(this),A.formats&&C.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),A.keywords&&I.call(this,A.keywords),typeof A.meta=="object"&&this.addMetaSchema(A.meta),N.call(this),A.validateFormats=T}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:A,meta:j,schemaId:U}=this.opts;let T=d;U==="id"&&(T={...d},T.id=T.$id,delete T.$id),j&&A&&this.addMetaSchema(T,T[U],!1)}defaultMeta(){const{meta:A,schemaId:j}=this.opts;return this.opts.defaultMeta=typeof A=="object"?A[j]||A:void 0}validate(A,j){let U;if(typeof A=="string"){if(U=this.getSchema(A),!U)throw new Error(`no schema with key or ref "${A}"`)}else U=this.compile(A);const T=U(j);return"$async"in U||(this.errors=U.errors),T}compile(A,j){const U=this._addSchema(A,j);return U.validate||this._compileSchemaEnv(U)}compileAsync(A,j){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:U}=this.opts;return T.call(this,A,j);async function T(se,de){await V.call(this,se.$schema);const xe=this._addSchema(se,de);return xe.validate||K.call(this,xe)}async function V(se){se&&!this.getSchema(se)&&await T.call(this,{$ref:se},!0)}async function K(se){try{return this._compileSchemaEnv(se)}catch(de){if(!(de instanceof a.default))throw de;return Z.call(this,de),await Q.call(this,de.missingSchema),K.call(this,se)}}function Z({missingSchema:se,missingRef:de}){if(this.refs[se])throw new Error(`AnySchema ${se} is loaded but ${de} cannot be resolved`)}async function Q(se){const de=await re.call(this,se);this.refs[se]||await V.call(this,de.$schema),this.refs[se]||this.addSchema(de,se,j)}async function re(se){const de=this._loading[se];if(de)return de;try{return await(this._loading[se]=U(se))}finally{delete this._loading[se]}}}addSchema(A,j,U,T=this.opts.validateSchema){if(Array.isArray(A)){for(const K of A)this.addSchema(K,void 0,U,T);return this}let V;if(typeof A=="object"){const{schemaId:K}=this.opts;if(V=A[K],V!==void 0&&typeof V!="string")throw new Error(`schema ${K} must be string`)}return j=(0,l.normalizeId)(j||V),this._checkUnique(j),this.schemas[j]=this._addSchema(A,U,j,T,!0),this}addMetaSchema(A,j,U=this.opts.validateSchema){return this.addSchema(A,j,!0,U),this}validateSchema(A,j){if(typeof A=="boolean")return!0;let U;if(U=A.$schema,U!==void 0&&typeof U!="string")throw new Error("$schema must be a string");if(U=U||this.opts.defaultMeta||this.defaultMeta(),!U)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const T=this.validate(U,A);if(!T&&j){const V="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(V);else throw new Error(V)}return T}getSchema(A){let j;for(;typeof(j=S.call(this,A))=="string";)A=j;if(j===void 0){const{schemaId:U}=this.opts,T=new o.SchemaEnv({schema:{},schemaId:U});if(j=o.resolveSchema.call(this,T,A),!j)return;this.refs[A]=j}return j.validate||this._compileSchemaEnv(j)}removeSchema(A){if(A instanceof RegExp)return this._removeAllSchemas(this.schemas,A),this._removeAllSchemas(this.refs,A),this;switch(typeof A){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const j=S.call(this,A);return typeof j=="object"&&this._cache.delete(j.schema),delete this.schemas[A],delete this.refs[A],this}case"object":{const j=A;this._cache.delete(j);let U=A[this.opts.schemaId];return U&&(U=(0,l.normalizeId)(U),delete this.schemas[U],delete this.refs[U]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(A){for(const j of A)this.addKeyword(j);return this}addKeyword(A,j){let U;if(typeof A=="string")U=A,typeof j=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),j.keyword=U);else if(typeof A=="object"&&j===void 0){if(j=A,U=j.keyword,Array.isArray(U)&&!U.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if($.call(this,U,j),!j)return(0,u.eachItem)(U,V=>B.call(this,V)),this;F.call(this,j);const T={...j,type:(0,c.getJSONTypes)(j.type),schemaType:(0,c.getJSONTypes)(j.schemaType)};return(0,u.eachItem)(U,T.type.length===0?V=>B.call(this,V,T):V=>T.type.forEach(K=>B.call(this,V,T,K))),this}getKeyword(A){const j=this.RULES.all[A];return typeof j=="object"?j.definition:!!j}removeKeyword(A){const{RULES:j}=this;delete j.keywords[A],delete j.all[A];for(const U of j.rules){const T=U.rules.findIndex(V=>V.keyword===A);T>=0&&U.rules.splice(T,1)}return this}addFormat(A,j){return typeof j=="string"&&(j=new RegExp(j)),this.formats[A]=j,this}errorsText(A=this.errors,{separator:j=", ",dataVar:U="data"}={}){return!A||A.length===0?"No errors":A.map(T=>`${U}${T.instancePath} ${T.message}`).reduce((T,V)=>T+j+V)}$dataMetaSchema(A,j){const U=this.RULES.all;A=JSON.parse(JSON.stringify(A));for(const T of j){const V=T.split("/").slice(1);let K=A;for(const Z of V)K=K[Z];for(const Z in U){const Q=U[Z];if(typeof Q!="object")continue;const{$data:re}=Q.definition,se=K[Z];re&&se&&(K[Z]=D(se))}}return A}_removeAllSchemas(A,j){for(const U in A){const T=A[U];(!j||j.test(U))&&(typeof T=="string"?delete A[U]:T&&!T.meta&&(this._cache.delete(T.schema),delete A[U]))}}_addSchema(A,j,U,T=this.opts.validateSchema,V=this.opts.addUsedSchema){let K;const{schemaId:Z}=this.opts;if(typeof A=="object")K=A[Z];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof A!="boolean")throw new Error("schema must be object or boolean")}let Q=this._cache.get(A);if(Q!==void 0)return Q;U=(0,l.normalizeId)(K||U);const re=l.getSchemaRefs.call(this,A,U);return Q=new o.SchemaEnv({schema:A,schemaId:Z,meta:j,baseId:U,localRefs:re}),this._cache.set(Q.schema,Q),V&&!U.startsWith("#")&&(U&&this._checkUnique(U),this.refs[U]=Q),T&&this.validateSchema(A,!0),Q}_checkUnique(A){if(this.schemas[A]||this.refs[A])throw new Error(`schema with key or id "${A}" already exists`)}_compileSchemaEnv(A){if(A.meta?this._compileMetaSchema(A):o.compileSchema.call(this,A),!A.validate)throw new Error("ajv implementation error");return A.validate}_compileMetaSchema(A){const j=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,A)}finally{this.opts=j}}}e.default=b,b.ValidationError=r.default,b.MissingRefError=a.default;function E(x,A,j,U="error"){for(const T in x){const V=T;V in A&&this.logger[U](`${j}: option ${T}. ${x[V]}`)}}function S(x){return x=(0,l.normalizeId)(x),this.schemas[x]||this.refs[x]}function N(){const x=this.opts.schemas;if(x)if(Array.isArray(x))this.addSchema(x);else for(const A in x)this.addSchema(x[A],A)}function C(){for(const x in this.opts.formats){const A=this.opts.formats[x];A&&this.addFormat(x,A)}}function I(x){if(Array.isArray(x)){this.addVocabulary(x);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const A in x){const j=x[A];j.keyword||(j.keyword=A),this.addKeyword(j)}}function k(){const x={...this.opts};for(const A of h)delete x[A];return x}const O={log(){},warn(){},error(){}};function M(x){if(x===!1)return O;if(x===void 0)return console;if(x.log&&x.warn&&x.error)return x;throw new Error("logger must implement log, warn and error methods")}const q=/^[a-z_$][a-z0-9_$:-]*$/i;function $(x,A){const{RULES:j}=this;if((0,u.eachItem)(x,U=>{if(j.keywords[U])throw new Error(`Keyword ${U} is already defined`);if(!q.test(U))throw new Error(`Keyword ${U} has invalid name`)}),!!A&&A.$data&&!("code"in A||"validate"in A))throw new Error('$data keyword must have "code" or "validate" function')}function B(x,A,j){var U;const T=A==null?void 0:A.post;if(j&&T)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:V}=this;let K=T?V.post:V.rules.find(({type:Q})=>Q===j);if(K||(K={type:j,rules:[]},V.rules.push(K)),V.keywords[x]=!0,!A)return;const Z={keyword:x,definition:{...A,type:(0,c.getJSONTypes)(A.type),schemaType:(0,c.getJSONTypes)(A.schemaType)}};A.before?L.call(this,K,Z,A.before):K.rules.push(Z),V.all[x]=Z,(U=A.implements)===null||U===void 0||U.forEach(Q=>this.addKeyword(Q))}function L(x,A,j){const U=x.rules.findIndex(T=>T.keyword===j);U>=0?x.rules.splice(U,0,A):(x.rules.push(A),this.logger.warn(`rule ${j} is not defined`))}function F(x){let{metaSchema:A}=x;A!==void 0&&(x.$data&&this.opts.$data&&(A=D(A)),x.validateSchema=this.compile(A,!0))}const z={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function D(x){return{anyOf:[x,z]}}})(gN);var dy={},fy={},py={};Object.defineProperty(py,"__esModule",{value:!0});const x8={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};py.default=x8;var qa={};Object.defineProperty(qa,"__esModule",{value:!0});qa.callRef=qa.getValidate=void 0;const $8=bs,F_=He,Zt=Fe,ei=ar,q_=tn,js=Ye,A8={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:r}=e,{baseId:a,schemaEnv:i,validateName:o,opts:s,self:l}=r,{root:c}=i;if((n==="#"||n==="#/")&&a===c.baseId)return d();const u=q_.resolveRef.call(l,c,a,n);if(u===void 0)throw new $8.default(r.opts.uriResolver,a,n);if(u instanceof q_.SchemaEnv)return p(u);return m(u);function d(){if(i===c)return gl(e,o,i,i.$async);const h=t.scopeValue("root",{ref:c});return gl(e,(0,Zt._)`${h}.validate`,c,c.$async)}function p(h){const g=UN(e,h);gl(e,g,h,h.$async)}function m(h){const g=t.scopeValue("schema",s.code.source===!0?{ref:h,code:(0,Zt.stringify)(h)}:{ref:h}),y=t.name("valid"),v=e.subschema({schema:h,dataTypes:[],schemaPath:Zt.nil,topSchemaRef:g,errSchemaPath:n},y);e.mergeEvaluated(v),e.ok(y)}}};function UN(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):(0,Zt._)`${n.scopeValue("wrapper",{ref:t})}.validate`}qa.getValidate=UN;function gl(e,t,n,r){const{gen:a,it:i}=e,{allErrors:o,schemaEnv:s,opts:l}=i,c=l.passContext?ei.default.this:Zt.nil;r?u():d();function u(){if(!s.$async)throw new Error("async schema referenced by sync schema");const h=a.let("valid");a.try(()=>{a.code((0,Zt._)`await ${(0,F_.callValidateCode)(e,t,c)}`),m(t),o||a.assign(h,!0)},g=>{a.if((0,Zt._)`!(${g} instanceof ${i.ValidationError})`,()=>a.throw(g)),p(g),o||a.assign(h,!1)}),e.ok(h)}function d(){e.result((0,F_.callValidateCode)(e,t,c),()=>m(t),()=>p(t))}function p(h){const g=(0,Zt._)`${h}.errors`;a.assign(ei.default.vErrors,(0,Zt._)`${ei.default.vErrors} === null ? ${g} : ${ei.default.vErrors}.concat(${g})`),a.assign(ei.default.errors,(0,Zt._)`${ei.default.vErrors}.length`)}function m(h){var g;if(!i.opts.unevaluated)return;const y=(g=n==null?void 0:n.validate)===null||g===void 0?void 0:g.evaluated;if(i.props!==!0)if(y&&!y.dynamicProps)y.props!==void 0&&(i.props=js.mergeEvaluated.props(a,y.props,i.props));else{const v=a.var("props",(0,Zt._)`${h}.evaluated.props`);i.props=js.mergeEvaluated.props(a,v,i.props,Zt.Name)}if(i.items!==!0)if(y&&!y.dynamicItems)y.items!==void 0&&(i.items=js.mergeEvaluated.items(a,y.items,i.items));else{const v=a.var("items",(0,Zt._)`${h}.evaluated.items`);i.items=js.mergeEvaluated.items(a,v,i.items,Zt.Name)}}}qa.callRef=gl;qa.default=A8;Object.defineProperty(fy,"__esModule",{value:!0});const O8=py,k8=qa,P8=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",O8.default,k8.default];fy.default=P8;var my={},hy={};Object.defineProperty(hy,"__esModule",{value:!0});const ru=Fe,Vr=ru.operators,au={maximum:{okStr:"<=",ok:Vr.LTE,fail:Vr.GT},minimum:{okStr:">=",ok:Vr.GTE,fail:Vr.LT},exclusiveMaximum:{okStr:"<",ok:Vr.LT,fail:Vr.GTE},exclusiveMinimum:{okStr:">",ok:Vr.GT,fail:Vr.LTE}},D8={message:({keyword:e,schemaCode:t})=>(0,ru.str)`must be ${au[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,ru._)`{comparison: ${au[e].okStr}, limit: ${t}}`},V8={keyword:Object.keys(au),type:"number",schemaType:"number",$data:!0,error:D8,code(e){const{keyword:t,data:n,schemaCode:r}=e;e.fail$data((0,ru._)`${n} ${au[t].fail} ${r} || isNaN(${n})`)}};hy.default=V8;var gy={};Object.defineProperty(gy,"__esModule",{value:!0});const ho=Fe,L8={message:({schemaCode:e})=>(0,ho.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,ho._)`{multipleOf: ${e}}`},F8={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:L8,code(e){const{gen:t,data:n,schemaCode:r,it:a}=e,i=a.opts.multipleOfPrecision,o=t.let("res"),s=i?(0,ho._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${i}`:(0,ho._)`${o} !== parseInt(${o})`;e.fail$data((0,ho._)`(${r} === 0 || (${o} = ${n}/${r}, ${s}))`)}};gy.default=F8;var yy={},vy={};Object.defineProperty(vy,"__esModule",{value:!0});function HN(e){const t=e.length;let n=0,r=0,a;for(;r<t;)n++,a=e.charCodeAt(r++),a>=55296&&a<=56319&&r<t&&(a=e.charCodeAt(r),(a&64512)===56320&&r++);return n}vy.default=HN;HN.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(yy,"__esModule",{value:!0});const wa=Fe,q8=Ye,M8=vy,B8={message({keyword:e,schemaCode:t}){const n=e==="maxLength"?"more":"fewer";return(0,wa.str)`must NOT have ${n} than ${t} characters`},params:({schemaCode:e})=>(0,wa._)`{limit: ${e}}`},U8={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:B8,code(e){const{keyword:t,data:n,schemaCode:r,it:a}=e,i=t==="maxLength"?wa.operators.GT:wa.operators.LT,o=a.opts.unicode===!1?(0,wa._)`${n}.length`:(0,wa._)`${(0,q8.useFunc)(e.gen,M8.default)}(${n})`;e.fail$data((0,wa._)`${o} ${i} ${r}`)}};yy.default=U8;var by={};Object.defineProperty(by,"__esModule",{value:!0});const H8=He,iu=Fe,z8={message:({schemaCode:e})=>(0,iu.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,iu._)`{pattern: ${e}}`},j8={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:z8,code(e){const{data:t,$data:n,schema:r,schemaCode:a,it:i}=e,o=i.opts.unicodeRegExp?"u":"",s=n?(0,iu._)`(new RegExp(${a}, ${o}))`:(0,H8.usePattern)(e,r);e.fail$data((0,iu._)`!${s}.test(${t})`)}};by.default=j8;var _y={};Object.defineProperty(_y,"__esModule",{value:!0});const go=Fe,W8={message({keyword:e,schemaCode:t}){const n=e==="maxProperties"?"more":"fewer";return(0,go.str)`must NOT have ${n} than ${t} properties`},params:({schemaCode:e})=>(0,go._)`{limit: ${e}}`},G8={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:W8,code(e){const{keyword:t,data:n,schemaCode:r}=e,a=t==="maxProperties"?go.operators.GT:go.operators.LT;e.fail$data((0,go._)`Object.keys(${n}).length ${a} ${r}`)}};_y.default=G8;var wy={};Object.defineProperty(wy,"__esModule",{value:!0});const eo=He,yo=Fe,K8=Ye,Y8={message:({params:{missingProperty:e}})=>(0,yo.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,yo._)`{missingProperty: ${e}}`},Q8={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Y8,code(e){const{gen:t,schema:n,schemaCode:r,data:a,$data:i,it:o}=e,{opts:s}=o;if(!i&&n.length===0)return;const l=n.length>=s.loopRequired;if(o.allErrors?c():u(),s.strictRequired){const m=e.parentSchema.properties,{definedProperties:h}=e.it;for(const g of n)if((m==null?void 0:m[g])===void 0&&!h.has(g)){const y=o.schemaEnv.baseId+o.errSchemaPath,v=`required property "${g}" is not defined at "${y}" (strictRequired)`;(0,K8.checkStrictMode)(o,v,o.opts.strictRequired)}}function c(){if(l||i)e.block$data(yo.nil,d);else for(const m of n)(0,eo.checkReportMissingProp)(e,m)}function u(){const m=t.let("missing");if(l||i){const h=t.let("valid",!0);e.block$data(h,()=>p(m,h)),e.ok(h)}else t.if((0,eo.checkMissingProp)(e,n,m)),(0,eo.reportMissingProp)(e,m),t.else()}function d(){t.forOf("prop",r,m=>{e.setParams({missingProperty:m}),t.if((0,eo.noPropertyInData)(t,a,m,s.ownProperties),()=>e.error())})}function p(m,h){e.setParams({missingProperty:m}),t.forOf(m,r,()=>{t.assign(h,(0,eo.propertyInData)(t,a,m,s.ownProperties)),t.if((0,yo.not)(h),()=>{e.error(),t.break()})},yo.nil)}}};wy.default=Q8;var Sy={};Object.defineProperty(Sy,"__esModule",{value:!0});const vo=Fe,X8={message({keyword:e,schemaCode:t}){const n=e==="maxItems"?"more":"fewer";return(0,vo.str)`must NOT have ${n} than ${t} items`},params:({schemaCode:e})=>(0,vo._)`{limit: ${e}}`},J8={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:X8,code(e){const{keyword:t,data:n,schemaCode:r}=e,a=t==="maxItems"?vo.operators.GT:vo.operators.LT;e.fail$data((0,vo._)`${n}.length ${a} ${r}`)}};Sy.default=J8;var Cy={},_s={};Object.defineProperty(_s,"__esModule",{value:!0});const zN=EN;zN.code='require("ajv/dist/runtime/equal").default';_s.default=zN;Object.defineProperty(Cy,"__esModule",{value:!0});const bf=ys,Lt=Fe,Z8=Ye,ej=_s,tj={message:({params:{i:e,j:t}})=>(0,Lt.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Lt._)`{i: ${e}, j: ${t}}`},nj={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:tj,code(e){const{gen:t,data:n,$data:r,schema:a,parentSchema:i,schemaCode:o,it:s}=e;if(!r&&!a)return;const l=t.let("valid"),c=i.items?(0,bf.getSchemaTypes)(i.items):[];e.block$data(l,u,(0,Lt._)`${o} === false`),e.ok(l);function u(){const h=t.let("i",(0,Lt._)`${n}.length`),g=t.let("j");e.setParams({i:h,j:g}),t.assign(l,!0),t.if((0,Lt._)`${h} > 1`,()=>(d()?p:m)(h,g))}function d(){return c.length>0&&!c.some(h=>h==="object"||h==="array")}function p(h,g){const y=t.name("item"),v=(0,bf.checkDataTypes)(c,y,s.opts.strictNumbers,bf.DataType.Wrong),w=t.const("indices",(0,Lt._)`{}`);t.for((0,Lt._)`;${h}--;`,()=>{t.let(y,(0,Lt._)`${n}[${h}]`),t.if(v,(0,Lt._)`continue`),c.length>1&&t.if((0,Lt._)`typeof ${y} == "string"`,(0,Lt._)`${y} += "_"`),t.if((0,Lt._)`typeof ${w}[${y}] == "number"`,()=>{t.assign(g,(0,Lt._)`${w}[${y}]`),e.error(),t.assign(l,!1).break()}).code((0,Lt._)`${w}[${y}] = ${h}`)})}function m(h,g){const y=(0,Z8.useFunc)(t,ej.default),v=t.name("outer");t.label(v).for((0,Lt._)`;${h}--;`,()=>t.for((0,Lt._)`${g} = ${h}; ${g}--;`,()=>t.if((0,Lt._)`${y}(${n}[${h}], ${n}[${g}])`,()=>{e.error(),t.assign(l,!1).break(v)})))}}};Cy.default=nj;var Ey={};Object.defineProperty(Ey,"__esModule",{value:!0});const zp=Fe,rj=Ye,aj=_s,ij={message:"must be equal to constant",params:({schemaCode:e})=>(0,zp._)`{allowedValue: ${e}}`},oj={keyword:"const",$data:!0,error:ij,code(e){const{gen:t,data:n,$data:r,schemaCode:a,schema:i}=e;r||i&&typeof i=="object"?e.fail$data((0,zp._)`!${(0,rj.useFunc)(t,aj.default)}(${n}, ${a})`):e.fail((0,zp._)`${i} !== ${n}`)}};Ey.default=oj;var Ny={};Object.defineProperty(Ny,"__esModule",{value:!0});const uo=Fe,sj=Ye,lj=_s,uj={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,uo._)`{allowedValues: ${e}}`},cj={keyword:"enum",schemaType:"array",$data:!0,error:uj,code(e){const{gen:t,data:n,$data:r,schema:a,schemaCode:i,it:o}=e;if(!r&&a.length===0)throw new Error("enum must have non-empty array");const s=a.length>=o.opts.loopEnum;let l;const c=()=>l??(l=(0,sj.useFunc)(t,lj.default));let u;if(s||r)u=t.let("valid"),e.block$data(u,d);else{if(!Array.isArray(a))throw new Error("ajv implementation error");const m=t.const("vSchema",i);u=(0,uo.or)(...a.map((h,g)=>p(m,g)))}e.pass(u);function d(){t.assign(u,!1),t.forOf("v",i,m=>t.if((0,uo._)`${c()}(${n}, ${m})`,()=>t.assign(u,!0).break()))}function p(m,h){const g=a[h];return typeof g=="object"&&g!==null?(0,uo._)`${c()}(${n}, ${m}[${h}])`:(0,uo._)`${n} === ${g}`}}};Ny.default=cj;Object.defineProperty(my,"__esModule",{value:!0});const dj=hy,fj=gy,pj=yy,mj=by,hj=_y,gj=wy,yj=Sy,vj=Cy,bj=Ey,_j=Ny,wj=[dj.default,fj.default,pj.default,mj.default,hj.default,gj.default,yj.default,vj.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},bj.default,_j.default];my.default=wj;var Ty={},Mi={};Object.defineProperty(Mi,"__esModule",{value:!0});Mi.validateAdditionalItems=void 0;const Sa=Fe,jp=Ye,Sj={message:({params:{len:e}})=>(0,Sa.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Sa._)`{limit: ${e}}`},Cj={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Sj,code(e){const{parentSchema:t,it:n}=e,{items:r}=t;if(!Array.isArray(r)){(0,jp.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas');return}jN(e,r)}};function jN(e,t){const{gen:n,schema:r,data:a,keyword:i,it:o}=e;o.items=!0;const s=n.const("len",(0,Sa._)`${a}.length`);if(r===!1)e.setParams({len:t.length}),e.pass((0,Sa._)`${s} <= ${t.length}`);else if(typeof r=="object"&&!(0,jp.alwaysValidSchema)(o,r)){const c=n.var("valid",(0,Sa._)`${s} <= ${t.length}`);n.if((0,Sa.not)(c),()=>l(c)),e.ok(c)}function l(c){n.forRange("i",t.length,s,u=>{e.subschema({keyword:i,dataProp:u,dataPropType:jp.Type.Num},c),o.allErrors||n.if((0,Sa.not)(c),()=>n.break())})}}Mi.validateAdditionalItems=jN;Mi.default=Cj;var Iy={},Bi={};Object.defineProperty(Bi,"__esModule",{value:!0});Bi.validateTuple=void 0;const M_=Fe,yl=Ye,Ej=He,Nj={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:n}=e;if(Array.isArray(t))return WN(e,"additionalItems",t);n.items=!0,!(0,yl.alwaysValidSchema)(n,t)&&e.ok((0,Ej.validateArray)(e))}};function WN(e,t,n=e.schema){const{gen:r,parentSchema:a,data:i,keyword:o,it:s}=e;u(a),s.opts.unevaluated&&n.length&&s.items!==!0&&(s.items=yl.mergeEvaluated.items(r,n.length,s.items));const l=r.name("valid"),c=r.const("len",(0,M_._)`${i}.length`);n.forEach((d,p)=>{(0,yl.alwaysValidSchema)(s,d)||(r.if((0,M_._)`${c} > ${p}`,()=>e.subschema({keyword:o,schemaProp:p,dataProp:p},l)),e.ok(l))});function u(d){const{opts:p,errSchemaPath:m}=s,h=n.length,g=h===d.minItems&&(h===d.maxItems||d[t]===!1);if(p.strictTuples&&!g){const y=`"${o}" is ${h}-tuple, but minItems or maxItems/${t} are not specified or different at path "${m}"`;(0,yl.checkStrictMode)(s,y,p.strictTuples)}}}Bi.validateTuple=WN;Bi.default=Nj;Object.defineProperty(Iy,"__esModule",{value:!0});const Tj=Bi,Ij={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,Tj.validateTuple)(e,"items")};Iy.default=Ij;var Ry={};Object.defineProperty(Ry,"__esModule",{value:!0});const B_=Fe,Rj=Ye,xj=He,$j=Mi,Aj={message:({params:{len:e}})=>(0,B_.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,B_._)`{limit: ${e}}`},Oj={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Aj,code(e){const{schema:t,parentSchema:n,it:r}=e,{prefixItems:a}=n;r.items=!0,!(0,Rj.alwaysValidSchema)(r,t)&&(a?(0,$j.validateAdditionalItems)(e,a):e.ok((0,xj.validateArray)(e)))}};Ry.default=Oj;var xy={};Object.defineProperty(xy,"__esModule",{value:!0});const _n=Fe,Ws=Ye,kj={message:({params:{min:e,max:t}})=>t===void 0?(0,_n.str)`must contain at least ${e} valid item(s)`:(0,_n.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,_n._)`{minContains: ${e}}`:(0,_n._)`{minContains: ${e}, maxContains: ${t}}`},Pj={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:kj,code(e){const{gen:t,schema:n,parentSchema:r,data:a,it:i}=e;let o,s;const{minContains:l,maxContains:c}=r;i.opts.next?(o=l===void 0?1:l,s=c):o=1;const u=t.const("len",(0,_n._)`${a}.length`);if(e.setParams({min:o,max:s}),s===void 0&&o===0){(0,Ws.checkStrictMode)(i,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(s!==void 0&&o>s){(0,Ws.checkStrictMode)(i,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,Ws.alwaysValidSchema)(i,n)){let g=(0,_n._)`${u} >= ${o}`;s!==void 0&&(g=(0,_n._)`${g} && ${u} <= ${s}`),e.pass(g);return}i.items=!0;const d=t.name("valid");s===void 0&&o===1?m(d,()=>t.if(d,()=>t.break())):o===0?(t.let(d,!0),s!==void 0&&t.if((0,_n._)`${a}.length > 0`,p)):(t.let(d,!1),p()),e.result(d,()=>e.reset());function p(){const g=t.name("_valid"),y=t.let("count",0);m(g,()=>t.if(g,()=>h(y)))}function m(g,y){t.forRange("i",0,u,v=>{e.subschema({keyword:"contains",dataProp:v,dataPropType:Ws.Type.Num,compositeRule:!0},g),y()})}function h(g){t.code((0,_n._)`${g}++`),s===void 0?t.if((0,_n._)`${g} >= ${o}`,()=>t.assign(d,!0).break()):(t.if((0,_n._)`${g} > ${s}`,()=>t.assign(d,!1).break()),o===1?t.assign(d,!0):t.if((0,_n._)`${g} >= ${o}`,()=>t.assign(d,!0)))}}};xy.default=Pj;var GN={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=Fe,n=Ye,r=He;e.error={message:({params:{property:l,depsCount:c,deps:u}})=>{const d=c===1?"property":"properties";return(0,t.str)`must have ${d} ${u} when property ${l} is present`},params:({params:{property:l,depsCount:c,deps:u,missingProperty:d}})=>(0,t._)`{property: ${l},
    missingProperty: ${d},
    depsCount: ${c},
    deps: ${u}}`};const a={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[c,u]=i(l);o(l,c),s(l,u)}};function i({schema:l}){const c={},u={};for(const d in l){if(d==="__proto__")continue;const p=Array.isArray(l[d])?c:u;p[d]=l[d]}return[c,u]}function o(l,c=l.schema){const{gen:u,data:d,it:p}=l;if(Object.keys(c).length===0)return;const m=u.let("missing");for(const h in c){const g=c[h];if(g.length===0)continue;const y=(0,r.propertyInData)(u,d,h,p.opts.ownProperties);l.setParams({property:h,depsCount:g.length,deps:g.join(", ")}),p.allErrors?u.if(y,()=>{for(const v of g)(0,r.checkReportMissingProp)(l,v)}):(u.if((0,t._)`${y} && (${(0,r.checkMissingProp)(l,g,m)})`),(0,r.reportMissingProp)(l,m),u.else())}}e.validatePropertyDeps=o;function s(l,c=l.schema){const{gen:u,data:d,keyword:p,it:m}=l,h=u.name("valid");for(const g in c)(0,n.alwaysValidSchema)(m,c[g])||(u.if((0,r.propertyInData)(u,d,g,m.opts.ownProperties),()=>{const y=l.subschema({keyword:p,schemaProp:g},h);l.mergeValidEvaluated(y,h)},()=>u.var(h,!0)),l.ok(h))}e.validateSchemaDeps=s,e.default=a})(GN);var $y={};Object.defineProperty($y,"__esModule",{value:!0});const KN=Fe,Dj=Ye,Vj={message:"property name must be valid",params:({params:e})=>(0,KN._)`{propertyName: ${e.propertyName}}`},Lj={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Vj,code(e){const{gen:t,schema:n,data:r,it:a}=e;if((0,Dj.alwaysValidSchema)(a,n))return;const i=t.name("valid");t.forIn("key",r,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},i),t.if((0,KN.not)(i),()=>{e.error(!0),a.allErrors||t.break()})}),e.ok(i)}};$y.default=Lj;var yc={};Object.defineProperty(yc,"__esModule",{value:!0});const Gs=He,$n=Fe,Fj=ar,Ks=Ye,qj={message:"must NOT have additional properties",params:({params:e})=>(0,$n._)`{additionalProperty: ${e.additionalProperty}}`},Mj={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:qj,code(e){const{gen:t,schema:n,parentSchema:r,data:a,errsCount:i,it:o}=e;if(!i)throw new Error("ajv implementation error");const{allErrors:s,opts:l}=o;if(o.props=!0,l.removeAdditional!=="all"&&(0,Ks.alwaysValidSchema)(o,n))return;const c=(0,Gs.allSchemaProperties)(r.properties),u=(0,Gs.allSchemaProperties)(r.patternProperties);d(),e.ok((0,$n._)`${i} === ${Fj.default.errors}`);function d(){t.forIn("key",a,y=>{!c.length&&!u.length?h(y):t.if(p(y),()=>h(y))})}function p(y){let v;if(c.length>8){const w=(0,Ks.schemaRefOrVal)(o,r.properties,"properties");v=(0,Gs.isOwnProperty)(t,w,y)}else c.length?v=(0,$n.or)(...c.map(w=>(0,$n._)`${y} === ${w}`)):v=$n.nil;return u.length&&(v=(0,$n.or)(v,...u.map(w=>(0,$n._)`${(0,Gs.usePattern)(e,w)}.test(${y})`))),(0,$n.not)(v)}function m(y){t.code((0,$n._)`delete ${a}[${y}]`)}function h(y){if(l.removeAdditional==="all"||l.removeAdditional&&n===!1){m(y);return}if(n===!1){e.setParams({additionalProperty:y}),e.error(),s||t.break();return}if(typeof n=="object"&&!(0,Ks.alwaysValidSchema)(o,n)){const v=t.name("valid");l.removeAdditional==="failing"?(g(y,v,!1),t.if((0,$n.not)(v),()=>{e.reset(),m(y)})):(g(y,v),s||t.if((0,$n.not)(v),()=>t.break()))}}function g(y,v,w){const _={keyword:"additionalProperties",dataProp:y,dataPropType:Ks.Type.Str};w===!1&&Object.assign(_,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(_,v)}}};yc.default=Mj;var Ay={};Object.defineProperty(Ay,"__esModule",{value:!0});const Bj=Fn,U_=He,_f=Ye,H_=yc,Uj={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:r,data:a,it:i}=e;i.opts.removeAdditional==="all"&&r.additionalProperties===void 0&&H_.default.code(new Bj.KeywordCxt(i,H_.default,"additionalProperties"));const o=(0,U_.allSchemaProperties)(n);for(const d of o)i.definedProperties.add(d);i.opts.unevaluated&&o.length&&i.props!==!0&&(i.props=_f.mergeEvaluated.props(t,(0,_f.toHash)(o),i.props));const s=o.filter(d=>!(0,_f.alwaysValidSchema)(i,n[d]));if(s.length===0)return;const l=t.name("valid");for(const d of s)c(d)?u(d):(t.if((0,U_.propertyInData)(t,a,d,i.opts.ownProperties)),u(d),i.allErrors||t.else().var(l,!0),t.endIf()),e.it.definedProperties.add(d),e.ok(l);function c(d){return i.opts.useDefaults&&!i.compositeRule&&n[d].default!==void 0}function u(d){e.subschema({keyword:"properties",schemaProp:d,dataProp:d},l)}}};Ay.default=Uj;var Oy={};Object.defineProperty(Oy,"__esModule",{value:!0});const z_=He,Ys=Fe,j_=Ye,W_=Ye,Hj={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:r,parentSchema:a,it:i}=e,{opts:o}=i,s=(0,z_.allSchemaProperties)(n),l=s.filter(g=>(0,j_.alwaysValidSchema)(i,n[g]));if(s.length===0||l.length===s.length&&(!i.opts.unevaluated||i.props===!0))return;const c=o.strictSchema&&!o.allowMatchingProperties&&a.properties,u=t.name("valid");i.props!==!0&&!(i.props instanceof Ys.Name)&&(i.props=(0,W_.evaluatedPropsToName)(t,i.props));const{props:d}=i;p();function p(){for(const g of s)c&&m(g),i.allErrors?h(g):(t.var(u,!0),h(g),t.if(u))}function m(g){for(const y in c)new RegExp(g).test(y)&&(0,j_.checkStrictMode)(i,`property ${y} matches pattern ${g} (use allowMatchingProperties)`)}function h(g){t.forIn("key",r,y=>{t.if((0,Ys._)`${(0,z_.usePattern)(e,g)}.test(${y})`,()=>{const v=l.includes(g);v||e.subschema({keyword:"patternProperties",schemaProp:g,dataProp:y,dataPropType:W_.Type.Str},u),i.opts.unevaluated&&d!==!0?t.assign((0,Ys._)`${d}[${y}]`,!0):!v&&!i.allErrors&&t.if((0,Ys.not)(u),()=>t.break())})})}}};Oy.default=Hj;var ky={};Object.defineProperty(ky,"__esModule",{value:!0});const zj=Ye,jj={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:r}=e;if((0,zj.alwaysValidSchema)(r,n)){e.fail();return}const a=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),e.failResult(a,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};ky.default=jj;var Py={};Object.defineProperty(Py,"__esModule",{value:!0});const Wj=He,Gj={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Wj.validateUnion,error:{message:"must match a schema in anyOf"}};Py.default=Gj;var Dy={};Object.defineProperty(Dy,"__esModule",{value:!0});const vl=Fe,Kj=Ye,Yj={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,vl._)`{passingSchemas: ${e.passing}}`},Qj={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Yj,code(e){const{gen:t,schema:n,parentSchema:r,it:a}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(a.opts.discriminator&&r.discriminator)return;const i=n,o=t.let("valid",!1),s=t.let("passing",null),l=t.name("_valid");e.setParams({passing:s}),t.block(c),e.result(o,()=>e.reset(),()=>e.error(!0));function c(){i.forEach((u,d)=>{let p;(0,Kj.alwaysValidSchema)(a,u)?t.var(l,!0):p=e.subschema({keyword:"oneOf",schemaProp:d,compositeRule:!0},l),d>0&&t.if((0,vl._)`${l} && ${o}`).assign(o,!1).assign(s,(0,vl._)`[${s}, ${d}]`).else(),t.if(l,()=>{t.assign(o,!0),t.assign(s,d),p&&e.mergeEvaluated(p,vl.Name)})})}}};Dy.default=Qj;var Vy={};Object.defineProperty(Vy,"__esModule",{value:!0});const Xj=Ye,Jj={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:r}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const a=t.name("valid");n.forEach((i,o)=>{if((0,Xj.alwaysValidSchema)(r,i))return;const s=e.subschema({keyword:"allOf",schemaProp:o},a);e.ok(a),e.mergeEvaluated(s)})}};Vy.default=Jj;var Ly={};Object.defineProperty(Ly,"__esModule",{value:!0});const ou=Fe,YN=Ye,Zj={message:({params:e})=>(0,ou.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,ou._)`{failingKeyword: ${e.ifClause}}`},e7={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Zj,code(e){const{gen:t,parentSchema:n,it:r}=e;n.then===void 0&&n.else===void 0&&(0,YN.checkStrictMode)(r,'"if" without "then" and "else" is ignored');const a=G_(r,"then"),i=G_(r,"else");if(!a&&!i)return;const o=t.let("valid",!0),s=t.name("_valid");if(l(),e.reset(),a&&i){const u=t.let("ifClause");e.setParams({ifClause:u}),t.if(s,c("then",u),c("else",u))}else a?t.if(s,c("then")):t.if((0,ou.not)(s),c("else"));e.pass(o,()=>e.error(!0));function l(){const u=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},s);e.mergeEvaluated(u)}function c(u,d){return()=>{const p=e.subschema({keyword:u},s);t.assign(o,s),e.mergeValidEvaluated(p,o),d?t.assign(d,(0,ou._)`${u}`):e.setParams({ifClause:u})}}}};function G_(e,t){const n=e.schema[t];return n!==void 0&&!(0,YN.alwaysValidSchema)(e,n)}Ly.default=e7;var Fy={};Object.defineProperty(Fy,"__esModule",{value:!0});const t7=Ye,n7={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:n}){t.if===void 0&&(0,t7.checkStrictMode)(n,`"${e}" without "if" is ignored`)}};Fy.default=n7;Object.defineProperty(Ty,"__esModule",{value:!0});const r7=Mi,a7=Iy,i7=Bi,o7=Ry,s7=xy,l7=GN,u7=$y,c7=yc,d7=Ay,f7=Oy,p7=ky,m7=Py,h7=Dy,g7=Vy,y7=Ly,v7=Fy;function b7(e=!1){const t=[p7.default,m7.default,h7.default,g7.default,y7.default,v7.default,u7.default,c7.default,l7.default,d7.default,f7.default];return e?t.push(a7.default,o7.default):t.push(r7.default,i7.default),t.push(s7.default),t}Ty.default=b7;var qy={},My={};Object.defineProperty(My,"__esModule",{value:!0});const Tt=Fe,_7={message:({schemaCode:e})=>(0,Tt.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Tt._)`{format: ${e}}`},w7={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:_7,code(e,t){const{gen:n,data:r,$data:a,schema:i,schemaCode:o,it:s}=e,{opts:l,errSchemaPath:c,schemaEnv:u,self:d}=s;if(!l.validateFormats)return;a?p():m();function p(){const h=n.scopeValue("formats",{ref:d.formats,code:l.code.formats}),g=n.const("fDef",(0,Tt._)`${h}[${o}]`),y=n.let("fType"),v=n.let("format");n.if((0,Tt._)`typeof ${g} == "object" && !(${g} instanceof RegExp)`,()=>n.assign(y,(0,Tt._)`${g}.type || "string"`).assign(v,(0,Tt._)`${g}.validate`),()=>n.assign(y,(0,Tt._)`"string"`).assign(v,g)),e.fail$data((0,Tt.or)(w(),_()));function w(){return l.strictSchema===!1?Tt.nil:(0,Tt._)`${o} && !${v}`}function _(){const b=u.$async?(0,Tt._)`(${g}.async ? await ${v}(${r}) : ${v}(${r}))`:(0,Tt._)`${v}(${r})`,E=(0,Tt._)`(typeof ${v} == "function" ? ${b} : ${v}.test(${r}))`;return(0,Tt._)`${v} && ${v} !== true && ${y} === ${t} && !${E}`}}function m(){const h=d.formats[i];if(!h){w();return}if(h===!0)return;const[g,y,v]=_(h);g===t&&e.pass(b());function w(){if(l.strictSchema===!1){d.logger.warn(E());return}throw new Error(E());function E(){return`unknown format "${i}" ignored in schema at path "${c}"`}}function _(E){const S=E instanceof RegExp?(0,Tt.regexpCode)(E):l.code.formats?(0,Tt._)`${l.code.formats}${(0,Tt.getProperty)(i)}`:void 0,N=n.scopeValue("formats",{key:i,ref:E,code:S});return typeof E=="object"&&!(E instanceof RegExp)?[E.type||"string",E.validate,(0,Tt._)`${N}.validate`]:["string",E,N]}function b(){if(typeof h=="object"&&!(h instanceof RegExp)&&h.async){if(!u.$async)throw new Error("async format in sync schema");return(0,Tt._)`await ${v}(${r})`}return typeof y=="function"?(0,Tt._)`${v}(${r})`:(0,Tt._)`${v}.test(${r})`}}}};My.default=w7;Object.defineProperty(qy,"__esModule",{value:!0});const S7=My,C7=[S7.default];qy.default=C7;var Ni={};Object.defineProperty(Ni,"__esModule",{value:!0});Ni.contentVocabulary=Ni.metadataVocabulary=void 0;Ni.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Ni.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(dy,"__esModule",{value:!0});const E7=fy,N7=my,T7=Ty,I7=qy,K_=Ni,R7=[E7.default,N7.default,(0,T7.default)(),I7.default,K_.metadataVocabulary,K_.contentVocabulary];dy.default=R7;var By={},QN={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(QN);Object.defineProperty(By,"__esModule",{value:!0});const ni=Fe,Wp=QN,Y_=tn,x7=Ye,$7={message:({params:{discrError:e,tagName:t}})=>e===Wp.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:n}})=>(0,ni._)`{error: ${e}, tag: ${n}, tagValue: ${t}}`},A7={keyword:"discriminator",type:"object",schemaType:"object",error:$7,code(e){const{gen:t,data:n,schema:r,parentSchema:a,it:i}=e,{oneOf:o}=a;if(!i.opts.discriminator)throw new Error("discriminator: requires discriminator option");const s=r.propertyName;if(typeof s!="string")throw new Error("discriminator: requires propertyName");if(r.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const l=t.let("valid",!1),c=t.const("tag",(0,ni._)`${n}${(0,ni.getProperty)(s)}`);t.if((0,ni._)`typeof ${c} == "string"`,()=>u(),()=>e.error(!1,{discrError:Wp.DiscrError.Tag,tag:c,tagName:s})),e.ok(l);function u(){const m=p();t.if(!1);for(const h in m)t.elseIf((0,ni._)`${c} === ${h}`),t.assign(l,d(m[h]));t.else(),e.error(!1,{discrError:Wp.DiscrError.Mapping,tag:c,tagName:s}),t.endIf()}function d(m){const h=t.name("valid"),g=e.subschema({keyword:"oneOf",schemaProp:m},h);return e.mergeEvaluated(g,ni.Name),h}function p(){var m;const h={},g=v(a);let y=!0;for(let b=0;b<o.length;b++){let E=o[b];E!=null&&E.$ref&&!(0,x7.schemaHasRulesButRef)(E,i.self.RULES)&&(E=Y_.resolveRef.call(i.self,i.schemaEnv.root,i.baseId,E==null?void 0:E.$ref),E instanceof Y_.SchemaEnv&&(E=E.schema));const S=(m=E==null?void 0:E.properties)===null||m===void 0?void 0:m[s];if(typeof S!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${s}"`);y=y&&(g||v(E)),w(S,b)}if(!y)throw new Error(`discriminator: "${s}" must be required`);return h;function v({required:b}){return Array.isArray(b)&&b.includes(s)}function w(b,E){if(b.const)_(b.const,E);else if(b.enum)for(const S of b.enum)_(S,E);else throw new Error(`discriminator: "properties/${s}" must have "const" or "enum"`)}function _(b,E){if(typeof b!="string"||b in h)throw new Error(`discriminator: "${s}" values must be unique strings`);h[b]=E}}}};By.default=A7;const O7="http://json-schema.org/draft-07/schema#",k7="http://json-schema.org/draft-07/schema#",P7="Core schema meta-schema",D7={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},V7=["object","boolean"],L7={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},F7={$schema:O7,$id:k7,title:P7,definitions:D7,type:V7,properties:L7,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const n=gN,r=dy,a=By,i=F7,o=["/properties"],s="http://json-schema.org/draft-07/schema";class l extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(h=>this.addVocabulary(h)),this.opts.discriminator&&this.addKeyword(a.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const h=this.opts.$data?this.$dataMetaSchema(i,o):i;this.addMetaSchema(h,s,!1),this.refs["http://json-schema.org/schema"]=s}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(s)?s:void 0)}}e.exports=t=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var c=Fn;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var u=Fe;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return u._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return u.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return u.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return u.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return u.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return u.CodeGen}});var d=vs;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return d.default}});var p=bs;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return p.default}})})(Mp,Mp.exports);var XN=Mp.exports;const q7=Er(XN);var Gp={exports:{}},JN={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(I,k){return{validate:I,compare:k}}e.fullFormats={date:t(i,o),time:t(l,c),"date-time":t(d,p),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:g,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:C,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:v,int32:{type:"number",validate:b},int64:{type:"number",validate:E},float:{type:"number",validate:S},double:{type:"number",validate:S},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,o),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,c),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,p),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function n(I){return I%4===0&&(I%100!==0||I%400===0)}const r=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,a=[0,31,28,31,30,31,30,31,31,30,31,30,31];function i(I){const k=r.exec(I);if(!k)return!1;const O=+k[1],M=+k[2],q=+k[3];return M>=1&&M<=12&&q>=1&&q<=(M===2&&n(O)?29:a[M])}function o(I,k){if(I&&k)return I>k?1:I<k?-1:0}const s=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function l(I,k){const O=s.exec(I);if(!O)return!1;const M=+O[1],q=+O[2],$=+O[3],B=O[5];return(M<=23&&q<=59&&$<=59||M===23&&q===59&&$===60)&&(!k||B!=="")}function c(I,k){if(!(I&&k))return;const O=s.exec(I),M=s.exec(k);if(O&&M)return I=O[1]+O[2]+O[3]+(O[4]||""),k=M[1]+M[2]+M[3]+(M[4]||""),I>k?1:I<k?-1:0}const u=/t|\s/i;function d(I){const k=I.split(u);return k.length===2&&i(k[0])&&l(k[1],!0)}function p(I,k){if(!(I&&k))return;const[O,M]=I.split(u),[q,$]=k.split(u),B=o(O,q);if(B!==void 0)return B||c(M,$)}const m=/\/|:/,h=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function g(I){return m.test(I)&&h.test(I)}const y=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function v(I){return y.lastIndex=0,y.test(I)}const w=-(2**31),_=2**31-1;function b(I){return Number.isInteger(I)&&I<=_&&I>=w}function E(I){return Number.isInteger(I)}function S(){return!0}const N=/[^\\]\\Z/;function C(I){if(N.test(I))return!1;try{return new RegExp(I),!0}catch{return!1}}})(JN);var ZN={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=XN,n=Fe,r=n.operators,a={formatMaximum:{okStr:"<=",ok:r.LTE,fail:r.GT},formatMinimum:{okStr:">=",ok:r.GTE,fail:r.LT},formatExclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},formatExclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},i={message:({keyword:s,schemaCode:l})=>n.str`should be ${a[s].okStr} ${l}`,params:({keyword:s,schemaCode:l})=>n._`{comparison: ${a[s].okStr}, limit: ${l}}`};e.formatLimitDefinition={keyword:Object.keys(a),type:"string",schemaType:"string",$data:!0,error:i,code(s){const{gen:l,data:c,schemaCode:u,keyword:d,it:p}=s,{opts:m,self:h}=p;if(!m.validateFormats)return;const g=new t.KeywordCxt(p,h.RULES.all.format.definition,"format");g.$data?y():v();function y(){const _=l.scopeValue("formats",{ref:h.formats,code:m.code.formats}),b=l.const("fmt",n._`${_}[${g.schemaCode}]`);s.fail$data(n.or(n._`typeof ${b} != "object"`,n._`${b} instanceof RegExp`,n._`typeof ${b}.compare != "function"`,w(b)))}function v(){const _=g.schema,b=h.formats[_];if(!b||b===!0)return;if(typeof b!="object"||b instanceof RegExp||typeof b.compare!="function")throw new Error(`"${d}": format "${_}" does not define "compare" function`);const E=l.scopeValue("formats",{key:_,ref:b,code:m.code.formats?n._`${m.code.formats}${n.getProperty(_)}`:void 0});s.fail$data(w(E))}function w(_){return n._`${_}.compare(${c}, ${u}) ${a[d].fail} 0`}},dependencies:["format"]};const o=s=>(s.addKeyword(e.formatLimitDefinition),s);e.default=o})(ZN);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const n=JN,r=ZN,a=Fe,i=new a.Name("fullFormats"),o=new a.Name("fastFormats"),s=(c,u={keywords:!0})=>{if(Array.isArray(u))return l(c,u,n.fullFormats,i),c;const[d,p]=u.mode==="fast"?[n.fastFormats,o]:[n.fullFormats,i],m=u.formats||n.formatNames;return l(c,m,d,p),u.keywords&&r.default(c),c};s.get=(c,u="full")=>{const p=(u==="fast"?n.fastFormats:n.fullFormats)[c];if(!p)throw new Error(`Unknown format "${c}"`);return p};function l(c,u,d,p){var m,h;(m=(h=c.opts.code).formats)!==null&&m!==void 0||(h.formats=a._`require("ajv-formats/dist/formats").${p}`);for(const g of u)c.addFormat(g,d[g])}e.exports=t=s,Object.defineProperty(t,"__esModule",{value:!0}),t.default=s})(Gp,Gp.exports);var M7=Gp.exports;const Q_=Er(M7);function su(){return su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},su.apply(this,arguments)}function B7(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}var U7={allErrors:!0,multipleOfPrecision:8,strict:!1,verbose:!0},H7=/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,z7=/^data:([a-z]+\/[a-z0-9-+.]+)?;(?:name=(.*);)?base64,(.*)$/;function j7(e,t,n,r,a){n===void 0&&(n={}),a===void 0&&(a=q7);var i=new a(su({},U7,n));return r?Q_(i,r):r!==!1&&Q_(i),i.addFormat("data-url",z7),i.addFormat("color",H7),i.addKeyword(ds),i.addKeyword(Yg),Array.isArray(e)&&i.addMetaSchema(e),Cn(t)&&Object.keys(t).forEach(function(o){i.addFormat(o,t[o])}),i}var W7=["instancePath","keyword","params","schemaPath","parentSchema"];function G7(e,t){return e===void 0&&(e=[]),e.map(function(n){var r=n.instancePath,a=n.keyword,i=n.params,o=n.schemaPath,s=n.parentSchema,l=B7(n,W7),c=l.message,u=c===void 0?"":c,d=r.replace(/\//g,"."),p=(d+" "+u).trim();if("missingProperty"in i){d=d?d+"."+i.missingProperty:i.missingProperty;var m=i.missingProperty,h=tt(Se(t,""+d.replace(/^\./,""))).title;if(h)u=u.replace(m,h);else{var g=Se(s,[Dt,m,"title"]);g&&(u=u.replace(m,g))}p=u}else{var y=tt(Se(t,""+d.replace(/^\./,""))).title;if(y)p=("'"+y+"' "+u).trim();else{var v=s==null?void 0:s.title;v&&(p=("'"+v+"' "+u).trim())}}return{name:a,property:d,message:u,params:i,stack:p,schemaPath:o}})}function K7(e,t,n,r,a,i,o){var s=t.validationError,l=G7(t.errors,o);s&&(l=[].concat(l,[{stack:s.message}])),typeof i=="function"&&(l=i(l,o));var c=y6(l);if(s&&(c=su({},c,{$schema:{__errors:[s.message]}})),typeof a!="function")return{errors:l,errorSchema:c};var u=iN(e,r,n,r,!0),d=a(u,kp(u),o),p=fN(d);return ml({errors:l,errorSchema:c},p)}var Y7=function(){function e(n,r){this.ajv=void 0,this.localizer=void 0;var a=n.additionalMetaSchemas,i=n.customFormats,o=n.ajvOptionsOverrides,s=n.ajvFormatOptions,l=n.AjvClass;this.ajv=j7(a,i,o,s,l),this.localizer=r}var t=e.prototype;return t.toErrorList=function(r,a){return a===void 0&&(a=[]),Fo(r,a)},t.rawValidation=function(r,a){var i=void 0,o;r[zr]&&(o=this.ajv.getSchema(r[zr]));try{o===void 0&&(o=this.ajv.compile(r)),o(a)}catch(l){i=l}var s;return o&&(typeof this.localizer=="function"&&this.localizer(o.errors),s=o.errors||void 0,o.errors=null),{errors:s,validationError:i}},t.validateFormData=function(r,a,i,o,s){var l=this.rawValidation(a,r);return K7(this,l,r,a,i,o,s)},t.isValid=function(r,a,i){var o,s=(o=i[zr])!=null?o:Z1;try{var l;this.ajv.getSchema(s)===void 0&&this.ajv.addSchema(i,s);var c=ry(r),u=(l=c[zr])!=null?l:c6(c),d;d=this.ajv.getSchema(u),d===void 0&&(d=this.ajv.addSchema(c,u).getSchema(u)||this.ajv.compile(c));var p=d(a);return p}catch(m){return console.warn("Error encountered compiling schema:",m),!1}finally{this.ajv.removeSchema(s)}},e}();function Q7(e,t){return e===void 0&&(e={}),new Y7(e,t)}var X7=Q7();const Kp="First line is the columns names.",Yp="Include row metadata (Row Id and Row Version).",lu="Comma Separated Values (CSV)",X_="Tab Separated Values (TSV)",J7={type:"object",properties:{"File Type":{type:"string",oneOf:[{const:lu,title:lu},{const:X_,title:X_}]},Contents:{type:"array",title:"Contents",items:{type:"string",enum:[Kp,Yp]},uniqueItems:!0}}},Z7={"File Type":{"ui:widget":"radio"},Contents:{"ui:widget":"checkboxes"}},eW={description:"File is ready for download. Select the download button to download the file.",type:"object"},tW={},nW=[J7,eW],rW=[Z7,tW];class Ti extends J.Component{constructor(n){super(n);ht(this,"handleSubmit",n=>{this.state.step===0?this.handleDownloadSetup(n):this.onDownload()});ht(this,"handleDownloadSetup",n=>{this.setState({isLoading:!0});const{formData:r}=n,a=r["File Type"],i=r.Contents,{queryBundleRequest:o,getLastQueryRequest:s}=this.props,l=a===lu?",":"	",c=i.includes(Kp),u=i.includes(Yp),d=o??s(),p=d.query.sql,m={sql:p,entityId:oa(p),selectedFacets:d.query.selectedFacets,concreteType:"org.sagebionetworks.repo.model.table.DownloadFromTableRequest",writeHeader:c,includeRowIdAndRowVersion:u,csvTableDescriptor:{separator:l},additionalFilters:d.query.additionalFilters};$t.getDownloadFromTableRequest(m,this.context.accessToken).then(h=>{this.setState({isLoading:!1,step:1,data:h})}).catch(h=>{console.log("Error getDownloadFromTableRequest: ",h)})});ht(this,"onDownload",()=>{const{data:n}=this.state;$t.getFileHandleByIdURL(n.resultsFileHandleId,this.context.accessToken).then(r=>{window.location.href=r,this.props.onClose()})});ht(this,"handleChange",n=>{const{formData:r}=n;this.setState({formData:r})});this.state={isLoading:!1,step:0,formData:{"File Type":lu,Contents:[Kp,Yp]}}}render(){const n={height:50,width:50,backgroundSize:50};return f(Cu,{open:!0,onCancel:this.props.onClose,title:"Download query results",content:f(te,{children:P(hN,{validator:X7,id:"modal-download-form",schema:nW[this.state.step],uiSchema:rW[this.state.step],onChange:this.handleChange,formData:this.state.formData,onSubmit:this.handleSubmit,children:[this.state.isLoading&&f("div",{className:"SRC-centerAndJustifyContent",children:P("div",{className:"SRC-center-text",children:[f("p",{children:" Creating the File "}),f("div",{style:n,className:"spinner"}),f("p",{children:" Loading... "})]})}),f(J.Fragment,{})]})}),actions:P(te,{children:[f(rt,{variant:"outlined",color:"primary",onClick:this.props.onClose,children:"Cancel"}),f(rt,{form:"modal-download-form",type:"submit",variant:"contained",color:"primary",children:this.state.step===0?"Next":"Download"})]})})}}ht(Ti,"contextType",Qo);try{Ti.displayName="ModalDownload",Ti.__docgenInfo={description:"",displayName:"ModalDownload",props:{onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"(...args: any[]) => void"}},includeEntityEtag:{defaultValue:null,description:"",name:"includeEntityEtag",required:!1,type:{name:"boolean"}},queryBundleRequest:{defaultValue:null,description:"",name:"queryBundleRequest",required:!1,type:{name:"QueryBundleRequest"}},getLastQueryRequest:{defaultValue:null,description:"",name:"getLastQueryRequest",required:!1,type:{name:"(() => QueryBundleRequest)"}},offset:{defaultValue:null,description:"",name:"offset",required:!1,type:{name:"number"}},limit:{defaultValue:null,description:"",name:"limit",required:!1,type:{name:"number"}},sort:{defaultValue:null,description:"",name:"sort",required:!1,type:{name:"SortItem[]"}}}}}catch{}function Qp(e){const{modifiedDataAccessRequest:t,onHide:n}=e,[r,a]=R.useState(),[i,o]=R.useState(!1),{mutate:s}=gS({onSuccess:()=>{n()},onError:c=>{a({key:"error",message:`Sorry, there is an error in submitting your request. ${c.reason?c.reason+".":" "}Please close this dialog and try again later.`}),o(!0)}});function l(){t&&s(t)}return P(te,{children:[f(Oa,{children:P(Nr,{direction:"row",alignItems:"center",gap:"5px",children:["Save Changes",f(Le,{sx:{flexGrow:1}}),f(an,{onClick:n,children:f(De,{icon:"close",wrap:!1,sx:{color:"grey.700"}})})]})}),P(ka,{children:[f(le,{variant:"body1",children:"Would you like to save your recent changes?"}),r&&f(pn,{severity:r.key,children:r.message})]}),P(as,{children:[!i&&P(te,{children:[f(rt,{variant:"outlined",onClick:n,children:"Cancel"}),f(rt,{variant:"contained",onClick:()=>{l()},children:"Save changes"})]}),i&&f(rt,{variant:"contained",onClick:n,children:"Close"})]})]})}try{Qp.displayName="CancelRequestDataAccess",Qp.__docgenInfo={description:"",displayName:"CancelRequestDataAccess",props:{modifiedDataAccessRequest:{defaultValue:null,description:"",name:"modifiedDataAccessRequest",required:!0,type:{name:"Request | Renewal | undefined"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}}}}}catch{}function uu(e){const{children:t,managedACTAccessRequirementId:n}=e,{data:r}=Hu(n,{enabled:!!n}),a=yS();return P(Nc,{container:!0,spacing:5,children:[f(Nc,{item:!0,xs:12,md:6,lg:5,sx:{maxHeight:"500px",overflow:"auto",pr:{xs:0,md:1}},children:t}),a&&P(Nc,{item:!0,md:6,lg:7,sx:{maxHeight:"500px",overflowY:"scroll",pr:1},children:[f(le,{variant:"headline3",sx:{mb:2},children:"Instructions"}),r&&f(gn,{wikiId:r.wikiPageId,ownerId:r.ownerObjectId,objectType:r.ownerObjectType,loadingSkeletonRowCount:15})]})]})}try{uu.displayName="ManagedACTAccessRequirementFormWikiWrapper",uu.__docgenInfo={description:`Renders the child content next to the wiki associated with the provided ManagedACTAccessRequirement. Utilizes a grid
layout where the wiki content will not appear on small screen sizes.`,displayName:"ManagedACTAccessRequirementFormWikiWrapper",props:{managedACTAccessRequirementId:{defaultValue:null,description:"",name:"managedACTAccessRequirementId",required:!0,type:{name:"string"}}}}}catch{}function Xp(e){const{onSave:t,managedACTAccessRequirement:n,onHide:r}=e,[a,i]=R.useState(void 0),[o,s]=R.useState(void 0),[l,c]=R.useState(void 0),[u,d]=R.useState(),{data:p,isLoading:m}=OR(String(n.id),{staleTime:1/0,onError:_=>{console.log("RequestDataAccessStep1: Error getting research project data: ",_)}});R.useEffect(()=>{a==null&&(p!=null&&p.projectLead)&&i(p==null?void 0:p.projectLead),o==null&&(p!=null&&p.institution)&&s(p==null?void 0:p.institution),l==null&&(p!=null&&p.intendedDataUseStatement)&&c(p==null?void 0:p.intendedDataUseStatement)},[p==null?void 0:p.institution,p==null?void 0:p.intendedDataUseStatement,p==null?void 0:p.projectLead,o,l,a]);const{mutate:h,isLoading:g}=kR({onSuccess:_=>{t&&t(_)},onError:_=>{console.log("RequestDataAccessStep1: Error updating research project data: ",_),d({key:"error",message:v(_.reason)})}}),y=m||g,v=(_="")=>P(te,{children:[f("strong",{children:"Unable to update research project data."}),f("br",{}),_]}),w=_=>{_.preventDefault(),h({...p,accessRequirementId:String(n.id),institution:o,projectLead:a,intendedDataUseStatement:l})};return P(te,{children:[f(Oa,{children:P(Nr,{direction:"row",alignItems:"center",gap:"5px",children:["Request Access",f(Le,{sx:{flexGrow:1}}),f(an,{onClick:r,children:f(De,{icon:"close",wrap:!1,sx:{color:"grey.700"}})})]})}),P(ka,{children:[f(uu,{managedACTAccessRequirementId:String(n.id),children:P("form",{onSubmit:w,children:[f(le,{variant:"body1",children:"Please tell us about your project."}),f(fo,{id:"project-lead",label:"Project Lead",disabled:y,type:"text",value:a,required:!0,onChange:_=>i(_.target.value)}),f(fo,{id:"institution",label:"Institution",type:"text",disabled:y,value:o,required:!0,onChange:_=>s(_.target.value)}),n.isIDURequired&&f(fo,{id:"data-use",label:P(te,{children:["Intended Data Use Statement -",n.isIDUPublic&&f("i",{id:"idu-visible",children:"this will be visible to the public"})]}),required:!0,multiline:!0,rows:9,disabled:y,value:l,onChange:_=>c(_.target.value)})]})}),u&&f(pn,{severity:u.key,children:u.message})]}),P(as,{children:[f(rt,{variant:"outlined",disabled:y,onClick:r,children:"Cancel"}),f(rt,{variant:"contained",type:"submit",disabled:y,onClick:w,children:g?"Saving...":"Save changes"})]})]})}try{Xp.displayName="ResearchProjectForm",Xp.__docgenInfo={description:"Step 1 of the Data Access Request/Renewal flow prompts the user to provide information about their ResearchProject.",displayName:"ResearchProjectForm",props:{managedACTAccessRequirement:{defaultValue:null,description:"",name:"managedACTAccessRequirement",required:!0,type:{name:"ManagedACTAccessRequirement"}},onSave:{defaultValue:null,description:"",name:"onSave",required:!1,type:{name:"((researchProject: ResearchProject) => void)"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!1,type:{name:"(() => void)"}}}}}catch{}function Jp(e){const{accessorChanges:t,onChange:n,isRenewal:r,helpText:a}=e,{data:i}=kh(),o=(c,u)=>{u&&n(d=>{if(!d.map(m=>m.userId).includes(u.ownerId)){const m={userId:u.ownerId,type:ba.GAIN_ACCESS};d.push(m)}return d})},s=c=>{n(u=>u.filter(d=>d.userId!==c))},l=(c,u)=>{n(d=>{const p=d.findIndex(m=>m.userId===u);return d[p].type=c,d})};return P(te,{children:[P(uv.Group,{children:[f(le,{variant:"headline3",sx:{mt:4,mb:2},children:"Data Requesters"}),f(le,{variant:"body1",sx:{mb:1},className:"requester-label",children:a}),f(NI,{inputId:"requesters",typeFilter:jT.USERS_ONLY,onChange:o,filterPredicate:c=>!t.map(u=>u.userId).includes(c.ownerId),value:null})]}),f(uv.Group,{children:f(Nr,{gap:1,children:t.map((c,u)=>P("div",{className:"list-items",children:[f(gi,{size:"SMALL USER CARD",ownerId:c.userId,showAccountLevelIcon:!0,disableLink:!0,showFullName:!0}),(i==null?void 0:i.ownerId)!==c.userId&&c.type===ba.GAIN_ACCESS&&f(rt,{"aria-label":"Remove user",variant:"text",sx:{ml:1,px:0},onClick:()=>s(c.userId),children:f(De,{icon:"clear"})}),r&&(i==null?void 0:i.ownerId)!==c.userId&&c.type!==ba.GAIN_ACCESS&&f(te,{children:f(sg,{id:`accessor-renewal-${c.userId}`,value:c.type,options:[{label:"Renew",value:ba.RENEW_ACCESS},{label:"Revoke",value:ba.REVOKE_ACCESS}],onChange:d=>l(d,c.userId)})})]},`accessor-${u}`))})})]})}try{Jp.displayName="DataAccessRequestAccessorsEditor",Jp.__docgenInfo={description:"Component that handles adding/removing/revoking accessors for a data access request.",displayName:"DataAccessRequestAccessorsEditor",props:{accessorChanges:{defaultValue:null,description:"",name:"accessorChanges",required:!0,type:{name:"AccessorChange[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(updater: (prevValue: AccessorChange[]) => AccessorChange[]) => void"}},isRenewal:{defaultValue:null,description:"",name:"isRenewal",required:!0,type:{name:"boolean"}},helpText:{defaultValue:null,description:"",name:"helpText",required:!0,type:{name:"ReactNode"}}}}}catch{}function cu(e){const{fileHandleAssociation:t,fileName:n,...r}=e,{accessToken:a}=Ze(),i=async()=>{if(!t.fileHandleId||!a)return;const l=(await Co({requestedFiles:[t],includePreSignedURLs:!0,includeFileHandles:!1,includePreviewPreSignedURLs:!1},a)).requestedFiles[0].preSignedURL;l?window.open(l):console.log("Fail to get file download link")};return f(rt,{...r,onClick:()=>{i()},children:n})}try{cu.displayName="DirectDownloadButton",cu.__docgenInfo={description:"",displayName:"DirectDownloadButton",props:{children:{defaultValue:null,description:"The content of the component.",name:"children",required:!1,type:{name:"ReactNode"}},classes:{defaultValue:null,description:"Override or extend the styles applied to the component.",name:"classes",required:!1,type:{name:"(Partial<ButtonClasses> & Partial<ClassNameMap<never>>)"}},sx:{defaultValue:null,description:"The system prop that allows defining system overrides as well as additional CSS styles.",name:"sx",required:!1,type:{name:"SxProps<Theme>"}},variant:{defaultValue:{value:"'text'"},description:"The variant to use.",name:"variant",required:!1,type:{name:"enum",value:[{value:'"text"'},{value:'"outlined"'},{value:'"contained"'}]}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"((instance: HTMLButtonElement | null) => void) | RefObject<HTMLButtonElement> | null"}},tabIndex:{defaultValue:{value:"0"},description:"",name:"tabIndex",required:!1,type:{name:"number"}},color:{defaultValue:{value:"'primary'"},description:`The color of the component.
It supports both default and custom theme colors, which can be added as shown in the
[palette customization guide](https://mui.com/material-ui/customization/palette/#adding-new-colors).`,name:"color",required:!1,type:{name:"enum",value:[{value:'"info"'},{value:'"success"'},{value:'"warning"'},{value:'"error"'},{value:'"inherit"'},{value:'"primary"'},{value:'"secondary"'}]}},action:{defaultValue:null,description:"A ref for imperative actions.\nIt currently only supports `focusVisible()` action.",name:"action",required:!1,type:{name:"Ref<ButtonBaseActions>"}},centerRipple:{defaultValue:{value:"false"},description:"If `true`, the ripples are centered.\nThey won't start at the cursor interaction position.",name:"centerRipple",required:!1,type:{name:"boolean"}},disabled:{defaultValue:{value:`false
false`},description:"If `true`, the component is disabled.",name:"disabled",required:!1,type:{name:"boolean"}},disableRipple:{defaultValue:{value:"false"},description:"If `true`, the ripple effect is disabled.\n\n⚠️ Without a ripple there is no styling for :focus-visible by default. Be sure\nto highlight the element by applying separate styles with the `.Mui-focusVisible` class.",name:"disableRipple",required:!1,type:{name:"boolean"}},disableTouchRipple:{defaultValue:{value:"false"},description:"If `true`, the touch ripple effect is disabled.",name:"disableTouchRipple",required:!1,type:{name:"boolean"}},focusRipple:{defaultValue:{value:"false"},description:"If `true`, the base button will have a keyboard focus ripple.",name:"focusRipple",required:!1,type:{name:"boolean"}},focusVisibleClassName:{defaultValue:null,description:`This prop can help identify which element has keyboard focus.
The class name will be applied when the element gains the focus through keyboard interaction.
It's a polyfill for the [CSS :focus-visible selector](https://drafts.csswg.org/selectors-4/#the-focus-visible-pseudo).
The rationale for using this feature [is explained here](https://github.com/WICG/focus-visible/blob/HEAD/explainer.md).
A [polyfill can be used](https://github.com/WICG/focus-visible) to apply a \`focus-visible\` class to other components
if needed.`,name:"focusVisibleClassName",required:!1,type:{name:"string"}},LinkComponent:{defaultValue:{value:"'a'"},description:"The component used to render a link when the `href` prop is provided.",name:"LinkComponent",required:!1,type:{name:"ElementType<any>"}},onFocusVisible:{defaultValue:null,description:"Callback fired when the component is focused with a keyboard.\nWe trigger a `onFocus` callback too.",name:"onFocusVisible",required:!1,type:{name:"FocusEventHandler<any>"}},TouchRippleProps:{defaultValue:null,description:"Props applied to the `TouchRipple` element.",name:"TouchRippleProps",required:!1,type:{name:"Partial<TouchRippleProps>"}},touchRippleRef:{defaultValue:null,description:"A ref that points to the `TouchRipple` element.",name:"touchRippleRef",required:!1,type:{name:"Ref<TouchRippleActions>"}},disableFocusRipple:{defaultValue:{value:"false"},description:"If `true`, the  keyboard focus ripple is disabled.",name:"disableFocusRipple",required:!1,type:{name:"boolean"}},size:{defaultValue:{value:"'medium'"},description:"The size of the component.\n`small` is equivalent to the dense button styling.",name:"size",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"medium"'},{value:'"large"'}]}},href:{defaultValue:null,description:"The URL to link to when the button is clicked.\nIf defined, an `a` element will be used as the root node.",name:"href",required:!1,type:{name:"string"}},disableElevation:{defaultValue:{value:"false"},description:"If `true`, no elevation is used.",name:"disableElevation",required:!1,type:{name:"boolean"}},endIcon:{defaultValue:null,description:"Element placed after the children.",name:"endIcon",required:!1,type:{name:"ReactNode"}},fullWidth:{defaultValue:{value:"false"},description:"If `true`, the button will take up the full width of its container.",name:"fullWidth",required:!1,type:{name:"boolean"}},startIcon:{defaultValue:null,description:"Element placed before the children.",name:"startIcon",required:!1,type:{name:"ReactNode"}},fileHandleAssociation:{defaultValue:null,description:"",name:"fileHandleAssociation",required:!0,type:{name:"FileHandleAssociation"}},fileName:{defaultValue:null,description:"",name:"fileName",required:!0,type:{name:"string | undefined"}}}}}catch{}function bo(e){const{fileHandleAssociations:t=[],uploadCallback:n,id:r,documentName:a,isMultiFileUpload:i=!1,onClearAttachment:o,isLoading:s=!1}=e,[l,c]=R.useState(!1),{data:u}=Ou({includeFileHandles:!0,includePreSignedURLs:!1,includePreviewPreSignedURLs:!1,requestedFiles:t},{enabled:t.length>0});return P(Le,{id:r,display:"flex",flexDirection:i?"column":"row",alignItems:i?"flex-start":"center",justifyContent:"flex-start",gap:2,sx:{my:2},children:[f(UR,{id:`${r}-upload`,onUploadStart:()=>c(!0),onComplete:d=>{c(!1),n(d)},label:`Upload ${a}`,buttonProps:{disabled:s,variant:"outlined",endIcon:f(De,{icon:"upload",wrap:!1})}}),t.map((d,p)=>{var h;const m=(h=u==null?void 0:u.requestedFiles.find(g=>g.fileHandleId===d.fileHandleId))==null?void 0:h.fileHandle;return P(Le,{children:[f(cu,{id:`${r}-download-${p}`,variant:"text",endIcon:f(De,{icon:"download",wrap:!1}),color:"primary",fileHandleAssociation:d,fileName:m==null?void 0:m.fileName,sx:{textTransform:"none"}},p),o&&f(rt,{className:"clear-x",variant:"text",onClick:()=>o(d.fileHandleId),children:f(De,{icon:"clear"})})]},d.fileHandleId)}),l&&f(rt,{disabled:!0,variant:"text",endIcon:f(De,{icon:"download",wrap:!1}),children:"Uploading..."})]})}try{bo.displayName="UploadDocumentField",bo.__docgenInfo={description:"",displayName:"UploadDocumentField",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},documentName:{defaultValue:null,description:"",name:"documentName",required:!0,type:{name:"string"}},uploadCallback:{defaultValue:null,description:"",name:"uploadCallback",required:!0,type:{name:"(data: UploadCallbackResp) => void"}},fileHandleAssociations:{defaultValue:null,description:"",name:"fileHandleAssociations",required:!1,type:{name:"FileHandleAssociation[]"}},isMultiFileUpload:{defaultValue:null,description:"",name:"isMultiFileUpload",required:!1,type:{name:"boolean"}},onClearAttachment:{defaultValue:null,description:"",name:"onClearAttachment",required:!1,type:{name:"((fileHandleId: string) => void)"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!1,type:{name:"boolean"}}}}}catch{}function Zp(e){var s,l;const{title:t,description:n,fileHandleAssociation:r,downloadButtonText:a}=e,{data:i}=Ou({requestedFiles:[r],includeFileHandles:!0,includePreSignedURLs:!1,includePreviewPreSignedURLs:!1},{enabled:!!r}),o=(l=(s=i==null?void 0:i.requestedFiles[0])==null?void 0:s.fileHandle)==null?void 0:l.fileName;return P(te,{children:[f(le,{variant:"headline3",sx:{mt:4,mb:2},children:t}),f(le,{variant:"body1",sx:{my:2},children:n}),f(le,{variant:"body1",children:"Download this file:"}),f(le,{variant:"smallText1",sx:{my:.5},children:f("strong",{children:o})}),P(Le,{display:"flex",alignItems:"center",justifyContent:"flex-start",gap:2,sx:{backgroundColor:"tertiary.100",p:2.5,my:2,flexWrap:{xs:"nowrap",md:"wrap-reverse"}},children:[f(cu,{variant:"outlined",fileHandleAssociation:r,fileName:a,endIcon:f(De,{icon:"download",wrap:!1}),sx:{whiteSpace:"nowrap",flexShrink:0}}),P(le,{variant:"body1",children:["You must fill out and upload this exact version of the template."," ",f("strong",{children:"No other versions will be accepted."})]})]})]})}try{Zp.displayName="DocumentTemplate",Zp.__docgenInfo={description:"",displayName:"DocumentTemplate",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"ReactNode"}},description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"ReactNode"}},fileHandleAssociation:{defaultValue:null,description:"",name:"fileHandleAssociation",required:!0,type:{name:"FileHandleAssociation"}},downloadButtonText:{defaultValue:null,description:"",name:"downloadButtonText",required:!0,type:{name:"string"}}}}}catch{}function aW(e){const{managedACTAccessRequirement:t}=e;let n="",r="";return t.isCertifiedUserRequired&&t.isValidatedProfileRequired?(n="https://help.synapse.org/docs/User-Types.2007072795.html",r="All data requesters must be certified users and have a validated user profile."):t.isCertifiedUserRequired?(n="https://help.synapse.org/docs/User-Types.2007072795.html#UserAccountTiers-CertifiedUsers",r="All data requesters must be a certified user."):t.isValidatedProfileRequired&&(n="https://help.synapse.org/docs/User-Types.2007072795.html#UserAccountTiers-ValidatedUsers",r="All data requesters must have a validated user profile."),n&&r?P(te,{children:[t.isDUCRequired?P(te,{children:["This list should match those listed on your DUC.",f("br",{})]}):"",r," ",f(St,{href:n,target:"_blank",rel:"noreferrer",children:"Learn more"})]}):f(te,{})}function em(e){const{onSubmissionCreated:t,managedACTAccessRequirement:n,entityId:r,researchProjectId:a,onCancel:i}=e,{accessToken:o}=Ze(),s=!!o,{data:l}=kh({enabled:s}),[c,u]=R.useState(),[d,p]=R.useState(),[m,h]=R.useState(),[g,y]=R.useState(),{data:v,isLoading:w}=PR(String(n.id),{enabled:s,staleTime:1/0,useErrorBoundary:!0}),_=(v==null?void 0:v.concreteType)==="org.sagebionetworks.repo.model.dataaccess.Renewal";function b(D){console.log("RequestDataAccessStep2: Error updating form",D),u({key:"error",message:M(D.reason)})}const{mutate:E,isLoading:S}=BR({onSuccess:()=>{t()},onError:b}),{mutateAsync:N,isLoading:C}=gS({onError:b}),I=w||C||S;R.useEffect(()=>{if(v&&l){let D=!1;v.researchProjectId||(v.researchProjectId=a,D=!0);const x={userId:l.ownerId,type:_?ba.RENEW_ACCESS:ba.GAIN_ACCESS};(!v.accessorChanges||!v.accessorChanges.find(U=>Ln(U,x)))&&(v.accessorChanges=[x,...v.accessorChanges||[]],D=!0);const A=new Set,j=v.accessorChanges.filter(U=>A.has(U.userId)?!1:A.add(U.userId));j.length!==v.accessorChanges.length&&(v.accessorChanges=j,D=!0),D&&N(v)}},[v,_,a,N,l]),R.useEffect(()=>{v&&(v.accessorChanges&&d==null&&p(v.accessorChanges),_&&v.publication&&g==null&&y(v.publication),_&&v.summaryOfUse&&m==null&&h(v.summaryOfUse))},[v]);function k(){return{...v,accessorChanges:d,publication:g,summaryOfUse:m}}async function O(){if(v){const D=await N(k());E({request:{requestId:D.id,requestEtag:D.etag,subjectId:r,subjectType:Ph.ENTITY},accessRequirementId:String(n.id)})}}const M=(D="")=>P(te,{children:[f("strong",{children:"Sorry, there is an error in submitting your request."}),f("br",{}),D]}),q=D=>{p([...D(d||[])])},$=D=>{var x;N({...v,attachments:(x=v.attachments)==null?void 0:x.filter(A=>A!==D)})},B=(D,x)=>{if(D.resp&&D.success){const A=D.resp;N(x==="attachments"?{...v,attachments:[...v.attachments||[],A.fileHandleId]}:{...v,[x]:A.fileHandleId})}else!D.success&&D.error&&(console.log("RequestDataAccessStep2: Error uploading the file",D.error),u({key:"error",message:M(D.error.reason)}))},L=v!=null&&v.ducFileHandleId?[{fileHandleId:v==null?void 0:v.ducFileHandleId,associateObjectType:qt.DataAccessRequestAttachment,associateObjectId:String(v.id)}]:[],F=v!=null&&v.irbFileHandleId?[{fileHandleId:v.irbFileHandleId,associateObjectType:qt.DataAccessRequestAttachment,associateObjectId:String(v.id)}]:[],z=((v==null?void 0:v.attachments)||[]).map(D=>({fileHandleId:D,associateObjectType:qt.DataAccessRequestAttachment,associateObjectId:String(v.id)}))??[];return P(te,{children:[f(Oa,{children:P(Nr,{direction:"row",alignItems:"center",gap:"5px",children:["Request Access",f(Le,{sx:{flexGrow:1}}),f(an,{onClick:e.onHide,children:f(De,{icon:"close",wrap:!1,sx:{color:"grey.700"}})})]})}),P(ka,{children:[f(uu,{managedACTAccessRequirementId:String(n.id),children:P(Le,{component:"form",sx:{minHeight:"475px"},onSubmit:D=>D.preventDefault(),children:[f(le,{variant:"body1",sx:{mb:2},children:"Please provide the information below to submit the request for access."}),v&&l&&f(Jp,{accessorChanges:d||[],onChange:q,isRenewal:_,helpText:f(aW,{managedACTAccessRequirement:n})}),((n==null?void 0:n.isDUCRequired)||(n==null?void 0:n.isIRBApprovalRequired)||(n==null?void 0:n.areOtherAttachmentsRequired)||_)&&f(ri,{sx:{my:4}}),(n==null?void 0:n.isDUCRequired)&&P(te,{children:[(n==null?void 0:n.ducTemplateFileHandleId)&&f(Zp,{title:"Download DUC Template",description:"As a first step, you will need to download the most current version of the Data Use Certificate.",fileHandleAssociation:{fileHandleId:n.ducTemplateFileHandleId,associateObjectType:qt.AccessRequirementAttachment,associateObjectId:String(n.id)},downloadButtonText:"Download DUC Template"}),f(le,{variant:"headline3",sx:{mt:4,mb:2},children:"Fill out and upload a Data Use Certificate"}),f(le,{variant:"body1",sx:{my:2},children:"You must download and fill out a Data Use Certificate (DUC). Be sure to upload the completed DUC below once you've completed it."}),P(le,{variant:"body1",component:"ol",children:[f("li",{children:"Download the DUC template file."}),f("li",{children:"Fill out the DUC template, following the instructions in the file."}),f("li",{children:"Upload the completed certificate using the button below:"})]}),f(oi,{children:f(bo,{id:"duc",isLoading:I,uploadCallback:D=>B(D,"ducFileHandleId"),documentName:"Data Use Certificate",fileHandleAssociations:L})}),((n==null?void 0:n.isIRBApprovalRequired)||(n==null?void 0:n.areOtherAttachmentsRequired)||_)&&f(ri,{sx:{my:4}})]}),(n==null?void 0:n.isIRBApprovalRequired)&&P(te,{children:[f(le,{variant:"headline3",sx:{my:2},children:"IRB Approval"}),f(le,{variant:"body1",sx:{my:2},children:"Upload a signed IRB letter on institutional letterhead. The letter must include the names of all the datasets requested, as well as the names of the data requesters above. Use the button below to upload the document."}),f(oi,{children:f(bo,{id:"irb",isLoading:I,documentName:"IRB Approval Letter",uploadCallback:D=>B(D,"irbFileHandleId"),fileHandleAssociations:F})}),((n==null?void 0:n.areOtherAttachmentsRequired)||_)&&f(ri,{sx:{my:4}})]}),(n==null?void 0:n.areOtherAttachmentsRequired)&&P(te,{children:[f(le,{variant:"headline3",sx:{my:2},children:"Upload other required documents"}),f(le,{variant:"body1",sx:{my:2},children:"You must upload other required documents. Please review the instructions to gain data access to determine which documents must also be uploaded."}),f(oi,{children:f(bo,{id:"file-attachment",isLoading:I,documentName:"Attachment",uploadCallback:D=>B(D,"attachments"),isMultiFileUpload:!0,fileHandleAssociations:z,onClearAttachment:$})}),_&&f(ri,{sx:{my:4}})]}),_&&P(te,{children:[f(fo,{id:"publications",label:"Publication(s)",disabled:S,multiline:!0,rows:3,value:g,onChange:D=>y(D.target.value)}),f(fo,{id:"summaryOfUse",label:"Summary of use",value:m,disabled:S,multiline:!0,rows:3,onChange:D=>h(D.target.value)})]})]})}),c&&f(pn,{severity:c.key,children:c.message})]}),f(as,{children:P(te,{children:[f(rt,{variant:"outlined",disabled:S,onClick:()=>{v&&i(k())},children:"Cancel"}),f(rt,{variant:"contained",disabled:S,onClick:()=>{O()},children:"Submit"})]})})]})}try{em.displayName="DataAccessRequestAccessorsFilesForm",em.__docgenInfo={description:`Step 2 of the Data Access Request/Renewal flow prompts the user to
- Manage the list of accessors, i.e. Synapse users who will gain, renew, or lose access
- Download and upload documents required by the Access Requirement
- If a renewal, provide publications and a summary of use statement.

The component expects a researchProjectId, which should reference complete researchProject created in Step 1.
The user may click a "Submit" button, which will save the request and issue a data access submission that references
the requestId created/updated in this component.`,displayName:"DataAccessRequestAccessorsFilesForm",props:{entityId:{defaultValue:null,description:"The ID of the entity of interest. This corresponds to the subjectId of the {@link CreateSubmissionRequest }",name:"entityId",required:!0,type:{name:"string"}},managedACTAccessRequirement:{defaultValue:null,description:"",name:"managedACTAccessRequirement",required:!0,type:{name:"ManagedACTAccessRequirement"}},onSubmissionCreated:{defaultValue:null,description:"",name:"onSubmissionCreated",required:!0,type:{name:"() => void"}},researchProjectId:{defaultValue:null,description:"",name:"researchProjectId",required:!0,type:{name:"string"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}},onCancel:{defaultValue:null,description:"",name:"onCancel",required:!0,type:{name:"(modifiedDataAccessRequest: Request | Renewal) => void"}}}}}catch{}function tm(e){const{onHide:t}=e;return P(te,{children:[f(Oa,{children:P(Nr,{direction:"row",alignItems:"center",gap:"5px",children:["Your Data Access Request Has Been Submitted",f(Le,{sx:{flexGrow:1}}),f(an,{onClick:t,children:f(De,{icon:"close",wrap:!1,sx:{color:"grey.700"}})})]})}),f(ka,{children:f(le,{variant:"body1",children:"Your data access request been submitted and is currently being reviewed. Please allow for up to 2 weeks for your request to be reviewed and approved."})}),f(as,{children:f(rt,{variant:"contained",onClick:t,children:"Finish"})})]})}try{tm.displayName="RequestDataAccessSuccess",tm.__docgenInfo={description:"",displayName:"RequestDataAccessSuccess",props:{onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}}}}}catch{}function nm(e){const{accessRequirement:t,entityId:n,onHide:r}=e,{accessToken:a}=Ze(),{data:i,isLoading:o}=og(String(t.id)),{data:s}=Hu(t.id.toString()),l=i==null?void 0:i.isApproved,[c,u]=R.useState(!1);let d="";window.location.hostname==="www.synapse.org"||window.location.hostname==="staging.synapse.org"?d="Request access":d="Request access via Synapse.org";const p=()=>{window.open(`${Zr.PORTAL}#!AccessRequirement:AR_ID=${t.id}&TYPE=ENTITY&ID=${n}`)},m=()=>{p(),r&&r()},h=t.actContactInfo;let g;a&&!l&&(g=[{variant:"outlined",onClick:m,children:d},{variant:"text",onClick:r,children:"I do not accept"}]);let y=f(te,{});return h?y=f(gn,{markdown:h}):s&&(y=f(gn,{wikiId:s==null?void 0:s.wikiPageId,ownerId:s==null?void 0:s.ownerObjectId,objectType:s==null?void 0:s.ownerObjectType})),f(lg,{"data-testid":"UnmanagedACTAccessRequirementItem",status:o?On.LOADING:l?On.COMPLETE:On.LOCKED,actions:g,children:l?P(te,{children:[P(le,{variant:"body1",children:["Your data access request has been approved."," ",f(St,{role:"button",onClick:()=>u(!c),children:c?"Hide Instructions":"View Instructions"})]}),c&&f(Le,{sx:{my:1},children:y})]}):y})}try{nm.displayName="UnmanagedACTAccessRequirementItem",nm.__docgenInfo={description:`Renders a {@link RequirementItem} for the deprecated {@link ACTAccessRequirement}.

For {@link ManagedACTAccessRequirement }s, see {@link ManagedACTAccessRequirementItem }

For {@link SelfSignAccessRequirement } and {@link TermsOfUseAccessRequirement }, see {@link SelfSignAccessRequirementItem }`,displayName:"UnmanagedACTAccessRequirementItem",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},accessRequirement:{defaultValue:null,description:"",name:"accessRequirement",required:!0,type:{name:"ACTAccessRequirement"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}}}}}catch{}function rm(e){var y,v,w,_,b,E;const{accessRequirement:t,onHide:n,onRequestAccess:r}=e,{data:a}=Hu(t.id.toString()),{data:i,isLoading:o}=og(String(t.id)),{mutate:s}=DR({onError:S=>{console.error("Error cancelling data access request",S),d({key:"error",message:P(te,{children:[f("strong",{children:"Error canceling your data access request."}),f("br",{}),"Please try again later."]})})}}),[l,c]=R.useState(!0),[u,d]=R.useState(),p=i==null?void 0:i.isApproved;let m=f(te,{});a&&(m=P("div",{children:[f(gn,{wikiId:a.wikiPageId,ownerId:a.ownerObjectId,objectType:a.ownerObjectType}),u&&f(pn,{className:"access-requirement-list-alert",severity:u.key,children:u.message}),((y=i==null?void 0:i.currentSubmissionStatus)==null?void 0:y.state)===dn.SUBMITTED&&f(pn,{className:"access-requirement-list-alert",severity:"info",children:f("strong",{children:"You have submitted a data access request."})}),((v=i==null?void 0:i.currentSubmissionStatus)==null?void 0:v.state)===dn.APPROVED&&p&&f(pn,{className:"access-requirement-list-alert",severity:"success",children:f("strong",{children:"Your data access request has been approved."})}),((w=i==null?void 0:i.currentSubmissionStatus)==null?void 0:w.state)===dn.APPROVED&&!p&&f(pn,{className:"access-requirement-list-alert",severity:"warning",children:f("strong",{children:"Your data access request has been revoked."})}),((_=i==null?void 0:i.currentSubmissionStatus)==null?void 0:_.state)===dn.REJECTED&&f(pn,{className:"access-requirement-list-alert",severity:"error",children:P(te,{children:[f("strong",{children:"Your data access request has been rejected."}),f("br",{}),(i==null?void 0:i.currentSubmissionStatus.rejectedReason)||""]})}),((b=i==null?void 0:i.currentSubmissionStatus)==null?void 0:b.state)===dn.CANCELLED&&f(pn,{className:"access-requirement-list-alert",severity:"success",children:f("strong",{children:"Your data access request has been canceled."})})]}));const h=[];i&&(i.currentSubmissionStatus==null?(h.push({variant:"outlined",onClick:r,children:"Request access"}),h.push({variant:"text",onClick:n,children:"I do not accept"})):[dn.APPROVED,dn.REJECTED,dn.CANCELLED].includes(i.currentSubmissionStatus.state)?h.push({variant:"outlined",onClick:r,children:"Update Request"}):i.currentSubmissionStatus.state===dn.SUBMITTED&&h.push({variant:"outlined",onClick:()=>{s({submissionId:i.currentSubmissionStatus.submissionId,accessRequirementId:String(t.id)})},children:"Cancel Request"}));let g=On.LOADING;if(!o)switch((E=i==null?void 0:i.currentSubmissionStatus)==null?void 0:E.state){case dn.APPROVED:g=i!=null&&i.isApproved?On.COMPLETE:On.LOCKED;break;case dn.SUBMITTED:g=On.PENDING;break;case dn.REJECTED:case dn.CANCELLED:default:g=On.LOCKED}return P(lg,{"data-testid":"ManagedACTAccessRequirementItem",status:g,actions:h,children:[!p&&f(te,{children:m}),p&&P(te,{children:[P(le,{variant:"body1",children:["Your data access request has been approved."," ",f(St,{role:"button",onClick:()=>{c(!l)},children:l?"View Terms":"Hide Terms"})]}),!l&&f(Le,{sx:{my:1},children:m})]})]})}try{rm.displayName="ManagedACTAccessRequirementItem",rm.__docgenInfo={description:`Renders a {@link RequirementItem} for a ManagedACTAccessRequirement, which allows a user to see if they have met the
requirement, and if not, complete a data access request to apply for access.`,displayName:"ManagedACTAccessRequirementItem",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},accessRequirement:{defaultValue:null,description:"",name:"accessRequirement",required:!0,type:{name:"ManagedACTAccessRequirement"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}},onRequestAccess:{defaultValue:null,description:"",name:"onRequestAccess",required:!0,type:{name:"() => void"}}}}}catch{}function am(e){const{accessRequirement:t,onHide:n}=e,{accessToken:r}=Ze(),a=!!r,i=WT(t),{data:o}=kh(),{data:s}=GT(),l=a&&s&&!i&&t.isCertifiedUserRequired&&!s.isCertified,c=a&&s&&!i&&t.isValidatedProfileRequired&&!s.isVerified,{data:u,isLoading:d}=og(String(t.id)),p=u==null?void 0:u.isApproved,{data:m}=Hu(t.id.toString()),[h,g]=R.useState(!1),{mutate:y,isLoading:v,error:w}=VR({onError:S=>{console.error("Error creating access approval: ",S)}}),_=()=>{const S={requirementId:t==null?void 0:t.id,submitterId:o==null?void 0:o.ownerId,accessorId:o==null?void 0:o.ownerId,state:KT.APPROVED};y(S)};let b=f(te,{});i&&t.termsOfUse?b=f(gn,{markdown:t.termsOfUse}):m&&(b=f(gn,{wikiId:m==null?void 0:m.wikiPageId,ownerId:m==null?void 0:m.ownerObjectId,objectType:m==null?void 0:m.ownerObjectType}));let E;if(r&&!p){let S="I Accept Terms of Use",N=!1;(l||c)&&(N=!0,S=`You must ${l?"be certified":""}${l&&c?" and ":""}${c?"have a validated user profile":""} to accept`),E=[{variant:"outlined",onClick:_,children:S,disabled:v||N},{variant:"text",onClick:n,children:"I do not accept"}]}return P(lg,{"data-testid":"SelfSignAccessRequirementItem",status:d?On.LOADING:p?On.COMPLETE:On.LOCKED,actions:E,children:[p?P(te,{children:[P(le,{variant:"body1",children:["You have accepted the terms of use."," ",f(St,{role:"button",onClick:()=>g(!h),children:h?"Hide Terms":"View Terms"})]}),h&&f(Le,{sx:{my:1},children:b})]}):b,w&&f(pn,{severity:"error",children:w.reason})]})}try{am.displayName="SelfSignAccessRequirementItem",am.__docgenInfo={description:`Renders a {@link RequirementItem} for an self-sign Access Requirement, including {@link SelfSignAccessRequirement} or
{@link TermsOfUseAccessRequirement}.

For {@link ManagedACTAccessRequirement }s, see {@link RequestDataAccess }`,displayName:"SelfSignAccessRequirementItem",props:{accessRequirement:{defaultValue:null,description:"",name:"accessRequirement",required:!0,type:{name:"SelfSignAccessRequirement | TermsOfUseAccessRequirement"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}}}}}catch{}function im(e){const{accessRequirement:t,entityId:n,onHide:r,onRequestAccess:a}=e;switch(t.concreteType){case"org.sagebionetworks.repo.model.SelfSignAccessRequirement":case"org.sagebionetworks.repo.model.TermsOfUseAccessRequirement":return f(am,{accessRequirement:t,onHide:r});case"org.sagebionetworks.repo.model.ACTAccessRequirement":return f(nm,{accessRequirement:t,onHide:r,entityId:n});case"org.sagebionetworks.repo.model.ManagedACTAccessRequirement":return f(rm,{accessRequirement:t,onHide:r,entityId:n,onRequestAccess:()=>{a(t)}});default:return console.warn("Unsupported access requirement type:",t.concreteType),f(te,{})}}try{im.displayName="AccessRequirementListItem",im.__docgenInfo={description:"Renders an individual AR item for the AccessRequirementList",displayName:"AccessRequirementListItem",props:{accessRequirement:{defaultValue:null,description:"",name:"accessRequirement",required:!0,type:{name:"AccessRequirement"}},entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}},onRequestAccess:{defaultValue:null,description:"",name:"onRequestAccess",required:!0,type:{name:"(accessRequirement: ManagedACTAccessRequirement) => void"}}}}}catch{}const iW=new Set(["org.sagebionetworks.repo.model.SelfSignAccessRequirement","org.sagebionetworks.repo.model.TermsOfUseAccessRequirement","org.sagebionetworks.repo.model.ManagedACTAccessRequirement","org.sagebionetworks.repo.model.ACTAccessRequirement"]),du=ct(le,{label:"DialogSubsectionHeader"})(({theme:e})=>({marginTop:e.spacing(4),marginBottom:e.spacing(2),paddingBottom:e.spacing(1),fontSize:"18px",fontWeight:"bold",borderBottom:"1px solid",borderColor:e.palette.grey[200]}));du.defaultProps={...du.defaultProps,variant:"h4"};const om=e=>e.filter(oW).length>0,oW=e=>!iW.has(e.concreteType);function Mo(e){var D;const{entityId:t,teamId:n,onHide:r,accessRequirementFromProps:a,renderAsModal:i,numberOfFilesAffected:o,requestObjectName:s,dialogTitle:l="Data Access Request"}=e,{accessToken:c}=Ze(),u=!!c,[d,p]=R.useState(0),[m,h]=R.useState(),[g,y]=R.useState(""),[v,w]=R.useState(),_={ids:[t],type:"ENTITY_HEADER"},b=yS(),E=co(_),{data:S}=LR(n,{enabled:!!(!a&&n)}),{data:N}=FR(t,{enabled:!!(!a&&t&&!n)}),I=a??(n?S:N),{data:k}=qR((I??[]).map(x=>String(x.id)),{enabled:!!I,staleTime:1/0}),O=x=>{const{managedACTAccessRequirement:A,step:j,researchProjectId:U,dataAccessRequest:T}=x;A&&h(A),U&&y(U),T&&w(T),p(j)},M=I==null?void 0:I.some(x=>x.concreteType==="org.sagebionetworks.repo.model.ManagedACTAccessRequirement"&&x.isTwoFaRequired),q=I==null?void 0:I.some(x=>(x.concreteType==="org.sagebionetworks.repo.model.ManagedACTAccessRequirement"||x.concreteType==="org.sagebionetworks.repo.model.SelfSignAccessRequirement")&&x.isCertifiedUserRequired),$=I==null?void 0:I.some(x=>(x.concreteType==="org.sagebionetworks.repo.model.ManagedACTAccessRequirement"||x.concreteType==="org.sagebionetworks.repo.model.SelfSignAccessRequirement")&&x.isValidatedProfileRequired),B=R.useMemo(()=>{var x;return s||(o?P(te,{children:[f(De,{icon:"file",sx:{width:"30px"}})," ",o," ","File(s)"]}):P(te,{children:[f(De,{icon:"file",sx:{width:"30px"}})," ",f(St,{href:`${Zr.PORTAL}#!Synapse:${t}`,children:(x=E[0])==null?void 0:x.name})]}))},[t,E,o,s]),L=P(te,{children:[f(Oa,{children:P(Nr,{direction:"row",alignItems:"center",gap:"5px",children:[l,f(Le,{sx:{flexGrow:1}}),f(an,{onClick:r,children:f(De,{icon:"close",wrap:!1,sx:{color:"grey.700"}})})]})}),P(ka,{children:[f(du,{sx:{mt:0},children:"What is this request for?"}),f(le,{variant:"body1",component:"span",children:B}),f(du,{children:"What do I need to do?"}),f(HR,{}),q&&f(zR,{}),$&&f(jR,{}),M&&f(WR,{}),(D=k==null?void 0:k.map(x=>I.find(A=>x===String(A.id))))==null?void 0:D.map(x=>f(im,{accessRequirement:x,entityId:t,onHide:r,onRequestAccess:A=>{O({managedACTAccessRequirement:A,step:u?1:4})}},x.id))]})]}),F=[2,1].includes(d)&&b?"xl":"md";let z=L;if(i){switch(d){case 1:z=f(Xp,{managedACTAccessRequirement:m,onSave:x=>{O({managedACTAccessRequirement:m,step:2,researchProjectId:x.id})},onHide:r});break;case 2:z=f(em,{researchProjectId:g,managedACTAccessRequirement:m,entityId:t,onHide:r,onCancel:x=>{O({step:3,dataAccessRequest:x})},onSubmissionCreated:()=>{O({step:5})}});break;case 3:z=f(Qp,{modifiedDataAccessRequest:v,onHide:r});break;case 4:z=P(te,{children:[f(Oa,{children:"Please Log In"}),f(ka,{className:"AccessRequirementList login-modal ",children:f(MR,{sessionCallback:()=>{window.location.reload()}})})]});break;case 5:z=f(tm,{onHide:r});break;case 0:z=L;break;default:z=L}return f(hS,{maxWidth:F,fullWidth:!0,open:!0,onClose:r,children:z})}return f(Le,{children:z})}try{Mo.displayName="AccessRequirementList",Mo.__docgenInfo={description:`The AccessRequirementListV2 component renders a set of {@link AccessRequirement}s (either pre-defined, or those applied
to an entity, based on provided props).

The component shows the user the approval status of each AR and provides a workflow for accepting the terms of or
creating a submission for any of the Access Requirements.`,displayName:"AccessRequirementList",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},teamId:{defaultValue:null,description:"",name:"teamId",required:!1,type:{name:"string"}},accessRequirementFromProps:{defaultValue:null,description:"",name:"accessRequirementFromProps",required:!1,type:{name:"AccessRequirement[]"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}},renderAsModal:{defaultValue:null,description:"",name:"renderAsModal",required:!1,type:{name:"boolean"}},numberOfFilesAffected:{defaultValue:null,description:"",name:"numberOfFilesAffected",required:!1,type:{name:"number"}},requestObjectName:{defaultValue:null,description:"",name:"requestObjectName",required:!1,type:{name:"string"}},dialogTitle:{defaultValue:null,description:"",name:"dialogTitle",required:!1,type:{name:"string"}}}}}catch{}try{om.displayName="checkHasUnsupportedRequirement",om.__docgenInfo={description:"",displayName:"checkHasUnsupportedRequirement",props:{}}}catch{}const sW="Requires Acceptance of Data-Specific Terms of Use",lW="Requires Acceptance of Data-Specific Terms of Use",uW="Requires Approval of Data-Specific Access Requirements",cW="Access Restricted",sm=({accessRequirementId:e,count:t})=>{const{data:n,isLoading:r}=vS(e,{useErrorBoundary:!0}),[a,i]=R.useState(!1);let o,s="",l="";if(!r&&n)switch(n.concreteType){case"org.sagebionetworks.repo.model.TermsOfUseAccessRequirement":o=sW,s=Lf,l=n.name??"";break;case"org.sagebionetworks.repo.model.SelfSignAccessRequirement":{o=lW;const c=n;c.isValidatedProfileRequired?s=Cc:c.isCertifiedUserRequired?s=gI:s=Lf,l=n.name??"";break}case"org.sagebionetworks.repo.model.ManagedACTAccessRequirement":case"org.sagebionetworks.repo.model.ACTAccessRequirement":o=uW,s=Cc,l=n.name??"";break;case"org.sagebionetworks.repo.model.LockAccessRequirement":o=cW,s=Cc,l="Access restricted pending review by Synapse Access and Compliance Team.";break}return P(te,{children:[f(_S,{isLoading:r,title:o,description:l,iconType:s,count:t,actionNode:f(ts,{variant:"contained",onClick:()=>i(!0),children:"Start"})}),a&&n&&f(Mo,{entityId:n.subjectIds[0].id,accessRequirementFromProps:[n],renderAsModal:!0,numberOfFilesAffected:t,onHide:()=>i(!1)})]})};try{sm.displayName="MeetAccessRequirementCard",sm.__docgenInfo={description:"",displayName:"MeetAccessRequirementCard",props:{accessRequirementId:{defaultValue:null,description:"",name:"accessRequirementId",required:!0,type:{name:"number"}},count:{defaultValue:null,description:"",name:"count",required:!1,type:{name:"number"}}}}}catch{}const dW="Requires Two-Factor Authentication";function lm(e){const{accessRequirementId:t,count:n}=e,{data:r,isLoading:a}=vS(t,{useErrorBoundary:!0}),[i,o]=R.useState(!1);return P(te,{children:[f(_S,{isLoading:a,title:dW,iconType:Lf,description:(r==null?void 0:r.name)??"",count:n,actionNode:f(ts,{variant:"contained",onClick:()=>o(!0),children:"Start"})}),i&&r&&f(Mo,{entityId:r.subjectIds[0].id,accessRequirementFromProps:[r],renderAsModal:!0,numberOfFilesAffected:n,onHide:()=>o(!1)})]})}try{lm.displayName="EnableTwoFaRequirementCard",lm.__docgenInfo={description:"",displayName:"EnableTwoFaRequirementCard",props:{accessRequirementId:{defaultValue:null,description:"",name:"accessRequirementId",required:!0,type:{name:"number"}},count:{defaultValue:null,description:"",name:"count",required:!1,type:{name:"number"}}}}}catch{}function fu(e){const{action:t,count:n,onViewSharingSettingsClicked:r}=e;switch(t.concreteType){case"org.sagebionetworks.repo.model.download.MeetAccessRequirement":return f(sm,{accessRequirementId:t.accessRequirementId,count:n},t.accessRequirementId);case"org.sagebionetworks.repo.model.download.RequestDownload":return f(GR,{entityId:`syn${t.benefactorId}`,count:n,onViewSharingSettingsClicked:r},t.benefactorId);case"org.sagebionetworks.repo.model.download.EnableTwoFa":return f(lm,{accessRequirementId:t.accessRequirementId,count:n},t.accessRequirementId);default:return f(te,{})}}try{fu.displayName="ActionRequiredListItem",fu.__docgenInfo={description:"",displayName:"ActionRequiredListItem",props:{action:{defaultValue:null,description:"",name:"action",required:!0,type:{name:"Action"}},count:{defaultValue:null,description:"",name:"count",required:!1,type:{name:"number"}},onViewSharingSettingsClicked:{defaultValue:null,description:'Invoked when a user clicks "View Sharing Settings" for a set of files that require the Download permission',name:"onViewSharingSettingsClicked",required:!1,type:{name:"((benefactorId: string) => void)"}}}}}catch{}const um=e=>{const{entityId:t,onViewSharingSettingsClicked:n}=e,{data:r}=P$(t),a=r==null?void 0:r.actions;return f(te,{children:a&&a.length>0&&f("div",{className:"EntityActionsRequired",children:a.map((i,o)=>i?f(fu,{action:i,onViewSharingSettingsClicked:n},o):!1)})})};try{um.displayName="EntityActionsRequired",um.__docgenInfo={description:"",displayName:"EntityActionsRequired",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},onViewSharingSettingsClicked:{defaultValue:null,description:"",name:"onViewSharingSettingsClicked",required:!1,type:{name:"((benefactorId: string) => void)"}}}}}catch{}const cm=()=>{const{error:e,getCurrentQueryRequest:t,onViewSharingSettingsClicked:n}=Ct(),{entityId:r}=t(),{accessToken:a}=Ze();return(e==null?void 0:e.status)==403&&a?f(um,{entityId:r,onViewSharingSettingsClicked:n}):f(Dh,{error:e})};try{cm.displayName="QueryWrapperErrorBanner",cm.__docgenInfo={description:"Error banner that automatically pulls the error from QueryContext.  If 403, shows entity actions required",displayName:"QueryWrapperErrorBanner",props:{}}}catch{}class fW extends J.Component{constructor(n){super(n);ht(this,"searchFormRef");ht(this,"radioFormRef");ht(this,"handleClickOutsideForm",n=>{var r,a;!((r=this.searchFormRef.current)!=null&&r.contains(n==null?void 0:n.target))&&!((a=this.radioFormRef.current)!=null&&a.contains(n==null?void 0:n.target))&&(this.state.didUpdateRanLast?this.setState({didUpdateRanLast:!1}):this.setState({show:!1}))});ht(this,"search",n=>{var p,m,h,g;n.preventDefault();const{searchText:r}=this.state;let{columnName:a}=this.state;const{searchable:i,lockedColumn:o}=this.props;if(a==="")if(i)a=i.filter(y=>y!==(o==null?void 0:o.columnName))[0];else{const y=(m=(p=this.props.data)==null?void 0:p.columnModels)==null?void 0:m.filter(v=>v.name!==(o==null?void 0:o.columnName)).filter(v=>this.isSupportedColumn(v));a=(y==null?void 0:y[0].name)??""}this.setState({show:!1});const{executeQueryRequest:s,getCurrentQueryRequest:l}=this.props.queryContext,c=l(),{additionalFilters:u=[]}=c.query,d=u.findIndex(y=>!!(Cl(y)||El(y)&&y.columnName===a));if(d===-1){const y=(g=(h=this.props.data)==null?void 0:h.columnModels)==null?void 0:g.filter(v=>v.name===a)[0];if(y!=null&&y.columnType.endsWith("_LIST")){const v={columnName:a,function:YT.HAS_LIKE,values:[`%${r}%`],concreteType:"org.sagebionetworks.repo.model.table.ColumnMultiValueFunctionQueryFilter"};u.push(v)}else{const v={columnName:a,operator:Dw.LIKE,values:[`%${r}%`],concreteType:"org.sagebionetworks.repo.model.table.ColumnSingleValueQueryFilter"};u.push(v)}}else u[d].values.push(`%${r}%`);c.query.additionalFilters=u,s(c)});ht(this,"handleChange",n=>{this.setState({searchText:n.currentTarget.value})});ht(this,"isSupportedColumn",n=>{switch(n==null?void 0:n.columnType){case pe.FILEHANDLEID:case pe.ENTITYID:case pe.DATE:case pe.DATE_LIST:case pe.USERID:return!1;default:return!0}});ht(this,"isSupportedColumnAndInProps",n=>{if(this.isSupportedColumn(n)){const{searchable:r}=this.props;return r==null?void 0:r.some(a=>a===(n==null?void 0:n.name))}return!1});this.state={show:!1,didUpdateRanLast:!1,searchText:"",columnName:this.props.defaultColumn??""},this.searchFormRef=J.createRef(),this.radioFormRef=J.createRef()}componentDidMount(){document.addEventListener("click",this.handleClickOutsideForm)}componentDidUpdate(n){var r,a,i,o,s;!((r=n.queryVisualizationContext)!=null&&r.showSearchBar)&&((a=this.props.queryVisualizationContext)!=null&&a.showSearchBar)&&(this.setState({show:!0,didUpdateRanLast:!0}),(s=(o=(i=this.searchFormRef)==null?void 0:i.current)==null?void 0:o.querySelector("input"))==null||s.focus())}componentWillUnmount(){document.removeEventListener("click",this.handleClickOutsideForm)}render(){var d;const{searchable:n,lockedColumn:r,data:a,queryVisualizationContext:{showSearchBar:i,getColumnDisplayName:o}}=this.props,{searchText:s,show:l,columnName:c}=this.state;let u=[];return n?u=n.map(p=>{var m;return(m=a==null?void 0:a.columnModels)==null?void 0:m.find(h=>h.name===p)}).filter(this.isSupportedColumnAndInProps).map(p=>p.name):a!=null&&a.columnModels&&(u=(d=a.columnModels)==null?void 0:d.filter(this.isSupportedColumn).map(p=>p.name)),u.length&&(r!=null&&r.columnName)&&(u=u.filter(p=>p!==(r==null?void 0:r.columnName))),P("div",{className:"QueryWrapperSearchInput",children:[f(ia,{in:i,children:P("form",{className:"QueryWrapperSearchInput__searchbar",onSubmit:this.search,onClick:()=>{this.setState({show:!0})},ref:this.searchFormRef,children:[f("span",{className:"QueryWrapperSearchInput__searchbar__searchicon",children:f(De,{icon:"search"})}),f("input",{onChange:this.handleChange,onClick:()=>{this.setState({show:!0})},placeholder:"Enter Search Terms",value:s,type:"text"}),this.state.searchText.length>0&&f("button",{className:"QueryWrapperSearchInput__searchbar__clearbutton",type:"button",onClick:()=>{this.setState({searchText:""})},children:f(De,{icon:"close"})})]})}),f("div",{className:"QueryWrapperSearchInput__dropdown_pos",children:f(hR,{in:l,classNames:"QueryWrapperSearchInput__animate_dropdown",timeout:{enter:0,exit:300},children:P("form",{ref:this.radioFormRef,className:"QueryWrapperSearchInput__column-select QueryWrapperSearchInput__animate_height",children:[f("p",{className:"deemphasized",children:f("i",{children:" Search In Field: "})}),u.map((p,m)=>{const h=o(p);return f("div",{className:"radio",children:f("label",{children:P("span",{children:[f("input",{id:p,type:"radio",value:p,checked:c===""&&m===0||c===p,onClick:()=>{var y,v,w;(w=(v=(y=this.searchFormRef)==null?void 0:y.current)==null?void 0:v.querySelector("input"))==null||w.focus(),this.setState({columnName:p})}}),f("span",{children:h})]})})},`search-field-${p}-${m}`)})]})})})]})}}function eT(e){const t=Ce(ut);return f(fW,{...e,data:t})}try{SearchV2.displayName="SearchV2",SearchV2.__docgenInfo={description:"",displayName:"SearchV2",props:{queryContext:{defaultValue:null,description:"",name:"queryContext",required:!0,type:{name:"QueryContextType"}},queryVisualizationContext:{defaultValue:null,description:"",name:"queryVisualizationContext",required:!0,type:{name:"QueryVisualizationContextType"}},isQueryWrapperMenuChild:{defaultValue:null,description:"",name:"isQueryWrapperMenuChild",required:!1,type:{name:"boolean"}},defaultColumn:{defaultValue:null,description:"",name:"defaultColumn",required:!1,type:{name:"string"}},searchable:{defaultValue:null,description:"",name:"searchable",required:!1,type:{name:"SearchableColumnsV2"}},lockedColumn:{defaultValue:null,description:"",name:"lockedColumn",required:!1,type:{name:"LockedColumn"}},fullTextSearchHelpURL:{defaultValue:null,description:"",name:"fullTextSearchHelpURL",required:!1,type:{name:"string"}}}}}catch{}const pW="The data within tables and views can be retrieved by using a SQL-like query language either from the web interface or from the programmatic clients.",mW="https://help.synapse.org/docs/Querying-Tables,-Views,-and-Datasets.2667642897.html#QueryingTables,Views,andDatasets-UsingAdvancedSearchQueries",pu=({helpMessage:e=pW,helpUrl:t=mW})=>{const{executeQueryRequest:n,getCurrentQueryRequest:r}=Ct(),{showSqlEditor:a}=Rt(),[i,o]=R.useState(""),s=R.useRef(null);return R.useEffect(()=>{var u;if(a){const d=r().query.sql;o(d),(u=s.current)==null||u.focus()}},[a,r]),f("div",{className:"QueryWrapperSqlEditorInput",children:f(ia,{in:a,timeout:{enter:300,exit:300},children:f("form",{onSubmit:u=>{u.preventDefault(),n(d=>(d.query.sql=i,d.query.offset=0,d.query.additionalFilters=[],d.query.selectedFacets=[],d))},children:f(rg,{inputProps:{ref:s},sx:{width:"100%"},InputProps:{startAdornment:f(De,{icon:"search",wrap:!1,sx:{mr:1,color:"grey.600"}}),endAdornment:f(Ma,{markdownText:e,helpUrl:t,placement:"right"})},onChange:u=>{var d;(d=s.current)==null||d.setCustomValidity(""),o(u.currentTarget.value)},placeholder:"Enter Query",value:i,type:"text"})})})})};try{pu.displayName="SqlEditor",pu.__docgenInfo={description:"",displayName:"SqlEditor",props:{helpMessage:{defaultValue:{value:"The data within tables and views can be retrieved by using a SQL-like query language either from the web interface or from the programmatic clients."},description:"",name:"helpMessage",required:!1,type:{name:"string"}},helpUrl:{defaultValue:{value:"https://help.synapse.org/docs/Querying-Tables,-Views,-and-Datasets.2667642897.html#QueryingTables,Views,andDatasets-UsingAdvancedSearchQueries"},description:"",name:"helpUrl",required:!1,type:{name:"string"}}}}}catch{}const hW="Sign in",gW=P(te,{children:[f(le,{variant:"smallText1",marginBottom:"10px",children:"Anyone can browse public content on the Synapse website, but in order to download and create content you will need to register for an account using an email address."}),P(le,{variant:"smallText1",children:["To find out more see ",f(St,{href:"https://help.synapse.org/docs/Managing-your-account.2055405596.html",target:"_blank",rel:"noopener noreferrer",children:"User Accounts"}),f("span",{children:" and "}),f(St,{href:"https://help.synapse.org/docs/Synapse-Governance.2004255211.html",rel:"noopener noreferrer",target:"_blank",children:"Governance Overview"}),"."]})]}),dm=e=>f(Ba,{open:!0,title:"Sign In Required",content:gW,onCancel:()=>e.onHide(),onConfirm:()=>e.onHide(),confirmButtonText:hW,confirmButtonClassName:qh});try{dm.displayName="DownloadLoginModal",dm.__docgenInfo={description:"",displayName:"DownloadLoginModal",props:{showModal:{defaultValue:null,description:"",name:"showModal",required:!1,type:{name:"boolean"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}}}}}catch{}const fm=({show:e,title:t,onClose:n,pythonNotes:r,pythonCode:a,rNotes:i,rCode:o,cliNotes:s,cliCode:l,helpMarkdown:c,helpUrl:u})=>{let d;l?d="Command Line":a?d="Python":d="R";const[p,m]=R.useState(d),h=P(le,{variant:"body1",children:["Installation instructions are available at our"," ",f(St,{href:"https://help.synapse.org/docs/Installing-Synapse-API-Clients.1985249668.html",target:"_blank",rel:"noopener noreferrer",children:"Synapse API Documentation Site"}),"."]});return f(Ba,{open:e,title:t,onCancel:n,onConfirm:n,maxWidth:"md",titleHelpPopoverProps:c?{markdownText:c,helpUrl:u}:void 0,content:P(te,{children:[f(Le,{sx:{borderBottom:1,borderColor:"divider",marginBottom:4},children:P(KR,{value:p,onChange:(v,w)=>{v.stopPropagation(),m(w)},textColor:"secondary",indicatorColor:"secondary",children:[l&&f(Tc,{value:"Command Line",label:"Command Line"}),o&&f(Tc,{value:"R",label:"R"}),a&&f(Tc,{value:"Python",label:"Python"})]})}),P(Le,{sx:{"& > p":{marginBottom:3}},children:[p==="Command Line"&&P(te,{children:[f(le,{variant:"body1",children:s}),h,P("pre",{children:[" ",l," "]})]}),p==="R"&&P(te,{children:[f(le,{variant:"body1",children:i}),h,f("pre",{children:o})]}),p==="Python"&&P(te,{children:[f(le,{variant:"body1",children:r}),h,f("pre",{children:a})]})]})]})})};try{fm.displayName="ProgrammaticInstructionsModal",fm.__docgenInfo={description:"Modal used to show programmatic instructions",displayName:"ProgrammaticInstructionsModal",props:{show:{defaultValue:null,description:"",name:"show",required:!0,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},pythonNotes:{defaultValue:null,description:"",name:"pythonNotes",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},pythonCode:{defaultValue:null,description:"",name:"pythonCode",required:!1,type:{name:"string"}},rNotes:{defaultValue:null,description:"",name:"rNotes",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},rCode:{defaultValue:null,description:"",name:"rCode",required:!1,type:{name:"string"}},cliNotes:{defaultValue:null,description:"",name:"cliNotes",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},cliCode:{defaultValue:null,description:"",name:"cliCode",required:!1,type:{name:"string"}},helpMarkdown:{defaultValue:null,description:"",name:"helpMarkdown",required:!1,type:{name:"string"}},helpUrl:{defaultValue:null,description:"",name:"helpUrl",required:!1,type:{name:"string"}}}}}catch{}function pm({queryBundleRequest:e,onHide:t}){var d;const[n,r]=R.useState("..."),{data:a,isLoading:i,isPreviousData:o}=Uu({...e,partMask:yI},{keepPreviousData:!0,useErrorBoundary:!0}),s=(d=a==null?void 0:a.responseBody)==null?void 0:d.combinedSql,l=i||o;R.useEffect(()=>{if(s&&!l){const p=s.toUpperCase().indexOf("FROM SYN"),m=`SELECT * ${s.substring(p)}`;r(m)}},[s,l]);const c=R.useMemo(()=>n.replace(/(["`])/g,"\\$1"),[n]),u=R.useMemo(()=>n.replace(/"/g,'\\"'),[n]);return f(fm,{show:!0,onClose:t,title:"Download Programmatically",cliNotes:f(te,{children:"This command line code will download Synapse files AND file annotations to your working directory."}),cliCode:`synapse get -q "${c}"`,rNotes:P(te,{children:["This R code will download file annotations only. Use"," ",P(St,{target:"_blank",rel:"noopener noreferrer",href:"https://help.synapse.org/docs/Get-Started-with-Downloading-Data.2004254837.html#GetStartedwithDownloadingData-DownloadingFiles",children:["synGet","()"]})," ","to loop over the list of Synapse IDs from the file annotations to download files."]}),rCode:`query <- synTableQuery("${u}")
read.table(query$filepath, sep = ",")`,pythonNotes:P(te,{children:["This Python code will download file annotations only. Use"," ",f(St,{target:"_blank",rel:"noopener noreferrer",href:"https://help.synapse.org/docs/Get-Started-with-Downloading-Data.2004254837.html#GetStartedwithDownloadingData-DownloadingFiles",children:"syn.get"})," ","to loop over the list of Synapse IDs from the file annotations to download files."]}),pythonCode:`query = syn.tableQuery("${u}")
query.asDataFrame()`})}try{pm.displayName="ProgrammaticTableDownload",pm.__docgenInfo={description:"",displayName:"ProgrammaticTableDownload",props:{queryBundleRequest:{defaultValue:null,description:"",name:"queryBundleRequest",required:!0,type:{name:"QueryBundleRequest"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}}}}}catch{}const wf="to Download Cart";function Uy(e,t,n){return e?t.length:n==null?void 0:n.queryCount}function tT(e,t,n,r,a){if(!e&&!t)return`all ${Zn(a)}`;const i=Uy(t,n,r);return i!=null?`${i.toLocaleString()} ${Zn(a,i)}`:Zn(a)}function yW(e,t,n,r,a){if(!e&&!t)return`Add All ${iv(Zn(a))} ${wf}`;const i=Uy(t,n,r);return i!=null?`Add ${i.toLocaleString()} Selected ${iv(Zn(a,i))} ${wf}`:`Add ${wf}`}function vc(e){return e&&(Au(e)&&Vw(e)||Xo(e))}const bc=e=>{if(!e)return;const t=e==null?void 0:e.filter(r=>r.columnType===pe.ENTITYID);if((t==null?void 0:t.length)===1)return t[0].id;const n=t==null?void 0:t.filter(r=>r.name==="id");if(n.length===1)return n[0].id};function vW(e){switch(e){case pe.STRING:case pe.DOUBLE:case pe.BOOLEAN:case pe.INTEGER:case pe.DATE:case pe.LINK:case pe.MEDIUMTEXT:case pe.LARGETEXT:return!0;case pe.USERID:case pe.ENTITYID:case pe.FILEHANDLEID:case pe.STRING_LIST:case pe.INTEGER_LIST:case pe.BOOLEAN_LIST:case pe.DATE_LIST:case pe.USERID_LIST:case pe.ENTITYID_LIST:case pe.EVALUATIONID:case pe.JSON:return!1;default:return console.warn(`Unhandled column type: ${e}`),!1}}function bW(e,t){if(vc(e)&&(t!=null&&t.find(n=>n.name==="id")))return["id"]}function mm(e){return!!(e&&(Au(e)||Xo(e)))}function _W(e,t,n){let r=Ht;return n&&t?r=(a,i)=>{const o=n.map(l=>a.values[t.findIndex(c=>c.name===l)]),s=n.map(l=>i.values[t.findIndex(c=>c.name===l)]);return Ht(o,s)}:e.rowId&&(r=(a,i)=>a.rowId===i.rowId),r}const Hy=Tr(!1),_c=Tr(void 0),Ir=Tr([]),wW=Tr(e=>t=>{var r;const n=_W(t,((r=e(ut))==null?void 0:r.columnModels)??[],e(_c));return e(Ir).some(a=>n(a,t))}),ws=Tr(e=>e(Ir).length>0),hm=e=>{const{accessToken:t}=Ze(),{getCurrentQueryRequest:n,hasResettableFilters:r}=Ct(),a=Ce(ut),i=Ce(Bn),o=Ce(Ir),s=Ce(ws),l=n(),[c,u]=J.useState(!1),[d,p]=J.useState(!1),[m,h]=J.useState(!1),{onDownloadFiles:g,darkTheme:y=!0}=e,v=bc(a==null?void 0:a.columnModels),_=!(i&&Au(i)&&!Vw(i))&&(v||pS(i)),b=i&&Xo(i)&&i.isLatestVersion;return P(J.Fragment,{children:[P(zt,{as:"span",children:[f(Ca,{tooltipText:"Download Options",size:"lg",darkTheme:y,icon:"download"}),P(zt.Menu,{className:"SRC-primary-color-hover-dropdown",alignRight:!0,children:[_&&f(At,{title:b?"A draft version of a dataset cannot be added to the Download Cart":null,placement:"left",enterNextDelay:300,describeChild:!0,children:f(zt.Item,{role:"button",className:b?"ignoreLink":void 0,disabled:b,style:b?{pointerEvents:"auto"}:{},onClick:()=>t?g():u(!0),children:yW(r,s,o,a,"file")})}),f(zt.Item,{onClick:()=>{p(!0)},children:"Export Table"}),f(At,{title:b?"A draft version of a dataset cannot be downloaded programmatically":null,placement:"left",enterNextDelay:300,describeChild:!0,children:f(zt.Item,{className:b?"ignoreLink":void 0,disabled:b,style:b?{pointerEvents:"auto"}:{},onClick:()=>h(!0),children:"Programmatic Options"})})]})]}),c&&f(dm,{showModal:c,onHide:()=>u(!1)}),d&&f(Ti,{onClose:()=>p(!1),queryBundleRequest:l}),m&&a&&f(pm,{onHide:()=>h(!1),queryBundleRequest:l})]})};try{hm.displayName="DownloadOptions",hm.__docgenInfo={description:"",displayName:"DownloadOptions",props:{onDownloadFiles:{defaultValue:null,description:"",name:"onDownloadFiles",required:!0,type:{name:"() => void"}},darkTheme:{defaultValue:null,description:"",name:"darkTheme",required:!1,type:{name:"boolean"}}}}}catch{}const SW="addAndRemoveColumns",gm=e=>{const{headers:t,isColumnSelected:n,toggleColumnSelection:r,darkTheme:a}=e,{getColumnDisplayName:i}=Rt(),[o,s]=R.useState(!1),l=(c,u,d)=>{d.source==="rootClose"?s(!1):s(!0)};return P(zt,{as:"span",onToggle:(c,u,d)=>l(c,u,d),show:o,drop:"down",children:[f(Ca,{tooltipText:"Show/Hide Columns",icon:a?"columnsdark":"columns",darkTheme:a}),f(zt.Menu,{id:`${SW}-dropdown`,className:"SRC-primary-color-hover-dropdown",alignRight:!0,children:t==null?void 0:t.map(c=>{const{name:u}=c,d=n.includes(u),p={width:"11px",marginRight:"10px",visibility:d?void 0:"hidden"},m=d?"SRC-primary-text-color":"";return P(zt.Item,{onClick:()=>r(u),children:[f("span",{className:m,style:p,children:f(De,{icon:"check",sx:{width:"14px"}})}),i(u)]},u)})})]})};try{gm.displayName="ColumnSelection",gm.__docgenInfo={description:"",displayName:"ColumnSelection",props:{headers:{defaultValue:null,description:"",name:"headers",required:!1,type:{name:"SelectColumn[]"}},isColumnSelected:{defaultValue:null,description:"",name:"isColumnSelected",required:!0,type:{name:"string[]"}},show:{defaultValue:null,description:"",name:"show",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"(() => void)"}},toggleColumnSelection:{defaultValue:null,description:"",name:"toggleColumnSelection",required:!0,type:{name:"(name: string) => void"}},darkTheme:{defaultValue:null,description:"",name:"darkTheme",required:!1,type:{name:"boolean"}}}}}catch{}const CW="Files may be unavailable because you do not have permission to see them, they have been deleted, or the Dataset has been misconfigured.",EW="Files may be unavailable because you do not have permission to see them or the Dataset was misconfigured.",ym=({entity:e})=>{var a;const t=e&&Xo(e),n={concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",query:{sql:`SELECT * FROM ${e.id}${!e.isLatestVersion&&e.versionNumber?`.${e.versionNumber}`:""}`},entityId:e.id,partMask:es},{data:r}=TR(n,{enabled:t});if(t&&r&&e){const i=r.queryCount,o=((a=e.items)==null?void 0:a.length)??0;if(i===o)return f(te,{});const s=o-i;let l="";return e.isLatestVersion?l=CW:l=EW,P(le,{className:"SRC-centerContent",style:{marginLeft:10},variant:"smallText1",color:"textSecondary",children:[f(x$,{className:"SRC-color-warning",style:{fontSize:"16px"}}),s.toLocaleString()+" Unavailable",f(Ma,{className:"SRC-margin-left-5",markdownText:l,placement:"right"})]})}else return f(te,{})};try{ym.displayName="MissingQueryResultsWarning",ym.__docgenInfo={description:`If possible, this component will render a warning message if results may be missing from the query due to user permissions or
entities being deleted. If not possible, it will render an empty fragment.`,displayName:"MissingQueryResultsWarning",props:{entity:{defaultValue:null,description:"",name:"entity",required:!0,type:{name:"Table"}},versionNumber:{defaultValue:null,description:"",name:"versionNumber",required:!1,type:{name:"number"}}}}}catch{}const mu=e=>P(QR,{...e,height:20,viewBox:"0 0 828 828",children:[f("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M431.861 124.107C429.221 125.451 426.3 126.325 423.211 126.618L415.557 269.363C425.193 272.363 432.244 281.226 432.538 291.777L546.545 306.978C547.637 304.478 549.14 302.198 550.968 300.223L431.861 124.107ZM440.166 117.167L559.852 294.141C562.599 293.058 565.591 292.463 568.722 292.463C570.453 292.463 572.141 292.645 573.769 292.99L610.725 206.16C604.806 201.75 600.973 194.698 600.973 186.75C600.973 185.26 601.107 183.801 601.365 182.386L441.299 115.545C440.943 116.102 440.565 116.643 440.166 117.167ZM592.91 316.651C592.91 308.875 589.241 301.955 583.538 297.53L620.577 210.504C622.062 210.789 623.594 210.938 625.161 210.938C626.63 210.938 628.069 210.807 629.466 210.556L731.473 433.838C730.391 434.8 729.396 435.857 728.5 436.997L590.583 327.017C592.076 323.875 592.91 320.361 592.91 316.651ZM583.917 335.473C581.689 337.273 579.135 338.687 576.358 339.61L583.089 517.099C590.244 517.108 596.671 520.225 601.094 525.171L724.074 457.849C723.597 455.954 723.344 453.97 723.344 451.927C723.344 450.256 723.513 448.625 723.836 447.049L583.917 335.473ZM728.974 467.442L606.306 534.593C606.917 536.719 607.244 538.965 607.244 541.287C607.244 548.415 604.161 554.822 599.256 559.249L641.245 621.527C643.538 620.712 645.991 620.232 648.544 620.149L730.593 469.194C730.025 468.637 729.485 468.052 728.974 467.442ZM583.056 565.476C585.404 565.476 587.675 565.141 589.822 564.517L632.158 627.31C631.966 627.503 631.778 627.699 631.594 627.899L410.195 538.521L559.218 545.414C561.176 556.807 571.104 565.476 583.056 565.476ZM398.804 545.534C396.287 548.348 393.122 550.569 389.543 551.963L409.137 701.286C417.873 701.562 425.441 706.471 429.464 713.637L625.468 648.181C625.267 646.925 625.162 645.637 625.162 644.324C625.162 641.892 625.521 639.543 626.189 637.329L398.804 545.534ZM562.043 339.906C563.203 340.239 564.398 340.487 565.622 340.643L572.407 519.563C566.319 522.552 561.672 528.026 559.786 534.662L404.882 527.497C404.474 522.293 402.419 517.552 399.238 513.794L562.043 339.906ZM410.775 316.532C419.563 315.66 426.967 310.086 430.436 302.36L544.551 317.575C544.802 324.26 547.766 330.252 552.374 334.479L390.572 507.295C390.475 507.252 390.377 507.209 390.279 507.167C390.238 507.15 390.198 507.133 390.158 507.116L390.076 507.082C390.033 507.064 389.99 507.046 389.947 507.028L389.865 506.995L389.777 506.959L410.775 316.532ZM379.129 505.281L400.089 315.201C392.761 312.535 387.086 306.428 385.018 298.835L257.588 294.164C256.151 297.414 254.02 300.287 251.382 302.596L371.2 507.193C373.659 506.132 376.329 505.468 379.129 505.281ZM259.627 283.465L384.573 288.044C386.438 277.936 394.588 270.031 404.819 268.531L412.502 125.228C410.883 124.629 409.345 123.86 407.91 122.945L256.526 272.5C258.369 275.76 259.478 279.489 259.627 283.465ZM362.471 513.594L241.899 307.711C240.201 308.179 238.428 308.466 236.602 308.551L212.287 436.373C220.668 440.173 226.498 448.613 226.498 458.415C226.498 459.246 226.456 460.068 226.374 460.879L359.809 517.332C360.578 516.001 361.471 514.75 362.471 513.594ZM398.548 703.346L378.889 553.531C372.829 553.065 367.395 550.367 363.407 546.257L210.476 626.279C210.993 628.246 211.268 630.31 211.268 632.439C211.268 633.973 211.125 635.474 210.852 636.929L387.408 713.365C389.959 708.957 393.861 705.428 398.548 703.346ZM205.482 616.74L357.805 537.036C357.01 534.64 356.58 532.077 356.58 529.415C356.58 528.832 356.601 528.255 356.641 527.683L222.907 471.103C219.186 477.13 212.894 481.402 205.56 482.387L197.048 610.394C200.309 611.871 203.185 614.051 205.482 616.74ZM178.121 458.415C178.121 469.164 185.133 478.276 194.832 481.425L186.398 608.26C184.797 608.304 183.234 608.504 181.725 608.845L94.2764 412.358C95.9686 411.18 97.5031 409.79 98.8419 408.229L179.06 451.717C178.449 453.844 178.121 456.091 178.121 458.415ZM184.274 442.296C188.584 437.476 194.798 434.395 201.734 434.233L226.002 306.661C217.341 302.979 211.268 294.394 211.268 284.389C211.268 275.81 215.734 268.274 222.469 263.98L194.346 201.663C193.431 201.768 192.501 201.822 191.558 201.822C189.935 201.822 188.349 201.662 186.816 201.357L94.3034 372.649C100.563 377.021 104.658 384.279 104.658 392.494C104.658 394.639 104.379 396.719 103.855 398.699L184.274 442.296ZM235.456 260.201C234.505 260.201 233.567 260.256 232.644 260.363L204.526 198.055C211.271 193.763 215.746 186.221 215.746 177.633C215.746 177.057 215.726 176.486 215.687 175.92L399.494 113.808C399.759 114.312 400.042 114.805 400.341 115.286L249.271 264.532C245.355 261.802 240.592 260.201 235.456 260.201ZM172.016 613.512C166.455 617.944 162.891 624.775 162.891 632.439C162.891 645.798 173.72 656.628 187.079 656.628C195.062 656.628 202.141 652.761 206.547 646.798L384.232 723.723C384.191 724.297 384.17 724.877 384.17 725.462C384.17 738.821 395 749.651 408.359 749.651C421.718 749.651 432.547 738.821 432.547 725.462C432.547 724.963 432.532 724.466 432.502 723.974L629.521 658.179C633.894 664.427 641.145 668.513 649.351 668.513C662.71 668.513 673.539 657.683 673.539 644.324C673.539 634.62 667.825 626.25 659.577 622.397L739.776 474.845C742.211 475.669 744.82 476.115 747.533 476.115C760.891 476.115 771.721 465.286 771.721 451.927C771.721 438.568 760.891 427.738 747.533 427.738C745.247 427.738 743.036 428.055 740.94 428.648L639.371 206.326C645.418 201.929 649.35 194.799 649.35 186.75C649.35 173.391 638.52 162.561 625.161 162.561C617.133 162.561 610.018 166.472 605.618 172.493L444.924 105.391C445.034 104.455 445.09 103.503 445.09 102.538C445.09 89.179 434.26 78.3494 420.901 78.3494C407.543 78.3494 396.713 89.179 396.713 102.538C396.713 102.819 396.718 103.099 396.727 103.378L212.553 165.614C208.382 158.343 200.542 153.445 191.558 153.445C178.199 153.445 167.369 164.274 167.369 177.633C167.369 185.513 171.137 192.513 176.97 196.93L84.2531 368.6C83.0204 368.406 81.7569 368.306 80.4698 368.306C67.1108 368.306 56.2812 379.135 56.2812 392.494C56.2812 405.853 67.1108 416.683 80.4698 416.683C81.7672 416.683 83.0407 416.581 84.2827 416.384L172.016 613.512Z",fill:"url(#paint0_linear_271_30503)"}),f("defs",{children:P("linearGradient",{id:"paint0_linear_271_30503",x1:"163.941",y1:"159.14",x2:"682.43",y2:"676.053",gradientUnits:"userSpaceOnUse",children:[f("stop",{stopColor:"#9E5AA4"}),f("stop",{offset:"0.526649",stopColor:"#7387C2"}),f("stop",{offset:"1",stopColor:"#11AADE"})]})})]});try{mu.displayName="Cavatica",mu.__docgenInfo={description:"",displayName:"Cavatica",props:{children:{defaultValue:null,description:"Node passed into the SVG element.",name:"children",required:!1,type:{name:"ReactNode"}},classes:{defaultValue:null,description:"Override or extend the styles applied to the component.",name:"classes",required:!1,type:{name:"(Partial<SvgIconClasses> & Partial<ClassNameMap<never>>)"}},color:{defaultValue:{value:"'inherit'"},description:`The color of the component.
It supports both default and custom theme colors, which can be added as shown in the
[palette customization guide](https://mui.com/material-ui/customization/palette/#adding-new-colors).
You can use the \`htmlColor\` prop to apply a color attribute to the SVG element.`,name:"color",required:!1,type:{name:"enum",value:[{value:'"info"'},{value:'"success"'},{value:'"warning"'},{value:'"action"'},{value:'"error"'},{value:'"disabled"'},{value:'"inherit"'},{value:'"primary"'},{value:'"secondary"'}]}},fontSize:{defaultValue:{value:"'medium'"},description:"The fontSize applied to the icon. Defaults to 24px, but can be configure to inherit font size.",name:"fontSize",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"inherit"'},{value:'"medium"'},{value:'"large"'}]}},htmlColor:{defaultValue:null,description:"Applies a color attribute to the SVG element.",name:"htmlColor",required:!1,type:{name:"string"}},inheritViewBox:{defaultValue:{value:"false"},description:"If `true`, the root node will inherit the custom `component`'s viewBox and the `viewBox`\nprop will be ignored.\nUseful when you want to reference a custom `component` and have `SvgIcon` pass that\n`component`'s viewBox to the root node.",name:"inheritViewBox",required:!1,type:{name:"boolean"}},shapeRendering:{defaultValue:null,description:`The shape-rendering attribute. The behavior of the different options is described on the
[MDN Web Docs](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/shape-rendering).
If you are having issues with blurry icons you should investigate this prop.`,name:"shapeRendering",required:!1,type:{name:"string"}},sx:{defaultValue:null,description:"The system prop that allows defining system overrides as well as additional CSS styles.",name:"sx",required:!1,type:{name:"SxProps<Theme>"}},titleAccess:{defaultValue:null,description:`Provides a human-readable title for the element that contains it.
https://www.w3.org/TR/SVG-access/#Equivalent`,name:"titleAccess",required:!1,type:{name:"string"}},viewBox:{defaultValue:{value:"'0 0 24 24'"},description:`Allows you to redefine what the coordinates without units mean inside an SVG element.
For example, if the SVG element is 500 (width) by 200 (height),
and you pass viewBox="0 0 50 20",
this means that the coordinates inside the SVG will go from the top left corner (0,0)
to bottom right (50,20) and each unit will be worth 10px.`,name:"viewBox",required:!1,type:{name:"string"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"((instance: SVGSVGElement | null) => void) | RefObject<SVGSVGElement> | null"}}}}}catch{}const vm=ct(Jx,{label:"InlineBadge"})(({theme:e})=>({position:"static",justifyContent:"flex-end",alignItems:"center",".MuiBadge-badge":{minWidth:"unset",position:"relative",transform:"none"}}));try{vm.displayName="InlineBadge",vm.__docgenInfo={description:"Renders a badge component in-line with other content, instead of as an overlay.",displayName:"InlineBadge",props:{anchorOrigin:{defaultValue:{value:`{
vertical: 'top',
horizontal: 'right',
}`},description:"The anchor of the badge.",name:"anchorOrigin",required:!1,type:{name:"BadgeOrigin"}},classes:{defaultValue:null,description:"Override or extend the styles applied to the component.",name:"classes",required:!1,type:{name:"(Partial<BadgeClasses> & Partial<ClassNameMap<never>>)"}},className:{defaultValue:null,description:"@ignore",name:"className",required:!1,type:{name:"string"}},color:{defaultValue:{value:"'default'"},description:`The color of the component.
It supports both default and custom theme colors, which can be added as shown in the
[palette customization guide](https://mui.com/material-ui/customization/palette/#adding-new-colors).`,name:"color",required:!1,type:{name:"enum",value:[{value:'"info"'},{value:'"success"'},{value:'"warning"'},{value:'"error"'},{value:'"primary"'},{value:'"secondary"'},{value:'"default"'}]}},componentsProps:{defaultValue:{value:"{}"},description:"The extra props for the slot components.\nYou can override the existing props or add new ones.\n\nThis prop is an alias for the `slotProps` prop.\nIt's recommended to use the `slotProps` prop instead, as `componentsProps` will be deprecated in the future.",name:"componentsProps",required:!1,type:{name:'{ root?: SlotComponentProps<"span", BadgeRootSlotPropsOverrides, { badgeContent: ReactNode; children?: ReactNode; invisible: boolean; max: number; slotProps?: ...; slots?: BadgeSlots; showZero: boolean; }> | undefined; badge?: SlotComponentProps<...> | undefined; } | undefined'}},components:{defaultValue:{value:"{}"},description:"The components used for each slot inside.\n\nThis prop is an alias for the `slots` prop.\nIt's recommended to use the `slots` prop instead.",name:"components",required:!1,type:{name:"{ Root?: ElementType<any>; Badge?: ElementType<any>; } | undefined"}},overlap:{defaultValue:{value:"'rectangular'"},description:"Wrapped shape the badge should overlap.",name:"overlap",required:!1,type:{name:"enum",value:[{value:'"rectangular"'},{value:'"circular"'}]}},sx:{defaultValue:null,description:"The system prop that allows defining system overrides as well as additional CSS styles.",name:"sx",required:!1,type:{name:"SxProps<Theme>"}},variant:{defaultValue:{value:"'standard'"},description:"The variant to use.",name:"variant",required:!1,type:{name:"enum",value:[{value:'"standard"'},{value:'"dot"'}]}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"((instance: HTMLSpanElement | null) => void) | RefObject<HTMLSpanElement> | null"}}}}}catch{}function bm(e){const{show:t=!0,selectedRowCount:n,onClearSelection:r,customControls:a=f(te,{})}=e;return t?P(ug,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",position:"fixed",bottom:0,left:0,width:"100%",height:"70px",zIndex:1,px:2.5},children:[f(rt,{variant:"text",color:"error",onClick:()=>{r()},children:"Clear Selection"}),P(Le,{display:"flex",gap:2.5,alignItems:"center",children:[P(Le,{display:"flex",gap:1.5,children:[f(vm,{badgeContent:n.toLocaleString(),color:"primary",max:1/0}),P(le,{variant:"body1",children:[Zn("Row",n)," Selected"]})]}),a]})]}):f(te,{})}try{bm.displayName="RowSelectionUI",bm.__docgenInfo={description:"UI-only component for displaying the number of table rows selected, along with actions that can be performed on those rows",displayName:"RowSelectionUI",props:{show:{defaultValue:null,description:"",name:"show",required:!1,type:{name:"boolean"}},selectedRowCount:{defaultValue:null,description:"",name:"selectedRowCount",required:!0,type:{name:"number"}},onClearSelection:{defaultValue:null,description:"",name:"onClearSelection",required:!0,type:{name:"() => void"}},customControls:{defaultValue:null,description:"",name:"customControls",required:!1,type:{name:"ReactNode"}}}}}catch{}function _m(e){const{customControls:t=[],showExportToCavatica:n=!1,remount:r}=e,{getCurrentQueryRequest:a}=Ct(),i=Ce(ut),o=Ce(Bn),[s,l]=OS(Ir),{setIsShowingExportToCavaticaModal:c,setShowDownloadConfirmation:u}=Rt(),d=()=>{l([]),r&&r()},m=bc(i==null?void 0:i.columnModels)??pS(o);return f(bm,{show:s.length>0,selectedRowCount:s.length,onClearSelection:()=>l([]),customControls:P(te,{children:[t.map(h=>f(rt,{variant:"contained",onClick:()=>h.onClick({data:i,selectedRows:s,refresh:d,request:a()}),startIcon:h.icon,children:h.buttonText},h.buttonText)),n&&f(rt,{variant:"outlined",onClick:()=>{c(!0)},startIcon:f(mu,{}),children:"Send to CAVATICA"}),m&&f(rt,{variant:"contained",onClick:()=>{u(!0)},startIcon:f(JR,{}),children:"Add to Download Cart"})]})})}try{_m.displayName="RowSelectionControls",_m.__docgenInfo={description:`This component is responsible for rendering the RowSelectionUI and the custom controls. Must be wrapped in a
QueryContext and a QueryVisualizationContext.`,displayName:"RowSelectionControls",props:{showExportToCavatica:{defaultValue:null,description:"",name:"showExportToCavatica",required:!1,type:{name:"boolean"}},customControls:{defaultValue:null,description:"",name:"customControls",required:!1,type:{name:"CustomControl[]"}},remount:{defaultValue:null,description:"",name:"remount",required:!1,type:{name:"(() => void)"}}}}}catch{}const Ra=e=>f(Xn,{style:{...e.style,display:"inline-block"},...e});try{Ra.displayName="SkeletonInlineBlock",Ra.__docgenInfo={description:"Skeleton with a display value of `inline-block`. MUI applies `display: block` with high specificity, so it's easiest to just apply the style to the component.",displayName:"SkeletonInlineBlock",props:{animation:{defaultValue:{value:"'pulse'"},description:"The animation.\nIf `false` the animation effect is disabled.",name:"animation",required:!1,type:{name:'false | "pulse" | "wave"'}},children:{defaultValue:null,description:"Optional children to infer width and height from.",name:"children",required:!1,type:{name:"ReactNode"}},classes:{defaultValue:null,description:"Override or extend the styles applied to the component.",name:"classes",required:!1,type:{name:"(Partial<SkeletonClasses> & Partial<ClassNameMap<never>>)"}},height:{defaultValue:null,description:`Height of the skeleton.
Useful when you don't want to adapt the skeleton to a text element but for instance a card.`,name:"height",required:!1,type:{name:"string | number"}},sx:{defaultValue:null,description:"The system prop that allows defining system overrides as well as additional CSS styles.",name:"sx",required:!1,type:{name:"SxProps<Theme>"}},variant:{defaultValue:{value:"'text'"},description:"The type of content that will be rendered.",name:"variant",required:!1,type:{name:"enum",value:[{value:'"text"'},{value:'"rounded"'},{value:'"rectangular"'},{value:'"circular"'}]}},width:{defaultValue:null,description:`Width of the skeleton.
Useful when the skeleton is inside an inline element with no width of its own.`,name:"width",required:!1,type:{name:"string | number"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"((instance: HTMLSpanElement | null) => void) | RefObject<HTMLSpanElement> | null"}}}}}catch{}const wm=({numRows:e=5,rowHeight:t,className:n})=>{const[r,a]=R.useState([]);return R.useEffect(()=>{const i=[];ig(e,o=>{i.push(f(J.Fragment,{children:f(Xn,{height:t,width:o===e-1?"35%":"100%"})},o))}),a(i)},[e,t]),f("div",{className:n,children:r})};try{wm.displayName="SkeletonParagraph",wm.__docgenInfo={description:"Skeleton component designed to mimic a paragraph.",displayName:"SkeletonParagraph",props:{numRows:{defaultValue:{value:"5"},description:"",name:"numRows",required:!1,type:{name:"number"}},rowHeight:{defaultValue:null,description:"",name:"rowHeight",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}function NW(e,t,n="id",r="name",a="currentVersion"){const{accessToken:i}=Ze(),o=",",s=!0,l=!1,c=e.query.sql;return async()=>{try{const u=t==null?void 0:t.map(g=>g.name).join(","),d=`SELECT CONCAT('drs://repo-prod.prod.sagebase.org/syn', ${n}, '.', ${a}) AS drs_uri, ${r} as file_name, ${u} FROM ${c.slice(c.toLowerCase().indexOf("from")+4+1)}`,p={sql:d,entityId:oa(d),selectedFacets:e.query.selectedFacets,concreteType:"org.sagebionetworks.repo.model.table.DownloadFromTableRequest",writeHeader:s,includeRowIdAndRowVersion:l,csvTableDescriptor:{separator:o},additionalFilters:e.query.additionalFilters},m=await $t.getDownloadFromTableRequest(p,i),h=`https://cavatica.sbgenomics.com/import-redirect/drs/csv?DRS_URI=${encodeURIComponent(`drs://repo-prod.prod.sagebase.org/fh${m.resultsFileHandleId}`)}`;window.open(h,"_blank")}catch(u){_r(u.reason,"danger")}}}function TW(e,t,n){const r=R.useMemo(()=>{const a=fr(e),i=bc(t);return i&&(a.query.selectFileColumn=Number(i)),a.partMask=vI,a},[t,e]);return Uu(r,{...n,enabled:((n==null?void 0:n.enabled)??!0)&&r.query.selectFileColumn!==void 0,select:a=>{var i;return(i=a==null?void 0:a.responseBody)==null?void 0:i.actionsRequired}})}function nT(e,t,n){if(!e||e.length!==1)throw new Error("rowSelectionPrimaryKey must be defined and have length 1");const r=n.findIndex(i=>i.name===e[0]);return{concreteType:"org.sagebionetworks.repo.model.table.ColumnSingleValueQueryFilter",columnName:e[0],operator:Dw.IN,values:t.map(i=>i.values[r])}}function Sm(e){var b;const{fileIdColumnName:t,fileNameColumnName:n,fileVersionColumnName:r,cavaticaHelpURL:a}=e,{getCurrentQueryRequest:i,onViewSharingSettingsClicked:o,hasResettableFilters:s}=Ct(),l=Ce(ut),c=Ce(Ir),u=Ce(_c),d=Ce(ws),{isShowingExportToCavaticaModal:p,setIsShowingExportToCavaticaModal:m,unitDescription:h}=Rt(),g=R.useMemo(()=>{const E=i();return d&&u&&(l!=null&&l.columnModels)&&(E.query.additionalFilters=[...E.query.additionalFilters||[],nT(u,c,l.columnModels)]),E},[i,d,u,l==null?void 0:l.columnModels,c]),y=NW(g,(b=l==null?void 0:l.queryResult)==null?void 0:b.queryResults.headers,t,n,r),{data:v,isLoading:w}=TW(g,l==null?void 0:l.columnModels,{useErrorBoundary:!0,enabled:!!(l!=null&&l.columnModels)&&p}),_=`Send ${tT(s,d,c,l,h)} to CAVATICA`;return f(Ba,{open:p,title:"Send to CAVATICA",content:P(te,{children:[f(Le,{sx:{backgroundColor:"grey.100",border:"1px solid",borderColor:"grey.300",marginBottom:"15px",padding:"10px 20px 10px 20px"},children:P(le,{variant:"body1",sx:{textAlign:"center"},children:["CAVATICA is a data analysis and sharing platform.",a&&P(te,{children:[" ","Read more about CAVATICA"," ",f(St,{href:a,target:"_blank",children:"here"}),"."]})]})}),f(le,{variant:"body1",sx:{fontWeight:700,marginBottom:"10px"},children:"You must meet these requirements from CAVATICA to send data:"}),P(le,{variant:"body1",sx:{marginLeft:"10px",marginBottom:"10px"},children:["1. You must be logged in to a CAVATICA account.",f("br",{}),"2. You must connect your CAVATICA account to Synapse."]}),f(le,{variant:"body1",children:f(St,{href:"https://help.eliteportal.org/help/limited-data-commons#LimitedDataCommons-GainingAccess",target:"_blank",children:"Click here for instructions"})}),f(Le,{sx:{backgroundColor:"grey.100",marginTop:"15px",padding:"10px 20px 10px 20px"},children:P(le,{variant:"body1",children:["Note that we cannot provide support for CAVATICA. Please contact CAVATICA’s"," ",f(St,{href:"mailto:support@sevenbridges.com ",children:" support"})," for issues related to the above."]})}),w?f(wm,{numRows:4}):v&&v.length>0&&P(te,{children:[f(le,{variant:"body1",sx:{fontWeight:700,my:"10px"},children:"You must also take these actions before sending the selected data to CAVATICA:"}),P(le,{variant:"body1",sx:{marginLeft:"10px",marginBottom:"10px"},children:["The data you’ve selected is contains potentially identifying information about study participants.",f("br",{}),"You must take the following actions before we can send this data to CAVATICA."]}),f(Nr,{gap:3,children:v.map((E,S)=>E?f(fu,{action:E.action,count:E.count,onViewSharingSettingsClicked:o},S):!1)})]}),f(le,{variant:"body1",sx:{fontWeight:700,marginTop:"15px"},children:"When completed, click “Send to CAVATICA“ to finish the process outside this application. You will be redirected to CAVATICA."})]}),confirmButtonText:_,confirmButtonDisabled:w||v&&v.length>0,onConfirm:()=>{y()},onCancel:()=>m(!1),maxWidth:"md"})}try{Sm.displayName="SendToCavaticaConfirmationDialog",Sm.__docgenInfo={description:"",displayName:"SendToCavaticaConfirmationDialog",props:{fileIdColumnName:{defaultValue:null,description:"",name:"fileIdColumnName",required:!1,type:{name:"string"}},fileNameColumnName:{defaultValue:null,description:"",name:"fileNameColumnName",required:!1,type:{name:"string"}},fileVersionColumnName:{defaultValue:null,description:"",name:"fileVersionColumnName",required:!1,type:{name:"string"}},cavaticaHelpURL:{defaultValue:null,description:"",name:"cavaticaHelpURL",required:!1,type:{name:"string"}}}}}catch{}const hu=e=>{const{name:t,showColumnSelection:n=!1,hideDownload:r=!1,hideVisualizationsControl:a=!1,hideFacetFilterControl:i=!1,hideQueryCount:o=!1,hideSqlEditorControl:s=!0,customControls:l,showExportToCavatica:c=!1,cavaticaHelpURL:u,fileIdColumnName:d,fileNameColumnName:p,fileVersionColumnName:m,remount:h}=e,[g,y]=dR(l,{isRowSelectionSupported:!0}),{getInitQueryRequest:v,hasResettableFilters:w,getCurrentQueryRequest:_}=Ct(),b=Ce(ut),E=Ce(Bn),S=Ce($i),N=Ce(Hy),C=Ce(Ir),I=Ce(ws),{setShowSearchBar:k,columnsToShowInTable:O,setColumnsToShowInTable:M,setIsShowingExportToCavaticaModal:q,unitDescription:$,setShowDownloadConfirmation:B,showCopyToClipboard:L,setShowFacetVisualization:F,setShowSqlEditor:z,showFacetFilter:D,setShowFacetFilter:x}=Rt(),[A,j]=R.useState(!1),U=R.useMemo(()=>{const Q=v();return{sql:Q.query.sql,selectedFacets:(Q.query.selectedFacets??[]).filter(re=>re.columnName===(S==null?void 0:S.columnName)),additionalFilters:(Q.query.additionalFilters??[]).filter(re=>"columnName"in re?re.columnName===(S==null?void 0:S.columnName):!0)}},[v,S==null?void 0:S.columnName]),T=Q=>{let re=fr(O);re.includes(Q)?re=re.filter(se=>se!==Q):re.push(Q),M(re)},V=Uy(I,C,b),K=tT(w,I,C,b,$),Z=()=>{h&&h()};return f("div",{className:"TopLevelControls","data-testid":"TopLevelControls",children:P("div",{children:[P("div",{className:"TopLevelControls__querycount",children:[t&&P(te,{children:[P(le,{variant:"sectionTitle",role:"heading",children:[t," ",!o&&f(YR,{query:U,parens:!0})]}),!o&&E&&f(ym,{entity:E})]}),!i&&P(rt,{variant:"text",onClick:()=>x(Q=>!Q),startIcon:f(De,{icon:D?"close":"filter",wrap:!1}),sx:{ml:2,fontWeight:400,fontSize:"14px",textDecoration:"none !important"},children:[D?"Hide":"Show"," filters"]})]}),P("div",{className:"TopLevelControls__actions",children:[y&&y.map((Q,re)=>P(J.Fragment,{children:[f(rt,{variant:"text",disabled:!V,onClick:()=>Q.onClick({data:b,selectedRows:C,refresh:Z,request:_()}),startIcon:Q.icon,children:Q.buttonText}),f(ri,{orientation:"vertical",variant:"middle",flexItem:!0})]},re)),c&&P(te,{children:[f(At,{title:P(te,{children:["This action will send a reference to"," ",I?"each selected file":"every file in the current table"," ","to CAVATICA."," ",!I&&D&&f(te,{children:"You can change what is sent by applying filters using the controls in the sidebar."}),I&&f(te,{children:"You can change what is sent by selecting a different set of files."})]}),children:P(rt,{variant:"text",disabled:!V,onClick:()=>{q(!0)},startIcon:f(mu,{}),children:["Send ",K," to CAVATICA"]})}),f(ri,{orientation:"vertical",variant:"middle",flexItem:!0})]}),f(Ca,{tooltipText:"Show / Hide Search Bar",callbackFn:()=>k(Q=>!Q),darkTheme:!0,icon:"search"}),L&&f(Ca,{tooltipText:A?"Copied to clipboard":"Copy this search to the clipboard",callbackFn:()=>{navigator.clipboard.writeText(window.location.href),j(!0),setTimeout(()=>{j(!1)},3e3)},darkTheme:!0,icon:"clipboard"}),!a&&f(Ca,{tooltipText:"Show / Hide Visualizations",callbackFn:()=>F(Q=>!Q),darkTheme:!0,icon:"chart"}),!r&&f(hm,{darkTheme:!0,onDownloadFiles:()=>B(!0)}),!s&&f(Ca,{tooltipText:"Show / Hide the Advanced Query Editor",callbackFn:()=>z(Q=>!Q),darkTheme:!0,icon:bI}),N&&f(_m,{customControls:g,showExportToCavatica:c,remount:h}),n&&f(gm,{headers:b==null?void 0:b.selectColumns,isColumnSelected:O,toggleColumnSelection:T,darkTheme:!0}),f(Sm,{cavaticaHelpURL:u,fileIdColumnName:d,fileNameColumnName:p,fileVersionColumnName:m})]})]})})};try{hu.displayName="TopLevelControls",hu.__docgenInfo={description:"",displayName:"TopLevelControls",props:{name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},hideDownload:{defaultValue:null,description:"",name:"hideDownload",required:!1,type:{name:"boolean"}},hideVisualizationsControl:{defaultValue:null,description:"",name:"hideVisualizationsControl",required:!1,type:{name:"boolean"}},hideFacetFilterControl:{defaultValue:null,description:"",name:"hideFacetFilterControl",required:!1,type:{name:"boolean"}},hideQueryCount:{defaultValue:null,description:"",name:"hideQueryCount",required:!1,type:{name:"boolean"}},hideSqlEditorControl:{defaultValue:null,description:"",name:"hideSqlEditorControl",required:!1,type:{name:"boolean"}},showColumnSelection:{defaultValue:null,description:"",name:"showColumnSelection",required:!1,type:{name:"boolean"}},customControls:{defaultValue:null,description:"",name:"customControls",required:!1,type:{name:"CustomControl[]"}},showExportToCavatica:{defaultValue:null,description:"",name:"showExportToCavatica",required:!1,type:{name:"boolean"}},fileIdColumnName:{defaultValue:null,description:"",name:"fileIdColumnName",required:!1,type:{name:"string"}},fileNameColumnName:{defaultValue:null,description:"",name:"fileNameColumnName",required:!1,type:{name:"string"}},fileVersionColumnName:{defaultValue:null,description:"",name:"fileVersionColumnName",required:!1,type:{name:"string"}},cavaticaHelpURL:{defaultValue:null,description:"",name:"cavaticaHelpURL",required:!1,type:{name:"string"}},remount:{defaultValue:null,description:"",name:"remount",required:!1,type:{name:"(() => void)"}}}}}catch{}const Bo=e=>{const{checked:t=!1,hideLabel:n=!1,isSelectAll:r=!1,disabled:a=!1,onChange:i}=e,[o]=R.useState(ZR("src-checkbox-")),s=c=>{r&&c.target.checked===!1?i(!0):i(c.target.checked)};let l="checkbox";return e.className&&(l+=` ${e.className}`),P("div",{className:l,onClick:e.onClick,children:[f("input",{"aria-label":e.label,type:"checkbox",checked:t,id:o,onChange:s,disabled:a,"data-testid":e["data-testid"]}),f("label",{htmlFor:o,children:n?f(te,{}):e.label}),e.children??f(te,{})]})};try{Bo.displayName="Checkbox",Bo.__docgenInfo={description:"",displayName:"Checkbox",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},hideLabel:{defaultValue:null,description:"",name:"hideLabel",required:!1,type:{name:"boolean"}},checked:{defaultValue:null,description:"",name:"checked",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(newValue: boolean) => void"}},isSelectAll:{defaultValue:null,description:"",name:"isSelectAll",required:!1,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((event: SyntheticEvent<HTMLDivElement, Event>) => void)"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},"data-testid":{defaultValue:null,description:"",name:"data-testid",required:!1,type:{name:"string"}}}}}catch{}const Cm=e=>P("svg",{...e,className:`Icon-Plus ${e.className??""}`,width:"15",height:"14",viewBox:"0 0 15 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.title&&f("title",{children:e.title}),f("path",{d:"M14.3887 8H8.38867V14H6.38867V8H0.388672V6H6.38867V0H8.38867V6H14.3887V8Z"})]});try{Cm.displayName="IconPlus",Cm.__docgenInfo={description:"",displayName:"IconPlus",props:{title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch{}const Em=e=>P("svg",{...e,className:`Icon-Minus ${e.className??""}`,width:"15",height:"2",viewBox:"0 0 15 2",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.title&&f("title",{children:e.title}),f("path",{d:"M14.3887 2H8.38867H6.38867H0.388672V0H6.38867H8.38867H14.3887V2Z"})]});try{Em.displayName="IconMinus",Em.__docgenInfo={description:"",displayName:"IconMinus",props:{title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch{}const Uo=({label:e,isCollapsed:t,onClick:n})=>{const{getColumnDisplayName:r}=Rt();return P("div",{className:"FacetFilterHeader",children:[f("label",{className:"FacetFilterHeader__label",children:r(e)}),f("button",{className:"FacetFilterHeader__collapseToggleBtn",onClick:()=>n(!t),children:t?f(Cm,{className:"icon-plus",title:"Expand Menu"}):f(Em,{className:"icon-minus",title:"Collapse Menu"})})]})};try{Uo.displayName="FacetFilterHeader",Uo.__docgenInfo={description:"",displayName:"FacetFilterHeader",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},isCollapsed:{defaultValue:null,description:"",name:"isCollapsed",required:!0,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"(newValue: boolean) => void"}}}}}catch{}function IW(e){return e.replace(/\s/g,"").toLowerCase()}function J_(e,t=[],n=[],r=[]){const{value:a}=e;let i=a;a===Eo&&(i=ku);const o=t.find(c=>c.ownerId===a);o&&(i=o?o.userName:`unknown (${a})`);const s=n.find(c=>c.id===a);s&&(i=s?s.name:`unknown (${a})`);const l=r.find(c=>c.id===a);return l!=null&&l.name&&(i=l.name),`${i}`}function RW(e,t,n){const r=[...e.sort((a,i)=>i.count-a.count)];return t||r.length<=n||r.slice(n).find(a=>a.isSelected)?r:r.splice(0,n)}function xW(e,t){var n;return!((n=e.query.selectedFacets)!=null&&n.find(r=>r.concreteType==="org.sagebionetworks.repo.model.table.FacetColumnValuesRequest"&&r.columnName===t.name))}const Ii=({facetValues:e,columnModel:t,containerAs:n="Collapsible",dropdownType:r="Icon",collapsed:a=!1})=>{const{nextQueryRequest:i,addValueToSelectedFacet:o,removeSelectedFacet:s,removeValueFromSelectedFacet:l}=Ct(),[c,u]=R.useState(!1),[d,p]=R.useState(a),[m,h]=R.useState(!1),[g,y]=R.useState(!1),[v,w]=R.useState(""),[_,b]=R.useState(e),[E,S]=J.useState(null),N=!!E,C=T=>{S(T.currentTarget)},I=()=>{S(null)};dS(()=>{b(e)},[e]);const k=R.useMemo(()=>{var T;return fr((T=i.query.selectedFacets)==null?void 0:T.find(V=>V.columnName===t.name&&Sl(V)))},[t.name,i.query.selectedFacets]),O=5,M=J.createRef(),q=xW(i,t),$=(t==null?void 0:t.columnType)===pe.USERID||(t==null?void 0:t.columnType)===pe.USERID_LIST?e.map(T=>T.value):[],B=co({ids:$,type:"USER_PROFILE"}),L=(t==null?void 0:t.columnType)===pe.ENTITYID||(t==null?void 0:t.columnType)===pe.ENTITYID_LIST?e.map(T=>T.value):[],F=co({ids:L,type:"ENTITY_HEADER"}),z=(t==null?void 0:t.columnType)===pe.EVALUATIONID?e.map(T=>T.value):[],D=co({ids:z,type:"EVALUATION_QUEUE"}),x=T=>{const V=T.target.value;if(w(V),u(!0),!V)e.forEach(K=>{K.isSelected=!1}),b(e);else{const K=e.filter(Z=>J_(Z,B,F,D).toLowerCase().indexOf(V.trim().toLowerCase())>-1?Z:null);b(K)}};if(!t)return f(te,{});const A=n==="Dropdown",j=P("div",{className:A?"EnumFacetFilter__dropdown_menu":"",children:[P("div",{className:"EnumFacetFilter__checkboxContainer--forAll",children:[P("div",{className:g?"EnumFacetFilter__search active":"EnumFacetFilter__search",children:[f("button",{className:"EnumFacetFilter__closeSearch",onClick:()=>{b(e),y(!1),u(!1)},children:f("span",{className:"EnumFacetFilter__previous",children:f(De,{icon:"arrowBack"})})}),v.length>0&&f("button",{className:"EnumFacetFilter__resetSearch",onClick:()=>{var T;w(""),(T=M.current)==null||T.focus()},children:f("span",{className:"EnumFacetFilter__reset",children:f(De,{icon:"close"})})}),f("input",{type:"text",placeholder:"Find values",value:v,ref:M,onChange:T=>{x(T)}})]}),!g&&P("div",{className:"EnumFacetFilter__checkAll",children:[f(Bo,{className:"EnumFacetFilter__checkbox",onChange:()=>{k&&s(k)},checked:q,label:"All",isSelectAll:!0},"select_all"),f("button",{className:"EnumFacetFilter__searchbtn",onClick:()=>{var T;w(""),y(!0),(T=M.current)==null||T.focus()},children:f("span",{className:"EnumFacetFilter__searchicon",children:f(De,{icon:"search"})})})]})]}),P("div",{children:[_.length>0&&RW(_,c||A,O).map((T,V)=>{var Z;const K=!!((Z=k==null?void 0:k.facetValues)!=null&&Z.includes(T.value));return f($W,{id:IW(T.value),index:V,label:J_(T,B,F,D),count:T.count,isDropdown:A,checked:K,onChange:Q=>{Q?o(t.name,T.value,{debounce:!0}):l(t.name,T.value,{debounce:!0})}},`checkLabel${V}`)}),!A&&P(te,{children:[!c&&_.length>O&&f("button",{className:"EnumFacetFilter__showMoreFacetsBtn",onClick:()=>u(!0),children:f("div",{className:"EnumFacetFilter__checkboxContainer",children:P("div",{className:"EnumFacetFilter__showMoreFacetsLabel",children:["Show all (",_.length,")"]})})}),c&&_.length>O&&f("button",{className:"EnumFacetFilter__showMoreFacetsBtn",onClick:()=>u(!1),children:f("div",{className:"EnumFacetFilter__checkboxContainer",children:f("div",{className:"EnumFacetFilter__showMoreFacetsLabel",children:"Show less"})})})]}),_.length<=0&&f("div",{className:"EnumFacetFilter__noMatch",children:"No match found"})]})]}),U=()=>h(!m);return A?r==="SelectBox"?P(zt,{className:"EnumFacetFilter EnumFacetFilterSelect",show:m,onToggle:U,children:[P(zt.Toggle,{className:"secondary-caret",variant:"gray-select",children:[q&&"All",!q&&e.filter(T=>T.isSelected).length===1&&e.filter(T=>T.isSelected)[0].value,!q&&e.filter(T=>T.isSelected).length>1&&"Multiple Values Selected"]}),f(zt.Menu,{children:j})]}):P("div",{className:"EnumFacetFilter",children:[f(At,{title:"Filter by specific facet",children:f(an,{onClick:C,size:"small",children:f(De,{icon:"filter",wrap:!1,sx:{color:q?"grey.700":"primary.main",fontSize:"20px"}})})}),f(xR,{anchorEl:E,open:N,onClose:I,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},TransitionComponent:ex,children:j})]}):P(te,{children:[f(Uo,{isCollapsed:d,label:t.name,onClick:T=>p(T)}),f(ia,{className:"EnumFacetFilter",in:!d,children:j})]})};function $W(e){const{id:t,index:n,label:r,count:a,isDropdown:i,checked:o,onChange:s}=e;return P("div",{className:"EnumFacetFilter__checkboxContainer",onClick:()=>{i&&s(!o)},children:[f(Bo,{className:"EnumFacetFilter__checkbox",onClick:l=>l.stopPropagation(),onChange:l=>{s(l)},checked:o,label:r},`${t}-${n}`),i&&P("span",{className:"EnumFacetFilter__count",children:["(",a.toLocaleString(),")"]}),!i&&f("div",{className:"EnumFacetFilter__count",children:a.toLocaleString()})]})}try{Ii.displayName="EnumFacetFilter",Ii.__docgenInfo={description:"*********** QUERY ENUM COMPONENT  ************",displayName:"EnumFacetFilter",props:{facetValues:{defaultValue:null,description:"",name:"facetValues",required:!0,type:{name:"FacetColumnResultValueCount[]"}},columnModel:{defaultValue:null,description:"",name:"columnModel",required:!0,type:{name:"SelectColumn"}},containerAs:{defaultValue:{value:"Collapsible"},description:"",name:"containerAs",required:!1,type:{name:"enum",value:[{value:'"Collapsible"'},{value:'"Dropdown"'}]}},dropdownType:{defaultValue:{value:"Icon"},description:"",name:"dropdownType",required:!1,type:{name:"enum",value:[{value:'"Icon"'},{value:'"SelectBox"'}]}},collapsed:{defaultValue:{value:"false"},description:"",name:"collapsed",required:!1,type:{name:"boolean"}}}}}catch{}const Nm=({facet:e,isChecked:t,onClick:n})=>{const{getColumnDisplayName:r}=Rt();return P("button",{className:`Chip ${t?"Checked":""}`,onClick:n,children:[r(e.columnName),f(De,{icon:t?"check":"add",sx:{width:"14px",paddingLeft:"0.2rem"}})]})};try{Nm.displayName="FacetChip",Nm.__docgenInfo={description:"",displayName:"FacetChip",props:{facet:{defaultValue:null,description:"",name:"facet",required:!0,type:{name:"FacetColumnResult"}},isChecked:{defaultValue:null,description:"",name:"isChecked",required:!0,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}}}}}catch{}const Ri=e=>{const t="Min value should be less then max value",[n,r]=R.useState(!1),[a,i]=R.useState(()=>e.type==="number"&&e.initialValues?e.initialValues:e.initialValues&&{min:rn(e.initialValues.min).format("YYYY-MM-DD"),max:rn(e.initialValues.max).format("YYYY-MM-DD")}||{min:void 0,max:void 0}),o=e.className?`range ${e.className}`:"range",s=({min:c,max:u},d="number")=>{if(c==null||u===null||u===void 0)return r(!1),!0;if(d==="number"){if(Number(c)>Number(u))return r(!0),!1}else if(Date.parse(c)>Date.parse(u))return r(!0),!1;return r(!1),!0},l=(c,u,d="number")=>{s(c,d)&&u(c)};return P("div",{className:o,style:{display:"flex",flexWrap:"wrap"},children:[P("div",{style:{marginRight:"10px"},children:[f("input",{"aria-label":"min",type:e.type,value:a.min,onChange:({target:c})=>i({min:c.value,max:a.max})},"range_min"),f("div",{children:"to"}),f("input",{"aria-label":"max",type:e.type,value:a.max,onChange:({target:c})=>i({min:a.min,max:c.value})},"range_max")]}),f("button",{className:"btn btn-link SRC-noPadding",onClick:()=>l(a,e.onChange,e.type),children:"Apply"}),n&&f("div",{className:"SRC-danger-color",children:e.errorText||t})]})};try{Ri.displayName="Range",Ri.__docgenInfo={description:"",displayName:"Range",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"number"'},{value:'"date"'}]}},initialValues:{defaultValue:null,description:"",name:"initialValues",required:!1,type:{name:"RangeValues<string | number>"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},errorText:{defaultValue:null,description:"",name:"errorText",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(newValues: RangeValues<string | number>) => void"}}}}}catch{}var Tm=(e=>(e.NOT_SET="org.sagebionetworks.UNDEFINED_NULL_NOTSET",e.RANGE="RANGE",e.ANY="",e))(Tm||{});const rT=[{label:ku,value:"org.sagebionetworks.UNDEFINED_NULL_NOTSET"},{label:"Any",value:""},{label:"Range",value:"RANGE"}],gu=(e,t)=>t?"":e===Eo?"org.sagebionetworks.UNDEFINED_NULL_NOTSET":"RANGE",Im=({facetResult:e,label:t,columnType:n,onChange:r,collapsed:a=!1})=>{const[i,o]=R.useState(a),{columnMin:s,columnMax:l,selectedMin:c,selectedMax:u}=e,d=!c&&!u,p=c||s,m=u||l,h=n==="DOUBLE"?"number":"date",g=(w,_)=>{v(w),w!=="RANGE"&&_([w,w])};R.useEffect(()=>{v(gu(p,d))},[p,d]);const[y,v]=R.useState(gu(p,d));return P("div",{children:[f(Uo,{isCollapsed:i,label:t,onClick:w=>o(w)}),P(ia,{in:!i,children:[f(sg,{value:y,id:"rangeSelector",options:rT,onChange:w=>g(w,r)}),y==="RANGE"&&(s===l?f("label",{children:l}):P(te,{children:[n==="INTEGER"&&f(wS,{domain:[s,l],initialValues:{min:parseInt(p),max:parseInt(m)},step:1,doUpdateOnApply:!0,onChange:w=>r([w.min,w.max]),children:">"},"RangeSlider"),n==="DATE"&&f(Ri,{initialValues:{min:c??rn(parseInt(s)).toString(),max:u??rn(parseInt(l)).toString()},type:h,onChange:w=>r([w.min,w.max])},"Range"),n==="DOUBLE"&&f(Ri,{initialValues:{min:parseFloat(p),max:parseFloat(m)},type:h,onChange:w=>r([w.min,w.max])},"Range")]}))]})]})};try{Im.displayName="RangeFacetFilter",Im.__docgenInfo={description:"",displayName:"RangeFacetFilter",props:{facetResult:{defaultValue:null,description:"",name:"facetResult",required:!0,type:{name:"FacetColumnResultRange"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},columnType:{defaultValue:null,description:"",name:"columnType",required:!0,type:{name:"enum",value:[{value:'"STRING"'},{value:'"DOUBLE"'},{value:'"BOOLEAN"'},{value:'"INTEGER"'},{value:'"DATE"'},{value:'"FILEHANDLEID"'},{value:'"ENTITYID"'},{value:'"LINK"'},{value:'"MEDIUMTEXT"'},{value:'"LARGETEXT"'},{value:'"USERID"'},{value:'"STRING_LIST"'},{value:'"INTEGER_LIST"'},{value:'"BOOLEAN_LIST"'},{value:'"DATE_LIST"'},{value:'"USERID_LIST"'},{value:'"ENTITYID_LIST"'},{value:'"EVALUATIONID"'},{value:'"JSON"'},{value:'"STRING"'},{value:'"DOUBLE"'},{value:'"BOOLEAN"'},{value:'"INTEGER"'},{value:'"DATE"'},{value:'"FILEHANDLEID"'},{value:'"ENTITYID"'},{value:'"LINK"'},{value:'"MEDIUMTEXT"'},{value:'"LARGETEXT"'},{value:'"USERID"'},{value:'"STRING_LIST"'},{value:'"INTEGER_LIST"'},{value:'"BOOLEAN_LIST"'},{value:'"DATE_LIST"'},{value:'"USERID_LIST"'},{value:'"ENTITYID_LIST"'},{value:'"EVALUATIONID"'},{value:'"JSON"'}]}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(range: (string | number | undefined)[]) => void"}},collapsed:{defaultValue:{value:"false"},description:"",name:"collapsed",required:!1,type:{name:"boolean"}}}}}catch{}const Rm=({facetResults:e,label:t,columnType:n,onChange:r,collapsed:a=!1})=>{const[i,o]=R.useState(a),{columnMin:s,selectedMin:l,selectedMax:c}=e[0],{columnMax:u,selectedMin:d,selectedMax:p}=e[1],m=!l&&!c&&!d&&!p,h=d||s,g=c||u,y=n==="DOUBLE"?"number":"date",v=(b,E)=>{_(b),b!==Tm.RANGE&&E([b,b])},[w,_]=R.useState(gu(h,m));return R.useEffect(()=>{_(gu(h,m))},[h,m]),P("div",{children:[f(Uo,{isCollapsed:i,label:t,onClick:b=>o(b)}),P(ia,{in:!i,children:[f(sg,{value:w,id:"combinedRangeSelector",options:rT,onChange:b=>v(b,r)}),w===Tm.RANGE&&(s===u?f("label",{children:u}):P(te,{children:[n==="INTEGER"&&f(wS,{domain:[s,u],initialValues:{min:h,max:g},step:1,doUpdateOnApply:!0,onChange:b=>r([s,b.max,b.min,u]),children:">"},"RangeSlider"),n==="DATE"&&f(Ri,{initialValues:{min:d??rn(parseInt(s)).toString(),max:c??rn(parseInt(u)).toString()},type:y,onChange:b=>r([s,b.max,b.min,u])},"Range"),n==="DOUBLE"&&f(Ri,{initialValues:{min:parseFloat(h),max:parseFloat(g)},type:y,onChange:b=>r([s,b.max,b.min,u])},"Range")]}))]})]})};try{Rm.displayName="CombinedRangeFacetFilter",Rm.__docgenInfo={description:`Inclusive range selector across two columns
Written for the ELITE portal cohort builder, may have other uses.
The following diagram shows how the Range Selector min and max values are used
to define the facet range values:


                         Range Selector      
               min ├────────────────────────┤ max
                                             
                       Min Column facet      
Column Min value ◄────────────────────────────┤  Range Selector max
                                             
                       Max Column facet
Range Selector min   ├────────────────────────────► Column Max value`,displayName:"CombinedRangeFacetFilter",props:{facetResults:{defaultValue:null,description:"",name:"facetResults",required:!0,type:{name:"FacetColumnResultRange[]"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},columnType:{defaultValue:null,description:"",name:"columnType",required:!0,type:{name:"enum",value:[{value:'"STRING"'},{value:'"DOUBLE"'},{value:'"BOOLEAN"'},{value:'"INTEGER"'},{value:'"DATE"'},{value:'"FILEHANDLEID"'},{value:'"ENTITYID"'},{value:'"LINK"'},{value:'"MEDIUMTEXT"'},{value:'"LARGETEXT"'},{value:'"USERID"'},{value:'"STRING_LIST"'},{value:'"INTEGER_LIST"'},{value:'"BOOLEAN_LIST"'},{value:'"DATE_LIST"'},{value:'"USERID_LIST"'},{value:'"ENTITYID_LIST"'},{value:'"EVALUATIONID"'},{value:'"JSON"'},{value:'"STRING"'},{value:'"DOUBLE"'},{value:'"BOOLEAN"'},{value:'"INTEGER"'},{value:'"DATE"'},{value:'"FILEHANDLEID"'},{value:'"ENTITYID"'},{value:'"LINK"'},{value:'"MEDIUMTEXT"'},{value:'"LARGETEXT"'},{value:'"USERID"'},{value:'"STRING_LIST"'},{value:'"INTEGER_LIST"'},{value:'"BOOLEAN_LIST"'},{value:'"DATE_LIST"'},{value:'"USERID_LIST"'},{value:'"ENTITYID_LIST"'},{value:'"EVALUATIONID"'},{value:'"JSON"'}]}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(range: (string | number | undefined)[]) => void"}},collapsed:{defaultValue:{value:"false"},description:"",name:"collapsed",required:!1,type:{name:"boolean"}}}}}catch{}const AW=e=>({concreteType:"org.sagebionetworks.repo.model.table.FacetColumnValuesRequest",columnName:e.columnName,facetValues:e.facetValues.filter(t=>t.isSelected).map(t=>t.value)}),xm=e=>{let t={concreteType:"org.sagebionetworks.repo.model.table.FacetColumnRangeRequest",columnName:e.columnName};return e.columnMin&&(t={...t,min:e.columnMin,max:e.columnMax}),t},yu=(e,t=[])=>{const n=t.findIndex(i=>i.columnName===e.columnName),r=e.concreteType==="org.sagebionetworks.repo.model.table.FacetColumnValuesRequest"&&(!e.facetValues||!e.facetValues.length),a=e.concreteType==="org.sagebionetworks.repo.model.table.FacetColumnRangeRequest"&&(!e.min||!e.max);return n>-1?r||a?t.splice(n,1):t[n]=e:t.push(e),t};function OW(e,t,n,r,a=!1){var s;r?t.facetValues.forEach(l=>{l.value===r&&(l.isSelected=a)}):t.facetValues.forEach(l=>{l.isSelected=!1});const i=AW(t),o=yu(i,(s=e==null?void 0:e.query)==null?void 0:s.selectedFacets);n(o)}const kW=(e,t,n,r)=>{var o;t.columnMin=r[0],t.columnMax=r[1];const a=xm(t),i=yu(a,(o=e==null?void 0:e.query)==null?void 0:o.selectedFacets);n(i)},PW=(e,t,n,r)=>{var c;const a=t[0],i=t[1];a.columnMin=r[0],a.columnMax=r[1],i.columnMin=r[2],i.columnMax=r[3];const o=xm(a),s=xm(i);let l=((c=e==null?void 0:e.query)==null?void 0:c.selectedFacets)??[];l=yu(o,l),l=yu(s,l),n(l)};function vu(e,t){const n=(t??[]).map(r=>r.columnName);return new Set([...e.slice(0,3).map(r=>r.columnName),...n])}function Qs(){const e=P(Nr,{direction:"row",gap:"10px",sx:{my:1},children:[f(Xn,{width:"15px"}),f(Xn,{width:"40%"})]});return P(Le,{className:"FacetFilterControls__facet",children:[f(Le,{className:"FacetFilterHeader",children:f(Xn,{width:"100%"})}),P(Le,{children:[e,e,e]})]})}function DW(){return P("div",{className:"FacetFilterControls",children:[f(Qs,{}),f(Qs,{}),f(Qs,{}),f(Qs,{})]})}function $m(e){var g;const{availableFacets:t}=e,{getCurrentQueryRequest:n,executeQueryRequest:r,combineRangeFacetConfig:a}=Ct(),i=n(),o=Ce(ut),s=o.facets.filter(y=>t==null||t.includes(y.columnName)).filter(y=>a==null||a.maxFacetColumn!==y.columnName&&a.minFacetColumn!==y.columnName).filter(y=>!mS(y)),l=a?o.facets.filter(y=>a.maxFacetColumn===y.columnName||a.minFacetColumn===y.columnName):[],[c,u]=J.useState(vu(s,i.query.selectedFacets));fS(()=>{u(vu(s,i.query.selectedFacets))},[s]);const d=o.selectColumns,p=R.useCallback(y=>{r(v=>(v.query.selectedFacets=y,v.query.offset=0,v),{debounce:!0})},[r]),m=R.useCallback(y=>{const v=new Set(c);v.has(y.columnName)?v.delete(y.columnName):v.add(y.columnName),u(v)},[c]),h=a?(g=d.find(y=>y.name===a.minFacetColumn))==null?void 0:g.columnType:void 0;return P("div",{className:"FacetFilterControls",children:[a&&f(Rm,{facetResults:l,label:a.label,columnType:h,collapsed:!1,onChange:y=>PW(i,l,p,y)}),(s??[]).filter(y=>c.has(y.columnName)).map(y=>{const v=d.find(w=>w.name===y.columnName);return P("div",{className:"FacetFilterControls__facet",children:[y.facetType==="enumeration"&&v&&f(Ii,{containerAs:"Collapsible",collapsed:!1,facetValues:y.facetValues,columnModel:v}),y.facetType==="range"&&v&&f(Im,{facetResult:y,label:v.name,columnType:v.columnType,collapsed:!1,onChange:w=>kW(i,y,p,w)})]},y.columnName)}),P("div",{children:[f("div",{className:"AvailableFacet",children:f("label",{className:"AvailableFacet__label",children:"Available Facets"})}),$R(s,["columnName"]).map(y=>f(Nm,{facet:y,onClick:()=>m(y),isChecked:c.has(y.columnName)},y.columnName))]})]})}function VW(e){const t=Ce(tr),n=Ce(ut);return t?f(DW,{}):n==null||n.facets==null?f(te,{}):f($m,{...e})}try{vu.displayName="getDefaultShownFacetFilters",vu.__docgenInfo={description:`Determines which facet filters should be shown after loading a new bundle. The shown facets will be the first
three available facets, plus any other facets that have a filter applied.`,displayName:"getDefaultShownFacetFilters",props:{}}}catch{}try{$m.displayName="FacetFilterControls",$m.__docgenInfo={description:"",displayName:"FacetFilterControls",props:{availableFacets:{defaultValue:null,description:"",name:"availableFacets",required:!1,type:{name:"string[]"}}}}}catch{}function Am(e){const{labels:t,colors:n=[],isExpanded:r}=e;if(!t)return f(te,{});const a=r?Math.min(t.length,9):Math.min(t.length,4);return a===0?f(te,{}):f("div",{className:`FacetNavPanel__body__legend${r?"--expanded":""}`,children:t.slice(0,a).map((i,o)=>f(Ca,{tooltipText:i.label,children:P(Le,{sx:{display:"grid",gridTemplateColumns:"20px auto 30px",alignItems:"center",gap:"10px"},children:[f(Le,{sx:{width:"14px",height:"14px",cursor:"default",backgroundColor:n[o]},style:{cursor:"default"}},`legendLabel_${o}`),f(le,{variant:"body2",sx:{display:"block",width:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:i.label}),f(le,{variant:"body2",sx:{color:"grey.600"},children:i.count})]})},i.label))})}try{Am.displayName="FacetPlotLegendList",Am.__docgenInfo={description:"",displayName:"FacetPlotLegendList",props:{labels:{defaultValue:null,description:"",name:"labels",required:!1,type:{name:"FacetWithLabel[]"}},colors:{defaultValue:null,description:"",name:"colors",required:!1,type:{name:"string[]"}},isExpanded:{defaultValue:null,description:"",name:"isExpanded",required:!0,type:{name:"boolean"}}}}}catch{}const qX=30;function LW(e,t){if(!e)return e;const n=e.trim();return n.length>t?n.substring(0,t-1)+"…":e}const FW=uS(cS),qW=19,MW={showlegend:!1,annotations:[],margin:{l:0,r:0,b:0,t:0,pad:0},yaxis:{visible:!1,showgrid:!1},xaxis:{visible:!1,showgrid:!1}};async function BW(e,t,n,r,a){var h,g;const{colorPalette:i}=nx(n,e.facetValues.length),o=async(y,v,w)=>{const _=new Map;_.set(Eo,ku);const b=y.map(E=>E.value).filter(E=>E!==Eo);if(v===pe.ENTITYID||v===pe.ENTITYID_LIST){const E=await $t.getEntityHeadersByIds(b,w);for(const S of E.results)_.set(S.id,S.name)}else if(v===pe.USERID||v===pe.USERID_LIST){const E=await $t.getGroupHeadersBatch(b,w);for(const S of E.children)_.set(S.ownerId,S.userName)}return y.map(E=>({facet:E,label:s(E,!1,_),truncatedLabel:s(E,!0,_),count:E.count}))},s=(y,v,w)=>{let _=w.get(y.value)??y.value;return v&&(_=LW(_,qW)),_},l=await o(e.facetValues,t,a),c=l.map(y=>y.truncatedLabel),d=e.facetValues.some(y=>y.isSelected)?e.facetValues.map((y,v)=>y.isSelected?i[v]:i[v].replace("rgb(","rgba(").replace(")",", 0.25)")):i,p={values:r==="PIE"?e.facetValues.map(y=>y.count):void 0,labels:l.map(y=>y.label),text:c,x:r==="BAR"?e.facetValues.map(y=>{var v;return((v=l.find(w=>w.facet===y))==null?void 0:v.label)??y.value}):void 0,y:r==="BAR"?e.facetValues.map(y=>y.count):void 0,facetEnumerationValues:e.facetValues.map(y=>y.value),name:e.columnName,hovertemplate:r==="PIE"?"<b>%{text}</b><br>%{value} (%{percent})<br><extra></extra>":"<b>%{text}: </b><br>%{value} <br><extra></extra>",textinfo:"none",type:r==="PIE"?"pie":"bar",pull:r==="PIE"?e.facetValues.map(y=>y.isSelected?.1:0):void 0,marker:{colors:r==="PIE"?d:void 0,color:r==="BAR"?d:void 0}};return{data:[p],labels:l,colors:r==="PIE"?(h=p.marker)==null?void 0:h.colors:(g=p.marker)==null?void 0:g.color}}const UW=(e,t,n)=>{if(e.points&&e.points[0]){const r=e.points[0],a=r.data.facetEnumerationValues[r.pointNumber],i=t.facetValues.find(o=>o.value===a);n(t,i,!i.isSelected)}};function HW(e,t,n){const a=e?e*(t==="BAR"?.8:.6):200;let i=t==="PIE"?a:a/3;return i>n&&(i=n),{width:`${a}px`,height:`${i}px`}}const bu=e=>{var _;const{onHide:t,isModalView:n,applyChangesToGraphSlice:r,index:a,facetToPlot:i,plotType:o,onSetPlotType:s}=e,{accessToken:l}=Ze(),c=Ce(tr),u=Ce(ut),{getColumnDisplayName:d}=Rt(),[p,m]=R.useState(!1),h=d(i.columnName),g=R.useCallback(()=>{var b,E;return(E=(b=u==null?void 0:u.columnModels)==null?void 0:b.find(S=>S.name===i.columnName))==null?void 0:E.columnType},[u,i.columnName]),{data:y}=Yo(["extractPlotDataArray",i,g(),a,o,l],()=>BW(i,g(),a,o,l),{enabled:!!i}),v=()=>P("div",{onClick:b=>{b.stopPropagation()},className:"bootstrap-4-backport SRC-labeled-dropdown",children:[f("span",{className:"SRC-labeled-dropdown__label",children:"Chart Type"}),P(zt,{children:[f(zt.Toggle,{className:"secondary-caret",variant:"gray-select",children:o==="PIE"?"Pie Chart":"Bar Chart"}),P(zt.Menu,{className:"chart-tools",children:[f(zt.Item,{as:"button",onClick:()=>s("BAR"),children:"Bar Chart"}),f(zt.Item,{as:"button",onClick:()=>s("PIE"),children:"Pie Chart"})]})]})]}),w=(_=u==null?void 0:u.columnModels)==null?void 0:_.find(b=>b.name===i.columnName);return!u&&c||!i||!w?f("div",{className:"SRC-loadingContainer SRC-centerContentColumn",children:Gh}):P(te,{children:[f(Ba,{open:p,onCancel:()=>m(!1),title:h??"",content:f(bu,{...e,isModalView:!0}),hasCancelButton:!1,confirmButtonText:"Apply Filters",onConfirm:()=>m(!1)}),P("div",{role:"graphics-document",className:`FacetNavPanel${n?"--expanded":""}`,children:[!n&&P("div",{className:"FacetNavPanel__title",children:[!u&&c?f(Ra,{width:100}):f("span",{className:"FacetNavPanel__title__name",children:h}),P("div",{className:"FacetNavPanel__title__tools",children:[f(Ii,{facetValues:i.facetValues,columnModel:w,containerAs:"Dropdown"}),f(At,{title:"Expand to large graph",children:f(an,{onClick:()=>m(!0),size:"small",children:f(De,{icon:"openInFull",wrap:!1,fontSize:"inherit"})})}),f(At,{title:"Hide graph under Show More",children:f(an,{onClick:()=>t(),size:"small",children:f(De,{icon:"close",wrap:!1,fontSize:"inherit"})})})]})]}),n&&P(te,{children:[P("div",{className:"bootstrap-4-backport SRC-labeled-dropdown",children:[f("span",{className:"SRC-labeled-dropdown__label",children:"Filter All Data By"}),f(Ii,{facetValues:i.facetValues,columnModel:u==null?void 0:u.columnModels.find(b=>b.name===i.columnName),containerAs:"Dropdown",dropdownType:"SelectBox"}),f(At,{title:"Selecting items in this dropdown will affect all facets on the Explore page.",children:f(rx,{className:"SRC-hand-cursor SRC-secondary-text-color"})})]}),f(v,{})]}),P(Le,{sx:{display:"grid",gridTemplateColumns:"50% 50%"},role:"graphics-object",className:"FacetNavPanel__body",children:[f(tx.SizeMe,{monitorHeight:!0,noPlaceholder:!0,children:({size:b})=>f("div",{children:f(FW,{layout:MW,data:(y==null?void 0:y.data)??[],style:HW(b.width,o,n?300:150),config:{displayModeBar:!1},onClick:E=>UW(E,i,r)},`${i.columnName}-${o}-${b.width}`)})}),f(Am,{labels:y==null?void 0:y.labels,colors:y==null?void 0:y.colors,isExpanded:n})]})]})]})};try{bu.displayName="FacetNavPanel",bu.__docgenInfo={description:"",displayName:"FacetNavPanel",props:{applyChangesToGraphSlice:{defaultValue:null,description:"",name:"applyChangesToGraphSlice",required:!0,type:{name:"(facet: FacetColumnResultValues, value: FacetColumnResultValueCount | undefined, isSelected: boolean) => void"}},applyChangesToFacetFilter:{defaultValue:null,description:"",name:"applyChangesToFacetFilter",required:!0,type:{name:"(facets: FacetColumnRequest[]) => void"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},facetToPlot:{defaultValue:null,description:"",name:"facetToPlot",required:!0,type:{name:"FacetColumnResultValues"}},plotType:{defaultValue:null,description:"",name:"plotType",required:!0,type:{name:"enum",value:[{value:'"PIE"'},{value:'"BAR"'}]}},onSetPlotType:{defaultValue:null,description:"",name:"onSetPlotType",required:!0,type:{name:"(plotType: PlotType) => void"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}},isModalView:{defaultValue:null,description:"",name:"isModalView",required:!0,type:{name:"boolean"}},onCloseModal:{defaultValue:null,description:"",name:"onCloseModal",required:!1,type:{name:"(() => void)"}}}}}catch{}const aT=4;function zW(e,t,n){const{getColumnDisplayName:r}=n,a=t.getColumnModel(e.columnName);if(e.values.length>aT||!a){const i=`${Zn(r(e.columnName))} (${e.values.length.toLocaleString()})`;return[{key:`queryFilter-${e.concreteType}-${e.columnName}`,innerText:i,tooltipText:i,onRemoveFilter:()=>{t.removeQueryFilter(e)}}]}return e.values.map(i=>{let o=i;i!=null&&i.startsWith("%")&&(i!=null&&i.endsWith("%"))&&(o=o.substring(1,o.length-1)),o=n.getDisplayValue(o,a.columnType);const s=`${r(e.columnName)}: ${o}`;return{key:`queryFilter-${e.concreteType}-${e.columnName}-${i}`,innerText:s,tooltipText:s,onRemoveFilter:()=>{t.removeValueFromQueryFilter(e,i)}}})}function jW(e,t){return{key:`queryFilter-${e.concreteType}-${e.searchExpression}`,innerText:e.searchExpression,tooltipText:`Text matches: "${e.searchExpression}"`,onRemoveFilter:()=>{t.removeQueryFilter(e)}}}function WW(e,t,n,r){return e.flatMap(a=>{var i;return Cl(a)||El(a)?a.columnName.toLowerCase()===((i=r==null?void 0:r.columnName)==null?void 0:i.toLowerCase())?[]:zW(a,t,n):QT(a)?[jW(a,t)]:(console.log("Unknown query filter type",a),[])})}function GW(e,t,n,r){return e.flatMap(a=>{var l;if(a.columnName.toLowerCase()===((l=r==null?void 0:r.columnName)==null?void 0:l.toLowerCase()))return[];const i=t.getColumnModel(a.columnName),{getColumnDisplayName:o,getDisplayValue:s}=n;if(Sl(a)){if(a.facetValues.length>aT||!i){const c=`${Zn(o(a.columnName))} (${a.facetValues.length.toLocaleString()})`;return[{key:`facet-${a.concreteType}-${a.columnName}`,innerText:c,tooltipText:c,onRemoveFilter:()=>{t.removeSelectedFacet(a)}}]}return a.facetValues.map(c=>{const u=s(c,i.columnType);return{key:`facet-${a.concreteType}-${a.columnName}-${c}`,innerText:u,tooltipText:`${o(a.columnName)}: ${u}`,onRemoveFilter:()=>{t.removeValueFromSelectedFacet(a,c)}}})}else if(XT(a)){const{combineRangeFacetConfig:c}=t;if(c&&(a.columnName==c.minFacetColumn||a.columnName==c.maxFacetColumn)){if(a.columnName==c.minFacetColumn)return[];{const d=a,p=e.find(h=>h.columnName==c.minFacetColumn),m=`${d.min} - ${p.max}`;return[{key:`facet-${a.concreteType}-${a.columnName}-${m}`,innerText:m,tooltipText:`${c.label}: ${m}`,onRemoveFilter:()=>{t.removeSelectedFacet([p,d])}}]}}const u=`${a.min} - ${a.max}`;return[{key:`facet-${a.concreteType}-${a.columnName}-${a.min}-${a.max}`,innerText:u,tooltipText:`${o(a.columnName)}: ${u}`,onRemoveFilter:()=>{t.removeSelectedFacet(a)}}]}else return console.log("Unknown facet type",a.concreteType),[]})}function KW(){var s;const e=Ct(),t=Ce($i),n=Rt(),{currentQueryRequest:r}=e,a=WW(((s=r.query)==null?void 0:s.additionalFilters)??[],e,n,t),i=GW(r.query.selectedFacets??[],e,n,t),o=[...a,...i];return f(te,{children:o.map(l=>{const c=encodeURIComponent(l.key);return R.createElement(ax,{...l,key:c})})})}function Ho(e){const{style:t,frontText:n,endText:r="",hideIfUnfiltered:a=!1}=e,{resetQuery:i,error:o,hasResettableFilters:s}=Ct(),l=Ce(ut),c=Ce(tr),{unitDescription:u}=Rt(),d=l==null?void 0:l.queryCount,p=s;return o?f(te,{}):f("div",{className:`TotalQueryResults ${s?"hasFilters":""}`,style:t,children:c?f(Ra,{width:100}):P(te,{children:[(s||!a)&&P("div",{className:"TotalQueryResults__topbar",children:[P("span",{className:"SRC-boldText",children:[n," ",d==null?void 0:d.toLocaleString()," ",Zn(u,d)," ",r]}),p&&P("a",{onClick:i,className:"TotalQueryResults__topbar__clearall",children:[f(De,{icon:"deleteSweep"}),"Clear all filters"]})]}),f("div",{className:"TotalQueryResults__selections",children:f(KW,{})})]})})}try{Ho.displayName="TotalQueryResults",Ho.__docgenInfo={description:"",displayName:"TotalQueryResults",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},frontText:{defaultValue:null,description:"",name:"frontText",required:!0,type:{name:"string"}},endText:{defaultValue:null,description:"",name:"endText",required:!1,type:{name:"string"}},applyChanges:{defaultValue:null,description:"",name:"applyChanges",required:!1,type:{name:"((newFacets: FacetColumnRequest[]) => void)"}},hideIfUnfiltered:{defaultValue:null,description:"",name:"hideIfUnfiltered",required:!1,type:{name:"boolean"}}}}}catch{}const Sf=2;function Z_(e,t){var r;return((r=e==null?void 0:e.facets)==null?void 0:r.filter(a=>a.facetType==="enumeration"&&(!(t!=null&&t.length)||t.indexOf(a.columnName)>-1)&&a.facetValues.length>0&&!mS(a)))??[]}const Om=({facetsToPlot:e})=>{const{getCurrentQueryRequest:t,executeQueryRequest:n,error:r}=Ct(),a=Ce(ut),i=Ce(tr),{showFacetVisualization:o}=Rt(),[s,l]=R.useState([]),c=t(),u=R.useMemo(()=>Z_(a,e),[a,e]);R.useEffect(()=>{u.length>0&&s.length===0&&l(u.map((E,S)=>({name:E.columnName,isHidden:S>=Sf,plotType:"PIE"})))},[s.length,u]);const d=E=>{l(S=>S.map((N,C)=>E?{...N,isHidden:!1}:{...N,isHidden:C>=Sf}))},p=E=>{n(S=>(S.query.selectedFacets=E,S.query.offset=0,S),{debounce:!0})},m=E=>s.find(C=>C.name===E&&C.isHidden===!0)!==void 0,h=R.useMemo(()=>s.find(E=>E.isHidden===!0)?"MORE":s.length<=Sf?"NONE":"LESS",[s]),g=E=>{w(E,"isHidden",!0)},y=(E,S)=>{w(E,"plotType",S)},v=E=>{var N;return((N=s.find(C=>C.name===E))==null?void 0:N.plotType)??"PIE"},w=(E,S,N)=>{l(C=>C.map(I=>I.name===E?{...I,[S]:N}:I))},_=Z_(a,e).map((E,S)=>({columnName:E.columnName,colorIndex:S})),b=(c==null?void 0:c.query.selectedFacets)!==void 0&&c.query.selectedFacets.length>0||(c==null?void 0:c.query.additionalFilters)!==void 0&&(c==null?void 0:c.query.additionalFilters.length)>0;return r||!a&&i?f(te,{}):P(te,{children:[f(Ho,{frontText:"",endText:b?"filtered by":"",hideIfUnfiltered:!0}),u.length>0&&P("div",{className:`FacetNav ${o?"":"hidden"} ${h==="LESS"?"less":""}`,children:[f("div",{className:"FacetNav__row",role:"list",children:u.map(E=>{var S;return f("div",{style:{minWidth:"435px",display:m(E.columnName)?"none":"block"},children:f(bu,{index:(S=_.find(N=>N.columnName===E.columnName))==null?void 0:S.colorIndex,onHide:()=>g(E.columnName),plotType:v(E.columnName),onSetPlotType:N=>y(E.columnName,N),facetToPlot:E,applyChangesToFacetFilter:p,applyChangesToGraphSlice:(N,C,I)=>OW(c,N,p,C==null?void 0:C.value,I),isModalView:!1})},E.columnName)})}),h!=="NONE"&&f(Le,{display:"flex",justifyContent:"center",sx:{backgroundColor:"grey.100",p:2,mt:2},children:f(rt,{variant:"contained",color:"secondary",onClick:()=>d(h==="MORE"),sx:{width:"150px"},children:h==="LESS"?"Hide Charts":"View All Charts"})})]})]})};try{Om.displayName="FacetNav",Om.__docgenInfo={description:"",displayName:"FacetNav",props:{facetsToPlot:{defaultValue:null,description:"",name:"facetsToPlot",required:!1,type:{name:"string[]"}}}}}catch{}const YW=()=>{const{goToPage:e,pageSize:t,setPageSize:n,currentPage:r}=V$(),a=Ce(ut),i=a==null?void 0:a.queryCount,o=(l,c)=>{e(c)},s=l=>{const c=l.target.value;n(c)};return r==1&&i&&i<10?f(te,{}):P("div",{children:[f(I$,{page:r,count:Math.ceil(i/t),color:"secondary",onChange:o,shape:"rounded",sx:{display:"inline-block",float:"left",".MuiPaginationItem-root":{fontSize:"14px"}}}),f(le,{variant:"body1",style:{display:"inline-block"},children:`${i==null?void 0:i.toLocaleString()} total rows /`}),P("select",{name:"page size",onChange:s,style:{padding:"4px",marginLeft:"4px"},value:t,children:[f("option",{value:10,children:"10 per page"}),f("option",{value:25,children:"25 per page"}),f("option",{value:100,children:"100 per page"}),f("option",{value:500,children:"500 per page"})]})]})};var xa=[],QW=function(){return xa.some(function(e){return e.activeTargets.length>0})},XW=function(){return xa.some(function(e){return e.skippedTargets.length>0})},ew="ResizeObserver loop completed with undelivered notifications.",JW=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:ew}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=ew),window.dispatchEvent(e)},zo;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(zo||(zo={}));var $a=function(e){return Object.freeze(e)},ZW=function(){function e(t,n){this.inlineSize=t,this.blockSize=n,$a(this)}return e}(),iT=function(){function e(t,n,r,a){return this.x=t,this.y=n,this.width=r,this.height=a,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,$a(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,r=t.y,a=t.top,i=t.right,o=t.bottom,s=t.left,l=t.width,c=t.height;return{x:n,y:r,top:a,right:i,bottom:o,left:s,width:l,height:c}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),zy=function(e){return e instanceof SVGElement&&"getBBox"in e},oT=function(e){if(zy(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var a=e,i=a.offsetWidth,o=a.offsetHeight;return!(i||o||e.getClientRects().length)},tw=function(e){var t;if(e instanceof Element)return!0;var n=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},eG=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},_o=typeof window<"u"?window:{},Xs=new WeakMap,nw=/auto|scroll/,tG=/^tb|vertical/,nG=/msie|trident/i.test(_o.navigator&&_o.navigator.userAgent),jn=function(e){return parseFloat(e||"0")},mi=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new ZW((n?t:e)||0,(n?e:t)||0)},rw=$a({devicePixelContentBoxSize:mi(),borderBoxSize:mi(),contentBoxSize:mi(),contentRect:new iT(0,0,0,0)}),sT=function(e,t){if(t===void 0&&(t=!1),Xs.has(e)&&!t)return Xs.get(e);if(oT(e))return Xs.set(e,rw),rw;var n=getComputedStyle(e),r=zy(e)&&e.ownerSVGElement&&e.getBBox(),a=!nG&&n.boxSizing==="border-box",i=tG.test(n.writingMode||""),o=!r&&nw.test(n.overflowY||""),s=!r&&nw.test(n.overflowX||""),l=r?0:jn(n.paddingTop),c=r?0:jn(n.paddingRight),u=r?0:jn(n.paddingBottom),d=r?0:jn(n.paddingLeft),p=r?0:jn(n.borderTopWidth),m=r?0:jn(n.borderRightWidth),h=r?0:jn(n.borderBottomWidth),g=r?0:jn(n.borderLeftWidth),y=d+c,v=l+u,w=g+m,_=p+h,b=s?e.offsetHeight-_-e.clientHeight:0,E=o?e.offsetWidth-w-e.clientWidth:0,S=a?y+w:0,N=a?v+_:0,C=r?r.width:jn(n.width)-S-E,I=r?r.height:jn(n.height)-N-b,k=C+y+E+w,O=I+v+b+_,M=$a({devicePixelContentBoxSize:mi(Math.round(C*devicePixelRatio),Math.round(I*devicePixelRatio),i),borderBoxSize:mi(k,O,i),contentBoxSize:mi(C,I,i),contentRect:new iT(d,l,C,I)});return Xs.set(e,M),M},lT=function(e,t,n){var r=sT(e,n),a=r.borderBoxSize,i=r.contentBoxSize,o=r.devicePixelContentBoxSize;switch(t){case zo.DEVICE_PIXEL_CONTENT_BOX:return o;case zo.BORDER_BOX:return a;default:return i}},rG=function(){function e(t){var n=sT(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=$a([n.borderBoxSize]),this.contentBoxSize=$a([n.contentBoxSize]),this.devicePixelContentBoxSize=$a([n.devicePixelContentBoxSize])}return e}(),uT=function(e){if(oT(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},aG=function(){var e=1/0,t=[];xa.forEach(function(o){if(o.activeTargets.length!==0){var s=[];o.activeTargets.forEach(function(c){var u=new rG(c.target),d=uT(c.target);s.push(u),c.lastReportedSize=lT(c.target,c.observedBox),d<e&&(e=d)}),t.push(function(){o.callback.call(o.observer,s,o.observer)}),o.activeTargets.splice(0,o.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++){var a=r[n];a()}return e},aw=function(e){xa.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(a){a.isActive()&&(uT(a.target)>e?n.activeTargets.push(a):n.skippedTargets.push(a))})})},iG=function(){var e=0;for(aw(e);QW();)e=aG(),aw(e);return XW()&&JW(),e>0},Cf,cT=[],oG=function(){return cT.splice(0).forEach(function(e){return e()})},sG=function(e){if(!Cf){var t=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return oG()}).observe(n,r),Cf=function(){n.textContent="".concat(t?t--:t++)}}cT.push(e),Cf()},lG=function(e){sG(function(){requestAnimationFrame(e)})},bl=0,uG=function(){return!!bl},cG=250,dG={attributes:!0,characterData:!0,childList:!0,subtree:!0},iw=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],ow=function(e){return e===void 0&&(e=0),Date.now()+e},Ef=!1,fG=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=cG),!Ef){Ef=!0;var r=ow(t);lG(function(){var a=!1;try{a=iG()}finally{if(Ef=!1,t=r-ow(),!uG())return;a?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,dG)};document.body?n():_o.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),iw.forEach(function(n){return _o.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),iw.forEach(function(n){return _o.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}(),km=new fG,sw=function(e){!bl&&e>0&&km.start(),bl+=e,!bl&&km.stop()},pG=function(e){return!zy(e)&&!eG(e)&&getComputedStyle(e).display==="inline"},mG=function(){function e(t,n){this.target=t,this.observedBox=n||zo.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=lT(this.target,this.observedBox,!0);return pG(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),hG=function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e}(),Js=new WeakMap,lw=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},Zs=function(){function e(){}return e.connect=function(t,n){var r=new hG(t,n);Js.set(t,r)},e.observe=function(t,n,r){var a=Js.get(t),i=a.observationTargets.length===0;lw(a.observationTargets,n)<0&&(i&&xa.push(a),a.observationTargets.push(new mG(n,r&&r.box)),sw(1),km.schedule())},e.unobserve=function(t,n){var r=Js.get(t),a=lw(r.observationTargets,n),i=r.observationTargets.length===1;a>=0&&(i&&xa.splice(xa.indexOf(r),1),r.observationTargets.splice(a,1),sw(-1))},e.disconnect=function(t){var n=this,r=Js.get(t);r.observationTargets.slice().forEach(function(a){return n.unobserve(t,a.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e}(),gG=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Zs.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!tw(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Zs.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!tw(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Zs.unobserve(this,t)},e.prototype.disconnect=function(){Zs.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();const yG=J[typeof document<"u"&&document.createElement!==void 0?"useLayoutEffect":"useEffect"],vG=yG,bG=e=>{const t=R.useRef(e);return R.useEffect(()=>{t.current=e}),t},_G=bG,wG=typeof window<"u"&&"ResizeObserver"in window?window.ResizeObserver:gG;function SG(){}function CG(e,t){const n=NG(),r=_G(t);return vG(()=>{let a=!1;const i=e&&"current"in e?e.current:e;if(!i)return SG;function o(s,l){a||r.current(s,l)}return n.subscribe(i,o),()=>{a=!0,n.unsubscribe(i,o)}},[e,n,r]),n.observer}function EG(){let e=!1,t=[];const n=new Map,r=new wG((a,i)=>{t=t.concat(a);function o(){const s=new Set;for(let l=0;l<t.length;l++){if(s.has(t[l].target))continue;s.add(t[l].target);const c=n.get(t[l].target);c==null||c.forEach(u=>u(t[l],i))}t=[],e=!1}e||window.requestAnimationFrame(o),e=!0});return{observer:r,subscribe(a,i){var o;r.observe(a);const s=(o=n.get(a))!==null&&o!==void 0?o:[];s.push(i),n.set(a,s)},unsubscribe(a,i){var o;const s=(o=n.get(a))!==null&&o!==void 0?o:[];if(s.length===1){r.unobserve(a),n.delete(a);return}const l=s.indexOf(i);l!==-1&&s.splice(l,1),n.set(a,s)}}}let Nf;const NG=()=>Nf||(Nf=EG());function xi(e){const{isExpanded:t,...n}=e;return f("button",{...n,children:f(De,{icon:t?"minusBoxOutline":"addBoxOutline",sx:{color:"grey.600",height:"16px",verticalAlign:"top","&:hover":{color:"grey.700"}}})})}try{xi.displayName="ExpandCollapseButton",xi.__docgenInfo={description:"",displayName:"ExpandCollapseButton",props:{isExpanded:{defaultValue:null,description:"",name:"isExpanded",required:!0,type:{name:"boolean"}}}}}catch{}function Pm(e){const[t,n]=R.useState(!1),[r,a]=R.useState(!1),i=R.useRef(null);return CG(i,({target:o})=>{if(!t&&o){const s=o.getElementsByTagName("p")[0];s&&a(s.scrollHeight>s.clientHeight||s.scrollWidth>s.clientWidth)}}),P("td",{...e,className:`ExpandableTableData ${e.className?e.className:""}`,"aria-expanded":t,ref:i,children:[r&&f(xi,{isExpanded:t,className:"ExpandableTableData__expandButton",onClick:()=>n(!t)}),e.children]})}try{Pm.displayName="ExpandableTableDataCell",Pm.__docgenInfo={description:"",displayName:"ExpandableTableDataCell",props:{}}}catch{}/**
 * table-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wr(e,t){return typeof e=="function"?e(t):e}function In(e,t){return n=>{t.setState(r=>({...r,[e]:Wr(n,r[e])}))}}function _u(e){return e instanceof Function}function TG(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function IG(e,t){const n=[],r=a=>{a.forEach(i=>{n.push(i);const o=t(i);o!=null&&o.length&&r(o)})};return r(e),n}function Ve(e,t,n){let r=[],a;return()=>{let i;n.key&&n.debug&&(i=Date.now());const o=e();if(!(o.length!==r.length||o.some((c,u)=>r[u]!==c)))return a;r=o;let l;if(n.key&&n.debug&&(l=Date.now()),a=t(...o),n==null||n.onChange==null||n.onChange(a),n.key&&n.debug&&n!=null&&n.debug()){const c=Math.round((Date.now()-i)*100)/100,u=Math.round((Date.now()-l)*100)/100,d=u/16,p=(m,h)=>{for(m=String(m);m.length<h;)m=" "+m;return m};console.info(`%c⏱ ${p(u,5)} /${p(c,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*d,120))}deg 100% 31%);`,n==null?void 0:n.key)}return a}}function RG(e,t,n,r){var a,i;const s={...e._getDefaultColumnDef(),...t},l=s.accessorKey;let c=(a=(i=s.id)!=null?i:l?l.replace(".","_"):void 0)!=null?a:typeof s.header=="string"?s.header:void 0,u;if(s.accessorFn?u=s.accessorFn:l&&(l.includes(".")?u=p=>{let m=p;for(const g of l.split(".")){var h;m=(h=m)==null?void 0:h[g]}return m}:u=p=>p[s.accessorKey]),!c)throw new Error;let d={id:`${String(c)}`,accessorFn:u,parent:r,depth:n,columnDef:s,columns:[],getFlatColumns:Ve(()=>[!0],()=>{var p;return[d,...(p=d.columns)==null?void 0:p.flatMap(m=>m.getFlatColumns())]},{key:"column.getFlatColumns",debug:()=>{var p;return(p=e.options.debugAll)!=null?p:e.options.debugColumns}}),getLeafColumns:Ve(()=>[e._getOrderColumnsFn()],p=>{var m;if((m=d.columns)!=null&&m.length){let h=d.columns.flatMap(g=>g.getLeafColumns());return p(h)}return[d]},{key:"column.getLeafColumns",debug:()=>{var p;return(p=e.options.debugAll)!=null?p:e.options.debugColumns}})};return d=e._features.reduce((p,m)=>Object.assign(p,m.createColumn==null?void 0:m.createColumn(d,e)),d),d}function uw(e,t,n){var r;let i={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],s=l=>{l.subHeaders&&l.subHeaders.length&&l.subHeaders.map(s),o.push(l)};return s(i),o},getContext:()=>({table:e,header:i,column:t})};return e._features.forEach(o=>{Object.assign(i,o.createHeader==null?void 0:o.createHeader(i,e))}),i}const xG={createTable:e=>({getHeaderGroups:Ve(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,a)=>{var i,o;const s=(i=r==null?void 0:r.map(d=>n.find(p=>p.id===d)).filter(Boolean))!=null?i:[],l=(o=a==null?void 0:a.map(d=>n.find(p=>p.id===d)).filter(Boolean))!=null?o:[],c=n.filter(d=>!(r!=null&&r.includes(d.id))&&!(a!=null&&a.includes(d.id)));return el(t,[...s,...c,...l],e)},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getCenterHeaderGroups:Ve(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,a)=>(n=n.filter(i=>!(r!=null&&r.includes(i.id))&&!(a!=null&&a.includes(i.id))),el(t,n,e,"center")),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getLeftHeaderGroups:Ve(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var a;const i=(a=r==null?void 0:r.map(o=>n.find(s=>s.id===o)).filter(Boolean))!=null?a:[];return el(t,i,e,"left")},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getRightHeaderGroups:Ve(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var a;const i=(a=r==null?void 0:r.map(o=>n.find(s=>s.id===o)).filter(Boolean))!=null?a:[];return el(t,i,e,"right")},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getFooterGroups:Ve(()=>[e.getHeaderGroups()],t=>[...t].reverse(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getLeftFooterGroups:Ve(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getCenterFooterGroups:Ve(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getRightFooterGroups:Ve(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getFlatHeaders:Ve(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getLeftFlatHeaders:Ve(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getCenterFlatHeaders:Ve(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getRightFlatHeaders:Ve(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getCenterLeafHeaders:Ve(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getLeftLeafHeaders:Ve(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getRightLeafHeaders:Ve(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getLeafHeaders:Ve(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var a,i,o,s,l,c;return[...(a=(i=t[0])==null?void 0:i.headers)!=null?a:[],...(o=(s=n[0])==null?void 0:s.headers)!=null?o:[],...(l=(c=r[0])==null?void 0:c.headers)!=null?l:[]].map(u=>u.getLeafHeaders()).flat()},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}})})};function el(e,t,n,r){var a,i;let o=0;const s=function(p,m){m===void 0&&(m=1),o=Math.max(o,m),p.filter(h=>h.getIsVisible()).forEach(h=>{var g;(g=h.columns)!=null&&g.length&&s(h.columns,m+1)},0)};s(e);let l=[];const c=(p,m)=>{const h={depth:m,id:[r,`${m}`].filter(Boolean).join("_"),headers:[]},g=[];p.forEach(y=>{const v=[...g].reverse()[0],w=y.column.depth===h.depth;let _,b=!1;if(w&&y.column.parent?_=y.column.parent:(_=y.column,b=!0),v&&(v==null?void 0:v.column)===_)v.subHeaders.push(y);else{const E=uw(n,_,{id:[r,m,_.id,y==null?void 0:y.id].filter(Boolean).join("_"),isPlaceholder:b,placeholderId:b?`${g.filter(S=>S.column===_).length}`:void 0,depth:m,index:g.length});E.subHeaders.push(y),g.push(E)}h.headers.push(y),y.headerGroup=h}),l.push(h),m>0&&c(g,m-1)},u=t.map((p,m)=>uw(n,p,{depth:o,index:m}));c(u,o-1),l.reverse();const d=p=>p.filter(h=>h.column.getIsVisible()).map(h=>{let g=0,y=0,v=[0];h.subHeaders&&h.subHeaders.length?(v=[],d(h.subHeaders).forEach(_=>{let{colSpan:b,rowSpan:E}=_;g+=b,v.push(E)})):g=1;const w=Math.min(...v);return y=y+w,h.colSpan=g,h.rowSpan=y,{colSpan:g,rowSpan:y}});return d((a=(i=l[0])==null?void 0:i.headers)!=null?a:[]),l}const tl={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Tf=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),$G={getDefaultColumnDef:()=>tl,getInitialState:e=>({columnSizing:{},columnSizingInfo:Tf(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",onColumnSizingChange:In("columnSizing",e),onColumnSizingInfoChange:In("columnSizingInfo",e)}),createColumn:(e,t)=>({getSize:()=>{var n,r,a;const i=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:tl.minSize,(r=i??e.columnDef.size)!=null?r:tl.size),(a=e.columnDef.maxSize)!=null?a:tl.maxSize)},getStart:n=>{const r=n?n==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns(),a=r.findIndex(i=>i.id===e.id);if(a>0){const i=r[a-1];return i.getStart(n)+i.getSize()}return 0},resetSize:()=>{t.setColumnSizing(n=>{let{[e.id]:r,...a}=n;return a})},getCanResize:()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},getIsResizing:()=>t.getState().columnSizingInfo.isResizingColumn===e.id}),createHeader:(e,t)=>({getSize:()=>{let n=0;const r=a=>{if(a.subHeaders.length)a.subHeaders.forEach(r);else{var i;n+=(i=a.column.getSize())!=null?i:0}};return r(e),n},getStart:()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},getResizeHandler:()=>{const n=t.getColumn(e.column.id),r=n==null?void 0:n.getCanResize();return a=>{if(!n||!r||(a.persist==null||a.persist(),If(a)&&a.touches&&a.touches.length>1))return;const i=e.getSize(),o=e?e.getLeafHeaders().map(g=>[g.column.id,g.column.getSize()]):[[n.id,n.getSize()]],s=If(a)?Math.round(a.touches[0].clientX):a.clientX,l={},c=(g,y)=>{typeof y=="number"&&(t.setColumnSizingInfo(v=>{var w,_;const b=y-((w=v==null?void 0:v.startOffset)!=null?w:0),E=Math.max(b/((_=v==null?void 0:v.startSize)!=null?_:0),-.999999);return v.columnSizingStart.forEach(S=>{let[N,C]=S;l[N]=Math.round(Math.max(C+C*E,0)*100)/100}),{...v,deltaOffset:b,deltaPercentage:E}}),(t.options.columnResizeMode==="onChange"||g==="end")&&t.setColumnSizing(v=>({...v,...l})))},u=g=>c("move",g),d=g=>{c("end",g),t.setColumnSizingInfo(y=>({...y,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},p={moveHandler:g=>u(g.clientX),upHandler:g=>{document.removeEventListener("mousemove",p.moveHandler),document.removeEventListener("mouseup",p.upHandler),d(g.clientX)}},m={moveHandler:g=>(g.cancelable&&(g.preventDefault(),g.stopPropagation()),u(g.touches[0].clientX),!1),upHandler:g=>{var y;document.removeEventListener("touchmove",m.moveHandler),document.removeEventListener("touchend",m.upHandler),g.cancelable&&(g.preventDefault(),g.stopPropagation()),d((y=g.touches[0])==null?void 0:y.clientX)}},h=AG()?{passive:!1}:!1;If(a)?(document.addEventListener("touchmove",m.moveHandler,h),document.addEventListener("touchend",m.upHandler,h)):(document.addEventListener("mousemove",p.moveHandler,h),document.addEventListener("mouseup",p.upHandler,h)),t.setColumnSizingInfo(g=>({...g,startOffset:s,startSize:i,deltaOffset:0,deltaPercentage:0,columnSizingStart:o,isResizingColumn:n.id}))}}}),createTable:e=>({setColumnSizing:t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),setColumnSizingInfo:t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),resetColumnSizing:t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},resetHeaderSizeInfo:t=>{var n;e.setColumnSizingInfo(t?Tf():(n=e.initialState.columnSizingInfo)!=null?n:Tf())},getTotalSize:()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,a)=>r+a.getSize(),0))!=null?t:0},getLeftTotalSize:()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,a)=>r+a.getSize(),0))!=null?t:0},getCenterTotalSize:()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,a)=>r+a.getSize(),0))!=null?t:0},getRightTotalSize:()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,a)=>r+a.getSize(),0))!=null?t:0}})};let nl=null;function AG(){if(typeof nl=="boolean")return nl;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return nl=e,nl}function If(e){return e.type==="touchstart"}const OG={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:In("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;return{_autoResetExpanded:()=>{var r,a;if(!t){e._queue(()=>{t=!0});return}if((r=(a=e.options.autoResetAll)!=null?a:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},setExpanded:r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),toggleAllRowsExpanded:r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},resetExpanded:r=>{var a,i;e.setExpanded(r?{}:(a=(i=e.initialState)==null?void 0:i.expanded)!=null?a:{})},getCanSomeRowsExpand:()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),getToggleAllRowsExpandedHandler:()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},getIsSomeRowsExpanded:()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},getIsAllRowsExpanded:()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(a=>!a.getIsExpanded()))},getExpandedDepth:()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(i=>{const o=i.split(".");r=Math.max(r,o.length)}),r},getPreExpandedRowModel:()=>e.getSortedRowModel(),getExpandedRowModel:()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())}},createRow:(e,t)=>({toggleExpanded:n=>{t.setExpanded(r=>{var a;const i=r===!0?!0:!!(r!=null&&r[e.id]);let o={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(s=>{o[s]=!0}):o=r,n=(a=n)!=null?a:!i,!i&&n)return{...o,[e.id]:!0};if(i&&!n){const{[e.id]:s,...l}=o;return l}return r})},getIsExpanded:()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},getCanExpand:()=>{var n,r,a;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((a=e.subRows)!=null&&a.length)},getToggleExpandedHandler:()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}})},dT=(e,t,n)=>{var r,a,i;const o=n.toLowerCase();return!!(!((r=e.getValue(t))==null||(a=r.toString())==null||(i=a.toLowerCase())==null)&&i.includes(o))};dT.autoRemove=e=>qn(e);const fT=(e,t,n)=>{var r,a;return!!(!((r=e.getValue(t))==null||(a=r.toString())==null)&&a.includes(n))};fT.autoRemove=e=>qn(e);const pT=(e,t,n)=>{var r,a;return((r=e.getValue(t))==null||(a=r.toString())==null?void 0:a.toLowerCase())===(n==null?void 0:n.toLowerCase())};pT.autoRemove=e=>qn(e);const mT=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};mT.autoRemove=e=>qn(e)||!(e!=null&&e.length);const hT=(e,t,n)=>!n.some(r=>{var a;return!((a=e.getValue(t))!=null&&a.includes(r))});hT.autoRemove=e=>qn(e)||!(e!=null&&e.length);const gT=(e,t,n)=>n.some(r=>{var a;return(a=e.getValue(t))==null?void 0:a.includes(r)});gT.autoRemove=e=>qn(e)||!(e!=null&&e.length);const yT=(e,t,n)=>e.getValue(t)===n;yT.autoRemove=e=>qn(e);const vT=(e,t,n)=>e.getValue(t)==n;vT.autoRemove=e=>qn(e);const jy=(e,t,n)=>{let[r,a]=n;const i=e.getValue(t);return i>=r&&i<=a};jy.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,a=typeof n!="number"?parseFloat(n):n,i=t===null||Number.isNaN(r)?-1/0:r,o=n===null||Number.isNaN(a)?1/0:a;if(i>o){const s=i;i=o,o=s}return[i,o]};jy.autoRemove=e=>qn(e)||qn(e[0])&&qn(e[1]);const ur={includesString:dT,includesStringSensitive:fT,equalsString:pT,arrIncludes:mT,arrIncludesAll:hT,arrIncludesSome:gT,equals:yT,weakEquals:vT,inNumberRange:jy};function qn(e){return e==null||e===""}const kG={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],globalFilter:void 0,...e}),getDefaultOptions:e=>({onColumnFiltersChange:In("columnFilters",e),onGlobalFilterChange:In("globalFilter",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100,globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n,r;const a=(n=e.getCoreRowModel().flatRows[0])==null||(r=n._getAllCellsByColumnId()[t.id])==null?void 0:r.getValue();return typeof a=="string"||typeof a=="number"}}),createColumn:(e,t)=>({getAutoFilterFn:()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?ur.includesString:typeof r=="number"?ur.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?ur.equals:Array.isArray(r)?ur.arrIncludes:ur.weakEquals},getFilterFn:()=>{var n,r;return _u(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:ur[e.columnDef.filterFn]},getCanFilter:()=>{var n,r,a;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((a=t.options.enableFilters)!=null?a:!0)&&!!e.accessorFn},getCanGlobalFilter:()=>{var n,r,a,i;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((a=t.options.enableFilters)!=null?a:!0)&&((i=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?i:!0)&&!!e.accessorFn},getIsFiltered:()=>e.getFilterIndex()>-1,getFilterValue:()=>{var n,r;return(n=t.getState().columnFilters)==null||(r=n.find(a=>a.id===e.id))==null?void 0:r.value},getFilterIndex:()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(a=>a.id===e.id))!=null?n:-1},setFilterValue:n=>{t.setColumnFilters(r=>{const a=e.getFilterFn(),i=r==null?void 0:r.find(u=>u.id===e.id),o=Wr(n,i?i.value:void 0);if(cw(a,o,e)){var s;return(s=r==null?void 0:r.filter(u=>u.id!==e.id))!=null?s:[]}const l={id:e.id,value:o};if(i){var c;return(c=r==null?void 0:r.map(u=>u.id===e.id?l:u))!=null?c:[]}return r!=null&&r.length?[...r,l]:[l]})},_getFacetedRowModel:t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),getFacetedRowModel:()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),_getFacetedUniqueValues:t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),getFacetedUniqueValues:()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,_getFacetedMinMaxValues:t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),getFacetedMinMaxValues:()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}),createRow:(e,t)=>({columnFilters:{},columnFiltersMeta:{}}),createTable:e=>({getGlobalAutoFilterFn:()=>ur.includesString,getGlobalFilterFn:()=>{var t,n;const{globalFilterFn:r}=e.options;return _u(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:ur[r]},setColumnFilters:t=>{const n=e.getAllLeafColumns(),r=a=>{var i;return(i=Wr(t,a))==null?void 0:i.filter(o=>{const s=n.find(l=>l.id===o.id);if(s){const l=s.getFilterFn();if(cw(l,o.value,s))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},setGlobalFilter:t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},resetGlobalFilter:t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)},resetColumnFilters:t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},getPreFilteredRowModel:()=>e.getCoreRowModel(),getFilteredRowModel:()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel()),_getGlobalFacetedRowModel:e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),getGlobalFacetedRowModel:()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),_getGlobalFacetedUniqueValues:e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),getGlobalFacetedUniqueValues:()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,_getGlobalFacetedMinMaxValues:e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),getGlobalFacetedMinMaxValues:()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}})};function cw(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const PG=(e,t,n)=>n.reduce((r,a)=>{const i=a.getValue(e);return r+(typeof i=="number"?i:0)},0),DG=(e,t,n)=>{let r;return n.forEach(a=>{const i=a.getValue(e);i!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}),r},VG=(e,t,n)=>{let r;return n.forEach(a=>{const i=a.getValue(e);i!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}),r},LG=(e,t,n)=>{let r,a;return n.forEach(i=>{const o=i.getValue(e);o!=null&&(r===void 0?o>=o&&(r=a=o):(r>o&&(r=o),a<o&&(a=o)))}),[r,a]},FG=(e,t)=>{let n=0,r=0;if(t.forEach(a=>{let i=a.getValue(e);i!=null&&(i=+i)>=i&&(++n,r+=i)}),n)return r/n},qG=(e,t)=>{if(!t.length)return;const n=t.map(i=>i.getValue(e));if(!TG(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),a=n.sort((i,o)=>i-o);return n.length%2!==0?a[r]:(a[r-1]+a[r])/2},MG=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),BG=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,UG=(e,t)=>t.length,Rf={sum:PG,min:DG,max:VG,extent:LG,mean:FG,median:qG,unique:MG,uniqueCount:BG,count:UG},HG={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:In("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>({toggleGrouping:()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},getCanGroup:()=>{var n,r,a,i;return(n=(r=(a=(i=e.columnDef.enableGrouping)!=null?i:!0)!=null?a:t.options.enableGrouping)!=null?r:!0)!=null?n:!!e.accessorFn},getIsGrouped:()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},getGroupedIndex:()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},getToggleGroupingHandler:()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},getAutoAggregationFn:()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return Rf.sum;if(Object.prototype.toString.call(r)==="[object Date]")return Rf.extent},getAggregationFn:()=>{var n,r;if(!e)throw new Error;return _u(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:Rf[e.columnDef.aggregationFn]}}),createTable:e=>({setGrouping:t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),resetGrouping:t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},getPreGroupedRowModel:()=>e.getFilteredRowModel(),getGroupedRowModel:()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())}),createRow:(e,t)=>({getIsGrouped:()=>!!e.groupingColumnId,getGroupingValue:n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},_groupingValuesCache:{}}),createCell:(e,t,n,r)=>({getIsGrouped:()=>t.getIsGrouped()&&t.id===n.groupingColumnId,getIsPlaceholder:()=>!e.getIsGrouped()&&t.getIsGrouped(),getIsAggregated:()=>{var a;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((a=n.subRows)!=null&&a.length)}})};function zG(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(i=>!t.includes(i.id));return n==="remove"?r:[...t.map(i=>e.find(o=>o.id===i)).filter(Boolean),...r]}const jG={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:In("columnOrder",e)}),createTable:e=>({setColumnOrder:t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),resetColumnOrder:t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},_getOrderColumnsFn:Ve(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>a=>{let i=[];if(!(t!=null&&t.length))i=a;else{const o=[...t],s=[...a];for(;s.length&&o.length;){const l=o.shift(),c=s.findIndex(u=>u.id===l);c>-1&&i.push(s.splice(c,1)[0])}i=[...i,...s]}return zG(i,n,r)},{key:!1})})},Dm=0,Vm=10,xf=()=>({pageIndex:Dm,pageSize:Vm}),WG={getInitialState:e=>({...e,pagination:{...xf(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:In("pagination",e)}),createTable:e=>{let t=!1,n=!1;return{_autoResetPageIndex:()=>{var r,a;if(!t){e._queue(()=>{t=!0});return}if((r=(a=e.options.autoResetAll)!=null?a:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},setPagination:r=>{const a=i=>Wr(r,i);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(a)},resetPagination:r=>{var a;e.setPagination(r?xf():(a=e.initialState.pagination)!=null?a:xf())},setPageIndex:r=>{e.setPagination(a=>{let i=Wr(r,a.pageIndex);const o=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return i=Math.max(0,Math.min(i,o)),{...a,pageIndex:i}})},resetPageIndex:r=>{var a,i,o;e.setPageIndex(r?Dm:(a=(i=e.initialState)==null||(o=i.pagination)==null?void 0:o.pageIndex)!=null?a:Dm)},resetPageSize:r=>{var a,i,o;e.setPageSize(r?Vm:(a=(i=e.initialState)==null||(o=i.pagination)==null?void 0:o.pageSize)!=null?a:Vm)},setPageSize:r=>{e.setPagination(a=>{const i=Math.max(1,Wr(r,a.pageSize)),o=a.pageSize*a.pageIndex,s=Math.floor(o/i);return{...a,pageIndex:s,pageSize:i}})},setPageCount:r=>e.setPagination(a=>{var i;let o=Wr(r,(i=e.options.pageCount)!=null?i:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...a,pageCount:o}}),getPageOptions:Ve(()=>[e.getPageCount()],r=>{let a=[];return r&&r>0&&(a=[...new Array(r)].fill(null).map((i,o)=>o)),a},{key:!1,debug:()=>{var r;return(r=e.options.debugAll)!=null?r:e.options.debugTable}}),getCanPreviousPage:()=>e.getState().pagination.pageIndex>0,getCanNextPage:()=>{const{pageIndex:r}=e.getState().pagination,a=e.getPageCount();return a===-1?!0:a===0?!1:r<a-1},previousPage:()=>e.setPageIndex(r=>r-1),nextPage:()=>e.setPageIndex(r=>r+1),getPrePaginationRowModel:()=>e.getExpandedRowModel(),getPaginationRowModel:()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),getPageCount:()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getPrePaginationRowModel().rows.length/e.getState().pagination.pageSize)}}}},$f=()=>({left:[],right:[]}),GG={getInitialState:e=>({columnPinning:$f(),...e}),getDefaultOptions:e=>({onColumnPinningChange:In("columnPinning",e)}),createColumn:(e,t)=>({pin:n=>{const r=e.getLeafColumns().map(a=>a.id).filter(Boolean);t.setColumnPinning(a=>{var i,o;if(n==="right"){var s,l;return{left:((s=a==null?void 0:a.left)!=null?s:[]).filter(d=>!(r!=null&&r.includes(d))),right:[...((l=a==null?void 0:a.right)!=null?l:[]).filter(d=>!(r!=null&&r.includes(d))),...r]}}if(n==="left"){var c,u;return{left:[...((c=a==null?void 0:a.left)!=null?c:[]).filter(d=>!(r!=null&&r.includes(d))),...r],right:((u=a==null?void 0:a.right)!=null?u:[]).filter(d=>!(r!=null&&r.includes(d)))}}return{left:((i=a==null?void 0:a.left)!=null?i:[]).filter(d=>!(r!=null&&r.includes(d))),right:((o=a==null?void 0:a.right)!=null?o:[]).filter(d=>!(r!=null&&r.includes(d)))}})},getCanPin:()=>e.getLeafColumns().some(r=>{var a,i;return((a=r.columnDef.enablePinning)!=null?a:!0)&&((i=t.options.enablePinning)!=null?i:!0)}),getIsPinned:()=>{const n=e.getLeafColumns().map(s=>s.id),{left:r,right:a}=t.getState().columnPinning,i=n.some(s=>r==null?void 0:r.includes(s)),o=n.some(s=>a==null?void 0:a.includes(s));return i?"left":o?"right":!1},getPinnedIndex:()=>{var n,r,a;const i=e.getIsPinned();return i?(n=(r=t.getState().columnPinning)==null||(a=r[i])==null?void 0:a.indexOf(e.id))!=null?n:-1:0}}),createRow:(e,t)=>({getCenterVisibleCells:Ve(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,a)=>{const i=[...r??[],...a??[]];return n.filter(o=>!i.includes(o.column.id))},{key:"row.getCenterVisibleCells",debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}}),getLeftVisibleCells:Ve(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,,],(n,r)=>(r??[]).map(i=>n.find(o=>o.column.id===i)).filter(Boolean).map(i=>({...i,position:"left"})),{key:"row.getLeftVisibleCells",debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}}),getRightVisibleCells:Ve(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(i=>n.find(o=>o.column.id===i)).filter(Boolean).map(i=>({...i,position:"right"})),{key:"row.getRightVisibleCells",debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}})}),createTable:e=>({setColumnPinning:t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),resetColumnPinning:t=>{var n,r;return e.setColumnPinning(t?$f():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:$f())},getIsSomeColumnsPinned:t=>{var n;const r=e.getState().columnPinning;if(!t){var a,i;return!!((a=r.left)!=null&&a.length||(i=r.right)!=null&&i.length)}return!!((n=r[t])!=null&&n.length)},getLeftLeafColumns:Ve(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(a=>a.id===r)).filter(Boolean),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugColumns}}),getRightLeafColumns:Ve(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(a=>a.id===r)).filter(Boolean),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugColumns}}),getCenterLeafColumns:Ve(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const a=[...n??[],...r??[]];return t.filter(i=>!a.includes(i.id))},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugColumns}})})},KG={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:In("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>({setRowSelection:t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),resetRowSelection:t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},toggleAllRowsSelected:t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},a=e.getPreGroupedRowModel().flatRows;return t?a.forEach(i=>{i.getCanSelect()&&(r[i.id]=!0)}):a.forEach(i=>{delete r[i.id]}),r})},toggleAllPageRowsSelected:t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),a={...n};return e.getRowModel().rows.forEach(i=>{Lm(a,i.id,r,e)}),a}),getPreSelectedRowModel:()=>e.getCoreRowModel(),getSelectedRowModel:Ve(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?Af(e,n):{rows:[],flatRows:[],rowsById:{}},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable}}),getFilteredSelectedRowModel:Ve(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?Af(e,n):{rows:[],flatRows:[],rowsById:{}},{key:"getFilteredSelectedRowModel",debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable}}),getGroupedSelectedRowModel:Ve(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?Af(e,n):{rows:[],flatRows:[],rowsById:{}},{key:"getGroupedSelectedRowModel",debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable}}),getIsAllRowsSelected:()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(a=>a.getCanSelect()&&!n[a.id])&&(r=!1),r},getIsAllPageRowsSelected:()=>{const t=e.getPaginationRowModel().flatRows.filter(a=>a.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(a=>!n[a.id])&&(r=!1),r},getIsSomeRowsSelected:()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},getIsSomePageRowsSelected:()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},getToggleAllRowsSelectedHandler:()=>t=>{e.toggleAllRowsSelected(t.target.checked)},getToggleAllPageRowsSelectedHandler:()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}}),createRow:(e,t)=>({toggleSelected:n=>{const r=e.getIsSelected();t.setRowSelection(a=>{if(n=typeof n<"u"?n:!r,r===n)return a;const i={...a};return Lm(i,e.id,n,t),i})},getIsSelected:()=>{const{rowSelection:n}=t.getState();return Wy(e,n)},getIsSomeSelected:()=>{const{rowSelection:n}=t.getState();return dw(e,n)==="some"},getIsAllSubRowsSelected:()=>{const{rowSelection:n}=t.getState();return dw(e,n)==="all"},getCanSelect:()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},getCanSelectSubRows:()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},getCanMultiSelect:()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},getToggleSelectedHandler:()=>{const n=e.getCanSelect();return r=>{var a;n&&e.toggleSelected((a=r.target)==null?void 0:a.checked)}}})},Lm=(e,t,n,r)=>{var a;const i=r.getRow(t);n?(i.getCanMultiSelect()||Object.keys(e).forEach(o=>delete e[o]),i.getCanSelect()&&(e[t]=!0)):delete e[t],(a=i.subRows)!=null&&a.length&&i.getCanSelectSubRows()&&i.subRows.forEach(o=>Lm(e,o.id,n,r))};function Af(e,t){const n=e.getState().rowSelection,r=[],a={},i=function(o,s){return o.map(l=>{var c;const u=Wy(l,n);if(u&&(r.push(l),a[l.id]=l),(c=l.subRows)!=null&&c.length&&(l={...l,subRows:i(l.subRows)}),u)return l}).filter(Boolean)};return{rows:i(t.rows),flatRows:r,rowsById:a}}function Wy(e,t){var n;return(n=t[e.id])!=null?n:!1}function dw(e,t,n){if(e.subRows&&e.subRows.length){let r=!0,a=!1;return e.subRows.forEach(i=>{a&&!r||(Wy(i,t)?a=!0:r=!1)}),r?"all":a?"some":!1}return!1}const Fm=/([0-9]+)/gm,YG=(e,t,n)=>bT(aa(e.getValue(n)).toLowerCase(),aa(t.getValue(n)).toLowerCase()),QG=(e,t,n)=>bT(aa(e.getValue(n)),aa(t.getValue(n))),XG=(e,t,n)=>Gy(aa(e.getValue(n)).toLowerCase(),aa(t.getValue(n)).toLowerCase()),JG=(e,t,n)=>Gy(aa(e.getValue(n)),aa(t.getValue(n))),ZG=(e,t,n)=>{const r=e.getValue(n),a=t.getValue(n);return r>a?1:r<a?-1:0},eK=(e,t,n)=>Gy(e.getValue(n),t.getValue(n));function Gy(e,t){return e===t?0:e>t?1:-1}function aa(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function bT(e,t){const n=e.split(Fm).filter(Boolean),r=t.split(Fm).filter(Boolean);for(;n.length&&r.length;){const a=n.shift(),i=r.shift(),o=parseInt(a,10),s=parseInt(i,10),l=[o,s].sort();if(isNaN(l[0])){if(a>i)return 1;if(i>a)return-1;continue}if(isNaN(l[1]))return isNaN(o)?-1:1;if(o>s)return 1;if(s>o)return-1}return n.length-r.length}const to={alphanumeric:YG,alphanumericCaseSensitive:QG,text:XG,textCaseSensitive:JG,datetime:ZG,basic:eK},tK={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:In("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>({getAutoSortingFn:()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const a of n){const i=a==null?void 0:a.getValue(e.id);if(Object.prototype.toString.call(i)==="[object Date]")return to.datetime;if(typeof i=="string"&&(r=!0,i.split(Fm).length>1))return to.alphanumeric}return r?to.text:to.basic},getAutoSortDir:()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},getSortingFn:()=>{var n,r;if(!e)throw new Error;return _u(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:to[e.columnDef.sortingFn]},toggleSorting:(n,r)=>{const a=e.getNextSortingOrder(),i=typeof n<"u"&&n!==null;t.setSorting(o=>{const s=o==null?void 0:o.find(m=>m.id===e.id),l=o==null?void 0:o.findIndex(m=>m.id===e.id);let c=[],u,d=i?n:a==="desc";if(o!=null&&o.length&&e.getCanMultiSort()&&r?s?u="toggle":u="add":o!=null&&o.length&&l!==o.length-1?u="replace":s?u="toggle":u="replace",u==="toggle"&&(i||a||(u="remove")),u==="add"){var p;c=[...o,{id:e.id,desc:d}],c.splice(0,c.length-((p=t.options.maxMultiSortColCount)!=null?p:Number.MAX_SAFE_INTEGER))}else u==="toggle"?c=o.map(m=>m.id===e.id?{...m,desc:d}:m):u==="remove"?c=o.filter(m=>m.id!==e.id):c=[{id:e.id,desc:d}];return c})},getFirstSortDir:()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},getNextSortingOrder:n=>{var r,a;const i=e.getFirstSortDir(),o=e.getIsSorted();return o?o!==i&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(a=t.options.enableMultiRemove)!=null)||a)?!1:o==="desc"?"asc":"desc":i},getCanSort:()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},getCanMultiSort:()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},getIsSorted:()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(a=>a.id===e.id);return r?r.desc?"desc":"asc":!1},getSortIndex:()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(a=>a.id===e.id))!=null?n:-1},clearSorting:()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},getToggleSortingHandler:()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}}),createTable:e=>({setSorting:t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),resetSorting:t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},getPreSortedRowModel:()=>e.getGroupedRowModel(),getSortedRowModel:()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())})},nK={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:In("columnVisibility",e)}),createColumn:(e,t)=>({toggleVisibility:n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},getIsVisible:()=>{var n,r;return(n=(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},getCanHide:()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},getToggleVisibilityHandler:()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}}),createRow:(e,t)=>({_getAllVisibleCells:Ve(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),{key:"row._getAllVisibleCells",debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}}),getVisibleCells:Ve(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,a)=>[...n,...r,...a],{key:!1,debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}})}),createTable:e=>{const t=(n,r)=>Ve(()=>[r(),r().filter(a=>a.getIsVisible()).map(a=>a.id).join("_")],a=>a.filter(i=>i.getIsVisible==null?void 0:i.getIsVisible()),{key:n,debug:()=>{var a;return(a=e.options.debugAll)!=null?a:e.options.debugColumns}});return{getVisibleFlatColumns:t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),getVisibleLeafColumns:t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),getLeftVisibleLeafColumns:t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),getRightVisibleLeafColumns:t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),getCenterVisibleLeafColumns:t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),setColumnVisibility:n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),resetColumnVisibility:n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},toggleAllColumnsVisible:n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((a,i)=>({...a,[i.id]:n||!(i.getCanHide!=null&&i.getCanHide())}),{}))},getIsAllColumnsVisible:()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),getIsSomeColumnsVisible:()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),getToggleAllColumnsVisibilityHandler:()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}}},fw=[xG,nK,jG,GG,kG,tK,HG,OG,WG,KG,$G];function rK(e){var t;(e.debugAll||e.debugTable)&&console.info("Creating Table Instance...");let n={_features:fw};const r=n._features.reduce((u,d)=>Object.assign(u,d.getDefaultOptions==null?void 0:d.getDefaultOptions(n)),{}),a=u=>n.options.mergeOptions?n.options.mergeOptions(r,u):{...r,...u};let o={...{},...(t=e.initialState)!=null?t:{}};n._features.forEach(u=>{var d;o=(d=u.getInitialState==null?void 0:u.getInitialState(o))!=null?d:o});const s=[];let l=!1;const c={_features:fw,options:{...r,...e},initialState:o,_queue:u=>{s.push(u),l||(l=!0,Promise.resolve().then(()=>{for(;s.length;)s.shift()();l=!1}).catch(d=>setTimeout(()=>{throw d})))},reset:()=>{n.setState(n.initialState)},setOptions:u=>{const d=Wr(u,n.options);n.options=a(d)},getState:()=>n.options.state,setState:u=>{n.options.onStateChange==null||n.options.onStateChange(u)},_getRowId:(u,d,p)=>{var m;return(m=n.options.getRowId==null?void 0:n.options.getRowId(u,d,p))!=null?m:`${p?[p.id,d].join("."):d}`},getCoreRowModel:()=>(n._getCoreRowModel||(n._getCoreRowModel=n.options.getCoreRowModel(n)),n._getCoreRowModel()),getRowModel:()=>n.getPaginationRowModel(),getRow:u=>{const d=n.getRowModel().rowsById[u];if(!d)throw new Error;return d},_getDefaultColumnDef:Ve(()=>[n.options.defaultColumn],u=>{var d;return u=(d=u)!=null?d:{},{header:p=>{const m=p.header.column.columnDef;return m.accessorKey?m.accessorKey:m.accessorFn?m.id:null},cell:p=>{var m,h;return(m=(h=p.renderValue())==null||h.toString==null?void 0:h.toString())!=null?m:null},...n._features.reduce((p,m)=>Object.assign(p,m.getDefaultColumnDef==null?void 0:m.getDefaultColumnDef()),{}),...u}},{debug:()=>{var u;return(u=n.options.debugAll)!=null?u:n.options.debugColumns},key:!1}),_getColumnDefs:()=>n.options.columns,getAllColumns:Ve(()=>[n._getColumnDefs()],u=>{const d=function(p,m,h){return h===void 0&&(h=0),p.map(g=>{const y=RG(n,g,h,m),v=g;return y.columns=v.columns?d(v.columns,y,h+1):[],y})};return d(u)},{key:!1,debug:()=>{var u;return(u=n.options.debugAll)!=null?u:n.options.debugColumns}}),getAllFlatColumns:Ve(()=>[n.getAllColumns()],u=>u.flatMap(d=>d.getFlatColumns()),{key:!1,debug:()=>{var u;return(u=n.options.debugAll)!=null?u:n.options.debugColumns}}),_getAllFlatColumnsById:Ve(()=>[n.getAllFlatColumns()],u=>u.reduce((d,p)=>(d[p.id]=p,d),{}),{key:!1,debug:()=>{var u;return(u=n.options.debugAll)!=null?u:n.options.debugColumns}}),getAllLeafColumns:Ve(()=>[n.getAllColumns(),n._getOrderColumnsFn()],(u,d)=>{let p=u.flatMap(m=>m.getLeafColumns());return d(p)},{key:!1,debug:()=>{var u;return(u=n.options.debugAll)!=null?u:n.options.debugColumns}}),getColumn:u=>n._getAllFlatColumnsById()[u]};return Object.assign(n,c),n._features.forEach(u=>Object.assign(n,u.createTable==null?void 0:u.createTable(n))),n}function aK(e,t,n,r){const a=()=>{var o;return(o=i.getValue())!=null?o:e.options.renderFallbackValue},i={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:a,getContext:Ve(()=>[e,n,t,i],(o,s,l,c)=>({table:o,column:s,row:l,cell:c,getValue:c.getValue,renderValue:c.renderValue}),{key:!1,debug:()=>e.options.debugAll})};return e._features.forEach(o=>{Object.assign(i,o.createCell==null?void 0:o.createCell(i,n,t,e))},{}),i}const iK=(e,t,n,r,a,i,o)=>{let s={id:t,index:r,original:n,depth:a,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:l=>{if(s._valuesCache.hasOwnProperty(l))return s._valuesCache[l];const c=e.getColumn(l);if(c!=null&&c.accessorFn)return s._valuesCache[l]=c.accessorFn(s.original,r),s._valuesCache[l]},getUniqueValues:l=>{if(s._uniqueValuesCache.hasOwnProperty(l))return s._uniqueValuesCache[l];const c=e.getColumn(l);if(c!=null&&c.accessorFn)return c.columnDef.getUniqueValues?(s._uniqueValuesCache[l]=c.columnDef.getUniqueValues(s.original,r),s._uniqueValuesCache[l]):(s._uniqueValuesCache[l]=[s.getValue(l)],s._uniqueValuesCache[l])},renderValue:l=>{var c;return(c=s.getValue(l))!=null?c:e.options.renderFallbackValue},subRows:i??[],getLeafRows:()=>IG(s.subRows,l=>l.subRows),getParentRow:()=>s.parentId?e.getRow(s.parentId):void 0,getParentRows:()=>{let l=[],c=s;for(;;){const u=c.getParentRow();if(!u)break;l.push(u),c=u}return l.reverse()},getAllCells:Ve(()=>[e.getAllLeafColumns()],l=>l.map(c=>aK(e,s,c,c.id)),{key:!1,debug:()=>{var l;return(l=e.options.debugAll)!=null?l:e.options.debugRows}}),_getAllCellsByColumnId:Ve(()=>[s.getAllCells()],l=>l.reduce((c,u)=>(c[u.column.id]=u,c),{}),{key:"row.getAllCellsByColumnId",debug:()=>{var l;return(l=e.options.debugAll)!=null?l:e.options.debugRows}})};for(let l=0;l<e._features.length;l++){const c=e._features[l];Object.assign(s,c==null||c.createRow==null?void 0:c.createRow(s,e))}return s};function _T(){return{accessor:(e,t)=>typeof e=="function"?{...t,accessorFn:e}:{...t,accessorKey:e},display:e=>e,group:e=>e}}function oK(){return e=>Ve(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(a,i,o){i===void 0&&(i=0);const s=[];for(let c=0;c<a.length;c++){const u=iK(e,e._getRowId(a[c],c,o),a[c],c,i,void 0,o==null?void 0:o.id);if(n.flatRows.push(u),n.rowsById[u.id]=u,s.push(u),e.options.getSubRows){var l;u.originalSubRows=e.options.getSubRows(a[c],c),(l=u.originalSubRows)!=null&&l.length&&(u.subRows=r(u.originalSubRows,i+1,u))}}return s};return n.rows=r(t),n},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable},onChange:()=>{e._autoResetPageIndex()}})}/**
 * react-table
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pw(e,t){return e?sK(e)?R.createElement(e,t):e:null}function sK(e){return lK(e)||typeof e=="function"||uK(e)}function lK(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function uK(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function cK(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=R.useState(()=>({current:rK(t)})),[r,a]=R.useState(()=>n.current.initialState);return n.current.setOptions(i=>({...i,...e,state:{...r,...e.state},onStateChange:o=>{a(o),e.onStateChange==null||e.onStateChange(o)}})),n.current}function dK(e){return e.map(t=>({id:t.column,desc:t.direction==="DESC"}))}function fK(e){return e.map(t=>({column:t.id,direction:t.desc?"DESC":"ASC"}))}function pK(){var a,i;const e=Ct(),t=Bu((i=(a=e.nextQueryRequest)==null?void 0:a.query)==null?void 0:i.sort),n=R.useMemo(()=>t?dK(t):[],[t]);return{sort:n,setSort:o=>{let s;typeof o=="function"?s=o(n):s=o;const l=fK(s);e.executeQueryRequest(c=>({...c,query:{...c.query,sort:l,offset:0}}))}}}const qm=e=>{const{entityId:t,entityVersionNumber:n}=e,{accessToken:r}=Ze(),a=!!r,{data:i}=rs(t,n),{mutate:o}=ox({onSuccess:()=>{_r(`${(i==null?void 0:i.name)??t} was successfully added to your Download Cart.`,"success")},onError:s=>{_r(`Unable to add the file to your Download Cart. ${s.reason}`,"danger")}});return a?f(te,{children:f(At,{title:"Add this file to your Download Cart",placement:"right",enterNextDelay:300,children:f(St,{"data-testid":"AddToDownloadListV2",onClick:()=>{o({entityId:t,entityVersionNumber:n})},className:"ignoreLink",children:f(De,{icon:"addToCart"})})})}):f(te,{})};try{qm.displayName="AddToDownloadListV2",qm.__docgenInfo={description:"",displayName:"AddToDownloadListV2",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},entityVersionNumber:{defaultValue:null,description:"",name:"entityVersionNumber",required:!1,type:{name:"number"}}}}}catch{}function Mm(e){const{entityId:t,entityVersionNumber:n}=e,{data:r,isLoading:a}=rs(t,n);return a?f(Xn,{}):!r||r&&!$u(r)?f(te,{}):f(xl,{fileHandleId:r==null?void 0:r.dataFileHandleId,associatedObjectId:t,associatedObjectType:qt.FileEntity,...e})}try{Mm.displayName="FileEntityDirectDownload",Mm.__docgenInfo={description:"",displayName:"FileEntityDirectDownload",props:{displayFileName:{defaultValue:null,description:"",name:"displayFileName",required:!1,type:{name:"boolean"}},onClickCallback:{defaultValue:null,description:"",name:"onClickCallback",required:!1,type:{name:"((isExternalLink: boolean) => void)"}},stopPropagation:{defaultValue:null,description:"",name:"stopPropagation",required:!1,type:{name:"boolean"}},iconSvgPropOverrides:{defaultValue:null,description:"",name:"iconSvgPropOverrides",required:!1,type:{name:"Partial<IconSvgProps>"}},entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},entityVersionNumber:{defaultValue:null,description:"",name:"entityVersionNumber",required:!1,type:{name:"number"}}}}}catch{}const mK={AccessBlockedToAnonymous:{icon:"accessClosed",color:e=>e.palette.warning.main,tooltipText:"You must sign in to access this file."},AccessBlockedByRestriction:{icon:"accessClosed",color:e=>e.palette.warning.main,tooltipText:"You must request access to this restricted file."},AccessBlockedByACL:{icon:"accessClosed",color:e=>e.palette.warning.main,tooltipText:"You do not have download access for this item."},Accessible:{icon:"accessOpen",color:e=>e.palette.success.main,tooltipText:""},NoFileHandle:{icon:"accessOpen",color:e=>e.palette.success.main,tooltipText:""}};function mw(e){const{downloadType:t}=e,n=SS();if(t){const r=mK[t];return f(De,{icon:r.icon,label:r.tooltipText,sx:{color:r.color(n),height:"16px",verticalAlign:"text-top"}})}return f(te,{})}function Bm(e,t){const[n,r]=J.useState(),{accessToken:a}=Ze(),i=parseInt(t??""),{data:o,error:s}=RS(e,Number.isNaN(i)?void 0:i,{includeEntity:!0,includePermissions:!0}),l=J.useMemo(()=>({restrictableObjectType:Ph.ENTITY,objectId:e}),[e]),{data:c}=bS(l),u=o==null?void 0:o.entity,d=o==null?void 0:o.permissions;return J.useEffect(()=>{c&&c.hasUnmetAccessRequirement?r("AccessBlockedByRestriction"):u&&(d!=null&&d.canDownload)?$u(u)&&u.dataFileHandleId?r("Accessible"):r("NoFileHandle"):d&&!d.canDownload&&r(a?"AccessBlockedByACL":"AccessBlockedToAnonymous")},[a,u,s,d,c]),n}function Um(e){const[t,n]=J.useState(!1),[r,a]=J.useState([]),{entityId:i,entityVersionNumber:o}=e,s=Bm(i,o),{accessToken:l}=Ze(),c=J.useMemo(()=>({restrictableObjectType:Ph.ENTITY,objectId:i}),[i]),{data:u}=bS(c),d=()=>{$t.getAllAccessRequirements(l,i).then(h=>{om(h)?window.open(`${lI(uI.PORTAL_ENDPOINT)}#!AccessRequirements:ID=${i}&TYPE=ENTITY`,"_blank"):(a(h),n(!0))})},p=R.useMemo(()=>{if(!u)return f(te,{});const h=u==null?void 0:u.hasUnmetAccessRequirement,g=u==null?void 0:u.restrictionLevel;let y="";if(h)y="Request Access";else{if(JT.OPEN===g)return f(te,{});y="View Terms"}return P(te,{children:[f("a",{style:{fontSize:"14px",cursor:"pointer",marginLeft:"5px",verticalAlign:"top"},className:e.className,onClick:d,children:y}),t&&f(Mo,{entityId:i,accessRequirementFromProps:r,renderAsModal:!0,onHide:()=>{n(!1)}})]})},[i,u,r,t]);return s===void 0?f(te,{}):P("span",{style:{whiteSpace:"nowrap"},children:[s==="AccessBlockedToAnonymous"?f("button",{type:"button",className:qh,onClick:h=>{if(h.isTrusted){const g=new MouseEvent("click",{bubbles:!0});h.currentTarget.dispatchEvent(g)}},children:f(mw,{downloadType:s})}):f(mw,{downloadType:s}),p]})}try{Bm.displayName="useGetFileHandleDownloadType",Bm.__docgenInfo={description:`Determines whether an Entity is accessible for download, or if it is blocked by the ACL or unmet Access Requirements.

To make download available, and determine if the file is downloadable via the web, see {@link DirectDownload.tsx }`,displayName:"useGetFileHandleDownloadType",props:{}}}catch{}try{Um.displayName="HasAccessV2",Um.__docgenInfo={description:`HasAccess shows if the user has access to the file or not. If the user doesn't have access due to a restriction,
then a link will be shown that opens a modal with steps to request access.`,displayName:"HasAccessV2",props:{onHide:{defaultValue:null,description:"",name:"onHide",required:!1,type:{name:"(() => void)"}},entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},entityVersionNumber:{defaultValue:null,description:"",name:"entityVersionNumber",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const Hm=e=>{const{onCopy:t,...n}=e;return f(At,{title:"Copy IDs to the clipboard",enterNextDelay:Tl,placement:"right",children:f(an,{"data-testid":"copySynIdsButton",...n,onClick:t,children:f(De,{wrap:!1,icon:"contentCopy",fontSize:"inherit"})})})};try{Hm.displayName="InteractiveCopyIdsIcon",Hm.__docgenInfo={description:"",displayName:"InteractiveCopyIdsIcon",props:{children:{defaultValue:null,description:`The icon to display.
The content of the component.`,name:"children",required:!1,type:{name:"ReactNode"}},classes:{defaultValue:null,description:"Override or extend the styles applied to the component.",name:"classes",required:!1,type:{name:"(Partial<IconButtonClasses> & Partial<ClassNameMap<never>>)"}},sx:{defaultValue:null,description:"The system prop that allows defining system overrides as well as additional CSS styles.",name:"sx",required:!1,type:{name:"SxProps<Theme>"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"((instance: HTMLButtonElement | null) => void) | RefObject<HTMLButtonElement> | null"}},tabIndex:{defaultValue:{value:"0"},description:"",name:"tabIndex",required:!1,type:{name:"number"}},color:{defaultValue:{value:"'default'"},description:`The color of the component.
It supports both default and custom theme colors, which can be added as shown in the
[palette customization guide](https://mui.com/material-ui/customization/palette/#adding-new-colors).`,name:"color",required:!1,type:{name:"enum",value:[{value:'"info"'},{value:'"success"'},{value:'"warning"'},{value:'"error"'},{value:'"inherit"'},{value:'"primary"'},{value:'"secondary"'},{value:'"default"'}]}},action:{defaultValue:null,description:"A ref for imperative actions.\nIt currently only supports `focusVisible()` action.",name:"action",required:!1,type:{name:"Ref<ButtonBaseActions>"}},centerRipple:{defaultValue:{value:"false"},description:"If `true`, the ripples are centered.\nThey won't start at the cursor interaction position.",name:"centerRipple",required:!1,type:{name:"boolean"}},disabled:{defaultValue:{value:`false
false`},description:"If `true`, the component is disabled.",name:"disabled",required:!1,type:{name:"boolean"}},disableRipple:{defaultValue:{value:"false"},description:"If `true`, the ripple effect is disabled.\n\n⚠️ Without a ripple there is no styling for :focus-visible by default. Be sure\nto highlight the element by applying separate styles with the `.Mui-focusVisible` class.",name:"disableRipple",required:!1,type:{name:"boolean"}},disableTouchRipple:{defaultValue:{value:"false"},description:"If `true`, the touch ripple effect is disabled.",name:"disableTouchRipple",required:!1,type:{name:"boolean"}},focusRipple:{defaultValue:{value:"false"},description:"If `true`, the base button will have a keyboard focus ripple.",name:"focusRipple",required:!1,type:{name:"boolean"}},focusVisibleClassName:{defaultValue:null,description:`This prop can help identify which element has keyboard focus.
The class name will be applied when the element gains the focus through keyboard interaction.
It's a polyfill for the [CSS :focus-visible selector](https://drafts.csswg.org/selectors-4/#the-focus-visible-pseudo).
The rationale for using this feature [is explained here](https://github.com/WICG/focus-visible/blob/HEAD/explainer.md).
A [polyfill can be used](https://github.com/WICG/focus-visible) to apply a \`focus-visible\` class to other components
if needed.`,name:"focusVisibleClassName",required:!1,type:{name:"string"}},LinkComponent:{defaultValue:{value:"'a'"},description:"The component used to render a link when the `href` prop is provided.",name:"LinkComponent",required:!1,type:{name:"ElementType<any>"}},onFocusVisible:{defaultValue:null,description:"Callback fired when the component is focused with a keyboard.\nWe trigger a `onFocus` callback too.",name:"onFocusVisible",required:!1,type:{name:"FocusEventHandler<any>"}},TouchRippleProps:{defaultValue:null,description:"Props applied to the `TouchRipple` element.",name:"TouchRippleProps",required:!1,type:{name:"Partial<TouchRippleProps>"}},touchRippleRef:{defaultValue:null,description:"A ref that points to the `TouchRipple` element.",name:"touchRippleRef",required:!1,type:{name:"Ref<TouchRippleActions>"}},disableFocusRipple:{defaultValue:{value:"false"},description:"If `true`, the  keyboard focus ripple is disabled.",name:"disableFocusRipple",required:!1,type:{name:"boolean"}},edge:{defaultValue:{value:"false"},description:`If given, uses a negative margin to counteract the padding on one
side (this is often helpful for aligning the left or right
side of the icon with content above or below, without ruining the border
size and shape).`,name:"edge",required:!1,type:{name:'false | "end" | "start"'}},size:{defaultValue:{value:"'medium'"},description:"The size of the component.\n`small` is equivalent to the dense button styling.",name:"size",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"medium"'},{value:'"large"'}]}}}}}catch{}const zm=e=>{const t=Ze(),n=Ct(),[r,a]=J.useState(!1),[i,o]=J.useState(),[s,l]=J.useState();J.useEffect(()=>(s||l(new AbortController),()=>{s&&s.abort()}),[s]);const c=()=>{a(!0);const{getCurrentQueryRequest:u}=n,d=u(),{sql:p}=d.query,{entityId:m,versionNumber:h}=zw(p),g=h?`.${h}`:"";d.partMask=Zo;const y=`${m}${g}`,v=p.indexOf(y);d.query.sql=`select id from ${y}${p.substring(v+y.length)}`,Pw(d,t.accessToken,s==null?void 0:s.signal).then(w=>{o(w)}).catch(w=>{console.error(w),_r("Unable to query for all Synapse IDs to copy","danger")}).finally(()=>{a(!1)})};return J.useEffect(()=>{if(i){const{rows:u}=i.queryResult.queryResults,d=u.map(p=>`${p.values[0]}`).join(`
`);navigator.clipboard.writeText(d).then(()=>{_r("Successfully copied to clipboard"),o(void 0)})}},[i]),r?f(Du,{size:25}):f(Hm,{...e,onCopy:()=>{c()}})};try{zm.displayName="EntityIDColumnCopyIcon",zm.__docgenInfo={description:"",displayName:"EntityIDColumnCopyIcon",props:{children:{defaultValue:null,description:`The icon to display.
The content of the component.`,name:"children",required:!1,type:{name:"ReactNode"}},classes:{defaultValue:null,description:"Override or extend the styles applied to the component.",name:"classes",required:!1,type:{name:"(Partial<IconButtonClasses> & Partial<ClassNameMap<never>>)"}},sx:{defaultValue:null,description:"The system prop that allows defining system overrides as well as additional CSS styles.",name:"sx",required:!1,type:{name:"SxProps<Theme>"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"((instance: HTMLButtonElement | null) => void) | RefObject<HTMLButtonElement> | null"}},tabIndex:{defaultValue:{value:"0"},description:"",name:"tabIndex",required:!1,type:{name:"number"}},color:{defaultValue:{value:"'default'"},description:`The color of the component.
It supports both default and custom theme colors, which can be added as shown in the
[palette customization guide](https://mui.com/material-ui/customization/palette/#adding-new-colors).`,name:"color",required:!1,type:{name:"enum",value:[{value:'"info"'},{value:'"success"'},{value:'"warning"'},{value:'"error"'},{value:'"inherit"'},{value:'"primary"'},{value:'"secondary"'},{value:'"default"'}]}},action:{defaultValue:null,description:"A ref for imperative actions.\nIt currently only supports `focusVisible()` action.",name:"action",required:!1,type:{name:"Ref<ButtonBaseActions>"}},centerRipple:{defaultValue:{value:"false"},description:"If `true`, the ripples are centered.\nThey won't start at the cursor interaction position.",name:"centerRipple",required:!1,type:{name:"boolean"}},disabled:{defaultValue:{value:`false
false`},description:"If `true`, the component is disabled.",name:"disabled",required:!1,type:{name:"boolean"}},disableRipple:{defaultValue:{value:"false"},description:"If `true`, the ripple effect is disabled.\n\n⚠️ Without a ripple there is no styling for :focus-visible by default. Be sure\nto highlight the element by applying separate styles with the `.Mui-focusVisible` class.",name:"disableRipple",required:!1,type:{name:"boolean"}},disableTouchRipple:{defaultValue:{value:"false"},description:"If `true`, the touch ripple effect is disabled.",name:"disableTouchRipple",required:!1,type:{name:"boolean"}},focusRipple:{defaultValue:{value:"false"},description:"If `true`, the base button will have a keyboard focus ripple.",name:"focusRipple",required:!1,type:{name:"boolean"}},focusVisibleClassName:{defaultValue:null,description:`This prop can help identify which element has keyboard focus.
The class name will be applied when the element gains the focus through keyboard interaction.
It's a polyfill for the [CSS :focus-visible selector](https://drafts.csswg.org/selectors-4/#the-focus-visible-pseudo).
The rationale for using this feature [is explained here](https://github.com/WICG/focus-visible/blob/HEAD/explainer.md).
A [polyfill can be used](https://github.com/WICG/focus-visible) to apply a \`focus-visible\` class to other components
if needed.`,name:"focusVisibleClassName",required:!1,type:{name:"string"}},LinkComponent:{defaultValue:{value:"'a'"},description:"The component used to render a link when the `href` prop is provided.",name:"LinkComponent",required:!1,type:{name:"ElementType<any>"}},onFocusVisible:{defaultValue:null,description:"Callback fired when the component is focused with a keyboard.\nWe trigger a `onFocus` callback too.",name:"onFocusVisible",required:!1,type:{name:"FocusEventHandler<any>"}},TouchRippleProps:{defaultValue:null,description:"Props applied to the `TouchRipple` element.",name:"TouchRippleProps",required:!1,type:{name:"Partial<TouchRippleProps>"}},touchRippleRef:{defaultValue:null,description:"A ref that points to the `TouchRipple` element.",name:"touchRippleRef",required:!1,type:{name:"Ref<TouchRippleActions>"}},disableFocusRipple:{defaultValue:{value:"false"},description:"If `true`, the  keyboard focus ripple is disabled.",name:"disableFocusRipple",required:!1,type:{name:"boolean"}},edge:{defaultValue:{value:"false"},description:`If given, uses a negative margin to counteract the padding on one
side (this is often helpful for aligning the left or right
side of the icon with content above or below, without ruining the border
size and shape).`,name:"edge",required:!1,type:{name:'false | "end" | "start"'}},size:{defaultValue:{value:"'medium'"},description:"The size of the component.\n`small` is equivalent to the dense button styling.",name:"size",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"medium"'},{value:'"large"'}]}}}}}catch{}const wT=J.createContext(void 0);function hK(){const e=R.useContext(wT);if(e===void 0)throw new Error("useSynapseTableContext must be used within a SynapseTableContext");return e}const wc="org.sagebionetworks.web.client.SynapseTablePredefinedColumn",Sc=_T();function gK(e){const{row:t}=e,n=Ce(wW),[r,a]=OS(Ir);return f(Bo,{label:"",checked:n(t.original),onChange:i=>{const o=[...r];if(i)o.push(t.original);else{const s=o.findIndex(l=>Ht(l,t.original));s>-1&&o.splice(s,1)}a(o)}})}const hw=Sc.display({id:`${wc}.RowSelectionColumn`,enableResizing:!1,cell:gK,maxSize:50});function yK(e){const{row:t}=e,{data:n}=cI(`syn${t.original.rowId}`);return f("div",{className:"SRC-centerAndJustifyContent","data-testid":"AddToDownloadListCell",children:(n==null?void 0:n.type)==="org.sagebionetworks.repo.model.FileEntity"&&f(qm,{entityId:t.original.rowId.toString(),entityVersionNumber:parseInt(t.original.versionNumber.toString())})})}const gw=Sc.display({id:`${wc}.AddToDownloadListColumn`,enableResizing:!1,cell:yK,maxSize:50});function vK(e){const{row:t}=e;return f("div",{className:"SRC-centerAndJustifyContent","data-testid":"DirectDownloadCell",children:f(Mm,{entityId:t.original.rowId.toString(),entityVersionNumber:t.original.versionNumber,iconSvgPropOverrides:{sx:{color:"primary.main"}}})})}const yw=Sc.display({id:`${wc}.DirectDownload`,enableResizing:!1,cell:vK,maxSize:50});function bK(e){const{row:t}=e;return f("div",{className:"SRC-centerAndJustifyContent","data-testid":"AccessCell",children:f(Um,{entityId:t.original.rowId.toString(),entityVersionNumber:t.original.versionNumber.toString()},t.original.rowId.toString())})}const vw=Sc.display({id:`${wc}.Access`,enableResizing:!1,cell:bK});function jm(e){var h;const{column:t}=e,n=Ce($i),r=Ce(ut),i=((r==null?void 0:r.columnModels)??[]).find(g=>g.name===t.id),o=(r==null?void 0:r.facets)??[],{getColumnDisplayName:s}=Rt();if(!i)return f(te,{children:t.id});const l=s(i.name),c=o.findIndex(g=>g.columnName===i.name),u=c!==-1&&o[c].facetType==="enumeration",d=o[c],p=i.name.toLowerCase()===((h=n==null?void 0:n.columnName)==null?void 0:h.toLowerCase()),m=i&&i.name=="id"&&i.columnType==pe.ENTITYID;return P("div",{className:"SRC-split",children:[f("div",{className:"SRC-centerContent",children:f("span",{style:{whiteSpace:"nowrap"},children:l})}),P("div",{className:"SRC-centerContent",style:{height:"22px"},children:[u&&!p&&f("span",{children:f(Ii,{containerAs:"Dropdown",facetValues:d.facetValues,columnModel:i})}),t.getCanSort()&&f(At,{title:`Sort ${s(i.name)}`,placement:"top",children:f(an,{role:"button","aria-label":"sort",size:"small",tabIndex:0,onKeyPress:()=>t.toggleSorting(),onClick:()=>t.toggleSorting(),children:f(De,{icon:t.getIsSorted()==="asc"?"sortUp":"sortDown",wrap:!1,sx:{color:t.getIsSorted()?"primary.main":"grey.700",backgroundColor:"none"}})})}),m&&f(zm,{size:"small"})]})]})}function Wm(e){const{cell:t}=e,n=Ce(ut),r=(n==null?void 0:n.selectColumns)??[],a=(n==null?void 0:n.columnModels)??[],i=a.find(s=>s.name===t.column.id),{columnLinks:o}=hK();if(i){const s=(o??[]).find(u=>u.matchColumnName===i.name),l=i.columnType,c=t.column.getIsSorted()?"SRC-boldText":"";return f(VY,{columnType:l,columnValue:t.getValue(),isBold:c,columnLinkConfig:s,columnName:i.name,rowData:t.row.original.values,selectColumns:r,columnModels:a,rowId:t.row.original.rowId,rowVersionNumber:t.row.original.versionNumber},t.id)}else return f("td",{},t.id)}try{jm.displayName="TableDataColumnHeader",jm.__docgenInfo={description:"",displayName:"TableDataColumnHeader",props:{}}}catch{}try{Wm.displayName="TableDataCell",Wm.__docgenInfo={description:"",displayName:"TableDataCell",props:{}}}catch{}function _K(){var a,i;const e=Ce(Bn),t=Ce(ut),n=((t==null?void 0:t.columnModels)??[]).reduce((o,s,l)=>s.columnType===pe.FILEHANDLEID?[...o,l]:o,[]);let r=[];return e&&t&&t.columnModels&&(r=(((i=(a=t==null?void 0:t.queryResult)==null?void 0:a.queryResults)==null?void 0:i.rows)??[]).reduce((o,s)=>(n.forEach(l=>{const c=s.values[l];if(c){const u=t==null?void 0:t.columnModels[l];vc(e)&&u.name==="dataFileHandleId"?o.push({fileHandleId:c,associateObjectId:String(s.rowId),associateObjectType:qt.FileEntity}):o.push({fileHandleId:c,associateObjectId:e.id,associateObjectType:qt.TableEntity})}}),o),r)),Ou({requestedFiles:r,includeFileHandles:!0,includePreSignedURLs:!1,includePreviewPreSignedURLs:!1},{enabled:r.length>0})}function wK(){var a,i,o,s;const e=Ce(Bn),t=Ce(ut);let n=[];e&&mm(e)&&(n=(((i=(a=t==null?void 0:t.queryResult)==null?void 0:a.queryResults)==null?void 0:i.rows)??[]).reduce((l,c)=>{const{rowId:u,versionNumber:d}=c;return u&&l.push({targetId:`syn${u}`,targetVersionNumber:d}),l},n));const r=((t==null?void 0:t.columnModels)??[]).reduce((l,c,u)=>c.columnType===pe.ENTITYID?e&&mm(e)&&c.name==="id"?l:[...l,u]:l,[]);return n=(((s=(o=t==null?void 0:t.queryResult)==null?void 0:o.queryResults)==null?void 0:s.rows)??[]).reduce((l,c)=>(r.forEach(u=>{const d=c.values[u];d&&!l.find(p=>p.targetId===d&&p.targetVersionNumber==null)&&l.push({targetId:d})}),l),n),Lh(n,{enabled:n.length>0})}function SK(){const{isLoading:e}=wK(),{isLoading:t}=_K();return{dataHasBeenPrefetched:!e&&!t}}const CK=_T();function wu(e){var L,F;const{showDownloadColumn:t,hideDownload:n}=e,{showAccessColumn:r,showDirectDownloadColumn:a=t,hideAddToDownloadListColumn:i=n,columnLinks:o}=e,{getCurrentQueryRequest:s}=Ct(),l=Ce(ut),c=Ce(tr),u=Ce(Bn),{columnsToShowInTable:d,NoContentPlaceholder:p}=Rt(),m=R.useMemo(()=>({columnLinks:o}),[o]),{columnModels:h=[]}=l??{},g=!!Ze().accessToken,[y,v]=R.useState(!1),{sort:w,setSort:_}=pK(),b=Ce(Hy),E=!!(r&&u&&mm(u)&&bw(l)),S=u&&vc(u)&&g&&bw(l),N=!!(S&&a),C=!!(S&&!i&&!b),I=R.useMemo(()=>{var z;return[hw,gw,yw,vw,...((z=l==null?void 0:l.columnModels)==null?void 0:z.map((D,x)=>CK.accessor(A=>A.values[x],{id:D.name,enableSorting:vW(D.columnType),enableResizing:!0,header:jm,cell:Wm})))??[]]},[l==null?void 0:l.columnModels]),k=R.useMemo(()=>({[hw.id]:b,[gw.id]:C,[yw.id]:N,[vw.id]:E}),[b,E,C,N]),O=R.useMemo(()=>((l==null?void 0:l.columnModels)??[]).reduce((z,D)=>({...z,[D.name]:d.includes(D.name)}),k),[d,l==null?void 0:l.columnModels,k]),M=cK({data:((L=l==null?void 0:l.queryResult)==null?void 0:L.queryResults.rows)??[],columns:I,getCoreRowModel:oK(),manualSorting:!0,manualFiltering:!0,onSortingChange:_,enableMultiSort:!0,columnResizeMode:"onChange",state:{sorting:w,columnVisibility:O}}),{dataHasBeenPrefetched:q}=SK();if(!l&&c)return Gh;if(!l)return f(te,{});const $=s();return!((((F=l.queryResult)==null?void 0:F.queryResults.rows.length)??0)>0)&&$.query.offset===0?f(p,{}):f(wT.Provider,{value:m,children:P("div",{children:[y&&f(Ti,{onClose:()=>{v(!1)},queryBundleRequest:$}),f("div",{className:"SynapseTable SRC-overflowAuto","data-testid":"SynapseTable",children:P("table",{style:{width:M.getTotalSize()},children:[f("thead",{children:M.getHeaderGroups().map(z=>f("tr",{children:z.headers.map(D=>P("th",{colSpan:D.colSpan,style:{width:D.getSize()},children:[D.isPlaceholder?null:pw(D.column.columnDef.header,D.getContext()),D.column.getCanResize()&&f("div",{className:`resizer ${D.column.getIsResizing()?"isResizing":""}`,onMouseDown:D.getResizeHandler(),onTouchStart:D.getResizeHandler()})]},D.id))},z.id))}),f("tbody",{children:M.getRowModel().rows.map(z=>f("tr",{children:z.getVisibleCells().map(D=>{const x=h.find(T=>T.name===D.column.id),j=x&&x.columnType!==pe.JSON?Pm:"td",U=!q;return f(j,{style:{width:D.column.getSize()},children:U?f("p",{children:f(Xn,{width:"80%",height:"20px"})}):pw(D.column.columnDef.cell,D.getContext())},D.id)})},z.id))})]})}),f(Le,{sx:{mt:2,textAlign:"right"},children:f(YW,{})})]})})}function bw(e){var t;return!!((t=e==null?void 0:e.queryResult)!=null&&t.queryResults.rows.every(n=>!!n.rowId))}try{wu.displayName="SynapseTable",wu.__docgenInfo={description:"",displayName:"SynapseTable",props:{showAccessColumn:{defaultValue:null,description:"If true and entity is a view or dataset, renders a column that represents if the caller has permission to download the entity represented by the row",name:"showAccessColumn",required:!1,type:{name:"boolean"}},showDownloadColumn:{defaultValue:null,description:"@deprecated use showDirectDownloadColumn",name:"showDownloadColumn",required:!1,type:{name:"boolean"}},hideDownload:{defaultValue:null,description:"@deprecated use hideAddToDownloadListColumn",name:"hideDownload",required:!1,type:{name:"boolean"}},showDirectDownloadColumn:{defaultValue:null,description:"If true and entity is a file view or dataset, renders a column that allows the logged-in user to directly download the file, if they have permission",name:"showDirectDownloadColumn",required:!1,type:{name:"boolean"}},hideAddToDownloadListColumn:{defaultValue:null,description:"If true, the add to download list column will be hidden",name:"hideAddToDownloadListColumn",required:!1,type:{name:"boolean"}},columnLinks:{defaultValue:null,description:"Configuration to override cell renderers with e.g. a link to a portals detail page",name:"columnLinks",required:!1,type:{name:"LabelLinkConfig"}}}}}catch{}function ST(){const e=Ce(ut),{showLastUpdatedOn:t}=Rt();return t&&e&&e.lastUpdatedOn?f("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:P(le,{variant:"body1Italic",children:["Last updated on ",So(rn(e.lastUpdatedOn))]})}):f(te,{})}const Gm=e=>{const{cardConfiguration:t,hideDownload:n}=e,r=Bu(e.tableConfiguration?{...e.tableConfiguration,hideDownload:n}:void 0),a=Ct(),{asyncJobStatus:i}=a,o=Ce(tr),s=Ce(ut);return P("div",{className:"FilterAndView",children:[!s&&o&&P(Le,{sx:{mt:15,mx:15},children:[f(ux,{}),(i==null?void 0:i.progressMessage)&&f(le,{variant:"smallText1",sx:{color:"grey.600",fontSize:"10px",textAlign:"center",my:1},children:i==null?void 0:i.progressMessage})]}),r?f(wu,{...r}):f(te,{}),t?f(Nu,{...t}):f(te,{}),f(ST,{})]})};try{Gm.displayName="FilterAndView",Gm.__docgenInfo={description:"",displayName:"FilterAndView",props:{tableConfiguration:{defaultValue:null,description:"",name:"tableConfiguration",required:!1,type:{name:"SynapseTableProps"}},cardConfiguration:{defaultValue:null,description:"",name:"cardConfiguration",required:!0,type:{name:"CardConfiguration | undefined"}},hideDownload:{defaultValue:null,description:"",name:"hideDownload",required:!1,type:{name:"boolean"}}}}}catch{}const EK=200,_w="ESTIMATED_DOWNLOAD_SPEED_EXPIRE_TIME",ww="ESTIMATED_DOWNLOAD_SPEED",NK="syn12600511",TK=e=>new Promise((t,n)=>{const r=localStorage.getItem(_w),a=localStorage.getItem(ww);if(r&&a&&new Date().getTime()<Number(r)){t(Number(a));return}Nl(e,NK).then(i=>{const o=i,l={includeFileHandles:!0,includePreSignedURLs:!0,includePreviewPreSignedURLs:!1,requestedFiles:[{associateObjectId:o.id,associateObjectType:qt.FileEntity,fileHandleId:o.dataFileHandleId}]};Co(l,e).then(c=>{const u=c.requestedFiles[0].preSignedURL,d=c.requestedFiles[0].fileHandle,p=new Date().getTime();return ZT(d,u).then(()=>{const m=d.contentSize/((new Date().getTime()-p-EK)/1e3),h=new Date().getTime();localStorage.setItem(_w,(h+1e3*60*5).toString()),localStorage.setItem(ww,m.toString()),t(m)})})}).catch(i=>n(i))});var CT={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Jo,function(){var n,r,a=1e3,i=6e4,o=36e5,s=864e5,l=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,c=31536e6,u=2592e6,d=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,p={years:c,months:u,days:s,hours:o,minutes:i,seconds:a,milliseconds:1,weeks:6048e5},m=function(S){return S instanceof b},h=function(S,N,C){return new b(S,C,N.$l)},g=function(S){return r.p(S)+"s"},y=function(S){return S<0},v=function(S){return y(S)?Math.ceil(S):Math.floor(S)},w=function(S){return Math.abs(S)},_=function(S,N){return S?y(S)?{negative:!0,format:""+w(S)+N}:{negative:!1,format:""+S+N}:{negative:!1,format:""}},b=function(){function S(C,I,k){var O=this;if(this.$d={},this.$l=k,C===void 0&&(this.$ms=0,this.parseFromMilliseconds()),I)return h(C*p[g(I)],this);if(typeof C=="number")return this.$ms=C,this.parseFromMilliseconds(),this;if(typeof C=="object")return Object.keys(C).forEach(function($){O.$d[g($)]=C[$]}),this.calMilliseconds(),this;if(typeof C=="string"){var M=C.match(d);if(M){var q=M.slice(2).map(function($){return $!=null?Number($):0});return this.$d.years=q[0],this.$d.months=q[1],this.$d.weeks=q[2],this.$d.days=q[3],this.$d.hours=q[4],this.$d.minutes=q[5],this.$d.seconds=q[6],this.calMilliseconds(),this}}return this}var N=S.prototype;return N.calMilliseconds=function(){var C=this;this.$ms=Object.keys(this.$d).reduce(function(I,k){return I+(C.$d[k]||0)*p[k]},0)},N.parseFromMilliseconds=function(){var C=this.$ms;this.$d.years=v(C/c),C%=c,this.$d.months=v(C/u),C%=u,this.$d.days=v(C/s),C%=s,this.$d.hours=v(C/o),C%=o,this.$d.minutes=v(C/i),C%=i,this.$d.seconds=v(C/a),C%=a,this.$d.milliseconds=C},N.toISOString=function(){var C=_(this.$d.years,"Y"),I=_(this.$d.months,"M"),k=+this.$d.days||0;this.$d.weeks&&(k+=7*this.$d.weeks);var O=_(k,"D"),M=_(this.$d.hours,"H"),q=_(this.$d.minutes,"M"),$=this.$d.seconds||0;this.$d.milliseconds&&($+=this.$d.milliseconds/1e3);var B=_($,"S"),L=C.negative||I.negative||O.negative||M.negative||q.negative||B.negative,F=M.format||q.format||B.format?"T":"",z=(L?"-":"")+"P"+C.format+I.format+O.format+F+M.format+q.format+B.format;return z==="P"||z==="-P"?"P0D":z},N.toJSON=function(){return this.toISOString()},N.format=function(C){var I=C||"YYYY-MM-DDTHH:mm:ss",k={Y:this.$d.years,YY:r.s(this.$d.years,2,"0"),YYYY:r.s(this.$d.years,4,"0"),M:this.$d.months,MM:r.s(this.$d.months,2,"0"),D:this.$d.days,DD:r.s(this.$d.days,2,"0"),H:this.$d.hours,HH:r.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:r.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:r.s(this.$d.seconds,2,"0"),SSS:r.s(this.$d.milliseconds,3,"0")};return I.replace(l,function(O,M){return M||String(k[O])})},N.as=function(C){return this.$ms/p[g(C)]},N.get=function(C){var I=this.$ms,k=g(C);return k==="milliseconds"?I%=1e3:I=k==="weeks"?v(I/p[k]):this.$d[k],I===0?0:I},N.add=function(C,I,k){var O;return O=I?C*p[g(I)]:m(C)?C.$ms:h(C,this).$ms,h(this.$ms+O*(k?-1:1),this)},N.subtract=function(C,I){return this.add(C,I,!0)},N.locale=function(C){var I=this.clone();return I.$l=C,I},N.clone=function(){return h(this.$ms,this)},N.humanize=function(C){return n().add(this.$ms,"ms").locale(this.$l).fromNow(!C)},N.valueOf=function(){return this.asMilliseconds()},N.milliseconds=function(){return this.get("milliseconds")},N.asMilliseconds=function(){return this.as("milliseconds")},N.seconds=function(){return this.get("seconds")},N.asSeconds=function(){return this.as("seconds")},N.minutes=function(){return this.get("minutes")},N.asMinutes=function(){return this.as("minutes")},N.hours=function(){return this.get("hours")},N.asHours=function(){return this.as("hours")},N.days=function(){return this.get("days")},N.asDays=function(){return this.as("days")},N.weeks=function(){return this.get("weeks")},N.asWeeks=function(){return this.as("weeks")},N.months=function(){return this.get("months")},N.asMonths=function(){return this.as("months")},N.years=function(){return this.get("years")},N.asYears=function(){return this.as("years")},S}(),E=function(S,N,C){return S.add(N.years()*C,"y").add(N.months()*C,"M").add(N.days()*C,"d").add(N.hours()*C,"h").add(N.minutes()*C,"m").add(N.seconds()*C,"s").add(N.milliseconds()*C,"ms")};return function(S,N,C){n=C,r=C().$utils(),C.duration=function(O,M){var q=C.locale();return h(O,{$l:q},M)},C.isDuration=m;var I=N.prototype.add,k=N.prototype.subtract;N.prototype.add=function(O,M){return m(O)?E(this,O,1):I.bind(this)(O,M)},N.prototype.subtract=function(O,M){return m(O)?E(this,O,-1):k.bind(this)(O,M)}}})})(CT);var IK=CT.exports;const RK=Er(IK);var ET={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Jo,function(){return function(n,r,a){n=n||{};var i=r.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function s(c,u,d,p){return i.fromToBase(c,u,d,p)}a.en.relativeTime=o,i.fromToBase=function(c,u,d,p,m){for(var h,g,y,v=d.$locale().relativeTime||o,w=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],_=w.length,b=0;b<_;b+=1){var E=w[b];E.d&&(h=p?a(c).diff(d,E.d,!0):d.diff(c,E.d,!0));var S=(n.rounding||Math.round)(Math.abs(h));if(y=h>0,S<=E.r||!E.r){S<=1&&b>0&&(E=w[b-1]);var N=v[E.l];m&&(S=m(""+S)),g=typeof N=="string"?N.replace("%d",S):N(S,u,E.l,y);break}}if(u)return g;var C=y?v.future:v.past;return typeof C=="function"?C(g):C.replace("%s",g)},i.to=function(c,u){return s(c,u,this,!0)},i.from=function(c,u){return s(c,u,this)};var l=function(c){return c.$u?a.utc():a()};i.toNow=function(c){return this.to(l(this),c)},i.fromNow=function(c){return this.from(l(this),c)}}})})(ET);var xK=ET.exports;const $K=Er(xK);rn.extend(RK);rn.extend($K);function Km(e){const{numFiles:t,numBytes:n}=e,{accessToken:r}=Ze(),a=!!n,[i,o]=R.useState({isLoading:a,downloadSpeed:0}),{isLoading:s,downloadSpeed:l}=i;R.useEffect(()=>{r&&TK(r).then(g=>{o({isLoading:!1,downloadSpeed:g})})},[r]);const c=s||l===0||!n?0:n/l,u=c===0,d=u?"":rn.duration({seconds:c}).humanize(),p=t===0,m=p?"SRC-inactive":"SRC-primary-text-color",h=u?"SRC-inactive":"SRC-primary-text-color";return P("span",{className:"download-details-container",children:[P("span",{children:[f(tI,{className:m}),p?f(Ra,{width:50}):P(te,{children:[t.toLocaleString()," files"]})]}),a&&f(At,{title:"This is the total size of all files. Zipped package(s) will likely be smaller.",enterNextDelay:Tl,placement:"top",children:P("span",{"data-testid":"numBytesUI",children:[f(nI,{className:h}),u?f(Ra,{width:50}):Vh(n)]})}),a&&f(At,{title:"This is an estimate of how long package download will take.",enterNextDelay:Tl,placement:"top",children:P("span",{"data-testid":"downloadTimeEstimateUI",children:[f($$,{className:h}),s&&t>0?f(Ra,{width:50}):d]})})]})}try{Km.displayName="DownloadDetails",Km.__docgenInfo={description:`Displays download information including number of files, size of download, and time to download.
Prefer to use {@link ../DownloadCart/DownloadDetails} instead, particularly when you have information about file packaging in/eligibility`,displayName:"DownloadDetails",props:{numFiles:{defaultValue:null,description:"",name:"numFiles",required:!0,type:{name:"number"}},numBytes:{defaultValue:null,description:"",name:"numBytes",required:!1,type:{name:"number"}}}}}catch{}const hi={2:{severity:"info",infoText:"Would you like to add these files to the download cart?",closeText:"Cancel"},3:{severity:"info",infoText:P(te,{children:["Note: Files that you add will be mixed in with the files already in your download cart.",f("br",{}),"If you don't want to mix these files, clear your download cart before continuing."]}),closeText:"Cancel"},1:{severity:"info",infoText:"Adding files to download cart",closeText:"Cancel"},0:{severity:"info",infoText:"Calculating file size",closeText:"Cancel"},4:{severity:"error",closeText:"Close",infoText:P(te,{children:["Please ",f(eI,{})," to add files to your download cart."]})}};function AK(e){const{status:t,fileCount:n,fileSize:r}=e;switch(t){case 0:case 1:return P(te,{children:[f("div",{className:"spinner white"}),f(le,{variant:"smallText1",children:hi[t].infoText})]});case 4:return f(le,{variant:"smallText1",children:hi[t].infoText});case 2:case 3:return P(te,{children:[f(Km,{numFiles:n,numBytes:r}),f(le,{variant:"smallText1",sx:{flexGrow:1},children:hi[t].infoText})]});default:return f(te,{})}}function Su(e){const{onAddToDownloadCart:t,onCancel:n,fileCount:r,fileSize:a,isLoadingStats:i=!1,isAddingToDownloadCart:o=!1}=e,{accessToken:s}=Ze(),{data:l}=sx(),c=R.useMemo(()=>s?i?0:o?1:l&&l.totalNumberOfFiles>0?3:2:4,[s,i,o,l]);return f(te,{children:f(pn,{sx:{pr:4,py:1,display:"flex",justifyContent:"space-between",alignItems:"center"},icon:hi[c].severity==="error"?void 0:!1,severity:hi[c].severity,className:"download-confirmation",action:P(te,{children:[c!==1&&f(rt,{variant:"text",color:"primary",onClick:n,children:hi[c].closeText}),(c===2||c===3)&&f(rt,{variant:"contained",color:"primary",onClick:()=>{t()},sx:{ml:"5px"},children:"Add"})]}),children:f(Le,{display:"flex",alignItems:"center",gap:1,children:f(AK,{status:c,fileCount:r,fileSize:a})})})})}try{Su.displayName="DownloadConfirmationUI",Su.__docgenInfo={description:`This component is used to display the download confirmation dialog that presents to a user the number of files and the
total size of the files they are about to add to their download cart.`,displayName:"DownloadConfirmationUI",props:{onAddToDownloadCart:{defaultValue:null,description:"",name:"onAddToDownloadCart",required:!0,type:{name:"() => void"}},fileCount:{defaultValue:null,description:"",name:"fileCount",required:!0,type:{name:"number"}},fileSize:{defaultValue:null,description:"",name:"fileSize",required:!1,type:{name:"number"}},onCancel:{defaultValue:null,description:"",name:"onCancel",required:!0,type:{name:"() => void"}},isLoadingStats:{defaultValue:null,description:"",name:"isLoadingStats",required:!1,type:{name:"boolean"}},isAddingToDownloadCart:{defaultValue:null,description:"",name:"isAddingToDownloadCart",required:!1,type:{name:"boolean"}}}}}catch{}function NT(e){_r("File(s) were successfully added to your Download Cart.","success",{primaryButtonConfig:{text:"View Download Cart",onClick:()=>{window.location.href=e}}})}function Sw(e){const{folderId:t,fnClose:n}=e,{downloadCartPageUrl:r}=Ze(),{data:a,isLoading:i}=D$({parentId:t,includeSumFileSizes:!0,includeTotalChildCount:!0,includeTypes:[Pf.FILE]}),o=(a==null?void 0:a.totalChildCount)??0,s=a==null?void 0:a.sumFileSizesBytes,{mutate:l,isLoading:c}=CS({onSuccess:()=>{NT(r),n()},onError:u=>{_r(u.reason,"danger"),n()}});return f(Su,{onAddToDownloadCart:()=>l({parentId:t,concreteType:"org.sagebionetworks.repo.model.download.AddToDownloadListRequest"}),fileCount:o,fileSize:s,isAddingToDownloadCart:c,isLoadingStats:i,onCancel:n})}try{Sw.displayName="FolderDownloadConfirmation",Sw.__docgenInfo={description:"",displayName:"FolderDownloadConfirmation",props:{folderId:{defaultValue:null,description:"",name:"folderId",required:!0,type:{name:"string"}},fnClose:{defaultValue:null,description:"",name:"fnClose",required:!0,type:{name:"() => void"}}}}}catch{}function OK(){var g,y,v,w,_;const{getCurrentQueryRequest:e}=Ct(),t=Ce(ut),n=Ce(ws),r=Ce(Ir),a=Ce(_c),{setShowDownloadConfirmation:i}=Rt(),o=R.useMemo(()=>{const b=e();b.partMask=es|Mh;const E=bc(t==null?void 0:t.columnModels);return E&&(b.query.selectFileColumn=Number(E)),n&&a&&(t!=null&&t.columnModels)&&(b.query.additionalFilters=[...b.query.additionalFilters||[],nT(a,r,t.columnModels)]),b},[t==null?void 0:t.columnModels,e,n,a,r]),{downloadCartPageUrl:s}=Ze();function l(){i(!1)}const{mutate:c,isLoading:u}=CS({onSuccess:()=>{NT(s),l()},onError:b=>{_r(b.reason,"danger"),l()}}),{data:d,isLoading:p}=Uu(o),m=((g=d==null?void 0:d.responseBody)==null?void 0:g.queryCount)??0,h=(v=(y=d==null?void 0:d.responseBody)==null?void 0:y.sumFileSizes)!=null&&v.greaterThan||(_=(w=d==null?void 0:d.responseBody)==null?void 0:w.sumFileSizes)==null?void 0:_.sumFileSizesBytes;return f(Su,{onAddToDownloadCart:()=>c({query:o==null?void 0:o.query,concreteType:"org.sagebionetworks.repo.model.download.AddToDownloadListRequest"}),fileCount:m,fileSize:h,isAddingToDownloadCart:u,isLoadingStats:p,onCancel:l})}const kK="isShowingFacetFilters",PK="isHidingFacetFilters";function DK(e){const{tableConfiguration:t,name:n,cardConfiguration:r,facetsToPlot:a,availableFacets:i,hideDownload:o,hideQueryCount:s,hideSqlEditorControl:l,searchConfiguration:c,showExportToCavatica:u=!1,cavaticaHelpURL:d,fileIdColumnName:p,fileNameColumnName:m,fileVersionColumnName:h,customControls:g,remount:y,isFullTextSearchEnabled:v}=e,w=Ct(),[_,b]=J.useState(!1),{isFacetsAvailable:E}=w,S=Ce(tr);return f(Eu,{children:N=>{if(N===void 0)throw new Error("No queryVisualizationContext found when using QueryVisualizationContextConsumer");return P(Le,{className:`QueryWrapperPlotNav ${N.showFacetFilter?kK:PK}`,sx:{"*":{cursor:S?"wait":void 0}},children:[f("div",{className:"ErrorBannerWrapper",children:f(cm,{})}),v?f(Yl,{helpUrl:c==null?void 0:c.fullTextSearchHelpURL}):f(eT,{...c,queryContext:w,queryVisualizationContext:N}),f(pu,{}),N.showDownloadConfirmation&&f(OK,{}),f(oi,{children:f(hu,{showColumnSelection:t!==void 0,name:n,hideDownload:o,hideQueryCount:s,hideFacetFilterControl:!E,hideVisualizationsControl:!E,hideSqlEditorControl:l,showExportToCavatica:u,cavaticaHelpURL:d,customControls:g,remount:y,fileIdColumnName:p,fileNameColumnName:m,fileVersionColumnName:h})}),E&&f(te,{children:f(VW,{availableFacets:i})}),f(Om,{facetsToPlot:a}),f(Gm,{tableConfiguration:t,hideDownload:o,cardConfiguration:r}),_&&f(Ti,{getLastQueryRequest:w==null?void 0:w.getCurrentQueryRequest,onClose:()=>b(!1)})]})}})}const Ym=e=>{const{searchParams:t,sql:n,sqlOperator:r,tableConfiguration:a,limit:i=Pu,initQueryJson:o,showLastUpdatedOn:s,unitDescription:l,additionalFiltersLocalStorageKey:c}=e,u=oa(n),d=jh(c??u,t,r),p=o?JSON.parse(o):{sql:n,additionalFilters:d,limit:i,offset:0},[m,h]=R.useState(1),g=()=>{h(m+1)},{data:y}=rs(u),v={entityId:u,concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",partMask:Zo|es|Bh|Bw|Uh|Hh|Mh|zh,query:p},w=(y&&Lw(y)&&y.isSearchEnabled)??!1;return R.createElement(jo,{...e,initQueryRequest:v,key:m,isInfinite:!a},f(Go,{unitDescription:l,rgbIndex:e.rgbIndex,columnAliases:e.columnAliases,visibleColumnCount:e.visibleColumnCount,defaultShowFacetVisualization:e.defaultShowFacetVisualization,defaultShowSearchBar:e.defaultShowSearchBox||w,showLastUpdatedOn:s,noContentPlaceholderType:Gr.INTERACTIVE,children:f(DK,{...e,isFullTextSearchEnabled:w,remount:g})}))};try{Ym.displayName="QueryWrapperPlotNav",Ym.__docgenInfo={description:"",displayName:"QueryWrapperPlotNav",props:{searchParams:{defaultValue:null,description:"",name:"searchParams",required:!1,type:{name:"{ facetValue: string; }"}},facetsToPlot:{defaultValue:null,description:"",name:"facetsToPlot",required:!1,type:{name:"string[]"}},sqlOperator:{defaultValue:null,description:"",name:"sqlOperator",required:!1,type:{name:"enum",value:[{value:'"LIKE"'},{value:'"EQUAL"'},{value:'"IN"'},{value:'"HAS"'},{value:'"HAS_LIKE"'}]}},sql:{defaultValue:null,description:"",name:"sql",required:!0,type:{name:"string"}},limit:{defaultValue:null,description:"",name:"limit",required:!1,type:{name:"number"}},shouldDeepLink:{defaultValue:null,description:"",name:"shouldDeepLink",required:!1,type:{name:"boolean"}},onQueryChange:{defaultValue:null,description:"If onQueryChange is set, the callback will be invoked when the Query changes",name:"onQueryChange",required:!1,type:{name:"((newQueryJson: string) => void)"}},onQueryResultBundleChange:{defaultValue:null,description:"If onQueryResultBundleChange is set, the callback will be invoked when the QueryResultBundle changes",name:"onQueryResultBundleChange",required:!1,type:{name:"((newQueryResultBundleJson: string) => void)"}},initQueryJson:{defaultValue:null,description:"If initQueryJson is set, it will be the Query used in the initial QueryBundleRequest",name:"initQueryJson",required:!1,type:{name:"string"}},tableConfiguration:{defaultValue:null,description:"",name:"tableConfiguration",required:!1,type:{name:"SynapseTableProps"}},cardConfiguration:{defaultValue:null,description:"",name:"cardConfiguration",required:!1,type:{name:"CardConfiguration"}},searchConfiguration:{defaultValue:null,description:"",name:"searchConfiguration",required:!1,type:{name:'Omit<SearchV2Props, "queryVisualizationContext" | "queryContext">'}},availableFacets:{defaultValue:null,description:"",name:"availableFacets",required:!1,type:{name:"string[]"}},defaultColumn:{defaultValue:null,description:"",name:"defaultColumn",required:!1,type:{name:"string"}},defaultShowSearchBox:{defaultValue:null,description:"",name:"defaultShowSearchBox",required:!1,type:{name:"boolean"}},lockedColumn:{defaultValue:null,description:"",name:"lockedColumn",required:!1,type:{name:"LockedColumn"}},onViewSharingSettingsClicked:{defaultValue:null,description:"",name:"onViewSharingSettingsClicked",required:!1,type:{name:"((benefactorId: string) => void)"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},hideDownload:{defaultValue:null,description:"",name:"hideDownload",required:!1,type:{name:"boolean"}},hideVisualizationsControl:{defaultValue:null,description:"",name:"hideVisualizationsControl",required:!1,type:{name:"boolean"}},hideFacetFilterControl:{defaultValue:null,description:"",name:"hideFacetFilterControl",required:!1,type:{name:"boolean"}},hideQueryCount:{defaultValue:null,description:"",name:"hideQueryCount",required:!1,type:{name:"boolean"}},hideSqlEditorControl:{defaultValue:null,description:"",name:"hideSqlEditorControl",required:!1,type:{name:"boolean"}},showColumnSelection:{defaultValue:null,description:"",name:"showColumnSelection",required:!1,type:{name:"boolean"}},customControls:{defaultValue:null,description:"",name:"customControls",required:!1,type:{name:"CustomControl[]"}},showExportToCavatica:{defaultValue:null,description:"",name:"showExportToCavatica",required:!1,type:{name:"boolean"}},fileIdColumnName:{defaultValue:null,description:"",name:"fileIdColumnName",required:!1,type:{name:"string"}},fileNameColumnName:{defaultValue:null,description:"",name:"fileNameColumnName",required:!1,type:{name:"string"}},fileVersionColumnName:{defaultValue:null,description:"",name:"fileVersionColumnName",required:!1,type:{name:"string"}},cavaticaHelpURL:{defaultValue:null,description:"",name:"cavaticaHelpURL",required:!1,type:{name:"string"}},remount:{defaultValue:null,description:"",name:"remount",required:!1,type:{name:"(() => void)"}},isRowSelectionVisible:{defaultValue:null,description:"",name:"isRowSelectionVisible",required:!1,type:{name:"boolean"}},rowSelectionPrimaryKey:{defaultValue:null,description:`The set of columns that defines a uniqueness constraint on the table for the purposes of filtering based on row selection.
Note that Synapse tables have no internal concept of a primary key.`,name:"rowSelectionPrimaryKey",required:!1,type:{name:"string[]"}},additionalFiltersLocalStorageKey:{defaultValue:null,description:"",name:"additionalFiltersLocalStorageKey",required:!1,type:{name:"string"}},defaultShowFacetVisualization:{defaultValue:null,description:"",name:"defaultShowFacetVisualization",required:!1,type:{name:"boolean"}},visibleColumnCount:{defaultValue:null,description:"",name:"visibleColumnCount",required:!1,type:{name:"number"}},columnAliases:{defaultValue:null,description:"Mapping from column name to the name that should be shown for the column",name:"columnAliases",required:!1,type:{name:"Record<string, string>"}},rgbIndex:{defaultValue:null,description:"",name:"rgbIndex",required:!1,type:{name:"number"}},showLastUpdatedOn:{defaultValue:null,description:"",name:"showLastUpdatedOn",required:!1,type:{name:"boolean"}},noContentPlaceholderType:{defaultValue:null,description:"Default is INTERACTIVE",name:"noContentPlaceholderType",required:!1,type:{name:"enum",value:[{value:'"INTERACTIVE"'},{value:'"STATIC"'}]}},unitDescription:{defaultValue:null,description:'The singular word to use to describe a what a row represents (e.g. "file"). Defaults to "result"',name:"unitDescription",required:!1,type:{name:"string"}},combineRangeFacetConfig:{defaultValue:null,description:"Combines two faceted columns into a single inclusive range selector",name:"combineRangeFacetConfig",required:!1,type:{name:"ReadonlyObjectDeep<CombineRangeFacetConfig>"}}}}}catch{}const VK=e=>({partMask:Hh|es|Bh|Uh|Zo|zh,entityId:oa(e),concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",query:{sql:e,limit:Pu,offset:0}}),Qm=e=>{const{hideDownload:t}=e,{searchParams:n,sqlOperator:r,showAccessColumn:a,sql:i,hideAddToDownloadListColumn:o=t,hideQueryCount:s,name:l,showTopLevelControls:c=!1,searchConfiguration:u,unitDescription:d="Results",rgbIndex:p,showLastUpdatedOn:m,additionalFiltersLocalStorageKey:h,noContentPlaceholderType:g=c?Gr.INTERACTIVE:Gr.STATIC,...y}=e,[v,w]=R.useState(1),_=()=>{w(v+1)},b=VK(i),E=oa(i);b.query.additionalFilters=jh(h??E,n,r);const{data:S}=rs(E);return R.createElement(jo,{...y,initQueryRequest:b,key:v},f(Go,{rgbIndex:p,unitDescription:d,showLastUpdatedOn:m,noContentPlaceholderType:g,...y,children:f($l,{children:N=>{if(N===void 0)throw new Error("No queryContext found when calling QueryContextConsumer");return f(Eu,{children:C=>{if(C===void 0)throw new Error("No queryVisualizationContext found when calling QueryVisualizationContextConsumer");return P(te,{children:[c&&f(hu,{showColumnSelection:!0,name:l,hideDownload:o,hideQueryCount:s,hideFacetFilterControl:!0,hideVisualizationsControl:!0,remount:_}),S&&Lw(S)&&S.isSearchEnabled?f(Yl,{helpUrl:u==null?void 0:u.fullTextSearchHelpURL}):f(eT,{...u,queryContext:N,queryVisualizationContext:C}),f(pu,{}),c&&f(Ho,{frontText:""}),f(wu,{showAccessColumn:a,"data-testid":"SynapseTable",hideAddToDownloadListColumn:o,...y}),f(ST,{})]})}})}})}))};try{Qm.displayName="StandaloneQueryWrapper",Qm.__docgenInfo={description:`This component was initially implemented on the portal side. It renders a SynapseTable if a title is provided.
If showTopLevelControls is set to true, then the SynapseTable will also include the TopLevelControls (search, export table, column selection).`,displayName:"StandaloneQueryWrapper",props:{showAccessColumn:{defaultValue:null,description:"If true and entity is a view or dataset, renders a column that represents if the caller has permission to download the entity represented by the row",name:"showAccessColumn",required:!1,type:{name:"boolean"}},showDownloadColumn:{defaultValue:null,description:"@deprecated use showDirectDownloadColumn",name:"showDownloadColumn",required:!1,type:{name:"boolean"}},hideDownload:{defaultValue:null,description:"@deprecated use hideAddToDownloadListColumn",name:"hideDownload",required:!1,type:{name:"boolean"}},showDirectDownloadColumn:{defaultValue:null,description:"If true and entity is a file view or dataset, renders a column that allows the logged-in user to directly download the file, if they have permission",name:"showDirectDownloadColumn",required:!1,type:{name:"boolean"}},hideAddToDownloadListColumn:{defaultValue:null,description:"If true, the add to download list column will be hidden",name:"hideAddToDownloadListColumn",required:!1,type:{name:"boolean"}},columnLinks:{defaultValue:null,description:"Configuration to override cell renderers with e.g. a link to a portals detail page",name:"columnLinks",required:!1,type:{name:"LabelLinkConfig"}},searchParams:{defaultValue:null,description:"",name:"searchParams",required:!1,type:{name:"{ facetValue: string; }"}},sqlOperator:{defaultValue:null,description:"",name:"sqlOperator",required:!1,type:{name:"enum",value:[{value:'"LIKE"'},{value:'"EQUAL"'},{value:'"IN"'},{value:'"HAS"'},{value:'"HAS_LIKE"'}]}},sql:{defaultValue:null,description:"",name:"sql",required:!0,type:{name:"string"}},showTopLevelControls:{defaultValue:null,description:"",name:"showTopLevelControls",required:!1,type:{name:"boolean"}},searchConfiguration:{defaultValue:null,description:"",name:"searchConfiguration",required:!1,type:{name:'Omit<SearchV2Props, "queryVisualizationContext" | "queryContext">'}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},hideVisualizationsControl:{defaultValue:null,description:"",name:"hideVisualizationsControl",required:!1,type:{name:"boolean"}},hideFacetFilterControl:{defaultValue:null,description:"",name:"hideFacetFilterControl",required:!1,type:{name:"boolean"}},hideQueryCount:{defaultValue:null,description:"",name:"hideQueryCount",required:!1,type:{name:"boolean"}},hideSqlEditorControl:{defaultValue:null,description:"",name:"hideSqlEditorControl",required:!1,type:{name:"boolean"}},showColumnSelection:{defaultValue:null,description:"",name:"showColumnSelection",required:!1,type:{name:"boolean"}},customControls:{defaultValue:null,description:"",name:"customControls",required:!1,type:{name:"CustomControl[]"}},showExportToCavatica:{defaultValue:null,description:"",name:"showExportToCavatica",required:!1,type:{name:"boolean"}},fileIdColumnName:{defaultValue:null,description:"",name:"fileIdColumnName",required:!1,type:{name:"string"}},fileNameColumnName:{defaultValue:null,description:"",name:"fileNameColumnName",required:!1,type:{name:"string"}},fileVersionColumnName:{defaultValue:null,description:"",name:"fileVersionColumnName",required:!1,type:{name:"string"}},cavaticaHelpURL:{defaultValue:null,description:"",name:"cavaticaHelpURL",required:!1,type:{name:"string"}},remount:{defaultValue:null,description:"",name:"remount",required:!1,type:{name:"(() => void)"}},additionalFiltersLocalStorageKey:{defaultValue:null,description:"",name:"additionalFiltersLocalStorageKey",required:!1,type:{name:"string"}},visibleColumnCount:{defaultValue:null,description:"",name:"visibleColumnCount",required:!1,type:{name:"number"}},columnAliases:{defaultValue:null,description:"Mapping from column name to the name that should be shown for the column",name:"columnAliases",required:!1,type:{name:"Record<string, string>"}},rgbIndex:{defaultValue:null,description:"",name:"rgbIndex",required:!1,type:{name:"number"}},showLastUpdatedOn:{defaultValue:null,description:"",name:"showLastUpdatedOn",required:!1,type:{name:"boolean"}},noContentPlaceholderType:{defaultValue:null,description:"Default is INTERACTIVE",name:"noContentPlaceholderType",required:!1,type:{name:"enum",value:[{value:'"INTERACTIVE"'},{value:'"STATIC"'}]}},unitDescription:{defaultValue:null,description:'The singular word to use to describe a what a row represents (e.g. "file"). Defaults to "result"',name:"unitDescription",required:!1,type:{name:"string"}}}}}catch{}function Xm(e){const{query:t,showquery:n,tableonly:r}=e,a=n==="true",i=r==="true",o="Items";return i?f(Qm,{sql:t,name:o}):f(Ym,{sql:t,hideSqlEditorControl:!a,name:o,defaultShowFacetVisualization:!1,tableConfiguration:{}})}try{Xm.displayName="MarkdownSynapseTable",Xm.__docgenInfo={description:"",displayName:"MarkdownSynapseTable",props:{query:{defaultValue:null,description:"",name:"query",required:!0,type:{name:"string"}},showquery:{defaultValue:null,description:"",name:"showquery",required:!0,type:{name:"string"}},tableonly:{defaultValue:null,description:"",name:"tableonly",required:!0,type:{name:"string"}}}}}catch{}const LK={1:"toc-indent1",2:"toc-indent2",3:"toc-indent3",4:"toc-indent4",5:"toc-indent5",6:"toc-indent6"};function Jm(e){const{originalMarkup:t}=e,n=[],r=/<h([1-6]) id="(.*)" .*toc="true">(.*)<\/h[1-6]>/gm;let a="";return t.replace(r,(i,o,s,l)=>(a+=l,n.push(f("div",{children:f("a",{role:"link",className:`link ${LK[Number(o)]}`,"data-anchor":s,children:l})},l)),"")),f("div",{children:n},a)}try{Jm.displayName="MarkdownTableOfContents",Jm.__docgenInfo={description:"",displayName:"MarkdownTableOfContents",props:{originalMarkup:{defaultValue:null,description:"",name:"originalMarkup",required:!0,type:{name:"string"}}}}}catch{}function Zm(e){const{alias:t}=e,{data:n}=lx([t]);return n?f(cg,{principalId:n[0].ownerId}):f(te,{})}try{Zm.displayName="MarkdownUserOrTeamBadge",Zm.__docgenInfo={description:"",displayName:"MarkdownUserOrTeamBadge",props:{alias:{defaultValue:null,description:"",name:"alias",required:!0,type:{name:"string"}}}}}catch{}function eh(e){return f(cx,{params:e})}try{eh.displayName="MarkdownVideo",eh.__docgenInfo={description:"",displayName:"MarkdownVideo",props:{width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"string"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"string"}},videoId:{defaultValue:null,description:"",name:"videoId",required:!1,type:{name:"string"}},vimeoId:{defaultValue:null,description:"",name:"vimeoId",required:!1,type:{name:"string"}},oggSynapseId:{defaultValue:null,description:"",name:"oggSynapseId",required:!1,type:{name:"string"}},mp4SynapseId:{defaultValue:null,description:"",name:"mp4SynapseId",required:!1,type:{name:"string"}},webmSynapseId:{defaultValue:null,description:"",name:"webmSynapseId",required:!1,type:{name:"string"}}}}}catch{}function th(e){const{widgetType:t,widgetParamsMapped:n,originalMarkup:r}=e;switch(t){case"buttonlink":return f(jf,{...n});case"image":return f(Ip,{...n});case"plot":return f(Rp,{...n});case"toc":return f(Jm,{originalMarkup:r});case"badge":return f(Zm,{...n});case"iduReport":return f(Jf,{...n});case"video":case"vimeo":case"youtube":return f(eh,{...n});case"synapsetable":return f(Xm,{...n});case"provenance":return f(Np,{...n});case"preview":return f(Yf,{...n});default:return console.warn(`Unsupported widget: ${t}.`),f(te,{})}}function Cw(e){return f(oi,{children:f(th,{...e})})}try{th.displayName="MarkdownWidget",th.__docgenInfo={description:"",displayName:"MarkdownWidget",props:{widgetType:{defaultValue:null,description:"",name:"widgetType",required:!0,type:{name:"enum",value:[{value:'"video"'},{value:'"image"'},{value:'"buttonlink"'},{value:'"plot"'},{value:'"toc"'},{value:'"badge"'},{value:'"iduReport"'},{value:'"vimeo"'},{value:'"youtube"'},{value:'"synapsetable"'},{value:'"provenance"'},{value:'"preview"'}]}},widgetParamsMapped:{defaultValue:null,description:"",name:"widgetParamsMapped",required:!0,type:{name:"any"}},originalMarkup:{defaultValue:null,description:"",name:"originalMarkup",required:!0,type:{name:"string"}}}}}catch{}class nh extends J.Component{constructor(t){super(t),this.renderBookmarks=this.renderBookmarks.bind(this)}renderBookmarks(){const t=String(this.props.footnotes),n=/Synapse widget&gt;<\/span>(.*)</g;let r;const a=[];for(;r=n.exec(t);)a.push(r[1]);return a.map((i,o)=>{const s=o<a.length-1;return P(J.Fragment,{children:[P("button",{className:"SRC-markdown-bookmark",id:`bookmark${o}`,children:["[",o+1,"]"]}),f("span",{dangerouslySetInnerHTML:{__html:i}}),s&&f("br",{})]},o)})}render(){return P(J.Fragment,{children:[f("hr",{}),this.renderBookmarks()]})}}try{nh.displayName="Bookmarks",nh.__docgenInfo={description:"",displayName:"Bookmarks",props:{footnotes:{defaultValue:null,description:"",name:"footnotes",required:!0,type:{name:"string"}}}}}catch{}const Of=markdownit({html:!0});class gn extends J.Component{constructor(n){super(n);ht(this,"markupRef");markdownitSynapse.init_markdown_it(Of,markdownitSub,markdownitSup,markdownitCentertext,markdownitSynapseHeading,markdownitSynapseTable,markdownitStrikethroughAlt,markdownitContainer,markdownitEmphasisAlt,markdownitInlineComments,markdownitBr);const r="";Of.use(markdownitSynapse,r,"https://synapse.org").use(markdownitMath,r);const a={};this.props.markdown&&(a.markdown=this.props.markdown),this.state={md:Of,error:void 0,fileHandles:void 0,data:a,isLoading:!0},this.markupRef=J.createRef(),this.handleLinkClicks=this.handleLinkClicks.bind(this),this.renderMarkdown=this.renderMarkdown.bind(this),this.recursiveRender=this.recursiveRender.bind(this),this.processMath=this.processMath.bind(this),this.getWikiAttachments=this.getWikiAttachments.bind(this),this.getWikiPageMarkdown=this.getWikiPageMarkdown.bind(this),this.createHTML=this.createHTML.bind(this),this.stripHTML=this.stripHTML.bind(this),this.addBookmarks=this.addBookmarks.bind(this),this.addIdsToReferenceWidgets=this.addIdsToReferenceWidgets.bind(this),this.addIdsToTocWidgets=this.addIdsToTocWidgets.bind(this)}componentWillUnmount(){this.markupRef.current&&this.markupRef.current.removeEventListener("click",this.handleLinkClicks)}handleLinkClicks(n){const r=n.target;if(r.tagName==="A"||r.tagName==="BUTTON"){const a=n.target;if(a.id.substring(0,3)==="ref"){n.preventDefault();const i=Number(n.currentTarget.id.substring(3)),o=this.markupRef.current.querySelector(`#bookmark${i}`);try{o.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}catch(s){console.log("error on scroll",s)}}else if(n.currentTarget.id!==null&&a.getAttribute("data-anchor")){n.preventDefault();const i=a.getAttribute("data-anchor"),o=this.markupRef.current.querySelector(`#${i}`);try{o.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}catch(s){console.log("error on scroll",s)}}}}createHTML(n){if(!n)return{__html:""};const r=this.props.renderInline?this.state.md.renderInline(n):this.state.md.render(n);return{__html:YS(r,QS)}}processMath(){if(!this.markupRef.current)return;const n=this.markupRef.current.querySelectorAll('[id^="mathjax-"]'),r=new RegExp(/\\[()[\]]/,"g");n.forEach(a=>{if(a.textContent&&!a.getAttribute("processed")){a.setAttribute("processed","true");const i=a.textContent.replace(r,"");return katex.render(i,a,{output:"html",throwOnError:!1})}})}addBookmarks(){markdownitSynapse.resetFootnotes(),this.createHTML(this.state.data.markdown);const n=this.createHTML(markdownitSynapse.footnotes()).__html;if(n.length>0)return f(nh,{footnotes:n})}stripHTML(n){const r=document.createElement("div");return r.innerHTML=n,r.textContent||r.innerText||""}async getWikiPageMarkdown(){const{ownerId:n,wikiId:r,objectType:a}=this.props;if(!(!n&&!r))try{const i=await $t.getEntityWiki(this.context.accessToken,n,r,a);try{const o=await this.getWikiAttachments(r||i.id);if(this.props.onMarkdownProcessingDone){const s=this.stripHTML(this.createHTML(i.markdown).__html);this.props.onMarkdownProcessingDone(s)}this.setState({data:i,fileHandles:o,error:void 0})}catch(o){console.error("fileHandlesErr = ",o)}}catch(i){console.error(`Error on wiki markdown load
`,i),this.setState({error:i})}}async getWikiAttachments(n){const{ownerId:r,objectType:a}=this.props;if(!r){console.error("Cannot get wiki attachments without ownerId on Markdown Component");return}return await $t.getWikiAttachmentsFromEntity(this.context.accessToken,r,n,a).then(i=>i).catch(i=>{console.error("Error on wiki attachment load ",i)})}addIdsToReferenceWidgets(n){const r=/<span id="wikiReference.*?<span data-widgetparams.*?span>/g;let a=1;return n.replace(r,()=>{const i=a;return a+=1,`<a href="" id="ref${i}">[${i}]</a>`})}addIdsToTocWidgets(n){const r="SRC-header-";let a=1;const i=/<h[1-6] toc="true">.*<\/h[1-6]>/gm;return n.replace(i,o=>{const s=a;return a+=1,`${o.substring(0,3)} id="${r}${s}"${o.substring(3)}`})}renderMarkdown(){let n=this.createHTML(this.state.data.markdown).__html;if(n=this.addIdsToReferenceWidgets(n),n=this.addIdsToTocWidgets(n),n.length>0){const a=new DOMParser().parseFromString(n,"text/html");return f(te,{children:this.recursiveRender(a.body,n)})}}recursiveRender(n,r){if(n.nodeType===Node.TEXT_NODE)return f(te,{children:n.textContent});if(n.nodeType===Node.ELEMENT_NODE&&n instanceof HTMLElement){const a=n.tagName.toLowerCase()==="body"?"span":n.tagName.toLowerCase(),i=n.getAttribute("data-widgetparams");if(i)return this.processHTMLWidgetMapping(i,r);const o=n.attributes,s={};for(let c=0;c<o.length;c++){let u="",d="";const p=o.item(c);p&&(u=p.name,d=p.value),u&&d&&(s[u]=d)}if(n.childNodes.length===0)return f(a,{...s});const l=Array.from(n.childNodes).map((c,u)=>f(J.Fragment,{children:this.recursiveRender(c,r)},u));switch(a){case"p":return f(le,{variant:"body1",...s,component:a,children:l});case"span":return f(le,{variant:"body1",...s,component:a,children:l});case"h1":return f(le,{variant:"headline1",...s,component:a,children:l});case"h2":return f(le,{variant:"headline2",...s,component:a,children:l});case"h3":return f(le,{variant:"headline3",...s,component:a,children:l});case"ol":return f(le,{variant:"body1",...s,component:a,children:l});case"ul":return f(le,{variant:"body1",...s,component:a,children:l});case"a":return f(St,{...s,component:a,children:l});default:return f(a,{...s,children:l})}}}decodeXml(n){const r={"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"'};return n.replace(/(&quot;|&lt;|&gt;|&amp;)/g,(a,i)=>r[i])}processHTMLWidgetMapping(n,r){const a=this.decodeXml(n),i=a.indexOf("?");if(i===-1)return f(Cw,{widgetType:a,widgetParamsMapped:{},originalMarkup:r},JSON.stringify(a));const o=a.substring(0,i),s={};return a.substring(i+1).split("&").forEach(l=>{let[c,u]=l.split("=");u=decodeURIComponent(u),s[c]=u}),f(Cw,{widgetType:o,widgetParamsMapped:s,originalMarkup:r},JSON.stringify(a))}async componentDidMount(){if(this.state.data.markdown){if(this.setState({isLoading:!1}),this.props.onMarkdownProcessingDone){const n=this.stripHTML(this.createHTML(this.state.data.markdown).__html);this.props.onMarkdownProcessingDone(n)}return}this.markupRef.current&&this.markupRef.current.addEventListener("click",this.handleLinkClicks),await this.getWikiPageMarkdown(),this.processMath(),this.setState({isLoading:!1})}async componentDidUpdate(n){let r=this.props.ownerId!==n.ownerId;r=r||this.props.wikiId!==n.wikiId,r&&await this.getWikiPageMarkdown(),this.processMath()}render(){const{renderInline:n,loadingSkeletonRowCount:r}=this.props,{isLoading:a,error:i}=this.state,o={ownerId:this.props.ownerId,wikiId:this.props.wikiId,wikiPage:this.state.data,fileHandles:this.state.fileHandles};if(i)return f(Dh,{error:i});const s=this.addBookmarks(),l=P(Tp,{wikiContext:o,children:[a&&f(te,{children:r?f(Kh,{numCols:1,numRows:r}):f("span",{className:"spinner"})}),this.renderMarkdown(),s&&f("div",{children:this.addBookmarks()})]});return n?f("span",{className:"markdown markdown-inline",ref:this.markupRef,children:l}):f("div",{className:"markdown",ref:this.markupRef,children:l})}}ht(gn,"contextType",Qo);const rh=ct(({className:e,...t})=>f(At,{...t,classes:{popper:e}}))(({theme:e})=>({[`& .${Df.tooltip}`]:{backgroundColor:e.palette.common.white,color:e.palette.grey[1e3],boxShadow:e.shadows[1],border:`1px solid ${e.palette.grey[500]}`},[`& .${Df.arrow}`]:{"&:before":{boxShadow:e.shadows[1],border:`1px solid ${e.palette.grey[500]}`},color:e.palette.common.white}}));try{rh.displayName="LightTooltip",rh.__docgenInfo={description:"",displayName:"LightTooltip",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<unknown>"}}}}}catch{}const FK={display:"flex",justifyContent:"space-between",flexDirection:"row-reverse","> button":{flexGrow:1,maxWidth:"45%"}},ah=({children:e,contentProps:t,placement:n="bottom-start",showCloseButton:r=!0,actionButton:a,sx:i,maxWidth:o="500px",minWidth:s="300px"})=>{const[l,c]=R.useState(!1),u=P(Le,{sx:{padding:"20px"},children:[f(le,{variant:"body1",marginBottom:2,children:f(gn,{...t})}),P(Le,{sx:FK,children:[a&&f(rt,{color:a.color||"primary",variant:a.variant||"contained",onClick:()=>{a.onClick(),a.closePopoverOnClick&&c(!1)},children:a.content}),r&&f(rt,{variant:"outlined",onClick:()=>c(!1),children:"Close"})]})]});return f(rh,{title:u,placement:n,onClick:()=>c(!l),open:l,sx:{...i,[`& .${Df.tooltip}`]:{maxWidth:{maxWidth:o},minWidth:{minWidth:s}}},children:f(Le,{role:"button",className:"PopoverContainer",sx:{display:"inline-block",cursor:"pointer"},children:e})})};try{ah.displayName="MarkdownPopover",ah.__docgenInfo={description:"",displayName:"MarkdownPopover",props:{contentProps:{defaultValue:null,description:"",name:"contentProps",required:!0,type:{name:"MarkdownSynapseProps"}},sx:{defaultValue:null,description:"",name:"sx",required:!1,type:{name:"SxProps<Theme>"}},placement:{defaultValue:{value:"bottom-start"},description:"",name:"placement",required:!1,type:{name:"enum",value:[{value:'"bottom"'},{value:'"left"'},{value:'"right"'},{value:'"top"'},{value:'"bottom-end"'},{value:'"bottom-start"'},{value:'"left-end"'},{value:'"left-start"'},{value:'"right-end"'},{value:'"right-start"'},{value:'"top-end"'},{value:'"top-start"'}]}},showCloseButton:{defaultValue:{value:"true"},description:"",name:"showCloseButton",required:!1,type:{name:"boolean"}},actionButton:{defaultValue:null,description:"",name:"actionButton",required:!1,type:{name:'{ content: ReactNode; color?: OverridableStringUnion<"info" | "success" | "warning" | "error" | "inherit" | "primary" | "secondary", ButtonPropsColorOverrides>; variant?: OverridableStringUnion<...>; onClick: () => void; closePopoverOnClick?: boolean | undefined; } | undefined'}},maxWidth:{defaultValue:{value:"500px"},description:"",name:"maxWidth",required:!1,type:{name:"string"}},minWidth:{defaultValue:{value:"300px"},description:"",name:"minWidth",required:!1,type:{name:"string"}}}}}catch{}const Ma=({markdownText:e,helpUrl:t,placement:n="bottom",showCloseButton:r=!0,className:a=""})=>f(te,{children:f(ah,{contentProps:{markdown:e},placement:n,actionButton:t?{content:f(te,{children:"More info"}),closePopoverOnClick:!0,onClick:()=>window.open(t,"_blank"),color:"primary"}:void 0,showCloseButton:r,maxWidth:"350px",children:f(rI,{className:`HelpButton ${a}`})})});try{Ma.displayName="HelpPopover",Ma.__docgenInfo={description:"",displayName:"HelpPopover",props:{markdownText:{defaultValue:null,description:"",name:"markdownText",required:!0,type:{name:"string"}},helpUrl:{defaultValue:null,description:"",name:"helpUrl",required:!1,type:{name:"string"}},placement:{defaultValue:{value:"bottom"},description:"",name:"placement",required:!1,type:{name:"enum",value:[{value:'"bottom"'},{value:'"left"'},{value:'"right"'},{value:'"top"'},{value:'"bottom-end"'},{value:'"bottom-start"'},{value:'"left-end"'},{value:'"left-start"'},{value:'"right-end"'},{value:'"right-start"'},{value:'"top-end"'},{value:'"top-start"'}]}},showCloseButton:{defaultValue:{value:"true"},description:"",name:"showCloseButton",required:!1,type:{name:"boolean"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const qK="close",ih=({sx:e={color:"grey.700"},onClick:t})=>f(an,{sx:e,onClick:t,"aria-label":qK,children:f(PS,{})}),Cu=({open:e,title:t,content:n,actions:r,className:a,onCancel:i,hasCloseButton:o=!0,titleHelpPopoverProps:s,maxWidth:l="sm",fullWidth:c=!0,sx:u,contentProps:d={}})=>P(hS,{fullWidth:c,maxWidth:l,open:e,className:a,onClose:()=>i(),sx:u,children:[f(Oa,{children:P(Nr,{direction:"row",alignItems:"center",gap:"5px",children:[t,s&&f(Ma,{...s}),f(Le,{sx:{flexGrow:1}}),o&&f(ih,{onClick:()=>i()})]})}),f(ka,{...d,children:n}),r&&f(as,{children:r})]});try{ih.displayName="CloseButton",ih.__docgenInfo={description:"",displayName:"CloseButton",props:{sx:{defaultValue:{value:"{ color: 'grey.700' }"},description:"",name:"sx",required:!1,type:{name:"SxProps"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}}}}}catch{}try{Cu.displayName="DialogBase",Cu.__docgenInfo={description:"A dialog built using MUI components.",displayName:"DialogBase",props:{open:{defaultValue:null,description:"",name:"open",required:!0,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"ReactNode"}},content:{defaultValue:null,description:"",name:"content",required:!0,type:{name:"ReactNode"}},actions:{defaultValue:null,description:"",name:"actions",required:!1,type:{name:"ReactNode"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onCancel:{defaultValue:null,description:"",name:"onCancel",required:!0,type:{name:"() => void"}},hasCloseButton:{defaultValue:{value:"true"},description:"",name:"hasCloseButton",required:!1,type:{name:"boolean"}},titleHelpPopoverProps:{defaultValue:null,description:"",name:"titleHelpPopoverProps",required:!1,type:{name:"HelpPopoverProps"}},maxWidth:{defaultValue:{value:"sm"},description:"",name:"maxWidth",required:!1,type:{name:"false | Breakpoint"}},fullWidth:{defaultValue:{value:"true"},description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},sx:{defaultValue:{value:"{ color: 'grey.700' }"},description:"",name:"sx",required:!1,type:{name:"SxProps<Theme>"}},contentProps:{defaultValue:{value:"{}"},description:"",name:"contentProps",required:!1,type:{name:"DialogContentProps"}}}}}catch{}const MK="Cancel";function oh(e){return f(rt,{variant:"outlined",onClick:()=>e.onCancel(),children:MK})}const sh=e=>{const{confirmButtonText:t="OK",confirmButtonClassName:n,confirmButtonColor:r="primary",confirmButtonVariant:a="contained",confirmButtonDisabled:i=!1,onConfirm:o,onCancel:s,hasCancelButton:l=!0}=e;return P(te,{children:[l&&f(oh,{onCancel:s}),f(rt,{variant:a,className:n,color:r,onClick:o,disabled:i,children:t})]})};function Ba(e){const{confirmButtonText:t,confirmButtonClassName:n,confirmButtonColor:r,confirmButtonVariant:a,confirmButtonDisabled:i,onConfirm:o,onCancel:s,hasCancelButton:l,...c}=e;return f(Cu,{onCancel:s,actions:f(sh,{confirmButtonText:t,confirmButtonClassName:n,confirmButtonColor:r,confirmButtonVariant:a,confirmButtonDisabled:i,onConfirm:o,onCancel:s,hasCancelButton:l}),...c})}try{oh.displayName="CancelButton",oh.__docgenInfo={description:"",displayName:"CancelButton",props:{onCancel:{defaultValue:null,description:"",name:"onCancel",required:!0,type:{name:"() => void"}}}}}catch{}try{Ba.displayName="ConfirmationDialog",Ba.__docgenInfo={description:"A confirmation dialog built using MUI components.",displayName:"ConfirmationDialog",props:{open:{defaultValue:null,description:"",name:"open",required:!0,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"ReactNode"}},content:{defaultValue:null,description:"",name:"content",required:!0,type:{name:"ReactNode"}},actions:{defaultValue:null,description:"",name:"actions",required:!1,type:{name:"ReactNode"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onCancel:{defaultValue:null,description:"",name:"onCancel",required:!0,type:{name:"() => void"}},hasCloseButton:{defaultValue:null,description:"",name:"hasCloseButton",required:!1,type:{name:"boolean"}},titleHelpPopoverProps:{defaultValue:null,description:"",name:"titleHelpPopoverProps",required:!1,type:{name:"HelpPopoverProps"}},maxWidth:{defaultValue:null,description:"",name:"maxWidth",required:!1,type:{name:"false | Breakpoint"}},fullWidth:{defaultValue:null,description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},sx:{defaultValue:null,description:"",name:"sx",required:!1,type:{name:"SxProps<Theme>"}},contentProps:{defaultValue:null,description:"",name:"contentProps",required:!1,type:{name:"DialogContentProps"}},onConfirm:{defaultValue:null,description:"",name:"onConfirm",required:!0,type:{name:"MouseEventHandler<HTMLButtonElement>"}},confirmButtonText:{defaultValue:null,description:"",name:"confirmButtonText",required:!1,type:{name:"string"}},confirmButtonClassName:{defaultValue:null,description:"",name:"confirmButtonClassName",required:!1,type:{name:"string"}},confirmButtonColor:{defaultValue:null,description:"",name:"confirmButtonColor",required:!1,type:{name:"enum",value:[{value:'"info"'},{value:'"success"'},{value:'"warning"'},{value:'"error"'},{value:'"inherit"'},{value:'"primary"'},{value:'"secondary"'}]}},confirmButtonVariant:{defaultValue:null,description:"",name:"confirmButtonVariant",required:!1,type:{name:"enum",value:[{value:'"text"'},{value:'"outlined"'},{value:'"contained"'}]}},confirmButtonDisabled:{defaultValue:null,description:"",name:"confirmButtonDisabled",required:!1,type:{name:"boolean"}},hasCancelButton:{defaultValue:null,description:"",name:"hasCancelButton",required:!1,type:{name:"boolean"}}}}}catch{}try{sh.displayName="ConfirmationButtons",sh.__docgenInfo={description:"",displayName:"ConfirmationButtons",props:{onConfirm:{defaultValue:null,description:"",name:"onConfirm",required:!0,type:{name:"MouseEventHandler<HTMLButtonElement>"}},onCancel:{defaultValue:null,description:"",name:"onCancel",required:!0,type:{name:"() => void"}},confirmButtonText:{defaultValue:null,description:"",name:"confirmButtonText",required:!1,type:{name:"string"}},confirmButtonClassName:{defaultValue:null,description:"",name:"confirmButtonClassName",required:!1,type:{name:"string"}},confirmButtonColor:{defaultValue:null,description:"",name:"confirmButtonColor",required:!1,type:{name:"enum",value:[{value:'"info"'},{value:'"success"'},{value:'"warning"'},{value:'"error"'},{value:'"inherit"'},{value:'"primary"'},{value:'"secondary"'}]}},confirmButtonVariant:{defaultValue:null,description:"",name:"confirmButtonVariant",required:!1,type:{name:"enum",value:[{value:'"text"'},{value:'"outlined"'},{value:'"contained"'}]}},confirmButtonDisabled:{defaultValue:null,description:"",name:"confirmButtonDisabled",required:!1,type:{name:"boolean"}},hasCancelButton:{defaultValue:null,description:"",name:"hasCancelButton",required:!1,type:{name:"boolean"}}}}}catch{}function BK(e,t){const[n,r]=R.useState(void 0),[a,i]=R.useState(0),{data:o,isLoading:s,isPreviousData:l,error:c}=Uu(e,{enabled:!t,keepPreviousData:!0},r),{data:u,hasNextPage:d,fetchPreviousPage:p,fetchNextPage:m,isFetchingNextPage:h,isLoading:g,error:y,isPreviousData:v}=IR(e,{enabled:t,keepPreviousData:!0},r);return{data:R.useMemo(()=>{var C,I,k;return t?u==null||u.pages.length===0||u.pages[0].responseBody==null?void 0:a==="ALL"?{...u==null?void 0:u.pages[0].responseBody,queryResult:{...(C=u==null?void 0:u.pages[0].responseBody)==null?void 0:C.queryResult,queryResults:{...(k=(I=u==null?void 0:u.pages[0].responseBody)==null?void 0:I.queryResult)==null?void 0:k.queryResults,rows:u.pages.flatMap(O=>{var M;return(M=O.responseBody.queryResult)==null?void 0:M.queryResults.rows})??[]}}}:u==null?void 0:u.pages[a].responseBody:o==null?void 0:o.responseBody},[u,a,t,o==null?void 0:o.responseBody]),currentAsyncStatus:n,isLoadingNewBundle:(t?g:s)||(t?v:l),error:t?y:c,...t?{hasNextPage:d,fetchPreviousPage:p,fetchNextPage:m,isFetchingNextPage:h,currentPage:a,setCurrentPage:i}:{}}}function UK(e){const{immutableTableQueryResult:t,queryWrapperData:n,isInfinite:r}=e;if(r){const{hasNextPage:a,fetchNextPage:i,fetchPreviousPage:o,currentPage:s,setCurrentPage:l,isFetchingNextPage:c}=n,u=s!=="ALL"&&s>0;return{hasNextPage:a,isLoadingNewPage:c,hasPreviousPage:u,appendNextPageToResults:async function(){if(!a)throw new Error("Called appendNextPageToResults when there is no next page");await i(),l("ALL")},goToNextPage:async function(){if(s==="ALL")throw new Error("Cannot go to next page when all pages are displayed");if(!a)throw new Error("Called goToNextPage when there is no next page");await i(),l(s+1)},goToPreviousPage:async function(){if(s==="ALL")throw new Error("Cannot go to previous page when all pages are displayed");if(!u)throw new Error("Called goToPreviousPage when there is no previous page");await o(),l(s-1)}}}else{const{currentPage:a,goToPage:i,pageSize:o,setPageSize:s}=t;return{currentPage:a,goToPage:i,pageSize:o,setPageSize:s}}}const ut=Tr(void 0),Bn=Tr(void 0),tr=Tr(!1),$i=Tr(void 0);function HK(e){const{initQueryRequest:t,onQueryChange:n,onQueryResultBundleChange:r,lockedColumn:a,componentIndex:i,shouldDeepLink:o,onViewSharingSettingsClicked:s,isRowSelectionVisible:l=!1,rowSelectionPrimaryKey:c,isInfinite:u=!1,combineRangeFacetConfig:d}=e,p=Ce(ws),m=lA({initQueryRequest:t,shouldDeepLink:o,componentIndex:i,onQueryChange:n,requireConfirmationOnChange:p}),{entityId:h,versionNumber:g,getInitQueryRequest:y,getCurrentQueryRequest:v,setQuery:w,resetQuery:_,removeSelectedFacet:b,removeValueFromSelectedFacet:E,removeQueryFilter:S,removeValueFromQueryFilter:N,onConfirmChange:C,isConfirmingChange:I,onCancelChange:k,nextQueryRequest:O,currentQueryRequest:M,addValueToSelectedFacet:q}=m,$=R.useMemo(()=>v(),[v]),B=BK($,u),{data:L,isLoadingNewBundle:F,error:z,currentAsyncStatus:D}=B,x=UK({immutableTableQueryResult:m,queryWrapperData:B,isInfinite:u}),{data:A}=rs(h,g);fS(()=>{L&&r&&r(JSON.stringify(L))},[L,r]);const j=L?bR(L.facets,L.selectColumns):!0,U=Lr(tr);R.useEffect(()=>{U(F)},[F,U]);const T=Lr($i);R.useEffect(()=>{T(a)},[a,T]);const V=R.useMemo(()=>_R(L,a),[L,a]),K=Lr(ut);R.useEffect(()=>{K(V)},[V,K]);const Z=Lr(Bn);R.useEffect(()=>{Z(A)},[A,Z]);const Q=R.useMemo(()=>{const Te=v();return wR(Te.query,a)},[v,a]),re=R.useCallback(Te=>{var ae;return((ae=L==null?void 0:L.columnModels)==null?void 0:ae.find(Ge=>Ge.name===Te))??null},[L==null?void 0:L.columnModels]),se=Lr(Hy);R.useEffect(()=>{se(l)},[l,se]);const de=R.useMemo(()=>c||bW(A,L==null?void 0:L.columnModels),[L==null?void 0:L.columnModels,A,c]),xe=Lr(_c);R.useEffect(()=>{xe(de)},[de,xe]);const qe=Lr(Ir),he=Bu({nextQueryRequest:O,currentQueryRequest:M,isLoadingNewBundle:F,getCurrentQueryRequest:v,getInitQueryRequest:y,error:z,executeQueryRequest:w,isFacetsAvailable:j,asyncJobStatus:D,hasResettableFilters:Q,removeSelectedFacet:b,removeValueFromSelectedFacet:E,resetQuery:_,removeQueryFilter:S,removeValueFromQueryFilter:N,getColumnModel:re,onViewSharingSettingsClicked:s,addValueToSelectedFacet:q,combineRangeFacetConfig:d,...x}),{children:ie}=e;return P(Uf,{queryContext:he,children:[f(Ba,{open:I,title:"Change Query and Clear Selection?",content:"Changing the current query will cause your current selection to be lost. Are you sure you want to proceed?",confirmButtonText:"Clear Selection and Update Query",onConfirm:()=>{qe([]),C()},onCancel:()=>{k()}}),ie]})}function jo(e){return f(Z$,{children:f(HK,{...e})})}try{jo.displayName="QueryWrapper",jo.__docgenInfo={description:"",displayName:"QueryWrapper",props:{initQueryRequest:{defaultValue:null,description:"",name:"initQueryRequest",required:!0,type:{name:"QueryBundleRequest"}},componentIndex:{defaultValue:null,description:"",name:"componentIndex",required:!1,type:{name:"number"}},shouldDeepLink:{defaultValue:null,description:"",name:"shouldDeepLink",required:!1,type:{name:"boolean"}},onQueryChange:{defaultValue:null,description:"",name:"onQueryChange",required:!1,type:{name:"((newQueryJson: string) => void)"}},onQueryResultBundleChange:{defaultValue:null,description:"",name:"onQueryResultBundleChange",required:!1,type:{name:"((newQueryResultBundleJson: string) => void)"}},lockedColumn:{defaultValue:null,description:"",name:"lockedColumn",required:!1,type:{name:"LockedColumn"}},onViewSharingSettingsClicked:{defaultValue:null,description:"",name:"onViewSharingSettingsClicked",required:!1,type:{name:"((benefactorId: string) => void)"}},isRowSelectionVisible:{defaultValue:null,description:"",name:"isRowSelectionVisible",required:!1,type:{name:"boolean"}},rowSelectionPrimaryKey:{defaultValue:null,description:`The set of columns that defines a uniqueness constraint on the table for the purposes of filtering based on row selection.
Note that Synapse tables have no internal concept of a primary key.`,name:"rowSelectionPrimaryKey",required:!1,type:{name:"string[]"}},isInfinite:{defaultValue:null,description:"",name:"isInfinite",required:!1,type:{name:"boolean"}},combineRangeFacetConfig:{defaultValue:null,description:"",name:"combineRangeFacetConfig",required:!1,type:{name:"CombineRangeFacetConfig"}}}}}catch{}try{ut.displayName="tableQueryDataAtom",ut.__docgenInfo={description:"The query results, which will be undefined while initially fetching a new bundle, but will not be unloaded when fetching new pages",displayName:"tableQueryDataAtom",props:{}}}catch{}try{Bn.displayName="tableQueryEntityAtom",Bn.__docgenInfo={description:"The entity being queried. Will be undefined while initially fetching",displayName:"tableQueryEntityAtom",props:{}}}catch{}try{tr.displayName="isLoadingNewBundleAtom",tr.__docgenInfo={description:"Returns true when loading a brand-new query result bundle. Will not be true when just loading the next page of query results.",displayName:"isLoadingNewBundleAtom",props:{}}}catch{}try{$i.displayName="lockedColumnAtom",$i.__docgenInfo={description:`A column name may be "locked" so that it is both (1) not shown to the user that the filter is active, and (2) not modifiable by the user.
For example, we may show only the data matching a particular facet value on a Details Page without implying that the shown data is part of a larger table.
The presence of a locked filter will result in a client-side modification of the active query and result bundle data.`,displayName:"lockedColumnAtom",props:{}}}catch{}const Wo=R.createContext(void 0),lh=({children:e,queryVisualizationContext:t})=>f(Wo.Provider,{value:t,children:e});function Rt(){const e=R.useContext(Wo);if(e===void 0)throw new Error("useQueryVisualizationContext must be used within a QueryWrapper");return e}const Eu=Wo.Consumer;function Go(e){const{noContentPlaceholderType:t=Gr.INTERACTIVE,defaultShowSearchBar:n=!1,defaultShowFacetVisualization:r=!0,unitDescription:a="result"}=e,i=R.useMemo(()=>e.columnAliases??{},[e.columnAliases]),{getCurrentQueryRequest:o,isFacetsAvailable:s,hasResettableFilters:l}=Ct(),c=Ce(ut),[u,d]=R.useState(!1),[p,m]=R.useState(r),[h,g]=R.useState(!0),[y,v]=R.useState(!0),[w,_,b,E]=R$(n,!1),[S,N]=R.useState(!1),[C,I]=R.useState([]),k=o(),O=Bu(c==null?void 0:c.selectColumns);R.useEffect(()=>{I((O==null?void 0:O.slice(0,e.visibleColumnCount??1/0).map(L=>L.name))??[])},[O,k.query.sql,e.visibleColumnCount]);const M=R.useCallback(L=>{const F=localStorage.getItem("force-display-original-column-names")==="true";return!L||F?L:i[L]?i[L]:fR(L)},[i]),q=R.useCallback(()=>{switch(t){case Gr.INTERACTIVE:return l?f(q$,{}):f(M$,{});case Gr.STATIC:default:return f(F$,{})}},[t,l]),$=R.useMemo(()=>({columnsToShowInTable:C,setColumnsToShowInTable:I,rgbIndex:e.rgbIndex,unitDescription:a,showLastUpdatedOn:e.showLastUpdatedOn,getColumnDisplayName:M,getDisplayValue:G$,NoContentPlaceholder:q,isShowingExportToCavaticaModal:S,setIsShowingExportToCavaticaModal:N,showFacetFilter:s?y:!1,setShowFacetFilter:v,showSearchBar:w,setShowSearchBar:_,showDownloadConfirmation:b,setShowDownloadConfirmation:E,showSqlEditor:u,setShowSqlEditor:d,showFacetVisualization:s?p:!1,setShowFacetVisualization:m,showCopyToClipboard:h,setShowCopyToClipboard:g}),[q,M,s,S,e.rgbIndex,e.showLastUpdatedOn,E,_,h,b,y,p,w,u,a,C]),{children:B}=e;return f(lh,{queryVisualizationContext:$,children:B})}try{Go.displayName="QueryVisualizationWrapper",Go.__docgenInfo={description:`QueryVisualizationWrapper manages UI state for components that query tables in Synapse. That state can be accessed
or updated using QueryVisualizationContext. A QueryVisualizationWrapper must be used within a QueryWrapper.`,displayName:"QueryVisualizationWrapper",props:{rgbIndex:{defaultValue:null,description:"",name:"rgbIndex",required:!1,type:{name:"number"}},unitDescription:{defaultValue:null,description:'The singular word to use to describe a what a row represents (e.g. "file"). Defaults to "result"',name:"unitDescription",required:!1,type:{name:"string"}},columnAliases:{defaultValue:null,description:"Mapping from column name to the name that should be shown for the column",name:"columnAliases",required:!1,type:{name:"Record<string, string>"}},visibleColumnCount:{defaultValue:null,description:"",name:"visibleColumnCount",required:!1,type:{name:"number"}},hiddenColumns:{defaultValue:null,description:"",name:"hiddenColumns",required:!1,type:{name:"string[]"}},defaultShowFacetVisualization:{defaultValue:null,description:"",name:"defaultShowFacetVisualization",required:!1,type:{name:"boolean"}},defaultShowSearchBar:{defaultValue:null,description:"",name:"defaultShowSearchBar",required:!1,type:{name:"boolean"}},showLastUpdatedOn:{defaultValue:null,description:"",name:"showLastUpdatedOn",required:!1,type:{name:"boolean"}},noContentPlaceholderType:{defaultValue:null,description:"Default is INTERACTIVE",name:"noContentPlaceholderType",required:!1,type:{name:"enum",value:[{value:'"INTERACTIVE"'},{value:'"STATIC"'}]}},isRowSelectionVisible:{defaultValue:null,description:"",name:"isRowSelectionVisible",required:!1,type:{name:"boolean"}},rowSelectionPrimaryKey:{defaultValue:null,description:`The set of columns that defines a uniqueness constraint on the table for the purposes of filtering based on row selection.
Note that Synapse tables have no internal concept of a primary key.`,name:"rowSelectionPrimaryKey",required:!1,type:{name:"string[]"}},additionalFiltersLocalStorageKey:{defaultValue:null,description:"",name:"additionalFiltersLocalStorageKey",required:!1,type:{name:"string"}}}}}catch{}try{Wo.displayName="QueryVisualizationContext",Wo.__docgenInfo={description:"This must be exported to use the context in class components.",displayName:"QueryVisualizationContext",props:{}}}catch{}try{lh.displayName="QueryVisualizationContextProvider",lh.__docgenInfo={description:"Provides fields and functions related to visualizing a Synapse table query. For actual query data, see QueryContextProvider.",displayName:"QueryVisualizationContextProvider",props:{queryVisualizationContext:{defaultValue:null,description:"",name:"queryVisualizationContext",required:!0,type:{name:"QueryVisualizationContextType"}}}}}catch{}try{Eu.displayName="QueryVisualizationContextConsumer",Eu.__docgenInfo={description:"",displayName:"QueryVisualizationContextConsumer",props:{}}}catch{}class Ko extends J.Component{constructor(n){super(n);ht(this,"handleLinkClick",n=>r=>{r.preventDefault(),window.open(`${Zr.PORTAL}#!Synapse:${n}`,"_blank")});this.handleLinkClick=this.handleLinkClick.bind(this)}render(){const{data:n,schema:r,selectColumns:a,columnModels:i,genericCardSchema:o,queryVisualizationContext:{getColumnDisplayName:s}}=this.props,l=n[r.datasetName],c=n[r.summary],u=Aa({columnName:"tumorType",value:n[r.tumorType],selectColumns:a,columnModels:i}).str,d=Aa({columnName:"diseaseFocus",value:n[r.diseaseFocus],selectColumns:a,columnModels:i}).str,p=n[r.id],m=n[r.fundingAgency],h=n[r.fileCount],g=Vh(n[r.fileSize]),y=[["FUNDER",Aa({columnName:"fundingAgency",value:m,selectColumns:a,columnModels:i}).str],["SIZE",g],["FILES",h]];if(o&&o.secondaryLabels){const{secondaryLabels:v}=o;for(let w=0;w<v.length;w++){const _=v[w],b=n[r[_]];let E;if(b){E=s(_);const S=[E,b,_];y.push(S)}}}return P("div",{className:"SRC-portalCard SRC-typeDataset  ",children:[P("div",{className:"SRC-cardThumbnail",children:[f(ES,{type:Uw}),f("div",{children:g})]}),P("div",{className:"SRC-cardContent SRC-dataset",children:[f("div",{className:"SRC-type",children:"Dataset "}),f("div",{children:f("h3",{children:f("a",{target:"_self",href:`${Zr.PORTAL}#!Synapse:${p}`,children:l})})}),P("div",{className:"SRC-description-dataset",children:[f("p",{className:"SRC-description-text",children:c}),f("div",{className:"SRC-cardAction",children:f(rt,{className:"SRC-datasetButton",onClick:this.handleLinkClick(p),color:"secondary",variant:"contained",children:"Download Dataset"})})]}),f("div",{className:"SRC-cardAnnotations",children:f(II,{chips:[u,d]})})]}),f(Wh,{isHeader:!1,secondaryLabelLimit:this.props.secondaryLabelLimit,values:y})]})}}try{Ko.displayName="Dataset",Ko.__docgenInfo={description:"",displayName:"Dataset",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any"}},schema:{defaultValue:null,description:"",name:"schema",required:!1,type:{name:"any"}},secondaryLabelLimit:{defaultValue:null,description:"",name:"secondaryLabelLimit",required:!1,type:{name:"number"}},selectColumns:{defaultValue:null,description:"",name:"selectColumns",required:!1,type:{name:"SelectColumn[]"}},columnModels:{defaultValue:null,description:"",name:"columnModels",required:!1,type:{name:"ColumnModel[]"}},genericCardSchema:{defaultValue:null,description:"",name:"genericCardSchema",required:!1,type:{name:"GenericCardSchema"}},queryVisualizationContext:{defaultValue:null,description:"",name:"queryVisualizationContext",required:!0,type:{name:"QueryVisualizationContextType"}}}}}catch{}class uh extends J.Component{constructor(n){super(n);ht(this,"handleLinkClick",n=>r=>{r.preventDefault(),window.open(n,"_blank")});this.handleLinkClick=this.handleLinkClick.bind(this)}render(){const{data:n,schema:r}=this.props,a=n[r.organizationName],i=n[r.organizationPath],o=n[r.summary],s=n[r.website],l=n[r.logo];let c=s.replace("https://","");c=c.replace("http://",""),c.charAt(c.length-1)==="/"&&(c=c.substring(0,c.length-1));const u=window.location.hash.substring(1)===i,d={};let p;return u?d.paddingBottom="42px":p=f("div",{className:"SRC-marginAuto SRC-cardAction",children:f(ts,{href:i,variant:"contained",color:"secondary",children:"View Funded Research"})}),P("div",{className:"SRC-portalCard SRC-typeFunder ",style:d,children:[P("div",{className:"SRC-cardContent",children:[f("div",{className:"SRC-type",children:"Organization"}),l&&f("div",{className:"SRC-cardThumbnail",children:f("img",{alt:"funder logo",className:"SRC-logo",src:l})}),f("div",{children:P("h3",{children:[u&&a,!u&&f("a",{href:i,children:a})]})}),f("div",{className:"SRC-website",children:f("a",{rel:"noopener noreferrer",target:"_blank",href:s,children:c})}),f("div",{className:"SRC-description",children:o})]}),p]})}}try{uh.displayName="Funder",uh.__docgenInfo={description:"",displayName:"Funder",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any"}},schema:{defaultValue:null,description:"",name:"schema",required:!1,type:{name:"any"}}}}}catch{}try{Ko.displayName="Dataset",Ko.__docgenInfo={description:"",displayName:"Dataset",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any"}},schema:{defaultValue:null,description:"",name:"schema",required:!1,type:{name:"any"}},secondaryLabelLimit:{defaultValue:null,description:"",name:"secondaryLabelLimit",required:!1,type:{name:"number"}},selectColumns:{defaultValue:null,description:"",name:"selectColumns",required:!1,type:{name:"SelectColumn[]"}},columnModels:{defaultValue:null,description:"",name:"columnModels",required:!1,type:{name:"ColumnModel[]"}},genericCardSchema:{defaultValue:null,description:"",name:"genericCardSchema",required:!1,type:{name:"GenericCardSchema"}},queryVisualizationContext:{defaultValue:null,description:"",name:"queryVisualizationContext",required:!0,type:{name:"QueryVisualizationContextType"}}}}}catch{}try{rowrenderers.displayName="rowrenderers",rowrenderers.__docgenInfo={description:"",displayName:"rowrenderers",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any"}},schema:{defaultValue:null,description:"",name:"schema",required:!1,type:{name:"any"}}}}}catch{}const ch=({data:e,schema:t})=>{const n=e[t.submitterName],r=e[t.submitterUserId],a=e[t.time],i=e[t.timeUnits],o=e[t.text],s=e[t.tag];return P("div",{className:"SRC-portalCard ObservationCard",children:[P("div",{className:"ObservationCard__submitter",children:[!r&&f("div",{children:n}),r&&f(gi,{size:"SMALL USER CARD",ownerId:r})]}),a&&P("div",{className:"ObservationCard__time",children:[f(De,{icon:"time"}),P("span",{children:[`${a} ${i}`,Number(a)>1?"s":""]})]}),f("div",{className:"ObservationCard__text",children:f(RI,{summary:o})}),f("div",{className:"ObservationCard__tags",children:s&&f("span",{className:"SRC-tag",children:s})})]})},dh=()=>P("div",{className:"SRC-portalCard ObservationCard",children:[f("div",{className:"ObservationCard__submitter",children:f("span",{children:f(Xn,{width:"100px"})})}),f("div",{className:"ObservationCard__time",children:f(De,{icon:"time"})}),f("div",{className:"ObservationCard__text",children:f(Kh,{numCols:1,numRows:4})}),f("div",{className:"ObservationCard__tags",children:f(Xn,{width:"80px"})})]});try{ch.displayName="ObservationCard",ch.__docgenInfo={description:`Specialized Observation Card, initially implemented for the NF portal.
Expects the following columns: submitterName, submitterUserId, time, timeUnits, text, and tag.`,displayName:"ObservationCard",props:{schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"ObservationCardSchema"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"Record<string, string>"}}}}}catch{}try{dh.displayName="LoadingObservationCard",dh.__docgenInfo={description:"",displayName:"LoadingObservationCard",props:{}}}catch{}function zK(e){const{propsToPass:t,type:n}=e;switch(n){case Uw:return f(Ko,{...t});case wI:return f(uh,{...t});case _I:return f(wh,{...t});case Ff:return f(ch,{...t});default:return f("div",{})}}function Nu(e){const{isHeader:t=!1,unitDescription:n,type:r,isLoading:a,secondaryLabelLimit:i=3,title:o,...s}=e,l=L$(),{NoContentPlaceholder:c}=Rt(),{appendNextPageToResults:u,hasNextPage:d}=l,p=Ce(ut),m=Rt(),h=p!=null&&p.queryResult.queryResults.tableId?[p==null?void 0:p.queryResult.queryResults.tableId]:[],g=co({ids:h,type:"ENTITY_HEADER"});if(p){if(p&&p.queryResult.queryResults.rows.length===0)return f(c,{})}else return P("div",{children:[a&&r===Ff&&f(dh,{}),a&&r!==Ff&&Gh]});const y={};p.queryResult.queryResults.headers.forEach((_,b)=>{y[_.name]=b});const v=d&&f(Le,{display:"flex",justifyContent:"flex-end",children:f(ts,{variant:"contained",color:"secondary",size:"large",onClick:()=>{u()},children:"View More"})});let w;if(r===rv){const _=p.queryResult.queryResults.headers.findIndex(E=>E.columnType===pe.USERID);if(_===-1)throw Error("Type MEDIUM_USER_CARD specified but no columnType USERID found");const b=p.queryResult.queryResults.rows.map(E=>E.values[_]);w=f(fx,{data:p,list:b,size:rv})}else{const _=p.queryResult.queryResults.rows;w=_.length?_.map((b,E)=>{const N={key:JSON.stringify(b.values),type:r,schema:y,isHeader:t,secondaryLabelLimit:i,rowId:b.rowId,data:b.values,selectColumns:p.selectColumns,columnModels:p.columnModels,tableEntityConcreteType:g[0]&&g[0].type,tableId:p==null?void 0:p.queryResult.queryResults.tableId,queryContext:l,queryVisualizationContext:m,...s};return f(zK,{propsToPass:N,type:r},b.rowId??E)}):f(te,{})}return P("div",{role:"list",children:[o&&f("h2",{className:"SRC-card-overview-title",children:o}),!o&&n&&f(Ho,{frontText:"Displaying"}),w,v]})}try{Nu.displayName="CardContainer",Nu.__docgenInfo={description:"",displayName:"CardContainer",props:{isHeader:{defaultValue:null,description:"",name:"isHeader",required:!1,type:{name:"boolean"}},isAlignToLeftNav:{defaultValue:null,description:"",name:"isAlignToLeftNav",required:!1,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!1,type:{name:"boolean"}},unitDescription:{defaultValue:null,description:"",name:"unitDescription",required:!1,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"string"}},hasInternalLink:{defaultValue:null,description:"",name:"hasInternalLink",required:!1,type:{name:"boolean"}},iconOptions:{defaultValue:null,description:"",name:"iconOptions",required:!1,type:{name:"IconOptions"}},genericCardSchema:{defaultValue:null,description:"",name:"genericCardSchema",required:!1,type:{name:"GenericCardSchema"}},secondaryLabelLimit:{defaultValue:null,description:"",name:"secondaryLabelLimit",required:!1,type:{name:"number"}},titleLinkConfig:{defaultValue:null,description:"",name:"titleLinkConfig",required:!1,type:{name:"CardLink"}},ctaLinkConfig:{defaultValue:null,description:"",name:"ctaLinkConfig",required:!1,type:{name:"CTACardLink"}},labelLinkConfig:{defaultValue:null,description:"",name:"labelLinkConfig",required:!1,type:{name:"LabelLinkConfig"}},descriptionConfig:{defaultValue:null,description:"",name:"descriptionConfig",required:!1,type:{name:"DescriptionConfig"}},rgbIndex:{defaultValue:null,description:"",name:"rgbIndex",required:!1,type:{name:"number"}},columnIconOptions:{defaultValue:null,description:"",name:"columnIconOptions",required:!1,type:{name:"ColumnIconConfigs"}}}}}catch{}const jK=NS();function Tu(e,t){if(e==null)return;const n=t.filter(r=>r.value===e);return n.length>0?n[0]:{value:e,label:e}}const Ew=e=>{const{id:t,options:n,value:r,required:a,disabled:i,readonly:o,multiple:s,autofocus:l,onChange:c,onBlur:u,onFocus:d,placeholder:p,isClearable:m=!0,rawErrors:h}=e,{enumOptions:g}=n;return f(zx,{id:t,value:Tu(r,g),freeSolo:!0,forcePopupIcon:!0,selectOnFocus:!0,clearOnBlur:!0,handleHomeEndKeys:!0,options:g,readOnly:o,disabled:i,multiple:s,disableClearable:!m,onChange:(y,v)=>{Cn(v)&&"inputValue"in v?c(v.inputValue):Cn(v)&&"value"in v?c(v.value):c(v)},renderInput:y=>f(rg,{...y,required:a,placeholder:p,error:h&&h.length>0,autoFocus:l,onFocus:d&&(()=>d(t,r==null?void 0:r.value)),onBlur:u&&(()=>u(t,r==null?void 0:r.value))}),filterOptions:(y,v)=>{const w=jK(y,v),{inputValue:_}=v,b=y.some(E=>_===E.label);return _!==""&&!b&&w.push({value:_,label:`Set to custom value "${_}"`}),w}})};try{Tu.displayName="findValueOption",Tu.__docgenInfo={description:`This function finds the enum option that has the corresponding value and returns it.

If value is nullish, this fn returns undefined. If there is no corresponding option, then a new object is returned
where the label and value are set to the provided value.`,displayName:"findValueOption",props:{}}}catch{}try{Ew.displayName="SelectWidget",Ew.__docgenInfo={description:"Select widget compatible with react-jsonschema-form enumerations",displayName:"SelectWidget",props:{}}}catch{}const fh=({children:e,...t})=>f(gx.Control,{...t,className:"form-control",children:e}),ph=({sortConfig:e})=>{const{defaultColumn:t,defaultDirection:n,sortableColumns:r}=e,a=Ct(),{executeQueryRequest:i}=a,{getColumnDisplayName:o}=Rt(),[s,l]=R.useState(t),[c,u]=R.useState(n),d=r.map(m=>({value:m,label:o(m)})),p=m=>{i(h=>{let g="ASC";return m===s&&(g=c==="ASC"?"DESC":"ASC"),h.query.sort=m?[{column:m,direction:g}]:void 0,l(m),u(g),h})};return P("div",{className:"QuerySortSelector bootstrap-4-backport",children:[f(le,{variant:"label",className:"sort-by-label SRC-inlineBlock",children:"Sort by"}),f(TI,{className:"react-select-container SRC-inlineBlock",value:Tu(s,d),options:d,onChange:m=>p(m==null?void 0:m.value),components:{Control:fh},styles:{control:m=>({...m,marginLeft:"15px"})}})]})};try{fh.displayName="Control",fh.__docgenInfo={description:"We want to apply the 'form-control' bootstrap class to react-select's Control component, and the easiest way to do that is to make a custom version",displayName:"Control",props:{}}}catch{}try{ph.displayName="QuerySortSelector",ph.__docgenInfo={description:"",displayName:"QuerySortSelector",props:{sortConfig:{defaultValue:null,description:"",name:"sortConfig",required:!0,type:{name:"SortConfiguration"}}}}}catch{}var gr=(e=>(e.CURRENT_WINDOW="_self",e.NEW_WINDOW="_blank",e.PARENT_FRAME="_parent",e.FULL_WINDOW_BODY="_top",e))(gr||{});const Nw=e=>{const t=oa(e.sql),n=jh(e.additionalFiltersLocalStorageKey??t,e.searchParams,e.sqlOperator),{sortConfig:r,columnAliases:a}=e,i=r?[{column:r.defaultColumn,direction:r.defaultDirection}]:void 0,o={concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",entityId:t,query:{sql:e.sql,limit:e.limit??Pu,sort:i,additionalFilters:n},partMask:Zo|es|Bh|Bw|Uh|Hh|Mh|zh};return f(jo,{...e,initQueryRequest:o,isInfinite:!0,children:P(Go,{rgbIndex:e.rgbIndex,unitDescription:e.unitDescription,columnAliases:a,noContentPlaceholderType:e.noContentPlaceholderType??Gr.STATIC,children:[r&&f(ph,{sortConfig:r}),f(Nu,{...e}),f($l,{children:s=>f(Dh,{error:s==null?void 0:s.error})})]})})};try{Nw.displayName="CardContainerLogic",Nw.__docgenInfo={description:"Class wraps around CardContainer and serves as a standalone logic container for rendering cards.",displayName:"CardContainerLogic",props:{limit:{defaultValue:null,description:"",name:"limit",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},sqlOperator:{defaultValue:null,description:"",name:"sqlOperator",required:!1,type:{name:"enum",value:[{value:'"LIKE"'},{value:'"EQUAL"'},{value:'"IN"'},{value:'"HAS"'},{value:'"HAS_LIKE"'}]}},searchParams:{defaultValue:null,description:"",name:"searchParams",required:!1,type:{name:"Record<string, string>"}},isHeader:{defaultValue:null,description:"",name:"isHeader",required:!1,type:{name:"boolean"}},isAlignToLeftNav:{defaultValue:null,description:"",name:"isAlignToLeftNav",required:!1,type:{name:"boolean"}},sql:{defaultValue:null,description:"",name:"sql",required:!0,type:{name:"string"}},sortConfig:{defaultValue:null,description:"",name:"sortConfig",required:!1,type:{name:"SortConfiguration"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"string"}},hasInternalLink:{defaultValue:null,description:"",name:"hasInternalLink",required:!1,type:{name:"boolean"}},iconOptions:{defaultValue:null,description:"",name:"iconOptions",required:!1,type:{name:"IconOptions"}},genericCardSchema:{defaultValue:null,description:"",name:"genericCardSchema",required:!1,type:{name:"GenericCardSchema"}},secondaryLabelLimit:{defaultValue:null,description:"",name:"secondaryLabelLimit",required:!1,type:{name:"number"}},titleLinkConfig:{defaultValue:null,description:"",name:"titleLinkConfig",required:!1,type:{name:"CardLink"}},ctaLinkConfig:{defaultValue:null,description:"",name:"ctaLinkConfig",required:!1,type:{name:"CTACardLink"}},labelLinkConfig:{defaultValue:null,description:"",name:"labelLinkConfig",required:!1,type:{name:"LabelLinkConfig"}},descriptionConfig:{defaultValue:null,description:"",name:"descriptionConfig",required:!1,type:{name:"DescriptionConfig"}},rgbIndex:{defaultValue:null,description:"",name:"rgbIndex",required:!1,type:{name:"number"}},columnIconOptions:{defaultValue:null,description:"",name:"columnIconOptions",required:!1,type:{name:"ColumnIconConfigs"}},additionalFiltersLocalStorageKey:{defaultValue:null,description:"",name:"additionalFiltersLocalStorageKey",required:!1,type:{name:"string"}},columnAliases:{defaultValue:null,description:"Mapping from column name to the name that should be shown for the column",name:"columnAliases",required:!1,type:{name:"Record<string, string>"}},noContentPlaceholderType:{defaultValue:null,description:"Default is INTERACTIVE",name:"noContentPlaceholderType",required:!1,type:{name:"enum",value:[{value:'"INTERACTIVE"'},{value:'"STATIC"'}]}},unitDescription:{defaultValue:null,description:'The singular word to use to describe a what a row represents (e.g. "file"). Defaults to "result"',name:"unitDescription",required:!1,type:{name:"string"}}}}}catch{}const mh=({type:e,title:t,subTitle:n="",description:r,values:a,secondaryLabelLimit:i,isAlignToLeftNav:o,descriptionConfig:s,href:l,target:c,rgbIndex:u,icon:d})=>{const p=document.querySelector('meta[name="description"]'),[m]=R.useState(document.title),[h]=R.useState(p?p.getAttribute("content"):"");return R.useEffect(()=>(t&&document.title!==t&&(document.title=t),(r||n)&&(p==null||p.setAttribute("content",r||n)),function(){document.title=m,p==null||p.setAttribute("content",h)})),f("div",{className:`SRC-portalCard SRC-portalCardHeader ${o?"isAlignToLeftNav":""}`,children:f("div",{className:"container-fluid container-full-width",children:f("div",{className:"row",children:f("div",{className:"col-md-offset-1 col-md-10",children:P("div",{className:"SRC-portalCardMain",children:[d,P("div",{style:{width:"100%"},children:[P("div",{className:"SRC-cardContent",style:{marginLeft:"15px"},children:[f("div",{className:"SRC-type",children:e}),f("div",{children:f("h3",{className:"SRC-boldText",style:{margin:"none"},children:l?f("a",{target:c,href:l,className:"highlight-link",children:t}):P("span",{children:[" ",t," "]})})}),n&&P("div",{className:"SRC-author",children:[" ",n," "]}),r&&f("span",{className:"SRC-font-size-base",children:s!=null&&s.isMarkdown?f(gn,{markdown:r}):r})]}),f("div",{style:{borderTop:"1px solid rgba(26, 28, 41, 0.2)",marginTop:"15px",paddingTop:"5px"}}),f("div",{className:"SRC-cardContent",children:a&&f(Wh,{isHeader:!0,secondaryLabelLimit:i,values:a})})]})]})})})})})};try{mh.displayName="HeaderCard",mh.__docgenInfo={description:"",displayName:"HeaderCard",props:{rgbIndex:{defaultValue:null,description:"",name:"rgbIndex",required:!1,type:{name:"number"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},subTitle:{defaultValue:{value:""},description:"",name:"subTitle",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"string"}},secondaryLabelLimit:{defaultValue:null,description:"",name:"secondaryLabelLimit",required:!1,type:{name:"number"}},values:{defaultValue:null,description:"",name:"values",required:!1,type:{name:"string[][]"}},isAlignToLeftNav:{defaultValue:null,description:"",name:"isAlignToLeftNav",required:!1,type:{name:"boolean"}},descriptionConfig:{defaultValue:null,description:"",name:"descriptionConfig",required:!1,type:{name:"DescriptionConfig"}},href:{defaultValue:null,description:"",name:"href",required:!1,type:{name:"string"}},target:{defaultValue:null,description:"",name:"target",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"",name:"icon",required:!0,type:{name:"Element"}}}}}catch{}const hh=e=>{var c;const{fileHandleAssociation:t,showDownloadIcon:n,redirect:r=!1,displayValue:a}=e,{accessToken:i}=Ze(),[o,s]=R.useState();R.useEffect(()=>{a===void 0&&(async()=>{const d={requestedFiles:[t],includeFileHandles:!0,includePreSignedURLs:!1,includePreviewPreSignedURLs:!1};s(await $t.getFiles(d,i))})()},[i,a,t]);let l;return o&&(l=(c=o.requestedFiles[0].fileHandle)==null?void 0:c.fileName),P("button",{onClick:()=>{i&&t&&$t.getActualFileHandleByIdURL(t.fileHandleId,i,t.associateObjectType,t.associateObjectId,r).then(u=>{window.open(u,"_blank")}).catch(u=>{console.error("Error on retrieving file handle url ",u)})},className:`SRC-primary-text-color ${qh}`,type:"button",style:{padding:0},children:[a??l??t.fileHandleId,n&&f(De,{icon:"download"})]})};try{hh.displayName="FileHandleLink",hh.__docgenInfo={description:"",displayName:"FileHandleLink",props:{fileHandleAssociation:{defaultValue:null,description:"",name:"fileHandleAssociation",required:!0,type:{name:"FileHandleAssociation"}},redirect:{defaultValue:null,description:"",name:"redirect",required:!1,type:{name:"boolean"}},showDownloadIcon:{defaultValue:null,description:"",name:"showDownloadIcon",required:!0,type:{name:"boolean"}},displayValue:{defaultValue:null,description:"",name:"displayValue",required:!1,type:{name:"string"}}}}}catch{}const gh=e=>{const{fileHandleAssociation:{fileHandleId:t,associateObjectId:n,associateObjectType:r}}=e,{accessToken:a}=Ze(),[i,o]=R.useState(),{ref:s,inView:l}=Fh({triggerOnce:!0,rootMargin:"500px 0px"});return R.useEffect(()=>{(()=>{t&&n&&r&&l&&$t.getActualFileHandleByIdURL(t,a,r,n,!1).then(u=>{o(u)}).catch(u=>{console.error("Error on retrieving file handle url ",u)})})()},[l,t,n,a,r]),f("span",{ref:s,children:i&&f("img",{src:i,alt:"",className:"ImageFileHandle",loading:"lazy"})})};try{gh.displayName="ImageFileHandle",gh.__docgenInfo={description:"",displayName:"ImageFileHandle",props:{fileHandleAssociation:{defaultValue:null,description:"",name:"fileHandleAssociation",required:!0,type:{name:"FileHandleAssociation"}}}}}catch{}const Ky=400,WK="SRC-short-description",GK="SRC-long-description",yh=e=>{let t="";const n=e.split(" ");let r=0;for(;t.length<Ky&&r<n.length;)t+=`${n[r]} `,r+=1;return t=t.trim(),{previewText:t}},KK=(e,t,n)=>{let r;return e&&t&&(Fw(e)?r={fileHandleId:t,associateObjectId:(e==null?void 0:e.id)??"",associateObjectType:qt.TableEntity}:n&&(r={fileHandleId:t,associateObjectId:n,associateObjectType:qt.FileEntity})),r},Aa=({columnName:e,value:t,selectColumns:n,columnModels:r})=>{if(!t)return{str:"",strList:void 0,columnModelType:void 0};const a=(n==null?void 0:n.find(o=>o.name===e))||(r==null?void 0:r.find(o=>o.name===e));if(a==null?void 0:a.columnType.endsWith("_LIST")){let o=t,s;try{return s=JSON.parse(o),o=s.join(", "),{strList:s,str:o,columnModelType:a==null?void 0:a.columnType}}catch(l){console.error("Could not parse multivalue string ",o," caught err ",l)}}return{str:t,columnModelType:a==null?void 0:a.columnType}},YK=(e,t,n)=>(t==null?void 0:t.findIndex(r=>r.name===e))||(n==null?void 0:n.findIndex(r=>r.name===e)),vh=e=>{const{synapseId:t,version:n}=e;return P("span",{children:[n,"  ",f("a",{target:gr.NEW_WINDOW,rel:"noopener noreferrer",href:`${Zr.PORTAL}#!Synapse:${t}.${n}`,children:"(Show Version History on Synapse)"})]})};function QK(e,t,n,r){if(e){if(!t||!n)throw Error("Must specify CardLink and data for linking to work");const{matchColumnName:a,URLColumnName:i,overrideLinkURLColumnName:o,overrideValueWithRowID:s}=e;if(o&&n[o]){const c=n[o],u=t[c];if(u)return u}const l=n[a];if(l===void 0)console.error(`Could not find match for data: ${t} with columnName ${a}`);else{const c=s?`syn${r}`:t[l];if(c)return`/${e.baseURL}?${i}=${c}`}}}function Tw(e,t,n,r,a){e=e.trim();let i=e,o=gr.CURRENT_WINDOW;e.match(Hw)?i=`${Zr.PORTAL}#!Synapse:${e}`:e.match(EI)?(o=gr.NEW_WINDOW,i=`https://dx.doi.org/${e}`):t?t&&(i=QK(t,n,r,a)??"",i.includes("/DetailsPage")&&(o=gr.NEW_WINDOW)):o=gr.NEW_WINDOW;const s=(t==null?void 0:t.target)??o;return{href:i,target:s}}function bh(e){const{description:t,hasClickedShowMore:n,descriptionSubTitle:r,descriptionConfig:a}=e;let i=t;a!=null&&a.isMarkdown&&(i=f(gn,{markdown:i}));const o=n||(a==null?void 0:a.showFullDescriptionByDefault);return f("div",{className:o?"":"SRC-hidden",children:f("span",{"data-search-handle":r,className:`SRC-font-size-base ${GK}`,children:i})})}function _h(e){const{description:t,hasClickedShowMore:n,descriptionSubTitle:r,descriptionConfig:a,toggleShowMore:i}=e;return a!=null&&a.showFullDescriptionByDefault?f(te,{}):P("div",{className:n?"SRC-hidden":"",children:[f("span",{"data-search-handle":r,className:`SRC-font-size-base ${WK} SRC-short-description`,children:yh(t).previewText}),t.length>=Ky&&f(St,{style:{fontSize:"16px",cursor:"pointer",marginLeft:"5px"},onClick:i,children:"...Show More"})]})}class TT extends J.Component{constructor(n){super(n);ht(this,"getCutoff",n=>{let r="";const a=n.split(" ");let i=0;for(;r.length<Ky&&i<a.length;)r+=`${a[i]} `,i+=1;return r=r.trim(),{previewText:r}});ht(this,"toggleShowMore",()=>{this.setState({hasClickedShowMore:!0})});ht(this,"renderTitle",({href:n,target:r,titleSearchHandle:a,title:i})=>n?f(St,{"data-search-handle":a,target:r,href:n,children:i}):P("span",{"data-search-handle":a,children:[" ",i," "]}));this.state={hasClickedShowMore:!1}}render(){var xe;const{schema:n,data:r,rowId:a,genericCardSchema:i,secondaryLabelLimit:o,selectColumns:s,columnModels:l,iconOptions:c,useTypeColumnForIcon:u=!1,isHeader:d=!1,titleLinkConfig:p,ctaLinkConfig:m,labelLinkConfig:h,descriptionConfig:g,rgbIndex:y,columnIconOptions:v,table:w,queryVisualizationContext:{getColumnDisplayName:_}}=this.props,b=i,{hasClickedShowMore:E}=this.state,{link:S="",type:N}=b,C=r[n[b.title]];let I=b.subTitle&&r[n[b.subTitle]];I=(b==null?void 0:b.subTitle)&&Aa({value:I,columnName:b==null?void 0:b.subTitle,selectColumns:s,columnModels:l}).str;const k=r[n[b.description||""]],O=r[n[b.icon||""]],M=r[n[b.dataTypeIconNames||""]],q=r[n[b.imageFileHandleColumnName||""]],$=l==null?void 0:l.find(qe=>b.link===qe.name),B=$==null?void 0:$.columnType,L=r[n[S]]||"",{href:F,target:z}=Tw(L,p,r,n,a),D=[],{secondaryLabels:x=[]}=b,A=w&&!Fw(w);for(let qe=0;qe<x.length;qe+=1){const he=x[qe];let ie=r[n[he]],Te;if(ie){if(qw(w)&&he==="datasetSizeInBytes")Te="Size",ie=Vh(parseInt(ie));else if(A&&he==="currentVersion"){const Ge=r[n.id];ie=vh({synapseId:Ge,version:ie}),Te="Version"}else{const Ge=h==null?void 0:h.find(Qe=>Qe.matchColumnName===he);ie=f(Iu,{value:ie,columnName:he,labelLink:Ge,isHeader:d,selectColumns:s,columnModels:l,rowData:r}),Te=_(he)}const ae=[Te,ie,he];D.push(ae)}}const U=KK(w,q||L,r[n.id]),T=D.length>0,V={marginTop:d?"0px":void 0,marginBottom:d?"0px":void 0,paddingBottom:T||q?void 0:"15px"},K=P(te,{children:[!u&&q&&f("div",{className:"SRC-imageThumbnail",style:{padding:b.thumbnailRequiresPadding?"21px":void 0},children:U&&f(gh,{fileHandleAssociation:U})}),!u&&!q&&f("div",{className:"SRC-cardThumbnail",children:f(ES,{iconOptions:c,value:O,type:N})}),u&&f("div",{className:"SRC-cardThumbnail",children:f(De,{icon:aI[r[n.type]]})})]});if(d)return f(mh,{descriptionConfig:g,title:C,subTitle:I,description:k,type:N,icon:K,values:D,href:F,target:z,isAlignToLeftNav:!0,secondaryLabelLimit:o,rgbIndex:y});const Z=_(b.title),Q=_(b.subTitle||""),re=_(b.description||"");let se,de;if(m){const qe=r[n[m.link]]||"",{href:he,target:ie}=Tw(qe,void 0,r,n,a);se=he,de=ie}return P("div",{style:V,className:"SRC-portalCard",children:[P("div",{className:"SRC-portalCardMain",children:[K,P("div",{className:"SRC-cardContent",children:[f("div",{className:"SRC-type",children:N}),((xe=v==null?void 0:v.columns)==null?void 0:xe.dataType)&&(M==null?void 0:M.length)&&f("div",{style:{marginTop:"20px"},children:f(dx,{iconConfigs:v.columns.dataType,iconNames:JSON.parse(M),useBackground:!0,useTheme:!0})}),f("div",{children:f("h3",{className:"SRC-boldText SRC-blackText",style:{margin:"none"},children:!p&&B===pe.FILEHANDLEID&&U?f(hh,{fileHandleAssociation:U,showDownloadIcon:N!==SI,displayValue:C}):this.renderTitle({href:F,target:z,titleSearchHandle:Z,title:C})})}),I&&f("div",{"data-search-handle":Q,className:"SRC-author",children:I}),k&&f(_h,{description:k,hasClickedShowMore:E,descriptionSubTitle:re,descriptionConfig:g,toggleShowMore:this.toggleShowMore}),k&&f(bh,{description:k,hasClickedShowMore:E,descriptionSubTitle:re,descriptionConfig:g}),m&&se&&de&&f(Le,{sx:{mt:"20px"},children:f(St,{target:de,rel:"noopener noreferrer",href:se,children:m.text})})]})]}),T&&f(Wh,{isHeader:!1,secondaryLabelLimit:o,values:D,columnIconOptions:v,className:`${q?"hasImage":"hasIcon"}`})]})}}ht(TT,"contextType",Qo);function wh(e){const t=Ce(Bn),n=Rt();return f(TT,{...e,table:t,queryVisualizationContext:n})}try{bh.displayName="LongDescription",bh.__docgenInfo={description:"",displayName:"LongDescription",props:{description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"string"}},hasClickedShowMore:{defaultValue:null,description:"",name:"hasClickedShowMore",required:!0,type:{name:"boolean"}},descriptionSubTitle:{defaultValue:null,description:"",name:"descriptionSubTitle",required:!0,type:{name:"string"}},descriptionConfig:{defaultValue:null,description:"",name:"descriptionConfig",required:!1,type:{name:"DescriptionConfig"}}}}}catch{}try{_h.displayName="ShortDescription",_h.__docgenInfo={description:"",displayName:"ShortDescription",props:{description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"string"}},hasClickedShowMore:{defaultValue:null,description:"",name:"hasClickedShowMore",required:!0,type:{name:"boolean"}},descriptionSubTitle:{defaultValue:null,description:"",name:"descriptionSubTitle",required:!0,type:{name:"string"}},descriptionConfig:{defaultValue:null,description:"",name:"descriptionConfig",required:!1,type:{name:"DescriptionConfig"}},toggleShowMore:{defaultValue:null,description:"",name:"toggleShowMore",required:!0,type:{name:"() => void"}}}}}catch{}try{wh.displayName="GenericCard",wh.__docgenInfo={description:"",displayName:"GenericCard",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"string[]"}},rgbIndex:{defaultValue:null,description:"",name:"rgbIndex",required:!1,type:{name:"number"}},schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"Record<string, number>"}},isHeader:{defaultValue:null,description:"",name:"isHeader",required:!1,type:{name:"boolean"}},secondaryLabelLimit:{defaultValue:null,description:"",name:"secondaryLabelLimit",required:!1,type:{name:"number"}},columnIconOptions:{defaultValue:null,description:"",name:"columnIconOptions",required:!1,type:{name:"ColumnIconConfigs"}},iconOptions:{defaultValue:null,description:"",name:"iconOptions",required:!1,type:{name:"IconOptions"}},isAlignToLeftNav:{defaultValue:null,description:"",name:"isAlignToLeftNav",required:!1,type:{name:"boolean"}},genericCardSchema:{defaultValue:null,description:"",name:"genericCardSchema",required:!1,type:{name:"GenericCardSchema"}},titleLinkConfig:{defaultValue:null,description:"",name:"titleLinkConfig",required:!1,type:{name:"CardLink"}},ctaLinkConfig:{defaultValue:null,description:"",name:"ctaLinkConfig",required:!1,type:{name:"CTACardLink"}},labelLinkConfig:{defaultValue:null,description:"",name:"labelLinkConfig",required:!1,type:{name:"LabelLinkConfig"}},descriptionConfig:{defaultValue:null,description:"",name:"descriptionConfig",required:!1,type:{name:"DescriptionConfig"}},selectColumns:{defaultValue:null,description:"",name:"selectColumns",required:!1,type:{name:"SelectColumn[]"}},columnModels:{defaultValue:null,description:"",name:"columnModels",required:!1,type:{name:"ColumnModel[]"}},useTypeColumnForIcon:{defaultValue:null,description:"",name:"useTypeColumnForIcon",required:!1,type:{name:"boolean"}},rowId:{defaultValue:null,description:"",name:"rowId",required:!1,type:{name:"number"}}}}}catch{}try{yh.displayName="getCutoff",yh.__docgenInfo={description:"",displayName:"getCutoff",props:{}}}catch{}try{Aa.displayName="getValueOrMultiValue",Aa.__docgenInfo={description:"",displayName:"getValueOrMultiValue",props:{columnName:{defaultValue:null,description:"",name:"columnName",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},selectColumns:{defaultValue:null,description:"",name:"selectColumns",required:!1,type:{name:"SelectColumn[]"}},columnModels:{defaultValue:null,description:"",name:"columnModels",required:!1,type:{name:"ColumnModel[]"}}}}}catch{}try{vh.displayName="VersionLabel",vh.__docgenInfo={description:"",displayName:"VersionLabel",props:{synapseId:{defaultValue:null,description:"",name:"synapseId",required:!0,type:{name:"string"}},version:{defaultValue:null,description:"",name:"version",required:!0,type:{name:"string"}}}}}catch{}const Iu=e=>{const{value:t,columnName:n,labelLink:r,selectColumns:a,columnModels:i,isHeader:o,className:s,rowData:l,rowId:c}=e;if(!t)return f("p",{children:t});const{strList:u,str:d,columnModelType:p}=Aa({columnName:n,value:t,selectColumns:a,columnModels:i});if(!d)return f("p",{children:d});let m=s;const h={};if(o&&(m=s==null?void 0:s.concat(" ","SRC-lightLink")),p===pe.USERID_LIST&&u)return f("p",{children:u.map((y,v)=>P(J.Fragment,{children:[f(gi,{ownerId:y,size:Il,className:m}),v<u.length-1&&",  "]},y))});if(p===pe.USERID&&d)return f(gi,{ownerId:d,size:Il,className:m});if(!r)return d.match(Hw)?f(St,{target:gr.NEW_WINDOW,rel:"noopener noreferrer",href:`${Zr.PORTAL}#!Synapse:${d}`,className:m,children:d}):f("p",{children:d});let g;if(r.isMarkdown)u?g=f("p",{children:u.map((y,v)=>P(J.Fragment,{children:[f(gn,{renderInline:!0,markdown:y},y),v<u.length-1&&",  "]},y))}):g=f(gn,{renderInline:!0,markdown:t});else{const y=u||d.split(",");let v;if("target"in r&&(v=r.target),"linkColumnName"in r){const w=YK(r.linkColumnName,a,i);if(w==null)console.warn(`Could not determine column index of ${r.linkColumnName}`),g=f(te,{children:t});else{const _=l[w];Jr(_)?g=f(te,{children:t}):g=f("p",{children:y.map((b,E)=>P(J.Fragment,{children:[f(St,{href:_??void 0,target:v??gr.NEW_WINDOW,rel:"noopener noreferrer",className:m,style:h,children:b},b),E<y.length-1&&f("span",{style:{marginRight:4},children:", "})]},b))})}}else g=f("p",{children:y.map((w,_)=>{const{baseURL:b,URLColumnName:E,wrapValueWithParens:S}=r,N=r.overrideValueWithRowID?`syn${c}`:w,C=S?`(${N})`:N,I=`/${b}?${E}=${C}`;return P(J.Fragment,{children:[f(St,{href:I,className:m,style:h,target:v??gr.CURRENT_WINDOW,children:w},w),_<y.length-1&&f("span",{style:{marginRight:4},children:", "})]},w)})})}return r.tooltipText?f(At,{title:r.tooltipText,enterNextDelay:300,children:f("span",{children:g})}):g};try{Iu.displayName="SynapseCardLabel",Iu.__docgenInfo={description:"",displayName:"SynapseCardLabel",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},columnName:{defaultValue:null,description:"",name:"columnName",required:!0,type:{name:"string"}},labelLink:{defaultValue:null,description:"",name:"labelLink",required:!0,type:{name:"CardLink | MarkdownLink | ColumnSpecifiedLink | undefined"}},selectColumns:{defaultValue:null,description:"",name:"selectColumns",required:!0,type:{name:"SelectColumn[] | undefined"}},columnModels:{defaultValue:null,description:"",name:"columnModels",required:!0,type:{name:"ColumnModel[] | undefined"}},isHeader:{defaultValue:null,description:"",name:"isHeader",required:!0,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"(string | null)[]"}},rowId:{defaultValue:null,description:"",name:"rowId",required:!1,type:{name:"number"}}}}}catch{}function Sh(e){const{userIds:t}=e;return f("span",{children:t.map(n=>f(Le,{sx:{mx:2},children:f(cg,{principalId:n})},n))})}try{Sh.displayName="UserIdList",Sh.__docgenInfo={description:"",displayName:"UserIdList",props:{userIds:{defaultValue:null,description:"",name:"userIds",required:!0,type:{name:"string[]"}}}}}catch{}function Ch(e){return e===null?!0:typeof e=="number"?!Number.isNaN(e)&&Number.isFinite(e):["string","boolean"].includes(typeof e)}function XK(e){return Object.values(e).every(t=>Ch(t))}function Ua(e){const{value:t}=e;return t===null?f(le,{variant:"smallText1",className:"SRC-inactive",children:"<null value>"}):typeof t=="number"?f(te,{children:t.toLocaleString()}):f(te,{children:String(t)})}try{Ua.displayName="JSONPrimitiveRenderer",Ua.__docgenInfo={description:`Handles rendering a JSON "primitive" value in a Synapse table cell.

A JSON primitive value is a string, number, boolean, or null.`,displayName:"JSONPrimitiveRenderer",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"JSONPrimitiveType"}}}}}catch{}function Eh(e){const{value:t}=e,[n,r]=R.useState(!1),a=t.length>1;return t.length===0?f(le,{variant:"smallText1",className:"SRC-inactive",children:"Empty array"}):t.length===1?f(le,{variant:"smallText1",children:f(Ua,{value:t[0]})}):P(te,{children:[a&&P(le,{variant:"smallText1",sx:{color:"grey.600",fontStyle:"italic",mb:1},children:[`${t.length.toLocaleString()} items`,f(xi,{isExpanded:n,className:"ExpandableTableData__expandButton",onClick:()=>r(!n)})]}),f(ia,{in:n,children:t.map((i,o)=>f(Le,{display:"flex",gap:.5,mb:1,children:f(le,{variant:"smallText1",children:f(Ua,{value:i})})},o))})]})}try{Eh.displayName="JSONArrayRenderer",Eh.__docgenInfo={description:'Handles rendering a JSON array of "primitive" types in a Synapse table cell.',displayName:"JSONArrayRenderer",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"JSONPrimitiveType[]"}}}}}catch{}const rl=3;function Iw(e){const{keyName:t,value:n}=e;return P(Le,{display:"flex",mb:1,children:[f(le,{variant:"smallText1",children:f(Ua,{value:t})}),f(le,{variant:"smallText1",sx:{color:"grey.600",fontStyle:"italic",px:.5},children:f(Ua,{value:n})})]})}function Nh(e){const{value:t}=e,n=Object.keys(t).length,r=n>rl,[a,i]=R.useState(!1);return n===0?f(le,{variant:"smallText1",className:"SRC-inactive",children:"Empty object"}):P(te,{children:[Object.entries(t).slice(0,rl).map(([o,s])=>f(Iw,{keyName:o,value:s},o)),r&&P(te,{children:[f(ia,{in:a,children:Object.entries(t).slice(rl).map(([o,s])=>f(Iw,{keyName:o,value:s},o))}),P(le,{variant:"smallText1",sx:{mb:.5,color:"grey.600",fontStyle:"italic"},children:[a?"":`${(n-rl).toLocaleString()} more`,f(xi,{isExpanded:a,className:"ExpandableTableData__expandButton",onClick:()=>i(o=>!o)})]})]})]})}try{Nh.displayName="JSONObjectRenderer",Nh.__docgenInfo={description:"Handles rendering a JSON object where all values are JSON primitives in a Synapse table cell.",displayName:"JSONObjectRenderer",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"Record<string, JSONPrimitiveType>"}}}}}catch{}var JK=Object.create,Yy=Object.defineProperty,ZK=Object.getOwnPropertyDescriptor,IT=Object.getOwnPropertyNames,eY=Object.getPrototypeOf,tY=Object.prototype.hasOwnProperty,Qy=(e,t)=>function(){return t||(0,e[IT(e)[0]])((t={exports:{}}).exports,t),t.exports},nY=(e,t)=>{for(var n in t)Yy(e,n,{get:t[n],enumerable:!0})},rY=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of IT(t))!tY.call(e,a)&&a!==n&&Yy(e,a,{get:()=>t[a],enumerable:!(r=ZK(t,a))||r.enumerable});return e},aY=(e,t,n)=>(n=e!=null?JK(eY(e)):{},rY(t||!e||!e.__esModule?Yy(n,"default",{value:e,enumerable:!0}):n,e)),iY=Qy({"node_modules/is-object/index.js"(e,t){t.exports=function(r){return typeof r=="object"&&r!==null}}}),oY=Qy({"node_modules/is-window/index.js"(e,t){t.exports=function(n){if(n==null)return!1;var r=Object(n);return r===r.window}}}),sY=Qy({"node_modules/is-dom/index.js"(e,t){var n=iY(),r=oY();function a(i){return!n(i)||!r(window)||typeof window.Node!="function"?!1:typeof i.nodeType=="number"&&typeof i.nodeName=="string"}t.exports=a}}),Ru={};nY(Ru,{chromeDark:()=>lY,chromeLight:()=>RT});var lY={BASE_FONT_FAMILY:"Menlo, monospace",BASE_FONT_SIZE:"11px",BASE_LINE_HEIGHT:1.2,BASE_BACKGROUND_COLOR:"rgb(36, 36, 36)",BASE_COLOR:"rgb(213, 213, 213)",OBJECT_PREVIEW_ARRAY_MAX_PROPERTIES:10,OBJECT_PREVIEW_OBJECT_MAX_PROPERTIES:5,OBJECT_NAME_COLOR:"rgb(227, 110, 236)",OBJECT_VALUE_NULL_COLOR:"rgb(127, 127, 127)",OBJECT_VALUE_UNDEFINED_COLOR:"rgb(127, 127, 127)",OBJECT_VALUE_REGEXP_COLOR:"rgb(233, 63, 59)",OBJECT_VALUE_STRING_COLOR:"rgb(233, 63, 59)",OBJECT_VALUE_SYMBOL_COLOR:"rgb(233, 63, 59)",OBJECT_VALUE_NUMBER_COLOR:"hsl(252, 100%, 75%)",OBJECT_VALUE_BOOLEAN_COLOR:"hsl(252, 100%, 75%)",OBJECT_VALUE_FUNCTION_PREFIX_COLOR:"rgb(85, 106, 242)",HTML_TAG_COLOR:"rgb(93, 176, 215)",HTML_TAGNAME_COLOR:"rgb(93, 176, 215)",HTML_TAGNAME_TEXT_TRANSFORM:"lowercase",HTML_ATTRIBUTE_NAME_COLOR:"rgb(155, 187, 220)",HTML_ATTRIBUTE_VALUE_COLOR:"rgb(242, 151, 102)",HTML_COMMENT_COLOR:"rgb(137, 137, 137)",HTML_DOCTYPE_COLOR:"rgb(192, 192, 192)",ARROW_COLOR:"rgb(145, 145, 145)",ARROW_MARGIN_RIGHT:3,ARROW_FONT_SIZE:12,ARROW_ANIMATION_DURATION:"0",TREENODE_FONT_FAMILY:"Menlo, monospace",TREENODE_FONT_SIZE:"11px",TREENODE_LINE_HEIGHT:1.2,TREENODE_PADDING_LEFT:12,TABLE_BORDER_COLOR:"rgb(85, 85, 85)",TABLE_TH_BACKGROUND_COLOR:"rgb(44, 44, 44)",TABLE_TH_HOVER_COLOR:"rgb(48, 48, 48)",TABLE_SORT_ICON_COLOR:"black",TABLE_DATA_BACKGROUND_IMAGE:"linear-gradient(rgba(255, 255, 255, 0), rgba(255, 255, 255, 0) 50%, rgba(51, 139, 255, 0.0980392) 50%, rgba(51, 139, 255, 0.0980392))",TABLE_DATA_BACKGROUND_SIZE:"128px 32px"},RT={BASE_FONT_FAMILY:"Menlo, monospace",BASE_FONT_SIZE:"11px",BASE_LINE_HEIGHT:1.2,BASE_BACKGROUND_COLOR:"white",BASE_COLOR:"black",OBJECT_PREVIEW_ARRAY_MAX_PROPERTIES:10,OBJECT_PREVIEW_OBJECT_MAX_PROPERTIES:5,OBJECT_NAME_COLOR:"rgb(136, 19, 145)",OBJECT_VALUE_NULL_COLOR:"rgb(128, 128, 128)",OBJECT_VALUE_UNDEFINED_COLOR:"rgb(128, 128, 128)",OBJECT_VALUE_REGEXP_COLOR:"rgb(196, 26, 22)",OBJECT_VALUE_STRING_COLOR:"rgb(196, 26, 22)",OBJECT_VALUE_SYMBOL_COLOR:"rgb(196, 26, 22)",OBJECT_VALUE_NUMBER_COLOR:"rgb(28, 0, 207)",OBJECT_VALUE_BOOLEAN_COLOR:"rgb(28, 0, 207)",OBJECT_VALUE_FUNCTION_PREFIX_COLOR:"rgb(13, 34, 170)",HTML_TAG_COLOR:"rgb(168, 148, 166)",HTML_TAGNAME_COLOR:"rgb(136, 18, 128)",HTML_TAGNAME_TEXT_TRANSFORM:"lowercase",HTML_ATTRIBUTE_NAME_COLOR:"rgb(153, 69, 0)",HTML_ATTRIBUTE_VALUE_COLOR:"rgb(26, 26, 166)",HTML_COMMENT_COLOR:"rgb(35, 110, 37)",HTML_DOCTYPE_COLOR:"rgb(192, 192, 192)",ARROW_COLOR:"#6e6e6e",ARROW_MARGIN_RIGHT:3,ARROW_FONT_SIZE:12,ARROW_ANIMATION_DURATION:"0",TREENODE_FONT_FAMILY:"Menlo, monospace",TREENODE_FONT_SIZE:"11px",TREENODE_LINE_HEIGHT:1.2,TREENODE_PADDING_LEFT:12,TABLE_BORDER_COLOR:"#aaa",TABLE_TH_BACKGROUND_COLOR:"#eee",TABLE_TH_HOVER_COLOR:"hsla(0, 0%, 90%, 1)",TABLE_SORT_ICON_COLOR:"#6e6e6e",TABLE_DATA_BACKGROUND_IMAGE:"linear-gradient(to bottom, white, white 50%, rgb(234, 243, 255) 50%, rgb(234, 243, 255))",TABLE_DATA_BACKGROUND_SIZE:"128px 32px"},xT=R.createContext([{},()=>{}]),kf={WebkitTouchCallout:"none",WebkitUserSelect:"none",KhtmlUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",OUserSelect:"none",userSelect:"none"},_l=e=>({DOMNodePreview:{htmlOpenTag:{base:{color:e.HTML_TAG_COLOR},tagName:{color:e.HTML_TAGNAME_COLOR,textTransform:e.HTML_TAGNAME_TEXT_TRANSFORM},htmlAttributeName:{color:e.HTML_ATTRIBUTE_NAME_COLOR},htmlAttributeValue:{color:e.HTML_ATTRIBUTE_VALUE_COLOR}},htmlCloseTag:{base:{color:e.HTML_TAG_COLOR},offsetLeft:{marginLeft:-e.TREENODE_PADDING_LEFT},tagName:{color:e.HTML_TAGNAME_COLOR,textTransform:e.HTML_TAGNAME_TEXT_TRANSFORM}},htmlComment:{color:e.HTML_COMMENT_COLOR},htmlDoctype:{color:e.HTML_DOCTYPE_COLOR}},ObjectPreview:{objectDescription:{fontStyle:"italic"},preview:{fontStyle:"italic"},arrayMaxProperties:e.OBJECT_PREVIEW_ARRAY_MAX_PROPERTIES,objectMaxProperties:e.OBJECT_PREVIEW_OBJECT_MAX_PROPERTIES},ObjectName:{base:{color:e.OBJECT_NAME_COLOR},dimmed:{opacity:.6}},ObjectValue:{objectValueNull:{color:e.OBJECT_VALUE_NULL_COLOR},objectValueUndefined:{color:e.OBJECT_VALUE_UNDEFINED_COLOR},objectValueRegExp:{color:e.OBJECT_VALUE_REGEXP_COLOR},objectValueString:{color:e.OBJECT_VALUE_STRING_COLOR},objectValueSymbol:{color:e.OBJECT_VALUE_SYMBOL_COLOR},objectValueNumber:{color:e.OBJECT_VALUE_NUMBER_COLOR},objectValueBoolean:{color:e.OBJECT_VALUE_BOOLEAN_COLOR},objectValueFunctionPrefix:{color:e.OBJECT_VALUE_FUNCTION_PREFIX_COLOR,fontStyle:"italic"},objectValueFunctionName:{fontStyle:"italic"}},TreeView:{treeViewOutline:{padding:0,margin:0,listStyleType:"none"}},TreeNode:{treeNodeBase:{color:e.BASE_COLOR,backgroundColor:e.BASE_BACKGROUND_COLOR,lineHeight:e.TREENODE_LINE_HEIGHT,cursor:"default",boxSizing:"border-box",listStyle:"none",fontFamily:e.TREENODE_FONT_FAMILY,fontSize:e.TREENODE_FONT_SIZE},treeNodePreviewContainer:{},treeNodePlaceholder:{whiteSpace:"pre",fontSize:e.ARROW_FONT_SIZE,marginRight:e.ARROW_MARGIN_RIGHT,...kf},treeNodeArrow:{base:{color:e.ARROW_COLOR,display:"inline-block",fontSize:e.ARROW_FONT_SIZE,marginRight:e.ARROW_MARGIN_RIGHT,...parseFloat(e.ARROW_ANIMATION_DURATION)>0?{transition:`transform ${e.ARROW_ANIMATION_DURATION} ease 0s`}:{},...kf},expanded:{WebkitTransform:"rotateZ(90deg)",MozTransform:"rotateZ(90deg)",transform:"rotateZ(90deg)"},collapsed:{WebkitTransform:"rotateZ(0deg)",MozTransform:"rotateZ(0deg)",transform:"rotateZ(0deg)"}},treeNodeChildNodesContainer:{margin:0,paddingLeft:e.TREENODE_PADDING_LEFT}},TableInspector:{base:{color:e.BASE_COLOR,position:"relative",border:`1px solid ${e.TABLE_BORDER_COLOR}`,fontFamily:e.BASE_FONT_FAMILY,fontSize:e.BASE_FONT_SIZE,lineHeight:"120%",boxSizing:"border-box",cursor:"default"}},TableInspectorHeaderContainer:{base:{top:0,height:"17px",left:0,right:0,overflowX:"hidden"},table:{tableLayout:"fixed",borderSpacing:0,borderCollapse:"separate",height:"100%",width:"100%",margin:0}},TableInspectorDataContainer:{tr:{display:"table-row"},td:{boxSizing:"border-box",border:"none",height:"16px",verticalAlign:"top",padding:"1px 4px",WebkitUserSelect:"text",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",lineHeight:"14px"},div:{position:"static",top:"17px",bottom:0,overflowY:"overlay",transform:"translateZ(0)",left:0,right:0,overflowX:"hidden"},table:{positon:"static",left:0,top:0,right:0,bottom:0,borderTop:"0 none transparent",margin:0,backgroundImage:e.TABLE_DATA_BACKGROUND_IMAGE,backgroundSize:e.TABLE_DATA_BACKGROUND_SIZE,tableLayout:"fixed",borderSpacing:0,borderCollapse:"separate",width:"100%",fontSize:e.BASE_FONT_SIZE,lineHeight:"120%"}},TableInspectorTH:{base:{position:"relative",height:"auto",textAlign:"left",backgroundColor:e.TABLE_TH_BACKGROUND_COLOR,borderBottom:`1px solid ${e.TABLE_BORDER_COLOR}`,fontWeight:"normal",verticalAlign:"middle",padding:"0 4px",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",lineHeight:"14px",":hover":{backgroundColor:e.TABLE_TH_HOVER_COLOR}},div:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",fontSize:e.BASE_FONT_SIZE,lineHeight:"120%"}},TableInspectorLeftBorder:{none:{borderLeft:"none"},solid:{borderLeft:`1px solid ${e.TABLE_BORDER_COLOR}`}},TableInspectorSortIcon:{display:"block",marginRight:3,width:8,height:7,marginTop:-7,color:e.TABLE_SORT_ICON_COLOR,fontSize:12,...kf}}),Th="chromeLight",$T=R.createContext(_l(Ru[Th])),yn=e=>R.useContext($T)[e],Xy=e=>({theme:n=Th,...r})=>{const a=R.useMemo(()=>{switch(Object.prototype.toString.call(n)){case"[object String]":return _l(Ru[n]);case"[object Object]":return _l(n);default:return _l(Ru[Th])}},[n]);return J.createElement($T.Provider,{value:a},J.createElement(e,{...r}))},uY=({expanded:e,styles:t})=>J.createElement("span",{style:{...t.base,...e?t.expanded:t.collapsed}},"▶"),cY=R.memo(e=>{e={expanded:!0,nodeRenderer:({name:u})=>J.createElement("span",null,u),onClick:()=>{},shouldShowArrow:!1,shouldShowPlaceholder:!0,...e};const{expanded:t,onClick:n,children:r,nodeRenderer:a,title:i,shouldShowArrow:o,shouldShowPlaceholder:s}=e,l=yn("TreeNode"),c=a;return J.createElement("li",{"aria-expanded":t,role:"treeitem",style:l.treeNodeBase,title:i},J.createElement("div",{style:l.treeNodePreviewContainer,onClick:n},o||R.Children.count(r)>0?J.createElement(uY,{expanded:t,styles:l.treeNodeArrow}):s&&J.createElement("span",{style:l.treeNodePlaceholder}," "),J.createElement(c,{...e})),J.createElement("ol",{role:"group",style:l.treeNodeChildNodesContainer},t?r:void 0))}),xu="$",Rw="*";function wl(e,t){return!t(e).next().done}var dY=e=>Array.from({length:e},(t,n)=>[xu].concat(Array.from({length:n},()=>"*")).join(".")),fY=(e,t,n,r,a)=>{const i=[].concat(dY(r)).concat(n).filter(s=>typeof s=="string"),o=[];return i.forEach(s=>{const l=s.split("."),c=(u,d,p)=>{if(p===l.length){o.push(d);return}const m=l[p];if(p===0)wl(u,t)&&(m===xu||m===Rw)&&c(u,xu,p+1);else if(m===Rw)for(const{name:h,data:g}of t(u))wl(g,t)&&c(g,`${d}.${h}`,p+1);else{const h=u[m];wl(h,t)&&c(h,`${d}.${m}`,p+1)}};c(e,"",0)}),o.reduce((s,l)=>(s[l]=!0,s),{...a})},AT=R.memo(e=>{const{data:t,dataIterator:n,path:r,depth:a,nodeRenderer:i}=e,[o,s]=R.useContext(xT),l=wl(t,n),c=!!o[r],u=R.useCallback(()=>l&&s(d=>({...d,[r]:!c})),[l,s,r,c]);return J.createElement(cY,{expanded:c,onClick:u,shouldShowArrow:l,shouldShowPlaceholder:a>0,nodeRenderer:i,...e},c?[...n(t)].map(({name:d,data:p,...m})=>J.createElement(AT,{name:d,data:p,depth:a+1,path:`${r}.${d}`,key:d,dataIterator:n,nodeRenderer:i,...m})):null)}),OT=R.memo(({name:e,data:t,dataIterator:n,nodeRenderer:r,expandPaths:a,expandLevel:i})=>{const o=yn("TreeView"),s=R.useState({}),[,l]=s;return R.useLayoutEffect(()=>l(c=>fY(t,n,a,i,c)),[t,n,a,i]),J.createElement(xT.Provider,{value:s},J.createElement("ol",{role:"tree",style:o.treeViewOutline},J.createElement(AT,{name:e,data:t,dataIterator:n,depth:0,path:xu,nodeRenderer:r})))}),Jy=({name:e,dimmed:t=!1,styles:n={}})=>{const r=yn("ObjectName"),a={...r.base,...t?r.dimmed:{},...n};return J.createElement("span",{style:a},e)},wo=({object:e,styles:t})=>{const n=yn("ObjectValue"),r=a=>({...n[a],...t});switch(typeof e){case"bigint":return J.createElement("span",{style:r("objectValueNumber")},String(e),"n");case"number":return J.createElement("span",{style:r("objectValueNumber")},String(e));case"string":return J.createElement("span",{style:r("objectValueString")},'"',e,'"');case"boolean":return J.createElement("span",{style:r("objectValueBoolean")},String(e));case"undefined":return J.createElement("span",{style:r("objectValueUndefined")},"undefined");case"object":return e===null?J.createElement("span",{style:r("objectValueNull")},"null"):e instanceof Date?J.createElement("span",null,e.toString()):e instanceof RegExp?J.createElement("span",{style:r("objectValueRegExp")},e.toString()):Array.isArray(e)?J.createElement("span",null,`Array(${e.length})`):e.constructor?typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)?J.createElement("span",null,`Buffer[${e.length}]`):J.createElement("span",null,e.constructor.name):J.createElement("span",null,"Object");case"function":return J.createElement("span",null,J.createElement("span",{style:r("objectValueFunctionPrefix")},"ƒ "),J.createElement("span",{style:r("objectValueFunctionName")},e.name,"()"));case"symbol":return J.createElement("span",{style:r("objectValueSymbol")},e.toString());default:return J.createElement("span",null)}},kT=Object.prototype.hasOwnProperty,pY=Object.prototype.propertyIsEnumerable;function Ih(e,t){const n=Object.getOwnPropertyDescriptor(e,t);if(n.get)try{return n.get()}catch{return n.get}return e[t]}function xw(e,t){return e.length===0?[]:e.slice(1).reduce((n,r)=>n.concat([t,r]),[e[0]])}var Rh=({data:e})=>{const t=yn("ObjectPreview"),n=e;if(typeof n!="object"||n===null||n instanceof Date||n instanceof RegExp)return J.createElement(wo,{object:n});if(Array.isArray(n)){const r=t.arrayMaxProperties,a=n.slice(0,r).map((o,s)=>J.createElement(wo,{key:s,object:o}));n.length>r&&a.push(J.createElement("span",{key:"ellipsis"},"…"));const i=n.length;return J.createElement(J.Fragment,null,J.createElement("span",{style:t.objectDescription},i===0?"":`(${i}) `),J.createElement("span",{style:t.preview},"[",xw(a,", "),"]"))}else{const r=t.objectMaxProperties,a=[];for(const o in n)if(kT.call(n,o)){let s;a.length===r-1&&Object.keys(n).length>r&&(s=J.createElement("span",{key:"ellipsis"},"…"));const l=Ih(n,o);if(a.push(J.createElement("span",{key:o},J.createElement(Jy,{name:o||'""'}),": ",J.createElement(wo,{object:l}),s)),s)break}const i=n.constructor?n.constructor.name:"Object";return J.createElement(J.Fragment,null,J.createElement("span",{style:t.objectDescription},i==="Object"?"":`${i} `),J.createElement("span",{style:t.preview},"{",xw(a,", "),"}"))}},mY=({name:e,data:t})=>typeof e=="string"?J.createElement("span",null,J.createElement(Jy,{name:e}),J.createElement("span",null,": "),J.createElement(Rh,{data:t})):J.createElement(Rh,{data:t}),hY=({name:e,data:t,isNonenumerable:n=!1})=>{const r=t;return J.createElement("span",null,typeof e=="string"?J.createElement(Jy,{name:e,dimmed:n}):J.createElement(Rh,{data:e}),J.createElement("span",null,": "),J.createElement(wo,{object:r}))},gY=(e,t)=>function*(r){if(!(typeof r=="object"&&r!==null||typeof r=="function"))return;const i=Array.isArray(r);if(!i&&r[Symbol.iterator]){let o=0;for(const s of r){if(Array.isArray(s)&&s.length===2){const[l,c]=s;yield{name:l,data:c}}else yield{name:o.toString(),data:s};o++}}else{const o=Object.getOwnPropertyNames(r);t===!0&&!i?o.sort():typeof t=="function"&&o.sort(t);for(const s of o)if(pY.call(r,s)){const l=Ih(r,s);yield{name:s||'""',data:l}}else if(e){let l;try{l=Ih(r,s)}catch{}l!==void 0&&(yield{name:s,data:l,isNonenumerable:!0})}e&&r!==Object.prototype&&(yield{name:"__proto__",data:Object.getPrototypeOf(r),isNonenumerable:!0})}},yY=({depth:e,name:t,data:n,isNonenumerable:r})=>e===0?J.createElement(mY,{name:t,data:n}):J.createElement(hY,{name:t,data:n,isNonenumerable:r}),vY=({showNonenumerable:e=!1,sortObjectKeys:t,nodeRenderer:n,...r})=>{const a=gY(e,t),i=n||yY;return J.createElement(OT,{nodeRenderer:i,dataIterator:a,...r})},bY=Xy(vY);function _Y(e){if(typeof e=="object"){let t=[];if(Array.isArray(e)){const r=e.length;t=[...Array(r).keys()]}else e!==null&&(t=Object.keys(e));const n=t.reduce((r,a)=>{const i=e[a];return typeof i=="object"&&i!==null&&Object.keys(i).reduce((s,l)=>(s.includes(l)||s.push(l),s),r),r},[]);return{rowHeaders:t,colHeaders:n}}}var wY=({rows:e,columns:t,rowsData:n})=>{const r=yn("TableInspectorDataContainer"),a=yn("TableInspectorLeftBorder");return J.createElement("div",{style:r.div},J.createElement("table",{style:r.table},J.createElement("colgroup",null),J.createElement("tbody",null,e.map((i,o)=>J.createElement("tr",{key:i,style:r.tr},J.createElement("td",{style:{...r.td,...a.none}},i),t.map(s=>{const l=n[o];return typeof l=="object"&&l!==null&&kT.call(l,s)?J.createElement("td",{key:s,style:{...r.td,...a.solid}},J.createElement(wo,{object:l[s]})):J.createElement("td",{key:s,style:{...r.td,...a.solid}})}))))))},SY=e=>J.createElement("div",{style:{position:"absolute",top:1,right:0,bottom:1,display:"flex",alignItems:"center"}},e.children),CY=({sortAscending:e})=>{const t=yn("TableInspectorSortIcon"),n=e?"▲":"▼";return J.createElement("div",{style:t},n)},$w=({sortAscending:e=!1,sorted:t=!1,onClick:n=void 0,borderStyle:r={},children:a,...i})=>{const o=yn("TableInspectorTH"),[s,l]=R.useState(!1),c=R.useCallback(()=>l(!0),[]),u=R.useCallback(()=>l(!1),[]);return J.createElement("th",{...i,style:{...o.base,...r,...s?o.base[":hover"]:{}},onMouseEnter:c,onMouseLeave:u,onClick:n},J.createElement("div",{style:o.div},a),t&&J.createElement(SY,null,J.createElement(CY,{sortAscending:e})))},EY=({indexColumnText:e="(index)",columns:t=[],sorted:n,sortIndexColumn:r,sortColumn:a,sortAscending:i,onTHClick:o,onIndexTHClick:s})=>{const l=yn("TableInspectorHeaderContainer"),c=yn("TableInspectorLeftBorder");return J.createElement("div",{style:l.base},J.createElement("table",{style:l.table},J.createElement("tbody",null,J.createElement("tr",null,J.createElement($w,{borderStyle:c.none,sorted:n&&r,sortAscending:i,onClick:s},e),t.map(u=>J.createElement($w,{borderStyle:c.solid,key:u,sorted:n&&a===u,sortAscending:i,onClick:o.bind(null,u)},u))))))},NY=({data:e,columns:t})=>{const n=yn("TableInspector"),[{sorted:r,sortIndexColumn:a,sortColumn:i,sortAscending:o},s]=R.useState({sorted:!1,sortIndexColumn:!1,sortColumn:void 0,sortAscending:!1}),l=R.useCallback(()=>{s(({sortIndexColumn:h,sortAscending:g})=>({sorted:!0,sortIndexColumn:!0,sortColumn:void 0,sortAscending:h?!g:!0}))},[]),c=R.useCallback(h=>{s(({sortColumn:g,sortAscending:y})=>({sorted:!0,sortIndexColumn:!1,sortColumn:h,sortAscending:h===g?!y:!0}))},[]);if(typeof e!="object"||e===null)return J.createElement("div",null);let{rowHeaders:u,colHeaders:d}=_Y(e);t!==void 0&&(d=t);let p=u.map(h=>e[h]),m;if(i!==void 0?m=p.map((h,g)=>typeof h=="object"&&h!==null?[h[i],g]:[void 0,g]):a&&(m=u.map((h,g)=>[u[g],g])),m!==void 0){const h=(y,v)=>(w,_)=>{const b=y(w),E=y(_),S=typeof b,N=typeof E,C=(k,O)=>k<O?-1:k>O?1:0;let I;if(S===N)I=C(b,E);else{const k={string:0,number:1,object:2,symbol:3,boolean:4,undefined:5,function:6};I=C(k[S],k[N])}return v||(I=-I),I},g=m.sort(h(y=>y[0],o)).map(y=>y[1]);u=g.map(y=>u[y]),p=g.map(y=>p[y])}return J.createElement("div",{style:n.base},J.createElement(EY,{columns:d,sorted:r,sortIndexColumn:a,sortColumn:i,sortAscending:o,onTHClick:c,onIndexTHClick:l}),J.createElement(wY,{rows:u,columns:d,rowsData:p}))},TY=Xy(NY),IY=80,PT=e=>e.childNodes.length===0||e.childNodes.length===1&&e.childNodes[0].nodeType===Node.TEXT_NODE&&e.textContent.length<IY,RY=({tagName:e,attributes:t,styles:n})=>J.createElement("span",{style:n.base},"<",J.createElement("span",{style:n.tagName},e),(()=>{if(t){const r=[];for(let a=0;a<t.length;a++){const i=t[a];r.push(J.createElement("span",{key:a}," ",J.createElement("span",{style:n.htmlAttributeName},i.name),'="',J.createElement("span",{style:n.htmlAttributeValue},i.value),'"'))}return r}})(),">"),Aw=({tagName:e,isChildNode:t=!1,styles:n})=>J.createElement("span",{style:Object.assign({},n.base,t&&n.offsetLeft)},"</",J.createElement("span",{style:n.tagName},e),">"),xY={1:"ELEMENT_NODE",3:"TEXT_NODE",7:"PROCESSING_INSTRUCTION_NODE",8:"COMMENT_NODE",9:"DOCUMENT_NODE",10:"DOCUMENT_TYPE_NODE",11:"DOCUMENT_FRAGMENT_NODE"},$Y=({isCloseTag:e,data:t,expanded:n})=>{const r=yn("DOMNodePreview");if(e)return J.createElement(Aw,{styles:r.htmlCloseTag,isChildNode:!0,tagName:t.tagName});switch(t.nodeType){case Node.ELEMENT_NODE:return J.createElement("span",null,J.createElement(RY,{tagName:t.tagName,attributes:t.attributes,styles:r.htmlOpenTag}),PT(t)?t.textContent:!n&&"…",!n&&J.createElement(Aw,{tagName:t.tagName,styles:r.htmlCloseTag}));case Node.TEXT_NODE:return J.createElement("span",null,t.textContent);case Node.CDATA_SECTION_NODE:return J.createElement("span",null,"<![CDATA["+t.textContent+"]]>");case Node.COMMENT_NODE:return J.createElement("span",{style:r.htmlComment},"<!--",t.textContent,"-->");case Node.PROCESSING_INSTRUCTION_NODE:return J.createElement("span",null,t.nodeName);case Node.DOCUMENT_TYPE_NODE:return J.createElement("span",{style:r.htmlDoctype},"<!DOCTYPE ",t.name,t.publicId?` PUBLIC "${t.publicId}"`:"",!t.publicId&&t.systemId?" SYSTEM":"",t.systemId?` "${t.systemId}"`:"",">");case Node.DOCUMENT_NODE:return J.createElement("span",null,t.nodeName);case Node.DOCUMENT_FRAGMENT_NODE:return J.createElement("span",null,t.nodeName);default:return J.createElement("span",null,xY[t.nodeType])}},AY=function*(e){if(e&&e.childNodes){if(PT(e))return;for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];r.nodeType===Node.TEXT_NODE&&r.textContent.trim().length===0||(yield{name:`${r.tagName}[${n}]`,data:r})}e.tagName&&(yield{name:"CLOSE_TAG",data:{tagName:e.tagName},isCloseTag:!0})}},OY=e=>J.createElement(OT,{nodeRenderer:$Y,dataIterator:AY,...e}),kY=Xy(OY),PY=aY(sY()),DY=({table:e=!1,data:t,...n})=>e?J.createElement(TY,{data:t,...n}):(0,PY.default)(t)?J.createElement(kY,{data:t,...n}):J.createElement(bY,{data:t,...n});function xh(e){const{value:t}=e,[n,r]=R.useState(!1),a={...RT,BASE_BACKGROUND_COLOR:"none"};return P(te,{children:[P(le,{variant:"smallText1",sx:{py:.5,color:"grey.600",fontStyle:"italic"},children:[n?"Collapse":"Expand"," all",f(xi,{className:"ExpandableTableData__expandButton",isExpanded:n,onClick:()=>r(i=>!i)})]}),f(Le,{sx:{pl:"2px"},children:f(DY,{data:t,theme:a,table:!1,expandLevel:n?20:0},String(n))})]})}try{xh.displayName="ComplexJSONRenderer",xh.__docgenInfo={description:`Handles rendering any complex JSON value in a Synapse table cell. This generally acts as a fallback renderer if the
JSON data doesn't have a simple structure handled by a different renderer.`,displayName:"ComplexJSONRenderer",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}}}}}catch{}function $h(e){let t=e.value;try{typeof t=="string"&&(t=JSON.parse(t))}catch(n){console.warn("JSONTableCellRenderer: failed to parse JSON",n)}return Ch(t)||t===null?f(le,{variant:"smallText1",children:f(Ua,{value:t})}):Array.isArray(t)&&t.every(Ch)?f(Eh,{value:t}):typeof t=="object"&&XK(t)?f(Nh,{value:t}):f(xh,{value:t})}try{$h.displayName="JSONTableCellRenderer",$h.__docgenInfo={description:"",displayName:"JSONTableCellRenderer",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string | null"}}}}}catch{}function Ah(e){const{columnType:t,columnValue:n,isBold:r,columnLinkConfig:a,columnName:i,selectColumns:o,columnModels:s,rowData:l,rowId:c,rowVersionNumber:u}=e,d=Ce(Bn);if(!n)return P("p",{className:"SRC-inactive",children:[" ",iI]});if(a)return f(Iu,{value:n,columnName:i,selectColumns:o,columnModels:s,isHeader:!1,labelLink:a,rowData:l,rowId:c});if(d&&(Au(d)||Xo(d)||qw(d))&&(i==="id"||i==="name")&&c&&u){const p=`syn${c.toString()}`;return f("p",{children:f(Vf,{entity:p,versionNumber:u,className:`${r}`,showIcon:!1,displayTextField:i})})}switch(t){case pe.ENTITYID:return f("p",{children:f(Vf,{entity:n,className:`${r}`,displayTextField:"name"})});case pe.DATE_LIST:{const p=JSON.parse(n);return P("p",{children:[p.map((m,h)=>P("span",{className:r,children:[So(rn(Number(m))),h!==p.length-1?", ":""]},h))," "]})}case pe.BOOLEAN_LIST:{const p=JSON.parse(n);return f("p",{children:p.map((m,h)=>P("span",{className:r,children:[m?"true":"false",h!==p.length-1?", ":""]},h))})}case pe.FILEHANDLEID:{let p=d.id,m=qt.TableEntity;return vc(d)&&i==="dataFileHandleId"&&(p=String(c),m=qt.FileEntity),f(te,{children:d&&f("p",{children:f(xl,{iconSvgPropOverrides:{sx:{color:"primary.main"}},associatedObjectId:p,associatedObjectType:m,fileHandleId:n,displayFileName:!0})})})}case pe.ENTITYID_LIST:{const p=JSON.parse(n);return f("p",{children:f(Mf,{entityIdList:p})})}case pe.USERID_LIST:{const p=JSON.parse(n);return f(Sh,{userIds:p})}case pe.STRING_LIST:case pe.INTEGER_LIST:{const p=JSON.parse(n);return f("p",{className:r,children:p.map((m,h)=>P(J.Fragment,{children:[m,h!==p.length-1?", ":""]},m))})}case pe.EVALUATIONID:return f(Bf,{evaluationId:n});case pe.DATE:return f("p",{className:r,children:So(rn(Number(n)))});case pe.USERID:return f(cg,{principalId:n});case pe.LINK:return f(St,{target:"_blank",rel:"noopener noreferrer",href:n,children:n});case pe.STRING:case pe.BOOLEAN:case pe.MEDIUMTEXT:case pe.LARGETEXT:return f(le,{variant:"smallText1",className:r,children:n});case pe.INTEGER:return f(le,{variant:"smallText1",sx:{textAlign:"right"},className:r,children:parseInt(n).toLocaleString()});case pe.DOUBLE:return f(le,{variant:"smallText1",sx:{textAlign:"right"},className:r,children:parseFloat(n).toLocaleString()});case pe.JSON:return f($h,{value:n});default:return console.warn(`ColumnType ${t} has unspecified handler. Rendering the column value.`),f(le,{variant:"smallText1",className:r,children:n})}return f("p",{className:r,children:n})}const VY=J.memo(Ah);try{Ah.displayName="SynapseTableCell",Ah.__docgenInfo={description:"",displayName:"SynapseTableCell",props:{columnType:{defaultValue:null,description:"",name:"columnType",required:!0,type:{name:"enum",value:[{value:'"STRING"'},{value:'"DOUBLE"'},{value:'"BOOLEAN"'},{value:'"INTEGER"'},{value:'"DATE"'},{value:'"FILEHANDLEID"'},{value:'"ENTITYID"'},{value:'"LINK"'},{value:'"MEDIUMTEXT"'},{value:'"LARGETEXT"'},{value:'"USERID"'},{value:'"STRING_LIST"'},{value:'"INTEGER_LIST"'},{value:'"BOOLEAN_LIST"'},{value:'"DATE_LIST"'},{value:'"USERID_LIST"'},{value:'"ENTITYID_LIST"'},{value:'"EVALUATIONID"'},{value:'"JSON"'},{value:'"STRING"'},{value:'"DOUBLE"'},{value:'"BOOLEAN"'},{value:'"INTEGER"'},{value:'"DATE"'},{value:'"FILEHANDLEID"'},{value:'"ENTITYID"'},{value:'"LINK"'},{value:'"MEDIUMTEXT"'},{value:'"LARGETEXT"'},{value:'"USERID"'},{value:'"STRING_LIST"'},{value:'"INTEGER_LIST"'},{value:'"BOOLEAN_LIST"'},{value:'"DATE_LIST"'},{value:'"USERID_LIST"'},{value:'"ENTITYID_LIST"'},{value:'"EVALUATIONID"'},{value:'"JSON"'}]}},columnValue:{defaultValue:null,description:"",name:"columnValue",required:!0,type:{name:"string | null"}},isBold:{defaultValue:null,description:"",name:"isBold",required:!0,type:{name:"string"}},columnLinkConfig:{defaultValue:null,description:"",name:"columnLinkConfig",required:!1,type:{name:"CardLink | MarkdownLink | ColumnSpecifiedLink"}},columnName:{defaultValue:null,description:"",name:"columnName",required:!0,type:{name:"string"}},selectColumns:{defaultValue:null,description:"",name:"selectColumns",required:!1,type:{name:"SelectColumn[]"}},columnModels:{defaultValue:null,description:"",name:"columnModels",required:!1,type:{name:"ColumnModel[]"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"(string | null)[]"}},rowId:{defaultValue:null,description:"",name:"rowId",required:!1,type:{name:"number"}},rowVersionNumber:{defaultValue:null,description:"",name:"rowVersionNumber",required:!1,type:{name:"number"}}}}}catch{}export{Ce as $,Mo as A,Tw as B,Ba as C,Su as D,lm as E,hh as F,KK as G,Ma as H,gh as I,wm as J,Zn as K,$K as L,ah as M,Mm as N,LX as O,Ep as P,Uf as Q,Im as R,VY as S,Jx as T,nm as U,D$ as V,Hm as W,fu as X,Rt as Y,LW as Z,qX as _,gn as a,Z_ as a0,BW as a1,HW as a2,tr as a3,ut as a4,cm as a5,F$ as a6,Em as a7,Cm as a8,FX as a9,_v as aA,bv as aB,zx as aC,NS as aD,l$ as aE,it as aa,tt as ab,nt as ac,i6 as ad,Lp as ae,f6 as af,Wa as ag,lN as ah,uN as ai,cN as aj,ps as ak,$H as al,o6 as am,pl as an,ny as ao,dN as ap,t6 as aq,a6 as ar,ds as as,n6 as at,e6 as au,er as av,Dt as aw,Ln as ax,Gz as ay,Ew as az,Cu as b,Qm as c,RK as d,Ym as e,fm as f,Ti as g,Um as h,sm as i,Nw as j,jo as k,Go as l,Ii as m,dm as n,am as o,Xp as p,em as q,Sm as r,lh as s,sh as t,RS as u,wu as v,bm as w,Bo as x,hN as y,X7 as z};
//# sourceMappingURL=SynapseTableCell-29d8f164.js.map
