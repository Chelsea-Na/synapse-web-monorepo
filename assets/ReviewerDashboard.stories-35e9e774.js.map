{"version":3,"file":"ReviewerDashboard.stories-35e9e774.js","sources":["../../src/synapse-queries/dataaccess/useAccessApprovals.ts","../../src/components/dataaccess/AccessApprovalsTable.tsx","../../src/components/dataaccess/AccessRequestSubmissionTable.tsx","../../src/components/dataaccess/AccessHistoryDashboard.tsx","../../src/components/dataaccess/AccessRequirementTable.tsx","../../src/components/dataaccess/AccessRequirementDashboard.tsx","../../src/components/dataaccess/AccessSubmissionDashboard.tsx","../../src/components/dataaccess/ReviewerDashboard.tsx"],"sourcesContent":["import { useInfiniteQuery, UseInfiniteQueryOptions } from 'react-query'\nimport SynapseClient from '../../synapse-client'\nimport { SynapseClientError } from '../../utils/SynapseClientError'\nimport { useSynapseContext } from '../../utils/context/SynapseContext'\nimport {\n  AccessApprovalSearchRequest,\n  AccessApprovalSearchResponse,\n} from '@sage-bionetworks/synapse-types'\n\nexport function useSearchAccessApprovalsInfinite(\n  params: AccessApprovalSearchRequest,\n  options?: UseInfiniteQueryOptions<\n    AccessApprovalSearchResponse,\n    SynapseClientError\n  >,\n) {\n  const { accessToken, keyFactory } = useSynapseContext()\n  return useInfiniteQuery<AccessApprovalSearchResponse, SynapseClientError>(\n    keyFactory.searchAccessApprovalsQueryKey(params),\n    async context => {\n      return await SynapseClient.searchAccessApprovals(\n        {\n          ...params,\n          nextPageToken: context.pageParam,\n        },\n        accessToken,\n      )\n    },\n    {\n      ...options,\n      getNextPageParam: page => page.nextPageToken,\n    },\n  )\n}\n","import dayjs from 'dayjs'\nimport React, { useMemo, useState } from 'react'\nimport { Table } from 'react-bootstrap'\nimport {\n  AccessApprovalSearchRequest,\n  AccessApprovalSearchSort,\n  AccessApprovalSortField,\n  Direction,\n} from '@sage-bionetworks/synapse-types'\nimport { Button, Typography } from '@mui/material'\nimport { PRODUCTION_ENDPOINT_CONFIG } from '../../utils/functions/getEndpoint'\nimport { useSearchAccessApprovalsInfinite } from '../../synapse-queries/dataaccess/useAccessApprovals'\nimport { SynapseSpinner } from '../LoadingScreen/LoadingScreen'\nimport SortIcon from '../../assets/icons/Sort'\nimport { formatDate } from '../../utils/functions/DateFormatter'\nimport { upperFirst } from 'lodash-es'\nimport { UserBadge } from '../UserCard/UserBadge'\n\nexport type AccessApprovalsTableProps = {\n  accessorId: string\n  accessRequirementId?: string\n}\nexport const AccessApprovalsTable: React.FunctionComponent<\n  AccessApprovalsTableProps\n> = ({ accessorId, accessRequirementId }) => {\n  const [sort, setSort] = useState<AccessApprovalSearchSort>({\n    field: AccessApprovalSortField.MODIFIED_ON,\n    direction: Direction.DESC,\n  })\n\n  const searchRequest: AccessApprovalSearchRequest = useMemo(\n    () => ({\n      accessorId,\n      accessRequirementId,\n      sort: [sort],\n    }),\n    [accessorId, accessRequirementId, sort],\n  )\n\n  const { data, hasNextPage, fetchNextPage, isLoading } =\n    useSearchAccessApprovalsInfinite(searchRequest)\n  const accessApprovals = data?.pages.flatMap(page => page.results) ?? []\n\n  const onSort = (field: AccessApprovalSortField) => {\n    if (sort.field === field) {\n      setSort({\n        field,\n        direction:\n          sort.direction === Direction.DESC ? Direction.ASC : Direction.DESC,\n      })\n    } else {\n      setSort({ field, direction: Direction.DESC })\n    }\n  }\n  return (\n    <div className=\"AccessApprovalsTable bootstrap-4-backport\">\n      <Table striped borderless bordered={false}>\n        <thead>\n          <tr>\n            <th>AR ID</th>\n            <th>Access Requirement Name</th>\n            <th>Submitter</th>\n            <th>Status</th>\n            <th>\n              <span className=\"SRC-split\">\n                <span>Modified Date</span>\n                <SortIcon\n                  role=\"button\"\n                  active={sort.field === AccessApprovalSortField.MODIFIED_ON}\n                  direction={\n                    sort.field === 'MODIFIED_ON'\n                      ? sort.direction === 'DESC'\n                        ? Direction.DESC\n                        : Direction.ASC\n                      : Direction.DESC\n                  }\n                  onClick={() => onSort(AccessApprovalSortField.MODIFIED_ON)}\n                />\n              </span>\n            </th>\n            <th>\n              <span className=\"SRC-split\">\n                <span>Expires</span>\n                <SortIcon\n                  role=\"button\"\n                  active={sort.field === AccessApprovalSortField.EXPIRED_ON}\n                  direction={\n                    sort.field === 'EXPIRED_ON'\n                      ? sort.direction === 'DESC'\n                        ? Direction.DESC\n                        : Direction.ASC\n                      : Direction.DESC\n                  }\n                  onClick={() => onSort(AccessApprovalSortField.EXPIRED_ON)}\n                />\n              </span>\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          {accessApprovals.map(item => {\n            return (\n              <tr key={item.id}>\n                <td>\n                  <a\n                    href={`${PRODUCTION_ENDPOINT_CONFIG.PORTAL}#!AccessRequirement:AR_ID=${item.accessRequirementId}`}\n                  >\n                    {item.accessRequirementId}\n                  </a>\n                </td>\n                <td>{item.accessRequirementName}</td>\n                <td>\n                  <UserBadge userId={item.submitterId} />\n                </td>\n                <td>{upperFirst(item.state.toLocaleLowerCase())}</td>\n                <td>{formatDate(dayjs(item.modifiedOn))}</td>\n                <td\n                  className={`${\n                    item.expiredOn\n                      ? new Date() > new Date(item.expiredOn)\n                        ? 'expired'\n                        : ''\n                      : 'non-expire'\n                  } remove-border`}\n                >\n                  {item.expiredOn ? formatDate(dayjs(item.expiredOn)) : 'Never'}\n                </td>\n              </tr>\n            )\n          })}\n        </tbody>\n      </Table>\n      {isLoading && (\n        <div className=\"SRC-center-text\">\n          <SynapseSpinner size={40} />\n        </div>\n      )}\n      {!isLoading && accessApprovals.length === 0 && (\n        <Typography className=\"SRC-center-text\" variant=\"body1\">\n          No Results\n        </Typography>\n      )}\n      {!hasNextPage ? (\n        ''\n      ) : (\n        <Button\n          variant=\"outlined\"\n          color=\"primary\"\n          onClick={() => fetchNextPage}\n        >\n          Show More\n        </Button>\n      )}\n    </div>\n  )\n}\n","import { upperFirst } from 'lodash-es'\nimport dayjs from 'dayjs'\nimport React, { useMemo, useState } from 'react'\nimport { Table } from 'react-bootstrap'\nimport { Link } from 'react-router-dom'\nimport SortIcon from '../../assets/icons/Sort'\nimport { formatDate } from '../../utils/functions/DateFormatter'\nimport { useSearchAccessSubmissionsInfinite } from '../../synapse-queries/dataaccess/useDataAccessSubmission'\nimport { ACT_TEAM_ID } from '../../utils/SynapseConstants'\nimport {\n  Direction,\n  SubmissionReviewerFilterType,\n  SubmissionSearchRequest,\n  SubmissionSearchSort,\n  SubmissionSortField,\n  SubmissionState,\n} from '@sage-bionetworks/synapse-types'\nimport { SynapseSpinner } from '../LoadingScreen/LoadingScreen'\nimport { Button, Typography } from '@mui/material'\nimport UserOrTeamBadge from '../UserOrTeamBadge/UserOrTeamBadge'\nimport { UserBadge } from '../UserCard/UserBadge'\n\nexport type AccessRequestSubmissionTableProps = {\n  showSubmitter?: boolean\n  showStatus?: boolean\n  showRequesters?: boolean\n  accessorId?: string\n  accessRequirementId?: string\n  reviewerId?: string\n  submissionState?: SubmissionState\n  reviewerFilterType?: SubmissionReviewerFilterType\n}\n\nexport const AccessRequestSubmissionTable: React.FunctionComponent<\n  AccessRequestSubmissionTableProps\n> = ({\n  showSubmitter,\n  showStatus,\n  showRequesters,\n  accessorId,\n  accessRequirementId,\n  reviewerId,\n  submissionState,\n  reviewerFilterType,\n}) => {\n  const [sort, setSort] = useState<SubmissionSearchSort>({\n    field: SubmissionSortField.CREATED_ON,\n    direction: Direction.DESC,\n  })\n\n  const searchRequest: SubmissionSearchRequest = useMemo(\n    () => ({\n      accessorId,\n      accessRequirementId,\n      submissionState,\n      reviewerId,\n      reviewerFilterType,\n      sort: [sort],\n    }),\n    [\n      accessorId,\n      accessRequirementId,\n      submissionState,\n      reviewerId,\n      reviewerFilterType,\n      sort,\n    ],\n  )\n\n  const { data, hasNextPage, fetchNextPage, isLoading } =\n    useSearchAccessSubmissionsInfinite(searchRequest)\n\n  const accessSubmissions = data?.pages.flatMap(page => page.results) ?? []\n\n  const onSort = (field: SubmissionSortField) => {\n    if (sort.field === field) {\n      setSort({ field, direction: sort.direction === 'DESC' ? 'ASC' : 'DESC' })\n    } else {\n      setSort({ field, direction: 'DESC' })\n    }\n  }\n  return (\n    <div className=\"bootstrap-4-backport AccessSubmissionTable\">\n      <Table striped borderless bordered={false}>\n        <thead>\n          <tr>\n            <th>REQUEST</th>\n            <th>Access Requirement Name</th>\n            {showSubmitter && <th>Submitter</th>}\n            {showStatus && <th>Status</th>}\n            {showRequesters && <th>Requesters</th>}\n            <th>Reviewer(s)</th>\n            <th>\n              Created Date\n              <SortIcon\n                role=\"button\"\n                style={{ float: 'right' }}\n                active={sort.field === 'CREATED_ON'}\n                aria-label=\"Sort by Created On\"\n                direction={\n                  sort.field === 'CREATED_ON'\n                    ? sort.direction === 'DESC'\n                      ? 'DESC'\n                      : 'ASC'\n                    : 'DESC'\n                }\n                onClick={() => onSort(SubmissionSortField.CREATED_ON)}\n              />\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          {accessSubmissions.map(item => {\n            return (\n              <tr key={item.id}>\n                <td>\n                  <Link to={`/Submissions/${item.id}`}>{item.id}</Link>\n                </td>\n                <td>{item.accessRequirementName}</td>\n                {showSubmitter && (\n                  <td>\n                    <UserOrTeamBadge principalId={item.submitterId} />\n                  </td>\n                )}\n                {showStatus && (\n                  <td>{upperFirst(item.state.toLocaleLowerCase())}</td>\n                )}\n                {showRequesters && (\n                  <td>\n                    <UserOrTeamBadge principalId={item.submitterId} />\n                    {item.accessorChanges\n                      .filter(user => item.submitterId !== user.userId)\n                      .map(requester => (\n                        <li key={requester.userId}>\n                          <UserBadge\n                            userId={requester.userId}\n                            className=\"requester\"\n                          />\n                        </li>\n                      ))}\n                  </td>\n                )}\n                <td>\n                  {item.accessRequirementReviewerIds.length === 0 ? (\n                    <UserOrTeamBadge principalId={ACT_TEAM_ID} />\n                  ) : (\n                    item.accessRequirementReviewerIds.map(reviewerId => (\n                      <UserOrTeamBadge\n                        key={reviewerId}\n                        principalId={reviewerId}\n                      />\n                    ))\n                  )}\n                </td>\n                <td>{formatDate(dayjs(item.createdOn))}</td>\n              </tr>\n            )\n          })}\n        </tbody>\n      </Table>\n      {isLoading && (\n        <div className=\"SRC-center-text\">\n          <SynapseSpinner size={40} />\n        </div>\n      )}\n      {!isLoading && accessSubmissions.length == 0 && (\n        <Typography className=\"SRC-center-text\" variant=\"body1\">\n          No Results\n        </Typography>\n      )}\n      {!hasNextPage ? (\n        ''\n      ) : (\n        <Button\n          variant=\"outlined\"\n          color=\"primary\"\n          onClick={() => {\n            fetchNextPage()\n          }}\n        >\n          Show More\n        </Button>\n      )}\n    </div>\n  )\n}\n","import { omitBy } from 'lodash-es'\nimport React, { useCallback, useEffect, useState } from 'react'\nimport { useHistory, useLocation } from 'react-router-dom'\nimport { useDebouncedEffect } from '../../utils/hooks/useDebouncedEffect'\nimport { TYPE_FILTER } from '@sage-bionetworks/synapse-types'\nimport { Typography } from '@mui/material'\nimport {\n  AccessApprovalsTable,\n  AccessApprovalsTableProps,\n} from './AccessApprovalsTable'\nimport {\n  AccessRequestSubmissionTable,\n  AccessRequestSubmissionTableProps,\n} from './AccessRequestSubmissionTable'\nimport UserOrTeamBadge from '../UserOrTeamBadge/UserOrTeamBadge'\nimport UserSearchBoxV2 from '../UserSearchBox/UserSearchBoxV2'\nimport AccessRequirementSearchBox from './AccessRequirementSearchBox/AccessRequirementSearchBox'\nimport { useGetCurrentUserBundle } from '../../synapse-queries'\n\nexport const UserHistoryDashboard = () => {\n  const [accessRequirementId, setAccessRequirementId] = useState<\n    string | undefined\n  >()\n  const [accessorId, setAccessorId] = useState<string>('')\n  const [approvalTableProps, setApprovalTableProps] =\n    useState<AccessApprovalsTableProps>({\n      accessorId,\n      accessRequirementId,\n    })\n  const [submissionTableProps, setSubmissionTableProps] =\n    useState<AccessRequestSubmissionTableProps>({\n      showStatus: true,\n      showSubmitter: true,\n      accessorId,\n      accessRequirementId,\n    })\n\n  const { data: userBundle } = useGetCurrentUserBundle()\n  const hasActPermissions = userBundle?.isACTMember\n\n  const location = useLocation()\n  const history = useHistory()\n  const INPUT_CHANGE_DEBOUNCE_DELAY_MS = 500\n\n  const onAccessorChange = useCallback((selected: string | null) => {\n    if (selected) {\n      setAccessorId(selected)\n    } else {\n      setAccessorId('')\n    }\n  }, [])\n\n  useEffect(() => {\n    const initializeFromSearchParam = () => {\n      const initialParams = new URLSearchParams(location.search)\n      setAccessRequirementId(\n        initialParams.get('accessRequirementId') ?? undefined,\n      )\n      setAccessorId(initialParams.get('accessorId') ?? '')\n    }\n    initializeFromSearchParam()\n  }, [location.search])\n\n  useDebouncedEffect(\n    () => {\n      const updateQueryParams = (\n        accessRequirementId: string | undefined,\n        accessorId: string,\n      ) => {\n        const params = new URLSearchParams(\n          omitBy(\n            {\n              accessRequirementId,\n              accessorId,\n            },\n            item => item === undefined || item === '',\n          ) as Record<string, string>,\n        )\n        history.replace({\n          pathname: location.pathname,\n          search: params.toString(),\n        })\n      }\n\n      updateQueryParams(accessRequirementId, accessorId)\n      setApprovalTableProps({\n        accessorId,\n        accessRequirementId,\n      })\n      setSubmissionTableProps({\n        showStatus: true,\n        showSubmitter: true,\n        accessorId,\n        accessRequirementId,\n      })\n    },\n    [accessRequirementId, accessorId, history, location.pathname],\n    INPUT_CHANGE_DEBOUNCE_DELAY_MS,\n  )\n\n  const NoSearchResultComponent = () => {\n    return (\n      <div className=\"text-center\">\n        <img\n          className=\"SearchPlaceholderImage\"\n          alt=\"Begin searching\"\n          src=\"https://s3.amazonaws.com/static.synapse.org/images/search-happy.svg\"\n        />\n        <Typography variant=\"body1Italic\">\n          Select a user using the search field above to view their data access\n          history\n        </Typography>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"UserHistoryDashboard bootstrap-4-backport\">\n      <div className=\"InputPanel\">\n        <div>\n          <Typography\n            component=\"label\"\n            variant=\"smallText2\"\n            htmlFor=\"user-filter\"\n          >\n            Select a user to view their access history\n          </Typography>\n          <UserSearchBoxV2\n            inputId=\"user-filter\"\n            onChange={onAccessorChange}\n            defaultValue={accessorId}\n            placeholder=\"Search for a user name\"\n            typeFilter={TYPE_FILTER.USERS_ONLY}\n          />\n        </div>\n\n        {accessorId && (\n          <div>\n            <Typography\n              component=\"label\"\n              variant=\"smallText2\"\n              htmlFor=\"arName-filter\"\n            >\n              Filter by Access Requirement Name\n            </Typography>\n            <AccessRequirementSearchBox\n              inputId=\"arName-filter\"\n              placeholder=\"Search for an Access Requirement Name \"\n              onChange={setAccessRequirementId}\n            />\n          </div>\n        )}\n      </div>\n\n      {accessorId ? (\n        <>\n          <Typography variant=\"headline3\">\n            Submissions including <UserOrTeamBadge principalId={accessorId} />\n          </Typography>\n          <AccessRequestSubmissionTable {...submissionTableProps} />\n          {hasActPermissions && (\n            <>\n              <Typography variant=\"headline3\">\n                Status in Access Requirements\n              </Typography>\n              <AccessApprovalsTable {...approvalTableProps} />\n            </>\n          )}\n        </>\n      ) : (\n        <NoSearchResultComponent />\n      )}\n    </div>\n  )\n}\n","import dayjs from 'dayjs'\nimport React, { useMemo, useState } from 'react'\nimport { Table } from 'react-bootstrap'\nimport SortIcon from '../../assets/icons/Sort'\nimport { formatDate } from '../../utils/functions/DateFormatter'\nimport { PRODUCTION_ENDPOINT_CONFIG } from '../../utils/functions/getEndpoint'\nimport { useSearchAccessRequirementsInfinite } from '../../synapse-queries/dataaccess/useAccessRequirements'\nimport { ACT_TEAM_ID } from '../../utils/SynapseConstants'\nimport { ACCESS_TYPE } from '@sage-bionetworks/synapse-types'\nimport {\n  AccessRequirementSearchRequest,\n  AccessRequirementSearchSort,\n} from '@sage-bionetworks/synapse-types'\nimport { Button, Typography } from '@mui/material'\nimport { EntityLink } from '../EntityLink'\nimport { StarTwoTone } from '@mui/icons-material'\nimport { SynapseSpinner } from '../LoadingScreen/LoadingScreen'\nimport UserOrTeamBadge from '../UserOrTeamBadge/UserOrTeamBadge'\n\nexport type AccessRequirementTableProps = {\n  nameContains?: string\n  relatedProjectId?: string\n  reviewerId?: string\n  accessType?: ACCESS_TYPE\n  onCreateNewAccessRequirementClicked?: () => void\n}\n\nexport function AccessRequirementTable(props: AccessRequirementTableProps) {\n  const {\n    nameContains,\n    relatedProjectId,\n    reviewerId,\n    accessType,\n    onCreateNewAccessRequirementClicked,\n  } = props\n\n  const [sort, setSort] = useState<AccessRequirementSearchSort>({\n    field: 'CREATED_ON',\n    direction: 'DESC',\n  })\n\n  const searchRequest: Omit<AccessRequirementSearchRequest, 'nextPageToken'> =\n    useMemo(\n      () => ({\n        nameContains,\n        relatedProjectId,\n        reviewerId,\n        accessType,\n        sort: [sort],\n      }),\n      [nameContains, relatedProjectId, reviewerId, accessType, sort],\n    )\n\n  const { data, hasNextPage, fetchNextPage, isLoading } =\n    useSearchAccessRequirementsInfinite(searchRequest)\n\n  const accessRequirements = data?.pages.flatMap(page => page.results) ?? []\n  const onSort = (field: AccessRequirementSearchSort['field']) => {\n    if (sort.field === field) {\n      setSort({ field, direction: sort.direction === 'DESC' ? 'ASC' : 'DESC' })\n    } else {\n      setSort({ field, direction: 'DESC' })\n    }\n  }\n\n  return (\n    <div className=\"bootstrap-4-backport\">\n      <div className=\"SRC-split\">\n        <Typography variant=\"headline3\" style={{ marginBottom: 0 }}>\n          Access Requirements\n        </Typography>\n        {onCreateNewAccessRequirementClicked && (\n          <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            onClick={onCreateNewAccessRequirementClicked}\n            startIcon={<StarTwoTone />}\n          >\n            New Access Requirement\n          </Button>\n        )}\n      </div>\n\n      <div className=\"AccessRequirementsTable\">\n        <Table striped borderless bordered={false}>\n          <thead className=\"access-requirements-header\">\n            <tr>\n              <th>AR ID</th>\n              <th>\n                <span className=\"SRC-split\">\n                  <span>Access Requirement Name</span>\n                  <SortIcon\n                    role=\"button\"\n                    onClick={() => onSort('NAME')}\n                    aria-label=\"Sort by Name\"\n                    active={sort.field === 'NAME'}\n                    direction={sort.field === 'NAME' ? sort.direction : 'DESC'}\n                  />\n                </span>\n              </th>\n              <th>Related to Projects</th>\n              <th>Reviewer</th>\n              <th>Last Modified</th>\n              <th>\n                <span className=\"SRC-split\">\n                  <span>Created On</span>\n                  <SortIcon\n                    role=\"button\"\n                    onClick={() => onSort('CREATED_ON')}\n                    active={sort.field === 'CREATED_ON'}\n                    aria-label=\"Sort by Created On\"\n                    direction={\n                      sort.field === 'CREATED_ON' ? sort.direction : 'DESC'\n                    }\n                  />\n                </span>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            {accessRequirements.map(ar => {\n              return (\n                <tr key={ar.id}>\n                  <td>\n                    <a\n                      href={`${PRODUCTION_ENDPOINT_CONFIG.PORTAL}#!AccessRequirement:AR_ID=${ar.id}`}\n                    >\n                      {ar.id}\n                    </a>\n                  </td>\n                  <td>{ar.name}</td>\n                  <td>\n                    {ar.relatedProjectIds.map(projectId => (\n                      <React.Fragment key={projectId}>\n                        <EntityLink entity={projectId} />{' '}\n                        <span className=\"InlineLabel\">({projectId})</span>\n                        <br />\n                      </React.Fragment>\n                    ))}\n                  </td>\n                  <td>\n                    {ar.reviewerIds.length === 0 ? (\n                      <UserOrTeamBadge principalId={ACT_TEAM_ID} />\n                    ) : (\n                      ar.reviewerIds.map(reviewerId => (\n                        <UserOrTeamBadge\n                          key={reviewerId}\n                          principalId={reviewerId}\n                        />\n                      ))\n                    )}\n                  </td>\n                  <td>{formatDate(dayjs(ar.modifiedOn))}</td>\n                  <td>{formatDate(dayjs(ar.createdOn))}</td>\n                </tr>\n              )\n            })}\n          </tbody>\n        </Table>\n        {isLoading && (\n          <div className=\"SRC-center-text\">\n            <SynapseSpinner size={40} />\n          </div>\n        )}\n        {!isLoading && accessRequirements.length === 0 && (\n          <Typography className=\"SRC-center-text\" variant=\"body1\">\n            No Results\n          </Typography>\n        )}\n        {!hasNextPage ? (\n          <></>\n        ) : (\n          <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            onClick={() => {\n              fetchNextPage()\n            }}\n          >\n            Show More\n          </Button>\n        )}\n      </div>\n    </div>\n  )\n}\n","import { omitBy } from 'lodash-es'\nimport React, { useCallback, useEffect, useMemo, useState } from 'react'\nimport { Box, InputAdornment, TextField, Typography } from '@mui/material'\nimport { SearchOutlined } from '@mui/icons-material'\nimport { useHistory, useLocation } from 'react-router-dom'\nimport { useDebouncedEffect } from '../../utils/hooks/useDebouncedEffect'\nimport { EntityType } from '@sage-bionetworks/synapse-types'\nimport { EntityFinderModal } from '../EntityFinder/EntityFinderModal'\nimport { FinderScope } from '../EntityFinder/tree/EntityTree'\nimport UserSearchBoxV2 from '../UserSearchBox/UserSearchBoxV2'\nimport {\n  AccessRequirementTable,\n  AccessRequirementTableProps,\n} from './AccessRequirementTable'\nimport { SYNAPSE_ENTITY_ID_REGEX } from '../../utils/functions/RegularExpressions'\nimport { InputSizedButton } from '../styled/InputSizedButton'\n\nexport type AccessRequirementDashboardProps = {\n  onCreateNewAccessRequirementClicked?: () => void\n}\n\nexport function AccessRequirementDashboard(\n  props: AccessRequirementDashboardProps,\n) {\n  // Amount of time to wait after an input value changes before sending a new request\n  const INPUT_CHANGE_DEBOUNCE_DELAY_MS = 500\n\n  const { onCreateNewAccessRequirementClicked } = props\n\n  const location = useLocation()\n  const history = useHistory()\n\n  const [nameContains, setNameContains] = useState<string>('')\n  const [relatedProjectId, setRelatedProjectId] = useState<string | undefined>(\n    undefined,\n  )\n  const [reviewerId, setReviewerId] = useState<string | undefined>(undefined)\n\n  const projectFilterFieldIsError: boolean = useMemo(\n    () =>\n      !!(relatedProjectId && !SYNAPSE_ENTITY_ID_REGEX.exec(relatedProjectId)),\n    [relatedProjectId],\n  )\n\n  useEffect(() => {\n    function initializeFromSearchParams() {\n      const initialParams = new URLSearchParams(location.search)\n      setNameContains(initialParams.get('nameContains') ?? '')\n      setRelatedProjectId(initialParams.get('relatedProjectId') ?? undefined)\n      setReviewerId(initialParams.get('reviewerId') ?? undefined)\n    }\n    initializeFromSearchParams()\n  }, [location.search])\n\n  const [showEntityFinder, setShowEntityFinder] = useState(false)\n\n  const [tableProps, setTableProps] = useState<AccessRequirementTableProps>({\n    nameContains,\n    relatedProjectId,\n    reviewerId,\n    onCreateNewAccessRequirementClicked,\n  })\n\n  /**\n   * When an input changes, update the props passed to the table and update the search params.\n   *\n   * Debounced to prevent firing many queries while the user is entering text.\n   */\n  useDebouncedEffect(\n    () => {\n      function updateQueryParams(\n        nameContains: string | undefined,\n        relatedProjectId: string | undefined,\n        reviewerId: string | undefined,\n      ) {\n        // Don't include undefined/empty parameters\n        const params = omitBy(\n          {\n            nameContains,\n            relatedProjectId,\n            reviewerId,\n          },\n          item => item === undefined || item === '',\n        ) as Record<string, string>\n\n        // Add the new params to the URL\n        // Replace history because intuitively, the user has not navigated to a new page\n        const paramsObject = new URLSearchParams(params)\n        history.replace({\n          pathname: location.pathname,\n          search: paramsObject.toString(),\n        })\n      }\n\n      setTableProps({\n        nameContains,\n        relatedProjectId,\n        reviewerId,\n        onCreateNewAccessRequirementClicked,\n      })\n      updateQueryParams(nameContains, relatedProjectId, reviewerId)\n    },\n    [\n      nameContains,\n      relatedProjectId,\n      reviewerId,\n      onCreateNewAccessRequirementClicked,\n      history,\n      location.pathname,\n    ],\n    INPUT_CHANGE_DEBOUNCE_DELAY_MS,\n  )\n\n  const onReviewerChange = useCallback((selected: string | null) => {\n    if (selected) {\n      setReviewerId(selected)\n    } else {\n      setReviewerId(undefined)\n    }\n  }, [])\n\n  return (\n    <div className=\"AccessRequirementDashboard\">\n      <EntityFinderModal\n        configuration={{\n          initialScope: FinderScope.ALL_PROJECTS,\n          initialContainer: null,\n          selectMultiple: false,\n          selectableTypes: [EntityType.PROJECT],\n          treeOnly: true,\n        }}\n        show={showEntityFinder}\n        onCancel={() => {\n          setShowEntityFinder(false)\n        }}\n        title={'Select Project to Filter Access Requirements'}\n        promptCopy={\n          'Select a project to find Access Requirements that are associated with that project. Access Requirements will be found if the Access Requirement is applied to the project, or if it is applied to any item inside the project.'\n        }\n        onConfirm={selected => {\n          setRelatedProjectId(selected[0].targetId)\n          setShowEntityFinder(false)\n        }}\n        confirmButtonCopy={'Select'}\n      />\n      <form className=\"InputPanel\">\n        <div>\n          <TextField\n            label=\"Filter by Access Requirement Name\"\n            id=\"ar-name-filter\"\n            type=\"text\"\n            fullWidth\n            placeholder=\"Search for an Access Requirement Name\"\n            value={nameContains}\n            onChange={e => {\n              setNameContains(e.target.value)\n            }}\n            InputProps={{\n              endAdornment: (\n                <InputAdornment position=\"end\">\n                  <SearchOutlined />\n                </InputAdornment>\n              ),\n            }}\n          />\n        </div>\n        <Box display=\"flex\" gap=\"5px\" alignItems=\"stretch\">\n          <TextField\n            label=\"Filter by Project\"\n            id=\"project-id-filter\"\n            type=\"text\"\n            fullWidth\n            placeholder=\"Enter a project SynID\"\n            error={projectFilterFieldIsError}\n            helperText={\n              projectFilterFieldIsError\n                ? 'Value must be a Synapse ID, e.g. \"syn1234\"'\n                : undefined\n            }\n            value={relatedProjectId}\n            onChange={e => {\n              const newValue = e.target.value\n              if (newValue === '') {\n                setRelatedProjectId(undefined)\n              } else {\n                setRelatedProjectId(newValue)\n              }\n            }}\n          />\n          <InputSizedButton\n            variant=\"outlined\"\n            color=\"primary\"\n            onClick={() => {\n              setShowEntityFinder(true)\n            }}\n          >\n            Browse\n          </InputSizedButton>\n        </Box>\n        <div>\n          <Typography\n            component=\"label\"\n            variant=\"smallText2\"\n            htmlFor=\"reviewer-filter\"\n          >\n            Filter by Reviewer\n          </Typography>\n          <UserSearchBoxV2\n            inputId=\"reviewer-filter\"\n            placeholder=\"Search for a username or team name\"\n            defaultValue={reviewerId}\n            onChange={onReviewerChange}\n          />\n        </div>\n      </form>\n      <AccessRequirementTable {...tableProps} />\n    </div>\n  )\n}\n\nexport default AccessRequirementDashboard\n","import { omitBy } from 'lodash-es'\nimport React, { useCallback, useEffect, useState } from 'react'\nimport { useHistory, useLocation } from 'react-router-dom'\nimport { useDebouncedEffect } from '../../utils/hooks/useDebouncedEffect'\nimport { SubmissionState } from '@sage-bionetworks/synapse-types'\nimport { TYPE_FILTER } from '@sage-bionetworks/synapse-types'\nimport { Typography } from '@mui/material'\nimport {\n  AccessRequestSubmissionTable,\n  AccessRequestSubmissionTableProps,\n} from './AccessRequestSubmissionTable'\nimport UserSearchBoxV2 from '../UserSearchBox/UserSearchBoxV2'\nimport AccessRequirementSearchBox from './AccessRequirementSearchBox/AccessRequirementSearchBox'\n\nexport const DataAccessSubmissionDashboard = () => {\n  const [accessRequirementId, setAccessRequirementId] = useState<\n    string | undefined\n  >()\n  const [accessorId, setAccessorId] = useState<string | undefined>()\n  const [reviewerId, setReviewerId] = useState<string | undefined>()\n  const [tableProps, setTableProps] =\n    useState<AccessRequestSubmissionTableProps>({\n      accessRequirementId,\n      accessorId,\n      reviewerId,\n      showRequesters: true,\n      submissionState: SubmissionState.SUBMITTED,\n    })\n\n  const location = useLocation()\n  const history = useHistory()\n  const INPUT_CHANGE_DEBOUNCE_DELAY_MS = 500\n\n  useEffect(() => {\n    const initializeFromSearchParam = () => {\n      const initialParams = new URLSearchParams(location.search)\n      setAccessRequirementId(\n        initialParams.get('accessRequirementId') ?? undefined,\n      )\n      setAccessorId(initialParams.get('accessorId') ?? undefined)\n      setReviewerId(initialParams.get('reviewerId') ?? undefined)\n    }\n    initializeFromSearchParam()\n  }, [location.search])\n\n  const onRequesterChange = useCallback((selected: string | null) => {\n    if (selected) {\n      setAccessorId(selected)\n    } else {\n      setAccessorId(undefined)\n    }\n  }, [])\n\n  const onReviewerChange = useCallback((selected: string | null) => {\n    if (selected) {\n      setReviewerId(selected)\n    } else {\n      setReviewerId(undefined)\n    }\n  }, [])\n\n  useDebouncedEffect(\n    () => {\n      const updateQueryParams = (\n        accessRequirementId: string | undefined,\n        accessorId: string | undefined,\n        reviewerId: string | undefined,\n      ) => {\n        const params = new URLSearchParams(\n          omitBy(\n            {\n              accessRequirementId,\n              accessorId,\n              reviewerId,\n            },\n            item => item === undefined || item === '',\n          ) as Record<string, string>,\n        )\n        history.replace({\n          pathname: location.pathname,\n          search: params.toString(),\n        })\n      }\n\n      updateQueryParams(accessRequirementId, accessorId, reviewerId)\n      setTableProps({\n        accessRequirementId,\n        accessorId,\n        reviewerId,\n        showRequesters: true,\n        submissionState: SubmissionState.SUBMITTED,\n      })\n    },\n    [accessRequirementId, accessorId, reviewerId, history, location.pathname],\n    INPUT_CHANGE_DEBOUNCE_DELAY_MS,\n  )\n\n  return (\n    <div className=\"AccessSubmissionDashboard\">\n      <div className=\"InputPanel\">\n        <div>\n          <Typography\n            component=\"label\"\n            variant=\"smallText2\"\n            htmlFor=\"arId-filter\"\n          >\n            Filter by Access Requirement Name\n          </Typography>\n          <AccessRequirementSearchBox\n            inputId=\"arId-filter\"\n            onChange={setAccessRequirementId}\n            placeholder=\"Search for an Access Requirement Name \"\n          />\n        </div>\n        <div>\n          <Typography\n            component=\"label\"\n            variant=\"smallText2\"\n            htmlFor=\"requester-filter\"\n          >\n            Filter by Requester\n          </Typography>\n          <UserSearchBoxV2\n            inputId=\"requester-filter\"\n            placeholder=\"Search for a user name\"\n            defaultValue={accessorId}\n            onChange={onRequesterChange}\n            typeFilter={TYPE_FILTER.USERS_ONLY}\n          />\n        </div>\n        <div>\n          <Typography\n            component=\"label\"\n            variant=\"smallText2\"\n            htmlFor=\"reviewer-filter\"\n          >\n            Filter by Reviewer\n          </Typography>\n          <UserSearchBoxV2\n            inputId=\"reviewer-filter\"\n            placeholder=\"Search for a user or team name\"\n            defaultValue={reviewerId}\n            onChange={onReviewerChange}\n          />\n        </div>\n      </div>\n\n      <Typography variant=\"headline3\">Access Request Submissions</Typography>\n      <AccessRequestSubmissionTable {...tableProps} />\n    </div>\n  )\n}\n","import React, { useCallback } from 'react'\nimport {\n  BrowserRouter,\n  BrowserRouterProps,\n  MemoryRouter,\n  MemoryRouterProps,\n  NavLink,\n  Route,\n  Switch,\n  useParams,\n} from 'react-router-dom'\nimport { useGetCurrentUserBundle } from '../../synapse-queries/user/useUserBundle'\nimport { Typography } from '@mui/material'\nimport { SynapseErrorBoundary } from '../error/ErrorBanner'\nimport IconSvg, { IconName } from '../IconSvg/IconSvg'\nimport { SynapseSpinner } from '../LoadingScreen/LoadingScreen'\nimport { UserHistoryDashboard } from './AccessHistoryDashboard'\nimport { AccessRequirementDashboard } from './AccessRequirementDashboard'\nimport { DataAccessSubmissionDashboard } from './AccessSubmissionDashboard'\nimport SubmissionPage from './SubmissionPage'\nimport OrientationBanner from '../OrientationBanner'\n\nfunction LinkTab(props: {\n  href: string\n  children: React.ReactNode\n  icon: IconName\n}) {\n  const { href, children, icon } = props\n  return (\n    <NavLink className=\"Tab\" role=\"tab\" to={href}>\n      <IconSvg\n        icon={icon}\n        sx={{\n          paddingRight: '0.2rem',\n        }}\n      />\n      <Typography variant=\"buttonLink\">{children}</Typography>\n    </NavLink>\n  )\n}\n\ntype ReviewerDashboardProps = {\n  /** Used to determine the base path for the component. Default is #!DataAccessManagement:default */\n  routerBaseName?: string\n  /** If true use a MemoryRouter, which prevents the browser URL from updating. For demo purposes only. */\n  useMemoryRouter?: boolean\n}\n\nexport function ReviewerDashboard(props: ReviewerDashboardProps) {\n  const {\n    routerBaseName = '#!DataAccessManagement:default',\n    useMemoryRouter = false,\n  } = props\n\n  const { data: userBundle, isLoading } = useGetCurrentUserBundle()\n\n  const hasActPermissions = userBundle?.isACTMember\n  const hasReviewerPermissions =\n    userBundle?.isACTMember || userBundle?.isARReviewer\n\n  const Router = useCallback(\n    (props: MemoryRouterProps | BrowserRouterProps) => {\n      if (useMemoryRouter) {\n        return <MemoryRouter {...props} />\n      } else {\n        return <BrowserRouter {...props} />\n      }\n    },\n    [useMemoryRouter],\n  )\n\n  if (isLoading) {\n    return <SynapseSpinner size={50} />\n  }\n\n  return (\n    <Router basename={routerBaseName}>\n      <div className=\"ReviewerDashboard\">\n        <div className=\"Tabs\" role=\"tablist\">\n          {hasActPermissions && (\n            <LinkTab href=\"/AccessRequirements\" icon=\"accessClosed\">\n              Access Requirements\n            </LinkTab>\n          )}\n          {hasReviewerPermissions && (\n            <LinkTab href=\"/Submissions\" icon=\"discussion\">\n              Submissions\n            </LinkTab>\n          )}\n          {hasReviewerPermissions && (\n            <LinkTab href=\"/UserAccessHistory\" icon=\"history\">\n              User Access History\n            </LinkTab>\n          )}\n        </div>\n        <div className=\"TabContentContainer\">\n          <SynapseErrorBoundary>\n            <Switch>\n              {hasActPermissions && (\n                <Route path=\"/AccessRequirements\">\n                  <AccessRequirementDashboard />\n                </Route>\n              )}\n              {hasReviewerPermissions && [\n                <Route exact path=\"/Submissions\" key=\"/Submissions\">\n                  {!hasActPermissions && (\n                    <OrientationBanner\n                      name=\"DataAccessManagement\"\n                      title=\"Getting Started With Data Access Management\"\n                      text=\"When someone requests access to data, that request will show up here. Clicking on the Request ID will take you to a page where you can review the request.\"\n                      sx={{ margin: '-20px -30px 20px -30px', width: 'auto' }}\n                    />\n                  )}\n                  <DataAccessSubmissionDashboard />\n                </Route>,\n\n                <Route path=\"/Submissions/:id\" key=\"/Submissions/:id\">\n                  <SubmissionPageRouteRenderer />\n                </Route>,\n              ]}\n              {\n                <Route exact path=\"/UserAccessHistory\">\n                  <UserHistoryDashboard />\n                </Route>\n              }\n            </Switch>\n          </SynapseErrorBoundary>\n        </div>\n      </div>\n    </Router>\n  )\n}\n\nfunction SubmissionPageRouteRenderer() {\n  const { id } = useParams<{ id: string }>()\n  return <SubmissionPage submissionId={id} />\n}\n\nexport default ReviewerDashboard\n"],"names":["useSearchAccessApprovalsInfinite","params","options","accessToken","keyFactory","useSynapseContext","useInfiniteQuery","context","SynapseClient","page","AccessApprovalsTable","accessorId","accessRequirementId","sort","setSort","useState","AccessApprovalSortField","Direction","searchRequest","useMemo","data","hasNextPage","fetchNextPage","isLoading","accessApprovals","onSort","field","jsxs","Table","jsx","SortIcon","item","PRODUCTION_ENDPOINT_CONFIG","UserBadge","upperFirst","formatDate","dayjs","SynapseSpinner","Typography","Button","AccessRequestSubmissionTable","showSubmitter","showStatus","showRequesters","reviewerId","submissionState","reviewerFilterType","SubmissionSortField","useSearchAccessSubmissionsInfinite","accessSubmissions","Link","UserOrTeamBadge","user","requester","ACT_TEAM_ID","reviewerId2","UserHistoryDashboard","setAccessRequirementId","setAccessorId","approvalTableProps","setApprovalTableProps","submissionTableProps","setSubmissionTableProps","userBundle","useGetCurrentUserBundle","hasActPermissions","location","useLocation","history","useHistory","INPUT_CHANGE_DEBOUNCE_DELAY_MS","onAccessorChange","useCallback","selected","useEffect","initialParams","useDebouncedEffect","omitBy","NoSearchResultComponent","UserSearchBoxV2","TYPE_FILTER","AccessRequirementSearchBox","Fragment","AccessRequirementTable","props","nameContains","relatedProjectId","accessType","onCreateNewAccessRequirementClicked","useSearchAccessRequirementsInfinite","accessRequirements","StarTwoTone","ar","projectId","React","EntityLink","AccessRequirementDashboard","setNameContains","setRelatedProjectId","setReviewerId","projectFilterFieldIsError","SYNAPSE_ENTITY_ID_REGEX","initializeFromSearchParams","showEntityFinder","setShowEntityFinder","tableProps","setTableProps","updateQueryParams","nameContains2","relatedProjectId2","paramsObject","onReviewerChange","EntityFinderModal","FinderScope","EntityType","TextField","e","InputAdornment","SearchOutlined","Box","newValue","InputSizedButton","DataAccessSubmissionDashboard","SubmissionState","onRequesterChange","LinkTab","href","children","icon","NavLink","IconSvg","ReviewerDashboard","routerBaseName","useMemoryRouter","hasReviewerPermissions","Router","props2","MemoryRouter","BrowserRouter","SynapseErrorBoundary","Switch","Route","OrientationBanner","SubmissionPageRouteRenderer","id","useParams","SubmissionPage"],"mappings":"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"}