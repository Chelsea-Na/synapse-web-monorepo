import{j as s,a as p}from"./jsx-runtime-670450c2.js";import{r as n,R as u}from"./index-f1f749bf.js";import{Q as m,d as y,i as f,g as P,S as h,a as g,b as C,c as k,e as w,f as x,s as b,h as S,p as v,j as E,m as Q,k as R,l as T,n as _,o as M,q as O,r as A,t as D,u as I,v as j}from"./SynapseContext-49f8c03b.js";import{S as N}from"./ToastMessage-f34af748.js";import{d as q}from"./dayjs.min-e0adaab4.js";import{S as U}from"./getEndpoint-5374ab4d.js";import{M as W}from"./react-router-9ff2542c.js";var i={},B={get exports(){return i},set exports(e){i=e}};B.exports={ReactQueryDevtools:function(){return null},ReactQueryDevtoolsPanel:function(){return null}};async function F(){C();let e=await k(),t;try{t=await w(e)}catch(o){throw o instanceof x&&o.status===401&&(console.error("Encountered error fetching profile: ",o,"Signing out..."),await b(()=>{}),e=void 0),o}let a;return e&&S(e).then(o=>{a=q(o.authenticatedOn).format("L LT")}),{accessToken:e,profile:t,authenticatedOn:a}}const r=new m(y);function H(e){const t=U[e];window.SRC={OVERRIDE_ENDPOINT_CONFIG:t},r.resetQueries()}const K={default:v,sageBionetworks:E,mtb:Q,arkPortal:R,adKnowledgePortal:T,nfPortal:_,bsmnPortal:M,psychEncodePortal:O,stopAdPortal:A,digitalHealthPortal:D,crcResearcherPortal:I,cancerComplexityPortal:j};function c(e){const{storybookContext:t}=e;n.useEffect(()=>{H(t.globals.stack)},[t.globals.stack]);const[a,o]=u.useState(void 0);n.useEffect(()=>{F().then(l=>{o(l.accessToken)})}),n.useEffect(()=>{async function l(){await r.cancelQueries(),r.removeQueries(),await r.invalidateQueries()}l()},[a]);const d=n.useMemo(()=>({accessToken:a,isInExperimentalMode:f(),utcTime:P(),withErrorBoundary:!0,downloadCartPageUrl:"/?path=/story/download-downloadcartpage--demo"}),[a]);return s(h,{queryClient:r,synapseContext:d,theme:{...g,palette:K[t.globals.palette]},children:p(W,{children:[t.globals.showReactQueryDevtools&&s(i.ReactQueryDevtools,{}),s(N,{}),s("main",{children:e.children})]})},a)}try{c.displayName="StorybookComponentWrapper",c.__docgenInfo={description:"Wraps storybook story components to ensure that all components receive required context.",displayName:"StorybookComponentWrapper",props:{storybookContext:{defaultValue:null,description:"",name:"storybookContext",required:!0,type:{name:"any"}}}}}catch{}export{c as S,F as s};
//# sourceMappingURL=StorybookComponentWrapper-5086abe7.js.map
