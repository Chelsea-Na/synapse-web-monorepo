import{j as k,F as ht,a as pt}from"./jsx-runtime-ad672792.js";import{p as o}from"./index-4d501b15.js";import{r as we}from"./index-f1f749bf.js";import{bx as gt}from"./index-fa82f227.js";import{U as ft}from"./UserOrTeamBadge-cdab09e0.js";import"./_commonjsHelpers-042e6b4d.js";import"./getEndpoint-ac94413e.js";import"./SvgIcon-19b553ad.js";import"./extends-98964cd2.js";import"./objectWithoutPropertiesLoose-4f48578a.js";import"./styled-be3878cf.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-3d5299f2.js";import"./IconSvg-169b578b.js";import"./Clear-4b047352.js";import"./useTheme-5ec55fc4.js";import"./isHostComponent-fa76b8d9.js";import"./index-96c5f47c.js";import"./useForkRef-dd8a6e5c.js";import"./TransitionGroupContext-a2b6e27b.js";import"./inheritsLoose-d541526f.js";import"./setPrototypeOf-0bb37fbe.js";import"./Box-748c1b2e.js";import"./extendSxProp-94a0a81d.js";import"./Button-251d6b7d.js";import"./ButtonBase-9ed4bb8f.js";import"./emotion-react.browser.esm-605ba919.js";import"./assertThisInitialized-081f9914.js";import"./SynapseConstants-42953824.js";import"./Button-7d415009.js";import"./Alert-84d62a08.js";import"./hook-c05d8d9f.js";import"./createWithBsPrefix-e09f51dd.js";import"./divWithClassName-1aeead00.js";import"./isArray-5e3f9107.js";import"./UserCard-02de5557.js";import"./SkeletonTable-10af79f6.js";import"./times-d7369989.js";import"./_baseTimes-8cccc40f.js";import"./toInteger-d9512c99.js";import"./isSymbol-7c514724.js";import"./Skeleton-fac1f03c.js";import"./ToastMessage-4328e127.js";import"./FullWidthAlert-e8ee4bbb.js";import"./Typography-25de91b6.js";import"./removeClass-164fd327.js";import"./hasClass-ec9efd32.js";import"./uniqueId-4d05949d.js";import"./toString-cc90cb98.js";import"./Popover-390c4b81.js";import"./Modal-405ff371.js";import"./Fade-a660e176.js";import"./getScrollbarSize-ac846fe6.js";import"./ownerWindow-2c76219e.js";import"./createChainedFunction-0bab83cf.js";import"./Paper-e394b7cf.js";import"./Link-81a3b4be.js";var Me={},mt={get exports(){return Me},set exports(e){Me=e}},I={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var he=60103,pe=60106,U=60107,W=60108,B=60114,_=60109,F=60110,j=60112,q=60113,xe=60120,z=60115,Y=60116,We=60121,Be=60122,_e=60117,Fe=60129,je=60131;if(typeof Symbol=="function"&&Symbol.for){var b=Symbol.for;he=b("react.element"),pe=b("react.portal"),U=b("react.fragment"),W=b("react.strict_mode"),B=b("react.profiler"),_=b("react.provider"),F=b("react.context"),j=b("react.forward_ref"),q=b("react.suspense"),xe=b("react.suspense_list"),z=b("react.memo"),Y=b("react.lazy"),We=b("react.block"),Be=b("react.server.block"),_e=b("react.fundamental"),Fe=b("react.debug_trace_mode"),je=b("react.legacy_hidden")}function M(e){if(typeof e=="object"&&e!==null){var s=e.$$typeof;switch(s){case he:switch(e=e.type,e){case U:case B:case W:case q:case xe:return e;default:switch(e=e&&e.$$typeof,e){case F:case j:case Y:case z:case _:return e;default:return s}}case pe:return s}}}var It=_,yt=he,vt=j,wt=U,St=Y,bt=z,xt=pe,Ht=B,Ct=W,Et=q;I.ContextConsumer=F;I.ContextProvider=It;I.Element=yt;I.ForwardRef=vt;I.Fragment=wt;I.Lazy=St;I.Memo=bt;I.Portal=xt;I.Profiler=Ht;I.StrictMode=Ct;I.Suspense=Et;I.isAsyncMode=function(){return!1};I.isConcurrentMode=function(){return!1};I.isContextConsumer=function(e){return M(e)===F};I.isContextProvider=function(e){return M(e)===_};I.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===he};I.isForwardRef=function(e){return M(e)===j};I.isFragment=function(e){return M(e)===U};I.isLazy=function(e){return M(e)===Y};I.isMemo=function(e){return M(e)===z};I.isPortal=function(e){return M(e)===pe};I.isProfiler=function(e){return M(e)===B};I.isStrictMode=function(e){return M(e)===W};I.isSuspense=function(e){return M(e)===q};I.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===U||e===B||e===Fe||e===W||e===q||e===xe||e===je||typeof e=="object"&&e!==null&&(e.$$typeof===Y||e.$$typeof===z||e.$$typeof===_||e.$$typeof===F||e.$$typeof===j||e.$$typeof===_e||e.$$typeof===We||e[0]===Be)};I.typeOf=M;(function(e){e.exports=I})(mt);function Ae(e){return typeof e=="object"&&e!=null&&e.nodeType===1}function Ne(e,s){return(!s||e!=="hidden")&&e!=="visible"&&e!=="clip"}function ye(e,s){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return Ne(n.overflowY,s)||Ne(n.overflowX,s)||function(t){var u=function(d){if(!d.ownerDocument||!d.ownerDocument.defaultView)return null;try{return d.ownerDocument.defaultView.frameElement}catch{return null}}(t);return!!u&&(u.clientHeight<t.scrollHeight||u.clientWidth<t.scrollWidth)}(e)}return!1}function re(e,s,n,t,u,d,c,h){return d<e&&c>s||d>e&&c<s?0:d<=e&&h<=n||c>=s&&h>=n?d-e-t:c>s&&h<n||d<e&&h>n?c-s+u:0}var Dt=function(e,s){var n=window,t=s.scrollMode,u=s.block,d=s.inline,c=s.boundary,h=s.skipOverflowHiddenElements,D=typeof c=="function"?c:function(ct){return ct!==c};if(!Ae(e))throw new TypeError("Invalid target");for(var y,x,i=document.scrollingElement||document.documentElement,r=[],l=e;Ae(l)&&D(l);){if((l=(x=(y=l).parentElement)==null?y.getRootNode().host||null:x)===i){r.push(l);break}l!=null&&l===document.body&&ye(l)&&!ye(document.documentElement)||l!=null&&ye(l,h)&&r.push(l)}for(var a=n.visualViewport?n.visualViewport.width:innerWidth,p=n.visualViewport?n.visualViewport.height:innerHeight,m=window.scrollX||pageXOffset,f=window.scrollY||pageYOffset,g=e.getBoundingClientRect(),S=g.height,v=g.width,E=g.top,O=g.right,P=g.bottom,V=g.left,H=u==="start"||u==="nearest"?E:u==="end"?P:E+S/2,C=d==="center"?V+v/2:d==="end"?O:V,ge=[],fe=0;fe<r.length;fe++){var w=r[fe],T=w.getBoundingClientRect(),X=T.height,Q=T.width,Z=T.top,me=T.right,Ie=T.bottom,G=T.left;if(t==="if-needed"&&E>=0&&V>=0&&P<=p&&O<=a&&E>=Z&&P<=Ie&&V>=G&&O<=me)return ge;var J=getComputedStyle(w),ee=parseInt(J.borderLeftWidth,10),te=parseInt(J.borderTopWidth,10),ne=parseInt(J.borderRightWidth,10),ie=parseInt(J.borderBottomWidth,10),R=0,$=0,se="offsetWidth"in w?w.offsetWidth-w.clientWidth-ee-ne:0,oe="offsetHeight"in w?w.offsetHeight-w.clientHeight-te-ie:0,Ce="offsetWidth"in w?w.offsetWidth===0?0:Q/w.offsetWidth:0,Ee="offsetHeight"in w?w.offsetHeight===0?0:X/w.offsetHeight:0;if(i===w)R=u==="start"?H:u==="end"?H-p:u==="nearest"?re(f,f+p,p,te,ie,f+H,f+H+S,S):H-p/2,$=d==="start"?C:d==="center"?C-a/2:d==="end"?C-a:re(m,m+a,a,ee,ne,m+C,m+C+v,v),R=Math.max(0,R+f),$=Math.max(0,$+m);else{R=u==="start"?H-Z-te:u==="end"?H-Ie+ie+oe:u==="nearest"?re(Z,Ie,X,te,ie+oe,H,H+S,S):H-(Z+X/2)+oe/2,$=d==="start"?C-G-ee:d==="center"?C-(G+Q/2)+se/2:d==="end"?C-me+ne+se:re(G,me,Q,ee,ne+se,C,C+v,v);var De=w.scrollLeft,Oe=w.scrollTop;H+=Oe-(R=Math.max(0,Math.min(Oe+R/Ee,w.scrollHeight-X/Ee+oe))),C+=De-($=Math.max(0,Math.min(De+$/Ce,w.scrollWidth-Q/Ce+se)))}ge.push({el:w,top:R,left:$})}return ge},ce=function(){return ce=Object.assign||function(s){for(var n,t=1,u=arguments.length;t<u;t++){n=arguments[t];for(var d in n)Object.prototype.hasOwnProperty.call(n,d)&&(s[d]=n[d])}return s},ce.apply(this,arguments)};let Ot=0;function Pe(e){return typeof e=="function"?e:N}function N(){}function qe(e,s){if(!e)return;Dt(e,{boundary:s,block:"nearest",scrollMode:"if-needed"}).forEach(t=>{let{el:u,top:d,left:c}=t;u.scrollTop=d,u.scrollLeft=c})}function Re(e,s,n){return e===s||s instanceof n.Node&&e.contains&&e.contains(s)}function He(e,s){let n;function t(){n&&clearTimeout(n)}function u(){for(var d=arguments.length,c=new Array(d),h=0;h<d;h++)c[h]=arguments[h];t(),n=setTimeout(()=>{n=null,e(...c)},s)}return u.cancel=t,u}function A(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return function(t){for(var u=arguments.length,d=new Array(u>1?u-1:0),c=1;c<u;c++)d[c-1]=arguments[c];return s.some(h=>(h&&h(t,...d),t.preventDownshiftDefault||t.hasOwnProperty("nativeEvent")&&t.nativeEvent.preventDownshiftDefault))}}function $e(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return t=>{s.forEach(u=>{typeof u=="function"?u(t):u&&(u.current=t)})}}function Mt(){return String(Ot++)}function ze(e){let{isOpen:s,resultCount:n,previousResultCount:t}=e;return s?n?n!==t?`${n} result${n===1?" is":"s are"} available, use up and down arrow keys to navigate. Press Enter key to select.`:"":"No results are available.":""}function Ve(e,s){return e=Array.isArray(e)?e[0]:e,!e&&s?s:e}function At(e){return typeof e.type=="string"}function Nt(e){return e.props}const Pt=["highlightedIndex","inputValue","isOpen","selectedItem","type"];function le(e){e===void 0&&(e={});const s={};return Pt.forEach(n=>{e.hasOwnProperty(n)&&(s[n]=e[n])}),s}function Rt(e,s){return Object.keys(e).reduce((n,t)=>(n[t]=Se(s,t)?s[t]:e[t],n),{})}function Se(e,s){return e[s]!==void 0}function Te(e){const{key:s,keyCode:n}=e;return n>=37&&n<=40&&s.indexOf("Arrow")!==0?`Arrow${s}`:s}function ve(e,s,n,t,u){if(u===void 0&&(u=!0),n===0)return-1;const d=n-1;(typeof s!="number"||s<0||s>=n)&&(s=e>0?-1:d+1);let c=s+e;c<0?c=u?d:0:c>d&&(c=u?0:d);const h=K(e,c,n,t,u);return h===-1?s>=n?-1:s:h}function K(e,s,n,t,u){const d=t(s);if(!d||!d.hasAttribute("disabled"))return s;if(e>0){for(let c=s+1;c<n;c++)if(!t(c).hasAttribute("disabled"))return c}else for(let c=s-1;c>=0;c--)if(!t(c).hasAttribute("disabled"))return c;return u?e>0?K(1,0,n,t,!1):K(-1,n-1,n,t,!1):-1}function ke(e,s,n,t){return t===void 0&&(t=!0),s.some(u=>u&&(Re(u,e,n)||t&&Re(u,n.document.activeElement,n)))}const $t=He(e=>{Xe(e).textContent=""},500);function Ye(e,s){const n=Xe(s);e&&(n.textContent=e,$t(s))}function Xe(e){e===void 0&&(e=document);let s=e.getElementById("a11y-status-message");return s||(s=e.createElement("div"),s.setAttribute("id","a11y-status-message"),s.setAttribute("role","status"),s.setAttribute("aria-live","polite"),s.setAttribute("aria-relevant","additions text"),Object.assign(s.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(s),s)}const Qe=0,Ze=1,Ge=2,ae=3,de=4,Je=5,et=6,tt=7,nt=8,it=9,st=10,ot=11,rt=12,lt=13,ut=14,at=15,dt=16;var Vt=Object.freeze({__proto__:null,unknown:Qe,mouseUp:Ze,itemMouseEnter:Ge,keyDownArrowUp:ae,keyDownArrowDown:de,keyDownEscape:Je,keyDownEnter:et,keyDownHome:tt,keyDownEnd:nt,clickItem:it,blurInput:st,changeInput:ot,keyDownSpaceButton:rt,clickButton:lt,blurButton:ut,controlledPropUpdatedSelectedItem:at,touchEnd:dt});const Tt=(()=>{class e extends we.Component{constructor(n){var t;super(n),t=this,this.id=this.props.id||`downshift-${Mt()}`,this.menuId=this.props.menuId||`${this.id}-menu`,this.labelId=this.props.labelId||`${this.id}-label`,this.inputId=this.props.inputId||`${this.id}-input`,this.getItemId=this.props.getItemId||(i=>`${this.id}-item-${i}`),this.input=null,this.items=[],this.itemCount=null,this.previousResultCount=0,this.timeoutIds=[],this.internalSetTimeout=(i,r)=>{const l=setTimeout(()=>{this.timeoutIds=this.timeoutIds.filter(a=>a!==l),i()},r);this.timeoutIds.push(l)},this.setItemCount=i=>{this.itemCount=i},this.unsetItemCount=()=>{this.itemCount=null},this.setHighlightedIndex=function(i,r){i===void 0&&(i=t.props.defaultHighlightedIndex),r===void 0&&(r={}),r=le(r),t.internalSetState({highlightedIndex:i,...r})},this.clearSelection=i=>{this.internalSetState({selectedItem:null,inputValue:"",highlightedIndex:this.props.defaultHighlightedIndex,isOpen:this.props.defaultIsOpen},i)},this.selectItem=(i,r,l)=>{r=le(r),this.internalSetState({isOpen:this.props.defaultIsOpen,highlightedIndex:this.props.defaultHighlightedIndex,selectedItem:i,inputValue:this.props.itemToString(i),...r},l)},this.selectItemAtIndex=(i,r,l)=>{const a=this.items[i];a!=null&&this.selectItem(a,r,l)},this.selectHighlightedItem=(i,r)=>this.selectItemAtIndex(this.getState().highlightedIndex,i,r),this.internalSetState=(i,r)=>{let l,a;const p={},m=typeof i=="function";return!m&&i.hasOwnProperty("inputValue")&&this.props.onInputValueChange(i.inputValue,{...this.getStateAndHelpers(),...i}),this.setState(f=>{f=this.getState(f);let g=m?i(f):i;g=this.props.stateReducer(f,g),l=g.hasOwnProperty("selectedItem");const S={};return l&&g.selectedItem!==f.selectedItem&&(a=g.selectedItem),g.type=g.type||Qe,Object.keys(g).forEach(v=>{f[v]!==g[v]&&(p[v]=g[v]),v!=="type"&&(g[v],Se(this.props,v)||(S[v]=g[v]))}),m&&g.hasOwnProperty("inputValue")&&this.props.onInputValueChange(g.inputValue,{...this.getStateAndHelpers(),...g}),S},()=>{Pe(r)(),Object.keys(p).length>1&&this.props.onStateChange(p,this.getStateAndHelpers()),l&&this.props.onSelect(i.selectedItem,this.getStateAndHelpers()),a!==void 0&&this.props.onChange(a,this.getStateAndHelpers()),this.props.onUserAction(p,this.getStateAndHelpers())})},this.rootRef=i=>this._rootNode=i,this.getRootProps=function(i,r){let{refKey:l="ref",ref:a,...p}=i===void 0?{}:i,{suppressRefError:m=!1}=r===void 0?{}:r;t.getRootProps.called=!0,t.getRootProps.refKey=l,t.getRootProps.suppressRefError=m;const{isOpen:f}=t.getState();return{[l]:$e(a,t.rootRef),role:"combobox","aria-expanded":f,"aria-haspopup":"listbox","aria-owns":f?t.menuId:null,"aria-labelledby":t.labelId,...p}},this.keyDownHandlers={ArrowDown(i){if(i.preventDefault(),this.getState().isOpen){const r=i.shiftKey?5:1;this.moveHighlightedIndex(r,{type:de})}else this.internalSetState({isOpen:!0,type:de},()=>{const r=this.getItemCount();if(r>0){const{highlightedIndex:l}=this.getState(),a=ve(1,l,r,p=>this.getItemNodeFromIndex(p));this.setHighlightedIndex(a,{type:de})}})},ArrowUp(i){if(i.preventDefault(),this.getState().isOpen){const r=i.shiftKey?-5:-1;this.moveHighlightedIndex(r,{type:ae})}else this.internalSetState({isOpen:!0,type:ae},()=>{const r=this.getItemCount();if(r>0){const{highlightedIndex:l}=this.getState(),a=ve(-1,l,r,p=>this.getItemNodeFromIndex(p));this.setHighlightedIndex(a,{type:ae})}})},Enter(i){if(i.which===229)return;const{isOpen:r,highlightedIndex:l}=this.getState();if(r&&l!=null){i.preventDefault();const a=this.items[l],p=this.getItemNodeFromIndex(l);if(a==null||p&&p.hasAttribute("disabled"))return;this.selectHighlightedItem({type:et})}},Escape(i){i.preventDefault(),this.reset({type:Je,...!this.state.isOpen&&{selectedItem:null,inputValue:""}})}},this.buttonKeyDownHandlers={...this.keyDownHandlers," "(i){i.preventDefault(),this.toggleMenu({type:rt})}},this.inputKeyDownHandlers={...this.keyDownHandlers,Home(i){const{isOpen:r}=this.getState();if(!r)return;i.preventDefault();const l=this.getItemCount();if(l<=0||!r)return;const a=K(1,0,l,p=>this.getItemNodeFromIndex(p),!1);this.setHighlightedIndex(a,{type:tt})},End(i){const{isOpen:r}=this.getState();if(!r)return;i.preventDefault();const l=this.getItemCount();if(l<=0||!r)return;const a=K(-1,l-1,l,p=>this.getItemNodeFromIndex(p),!1);this.setHighlightedIndex(a,{type:nt})}},this.getToggleButtonProps=function(i){let{onClick:r,onPress:l,onKeyDown:a,onKeyUp:p,onBlur:m,...f}=i===void 0?{}:i;const{isOpen:g}=t.getState(),S={onClick:A(r,t.buttonHandleClick),onKeyDown:A(a,t.buttonHandleKeyDown),onKeyUp:A(p,t.buttonHandleKeyUp),onBlur:A(m,t.buttonHandleBlur)},v=f.disabled?{}:S;return{type:"button",role:"button","aria-label":g?"close menu":"open menu","aria-haspopup":!0,"data-toggle":!0,...v,...f}},this.buttonHandleKeyUp=i=>{i.preventDefault()},this.buttonHandleKeyDown=i=>{const r=Te(i);this.buttonKeyDownHandlers[r]&&this.buttonKeyDownHandlers[r].call(this,i)},this.buttonHandleClick=i=>{i.preventDefault(),this.props.environment.document.activeElement===this.props.environment.document.body&&i.target.focus(),this.internalSetTimeout(()=>this.toggleMenu({type:lt}))},this.buttonHandleBlur=i=>{const r=i.target;this.internalSetTimeout(()=>{!this.isMouseDown&&(this.props.environment.document.activeElement==null||this.props.environment.document.activeElement.id!==this.inputId)&&this.props.environment.document.activeElement!==r&&this.reset({type:ut})})},this.getLabelProps=i=>({htmlFor:this.inputId,id:this.labelId,...i}),this.getInputProps=function(i){let{onKeyDown:r,onBlur:l,onChange:a,onInput:p,onChangeText:m,...f}=i===void 0?{}:i,g,S={};g="onChange";const{inputValue:v,isOpen:E,highlightedIndex:O}=t.getState();return f.disabled||(S={[g]:A(a,p,t.inputHandleChange),onKeyDown:A(r,t.inputHandleKeyDown),onBlur:A(l,t.inputHandleBlur)}),{"aria-autocomplete":"list","aria-activedescendant":E&&typeof O=="number"&&O>=0?t.getItemId(O):null,"aria-controls":E?t.menuId:null,"aria-labelledby":t.labelId,autoComplete:"off",value:v,id:t.inputId,...S,...f}},this.inputHandleKeyDown=i=>{const r=Te(i);r&&this.inputKeyDownHandlers[r]&&this.inputKeyDownHandlers[r].call(this,i)},this.inputHandleChange=i=>{this.internalSetState({type:ot,isOpen:!0,inputValue:i.target.value,highlightedIndex:this.props.defaultHighlightedIndex})},this.inputHandleBlur=()=>{this.internalSetTimeout(()=>{const i=this.props.environment.document&&!!this.props.environment.document.activeElement&&!!this.props.environment.document.activeElement.dataset&&this.props.environment.document.activeElement.dataset.toggle&&this._rootNode&&this._rootNode.contains(this.props.environment.document.activeElement);!this.isMouseDown&&!i&&this.reset({type:st})})},this.menuRef=i=>{this._menuNode=i},this.getMenuProps=function(i,r){let{refKey:l="ref",ref:a,...p}=i===void 0?{}:i,{suppressRefError:m=!1}=r===void 0?{}:r;return t.getMenuProps.called=!0,t.getMenuProps.refKey=l,t.getMenuProps.suppressRefError=m,{[l]:$e(a,t.menuRef),role:"listbox","aria-labelledby":p&&p["aria-label"]?null:t.labelId,id:t.menuId,...p}},this.getItemProps=function(i){let{onMouseMove:r,onMouseDown:l,onClick:a,onPress:p,index:m,item:f=void 0,...g}=i===void 0?{}:i;m===void 0?(t.items.push(f),m=t.items.indexOf(f)):t.items[m]=f;const S="onClick",v=a,E={onMouseMove:A(r,()=>{m!==t.getState().highlightedIndex&&(t.setHighlightedIndex(m,{type:Ge}),t.avoidScrolling=!0,t.internalSetTimeout(()=>t.avoidScrolling=!1,250))}),onMouseDown:A(l,P=>{P.preventDefault()}),[S]:A(v,()=>{t.selectItemAtIndex(m,{type:it})})},O=g.disabled?{onMouseDown:E.onMouseDown}:E;return{id:t.getItemId(m),role:"option","aria-selected":t.getState().highlightedIndex===m,...O,...g}},this.clearItems=()=>{this.items=[]},this.reset=function(i,r){i===void 0&&(i={}),i=le(i),t.internalSetState(l=>{let{selectedItem:a}=l;return{isOpen:t.props.defaultIsOpen,highlightedIndex:t.props.defaultHighlightedIndex,inputValue:t.props.itemToString(a),...i}},r)},this.toggleMenu=function(i,r){i===void 0&&(i={}),i=le(i),t.internalSetState(l=>{let{isOpen:a}=l;return{isOpen:!a,...a&&{highlightedIndex:t.props.defaultHighlightedIndex},...i}},()=>{const{isOpen:l,highlightedIndex:a}=t.getState();l&&t.getItemCount()>0&&typeof a=="number"&&t.setHighlightedIndex(a,i),Pe(r)()})},this.openMenu=i=>{this.internalSetState({isOpen:!0},i)},this.closeMenu=i=>{this.internalSetState({isOpen:!1},i)},this.updateStatus=He(()=>{const i=this.getState(),r=this.items[i.highlightedIndex],l=this.getItemCount(),a=this.props.getA11yStatusMessage({itemToString:this.props.itemToString,previousResultCount:this.previousResultCount,resultCount:l,highlightedItem:r,...i});this.previousResultCount=l,Ye(a,this.props.environment.document)},200);const{defaultHighlightedIndex:u,initialHighlightedIndex:d=u,defaultIsOpen:c,initialIsOpen:h=c,initialInputValue:D="",initialSelectedItem:y=null}=this.props,x=this.getState({highlightedIndex:d,isOpen:h,inputValue:D,selectedItem:y});x.selectedItem!=null&&this.props.initialInputValue===void 0&&(x.inputValue=this.props.itemToString(x.selectedItem)),this.state=x}internalClearTimeouts(){this.timeoutIds.forEach(n=>{clearTimeout(n)}),this.timeoutIds=[]}getState(n){return n===void 0&&(n=this.state),Rt(n,this.props)}getItemCount(){let n=this.items.length;return this.itemCount!=null?n=this.itemCount:this.props.itemCount!==void 0&&(n=this.props.itemCount),n}getItemNodeFromIndex(n){return this.props.environment.document.getElementById(this.getItemId(n))}scrollHighlightedItemIntoView(){{const n=this.getItemNodeFromIndex(this.getState().highlightedIndex);this.props.scrollIntoView(n,this._menuNode)}}moveHighlightedIndex(n,t){const u=this.getItemCount(),{highlightedIndex:d}=this.getState();if(u>0){const c=ve(n,d,u,h=>this.getItemNodeFromIndex(h));this.setHighlightedIndex(c,t)}}getStateAndHelpers(){const{highlightedIndex:n,inputValue:t,selectedItem:u,isOpen:d}=this.getState(),{itemToString:c}=this.props,{id:h}=this,{getRootProps:D,getToggleButtonProps:y,getLabelProps:x,getMenuProps:i,getInputProps:r,getItemProps:l,openMenu:a,closeMenu:p,toggleMenu:m,selectItem:f,selectItemAtIndex:g,selectHighlightedItem:S,setHighlightedIndex:v,clearSelection:E,clearItems:O,reset:P,setItemCount:V,unsetItemCount:H,internalSetState:C}=this;return{getRootProps:D,getToggleButtonProps:y,getLabelProps:x,getMenuProps:i,getInputProps:r,getItemProps:l,reset:P,openMenu:a,closeMenu:p,toggleMenu:m,selectItem:f,selectItemAtIndex:g,selectHighlightedItem:S,setHighlightedIndex:v,clearSelection:E,clearItems:O,setItemCount:V,unsetItemCount:H,setState:C,itemToString:c,id:h,highlightedIndex:n,inputValue:t,isOpen:d,selectedItem:u}}componentDidMount(){{const n=()=>{this.isMouseDown=!0},t=D=>{this.isMouseDown=!1,!ke(D.target,[this._rootNode,this._menuNode],this.props.environment)&&this.getState().isOpen&&this.reset({type:Ze},()=>this.props.onOuterClick(this.getStateAndHelpers()))},u=()=>{this.isTouchMove=!1},d=()=>{this.isTouchMove=!0},c=D=>{const y=ke(D.target,[this._rootNode,this._menuNode],this.props.environment,!1);!this.isTouchMove&&!y&&this.getState().isOpen&&this.reset({type:dt},()=>this.props.onOuterClick(this.getStateAndHelpers()))},{environment:h}=this.props;h.addEventListener("mousedown",n),h.addEventListener("mouseup",t),h.addEventListener("touchstart",u),h.addEventListener("touchmove",d),h.addEventListener("touchend",c),this.cleanup=()=>{this.internalClearTimeouts(),this.updateStatus.cancel(),h.removeEventListener("mousedown",n),h.removeEventListener("mouseup",t),h.removeEventListener("touchstart",u),h.removeEventListener("touchmove",d),h.removeEventListener("touchend",c)}}}shouldScroll(n,t){const{highlightedIndex:u}=this.props.highlightedIndex===void 0?this.getState():this.props,{highlightedIndex:d}=t.highlightedIndex===void 0?n:t;return u&&this.getState().isOpen&&!n.isOpen||u!==d}componentDidUpdate(n,t){Se(this.props,"selectedItem")&&this.props.selectedItemChanged(n.selectedItem,this.props.selectedItem)&&this.internalSetState({type:at,inputValue:this.props.itemToString(this.props.selectedItem)}),!this.avoidScrolling&&this.shouldScroll(t,n)&&this.scrollHighlightedItemIntoView(),this.updateStatus()}componentWillUnmount(){this.cleanup()}render(){const n=Ve(this.props.children,N);this.clearItems(),this.getRootProps.called=!1,this.getRootProps.refKey=void 0,this.getRootProps.suppressRefError=void 0,this.getMenuProps.called=!1,this.getMenuProps.refKey=void 0,this.getMenuProps.suppressRefError=void 0,this.getLabelProps.called=!1,this.getInputProps.called=!1;const t=Ve(n(this.getStateAndHelpers()));if(!t)return null;if(this.getRootProps.called||this.props.suppressRefError)return t;if(At(t))return we.cloneElement(t,this.getRootProps(Nt(t)))}}return e.defaultProps={defaultHighlightedIndex:null,defaultIsOpen:!1,getA11yStatusMessage:ze,itemToString:s=>s==null?"":String(s),onStateChange:N,onInputValueChange:N,onUserAction:N,onChange:N,onSelect:N,onOuterClick:N,selectedItemChanged:(s,n)=>s!==n,environment:typeof window>"u"?{}:window,stateReducer:(s,n)=>n,suppressRefError:!1,scrollIntoView:qe},e.stateChangeTypes=Vt,e})();var kt=Tt;function Lt(e,s){return s.changes}function Kt(e){const{selectedItem:s,itemToString:n}=e;return s?`${n(s)} has been selected.`:""}He((e,s)=>{Ye(e(),s)},200);function Ut(e){return e?String(e):""}const L={itemToString:Ut,stateReducer:Lt,getA11ySelectionMessage:Kt,scrollIntoView:qe,circularNavigation:!1,environment:typeof window>"u"?{}:window};o.array.isRequired,o.func,o.func,o.func,o.bool,o.number,o.number,o.number,o.bool,o.bool,o.bool,o.any,o.any,o.any,o.string,o.string,o.string,o.func,o.string,o.func,o.func,o.func,o.func,o.func,o.shape({addEventListener:o.func,removeEventListener:o.func,document:o.shape({getElementById:o.func,activeElement:o.any,body:o.any})});function Wt(e){var s=e.isOpen,n=e.resultCount,t=e.previousResultCount;return s?n?n!==t?"".concat(n," result").concat(n===1?" is":"s are"," available, use up and down arrow keys to navigate. Press Enter or Space Bar keys to select."):"":"No results are available.":""}ce(ce({},L),{getA11yStatusMessage:Wt});o.array.isRequired,o.func,o.func,o.func,o.bool,o.number,o.number,o.number,o.bool,o.bool,o.bool,o.any,o.any,o.any,o.string,o.string,o.string,o.string,o.string,o.string,o.func,o.string,o.string,o.func,o.func,o.func,o.func,o.func,o.func,o.shape({addEventListener:o.func,removeEventListener:o.func,document:o.shape({getElementById:o.func,activeElement:o.any,body:o.any})});({...L});function Bt(e){const{removedSelectedItem:s,itemToString:n}=e;return`${n(s)} has been removed.`}o.array,o.array,o.array,o.func,o.func,o.func,o.number,o.number,o.number,o.func,o.func,o.string,o.string,o.shape({addEventListener:o.func,removeEventListener:o.func,document:o.shape({getElementById:o.func,activeElement:o.any,body:o.any})});L.itemToString,L.stateReducer,L.environment;const be=e=>{const{id:s,onSelectCallback:n,filterUserIds:t,typeFilter:u}=e,[d,c]=we.useState([]),h=async y=>{try{const x=await gt(y,u),i=t!=null&&t.length?x.children.filter(r=>!t.includes(r.ownerId)):x.children;c(i)}catch(x){console.log("onInputValueChange",x)}},D=y=>{n&&n(y)};return k(ht,{children:k(kt,{onInputValueChange:y=>{h(y)},onChange:y=>D(y),itemToString:y=>y!=null&&y.name?y.name:"",children:({getInputProps:y,getMenuProps:x,getItemProps:i,isOpen:r,inputValue:l})=>pt("div",{className:"user-search-box",children:[k("input",{...y({className:"form-control",id:s,type:"search",role:"searchbox",placeholder:"Enter the name..."}),style:{marginBottom:"0"}}),k("ul",{...x(),className:r?"users-visible":"",role:"list",children:r?d.filter(a=>!l||`${a.firstName} ${a.lastName}`.includes(l)||a.userName.includes(l)).map((a,p)=>k("li",{...i({key:a.ownerId,index:p,item:a}),children:k(ft,{userGroupHeader:a,disableHref:!0,showFullName:!0})},`userSearchBox-${p}`)):null})]})})})};try{be.displayName="UserSearchBox",be.__docgenInfo={description:"",displayName:"UserSearchBox",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},onSelectCallback:{defaultValue:null,description:"",name:"onSelectCallback",required:!1,type:{name:"((selected: UserGroupHeader) => void)"}},typeFilter:{defaultValue:null,description:"",name:"typeFilter",required:!1,type:{name:"enum",value:[{value:'"USERS_ONLY"'},{value:'"TEAMS_ONLY"'},{value:'"ALL"'}]}},filterUserIds:{defaultValue:null,description:"",name:"filterUserIds",required:!1,type:{name:"string[]"}}}}}catch{}const qn={title:"UI/UserSearchBox",component:be},ue={};var Le,Ke,Ue;ue.parameters={...ue.parameters,docs:{...(Le=ue.parameters)==null?void 0:Le.docs,source:{originalSource:"{}",...(Ue=(Ke=ue.parameters)==null?void 0:Ke.docs)==null?void 0:Ue.source}}};const zn=["Demo"];export{ue as Demo,zn as __namedExportsOrder,qn as default};
//# sourceMappingURL=UserSearchBox.stories-35f80082.js.map
