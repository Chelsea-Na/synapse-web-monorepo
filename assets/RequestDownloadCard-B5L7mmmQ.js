import{j as e}from"./jsx-runtime-CKrituN3.js";import{m}from"./SynapseConstants-Dh1wgLp_.js";import"./index-CBqU2yxZ.js";import"./getEndpoint-CjoHA800.js";import{h as c,l as p,m as u}from"./ApplicationSessionManager-CJytWrLj.js";import{n as y}from"./index-C-UbkUMQ.js";import"./OrientationBanner-DFzKDcoJ.js";import{A as w}from"./ActionRequiredCard-gXhJPrKo.js";import{M as f}from"./Alert-jLvJNeQC.js";import{T as g}from"./Typography-BhttL55U.js";import{B as _}from"./Button-BOCcoe4v.js";function h(n,o,t=y,r){const{accessToken:i,keyFactory:s}=c();return p({...r,queryKey:s.getEntityBundleQueryKey(n,o,t),queryFn:()=>u.getEntityBundleV2(n,t,o,i)})}const E=n=>window.open(`https://www.synapse.org/#!Synapse:${n}`,"_blank"),S="Download Permission Required",d=({entityId:n,count:o,onViewSharingSettingsClicked:t=E})=>{const{data:r,isLoading:i,isError:s,error:l}=h(n,void 0,{includeEntity:!0,includePermissions:!0}),a=!!(r!=null&&r.permissions.canDownload);return s?e.jsx(f,{severity:"error",children:l.reason}):e.jsx(w,{isLoading:i,title:S,description:e.jsxs(e.Fragment,{children:["You must be granted the download permission on"," ",e.jsx("strong",{children:r==null?void 0:r.entity.name})," in order to download this set of files."]}),iconType:m,count:o,actionNode:e.jsxs(e.Fragment,{children:[e.jsx(g,{variant:"smallText1",sx:{mb:1,color:"grey.700"},children:"Contact an administrator to request download permission"}),e.jsx(_,{variant:"outlined",onClick:()=>{t(n)},disabled:a,children:a?"Complete":"View Sharing Settings"})]})})};try{d.displayName="RequestDownloadCard",d.__docgenInfo={description:"",displayName:"RequestDownloadCard",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},count:{defaultValue:null,description:"",name:"count",required:!1,type:{name:"number"}},onViewSharingSettingsClicked:{defaultValue:{value:`benefactorEntityId =>
    window.open(
      \`https://www.synapse.org/#!Synapse:\${benefactorEntityId}\`,
      '_blank',
    )`},description:'Invoked when a user clicks "View Sharing Settings" for a set of files that require the Download permission',name:"onViewSharingSettingsClicked",required:!1,type:{name:"((benefactorId: string) => void)"}}}}}catch{}export{d as R,h as u};
