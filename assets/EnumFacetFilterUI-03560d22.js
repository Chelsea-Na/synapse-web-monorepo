import{a as i,j as l,F as S}from"./jsx-runtime-095bf462.js";import{r as u,R as O}from"./index-8db94870.js";import{I as C}from"./IconSvg-85f98416.js";import{u as Q}from"./uniqueId-4d05949d.js";import{T as Y}from"./Typography-039a8d28.js";import{D as E}from"./Dropdown-d0ecc6b2.js";import{T as w}from"./Tooltip-294ff439.js";import{I as v}from"./IconButton-76e05815.js";import{M as ee}from"./Select-58a10a3d.js";import{F as le}from"./Fade-06c2e3dd.js";import{T as ae}from"./TextField-87ab8354.js";import{C as te}from"./_getTag-f412bed9.js";const V=e=>{const{checked:t=!1,hideLabel:c=!1,isSelectAll:o=!1,disabled:r=!1,onChange:n}=e,[s]=u.useState(Q("src-checkbox-")),d=F=>{o&&F.target.checked===!1?n(!0):n(F.target.checked)};let m="checkbox";return e.className&&(m+=` ${e.className}`),i("div",{className:m,onClick:e.onClick,children:[l("input",{"aria-label":"aria-label"in e?e["aria-label"]:e.label,type:"checkbox",checked:t,id:s,onChange:d,disabled:r,"data-testid":e["data-testid"]}),l(Y,{component:"label",variant:"smallText1",htmlFor:s,children:c?l(S,{}):e.label}),e.children??l(S,{})]})};try{V.displayName="Checkbox",V.__docgenInfo={description:"",displayName:"Checkbox",props:{hideLabel:{defaultValue:null,description:"",name:"hideLabel",required:!1,type:{name:"boolean"}},checked:{defaultValue:null,description:"",name:"checked",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(newValue: boolean) => void"}},isSelectAll:{defaultValue:null,description:"",name:"isSelectAll",required:!1,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((event: SyntheticEvent<HTMLDivElement, Event>) => void)"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},"data-testid":{defaultValue:null,description:"",name:"data-testid",required:!1,type:{name:"string"}},"aria-label":{defaultValue:null,description:"",name:"aria-label",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"ReactNode"}}}}}catch{}const I=e=>i("svg",{...e,className:`Icon-Plus ${e.className??""}`,width:"15",height:"14",viewBox:"0 0 15 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.title&&l("title",{children:e.title}),l("path",{d:"M14.3887 8H8.38867V14H6.38867V8H0.388672V6H6.38867V0H8.38867V6H14.3887V8Z"})]});try{I.displayName="IconPlus",I.__docgenInfo={description:"",displayName:"IconPlus",props:{title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch{}const T=e=>i("svg",{...e,className:`Icon-Minus ${e.className??""}`,width:"15",height:"2",viewBox:"0 0 15 2",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.title&&l("title",{children:e.title}),l("path",{d:"M14.3887 2H8.38867H6.38867H0.388672V0H6.38867H8.38867H14.3887V2Z"})]});try{T.displayName="IconMinus",T.__docgenInfo={description:"",displayName:"IconMinus",props:{title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch{}function q(e){const{label:t,isCollapsed:c,onClick:o,hideCollapsible:r=!1}=e;return i("div",{className:"FacetFilterHeader",children:[l("label",{className:"FacetFilterHeader__label",children:t}),!r&&l("button",{className:"FacetFilterHeader__collapseToggleBtn",onClick:()=>o(!c),children:c?l(I,{className:"icon-plus",title:"Expand Menu"}):l(T,{className:"icon-minus",title:"Collapse Menu"})})]})}try{q.displayName="FacetFilterHeader",q.__docgenInfo={description:"",displayName:"FacetFilterHeader",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},hideCollapsible:{defaultValue:null,description:"",name:"hideCollapsible",required:!1,type:{name:"boolean"}},isCollapsed:{defaultValue:null,description:"",name:"isCollapsed",required:!0,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"(newValue: boolean) => void"}}}}}catch{}function A(e){const{id:t,label:c,count:o,isDropdown:r,checked:n,onChange:s}=e;return i("div",{className:"EnumFacetFilter__checkboxContainer",onClick:()=>{r&&s(!n)},children:[l(V,{className:"EnumFacetFilter__checkbox",onClick:d=>d.stopPropagation(),onChange:d=>{s(d)},checked:n,label:c},`${t}`),r&&i("span",{className:"EnumFacetFilter__count",children:["(",o.toLocaleString(),")"]}),!r&&l("div",{className:"EnumFacetFilter__count",children:o.toLocaleString()})]})}try{A.displayName="EnumFacetFilterOption",A.__docgenInfo={description:"",displayName:"EnumFacetFilterOption",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},count:{defaultValue:null,description:"",name:"count",required:!0,type:{name:"number"}},isDropdown:{defaultValue:null,description:"",name:"isDropdown",required:!0,type:{name:"boolean"}},checked:{defaultValue:null,description:"",name:"checked",required:!0,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(selected: boolean) => void"}}}}}catch{}function ne(e){const{menuText:t,children:c}=e,[o,r]=u.useState(!1);return i(E,{className:"EnumFacetFilter EnumFacetFilterSelect",show:o,onToggle:()=>r(!o),children:[l(E.Toggle,{className:"secondary-caret",variant:"gray-select",children:t}),l(E.Menu,{children:c})]})}function ie(e){const{children:t,hasSelection:c}=e,[o,r]=O.useState(null);return i("div",{className:"EnumFacetFilter",children:[l(w,{title:"Filter by specific facet",children:l(v,{onClick:m=>{r(m.currentTarget)},size:"small",children:l(C,{icon:"filter",wrap:!1,sx:{color:c?"primary.main":"grey.700",fontSize:"20px"}})})}),l(ee,{anchorEl:o,open:!!o,onClose:()=>{r(null)},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},TransitionComponent:le,children:t})]})}function M(e){const{dropdownType:t}=e;return t==="SelectBox"?l(ne,{...e}):l(ie,{...e})}try{M.displayName="EnumFacetFilterDropdown",M.__docgenInfo={description:"",displayName:"EnumFacetFilterDropdown",props:{menuText:{defaultValue:null,description:"",name:"menuText",required:!0,type:{name:"string"}},hasSelection:{defaultValue:null,description:"",name:"hasSelection",required:!0,type:{name:"boolean"}},dropdownType:{defaultValue:null,description:"",name:"dropdownType",required:!1,type:{name:"enum",value:[{value:'"Icon"'},{value:'"SelectBox"'}]}}}}}catch{}const _=5;function R(e){return e.replace(/\s/g,"").toLowerCase()}function z(e){const{allIsSelected:t,containerAs:c="Collapsible",dropdownType:o="Icon",hideCollapsible:r=!1,facetValues:n,onAddValueToSelection:s,onRemoveValueFromSelection:d,facetTitle:m,onRemoveAllFacetSelections:F}=e,[P,N]=u.useState(!1),[H,U]=u.useState(!1),[h,D]=u.useState(!1),[p,x]=u.useState(""),B=n.length>_&&n.slice(_).some(({isSelected:a})=>a),g=P||h||B,f=u.useMemo(()=>h&&p.length>0?n.filter(({displayText:a})=>a.toLowerCase().indexOf(p.trim().toLowerCase())>-1):g?n:n.slice(0,_),[n,p,h,g]),k=O.createRef(),y=c==="Dropdown",$=!g&&n.length>_,j=g&&!p&&!B&&n.length>_,L=i("div",{className:y?"EnumFacetFilter__dropdown_menu":"",children:[i("div",{className:"EnumFacetFilter__checkboxContainer--forAll",children:[l(ae,{sx:{display:h?void 0:"none"},size:"small",fullWidth:!0,InputProps:{startAdornment:l(w,{title:"Close search",children:l(v,{size:"small",onClick:()=>{D(!1),N(!1)},children:l(C,{sx:{fontSize:"inherit"},wrap:!1,icon:"arrowBack"})})}),endAdornment:p.length>0&&l(w,{title:"Clear",children:l(v,{size:"small",onClick:()=>{var a;x(""),(a=k.current)==null||a.focus()},children:l(C,{sx:{fontSize:"inherit"},wrap:!1,icon:"close"})})})},type:"text",placeholder:"Find values",value:p,ref:k,onChange:a=>{x(a.target.value)}}),!h&&i("div",{className:"EnumFacetFilter__checkAll",children:[l(V,{className:"EnumFacetFilter__checkbox",onChange:()=>{t||F()},checked:t,label:"All",isSelectAll:!0},"select_all"),l(w,{title:"Search",children:l(v,{size:"small",className:"EnumFacetFilter__searchbtn",onClick:()=>{var a;x(""),D(!0),(a=k.current)==null||a.focus()},children:l(C,{sx:{fontSize:"inherit"},wrap:!1,icon:"search"})})})]})]}),i("div",{children:[f.map((a,Z)=>{const{isSelected:G,displayText:X,value:b,count:J}=a;return l(A,{id:[R(m),R(b),Z].join("-"),label:X,count:J,isDropdown:y,checked:G,onChange:K=>{K?s(b):d(b)}},b)}),!y&&i(S,{children:[$&&l("button",{className:"EnumFacetFilter__showMoreFacetsBtn",onClick:()=>N(!0),children:l("div",{className:"EnumFacetFilter__checkboxContainer",children:i("div",{className:"EnumFacetFilter__showMoreFacetsLabel",children:["Show all (",n.length,")"]})})}),j&&l("button",{className:"EnumFacetFilter__showMoreFacetsBtn",onClick:()=>N(!1),children:l("div",{className:"EnumFacetFilter__checkboxContainer",children:l("div",{className:"EnumFacetFilter__showMoreFacetsLabel",children:"Show less"})})})]}),f.length<=0&&l("div",{className:"EnumFacetFilter__noMatch",children:"No match found"})]})]}),W=u.useMemo(()=>t?"All":!t&&f.filter(a=>a.isSelected).length===1?f.filter(a=>a.isSelected)[0].value:"Multiple Values Selected",[t,f]);return y?l(M,{dropdownType:o,menuText:W,hasSelection:!t,children:L}):i(S,{children:[l(q,{hideCollapsible:r,isCollapsed:H,label:m,onClick:a=>U(a)}),l(te,{className:"EnumFacetFilter",in:!H,children:L})]})}try{z.displayName="EnumFacetFilterUI",z.__docgenInfo={description:"",displayName:"EnumFacetFilterUI",props:{facetTitle:{defaultValue:null,description:"",name:"facetTitle",required:!0,type:{name:"string"}},facetValues:{defaultValue:null,description:"",name:"facetValues",required:!0,type:{name:"RenderedFacetValue[]"}},allIsSelected:{defaultValue:null,description:"",name:"allIsSelected",required:!0,type:{name:"boolean"}},containerAs:{defaultValue:null,description:"",name:"containerAs",required:!1,type:{name:"enum",value:[{value:'"Collapsible"'},{value:'"Dropdown"'}]}},dropdownType:{defaultValue:null,description:"",name:"dropdownType",required:!1,type:{name:"enum",value:[{value:'"Icon"'},{value:'"SelectBox"'}]}},hideCollapsible:{defaultValue:null,description:"",name:"hideCollapsible",required:!1,type:{name:"boolean"}},onAddValueToSelection:{defaultValue:null,description:"",name:"onAddValueToSelection",required:!0,type:{name:"(value: string) => void"}},onRemoveValueFromSelection:{defaultValue:null,description:"",name:"onRemoveValueFromSelection",required:!0,type:{name:"(value: string) => void"}},onRemoveAllFacetSelections:{defaultValue:null,description:"",name:"onRemoveAllFacetSelections",required:!0,type:{name:"() => void"}}}}}catch{}export{V as C,z as E,q as F};
//# sourceMappingURL=EnumFacetFilterUI-03560d22.js.map
