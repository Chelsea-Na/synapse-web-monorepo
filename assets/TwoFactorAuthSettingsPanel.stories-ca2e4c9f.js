import{a as n,j as o}from"./jsx-runtime-670450c2.js";import{d as u}from"./ToastMessage-b13d8c31.js";import{I as v}from"./IconSvg-824f6a4b.js";import{u as B,a as F,T as k}from"./TwoFactorEnrollmentForm-7626dd6c.js";import{C as s}from"./ConditionalWrapper-1e5f9ce7.js";import{B as x}from"./Box-594c815a.js";import{T as a}from"./Typography-08c96b57.js";import{S as d}from"./Skeleton-a37358a5.js";import{S}from"./Stack-08f0cf16.js";import{B as l}from"./Button-aba6c75a.js";import{P as C}from"./Paper-8468d701.js";import"./index-f1f749bf.js";import"./_commonjsHelpers-042e6b4d.js";import"./FullWidthAlert-eae4e824.js";import"./Alert-84d62a08.js";import"./extends-98964cd2.js";import"./objectWithoutPropertiesLoose-4f48578a.js";import"./Button-7d415009.js";import"./hook-c05d8d9f.js";import"./createWithBsPrefix-e09f51dd.js";import"./divWithClassName-1aeead00.js";import"./inheritsLoose-d541526f.js";import"./setPrototypeOf-0bb37fbe.js";import"./index-96c5f47c.js";import"./index-4d501b15.js";import"./Clear-9ea9f276.js";import"./styled-e850f5df.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-eaaa54fe.js";import"./useTheme-7c6dd2ec.js";import"./isHostComponent-fa76b8d9.js";import"./useForkRef-dd8a6e5c.js";import"./TransitionGroupContext-a2b6e27b.js";import"./assertThisInitialized-081f9914.js";import"./removeClass-164fd327.js";import"./hasClass-ec9efd32.js";import"./uniqueId-4d05949d.js";import"./toString-cc90cb98.js";import"./isArray-5e3f9107.js";import"./isSymbol-7c514724.js";import"./SvgIcon-9f9d57bc.js";import"./LeftRightPanel-4fc33ff1.js";import"./SynapseContext-e01af63a.js";import"./Fade-009a714e.js";import"./getEndpoint-5374ab4d.js";import"./SynapseConstants-41b9b1f3.js";import"./TextField-1e3f4f82.js";import"./FormControl-68ae12c3.js";import"./ownerWindow-12ded16b.js";import"./emotion-react.browser.esm-3f82de74.js";import"./LoadingScreen-6ad0fb74.js";import"./Modal-6ffa84ac.js";import"./contains-33365353.js";import"./useWillUnmount-7fb15b8a.js";import"./usePrevious-9f30f8c7.js";import"./useWaitForDOMRef-54076dc2.js";import"./useMutation-fcfdab6b.js";import"./DialogContent-852d9b9d.js";import"./Modal-6da831aa.js";import"./getScrollbarSize-ac846fe6.js";import"./DialogTitle-2a9c1954.js";import"./IconButton-57733380.js";import"./ButtonBase-3cfd5227.js";import"./Link-0ed36969.js";import"./Divider-625f3695.js";import"./extendSxProp-0daf9b06.js";function m(e){const{onRegenerateBackupCodes:w,onBeginTwoFactorEnrollment:y}=e,{data:t,isLoading:c}=B(),r=(t==null?void 0:t.status)==="ENABLED",{mutate:A,isLoading:T}=F({onSuccess:()=>{u("2FA removed from this account","info")}}),i=c||T;return n(x,{children:[o(a,{variant:"headline2",children:"Two-factor Authentication (2FA)"}),o(s,{condition:i,wrapper:d,children:n(a,{variant:"body1",color:r?"success.main":"error.main",sx:{my:2,display:"flex",alignItems:"center"},children:[o(v,{icon:r?"check":"cross",sx:{mr:1,height:"24px"}}),i?"Loading...":r?"Active":"Inactive"]})}),o(a,{variant:"body1Italic",sx:{my:1},children:"Required to satisfy certain data access requirements, and recommended for overall account security."}),o(a,{variant:"body1",sx:{my:2},children:"Synapse uses a time-based system, which you can set up using an app like Google Authenticator, Duo Mobile, Microsoft Authenticator, or Authy. Certain data may require 2FA to be turned on for your account in order to request access."}),n(S,{direction:"row",gap:1,children:[o(s,{condition:c,wrapper:d,children:n(l,{variant:"outlined",disabled:i,onClick:()=>{r?A():y()},children:[r?"Deactivate":"Activate"," 2FA"]})}),(t==null?void 0:t.status)!=="DISABLED"&&o(s,{condition:c,wrapper:d,children:o(l,{variant:"text",disabled:i,onClick:()=>{w()},children:"Regenerate Backup Codes"})}),o(l,{variant:"text",onClick:()=>window.open(k,"_blank"),children:"More Information"})]})]})}try{m.displayName="TwoFactorAuthSettingsPanel",m.__docgenInfo={description:"",displayName:"TwoFactorAuthSettingsPanel",props:{onRegenerateBackupCodes:{defaultValue:null,description:"",name:"onRegenerateBackupCodes",required:!0,type:{name:"() => void"}},onBeginTwoFactorEnrollment:{defaultValue:null,description:"",name:"onBeginTwoFactorEnrollment",required:!0,type:{name:"() => void"}}}}}catch{}const jo={title:"Authentication/TwoFactorSettingsPanel",component:m,render:e=>o(C,{sx:{p:7,mx:"auto",width:"720px"},children:o(m,{...e})})},p={args:{onBeginTwoFactorEnrollment:()=>{u("In-app, you would now redirect to the two-factor enrollment page","info")},onRegenerateBackupCodes:()=>{u("In-app, you would now redirect to the backup codes page","info")}}};var g,h,f;p.parameters={...p.parameters,docs:{...(g=p.parameters)==null?void 0:g.docs,source:{originalSource:`{
  args: {
    onBeginTwoFactorEnrollment: () => {
      displayToast('In-app, you would now redirect to the two-factor enrollment page', 'info');
    },
    onRegenerateBackupCodes: () => {
      displayToast('In-app, you would now redirect to the backup codes page', 'info');
    }
  }
}`,...(f=(h=p.parameters)==null?void 0:h.docs)==null?void 0:f.source}}};const Go=["Demo"];export{p as Demo,Go as __namedExportsOrder,jo as default};
//# sourceMappingURL=TwoFactorAuthSettingsPanel.stories-ca2e4c9f.js.map
