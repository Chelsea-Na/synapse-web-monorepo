import{a as Re,_ as k}from"./objectWithoutPropertiesLoose-df62547b.js";import{u as De,c as G}from"./Button-dd6fc6af.js";import{a as Be,o as ve,u as x,l as Pe,c as He,r as Le,b as Ve}from"./createWithBsPrefix-9409c681.js";import{a as Xe,c as $e,u as Ye}from"./contains-33365353.js";import{u as Ke}from"./useWillUnmount-7fb15b8a.js";import{s as U,C as qe,d as Je,F as ze,t as Qe}from"./divWithClassName-ed69a318.js";import{r as m,R as u}from"./index-f1f749bf.js";import{_ as Ze}from"./extends-98964cd2.js";import{_ as _e}from"./objectWithoutPropertiesLoose-4f48578a.js";import{p as d}from"./index-4d501b15.js";import{R as en}from"./index-96c5f47c.js";import{u as nn,q as R}from"./usePrevious-9f30f8c7.js";import{a as on,r as tn}from"./removeClass-164fd327.js";import{u as an}from"./useWaitForDOMRef-30f94d40.js";import{_ as rn}from"./inheritsLoose-54b40604.js";var fe;function me(e){if((!fe&&fe!==0||e)&&Be){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),fe=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return fe}function Me(e){e===void 0&&(e=ve());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function sn(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function Fe(e){return"window"in e&&e.window===e?e:sn(e)&&e.defaultView||!1}function ln(e){return e&&e.tagName.toLowerCase()==="body"}function dn(e){var t=Fe(e)?ve():ve(e),a=Fe(e)||t.defaultView;return t.body.clientWidth<a.innerWidth}function cn(e){var t=Fe(e);return t||ln(e)?dn(e):e.scrollHeight>e.clientHeight}var un=["template","script","style"],fn=function(t){var a=t.nodeType,n=t.tagName;return a===1&&un.indexOf(n.toLowerCase())===-1},We=function(t,a,n){[].forEach.call(t.children,function(o){a.indexOf(o)===-1&&fn(o)&&n(o)})};function he(e,t){t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))}function vn(e,t){var a=t.dialog,n=t.backdrop;We(e,[a,n],function(o){return he(!0,o)})}function mn(e,t){var a=t.dialog,n=t.backdrop;We(e,[a,n],function(o){return he(!1,o)})}function hn(e,t){var a=-1;return e.some(function(n,o){return t(n,o)?(a=o,!0):!1}),a}var pe=function(){function e(a){var n=a===void 0?{}:a,o=n.hideSiblingNodes,r=o===void 0?!0:o,i=n.handleContainerOverflow,s=i===void 0?!0:i;this.hideSiblingNodes=void 0,this.handleContainerOverflow=void 0,this.modals=void 0,this.containers=void 0,this.data=void 0,this.scrollbarSize=void 0,this.hideSiblingNodes=r,this.handleContainerOverflow=s,this.modals=[],this.containers=[],this.data=[],this.scrollbarSize=me()}var t=e.prototype;return t.isContainerOverflowing=function(n){var o=this.data[this.containerIndexFromModal(n)];return o&&o.overflowing},t.containerIndexFromModal=function(n){return hn(this.data,function(o){return o.modals.indexOf(n)!==-1})},t.setContainerStyle=function(n,o){var r={overflow:"hidden"};n.style={overflow:o.style.overflow,paddingRight:o.style.paddingRight},n.overflowing&&(r.paddingRight=parseInt(U(o,"paddingRight")||"0",10)+this.scrollbarSize+"px"),U(o,r)},t.removeContainerStyle=function(n,o){Object.assign(o.style,n.style)},t.add=function(n,o,r){var i=this.modals.indexOf(n),s=this.containers.indexOf(o);if(i!==-1)return i;if(i=this.modals.length,this.modals.push(n),this.hideSiblingNodes&&vn(o,n),s!==-1)return this.data[s].modals.push(n),i;var f={modals:[n],classes:r?r.split(/\s+/):[],overflowing:cn(o)};return this.handleContainerOverflow&&this.setContainerStyle(f,o),f.classes.forEach(on.bind(null,o)),this.containers.push(o),this.data.push(f),i},t.remove=function(n){var o=this.modals.indexOf(n);if(o!==-1){var r=this.containerIndexFromModal(n),i=this.data[r],s=this.containers[r];if(i.modals.splice(i.modals.indexOf(n),1),this.modals.splice(o,1),i.modals.length===0)i.classes.forEach(tn.bind(null,s)),this.handleContainerOverflow&&this.removeContainerStyle(i,s),this.hideSiblingNodes&&mn(s,n),this.containers.splice(r,1),this.data.splice(r,1);else if(this.hideSiblingNodes){var f=i.modals[i.modals.length-1],g=f.backdrop,p=f.dialog;he(!1,p),he(!1,g)}}},t.isTopModal=function(n){return!!this.modals.length&&this.modals[this.modals.length-1]===n},e}(),Oe;function pn(){return Oe||(Oe=new pe),Oe}function gn(e){var t=e||pn(),a=m.useRef({dialog:null,backdrop:null});return Object.assign(a.current,{add:function(o,r){return t.add(a.current,o,r)},remove:function(){return t.remove(a.current)},isTopModal:function(){return t.isTopModal(a.current)},setDialogRef:m.useCallback(function(n){a.current.dialog=n},[]),setBackdropRef:m.useCallback(function(n){a.current.backdrop=n},[])})}var Ie=m.forwardRef(function(e,t){var a=e.show,n=a===void 0?!1:a,o=e.role,r=o===void 0?"dialog":o,i=e.className,s=e.style,f=e.children,g=e.backdrop,p=g===void 0?!0:g,V=e.keyboard,ge=V===void 0?!0:V,C=e.onBackdropClick,N=e.onEscapeKeyDown,B=e.transition,X=e.backdropTransition,Y=e.autoFocus,O=Y===void 0?!0:Y,q=e.enforceFocus,be=q===void 0?!0:q,J=e.restoreFocus,Ee=J===void 0?!0:J,ye=e.restoreFocusOptions,Q=e.renderDialog,H=e.renderBackdrop,Ce=H===void 0?function(c){return u.createElement("div",c)}:H,Z=e.manager,_=e.container,ee=e.containerClassName,I=e.onShow,A=e.onHide,ne=A===void 0?function(){}:A,oe=e.onExit,te=e.onExited,we=e.onExiting,ae=e.onEnter,xe=e.onEntering,re=e.onEntered,P=_e(e,["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","containerClassName","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"]),y=an(_),v=gn(Z),ie=Xe(),b=nn(n),se=m.useState(!n),w=se[0],L=se[1],S=m.useRef(null);m.useImperativeHandle(t,function(){return v},[v]),Be&&!b&&n&&(S.current=Me()),!B&&!n&&!w?L(!0):n&&w&&L(!1);var $=x(function(){if(v.add(y,ee),z.current=Pe(document,"keydown",le),K.current=Pe(document,"focus",function(){return setTimeout(ke)},!0),I&&I(),O){var c=Me(document);v.dialog&&c&&!$e(v.dialog,c)&&(S.current=c,v.dialog.focus())}}),M=x(function(){if(v.remove(),z.current==null||z.current(),K.current==null||K.current(),Ee){var c;(c=S.current)==null||c.focus==null||c.focus(ye),S.current=null}});m.useEffect(function(){!n||!y||$()},[n,y,$]),m.useEffect(function(){w&&M()},[w,M]),Ke(function(){M()});var ke=x(function(){if(!(!be||!ie()||!v.isTopModal())){var c=Me();v.dialog&&c&&!$e(v.dialog,c)&&v.dialog.focus()}}),Ne=x(function(c){c.target===c.currentTarget&&(C==null||C(c),p===!0&&ne())}),le=x(function(c){ge&&c.keyCode===27&&v.isTopModal()&&(N==null||N(c),c.defaultPrevented||ne())}),K=m.useRef(),z=m.useRef(),Se=function(){L(!0);for(var ue=arguments.length,h=new Array(ue),l=0;l<ue;l++)h[l]=arguments[l];te==null||te.apply(void 0,h)},W=B;if(!y||!(n||W&&!w))return null;var de=Ze({role:r,ref:v.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},P,{style:s,className:i,tabIndex:-1}),j=Q?Q(de):u.createElement("div",de,u.cloneElement(f,{role:"document"}));W&&(j=u.createElement(W,{appear:!0,unmountOnExit:!0,in:!!n,onExit:oe,onExiting:we,onExited:Se,onEnter:ae,onEntering:xe,onEntered:re},j));var T=null;if(p){var ce=X;T=Ce({ref:v.setBackdropRef,onClick:Ne}),ce&&(T=u.createElement(ce,{appear:!0,in:!!n},T))}return u.createElement(u.Fragment,null,en.createPortal(u.createElement(u.Fragment,null,T,j),y))}),bn={show:d.bool,container:d.any,onShow:d.func,onHide:d.func,backdrop:d.oneOfType([d.bool,d.oneOf(["static"])]),renderDialog:d.func,renderBackdrop:d.func,onEscapeKeyDown:d.func,onBackdropClick:d.func,containerClassName:d.string,keyboard:d.bool,transition:d.elementType,backdropTransition:d.elementType,autoFocus:d.bool,enforceFocus:d.bool,restoreFocus:d.bool,restoreFocusOptions:d.shape({preventScroll:d.bool}),onEnter:d.func,onEntering:d.func,onEntered:d.func,onExit:d.func,onExiting:d.func,onExited:d.func,manager:d.instanceOf(pe)};Ie.displayName="Modal";Ie.propTypes=bn;const En=Object.assign(Ie,{Manager:pe});var D={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"},yn=function(e){rn(t,e);function t(){return e.apply(this,arguments)||this}var a=t.prototype;return a.adjustAndStore=function(o,r,i){var s,f=r.style[o];r.dataset[o]=f,U(r,(s={},s[o]=parseFloat(U(r,o))+i+"px",s))},a.restore=function(o,r){var i=r.dataset[o];if(i!==void 0){var s;delete r.dataset[o],U(r,(s={},s[o]=i,s))}},a.setContainerStyle=function(o,r){var i=this;if(e.prototype.setContainerStyle.call(this,o,r),!!o.overflowing){var s=me();R(r,D.FIXED_CONTENT).forEach(function(f){return i.adjustAndStore("paddingRight",f,s)}),R(r,D.STICKY_CONTENT).forEach(function(f){return i.adjustAndStore("marginRight",f,-s)}),R(r,D.NAVBAR_TOGGLER).forEach(function(f){return i.adjustAndStore("marginRight",f,s)})}},a.removeContainerStyle=function(o,r){var i=this;e.prototype.removeContainerStyle.call(this,o,r),R(r,D.FIXED_CONTENT).forEach(function(s){return i.restore("paddingRight",s)}),R(r,D.STICKY_CONTENT).forEach(function(s){return i.restore("marginRight",s)}),R(r,D.NAVBAR_TOGGLER).forEach(function(s){return i.restore("marginRight",s)})},t}(pe);const Cn=He("modal-body");var wn=u.createContext({onHide:function(){}});const je=wn;var xn=["bsPrefix","className","contentClassName","centered","size","children","scrollable"],Ue=u.forwardRef(function(e,t){var a=e.bsPrefix,n=e.className,o=e.contentClassName,r=e.centered,i=e.size,s=e.children,f=e.scrollable,g=Re(e,xn);a=De(a,"modal");var p=a+"-dialog";return u.createElement("div",k({},g,{ref:t,className:G(p,n,i&&a+"-"+i,r&&p+"-centered",f&&p+"-scrollable")}),u.createElement("div",{className:G(a+"-content",o)},s))});Ue.displayName="ModalDialog";const Ge=Ue,kn=He("modal-footer");var Nn=["bsPrefix","closeLabel","closeButton","onHide","className","children"],Sn={closeLabel:"Close",closeButton:!1},Ae=u.forwardRef(function(e,t){var a=e.bsPrefix,n=e.closeLabel,o=e.closeButton,r=e.onHide,i=e.className,s=e.children,f=Re(e,Nn);a=De(a,"modal-header");var g=m.useContext(je),p=x(function(){g&&g.onHide(),r&&r()});return u.createElement("div",k({ref:t},f,{className:G(i,a)}),s,o&&u.createElement(qe,{label:n,onClick:p}))});Ae.displayName="ModalHeader";Ae.defaultProps=Sn;const Mn=Ae;var On=Je("h4");const Tn=He("modal-title",{Component:On});var Fn=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","aria-describedby","aria-label","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"],Te,Rn={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:Ge};function Dn(e){return u.createElement(ze,k({},e,{timeout:null}))}function Bn(e){return u.createElement(ze,k({},e,{timeout:null}))}var E=u.forwardRef(function(e,t){var a=e.bsPrefix,n=e.className,o=e.style,r=e.dialogClassName,i=e.contentClassName,s=e.children,f=e.dialogAs,g=e["aria-labelledby"],p=e["aria-describedby"],V=e["aria-label"],ge=e.show,C=e.animation,N=e.backdrop,B=e.keyboard,X=e.onEscapeKeyDown,Y=e.onShow,O=e.onHide,q=e.container,be=e.autoFocus,J=e.enforceFocus,Ee=e.restoreFocus,ye=e.restoreFocusOptions,Q=e.onEntered,H=e.onExit,Ce=e.onExiting,Z=e.onEnter,_=e.onEntering,ee=e.onExited,I=e.backdropClassName,A=e.manager,ne=Re(e,Fn),oe=m.useState({}),te=oe[0],we=oe[1],ae=m.useState(!1),xe=ae[0],re=ae[1],P=m.useRef(!1),y=m.useRef(!1),v=m.useRef(null),ie=Ye(),b=ie[0],se=ie[1],w=x(O);a=De(a,"modal"),m.useImperativeHandle(t,function(){return{get _modal(){return b}}},[b]);var L=m.useMemo(function(){return{onHide:w}},[w]);function S(){return A||(Te||(Te=new yn),Te)}function $(h){if(Be){var l=S().isContainerOverflowing(b),F=h.scrollHeight>ve(h).documentElement.clientHeight;we({paddingRight:l&&!F?me():void 0,paddingLeft:!l&&F?me():void 0})}}var M=x(function(){b&&$(b.dialog)});Ke(function(){Le(window,"resize",M),v.current&&v.current()});var ke=function(){P.current=!0},Ne=function(l){P.current&&b&&l.target===b.dialog&&(y.current=!0),P.current=!1},le=function(){re(!0),v.current=Qe(b.dialog,function(){re(!1)})},K=function(l){l.target===l.currentTarget&&le()},z=function(l){if(N==="static"){K(l);return}if(y.current||l.target!==l.currentTarget){y.current=!1;return}O==null||O()},Se=function(l){!B&&N==="static"?(l.preventDefault(),le()):B&&X&&X(l)},W=function(l,F){l&&(l.style.display="block",$(l)),Z==null||Z(l,F)},de=function(l){v.current==null||v.current(),H==null||H(l)},j=function(l,F){_==null||_(l,F),Ve(window,"resize",M)},T=function(l){l&&(l.style.display=""),ee==null||ee(l),Le(window,"resize",M)},ce=m.useCallback(function(h){return u.createElement("div",k({},h,{className:G(a+"-backdrop",I,!C&&"show")}))},[C,I,a]),c=k({},o,te);C||(c.display="block");var ue=function(l){return u.createElement("div",k({role:"dialog"},l,{style:c,className:G(n,a,xe&&a+"-static"),onClick:N?z:void 0,onMouseUp:Ne,"aria-label":V,"aria-labelledby":g,"aria-describedby":p}),u.createElement(f,k({},ne,{onMouseDown:ke,className:r,contentClassName:i}),s))};return u.createElement(je.Provider,{value:L},u.createElement(En,{show:ge,ref:se,backdrop:N,container:q,keyboard:!0,autoFocus:be,enforceFocus:J,restoreFocus:Ee,restoreFocusOptions:ye,onEscapeKeyDown:Se,onShow:Y,onHide:O,onEnter:W,onEntering:j,onEntered:Q,onExit:de,onExiting:Ce,onExited:T,manager:S(),containerClassName:a+"-open",transition:C?Dn:void 0,backdropTransition:C?Bn:void 0,renderBackdrop:ce,renderDialog:ue}))});E.displayName="Modal";E.defaultProps=Rn;E.Body=Cn;E.Header=Mn;E.Title=Tn;E.Footer=kn;E.Dialog=Ge;E.TRANSITION_DURATION=300;E.BACKDROP_TRANSITION_DURATION=150;const qn=E;export{qn as M,Cn as a,kn as b};
//# sourceMappingURL=Modal-dba3e6b3.js.map
