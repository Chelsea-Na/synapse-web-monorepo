var Wi=Object.defineProperty;var Gi=(e,t,r)=>t in e?Wi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var nt=(e,t,r)=>(Gi(e,typeof t!="symbol"?t+"":t,r),r),vr=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var f=(e,t,r)=>(vr(e,t,"read from private field"),r?r.call(e):t.get(e)),b=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},A=(e,t,r,n)=>(vr(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);var zt=(e,t,r,n)=>({set _(s){A(e,t,s,r)},get _(){return f(e,t,n)}}),M=(e,t,r)=>(vr(e,t,"access private method"),r);import{j as L}from"./jsx-runtime-Du8NFWEI.js";import{r as K,g as Es,R as V}from"./index-Dl6G-zuu.js";import{b as Jt,a1 as Yi,G as zi,u as Ji,v as ms,E as Xi,P as Zi,a2 as vs,a3 as eo,a4 as to,a5 as ro,K as zr,T as no,a6 as Ts,a7 as so,a8 as io,e as _,a9 as Ps,aa as Os,ab as Jr,ac as Xr,ad as Zr,ae as en,af as oo,k as _s,ag as Rs,ah as ao,N as uo,y as co,O as dr,F as lo,ai as ho,t as Is,s as fo,J as po,D as go}from"./index-CrI3GNrK.js";import{aA as yo,v as Eo,E as mo,aB as Ir,aC as vo,d as Ss,Z as As,aD as Ns,U as bs,c as Cs,aE as Ds,aF as ws,S as To,K as Xt,aG as Rn}from"./SynapseConstants-fRcr9RXt.js";import{g as Pt,B as u,P as Po}from"./getEndpoint-CjoHA800.js";import{t as fe}from"./tinycolor-Begke6kS.js";import{c as Ls}from"./createSvgIcon-BYNyJbGL.js";import{I as Oo}from"./InfoTwoTone-sybcF8uh.js";import{C as _o}from"./CheckCircleTwoTone-h9GSy5KG.js";import{l as Zt,a as Ro}from"./colorManipulator-CXx1BTzE.js";import{i as Io}from"./inputBaseClasses-DUreQxsm.js";import{F as So}from"./Fade-BNGotgqy.js";import{u as Ao,N as No,_ as Us,T as In,z as bo,p as Co,S as Do}from"./createTheme-CwlmBDro.js";import{_ as ae}from"./emotion-use-insertion-effect-with-fallbacks.browser.esm-Bpxk95mn.js";import{R as wo}from"./index-aEXBT5Ni.js";import{_ as De}from"./inheritsLoose-B7h9gheN.js";import"./OrientationBanner-CPsBxF8o.js";import{d as Sn}from"./dayjs.min-d18Up55D.js";import{d as An}from"./index-DMoHWj5j.js";import{P as Nn}from"./index-BfyspvgH.js";import{i as Ot}from"./tiny-invariant-CopsF_GD.js";import{F as Lo}from"./FullWidthAlert-DFaJ0Nkn.js";import{L as Uo}from"./Link-EkQ0dGSu.js";import{S as Fo}from"./Stack-CkbmjR2j.js";import{B as bn}from"./Box-DRdN2jdb.js";import{B as xo}from"./Button-mb55Lwfk.js";import{g as $o,b as Mo,C as Ko}from"./_getTag-B6zWmB6G.js";import{a as Bo,d as Qo,e as qo,b as ko,h as Vo}from"./_Map-W_LbVzGG.js";import{a as jo}from"./isArray-D3Xc0Edl.js";import{h as Ho}from"./StringUtils-D4kDWP8q.js";const oe=Object.freeze(Object.defineProperty({__proto__:null,get SYNAPSE_STORAGE_LOCATION_ID(){return pi},get acceptFormData(){return _d},get addEmailAddressStep1(){return Dh},get addEmailAddressStep2(){return wh},get addFileBatchToDownloadListV2(){return Ai},get addFileToDownloadListV2(){return Bl},get addFilesToDownloadListV2(){return kl},get addTeamMemberAsAuthenticatedUserOrAdmin(){return gl},get addTeamMemberWithToken(){return pl},get addUserFavorite(){return el},get bindInvitationToAuthenticatedUser(){return Tl},get bindOAuthProviderToAccount(){return Ci},get cancelDataAccessRequest(){return dh},get changePasswordWithCurrentPassword(){return Nh},get changePasswordWithToken(){return bh},get checkUploadComplete(){return fn},get clearDownloadListV2(){return th},get complete2FAEnrollment(){return Nc},get consentToOAuth2Request(){return fd},get createACL(){return Vl},get createAccessApproval(){return Md},get createAccessRequirementAcl(){return Dd},get createColumnModels(){return Cf},get createEntity(){return vi},get createEvaluation(){return Yl},get createEvaluationRound(){return Zl},get createFormData(){return Ed},get createFormGroup(){return pd},get createLockAccessRequirement(){return xd},get createManifestFromDownloadListV2(){return ql},get createMembershipInvitation(){return El},get createMembershipRequest(){return _l},get createOAuthClient(){return ad},get createOAuthClientSecret(){return dd},get createPackageFromDownloadListV2(){return Ql},get createPersonalAccessToken(){return Vd},get createProfileVerificationSubmission(){return Ah},get createProject(){return Cc},get createRecoveryCodes(){return bc},get createTeam(){return ll},get deleteAccessRequirementAcl(){return Cd},get deleteDownloadList(){return qd},get deleteDownloadListFiles(){return Qd},get deleteEmail(){return Lh},get deleteEntity(){return zc},get deleteEvaluation(){return zl},get deleteEvaluationRound(){return td},get deleteFormData(){return vd},get deleteMemberFromTeam(){return Rl},get deleteOAuthClient(){return ud},get deletePersonalAccessToken(){return Hd},get deleteReply(){return Kh},get deleteSubscription(){return Pf},get deleteThread(){return Yh},get disableTwoFactorAuthForCurrentUser(){return Sc},get forumSearch(){return Zh},get getAccessApproval(){return $d},get getAccessRequirement(){return Ad},get getAccessRequirementAcl(){return bd},get getAccessRequirementById(){return Nd},get getAccessRequirementStatus(){return Ud},get getAccessTokenFromCookie(){return Oi},get getActivityForEntity(){return sf},get getActualFileHandleByIdURL(){return vc},get getAllAccessRequirements(){return Fd},get getAllChallengeTeams(){return il},get getAllDownloadListActionsRequired(){return sh},get getAllEntityEvaluations(){return zd},get getAllOfNextPageTokenPaginatedService(){return pn},get getAllOfPaginatedService(){return tt},get getAllOpenMembershipInvitationsForUser(){return yl},get getAllSubscriptions(){return Ef},get getAllSynapseUserGeoData(){return gf},get getAnnotationColumnModels(){return wf},get getApprovedSubmissionInfo(){return nf},get getAsyncResultBodyFromJobId(){return _e},get getAsyncResultFromJobId(){return cn},get getAuthenticatedOn(){return hd},get getAvailableFilesToDownload(){return rh},get getBulkFiles(){return kc},get getCertifyQuiz(){return lf},get getChallengeTeams(){return sl},get getCurrentUserTwoFactorEnrollmentStatus(){return Ic},get getDOIAssociation(){return If},get getDataAccessRequestForUpdate(){return uh},get getDefaultColumnModels(){return Df},get getDefaultUploadDestination(){return _f},get getDockerTag(){return Nf},get getDownloadFromTableRequest(){return mc},get getDownloadList(){return Kd},get getDownloadListActionsRequired(){return Ni},get getDownloadListStatistics(){return nh},get getDownloadOrder(){return Bd},get getEntity(){return Vc},get getEntityACL(){return Yd},get getEntityAlias(){return Hc},get getEntityBundleV2(){return Jc},get getEntityChallenge(){return cl},get getEntityChildren(){return Qc},get getEntityDownloadActionsRequired(){return Af},get getEntityHeader(){return Wc},get getEntityHeaders(){return ln},get getEntityHeadersByIds(){return jc},get getEntityJson(){return vh},get getEntityPath(){return Xd},get getEntityPermissions(){return Jd},get getEntityVersions(){return Zd},get getEntityWiki(){return Xc},get getEvaluation(){return Wl},get getEvaluationPermissions(){return Hl},get getEvaluationRound(){return Jl},get getEvaluationRoundsList(){return Xl},get getEvaluationSubmissions(){return rd},get getEvaluations(){return Kc},get getFileHandleById(){return yi},get getFileHandleByIdURL(){return Ei},get getFileHandleContent(){return Si},get getFileHandleContentFromID(){return Ml},get getFileResult(){return Kl},get getFiles(){return Ti},get getFormACL(){return gd},get getForum(){return Fh},get getForumMetadata(){return Xh},get getForumThreads(){return ef},get getFullQueryTableResults(){return Pc},get getGoogleMapsApiKey(){return pf},get getGroupHeadersBatch(){return Mc},get getInviteeVerificationSignedToken(){return vl},get getIsUserMemberOfTeam(){return Pl},get getItemsInTrashCan(){return af},get getMembershipInvitation(){return ml},get getMembershipStatus(){return Ol},get getModerators(){return Jh},get getMyProjects(){return Wd},get getMyUserBundle(){return Uc},get getNotificationEmail(){return Ph},get getOAuth2(){return od},get getOAuth2Client(){return id},get getOAuth2RequestDescription(){return nd},get getOpenMembershipInvitationsForUser(){return Pi},get getPassingRecord(){return nl},get getPersonalAccessTokenRecords(){return jd},get getPortalFileHandleServletUrl(){return Sf},get getPresignedUrlForWikiAttachment(){return Dl},get getPrincipalAliasRequest(){return Ul},get getProfilePicPreviewPresignedUrl(){return of},get getProjectStatistics(){return Id},get getQueryTableAsyncJobResults(){return Tc},get getQueryTableResults(){return Qr},get getReplies(){return Bh},get getReply(){return xh},get getReplyMessageUrl(){return Qh},get getResearchProject(){return ah},get getRestrictionInformation(){return Sd},get getRootURL(){return gi},get getSchema(){return yh},get getSchemaBinding(){return ph},get getSchemaValidationResults(){return gh},get getSubjects(){return bf},get getSubmissionById(){return hh},get getSubmissionEligibility(){return al},get getSubmissionTeams(){return ol},get getSubscribers(){return vf},get getSubscription(){return mf},get getSynapseTeamGeoData(){return yf},get getTeam(){return Il},get getTeamAccessRequirements(){return hl},get getTeamList(){return Sl},get getTeamMembers(){return fl},get getThread(){return Vh},get getThreadMessageUrl(){return jh},get getUploadDestinationForStorageLocation(){return Rf},get getUseUtcTimeFromCookie(){return Ll},get getUserBundle(){return Lc},get getUserChallenges(){return rl},get getUserFavorites(){return Zc},get getUserGroupHeaders(){return xc},get getUserProfile(){return Dc},get getUserProfileById(){return wc},get getUserProfiles(){return Bc},get getUserProjects(){return Gd},get getUserTeamList(){return dl},get getValidationSchema(){return Eh},get getVersion(){return yc},get getWikiAttachmentsFromEntity(){return bl},get getWikiAttachmentsFromEvaluation(){return Cl},get getWikiPageKeyForAccessRequirement(){return Nl},get getWikiPageKeyForEntity(){return Al},get hasAccessToEntity(){return mh},get hasUserAuthorizedOAuthClient(){return sd},get isAliasAvailable(){return Oh},get isInSynapseExperimentalMode(){return wl},get isOAuthClientReverificationRequired(){return ld},get listFormData(){return Pd},get listFormDataAsFormAdmin(){return Od},get login(){return Oc},get loginWith2fa(){return _c},get lookupChildEntity(){return qc},get oAuthRegisterAccountStep2(){return bi},get oAuthSessionRequest(){return mi},get oAuthUrlRequest(){return Rc},get pinThread(){return qh},get postCertifiedUserTestResponse(){return df},get postReply(){return $h},get postSubscription(){return Tf},get postSubscriptionList(){return Of},get postThread(){return Hh},get postUserGroupHeadersWithAlias(){return $c},get purgeFromTrashCan(){return cf},get putReply(){return Mh},get putThreadMessage(){return Gh},get putThreadTitle(){return Wh},get registerAccountStep1(){return _h},get registerAccountStep2(){return Rh},get registerChallengeTeam(){return ul},get rejectFormData(){return Rd},get removeItemFromDownloadListV2(){return ih},get removeUserFavorite(){return tl},get resetPassword(){return Ch},get restoreFromTrashCan(){return uf},get restoreThread(){return zh},get searchAccessApprovals(){return tf},get searchAccessRequirements(){return Ld},get searchAccessSubmission(){return rf},get searchEntities(){return eh},get setAccessTokenCookie(){return hn},get signOut(){return Fl},get signSynapseTermsOfUse(){return Sh},get start2FAEnrollment(){return Ac},get startMultipartUpload(){return Ii},get submitDataAccessRequest(){return lh},get submitFormData(){return Td},get submitToEvaluation(){return jl},get unPinThread(){return kh},get unbindOAuthProviderToAccount(){return Ih},get updateAccessRequirementAcl(){return wd},get updateDataAccessRequest(){return ch},get updateEntity(){return Yc},get updateEntityACL(){return Gc},get updateEntityJson(){return Th},get updateEvaluation(){return Gl},get updateEvaluationRound(){return ed},get updateFormACL(){return yd},get updateFormData(){return md},get updateMyUserProfile(){return Fc},get updateNotificationEmail(){return Uh},get updateOAuthClient(){return cd},get updateResearchProject(){return oh},get updateSubmissionStatus(){return fh},get updateTable(){return kd},get uploadFile(){return xl},get validateDefiningSql(){return Ec}},Symbol.toStringTag,{value:"Module"})),Wo=K.createContext(null),Fs=Wo;function xs(){return K.useContext(Fs)}const Go=typeof Symbol=="function"&&Symbol.for,Yo=Go?Symbol.for("mui.nested"):"__THEME_NESTED__";function zo(e,t){return typeof t=="function"?t(e):ae({},e,t)}function Jo(e){const{children:t,theme:r}=e,n=xs(),s=K.useMemo(()=>{const i=n===null?r:zo(n,r);return i!=null&&(i[Yo]=n!==null),i},[r,n]);return L.jsx(Fs.Provider,{value:s,children:t})}const Cn={};function Dn(e,t,r,n=!1){return K.useMemo(()=>{const s=e&&t[e]||t;if(typeof r=="function"){const i=r(s),c=e?ae({},t,{[e]:i}):i;return n?()=>c:c}return e?ae({},t,{[e]:r}):ae({},t,r)},[e,t,r,n])}function Xo(e){const{children:t,theme:r,themeId:n}=e,s=Ao(Cn),i=xs()||Cn,c=Dn(n,s,r),l=Dn(n,i,r,!0),m=c.direction==="rtl";return L.jsx(Jo,{theme:l,children:L.jsx(No.Provider,{value:c,children:L.jsx(wo,{value:m,children:t})})})}const Zo=["theme"];function ea(e){let{theme:t}=e,r=Us(e,Zo);const n=t[In];return L.jsx(Xo,ae({},r,{themeId:n?In:void 0,theme:n||t}))}var ta="[object Map]",ra="[object Set]",na=Object.prototype,sa=na.hasOwnProperty;function ia(e){if(e==null)return!0;if(Bo(e)&&(jo(e)||typeof e=="string"||typeof e.splice=="function"||Qo(e)||qo(e)||ko(e)))return!e.length;var t=$o(e);if(t==ta||t==ra)return!e.size;if(Vo(e))return!Mo(e).length;for(var r in e)if(sa.call(e,r))return!1;return!0}const oa=Ls([L.jsx("path",{d:"M12 4c-4.42 0-8 3.58-8 8s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8m1 13h-2v-2h2zm0-4h-2V7h2z",opacity:".3"},"0"),L.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m-1-5h2v2h-2zm0-8h2v6h-2z"},"1")],"ErrorTwoTone"),aa=Ls([L.jsx("path",{d:"M12 4c-4.41 0-8 3.59-8 8s3.59 8 8 8 8-3.59 8-8-3.59-8-8-8m4 10.59L14.59 16 12 13.41 9.41 16 8 14.59 10.59 12 8 9.41 9.41 8 12 10.59 14.59 8 16 9.41 13.41 12z",opacity:".3"},"0"),L.jsx("path",{d:"M14.59 8 12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"},"1")],"HighlightOffTwoTone");var Gt=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Tt=typeof window>"u"||"Deno"in window;function me(){}function ua(e,t){return typeof e=="function"?e(t):e}function Sr(e){return typeof e=="number"&&e>=0&&e!==1/0}function $s(e,t){return Math.max(e+(t||0)-Date.now(),0)}function wn(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:c,stale:l}=e;if(c){if(n){if(t.queryHash!==tn(c,t.options))return!1}else if(!Lt(t.queryKey,c))return!1}if(r!=="all"){const m=t.isActive();if(r==="active"&&!m||r==="inactive"&&m)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||typeof s<"u"&&s!==t.state.fetchStatus||i&&!i(t))}function Ln(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(wt(t.options.mutationKey)!==wt(i))return!1}else if(!Lt(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function tn(e,t){return((t==null?void 0:t.queryKeyHashFn)||wt)(e)}function wt(e){return JSON.stringify(e,(t,r)=>Nr(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Lt(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Lt(e[r],t[r])):!1}function Ms(e,t){if(e===t)return e;const r=Un(e)&&Un(t);if(r||Nr(e)&&Nr(t)){const n=r?e:Object.keys(e),s=n.length,i=r?t:Object.keys(t),c=i.length,l=r?[]:{};let m=0;for(let g=0;g<c;g++){const E=r?g:i[g];!r&&e[E]===void 0&&t[E]===void 0&&n.includes(E)?(l[E]=void 0,m++):(l[E]=Ms(e[E],t[E]),l[E]===e[E]&&e[E]!==void 0&&m++)}return s===c&&m===s?e:l}return t}function Ar(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Un(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Nr(e){if(!Fn(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const r=t.prototype;return!(!Fn(r)||!r.hasOwnProperty("isPrototypeOf"))}function Fn(e){return Object.prototype.toString.call(e)==="[object Object]"}function ca(e){return new Promise(t=>{setTimeout(t,e)})}function br(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Ms(e,t):t}function la(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function da(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var He,Fe,it,us,ha=(us=class extends Gt{constructor(){super();b(this,He,void 0);b(this,Fe,void 0);b(this,it,void 0);A(this,it,t=>{if(!Tt&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){f(this,Fe)||this.setEventListener(f(this,it))}onUnsubscribe(){var t;this.hasListeners()||((t=f(this,Fe))==null||t.call(this),A(this,Fe,void 0))}setEventListener(t){var r;A(this,it,t),(r=f(this,Fe))==null||r.call(this),A(this,Fe,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){f(this,He)!==t&&(A(this,He,t),this.onFocus())}onFocus(){this.listeners.forEach(t=>{t()})}isFocused(){var t;return typeof f(this,He)=="boolean"?f(this,He):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},He=new WeakMap,Fe=new WeakMap,it=new WeakMap,us),ir=new ha,ot,xe,at,cs,fa=(cs=class extends Gt{constructor(){super();b(this,ot,!0);b(this,xe,void 0);b(this,at,void 0);A(this,at,t=>{if(!Tt&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){f(this,xe)||this.setEventListener(f(this,at))}onUnsubscribe(){var t;this.hasListeners()||((t=f(this,xe))==null||t.call(this),A(this,xe,void 0))}setEventListener(t){var r;A(this,at,t),(r=f(this,xe))==null||r.call(this),A(this,xe,t(this.setOnline.bind(this)))}setOnline(t){f(this,ot)!==t&&(A(this,ot,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return f(this,ot)}},ot=new WeakMap,xe=new WeakMap,at=new WeakMap,cs),or=new fa;function pa(e){return Math.min(1e3*2**e,3e4)}function hr(e){return(e??"online")==="online"?or.isOnline():!0}var Ks=class{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Tr(e){return e instanceof Ks}function Bs(e){let t=!1,r=0,n=!1,s,i,c;const l=new Promise((O,p)=>{i=O,c=p}),m=O=>{var p;n||(P(new Ks(O)),(p=e.abort)==null||p.call(e))},g=()=>{t=!0},E=()=>{t=!1},T=()=>!ir.isFocused()||e.networkMode!=="always"&&!or.isOnline(),v=O=>{var p;n||(n=!0,(p=e.onSuccess)==null||p.call(e,O),s==null||s(),i(O))},P=O=>{var p;n||(n=!0,(p=e.onError)==null||p.call(e,O),s==null||s(),c(O))},S=()=>new Promise(O=>{var p;s=y=>{const a=n||!T();return a&&O(y),a},(p=e.onPause)==null||p.call(e)}).then(()=>{var O;s=void 0,n||(O=e.onContinue)==null||O.call(e)}),D=()=>{if(n)return;let O;try{O=e.fn()}catch(p){O=Promise.reject(p)}Promise.resolve(O).then(v).catch(p=>{var d;if(n)return;const y=e.retry??(Tt?0:3),a=e.retryDelay??pa,o=typeof a=="function"?a(r,p):a,h=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,p);if(t||!h){P(p);return}r++,(d=e.onFail)==null||d.call(e,r,p),ca(o).then(()=>{if(T())return S()}).then(()=>{t?P(p):D()})})};return hr(e.networkMode)?D():S().then(D),{promise:l,cancel:m,continue:()=>(s==null?void 0:s())?l:Promise.resolve(),cancelRetry:g,continueRetry:E}}function ga(){let e=[],t=0,r=v=>{v()},n=v=>{v()},s=v=>setTimeout(v,0);const i=v=>{s=v},c=v=>{let P;t++;try{P=v()}finally{t--,t||g()}return P},l=v=>{t?e.push(v):s(()=>{r(v)})},m=v=>(...P)=>{l(()=>{v(...P)})},g=()=>{const v=e;e=[],v.length&&s(()=>{n(()=>{v.forEach(P=>{r(P)})})})};return{batch:c,batchCalls:m,schedule:l,setNotifyFunction:v=>{r=v},setBatchNotifyFunction:v=>{n=v},setScheduler:i}}var Z=ga(),We,ls,Qs=(ls=class{constructor(){b(this,We,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Sr(this.gcTime)&&A(this,We,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Tt?1/0:5*60*1e3))}clearGcTimeout(){f(this,We)&&(clearTimeout(f(this,We)),A(this,We,void 0))}},We=new WeakMap,ls),ut,ct,ge,$e,ye,J,xt,Ge,lt,rr,Pe,Ce,ds,ya=(ds=class extends Qs{constructor(t){super();b(this,lt);b(this,Pe);b(this,ut,void 0);b(this,ct,void 0);b(this,ge,void 0);b(this,$e,void 0);b(this,ye,void 0);b(this,J,void 0);b(this,xt,void 0);b(this,Ge,void 0);A(this,Ge,!1),A(this,xt,t.defaultOptions),M(this,lt,rr).call(this,t.options),A(this,J,[]),A(this,ge,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,A(this,ut,t.state||Ea(this.options)),this.state=f(this,ut),this.scheduleGc()}get meta(){return this.options.meta}optionalRemove(){!f(this,J).length&&this.state.fetchStatus==="idle"&&f(this,ge).remove(this)}setData(t,r){const n=br(this.state.data,t,this.options);return M(this,Pe,Ce).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){M(this,Pe,Ce).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n;const r=f(this,$e);return(n=f(this,ye))==null||n.cancel(t),r?r.then(me).catch(me):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(f(this,ut))}isActive(){return f(this,J).some(t=>t.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||f(this,J).some(t=>t.getCurrentResult().isStale)}isStaleByTime(t=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!$s(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=f(this,J).find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=f(this,ye))==null||r.continue()}onOnline(){var r;const t=f(this,J).find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=f(this,ye))==null||r.continue()}addObserver(t){f(this,J).includes(t)||(f(this,J).push(t),this.clearGcTimeout(),f(this,ge).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){f(this,J).includes(t)&&(A(this,J,f(this,J).filter(r=>r!==t)),f(this,J).length||(f(this,ye)&&(f(this,Ge)?f(this,ye).cancel({revert:!0}):f(this,ye).cancelRetry()),this.scheduleGc()),f(this,ge).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return f(this,J).length}invalidate(){this.state.isInvalidated||M(this,Pe,Ce).call(this,{type:"invalidate"})}fetch(t,r){var g,E,T,v;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(f(this,$e))return(g=f(this,ye))==null||g.continueRetry(),f(this,$e)}if(t&&M(this,lt,rr).call(this,t),!this.options.queryFn){const P=f(this,J).find(S=>S.options.queryFn);P&&M(this,lt,rr).call(this,P.options)}const n=new AbortController,s={queryKey:this.queryKey,meta:this.meta},i=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(A(this,Ge,!0),n.signal)})};i(s);const c=()=>this.options.queryFn?(A(this,Ge,!1),this.options.persister?this.options.persister(this.options.queryFn,s,this):this.options.queryFn(s)):Promise.reject(new Error(`Missing queryFn: '${this.options.queryHash}'`)),l={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:c};i(l),(E=this.options.behavior)==null||E.onFetch(l,this),A(this,ct,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((T=l.fetchOptions)==null?void 0:T.meta))&&M(this,Pe,Ce).call(this,{type:"fetch",meta:(v=l.fetchOptions)==null?void 0:v.meta});const m=P=>{var S,D,O,p;Tr(P)&&P.silent||M(this,Pe,Ce).call(this,{type:"error",error:P}),Tr(P)||((D=(S=f(this,ge).config).onError)==null||D.call(S,P,this),(p=(O=f(this,ge).config).onSettled)==null||p.call(O,this.state.data,P,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return A(this,ye,Bs({fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:P=>{var S,D,O,p;if(typeof P>"u"){m(new Error(`${this.queryHash} data is undefined`));return}this.setData(P),(D=(S=f(this,ge).config).onSuccess)==null||D.call(S,P,this),(p=(O=f(this,ge).config).onSettled)==null||p.call(O,P,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:m,onFail:(P,S)=>{M(this,Pe,Ce).call(this,{type:"failed",failureCount:P,error:S})},onPause:()=>{M(this,Pe,Ce).call(this,{type:"pause"})},onContinue:()=>{M(this,Pe,Ce).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode})),A(this,$e,f(this,ye).promise),f(this,$e)}},ut=new WeakMap,ct=new WeakMap,ge=new WeakMap,$e=new WeakMap,ye=new WeakMap,J=new WeakMap,xt=new WeakMap,Ge=new WeakMap,lt=new WeakSet,rr=function(t){this.options={...f(this,xt),...t},this.updateGcTime(this.options.gcTime)},Pe=new WeakSet,Ce=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:t.meta??null,fetchStatus:hr(this.options.networkMode)?"fetching":"paused",...!n.dataUpdatedAt&&{error:null,status:"pending"}};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Tr(s)&&s.revert&&f(this,ct)?{...f(this,ct),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Z.batch(()=>{f(this,J).forEach(n=>{n.onQueryUpdate()}),f(this,ge).notify({query:this,type:"updated",action:t})})},ds);function Ea(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=typeof t<"u",n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ie,hs,ma=(hs=class extends Gt{constructor(t={}){super();b(this,Ie,void 0);this.config=t,A(this,Ie,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??tn(s,r);let c=this.get(i);return c||(c=new ya({cache:this,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(c)),c}add(t){f(this,Ie).has(t.queryHash)||(f(this,Ie).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=f(this,Ie).get(t.queryHash);r&&(t.destroy(),r===t&&f(this,Ie).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Z.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return f(this,Ie).get(t)}getAll(){return[...f(this,Ie).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>wn(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>wn(t,n)):r}notify(t){Z.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Z.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Z.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ie=new WeakMap,hs),Se,$t,le,dt,Ae,Ue,fs,va=(fs=class extends Qs{constructor(t){super();b(this,Ae);b(this,Se,void 0);b(this,$t,void 0);b(this,le,void 0);b(this,dt,void 0);this.mutationId=t.mutationId,A(this,$t,t.defaultOptions),A(this,le,t.mutationCache),A(this,Se,[]),this.state=t.state||Ta(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options={...f(this,$t),...t},this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){f(this,Se).includes(t)||(f(this,Se).push(t),this.clearGcTimeout(),f(this,le).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){A(this,Se,f(this,Se).filter(r=>r!==t)),this.scheduleGc(),f(this,le).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){f(this,Se).length||(this.state.status==="pending"?this.scheduleGc():f(this,le).remove(this))}continue(){var t;return((t=f(this,dt))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,i,c,l,m,g,E,T,v,P,S,D,O,p,y,a,o,h,d,N;const r=()=>(A(this,dt,Bs({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(C,q)=>{M(this,Ae,Ue).call(this,{type:"failed",failureCount:C,error:q})},onPause:()=>{M(this,Ae,Ue).call(this,{type:"pause"})},onContinue:()=>{M(this,Ae,Ue).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode})),f(this,dt).promise),n=this.state.status==="pending";try{if(!n){M(this,Ae,Ue).call(this,{type:"pending",variables:t}),await((i=(s=f(this,le).config).onMutate)==null?void 0:i.call(s,t,this));const q=await((l=(c=this.options).onMutate)==null?void 0:l.call(c,t));q!==this.state.context&&M(this,Ae,Ue).call(this,{type:"pending",context:q,variables:t})}const C=await r();return await((g=(m=f(this,le).config).onSuccess)==null?void 0:g.call(m,C,t,this.state.context,this)),await((T=(E=this.options).onSuccess)==null?void 0:T.call(E,C,t,this.state.context)),await((P=(v=f(this,le).config).onSettled)==null?void 0:P.call(v,C,null,this.state.variables,this.state.context,this)),await((D=(S=this.options).onSettled)==null?void 0:D.call(S,C,null,t,this.state.context)),M(this,Ae,Ue).call(this,{type:"success",data:C}),C}catch(C){try{throw await((p=(O=f(this,le).config).onError)==null?void 0:p.call(O,C,t,this.state.context,this)),await((a=(y=this.options).onError)==null?void 0:a.call(y,C,t,this.state.context)),await((h=(o=f(this,le).config).onSettled)==null?void 0:h.call(o,void 0,C,this.state.variables,this.state.context,this)),await((N=(d=this.options).onSettled)==null?void 0:N.call(d,void 0,C,t,this.state.context)),C}finally{M(this,Ae,Ue).call(this,{type:"error",error:C})}}}},Se=new WeakMap,$t=new WeakMap,le=new WeakMap,dt=new WeakMap,Ae=new WeakSet,Ue=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!hr(this.options.networkMode),status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Z.batch(()=>{f(this,Se).forEach(n=>{n.onMutationUpdate(t)}),f(this,le).notify({mutation:this,type:"updated",action:t})})},fs);function Ta(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ee,Mt,Ye,ps,Pa=(ps=class extends Gt{constructor(t={}){super();b(this,Ee,void 0);b(this,Mt,void 0);b(this,Ye,void 0);this.config=t,A(this,Ee,[]),A(this,Mt,0)}build(t,r,n){const s=new va({mutationCache:this,mutationId:++zt(this,Mt)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){f(this,Ee).push(t),this.notify({type:"added",mutation:t})}remove(t){A(this,Ee,f(this,Ee).filter(r=>r!==t)),this.notify({type:"removed",mutation:t})}clear(){Z.batch(()=>{f(this,Ee).forEach(t=>{this.remove(t)})})}getAll(){return f(this,Ee)}find(t){const r={exact:!0,...t};return f(this,Ee).find(n=>Ln(r,n))}findAll(t={}){return f(this,Ee).filter(r=>Ln(t,r))}notify(t){Z.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){return A(this,Ye,(f(this,Ye)??Promise.resolve()).then(()=>{const t=f(this,Ee).filter(r=>r.state.isPaused);return Z.batch(()=>t.reduce((r,n)=>r.then(()=>n.continue().catch(me)),Promise.resolve()))}).then(()=>{A(this,Ye,void 0)})),f(this,Ye)}},Ee=new WeakMap,Mt=new WeakMap,Ye=new WeakMap,ps);function Oa(e){return{onFetch:(t,r)=>{const n=async()=>{var S,D,O,p,y;const s=t.options,i=(O=(D=(S=t.fetchOptions)==null?void 0:S.meta)==null?void 0:D.fetchMore)==null?void 0:O.direction,c=((p=t.state.data)==null?void 0:p.pages)||[],l=((y=t.state.data)==null?void 0:y.pageParams)||[],m={pages:[],pageParams:[]};let g=!1;const E=a=>{Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},T=t.options.queryFn||(()=>Promise.reject(new Error(`Missing queryFn: '${t.options.queryHash}'`))),v=async(a,o,h)=>{if(g)return Promise.reject();if(o==null&&a.pages.length)return Promise.resolve(a);const d={queryKey:t.queryKey,pageParam:o,direction:h?"backward":"forward",meta:t.options.meta};E(d);const N=await T(d),{maxPages:C}=t.options,q=h?da:la;return{pages:q(a.pages,N,C),pageParams:q(a.pageParams,o,C)}};let P;if(i&&c.length){const a=i==="backward",o=a?qs:Cr,h={pages:c,pageParams:l},d=o(s,h);P=await v(h,d,a)}else{P=await v(m,l[0]??s.initialPageParam);const a=e??c.length;for(let o=1;o<a;o++){const h=Cr(s,P);P=await v(P,h)}}return P};t.options.persister?t.fetchFn=()=>{var s,i;return(i=(s=t.options).persister)==null?void 0:i.call(s,n,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=n}}}function Cr(e,{pages:t,pageParams:r}){const n=t.length-1;return e.getNextPageParam(t[n],t,r[n],r)}function qs(e,{pages:t,pageParams:r}){var n;return(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r)}function cg(e,t){return t?Cr(e,t)!=null:!1}function lg(e,t){return!t||!e.getPreviousPageParam?!1:qs(e,t)!=null}var W,Me,Ke,ht,ft,Be,pt,gt,gs,_a=(gs=class{constructor(e={}){b(this,W,void 0);b(this,Me,void 0);b(this,Ke,void 0);b(this,ht,void 0);b(this,ft,void 0);b(this,Be,void 0);b(this,pt,void 0);b(this,gt,void 0);A(this,W,e.queryCache||new ma),A(this,Me,e.mutationCache||new Pa),A(this,Ke,e.defaultOptions||{}),A(this,ht,new Map),A(this,ft,new Map),A(this,Be,0)}mount(){zt(this,Be)._++,f(this,Be)===1&&(A(this,pt,ir.subscribe(()=>{ir.isFocused()&&(this.resumePausedMutations(),f(this,W).onFocus())})),A(this,gt,or.subscribe(()=>{or.isOnline()&&(this.resumePausedMutations(),f(this,W).onOnline())})))}unmount(){var e,t;zt(this,Be)._--,f(this,Be)===0&&((e=f(this,pt))==null||e.call(this),A(this,pt,void 0),(t=f(this,gt))==null||t.call(this),A(this,gt,void 0))}isFetching(e){return f(this,W).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return f(this,Me).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=f(this,W).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);return t!==void 0?Promise.resolve(t):this.fetchQuery(e)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=f(this,W).get(n.queryHash),i=s==null?void 0:s.state.data,c=ua(t,i);if(!(typeof c>"u"))return f(this,W).build(this,n).setData(c,{...r,manual:!0})}setQueriesData(e,t,r){return Z.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=f(this,W).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=f(this,W);Z.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=f(this,W),n={type:"active",...e};return Z.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=Z.batch(()=>f(this,W).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(me).catch(me)}invalidateQueries(e={},t={}){return Z.batch(()=>{if(f(this,W).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=Z.batch(()=>f(this,W).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(me)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(me)}fetchQuery(e){const t=this.defaultQueryOptions(e);typeof t.retry>"u"&&(t.retry=!1);const r=f(this,W).build(this,t);return r.isStaleByTime(t.staleTime)?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(me).catch(me)}fetchInfiniteQuery(e){return e.behavior=Oa(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(me).catch(me)}resumePausedMutations(){return f(this,Me).resumePausedMutations()}getQueryCache(){return f(this,W)}getMutationCache(){return f(this,Me)}getDefaultOptions(){return f(this,Ke)}setDefaultOptions(e){A(this,Ke,e)}setQueryDefaults(e,t){f(this,ht).set(wt(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...f(this,ht).values()];let r={};return t.forEach(n=>{Lt(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){f(this,ft).set(wt(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...f(this,ft).values()];let r={};return t.forEach(n=>{Lt(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...f(this,Ke).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=tn(t.queryKey,t)),typeof t.refetchOnReconnect>"u"&&(t.refetchOnReconnect=t.networkMode!=="always"),typeof t.throwOnError>"u"&&(t.throwOnError=!!t.suspense),typeof t.networkMode>"u"&&t.persister&&(t.networkMode="offlineFirst"),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...f(this,Ke).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){f(this,W).clear(),f(this,Me).clear()}},W=new WeakMap,Me=new WeakMap,Ke=new WeakMap,ht=new WeakMap,ft=new WeakMap,Be=new WeakMap,pt=new WeakMap,gt=new WeakMap,gs),ie,j,Kt,ne,ze,yt,Ne,Bt,Et,mt,Je,Xe,Qe,vt,Ze,bt,Qt,Dr,qt,wr,kt,Lr,Vt,Ur,jt,Fr,Ht,xr,Wt,$r,lr,ks,ys,Ra=(ys=class extends Gt{constructor(t,r){super();b(this,Ze);b(this,Qt);b(this,qt);b(this,kt);b(this,Vt);b(this,jt);b(this,Ht);b(this,Wt);b(this,lr);b(this,ie,void 0);b(this,j,void 0);b(this,Kt,void 0);b(this,ne,void 0);b(this,ze,void 0);b(this,yt,void 0);b(this,Ne,void 0);b(this,Bt,void 0);b(this,Et,void 0);b(this,mt,void 0);b(this,Je,void 0);b(this,Xe,void 0);b(this,Qe,void 0);b(this,vt,new Set);this.options=r,A(this,ie,t),A(this,Ne,null),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(f(this,j).addObserver(this),xn(f(this,j),this.options)?M(this,Ze,bt).call(this):this.updateResult(),M(this,Vt,Ur).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Mr(f(this,j),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Mr(f(this,j),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,M(this,jt,Fr).call(this),M(this,Ht,xr).call(this),f(this,j).removeObserver(this)}setOptions(t,r){const n=this.options,s=f(this,j);if(this.options=f(this,ie).defaultQueryOptions(t),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");M(this,Wt,$r).call(this),Ar(this.options,n)||f(this,ie).getQueryCache().notify({type:"observerOptionsUpdated",query:f(this,j),observer:this});const i=this.hasListeners();i&&$n(f(this,j),s,this.options,n)&&M(this,Ze,bt).call(this),this.updateResult(r),i&&(f(this,j)!==s||this.options.enabled!==n.enabled||this.options.staleTime!==n.staleTime)&&M(this,Qt,Dr).call(this);const c=M(this,qt,wr).call(this);i&&(f(this,j)!==s||this.options.enabled!==n.enabled||c!==f(this,Qe))&&M(this,kt,Lr).call(this,c)}getOptimisticResult(t){const r=f(this,ie).getQueryCache().build(f(this,ie),t),n=this.createResult(r,t);return Sa(this,n)&&(A(this,ne,n),A(this,yt,this.options),A(this,ze,f(this,j).state)),n}getCurrentResult(){return f(this,ne)}trackResult(t){const r={};return Object.keys(t).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(f(this,vt).add(n),t[n])})}),r}getCurrentQuery(){return f(this,j)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=f(this,ie).defaultQueryOptions(t),n=f(this,ie).getQueryCache().build(f(this,ie),r);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,r))}fetch(t){return M(this,Ze,bt).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),f(this,ne)))}createResult(t,r){var d;const n=f(this,j),s=this.options,i=f(this,ne),c=f(this,ze),l=f(this,yt),g=t!==n?t.state:f(this,Kt),{state:E}=t;let{error:T,errorUpdatedAt:v,fetchStatus:P,status:S}=E,D=!1,O;if(r._optimisticResults){const N=this.hasListeners(),C=!N&&xn(t,r),q=N&&$n(t,n,r,s);(C||q)&&(P=hr(t.options.networkMode)?"fetching":"paused",E.dataUpdatedAt||(S="pending")),r._optimisticResults==="isRestoring"&&(P="idle")}if(r.select&&typeof E.data<"u")if(i&&E.data===(c==null?void 0:c.data)&&r.select===f(this,Bt))O=f(this,Et);else try{A(this,Bt,r.select),O=r.select(E.data),O=br(i==null?void 0:i.data,O,r),A(this,Et,O),A(this,Ne,null)}catch(N){A(this,Ne,N)}else O=E.data;if(typeof r.placeholderData<"u"&&typeof O>"u"&&S==="pending"){let N;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))N=i.data;else if(N=typeof r.placeholderData=="function"?r.placeholderData((d=f(this,mt))==null?void 0:d.state.data,f(this,mt)):r.placeholderData,r.select&&typeof N<"u")try{N=r.select(N),A(this,Ne,null)}catch(C){A(this,Ne,C)}typeof N<"u"&&(S="success",O=br(i==null?void 0:i.data,N,r),D=!0)}f(this,Ne)&&(T=f(this,Ne),O=f(this,Et),v=Date.now(),S="error");const p=P==="fetching",y=S==="pending",a=S==="error",o=y&&p;return{status:S,fetchStatus:P,isPending:y,isSuccess:S==="success",isError:a,isInitialLoading:o,isLoading:o,data:O,dataUpdatedAt:E.dataUpdatedAt,error:T,errorUpdatedAt:v,failureCount:E.fetchFailureCount,failureReason:E.fetchFailureReason,errorUpdateCount:E.errorUpdateCount,isFetched:E.dataUpdateCount>0||E.errorUpdateCount>0,isFetchedAfterMount:E.dataUpdateCount>g.dataUpdateCount||E.errorUpdateCount>g.errorUpdateCount,isFetching:p,isRefetching:p&&!y,isLoadingError:a&&E.dataUpdatedAt===0,isPaused:P==="paused",isPlaceholderData:D,isRefetchError:a&&E.dataUpdatedAt!==0,isStale:rn(t,r),refetch:this.refetch}}updateResult(t){const r=f(this,ne),n=this.createResult(f(this,j),this.options);if(A(this,ze,f(this,j).state),A(this,yt,this.options),f(this,ze).data!==void 0&&A(this,mt,f(this,j)),Ar(n,r))return;A(this,ne,n);const s={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:c}=this.options,l=typeof c=="function"?c():c;if(l==="all"||!l&&!f(this,vt).size)return!0;const m=new Set(l??f(this,vt));return this.options.throwOnError&&m.add("error"),Object.keys(f(this,ne)).some(g=>{const E=g;return f(this,ne)[E]!==r[E]&&m.has(E)})};(t==null?void 0:t.listeners)!==!1&&i()&&(s.listeners=!0),M(this,lr,ks).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&M(this,Vt,Ur).call(this)}},ie=new WeakMap,j=new WeakMap,Kt=new WeakMap,ne=new WeakMap,ze=new WeakMap,yt=new WeakMap,Ne=new WeakMap,Bt=new WeakMap,Et=new WeakMap,mt=new WeakMap,Je=new WeakMap,Xe=new WeakMap,Qe=new WeakMap,vt=new WeakMap,Ze=new WeakSet,bt=function(t){M(this,Wt,$r).call(this);let r=f(this,j).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(me)),r},Qt=new WeakSet,Dr=function(){if(M(this,jt,Fr).call(this),Tt||f(this,ne).isStale||!Sr(this.options.staleTime))return;const r=$s(f(this,ne).dataUpdatedAt,this.options.staleTime)+1;A(this,Je,setTimeout(()=>{f(this,ne).isStale||this.updateResult()},r))},qt=new WeakSet,wr=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(f(this,j)):this.options.refetchInterval)??!1},kt=new WeakSet,Lr=function(t){M(this,Ht,xr).call(this),A(this,Qe,t),!(Tt||this.options.enabled===!1||!Sr(f(this,Qe))||f(this,Qe)===0)&&A(this,Xe,setInterval(()=>{(this.options.refetchIntervalInBackground||ir.isFocused())&&M(this,Ze,bt).call(this)},f(this,Qe)))},Vt=new WeakSet,Ur=function(){M(this,Qt,Dr).call(this),M(this,kt,Lr).call(this,M(this,qt,wr).call(this))},jt=new WeakSet,Fr=function(){f(this,Je)&&(clearTimeout(f(this,Je)),A(this,Je,void 0))},Ht=new WeakSet,xr=function(){f(this,Xe)&&(clearInterval(f(this,Xe)),A(this,Xe,void 0))},Wt=new WeakSet,$r=function(){const t=f(this,ie).getQueryCache().build(f(this,ie),this.options);if(t===f(this,j))return;const r=f(this,j);A(this,j,t),A(this,Kt,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},lr=new WeakSet,ks=function(t){Z.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(f(this,ne))}),f(this,ie).getQueryCache().notify({query:f(this,j),type:"observerResultsUpdated"})})},ys);function Ia(e,t){return t.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&t.retryOnMount===!1)}function xn(e,t){return Ia(e,t)||e.state.dataUpdatedAt>0&&Mr(e,t,t.refetchOnMount)}function Mr(e,t,r){if(t.enabled!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&rn(e,t)}return!1}function $n(e,t,r,n){return r.enabled!==!1&&(e!==t||n.enabled===!1)&&(!r.suspense||e.state.status!=="error")&&rn(e,r)}function rn(e,t){return e.isStaleByTime(t.staleTime)}function Sa(e,t){return!Ar(e.getCurrentResult(),t)}var Vs=K.createContext(void 0),Aa=e=>{const t=K.useContext(Vs);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Na=({client:e,children:t})=>(K.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),L.jsx(Vs.Provider,{value:e,children:t})),js=K.createContext(!1),ba=()=>K.useContext(js);js.Provider;function Ca(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Da=K.createContext(Ca()),wa=()=>K.useContext(Da);function La(e,t){return typeof e=="function"?e(...t):!!e}var Ua=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},Fa=e=>{K.useEffect(()=>{e.clearReset()},[e])},xa=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&La(r,[e.error,n]),$a=e=>{e.suspense&&typeof e.staleTime!="number"&&(e.staleTime=1e3)},dg=(e,t)=>e.isLoading&&e.isFetching&&!t,Ma=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Ka=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Ba(e,t,r){const n=Aa(r),s=ba(),i=wa(),c=n.defaultQueryOptions(e);c._optimisticResults=s?"isRestoring":"optimistic",$a(c),Ua(c,i),Fa(i);const[l]=K.useState(()=>new t(n,c)),m=l.getOptimisticResult(c);if(K.useSyncExternalStore(K.useCallback(g=>{const E=s?()=>{}:l.subscribe(Z.batchCalls(g));return l.updateResult(),E},[l,s]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),K.useEffect(()=>{l.setOptions(c,{listeners:!1})},[c,l]),Ma(c,m))throw Ka(c,l,i);if(xa({result:m,errorResetBoundary:i,throwOnError:c.throwOnError,query:n.getQueryCache().get(c.queryHash)}))throw m.error;return c.notifyOnChangeProps?m:l.trackResult(m)}function _t(e,t){return Ba(e,Ra,t)}const Kr={CAN_REVIEW_SUBMISSIONS:[Jt.REVIEW_SUBMISSIONS],IS_EXEMPTION_ELIGIBLE:[Jt.EXEMPTION_ELIGIBLE],CAN_REVIEW_SUBMISSIONS_AND_IS_EXEMPTION_ELIGIBLE:[Jt.EXEMPTION_ELIGIBLE,Jt.REVIEW_SUBMISSIONS]},Mn=e=>JSON.stringify(e.sort()),hg=e=>{const t=Mn(e);return Object.keys(Kr).find(n=>t===Mn(Kr[n]))},fg=e=>Kr[e],pg={CAN_REVIEW_SUBMISSIONS:"Can Review",IS_EXEMPTION_ELIGIBLE:"Exempt Eligible",CAN_REVIEW_SUBMISSIONS_AND_IS_EXEMPTION_ELIGIBLE:"Can Review & Exempt Eligible"};var Hs={exports:{}};(function(e,t){(function(r){e.exports=r()})(function(r){var n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function s(p,y){var a=p[0],o=p[1],h=p[2],d=p[3];a+=(o&h|~o&d)+y[0]-680876936|0,a=(a<<7|a>>>25)+o|0,d+=(a&o|~a&h)+y[1]-389564586|0,d=(d<<12|d>>>20)+a|0,h+=(d&a|~d&o)+y[2]+606105819|0,h=(h<<17|h>>>15)+d|0,o+=(h&d|~h&a)+y[3]-1044525330|0,o=(o<<22|o>>>10)+h|0,a+=(o&h|~o&d)+y[4]-176418897|0,a=(a<<7|a>>>25)+o|0,d+=(a&o|~a&h)+y[5]+1200080426|0,d=(d<<12|d>>>20)+a|0,h+=(d&a|~d&o)+y[6]-1473231341|0,h=(h<<17|h>>>15)+d|0,o+=(h&d|~h&a)+y[7]-45705983|0,o=(o<<22|o>>>10)+h|0,a+=(o&h|~o&d)+y[8]+1770035416|0,a=(a<<7|a>>>25)+o|0,d+=(a&o|~a&h)+y[9]-1958414417|0,d=(d<<12|d>>>20)+a|0,h+=(d&a|~d&o)+y[10]-42063|0,h=(h<<17|h>>>15)+d|0,o+=(h&d|~h&a)+y[11]-1990404162|0,o=(o<<22|o>>>10)+h|0,a+=(o&h|~o&d)+y[12]+1804603682|0,a=(a<<7|a>>>25)+o|0,d+=(a&o|~a&h)+y[13]-40341101|0,d=(d<<12|d>>>20)+a|0,h+=(d&a|~d&o)+y[14]-1502002290|0,h=(h<<17|h>>>15)+d|0,o+=(h&d|~h&a)+y[15]+1236535329|0,o=(o<<22|o>>>10)+h|0,a+=(o&d|h&~d)+y[1]-165796510|0,a=(a<<5|a>>>27)+o|0,d+=(a&h|o&~h)+y[6]-1069501632|0,d=(d<<9|d>>>23)+a|0,h+=(d&o|a&~o)+y[11]+643717713|0,h=(h<<14|h>>>18)+d|0,o+=(h&a|d&~a)+y[0]-373897302|0,o=(o<<20|o>>>12)+h|0,a+=(o&d|h&~d)+y[5]-701558691|0,a=(a<<5|a>>>27)+o|0,d+=(a&h|o&~h)+y[10]+38016083|0,d=(d<<9|d>>>23)+a|0,h+=(d&o|a&~o)+y[15]-660478335|0,h=(h<<14|h>>>18)+d|0,o+=(h&a|d&~a)+y[4]-405537848|0,o=(o<<20|o>>>12)+h|0,a+=(o&d|h&~d)+y[9]+568446438|0,a=(a<<5|a>>>27)+o|0,d+=(a&h|o&~h)+y[14]-1019803690|0,d=(d<<9|d>>>23)+a|0,h+=(d&o|a&~o)+y[3]-187363961|0,h=(h<<14|h>>>18)+d|0,o+=(h&a|d&~a)+y[8]+1163531501|0,o=(o<<20|o>>>12)+h|0,a+=(o&d|h&~d)+y[13]-1444681467|0,a=(a<<5|a>>>27)+o|0,d+=(a&h|o&~h)+y[2]-51403784|0,d=(d<<9|d>>>23)+a|0,h+=(d&o|a&~o)+y[7]+1735328473|0,h=(h<<14|h>>>18)+d|0,o+=(h&a|d&~a)+y[12]-1926607734|0,o=(o<<20|o>>>12)+h|0,a+=(o^h^d)+y[5]-378558|0,a=(a<<4|a>>>28)+o|0,d+=(a^o^h)+y[8]-2022574463|0,d=(d<<11|d>>>21)+a|0,h+=(d^a^o)+y[11]+1839030562|0,h=(h<<16|h>>>16)+d|0,o+=(h^d^a)+y[14]-35309556|0,o=(o<<23|o>>>9)+h|0,a+=(o^h^d)+y[1]-1530992060|0,a=(a<<4|a>>>28)+o|0,d+=(a^o^h)+y[4]+1272893353|0,d=(d<<11|d>>>21)+a|0,h+=(d^a^o)+y[7]-155497632|0,h=(h<<16|h>>>16)+d|0,o+=(h^d^a)+y[10]-1094730640|0,o=(o<<23|o>>>9)+h|0,a+=(o^h^d)+y[13]+681279174|0,a=(a<<4|a>>>28)+o|0,d+=(a^o^h)+y[0]-358537222|0,d=(d<<11|d>>>21)+a|0,h+=(d^a^o)+y[3]-722521979|0,h=(h<<16|h>>>16)+d|0,o+=(h^d^a)+y[6]+76029189|0,o=(o<<23|o>>>9)+h|0,a+=(o^h^d)+y[9]-640364487|0,a=(a<<4|a>>>28)+o|0,d+=(a^o^h)+y[12]-421815835|0,d=(d<<11|d>>>21)+a|0,h+=(d^a^o)+y[15]+530742520|0,h=(h<<16|h>>>16)+d|0,o+=(h^d^a)+y[2]-995338651|0,o=(o<<23|o>>>9)+h|0,a+=(h^(o|~d))+y[0]-198630844|0,a=(a<<6|a>>>26)+o|0,d+=(o^(a|~h))+y[7]+1126891415|0,d=(d<<10|d>>>22)+a|0,h+=(a^(d|~o))+y[14]-1416354905|0,h=(h<<15|h>>>17)+d|0,o+=(d^(h|~a))+y[5]-57434055|0,o=(o<<21|o>>>11)+h|0,a+=(h^(o|~d))+y[12]+1700485571|0,a=(a<<6|a>>>26)+o|0,d+=(o^(a|~h))+y[3]-1894986606|0,d=(d<<10|d>>>22)+a|0,h+=(a^(d|~o))+y[10]-1051523|0,h=(h<<15|h>>>17)+d|0,o+=(d^(h|~a))+y[1]-2054922799|0,o=(o<<21|o>>>11)+h|0,a+=(h^(o|~d))+y[8]+1873313359|0,a=(a<<6|a>>>26)+o|0,d+=(o^(a|~h))+y[15]-30611744|0,d=(d<<10|d>>>22)+a|0,h+=(a^(d|~o))+y[6]-1560198380|0,h=(h<<15|h>>>17)+d|0,o+=(d^(h|~a))+y[13]+1309151649|0,o=(o<<21|o>>>11)+h|0,a+=(h^(o|~d))+y[4]-145523070|0,a=(a<<6|a>>>26)+o|0,d+=(o^(a|~h))+y[11]-1120210379|0,d=(d<<10|d>>>22)+a|0,h+=(a^(d|~o))+y[2]+718787259|0,h=(h<<15|h>>>17)+d|0,o+=(d^(h|~a))+y[9]-343485551|0,o=(o<<21|o>>>11)+h|0,p[0]=a+p[0]|0,p[1]=o+p[1]|0,p[2]=h+p[2]|0,p[3]=d+p[3]|0}function i(p){var y=[],a;for(a=0;a<64;a+=4)y[a>>2]=p.charCodeAt(a)+(p.charCodeAt(a+1)<<8)+(p.charCodeAt(a+2)<<16)+(p.charCodeAt(a+3)<<24);return y}function c(p){var y=[],a;for(a=0;a<64;a+=4)y[a>>2]=p[a]+(p[a+1]<<8)+(p[a+2]<<16)+(p[a+3]<<24);return y}function l(p){var y=p.length,a=[1732584193,-271733879,-1732584194,271733878],o,h,d,N,C,q;for(o=64;o<=y;o+=64)s(a,i(p.substring(o-64,o)));for(p=p.substring(o-64),h=p.length,d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],o=0;o<h;o+=1)d[o>>2]|=p.charCodeAt(o)<<(o%4<<3);if(d[o>>2]|=128<<(o%4<<3),o>55)for(s(a,d),o=0;o<16;o+=1)d[o]=0;return N=y*8,N=N.toString(16).match(/(.*?)(.{0,8})$/),C=parseInt(N[2],16),q=parseInt(N[1],16)||0,d[14]=C,d[15]=q,s(a,d),a}function m(p){var y=p.length,a=[1732584193,-271733879,-1732584194,271733878],o,h,d,N,C,q;for(o=64;o<=y;o+=64)s(a,c(p.subarray(o-64,o)));for(p=o-64<y?p.subarray(o-64):new Uint8Array(0),h=p.length,d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],o=0;o<h;o+=1)d[o>>2]|=p[o]<<(o%4<<3);if(d[o>>2]|=128<<(o%4<<3),o>55)for(s(a,d),o=0;o<16;o+=1)d[o]=0;return N=y*8,N=N.toString(16).match(/(.*?)(.{0,8})$/),C=parseInt(N[2],16),q=parseInt(N[1],16)||0,d[14]=C,d[15]=q,s(a,d),a}function g(p){var y="",a;for(a=0;a<4;a+=1)y+=n[p>>a*8+4&15]+n[p>>a*8&15];return y}function E(p){var y;for(y=0;y<p.length;y+=1)p[y]=g(p[y]);return p.join("")}E(l("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function p(y,a){return y=y|0||0,y<0?Math.max(y+a,0):Math.min(y,a)}ArrayBuffer.prototype.slice=function(y,a){var o=this.byteLength,h=p(y,o),d=o,N,C,q,G;return a!==r&&(d=p(a,o)),h>d?new ArrayBuffer(0):(N=d-h,C=new ArrayBuffer(N),q=new Uint8Array(C),G=new Uint8Array(this,h,N),q.set(G),C)}}();function T(p){return/[\u0080-\uFFFF]/.test(p)&&(p=unescape(encodeURIComponent(p))),p}function v(p,y){var a=p.length,o=new ArrayBuffer(a),h=new Uint8Array(o),d;for(d=0;d<a;d+=1)h[d]=p.charCodeAt(d);return y?h:o}function P(p){return String.fromCharCode.apply(null,new Uint8Array(p))}function S(p,y,a){var o=new Uint8Array(p.byteLength+y.byteLength);return o.set(new Uint8Array(p)),o.set(new Uint8Array(y),p.byteLength),a?o:o.buffer}function D(p){var y=[],a=p.length,o;for(o=0;o<a-1;o+=2)y.push(parseInt(p.substr(o,2),16));return String.fromCharCode.apply(String,y)}function O(){this.reset()}return O.prototype.append=function(p){return this.appendBinary(T(p)),this},O.prototype.appendBinary=function(p){this._buff+=p,this._length+=p.length;var y=this._buff.length,a;for(a=64;a<=y;a+=64)s(this._hash,i(this._buff.substring(a-64,a)));return this._buff=this._buff.substring(a-64),this},O.prototype.end=function(p){var y=this._buff,a=y.length,o,h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],d;for(o=0;o<a;o+=1)h[o>>2]|=y.charCodeAt(o)<<(o%4<<3);return this._finish(h,a),d=E(this._hash),p&&(d=D(d)),this.reset(),d},O.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},O.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},O.prototype.setState=function(p){return this._buff=p.buff,this._length=p.length,this._hash=p.hash,this},O.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},O.prototype._finish=function(p,y){var a=y,o,h,d;if(p[a>>2]|=128<<(a%4<<3),a>55)for(s(this._hash,p),a=0;a<16;a+=1)p[a]=0;o=this._length*8,o=o.toString(16).match(/(.*?)(.{0,8})$/),h=parseInt(o[2],16),d=parseInt(o[1],16)||0,p[14]=h,p[15]=d,s(this._hash,p)},O.hash=function(p,y){return O.hashBinary(T(p),y)},O.hashBinary=function(p,y){var a=l(p),o=E(a);return y?D(o):o},O.ArrayBuffer=function(){this.reset()},O.ArrayBuffer.prototype.append=function(p){var y=S(this._buff.buffer,p,!0),a=y.length,o;for(this._length+=p.byteLength,o=64;o<=a;o+=64)s(this._hash,c(y.subarray(o-64,o)));return this._buff=o-64<a?new Uint8Array(y.buffer.slice(o-64)):new Uint8Array(0),this},O.ArrayBuffer.prototype.end=function(p){var y=this._buff,a=y.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],h,d;for(h=0;h<a;h+=1)o[h>>2]|=y[h]<<(h%4<<3);return this._finish(o,a),d=E(this._hash),p&&(d=D(d)),this.reset(),d},O.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},O.ArrayBuffer.prototype.getState=function(){var p=O.prototype.getState.call(this);return p.buff=P(p.buff),p},O.ArrayBuffer.prototype.setState=function(p){return p.buff=v(p.buff,!0),O.prototype.setState.call(this,p)},O.ArrayBuffer.prototype.destroy=O.prototype.destroy,O.ArrayBuffer.prototype._finish=O.prototype._finish,O.ArrayBuffer.hash=function(p,y){var a=m(new Uint8Array(p)),o=E(a);return y?D(o):o},O})})(Hs);var Qa=Hs.exports;const qa=Es(Qa);var Ws={};/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var Gs=Ws.parse=ja,Kn=Ws.serialize=Ha,ka=decodeURIComponent,Va=encodeURIComponent,er=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function ja(e,t){if(typeof e!="string")throw new TypeError("argument str must be a string");for(var r={},n=t||{},s=e.split(";"),i=n.decode||ka,c=0;c<s.length;c++){var l=s[c],m=l.indexOf("=");if(!(m<0)){var g=l.substring(0,m).trim();if(r[g]==null){var E=l.substring(m+1,l.length).trim();E[0]==='"'&&(E=E.slice(1,-1)),r[g]=Wa(E,i)}}}return r}function Ha(e,t,r){var n=r||{},s=n.encode||Va;if(typeof s!="function")throw new TypeError("option encode is invalid");if(!er.test(e))throw new TypeError("argument name is invalid");var i=s(t);if(i&&!er.test(i))throw new TypeError("argument val is invalid");var c=e+"="+i;if(n.maxAge!=null){var l=n.maxAge-0;if(isNaN(l)||!isFinite(l))throw new TypeError("option maxAge is invalid");c+="; Max-Age="+Math.floor(l)}if(n.domain){if(!er.test(n.domain))throw new TypeError("option domain is invalid");c+="; Domain="+n.domain}if(n.path){if(!er.test(n.path))throw new TypeError("option path is invalid");c+="; Path="+n.path}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");c+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(c+="; HttpOnly"),n.secure&&(c+="; Secure"),n.sameSite){var m=typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite;switch(m){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;case"none":c+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return c}function Wa(e,t){try{return t(e)}catch{return e}}function Ga(){return typeof document=="object"&&typeof document.cookie=="string"}function Ya(e,t){return typeof e=="string"?Gs(e,t):typeof e=="object"&&e!==null?e:{}}function za(e,t){return typeof t>"u"&&(t=!e||e[0]!=="{"&&e[0]!=="["&&e[0]!=='"'),!t}function Bn(e,t){t===void 0&&(t={});var r=Ja(e);if(za(r,t.doNotParse))try{return JSON.parse(r)}catch{}return e}function Ja(e){return e&&e[0]==="j"&&e[1]===":"?e.substr(2):e}var je=function(){return je=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},je.apply(this,arguments)},Xa=function(){function e(t,r){var n=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=Ya(t,r),new Promise(function(){n.HAS_DOCUMENT_COOKIE=Ga()}).catch(function(){})}return e.prototype._updateBrowserValues=function(t){this.HAS_DOCUMENT_COOKIE&&(this.cookies=Gs(document.cookie,t))},e.prototype._emitChange=function(t){for(var r=0;r<this.changeListeners.length;++r)this.changeListeners[r](t)},e.prototype.get=function(t,r,n){return r===void 0&&(r={}),this._updateBrowserValues(n),Bn(this.cookies[t],r)},e.prototype.getAll=function(t,r){t===void 0&&(t={}),this._updateBrowserValues(r);var n={};for(var s in this.cookies)n[s]=Bn(this.cookies[s],t);return n},e.prototype.set=function(t,r,n){var s;typeof r=="object"&&(r=JSON.stringify(r)),this.cookies=je(je({},this.cookies),(s={},s[t]=r,s)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=Kn(t,r,n)),this._emitChange({name:t,value:r,options:n})},e.prototype.remove=function(t,r){var n=r=je(je({},r),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=je({},this.cookies),delete this.cookies[t],this.HAS_DOCUMENT_COOKIE&&(document.cookie=Kn(t,"",n)),this._emitChange({name:t,value:void 0,options:r})},e.prototype.addChangeListener=function(t){this.changeListeners.push(t)},e.prototype.removeChangeListener=function(t){var r=this.changeListeners.indexOf(t);r>=0&&this.changeListeners.splice(r,1)},e}();`${Pt(u.REPO_ENDPOINT)}`;const U="/repo/v1",Za="/auth/v1",eu="/file/v1",tu="/async/start",ru="/async/get",nu=`${U}/entity`,su=e=>`${U}/entity/alias/${e}`,qe=e=>`${U}/entity/${e}`,iu=(e,t)=>`${U}/entity/${e}${t?`/version/${t}`:""}`,gg=e=>`${U}/entity/${e}/version`,ou=(e,t)=>`${iu(e,t)}/bundle2`,au=e=>`${U}/entity/${e}/access`,Ys=e=>`${qe(e)}/acl`,uu=e=>`${qe(e)}/evaluation`,cu=e=>`${qe(e)}/path`,lu=e=>`${qe(e)}/permissions`,du=`${U}/entity/header`,zs=e=>`${U}/entity/${e}/json`,hu=(e,t)=>`${U}/entity/${e}/version/${t}/json`,Js=e=>`${U}/entity/${e}/schema`,fu=e=>`${Js(e)}/binding`,pu=e=>`${Js(e)}/validation`,gu=e=>`${qe(e)}/accessRequirement`,yu=e=>`${qe(e)}/table/query/async/start`,Eu=(e,t)=>`${qe(e)}/table/query/async/get/${t}`,Qn=e=>`${U}/asynchronous/job/${e}`,Xs=`${U}/schema`,mu=e=>`${U}/schema/type/registered/${e}`,vu=`${Xs}/type/validation${tu}`,Tu=e=>`${Xs}/type/validation${ru}/${e}`,Zs=`${U}/user`,Pu=`${Zs}/bundle`,Ou=e=>`${Zs}/${e}`,_u=e=>`${Ou(e)}/bundle`,nn=`${U}/userProfile`,Ru=e=>`${nn}/${e}`,Iu=`${U}/notificationEmail`,Su=`${U}/principal/available`,Au=e=>`${U}/account/emailValidation?portalEndpoint=${e}`,Nu=`${U}/account2`,bu=`${Za}/termsOfUse2`,Cu=`${U}/verificationSubmission`,Du=`${U}/accessRequirement/search`,wu=`${U}/dataAccessSubmission/search`,Rt=e=>`${U}/accessRequirement/${e}`,fr=e=>Rt(e)+"/acl",Lu=e=>Rt(e)+"/status",Uu=e=>`${U}/access_requirement/${e}/wikikey`,yg=(e,t)=>`${U}/access_requirement/${e}/wiki/${t}`,sn=`${U}/favorite`,ei=`${U}/userGroupHeaders`,Fu=`${U}/userGroupHeaders/batch`,ti=e=>`${U}/dataAccessSubmission/${e}`,xu=e=>`${U}/userProfile/${e}/image/preview`,$u=e=>Rt(e)+"/approvedSubmissionInfo",on=`${U}/evaluation`,ri=e=>on+`/${e}`,Mu=(e,t)=>t?`${U}/entity/${e}/version/${t}/generatedBy`:`${U}/entity/${e}/generatedBy`,an=`${U}/trashcan`,Ku=`${an}/view`,Bu=e=>`${an}/restore/${e}`,Qu=e=>`${an}/purge/${e}`,ni=e=>`${U}/team/${e}`,un=(e,t)=>ni(e)+`/member/${t}`,qu=e=>`${U}/teamMembers/${e}`,si="https://www.synapse.org/#!SignedToken:",ii="https://www.synapse.org/#!Team:",ku=`${U}/teamMember/?teamEndpoint=${ii}&notificationUnsubscribeEndpoint=${si}`,Vu=(e,t)=>un(e,t)+`?teamEndpoint=${ii}&notificationUnsubscribeEndpoint=${si}`,ju=e=>`${U}/membershipInvitation/${e}`,Hu=e=>`${U}/membershipInvitation/${e}/inviteeVerificationSignedToken`,Wu=e=>`${U}/membershipInvitation/${e}/inviteeId`,pr=`${U}/forum`,Gu=e=>`${pr}/${e}/threads`,It=`${U}/thread`,Yt=e=>`${It}/${e}`,Yu=`${U}/doi`,zu=`${Yu}/association`,oi=`${U}/accessApproval`,Ju=e=>`${oi}/${e}`,ai=`${U}/dataAccessRequest`,Xu=e=>`${ai}/${e}/submission`,Zu=e=>`${Rt(e)}/dataAccessRequestForUpdate`,ec=`${U}/researchProject`,tc=e=>`${Rt(e)}/researchProjectForUpdate`,rc=`${eu}/fileHandle`,nc=`${rc}/batch`,sc=`${U}/projects`,ic=e=>`${U}/entity/${e}/actions/download`,oc="DOWNLOAD_LIST_UPDATED_EVENT",ui=e=>{const t=new CustomEvent(oc,{detail:e});document.dispatchEvent(t)};class st extends Error{constructor(r,n,s,i){super(n);nt(this,"status");nt(this,"reason");nt(this,"errorResponse");nt(this,"url");this.status=r,this.reason=n,this.url=s,this.errorResponse=i,Object.setPrototypeOf(this,new.target.prototype)}}function ci(){return!window.location.hostname.toLowerCase().endsWith(".synapse.org")}async function St(e){let t=null;try{t=await e()}catch(r){if(!(r instanceof st&&r.status===404))throw r}return t}async function li(e){let t=null;try{t=await e()}catch(r){if(r instanceof st&&r.status===401&&r.errorResponse&&"errorCode"in r.errorResponse&&r.errorResponse.errorCode===Yi.TWO_FA_REQUIRED&&r.errorResponse.concreteType==="org.sagebionetworks.repo.model.auth.TwoFactorAuthErrorResponse")return r.errorResponse;throw r}return t}function gr(e){return new Promise(t=>{setTimeout(t.bind(null,{}),e)})}const ac=[0,429,502,503,504],uc=[502,503],cc=3,yr=async(e,t,r=1e3)=>{let n;try{n=await fetch(e,t)}catch(m){throw console.error(m),new st(0,yo,e.toString())}let s=1;for(;n.status&&ac.includes(n.status)&&(await gr(r),r=r*2,n=await fetch(e,t),!(uc.includes(n.status)&&(s++,s==cc))););const i=n.headers.get("Content-Type"),c=await n.text();let l=c;try{i&&i.includes("application/json")&&(l=JSON.parse(c))}catch{console.warn("Failed to parse response as JSON",c)}if(n.ok)return l;throw l!==null&&typeof l=="object"&&"reason"in l?new st(n.status,l.reason,e.toString(),l):new st(n.status,JSON.stringify(l),e.toString())},I=(e,t,r,n,s={})=>{const i={body:JSON.stringify(t),headers:{Accept:"*/*","Access-Control-Request-Headers":"authorization","Content-Type":"application/json",...r?{Authorization:`Bearer ${r}`}:{}},method:"POST",mode:"cors",...s},c=Pt(n);return yr(c+e,i)},R=(e,t,r,n={})=>{const s={headers:{Accept:"*/*","Access-Control-Request-Headers":"authorization",...t?{Authorization:`Bearer ${t}`}:{}},method:"GET",mode:"cors",...n},i=Pt(r);return yr(i+e,s)},ee=(e,t,r,n={})=>{const s={headers:{Accept:"*/*","Access-Control-Request-Headers":"authorization",...t?{Authorization:`Bearer ${t}`}:{}},method:"DELETE",mode:"cors",...n},i=Pt(r);return yr(i+e,s)},k=(e,t,r,n,s={})=>{const i={body:JSON.stringify(t),headers:{Accept:"*/*","Access-Control-Request-Headers":"authorization","Content-Type":"application/json",...r?{Authorization:`Bearer ${r}`}:{}},method:"PUT",mode:"cors",...s},c=Pt(n);return yr(c+e,i)};function X(...e){return t=>!!(t&&typeof t=="object"&&"concreteType"in t&&e.includes(t.concreteType))}const Eg=X(Ji,zi),mg=X(ms),vg=X(Ts),Tg=X(Zi,Xi,ms),Pg=X(vs),Og=X(eo),_g=X(so),Rg=X(io),Ig=X(to),Sg=X(ro),Ag=X(zr),Ng=X(no);function bg(e){return e.node_type?e.node_type:e.type===void 0?_.PROJECT:di(e.type)}function Cg(e){switch(e){case _.PROJECT:case _.FOLDER:return!0;case _.LINK:case _.DOCKER_REPO:case _.FILE:case _.TABLE:case _.SUBMISSION_VIEW:case _.ENTITY_VIEW:case _.DATASET:case _.DATASET_COLLECTION:case _.MATERIALIZED_VIEW:case _.VIRTUAL_TABLE:return!1;default:throw new Error(`Unknown entity type: ${e}`)}}function Dg(e){switch(e){case _.PROJECT:case _.FOLDER:case _.LINK:case _.DOCKER_REPO:case _.FILE:return!1;case _.TABLE:case _.SUBMISSION_VIEW:case _.ENTITY_VIEW:case _.DATASET:case _.DATASET_COLLECTION:case _.MATERIALIZED_VIEW:case _.VIRTUAL_TABLE:return!0;default:throw new Error(`Unknown entity type: ${e}`)}}function wg(e){switch(e){case _.PROJECT:return"Project";case _.FOLDER:return"Folder";case _.FILE:return"File";case _.TABLE:return"Table";case _.LINK:return"Link";case _.ENTITY_VIEW:return"View";case _.DOCKER_REPO:return"Docker Repository";case _.SUBMISSION_VIEW:return"Submission View";case _.DATASET:return"Dataset";case _.DATASET_COLLECTION:return"Dataset Collection";case _.MATERIALIZED_VIEW:return"Materialized View";case _.VIRTUAL_TABLE:return"Virtual Table";default:return console.warn("Entity type could not be mapped to name:",e),""}}function di(e){switch(e){case _.PROJECT:case"org.sagebionetworks.repo.model.Project":return _.PROJECT;case _.FOLDER:case"org.sagebionetworks.repo.model.Folder":return _.FOLDER;case _.FILE:case zr:return _.FILE;case _.LINK:case"org.sagebionetworks.repo.model.Link":return _.LINK;case _.DOCKER_REPO:case"org.sagebionetworks.repo.model.docker.DockerRepository":return _.DOCKER_REPO;case _.TABLE:case en:return _.TABLE;case _.SUBMISSION_VIEW:case"org.sagebionetworks.repo.model.table.SubmissionView":return _.SUBMISSION_VIEW;case _.ENTITY_VIEW:case Zr:return _.ENTITY_VIEW;case _.DATASET:case Xr:return _.DATASET;case _.DATASET_COLLECTION:case Jr:return _.DATASET_COLLECTION;case _.MATERIALIZED_VIEW:case Os:return _.MATERIALIZED_VIEW;case _.VIRTUAL_TABLE:case Ps:return _.VIRTUAL_TABLE;default:throw new Error(`Unknown entity type: ${e}`)}}function Lg(e){switch(e){case _.PROJECT:return"org.sagebionetworks.repo.model.Project";case _.FOLDER:return"org.sagebionetworks.repo.model.Folder";case _.FILE:return"org.sagebionetworks.repo.model.FileEntity";case _.LINK:return"org.sagebionetworks.repo.model.Link";case _.DOCKER_REPO:return"org.sagebionetworks.repo.model.docker.DockerRepository";case _.TABLE:return"org.sagebionetworks.repo.model.table.TableEntity";case _.SUBMISSION_VIEW:return"org.sagebionetworks.repo.model.table.SubmissionView";case _.ENTITY_VIEW:return"org.sagebionetworks.repo.model.table.EntityView";case _.DATASET:return"org.sagebionetworks.repo.model.table.Dataset";case _.DATASET_COLLECTION:return"org.sagebionetworks.repo.model.table.DatasetCollection";case _.MATERIALIZED_VIEW:return"org.sagebionetworks.repo.model.table.MaterializedView";case _.VIRTUAL_TABLE:return"org.sagebionetworks.repo.model.table.VirtualTable";default:throw new Error(`Unknown entity type: ${e}`)}}function lc(e){switch(e){case _.PROJECT:case _.FOLDER:case _.LINK:case _.DOCKER_REPO:case _.SUBMISSION_VIEW:case _.MATERIALIZED_VIEW:case _.VIRTUAL_TABLE:return!1;case _.FILE:case _.TABLE:case _.ENTITY_VIEW:case _.DATASET:case _.DATASET_COLLECTION:return!0;default:throw new Error(`Unknown entity type: ${e}`)}}const dc=X(...oo),Ug=X(en),Fg=X(Rs),hi=X(Xr),hc=X(Jr),xg=e=>hi(e)||hc(e),$g=X(Zr);function Mg(e){return(e.viewTypeMask&_s)!=0}function Kg(e){return e.viewTypeMask===_s}function fc(e){return lc(di(e.concreteType))}function Bg(e){return fc(e)?e.isLatestVersion?dc(e)?hi(e)?"Draft":"Current":`${e.versionNumber.toString()} (Current)`:e.versionNumber.toString():(console.warn("Entity isn't versionable:",e),"")}function Qg(e){return e.startsWith("syn")?e:`syn${e}`}const Ct=["name","description","id","etag","createdOn","modifiedOn","createdBy","modifiedBy","parentId","concreteType"],fi=[...Ct,"versionNumber","versionLabel","versionComment","isLatestVersion"],nr=[...fi,"columnIds","isSearchEnabled"],Br=[...nr],qn=[...Br,"items"],qg={[Ts]:[...Ct,"linksTo","linksToClassName"],[vs]:[...Ct,"repositoryName","isManaged"],[zr]:[...fi,"dataFileHandleId","fileNameOverride"],[Rs]:[...Br,"scopeIds"],[Xr]:[...qn,"size","checksum"],[Jr]:[...qn],[Zr]:[...Br,"scopeIds","viewTypeMask","type"],[en]:nr,[Os]:[...nr,"definingSQL"],[Ps]:[...nr,"definingSQL"],[ao]:Ct,[uo]:[...Ct,"alias"]},kg={ALL_TABLES:[_.TABLE,_.ENTITY_VIEW,_.SUBMISSION_VIEW,_.DATASET,_.DATASET_COLLECTION,_.MATERIALIZED_VIEW,_.VIRTUAL_TABLE],CONTAINER:[_.PROJECT,_.FOLDER]};function Er(e,t=!1){return t?(Object.keys(e).forEach(r=>e[r]===void 0?delete e[r]:{}),e):Object.keys(e).reduce((r,n)=>{const s=r;return e[n]!==void 0&&(s[n]=e[n]),s},{})}const pc=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"];function kn(e){if(!e)return"";const t=Math.floor(Math.log(e)/Math.log(1024));return!e&&"0 Bytes"||(e/Math.pow(1024,t)).toFixed(2)+" "+pc[t]}const Ut=new Xa,gc=5242880,pi=1;function gi(){const e=window.location.port?`:${window.location.port}`:"";return`${window.location.protocol}//${window.location.hostname}${e}/`}const yc=()=>R("/repo/v1/version",void 0,u.REPO_ENDPOINT);function Ec(e,t,r){return I("/repo/v1/validateDefiningSql",{definingSql:e,entityType:t},r,u.REPO_ENDPOINT)}const mc=async(e,t=void 0)=>{const r=await I(`/repo/v1/entity/${e.entityId}/table/download/csv/async/start`,e,t,u.REPO_ENDPOINT);return _e(r.token,`/repo/v1/entity/${e.entityId}/table/download/csv/async/get/${r.token}`,t)},yi=(e,t=void 0)=>R(`/file/v1/fileHandle/${e}`,t,u.REPO_ENDPOINT),vc=(e,t=void 0,r,n,s=!0)=>R(`/file/v1/file/${e}?fileAssociateType=${r}&fileAssociateId=${n}&redirect=${s}`,t,u.REPO_ENDPOINT),Ei=(e,t=void 0)=>R(`/file/v1/fileHandle/${e}/url?redirect=false`,t,u.REPO_ENDPOINT),cn=async(e,t,r,n)=>{let s=await R(Qn(e),r,u.REPO_ENDPOINT);for(n==null||n(s);s.jobState&&s.jobState==="PROCESSING";)await gr(500),s=await R(Qn(e),r,u.REPO_ENDPOINT),n==null||n(s);if(s.jobState==="FAILED"){const i=await R(t,r,u.REPO_ENDPOINT);console.warn("SynapseClient.getAsyncResultFromJobId should have thrown an error, but instead retrieved the following response:",i)}return s},_e=async(e,t,r)=>(await cn(e,t,r)).responseBody,Tc=async(e,t,r)=>{const n=await I(yu(e.entityId),e,t,u.REPO_ENDPOINT);return cn(n.token,Eu(e.entityId,n.token),t,r)},Qr=async(e,t,r)=>{const n=await I(`/repo/v1/entity/${e.entityId}/table/query/async/start`,e,t,u.REPO_ENDPOINT,{signal:r});return _e(n.token,`/repo/v1/entity/${e.entityId}/table/query/async/get/${n.token}`,t)},Pc=async(e,t=void 0,r)=>{let n=0;const{query:s,...i}=e,c={...i,query:{...s,offset:n,limit:void 0},partMask:e.partMask|Eo},l=await Qr(c,t,r);let m=l.queryResult.queryResults.rows.length<l.maxRowsPerPage;for(n+=l.queryResult.queryResults.rows.length,c.query.limit=l.maxRowsPerPage;!m;){c.query.offset=n;const g=await Qr(c,t,r);l.queryResult.queryResults.rows.push(...g.queryResult.queryResults.rows),m=g.queryResult.queryResults.rows.length<c.query.limit,n+=g.queryResult.queryResults.rows.length}return l};async function Oc(e,t,r,n=u.REPO_ENDPOINT){return li(()=>I("/auth/v1/login2",{username:e,password:t,authenticationReceipt:r},void 0,n))}function _c(e,t=u.REPO_ENDPOINT){return I("/auth/v1/2fa/token",e,void 0,t)}const Rc=(e,t,r,n=u.REPO_ENDPOINT)=>I("/auth/v1/oauth2/authurl",{provider:e,redirectUrl:t,state:r},void 0,n),mi=(e,t,r,n=u.REPO_ENDPOINT)=>li(()=>I("/auth/v1/oauth2/session2",{provider:e,authenticationCode:t,redirectUrl:r},void 0,n));function Ic(e){return R("/auth/v1/2fa",e,u.REPO_ENDPOINT)}function Sc(e){return ee("/auth/v1/2fa",e,u.REPO_ENDPOINT)}function Ac(e){return I("/auth/v1/2fa/enroll",null,e,u.REPO_ENDPOINT)}function Nc(e,t){return I("/auth/v1/2fa",e,t,u.REPO_ENDPOINT)}function bc(e){return I("/auth/v1/2fa/recoveryCodes",null,e,u.REPO_ENDPOINT)}const vi=(e,t)=>I(nu,e,t,u.REPO_ENDPOINT),Cc=(e,t)=>vi({name:e,concreteType:"org.sagebionetworks.repo.model.Project"},t),Dc=e=>R(nn,e,u.REPO_ENDPOINT),wc=(e,t)=>R(Ru(e),t,u.REPO_ENDPOINT),Lc=(e,t,r)=>R(`${_u(e)}?mask=${t}`,r,u.REPO_ENDPOINT),Uc=(e,t)=>R(`${Pu}?mask=${e}`,t,u.REPO_ENDPOINT),Fc=(e,t=void 0)=>k("/repo/v1/userProfile",e,t,u.REPO_ENDPOINT),xc=(e="",t=co.ALL,r=0,n=20)=>R(ei+`?prefix=${e}&typeFilter=${t}&offset=${r}&limit=${n}`,void 0,u.REPO_ENDPOINT),$c=e=>I(`${ei}/aliases`,{list:e},void 0,u.REPO_ENDPOINT),Mc=e=>R(Fu+`?ids=${e.join(",")}`,void 0,u.REPO_ENDPOINT),Kc=async(e={},t)=>{const r=new URLSearchParams;e.accessType!=null&&r.set("accessType",e.accessType),e.activeOnly!=null&&r.set("activeOnly",e.activeOnly.toString()),e.evaluationIds!=null&&r.set("evaluationIds",e.evaluationIds.join(","));const n=(s,i)=>{r.set("limit",s.toString()),r.set("offset",i.toString());const c=`${on}?${r.toString()}`;return R(c,t,u.REPO_ENDPOINT)};if(e.evaluationIds){const s=await tt(n);return{totalNumberOfResults:s.length,results:s}}return n(e.limit??20,e.offset??0)},Bc=(e,t=void 0)=>I(nn,{list:e},t,u.REPO_ENDPOINT),Qc=(e,t=void 0,r)=>I("/repo/v1/entity/children",e,t,u.REPO_ENDPOINT,{signal:r}),qc=(e,t=void 0)=>I("/repo/v1/entity/child",e,t,u.REPO_ENDPOINT),Ti=(e,t=void 0)=>I(nc,e,t,u.REPO_ENDPOINT),kc=async(e,t=void 0)=>{const r=await I("/file/v1/file/bulk/async/start",e,t,u.REPO_ENDPOINT);return _e(r.token,`/file/v1/file/bulk/async/get/${r.token}`,t)},Vc=(e=void 0,t,r)=>{if(t.indexOf(".")>-1){const s=t.split(".");t=s[0],r=s[1]}const n=r?`/repo/v1/entity/${t}/version/${r}`:`/repo/v1/entity/${t}`;return R(n,e,u.REPO_ENDPOINT)},jc=(e,t)=>ln(e.map(r=>({targetId:r})),t),ln=(e,t)=>{const r=e.map(n=>{if(n.targetId.indexOf(".")>-1){const s=n.targetId.split(".");return{targetId:s[0],version:s[1]}}else return n});return I(du,{references:r},t,u.REPO_ENDPOINT)},Hc=(e,t)=>St(()=>R(su(e),t,u.REPO_ENDPOINT)),Wc=async(e,t,r)=>(await ln([{targetId:e,targetVersionNumber:t}],r)).results[0],Gc=(e,t=void 0)=>k(Ys(e.id),e,t,u.REPO_ENDPOINT),Yc=(e,t=void 0,r)=>{let n=`/repo/v1/entity/${e.id}`;return r&&(n+="?newVersion=true"),k(n,e,t,u.REPO_ENDPOINT)},zc=(e=void 0,t)=>ee(qe(t),e,u.REPO_ENDPOINT),Jc=(e,t,r,n)=>I(ou(e,r),t,n,u.REPO_ENDPOINT);function dn(e){return dr[e]}const Xc=(e,t,r="",n=dr.ENTITY)=>{const s=dn(n),i=`/repo/v1/${s==null?void 0:s.toLocaleLowerCase()}/${t}/wiki/${r}`;return R(i,e,u.REPO_ENDPOINT)};function Zc(e,t=0,r=200,n="NAME",s="ASC"){const i=new URLSearchParams;i.set("offset",t.toString()),i.set("limit",r.toString()),i.set("sort",n),i.set("sortDirection",s);const c=`${sn}?${i.toString()}`;return R(c,e,u.REPO_ENDPOINT)}function el(e,t){return I(`${sn}/${e}`,null,t,u.REPO_ENDPOINT)}const tl=(e,t)=>ee(`${sn}/${e}`,t,u.REPO_ENDPOINT),rl=(e,t,r=0,n=200)=>{const s=`/repo/v1/challenge?participantId=${t}&offset=${r}&limit=${n}`;return R(s,e,u.REPO_ENDPOINT)},nl=(e,t)=>{const r=`/repo/v1//user/${e}/certifiedUserPassingRecord`;return R(r,t,u.REPO_ENDPOINT)},sl=(e,t,r=0,n=200)=>{const s=`/repo/v1/challenge/${t}/challengeTeam?&offset=${r}&limit=${n}`;return R(s,e,u.REPO_ENDPOINT)},il=(e,t)=>tt((n,s)=>{const i=`/repo/v1/challenge/${t}/challengeTeam?&offset=${s}&limit=${n}`;return R(i,e,u.REPO_ENDPOINT)}),ol=(e,t,r=0,n=50)=>{const s=`/repo/v1/challenge/${t}/submissionTeams?&offset=${r}&limit=${n}`;return R(s,e,u.REPO_ENDPOINT)},al=(e,t,r)=>{const n=`/repo/v1/evaluation/${e}/team/${t}/submissionEligibility`;return R(n,r,u.REPO_ENDPOINT)},ul=(e,t)=>{const r=`/repo/v1/challenge/${String(e.challengeId)}/challengeTeam`;return I(r,e,t,u.REPO_ENDPOINT)},cl=(e,t)=>{const r=`/repo/v1/entity/${e}/challenge`;return R(r,t,u.REPO_ENDPOINT)};function ll(e,t){return I("/repo/v1/team",e,t,u.REPO_ENDPOINT)}const dl=(e,t,r=0,n=200)=>{const s=`/repo/v1/user/${t}/team?offset=${r}&limit=${n}`;return R(s,e,u.REPO_ENDPOINT)},hl=(e,t)=>tt((n,s)=>{const i=`/repo/v1/team/${t}/accessRequirement?offset=${s}&limit=${n}`;return R(i,e,u.REPO_ENDPOINT)}),fl=(e,t,r="",n=10,s=0)=>{const i=`${qu(t)}?limit=${n}&offset=${s}${r?`&fragment=${r}`:""}`;return R(i,e,u.REPO_ENDPOINT)},pl=e=>k(ku,e,void 0,u.REPO_ENDPOINT),gl=(e,t,r)=>k(Vu(e,t),void 0,r,u.REPO_ENDPOINT);function Pi(e,t){return R(`${U}/user/${e}/openInvitation`,t,u.REPO_ENDPOINT)}function yl(e,t){return tt(()=>Pi(e,t))}function El(e,t){return I(`${U}/membershipInvitation`,e,t,u.REPO_ENDPOINT)}const ml=e=>I(ju(e.membershipInvitationId),e,void 0,u.REPO_ENDPOINT),vl=(e,t)=>R(Hu(e),t,u.REPO_ENDPOINT),Tl=(e,t,r)=>k(Wu(t),e,r,u.REPO_ENDPOINT),Pl=(e,t,r)=>{const n=un(e,t);return St(()=>R(n,r,u.REPO_ENDPOINT))},Ol=(e,t,r)=>{const n=`${un(e,t)}/membershipStatus`;return R(n,r,u.REPO_ENDPOINT)},_l=(e,t)=>I("/repo/v1/membershipRequest",e,t,u.REPO_ENDPOINT),Rl=(e,t,r)=>ee(`/repo/v1/team/${e}/member/${t}`,r,u.REPO_ENDPOINT),Il=(e,t)=>R(ni(e),t,u.REPO_ENDPOINT),Sl=(e,t)=>I("/repo/v1/teamList",{list:e},t,u.REPO_ENDPOINT),Al=(e,t)=>{const r=`/repo/v1/entity/${t}/wikikey`;return R(r,e,u.REPO_ENDPOINT)},Nl=(e,t)=>{const r=Uu(t);return R(r,e,u.REPO_ENDPOINT)},bl=(e,t,r,n=dr.ENTITY)=>{const i=`/repo/v1/${dn(n).toLocaleLowerCase()}/${t}/wiki2/${r}/attachmenthandles`;return R(i,e,u.REPO_ENDPOINT)},Cl=(e,t,r)=>{const n=`/repo/v1/evaluation/${t}/wiki/${r}/attachmenthandles`;return R(n,e,u.REPO_ENDPOINT)},Dl=(e,t,r,n,s=dr.ENTITY)=>{const c=`/repo/v1/${dn(s).toLocaleLowerCase()}/${t}/wiki2/${r}/attachment?fileName=${n}&redirect=false`;return R(c,e,u.REPO_ENDPOINT)},wl=()=>!!Ut.get(mo),hn=async e=>{if(ci())e?Ut.set(Ir,e,{maxAge:60*60*24*10,path:"/"}):(Ut.remove(Ir,{path:"/"}),await gr(100));else return I("Portal/sessioncookie",{sessionToken:e},void 0,u.PORTAL_ENDPOINT,{credentials:"include"})},Oi=async()=>ci()?Promise.resolve(Ut.get(Ir)):R("Portal/sessioncookie?validate=true",void 0,u.PORTAL_ENDPOINT,{credentials:"include"}),Ll=()=>Ut.get(vo)==="true",Ul=(e,t)=>I("/repo/v1/principal/alias",t,e,u.REPO_ENDPOINT),Fl=async()=>{await hn(void 0)},xl=(e,t,r)=>new Promise((n,s)=>{const i=Math.max(5242880,r.size/1e4),c={contentType:r.type,fileName:t,fileSizeBytes:r.size,partSizeBytes:i,storageLocationId:pi};_i(r).then(l=>{c.contentMD5Hex=l,Ii(e,t,r,c,n,s)})}),_i=e=>new Promise((t,r)=>{const n=File.prototype.slice,s=e,i=2097152,c=Math.ceil(s.size/i),l=new qa.ArrayBuffer,m=new FileReader;let g=0;m.onload=function(T){if(console.log("read chunk nr",g+1,"of",c),l.append(m.result),g++,g<c)E();else{console.log("finished loading");const v=l.end();console.info("computed hash",v),t(v)}},m.onerror=function(){console.warn("oops, something went wrong."),r(m.error)};const E=()=>{const T=g*i,v=T+i>=s.size?s.size:T+i;m.readAsArrayBuffer(n.call(s,T,v))};E()}),Ri=(e,t,r,n,s,i,c,l)=>{if(t.clientSidePartsState[e-1])return;const m=t.uploadId,g={uploadId:m,contentType:"application/octet-stream",partNumbers:[e]},E=`/file/v1/file/multipart/${m}/presigned/url/batch`;I(E,g,r,u.REPO_ENDPOINT).then(async T=>{const v=T.partPresignedUrls[0].uploadPresignedUrl,P=(e-1)*i.partSizeBytes;let S=e*i.partSizeBytes-1;S>=i.fileSizeBytes&&(S=i.fileSizeBytes-1);const D=s.slice(P,S+1,g.contentType);await $l(v,D,g.contentType),_i(D).then(O=>{const p=`/file/v1/file/multipart/${m}/add/${e}?partMD5Hex=${O}`;k(p,void 0,r,u.REPO_ENDPOINT).then(y=>{y.addPartState==="ADD_SUCCESS"?(t.clientSidePartsState[e-1]=!0,fn(t,n,r,c,l)):gr(1e3).then(()=>{Ri(e,t,r,n,s,i,c,l)})})})})},fn=(e,t,r,n,s)=>{if(e.clientSidePartsState.every(i=>i)){const i=`/file/v1/file/multipart/${e.uploadId}/complete`;k(i,void 0,r,u.REPO_ENDPOINT).then(c=>{n({fileHandleId:c.resultFileHandleId,fileName:t})}).catch(c=>{s(c)})}},$l=async(e,t,r)=>{await fetch(e,{method:"PUT",headers:{"Content-Type":r},body:t})},Ii=(e,t,r,n,s,i)=>{I("/file/v1/file/multipart",n,e,u.REPO_ENDPOINT).then(l=>{const m=l.partsState.split("").map(g=>g==="1");l.clientSidePartsState=m;for(let g=0;g<m.length;g=g+1)m[g]||Ri(g+1,l,e,t,r,n,s,i);fn(l,t,e,s,i)}).catch(l=>{i(l)})},Ml=(e,t)=>new Promise((r,n)=>{const s=yi(e,t),i=Ei(e,t);Promise.all([s,i]).then(c=>{const l=c[0],m=c[1];return Si(l,m).then(g=>{r(g)})}).catch(c=>{n(c)})}),Si=(e,t,r=gc)=>new Promise((n,s)=>{e.contentSize<r?fetch(t,{method:"GET",mode:"cors",cache:"no-cache",headers:{"Content-Type":e.contentType}}).then(i=>{i.text().then(c=>{n(c)})}):s(`File size (${kn(e.contentSize)}) exceeds the maximum size that can be downloaded (${kn(r)})`)}),Kl=(e,t,r,n,s)=>new Promise((i,c)=>{const l=[{associateObjectId:e.id,associateObjectType:lo.FileEntity,fileHandleId:e.dataFileHandleId}];Ti({includeFileHandles:r||!1,includePreSignedURLs:n||!1,includePreviewPreSignedURLs:s||!1,requestedFiles:l},t).then(g=>{g.requestedFiles.length&&g.requestedFiles[0].fileHandleId!==void 0?i(g.requestedFiles[0]):c(g.requestedFiles[0].failureCode)}).catch(g=>{c(g)})}),Ai=(e,t)=>I("/repo/v1/download/list/add",{batchToAdd:e},t,u.REPO_ENDPOINT),Bl=(e,t,r)=>Ai([{fileEntityId:e,versionNumber:t}],r),Ql=async(e,t)=>{const n=await I("/repo/v1/download/list/package/async/start",{zipFileName:e,includeManifest:!0,concreteType:"org.sagebionetworks.repo.model.download.DownloadListPackageRequest"},t,u.REPO_ENDPOINT);return _e(n.token,`/repo/v1/download/list/package/async/get/${n.token}`,t)},ql=async(e=void 0)=>{const r=await I("/repo/v1/download/list/manifest/async/start",{csvTableDescriptor:{},concreteType:"org.sagebionetworks.repo.model.download.DownloadListManifestRequest"},e,u.REPO_ENDPOINT);return _e(r.token,`/repo/v1/download/list/manifest/async/get/${r.token}`,e)},kl=async(e,t=void 0)=>{const r=await I("/repo/v1/download/list/add/async/start",e,t,u.REPO_ENDPOINT);return _e(r.token,`/repo/v1/download/list/add/async/get/${r.token}`,t)},Vl=(e,t,r)=>I(`/repo/v1/entity/${e}/acl`,t,r,u.REPO_ENDPOINT),jl=(e,t,r,n)=>{let s=`/repo/v1/evaluation/submission?etag=${r}`;return n&&(s+=`&submissionEligibilityHash=${n}`),I(s,t,e,u.REPO_ENDPOINT)},Hl=(e,t)=>R(`/repo/v1/evaluation/${e}/permissions`,t,u.REPO_ENDPOINT),Wl=(e,t)=>e?R(ri(e),t,u.REPO_ENDPOINT):Promise.reject(new Error("evalId is empty")),Gl=(e,t)=>e.id?k(ri(e.id),e,t,u.REPO_ENDPOINT):Promise.reject(new Error("evaluation does not have an ID")),Yl=(e,t)=>I(on,e,t,u.REPO_ENDPOINT),zl=(e,t)=>ee(`/repo/v1/evaluation/${e}`,t,u.REPO_ENDPOINT),Jl=(e,t,r)=>R(`/repo/v1/evaluation/${e}/round/${t}`,r,u.REPO_ENDPOINT),Xl=(e,t,r)=>I(`/repo/v1/evaluation/${e}/round/list`,t??{},r,u.REPO_ENDPOINT),Zl=(e,t)=>I(`/repo/v1/evaluation/${e.evaluationId}/round`,e,t,u.REPO_ENDPOINT),ed=(e,t)=>k(`/repo/v1/evaluation/${e.evaluationId}/round/${e.id}`,e,t,u.REPO_ENDPOINT),td=(e,t,r)=>ee(`/repo/v1/evaluation/${e}/round/${t}`,r,u.REPO_ENDPOINT),rd=(e,t)=>R(`/repo/v1/evaluation/submission/query?query=${encodeURI(e)}`,t,u.REPO_ENDPOINT),nd=e=>I("/auth/v1/oauth2/description",e,void 0,u.REPO_ENDPOINT),sd=(e,t)=>I("/auth/v1/oauth2/consentcheck",e,t,u.REPO_ENDPOINT),id=e=>R(`/auth/v1/oauth2/client/${e}`,void 0,u.REPO_ENDPOINT),od=(e,t)=>R(`/auth/v1/oauth2/client${t?"?nextPageToken="+t:""}`,e,u.REPO_ENDPOINT),ad=(e,t)=>I("/auth/v1/oauth2/client",e,t,u.REPO_ENDPOINT),ud=(e,t)=>ee(`/auth/v1/oauth2/client/${e}`,t,u.REPO_ENDPOINT),cd=(e,t)=>k(`/auth/v1/oauth2/client/${e.client_id}`,e,t,u.REPO_ENDPOINT),ld=(e,t)=>k(`/auth/v1/oauth2/client/${e.client_id}/verificationPrecheck`,e,t,u.REPO_ENDPOINT),dd=(e,t)=>I(`/auth/v1/oauth2/client/secret/${t}`,void 0,e,u.REPO_ENDPOINT),hd=async e=>R("/auth/v1/authenticatedOn",e,u.REPO_ENDPOINT),fd=(e,t)=>I("/auth/v1/oauth2/consent",e,t,u.REPO_ENDPOINT),pd=(e,t)=>I(`/repo/v1/form/group?name=${encodeURI(e)}`,void 0,t,u.REPO_ENDPOINT),gd=(e,t)=>R(`/repo/v1/form/group/${e}/acl`,t,u.REPO_ENDPOINT),yd=(e,t,r)=>k(`/repo/v1/form/group/${e}/acl`,t,r,u.REPO_ENDPOINT),Ed=(e,t,r,n)=>{const s={name:t,fileHandleId:r};return I(`/repo/v1/form/data?groupId=${e}`,s,n,u.REPO_ENDPOINT)},md=(e,t,r,n)=>{const s={name:t,fileHandleId:r};return k(`/repo/v1/form/data/${e}`,s,n,u.REPO_ENDPOINT)},vd=(e,t)=>ee(`/repo/v1/form/data/${e}`,t,u.REPO_ENDPOINT),Td=(e,t)=>I(`/repo/v1/form/data/${e}/submit`,void 0,t,u.REPO_ENDPOINT),Pd=(e,t)=>I("/repo/v1/form/data/list",e,t,u.REPO_ENDPOINT),Od=(e,t)=>I("/repo/v1/form/data/list/reviewer",e,t,u.REPO_ENDPOINT),_d=(e,t)=>k(`/repo/v1/form/data/${e}/accept`,void 0,t,u.REPO_ENDPOINT),Rd=(e,t,r)=>{const n={reason:t};return k(`/repo/v1/form/data/${e}/reject`,n,r,u.REPO_ENDPOINT)},Id=(e,t)=>I("/repo/v1/statistics",e,t,u.REPO_ENDPOINT),Sd=(e,t)=>I("/repo/v1/restrictionInformation",e,t,u.REPO_ENDPOINT),Ad=(e,t,r=50,n=0)=>{const s=`${gu(t)}?limit=${r}&offset=${n}`;return R(s,e,u.REPO_ENDPOINT)},Nd=(e,t)=>R(Rt(t),e,u.REPO_ENDPOINT),bd=(e,t)=>St(()=>R(fr(t),e,u.REPO_ENDPOINT)),Cd=(e,t)=>ee(fr(t),e,u.REPO_ENDPOINT),Dd=(e,t)=>I(fr(t.id),t,e,u.REPO_ENDPOINT),wd=(e,t)=>k(fr(t.id),t,e,u.REPO_ENDPOINT),Ld=(e,t)=>I(Du,t,e,u.REPO_ENDPOINT);function Ud(e,t){return R(Lu(t),e,u.REPO_ENDPOINT)}const Fd=(e,t)=>tt((n,s)=>{const i=`/repo/v1/entity/${t}/accessRequirement?limit=${n}&offset=${s}`;return R(i,e,u.REPO_ENDPOINT)});function xd(e,t){return I(`/repo/v1/entity/${e}/lockAccessRequirement`,null,t,u.REPO_ENDPOINT)}const $d=async(e,t)=>{const r=`${Ju(t)}`;return R(r,e,u.REPO_ENDPOINT)},Md=async(e,t)=>I(oi,t,e,u.REPO_ENDPOINT),Kd=e=>R("/file/v1/download/list",e,u.REPO_ENDPOINT),Bd=(e,t)=>{const r="/file/v1/download/order",n=e?`${r}?zipFileName=${e}`:r;return I(n,void 0,t,u.REPO_ENDPOINT)},tt=async e=>{let r=0,n=!0;const s=[];for(;n;)try{const i=await e(50,r);s.push(...i.results),r+=i.results.length,i.results.length<50&&(n=!1)}catch(i){throw Error(`Error on getting paginated results ${i}`)}return s};async function pn(e){let t=!0,r;const n=[];for(;t;)try{const s=await e(r);"results"in s?n.push(...s.results):"page"in s&&n.push(...s.page),r=s.nextPageToken,r||(t=!1)}catch(s){throw Error(`Error on getting paginated results ${s}`)}return n}const Qd=(e,t)=>I("/file/v1/download/list/remove",{list:e},t,u.REPO_ENDPOINT).then(r=>(ui(r),r)),qd=e=>ee("/file/v1/download/list",e,u.REPO_ENDPOINT).then(()=>{ui(void 0)}),kd=async(e,t=void 0)=>{const r=await I(`/repo/v1/entity/${e.entityId}/table/transaction/async/start`,e,t,u.REPO_ENDPOINT);return _e(r.token,`/repo/v1/entity/${e.entityId}/table/transaction/async/get/${r.token}`,t)},Vd=(e,t)=>I("/auth/v1/personalAccessToken",e,t,u.REPO_ENDPOINT),jd=(e,t)=>R(`/auth/v1/personalAccessToken${t?"?nextPageToken="+t:""}`,e,u.REPO_ENDPOINT),Hd=(e,t)=>ee(`/auth/v1/personalAccessToken/${e}`,t,u.REPO_ENDPOINT),Wd=(e,t={})=>{const r=new URLSearchParams(Er(t));return R(`${sc}?${r.toString()}`,e,u.REPO_ENDPOINT)},Gd=(e,t={},r)=>{const n=new URLSearchParams(Er(t));return R(`/repo/v1/projects/user/${e}?${n.toString()}`,r,u.REPO_ENDPOINT)},Yd=(e,t)=>R(Ys(e),t,u.REPO_ENDPOINT),zd=(e,t={},r)=>{const n=new URLSearchParams(Er(t));return tt((i,c)=>{const l=`${uu(e)}?offset=${c}&limit=${i}&${n.toString()}`;return R(l,r,u.REPO_ENDPOINT)})},Jd=(e,t)=>R(lu(e),t,u.REPO_ENDPOINT),Xd=(e,t)=>R(cu(e),t,u.REPO_ENDPOINT),Zd=(e,t,r=0,n=200)=>R(`/repo/v1/entity/${e}/version?offset=${r}&limit=${n}`,t,u.REPO_ENDPOINT),eh=(e,t)=>I("/repo/v1/search",e,t,u.REPO_ENDPOINT);async function gn(e,t){const n=await I("/repo/v1/download/list/query/async/start",{concreteType:"org.sagebionetworks.repo.model.download.DownloadListQueryRequest",requestDetails:t},e,u.REPO_ENDPOINT);return(await _e(n.token,`/repo/v1/download/list/query/async/get/${n.token}`,e)).responseDetails}const th=e=>ee("/repo/v1/download/list",e,u.REPO_ENDPOINT),rh=(e,t=void 0)=>gn(t,e),nh=(e=void 0)=>gn(e,{concreteType:"org.sagebionetworks.repo.model.download.FilesStatisticsRequest"}),Ni=(e,t=void 0)=>gn(t,e),sh=(e,t=void 0)=>pn(()=>Ni(e,t)),ih=(e,t=void 0)=>I("/repo/v1/download/list/remove",{batchToRemove:[e]},t,u.REPO_ENDPOINT),oh=(e,t)=>I(ec,e,t,u.REPO_ENDPOINT),ah=(e,t)=>R(tc(e),t,u.REPO_ENDPOINT),uh=(e,t)=>R(Zu(e),t,u.REPO_ENDPOINT);function ch(e,t){return I(ai,e,t,u.REPO_ENDPOINT)}const lh=(e,t)=>I(Xu(e.requestId),e,t,u.REPO_ENDPOINT),dh=(e,t)=>k(`/repo/v1/dataAccessSubmission/${e}/cancellation`,void 0,t,u.REPO_ENDPOINT),hh=(e,t)=>R(ti(e),t,u.REPO_ENDPOINT),fh=(e,t)=>k(ti(e.submissionId),e,t,u.REPO_ENDPOINT),ph=(e,t)=>St(()=>R(fu(e),t,u.REPO_ENDPOINT)),gh=(e,t)=>R(pu(e),t,u.REPO_ENDPOINT),yh=e=>R(`${mu(e)}`,void 0,u.REPO_ENDPOINT),Eh=async(e,t)=>{const r=await I(vu,{concreteType:"org.sagebionetworks.repo.model.schema.GetValidationSchemaRequest",$id:e},t,u.REPO_ENDPOINT);return _e(r.token,Tu(r.token),t)},mh=(e,t,r)=>R(`${au(e)}?accessType=${t}`,r,u.REPO_ENDPOINT),vh=(e,t,r,n)=>{const s=new URLSearchParams;s.set("includeDerivedAnnotations",String(r));const i=t?hu(e,t):zs(e);return R(`${i}?${s.toString()}`,n,u.REPO_ENDPOINT)},Th=(e,t,r)=>k(zs(e),t,r,u.REPO_ENDPOINT),Ph=e=>R(Iu,e,u.REPO_ENDPOINT),Oh=(e,t)=>I(Su,e,t,u.REPO_ENDPOINT),_h=(e,t)=>I(Au(t),e,void 0,u.REPO_ENDPOINT),Rh=e=>I(Nu,e,void 0,u.REPO_ENDPOINT),bi=(e,t,r,n,s=u.REPO_ENDPOINT)=>I("/auth/v1/oauth2/account2",{provider:t,authenticationCode:r,redirectUrl:n,userName:e},void 0,s),Ci=async(e,t,r,n=u.REPO_ENDPOINT)=>{const s=await Oi();return I("/auth/v1/oauth2/alias",{provider:e,authenticationCode:t,redirectUrl:r},s,n)},Ih=async(e,t,r)=>{const n=`/auth/v1/oauth2/alias?provider=${e}&alias=${encodeURIComponent(r)}`;return ee(n,t,u.REPO_ENDPOINT)},Sh=e=>I(bu,{accessToken:e},void 0,u.REPO_ENDPOINT),Ah=(e,t)=>I(Cu,e,t,u.REPO_ENDPOINT),Nh=(e,t)=>I("/auth/v1/user/changePassword",e,t,u.REPO_ENDPOINT),bh=e=>I("/auth/v1/user/changePassword",e,void 0,u.REPO_ENDPOINT),Ch=e=>{const t=window.location.href+"?passwordResetToken=",r=`/auth/v1/user/password/reset?passwordResetEndpoint=${encodeURIComponent(t)}`;return I(r,{email:e},void 0,u.REPO_ENDPOINT)},Dh=(e,t,r,n)=>I(`/repo/v1/account/${t}/emailValidation?portalEndpoint=${r}`,{email:e},n,u.REPO_ENDPOINT),wh=(e,t)=>I("/repo/v1/email",e,t,u.REPO_ENDPOINT),Lh=(e,t)=>ee(`/repo/v1/email?email=${t}`,e,u.REPO_ENDPOINT),Uh=(e,t)=>k("/repo/v1/notificationEmail",{email:e},t,u.REPO_ENDPOINT),Fh=(e,t)=>R(`/repo/v1/project/${e}/forum`,t,u.REPO_ENDPOINT),xh=(e,t)=>R(`/repo/v1/reply/${e}`,t,u.REPO_ENDPOINT),$h=(e,t)=>I("/repo/v1/reply",e,t,u.REPO_ENDPOINT),Mh=(e,t)=>k(`/repo/v1/reply/${e.replyId}/message`,{messageMarkdown:e.messageMarkdown},t,u.REPO_ENDPOINT),Kh=(e,t)=>ee(`/repo/v1/reply/${t}`,e,u.REPO_ENDPOINT),Bh=(e,t,r=30,n=0,s=ho.CREATED_ON,i=!0,c=Is.EXCLUDE_DELETED)=>{const l=new URLSearchParams;l.set("offset",n.toString()),l.set("limit",r.toString()),l.set("sort",s),l.set("ascending",i.toString()),l.set("filter",c);const m=`${It}/${t}/replies?${l.toString()}`;return R(m,e,u.REPO_ENDPOINT)},Qh=(e,t)=>R(`/repo/v1/reply/messageUrl?messageKey=${e}`,t,u.REPO_ENDPOINT),qh=(e,t)=>k(`${Yt(t)}/pin`,void 0,e,u.REPO_ENDPOINT),kh=(e,t)=>k(`${Yt(t)}/unpin`,void 0,e,u.REPO_ENDPOINT),Vh=(e,t)=>R(Yt(e),t,u.REPO_ENDPOINT),jh=(e,t)=>R(`${It}/messageUrl?messageKey=${e}`,t,u.REPO_ENDPOINT),Hh=(e,t)=>I(It,t,e,u.REPO_ENDPOINT),Wh=(e,t)=>k(`${It}/${t.threadId}/title`,{title:t.title},e,u.REPO_ENDPOINT),Gh=(e,t)=>k(`${It}/${t.threadId}/message`,{messageMarkdown:t.messageMarkdown},e,u.REPO_ENDPOINT),Yh=(e,t)=>ee(Yt(t),e,u.REPO_ENDPOINT),zh=(e,t)=>k(`${Yt(t)}/restore`,void 0,e,u.REPO_ENDPOINT),Jh=(e,t,r=20,n=0)=>{const s=new URLSearchParams;return s.set("offset",n.toString()),s.set("limit",r.toString()),R(`${pr}/${t}/moderators?${s.toString()}`,e,u.REPO_ENDPOINT)},Xh=(e,t)=>R(`${pr}/${t}`,e,u.REPO_ENDPOINT),Zh=(e,t,r)=>I(`${pr}/${t}/search`,e,r,u.REPO_ENDPOINT),ef=(e,t,r=0,n=20,s=fo.PINNED_AND_LAST_ACTIVITY,i=!0,c=Is.EXCLUDE_DELETED)=>{const l=new URLSearchParams;l.set("offset",r.toString()),l.set("limit",n.toString()),l.set("sort",s),l.set("ascending",i.toString()),l.set("filter",c);const m=`${Gu(t)}?${l.toString()}`;return R(m,e,u.REPO_ENDPOINT)},tf=(e,t)=>I("/repo/v1/accessApproval/search",e,t,u.REPO_ENDPOINT),rf=(e,t)=>I(wu,e,t,u.REPO_ENDPOINT),nf=(e,t)=>I($u(e.accessRequirementId),e,t,u.REPO_ENDPOINT),sf=(e,t,r)=>{const n=Mu(e,t?`${t}`:void 0);return R(n,r,u.REPO_ENDPOINT)};function of(e){return St(()=>R(xu(e)+"?redirect=false",void 0,u.REPO_ENDPOINT))}function af(e,t=0,r=25){return R(Ku+`?offset=${t}&limit=${r}`,e,u.REPO_ENDPOINT)}function uf(e,t){return k(Bu(e),void 0,t,u.REPO_ENDPOINT)}function cf(e,t){return k(Qu(e),void 0,t,u.REPO_ENDPOINT)}function lf(e){return R("/repo/v1/certifiedUserTest",e,u.REPO_ENDPOINT)}function df(e,t){return I("/repo/v1/certifiedUserTestResponse",t,e,u.REPO_ENDPOINT)}const yn="https://s3.amazonaws.com/geoloc.sagebase.org/",hf=yn+"allPoints.json",ff=yn+"googlemap.txt";async function pf(){return await(await fetch(ff)).text()}async function gf(){return await(await fetch(hf)).json()}async function yf(e){const t=await fetch(`${yn}${e}.json`);return t.status==200?await t.json():[]}function Ef(e,t=100,r=0,n){const s=new URLSearchParams;return s.set("limit",t.toString()),s.set("offset",r.toString()),s.set("objectType",n.objectType),n.sortBy&&s.set("sortBy",n.sortBy),n.sortDirection&&s.set("sortDirection",n.sortDirection),R(`/repo/v1/subscription/all?${s.toString()}`,e,u.REPO_ENDPOINT)}function mf(e,t){return R(`/repo/v1/subscription/${t}`,e,u.REPO_ENDPOINT)}function vf(e,t){return I("/repo/v1/subscription/subscribers",t,e,u.REPO_ENDPOINT)}function Tf(e,t){return I("/repo/v1/subscription",t,e,u.REPO_ENDPOINT)}function Pf(e,t){return ee(`/repo/v1/subscription/${t}`,e,u.REPO_ENDPOINT)}function Of(e,t){return I("/repo/v1/subscription/list",t,e,u.REPO_ENDPOINT)}function _f(e,t){return R(`/file/v1/entity/${e}/uploadDestination`,t,u.REPO_ENDPOINT)}function Rf(e,t,r){return R(`/file/v1/entity/${e}/uploadDestination/${t}`,r,u.REPO_ENDPOINT)}function If(e,t,r,n="ENTITY"){const s=new URLSearchParams;return s.set("type",n),s.set("id",t),r&&s.set("type",r.toString()),St(()=>R(`${zu}?${s.toString()}`,e,u.REPO_ENDPOINT))}function Sf(e,t,r){const n=new URLSearchParams;return n.set("fileHandleId",e),t&&r&&(n.set("associatedObjectId",t),n.set("associatedObjectType",r.toString())),`${Pt(u.PORTAL_ENDPOINT)}/Portal/filehandleassociation?${n.toString()}`}const Af=(e,t)=>R(ic(e),t,u.REPO_ENDPOINT),Nf=(e,t,r=0,n=20,s=po.CREATED_ON,i=go.DESC)=>{const c=new URLSearchParams;return c.set("offset",r.toString()),c.set("limit",n.toString()),c.set("sort",s),c.set("sortDirection",i),R(`/repo/v1/entity/${e}/dockerTag?${c.toString()}`,t,u.REPO_ENDPOINT)};function bf(e,t,r){const n=new URLSearchParams;return r&&n.set("nextPageToken",r),R(`/repo/v1/accessRequirement/${t}/subjects?${n.toString()}`,e,u.REPO_ENDPOINT)}function Cf(e,t){return I("/repo/v1/column/batch",{list:t.map(r=>({...r,concreteType:"org.sagebionetworks.repo.model.table.ColumnModel"})),concreteType:"org.sagebionetworks.repo.model.ListWrapper"},e,u.REPO_ENDPOINT)}function Df(e,t){const r=new URLSearchParams;return e!=null&&r.set("viewEntityType",e),t!=null&&r.set("viewTypeMask",t.toString()),R(`/repo/v1/column/tableview/defaults?${r.toString()}`,void 0,u.REPO_ENDPOINT)}async function wf(e,t=void 0){return pn(async n=>{e.nextPageToken=n;const s=await I("/repo/v1/column/view/scope/async/start",e,t,u.REPO_ENDPOINT);return _e(s.token,`/repo/v1/column/view/scope/async/get/${s.token}`,t)})}const Lf=["DM Sans","sans-serif"].join(","),Uf=["Menlo","Courier New","Courier","monospace"].join(","),z={fontStyle:"normal",letterSpacing:"0px"},Ff=e=>({fontFamily:Lf,headline1:{...z,fontSize:"24px",fontWeight:700,lineHeight:"28px"},headline2:{...z,fontSize:"20px",fontWeight:400,lineHeight:"24px"},headline3:{...z,fontSize:"18px",fontWeight:700,lineHeight:"20px"},body1:{...z,fontSize:"16px",fontWeight:400,lineHeight:"24px"},body1Italic:{...z,fontSize:"16px",fontWeight:400,lineHeight:"24px",fontStyle:"italic"},body2:{...z,fontSize:"12px",fontWeight:400,lineHeight:"24px"},breadcrumb1:{...z,fontSize:"14px",fontWeight:400,lineHeight:"16px"},breadcrumb2:{...z,fontSize:"14px",fontWeight:700,lineHeight:"16px"},smallText1:{...z,fontSize:"14px",fontWeight:400,lineHeight:"16px"},smallText2:{...z,fontSize:"14px",fontWeight:700,lineHeight:"16px"},smallLink:{...z,fontSize:"14px",fontWeight:900,lineHeight:"16px"},label:{...z,fontSize:"14px",fontWeight:700,lineHeight:"16px"},buttonLink:{...z,fontSize:"16px",fontWeight:900,lineHeight:"20px"},hintText:{...z,fontSize:"16px",fontWeight:400,lineHeight:"24px"},sectionTitle:{...z,fontSize:"21px",fontWeight:700,lineHeight:"25px",textTransform:"uppercase"},subsectionHeader:{...z,fontSize:"18px",fontWeight:700,lineHeight:"21px"},dataFieldKey:{...z,fontSize:"14px",fontWeight:400,lineHeight:"16px",color:e.grey[700],textTransform:"uppercase"},monospace:{...z,fontFamily:Uf,fontSize:"13px"}}),B=(e,t)=>({100:fe(e).desaturate(25).lighten(50).toString(),200:fe(e).desaturate(13).lighten(20).toString(),300:fe(e).desaturate(3).lighten(10).toString(),400:fe(e).desaturate(1).lighten(5).toString(),500:fe(e).toString(),600:fe(e).saturate(5).darken(4).toString(),700:fe(e).saturate(11).darken(8).toString(),800:fe(e).saturate(18).darken(10).toString(),900:fe(e).saturate(24).darken(18).toString(),light:t&&400 in t&&t[400]||fe(e).desaturate(1).lighten(5).toString(),main:fe(e).toString(),dark:t&&600 in t&&t[600]||fe(e).saturate(5).darken(4).toString(),contrastText:"#fff",...t}),se={primary:B("#395979",{100:"#d7dee4",200:"#b0bdc9",300:"#889baf",400:"#617a94",500:"#395979",600:"#2e4761",700:"#223549",800:"#172430",900:"#0b1218"}),secondary:B("#469285",{100:"#dae9e7",200:"#b5d3ce",300:"#90beb6",400:"#6ba89d",500:"#469285",600:"#38756a",700:"#2a6960",800:"#1c3a35",900:"#0e1d1b"}),tertiary:B("#EDC766",{100:"#fbf4e0",200:"#f8e9c2",300:"#f4dda3",400:"#f1d285",500:"#edc766",600:"#be9f52",700:"#8e773d",800:"#5f5029",900:"#2f2814"}),grey:{1e3:"#22252a",900:"#353a3f",800:"#4a5056",700:"#878e95",600:"#aeb5bc",500:"#d0d4d9",400:"#dfe2e6",300:"#eaecee",200:"#f1f3f5",100:"#fbfbfc"},neutral:B("#878e95"),darkPrimary:B("#164B6E"),lightPrimary:{...B("#f8f9fa"),contrastText:"#164B6E"},light:{...B("#f8f9fa"),contrastText:"#22252a"},success:{main:"#32a330"},info:{main:"#017fa5"},warning:{main:"#cc9f00"},error:{main:"#c13415"},text:{primary:"#353a3f",secondary:"#4a5056"},contrastThreshold:4.5},Vg={...se,primary:B("#4F527D"),secondary:B("#9499C7")},jg={...se,primary:B("#e79776"),secondary:B("#e79776")},Hg={...se,primary:B("#4d5491"),secondary:B("#2f8e94")},Wg={...se,primary:B("#39AC97"),secondary:B("#39AC97")},Gg={...se,primary:{...B("#125e81"),contrastText:"#fff"},secondary:{...B("#404b63"),contrastText:"#fff"}},Yg={...se,primary:B("#00255c"),secondary:B("#2699a7")},zg={...se,primary:B("#00565e"),secondary:B("#f7a700")},Jg={...se,primary:B("#4d5491"),secondary:B("#4d5491")},Xg={...se,primary:B("#3e7293"),secondary:B("#164767")},Zg={...se,primary:B("#0085ff"),secondary:B("#0085ff")},ey={...se,primary:B("#38568e"),secondary:B("#47337d")},ty={...se,primary:B("#24AB9F"),secondary:B("#F5B33C")};({...se,primary:B("#407BA0"),secondary:B("#407BA0")});const ry={...se,primary:B("#4CB848"),secondary:B("#4CB848")},xf={defaultProps:{underline:"always"},styleOverrides:{root:({theme:e})=>({fontWeight:700,letterSpacing:"0.5px","&:hover":{color:e.palette.primary.main}}),underlineAlways:({theme:e})=>({textDecoration:"underline",textUnderlineOffset:"4px",textDecorationThickness:"1px",textDecorationColor:e.palette.grey[600],"&:hover":{textDecorationColor:e.palette.primary.main,textDecorationThickness:"2px"}}),underlineHover:{"&:hover":{textUnderlineOffset:"4px",textDecorationThickness:"2px"}}}},Le="2px",Vn=So,Di={typography:Ff,palette:se,components:{MuiAlert:{defaultProps:{square:!0,iconMapping:{error:L.jsx(aa,{}),info:L.jsx(Oo,{}),success:L.jsx(_o,{}),warning:L.jsx(oa,{})}},styleOverrides:{root:({ownerState:e,theme:t})=>({alignItems:"center",fontSize:"14px",borderLeft:`10px solid ${t.palette[e.severity||"success"].main}`,color:t.palette.text.primary}),icon:({theme:e})=>({marginRight:e.spacing(3)}),action:({ownerState:e,theme:t})=>({paddingRight:t.spacing(2),...e.onClose&&!e.action&&{color:t.palette.grey[700]}}),standardSuccess:({theme:e})=>({backgroundColor:Zt(e.palette.success.light,.8)}),standardError:({theme:e})=>({backgroundColor:Zt(e.palette.error.light,.8)}),standardWarning:({theme:e})=>({backgroundColor:Zt(e.palette.warning.light,.8)}),standardInfo:({theme:e})=>({backgroundColor:Zt(e.palette.info.light,.8)})}},MuiAlertTitle:{styleOverrides:{root:({theme:e})=>({color:e.palette.text.primary,fontSize:"14px",fontWeight:700})}},MuiLink:xf,MuiButtonBase:{defaultProps:{disableRipple:!0}},MuiButton:{styleOverrides:{root:{fontWeight:900,padding:"6px 12px",borderRadius:"3px",textTransform:"capitalize","&:hover":{transition:"0.2s"}},contained:({theme:e,ownerState:t})=>({"&:hover, &:visited":{color:t.color==="inherit"?t.color:e.palette[t.color||"primary"].contrastText}}),outlined:({theme:e,ownerState:t})=>({"&:hover, &:visited":{color:t.color==="inherit"?t.color:e.palette[t.color||"primary"].dark}}),text:({theme:e,ownerState:t})=>({"&:hover":{textDecoration:"underline",textUnderlineOffset:"4px",textDecorationColor:t.color==="inherit"?t.color:e.palette[t.color||"primary"].main,textDecorationThickness:"2px"},"&:hover, &:visited":{color:t.color==="inherit"?t.color:e.palette[t.color||"primary"].main}})}},MuiCard:{styleOverrides:{root:{border:"1px solid rgba(0, 0, 0, 0.05)",boxShadow:"0px 16px 16px rgba(0, 0, 0, 0.05), 0px 4px 4px rgba(0, 0, 0, 0.05), 0px 1px 1px rgba(0, 0, 0, 0.05)"}},defaultProps:{square:!0}},MuiCheckbox:{defaultProps:{color:"secondary"}},MuiDialog:{defaultProps:{PaperProps:{sx:e=>({borderRadius:"0px",padding:e.spacing(5.5),alignSelf:"flex-start"})}}},MuiDialogTitle:{styleOverrides:{root:({theme:e})=>({fontSize:"24px",fontWeight:700,paddingLeft:"0px",paddingRight:"0px",paddingBottom:e.spacing(3)})}},MuiDialogContent:{defaultProps:{dividers:!0},styleOverrides:{root:({ownerState:e,theme:t})=>({color:t.palette.text.secondary,paddingTop:e.dividers?t.spacing(3):0,paddingBottom:e.dividers?t.spacing(3):0,paddingLeft:Le,paddingRight:Le,marginLeft:`-${Le}`,marginRight:`-${Le}`,borderImage:e.dividers?`linear-gradient(to right, transparent 0px, transparent ${Le}, ${t.palette.grey[400]} ${Le}, ${t.palette.grey[400]} calc(100% - ${Le}), transparent calc(100% - ${Le})) 1`:void 0})}},MuiDialogActions:{styleOverrides:{root:({theme:e})=>({paddingLeft:"0px",paddingRight:"0px",paddingTop:e.spacing(3),"& .MuiButton-root":{height:"36px",padding:"0px 16px"}})}},MuiFormHelperText:{styleOverrides:{root:({theme:e})=>({marginLeft:"0","&.Mui-error":{color:e.palette.error.main}})}},MuiInputBase:{styleOverrides:{root:({theme:e,ownerState:t})=>{const r=t.error||t.focused;let n="none";r&&(t.error?n=`1px solid ${e.palette.error.main}`:t.color&&(n=`1px solid ${e.palette[t.color].main}`));const s=t.color==="warning"?e.palette[t.color].main:void 0;return{borderRadius:"3px",fontSize:"14px",position:"relative",backgroundColor:e.palette.grey[200],outline:n,"&+.MuiFormHelperText-root":{color:s},"&.Mui-disabled":{backgroundColor:e.palette.grey[100]},"&.Mui-focused":{boxShadow:`${Ro(e.palette.primary.main,.25)} 0 0 0 0.1rem`},"& fieldset":{border:"none"}}},input:({theme:e})=>({padding:"14px 12px"}),multiline:{padding:"0px"}}},MuiInputLabel:{defaultProps:{shrink:!0},styleOverrides:{root:({theme:e})=>({fontWeight:700,mb:"4px",fontSize:"14px",transform:"none"})}},MuiTextField:{styleOverrides:{root:({theme:e,ownerState:t})=>({[`& .${Io.root}`]:{marginTop:t.label&&e.spacing(3)}})}},MuiMenu:{defaultProps:{TransitionComponent:Vn}},MuiMenuItem:{styleOverrides:{root:{height:"38px",paddingLeft:"12px",paddingRight:"12px"}}},MuiTab:{styleOverrides:{root:{fontWeight:900,textTransform:"capitalize"}}},MuiTooltip:{defaultProps:{arrow:!0,TransitionComponent:Vn},styleOverrides:{arrow:({theme:e})=>({color:e.palette.common.black}),tooltip:({theme:e})=>({fontSize:"14px",borderRadius:"2px",backgroundColor:e.palette.common.black,"& .MuiLink-root":{color:"#fff"}})}},MuiTypography:{defaultProps:{variantMapping:{headline1:"p",headline2:"p",headline3:"p",body1:"p",body1Italic:"p",body2:"p",breadcrumb1:"span",breadcrumb2:"span",smallText1:"p",smallText2:"p",smallLink:"span",label:"span",buttonLink:"span",hintText:"p",sectionTitle:"p",subsectionHeader:"p",dataFieldKey:"p"}}}},styledBackground:"url('https://s3.amazonaws.com/static.synapse.org/images/SynapseLoginPageBackground.svg')"};function $f(e){return bo(Di,e)}const qr=({theme:e=Di,children:t})=>{const r=K.useMemo(()=>$f(e),[e]),n=Co(r);return L.jsx(Do,{injectFirst:!0,children:L.jsx(ea,{theme:n,children:t})})};try{qr.displayName="ThemeProvider",qr.__docgenInfo={description:"",displayName:"ThemeProvider",props:{theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"ThemeOptions"}}}}}catch{}var Mf=function(t,r){return t===void 0&&(t=[]),r===void 0&&(r=[]),t.length!==r.length||t.some(function(n,s){return!Object.is(n,r[s])})},jn={error:null},Kf=function(e){De(t,e);function t(){for(var n,s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return n=e.call.apply(e,[this].concat(i))||this,n.state=jn,n.resetErrorBoundary=function(){for(var l,m=arguments.length,g=new Array(m),E=0;E<m;E++)g[E]=arguments[E];n.props.onReset==null||(l=n.props).onReset.apply(l,g),n.reset()},n}t.getDerivedStateFromError=function(s){return{error:s}};var r=t.prototype;return r.reset=function(){this.setState(jn)},r.componentDidCatch=function(s,i){var c,l;(c=(l=this.props).onError)==null||c.call(l,s,i)},r.componentDidUpdate=function(s,i){var c=this.state.error,l=this.props.resetKeys;if(c!==null&&i.error!==null&&Mf(s.resetKeys,l)){var m,g;(m=(g=this.props).onResetKeysChange)==null||m.call(g,s.resetKeys,l),this.reset()}},r.render=function(){var s=this.state.error,i=this.props,c=i.fallbackRender,l=i.FallbackComponent,m=i.fallback;if(s!==null){var g={error:s,resetErrorBoundary:this.resetErrorBoundary};if(K.isValidElement(m))return m;if(typeof c=="function")return c(g);if(l)return K.createElement(l,g);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},t}(K.Component);function ny(e){var t=K.useState(null),r=t[0],n=t[1];if(e!=null)throw e;if(r!=null)throw r;return n}function Bf(e){const{accessToken:t,keyFactory:r}=we();return _t({...e,queryKey:r.getNotificationEmailQueryKey(),queryFn:()=>oe.getNotificationEmail(t)})}function Qf(e){const{accessToken:t,keyFactory:r}=we(),n=r.getCurrentUserProfileQueryKey();return _t({...e,queryKey:n,queryFn:()=>oe.getUserProfile(t)})}const wi=Ss|As|Ns|bs|Cs|Ds|ws;function sy(e,t=wi,r){const{accessToken:n,keyFactory:s}=we(),i=s.getUserBundleQueryKey(e,t);return _t({...r,queryKey:i,queryFn:()=>oe.getUserBundle(e,t,n)})}function qf(e=wi,t){const{accessToken:r,keyFactory:n}=we(),s=n.getUserBundleQueryKey("current",e);return _t({...t,queryKey:s,queryFn:()=>oe.getMyUserBundle(e,r)})}function iy(e,t){const{accessToken:r,keyFactory:n}=we(),s=n.getUserProfileQueryKey(e),i=`${e}_USER_PROFILE`,c=sessionStorage.getItem(i);return _t({...t,queryKey:s,queryFn:async()=>{const l=await oe.getUserProfileById(e,r);return sessionStorage.setItem(i,JSON.stringify(l)),l},placeholderData:c?JSON.parse(c):t==null?void 0:t.placeholderData})}function oy(e,t){const{accessToken:r,keyFactory:n}=we(),s=n.getPrincipalAliasQueryKey(e);return _t({...t,queryKey:s,queryFn:async()=>(await oe.getPrincipalAliasRequest(r,e)).principalId})}function ay(){return qf(void 0,{select:e=>e.isACTMember})}const kf={SWC:"https://sagebionetworks.jira.com/s/d41d8cd98f00b204e9800998ecf8427e-T/-bhcm7i/b/6/e73395c53c3b10fde2303f4bf74ffbf6/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-US&collectorId=ddc881b3","Flagged Content":"https://sagebionetworks.jira.com/s/d41d8cd98f00b204e9800998ecf8427e-T/g39zuk/b/41/e73395c53c3b10fde2303f4bf74ffbf6/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-US&collectorId=d0abcfa9","Request Access":"https://sagebionetworks.jira.com/s/d41d8cd98f00b204e9800998ecf8427e-T/-2rg9hj/b/25/e73395c53c3b10fde2303f4bf74ffbf6/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-US&collectorId=bd4dc1e5"};function kr(e){const{issueCollector:t,issueSummary:r,issueDescription:n,principalId:s,userDisplayName:i,userEmailAddress:c,synapseDataObjectId:l,componentId:m,accessRequirementId:g,issuePriority:E}=e;try{if(window.jQuery==null)throw new Error("jQuery is not present. Jira Issue Collector will not be shown.");window.jQuery.ajax({url:kf[t],type:"get",cache:!0,dataType:"script"}),window.ATL_JQ_PAGE_PROPS={triggerFunction:function(T){T()},fieldValues:{summary:r,description:n,priority:E,customfield_10840:c,email:c,customfield_10841:g,customfield_10740:s,customfield_10741:i,customfield_10742:l,fullname:i,components:m}}}catch(T){console.error(T)}}function Vr(e){const{show:t,issueCollector:r,issueSummary:n,issueDescription:s,issuePriority:i,accessRequirementId:c,synapseDataObjectId:l,componentId:m}=e,{accessToken:g}=we(),{data:E,isLoading:T}=Qf({enabled:!!g}),{data:v,isLoading:P}=Bf({enabled:!!g});K.useEffect(()=>{t&&g?E&&v?kr({issueCollector:r,issueSummary:n,issueDescription:s,synapseDataObjectId:l,componentId:m,accessRequirementId:c,issuePriority:i,principalId:E.ownerId,userDisplayName:E.displayName,userEmailAddress:v.email}):console.warn("Fetching profile data to display Jira popup"):t&&!g&&console.error("User not logged in, not showing Jira popup")},[t,g,T,P])}try{kr.displayName="showJiraIssueCollector",kr.__docgenInfo={description:"Shows the Jira issue collector when invoked.",displayName:"showJiraIssueCollector",props:{issueCollector:{defaultValue:null,description:"",name:"issueCollector",required:!0,type:{name:"enum",value:[{value:'"SWC"'},{value:'"Flagged Content"'},{value:'"Request Access"'}]}},issueSummary:{defaultValue:null,description:"",name:"issueSummary",required:!0,type:{name:"string"}},issueDescription:{defaultValue:null,description:"",name:"issueDescription",required:!0,type:{name:"string"}},issuePriority:{defaultValue:null,description:"",name:"issuePriority",required:!0,type:{name:"enum",value:[{value:'"1"'},{value:'"2"'},{value:'"3"'},{value:'"4"'},{value:'"5"'}]}},accessRequirementId:{defaultValue:null,description:"",name:"accessRequirementId",required:!1,type:{name:"string"}},synapseDataObjectId:{defaultValue:null,description:"",name:"synapseDataObjectId",required:!1,type:{name:"string"}},componentId:{defaultValue:null,description:"",name:"componentId",required:!1,type:{name:"string"}},principalId:{defaultValue:null,description:"",name:"principalId",required:!0,type:{name:"string"}},userDisplayName:{defaultValue:null,description:"",name:"userDisplayName",required:!1,type:{name:"string"}},userEmailAddress:{defaultValue:null,description:"",name:"userEmailAddress",required:!1,type:{name:"string"}}}}}catch{}try{Vr.displayName="useJiraIssueCollector",Vr.__docgenInfo={description:"Hook used to show the Jira issue collector within Synapse. The collector will only be shown if the user is logged in.",displayName:"useJiraIssueCollector",props:{accessRequirementId:{defaultValue:null,description:"",name:"accessRequirementId",required:!1,type:{name:"string"}},issueCollector:{defaultValue:null,description:"",name:"issueCollector",required:!0,type:{name:"enum",value:[{value:'"SWC"'},{value:'"Flagged Content"'},{value:'"Request Access"'}]}},issueSummary:{defaultValue:null,description:"",name:"issueSummary",required:!0,type:{name:"string"}},issueDescription:{defaultValue:null,description:"",name:"issueDescription",required:!0,type:{name:"string"}},issuePriority:{defaultValue:null,description:"",name:"issuePriority",required:!0,type:{name:"enum",value:[{value:'"1"'},{value:'"2"'},{value:'"3"'},{value:'"4"'},{value:'"5"'}]}},synapseDataObjectId:{defaultValue:null,description:"",name:"synapseDataObjectId",required:!1,type:{name:"string"}},componentId:{defaultValue:null,description:"",name:"componentId",required:!1,type:{name:"string"}},show:{defaultValue:null,description:"",name:"show",required:!0,type:{name:"boolean"}}}}}catch{}const jr=({className:e,style:t})=>L.jsx(Uo,{type:"button",style:t,className:`SignInButton ${To} ${e}`,children:"Sign In"});try{jr.displayName="SignInButton",jr.__docgenInfo={description:"",displayName:"SignInButton",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}}}}}catch{}const Vf="You are not authorized to access this resource.",jf=()=>L.jsxs(L.Fragment,{children:["Please ",L.jsx(jr,{})," to view this resource."]}),Hr=e=>{const[t,r]=K.useState(!1),{accessToken:n}=we(),{error:s}=e,i=(s.status===403||s.status===401)&&!n,c=s.status===403&&n;return Vr({show:s.status>=500,issueCollector:"SWC",issueSummary:"",issueDescription:s.reason,issuePriority:"3"}),i?L.jsx(jf,{}):c?L.jsxs(L.Fragment,{children:[L.jsxs(Fo,{direction:"row",spacing:2,children:[L.jsx(bn,{display:"flex",alignItems:"center",children:Vf}),L.jsxs(xo,{variant:"text",onClick:()=>r(l=>!l),children:[t?"Hide":"Show"," details"]})]}),L.jsx(Ko,{in:t,children:L.jsx(bn,{paddingTop:1,children:L.jsx("pre",{children:s.reason})})})]}):L.jsx(L.Fragment,{children:s.reason})},ar=e=>{const{error:t,reloadButtonFn:r}=e;if(!t)return L.jsx(L.Fragment,{});let n,s,i;return t instanceof st?n=t:t instanceof Error?s=t:typeof t=="string"&&(i=t),L.jsx(Lo,{variant:"danger",isGlobal:!1,description:L.jsxs(L.Fragment,{children:[n&&L.jsx(Hr,{error:n}),s&&s.message,i&&i]}),primaryButtonConfig:r&&{text:"Reload",onClick:r}})},Wr=({error:e,resetErrorBoundary:t})=>L.jsx("div",{className:"SRC-marginBottomTop",children:L.jsx(ar,{error:e,reloadButtonFn:t})}),Hn=({error:e,resetErrorBoundary:t})=>L.jsx("tr",{children:L.jsx("td",{colSpan:999,children:L.jsx(ar,{error:e,reloadButtonFn:t})})}),Gr=e=>L.jsx(Kf,{FallbackComponent:Wr,...e});try{Hr.displayName="ClientError",Hr.__docgenInfo={description:"",displayName:"ClientError",props:{error:{defaultValue:null,description:"",name:"error",required:!0,type:{name:"SynapseClientError"}}}}}catch{}try{ar.displayName="ErrorBanner",ar.__docgenInfo={description:"",displayName:"ErrorBanner",props:{error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"string | Error | SynapseClientError | null"}},reloadButtonFn:{defaultValue:null,description:"",name:"reloadButtonFn",required:!1,type:{name:"(() => void)"}}}}}catch{}try{Wr.displayName="ErrorFallbackComponent",Wr.__docgenInfo={description:"",displayName:"ErrorFallbackComponent",props:{}}}catch{}try{Hn.displayName="TableRowFallbackComponent",Hn.__docgenInfo={description:"",displayName:"TableRowFallbackComponent",props:{}}}catch{}try{Gr.displayName="SynapseErrorBoundary",Gr.__docgenInfo={description:`ErrorBoundary component that uses the default error fallback component, unless overridden.
Internally uses \`react-error-boundary\`.

Use with {@link react-error-boundary#handleError handleError}`,displayName:"SynapseErrorBoundary",props:{}}}catch{}function Hf(e){const t=[...e];let r=t[t.length-1];for(;t.length>0&&(r===void 0||typeof r=="object"&&ia(Er(r)));)t.pop(),r=t[t.length-1];return t}const F={all:{objectType:"entity"},entity:(e,t)=>{const r={...F.all,id:e};return t&&(r.version=t),r},versions:e=>[F.entity(e),"versions"],versionsQuery:(e,t,r)=>[...F.versions(e),{limit:t,offset:r}],json:(e,t)=>[F.entity(e,t),"json"],allActionsRequired:()=>[F.all,"actionsRequired"],actionsRequired:e=>[F.entity(e),"actionsRequired"],entityForum:e=>[F.entity(e),"entityForum"],entityChallenge:e=>[F.entity(e),"entityChallenge"],activity:(e,t)=>[F.entity(e,t),"activity"],path:e=>[F.entity(e),"path"],bundle:(e,t,r)=>[F.entity(e,t),"entityBundle",r],children:(e,t)=>[F.entity(e.parentId??"root"),"children",{isInfinite:t,entityChildrenRequest:e}],tableQueryResult:(e,t)=>[F.entity(e.entityId),{type:"tableQueryResult"},{isInfinite:t,tableQueryBundleRequest:e}],tableQueryResultWithAsyncStatus:(e,t)=>[F.entity(e.entityId),{type:"tableQueryResult",withAsyncStatus:!0},{isInfinite:t,tableQueryBundleRequest:e}],fullTableQueryResult:(e,t)=>[F.entity(e.entityId),{type:"tableQueryResult",allResults:!0},{tableQueryBundleRequest:e,forceAnonymous:t}],boundJSONSchema:e=>[F.entity(e),"boundJSONSchema"],schemaValidationResults:e=>[F.entity(e),"schemaValidationResults"],header:(e,t)=>[F.entity(e,t),"entityHeaders"],headers:e=>[F.all,"entityHeaders",e],accessRequirements:e=>[F.entity(e),"accessRequirements"]},Oe={base:"downloadList",availableFiles:e=>[Oe.base,"availableFiles",e],availableFilesInfinite:e=>[Oe.availableFiles(e),"infinite"],getActionsRequired:()=>[Oe.base,"actionsRequired"],getActionsRequiredInfinite:()=>[...Oe.getActionsRequired(),"infinite"],getStatistics:()=>[Oe.base,"statistics"]},Re="accessRequirement";class Li{constructor(t){nt(this,"accessToken");this.accessToken=t}getKey(...t){return[this.accessToken==null?"anonymous":btoa(String(Ho(this.accessToken))),...Hf(t)]}getAllEntityDataQueryKey(){return this.getKey(F.all)}getEntityQueryKey(t){return this.getKey(F.entity(t))}getEntityActivityQueryKey(t,r){return this.getKey(...F.activity(t,r))}getAllEntityActionsRequiredQueryKey(){return this.getKey(...F.allActionsRequired())}getEntityActionsRequiredQueryKey(t){return this.getKey(...F.actionsRequired(t))}getEntityChallengeQueryKey(t){return this.getKey(...F.entityChallenge(t))}getForumQueryKey(t){return this.getKey(...F.entityForum(t))}getEntityVersionQueryKey(t,r){return this.getKey(F.entity(t,r))}getPaginatedEntityVersionsQueryKey(t,r,n){return this.getKey(...F.versionsQuery(t,r,n))}getEntityVersionsQueryKey(t){return this.getKey(...F.versions(t))}getEntityChildrenQueryKey(t,r){return this.getKey(...F.children(t,r))}getEntityJsonQueryKey(t,r,n){return this.getKey(...F.json(t,r),{includeDerivedAnnotations:n})}getEntityBundleQueryKey(t,r,n){return this.getKey(...F.bundle(t,r,n))}getEntityPathQueryKey(t){return this.getKey(...F.path(t))}getEntityACLQueryKey(t){return this.getKey(F.entity(t),"acl")}getEntityAliasQueryKey(t){return this.getKey(F.all,"alias",t)}getEntityEvaluationsQueryKey(t){return this.getKey(F.entity(t),"evaluations")}getEntityPermissionsQueryKey(t){return this.getKey(F.entity(t),"permissions")}getEntityBoundJsonSchemaQueryKey(t){return this.getKey(...F.boundJSONSchema(t))}getEntitySchemaValidationResultsQueryKey(t){return this.getKey(...F.schemaValidationResults(t))}getEntityHeaderQueryKey(t,r){return this.getKey(...F.header(t,r))}getEntityAccessRequirementsQueryKey(t){return this.getKey(...F.accessRequirements(t))}getEntityHeadersQueryKey(t){return this.getKey(...F.headers(t))}getAllTableQueryResultsKey(){return this.getKey(F.all,{type:"tableQueryResult"})}getEntityTableQueryResultQueryKey(t,r){return this.getKey(...F.tableQueryResult(t,r))}getEntityTableQueryResultWithAsyncStatusQueryKey(t,r){return this.getKey(...F.tableQueryResultWithAsyncStatus(t,r))}getFullTableQueryResultQueryKey(t,r){return this.getKey(...F.fullTableQueryResult(t,r))}getDownloadListBaseQueryKey(){return this.getKey(Oe.base)}getDownloadListAvailableFilesQueryKey(t){return this.getKey(...Oe.availableFiles(t))}getDownloadListAvailableFilesInfiniteQueryKey(t){return this.getKey(...Oe.availableFilesInfinite(t))}getDownloadListActionsRequiredQueryKey(){return this.getKey(...Oe.getActionsRequired())}getDownloadListActionsRequiredInfiniteQueryKey(){return this.getKey(...Oe.getActionsRequiredInfinite())}getDownloadListStatisticsQueryKey(){return this.getKey(...Oe.getStatistics())}searchAccessApprovalsQueryKey(t){return this.getKey("accessApprovalSearch",t)}getAccessRequirementQueryKey(t){return this.getKey(Re,t)}getAccessRequirementAclQueryKey(t){return this.getKey(Re,t,"acl")}searchAccessRequirementsQueryKey(t){return this.getKey(Re,"search",t)}getAccessRequirementWikiPageKey(t){return this.getKey(Re,t,"wikiPageKey")}getAccessRequirementRestrictionInformationQueryKey(t){return this.getKey(Re,"restrictionInformation",t)}getAllAccessRequirementStatusesQueryKey(){return this.getKey(Re,"status")}getAccessRequirementStatusQueryKey(t){return this.getKey(Re,"status",t)}getDataAccessRequestForUpdateQueryKey(t){return this.getKey(Re,t,"dataAccessRequestForUpdate")}getAccessRequirementResearchProjectQueryKey(t){return this.getKey(Re,t,"researchProject")}getSortedAccessRequirementsAndStatusQueryKey(t){return this.getKey(Re,"sortedByStatus",t)}getDataAccessSubmissionQueryKey(t){return this.getKey("dataAccessSubmission",t)}searchDataAccessSubmissionQueryKey(t){return this.getKey("accessSubmissionSearch",t)}getApprovedSubmissionInfoQueryKey(t){return this.getKey("approvedSubmissionInfo",t)}getValidationSchemaQueryKey(t){return this.getKey("validationSchema",t)}getPresignedUrlContentQueryKey(t,r,n){return this.getKey("presignedUrlContent",t,r,n)}getPresignedUrlFromFHAContentQueryKey(t,r){return this.getKey("presignedUrlContentFromFHA",t,r)}getProfileImageQueryKey(t){return this.getKey("profileImageData",t)}getDefaultUploadDestinationQueryKey(t){return this.getKey("uploadDestination","default",t)}getUploadDestinationForStorageLocationQueryKey(t,r){return this.getKey("uploadDestination",t,r)}getForumModeratorsQueryKey(t){return this.getKey("moderators",t)}getForumMetadataQueryKey(t){return this.getKey("forumThread",t,"metadata")}getAllForumThreadsQueryKey(t){return this.getKey("forumthread",t)}getForumThreadsQueryKey(t,r,n,s,i){return this.getKey("forumthread",t,{limit:r,filter:i,sort:n,ascending:s})}getAllRepliesQueryKey(t){return this.getKey("reply",t)}getRepliesQueryKey(t,r,n,s,i){return this.getKey("reply",t,{limit:n,filter:i,sort:s,ascending:r})}getReplyQueryKey(t,r,n){return this.getKey("reply",t,{replyId:r,messageKey:n})}getThreadQueryKey(t){return this.getKey("thread",t)}getThreadBodyQueryKey(t,r){return this.getKey("thread",t,r)}getMyOAuthClientsQueryKey(){return this.getKey("oauthClient")}getDOIAssociationQueryKey(t,r,n){return this.getKey(["doi","association",t,r,n])}getAllSubscribersQueryKey(){return this.getKey("subscribers")}getSubscribersQueryKey(t,r){return this.getKey("subscribers",t,r)}getBaseSubscriptionQueryKey(){return this.getKey("subscription")}getAllSubscriptionsQueryKey(t){return this.getKey("subscription","all",t)}getSubscriptionQueryKey(t,r){return this.getKey("subscription",t,r)}getSearchEntitiesQueryKey(t){return this.getKey("searchEntities",t)}getTeamQueryKey(t){return this.getKey("team",t)}getTeamListQueryKey(t){return this.getKey("team",t,"teamList")}getChallengeTeamListQueryKey(t){return this.getKey("challenge",t,"teamList")}getTeamMembersQueryKey(t){return this.getKey("team",t,"membersList")}getIsUserMemberOfTeamQueryKey(t,r){return this.getKey("team",t,"member",r)}getMembershipStatusQueryKey(t,r){return this.getKey("team",t,"membershipStatus",r)}getAllOpenMembershipInvitationsForUserQueryKey(t){return this.getKey("openMembershipInvitations",t)}getTeamAccessRequirementsQueryKey(t){return this.getKey("team",t,"accessRequirements")}getFavoritesQueryKey(){return this.getKey("favorites")}getUserFavoritesQueryKey(t,r){return this.getKey("favorites",t,r)}getUserFavoritesInfiniteQueryKey(t,r){return this.getKey("favorites","infinite",t,r)}getTrashCanItemsQueryKey(){return this.getKey("trashCan","list")}getUserChallengesQueryKey(t){return this.getKey("userChallenges",t)}getPassingRecordQueryKey(t){return this.getKey("passingRecord",t)}getAllSubmissionTeamsQueryKeys(){return this.getKey("submissionTeams")}getSubmissionTeamsQueryKey(t,r,n){return this.getKey("submissionTeams",t,{limit:r,offset:n})}getUserProjectsQueryKey(t,r){return this.getKey("userProjects",t,r)}getAllUserTeamsQueryKey(){return this.getKey("userTeams")}getUserTeamsQueryKey(t){return this.getKey("userTeams",t)}getPersonalAccessTokensQueryKey(){return this.getKey("personalAccessTokens")}getMyProjectsQueryKey(t){return this.getKey("myProjects",t)}getNotificationEmailQueryKey(){return this.getKey("notificationEmail")}getCurrentUserProfileQueryKey(){return this.getKey("user","current","profile")}getUserBundleQueryKey(t,r){const n={...r&Ss?{isUserProfile:!0}:void 0,...r&As?{isOrcId:!0}:void 0,...r&Ns?{isVerificationSubmission:!0}:void 0,...r&bs?{isCertified:!0}:void 0,...r&Cs?{isVerified:!0}:void 0,...r&Ds?{isACT:!0}:void 0,...r&ws?{isARReviewer:!0}:void 0};return this.getKey("user",t,"bundle",n)}getUserProfileQueryKey(t){return this.getKey("user",t,"profile")}getPrincipalAliasQueryKey(t){return this.getKey("principalAlias",t)}getUserGroupHeaderQueryKey(t){return this.getKey("userGroupHeader",t)}getUserGroupHeaderBatchQueryKey(t){return this.getKey("userGroupHeaderBatch",t)}getUserGroupHeaderWithAliasQueryKey(t){return this.getKey("userGroupHeader",t)}getUserGroupHeaderSearchQueryKey(t,r){return this.getKey("userGroupHeader","search",t,r)}getTwoFactorAuthStatusQueryKey(){return this.getKey("twoFactorAuthStatus")}getBatchOfFiles(t){return this.getKey("fileBatch",t)}getPaginatedDockerTagQueryKey(t,r,n,s,i){return this.getKey("dockerTag",t,r,n,s,i)}getDefaultColumnModelsQueryKey(t,r){return this.getKey("defaultColumnModels",t,r)}getAnnotationColumnModelsQueryKey(t){return this.getKey("annotationColumnModels",t)}getEvaluationByIdQueryKey(t){return this.getKey("evaluation",t)}getEvaluationsQueryKey(t){return this.getKey("evaluation","paginated",t)}}const Wf={accessToken:void 0,isInExperimentalMode:!1,utcTime:!1,withErrorBoundary:!1,keyFactory:new Li(void 0),downloadCartPageUrl:"/DownloadCart"},Ft=V.createContext(Wf);function ur(e){const{children:t,synapseContext:r}=e,n=K.useMemo(()=>new Li(r.accessToken),[r.accessToken]),s=K.useMemo(()=>({accessToken:r.accessToken,isInExperimentalMode:r.isInExperimentalMode??!1,utcTime:r.utcTime??!1,withErrorBoundary:r.withErrorBoundary??!1,downloadCartPageUrl:r.downloadCartPageUrl??"/DownloadCart",keyFactory:r.keyFactory??n}),[r.accessToken,r.downloadCartPageUrl,r.isInExperimentalMode,r.keyFactory,r.utcTime,r.withErrorBoundary,n]);return L.jsx(Ft.Provider,{value:s,children:s!=null&&s.withErrorBoundary?L.jsx(Gr,{children:t}):t})}const Wn=Ft.Consumer;function we(){const e=K.useContext(Ft);if(e===void 0)throw new Error("useSynapseContext must be used within a SynapseContextProvider");return e}try{ur.displayName="SynapseContextProvider",ur.__docgenInfo={description:`Provides context necessary for most components in SRC.

The SynapseContextProvider must be wrapped in a react-query QueryClientProvider.`,displayName:"SynapseContextProvider",props:{synapseContext:{defaultValue:null,description:"",name:"synapseContext",required:!0,type:{name:"Partial<SynapseContextType>"}}}}}catch{}try{Ft.displayName="SynapseContext",Ft.__docgenInfo={description:"This must be exported to use the context in class components.",displayName:"SynapseContext",props:{}}}catch{}try{Wn.displayName="SynapseContextConsumer",Wn.__docgenInfo={description:"",displayName:"SynapseContextConsumer",props:{}}}catch{}const Gf={defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*30,retry:!1,refetchOnWindowFocus:!1}}},Yf=new _a(Gf);function Gn(e){const{children:t,synapseContext:r,queryClient:n,theme:s}=e;return L.jsx(Na,{client:n??Yf,children:L.jsx(qr,{theme:s,children:L.jsx(ur,{synapseContext:r,children:t})})})}try{Gn.displayName="FullContextProvider",Gn.__docgenInfo={description:`Provides all context necessary for components in SRC.
Contexts include
- SynapseContext
- QueryClientContext (react-query)
- ThemeContext (@mui)`,displayName:"FullContextProvider",props:{synapseContext:{defaultValue:null,description:"",name:"synapseContext",required:!0,type:{name:"Partial<SynapseContextType>"}},queryClient:{defaultValue:null,description:"",name:"queryClient",required:!1,type:{name:"QueryClient"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"ThemeOptions"}}}}}catch{}function zf(e={}){const{onSignInComplete:t,registerAccountUrl:r=`${Po.PORTAL}#!RegisterAccount:0`,onError:n,onTwoFactorAuthRequired:s}=e,i=gi(),c=new URL(window.location.href),{searchParams:l}=c,m=l==null?void 0:l.get("code"),g=l==null?void 0:l.get("provider"),E=l==null?void 0:l.get("state"),{accessToken:T}=we(),[v,P]=K.useState(!!(m&&g));return K.useEffect(()=>{if(m&&g){const S=`${i}?provider=${g}`;if(Xt.ORCID==g&&T!==void 0){const D=O=>{console.error("Error binding ORCiD to account: ",O),n&&n(O.reason)};Ci(g,m,S,u.REPO_ENDPOINT).then(t).catch(D).finally(()=>P(!1))}else if(Xt.GOOGLE==g||Xt.ORCID==g){const D=p=>{p&&("accessToken"in p?hn(p.accessToken).then(t):s&&s(p))},O=p=>{p.status===404&&window.location.replace(r),console.error("Error with account login: ",p),n&&n(p.reason)};Xt.GOOGLE==g&&E?bi(E,g,m,S,u.REPO_ENDPOINT).then(D).catch(O).finally(()=>P(!1)):mi(g,m,S,u.REPO_ENDPOINT).then(D).catch(O).finally(()=>P(!1))}else console.warn("Unknown SSO Provider: ",g),P(!1)}},[]),{isLoading:v}}function Jf(e,t){const r=localStorage.getItem(Rn);localStorage.removeItem(Rn);const n=r??t;n&&(e?n.startsWith(window.location.origin)?e.replace(n.substring(window.location.origin.length)):e.replace(n):window.location.replace(n))}const Ui=V.createContext(void 0);function Yr(e){const{context:t,children:r}=e;return L.jsx(Ui.Provider,{value:t,children:r})}const Yn=Ui.Consumer;try{Yr.displayName="ApplicationSessionContextProvider",Yr.__docgenInfo={description:"",displayName:"ApplicationSessionContextProvider",props:{context:{defaultValue:null,description:"",name:"context",required:!0,type:{name:"ApplicationSessionContextType"}}}}}catch{}try{Yn.displayName="ApplicationSessionContextConsumer",Yn.__docgenInfo={description:"",displayName:"ApplicationSessionContextConsumer",props:{}}}catch{}function tr(e){return e.charAt(0)==="/"}function Pr(e,t){for(var r=t,n=r+1,s=e.length;n<s;r+=1,n+=1)e[r]=e[n];e.pop()}function Xf(e,t){t===void 0&&(t="");var r=e&&e.split("/")||[],n=t&&t.split("/")||[],s=e&&tr(e),i=t&&tr(t),c=s||i;if(e&&tr(e)?n=r:r.length&&(n.pop(),n=n.concat(r)),!n.length)return"/";var l;if(n.length){var m=n[n.length-1];l=m==="."||m===".."||m===""}else l=!1;for(var g=0,E=n.length;E>=0;E--){var T=n[E];T==="."?Pr(n,E):T===".."?(Pr(n,E),g++):g&&(Pr(n,E),g--)}if(!c)for(;g--;g)n.unshift("..");c&&n[0]!==""&&(!n[0]||!tr(n[0]))&&n.unshift("");var v=n.join("/");return l&&v.substr(-1)!=="/"&&(v+="/"),v}function Dt(e){return e.charAt(0)==="/"?e:"/"+e}function zn(e){return e.charAt(0)==="/"?e.substr(1):e}function Zf(e,t){return e.toLowerCase().indexOf(t.toLowerCase())===0&&"/?#".indexOf(e.charAt(t.length))!==-1}function Fi(e,t){return Zf(e,t)?e.substr(t.length):e}function xi(e){return e.charAt(e.length-1)==="/"?e.slice(0,-1):e}function ep(e){var t=e||"/",r="",n="",s=t.indexOf("#");s!==-1&&(n=t.substr(s),t=t.substr(0,s));var i=t.indexOf("?");return i!==-1&&(r=t.substr(i),t=t.substr(0,i)),{pathname:t,search:r==="?"?"":r,hash:n==="#"?"":n}}function pe(e){var t=e.pathname,r=e.search,n=e.hash,s=t||"/";return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function ve(e,t,r,n){var s;typeof e=="string"?(s=ep(e),s.state=t):(s=ae({},e),s.pathname===void 0&&(s.pathname=""),s.search?s.search.charAt(0)!=="?"&&(s.search="?"+s.search):s.search="",s.hash?s.hash.charAt(0)!=="#"&&(s.hash="#"+s.hash):s.hash="",t!==void 0&&s.state===void 0&&(s.state=t));try{s.pathname=decodeURI(s.pathname)}catch(i){throw i instanceof URIError?new URIError('Pathname "'+s.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):i}return r&&(s.key=r),n?s.pathname?s.pathname.charAt(0)!=="/"&&(s.pathname=Xf(s.pathname,n.pathname)):s.pathname=n.pathname:s.pathname||(s.pathname="/"),s}function En(){var e=null;function t(c){return e=c,function(){e===c&&(e=null)}}function r(c,l,m,g){if(e!=null){var E=typeof e=="function"?e(c,l):e;typeof E=="string"?typeof m=="function"?m(E,g):g(!0):g(E!==!1)}else g(!0)}var n=[];function s(c){var l=!0;function m(){l&&c.apply(void 0,arguments)}return n.push(m),function(){l=!1,n=n.filter(function(g){return g!==m})}}function i(){for(var c=arguments.length,l=new Array(c),m=0;m<c;m++)l[m]=arguments[m];n.forEach(function(g){return g.apply(void 0,l)})}return{setPrompt:t,confirmTransitionTo:r,appendListener:s,notifyListeners:i}}var $i=!!(typeof window<"u"&&window.document&&window.document.createElement);function Mi(e,t){t(window.confirm(e))}function tp(){var e=window.navigator.userAgent;return(e.indexOf("Android 2.")!==-1||e.indexOf("Android 4.0")!==-1)&&e.indexOf("Mobile Safari")!==-1&&e.indexOf("Chrome")===-1&&e.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function rp(){return window.navigator.userAgent.indexOf("Trident")===-1}function np(){return window.navigator.userAgent.indexOf("Firefox")===-1}function sp(e){return e.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var Jn="popstate",Xn="hashchange";function Zn(){try{return window.history.state||{}}catch{return{}}}function uy(e){e===void 0&&(e={}),$i||Ot(!1);var t=window.history,r=tp(),n=!rp(),s=e,i=s.forceRefresh,c=i===void 0?!1:i,l=s.getUserConfirmation,m=l===void 0?Mi:l,g=s.keyLength,E=g===void 0?6:g,T=e.basename?xi(Dt(e.basename)):"";function v(x){var w=x||{},Q=w.key,$=w.state,H=window.location,te=H.pathname,ce=H.search,Te=H.hash,he=te+ce+Te;return T&&(he=Fi(he,T)),ve(he,$,Q)}function P(){return Math.random().toString(36).substr(2,E)}var S=En();function D(x){ae(de,x),de.length=t.length,S.notifyListeners(de.location,de.action)}function O(x){sp(x)||a(v(x.state))}function p(){a(v(Zn()))}var y=!1;function a(x){if(y)y=!1,D();else{var w="POP";S.confirmTransitionTo(x,w,m,function(Q){Q?D({action:w,location:x}):o(x)})}}function o(x){var w=de.location,Q=d.indexOf(w.key);Q===-1&&(Q=0);var $=d.indexOf(x.key);$===-1&&($=0);var H=Q-$;H&&(y=!0,G(H))}var h=v(Zn()),d=[h.key];function N(x){return T+pe(x)}function C(x,w){var Q="PUSH",$=ve(x,w,P(),de.location);S.confirmTransitionTo($,Q,m,function(H){if(H){var te=N($),ce=$.key,Te=$.state;if(r)if(t.pushState({key:ce,state:Te},null,te),c)window.location.href=te;else{var he=d.indexOf(de.location.key),Ve=d.slice(0,he+1);Ve.push($.key),d=Ve,D({action:Q,location:$})}else window.location.href=te}})}function q(x,w){var Q="REPLACE",$=ve(x,w,P(),de.location);S.confirmTransitionTo($,Q,m,function(H){if(H){var te=N($),ce=$.key,Te=$.state;if(r)if(t.replaceState({key:ce,state:Te},null,te),c)window.location.replace(te);else{var he=d.indexOf(de.location.key);he!==-1&&(d[he]=$.key),D({action:Q,location:$})}else window.location.replace(te)}})}function G(x){t.go(x)}function Y(){G(-1)}function be(){G(1)}var ke=0;function ue(x){ke+=x,ke===1&&x===1?(window.addEventListener(Jn,O),n&&window.addEventListener(Xn,p)):ke===0&&(window.removeEventListener(Jn,O),n&&window.removeEventListener(Xn,p))}var re=!1;function rt(x){x===void 0&&(x=!1);var w=S.setPrompt(x);return re||(ue(1),re=!0),function(){return re&&(re=!1,ue(-1)),w()}}function mr(x){var w=S.appendListener(x);return ue(1),function(){ue(-1),w()}}var de={length:t.length,action:"POP",location:h,createHref:N,push:C,replace:q,go:G,goBack:Y,goForward:be,block:rt,listen:mr};return de}var es="hashchange",ip={hashbang:{encodePath:function(t){return t.charAt(0)==="!"?t:"!/"+zn(t)},decodePath:function(t){return t.charAt(0)==="!"?t.substr(1):t}},noslash:{encodePath:zn,decodePath:Dt},slash:{encodePath:Dt,decodePath:Dt}};function Ki(e){var t=e.indexOf("#");return t===-1?e:e.slice(0,t)}function Nt(){var e=window.location.href,t=e.indexOf("#");return t===-1?"":e.substring(t+1)}function op(e){window.location.hash=e}function Or(e){window.location.replace(Ki(window.location.href)+"#"+e)}function cy(e){e===void 0&&(e={}),$i||Ot(!1);var t=window.history;np();var r=e,n=r.getUserConfirmation,s=n===void 0?Mi:n,i=r.hashType,c=i===void 0?"slash":i,l=e.basename?xi(Dt(e.basename)):"",m=ip[c],g=m.encodePath,E=m.decodePath;function T(){var w=E(Nt());return l&&(w=Fi(w,l)),ve(w)}var v=En();function P(w){ae(x,w),x.length=t.length,v.notifyListeners(x.location,x.action)}var S=!1,D=null;function O(w,Q){return w.pathname===Q.pathname&&w.search===Q.search&&w.hash===Q.hash}function p(){var w=Nt(),Q=g(w);if(w!==Q)Or(Q);else{var $=T(),H=x.location;if(!S&&O(H,$)||D===pe($))return;D=null,y($)}}function y(w){if(S)S=!1,P();else{var Q="POP";v.confirmTransitionTo(w,Q,s,function($){$?P({action:Q,location:w}):a(w)})}}function a(w){var Q=x.location,$=N.lastIndexOf(pe(Q));$===-1&&($=0);var H=N.lastIndexOf(pe(w));H===-1&&(H=0);var te=$-H;te&&(S=!0,Y(te))}var o=Nt(),h=g(o);o!==h&&Or(h);var d=T(),N=[pe(d)];function C(w){var Q=document.querySelector("base"),$="";return Q&&Q.getAttribute("href")&&($=Ki(window.location.href)),$+"#"+g(l+pe(w))}function q(w,Q){var $="PUSH",H=ve(w,void 0,void 0,x.location);v.confirmTransitionTo(H,$,s,function(te){if(te){var ce=pe(H),Te=g(l+ce),he=Nt()!==Te;if(he){D=ce,op(Te);var Ve=N.lastIndexOf(pe(x.location)),_n=N.slice(0,Ve+1);_n.push(ce),N=_n,P({action:$,location:H})}else P()}})}function G(w,Q){var $="REPLACE",H=ve(w,void 0,void 0,x.location);v.confirmTransitionTo(H,$,s,function(te){if(te){var ce=pe(H),Te=g(l+ce),he=Nt()!==Te;he&&(D=ce,Or(Te));var Ve=N.indexOf(pe(x.location));Ve!==-1&&(N[Ve]=ce),P({action:$,location:H})}})}function Y(w){t.go(w)}function be(){Y(-1)}function ke(){Y(1)}var ue=0;function re(w){ue+=w,ue===1&&w===1?window.addEventListener(es,p):ue===0&&window.removeEventListener(es,p)}var rt=!1;function mr(w){w===void 0&&(w=!1);var Q=v.setPrompt(w);return rt||(re(1),rt=!0),function(){return rt&&(rt=!1,re(-1)),Q()}}function de(w){var Q=v.appendListener(w);return re(1),function(){re(-1),Q()}}var x={length:t.length,action:"POP",location:d,createHref:C,push:q,replace:G,go:Y,goBack:be,goForward:ke,block:mr,listen:de};return x}function ts(e,t,r){return Math.min(Math.max(e,t),r)}function ap(e){e===void 0&&(e={});var t=e,r=t.getUserConfirmation,n=t.initialEntries,s=n===void 0?["/"]:n,i=t.initialIndex,c=i===void 0?0:i,l=t.keyLength,m=l===void 0?6:l,g=En();function E(C){ae(N,C),N.length=N.entries.length,g.notifyListeners(N.location,N.action)}function T(){return Math.random().toString(36).substr(2,m)}var v=ts(c,0,s.length-1),P=s.map(function(C){return typeof C=="string"?ve(C,void 0,T()):ve(C,void 0,C.key||T())}),S=pe;function D(C,q){var G="PUSH",Y=ve(C,q,T(),N.location);g.confirmTransitionTo(Y,G,r,function(be){if(be){var ke=N.index,ue=ke+1,re=N.entries.slice(0);re.length>ue?re.splice(ue,re.length-ue,Y):re.push(Y),E({action:G,location:Y,index:ue,entries:re})}})}function O(C,q){var G="REPLACE",Y=ve(C,q,T(),N.location);g.confirmTransitionTo(Y,G,r,function(be){be&&(N.entries[N.index]=Y,E({action:G,location:Y}))})}function p(C){var q=ts(N.index+C,0,N.entries.length-1),G="POP",Y=N.entries[q];g.confirmTransitionTo(Y,G,r,function(be){be?E({action:G,location:Y,index:q}):E()})}function y(){p(-1)}function a(){p(1)}function o(C){var q=N.index+C;return q>=0&&q<N.entries.length}function h(C){return C===void 0&&(C=!1),g.setPrompt(C)}function d(C){return g.appendListener(C)}var N={length:P.length,action:"POP",location:P[v],index:v,entries:P,createHref:S,push:D,replace:O,go:p,goBack:y,goForward:a,canGo:o,block:h,listen:d};return N}var At={exports:{}},up=Array.isArray||function(e){return Object.prototype.toString.call(e)=="[object Array]"},cr=up;At.exports=qi;At.exports.parse=mn;At.exports.compile=lp;At.exports.tokensToFunction=Bi;At.exports.tokensToRegExp=Qi;var cp=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function mn(e,t){for(var r=[],n=0,s=0,i="",c=t&&t.delimiter||"/",l;(l=cp.exec(e))!=null;){var m=l[0],g=l[1],E=l.index;if(i+=e.slice(s,E),s=E+m.length,g){i+=g[1];continue}var T=e[s],v=l[2],P=l[3],S=l[4],D=l[5],O=l[6],p=l[7];i&&(r.push(i),i="");var y=v!=null&&T!=null&&T!==v,a=O==="+"||O==="*",o=O==="?"||O==="*",h=l[2]||c,d=S||D;r.push({name:P||n++,prefix:v||"",delimiter:h,optional:o,repeat:a,partial:y,asterisk:!!p,pattern:d?fp(d):p?".*":"[^"+sr(h)+"]+?"})}return s<e.length&&(i+=e.substr(s)),i&&r.push(i),r}function lp(e,t){return Bi(mn(e,t),t)}function dp(e){return encodeURI(e).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function hp(e){return encodeURI(e).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function Bi(e,t){for(var r=new Array(e.length),n=0;n<e.length;n++)typeof e[n]=="object"&&(r[n]=new RegExp("^(?:"+e[n].pattern+")$",Tn(t)));return function(s,i){for(var c="",l=s||{},m=i||{},g=m.pretty?dp:encodeURIComponent,E=0;E<e.length;E++){var T=e[E];if(typeof T=="string"){c+=T;continue}var v=l[T.name],P;if(v==null)if(T.optional){T.partial&&(c+=T.prefix);continue}else throw new TypeError('Expected "'+T.name+'" to be defined');if(cr(v)){if(!T.repeat)throw new TypeError('Expected "'+T.name+'" to not repeat, but received `'+JSON.stringify(v)+"`");if(v.length===0){if(T.optional)continue;throw new TypeError('Expected "'+T.name+'" to not be empty')}for(var S=0;S<v.length;S++){if(P=g(v[S]),!r[E].test(P))throw new TypeError('Expected all "'+T.name+'" to match "'+T.pattern+'", but received `'+JSON.stringify(P)+"`");c+=(S===0?T.prefix:T.delimiter)+P}continue}if(P=T.asterisk?hp(v):g(v),!r[E].test(P))throw new TypeError('Expected "'+T.name+'" to match "'+T.pattern+'", but received "'+P+'"');c+=T.prefix+P}return c}}function sr(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function fp(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function vn(e,t){return e.keys=t,e}function Tn(e){return e&&e.sensitive?"":"i"}function pp(e,t){var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return vn(e,t)}function gp(e,t,r){for(var n=[],s=0;s<e.length;s++)n.push(qi(e[s],t,r).source);var i=new RegExp("(?:"+n.join("|")+")",Tn(r));return vn(i,t)}function yp(e,t,r){return Qi(mn(e,r),t,r)}function Qi(e,t,r){cr(t)||(r=t||r,t=[]),r=r||{};for(var n=r.strict,s=r.end!==!1,i="",c=0;c<e.length;c++){var l=e[c];if(typeof l=="string")i+=sr(l);else{var m=sr(l.prefix),g="(?:"+l.pattern+")";t.push(l),l.repeat&&(g+="(?:"+m+g+")*"),l.optional?l.partial?g=m+"("+g+")?":g="(?:"+m+"("+g+"))?":g=m+"("+g+")",i+=g}}var E=sr(r.delimiter||"/"),T=i.slice(-E.length)===E;return n||(i=(T?i.slice(0,-E.length):i)+"(?:"+E+"(?=$))?"),s?i+="$":i+=n&&T?"":"(?="+E+"|$)",vn(new RegExp("^"+i,Tn(r)),t)}function qi(e,t,r){return cr(t)||(r=t||r,t=[]),r=r||{},e instanceof RegExp?pp(e,t):cr(e)?gp(e,t,r):yp(e,t,r)}var Ep=At.exports;const mp=Es(Ep);var _r=1073741823,rs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof An.global<"u"?An.global:{};function vp(){var e="__global_unique_id__";return rs[e]=(rs[e]||0)+1}function Tp(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Pp(e){var t=[];return{on:function(n){t.push(n)},off:function(n){t=t.filter(function(s){return s!==n})},get:function(){return e},set:function(n,s){e=n,t.forEach(function(i){return i(e,s)})}}}function Op(e){return Array.isArray(e)?e[0]:e}function _p(e,t){var r,n,s="__create-react-context-"+vp()+"__",i=function(l){De(m,l);function m(){for(var E,T=arguments.length,v=new Array(T),P=0;P<T;P++)v[P]=arguments[P];return E=l.call.apply(l,[this].concat(v))||this,E.emitter=Pp(E.props.value),E}var g=m.prototype;return g.getChildContext=function(){var T;return T={},T[s]=this.emitter,T},g.componentWillReceiveProps=function(T){if(this.props.value!==T.value){var v=this.props.value,P=T.value,S;Tp(v,P)?S=0:(S=typeof t=="function"?t(v,P):_r,S|=0,S!==0&&this.emitter.set(T.value,S))}},g.render=function(){return this.props.children},m}(V.Component);i.childContextTypes=(r={},r[s]=Nn.object.isRequired,r);var c=function(l){De(m,l);function m(){for(var E,T=arguments.length,v=new Array(T),P=0;P<T;P++)v[P]=arguments[P];return E=l.call.apply(l,[this].concat(v))||this,E.observedBits=void 0,E.state={value:E.getValue()},E.onUpdate=function(S,D){var O=E.observedBits|0;O&D&&E.setState({value:E.getValue()})},E}var g=m.prototype;return g.componentWillReceiveProps=function(T){var v=T.observedBits;this.observedBits=v??_r},g.componentDidMount=function(){this.context[s]&&this.context[s].on(this.onUpdate);var T=this.props.observedBits;this.observedBits=T??_r},g.componentWillUnmount=function(){this.context[s]&&this.context[s].off(this.onUpdate)},g.getValue=function(){return this.context[s]?this.context[s].get():e},g.render=function(){return Op(this.props.children)(this.state.value)},m}(V.Component);return c.contextTypes=(n={},n[s]=Nn.object,n),{Provider:i,Consumer:c}}var Rp=V.createContext||_p,ki=function(t){var r=Rp();return r.displayName=t,r},Vi=ki("Router-History"),et=ki("Router"),ji=function(e){De(t,e),t.computeRootMatch=function(s){return{path:"/",url:"/",params:{},isExact:s==="/"}};function t(n){var s;return s=e.call(this,n)||this,s.state={location:n.history.location},s._isMounted=!1,s._pendingLocation=null,n.staticContext||(s.unlisten=n.history.listen(function(i){s._pendingLocation=i})),s}var r=t.prototype;return r.componentDidMount=function(){var s=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(i){s._isMounted&&s.setState({location:i})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return V.createElement(et.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},V.createElement(Vi.Provider,{children:this.props.children||null,value:this.props.history}))},t}(V.Component),ly=function(e){De(t,e);function t(){for(var n,s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return n=e.call.apply(e,[this].concat(i))||this,n.history=ap(n.props),n}var r=t.prototype;return r.render=function(){return V.createElement(ji,{history:this.history,children:this.props.children})},t}(V.Component),Ip=function(e){De(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},r.componentDidUpdate=function(s){this.props.onUpdate&&this.props.onUpdate.call(this,this,s)},r.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},r.render=function(){return null},t}(V.Component);function dy(e){var t=e.message,r=e.when,n=r===void 0?!0:r;return V.createElement(et.Consumer,null,function(s){if(s||Ot(!1),!n||s.staticContext)return null;var i=s.history.block;return V.createElement(Ip,{onMount:function(l){l.release=i(t)},onUpdate:function(l,m){m.message!==t&&(l.release(),l.release=i(t))},onUnmount:function(l){l.release()},message:t})})}var ns={},Sp=1e4,ss=0;function Ap(e,t){var r=""+t.end+t.strict+t.sensitive,n=ns[r]||(ns[r]={});if(n[e])return n[e];var s=[],i=mp(e,s,t),c={regexp:i,keys:s};return ss<Sp&&(n[e]=c,ss++),c}function Hi(e,t){t===void 0&&(t={}),(typeof t=="string"||Array.isArray(t))&&(t={path:t});var r=t,n=r.path,s=r.exact,i=s===void 0?!1:s,c=r.strict,l=c===void 0?!1:c,m=r.sensitive,g=m===void 0?!1:m,E=[].concat(n);return E.reduce(function(T,v){if(!v&&v!=="")return null;if(T)return T;var P=Ap(v,{end:i,strict:l,sensitive:g}),S=P.regexp,D=P.keys,O=S.exec(e);if(!O)return null;var p=O[0],y=O.slice(1),a=e===p;return i&&!a?null:{path:v,url:v==="/"&&p===""?"/":p,isExact:a,params:D.reduce(function(o,h,d){return o[h.name]=y[d],o},{})}},null)}function Np(e){return V.Children.count(e)===0}var hy=function(e){De(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var s=this;return V.createElement(et.Consumer,null,function(i){i||Ot(!1);var c=s.props.location||i.location,l=s.props.computedMatch?s.props.computedMatch:s.props.path?Hi(c.pathname,s.props):i.match,m=ae({},i,{location:c,match:l}),g=s.props,E=g.children,T=g.component,v=g.render;return Array.isArray(E)&&Np(E)&&(E=null),V.createElement(et.Provider,{value:m},m.match?E?typeof E=="function"?E(m):E:T?V.createElement(T,m):v?v(m):null:typeof E=="function"?E(m):null)})},t}(V.Component);function Pn(e){return e.charAt(0)==="/"?e:"/"+e}function bp(e,t){return e?ae({},t,{pathname:Pn(e)+t.pathname}):t}function Cp(e,t){if(!e)return t;var r=Pn(e);return t.pathname.indexOf(r)!==0?t:ae({},t,{pathname:t.pathname.substr(r.length)})}function is(e){return typeof e=="string"?e:pe(e)}function Rr(e){return function(){Ot(!1)}}function os(){}V.Component;var fy=function(e){De(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var s=this;return V.createElement(et.Consumer,null,function(i){i||Ot(!1);var c=s.props.location||i.location,l,m;return V.Children.forEach(s.props.children,function(g){if(m==null&&V.isValidElement(g)){l=g;var E=g.props.path||g.props.from;m=E?Hi(c.pathname,ae({},g.props,{path:E})):i.match}}),m?V.cloneElement(l,{location:c,computedMatch:m}):null})},t}(V.Component),On=V.useContext;function Dp(){return On(Vi)}function py(){return On(et).location}function gy(){var e=On(et).match;return e?e.params:{}}function as(e){const{children:t,downloadCartPageUrl:r,onResetSessionComplete:n,maxAge:s,onNoAccessTokenFound:i,forceRelogin:c}=e,l=Dp(),[m,g]=K.useState(void 0),[E,T]=K.useState(void 0),[v,P]=K.useState(!1),[S,D]=K.useState(void 0),O=K.useCallback(()=>{i&&i(),oe.signOut().then(()=>{g(void 0),T(void 0),P(!0)})},[i]),p=K.useCallback(async()=>{D(void 0);let o;try{if(o=await oe.getAccessTokenFromCookie(),!o){O();return}}catch(h){console.error("Unable to get the access token: ",h),O();return}if(s){const h=await oe.getAuthenticatedOn(o),d=Sn.utc(h.authenticatedOn);if(Sn.utc().diff(d,"seconds")>s){P(!0);return}}g(o),P(!0);try{await oe.getUserProfile(o),T(!0)}catch(h){h&&h.reason=="Terms of use have not been signed."?T(!1):(console.error("Error on refreshSession: ",h),oe.signOut().then(()=>{window.location.reload()}))}},[O,s]),y=K.useCallback(async()=>{await oe.signOut(),await p(),n&&n()},[p,n]);K.useEffect(()=>{c?y():p()},[]);const{isLoading:a}=zf({onSignInComplete:()=>{Jf(l),p()},onTwoFactorAuthRequired:o=>{D(o)}});return L.jsx(Yr,{context:{token:m,acceptsTermsOfUse:E,refreshSession:p,clearSession:y,isLoadingSSO:a,twoFactorAuthSSOErrorResponse:S,hasInitializedSession:v},children:L.jsx(ur,{synapseContext:{accessToken:m,isInExperimentalMode:oe.isInSynapseExperimentalMode(),utcTime:oe.getUseUtcTimeFromCookie(),downloadCartPageUrl:r},children:t})})}try{as.displayName="ApplicationSessionManager",as.__docgenInfo={description:`The ApplicationSessionManager will manage Synapse user session in an app. The goal is that any custom app should
just be able to add this component near the top of its component tree and have the full Synapse login lifecycle managed
while exposing minimal complexity to the app itself.

Custom per-app behavior should be customized with generalizable props to this component.

The session data can be accessed with useApplicationSessionContext.

This component must be called within a react-router Router. ApplicationSessionManager also wraps all of its children
in a SynapseContextProvider.`,displayName:"ApplicationSessionManager",props:{downloadCartPageUrl:{defaultValue:null,description:"",name:"downloadCartPageUrl",required:!1,type:{name:"string"}},maxAge:{defaultValue:null,description:"",name:"maxAge",required:!1,type:{name:"number"}},onResetSessionComplete:{defaultValue:null,description:"",name:"onResetSessionComplete",required:!1,type:{name:"(() => void)"}},onNoAccessTokenFound:{defaultValue:null,description:"",name:"onNoAccessTokenFound",required:!1,type:{name:"(() => void)"}},forceRelogin:{defaultValue:null,description:"",name:"forceRelogin",required:!1,type:{name:"boolean"}}}}}catch{}export{ly as $,oi as A,ar as B,ny as C,Hl as D,gu as E,Gn as F,zl as G,Xa as H,wl as I,uy as J,ji as K,cy as L,et as M,pe as N,Hi as O,ve as P,ia as Q,ec as R,Wn as S,kg as T,Gr as U,ti as V,st as W,_a as X,Gf as Y,zf as Z,Na as _,ur as a,nc as a$,Oi as a0,Dc as a1,Fl as a2,hd as a3,pi as a4,nu as a5,qe as a6,gg as a7,iu as a8,fu as a9,La as aA,Oa as aB,cg as aC,lg as aD,Ba as aE,di as aF,bg as aG,Vr as aH,jf as aI,Vf as aJ,_f as aK,Rf as aL,hc as aM,Fg as aN,dc as aO,Ru as aP,nn as aQ,Pu as aR,_u as aS,sn as aT,Fu as aU,ei as aV,xu as aW,Iu as aX,Zu as aY,ai as aZ,Xu as a_,zs as aa,du as ab,ou as ac,Qg as ad,yg as ae,fr as af,Ud as ag,Cd as ah,Dd as ai,wd as aj,Gt as ak,Z as al,Ms as am,Ra as an,ba as ao,wa as ap,$a as aq,Ua as ar,Fa as as,Ma as at,Ka as au,dg as av,xa as aw,Ar as ax,wt as ay,Ta as az,Lu as b,ey as b$,Qn as b0,Eu as b1,yu as b2,gr as b3,Cf as b4,qg as b5,hg as b6,fg as b7,pg as b8,pf as b9,ri as bA,on as bB,iy as bC,vi as bD,Ql as bE,Ei as bF,Pg as bG,Ec as bH,Lg as bI,py as bJ,Dp as bK,fy as bL,hy as bM,gy as bN,oy as bO,Ws as bP,ea as bQ,Di as bR,ty as bS,Vg as bT,jg as bU,Gg as bV,Yg as bW,zg as bX,Jg as bY,Xg as bZ,Zg as b_,yf as ba,gf as bb,Vh as bc,xh as bd,Qh as be,wc as bf,jh as bg,Zh as bh,ln as bi,Mc as bj,Kc as bk,Ft as bl,Si as bm,Ag as bn,mg as bo,fc as bp,Bg as bq,lc as br,bc as bs,kn as bt,Cg as bu,Zd as bv,xc as bw,pr as bx,It as by,Gu as bz,Du as c,Hg as c0,Wg as c1,ry as c2,ed as c3,Zl as c4,td as c5,Xl as c6,Uf as c7,Bf as c8,Dg as c9,dy as ca,Pc as cb,vg as cc,Eg as cd,jr as ce,Mg as cf,Og as cg,Tg as ch,Ng as ci,Wl as cj,Rg as ck,_g as cl,Ug as cm,Rt as d,Uu as e,tc as f,xg as g,we as h,$g as i,Vc as j,Ti as k,_t as l,wn as m,oe as n,Aa as o,Kg as p,hi as q,Ig as r,Sg as s,Rl as t,ay as u,wg as v,Qf as w,qf as x,xl as y,sy as z};
