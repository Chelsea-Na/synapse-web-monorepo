import{a as I,j as y,F as Qt}from"./jsx-runtime-670450c2.js";import{r as U}from"./index-f1f749bf.js";import{S as qt}from"./LeftRightPanel-d3371f75.js";import{a9 as Pt,d$ as Wt,e0 as Zt,e1 as Xt,e2 as te}from"./SynapseContext-3d6f4701.js";import{T as ee}from"./TextField-da812849.js";import{S as ne}from"./LoadingScreen-81288bea.js";import{F as oe}from"./FullWidthAlert-89ce8092.js";import{u as Rt}from"./useMutation-e842287b.js";import{I as re}from"./IconSvg-03399efa.js";import{b as ie,D as se,a as ae}from"./DialogContent-ca6561f6.js";import{D as ce}from"./DialogTitle-eec749ba.js";import{S as lt}from"./Stack-5733f74f.js";import{B as L}from"./Box-5df43b07.js";import{I as le}from"./IconButton-f192840c.js";import{T as F}from"./Typography-0df81c96.js";import{B as Dt}from"./Button-41488909.js";import{P as ue}from"./Paper-0c480ce9.js";import{L as k}from"./Link-d152009e.js";import{D as Bt}from"./Divider-5129de9c.js";import{s as Lt}from"./styled-1b6f4d44.js";import{d as fe}from"./ToastMessage-37d46070.js";import"./_commonjsHelpers-042e6b4d.js";import"./index-96c5f47c.js";import"./extends-9cd95192.js";import"./inheritsLoose-d541526f.js";import"./setPrototypeOf-0bb37fbe.js";import"./Fade-df5bc5e3.js";import"./extends-98964cd2.js";import"./useTheme-b2c92aa4.js";import"./Clear-b4ccb838.js";import"./isHostComponent-fa76b8d9.js";import"./useForkRef-dd8a6e5c.js";import"./useIsFocusVisible-83eed526.js";import"./Transition-955f7fb7.js";import"./inheritsLoose-c82a83d4.js";import"./TransitionGroupContext-ab7f4b4e.js";import"./SvgIcon-36e6768e.js";import"./isArray-5e3f9107.js";import"./getEndpoint-5374ab4d.js";import"./SynapseConstants-41b9b1f3.js";import"./Button-a16e56e5.js";import"./Alert-4bfa1ee7.js";import"./hook-3d9ea2b9.js";import"./createWithBsPrefix-d1384812.js";import"./divWithClassName-f0cd5fab.js";import"./index-4d501b15.js";import"./FormControl-036171c8.js";import"./ownerWindow-12ded16b.js";import"./emotion-react.browser.esm-0771b2df.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-eaaa54fe.js";import"./Modal-269ceb3c.js";import"./contains-33365353.js";import"./useWillUnmount-7fb15b8a.js";import"./usePrevious-9f30f8c7.js";import"./removeClass-164fd327.js";import"./hasClass-ec9efd32.js";import"./useWaitForDOMRef-c561e186.js";import"./Modal-bc9185fb.js";import"./getScrollbarSize-ac846fe6.js";import"./extendSxProp-c6163236.js";import"./ButtonBase-4feee6fc.js";import"./assertThisInitialized-4a7b3b26.js";import"./assertThisInitialized-081f9914.js";import"./uniqueId-4d05949d.js";import"./toString-cc90cb98.js";import"./isSymbol-7c514724.js";var de=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},_t={},b={};let wt;const he=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];b.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};b.getSymbolTotalCodewords=function(e){return he[e]};b.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};b.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');wt=e};b.isKanjiModeEnabled=function(){return typeof wt<"u"};b.toSJIS=function(e){return wt(e)};var Z={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+i)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,o){if(t.isValid(r))return r;try{return e(r)}catch{return o}}})(Z);function vt(){this.buffer=[],this.length=0}vt.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let i=0;i<e;i++)this.putBit((t>>>e-i-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var ge=vt;function J(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}J.prototype.set=function(t,e,i,r){const o=t*this.size+e;this.data[o]=i,r&&(this.reservedBit[o]=!0)};J.prototype.get=function(t,e){return this.data[t*this.size+e]};J.prototype.xor=function(t,e,i){this.data[t*this.size+e]^=i};J.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var me=J,Ut={};(function(t){const e=b.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const o=Math.floor(r/7)+2,n=e(r),s=n===145?26:Math.ceil((n-13)/(2*o-2))*2,c=[n-7];for(let a=1;a<o-1;a++)c[a]=c[a-1]-s;return c.push(6),c.reverse()},t.getPositions=function(r){const o=[],n=t.getRowColCoords(r),s=n.length;for(let c=0;c<s;c++)for(let a=0;a<s;a++)c===0&&a===0||c===0&&a===s-1||c===s-1&&a===0||o.push([n[c],n[a]]);return o}})(Ut);var kt={};const pe=b.getSymbolSize,Tt=7;kt.getPositions=function(e){const i=pe(e);return[[0,0],[i-Tt,0],[0,i-Tt]]};var zt={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(o){return o!=null&&o!==""&&!isNaN(o)&&o>=0&&o<=7},t.from=function(o){return t.isValid(o)?parseInt(o,10):void 0},t.getPenaltyN1=function(o){const n=o.size;let s=0,c=0,a=0,l=null,u=null;for(let E=0;E<n;E++){c=a=0,l=u=null;for(let g=0;g<n;g++){let f=o.get(E,g);f===l?c++:(c>=5&&(s+=e.N1+(c-5)),l=f,c=1),f=o.get(g,E),f===u?a++:(a>=5&&(s+=e.N1+(a-5)),u=f,a=1)}c>=5&&(s+=e.N1+(c-5)),a>=5&&(s+=e.N1+(a-5))}return s},t.getPenaltyN2=function(o){const n=o.size;let s=0;for(let c=0;c<n-1;c++)for(let a=0;a<n-1;a++){const l=o.get(c,a)+o.get(c,a+1)+o.get(c+1,a)+o.get(c+1,a+1);(l===4||l===0)&&s++}return s*e.N2},t.getPenaltyN3=function(o){const n=o.size;let s=0,c=0,a=0;for(let l=0;l<n;l++){c=a=0;for(let u=0;u<n;u++)c=c<<1&2047|o.get(l,u),u>=10&&(c===1488||c===93)&&s++,a=a<<1&2047|o.get(u,l),u>=10&&(a===1488||a===93)&&s++}return s*e.N3},t.getPenaltyN4=function(o){let n=0;const s=o.data.length;for(let a=0;a<s;a++)n+=o.data[a];return Math.abs(Math.ceil(n*100/s/5)-10)*e.N4};function i(r,o,n){switch(r){case t.Patterns.PATTERN000:return(o+n)%2===0;case t.Patterns.PATTERN001:return o%2===0;case t.Patterns.PATTERN010:return n%3===0;case t.Patterns.PATTERN011:return(o+n)%3===0;case t.Patterns.PATTERN100:return(Math.floor(o/2)+Math.floor(n/3))%2===0;case t.Patterns.PATTERN101:return o*n%2+o*n%3===0;case t.Patterns.PATTERN110:return(o*n%2+o*n%3)%2===0;case t.Patterns.PATTERN111:return(o*n%3+(o+n)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(o,n){const s=n.size;for(let c=0;c<s;c++)for(let a=0;a<s;a++)n.isReserved(a,c)||n.xor(a,c,i(o,a,c))},t.getBestMask=function(o,n){const s=Object.keys(t.Patterns).length;let c=0,a=1/0;for(let l=0;l<s;l++){n(l),t.applyMask(l,o);const u=t.getPenaltyN1(o)+t.getPenaltyN2(o)+t.getPenaltyN3(o)+t.getPenaltyN4(o);t.applyMask(l,o),u<a&&(a=u,c=l)}return c}})(zt);var X={};const _=Z,G=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Y=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];X.getBlocksCount=function(e,i){switch(i){case _.L:return G[(e-1)*4+0];case _.M:return G[(e-1)*4+1];case _.Q:return G[(e-1)*4+2];case _.H:return G[(e-1)*4+3];default:return}};X.getTotalCodewordsCount=function(e,i){switch(i){case _.L:return Y[(e-1)*4+0];case _.M:return Y[(e-1)*4+1];case _.Q:return Y[(e-1)*4+2];case _.H:return Y[(e-1)*4+3];default:return}};var Vt={},tt={};const O=new Uint8Array(512),q=new Uint8Array(256);(function(){let e=1;for(let i=0;i<255;i++)O[i]=e,q[e]=i,e<<=1,e&256&&(e^=285);for(let i=255;i<512;i++)O[i]=O[i-255]})();tt.log=function(e){if(e<1)throw new Error("log("+e+")");return q[e]};tt.exp=function(e){return O[e]};tt.mul=function(e,i){return e===0||i===0?0:O[q[e]+q[i]]};(function(t){const e=tt;t.mul=function(r,o){const n=new Uint8Array(r.length+o.length-1);for(let s=0;s<r.length;s++)for(let c=0;c<o.length;c++)n[s+c]^=e.mul(r[s],o[c]);return n},t.mod=function(r,o){let n=new Uint8Array(r);for(;n.length-o.length>=0;){const s=n[0];for(let a=0;a<o.length;a++)n[a]^=e.mul(o[a],s);let c=0;for(;c<n.length&&n[c]===0;)c++;n=n.slice(c)}return n},t.generateECPolynomial=function(r){let o=new Uint8Array([1]);for(let n=0;n<r;n++)o=t.mul(o,new Uint8Array([1,e.exp(n)]));return o}})(Vt);const Ht=Vt;function yt(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}yt.prototype.initialize=function(e){this.degree=e,this.genPoly=Ht.generateECPolynomial(this.degree)};yt.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(e.length+this.degree);i.set(e);const r=Ht.mod(i,this.genPoly),o=this.degree-r.length;if(o>0){const n=new Uint8Array(this.degree);return n.set(r,o),n}return r};var we=yt,xt={},v={},Et={};Et.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var P={};const Kt="[0-9]+",ye="[A-Z $%*+\\-./:]+";let $="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";$=$.replace(/u/g,"\\u");const Ee="(?:(?![A-Z0-9 $%*+\\-./:]|"+$+`)(?:.|[\r
]))+`;P.KANJI=new RegExp($,"g");P.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");P.BYTE=new RegExp(Ee,"g");P.NUMERIC=new RegExp(Kt,"g");P.ALPHANUMERIC=new RegExp(ye,"g");const Ce=new RegExp("^"+$+"$"),Ae=new RegExp("^"+Kt+"$"),Be=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");P.testKanji=function(e){return Ce.test(e)};P.testNumeric=function(e){return Ae.test(e)};P.testAlphanumeric=function(e){return Be.test(e)};(function(t){const e=Et,i=P;t.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(n,s){if(!n.ccBits)throw new Error("Invalid mode: "+n);if(!e.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?n.ccBits[0]:s<27?n.ccBits[1]:n.ccBits[2]},t.getBestModeForData=function(n){return i.testNumeric(n)?t.NUMERIC:i.testAlphanumeric(n)?t.ALPHANUMERIC:i.testKanji(n)?t.KANJI:t.BYTE},t.toString=function(n){if(n&&n.id)return n.id;throw new Error("Invalid mode")},t.isValid=function(n){return n&&n.bit&&n.ccBits};function r(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+o)}}t.from=function(n,s){if(t.isValid(n))return n;try{return r(n)}catch{return s}}})(v);(function(t){const e=b,i=X,r=Z,o=v,n=Et,s=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,c=e.getBCHDigit(s);function a(g,f,w){for(let p=1;p<=40;p++)if(f<=t.getCapacity(p,w,g))return p}function l(g,f){return o.getCharCountIndicator(g,f)+4}function u(g,f){let w=0;return g.forEach(function(p){const S=l(p.mode,f);w+=S+p.getBitsLength()}),w}function E(g,f){for(let w=1;w<=40;w++)if(u(g,w)<=t.getCapacity(w,f,o.MIXED))return w}t.from=function(f,w){return n.isValid(f)?parseInt(f,10):w},t.getCapacity=function(f,w,p){if(!n.isValid(f))throw new Error("Invalid QR Code version");typeof p>"u"&&(p=o.BYTE);const S=e.getSymbolTotalCodewords(f),m=i.getTotalCodewordsCount(f,w),C=(S-m)*8;if(p===o.MIXED)return C;const h=C-l(p,f);switch(p){case o.NUMERIC:return Math.floor(h/10*3);case o.ALPHANUMERIC:return Math.floor(h/11*2);case o.KANJI:return Math.floor(h/13);case o.BYTE:default:return Math.floor(h/8)}},t.getBestVersionForData=function(f,w){let p;const S=r.from(w,r.M);if(Array.isArray(f)){if(f.length>1)return E(f,S);if(f.length===0)return 1;p=f[0]}else p=f;return a(p.mode,p.getLength(),S)},t.getEncodedBits=function(f){if(!n.isValid(f)||f<7)throw new Error("Invalid QR Code version");let w=f<<12;for(;e.getBCHDigit(w)-c>=0;)w^=s<<e.getBCHDigit(w)-c;return f<<12|w}})(xt);var Ot={};const ut=b,$t=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,Te=1<<14|1<<12|1<<10|1<<4|1<<1,St=ut.getBCHDigit($t);Ot.getEncodedBits=function(e,i){const r=e.bit<<3|i;let o=r<<10;for(;ut.getBCHDigit(o)-St>=0;)o^=$t<<ut.getBCHDigit(o)-St;return(r<<10|o)^Te};var Jt={};const Se=v;function z(t){this.mode=Se.NUMERIC,this.data=t.toString()}z.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};z.prototype.getLength=function(){return this.data.length};z.prototype.getBitsLength=function(){return z.getBitsLength(this.data.length)};z.prototype.write=function(e){let i,r,o;for(i=0;i+3<=this.data.length;i+=3)r=this.data.substr(i,3),o=parseInt(r,10),e.put(o,10);const n=this.data.length-i;n>0&&(r=this.data.substr(i),o=parseInt(r,10),e.put(o,n*3+1))};var Ie=z;const be=v,ot=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function V(t){this.mode=be.ALPHANUMERIC,this.data=t}V.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};V.prototype.getLength=function(){return this.data.length};V.prototype.getBitsLength=function(){return V.getBitsLength(this.data.length)};V.prototype.write=function(e){let i;for(i=0;i+2<=this.data.length;i+=2){let r=ot.indexOf(this.data[i])*45;r+=ot.indexOf(this.data[i+1]),e.put(r,11)}this.data.length%2&&e.put(ot.indexOf(this.data[i]),6)};var Ne=V,Me=function(e){for(var i=[],r=e.length,o=0;o<r;o++){var n=e.charCodeAt(o);if(n>=55296&&n<=56319&&r>o+1){var s=e.charCodeAt(o+1);s>=56320&&s<=57343&&(n=(n-55296)*1024+s-56320+65536,o+=1)}if(n<128){i.push(n);continue}if(n<2048){i.push(n>>6|192),i.push(n&63|128);continue}if(n<55296||n>=57344&&n<65536){i.push(n>>12|224),i.push(n>>6&63|128),i.push(n&63|128);continue}if(n>=65536&&n<=1114111){i.push(n>>18|240),i.push(n>>12&63|128),i.push(n>>6&63|128),i.push(n&63|128);continue}i.push(239,191,189)}return new Uint8Array(i).buffer};const Fe=Me,Pe=v;function H(t){this.mode=Pe.BYTE,typeof t=="string"&&(t=Fe(t)),this.data=new Uint8Array(t)}H.getBitsLength=function(e){return e*8};H.prototype.getLength=function(){return this.data.length};H.prototype.getBitsLength=function(){return H.getBitsLength(this.data.length)};H.prototype.write=function(t){for(let e=0,i=this.data.length;e<i;e++)t.put(this.data[e],8)};var Re=H;const De=v,Le=b;function x(t){this.mode=De.KANJI,this.data=t}x.getBitsLength=function(e){return e*13};x.prototype.getLength=function(){return this.data.length};x.prototype.getBitsLength=function(){return x.getBitsLength(this.data.length)};x.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let i=Le.toSJIS(this.data[e]);if(i>=33088&&i<=40956)i-=33088;else if(i>=57408&&i<=60351)i-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);i=(i>>>8&255)*192+(i&255),t.put(i,13)}};var _e=x,ft={},ve={get exports(){return ft},set exports(t){ft=t}};(function(t){var e={single_source_shortest_paths:function(i,r,o){var n={},s={};s[r]=0;var c=e.PriorityQueue.make();c.push(r,0);for(var a,l,u,E,g,f,w,p,S;!c.empty();){a=c.pop(),l=a.value,E=a.cost,g=i[l]||{};for(u in g)g.hasOwnProperty(u)&&(f=g[u],w=E+f,p=s[u],S=typeof s[u]>"u",(S||p>w)&&(s[u]=w,c.push(u,w),n[u]=l))}if(typeof o<"u"&&typeof s[o]>"u"){var m=["Could not find a path from ",r," to ",o,"."].join("");throw new Error(m)}return n},extract_shortest_path_from_predecessor_list:function(i,r){for(var o=[],n=r;n;)o.push(n),i[n],n=i[n];return o.reverse(),o},find_path:function(i,r,o){var n=e.single_source_shortest_paths(i,r,o);return e.extract_shortest_path_from_predecessor_list(n,o)},PriorityQueue:{make:function(i){var r=e.PriorityQueue,o={},n;i=i||{};for(n in r)r.hasOwnProperty(n)&&(o[n]=r[n]);return o.queue=[],o.sorter=i.sorter||r.default_sorter,o},default_sorter:function(i,r){return i.cost-r.cost},push:function(i,r){var o={value:i,cost:r};this.queue.push(o),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(ve);(function(t){const e=v,i=Ie,r=Ne,o=Re,n=_e,s=P,c=b,a=ft;function l(m){return unescape(encodeURIComponent(m)).length}function u(m,C,h){const d=[];let A;for(;(A=m.exec(h))!==null;)d.push({data:A[0],index:A.index,mode:C,length:A[0].length});return d}function E(m){const C=u(s.NUMERIC,e.NUMERIC,m),h=u(s.ALPHANUMERIC,e.ALPHANUMERIC,m);let d,A;return c.isKanjiModeEnabled()?(d=u(s.BYTE,e.BYTE,m),A=u(s.KANJI,e.KANJI,m)):(d=u(s.BYTE_KANJI,e.BYTE,m),A=[]),C.concat(h,d,A).sort(function(T,N){return T.index-N.index}).map(function(T){return{data:T.data,mode:T.mode,length:T.length}})}function g(m,C){switch(C){case e.NUMERIC:return i.getBitsLength(m);case e.ALPHANUMERIC:return r.getBitsLength(m);case e.KANJI:return n.getBitsLength(m);case e.BYTE:return o.getBitsLength(m)}}function f(m){return m.reduce(function(C,h){const d=C.length-1>=0?C[C.length-1]:null;return d&&d.mode===h.mode?(C[C.length-1].data+=h.data,C):(C.push(h),C)},[])}function w(m){const C=[];for(let h=0;h<m.length;h++){const d=m[h];switch(d.mode){case e.NUMERIC:C.push([d,{data:d.data,mode:e.ALPHANUMERIC,length:d.length},{data:d.data,mode:e.BYTE,length:d.length}]);break;case e.ALPHANUMERIC:C.push([d,{data:d.data,mode:e.BYTE,length:d.length}]);break;case e.KANJI:C.push([d,{data:d.data,mode:e.BYTE,length:l(d.data)}]);break;case e.BYTE:C.push([{data:d.data,mode:e.BYTE,length:l(d.data)}])}}return C}function p(m,C){const h={},d={start:{}};let A=["start"];for(let B=0;B<m.length;B++){const T=m[B],N=[];for(let D=0;D<T.length;D++){const M=T[D],K=""+B+D;N.push(K),h[K]={node:M,lastCount:0},d[K]={};for(let nt=0;nt<A.length;nt++){const R=A[nt];h[R]&&h[R].node.mode===M.mode?(d[R][K]=g(h[R].lastCount+M.length,M.mode)-g(h[R].lastCount,M.mode),h[R].lastCount+=M.length):(h[R]&&(h[R].lastCount=M.length),d[R][K]=g(M.length,M.mode)+4+e.getCharCountIndicator(M.mode,C))}}A=N}for(let B=0;B<A.length;B++)d[A[B]].end=0;return{map:d,table:h}}function S(m,C){let h;const d=e.getBestModeForData(m);if(h=e.from(C,d),h!==e.BYTE&&h.bit<d.bit)throw new Error('"'+m+'" cannot be encoded with mode '+e.toString(h)+`.
 Suggested mode is: `+e.toString(d));switch(h===e.KANJI&&!c.isKanjiModeEnabled()&&(h=e.BYTE),h){case e.NUMERIC:return new i(m);case e.ALPHANUMERIC:return new r(m);case e.KANJI:return new n(m);case e.BYTE:return new o(m)}}t.fromArray=function(C){return C.reduce(function(h,d){return typeof d=="string"?h.push(S(d,null)):d.data&&h.push(S(d.data,d.mode)),h},[])},t.fromString=function(C,h){const d=E(C,c.isKanjiModeEnabled()),A=w(d),B=p(A,h),T=a.find_path(B.map,"start","end"),N=[];for(let D=1;D<T.length-1;D++)N.push(B.table[T[D]].node);return t.fromArray(f(N))},t.rawSplit=function(C){return t.fromArray(E(C,c.isKanjiModeEnabled()))}})(Jt);const et=b,rt=Z,Ue=ge,ke=me,ze=Ut,Ve=kt,dt=zt,ht=X,He=we,W=xt,xe=Ot,Ke=v,it=Jt;function Oe(t,e){const i=t.size,r=Ve.getPositions(e);for(let o=0;o<r.length;o++){const n=r[o][0],s=r[o][1];for(let c=-1;c<=7;c++)if(!(n+c<=-1||i<=n+c))for(let a=-1;a<=7;a++)s+a<=-1||i<=s+a||(c>=0&&c<=6&&(a===0||a===6)||a>=0&&a<=6&&(c===0||c===6)||c>=2&&c<=4&&a>=2&&a<=4?t.set(n+c,s+a,!0,!0):t.set(n+c,s+a,!1,!0))}}function $e(t){const e=t.size;for(let i=8;i<e-8;i++){const r=i%2===0;t.set(i,6,r,!0),t.set(6,i,r,!0)}}function Je(t,e){const i=ze.getPositions(e);for(let r=0;r<i.length;r++){const o=i[r][0],n=i[r][1];for(let s=-2;s<=2;s++)for(let c=-2;c<=2;c++)s===-2||s===2||c===-2||c===2||s===0&&c===0?t.set(o+s,n+c,!0,!0):t.set(o+s,n+c,!1,!0)}}function Ge(t,e){const i=t.size,r=W.getEncodedBits(e);let o,n,s;for(let c=0;c<18;c++)o=Math.floor(c/3),n=c%3+i-8-3,s=(r>>c&1)===1,t.set(o,n,s,!0),t.set(n,o,s,!0)}function st(t,e,i){const r=t.size,o=xe.getEncodedBits(e,i);let n,s;for(n=0;n<15;n++)s=(o>>n&1)===1,n<6?t.set(n,8,s,!0):n<8?t.set(n+1,8,s,!0):t.set(r-15+n,8,s,!0),n<8?t.set(8,r-n-1,s,!0):n<9?t.set(8,15-n-1+1,s,!0):t.set(8,15-n-1,s,!0);t.set(r-8,8,1,!0)}function Ye(t,e){const i=t.size;let r=-1,o=i-1,n=7,s=0;for(let c=i-1;c>0;c-=2)for(c===6&&c--;;){for(let a=0;a<2;a++)if(!t.isReserved(o,c-a)){let l=!1;s<e.length&&(l=(e[s]>>>n&1)===1),t.set(o,c-a,l),n--,n===-1&&(s++,n=7)}if(o+=r,o<0||i<=o){o-=r,r=-r;break}}}function je(t,e,i){const r=new Ue;i.forEach(function(a){r.put(a.mode.bit,4),r.put(a.getLength(),Ke.getCharCountIndicator(a.mode,t)),a.write(r)});const o=et.getSymbolTotalCodewords(t),n=ht.getTotalCodewordsCount(t,e),s=(o-n)*8;for(r.getLengthInBits()+4<=s&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const c=(s-r.getLengthInBits())/8;for(let a=0;a<c;a++)r.put(a%2?17:236,8);return Qe(r,t,e)}function Qe(t,e,i){const r=et.getSymbolTotalCodewords(e),o=ht.getTotalCodewordsCount(e,i),n=r-o,s=ht.getBlocksCount(e,i),c=r%s,a=s-c,l=Math.floor(r/s),u=Math.floor(n/s),E=u+1,g=l-u,f=new He(g);let w=0;const p=new Array(s),S=new Array(s);let m=0;const C=new Uint8Array(t.buffer);for(let T=0;T<s;T++){const N=T<a?u:E;p[T]=C.slice(w,w+N),S[T]=f.encode(p[T]),w+=N,m=Math.max(m,N)}const h=new Uint8Array(r);let d=0,A,B;for(A=0;A<m;A++)for(B=0;B<s;B++)A<p[B].length&&(h[d++]=p[B][A]);for(A=0;A<g;A++)for(B=0;B<s;B++)h[d++]=S[B][A];return h}function qe(t,e,i,r){let o;if(Array.isArray(t))o=it.fromArray(t);else if(typeof t=="string"){let l=e;if(!l){const u=it.rawSplit(t);l=W.getBestVersionForData(u,i)}o=it.fromString(t,l||40)}else throw new Error("Invalid data");const n=W.getBestVersionForData(o,i);if(!n)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=n;else if(e<n)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+n+`.
`);const s=je(e,i,o),c=et.getSymbolSize(e),a=new ke(c);return Oe(a,e),$e(a),Je(a,e),st(a,i,0),e>=7&&Ge(a,e),Ye(a,s),isNaN(r)&&(r=dt.getBestMask(a,st.bind(null,a,i))),dt.applyMask(r,a),st(a,i,r),{modules:a,version:e,errorCorrectionLevel:i,maskPattern:r,segments:o}}_t.create=function(e,i){if(typeof e>"u"||e==="")throw new Error("No input text");let r=rt.M,o,n;return typeof i<"u"&&(r=rt.from(i.errorCorrectionLevel,rt.M),o=W.from(i.version),n=dt.from(i.maskPattern),i.toSJISFunc&&et.setToSJISFunction(i.toSJISFunc)),qe(e,o,r,n)};var Gt={},Ct={};(function(t){function e(i){if(typeof i=="number"&&(i=i.toString()),typeof i!="string")throw new Error("Color should be defined as hex string");let r=i.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+i);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(n){return[n,n]}))),r.length===6&&r.push("F","F");const o=parseInt(r.join(""),16);return{r:o>>24&255,g:o>>16&255,b:o>>8&255,a:o&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const o=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,n=r.width&&r.width>=21?r.width:void 0,s=r.scale||4;return{width:n,scale:n?4:s,margin:o,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,o){return o.width&&o.width>=r+o.margin*2?o.width/(r+o.margin*2):o.scale},t.getImageWidth=function(r,o){const n=t.getScale(r,o);return Math.floor((r+o.margin*2)*n)},t.qrToImageData=function(r,o,n){const s=o.modules.size,c=o.modules.data,a=t.getScale(s,n),l=Math.floor((s+n.margin*2)*a),u=n.margin*a,E=[n.color.light,n.color.dark];for(let g=0;g<l;g++)for(let f=0;f<l;f++){let w=(g*l+f)*4,p=n.color.light;if(g>=u&&f>=u&&g<l-u&&f<l-u){const S=Math.floor((g-u)/a),m=Math.floor((f-u)/a);p=E[c[S*s+m]?1:0]}r[w++]=p.r,r[w++]=p.g,r[w++]=p.b,r[w]=p.a}}})(Ct);(function(t){const e=Ct;function i(o,n,s){o.clearRect(0,0,n.width,n.height),n.style||(n.style={}),n.height=s,n.width=s,n.style.height=s+"px",n.style.width=s+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(n,s,c){let a=c,l=s;typeof a>"u"&&(!s||!s.getContext)&&(a=s,s=void 0),s||(l=r()),a=e.getOptions(a);const u=e.getImageWidth(n.modules.size,a),E=l.getContext("2d"),g=E.createImageData(u,u);return e.qrToImageData(g.data,n,a),i(E,l,u),E.putImageData(g,0,0),l},t.renderToDataURL=function(n,s,c){let a=c;typeof a>"u"&&(!s||!s.getContext)&&(a=s,s=void 0),a||(a={});const l=t.render(n,s,a),u=a.type||"image/png",E=a.rendererOpts||{};return l.toDataURL(u,E.quality)}})(Gt);var Yt={};const We=Ct;function It(t,e){const i=t.a/255,r=e+'="'+t.hex+'"';return i<1?r+" "+e+'-opacity="'+i.toFixed(2).slice(1)+'"':r}function at(t,e,i){let r=t+e;return typeof i<"u"&&(r+=" "+i),r}function Ze(t,e,i){let r="",o=0,n=!1,s=0;for(let c=0;c<t.length;c++){const a=Math.floor(c%e),l=Math.floor(c/e);!a&&!n&&(n=!0),t[c]?(s++,c>0&&a>0&&t[c-1]||(r+=n?at("M",a+i,.5+l+i):at("m",o,0),o=0,n=!1),a+1<e&&t[c+1]||(r+=at("h",s),s=0)):o++}return r}Yt.render=function(e,i,r){const o=We.getOptions(i),n=e.modules.size,s=e.modules.data,c=n+o.margin*2,a=o.color.light.a?"<path "+It(o.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",l="<path "+It(o.color.dark,"stroke")+' d="'+Ze(s,n,o.margin)+'"/>',u='viewBox="0 0 '+c+" "+c+'"',g='<svg xmlns="http://www.w3.org/2000/svg" '+(o.width?'width="'+o.width+'" height="'+o.width+'" ':"")+u+' shape-rendering="crispEdges">'+a+l+`</svg>
`;return typeof r=="function"&&r(null,g),g};const Xe=de,gt=_t,jt=Gt,tn=Yt;function At(t,e,i,r,o){const n=[].slice.call(arguments,1),s=n.length,c=typeof n[s-1]=="function";if(!c&&!Xe())throw new Error("Callback required as last argument");if(c){if(s<2)throw new Error("Too few arguments provided");s===2?(o=i,i=e,e=r=void 0):s===3&&(e.getContext&&typeof o>"u"?(o=r,r=void 0):(o=r,r=i,i=e,e=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(i=e,e=r=void 0):s===2&&!e.getContext&&(r=i,i=e,e=void 0),new Promise(function(a,l){try{const u=gt.create(i,r);a(t(u,e,r))}catch(u){l(u)}})}try{const a=gt.create(i,r);o(null,t(a,e,r))}catch(a){o(a)}}gt.create;var en=At.bind(null,jt.render);At.bind(null,jt.renderToDataURL);At.bind(null,function(t,e,i){return tn.render(t,i)});function nn(t){const{accessToken:e}=Pt();return Rt({...t,mutationFn:()=>Wt(e)})}function on(t){const{accessToken:e}=Pt();return Rt({...t,mutationFn:i=>Zt(i,e)})}function mt(t){const{secret:e,open:i,onClose:r}=t;return I(ie,{open:i,onClose:r,children:[y(ce,{children:I(lt,{direction:"row",alignItems:"center",gap:"5px",children:["Use this code to set up 2FA ",y(L,{sx:{flexGrow:1}}),y(le,{"aria-label":"Close",onClick:r,children:y(re,{icon:"close",wrap:!1,sx:{color:"grey.700"}})})]})}),I(se,{children:[y(F,{variant:"body1",children:"Your authenticator app will ask for a code to activate two-factor authentication. Use the code below:"}),y(L,{sx:o=>({my:2,p:2,width:"100%",textAlign:"center",background:o.palette.grey[200],fontFamily:Xt,letterSpacing:"2px",fontSize:"16px"}),children:e}),y(F,{variant:"body1",children:"After setup, you don’t need to save this code."})]}),y(ae,{children:y(Dt,{variant:"contained",onClick:r,children:"Done"})})]})}try{mt.displayName="TwoFactorSecretDialog",mt.__docgenInfo={description:"",displayName:"TwoFactorSecretDialog",props:{secret:{defaultValue:null,description:"",name:"secret",required:!0,type:{name:"string"}}}}}catch{}function rn(t,e){return`otpauth://totp/Synapse:${e}?secret=${t.secret}&issuer=Sage%20Bionetworks&algorithm=${t.alg}&digits=${t.digits}&period=${t.period}`}const j=Lt(t=>y(L,{sx:{my:3,...t.sx},...t}),{label:"Section"})(()=>({})),ct=Lt(t=>y(L,{...t}),{label:"SectionInnerGrid"})(({theme:t})=>({display:"grid",gridTemplateColumns:"auto 200px",columnGap:t.spacing(5)})),bt="";function pt(t){const{onTwoFactorEnrollmentSuccess:e}=t,[i,r]=U.useState(""),[o,n]=U.useState(!1),[s,c]=U.useState(!1),{data:a}=te(),l=U.useRef(null),{mutate:u,data:E}=nn(),{mutate:g,isLoading:f,error:w}=on({onSuccess:e});return U.useEffect(()=>{u()},[]),U.useEffect(()=>{async function p(){E&&a&&l.current&&(await en(l.current,rn(E,a.email),{version:10,margin:0,scale:3.5}),n(!0))}p()},[E,a]),y(qt,{children:I(ue,{sx:{width:"800px",py:6.5,px:8,mx:"auto"},children:[I(j,{children:[y(F,{variant:"headline2",sx:{mb:3},children:"Activate Two-factor Authentication"}),I(F,{variant:"body1",children:["After setting up 2FA, you’ll use an authenticator app as part of your login process, in addition to your existing password. If you log in using your Google"," ",!1," account, you may need to use 2FA as part of","that process as well.",bt.length>0&&I(Qt,{children:[" ",y(k,{href:bt,children:"Learn more about 2FA"}),"."]})]})]}),y(j,{children:I(ct,{children:[I(L,{children:[y(F,{variant:"body1",sx:{fontWeight:700},children:"Step 1. Get one of these apps"}),y(F,{variant:"body1",children:"Download and install one of these authentication apps to set up 2FA on your mobile device, tablet, or desktop. If you have one of these apps already installed, you can skip this step."})]}),I(lt,{justifyContent:"space-between",sx:{flexShrink:0},children:[y(k,{href:"https://authy.com/download/",children:"Authy"}),y(k,{href:"https://duo.com/product/multi-factor-authentication-mfa/duo-mobile-app",children:"DUO Mobile"}),y(k,{href:"https://googleauthenticator.net/",children:"Google Authenticator"}),y(k,{href:"https://www.microsoft.com/en-us/security/mobile-authenticator-app",children:"Microsoft Authenticator"})]})]})}),y(Bt,{}),y(j,{children:I(ct,{children:[I(L,{children:[y(F,{variant:"body1",sx:{fontWeight:700},children:"Step 2. Scan the QR Code"}),I(F,{component:"ol",variant:"body1",sx:{pl:2,my:1},children:[y("li",{children:"Open your authenticator app"}),y("li",{children:'Tap the "+" button'}),y("li",{children:"Use your camera to scan the image to the right"})]}),y(k,{onClick:()=>{c(!0)},children:"Can't use your camera?"}),y(mt,{secret:(E==null?void 0:E.secret)??"",open:s,onClose:()=>c(!1)})]}),I(L,{display:"flex",justifyContent:"center",alignItems:"middle",height:"auto",children:[!o&&y(ne,{size:50}),y("canvas",{style:{display:o?void 0:"none"},ref:l})]})]})}),y(Bt,{}),y(j,{children:I(ct,{children:[I(L,{children:[y(F,{variant:"body1",sx:{fontWeight:700},children:"Step 3. Enter the Verification Code"}),y(F,{variant:"body1",children:"After scanning in the QR code in step 2, your app will provide a 6-digit code. Enter it in in the field to the right."})]}),y("form",{onSubmit:p=>{p.preventDefault(),g({secretId:E.secretId,totp:i})},children:I(lt,{direction:"row",gap:2,height:"48px",children:[y(ee,{noWrapInFormControl:!0,inputProps:{maxLength:E==null?void 0:E.digits},value:i,onChange:p=>{r(p.target.value)}}),y(Dt,{type:"submit",variant:"contained",sx:{flexShrink:0},disabled:f||i.length!=(E==null?void 0:E.digits),children:"Activate"})]})})]})}),w&&y(oe,{variant:"danger",isGlobal:!1,description:w.reason})]})})}try{pt.displayName="TwoFactorEnrollmentForm",pt.__docgenInfo={description:"",displayName:"TwoFactorEnrollmentForm",props:{onTwoFactorEnrollmentSuccess:{defaultValue:null,description:"",name:"onTwoFactorEnrollmentSuccess",required:!0,type:{name:"() => void"}}}}}catch{}const Eo={title:"Authentication/TwoFactorEnrollment",component:pt},Q={args:{onTwoFactorEnrollmentSuccess:()=>{fe("Successfully enrolled in 2FA!","success")}}};var Nt,Mt,Ft;Q.parameters={...Q.parameters,docs:{...(Nt=Q.parameters)==null?void 0:Nt.docs,source:{originalSource:`{
  args: {
    onTwoFactorEnrollmentSuccess: () => {
      displayToast('Successfully enrolled in 2FA!', 'success');
    }
  }
}`,...(Ft=(Mt=Q.parameters)==null?void 0:Mt.docs)==null?void 0:Ft.source}}};const Co=["Demo"];export{Q as Demo,Co as __namedExportsOrder,Eo as default};
//# sourceMappingURL=TwoFactorEnrollmentForm.stories-1459dfd2.js.map
