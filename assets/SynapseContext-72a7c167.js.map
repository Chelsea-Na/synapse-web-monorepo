{"version":3,"file":"SynapseContext-72a7c167.js","sources":["../../../../node_modules/.pnpm/cookie@0.4.2/node_modules/cookie/index.js","../../src/lib/utils/APIConstants.ts","../../src/lib/utils/functions/TypeUtils.ts","../../src/lib/utils/synapseTypes/Entity/FileEntity.ts","../../src/lib/utils/synapseTypes/Table/Dataset.ts","../../src/lib/utils/synapseTypes/Table/EntityView.ts","../../src/lib/utils/synapseTypes/Table/SubmissionView.ts","../../src/lib/utils/synapseTypes/Table/TableEntity.ts","../../src/lib/utils/synapseTypes/Table/View.ts","../../src/lib/utils/synapseTypes/Table/MaterializedView.ts","../../src/lib/utils/synapseTypes/Table/Table.ts","../../src/lib/utils/synapseTypes/Entity/Entity.ts","../../src/lib/utils/synapseTypes/Entity/Link.ts","../../src/lib/utils/synapseTypes/EntityType.ts","../../src/lib/utils/synapseTypes/FileHandleAssociation.ts","../../src/lib/utils/synapseTypes/ObjectType.ts","../../src/lib/utils/synapseTypes/UserGroupHeader.ts","../../../../node_modules/.pnpm/react-query@3.39.1_biqbaboplfbrettd7655fr4n2y/node_modules/react-query/es/core/subscribable.js","../../../../node_modules/.pnpm/react-query@3.39.1_biqbaboplfbrettd7655fr4n2y/node_modules/react-query/es/core/utils.js","../../../../node_modules/.pnpm/react-query@3.39.1_biqbaboplfbrettd7655fr4n2y/node_modules/react-query/es/core/focusManager.js","../../../../node_modules/.pnpm/react-query@3.39.1_biqbaboplfbrettd7655fr4n2y/node_modules/react-query/es/core/onlineManager.js","../../../../node_modules/.pnpm/react-query@3.39.1_biqbaboplfbrettd7655fr4n2y/node_modules/react-query/es/core/retryer.js","../../../../node_modules/.pnpm/react-query@3.39.1_biqbaboplfbrettd7655fr4n2y/node_modules/react-query/es/core/notifyManager.js","../../../../node_modules/.pnpm/react-query@3.39.1_biqbaboplfbrettd7655fr4n2y/node_modules/react-query/es/core/logger.js","../../../../node_modules/.pnpm/react-query@3.39.1_biqbaboplfbrettd7655fr4n2y/node_modules/react-query/es/core/query.js","../../../../node_modules/.pnpm/react-query@3.39.1_biqbaboplfbrettd7655fr4n2y/node_modules/react-query/es/core/queryCache.js","../../../../node_modules/.pnpm/react-query@3.39.1_biqbaboplfbrettd7655fr4n2y/node_modules/react-query/es/core/mutation.js","../../../../node_modules/.pnpm/react-query@3.39.1_biqbaboplfbrettd7655fr4n2y/node_modules/react-query/es/core/mutationCache.js","../../../../node_modules/.pnpm/react-query@3.39.1_biqbaboplfbrettd7655fr4n2y/node_modules/react-query/es/core/infiniteQueryBehavior.js","../../../../node_modules/.pnpm/react-query@3.39.1_biqbaboplfbrettd7655fr4n2y/node_modules/react-query/es/core/queryClient.js","../../../../node_modules/.pnpm/react-query@3.39.1_biqbaboplfbrettd7655fr4n2y/node_modules/react-query/es/core/queryObserver.js","../../../../node_modules/.pnpm/react-query@3.39.1_biqbaboplfbrettd7655fr4n2y/node_modules/react-query/es/react/reactBatchedUpdates.js","../../../../node_modules/.pnpm/react-query@3.39.1_biqbaboplfbrettd7655fr4n2y/node_modules/react-query/es/react/setBatchUpdatesFn.js","../../../../node_modules/.pnpm/react-query@3.39.1_biqbaboplfbrettd7655fr4n2y/node_modules/react-query/es/react/logger.js","../../../../node_modules/.pnpm/react-query@3.39.1_biqbaboplfbrettd7655fr4n2y/node_modules/react-query/es/react/setLogger.js","../../../../node_modules/.pnpm/react-query@3.39.1_biqbaboplfbrettd7655fr4n2y/node_modules/react-query/es/react/QueryClientProvider.js","../../../../node_modules/.pnpm/react-query@3.39.1_biqbaboplfbrettd7655fr4n2y/node_modules/react-query/es/react/QueryErrorResetBoundary.js","../../../../node_modules/.pnpm/react-query@3.39.1_biqbaboplfbrettd7655fr4n2y/node_modules/react-query/es/react/utils.js","../../../../node_modules/.pnpm/react-query@3.39.1_biqbaboplfbrettd7655fr4n2y/node_modules/react-query/es/react/useBaseQuery.js","../../../../node_modules/.pnpm/react-query@3.39.1_biqbaboplfbrettd7655fr4n2y/node_modules/react-query/es/react/useQuery.js","../../../../node_modules/.pnpm/react-error-boundary@3.1.4_react@18.2.0/node_modules/react-error-boundary/dist/react-error-boundary.esm.js","../../src/lib/utils/SynapseClientError.ts","../../../../node_modules/.pnpm/spark-md5@3.0.2/node_modules/spark-md5/spark-md5.js","../../../../node_modules/.pnpm/universal-cookie@4.0.4/node_modules/universal-cookie/es6/utils.js","../../../../node_modules/.pnpm/universal-cookie@4.0.4/node_modules/universal-cookie/es6/Cookies.js","../../src/lib/utils/functions/ObjectUtils.ts","../../src/lib/utils/synapseTypes/DiscussionBundle.ts","../../src/lib/utils/functions/calculateFriendlyFileSize.ts","../../src/lib/utils/synapseTypes/ErrorResponse.ts","../../src/lib/utils/SynapseClient.ts","../../../../node_modules/.pnpm/@mui+styled-engine@5.11.11_dovxhg2tvkkxkdnqyoum6wzcxm/node_modules/@mui/styled-engine/StyledEngineProvider/StyledEngineProvider.js","../../../../node_modules/.pnpm/@mui+private-theming@5.11.12_3stiutgnnbnfnf3uowm5cip22i/node_modules/@mui/private-theming/ThemeProvider/nested.js","../../../../node_modules/.pnpm/@mui+private-theming@5.11.12_3stiutgnnbnfnf3uowm5cip22i/node_modules/@mui/private-theming/ThemeProvider/ThemeProvider.js","../../../../node_modules/.pnpm/@mui+system@5.11.12_gzalmy7izvhol7vh4xfy3dq6ua/node_modules/@mui/system/esm/ThemeProvider/ThemeProvider.js","../../../../node_modules/.pnpm/@mui+material@5.11.12_rqh7qj4464ntrqrt6banhaqg4q/node_modules/@mui/material/Collapse/collapseClasses.js","../../../../node_modules/.pnpm/@mui+material@5.11.12_rqh7qj4464ntrqrt6banhaqg4q/node_modules/@mui/material/Collapse/Collapse.js","../../src/lib/assets/GoogleIcon24.tsx","../../src/lib/containers/auth/AuthenticationMethodSelection.tsx","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isObject.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/identity.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isFunction.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_coreJsData.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_isMasked.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_toSource.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseIsNative.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_getValue.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_getNative.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_WeakMap.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseCreate.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_apply.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_copyArray.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_shortOut.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/constant.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_defineProperty.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseSetToString.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_setToString.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_isIndex.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseAssignValue.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/eq.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_assignValue.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_copyObject.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_overRest.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseRest.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isLength.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isArrayLike.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_isIterateeCall.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_createAssigner.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_isPrototype.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseTimes.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseIsArguments.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isArguments.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/stubFalse.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isBuffer.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseIsTypedArray.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseUnary.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_nodeUtil.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isTypedArray.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_arrayLikeKeys.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_overArg.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_nativeKeys.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseKeys.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_nativeKeysIn.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseKeysIn.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/keysIn.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_nativeCreate.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_hashClear.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_hashDelete.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_hashGet.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_hashHas.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_hashSet.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_Hash.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_listCacheClear.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_assocIndexOf.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_listCacheDelete.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_listCacheGet.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_listCacheHas.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_listCacheSet.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_ListCache.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_Map.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_mapCacheClear.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_isKeyable.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_getMapData.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_mapCacheDelete.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_mapCacheGet.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_mapCacheHas.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_mapCacheSet.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_MapCache.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_getPrototype.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isPlainObject.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_stackClear.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_stackDelete.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_stackGet.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_stackHas.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_stackSet.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_Stack.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_cloneBuffer.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_DataView.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_Promise.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_Set.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_getTag.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_Uint8Array.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_cloneArrayBuffer.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_cloneTypedArray.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_initCloneObject.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_createBaseFor.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseFor.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_assignMergeValue.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isArrayLikeObject.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_safeGet.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/toPlainObject.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseMergeDeep.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseMerge.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isEmpty.js","../../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/merge.js","../../src/lib/utils/synapseTypes/docker/DockerRepository.ts","../../src/lib/utils/functions/EntityTypeUtils.ts","../../src/lib/utils/functions/ArrayUtils.ts","../../src/lib/utils/hooks/SynapseAPI/KeyFactory.ts","../../src/lib/utils/hooks/SynapseAPI/user/useUserBundle.ts","../../src/lib/containers/JiraIssueCollector.tsx","../../src/lib/containers/SignInButton.tsx","../../src/lib/containers/error/ErrorBanner.tsx","../../src/lib/utils/theme/typography/Typography.ts","../../../../node_modules/.pnpm/tinycolor2@1.5.2/node_modules/tinycolor2/esm/tinycolor.js","../../src/lib/utils/theme/palette/Palettes.ts","../../src/lib/utils/theme/typography/Link.ts","../../src/lib/utils/theme/DefaultTheme.ts","../../src/lib/utils/theme/useTheme.tsx","../../src/lib/utils/SynapseContext.tsx"],"sourcesContent":["/*!\n * cookie\n * Copyright(c) 2012-2014 Roman Shtylman\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nexports.parse = parse;\nexports.serialize = serialize;\n\n/**\n * Module variables.\n * @private\n */\n\nvar decode = decodeURIComponent;\nvar encode = encodeURIComponent;\n\n/**\n * RegExp to match field-content in RFC 7230 sec 3.2\n *\n * field-content = field-vchar [ 1*( SP / HTAB ) field-vchar ]\n * field-vchar   = VCHAR / obs-text\n * obs-text      = %x80-FF\n */\n\nvar fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\n\n/**\n * Parse a cookie header.\n *\n * Parse the given cookie header string into an object\n * The object has the various cookies as keys(names) => values\n *\n * @param {string} str\n * @param {object} [options]\n * @return {object}\n * @public\n */\n\nfunction parse(str, options) {\n  if (typeof str !== 'string') {\n    throw new TypeError('argument str must be a string');\n  }\n\n  var obj = {}\n  var opt = options || {};\n  var pairs = str.split(';')\n  var dec = opt.decode || decode;\n\n  for (var i = 0; i < pairs.length; i++) {\n    var pair = pairs[i];\n    var index = pair.indexOf('=')\n\n    // skip things that don't look like key=value\n    if (index < 0) {\n      continue;\n    }\n\n    var key = pair.substring(0, index).trim()\n\n    // only assign once\n    if (undefined == obj[key]) {\n      var val = pair.substring(index + 1, pair.length).trim()\n\n      // quoted values\n      if (val[0] === '\"') {\n        val = val.slice(1, -1)\n      }\n\n      obj[key] = tryDecode(val, dec);\n    }\n  }\n\n  return obj;\n}\n\n/**\n * Serialize data into a cookie header.\n *\n * Serialize the a name value pair into a cookie string suitable for\n * http headers. An optional options object specified cookie parameters.\n *\n * serialize('foo', 'bar', { httpOnly: true })\n *   => \"foo=bar; httpOnly\"\n *\n * @param {string} name\n * @param {string} val\n * @param {object} [options]\n * @return {string}\n * @public\n */\n\nfunction serialize(name, val, options) {\n  var opt = options || {};\n  var enc = opt.encode || encode;\n\n  if (typeof enc !== 'function') {\n    throw new TypeError('option encode is invalid');\n  }\n\n  if (!fieldContentRegExp.test(name)) {\n    throw new TypeError('argument name is invalid');\n  }\n\n  var value = enc(val);\n\n  if (value && !fieldContentRegExp.test(value)) {\n    throw new TypeError('argument val is invalid');\n  }\n\n  var str = name + '=' + value;\n\n  if (null != opt.maxAge) {\n    var maxAge = opt.maxAge - 0;\n\n    if (isNaN(maxAge) || !isFinite(maxAge)) {\n      throw new TypeError('option maxAge is invalid')\n    }\n\n    str += '; Max-Age=' + Math.floor(maxAge);\n  }\n\n  if (opt.domain) {\n    if (!fieldContentRegExp.test(opt.domain)) {\n      throw new TypeError('option domain is invalid');\n    }\n\n    str += '; Domain=' + opt.domain;\n  }\n\n  if (opt.path) {\n    if (!fieldContentRegExp.test(opt.path)) {\n      throw new TypeError('option path is invalid');\n    }\n\n    str += '; Path=' + opt.path;\n  }\n\n  if (opt.expires) {\n    if (typeof opt.expires.toUTCString !== 'function') {\n      throw new TypeError('option expires is invalid');\n    }\n\n    str += '; Expires=' + opt.expires.toUTCString();\n  }\n\n  if (opt.httpOnly) {\n    str += '; HttpOnly';\n  }\n\n  if (opt.secure) {\n    str += '; Secure';\n  }\n\n  if (opt.sameSite) {\n    var sameSite = typeof opt.sameSite === 'string'\n      ? opt.sameSite.toLowerCase() : opt.sameSite;\n\n    switch (sameSite) {\n      case true:\n        str += '; SameSite=Strict';\n        break;\n      case 'lax':\n        str += '; SameSite=Lax';\n        break;\n      case 'strict':\n        str += '; SameSite=Strict';\n        break;\n      case 'none':\n        str += '; SameSite=None';\n        break;\n      default:\n        throw new TypeError('option sameSite is invalid');\n    }\n  }\n\n  return str;\n}\n\n/**\n * Try decoding a string using a decoding function.\n *\n * @param {string} str\n * @param {function} decode\n * @private\n */\n\nfunction tryDecode(str, decode) {\n  try {\n    return decode(str);\n  } catch (e) {\n    return str;\n  }\n}\n","/**\n * Separating API endpoints into their own constants file\n */\n\nimport { getEndpoint, BackendDestinationEnum } from './functions/getEndpoint'\n\nexport const BACKEND_ENDPOINT = `${getEndpoint(\n  BackendDestinationEnum.REPO_ENDPOINT,\n)}`\n\nexport const REPO = `/repo/v1`\nexport const AUTH = `/auth/v1`\nexport const FILE = `/file/v1`\n\nconst ASYNC_START = '/async/start'\nconst ASYNC_GET = '/async/get'\n\nexport const ENTITY = `${REPO}/entity`\nexport const ENTITY_ID = (id: string | number) => `${REPO}/entity/${id}`\n/**\n * Some services allow (but do not require) you to specify the version in the path.\n */\nexport const ENTITY_ID_VERSION = (\n  id: string | number,\n  version?: string | number,\n) => `${REPO}/entity/${id}${version ? `/version/${version}` : ''}`\nexport const ENTITY_ID_VERSIONS = (id: string | number) =>\n  `${REPO}/entity/${id}/version`\nexport const ENTITY_BUNDLE_V2 = (\n  id: string | number,\n  version?: string | number,\n) => `${ENTITY_ID_VERSION(id, version)}/bundle2`\nexport const ENTITY_ACCESS = (id: string | number) =>\n  `${REPO}/entity/${id}/access`\n\nexport const ENTITY_PATH = (id: string | number) => `${ENTITY_ID(id)}/path`\nexport const ENTITY_HEADER_BY_ID = (id: string | number) =>\n  `${ENTITY_ID(id)}/type`\nexport const ENTITY_HEADERS = `${REPO}/entity/header`\n\nexport const ENTITY_JSON = (id: string | number) => `${REPO}/entity/${id}/json`\n\nexport const ENTITY_SCHEMA = (id: string | number) =>\n  `${REPO}/entity/${id}/schema`\nexport const ENTITY_SCHEMA_BINDING = (id: string | number) =>\n  `${ENTITY_SCHEMA(id)}/binding`\nexport const ENTITY_SCHEMA_VALIDATION = (id: string | number) =>\n  `${ENTITY_SCHEMA(id)}/validation`\n\nexport const ENTITY_ACCESS_REQUIREMENTS = (entityId: string | number) =>\n  `${ENTITY_ID(entityId)}/accessRequirement`\n\nexport const TABLE_QUERY_ASYNC_START = (id: string | number) =>\n  `${ENTITY_ID(id)}/table/query/async/start`\n\nexport const TABLE_QUERY_ASYNC_GET = (\n  entityId: string | number,\n  asyncJobToken: string,\n) => `${ENTITY_ID(entityId)}/table/query/async/get/${asyncJobToken}`\n\nexport const ASYNCHRONOUS_JOB_TOKEN = (asyncJobToken: string) =>\n  `${REPO}/asynchronous/job/${asyncJobToken}`\n\nexport const USER_PROFILE_ENDPOINT = `${REPO}/userProfile`\n\nexport const SCHEMA = `${REPO}/schema`\nexport const REGISTERED_SCHEMA = `${REPO}/schema/type/registered`\nexport const REGISTERED_SCHEMA_ID = (schema$id: string | number) =>\n  `${REPO}/schema/type/registered/${schema$id}`\nexport const SCHEMA_VALIDATION_START = `${SCHEMA}/type/validation${ASYNC_START}`\nexport const SCHEMA_VALIDATION_GET = (asyncJobId: string | number) =>\n  `${SCHEMA}/type/validation${ASYNC_GET}/${asyncJobId}`\n\nexport const USER = `${REPO}/user`\nexport const USER_BUNDLE = `${USER}/bundle`\nexport const USER_ID = (id: string | number) => `${USER}/${id}`\nexport const USER_ID_BUNDLE = (id: string | number) => `${USER_ID(id)}/bundle`\n\nexport const USER_PROFILE = `${REPO}/userProfile`\nexport const USER_PROFILE_ID = (id: string | number) => `${USER_PROFILE}/${id}`\n\nexport const NOTIFICATION_EMAIL = `${REPO}/notificationEmail`\nexport const ALIAS_AVAILABLE = `${REPO}/principal/available`\nexport const REGISTER_ACCOUNT_STEP_1 = (portalEndpoint: string) =>\n  `${REPO}/account/emailValidation?portalEndpoint=${portalEndpoint}`\nexport const REGISTER_ACCOUNT_STEP_2 = `${REPO}/account2`\nexport const SIGN_TERMS_OF_USE = `${AUTH}/termsOfUse2`\nexport const VERIFICATION_SUBMISSION = `${REPO}/verificationSubmission`\n\nexport const ACCESS_REQUIREMENT_SEARCH = `${REPO}/accessRequirement/search`\nexport const ACCESS_REQUEST_SUBMISSION_SEARCH = `${REPO}/dataAccessSubmission/search`\n\nexport const ACCESS_REQUIREMENT_BY_ID = (id: string | number) =>\n  `${REPO}/accessRequirement/${id}`\n\nexport const ACCESS_REQUIREMENT_ACL = (id: string | number) =>\n  ACCESS_REQUIREMENT_BY_ID(id) + '/acl'\n\nexport const ACCESS_REQUIREMENT_STATUS = (id: string | number) =>\n  ACCESS_REQUIREMENT_BY_ID(id) + '/status'\n\nexport const ACCESS_REQUIREMENT_WIKI_PAGE_KEY = (id: string | number) =>\n  // Note that this is `access_requirement` not `accessRequirement`!\n  `${REPO}/access_requirement/${id}/wikikey`\n\nexport const ACCESS_REQUIREMENT_WIKI_PAGE = (\n  accessRequirementId: string | number,\n  wikiId: string | number,\n) =>\n  // Note that this is `access_requirement` not `accessRequirement`!\n  `${REPO}/access_requirement/${accessRequirementId}/wiki/${wikiId}`\n\nexport const FAVORITES = `${REPO}/favorite`\n\nexport const USER_GROUP_HEADERS = `${REPO}/userGroupHeaders`\nexport const USER_GROUP_HEADERS_BATCH = `${REPO}/userGroupHeaders/batch`\n\nexport const DATA_ACCESS_SUBMISSION_BY_ID = (id: string | number) =>\n  `${REPO}/dataAccessSubmission/${id}`\n\nexport const PROFILE_IMAGE_PREVIEW = (userId: string) =>\n  `${REPO}/userProfile/${userId}/image/preview`\n\nexport const APPROVED_SUBMISSION_INFO = (\n  accessRequirementId: string | number,\n) => ACCESS_REQUIREMENT_BY_ID(accessRequirementId) + `/approvedSubmissionInfo`\n\nexport const EVALUATION = `${REPO}/evaluation`\nexport const EVALUATION_BY_ID = (id: string | number) => EVALUATION + `/${id}`\nexport const EVALUATIONS_BY_ID = (ids: string[] | number[]) =>\n  EVALUATION + `/?evaluationIds=${ids.join(',')}&limit=${ids.length}`\n\nexport const ACTIVITY_FOR_ENTITY = (entityId: string, versionNumber?: string) =>\n  versionNumber\n    ? `${REPO}/entity/${entityId}/version/${versionNumber}/generatedBy`\n    : `${REPO}/entity/${entityId}/generatedBy`\n\nexport const TRASHCAN = `${REPO}/trashcan`\nexport const TRASHCAN_VIEW = `${TRASHCAN}/view`\nexport const TRASHCAN_RESTORE = (id: string) => `${TRASHCAN}/restore/${id}`\nexport const TRASHCAN_PURGE = (id: string) => `${TRASHCAN}/purge/${id}`\n\nexport const TEAM = (teamId: string | number) => `${REPO}/team/${teamId}`\nexport const TEAM_ID_MEMBER_ID = (\n  teamId: string | number,\n  memberId: string | number,\n) => TEAM(teamId) + `/member/${memberId}`\nexport const TEAM_MEMBERS = (teamId: string | number) =>\n  `${REPO}/teamMembers/${teamId}`\n\nconst notificationUnsubscribeEndpoint = 'https://www.synapse.org/#!SignedToken:'\nconst teamEndpoint = 'https://www.synapse.org/#!Team:'\n\nexport const TEAM_MEMBER = `${REPO}/teamMember/?teamEndpoint=${teamEndpoint}&notificationUnsubscribeEndpoint=${notificationUnsubscribeEndpoint}`\nexport const TEAM_ID_MEMBER_ID_WITH_NOTIFICATION = (\n  teamId: string | number,\n  memberId: string | number,\n) =>\n  TEAM_ID_MEMBER_ID(teamId, memberId) +\n  `?teamEndpoint=${teamEndpoint}&notificationUnsubscribeEndpoint=${notificationUnsubscribeEndpoint}`\nexport const MEMBERSHIP_INVITATION = (id: string) =>\n  `${REPO}/membershipInvitation/${id}`\nexport const INVITEE_VERIFICATION_SIGNED_TOKEN = (id: string) =>\n  `${REPO}/membershipInvitation/${id}/inviteeVerificationSignedToken`\nexport const BIND_INVITATION_TO_AUTHENTICATED_USER = (id: string) =>\n  `${REPO}/membershipInvitation/${id}/inviteeId`\n\nexport const FORUM = `${REPO}/forum`\nexport const FORUM_THREAD = (id: string) => `${FORUM}/${id}/threads`\n\nexport const THREAD = `${REPO}/thread`\nexport const THREAD_ID = (id: string) => `${THREAD}/${id}`\nexport const THREAD_REPLIES = (id: string) => `${THREAD_ID(id)}/replies`\n\nexport const DOI = `${REPO}/doi`\nexport const DOI_ASSOCIATION = `${DOI}/association`\n\nexport const ACCESS_APPROVAL = `${REPO}/accessApproval`\nexport const ACCESS_APPROVAL_BY_ID = (id: string | number) =>\n  `${ACCESS_APPROVAL}/${id}`\n\nexport const DATA_ACCESS_REQUEST = `${REPO}/dataAccessRequest`\nexport const DATA_ACCESS_REQUEST_SUBMISSION = (id: string | number) =>\n  `${DATA_ACCESS_REQUEST}/${id}/submission`\nexport const ACCESS_REQUIREMENT_DATA_ACCESS_REQUEST_FOR_UPDATE = (\n  accessRequirementId: string | number,\n) =>\n  `${ACCESS_REQUIREMENT_BY_ID(accessRequirementId)}/dataAccessRequestForUpdate`\n\nexport const RESEARCH_PROJECT = `${REPO}/researchProject`\nexport const ACCESS_REQUIREMENT_RESEARCH_PROJECT_FOR_UPDATE = (\n  accessRequirementId: string | number,\n) => `${ACCESS_REQUIREMENT_BY_ID(accessRequirementId)}/researchProjectForUpdate`\n\nexport const FILE_HANDLE = `${FILE}/fileHandle`\nexport const FILE_HANDLE_BATCH = `${FILE_HANDLE}/batch`\n\nexport const PROJECTS = `${REPO}/projects`\n","/**\n * TypeScript doesn't support nominal typing, but we can utilize the concreteType field in Synapse objects to identify the class of an object. This function\n * will return a function that can be used as a type guard using the concreteType field.\n *\n * Generic `TTypeChecked` is the type that you are trying to verify/assert.\n * Generic `ObjectType` is optional and can be used to require a specific interface or type before calling this method. Defaults to `unknown`.\n *\n * @param expectedConcreteType\n * @returns a function that checks if a given object is an instance of `TTypeChecked` using the expected concrete type value.\n */\nexport function isTypeViaConcreteTypeFactory<\n  TTypeChecked extends ObjectType, // The type that you are trying to verify/assert\n  ObjectType extends { concreteType: string } = { concreteType: string },\n>(...expectedConcreteTypes: TTypeChecked['concreteType'][]) {\n  return (object: ObjectType): object is TTypeChecked =>\n    !!(\n      object &&\n      typeof object === 'object' &&\n      'concreteType' in object &&\n      expectedConcreteTypes.includes(object['concreteType'])\n    )\n}\n","import { VersionableEntity } from './Entity'\nimport { isTypeViaConcreteTypeFactory } from '../../functions/TypeUtils'\n\nexport const FILE_ENTITY_CONCRETE_TYPE_VALUE =\n  'org.sagebionetworks.repo.model.FileEntity'\nexport type FILE_ENTITY_CONCRETE_TYPE = typeof FILE_ENTITY_CONCRETE_TYPE_VALUE\n\n// https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/FileEntity.html\nexport interface FileEntity extends VersionableEntity {\n  concreteType: FILE_ENTITY_CONCRETE_TYPE\n  dataFileHandleId: string // \tID of the file associated with this entity.\n  fileNameOverride?: string // \tAn optional replacement for the name of the uploaded file. This is distinct from the entity name. If omitted the file will retain its original name.\n}\n\nexport const isFileEntity = isTypeViaConcreteTypeFactory<FileEntity>(\n  FILE_ENTITY_CONCRETE_TYPE_VALUE,\n)\n","import { View } from './View'\n\n// http://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/EntityRef.html\nexport interface EntityRef {\n  entityId: string\n  versionNumber: number\n}\n\n/**\n * https://docs.synapse.org/rest/org/sagebionetworks/repo/model/table/EntityRefCollectionView.html\n */\nexport interface EntityRefCollectionView extends View {\n  items?: EntityRef[] // items is undefined on new collections\n}\n\nexport const DATASET_CONCRETE_TYPE_VALUE =\n  'org.sagebionetworks.repo.model.table.Dataset'\nexport type DATASET_CONCRETE_TYPE = typeof DATASET_CONCRETE_TYPE_VALUE\nexport interface Dataset extends EntityRefCollectionView {\n  concreteType: DATASET_CONCRETE_TYPE\n}\n\nexport const DATASET_COLLECTION_CONCRETE_TYPE_VALUE =\n  'org.sagebionetworks.repo.model.table.DatasetCollection'\nexport type DATASET_COLLECTION_CONCRETE_TYPE =\n  typeof DATASET_COLLECTION_CONCRETE_TYPE_VALUE\nexport interface DatasetCollection extends EntityRefCollectionView {\n  concreteType: DATASET_COLLECTION_CONCRETE_TYPE\n}\n","import { View } from './View'\n\nexport const ENTITY_VIEW_TYPE_MASK_FILE = 0x01\nexport const ENTITY_VIEW_TYPE_MASK_PROJECT = 0x02\nexport const ENTITY_VIEW_TYPE_MASK_TABLE = 0x04\nexport const ENTITY_VIEW_TYPE_MASK_FOLDER = 0x08\nexport const ENTITY_VIEW_TYPE_MASK_VIEW = 0x10\nexport const ENTITY_VIEW_TYPE_MASK_DOCKER = 0x20\nexport const ENTITY_VIEW_TYPE_MASK_SUBMISSIONVIEW = 0x40\nexport const ENTITY_VIEW_TYPE_MASK_DATASET = 0x80\n\nexport const ENTITY_VIEW_CONCRETE_TYPE_VALUE =\n  'org.sagebionetworks.repo.model.table.EntityView'\nexport type ENTITY_VIEW_CONCRETE_TYPE = typeof ENTITY_VIEW_CONCRETE_TYPE_VALUE\n\nexport interface EntityView extends View {\n  concreteType: ENTITY_VIEW_CONCRETE_TYPE\n  /** The list of container ids that define the scope of this view. */\n  scopeIds: string[]\n  /** Bit mask representing the types to include in the view. The following are the possible types (type=): File=0x01, Project=0x02, Table=0x04, Folder=0x08, View=0x10, Docker=0x20. */\n  viewTypeMask: number\n}\n","import { View } from './View'\n\nexport const SUBMISSION_VIEW_CONCRETE_TYPE_VALUE =\n  'org.sagebionetworks.repo.model.table.SubmissionView'\nexport type SUBMISSION_VIEW_CONCRETE_TYPE =\n  typeof SUBMISSION_VIEW_CONCRETE_TYPE_VALUE\n\n/**\n * A view of evaluation submissions whose scope is defined by the evaluation ids the submissions are part of. The user must have READ_PRIVATE_SUBMISSION access on each of the evaluations in the scope.\n *\n * https://docs.synapse.org/rest/org/sagebionetworks/repo/model/table/SubmissionView.html\n */\nexport interface SubmissionView extends View {\n  concreteType: SUBMISSION_VIEW_CONCRETE_TYPE\n  /** The list of container ids that define the scope of this view. */\n  scopeIds: string[]\n}\n","import { Table } from './Table'\n\nexport const TABLE_ENTITY_CONCRETE_TYPE_VALUE =\n  'org.sagebionetworks.repo.model.table.TableEntity'\nexport type TABLE_ENTITY_CONCRETE_TYPE = typeof TABLE_ENTITY_CONCRETE_TYPE_VALUE\n\n// https://docs.synapse.org/rest/org/sagebionetworks/repo/model/table/TableEntity.html\nexport interface TableEntity extends Table {\n  concreteType: TABLE_ENTITY_CONCRETE_TYPE\n}\n","import {\n  DATASET_CONCRETE_TYPE_VALUE,\n  DATASET_COLLECTION_CONCRETE_TYPE_VALUE,\n  ENTITY_VIEW_CONCRETE_TYPE_VALUE,\n  SUBMISSION_VIEW_CONCRETE_TYPE_VALUE,\n} from '.'\nimport { Table } from './Table'\n\nexport const VIEW_CONCRETE_TYPE_VALUES = [\n  ENTITY_VIEW_CONCRETE_TYPE_VALUE,\n  SUBMISSION_VIEW_CONCRETE_TYPE_VALUE,\n  DATASET_CONCRETE_TYPE_VALUE,\n  DATASET_COLLECTION_CONCRETE_TYPE_VALUE,\n] as const\n\nexport type VIEW_CONCRETE_TYPE = typeof VIEW_CONCRETE_TYPE_VALUES[number]\n\n// https://docs.synapse.org/rest/org/sagebionetworks/repo/model/table/View.html\n\n// The View interface only exists in\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\nexport interface View extends Table {\n  concreteType: VIEW_CONCRETE_TYPE\n}\n","import { Table } from './Table'\n\nexport const MATERIALIZED_VIEW_CONCRETE_TYPE_VALUE =\n  'org.sagebionetworks.repo.model.table.MaterializedView'\nexport type MATERIALIZED_VIEW_CONCRETE_TYPE =\n  typeof MATERIALIZED_VIEW_CONCRETE_TYPE_VALUE\n\nexport interface MaterializedView extends Table {\n  concreteType: MATERIALIZED_VIEW_CONCRETE_TYPE\n  definingSQL: string\n}\n","import { VIEW_CONCRETE_TYPE_VALUES } from '.'\nimport { VersionableEntity } from '../Entity/Entity'\nimport { MATERIALIZED_VIEW_CONCRETE_TYPE_VALUE } from './MaterializedView'\nimport { TABLE_ENTITY_CONCRETE_TYPE_VALUE } from './TableEntity'\n\nexport const TABLE_CONCRETE_TYPE_VALUES = [\n  TABLE_ENTITY_CONCRETE_TYPE_VALUE,\n  ...VIEW_CONCRETE_TYPE_VALUES,\n  MATERIALIZED_VIEW_CONCRETE_TYPE_VALUE,\n] as const\n\nexport type TABLE_CONCRETE_TYPE = typeof TABLE_CONCRETE_TYPE_VALUES[number]\n\n// https://docs.synapse.org/rest/org/sagebionetworks/repo/model/table/Table.html\nexport interface Table extends VersionableEntity {\n  columnIds: string[]\n  concreteType: TABLE_CONCRETE_TYPE\n  isSearchEnabled: boolean\n}\n","import { FILE_ENTITY_CONCRETE_TYPE_VALUE } from './FileEntity'\nimport { LINK_CONCRETE_TYPE } from './Link'\nimport { TABLE_CONCRETE_TYPE_VALUES } from '../Table/Table'\nimport { DOCKER_REPOSITORY_CONCRETE_TYPE } from '../docker/DockerRepository'\n\n// https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/Entity.html\n\nexport interface Entity {\n  /** The name of this entity? */\n  name: string\n  /** The description of this entity. */\n  description?: string\n  /** The unique immutable ID for this entity. A new ID will be generated for new Entities. Once issued, this ID is guaranteed to never change or be re-issued */\n  readonly id?: string\n  /** Synapse employs an Optimistic Concurrency Control (OCC) scheme to handle concurrent updates. Since the E-Tag changes every time an entity is updated it is used to detect when a client's current representation of an entity is out-of-date. */\n  readonly etag?: string\n  /** The date this entity was created. */\n  readonly createdOn?: string\n  /** The date this entity was last modified. */\n  readonly modifiedOn?: string\n  /** The ID of the user that created this entity. */\n  readonly createdBy?: string\n  /** The ID of the user that last modified this entity. */\n  readonly modifiedBy?: string\n  /** The ID of the Entity that is the parent of this Entity. */\n  parentId?: string\n  /** Indicates which implementation of Entity this object represents. */\n  readonly concreteType: ENTITY_CONCRETE_TYPE\n}\n\nexport const FOLDER_CONCRETE_TYPE_VALUE =\n  'org.sagebionetworks.repo.model.Folder'\nexport type FOLDER_CONCRETE_TYPE = typeof FOLDER_CONCRETE_TYPE_VALUE\n\nexport const PROJECT_CONCRETE_TYPE_VALUE =\n  'org.sagebionetworks.repo.model.Project'\nexport type PROJECT_CONCRETE_TYPE = typeof PROJECT_CONCRETE_TYPE_VALUE\n\n// This is not a real object in Synapse, merely a collection of potential string values to represent the \"concreteType\" field on Entities\nexport type ENTITY_CONCRETE_TYPE =\n  | LINK_CONCRETE_TYPE\n  | DOCKER_REPOSITORY_CONCRETE_TYPE\n  | VERSIONABLE_ENTITY_CONCRETE_TYPE\n  | FOLDER_CONCRETE_TYPE\n  | PROJECT_CONCRETE_TYPE\n\nexport interface Versionable {\n  /* The version number issued to this version on the object */\n  versionNumber?: number\n}\n\nexport const VERSIONABLE_ENTITY_CONCRETE_TYPE_VALUES = [\n  FILE_ENTITY_CONCRETE_TYPE_VALUE,\n  ...TABLE_CONCRETE_TYPE_VALUES,\n] as const\n\nexport type VERSIONABLE_ENTITY_CONCRETE_TYPE =\n  typeof VERSIONABLE_ENTITY_CONCRETE_TYPE_VALUES[number]\n\nexport interface VersionableEntity extends Entity, Versionable {\n  /* The version label for this entity */\n  versionLabel?: string\n  /* The version comment for this entity */\n  versionComment?: string\n  /* If this is the latest version of the object */\n  isLatestVersion?: boolean\n  concreteType: VERSIONABLE_ENTITY_CONCRETE_TYPE\n}\n\n// Possible value types in an entity JSON object.\nexport type EntityJsonValue =\n  | string\n  | number\n  | boolean\n  | string[]\n  | number[]\n  | boolean[]\n  | undefined\n\n// Entity data returned as in https://docs.synapse.org/rest/GET/entity/id/json.html\n// Not comprehensive, but we don't need it to be, since we currently only use JSON for annotations.\nexport interface EntityJson extends Record<string, EntityJsonValue> {\n  name: string\n  id: string\n  etag: string\n  createdOn: string\n  modifiedOn: string\n  createdBy: string\n  modifiedBy: string\n  parentId: string\n  concreteType: ENTITY_CONCRETE_TYPE\n  versionNumber?: number\n  versionLabel?: string\n  isLatestVersion?: boolean\n  dataFileHandleId?: string\n}\n","import { Reference } from '..'\nimport { isTypeViaConcreteTypeFactory } from '../../functions/TypeUtils'\nimport { Entity } from './Entity'\n\nexport const LINK_CONCRETE_TYPE_VALUE = 'org.sagebionetworks.repo.model.Link'\nexport type LINK_CONCRETE_TYPE = typeof LINK_CONCRETE_TYPE_VALUE\n\n// https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/FileEntity.html\nexport interface Link extends Entity {\n  concreteType: LINK_CONCRETE_TYPE\n  /** JSON schema for Reference POJO */\n  linksTo: Reference\n  /** The synapse Entity's class name that this link points to. */\n  linksToClassName: string\n}\n\nexport const isLink = isTypeViaConcreteTypeFactory<Link>(\n  LINK_CONCRETE_TYPE_VALUE,\n)\n","// https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/EntityType.html\nexport enum EntityType {\n  PROJECT = 'project',\n  FOLDER = 'folder',\n  FILE = 'file',\n  TABLE = 'table',\n  LINK = 'link',\n  ENTITY_VIEW = 'entityview',\n  DOCKER_REPO = 'dockerrepo',\n  SUBMISSION_VIEW = 'submissionview',\n  DATASET = 'dataset',\n  DATASET_COLLECTION = 'datasetcollection',\n  MATERIALIZED_VIEW = 'materializedview',\n}\n","// http://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/file/FileHandleAssociateType.html\nexport enum FileHandleAssociateType {\n  FileEntity = 'FileEntity',\n  TableEntity = 'TableEntity',\n  WikiAttachment = 'WikiAttachment',\n  WikiMarkdown = 'WikiMarkdown',\n  UserProfileAttachment = 'UserProfileAttachment',\n  MessageAttachment = 'MessageAttachment',\n  TeamAttachment = 'TeamAttachment',\n  SubmissionAttachment = 'SubmissionAttachment',\n  VerificationSubmission = 'VerificationSubmission',\n  AccessRequirementAttachment = 'AccessRequirementAttachment',\n  DataAccessRequestAttachment = 'DataAccessRequestAttachment',\n  DataAccessSubmissionAttachment = 'DataAccessSubmissionAttachment',\n}\n\nexport type FileHandleAssociation = {\n  fileHandleId: string //\tThe ID of the FileHandle.\n  associateObjectId: string //\tThe ID of the object associated with the file\n  associateObjectType: FileHandleAssociateType //\tEnumeration of all possible objects types that can be associated with a file.\n}\n","// https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/ObjectType.html\n\nexport enum ObjectType {\n  ENTITY = 'ENTITY',\n  ENTITY_CONTAINER = 'ENTITY_CONTAINER',\n  PRINCIPAL = 'PRINCIPAL',\n  ACTIVITY = 'ACTIVITY',\n  EVALUATION = 'EVALUATION',\n  SUBMISSION = 'SUBMISSION',\n  EVALUATION_SUBMISSIONS = 'EVALUATION_SUBMISSIONS',\n  FILE = 'FILE',\n  MESSAGE = 'MESSAGE',\n  WIKI = 'WIKI',\n  FAVORITE = 'FAVORITE',\n  ACCESS_REQUIREMENT = 'ACCESS_REQUIREMENT',\n  ACCESS_APPROVAL = 'ACCESS_APPROVAL',\n  TEAM = 'TEAM',\n  TABLE = 'TABLE',\n  ACCESS_CONTROL_LIST = 'ACCESS_CONTROL_LIST',\n  PROJECT_SETTING = 'PROJECT_SETTING',\n  VERIFICATION_SUBMISSION = 'VERIFICATION_SUBMISSION',\n  CERTIFIED_USER_PASSING_RECORD = 'CERTIFIED_USER_PASSING_RECORD',\n  FORUM = 'FORUM',\n  THREAD = 'THREAD',\n  REPLY = 'REPLY',\n  FORM_GROUP = 'FORM_GROUP',\n  FORM_DATA = 'FORM_DATA',\n  ENTITY_VIEW = 'ENTITY_VIEW',\n  USER_PROFILE = 'USER_PROFILE',\n  DATA_ACCESS_REQUEST = 'DATA_ACCESS_REQUEST',\n  DATA_ACCESS_SUBMISSION = 'DATA_ACCESS_SUBMISSION',\n  DATA_ACCESS_SUBMISSION_STATUS = 'DATA_ACCESS_SUBMISSION_STATUS',\n  MEMBERSHIP_INVITATION = 'MEMBERSHIP_INVITATION',\n}\n","export type UserGroupHeader = {\n  ownerId: string //\tA foreign key to the ID of the 'principal' object for the user.\n  firstName?: string //\tFirst Name\n  lastName?: string //\tLast Name\n  userName: string //\tA name chosen by the user that uniquely identifies them.\n  email?: string //\tUser's current email address\n  displayName?: string //\tThis is deprecated and will always be null\n  isIndividual: boolean //\tTrue if this is a user, false if it is a group\n}\n\n// https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/principal/UserGroupHeaderResponse.html\nexport type UserGroupHeaderResponse = {\n  list: UserGroupHeader[] // The list of UserGroupHeaders.\n}\n\n// http://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/principal/TypeFilter.html\nexport enum TYPE_FILTER {\n  USERS_ONLY = 'USERS_ONLY',\n  TEAMS_ONLY = 'TEAMS_ONLY',\n  ALL = 'ALL',\n}\n","export var Subscribable = /*#__PURE__*/function () {\n  function Subscribable() {\n    this.listeners = [];\n  }\n\n  var _proto = Subscribable.prototype;\n\n  _proto.subscribe = function subscribe(listener) {\n    var _this = this;\n\n    var callback = listener || function () {\n      return undefined;\n    };\n\n    this.listeners.push(callback);\n    this.onSubscribe();\n    return function () {\n      _this.listeners = _this.listeners.filter(function (x) {\n        return x !== callback;\n      });\n\n      _this.onUnsubscribe();\n    };\n  };\n\n  _proto.hasListeners = function hasListeners() {\n    return this.listeners.length > 0;\n  };\n\n  _proto.onSubscribe = function onSubscribe() {// Do nothing\n  };\n\n  _proto.onUnsubscribe = function onUnsubscribe() {// Do nothing\n  };\n\n  return Subscribable;\n}();","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// TYPES\n// UTILS\nexport var isServer = typeof window === 'undefined';\nexport function noop() {\n  return undefined;\n}\nexport function functionalUpdate(updater, input) {\n  return typeof updater === 'function' ? updater(input) : updater;\n}\nexport function isValidTimeout(value) {\n  return typeof value === 'number' && value >= 0 && value !== Infinity;\n}\nexport function ensureQueryKeyArray(value) {\n  return Array.isArray(value) ? value : [value];\n}\nexport function difference(array1, array2) {\n  return array1.filter(function (x) {\n    return array2.indexOf(x) === -1;\n  });\n}\nexport function replaceAt(array, index, value) {\n  var copy = array.slice(0);\n  copy[index] = value;\n  return copy;\n}\nexport function timeUntilStale(updatedAt, staleTime) {\n  return Math.max(updatedAt + (staleTime || 0) - Date.now(), 0);\n}\nexport function parseQueryArgs(arg1, arg2, arg3) {\n  if (!isQueryKey(arg1)) {\n    return arg1;\n  }\n\n  if (typeof arg2 === 'function') {\n    return _extends({}, arg3, {\n      queryKey: arg1,\n      queryFn: arg2\n    });\n  }\n\n  return _extends({}, arg2, {\n    queryKey: arg1\n  });\n}\nexport function parseMutationArgs(arg1, arg2, arg3) {\n  if (isQueryKey(arg1)) {\n    if (typeof arg2 === 'function') {\n      return _extends({}, arg3, {\n        mutationKey: arg1,\n        mutationFn: arg2\n      });\n    }\n\n    return _extends({}, arg2, {\n      mutationKey: arg1\n    });\n  }\n\n  if (typeof arg1 === 'function') {\n    return _extends({}, arg2, {\n      mutationFn: arg1\n    });\n  }\n\n  return _extends({}, arg1);\n}\nexport function parseFilterArgs(arg1, arg2, arg3) {\n  return isQueryKey(arg1) ? [_extends({}, arg2, {\n    queryKey: arg1\n  }), arg3] : [arg1 || {}, arg2];\n}\nexport function parseMutationFilterArgs(arg1, arg2) {\n  return isQueryKey(arg1) ? _extends({}, arg2, {\n    mutationKey: arg1\n  }) : arg1;\n}\nexport function mapQueryStatusFilter(active, inactive) {\n  if (active === true && inactive === true || active == null && inactive == null) {\n    return 'all';\n  } else if (active === false && inactive === false) {\n    return 'none';\n  } else {\n    // At this point, active|inactive can only be true|false or false|true\n    // so, when only one value is provided, the missing one has to be the negated value\n    var isActive = active != null ? active : !inactive;\n    return isActive ? 'active' : 'inactive';\n  }\n}\nexport function matchQuery(filters, query) {\n  var active = filters.active,\n      exact = filters.exact,\n      fetching = filters.fetching,\n      inactive = filters.inactive,\n      predicate = filters.predicate,\n      queryKey = filters.queryKey,\n      stale = filters.stale;\n\n  if (isQueryKey(queryKey)) {\n    if (exact) {\n      if (query.queryHash !== hashQueryKeyByOptions(queryKey, query.options)) {\n        return false;\n      }\n    } else if (!partialMatchKey(query.queryKey, queryKey)) {\n      return false;\n    }\n  }\n\n  var queryStatusFilter = mapQueryStatusFilter(active, inactive);\n\n  if (queryStatusFilter === 'none') {\n    return false;\n  } else if (queryStatusFilter !== 'all') {\n    var isActive = query.isActive();\n\n    if (queryStatusFilter === 'active' && !isActive) {\n      return false;\n    }\n\n    if (queryStatusFilter === 'inactive' && isActive) {\n      return false;\n    }\n  }\n\n  if (typeof stale === 'boolean' && query.isStale() !== stale) {\n    return false;\n  }\n\n  if (typeof fetching === 'boolean' && query.isFetching() !== fetching) {\n    return false;\n  }\n\n  if (predicate && !predicate(query)) {\n    return false;\n  }\n\n  return true;\n}\nexport function matchMutation(filters, mutation) {\n  var exact = filters.exact,\n      fetching = filters.fetching,\n      predicate = filters.predicate,\n      mutationKey = filters.mutationKey;\n\n  if (isQueryKey(mutationKey)) {\n    if (!mutation.options.mutationKey) {\n      return false;\n    }\n\n    if (exact) {\n      if (hashQueryKey(mutation.options.mutationKey) !== hashQueryKey(mutationKey)) {\n        return false;\n      }\n    } else if (!partialMatchKey(mutation.options.mutationKey, mutationKey)) {\n      return false;\n    }\n  }\n\n  if (typeof fetching === 'boolean' && mutation.state.status === 'loading' !== fetching) {\n    return false;\n  }\n\n  if (predicate && !predicate(mutation)) {\n    return false;\n  }\n\n  return true;\n}\nexport function hashQueryKeyByOptions(queryKey, options) {\n  var hashFn = (options == null ? void 0 : options.queryKeyHashFn) || hashQueryKey;\n  return hashFn(queryKey);\n}\n/**\n * Default query keys hash function.\n */\n\nexport function hashQueryKey(queryKey) {\n  var asArray = ensureQueryKeyArray(queryKey);\n  return stableValueHash(asArray);\n}\n/**\n * Hashes the value into a stable hash.\n */\n\nexport function stableValueHash(value) {\n  return JSON.stringify(value, function (_, val) {\n    return isPlainObject(val) ? Object.keys(val).sort().reduce(function (result, key) {\n      result[key] = val[key];\n      return result;\n    }, {}) : val;\n  });\n}\n/**\n * Checks if key `b` partially matches with key `a`.\n */\n\nexport function partialMatchKey(a, b) {\n  return partialDeepEqual(ensureQueryKeyArray(a), ensureQueryKeyArray(b));\n}\n/**\n * Checks if `b` partially matches with `a`.\n */\n\nexport function partialDeepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (typeof a !== typeof b) {\n    return false;\n  }\n\n  if (a && b && typeof a === 'object' && typeof b === 'object') {\n    return !Object.keys(b).some(function (key) {\n      return !partialDeepEqual(a[key], b[key]);\n    });\n  }\n\n  return false;\n}\n/**\n * This function returns `a` if `b` is deeply equal.\n * If not, it will replace any deeply equal children of `b` with those of `a`.\n * This can be used for structural sharing between JSON values for example.\n */\n\nexport function replaceEqualDeep(a, b) {\n  if (a === b) {\n    return a;\n  }\n\n  var array = Array.isArray(a) && Array.isArray(b);\n\n  if (array || isPlainObject(a) && isPlainObject(b)) {\n    var aSize = array ? a.length : Object.keys(a).length;\n    var bItems = array ? b : Object.keys(b);\n    var bSize = bItems.length;\n    var copy = array ? [] : {};\n    var equalItems = 0;\n\n    for (var i = 0; i < bSize; i++) {\n      var key = array ? i : bItems[i];\n      copy[key] = replaceEqualDeep(a[key], b[key]);\n\n      if (copy[key] === a[key]) {\n        equalItems++;\n      }\n    }\n\n    return aSize === bSize && equalItems === aSize ? a : copy;\n  }\n\n  return b;\n}\n/**\n * Shallow compare objects. Only works with objects that always have the same properties.\n */\n\nexport function shallowEqualObjects(a, b) {\n  if (a && !b || b && !a) {\n    return false;\n  }\n\n  for (var key in a) {\n    if (a[key] !== b[key]) {\n      return false;\n    }\n  }\n\n  return true;\n} // Copied from: https://github.com/jonschlinkert/is-plain-object\n\nexport function isPlainObject(o) {\n  if (!hasObjectPrototype(o)) {\n    return false;\n  } // If has modified constructor\n\n\n  var ctor = o.constructor;\n\n  if (typeof ctor === 'undefined') {\n    return true;\n  } // If has modified prototype\n\n\n  var prot = ctor.prototype;\n\n  if (!hasObjectPrototype(prot)) {\n    return false;\n  } // If constructor does not have an Object-specific method\n\n\n  if (!prot.hasOwnProperty('isPrototypeOf')) {\n    return false;\n  } // Most likely a plain Object\n\n\n  return true;\n}\n\nfunction hasObjectPrototype(o) {\n  return Object.prototype.toString.call(o) === '[object Object]';\n}\n\nexport function isQueryKey(value) {\n  return typeof value === 'string' || Array.isArray(value);\n}\nexport function isError(value) {\n  return value instanceof Error;\n}\nexport function sleep(timeout) {\n  return new Promise(function (resolve) {\n    setTimeout(resolve, timeout);\n  });\n}\n/**\n * Schedules a microtask.\n * This can be useful to schedule state updates after rendering.\n */\n\nexport function scheduleMicrotask(callback) {\n  Promise.resolve().then(callback).catch(function (error) {\n    return setTimeout(function () {\n      throw error;\n    });\n  });\n}\nexport function getAbortController() {\n  if (typeof AbortController === 'function') {\n    return new AbortController();\n  }\n}","import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport { Subscribable } from './subscribable';\nimport { isServer } from './utils';\nexport var FocusManager = /*#__PURE__*/function (_Subscribable) {\n  _inheritsLoose(FocusManager, _Subscribable);\n\n  function FocusManager() {\n    var _this;\n\n    _this = _Subscribable.call(this) || this;\n\n    _this.setup = function (onFocus) {\n      var _window;\n\n      if (!isServer && ((_window = window) == null ? void 0 : _window.addEventListener)) {\n        var listener = function listener() {\n          return onFocus();\n        }; // Listen to visibillitychange and focus\n\n\n        window.addEventListener('visibilitychange', listener, false);\n        window.addEventListener('focus', listener, false);\n        return function () {\n          // Be sure to unsubscribe if a new handler is set\n          window.removeEventListener('visibilitychange', listener);\n          window.removeEventListener('focus', listener);\n        };\n      }\n    };\n\n    return _this;\n  }\n\n  var _proto = FocusManager.prototype;\n\n  _proto.onSubscribe = function onSubscribe() {\n    if (!this.cleanup) {\n      this.setEventListener(this.setup);\n    }\n  };\n\n  _proto.onUnsubscribe = function onUnsubscribe() {\n    if (!this.hasListeners()) {\n      var _this$cleanup;\n\n      (_this$cleanup = this.cleanup) == null ? void 0 : _this$cleanup.call(this);\n      this.cleanup = undefined;\n    }\n  };\n\n  _proto.setEventListener = function setEventListener(setup) {\n    var _this$cleanup2,\n        _this2 = this;\n\n    this.setup = setup;\n    (_this$cleanup2 = this.cleanup) == null ? void 0 : _this$cleanup2.call(this);\n    this.cleanup = setup(function (focused) {\n      if (typeof focused === 'boolean') {\n        _this2.setFocused(focused);\n      } else {\n        _this2.onFocus();\n      }\n    });\n  };\n\n  _proto.setFocused = function setFocused(focused) {\n    this.focused = focused;\n\n    if (focused) {\n      this.onFocus();\n    }\n  };\n\n  _proto.onFocus = function onFocus() {\n    this.listeners.forEach(function (listener) {\n      listener();\n    });\n  };\n\n  _proto.isFocused = function isFocused() {\n    if (typeof this.focused === 'boolean') {\n      return this.focused;\n    } // document global can be unavailable in react native\n\n\n    if (typeof document === 'undefined') {\n      return true;\n    }\n\n    return [undefined, 'visible', 'prerender'].includes(document.visibilityState);\n  };\n\n  return FocusManager;\n}(Subscribable);\nexport var focusManager = new FocusManager();","import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport { Subscribable } from './subscribable';\nimport { isServer } from './utils';\nexport var OnlineManager = /*#__PURE__*/function (_Subscribable) {\n  _inheritsLoose(OnlineManager, _Subscribable);\n\n  function OnlineManager() {\n    var _this;\n\n    _this = _Subscribable.call(this) || this;\n\n    _this.setup = function (onOnline) {\n      var _window;\n\n      if (!isServer && ((_window = window) == null ? void 0 : _window.addEventListener)) {\n        var listener = function listener() {\n          return onOnline();\n        }; // Listen to online\n\n\n        window.addEventListener('online', listener, false);\n        window.addEventListener('offline', listener, false);\n        return function () {\n          // Be sure to unsubscribe if a new handler is set\n          window.removeEventListener('online', listener);\n          window.removeEventListener('offline', listener);\n        };\n      }\n    };\n\n    return _this;\n  }\n\n  var _proto = OnlineManager.prototype;\n\n  _proto.onSubscribe = function onSubscribe() {\n    if (!this.cleanup) {\n      this.setEventListener(this.setup);\n    }\n  };\n\n  _proto.onUnsubscribe = function onUnsubscribe() {\n    if (!this.hasListeners()) {\n      var _this$cleanup;\n\n      (_this$cleanup = this.cleanup) == null ? void 0 : _this$cleanup.call(this);\n      this.cleanup = undefined;\n    }\n  };\n\n  _proto.setEventListener = function setEventListener(setup) {\n    var _this$cleanup2,\n        _this2 = this;\n\n    this.setup = setup;\n    (_this$cleanup2 = this.cleanup) == null ? void 0 : _this$cleanup2.call(this);\n    this.cleanup = setup(function (online) {\n      if (typeof online === 'boolean') {\n        _this2.setOnline(online);\n      } else {\n        _this2.onOnline();\n      }\n    });\n  };\n\n  _proto.setOnline = function setOnline(online) {\n    this.online = online;\n\n    if (online) {\n      this.onOnline();\n    }\n  };\n\n  _proto.onOnline = function onOnline() {\n    this.listeners.forEach(function (listener) {\n      listener();\n    });\n  };\n\n  _proto.isOnline = function isOnline() {\n    if (typeof this.online === 'boolean') {\n      return this.online;\n    }\n\n    if (typeof navigator === 'undefined' || typeof navigator.onLine === 'undefined') {\n      return true;\n    }\n\n    return navigator.onLine;\n  };\n\n  return OnlineManager;\n}(Subscribable);\nexport var onlineManager = new OnlineManager();","import { focusManager } from './focusManager';\nimport { onlineManager } from './onlineManager';\nimport { sleep } from './utils';\n\nfunction defaultRetryDelay(failureCount) {\n  return Math.min(1000 * Math.pow(2, failureCount), 30000);\n}\n\nexport function isCancelable(value) {\n  return typeof (value == null ? void 0 : value.cancel) === 'function';\n}\nexport var CancelledError = function CancelledError(options) {\n  this.revert = options == null ? void 0 : options.revert;\n  this.silent = options == null ? void 0 : options.silent;\n};\nexport function isCancelledError(value) {\n  return value instanceof CancelledError;\n} // CLASS\n\nexport var Retryer = function Retryer(config) {\n  var _this = this;\n\n  var cancelRetry = false;\n  var cancelFn;\n  var continueFn;\n  var promiseResolve;\n  var promiseReject;\n  this.abort = config.abort;\n\n  this.cancel = function (cancelOptions) {\n    return cancelFn == null ? void 0 : cancelFn(cancelOptions);\n  };\n\n  this.cancelRetry = function () {\n    cancelRetry = true;\n  };\n\n  this.continueRetry = function () {\n    cancelRetry = false;\n  };\n\n  this.continue = function () {\n    return continueFn == null ? void 0 : continueFn();\n  };\n\n  this.failureCount = 0;\n  this.isPaused = false;\n  this.isResolved = false;\n  this.isTransportCancelable = false;\n  this.promise = new Promise(function (outerResolve, outerReject) {\n    promiseResolve = outerResolve;\n    promiseReject = outerReject;\n  });\n\n  var resolve = function resolve(value) {\n    if (!_this.isResolved) {\n      _this.isResolved = true;\n      config.onSuccess == null ? void 0 : config.onSuccess(value);\n      continueFn == null ? void 0 : continueFn();\n      promiseResolve(value);\n    }\n  };\n\n  var reject = function reject(value) {\n    if (!_this.isResolved) {\n      _this.isResolved = true;\n      config.onError == null ? void 0 : config.onError(value);\n      continueFn == null ? void 0 : continueFn();\n      promiseReject(value);\n    }\n  };\n\n  var pause = function pause() {\n    return new Promise(function (continueResolve) {\n      continueFn = continueResolve;\n      _this.isPaused = true;\n      config.onPause == null ? void 0 : config.onPause();\n    }).then(function () {\n      continueFn = undefined;\n      _this.isPaused = false;\n      config.onContinue == null ? void 0 : config.onContinue();\n    });\n  }; // Create loop function\n\n\n  var run = function run() {\n    // Do nothing if already resolved\n    if (_this.isResolved) {\n      return;\n    }\n\n    var promiseOrValue; // Execute query\n\n    try {\n      promiseOrValue = config.fn();\n    } catch (error) {\n      promiseOrValue = Promise.reject(error);\n    } // Create callback to cancel this fetch\n\n\n    cancelFn = function cancelFn(cancelOptions) {\n      if (!_this.isResolved) {\n        reject(new CancelledError(cancelOptions));\n        _this.abort == null ? void 0 : _this.abort(); // Cancel transport if supported\n\n        if (isCancelable(promiseOrValue)) {\n          try {\n            promiseOrValue.cancel();\n          } catch (_unused) {}\n        }\n      }\n    }; // Check if the transport layer support cancellation\n\n\n    _this.isTransportCancelable = isCancelable(promiseOrValue);\n    Promise.resolve(promiseOrValue).then(resolve).catch(function (error) {\n      var _config$retry, _config$retryDelay;\n\n      // Stop if the fetch is already resolved\n      if (_this.isResolved) {\n        return;\n      } // Do we need to retry the request?\n\n\n      var retry = (_config$retry = config.retry) != null ? _config$retry : 3;\n      var retryDelay = (_config$retryDelay = config.retryDelay) != null ? _config$retryDelay : defaultRetryDelay;\n      var delay = typeof retryDelay === 'function' ? retryDelay(_this.failureCount, error) : retryDelay;\n      var shouldRetry = retry === true || typeof retry === 'number' && _this.failureCount < retry || typeof retry === 'function' && retry(_this.failureCount, error);\n\n      if (cancelRetry || !shouldRetry) {\n        // We are done if the query does not need to be retried\n        reject(error);\n        return;\n      }\n\n      _this.failureCount++; // Notify on fail\n\n      config.onFail == null ? void 0 : config.onFail(_this.failureCount, error); // Delay\n\n      sleep(delay) // Pause if the document is not visible or when the device is offline\n      .then(function () {\n        if (!focusManager.isFocused() || !onlineManager.isOnline()) {\n          return pause();\n        }\n      }).then(function () {\n        if (cancelRetry) {\n          reject(error);\n        } else {\n          run();\n        }\n      });\n    });\n  }; // Start loop\n\n\n  run();\n};","import { scheduleMicrotask } from './utils'; // TYPES\n\n// CLASS\nexport var NotifyManager = /*#__PURE__*/function () {\n  function NotifyManager() {\n    this.queue = [];\n    this.transactions = 0;\n\n    this.notifyFn = function (callback) {\n      callback();\n    };\n\n    this.batchNotifyFn = function (callback) {\n      callback();\n    };\n  }\n\n  var _proto = NotifyManager.prototype;\n\n  _proto.batch = function batch(callback) {\n    var result;\n    this.transactions++;\n\n    try {\n      result = callback();\n    } finally {\n      this.transactions--;\n\n      if (!this.transactions) {\n        this.flush();\n      }\n    }\n\n    return result;\n  };\n\n  _proto.schedule = function schedule(callback) {\n    var _this = this;\n\n    if (this.transactions) {\n      this.queue.push(callback);\n    } else {\n      scheduleMicrotask(function () {\n        _this.notifyFn(callback);\n      });\n    }\n  }\n  /**\n   * All calls to the wrapped function will be batched.\n   */\n  ;\n\n  _proto.batchCalls = function batchCalls(callback) {\n    var _this2 = this;\n\n    return function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this2.schedule(function () {\n        callback.apply(void 0, args);\n      });\n    };\n  };\n\n  _proto.flush = function flush() {\n    var _this3 = this;\n\n    var queue = this.queue;\n    this.queue = [];\n\n    if (queue.length) {\n      scheduleMicrotask(function () {\n        _this3.batchNotifyFn(function () {\n          queue.forEach(function (callback) {\n            _this3.notifyFn(callback);\n          });\n        });\n      });\n    }\n  }\n  /**\n   * Use this method to set a custom notify function.\n   * This can be used to for example wrap notifications with `React.act` while running tests.\n   */\n  ;\n\n  _proto.setNotifyFunction = function setNotifyFunction(fn) {\n    this.notifyFn = fn;\n  }\n  /**\n   * Use this method to set a custom function to batch notifications together into a single tick.\n   * By default React Query will use the batch function provided by ReactDOM or React Native.\n   */\n  ;\n\n  _proto.setBatchNotifyFunction = function setBatchNotifyFunction(fn) {\n    this.batchNotifyFn = fn;\n  };\n\n  return NotifyManager;\n}(); // SINGLETON\n\nexport var notifyManager = new NotifyManager();","// TYPES\n// FUNCTIONS\nvar logger = console;\nexport function getLogger() {\n  return logger;\n}\nexport function setLogger(newLogger) {\n  logger = newLogger;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { getAbortController, functionalUpdate, isValidTimeout, noop, replaceEqualDeep, timeUntilStale, ensureQueryKeyArray } from './utils';\nimport { notifyManager } from './notifyManager';\nimport { getLogger } from './logger';\nimport { Retryer, isCancelledError } from './retryer'; // TYPES\n\n// CLASS\nexport var Query = /*#__PURE__*/function () {\n  function Query(config) {\n    this.abortSignalConsumed = false;\n    this.hadObservers = false;\n    this.defaultOptions = config.defaultOptions;\n    this.setOptions(config.options);\n    this.observers = [];\n    this.cache = config.cache;\n    this.queryKey = config.queryKey;\n    this.queryHash = config.queryHash;\n    this.initialState = config.state || this.getDefaultState(this.options);\n    this.state = this.initialState;\n    this.meta = config.meta;\n    this.scheduleGc();\n  }\n\n  var _proto = Query.prototype;\n\n  _proto.setOptions = function setOptions(options) {\n    var _this$options$cacheTi;\n\n    this.options = _extends({}, this.defaultOptions, options);\n    this.meta = options == null ? void 0 : options.meta; // Default to 5 minutes if not cache time is set\n\n    this.cacheTime = Math.max(this.cacheTime || 0, (_this$options$cacheTi = this.options.cacheTime) != null ? _this$options$cacheTi : 5 * 60 * 1000);\n  };\n\n  _proto.setDefaultOptions = function setDefaultOptions(options) {\n    this.defaultOptions = options;\n  };\n\n  _proto.scheduleGc = function scheduleGc() {\n    var _this = this;\n\n    this.clearGcTimeout();\n\n    if (isValidTimeout(this.cacheTime)) {\n      this.gcTimeout = setTimeout(function () {\n        _this.optionalRemove();\n      }, this.cacheTime);\n    }\n  };\n\n  _proto.clearGcTimeout = function clearGcTimeout() {\n    clearTimeout(this.gcTimeout);\n    this.gcTimeout = undefined;\n  };\n\n  _proto.optionalRemove = function optionalRemove() {\n    if (!this.observers.length) {\n      if (this.state.isFetching) {\n        if (this.hadObservers) {\n          this.scheduleGc();\n        }\n      } else {\n        this.cache.remove(this);\n      }\n    }\n  };\n\n  _proto.setData = function setData(updater, options) {\n    var _this$options$isDataE, _this$options;\n\n    var prevData = this.state.data; // Get the new data\n\n    var data = functionalUpdate(updater, prevData); // Use prev data if an isDataEqual function is defined and returns `true`\n\n    if ((_this$options$isDataE = (_this$options = this.options).isDataEqual) == null ? void 0 : _this$options$isDataE.call(_this$options, prevData, data)) {\n      data = prevData;\n    } else if (this.options.structuralSharing !== false) {\n      // Structurally share data between prev and new data if needed\n      data = replaceEqualDeep(prevData, data);\n    } // Set data and mark it as cached\n\n\n    this.dispatch({\n      data: data,\n      type: 'success',\n      dataUpdatedAt: options == null ? void 0 : options.updatedAt\n    });\n    return data;\n  };\n\n  _proto.setState = function setState(state, setStateOptions) {\n    this.dispatch({\n      type: 'setState',\n      state: state,\n      setStateOptions: setStateOptions\n    });\n  };\n\n  _proto.cancel = function cancel(options) {\n    var _this$retryer;\n\n    var promise = this.promise;\n    (_this$retryer = this.retryer) == null ? void 0 : _this$retryer.cancel(options);\n    return promise ? promise.then(noop).catch(noop) : Promise.resolve();\n  };\n\n  _proto.destroy = function destroy() {\n    this.clearGcTimeout();\n    this.cancel({\n      silent: true\n    });\n  };\n\n  _proto.reset = function reset() {\n    this.destroy();\n    this.setState(this.initialState);\n  };\n\n  _proto.isActive = function isActive() {\n    return this.observers.some(function (observer) {\n      return observer.options.enabled !== false;\n    });\n  };\n\n  _proto.isFetching = function isFetching() {\n    return this.state.isFetching;\n  };\n\n  _proto.isStale = function isStale() {\n    return this.state.isInvalidated || !this.state.dataUpdatedAt || this.observers.some(function (observer) {\n      return observer.getCurrentResult().isStale;\n    });\n  };\n\n  _proto.isStaleByTime = function isStaleByTime(staleTime) {\n    if (staleTime === void 0) {\n      staleTime = 0;\n    }\n\n    return this.state.isInvalidated || !this.state.dataUpdatedAt || !timeUntilStale(this.state.dataUpdatedAt, staleTime);\n  };\n\n  _proto.onFocus = function onFocus() {\n    var _this$retryer2;\n\n    var observer = this.observers.find(function (x) {\n      return x.shouldFetchOnWindowFocus();\n    });\n\n    if (observer) {\n      observer.refetch();\n    } // Continue fetch if currently paused\n\n\n    (_this$retryer2 = this.retryer) == null ? void 0 : _this$retryer2.continue();\n  };\n\n  _proto.onOnline = function onOnline() {\n    var _this$retryer3;\n\n    var observer = this.observers.find(function (x) {\n      return x.shouldFetchOnReconnect();\n    });\n\n    if (observer) {\n      observer.refetch();\n    } // Continue fetch if currently paused\n\n\n    (_this$retryer3 = this.retryer) == null ? void 0 : _this$retryer3.continue();\n  };\n\n  _proto.addObserver = function addObserver(observer) {\n    if (this.observers.indexOf(observer) === -1) {\n      this.observers.push(observer);\n      this.hadObservers = true; // Stop the query from being garbage collected\n\n      this.clearGcTimeout();\n      this.cache.notify({\n        type: 'observerAdded',\n        query: this,\n        observer: observer\n      });\n    }\n  };\n\n  _proto.removeObserver = function removeObserver(observer) {\n    if (this.observers.indexOf(observer) !== -1) {\n      this.observers = this.observers.filter(function (x) {\n        return x !== observer;\n      });\n\n      if (!this.observers.length) {\n        // If the transport layer does not support cancellation\n        // we'll let the query continue so the result can be cached\n        if (this.retryer) {\n          if (this.retryer.isTransportCancelable || this.abortSignalConsumed) {\n            this.retryer.cancel({\n              revert: true\n            });\n          } else {\n            this.retryer.cancelRetry();\n          }\n        }\n\n        if (this.cacheTime) {\n          this.scheduleGc();\n        } else {\n          this.cache.remove(this);\n        }\n      }\n\n      this.cache.notify({\n        type: 'observerRemoved',\n        query: this,\n        observer: observer\n      });\n    }\n  };\n\n  _proto.getObserversCount = function getObserversCount() {\n    return this.observers.length;\n  };\n\n  _proto.invalidate = function invalidate() {\n    if (!this.state.isInvalidated) {\n      this.dispatch({\n        type: 'invalidate'\n      });\n    }\n  };\n\n  _proto.fetch = function fetch(options, fetchOptions) {\n    var _this2 = this,\n        _this$options$behavio,\n        _context$fetchOptions,\n        _abortController$abor;\n\n    if (this.state.isFetching) {\n      if (this.state.dataUpdatedAt && (fetchOptions == null ? void 0 : fetchOptions.cancelRefetch)) {\n        // Silently cancel current fetch if the user wants to cancel refetches\n        this.cancel({\n          silent: true\n        });\n      } else if (this.promise) {\n        var _this$retryer4;\n\n        // make sure that retries that were potentially cancelled due to unmounts can continue\n        (_this$retryer4 = this.retryer) == null ? void 0 : _this$retryer4.continueRetry(); // Return current promise if we are already fetching\n\n        return this.promise;\n      }\n    } // Update config if passed, otherwise the config from the last execution is used\n\n\n    if (options) {\n      this.setOptions(options);\n    } // Use the options from the first observer with a query function if no function is found.\n    // This can happen when the query is hydrated or created with setQueryData.\n\n\n    if (!this.options.queryFn) {\n      var observer = this.observers.find(function (x) {\n        return x.options.queryFn;\n      });\n\n      if (observer) {\n        this.setOptions(observer.options);\n      }\n    }\n\n    var queryKey = ensureQueryKeyArray(this.queryKey);\n    var abortController = getAbortController(); // Create query function context\n\n    var queryFnContext = {\n      queryKey: queryKey,\n      pageParam: undefined,\n      meta: this.meta\n    };\n    Object.defineProperty(queryFnContext, 'signal', {\n      enumerable: true,\n      get: function get() {\n        if (abortController) {\n          _this2.abortSignalConsumed = true;\n          return abortController.signal;\n        }\n\n        return undefined;\n      }\n    }); // Create fetch function\n\n    var fetchFn = function fetchFn() {\n      if (!_this2.options.queryFn) {\n        return Promise.reject('Missing queryFn');\n      }\n\n      _this2.abortSignalConsumed = false;\n      return _this2.options.queryFn(queryFnContext);\n    }; // Trigger behavior hook\n\n\n    var context = {\n      fetchOptions: fetchOptions,\n      options: this.options,\n      queryKey: queryKey,\n      state: this.state,\n      fetchFn: fetchFn,\n      meta: this.meta\n    };\n\n    if ((_this$options$behavio = this.options.behavior) == null ? void 0 : _this$options$behavio.onFetch) {\n      var _this$options$behavio2;\n\n      (_this$options$behavio2 = this.options.behavior) == null ? void 0 : _this$options$behavio2.onFetch(context);\n    } // Store state in case the current fetch needs to be reverted\n\n\n    this.revertState = this.state; // Set to fetching state if not already in it\n\n    if (!this.state.isFetching || this.state.fetchMeta !== ((_context$fetchOptions = context.fetchOptions) == null ? void 0 : _context$fetchOptions.meta)) {\n      var _context$fetchOptions2;\n\n      this.dispatch({\n        type: 'fetch',\n        meta: (_context$fetchOptions2 = context.fetchOptions) == null ? void 0 : _context$fetchOptions2.meta\n      });\n    } // Try to fetch the data\n\n\n    this.retryer = new Retryer({\n      fn: context.fetchFn,\n      abort: abortController == null ? void 0 : (_abortController$abor = abortController.abort) == null ? void 0 : _abortController$abor.bind(abortController),\n      onSuccess: function onSuccess(data) {\n        _this2.setData(data); // Notify cache callback\n\n\n        _this2.cache.config.onSuccess == null ? void 0 : _this2.cache.config.onSuccess(data, _this2); // Remove query after fetching if cache time is 0\n\n        if (_this2.cacheTime === 0) {\n          _this2.optionalRemove();\n        }\n      },\n      onError: function onError(error) {\n        // Optimistically update state if needed\n        if (!(isCancelledError(error) && error.silent)) {\n          _this2.dispatch({\n            type: 'error',\n            error: error\n          });\n        }\n\n        if (!isCancelledError(error)) {\n          // Notify cache callback\n          _this2.cache.config.onError == null ? void 0 : _this2.cache.config.onError(error, _this2); // Log error\n\n          getLogger().error(error);\n        } // Remove query after fetching if cache time is 0\n\n\n        if (_this2.cacheTime === 0) {\n          _this2.optionalRemove();\n        }\n      },\n      onFail: function onFail() {\n        _this2.dispatch({\n          type: 'failed'\n        });\n      },\n      onPause: function onPause() {\n        _this2.dispatch({\n          type: 'pause'\n        });\n      },\n      onContinue: function onContinue() {\n        _this2.dispatch({\n          type: 'continue'\n        });\n      },\n      retry: context.options.retry,\n      retryDelay: context.options.retryDelay\n    });\n    this.promise = this.retryer.promise;\n    return this.promise;\n  };\n\n  _proto.dispatch = function dispatch(action) {\n    var _this3 = this;\n\n    this.state = this.reducer(this.state, action);\n    notifyManager.batch(function () {\n      _this3.observers.forEach(function (observer) {\n        observer.onQueryUpdate(action);\n      });\n\n      _this3.cache.notify({\n        query: _this3,\n        type: 'queryUpdated',\n        action: action\n      });\n    });\n  };\n\n  _proto.getDefaultState = function getDefaultState(options) {\n    var data = typeof options.initialData === 'function' ? options.initialData() : options.initialData;\n    var hasInitialData = typeof options.initialData !== 'undefined';\n    var initialDataUpdatedAt = hasInitialData ? typeof options.initialDataUpdatedAt === 'function' ? options.initialDataUpdatedAt() : options.initialDataUpdatedAt : 0;\n    var hasData = typeof data !== 'undefined';\n    return {\n      data: data,\n      dataUpdateCount: 0,\n      dataUpdatedAt: hasData ? initialDataUpdatedAt != null ? initialDataUpdatedAt : Date.now() : 0,\n      error: null,\n      errorUpdateCount: 0,\n      errorUpdatedAt: 0,\n      fetchFailureCount: 0,\n      fetchMeta: null,\n      isFetching: false,\n      isInvalidated: false,\n      isPaused: false,\n      status: hasData ? 'success' : 'idle'\n    };\n  };\n\n  _proto.reducer = function reducer(state, action) {\n    var _action$meta, _action$dataUpdatedAt;\n\n    switch (action.type) {\n      case 'failed':\n        return _extends({}, state, {\n          fetchFailureCount: state.fetchFailureCount + 1\n        });\n\n      case 'pause':\n        return _extends({}, state, {\n          isPaused: true\n        });\n\n      case 'continue':\n        return _extends({}, state, {\n          isPaused: false\n        });\n\n      case 'fetch':\n        return _extends({}, state, {\n          fetchFailureCount: 0,\n          fetchMeta: (_action$meta = action.meta) != null ? _action$meta : null,\n          isFetching: true,\n          isPaused: false\n        }, !state.dataUpdatedAt && {\n          error: null,\n          status: 'loading'\n        });\n\n      case 'success':\n        return _extends({}, state, {\n          data: action.data,\n          dataUpdateCount: state.dataUpdateCount + 1,\n          dataUpdatedAt: (_action$dataUpdatedAt = action.dataUpdatedAt) != null ? _action$dataUpdatedAt : Date.now(),\n          error: null,\n          fetchFailureCount: 0,\n          isFetching: false,\n          isInvalidated: false,\n          isPaused: false,\n          status: 'success'\n        });\n\n      case 'error':\n        var error = action.error;\n\n        if (isCancelledError(error) && error.revert && this.revertState) {\n          return _extends({}, this.revertState);\n        }\n\n        return _extends({}, state, {\n          error: error,\n          errorUpdateCount: state.errorUpdateCount + 1,\n          errorUpdatedAt: Date.now(),\n          fetchFailureCount: state.fetchFailureCount + 1,\n          isFetching: false,\n          isPaused: false,\n          status: 'error'\n        });\n\n      case 'invalidate':\n        return _extends({}, state, {\n          isInvalidated: true\n        });\n\n      case 'setState':\n        return _extends({}, state, action.state);\n\n      default:\n        return state;\n    }\n  };\n\n  return Query;\n}();","import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport { hashQueryKeyByOptions, matchQuery, parseFilterArgs } from './utils';\nimport { Query } from './query';\nimport { notifyManager } from './notifyManager';\nimport { Subscribable } from './subscribable';\n// CLASS\nexport var QueryCache = /*#__PURE__*/function (_Subscribable) {\n  _inheritsLoose(QueryCache, _Subscribable);\n\n  function QueryCache(config) {\n    var _this;\n\n    _this = _Subscribable.call(this) || this;\n    _this.config = config || {};\n    _this.queries = [];\n    _this.queriesMap = {};\n    return _this;\n  }\n\n  var _proto = QueryCache.prototype;\n\n  _proto.build = function build(client, options, state) {\n    var _options$queryHash;\n\n    var queryKey = options.queryKey;\n    var queryHash = (_options$queryHash = options.queryHash) != null ? _options$queryHash : hashQueryKeyByOptions(queryKey, options);\n    var query = this.get(queryHash);\n\n    if (!query) {\n      query = new Query({\n        cache: this,\n        queryKey: queryKey,\n        queryHash: queryHash,\n        options: client.defaultQueryOptions(options),\n        state: state,\n        defaultOptions: client.getQueryDefaults(queryKey),\n        meta: options.meta\n      });\n      this.add(query);\n    }\n\n    return query;\n  };\n\n  _proto.add = function add(query) {\n    if (!this.queriesMap[query.queryHash]) {\n      this.queriesMap[query.queryHash] = query;\n      this.queries.push(query);\n      this.notify({\n        type: 'queryAdded',\n        query: query\n      });\n    }\n  };\n\n  _proto.remove = function remove(query) {\n    var queryInMap = this.queriesMap[query.queryHash];\n\n    if (queryInMap) {\n      query.destroy();\n      this.queries = this.queries.filter(function (x) {\n        return x !== query;\n      });\n\n      if (queryInMap === query) {\n        delete this.queriesMap[query.queryHash];\n      }\n\n      this.notify({\n        type: 'queryRemoved',\n        query: query\n      });\n    }\n  };\n\n  _proto.clear = function clear() {\n    var _this2 = this;\n\n    notifyManager.batch(function () {\n      _this2.queries.forEach(function (query) {\n        _this2.remove(query);\n      });\n    });\n  };\n\n  _proto.get = function get(queryHash) {\n    return this.queriesMap[queryHash];\n  };\n\n  _proto.getAll = function getAll() {\n    return this.queries;\n  };\n\n  _proto.find = function find(arg1, arg2) {\n    var _parseFilterArgs = parseFilterArgs(arg1, arg2),\n        filters = _parseFilterArgs[0];\n\n    if (typeof filters.exact === 'undefined') {\n      filters.exact = true;\n    }\n\n    return this.queries.find(function (query) {\n      return matchQuery(filters, query);\n    });\n  };\n\n  _proto.findAll = function findAll(arg1, arg2) {\n    var _parseFilterArgs2 = parseFilterArgs(arg1, arg2),\n        filters = _parseFilterArgs2[0];\n\n    return Object.keys(filters).length > 0 ? this.queries.filter(function (query) {\n      return matchQuery(filters, query);\n    }) : this.queries;\n  };\n\n  _proto.notify = function notify(event) {\n    var _this3 = this;\n\n    notifyManager.batch(function () {\n      _this3.listeners.forEach(function (listener) {\n        listener(event);\n      });\n    });\n  };\n\n  _proto.onFocus = function onFocus() {\n    var _this4 = this;\n\n    notifyManager.batch(function () {\n      _this4.queries.forEach(function (query) {\n        query.onFocus();\n      });\n    });\n  };\n\n  _proto.onOnline = function onOnline() {\n    var _this5 = this;\n\n    notifyManager.batch(function () {\n      _this5.queries.forEach(function (query) {\n        query.onOnline();\n      });\n    });\n  };\n\n  return QueryCache;\n}(Subscribable);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { getLogger } from './logger';\nimport { notifyManager } from './notifyManager';\nimport { Retryer } from './retryer';\nimport { noop } from './utils'; // TYPES\n\n// CLASS\nexport var Mutation = /*#__PURE__*/function () {\n  function Mutation(config) {\n    this.options = _extends({}, config.defaultOptions, config.options);\n    this.mutationId = config.mutationId;\n    this.mutationCache = config.mutationCache;\n    this.observers = [];\n    this.state = config.state || getDefaultState();\n    this.meta = config.meta;\n  }\n\n  var _proto = Mutation.prototype;\n\n  _proto.setState = function setState(state) {\n    this.dispatch({\n      type: 'setState',\n      state: state\n    });\n  };\n\n  _proto.addObserver = function addObserver(observer) {\n    if (this.observers.indexOf(observer) === -1) {\n      this.observers.push(observer);\n    }\n  };\n\n  _proto.removeObserver = function removeObserver(observer) {\n    this.observers = this.observers.filter(function (x) {\n      return x !== observer;\n    });\n  };\n\n  _proto.cancel = function cancel() {\n    if (this.retryer) {\n      this.retryer.cancel();\n      return this.retryer.promise.then(noop).catch(noop);\n    }\n\n    return Promise.resolve();\n  };\n\n  _proto.continue = function _continue() {\n    if (this.retryer) {\n      this.retryer.continue();\n      return this.retryer.promise;\n    }\n\n    return this.execute();\n  };\n\n  _proto.execute = function execute() {\n    var _this = this;\n\n    var data;\n    var restored = this.state.status === 'loading';\n    var promise = Promise.resolve();\n\n    if (!restored) {\n      this.dispatch({\n        type: 'loading',\n        variables: this.options.variables\n      });\n      promise = promise.then(function () {\n        // Notify cache callback\n        _this.mutationCache.config.onMutate == null ? void 0 : _this.mutationCache.config.onMutate(_this.state.variables, _this);\n      }).then(function () {\n        return _this.options.onMutate == null ? void 0 : _this.options.onMutate(_this.state.variables);\n      }).then(function (context) {\n        if (context !== _this.state.context) {\n          _this.dispatch({\n            type: 'loading',\n            context: context,\n            variables: _this.state.variables\n          });\n        }\n      });\n    }\n\n    return promise.then(function () {\n      return _this.executeMutation();\n    }).then(function (result) {\n      data = result; // Notify cache callback\n\n      _this.mutationCache.config.onSuccess == null ? void 0 : _this.mutationCache.config.onSuccess(data, _this.state.variables, _this.state.context, _this);\n    }).then(function () {\n      return _this.options.onSuccess == null ? void 0 : _this.options.onSuccess(data, _this.state.variables, _this.state.context);\n    }).then(function () {\n      return _this.options.onSettled == null ? void 0 : _this.options.onSettled(data, null, _this.state.variables, _this.state.context);\n    }).then(function () {\n      _this.dispatch({\n        type: 'success',\n        data: data\n      });\n\n      return data;\n    }).catch(function (error) {\n      // Notify cache callback\n      _this.mutationCache.config.onError == null ? void 0 : _this.mutationCache.config.onError(error, _this.state.variables, _this.state.context, _this); // Log error\n\n      getLogger().error(error);\n      return Promise.resolve().then(function () {\n        return _this.options.onError == null ? void 0 : _this.options.onError(error, _this.state.variables, _this.state.context);\n      }).then(function () {\n        return _this.options.onSettled == null ? void 0 : _this.options.onSettled(undefined, error, _this.state.variables, _this.state.context);\n      }).then(function () {\n        _this.dispatch({\n          type: 'error',\n          error: error\n        });\n\n        throw error;\n      });\n    });\n  };\n\n  _proto.executeMutation = function executeMutation() {\n    var _this2 = this,\n        _this$options$retry;\n\n    this.retryer = new Retryer({\n      fn: function fn() {\n        if (!_this2.options.mutationFn) {\n          return Promise.reject('No mutationFn found');\n        }\n\n        return _this2.options.mutationFn(_this2.state.variables);\n      },\n      onFail: function onFail() {\n        _this2.dispatch({\n          type: 'failed'\n        });\n      },\n      onPause: function onPause() {\n        _this2.dispatch({\n          type: 'pause'\n        });\n      },\n      onContinue: function onContinue() {\n        _this2.dispatch({\n          type: 'continue'\n        });\n      },\n      retry: (_this$options$retry = this.options.retry) != null ? _this$options$retry : 0,\n      retryDelay: this.options.retryDelay\n    });\n    return this.retryer.promise;\n  };\n\n  _proto.dispatch = function dispatch(action) {\n    var _this3 = this;\n\n    this.state = reducer(this.state, action);\n    notifyManager.batch(function () {\n      _this3.observers.forEach(function (observer) {\n        observer.onMutationUpdate(action);\n      });\n\n      _this3.mutationCache.notify(_this3);\n    });\n  };\n\n  return Mutation;\n}();\nexport function getDefaultState() {\n  return {\n    context: undefined,\n    data: undefined,\n    error: null,\n    failureCount: 0,\n    isPaused: false,\n    status: 'idle',\n    variables: undefined\n  };\n}\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'failed':\n      return _extends({}, state, {\n        failureCount: state.failureCount + 1\n      });\n\n    case 'pause':\n      return _extends({}, state, {\n        isPaused: true\n      });\n\n    case 'continue':\n      return _extends({}, state, {\n        isPaused: false\n      });\n\n    case 'loading':\n      return _extends({}, state, {\n        context: action.context,\n        data: undefined,\n        error: null,\n        isPaused: false,\n        status: 'loading',\n        variables: action.variables\n      });\n\n    case 'success':\n      return _extends({}, state, {\n        data: action.data,\n        error: null,\n        status: 'success',\n        isPaused: false\n      });\n\n    case 'error':\n      return _extends({}, state, {\n        data: undefined,\n        error: action.error,\n        failureCount: state.failureCount + 1,\n        isPaused: false,\n        status: 'error'\n      });\n\n    case 'setState':\n      return _extends({}, state, action.state);\n\n    default:\n      return state;\n  }\n}","import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport { notifyManager } from './notifyManager';\nimport { Mutation } from './mutation';\nimport { matchMutation, noop } from './utils';\nimport { Subscribable } from './subscribable'; // TYPES\n\n// CLASS\nexport var MutationCache = /*#__PURE__*/function (_Subscribable) {\n  _inheritsLoose(MutationCache, _Subscribable);\n\n  function MutationCache(config) {\n    var _this;\n\n    _this = _Subscribable.call(this) || this;\n    _this.config = config || {};\n    _this.mutations = [];\n    _this.mutationId = 0;\n    return _this;\n  }\n\n  var _proto = MutationCache.prototype;\n\n  _proto.build = function build(client, options, state) {\n    var mutation = new Mutation({\n      mutationCache: this,\n      mutationId: ++this.mutationId,\n      options: client.defaultMutationOptions(options),\n      state: state,\n      defaultOptions: options.mutationKey ? client.getMutationDefaults(options.mutationKey) : undefined,\n      meta: options.meta\n    });\n    this.add(mutation);\n    return mutation;\n  };\n\n  _proto.add = function add(mutation) {\n    this.mutations.push(mutation);\n    this.notify(mutation);\n  };\n\n  _proto.remove = function remove(mutation) {\n    this.mutations = this.mutations.filter(function (x) {\n      return x !== mutation;\n    });\n    mutation.cancel();\n    this.notify(mutation);\n  };\n\n  _proto.clear = function clear() {\n    var _this2 = this;\n\n    notifyManager.batch(function () {\n      _this2.mutations.forEach(function (mutation) {\n        _this2.remove(mutation);\n      });\n    });\n  };\n\n  _proto.getAll = function getAll() {\n    return this.mutations;\n  };\n\n  _proto.find = function find(filters) {\n    if (typeof filters.exact === 'undefined') {\n      filters.exact = true;\n    }\n\n    return this.mutations.find(function (mutation) {\n      return matchMutation(filters, mutation);\n    });\n  };\n\n  _proto.findAll = function findAll(filters) {\n    return this.mutations.filter(function (mutation) {\n      return matchMutation(filters, mutation);\n    });\n  };\n\n  _proto.notify = function notify(mutation) {\n    var _this3 = this;\n\n    notifyManager.batch(function () {\n      _this3.listeners.forEach(function (listener) {\n        listener(mutation);\n      });\n    });\n  };\n\n  _proto.onFocus = function onFocus() {\n    this.resumePausedMutations();\n  };\n\n  _proto.onOnline = function onOnline() {\n    this.resumePausedMutations();\n  };\n\n  _proto.resumePausedMutations = function resumePausedMutations() {\n    var pausedMutations = this.mutations.filter(function (x) {\n      return x.state.isPaused;\n    });\n    return notifyManager.batch(function () {\n      return pausedMutations.reduce(function (promise, mutation) {\n        return promise.then(function () {\n          return mutation.continue().catch(noop);\n        });\n      }, Promise.resolve());\n    });\n  };\n\n  return MutationCache;\n}(Subscribable);","import { isCancelable } from './retryer';\nimport { getAbortController } from './utils';\nexport function infiniteQueryBehavior() {\n  return {\n    onFetch: function onFetch(context) {\n      context.fetchFn = function () {\n        var _context$fetchOptions, _context$fetchOptions2, _context$fetchOptions3, _context$fetchOptions4, _context$state$data, _context$state$data2;\n\n        var refetchPage = (_context$fetchOptions = context.fetchOptions) == null ? void 0 : (_context$fetchOptions2 = _context$fetchOptions.meta) == null ? void 0 : _context$fetchOptions2.refetchPage;\n        var fetchMore = (_context$fetchOptions3 = context.fetchOptions) == null ? void 0 : (_context$fetchOptions4 = _context$fetchOptions3.meta) == null ? void 0 : _context$fetchOptions4.fetchMore;\n        var pageParam = fetchMore == null ? void 0 : fetchMore.pageParam;\n        var isFetchingNextPage = (fetchMore == null ? void 0 : fetchMore.direction) === 'forward';\n        var isFetchingPreviousPage = (fetchMore == null ? void 0 : fetchMore.direction) === 'backward';\n        var oldPages = ((_context$state$data = context.state.data) == null ? void 0 : _context$state$data.pages) || [];\n        var oldPageParams = ((_context$state$data2 = context.state.data) == null ? void 0 : _context$state$data2.pageParams) || [];\n        var abortController = getAbortController();\n        var abortSignal = abortController == null ? void 0 : abortController.signal;\n        var newPageParams = oldPageParams;\n        var cancelled = false; // Get query function\n\n        var queryFn = context.options.queryFn || function () {\n          return Promise.reject('Missing queryFn');\n        };\n\n        var buildNewPages = function buildNewPages(pages, param, page, previous) {\n          newPageParams = previous ? [param].concat(newPageParams) : [].concat(newPageParams, [param]);\n          return previous ? [page].concat(pages) : [].concat(pages, [page]);\n        }; // Create function to fetch a page\n\n\n        var fetchPage = function fetchPage(pages, manual, param, previous) {\n          if (cancelled) {\n            return Promise.reject('Cancelled');\n          }\n\n          if (typeof param === 'undefined' && !manual && pages.length) {\n            return Promise.resolve(pages);\n          }\n\n          var queryFnContext = {\n            queryKey: context.queryKey,\n            signal: abortSignal,\n            pageParam: param,\n            meta: context.meta\n          };\n          var queryFnResult = queryFn(queryFnContext);\n          var promise = Promise.resolve(queryFnResult).then(function (page) {\n            return buildNewPages(pages, param, page, previous);\n          });\n\n          if (isCancelable(queryFnResult)) {\n            var promiseAsAny = promise;\n            promiseAsAny.cancel = queryFnResult.cancel;\n          }\n\n          return promise;\n        };\n\n        var promise; // Fetch first page?\n\n        if (!oldPages.length) {\n          promise = fetchPage([]);\n        } // Fetch next page?\n        else if (isFetchingNextPage) {\n            var manual = typeof pageParam !== 'undefined';\n            var param = manual ? pageParam : getNextPageParam(context.options, oldPages);\n            promise = fetchPage(oldPages, manual, param);\n          } // Fetch previous page?\n          else if (isFetchingPreviousPage) {\n              var _manual = typeof pageParam !== 'undefined';\n\n              var _param = _manual ? pageParam : getPreviousPageParam(context.options, oldPages);\n\n              promise = fetchPage(oldPages, _manual, _param, true);\n            } // Refetch pages\n            else {\n                (function () {\n                  newPageParams = [];\n                  var manual = typeof context.options.getNextPageParam === 'undefined';\n                  var shouldFetchFirstPage = refetchPage && oldPages[0] ? refetchPage(oldPages[0], 0, oldPages) : true; // Fetch first page\n\n                  promise = shouldFetchFirstPage ? fetchPage([], manual, oldPageParams[0]) : Promise.resolve(buildNewPages([], oldPageParams[0], oldPages[0])); // Fetch remaining pages\n\n                  var _loop = function _loop(i) {\n                    promise = promise.then(function (pages) {\n                      var shouldFetchNextPage = refetchPage && oldPages[i] ? refetchPage(oldPages[i], i, oldPages) : true;\n\n                      if (shouldFetchNextPage) {\n                        var _param2 = manual ? oldPageParams[i] : getNextPageParam(context.options, pages);\n\n                        return fetchPage(pages, manual, _param2);\n                      }\n\n                      return Promise.resolve(buildNewPages(pages, oldPageParams[i], oldPages[i]));\n                    });\n                  };\n\n                  for (var i = 1; i < oldPages.length; i++) {\n                    _loop(i);\n                  }\n                })();\n              }\n\n        var finalPromise = promise.then(function (pages) {\n          return {\n            pages: pages,\n            pageParams: newPageParams\n          };\n        });\n        var finalPromiseAsAny = finalPromise;\n\n        finalPromiseAsAny.cancel = function () {\n          cancelled = true;\n          abortController == null ? void 0 : abortController.abort();\n\n          if (isCancelable(promise)) {\n            promise.cancel();\n          }\n        };\n\n        return finalPromise;\n      };\n    }\n  };\n}\nexport function getNextPageParam(options, pages) {\n  return options.getNextPageParam == null ? void 0 : options.getNextPageParam(pages[pages.length - 1], pages);\n}\nexport function getPreviousPageParam(options, pages) {\n  return options.getPreviousPageParam == null ? void 0 : options.getPreviousPageParam(pages[0], pages);\n}\n/**\n * Checks if there is a next page.\n * Returns `undefined` if it cannot be determined.\n */\n\nexport function hasNextPage(options, pages) {\n  if (options.getNextPageParam && Array.isArray(pages)) {\n    var nextPageParam = getNextPageParam(options, pages);\n    return typeof nextPageParam !== 'undefined' && nextPageParam !== null && nextPageParam !== false;\n  }\n}\n/**\n * Checks if there is a previous page.\n * Returns `undefined` if it cannot be determined.\n */\n\nexport function hasPreviousPage(options, pages) {\n  if (options.getPreviousPageParam && Array.isArray(pages)) {\n    var previousPageParam = getPreviousPageParam(options, pages);\n    return typeof previousPageParam !== 'undefined' && previousPageParam !== null && previousPageParam !== false;\n  }\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { hashQueryKey, noop, parseFilterArgs, parseQueryArgs, partialMatchKey, hashQueryKeyByOptions } from './utils';\nimport { QueryCache } from './queryCache';\nimport { MutationCache } from './mutationCache';\nimport { focusManager } from './focusManager';\nimport { onlineManager } from './onlineManager';\nimport { notifyManager } from './notifyManager';\nimport { infiniteQueryBehavior } from './infiniteQueryBehavior';\n// CLASS\nexport var QueryClient = /*#__PURE__*/function () {\n  function QueryClient(config) {\n    if (config === void 0) {\n      config = {};\n    }\n\n    this.queryCache = config.queryCache || new QueryCache();\n    this.mutationCache = config.mutationCache || new MutationCache();\n    this.defaultOptions = config.defaultOptions || {};\n    this.queryDefaults = [];\n    this.mutationDefaults = [];\n  }\n\n  var _proto = QueryClient.prototype;\n\n  _proto.mount = function mount() {\n    var _this = this;\n\n    this.unsubscribeFocus = focusManager.subscribe(function () {\n      if (focusManager.isFocused() && onlineManager.isOnline()) {\n        _this.mutationCache.onFocus();\n\n        _this.queryCache.onFocus();\n      }\n    });\n    this.unsubscribeOnline = onlineManager.subscribe(function () {\n      if (focusManager.isFocused() && onlineManager.isOnline()) {\n        _this.mutationCache.onOnline();\n\n        _this.queryCache.onOnline();\n      }\n    });\n  };\n\n  _proto.unmount = function unmount() {\n    var _this$unsubscribeFocu, _this$unsubscribeOnli;\n\n    (_this$unsubscribeFocu = this.unsubscribeFocus) == null ? void 0 : _this$unsubscribeFocu.call(this);\n    (_this$unsubscribeOnli = this.unsubscribeOnline) == null ? void 0 : _this$unsubscribeOnli.call(this);\n  };\n\n  _proto.isFetching = function isFetching(arg1, arg2) {\n    var _parseFilterArgs = parseFilterArgs(arg1, arg2),\n        filters = _parseFilterArgs[0];\n\n    filters.fetching = true;\n    return this.queryCache.findAll(filters).length;\n  };\n\n  _proto.isMutating = function isMutating(filters) {\n    return this.mutationCache.findAll(_extends({}, filters, {\n      fetching: true\n    })).length;\n  };\n\n  _proto.getQueryData = function getQueryData(queryKey, filters) {\n    var _this$queryCache$find;\n\n    return (_this$queryCache$find = this.queryCache.find(queryKey, filters)) == null ? void 0 : _this$queryCache$find.state.data;\n  };\n\n  _proto.getQueriesData = function getQueriesData(queryKeyOrFilters) {\n    return this.getQueryCache().findAll(queryKeyOrFilters).map(function (_ref) {\n      var queryKey = _ref.queryKey,\n          state = _ref.state;\n      var data = state.data;\n      return [queryKey, data];\n    });\n  };\n\n  _proto.setQueryData = function setQueryData(queryKey, updater, options) {\n    var parsedOptions = parseQueryArgs(queryKey);\n    var defaultedOptions = this.defaultQueryOptions(parsedOptions);\n    return this.queryCache.build(this, defaultedOptions).setData(updater, options);\n  };\n\n  _proto.setQueriesData = function setQueriesData(queryKeyOrFilters, updater, options) {\n    var _this2 = this;\n\n    return notifyManager.batch(function () {\n      return _this2.getQueryCache().findAll(queryKeyOrFilters).map(function (_ref2) {\n        var queryKey = _ref2.queryKey;\n        return [queryKey, _this2.setQueryData(queryKey, updater, options)];\n      });\n    });\n  };\n\n  _proto.getQueryState = function getQueryState(queryKey, filters) {\n    var _this$queryCache$find2;\n\n    return (_this$queryCache$find2 = this.queryCache.find(queryKey, filters)) == null ? void 0 : _this$queryCache$find2.state;\n  };\n\n  _proto.removeQueries = function removeQueries(arg1, arg2) {\n    var _parseFilterArgs2 = parseFilterArgs(arg1, arg2),\n        filters = _parseFilterArgs2[0];\n\n    var queryCache = this.queryCache;\n    notifyManager.batch(function () {\n      queryCache.findAll(filters).forEach(function (query) {\n        queryCache.remove(query);\n      });\n    });\n  };\n\n  _proto.resetQueries = function resetQueries(arg1, arg2, arg3) {\n    var _this3 = this;\n\n    var _parseFilterArgs3 = parseFilterArgs(arg1, arg2, arg3),\n        filters = _parseFilterArgs3[0],\n        options = _parseFilterArgs3[1];\n\n    var queryCache = this.queryCache;\n\n    var refetchFilters = _extends({}, filters, {\n      active: true\n    });\n\n    return notifyManager.batch(function () {\n      queryCache.findAll(filters).forEach(function (query) {\n        query.reset();\n      });\n      return _this3.refetchQueries(refetchFilters, options);\n    });\n  };\n\n  _proto.cancelQueries = function cancelQueries(arg1, arg2, arg3) {\n    var _this4 = this;\n\n    var _parseFilterArgs4 = parseFilterArgs(arg1, arg2, arg3),\n        filters = _parseFilterArgs4[0],\n        _parseFilterArgs4$ = _parseFilterArgs4[1],\n        cancelOptions = _parseFilterArgs4$ === void 0 ? {} : _parseFilterArgs4$;\n\n    if (typeof cancelOptions.revert === 'undefined') {\n      cancelOptions.revert = true;\n    }\n\n    var promises = notifyManager.batch(function () {\n      return _this4.queryCache.findAll(filters).map(function (query) {\n        return query.cancel(cancelOptions);\n      });\n    });\n    return Promise.all(promises).then(noop).catch(noop);\n  };\n\n  _proto.invalidateQueries = function invalidateQueries(arg1, arg2, arg3) {\n    var _ref3,\n        _filters$refetchActiv,\n        _filters$refetchInact,\n        _this5 = this;\n\n    var _parseFilterArgs5 = parseFilterArgs(arg1, arg2, arg3),\n        filters = _parseFilterArgs5[0],\n        options = _parseFilterArgs5[1];\n\n    var refetchFilters = _extends({}, filters, {\n      // if filters.refetchActive is not provided and filters.active is explicitly false,\n      // e.g. invalidateQueries({ active: false }), we don't want to refetch active queries\n      active: (_ref3 = (_filters$refetchActiv = filters.refetchActive) != null ? _filters$refetchActiv : filters.active) != null ? _ref3 : true,\n      inactive: (_filters$refetchInact = filters.refetchInactive) != null ? _filters$refetchInact : false\n    });\n\n    return notifyManager.batch(function () {\n      _this5.queryCache.findAll(filters).forEach(function (query) {\n        query.invalidate();\n      });\n\n      return _this5.refetchQueries(refetchFilters, options);\n    });\n  };\n\n  _proto.refetchQueries = function refetchQueries(arg1, arg2, arg3) {\n    var _this6 = this;\n\n    var _parseFilterArgs6 = parseFilterArgs(arg1, arg2, arg3),\n        filters = _parseFilterArgs6[0],\n        options = _parseFilterArgs6[1];\n\n    var promises = notifyManager.batch(function () {\n      return _this6.queryCache.findAll(filters).map(function (query) {\n        return query.fetch(undefined, _extends({}, options, {\n          meta: {\n            refetchPage: filters == null ? void 0 : filters.refetchPage\n          }\n        }));\n      });\n    });\n    var promise = Promise.all(promises).then(noop);\n\n    if (!(options == null ? void 0 : options.throwOnError)) {\n      promise = promise.catch(noop);\n    }\n\n    return promise;\n  };\n\n  _proto.fetchQuery = function fetchQuery(arg1, arg2, arg3) {\n    var parsedOptions = parseQueryArgs(arg1, arg2, arg3);\n    var defaultedOptions = this.defaultQueryOptions(parsedOptions); // https://github.com/tannerlinsley/react-query/issues/652\n\n    if (typeof defaultedOptions.retry === 'undefined') {\n      defaultedOptions.retry = false;\n    }\n\n    var query = this.queryCache.build(this, defaultedOptions);\n    return query.isStaleByTime(defaultedOptions.staleTime) ? query.fetch(defaultedOptions) : Promise.resolve(query.state.data);\n  };\n\n  _proto.prefetchQuery = function prefetchQuery(arg1, arg2, arg3) {\n    return this.fetchQuery(arg1, arg2, arg3).then(noop).catch(noop);\n  };\n\n  _proto.fetchInfiniteQuery = function fetchInfiniteQuery(arg1, arg2, arg3) {\n    var parsedOptions = parseQueryArgs(arg1, arg2, arg3);\n    parsedOptions.behavior = infiniteQueryBehavior();\n    return this.fetchQuery(parsedOptions);\n  };\n\n  _proto.prefetchInfiniteQuery = function prefetchInfiniteQuery(arg1, arg2, arg3) {\n    return this.fetchInfiniteQuery(arg1, arg2, arg3).then(noop).catch(noop);\n  };\n\n  _proto.cancelMutations = function cancelMutations() {\n    var _this7 = this;\n\n    var promises = notifyManager.batch(function () {\n      return _this7.mutationCache.getAll().map(function (mutation) {\n        return mutation.cancel();\n      });\n    });\n    return Promise.all(promises).then(noop).catch(noop);\n  };\n\n  _proto.resumePausedMutations = function resumePausedMutations() {\n    return this.getMutationCache().resumePausedMutations();\n  };\n\n  _proto.executeMutation = function executeMutation(options) {\n    return this.mutationCache.build(this, options).execute();\n  };\n\n  _proto.getQueryCache = function getQueryCache() {\n    return this.queryCache;\n  };\n\n  _proto.getMutationCache = function getMutationCache() {\n    return this.mutationCache;\n  };\n\n  _proto.getDefaultOptions = function getDefaultOptions() {\n    return this.defaultOptions;\n  };\n\n  _proto.setDefaultOptions = function setDefaultOptions(options) {\n    this.defaultOptions = options;\n  };\n\n  _proto.setQueryDefaults = function setQueryDefaults(queryKey, options) {\n    var result = this.queryDefaults.find(function (x) {\n      return hashQueryKey(queryKey) === hashQueryKey(x.queryKey);\n    });\n\n    if (result) {\n      result.defaultOptions = options;\n    } else {\n      this.queryDefaults.push({\n        queryKey: queryKey,\n        defaultOptions: options\n      });\n    }\n  };\n\n  _proto.getQueryDefaults = function getQueryDefaults(queryKey) {\n    var _this$queryDefaults$f;\n\n    return queryKey ? (_this$queryDefaults$f = this.queryDefaults.find(function (x) {\n      return partialMatchKey(queryKey, x.queryKey);\n    })) == null ? void 0 : _this$queryDefaults$f.defaultOptions : undefined;\n  };\n\n  _proto.setMutationDefaults = function setMutationDefaults(mutationKey, options) {\n    var result = this.mutationDefaults.find(function (x) {\n      return hashQueryKey(mutationKey) === hashQueryKey(x.mutationKey);\n    });\n\n    if (result) {\n      result.defaultOptions = options;\n    } else {\n      this.mutationDefaults.push({\n        mutationKey: mutationKey,\n        defaultOptions: options\n      });\n    }\n  };\n\n  _proto.getMutationDefaults = function getMutationDefaults(mutationKey) {\n    var _this$mutationDefault;\n\n    return mutationKey ? (_this$mutationDefault = this.mutationDefaults.find(function (x) {\n      return partialMatchKey(mutationKey, x.mutationKey);\n    })) == null ? void 0 : _this$mutationDefault.defaultOptions : undefined;\n  };\n\n  _proto.defaultQueryOptions = function defaultQueryOptions(options) {\n    if (options == null ? void 0 : options._defaulted) {\n      return options;\n    }\n\n    var defaultedOptions = _extends({}, this.defaultOptions.queries, this.getQueryDefaults(options == null ? void 0 : options.queryKey), options, {\n      _defaulted: true\n    });\n\n    if (!defaultedOptions.queryHash && defaultedOptions.queryKey) {\n      defaultedOptions.queryHash = hashQueryKeyByOptions(defaultedOptions.queryKey, defaultedOptions);\n    }\n\n    return defaultedOptions;\n  };\n\n  _proto.defaultQueryObserverOptions = function defaultQueryObserverOptions(options) {\n    return this.defaultQueryOptions(options);\n  };\n\n  _proto.defaultMutationOptions = function defaultMutationOptions(options) {\n    if (options == null ? void 0 : options._defaulted) {\n      return options;\n    }\n\n    return _extends({}, this.defaultOptions.mutations, this.getMutationDefaults(options == null ? void 0 : options.mutationKey), options, {\n      _defaulted: true\n    });\n  };\n\n  _proto.clear = function clear() {\n    this.queryCache.clear();\n    this.mutationCache.clear();\n  };\n\n  return QueryClient;\n}();","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport { isServer, isValidTimeout, noop, replaceEqualDeep, shallowEqualObjects, timeUntilStale } from './utils';\nimport { notifyManager } from './notifyManager';\nimport { focusManager } from './focusManager';\nimport { Subscribable } from './subscribable';\nimport { getLogger } from './logger';\nimport { isCancelledError } from './retryer';\nexport var QueryObserver = /*#__PURE__*/function (_Subscribable) {\n  _inheritsLoose(QueryObserver, _Subscribable);\n\n  function QueryObserver(client, options) {\n    var _this;\n\n    _this = _Subscribable.call(this) || this;\n    _this.client = client;\n    _this.options = options;\n    _this.trackedProps = [];\n    _this.selectError = null;\n\n    _this.bindMethods();\n\n    _this.setOptions(options);\n\n    return _this;\n  }\n\n  var _proto = QueryObserver.prototype;\n\n  _proto.bindMethods = function bindMethods() {\n    this.remove = this.remove.bind(this);\n    this.refetch = this.refetch.bind(this);\n  };\n\n  _proto.onSubscribe = function onSubscribe() {\n    if (this.listeners.length === 1) {\n      this.currentQuery.addObserver(this);\n\n      if (shouldFetchOnMount(this.currentQuery, this.options)) {\n        this.executeFetch();\n      }\n\n      this.updateTimers();\n    }\n  };\n\n  _proto.onUnsubscribe = function onUnsubscribe() {\n    if (!this.listeners.length) {\n      this.destroy();\n    }\n  };\n\n  _proto.shouldFetchOnReconnect = function shouldFetchOnReconnect() {\n    return shouldFetchOn(this.currentQuery, this.options, this.options.refetchOnReconnect);\n  };\n\n  _proto.shouldFetchOnWindowFocus = function shouldFetchOnWindowFocus() {\n    return shouldFetchOn(this.currentQuery, this.options, this.options.refetchOnWindowFocus);\n  };\n\n  _proto.destroy = function destroy() {\n    this.listeners = [];\n    this.clearTimers();\n    this.currentQuery.removeObserver(this);\n  };\n\n  _proto.setOptions = function setOptions(options, notifyOptions) {\n    var prevOptions = this.options;\n    var prevQuery = this.currentQuery;\n    this.options = this.client.defaultQueryObserverOptions(options);\n\n    if (typeof this.options.enabled !== 'undefined' && typeof this.options.enabled !== 'boolean') {\n      throw new Error('Expected enabled to be a boolean');\n    } // Keep previous query key if the user does not supply one\n\n\n    if (!this.options.queryKey) {\n      this.options.queryKey = prevOptions.queryKey;\n    }\n\n    this.updateQuery();\n    var mounted = this.hasListeners(); // Fetch if there are subscribers\n\n    if (mounted && shouldFetchOptionally(this.currentQuery, prevQuery, this.options, prevOptions)) {\n      this.executeFetch();\n    } // Update result\n\n\n    this.updateResult(notifyOptions); // Update stale interval if needed\n\n    if (mounted && (this.currentQuery !== prevQuery || this.options.enabled !== prevOptions.enabled || this.options.staleTime !== prevOptions.staleTime)) {\n      this.updateStaleTimeout();\n    }\n\n    var nextRefetchInterval = this.computeRefetchInterval(); // Update refetch interval if needed\n\n    if (mounted && (this.currentQuery !== prevQuery || this.options.enabled !== prevOptions.enabled || nextRefetchInterval !== this.currentRefetchInterval)) {\n      this.updateRefetchInterval(nextRefetchInterval);\n    }\n  };\n\n  _proto.getOptimisticResult = function getOptimisticResult(options) {\n    var defaultedOptions = this.client.defaultQueryObserverOptions(options);\n    var query = this.client.getQueryCache().build(this.client, defaultedOptions);\n    return this.createResult(query, defaultedOptions);\n  };\n\n  _proto.getCurrentResult = function getCurrentResult() {\n    return this.currentResult;\n  };\n\n  _proto.trackResult = function trackResult(result, defaultedOptions) {\n    var _this2 = this;\n\n    var trackedResult = {};\n\n    var trackProp = function trackProp(key) {\n      if (!_this2.trackedProps.includes(key)) {\n        _this2.trackedProps.push(key);\n      }\n    };\n\n    Object.keys(result).forEach(function (key) {\n      Object.defineProperty(trackedResult, key, {\n        configurable: false,\n        enumerable: true,\n        get: function get() {\n          trackProp(key);\n          return result[key];\n        }\n      });\n    });\n\n    if (defaultedOptions.useErrorBoundary || defaultedOptions.suspense) {\n      trackProp('error');\n    }\n\n    return trackedResult;\n  };\n\n  _proto.getNextResult = function getNextResult(options) {\n    var _this3 = this;\n\n    return new Promise(function (resolve, reject) {\n      var unsubscribe = _this3.subscribe(function (result) {\n        if (!result.isFetching) {\n          unsubscribe();\n\n          if (result.isError && (options == null ? void 0 : options.throwOnError)) {\n            reject(result.error);\n          } else {\n            resolve(result);\n          }\n        }\n      });\n    });\n  };\n\n  _proto.getCurrentQuery = function getCurrentQuery() {\n    return this.currentQuery;\n  };\n\n  _proto.remove = function remove() {\n    this.client.getQueryCache().remove(this.currentQuery);\n  };\n\n  _proto.refetch = function refetch(options) {\n    return this.fetch(_extends({}, options, {\n      meta: {\n        refetchPage: options == null ? void 0 : options.refetchPage\n      }\n    }));\n  };\n\n  _proto.fetchOptimistic = function fetchOptimistic(options) {\n    var _this4 = this;\n\n    var defaultedOptions = this.client.defaultQueryObserverOptions(options);\n    var query = this.client.getQueryCache().build(this.client, defaultedOptions);\n    return query.fetch().then(function () {\n      return _this4.createResult(query, defaultedOptions);\n    });\n  };\n\n  _proto.fetch = function fetch(fetchOptions) {\n    var _this5 = this;\n\n    return this.executeFetch(fetchOptions).then(function () {\n      _this5.updateResult();\n\n      return _this5.currentResult;\n    });\n  };\n\n  _proto.executeFetch = function executeFetch(fetchOptions) {\n    // Make sure we reference the latest query as the current one might have been removed\n    this.updateQuery(); // Fetch\n\n    var promise = this.currentQuery.fetch(this.options, fetchOptions);\n\n    if (!(fetchOptions == null ? void 0 : fetchOptions.throwOnError)) {\n      promise = promise.catch(noop);\n    }\n\n    return promise;\n  };\n\n  _proto.updateStaleTimeout = function updateStaleTimeout() {\n    var _this6 = this;\n\n    this.clearStaleTimeout();\n\n    if (isServer || this.currentResult.isStale || !isValidTimeout(this.options.staleTime)) {\n      return;\n    }\n\n    var time = timeUntilStale(this.currentResult.dataUpdatedAt, this.options.staleTime); // The timeout is sometimes triggered 1 ms before the stale time expiration.\n    // To mitigate this issue we always add 1 ms to the timeout.\n\n    var timeout = time + 1;\n    this.staleTimeoutId = setTimeout(function () {\n      if (!_this6.currentResult.isStale) {\n        _this6.updateResult();\n      }\n    }, timeout);\n  };\n\n  _proto.computeRefetchInterval = function computeRefetchInterval() {\n    var _this$options$refetch;\n\n    return typeof this.options.refetchInterval === 'function' ? this.options.refetchInterval(this.currentResult.data, this.currentQuery) : (_this$options$refetch = this.options.refetchInterval) != null ? _this$options$refetch : false;\n  };\n\n  _proto.updateRefetchInterval = function updateRefetchInterval(nextInterval) {\n    var _this7 = this;\n\n    this.clearRefetchInterval();\n    this.currentRefetchInterval = nextInterval;\n\n    if (isServer || this.options.enabled === false || !isValidTimeout(this.currentRefetchInterval) || this.currentRefetchInterval === 0) {\n      return;\n    }\n\n    this.refetchIntervalId = setInterval(function () {\n      if (_this7.options.refetchIntervalInBackground || focusManager.isFocused()) {\n        _this7.executeFetch();\n      }\n    }, this.currentRefetchInterval);\n  };\n\n  _proto.updateTimers = function updateTimers() {\n    this.updateStaleTimeout();\n    this.updateRefetchInterval(this.computeRefetchInterval());\n  };\n\n  _proto.clearTimers = function clearTimers() {\n    this.clearStaleTimeout();\n    this.clearRefetchInterval();\n  };\n\n  _proto.clearStaleTimeout = function clearStaleTimeout() {\n    clearTimeout(this.staleTimeoutId);\n    this.staleTimeoutId = undefined;\n  };\n\n  _proto.clearRefetchInterval = function clearRefetchInterval() {\n    clearInterval(this.refetchIntervalId);\n    this.refetchIntervalId = undefined;\n  };\n\n  _proto.createResult = function createResult(query, options) {\n    var prevQuery = this.currentQuery;\n    var prevOptions = this.options;\n    var prevResult = this.currentResult;\n    var prevResultState = this.currentResultState;\n    var prevResultOptions = this.currentResultOptions;\n    var queryChange = query !== prevQuery;\n    var queryInitialState = queryChange ? query.state : this.currentQueryInitialState;\n    var prevQueryResult = queryChange ? this.currentResult : this.previousQueryResult;\n    var state = query.state;\n    var dataUpdatedAt = state.dataUpdatedAt,\n        error = state.error,\n        errorUpdatedAt = state.errorUpdatedAt,\n        isFetching = state.isFetching,\n        status = state.status;\n    var isPreviousData = false;\n    var isPlaceholderData = false;\n    var data; // Optimistically set result in fetching state if needed\n\n    if (options.optimisticResults) {\n      var mounted = this.hasListeners();\n      var fetchOnMount = !mounted && shouldFetchOnMount(query, options);\n      var fetchOptionally = mounted && shouldFetchOptionally(query, prevQuery, options, prevOptions);\n\n      if (fetchOnMount || fetchOptionally) {\n        isFetching = true;\n\n        if (!dataUpdatedAt) {\n          status = 'loading';\n        }\n      }\n    } // Keep previous data if needed\n\n\n    if (options.keepPreviousData && !state.dataUpdateCount && (prevQueryResult == null ? void 0 : prevQueryResult.isSuccess) && status !== 'error') {\n      data = prevQueryResult.data;\n      dataUpdatedAt = prevQueryResult.dataUpdatedAt;\n      status = prevQueryResult.status;\n      isPreviousData = true;\n    } // Select data if needed\n    else if (options.select && typeof state.data !== 'undefined') {\n        // Memoize select result\n        if (prevResult && state.data === (prevResultState == null ? void 0 : prevResultState.data) && options.select === this.selectFn) {\n          data = this.selectResult;\n        } else {\n          try {\n            this.selectFn = options.select;\n            data = options.select(state.data);\n\n            if (options.structuralSharing !== false) {\n              data = replaceEqualDeep(prevResult == null ? void 0 : prevResult.data, data);\n            }\n\n            this.selectResult = data;\n            this.selectError = null;\n          } catch (selectError) {\n            getLogger().error(selectError);\n            this.selectError = selectError;\n          }\n        }\n      } // Use query data\n      else {\n          data = state.data;\n        } // Show placeholder data if needed\n\n\n    if (typeof options.placeholderData !== 'undefined' && typeof data === 'undefined' && (status === 'loading' || status === 'idle')) {\n      var placeholderData; // Memoize placeholder data\n\n      if ((prevResult == null ? void 0 : prevResult.isPlaceholderData) && options.placeholderData === (prevResultOptions == null ? void 0 : prevResultOptions.placeholderData)) {\n        placeholderData = prevResult.data;\n      } else {\n        placeholderData = typeof options.placeholderData === 'function' ? options.placeholderData() : options.placeholderData;\n\n        if (options.select && typeof placeholderData !== 'undefined') {\n          try {\n            placeholderData = options.select(placeholderData);\n\n            if (options.structuralSharing !== false) {\n              placeholderData = replaceEqualDeep(prevResult == null ? void 0 : prevResult.data, placeholderData);\n            }\n\n            this.selectError = null;\n          } catch (selectError) {\n            getLogger().error(selectError);\n            this.selectError = selectError;\n          }\n        }\n      }\n\n      if (typeof placeholderData !== 'undefined') {\n        status = 'success';\n        data = placeholderData;\n        isPlaceholderData = true;\n      }\n    }\n\n    if (this.selectError) {\n      error = this.selectError;\n      data = this.selectResult;\n      errorUpdatedAt = Date.now();\n      status = 'error';\n    }\n\n    var result = {\n      status: status,\n      isLoading: status === 'loading',\n      isSuccess: status === 'success',\n      isError: status === 'error',\n      isIdle: status === 'idle',\n      data: data,\n      dataUpdatedAt: dataUpdatedAt,\n      error: error,\n      errorUpdatedAt: errorUpdatedAt,\n      failureCount: state.fetchFailureCount,\n      errorUpdateCount: state.errorUpdateCount,\n      isFetched: state.dataUpdateCount > 0 || state.errorUpdateCount > 0,\n      isFetchedAfterMount: state.dataUpdateCount > queryInitialState.dataUpdateCount || state.errorUpdateCount > queryInitialState.errorUpdateCount,\n      isFetching: isFetching,\n      isRefetching: isFetching && status !== 'loading',\n      isLoadingError: status === 'error' && state.dataUpdatedAt === 0,\n      isPlaceholderData: isPlaceholderData,\n      isPreviousData: isPreviousData,\n      isRefetchError: status === 'error' && state.dataUpdatedAt !== 0,\n      isStale: isStale(query, options),\n      refetch: this.refetch,\n      remove: this.remove\n    };\n    return result;\n  };\n\n  _proto.shouldNotifyListeners = function shouldNotifyListeners(result, prevResult) {\n    if (!prevResult) {\n      return true;\n    }\n\n    var _this$options = this.options,\n        notifyOnChangeProps = _this$options.notifyOnChangeProps,\n        notifyOnChangePropsExclusions = _this$options.notifyOnChangePropsExclusions;\n\n    if (!notifyOnChangeProps && !notifyOnChangePropsExclusions) {\n      return true;\n    }\n\n    if (notifyOnChangeProps === 'tracked' && !this.trackedProps.length) {\n      return true;\n    }\n\n    var includedProps = notifyOnChangeProps === 'tracked' ? this.trackedProps : notifyOnChangeProps;\n    return Object.keys(result).some(function (key) {\n      var typedKey = key;\n      var changed = result[typedKey] !== prevResult[typedKey];\n      var isIncluded = includedProps == null ? void 0 : includedProps.some(function (x) {\n        return x === key;\n      });\n      var isExcluded = notifyOnChangePropsExclusions == null ? void 0 : notifyOnChangePropsExclusions.some(function (x) {\n        return x === key;\n      });\n      return changed && !isExcluded && (!includedProps || isIncluded);\n    });\n  };\n\n  _proto.updateResult = function updateResult(notifyOptions) {\n    var prevResult = this.currentResult;\n    this.currentResult = this.createResult(this.currentQuery, this.options);\n    this.currentResultState = this.currentQuery.state;\n    this.currentResultOptions = this.options; // Only notify if something has changed\n\n    if (shallowEqualObjects(this.currentResult, prevResult)) {\n      return;\n    } // Determine which callbacks to trigger\n\n\n    var defaultNotifyOptions = {\n      cache: true\n    };\n\n    if ((notifyOptions == null ? void 0 : notifyOptions.listeners) !== false && this.shouldNotifyListeners(this.currentResult, prevResult)) {\n      defaultNotifyOptions.listeners = true;\n    }\n\n    this.notify(_extends({}, defaultNotifyOptions, notifyOptions));\n  };\n\n  _proto.updateQuery = function updateQuery() {\n    var query = this.client.getQueryCache().build(this.client, this.options);\n\n    if (query === this.currentQuery) {\n      return;\n    }\n\n    var prevQuery = this.currentQuery;\n    this.currentQuery = query;\n    this.currentQueryInitialState = query.state;\n    this.previousQueryResult = this.currentResult;\n\n    if (this.hasListeners()) {\n      prevQuery == null ? void 0 : prevQuery.removeObserver(this);\n      query.addObserver(this);\n    }\n  };\n\n  _proto.onQueryUpdate = function onQueryUpdate(action) {\n    var notifyOptions = {};\n\n    if (action.type === 'success') {\n      notifyOptions.onSuccess = true;\n    } else if (action.type === 'error' && !isCancelledError(action.error)) {\n      notifyOptions.onError = true;\n    }\n\n    this.updateResult(notifyOptions);\n\n    if (this.hasListeners()) {\n      this.updateTimers();\n    }\n  };\n\n  _proto.notify = function notify(notifyOptions) {\n    var _this8 = this;\n\n    notifyManager.batch(function () {\n      // First trigger the configuration callbacks\n      if (notifyOptions.onSuccess) {\n        _this8.options.onSuccess == null ? void 0 : _this8.options.onSuccess(_this8.currentResult.data);\n        _this8.options.onSettled == null ? void 0 : _this8.options.onSettled(_this8.currentResult.data, null);\n      } else if (notifyOptions.onError) {\n        _this8.options.onError == null ? void 0 : _this8.options.onError(_this8.currentResult.error);\n        _this8.options.onSettled == null ? void 0 : _this8.options.onSettled(undefined, _this8.currentResult.error);\n      } // Then trigger the listeners\n\n\n      if (notifyOptions.listeners) {\n        _this8.listeners.forEach(function (listener) {\n          listener(_this8.currentResult);\n        });\n      } // Then the cache listeners\n\n\n      if (notifyOptions.cache) {\n        _this8.client.getQueryCache().notify({\n          query: _this8.currentQuery,\n          type: 'observerResultsUpdated'\n        });\n      }\n    });\n  };\n\n  return QueryObserver;\n}(Subscribable);\n\nfunction shouldLoadOnMount(query, options) {\n  return options.enabled !== false && !query.state.dataUpdatedAt && !(query.state.status === 'error' && options.retryOnMount === false);\n}\n\nfunction shouldFetchOnMount(query, options) {\n  return shouldLoadOnMount(query, options) || query.state.dataUpdatedAt > 0 && shouldFetchOn(query, options, options.refetchOnMount);\n}\n\nfunction shouldFetchOn(query, options, field) {\n  if (options.enabled !== false) {\n    var value = typeof field === 'function' ? field(query) : field;\n    return value === 'always' || value !== false && isStale(query, options);\n  }\n\n  return false;\n}\n\nfunction shouldFetchOptionally(query, prevQuery, options, prevOptions) {\n  return options.enabled !== false && (query !== prevQuery || prevOptions.enabled === false) && (!options.suspense || query.state.status !== 'error') && isStale(query, options);\n}\n\nfunction isStale(query, options) {\n  return query.isStaleByTime(options.staleTime);\n}","import ReactDOM from 'react-dom';\nexport var unstable_batchedUpdates = ReactDOM.unstable_batchedUpdates;","import { notifyManager } from '../core';\nimport { unstable_batchedUpdates } from './reactBatchedUpdates';\nnotifyManager.setBatchNotifyFunction(unstable_batchedUpdates);","export var logger = console;","import { setLogger } from '../core';\nimport { logger } from './logger';\nsetLogger(logger);","import React from 'react';\nvar defaultContext = /*#__PURE__*/React.createContext(undefined);\nvar QueryClientSharingContext = /*#__PURE__*/React.createContext(false); // if contextSharing is on, we share the first and at least one\n// instance of the context across the window\n// to ensure that if React Query is used across\n// different bundles or microfrontends they will\n// all use the same **instance** of context, regardless\n// of module scoping.\n\nfunction getQueryClientContext(contextSharing) {\n  if (contextSharing && typeof window !== 'undefined') {\n    if (!window.ReactQueryClientContext) {\n      window.ReactQueryClientContext = defaultContext;\n    }\n\n    return window.ReactQueryClientContext;\n  }\n\n  return defaultContext;\n}\n\nexport var useQueryClient = function useQueryClient() {\n  var queryClient = React.useContext(getQueryClientContext(React.useContext(QueryClientSharingContext)));\n\n  if (!queryClient) {\n    throw new Error('No QueryClient set, use QueryClientProvider to set one');\n  }\n\n  return queryClient;\n};\nexport var QueryClientProvider = function QueryClientProvider(_ref) {\n  var client = _ref.client,\n      _ref$contextSharing = _ref.contextSharing,\n      contextSharing = _ref$contextSharing === void 0 ? false : _ref$contextSharing,\n      children = _ref.children;\n  React.useEffect(function () {\n    client.mount();\n    return function () {\n      client.unmount();\n    };\n  }, [client]);\n  var Context = getQueryClientContext(contextSharing);\n  return /*#__PURE__*/React.createElement(QueryClientSharingContext.Provider, {\n    value: contextSharing\n  }, /*#__PURE__*/React.createElement(Context.Provider, {\n    value: client\n  }, children));\n};","import React from 'react'; // CONTEXT\n\nfunction createValue() {\n  var _isReset = false;\n  return {\n    clearReset: function clearReset() {\n      _isReset = false;\n    },\n    reset: function reset() {\n      _isReset = true;\n    },\n    isReset: function isReset() {\n      return _isReset;\n    }\n  };\n}\n\nvar QueryErrorResetBoundaryContext = /*#__PURE__*/React.createContext(createValue()); // HOOK\n\nexport var useQueryErrorResetBoundary = function useQueryErrorResetBoundary() {\n  return React.useContext(QueryErrorResetBoundaryContext);\n}; // COMPONENT\n\nexport var QueryErrorResetBoundary = function QueryErrorResetBoundary(_ref) {\n  var children = _ref.children;\n  var value = React.useMemo(function () {\n    return createValue();\n  }, []);\n  return /*#__PURE__*/React.createElement(QueryErrorResetBoundaryContext.Provider, {\n    value: value\n  }, typeof children === 'function' ? children(value) : children);\n};","export function shouldThrowError(suspense, _useErrorBoundary, params) {\n  // Allow useErrorBoundary function to override throwing behavior on a per-error basis\n  if (typeof _useErrorBoundary === 'function') {\n    return _useErrorBoundary.apply(void 0, params);\n  } // Allow useErrorBoundary to override suspense's throwing behavior\n\n\n  if (typeof _useErrorBoundary === 'boolean') return _useErrorBoundary; // If suspense is enabled default to throwing errors\n\n  return !!suspense;\n}","import React from 'react';\nimport { notifyManager } from '../core/notifyManager';\nimport { useQueryErrorResetBoundary } from './QueryErrorResetBoundary';\nimport { useQueryClient } from './QueryClientProvider';\nimport { shouldThrowError } from './utils';\nexport function useBaseQuery(options, Observer) {\n  var mountedRef = React.useRef(false);\n\n  var _React$useState = React.useState(0),\n      forceUpdate = _React$useState[1];\n\n  var queryClient = useQueryClient();\n  var errorResetBoundary = useQueryErrorResetBoundary();\n  var defaultedOptions = queryClient.defaultQueryObserverOptions(options); // Make sure results are optimistically set in fetching state before subscribing or updating options\n\n  defaultedOptions.optimisticResults = true; // Include callbacks in batch renders\n\n  if (defaultedOptions.onError) {\n    defaultedOptions.onError = notifyManager.batchCalls(defaultedOptions.onError);\n  }\n\n  if (defaultedOptions.onSuccess) {\n    defaultedOptions.onSuccess = notifyManager.batchCalls(defaultedOptions.onSuccess);\n  }\n\n  if (defaultedOptions.onSettled) {\n    defaultedOptions.onSettled = notifyManager.batchCalls(defaultedOptions.onSettled);\n  }\n\n  if (defaultedOptions.suspense) {\n    // Always set stale time when using suspense to prevent\n    // fetching again when directly mounting after suspending\n    if (typeof defaultedOptions.staleTime !== 'number') {\n      defaultedOptions.staleTime = 1000;\n    } // Set cache time to 1 if the option has been set to 0\n    // when using suspense to prevent infinite loop of fetches\n\n\n    if (defaultedOptions.cacheTime === 0) {\n      defaultedOptions.cacheTime = 1;\n    }\n  }\n\n  if (defaultedOptions.suspense || defaultedOptions.useErrorBoundary) {\n    // Prevent retrying failed query if the error boundary has not been reset yet\n    if (!errorResetBoundary.isReset()) {\n      defaultedOptions.retryOnMount = false;\n    }\n  }\n\n  var _React$useState2 = React.useState(function () {\n    return new Observer(queryClient, defaultedOptions);\n  }),\n      observer = _React$useState2[0];\n\n  var result = observer.getOptimisticResult(defaultedOptions);\n  React.useEffect(function () {\n    mountedRef.current = true;\n    errorResetBoundary.clearReset();\n    var unsubscribe = observer.subscribe(notifyManager.batchCalls(function () {\n      if (mountedRef.current) {\n        forceUpdate(function (x) {\n          return x + 1;\n        });\n      }\n    })); // Update result to make sure we did not miss any query updates\n    // between creating the observer and subscribing to it.\n\n    observer.updateResult();\n    return function () {\n      mountedRef.current = false;\n      unsubscribe();\n    };\n  }, [errorResetBoundary, observer]);\n  React.useEffect(function () {\n    // Do not notify on updates because of changes in the options because\n    // these changes should already be reflected in the optimistic result.\n    observer.setOptions(defaultedOptions, {\n      listeners: false\n    });\n  }, [defaultedOptions, observer]); // Handle suspense\n\n  if (defaultedOptions.suspense && result.isLoading) {\n    throw observer.fetchOptimistic(defaultedOptions).then(function (_ref) {\n      var data = _ref.data;\n      defaultedOptions.onSuccess == null ? void 0 : defaultedOptions.onSuccess(data);\n      defaultedOptions.onSettled == null ? void 0 : defaultedOptions.onSettled(data, null);\n    }).catch(function (error) {\n      errorResetBoundary.clearReset();\n      defaultedOptions.onError == null ? void 0 : defaultedOptions.onError(error);\n      defaultedOptions.onSettled == null ? void 0 : defaultedOptions.onSettled(undefined, error);\n    });\n  } // Handle error boundary\n\n\n  if (result.isError && !errorResetBoundary.isReset() && !result.isFetching && shouldThrowError(defaultedOptions.suspense, defaultedOptions.useErrorBoundary, [result.error, observer.getCurrentQuery()])) {\n    throw result.error;\n  } // Handle result property usage tracking\n\n\n  if (defaultedOptions.notifyOnChangeProps === 'tracked') {\n    result = observer.trackResult(result, defaultedOptions);\n  }\n\n  return result;\n}","import { QueryObserver } from '../core';\nimport { parseQueryArgs } from '../core/utils';\nimport { useBaseQuery } from './useBaseQuery'; // HOOK\n\nexport function useQuery(arg1, arg2, arg3) {\n  var parsedOptions = parseQueryArgs(arg1, arg2, arg3);\n  return useBaseQuery(parsedOptions, QueryObserver);\n}","import _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport * as React from 'react';\n\nvar changedArray = function changedArray(a, b) {\n  if (a === void 0) {\n    a = [];\n  }\n\n  if (b === void 0) {\n    b = [];\n  }\n\n  return a.length !== b.length || a.some(function (item, index) {\n    return !Object.is(item, b[index]);\n  });\n};\n\nvar initialState = {\n  error: null\n};\n\nvar ErrorBoundary = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(ErrorBoundary, _React$Component);\n\n  function ErrorBoundary() {\n    var _this;\n\n    for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {\n      _args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(_args)) || this;\n    _this.state = initialState;\n\n    _this.resetErrorBoundary = function () {\n      var _this$props;\n\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      _this.props.onReset == null ? void 0 : (_this$props = _this.props).onReset.apply(_this$props, args);\n\n      _this.reset();\n    };\n\n    return _this;\n  }\n\n  ErrorBoundary.getDerivedStateFromError = function getDerivedStateFromError(error) {\n    return {\n      error: error\n    };\n  };\n\n  var _proto = ErrorBoundary.prototype;\n\n  _proto.reset = function reset() {\n    this.setState(initialState);\n  };\n\n  _proto.componentDidCatch = function componentDidCatch(error, info) {\n    var _this$props$onError, _this$props2;\n\n    (_this$props$onError = (_this$props2 = this.props).onError) == null ? void 0 : _this$props$onError.call(_this$props2, error, info);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    var error = this.state.error;\n    var resetKeys = this.props.resetKeys; // There's an edge case where if the thing that triggered the error\n    // happens to *also* be in the resetKeys array, we'd end up resetting\n    // the error boundary immediately. This would likely trigger a second\n    // error to be thrown.\n    // So we make sure that we don't check the resetKeys on the first call\n    // of cDU after the error is set\n\n    if (error !== null && prevState.error !== null && changedArray(prevProps.resetKeys, resetKeys)) {\n      var _this$props$onResetKe, _this$props3;\n\n      (_this$props$onResetKe = (_this$props3 = this.props).onResetKeysChange) == null ? void 0 : _this$props$onResetKe.call(_this$props3, prevProps.resetKeys, resetKeys);\n      this.reset();\n    }\n  };\n\n  _proto.render = function render() {\n    var error = this.state.error;\n    var _this$props4 = this.props,\n        fallbackRender = _this$props4.fallbackRender,\n        FallbackComponent = _this$props4.FallbackComponent,\n        fallback = _this$props4.fallback;\n\n    if (error !== null) {\n      var _props = {\n        error: error,\n        resetErrorBoundary: this.resetErrorBoundary\n      };\n\n      if ( /*#__PURE__*/React.isValidElement(fallback)) {\n        return fallback;\n      } else if (typeof fallbackRender === 'function') {\n        return fallbackRender(_props);\n      } else if (FallbackComponent) {\n        return /*#__PURE__*/React.createElement(FallbackComponent, _props);\n      } else {\n        throw new Error('react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop');\n      }\n    }\n\n    return this.props.children;\n  };\n\n  return ErrorBoundary;\n}(React.Component);\n\nfunction withErrorBoundary(Component, errorBoundaryProps) {\n  var Wrapped = function Wrapped(props) {\n    return /*#__PURE__*/React.createElement(ErrorBoundary, errorBoundaryProps, /*#__PURE__*/React.createElement(Component, props));\n  }; // Format for display in DevTools\n\n\n  var name = Component.displayName || Component.name || 'Unknown';\n  Wrapped.displayName = \"withErrorBoundary(\" + name + \")\";\n  return Wrapped;\n}\n\nfunction useErrorHandler(givenError) {\n  var _React$useState = React.useState(null),\n      error = _React$useState[0],\n      setError = _React$useState[1];\n\n  if (givenError != null) throw givenError;\n  if (error != null) throw error;\n  return setError;\n}\n/*\neslint\n  @typescript-eslint/sort-type-union-intersection-members: \"off\",\n  @typescript-eslint/no-throw-literal: \"off\",\n  @typescript-eslint/prefer-nullish-coalescing: \"off\"\n*/\n\nexport { ErrorBoundary, useErrorHandler, withErrorBoundary };\n","/**\n * Error message returned by the Synapse backend joined with the\n * HTTP status code.\n */\nimport {\n  ErrorResponse,\n  TwoFactorAuthErrorResponse,\n} from './synapseTypes/ErrorResponse'\nimport { SynapseError } from './SynapseClient'\n\nexport class SynapseClientError extends Error {\n  public status: number\n  public reason: string\n  public errorResponse?:\n    | SynapseError\n    | ErrorResponse\n    | TwoFactorAuthErrorResponse\n  public url: string\n\n  constructor(\n    status: number,\n    reason: string,\n    url: string,\n    errorResponse?: SynapseError | ErrorResponse | TwoFactorAuthErrorResponse,\n  ) {\n    super(reason)\n    this.status = status\n    this.reason = reason\n    this.url = url\n    this.errorResponse = errorResponse\n    // See https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-2.html#support-for-newtarget\n    Object.setPrototypeOf(this, new.target.prototype)\n  }\n}\n","(function (factory) {\n    if (typeof exports === 'object') {\n        // Node/CommonJS\n        module.exports = factory();\n    } else if (typeof define === 'function' && define.amd) {\n        // AMD\n        define(factory);\n    } else {\n        // Browser globals (with support for web workers)\n        var glob;\n\n        try {\n            glob = window;\n        } catch (e) {\n            glob = self;\n        }\n\n        glob.SparkMD5 = factory();\n    }\n}(function (undefined) {\n\n    'use strict';\n\n    /*\n     * Fastest md5 implementation around (JKM md5).\n     * Credits: Joseph Myers\n     *\n     * @see http://www.myersdaily.org/joseph/javascript/md5-text.html\n     * @see http://jsperf.com/md5-shootout/7\n     */\n\n    /* this function is much faster,\n      so if possible we use it. Some IEs\n      are the only ones I know of that\n      need the idiotic second function,\n      generated by an if clause.  */\n    var add32 = function (a, b) {\n        return (a + b) & 0xFFFFFFFF;\n    },\n        hex_chr = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\n\n\n    function cmn(q, a, b, x, s, t) {\n        a = add32(add32(a, q), add32(x, t));\n        return add32((a << s) | (a >>> (32 - s)), b);\n    }\n\n    function md5cycle(x, k) {\n        var a = x[0],\n            b = x[1],\n            c = x[2],\n            d = x[3];\n\n        a += (b & c | ~b & d) + k[0] - 680876936 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[1] - 389564586 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[2] + 606105819 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[3] - 1044525330 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[4] - 176418897 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[5] + 1200080426 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[6] - 1473231341 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[7] - 45705983 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[8] + 1770035416 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[9] - 1958414417 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[10] - 42063 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[11] - 1990404162 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[12] + 1804603682 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[13] - 40341101 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[14] - 1502002290 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[15] + 1236535329 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n\n        a += (b & d | c & ~d) + k[1] - 165796510 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[6] - 1069501632 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[11] + 643717713 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[0] - 373897302 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[5] - 701558691 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[10] + 38016083 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[15] - 660478335 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[4] - 405537848 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[9] + 568446438 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[14] - 1019803690 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[3] - 187363961 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[8] + 1163531501 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[13] - 1444681467 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[2] - 51403784 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[7] + 1735328473 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[12] - 1926607734 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n\n        a += (b ^ c ^ d) + k[5] - 378558 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[8] - 2022574463 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[11] + 1839030562 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[14] - 35309556 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[1] - 1530992060 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[4] + 1272893353 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[7] - 155497632 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[10] - 1094730640 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[13] + 681279174 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[0] - 358537222 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[3] - 722521979 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[6] + 76029189 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[9] - 640364487 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[12] - 421815835 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[15] + 530742520 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[2] - 995338651 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n\n        a += (c ^ (b | ~d)) + k[0] - 198630844 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[7] + 1126891415 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[14] - 1416354905 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[5] - 57434055 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[12] + 1700485571 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[3] - 1894986606 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[10] - 1051523 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[1] - 2054922799 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[8] + 1873313359 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[15] - 30611744 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[6] - 1560198380 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[13] + 1309151649 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[4] - 145523070 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[11] - 1120210379 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[2] + 718787259 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[9] - 343485551 | 0;\n        b  = (b << 21 | b >>> 11) + c | 0;\n\n        x[0] = a + x[0] | 0;\n        x[1] = b + x[1] | 0;\n        x[2] = c + x[2] | 0;\n        x[3] = d + x[3] | 0;\n    }\n\n    function md5blk(s) {\n        var md5blks = [],\n            i; /* Andy King said do it this way. */\n\n        for (i = 0; i < 64; i += 4) {\n            md5blks[i >> 2] = s.charCodeAt(i) + (s.charCodeAt(i + 1) << 8) + (s.charCodeAt(i + 2) << 16) + (s.charCodeAt(i + 3) << 24);\n        }\n        return md5blks;\n    }\n\n    function md5blk_array(a) {\n        var md5blks = [],\n            i; /* Andy King said do it this way. */\n\n        for (i = 0; i < 64; i += 4) {\n            md5blks[i >> 2] = a[i] + (a[i + 1] << 8) + (a[i + 2] << 16) + (a[i + 3] << 24);\n        }\n        return md5blks;\n    }\n\n    function md51(s) {\n        var n = s.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n\n        for (i = 64; i <= n; i += 64) {\n            md5cycle(state, md5blk(s.substring(i - 64, i)));\n        }\n        s = s.substring(i - 64);\n        length = s.length;\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= s.charCodeAt(i) << ((i % 4) << 3);\n        }\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(state, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Beware that the final length might not fit in 32 bits so we take care of that\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n\n        md5cycle(state, tail);\n        return state;\n    }\n\n    function md51_array(a) {\n        var n = a.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n\n        for (i = 64; i <= n; i += 64) {\n            md5cycle(state, md5blk_array(a.subarray(i - 64, i)));\n        }\n\n        // Not sure if it is a bug, however IE10 will always produce a sub array of length 1\n        // containing the last element of the parent array if the sub array specified starts\n        // beyond the length of the parent array - weird.\n        // https://connect.microsoft.com/IE/feedback/details/771452/typed-array-subarray-issue\n        a = (i - 64) < n ? a.subarray(i - 64) : new Uint8Array(0);\n\n        length = a.length;\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= a[i] << ((i % 4) << 3);\n        }\n\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(state, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Beware that the final length might not fit in 32 bits so we take care of that\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n\n        md5cycle(state, tail);\n\n        return state;\n    }\n\n    function rhex(n) {\n        var s = '',\n            j;\n        for (j = 0; j < 4; j += 1) {\n            s += hex_chr[(n >> (j * 8 + 4)) & 0x0F] + hex_chr[(n >> (j * 8)) & 0x0F];\n        }\n        return s;\n    }\n\n    function hex(x) {\n        var i;\n        for (i = 0; i < x.length; i += 1) {\n            x[i] = rhex(x[i]);\n        }\n        return x.join('');\n    }\n\n    // In some cases the fast add32 function cannot be used..\n    if (hex(md51('hello')) !== '5d41402abc4b2a76b9719d911017c592') {\n        add32 = function (x, y) {\n            var lsw = (x & 0xFFFF) + (y & 0xFFFF),\n                msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n            return (msw << 16) | (lsw & 0xFFFF);\n        };\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * ArrayBuffer slice polyfill.\n     *\n     * @see https://github.com/ttaubert/node-arraybuffer-slice\n     */\n\n    if (typeof ArrayBuffer !== 'undefined' && !ArrayBuffer.prototype.slice) {\n        (function () {\n            function clamp(val, length) {\n                val = (val | 0) || 0;\n\n                if (val < 0) {\n                    return Math.max(val + length, 0);\n                }\n\n                return Math.min(val, length);\n            }\n\n            ArrayBuffer.prototype.slice = function (from, to) {\n                var length = this.byteLength,\n                    begin = clamp(from, length),\n                    end = length,\n                    num,\n                    target,\n                    targetArray,\n                    sourceArray;\n\n                if (to !== undefined) {\n                    end = clamp(to, length);\n                }\n\n                if (begin > end) {\n                    return new ArrayBuffer(0);\n                }\n\n                num = end - begin;\n                target = new ArrayBuffer(num);\n                targetArray = new Uint8Array(target);\n\n                sourceArray = new Uint8Array(this, begin, num);\n                targetArray.set(sourceArray);\n\n                return target;\n            };\n        })();\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * Helpers.\n     */\n\n    function toUtf8(str) {\n        if (/[\\u0080-\\uFFFF]/.test(str)) {\n            str = unescape(encodeURIComponent(str));\n        }\n\n        return str;\n    }\n\n    function utf8Str2ArrayBuffer(str, returnUInt8Array) {\n        var length = str.length,\n           buff = new ArrayBuffer(length),\n           arr = new Uint8Array(buff),\n           i;\n\n        for (i = 0; i < length; i += 1) {\n            arr[i] = str.charCodeAt(i);\n        }\n\n        return returnUInt8Array ? arr : buff;\n    }\n\n    function arrayBuffer2Utf8Str(buff) {\n        return String.fromCharCode.apply(null, new Uint8Array(buff));\n    }\n\n    function concatenateArrayBuffers(first, second, returnUInt8Array) {\n        var result = new Uint8Array(first.byteLength + second.byteLength);\n\n        result.set(new Uint8Array(first));\n        result.set(new Uint8Array(second), first.byteLength);\n\n        return returnUInt8Array ? result : result.buffer;\n    }\n\n    function hexToBinaryString(hex) {\n        var bytes = [],\n            length = hex.length,\n            x;\n\n        for (x = 0; x < length - 1; x += 2) {\n            bytes.push(parseInt(hex.substr(x, 2), 16));\n        }\n\n        return String.fromCharCode.apply(String, bytes);\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * SparkMD5 OOP implementation.\n     *\n     * Use this class to perform an incremental md5, otherwise use the\n     * static methods instead.\n     */\n\n    function SparkMD5() {\n        // call reset to init the instance\n        this.reset();\n    }\n\n    /**\n     * Appends a string.\n     * A conversion will be applied if an utf8 string is detected.\n     *\n     * @param {String} str The string to be appended\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.append = function (str) {\n        // Converts the string to utf8 bytes if necessary\n        // Then append as binary\n        this.appendBinary(toUtf8(str));\n\n        return this;\n    };\n\n    /**\n     * Appends a binary string.\n     *\n     * @param {String} contents The binary string to be appended\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.appendBinary = function (contents) {\n        this._buff += contents;\n        this._length += contents.length;\n\n        var length = this._buff.length,\n            i;\n\n        for (i = 64; i <= length; i += 64) {\n            md5cycle(this._hash, md5blk(this._buff.substring(i - 64, i)));\n        }\n\n        this._buff = this._buff.substring(i - 64);\n\n        return this;\n    };\n\n    /**\n     * Finishes the incremental computation, reseting the internal state and\n     * returning the result.\n     *\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.prototype.end = function (raw) {\n        var buff = this._buff,\n            length = buff.length,\n            i,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            ret;\n\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= buff.charCodeAt(i) << ((i % 4) << 3);\n        }\n\n        this._finish(tail, length);\n        ret = hex(this._hash);\n\n        if (raw) {\n            ret = hexToBinaryString(ret);\n        }\n\n        this.reset();\n\n        return ret;\n    };\n\n    /**\n     * Resets the internal state of the computation.\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.reset = function () {\n        this._buff = '';\n        this._length = 0;\n        this._hash = [1732584193, -271733879, -1732584194, 271733878];\n\n        return this;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @return {Object} The state\n     */\n    SparkMD5.prototype.getState = function () {\n        return {\n            buff: this._buff,\n            length: this._length,\n            hash: this._hash.slice()\n        };\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @param {Object} state The state\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.setState = function (state) {\n        this._buff = state.buff;\n        this._length = state.length;\n        this._hash = state.hash;\n\n        return this;\n    };\n\n    /**\n     * Releases memory used by the incremental buffer and other additional\n     * resources. If you plan to use the instance again, use reset instead.\n     */\n    SparkMD5.prototype.destroy = function () {\n        delete this._hash;\n        delete this._buff;\n        delete this._length;\n    };\n\n    /**\n     * Finish the final calculation based on the tail.\n     *\n     * @param {Array}  tail   The tail (will be modified)\n     * @param {Number} length The length of the remaining buffer\n     */\n    SparkMD5.prototype._finish = function (tail, length) {\n        var i = length,\n            tmp,\n            lo,\n            hi;\n\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(this._hash, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Do the final computation based on the tail and length\n        // Beware that the final length may not fit in 32 bits so we take care of that\n        tmp = this._length * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n        md5cycle(this._hash, tail);\n    };\n\n    /**\n     * Performs the md5 hash on a string.\n     * A conversion will be applied if utf8 string is detected.\n     *\n     * @param {String}  str The string\n     * @param {Boolean} [raw] True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.hash = function (str, raw) {\n        // Converts the string to utf8 bytes if necessary\n        // Then compute it using the binary function\n        return SparkMD5.hashBinary(toUtf8(str), raw);\n    };\n\n    /**\n     * Performs the md5 hash on a binary string.\n     *\n     * @param {String}  content The binary string\n     * @param {Boolean} [raw]     True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.hashBinary = function (content, raw) {\n        var hash = md51(content),\n            ret = hex(hash);\n\n        return raw ? hexToBinaryString(ret) : ret;\n    };\n\n    // ---------------------------------------------------\n\n    /**\n     * SparkMD5 OOP implementation for array buffers.\n     *\n     * Use this class to perform an incremental md5 ONLY for array buffers.\n     */\n    SparkMD5.ArrayBuffer = function () {\n        // call reset to init the instance\n        this.reset();\n    };\n\n    /**\n     * Appends an array buffer.\n     *\n     * @param {ArrayBuffer} arr The array to be appended\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.append = function (arr) {\n        var buff = concatenateArrayBuffers(this._buff.buffer, arr, true),\n            length = buff.length,\n            i;\n\n        this._length += arr.byteLength;\n\n        for (i = 64; i <= length; i += 64) {\n            md5cycle(this._hash, md5blk_array(buff.subarray(i - 64, i)));\n        }\n\n        this._buff = (i - 64) < length ? new Uint8Array(buff.buffer.slice(i - 64)) : new Uint8Array(0);\n\n        return this;\n    };\n\n    /**\n     * Finishes the incremental computation, reseting the internal state and\n     * returning the result.\n     *\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.ArrayBuffer.prototype.end = function (raw) {\n        var buff = this._buff,\n            length = buff.length,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            i,\n            ret;\n\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= buff[i] << ((i % 4) << 3);\n        }\n\n        this._finish(tail, length);\n        ret = hex(this._hash);\n\n        if (raw) {\n            ret = hexToBinaryString(ret);\n        }\n\n        this.reset();\n\n        return ret;\n    };\n\n    /**\n     * Resets the internal state of the computation.\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.reset = function () {\n        this._buff = new Uint8Array(0);\n        this._length = 0;\n        this._hash = [1732584193, -271733879, -1732584194, 271733878];\n\n        return this;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @return {Object} The state\n     */\n    SparkMD5.ArrayBuffer.prototype.getState = function () {\n        var state = SparkMD5.prototype.getState.call(this);\n\n        // Convert buffer to a string\n        state.buff = arrayBuffer2Utf8Str(state.buff);\n\n        return state;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @param {Object} state The state\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.setState = function (state) {\n        // Convert string to buffer\n        state.buff = utf8Str2ArrayBuffer(state.buff, true);\n\n        return SparkMD5.prototype.setState.call(this, state);\n    };\n\n    SparkMD5.ArrayBuffer.prototype.destroy = SparkMD5.prototype.destroy;\n\n    SparkMD5.ArrayBuffer.prototype._finish = SparkMD5.prototype._finish;\n\n    /**\n     * Performs the md5 hash on an array buffer.\n     *\n     * @param {ArrayBuffer} arr The array buffer\n     * @param {Boolean}     [raw] True to get the raw string, false to get the hex one\n     *\n     * @return {String} The result\n     */\n    SparkMD5.ArrayBuffer.hash = function (arr, raw) {\n        var hash = md51_array(new Uint8Array(arr)),\n            ret = hex(hash);\n\n        return raw ? hexToBinaryString(ret) : ret;\n    };\n\n    return SparkMD5;\n}));\n","import * as cookie from 'cookie';\r\nexport function hasDocumentCookie() {\r\n    // Can we get/set cookies on document.cookie?\r\n    return typeof document === 'object' && typeof document.cookie === 'string';\r\n}\r\nexport function cleanCookies() {\r\n    document.cookie.split(';').forEach(function (c) {\r\n        document.cookie = c\r\n            .replace(/^ +/, '')\r\n            .replace(/=.*/, '=;expires=' + new Date().toUTCString() + ';path=/');\r\n    });\r\n}\r\nexport function parseCookies(cookies, options) {\r\n    if (typeof cookies === 'string') {\r\n        return cookie.parse(cookies, options);\r\n    }\r\n    else if (typeof cookies === 'object' && cookies !== null) {\r\n        return cookies;\r\n    }\r\n    else {\r\n        return {};\r\n    }\r\n}\r\nexport function isParsingCookie(value, doNotParse) {\r\n    if (typeof doNotParse === 'undefined') {\r\n        // We guess if the cookie start with { or [, it has been serialized\r\n        doNotParse =\r\n            !value || (value[0] !== '{' && value[0] !== '[' && value[0] !== '\"');\r\n    }\r\n    return !doNotParse;\r\n}\r\nexport function readCookie(value, options) {\r\n    if (options === void 0) { options = {}; }\r\n    var cleanValue = cleanupCookieValue(value);\r\n    if (isParsingCookie(cleanValue, options.doNotParse)) {\r\n        try {\r\n            return JSON.parse(cleanValue);\r\n        }\r\n        catch (e) {\r\n            // At least we tried\r\n        }\r\n    }\r\n    // Ignore clean value if we failed the deserialization\r\n    // It is not relevant anymore to trim those values\r\n    return value;\r\n}\r\nfunction cleanupCookieValue(value) {\r\n    // express prepend j: before serializing a cookie\r\n    if (value && value[0] === 'j' && value[1] === ':') {\r\n        return value.substr(2);\r\n    }\r\n    return value;\r\n}\r\n","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport * as cookie from 'cookie';\r\nimport { hasDocumentCookie, parseCookies, readCookie } from './utils';\r\nvar Cookies = /** @class */ (function () {\r\n    function Cookies(cookies, options) {\r\n        var _this = this;\r\n        this.changeListeners = [];\r\n        this.HAS_DOCUMENT_COOKIE = false;\r\n        this.cookies = parseCookies(cookies, options);\r\n        new Promise(function () {\r\n            _this.HAS_DOCUMENT_COOKIE = hasDocumentCookie();\r\n        }).catch(function () { });\r\n    }\r\n    Cookies.prototype._updateBrowserValues = function (parseOptions) {\r\n        if (!this.HAS_DOCUMENT_COOKIE) {\r\n            return;\r\n        }\r\n        this.cookies = cookie.parse(document.cookie, parseOptions);\r\n    };\r\n    Cookies.prototype._emitChange = function (params) {\r\n        for (var i = 0; i < this.changeListeners.length; ++i) {\r\n            this.changeListeners[i](params);\r\n        }\r\n    };\r\n    Cookies.prototype.get = function (name, options, parseOptions) {\r\n        if (options === void 0) { options = {}; }\r\n        this._updateBrowserValues(parseOptions);\r\n        return readCookie(this.cookies[name], options);\r\n    };\r\n    Cookies.prototype.getAll = function (options, parseOptions) {\r\n        if (options === void 0) { options = {}; }\r\n        this._updateBrowserValues(parseOptions);\r\n        var result = {};\r\n        for (var name_1 in this.cookies) {\r\n            result[name_1] = readCookie(this.cookies[name_1], options);\r\n        }\r\n        return result;\r\n    };\r\n    Cookies.prototype.set = function (name, value, options) {\r\n        var _a;\r\n        if (typeof value === 'object') {\r\n            value = JSON.stringify(value);\r\n        }\r\n        this.cookies = __assign(__assign({}, this.cookies), (_a = {}, _a[name] = value, _a));\r\n        if (this.HAS_DOCUMENT_COOKIE) {\r\n            document.cookie = cookie.serialize(name, value, options);\r\n        }\r\n        this._emitChange({ name: name, value: value, options: options });\r\n    };\r\n    Cookies.prototype.remove = function (name, options) {\r\n        var finalOptions = (options = __assign(__assign({}, options), { expires: new Date(1970, 1, 1, 0, 0, 1), maxAge: 0 }));\r\n        this.cookies = __assign({}, this.cookies);\r\n        delete this.cookies[name];\r\n        if (this.HAS_DOCUMENT_COOKIE) {\r\n            document.cookie = cookie.serialize(name, '', finalOptions);\r\n        }\r\n        this._emitChange({ name: name, value: undefined, options: options });\r\n    };\r\n    Cookies.prototype.addChangeListener = function (callback) {\r\n        this.changeListeners.push(callback);\r\n    };\r\n    Cookies.prototype.removeChangeListener = function (callback) {\r\n        var idx = this.changeListeners.indexOf(callback);\r\n        if (idx >= 0) {\r\n            this.changeListeners.splice(idx, 1);\r\n        }\r\n    };\r\n    return Cookies;\r\n}());\r\nexport default Cookies;\r\n","/**\n * Removes fields with value 'undefined' from an object (not recursive).\n *\n * Use the `inPlace` parameter to modify the object (using `delete`), rather than creating a new object.\n *\n * See https://stackoverflow.com/questions/25421233\n */\nexport function removeUndefined(obj: Record<string, unknown>, inPlace = false) {\n  if (inPlace) {\n    Object.keys(obj).forEach(key =>\n      obj[key] === undefined ? delete obj[key] : {},\n    )\n    return obj\n  } else {\n    return Object.keys(obj).reduce((acc, key) => {\n      const _acc = acc\n      if (obj[key] !== undefined) _acc[key] = obj[key]\n      return _acc\n    }, {})\n  }\n}\n","// http://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/discussion/DiscussionReplyBundle.html\nexport type DiscussionReplyBundle = {\n  id: string\n  threadId: string\n  forumId: string\n  projectId: string\n  createdOn: string\n  createdBy: string\n  modifiedOn: string\n  etag: string\n  messageKey: string\n  isEdited: boolean\n  isDeleted: boolean\n}\n\nexport type DiscussionThreadBundle = {\n  id: string\n  forumId: string\n  projectId: string\n  title: string\n  createdOn: string\n  createdBy: string\n  modifiedOn: string\n  etag: string\n  messageKey: string\n  numberOfViews: number\n  numberOfReplies: number\n  lastActivity: string\n  activeAuthors: string[]\n  isEdited: boolean\n  isDeleted: boolean\n  isPinned: boolean\n}\n\nexport enum DiscussionThreadOrder {\n  NUMBER_OF_REPLIES = 'NUMBER_OF_REPLIES',\n  NUMBER_OF_VIEWS = 'NUMBER_OF_VIEWS',\n  PINNED_AND_LAST_ACTIVITY = 'PINNED_AND_LAST_ACTIVITY',\n  THREAD_TITLE = 'THREAD_TITLE',\n}\n\nexport enum DiscussionReplyOrder {\n  CREATED_ON = 'CREATED_ON',\n}\n\nexport enum DiscussionFilter {\n  NO_FILTER = 'NO_FILTER',\n  DELETED_ONLY = 'DELETED_ONLY',\n  EXCLUDE_DELETED = 'EXCLUDE_DELETED',\n}\n\nexport type CreateDiscussionReply = {\n  threadId: string\n  messageMarkdown: string\n}\n\nexport type UpdateDiscussionReply = {\n  replyId: string\n  messageMarkdown: string\n}\n\nexport type CreateDiscussionThread = {\n  forumId: string\n  title: string\n  messageMarkdown: string\n}\n\nexport type UpdateThreadMessageRequest = {\n  messageMarkdown: string\n  threadId: string\n}\n\nexport type UpdateThreadTitleRequest = {\n  title: string\n  threadId: string\n}\n","const sufixes: string[] = [\n  'Bytes',\n  'KB',\n  'MB',\n  'GB',\n  'TB',\n  'PB',\n  'EB',\n  'ZB',\n  'YB',\n]\n\nexport function calculateFriendlyFileSize(bytes: number) {\n  if (!bytes) {\n    return ''\n  }\n  // https://stackoverflow.com/questions/10420352/converting-file-size-in-bytes-to-human-readable-string\n  const i = Math.floor(Math.log(bytes) / Math.log(1024))\n  // tslint:disable-next-line\n  return (\n    (!bytes && '0 Bytes') ||\n    (bytes / Math.pow(1024, i)).toFixed(2) + ' ' + sufixes[i]\n  )\n}\n","export enum ErrorResponseCode {\n  /* The user's password must be reset via email. */\n  PASSWORD_RESET_VIA_EMAIL_REQUIRED = 'PASSWORD_RESET_VIA_EMAIL_REQUIRED',\n  /* The user has not passed the certification process. */\n  USER_CERTIFICATION_REQUIRED = 'USER_CERTIFICATION_REQUIRED',\n  /* At least one of the columns listed in a FacetColumnRequest is not facet-able according to the table's schema. */\n  INVALID_TABLE_QUERY_FACET_COLUMN_REQUEST = 'INVALID_TABLE_QUERY_FACET_COLUMN_REQUEST',\n  /* The OAuth Client is not verified. */\n  OAUTH_CLIENT_NOT_VERIFIED = 'OAUTH_CLIENT_NOT_VERIFIED',\n  /* Two-factor authentication is required. */\n  TWO_FA_REQUIRED = 'TWO_FA_REQUIRED',\n}\n\n/**\n * https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/ErrorResponse.html\n */\nexport type ErrorResponse = {\n  concreteType: 'org.sagebionetworks.repo.model.ErrorResponse'\n  reason: string\n  errorCode?: ErrorResponseCode\n}\n\nexport type TwoFactorAuthErrorResponse = {\n  concreteType: 'org.sagebionetworks.repo.model.auth.TwoFactorAuthErrorResponse'\n  /* The id of the user that attempted to authenticate.*/\n  userId: number\n  /* Token included when two-factor authentication is required. If present the client will need to include this token as part of the TwoFactorAuthLoginRequest.*/\n  twoFaToken: string\n  /* The reason for the error*/\n  reason: string\n  /* A code to be used by clients to handle the error.*/\n  errorCode: ErrorResponseCode.TWO_FA_REQUIRED\n}\n","import { JSONSchema7 } from 'json-schema'\nimport SparkMD5 from 'spark-md5'\nimport UniversalCookies from 'universal-cookie'\nimport { SynapseConstants } from '.'\nimport {\n  ACCESS_APPROVAL,\n  ACCESS_APPROVAL_BY_ID,\n  ACCESS_REQUEST_SUBMISSION_SEARCH,\n  ACCESS_REQUIREMENT_ACL,\n  ACCESS_REQUIREMENT_BY_ID,\n  ACCESS_REQUIREMENT_DATA_ACCESS_REQUEST_FOR_UPDATE,\n  ACCESS_REQUIREMENT_RESEARCH_PROJECT_FOR_UPDATE,\n  ACCESS_REQUIREMENT_SEARCH,\n  ACCESS_REQUIREMENT_STATUS,\n  ACCESS_REQUIREMENT_WIKI_PAGE_KEY,\n  ACTIVITY_FOR_ENTITY,\n  ALIAS_AVAILABLE,\n  APPROVED_SUBMISSION_INFO,\n  ASYNCHRONOUS_JOB_TOKEN,\n  BIND_INVITATION_TO_AUTHENTICATED_USER,\n  DATA_ACCESS_REQUEST,\n  DATA_ACCESS_REQUEST_SUBMISSION,\n  DATA_ACCESS_SUBMISSION_BY_ID,\n  DOI_ASSOCIATION,\n  ENTITY,\n  ENTITY_ACCESS,\n  ENTITY_ACCESS_REQUIREMENTS,\n  ENTITY_BUNDLE_V2,\n  ENTITY_HEADER_BY_ID,\n  ENTITY_HEADERS,\n  ENTITY_ID,\n  ENTITY_JSON,\n  ENTITY_PATH,\n  ENTITY_SCHEMA_BINDING,\n  ENTITY_SCHEMA_VALIDATION,\n  EVALUATION,\n  EVALUATION_BY_ID,\n  EVALUATIONS_BY_ID,\n  FAVORITES,\n  FILE_HANDLE_BATCH,\n  FORUM,\n  FORUM_THREAD,\n  INVITEE_VERIFICATION_SIGNED_TOKEN,\n  MEMBERSHIP_INVITATION,\n  NOTIFICATION_EMAIL,\n  PROFILE_IMAGE_PREVIEW,\n  PROJECTS,\n  REGISTER_ACCOUNT_STEP_1,\n  REGISTER_ACCOUNT_STEP_2,\n  REGISTERED_SCHEMA_ID,\n  RESEARCH_PROJECT,\n  SCHEMA_VALIDATION_GET,\n  SCHEMA_VALIDATION_START,\n  SIGN_TERMS_OF_USE,\n  TABLE_QUERY_ASYNC_GET,\n  TABLE_QUERY_ASYNC_START,\n  TEAM_ID_MEMBER_ID,\n  TEAM_ID_MEMBER_ID_WITH_NOTIFICATION,\n  TEAM_MEMBER,\n  TEAM_MEMBERS,\n  THREAD,\n  THREAD_ID,\n  TRASHCAN_PURGE,\n  TRASHCAN_RESTORE,\n  TRASHCAN_VIEW,\n  USER_BUNDLE,\n  USER_GROUP_HEADERS,\n  USER_GROUP_HEADERS_BATCH,\n  USER_ID_BUNDLE,\n  USER_PROFILE,\n  USER_PROFILE_ID,\n  VERIFICATION_SUBMISSION,\n} from './APIConstants'\nimport { dispatchDownloadListChangeEvent } from './functions/dispatchDownloadListChangeEvent'\nimport { BackendDestinationEnum, getEndpoint } from './functions/getEndpoint'\nimport { removeUndefined } from './functions/ObjectUtils'\nimport {\n  DATETIME_UTC_COOKIE_KEY,\n  NETWORK_UNAVAILABLE_MESSAGE,\n} from './SynapseConstants'\nimport {\n  ACCESS_TYPE,\n  AccessApproval,\n  AccessCodeResponse,\n  AccessControlList,\n  AccessRequirement,\n  AccessRequirementStatus,\n  ACTSubmissionStatus,\n  AddPartResponse,\n  AsynchronousJobStatus,\n  AsyncJobId,\n  BatchFileRequest,\n  BatchFileResult,\n  BatchPresignedUploadUrlRequest,\n  BatchPresignedUploadUrlResponse,\n  BulkFileDownloadRequest,\n  BulkFileDownloadResponse,\n  DoiAssociation,\n  DownloadFromTableRequest,\n  DownloadFromTableResult,\n  DownloadList,\n  DownloadOrder,\n  Entity,\n  EntityBundle,\n  EntityBundleRequest,\n  EntityHeader,\n  EntityId,\n  EntityJson,\n  EntityLookupRequest,\n  EntityPath,\n  Evaluation,\n  EvaluationRound,\n  FileEntity,\n  FileHandle,\n  FileHandleAssociateType,\n  FileHandleAssociation,\n  FileHandleResults,\n  FileResult,\n  FileUploadComplete,\n  FormChangeRequest,\n  FormData,\n  FormGroup,\n  FormRejection,\n  ListRequest,\n  ListResponse,\n  LoginResponse,\n  MultipartUploadRequest,\n  MultipartUploadStatus,\n  NotificationEmail,\n  OAuthClientPublic,\n  OAuthConsentGrantedResponse,\n  ObjectType,\n  OIDCAuthorizationRequest,\n  OIDCAuthorizationRequestDescription,\n  PaginatedResults,\n  ProjectFilesStatisticsRequest,\n  ProjectFilesStatisticsResponse,\n  ProjectHeaderList,\n  QueryBundleRequest,\n  QueryResultBundle,\n  QueryTableResults,\n  ReferenceList,\n  RestrictionInformationRequest,\n  RestrictionInformationResponse,\n  Submission as EvaluationSubmission,\n  SynapseVersion,\n  TrashedEntity,\n  UserBundle,\n  UserGroupHeaderResponsePage,\n  UserProfile,\n  VerificationSubmission,\n  WikiPage,\n  WikiPageKey,\n} from './synapseTypes/'\nimport {\n  AccessApprovalSearchRequest,\n  AccessApprovalSearchResponse,\n  CreateSubmissionRequest,\n  EntityChildrenRequest,\n  EntityChildrenResponse,\n  ManagedACTAccessRequirementStatus,\n  RequestInterface,\n  TYPE_FILTER,\n  UserGroupHeaderResponse,\n} from './synapseTypes'\nimport {\n  AccessRequirementSearchRequest,\n  AccessRequirementSearchResponse,\n} from './synapseTypes/AccessRequirement/AccessRequirementSearch'\nimport { RenewalInterface } from './synapseTypes/AccessRequirement/RenewalInterface'\nimport { SubmissionStateChangeRequest } from './synapseTypes/AccessRequirement/SubmissionStateChangeRequest'\nimport { AccessTokenGenerationRequest } from './synapseTypes/AccessToken/AccessTokenGenerationRequest'\nimport { AccessTokenGenerationResponse } from './synapseTypes/AccessToken/AccessTokenGenerationResponse'\nimport { AccessTokenRecordList } from './synapseTypes/AccessToken/AccessTokenRecord'\nimport { AuthenticatedOn } from './synapseTypes/AuthenticatedOn'\nimport { ChallengePagedResults } from './synapseTypes/ChallengePagedResults'\nimport {\n  ChangePasswordWithCurrentPassword,\n  ChangePasswordWithToken,\n} from './synapseTypes/ChangePasswordRequests'\nimport {\n  CreateDiscussionReply,\n  CreateDiscussionThread,\n  DiscussionFilter,\n  DiscussionReplyBundle,\n  DiscussionReplyOrder,\n  DiscussionThreadBundle,\n  DiscussionThreadOrder,\n  UpdateDiscussionReply,\n  UpdateThreadMessageRequest,\n  UpdateThreadTitleRequest,\n} from './synapseTypes/DiscussionBundle'\nimport {\n  DiscussionSearchRequest,\n  DiscussionSearchResponse,\n} from './synapseTypes/DiscussionSearch'\nimport { AddBatchOfFilesToDownloadListRequest } from './synapseTypes/DownloadListV2/AddBatchOfFilesToDownloadListRequest'\nimport { AddBatchOfFilesToDownloadListResponse } from './synapseTypes/DownloadListV2/AddBatchOfFilesToDownloadListResponse'\nimport { AddToDownloadListRequest } from './synapseTypes/DownloadListV2/AddToDownloadListRequest'\nimport { AddToDownloadListResponse } from './synapseTypes/DownloadListV2/AddToDownloadListResponse'\nimport { DownloadListItem } from './synapseTypes/DownloadListV2/DownloadListItem'\nimport { DownloadListManifestRequest } from './synapseTypes/DownloadListV2/DownloadListManifestRequest'\nimport { DownloadListPackageRequest } from './synapseTypes/DownloadListV2/DownloadListPackageRequest'\nimport { DownloadListPackageResponse } from './synapseTypes/DownloadListV2/DownloadListPackageResponse'\nimport { DownloadListQueryRequest } from './synapseTypes/DownloadListV2/DownloadListQueryRequest'\nimport { DownloadListQueryResponse } from './synapseTypes/DownloadListV2/DownloadListQueryResponse'\nimport {\n  ActionRequiredRequest,\n  AvailableFilesRequest,\n  FilesStatisticsRequest,\n  QueryRequestDetails,\n} from './synapseTypes/DownloadListV2/QueryRequestDetails'\nimport {\n  ActionRequiredResponse,\n  AvailableFilesResponse,\n  FilesStatisticsResponse,\n  QueryResponseDetails,\n} from './synapseTypes/DownloadListV2/QueryResponseDetails'\nimport { RemoveBatchOfFilesFromDownloadListRequest } from './synapseTypes/DownloadListV2/RemoveBatchOfFilesFromDownloadListRequest'\nimport { RemoveBatchOfFilesFromDownloadListResponse } from './synapseTypes/DownloadListV2/RemoveBatchOfFilesFromDownloadListResponse'\nimport { EvaluationRoundListRequest } from './synapseTypes/Evaluation/EvaluationRoundListRequest'\nimport { EvaluationRoundListResponse } from './synapseTypes/Evaluation/EvaluationRoundListResponse'\nimport { UserEvaluationPermissions } from './synapseTypes/Evaluation/UserEvaluationPermissions'\nimport { GetProjectsParameters } from './synapseTypes/GetProjectsParams'\nimport { HasAccessResponse } from './synapseTypes/HasAccessResponse'\nimport { MessageURL } from './synapseTypes/MessageUrl'\nimport {\n  AccountSetupInfo,\n  AliasCheckRequest,\n  AliasCheckResponse,\n  EmailValidationSignedToken,\n  NewUser,\n  PrincipalAliasRequest,\n  PrincipalAliasResponse,\n} from './synapseTypes/Principal/PrincipalServices'\nimport { ResearchProject } from './synapseTypes/ResearchProject'\nimport { JsonSchemaObjectBinding } from './synapseTypes/Schema/JsonSchemaObjectBinding'\nimport { ValidationResults } from './synapseTypes/Schema/ValidationResults'\nimport { SearchQuery, SearchResults } from './synapseTypes/Search'\nimport { TableUpdateTransactionRequest } from './synapseTypes/Table/TableUpdate'\nimport {\n  SqlTransformResponse,\n  TransformSqlWithFacetsRequest,\n} from './synapseTypes/Table/TransformSqlWithFacetsRequest'\nimport { Team } from './synapseTypes/Team'\nimport { VersionInfo } from './synapseTypes/VersionInfo'\nimport {\n  SubmissionSearchRequest,\n  SubmissionSearchResponse,\n} from './synapseTypes/AccessSubmission'\nimport {\n  SubmissionInfoPage,\n  SubmissionInfoPageRequest,\n} from './synapseTypes/SubmissionInfo'\nimport { Submission as DataAccessSubmission } from './synapseTypes/AccessRequirement/Submission'\nimport { SynapseClientError } from './SynapseClientError'\nimport {\n  OAuthClient,\n  OAuthClientIdAndSecret,\n  OAuthClientList,\n  OAuthClientVerificationPrecheckResult,\n} from './synapseTypes/OAuthClient'\nimport { Activity } from './synapseTypes/Provenance/Provenance'\nimport {\n  FavoriteSortBy,\n  FavoriteSortDirection,\n} from './synapseTypes/FavoriteSortBy'\nimport {\n  PassingRecord,\n  Quiz,\n  QuizResponse,\n} from './synapseTypes/CertificationQuiz/Quiz'\nimport { GeoData } from '../containers/GoogleMap/GeoData'\nimport { TeamMember } from './synapseTypes/TeamMember'\nimport {\n  SubscriberPagedResults,\n  Subscription,\n  SubscriptionPagedResults,\n  SubscriptionRequest,\n  Topic,\n} from './synapseTypes/Subscription'\nimport { calculateFriendlyFileSize } from './functions/calculateFriendlyFileSize'\nimport { PaginatedIds } from './synapseTypes/PaginatedIds'\nimport { UploadDestination } from './synapseTypes/File/UploadDestination'\nimport { JoinTeamSignedToken } from './synapseTypes/JoinTeamSignedToken'\nimport { ResponseMessage } from './synapseTypes/ResponseMessage'\nimport { MembershipInvtnSignedToken } from './synapseTypes/SignedToken/MembershipInvtnSignedToken'\nimport { MembershipInvitation } from './synapseTypes/MembershipInvitation'\nimport { InviteeVerificationSignedToken } from './synapseTypes/SignedToken/InviteeVerificationSignedToken'\nimport {\n  ErrorResponseCode,\n  TwoFactorAuthErrorResponse,\n} from './synapseTypes/ErrorResponse'\nimport { TwoFactorAuthLoginRequest } from './synapseTypes/TwoFactorAuthLoginRequest'\nimport {\n  TotpSecret,\n  TotpSecretActivationRequest,\n  TwoFactorAuthStatus,\n} from './synapseTypes/TotpSecret'\nimport { TwoFactorAuthRecoveryCodes } from './synapseTypes/TwoFactorAuthRecoveryCodes'\n\nconst cookies = new UniversalCookies()\n\n// TODO: Create JSON response types for all return types\nexport const IS_OUTSIDE_SYNAPSE_ORG = !window.location.hostname\n  .toLowerCase()\n  .includes('.synapse.org')\n\nexport const ACCESS_TOKEN_COOKIE_KEY =\n  'org.sagebionetworks.security.user.login.token'\n\n// Max size file that we will allow the caller to read into memory (5MB)\nconst MAX_JS_FILE_DOWNLOAD_SIZE = 5242880\n// This corresponds to the Synapse-managed S3 storage location:\nexport const SYNAPSE_STORAGE_LOCATION_ID = 1\nexport const getRootURL = () => {\n  const portString = window.location.port ? `:${window.location.port}` : ''\n  return `${window.location.protocol}//${window.location.hostname}${portString}/`\n}\n\n/**\n * Waits t number of milliseconds\n *\n * @export\n * @param {number} t milliseconds\n * @returns after t milliseconds\n */\nexport function delay(t: number) {\n  return new Promise(resolve => {\n    setTimeout(resolve.bind(null, {}), t)\n  })\n}\n\n/**\n * Error message returned by the Synapse Backend\n */\nexport type SynapseError = {\n  reason: string\n}\n\n/**\n * Invokes a function that makes a request to Synapse and returns null if the server responds with a 404.\n * @param fn a function that may throw a SynapseClientError when encountering an HTTP Error Code\n * @returns The result of the function call, or null if the result is a 404 \"Not Found\" error.\n */\nexport async function allowNotFoundError<T>(\n  fn: () => Promise<T>,\n): Promise<T | null> {\n  let response = null\n  try {\n    response = await fn()\n  } catch (e) {\n    if (e instanceof SynapseClientError && e.status === 404) {\n      // Permitted\n    } else {\n      throw e\n    }\n  }\n  return response\n}\n\n/**\n * If the asynchronous request returns a TwoFactorAuthErrorResponse, return that error instead of throwing it. Other\n * types of errors will still be thrown.\n * @param fn\n */\nexport async function returnIfTwoFactorAuthError<T>(\n  fn: () => Promise<T>,\n): Promise<T | TwoFactorAuthErrorResponse> {\n  let response = null\n  try {\n    response = await fn()\n  } catch (e) {\n    if (\n      e instanceof SynapseClientError &&\n      e.status === 401 &&\n      e.errorResponse &&\n      'errorCode' in e.errorResponse &&\n      e.errorResponse.errorCode === ErrorResponseCode.TWO_FA_REQUIRED &&\n      e.errorResponse.concreteType ===\n        'org.sagebionetworks.repo.model.auth.TwoFactorAuthErrorResponse'\n    ) {\n      return e.errorResponse\n    } else {\n      throw e\n    }\n  }\n  return response\n}\n\n/*\n  0 - no internet connection\n  429 - Too Many Requests\n  502 - Bad Gateway\n  503 - Service Unavailable\n  504 - Gateway Timeout\n*/\nconst RETRY_STATUS_CODES = [0, 429, 502, 503, 504]\nconst MAX_RETRY_STATUS_CODES = [502, 503]\nconst MAX_RETRY = 3\n/**\n * Fetches data, retrying if the HTTP status code indicates that it could be retried. Contains custom logic for\n * handling errors returned by the Synapse backend.\n * @throws SynapseClientError\n */\nconst fetchWithExponentialTimeout = async <TResponse>(\n  url: RequestInfo,\n  options: RequestInit,\n  delayMs = 1000,\n): Promise<TResponse> => {\n  let response\n  try {\n    response = await fetch(url, options)\n  } catch (err) {\n    throw new SynapseClientError(0, NETWORK_UNAVAILABLE_MESSAGE, url.toString())\n  }\n\n  let numOfTry = 1\n  while (response.status && RETRY_STATUS_CODES.includes(response.status)) {\n    await delay(delayMs)\n    // Exponential backoff if we re-fetch\n    delayMs = delayMs * 2\n    response = await fetch(url, options)\n    if (MAX_RETRY_STATUS_CODES.includes(response.status)) {\n      numOfTry++\n      if (numOfTry == MAX_RETRY) {\n        break\n      }\n    }\n  }\n\n  const contentType = response.headers.get('Content-Type')\n  const responseBody = await response.text()\n  let responseObject: TResponse | SynapseError | string = responseBody\n  try {\n    // try to parse it as json\n    if (contentType && contentType.includes('application/json')) {\n      responseObject = JSON.parse(responseBody) as TResponse | SynapseError\n    }\n  } catch (error) {\n    console.warn('Failed to parse response as JSON', responseBody)\n  }\n\n  if (response.ok) {\n    return responseObject as TResponse\n  } else if (\n    responseObject !== null &&\n    typeof responseObject === 'object' &&\n    'reason' in responseObject\n  ) {\n    throw new SynapseClientError(\n      response.status,\n      responseObject.reason,\n      url.toString(),\n      responseObject,\n    )\n  } else {\n    throw new SynapseClientError(\n      response.status,\n      JSON.stringify(responseObject),\n      url.toString(),\n    )\n  }\n}\n\nexport const doPost = <T>(\n  url: string,\n  requestJsonObject: unknown,\n  accessToken: string | undefined,\n  endpoint: BackendDestinationEnum,\n  additionalOptions: RequestInit = {},\n): Promise<T> => {\n  const options: RequestInit = {\n    body: JSON.stringify(requestJsonObject),\n    headers: {\n      Accept: '*/*',\n      'Access-Control-Request-Headers': 'authorization',\n      'Content-Type': 'application/json',\n    },\n    method: 'POST',\n    mode: 'cors',\n    ...additionalOptions,\n  }\n  if (accessToken) {\n    options.headers!['authorization'] = `Bearer ${accessToken}`\n  }\n  const usedEndpoint = getEndpoint(endpoint)\n  return fetchWithExponentialTimeout<T>(usedEndpoint + url, options)\n}\nexport const doGet = <T>(\n  url: string,\n  accessToken: string | undefined,\n  endpoint: BackendDestinationEnum,\n  additionalOptions: RequestInit = {},\n) => {\n  const options: RequestInit = {\n    headers: {\n      Accept: '*/*',\n      'Access-Control-Request-Headers': 'authorization',\n    },\n    method: 'GET',\n    mode: 'cors',\n    ...additionalOptions,\n  }\n  if (accessToken) {\n    options.headers!['authorization'] = `Bearer ${accessToken}`\n  }\n  const usedEndpoint = getEndpoint(endpoint)\n  return fetchWithExponentialTimeout<T>(usedEndpoint + url, options)\n}\n\nexport const doDelete = (\n  url: string,\n  accessToken: string | undefined,\n  endpoint: BackendDestinationEnum,\n  additionalOptions: RequestInit = {},\n) => {\n  const options: RequestInit = {\n    headers: {\n      Accept: '*/*',\n      'Access-Control-Request-Headers': 'authorization',\n    },\n    method: 'DELETE',\n    mode: 'cors',\n    ...additionalOptions,\n  }\n  if (accessToken) {\n    options.headers!['authorization'] = `Bearer ${accessToken}`\n  }\n  const usedEndpoint = getEndpoint(endpoint)\n  return fetchWithExponentialTimeout<void>(usedEndpoint + url, options)\n}\n\nexport const doPut = <T>(\n  url: string,\n  requestJsonObject: unknown,\n  accessToken: string | undefined,\n  endpoint: BackendDestinationEnum,\n  additionalOptions: RequestInit = {},\n): Promise<T> => {\n  const options: RequestInit = {\n    body: JSON.stringify(requestJsonObject),\n    headers: {\n      Accept: '*/*',\n      'Access-Control-Request-Headers': 'authorization',\n      'Content-Type': 'application/json',\n    },\n    method: 'PUT',\n    mode: 'cors',\n    ...additionalOptions,\n  }\n  if (accessToken) {\n    options.headers!['authorization'] = `Bearer ${accessToken}`\n  }\n  const usedEndpoint = getEndpoint(endpoint)\n  return fetchWithExponentialTimeout<T>(usedEndpoint + url, options)\n}\n\nexport const getVersion = (): Promise<SynapseVersion> => {\n  return doGet<SynapseVersion>(\n    '/repo/v1/version',\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * https://rest-docs.synapse.org/rest/POST/entity/id/table/download/csv/async/start.html\n */\nexport const getDownloadFromTableRequest = async (\n  request: DownloadFromTableRequest,\n  accessToken: string | undefined = undefined,\n): Promise<DownloadFromTableResult> => {\n  const asyncJobId = await doPost<AsyncJobId>(\n    `/repo/v1/entity/${request.entityId}/table/download/csv/async/start`,\n    request,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n  return getAsyncResultBodyFromJobId(\n    asyncJobId.token,\n    `/repo/v1/entity/${request.entityId}/table/download/csv/async/get/${asyncJobId.token}`,\n    accessToken,\n  )\n}\n\n/**\n * https://rest-docs.synapse.org/rest/GET/fileHandle/handleId.html\n * Get a FileHandle using its ID.\n * Note: Only the user that created the FileHandle can access it directly.\n * @return FileHandle\n **/\nexport const getFileHandleById = (\n  handleId: string,\n  accessToken: string | undefined = undefined,\n): Promise<FileHandle> => {\n  return doGet<FileHandle>(\n    `/file/v1/fileHandle/${handleId}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * http://rest-docs.synapse.org/rest/GET/file/id.html\n * Get the actual URL of the file from with an associated object .\n * @return a short lived presignedURL to be redirected with\n **/\nexport const getActualFileHandleByIdURL = (\n  handleId: string,\n  accessToken: string | undefined = undefined,\n  fileAssociateType: FileHandleAssociateType,\n  fileAssociateId: string,\n  redirect: boolean = true,\n): Promise<string> => {\n  // get the presigned URL for this file handle association.\n  return doGet<string>(\n    `/file/v1/file/${handleId}?fileAssociateType=${fileAssociateType}&fileAssociateId=${fileAssociateId}&redirect=${redirect}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * https://rest-docs.synapse.org/rest/GET/fileHandle/handleId/url.html\n * Note: Only the user that created the FileHandle can use this method for download.\n * @return a short lived presignedURL to be redirected with\n **/\nexport const getFileHandleByIdURL = (\n  handleId: string,\n  accessToken: string | undefined = undefined,\n) => {\n  // get the presigned URL for this file handle\n  return doGet<string>(\n    `/file/v1/fileHandle/${handleId}/url?redirect=false`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get a completed asynchronous job. Will refetch every 500ms until COMPLETE or FAILED.\n * @param asyncJobId\n * @param responseBodyEndpoint\n * @param accessToken\n * @param setCurrentAsyncStatus - optional function that will receive the AsynchronousJobStatus object every time\n *   it's fetched, including while it is in the \"PROCESSING\" state.\n * @returns\n */\nexport const getAsyncResultFromJobId = async <TRequest, TResponse>(\n  asyncJobId: string,\n  responseBodyEndpoint: string,\n  accessToken?: string,\n  setCurrentAsyncStatus?: (\n    result: AsynchronousJobStatus<TRequest, TResponse>,\n  ) => void,\n): Promise<AsynchronousJobStatus<TRequest, TResponse>> => {\n  let response = await doGet<AsynchronousJobStatus<TRequest, TResponse>>(\n    ASYNCHRONOUS_JOB_TOKEN(asyncJobId),\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n  setCurrentAsyncStatus?.(response)\n  while (response.jobState && response.jobState === 'PROCESSING') {\n    await delay(500)\n    response = await doGet<AsynchronousJobStatus<TRequest, TResponse>>(\n      ASYNCHRONOUS_JOB_TOKEN(asyncJobId),\n      accessToken,\n      BackendDestinationEnum.REPO_ENDPOINT,\n    )\n    setCurrentAsyncStatus?.(response)\n  }\n\n  if (response.jobState === 'FAILED') {\n    /**\n     * While we technically already have the failure reason in the response, the HTTP response doesn't give a helpful error code (e.g. 403)\n     * that we can use for an error banner. We can get the HTTP code if we fetch the response body directly.\n     */\n    const failureResponse = await doGet<TResponse>(\n      responseBodyEndpoint,\n      accessToken,\n      BackendDestinationEnum.REPO_ENDPOINT,\n    )\n    console.warn(\n      'SynapseClient.getAsyncResultFromJobId should have thrown an error, but instead retrieved the following response:',\n      failureResponse,\n    )\n  }\n  return response\n}\n\n/**\n * Get the response body for an asynchronous job, or throw an error if the job failed.\n * @param asyncJobId\n * @param responseBodyEndpoint\n * @param accessToken\n * @returns\n */\nexport const getAsyncResultBodyFromJobId = async <TResponse>(\n  asyncJobId: string,\n  responseBodyEndpoint: string,\n  accessToken?: string,\n): Promise<TResponse> => {\n  const response = await getAsyncResultFromJobId<unknown, TResponse>(\n    asyncJobId,\n    responseBodyEndpoint,\n    accessToken,\n  )\n\n  return response.responseBody!\n}\n\n/**\n * https://rest-docs.synapse.org/rest/POST/entity/id/table/query/nextPage/async/start.html\n * @param {*} queryBundleRequest\n * @param {*} accessToken\n */\nexport const getQueryTableAsyncJobResults = async (\n  queryBundleRequest: QueryBundleRequest,\n  accessToken?: string,\n  setCurrentAsyncStatus?: (\n    result: AsynchronousJobStatus<QueryBundleRequest, QueryResultBundle>,\n  ) => void,\n): Promise<AsynchronousJobStatus<QueryBundleRequest, QueryResultBundle>> => {\n  const asyncJobId = await doPost<AsyncJobId>(\n    TABLE_QUERY_ASYNC_START(queryBundleRequest.entityId),\n    queryBundleRequest,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n  return getAsyncResultFromJobId<QueryBundleRequest, QueryResultBundle>(\n    asyncJobId.token,\n    TABLE_QUERY_ASYNC_GET(queryBundleRequest.entityId, asyncJobId.token),\n    accessToken,\n    setCurrentAsyncStatus,\n  )\n}\n\n/**\n * https://rest-docs.synapse.org/rest/POST/entity/id/table/query/nextPage/async/start.html\n * @param {*} queryBundleRequest\n * @param {*} accessToken\n * @param {*} signal\n */\nexport const getQueryTableResults = async (\n  queryBundleRequest: QueryBundleRequest,\n  accessToken?: string,\n  signal?: AbortSignal,\n): Promise<QueryResultBundle> => {\n  const asyncJobId = await doPost<AsyncJobId>(\n    `/repo/v1/entity/${queryBundleRequest.entityId}/table/query/async/start`,\n    queryBundleRequest,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n    { signal },\n  )\n  return getAsyncResultBodyFromJobId(\n    asyncJobId.token,\n    `/repo/v1/entity/${queryBundleRequest.entityId}/table/query/async/get/${asyncJobId.token}`,\n    accessToken,\n  )\n}\n/**\n *  Run and return results from queryBundleRequest, queryBundle request must be of the\n *  form:\n *     {\n *        concreteType: String,\n *        query: {\n *           sql: String,\n *           partMask: Number\n *        }\n *     }\n * @param {*} queryBundleRequest\n * @param {*} [accessToken=undefined]\n * @returns Full dataset from synapse table query\n */\n\nexport const getFullQueryTableResults = async (\n  queryBundleRequest: QueryBundleRequest,\n  accessToken: string | undefined = undefined,\n  signal?: AbortSignal,\n): Promise<QueryResultBundle> => {\n  // get first page\n  let offset = 0\n  const { query, ...rest } = queryBundleRequest\n  const queryRequest: QueryBundleRequest = {\n    ...rest,\n    query: { ...query, offset: offset },\n    partMask:\n      queryBundleRequest.partMask |\n      SynapseConstants.BUNDLE_MASK_QUERY_MAX_ROWS_PER_PAGE,\n  }\n  const data = await getQueryTableResults(queryRequest, accessToken, signal)\n  // we are done if we return less than a max pagesize that the backend is willing to return.\n  let isDone = data.queryResult!.queryResults.rows.length < data.maxRowsPerPage!\n  offset += data.queryResult!.queryResults.rows.length\n  queryRequest.query.limit = data.maxRowsPerPage // set the limit to the actual max rows per page\n\n  while (!isDone) {\n    queryRequest.query.offset = offset\n    // update the maxPageSize to the largest possible value after the first page is complete.  This is a no-op after the second page.\n\n    const response = await getQueryTableResults(\n      queryRequest,\n      accessToken,\n      signal,\n    )\n    data.queryResult!.queryResults.rows.push(\n      ...response.queryResult!.queryResults.rows, // ... spread operator to push all elements on\n    )\n    isDone =\n      response.queryResult!.queryResults.rows.length < queryRequest.query.limit!\n    offset += response.queryResult!.queryResults.rows.length\n  }\n  return data\n}\n\n/**\n *  Log-in using the given username and password.  Will return a access token that must be used in\n *  authenticated requests.\n *  https://rest-docs.synapse.org/rest/POST/login2.html\n */\nexport async function login(\n  username: string,\n  password: string,\n  authenticationReceipt: string | null,\n  endpoint = BackendDestinationEnum.REPO_ENDPOINT,\n): Promise<LoginResponse | TwoFactorAuthErrorResponse> {\n  return returnIfTwoFactorAuthError(() =>\n    doPost(\n      '/auth/v1/login2',\n      { username, password, authenticationReceipt },\n      undefined,\n      endpoint,\n    ),\n  )\n}\n\n/**\n * Performs authentication using 2FA, the body of the request needs to include the twoFaToken received as part of the\n * error when authenticating and the totp code shown by the authenticator application.\n *\n * https://rest-docs.synapse.org/rest/POST/2fa/token.html\n */\nexport function loginWith2fa(\n  request: TwoFactorAuthLoginRequest,\n  endpoint: BackendDestinationEnum = BackendDestinationEnum.REPO_ENDPOINT,\n): Promise<LoginResponse> {\n  return doPost('/auth/v1/2fa/token', request, undefined, endpoint)\n}\n\n/**\n * Get redirect url\n * https://rest-docs.synapse.org/rest/POST/oauth2/authurl.html\n * @param {*} provider\n * @param {*} redirectUrl\n * @param {*} endpoint\n */\nexport const oAuthUrlRequest = (\n  provider: string,\n  redirectUrl: string,\n  state?: string,\n  endpoint = BackendDestinationEnum.REPO_ENDPOINT,\n) => {\n  return doPost<{ authorizationUrl: string }>(\n    '/auth/v1/oauth2/authurl',\n    { provider, redirectUrl, state },\n    undefined,\n    endpoint,\n  )\n}\n/**\n * Get access token from SSO\n * https://rest-docs.synapse.org/rest/POST/oauth2/session2.html\n * @param {*} provider\n * @param {*} authenticationCode\n * @param {*} redirectUrl\n * @param {*} endpoint\n */\nexport const oAuthSessionRequest = (\n  provider: string,\n  authenticationCode: string | number,\n  redirectUrl: string,\n  endpoint: BackendDestinationEnum = BackendDestinationEnum.REPO_ENDPOINT,\n): Promise<LoginResponse | TwoFactorAuthErrorResponse> => {\n  return returnIfTwoFactorAuthError(() =>\n    doPost(\n      '/auth/v1/oauth2/session2',\n      { provider, authenticationCode, redirectUrl },\n      undefined,\n      endpoint,\n    ),\n  )\n}\n\n/**\n * Fetch the current 2FA status for the user.\n * https://rest-docs.synapse.org/rest/GET/2fa.html\n */\nexport function getCurrentUserTwoFactorEnrollmentStatus(accessToken?: string) {\n  return doGet<TwoFactorAuthStatus>(\n    '/auth/v1/2fa',\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Disable 2FA for the user.\n * https://rest-docs.synapse.org/rest/DELETE/2fa.html\n */\nexport function disableTwoFactorAuthForCurrentUser(accessToken?: string) {\n  return doDelete(\n    '/auth/v1/2fa',\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * https://rest-docs.synapse.org/rest/POST/2fa/enroll.html\n */\nexport function start2FAEnrollment(accessToken?: string) {\n  return doPost<TotpSecret>(\n    '/auth/v1/2fa/enroll',\n    null,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * https://rest-docs.synapse.org/rest/POST/2fa.html\n */\nexport function complete2FAEnrollment(\n  request: TotpSecretActivationRequest,\n  accessToken?: string,\n) {\n  return doPost<TwoFactorAuthStatus>(\n    '/auth/v1/2fa',\n    request,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Generates a new set of single use recovery codes that are associated with the two factor authentication of the user.\n * The recovery codes are single use and can be used to login with 2FA in place of an TOTP. In order to use a recovery\n * code the body of the login request should specify as the otpType RECOVERY_CODE and the otpCode should match one of\n * the generated recovery codes.\n *\n * Note that invoking this endpoint will replace existing recovery codes.\n *\n * https://rest-docs.synapse.org/rest/POST/2fa/recoveryCodes.html\n */\nexport function createRecoveryCodes(accessToken?: string) {\n  return doPost<TwoFactorAuthRecoveryCodes>(\n    '/auth/v1/2fa/recoveryCodes',\n    null,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Create an entity (Project, Folder, File, Table, View)\n * https://rest-docs.synapse.org/rest/POST/entity.html\n */\nexport const createEntity = <T extends Entity>(\n  entity: T,\n  accessToken: string | undefined,\n) => {\n  return doPost<T>(\n    ENTITY,\n    entity,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n/**\n * Create a project with the given name.\n * https://rest-docs.synapse.org/rest/POST/entity.html\n */\nexport const createProject = (\n  name: string,\n  accessToken: string | undefined,\n): Promise<Entity> => {\n  return createEntity(\n    {\n      name,\n      concreteType: 'org.sagebionetworks.repo.model.Project',\n    },\n    accessToken,\n  )\n}\n\n/**\n * Return this user's UserProfile\n * https://rest-docs.synapse.org/rest/GET/userProfile.html\n */\nexport const getUserProfile = (accessToken: string | undefined) => {\n  return doGet<UserProfile>(\n    USER_PROFILE,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Return any user's UserProfile\n * https://rest-docs.synapse.org/rest/GET/userProfile.html\n */\nexport const getUserProfileById = (\n  accessToken: string | undefined,\n  ownerId: string,\n) => {\n  return doGet<UserProfile>(\n    USER_PROFILE_ID(ownerId),\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Return this user's profile bundle\n * https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/UserBundle.html\n */\nexport const getUserBundle = (\n  id: string,\n  mask: number,\n  accessToken: string | undefined,\n): Promise<UserBundle> => {\n  return doGet<UserBundle>(\n    `${USER_ID_BUNDLE(id)}?mask=${mask}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Return the ucurrent user's bundle\n * http://rest-docs.synapse.org/rest/GET/user/bundle.html\n */\nexport const getMyUserBundle = (\n  mask: number,\n  accessToken: string | undefined,\n): Promise<UserBundle> => {\n  return doGet<UserBundle>(\n    `${USER_BUNDLE}?mask=${mask}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Update your own profile\n * @param profile\n * @param accessToken\n * @returns\n */\nexport const updateMyUserProfile = (\n  profile: UserProfile,\n  accessToken: string | undefined = undefined,\n): Promise<UserProfile> => {\n  const url = '/repo/v1/userProfile'\n  return doPut<UserProfile>(\n    url,\n    profile,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get Users and Groups that match the given prefix.\n * http://rest-docs.synapse.org/rest/GET/userGroupHeaders.html\n */\nexport const getUserGroupHeaders = (\n  prefix: string = '',\n  typeFilter: TYPE_FILTER = TYPE_FILTER.ALL,\n  offset: number = 0,\n  limit: number = 20,\n): Promise<UserGroupHeaderResponsePage> => {\n  return doGet<UserGroupHeaderResponsePage>(\n    USER_GROUP_HEADERS +\n      `?prefix=${prefix}&typeFilter=${typeFilter}&offset=${offset}&limit=${limit}`,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get Users and Groups that match the given list of aliases.\n * https://repo-prod.prod.sagebase.org/repo/v1/userGroupHeaders/aliases\n */\nexport const postUserGroupHeadersWithAlias = (aliases: string[]) => {\n  return doPost<UserGroupHeaderResponse>(\n    `${USER_GROUP_HEADERS}/aliases`,\n    { list: aliases },\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Return batch of user group headers\n * https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/UserGroupHeaderResponsePage.html\n */\nexport const getGroupHeadersBatch = (\n  ids: string[],\n  accessToken?: string,\n): Promise<UserGroupHeaderResponsePage> => {\n  return doGet<UserGroupHeaderResponsePage>(\n    USER_GROUP_HEADERS_BATCH + `?ids=${ids.join(',')}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Return a batch of Evaluation queues\n * https://rest-docs.synapse.org/rest/GET/evaluation.html\n */\nexport const getEvaluations = (\n  evalIds: string[],\n  accessToken: string | undefined,\n): Promise<PaginatedResults<Evaluation>> => {\n  return doGet<PaginatedResults<Evaluation>>(\n    EVALUATIONS_BY_ID(evalIds),\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\nexport type UserProfileList = { list: UserProfile[] }\n/**\n * Return the User Profiles for the given list of user IDs\n * https://rest-docs.synapse.org/rest/POST/userProfile.html\n */\nexport const getUserProfiles = (\n  list: string[],\n  accessToken: string | undefined = undefined,\n): Promise<UserProfileList> => {\n  return doPost(\n    USER_PROFILE,\n    { list },\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Return the children (Files/Folders) of the given entity (Project or Folder).\n * https://rest-docs.synapse.org/rest/POST/entity/children.html\n */\nexport const getEntityChildren = (\n  request: EntityChildrenRequest,\n  accessToken: string | undefined = undefined,\n  signal?: AbortSignal,\n) => {\n  return doPost<EntityChildrenResponse>(\n    '/repo/v1/entity/children',\n    request,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n    { signal },\n  )\n}\n/**\n * Retrieve an entityId for a given parent ID and entity name.\n * https://rest-docs.synapse.org/rest/POST/entity/child.html\n */\nexport const lookupChildEntity = (\n  request: EntityLookupRequest,\n  accessToken: string | undefined = undefined,\n) => {\n  return doPost<EntityId>(\n    '/repo/v1/entity/child',\n    request,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get a batch of pre-signed URLs and/or FileHandles for the given list of FileHandleAssociations.\n * https://rest-docs.synapse.org/rest/POST/fileHandle/batch.html\n */\nexport const getFiles = (\n  request: BatchFileRequest,\n  accessToken: string | undefined = undefined,\n): Promise<BatchFileResult> => {\n  return doPost(\n    FILE_HANDLE_BATCH,\n    request,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get a batch of pre-signed URLs and/or FileHandles for the given list of FileHandleAssociations.\n * https://rest-docs.synapse.org/rest/POST/fileHandle/batch.html\n */\nexport const getBulkFiles = async (\n  bulkFileDownloadRequest: BulkFileDownloadRequest,\n  accessToken: string | undefined = undefined,\n): Promise<BulkFileDownloadResponse> => {\n  const asyncJobId = await doPost<AsyncJobId>(\n    '/file/v1/file/bulk/async/start',\n    bulkFileDownloadRequest,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n  return getAsyncResultBodyFromJobId(\n    asyncJobId.token,\n    `/file/v1/file/bulk/async/get/${asyncJobId.token}`,\n    accessToken,\n  )\n}\n/**\n * Bundled access to Entity and related data components.\n * An EntityBundle can be used to create, fetch, or update an Entity and associated\n * objects with a single web service request.\n * See SynapseClient.test.js for an example partsMask.\n * https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/Entity.html\n */\n\nexport const getEntity = <T extends Entity>(\n  accessToken: string | undefined = undefined,\n  entityId: string,\n  versionNumber?: string | number,\n) => {\n  if (entityId.indexOf('.') > -1) {\n    // PORTALS-1943: we were given an entity Id with a version!\n    const entityTokens = entityId.split('.')\n    entityId = entityTokens[0]\n    versionNumber = entityTokens[1]\n  }\n  const url = versionNumber\n    ? `/repo/v1/entity/${entityId}/version/${versionNumber}`\n    : `/repo/v1/entity/${entityId}`\n  return doGet<T>(url, accessToken, BackendDestinationEnum.REPO_ENDPOINT)\n}\n\nexport const getEntityHeadersByIds = (\n  entityIds: string[],\n  accessToken?: string,\n) => {\n  return getEntityHeaders(\n    entityIds.map(id => ({ targetId: id })),\n    accessToken,\n  )\n}\n\n/**\n * Get the EntityHeader for a list of references with a POST.\n * If any item in the batch fails (e.g., with a 404) it will be EXCLUDED in the result set.\n * https://rest-docs.synapse.org/rest/POST/entity/header.html\n */\nexport const getEntityHeaders = (\n  references: ReferenceList,\n  accessToken?: string,\n) => {\n  // if references contains entity IDs with dot notation, fix the reference object\n  const fixedReferences = references.map(reference => {\n    if (reference.targetId.indexOf('.') > -1) {\n      const entityTokens = reference.targetId.split('.')\n      return {\n        targetId: entityTokens[0],\n        version: entityTokens[1],\n      }\n    } else return reference\n  })\n\n  return doPost<PaginatedResults<EntityHeader>>(\n    ENTITY_HEADERS,\n    { references: fixedReferences },\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get the EntityHeader for a single entity\n * https://rest-docs.synapse.org/rest/GET/entity/id/type.html\n */\nexport const getEntityHeader = (entityId: string, accessToken?: string) => {\n  return doGet<EntityHeader>(\n    ENTITY_HEADER_BY_ID(entityId),\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\nexport const updateEntity = <T extends Entity>(\n  entity: T,\n  accessToken: string | undefined = undefined,\n): Promise<T> => {\n  const url = `/repo/v1/entity/${entity.id}`\n  return doPut<T>(\n    url,\n    entity,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\nexport const deleteEntity = (\n  accessToken: string | undefined = undefined,\n  entityId: string | number,\n) => {\n  return doDelete(\n    ENTITY_ID(entityId),\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\nexport const getEntityBundleV2 = <T extends EntityBundleRequest>(\n  entityId: string | number,\n  requestObject: T,\n  version?: number,\n  accessToken?: string,\n): Promise<EntityBundle<T>> => {\n  return doPost<EntityBundle<T>>(\n    ENTITY_BUNDLE_V2(entityId, version),\n    requestObject,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get a corresponding string value of ObjectType:\n **/\nfunction getObjectTypeToString(key: ObjectType) {\n  return ObjectType[key]\n}\n\n/**\n * Get Wiki page contents, call is of the form:\n * https://rest-docs.synapse.org/rest/GET/entity/ownerId/wiki.html\n */\nexport const getEntityWiki = (\n  accessToken: string | undefined,\n  ownerId: string | undefined,\n  wikiId: string | undefined = '',\n  objectType: ObjectType = ObjectType.ENTITY,\n) => {\n  const objectTypeString = getObjectTypeToString(objectType)\n\n  const url = `/repo/v1/${objectTypeString?.toLocaleLowerCase()}/${ownerId}/wiki/${wikiId}`\n  return doGet<WikiPage>(url, accessToken, BackendDestinationEnum.REPO_ENDPOINT)\n}\n\n/**\n * Returns synapse user favorites list given their access token\n * https://rest-docs.synapse.org/rest/GET/favorite.html\n */\nexport function getUserFavorites(\n  accessToken: string | undefined,\n  offset: number = 0,\n  limit: number = 200,\n  sort: FavoriteSortBy = 'NAME',\n  sortDirection: FavoriteSortDirection = 'ASC',\n) {\n  const params = new URLSearchParams()\n  params.set('offset', offset.toString())\n  params.set('limit', limit.toString())\n  params.set('sort', sort)\n  params.set('sortDirection', sortDirection)\n\n  const url = `${FAVORITES}?${params.toString()}`\n  return doGet<PaginatedResults<EntityHeader>>(\n    url,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Add an Entity as a Favorite of the caller.\n * http://rest-docs.synapse.org/rest/POST/favorite/id.html\n */\nexport function addUserFavorite(\n  entityId: string,\n  accessToken: string | undefined,\n): Promise<EntityHeader> {\n  return doPost(\n    `${FAVORITES}/${entityId}`,\n    null,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Remove a favorite\n * http://rest-docs.synapse.org/rest/DELETE/favorite/id.html\n */\nexport const removeUserFavorite = (\n  entityId: string,\n  accessToken: string | undefined,\n): Promise<void> => {\n  return doDelete(\n    `${FAVORITES}/${entityId}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get a list of challenges for which the given user is registered.\n * see http://rest-docs.synapse.org/rest/GET/challenge.html\n */\nexport const getUserChallenges = (\n  accessToken: string | undefined,\n  userId: string | number,\n  offset: string | number = 0,\n  limit: string | number = 200,\n): Promise<ChallengePagedResults> => {\n  const url = `/repo/v1/challenge?participantId=${userId}&offset=${offset}&limit=${limit}`\n  return doGet(url, accessToken, BackendDestinationEnum.REPO_ENDPOINT)\n}\n\n/**\n * Get the user's list of teams they are on\n *\n * @param {*} id ownerID of the synapse user see - https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/UserProfile.html\n */\nexport const getUserTeamList = (\n  accessToken: string | undefined,\n  userId: string | number,\n  offset: string | number = 0,\n  limit: string | number = 200,\n): Promise<PaginatedResults<Team>> => {\n  const url = `/repo/v1/user/${userId}/team?offset=${offset}&limit=${limit}`\n  return doGet(url, accessToken, BackendDestinationEnum.REPO_ENDPOINT)\n}\n\n/**\n * Get a list of members for a team\n *\n * @param {*} id ownerID of the synapse user see -https://rest-docs.synapse.org/rest/GET/teamMembers/id.html\n * @param {*} fragment (optional) a prefix of the user's first or last name or email address (optional)\n * @param {*} limit    (optional) the maximum number of members to return (default 10, max limit 50)\n * @param {*} offset   (optional) the starting index of the returned results (default 0)\n *\n */\nexport const getTeamMembers = (\n  accessToken: string | undefined,\n  teamId: string | number,\n  fragment: string = '',\n  limit: number = 10,\n  offset: number = 0,\n): Promise<PaginatedResults<TeamMember>> => {\n  const url = `${TEAM_MEMBERS(teamId)}?limit=${limit}&offset=${offset}${\n    fragment ? `&fragment=${fragment}` : ''\n  }`\n  return doGet(url, accessToken, BackendDestinationEnum.REPO_ENDPOINT)\n}\n\n/**\n * Add a member to the Team\n * https://rest-docs.synapse.org/rest/PUT/teamMember.html\n */\nexport const addTeamMemberWithToken = (\n  joinTeamSignedToken: JoinTeamSignedToken,\n): Promise<ResponseMessage> => {\n  return doPut<ResponseMessage>(\n    TEAM_MEMBER,\n    joinTeamSignedToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Add member to the Team\n * https://rest-docs.synapse.org/rest/PUT/team/id/member/principalId.html\n */\nexport const addTeamMemberAsAuthenticatedUserOrAdmin = (\n  teamId: string,\n  memberId: string,\n  accessToken: string,\n) => {\n  return doPut(\n    TEAM_ID_MEMBER_ID_WITH_NOTIFICATION(teamId, memberId),\n    undefined,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// https://rest-docs.synapse.org/rest/POST/membershipInvitation/id.html\nexport const getMembershipInvitation = (\n  membershipInvitationSignedToken: MembershipInvtnSignedToken,\n): Promise<MembershipInvitation> => {\n  return doPost(\n    MEMBERSHIP_INVITATION(\n      membershipInvitationSignedToken.membershipInvitationId,\n    ),\n    membershipInvitationSignedToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// https://rest-docs.synapse.org/rest/GET/membershipInvitation/id/inviteeVerificationSignedToken.html\nexport const getInviteeVerificationSignedToken = (\n  membershipInvitationId: string,\n  accessToken: string,\n): Promise<InviteeVerificationSignedToken> => {\n  return doGet(\n    INVITEE_VERIFICATION_SIGNED_TOKEN(membershipInvitationId),\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// https://rest-docs.synapse.org/rest/PUT/membershipInvitation/id/inviteeId.html\nexport const bindInvitationToAuthenticatedUser = (\n  inviteeVerificationSignedToken: InviteeVerificationSignedToken,\n  membershipInvitationId: string,\n  accessToken: string,\n) => {\n  return doPut(\n    BIND_INVITATION_TO_AUTHENTICATED_USER(membershipInvitationId),\n    inviteeVerificationSignedToken,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Checks if a user is a member of a specific team.\n *\n * @returns a TeamMember if the user is a member of the team, or null if the user is not.\n */\nexport const getIsUserMemberOfTeam = (\n  teamId: string,\n  userId: string,\n  accessToken?: string,\n): Promise<TeamMember | null> => {\n  const url = TEAM_ID_MEMBER_ID(teamId, userId)\n  return allowNotFoundError(() =>\n    doGet<TeamMember>(url, accessToken, BackendDestinationEnum.REPO_ENDPOINT),\n  )\n}\n\n/**\n * https://rest-docs.synapse.org/rest/GET/entity/ownerId/wikikey.html\n * Get the root WikiPageKey for an Entity.\n * Note: The caller must be granted the ACCESS_TYPE.READ permission on the owner.\n * @return WikiPageKey\n **/\nexport const getWikiPageKeyForEntity = (\n  accessToken: string | undefined,\n  ownerId: string | number,\n): Promise<WikiPageKey> => {\n  const url = `/repo/v1/entity/${ownerId}/wikikey`\n  return doGet<WikiPageKey>(\n    url,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * https://rest-docs.synapse.org/rest/GET/access_requirement/ownerId/wikikey.html\n * Get the root WikiPageKey for an Access Requirement.\n * Note: The caller must be granted the ACCESS_TYPE.READ permission on the owner.\n * @return WikiPageKey\n **/\nexport const getWikiPageKeyForAccessRequirement = (\n  accessToken: string | undefined,\n  ownerId: string | number,\n): Promise<WikiPageKey> => {\n  const url = ACCESS_REQUIREMENT_WIKI_PAGE_KEY(ownerId)\n  return doGet<WikiPageKey>(\n    url,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\nexport const getWikiAttachmentsFromEntity = (\n  accessToken: string | undefined,\n  id: string | number,\n  wikiId: string | number,\n  objectType: ObjectType = ObjectType.ENTITY,\n): Promise<FileHandleResults> => {\n  const objectTypeString = getObjectTypeToString(objectType)\n  const url = `/repo/v1/${objectTypeString.toLocaleLowerCase()}/${id}/wiki2/${wikiId}/attachmenthandles`\n  return doGet(url, accessToken, BackendDestinationEnum.REPO_ENDPOINT)\n}\nexport const getWikiAttachmentsFromEvaluation = (\n  accessToken: string | undefined,\n  id: string | number,\n  wikiId: string | number,\n) => {\n  const url = `/repo/v1/evaluation/${id}/wiki/${wikiId}/attachmenthandles`\n  return doGet(url, accessToken, BackendDestinationEnum.REPO_ENDPOINT)\n}\n\nexport const getPresignedUrlForWikiAttachment = (\n  accessToken: string | undefined,\n  id: string | number,\n  wikiId: string | number,\n  fileName: string,\n  objectType: ObjectType = ObjectType.ENTITY,\n): Promise<string> => {\n  const objectTypeString = getObjectTypeToString(objectType)\n  const url = `/repo/v1/${objectTypeString.toLocaleLowerCase()}/${id}/wiki2/${wikiId}/attachment?fileName=${fileName}&redirect=false`\n  return doGet(url, accessToken, BackendDestinationEnum.REPO_ENDPOINT)\n}\n\nexport const isInSynapseExperimentalMode = (): boolean => {\n  // bang bang, you're a boolean!\n  return !!cookies.get(SynapseConstants.EXPERIMENTAL_MODE_COOKIE)\n}\n\n/**\n * Set the access token cookie.  Note that this will only succeed if your app is running on\n * a .synapse.org subdomain.\n *\n * @param {*} token Access token.  If undefined, then call should instruct the browser to delete the cookie.\n */\nexport const setAccessTokenCookie = async (\n  token: string | undefined,\n): Promise<void> => {\n  if (IS_OUTSIDE_SYNAPSE_ORG) {\n    if (!token) {\n      cookies.remove(ACCESS_TOKEN_COOKIE_KEY, { path: '/' })\n      // See - https://github.com/reactivestack/cookies/issues/189\n      await delay(100)\n    } else {\n      // sets cookie\n      cookies.set(ACCESS_TOKEN_COOKIE_KEY, token, {\n        // expires in 10 days (see SWC-6190)\n        maxAge: 60 * 60 * 24 * 10,\n        path: '/',\n      })\n    }\n  } else {\n    // will set cookie in the http header\n    return doPost(\n      'Portal/sessioncookie',\n      { sessionToken: token },\n      undefined,\n      BackendDestinationEnum.PORTAL_ENDPOINT,\n      { credentials: 'include' },\n    )\n  }\n}\n/**\n * Get the current access token from a cookie.  Note that this will only succeed if your app is running on\n * a .synapse.org subdomain.\n */\nexport const getAccessTokenFromCookie = async (): Promise<string> => {\n  if (IS_OUTSIDE_SYNAPSE_ORG) {\n    return Promise.resolve(cookies.get(ACCESS_TOKEN_COOKIE_KEY) as string)\n  }\n  return doGet<string>(\n    'Portal/sessioncookie?validate=true',\n    undefined,\n    BackendDestinationEnum.PORTAL_ENDPOINT,\n    { credentials: 'include' },\n  )\n}\n\nexport const getUseUtcTimeFromCookie = () => {\n  return cookies.get(DATETIME_UTC_COOKIE_KEY) === 'true'\n}\n\nexport const getPrincipalAliasRequest = (\n  accessToken: string | undefined,\n  request: PrincipalAliasRequest,\n): Promise<PrincipalAliasResponse> => {\n  const url = '/repo/v1/principal/alias'\n  return doPost(url, request, accessToken, BackendDestinationEnum.REPO_ENDPOINT)\n}\n\nexport const signOut = async () => {\n  await setAccessTokenCookie(undefined)\n}\n\n/**\n * Upload file.  Note that this currently only supports Synapse storage (Sage s3 bucket)\n * @param accessToken\n * @param file\n * @param endpoint\n */\nexport const uploadFile = (\n  accessToken: string | undefined,\n  filename: string,\n  file: Blob,\n) => {\n  return new Promise<FileUploadComplete>(\n    (fileUploadResolve, fileUploadReject) => {\n      const partSize: number = Math.max(5242880, file.size / 10000)\n      const request: MultipartUploadRequest = {\n        contentType: file.type,\n        fileName: filename,\n        fileSizeBytes: file.size,\n        partSizeBytes: partSize,\n        storageLocationId: SYNAPSE_STORAGE_LOCATION_ID,\n      }\n      calculateMd5(file).then((md5: string) => {\n        request.contentMD5Hex = md5\n        startMultipartUpload(\n          accessToken,\n          filename,\n          file,\n          request,\n          fileUploadResolve,\n          fileUploadReject,\n        )\n      })\n    },\n  )\n}\n\nconst calculateMd5 = (fileBlob: File | Blob): Promise<string> => {\n  // code taken from md5 example from library\n  return new Promise((resolve, reject) => {\n    const blobSlice = File.prototype.slice,\n      file = fileBlob,\n      chunkSize = 2097152, // Read in chunks of 2MB\n      chunks = Math.ceil(file.size / chunkSize),\n      spark = new SparkMD5.ArrayBuffer(),\n      fileReader = new FileReader()\n    let currentChunk = 0\n\n    fileReader.onload = function (e) {\n      console.log('read chunk nr', currentChunk + 1, 'of', chunks)\n      spark.append(fileReader.result as ArrayBuffer) // Append array buffer\n      currentChunk++\n\n      if (currentChunk < chunks) {\n        loadNext()\n      } else {\n        console.log('finished loading')\n        const md5: string = spark.end()\n        console.info('computed hash', md5) // Compute hash\n        resolve(md5)\n      }\n    }\n\n    fileReader.onerror = function () {\n      console.warn('oops, something went wrong.')\n      reject(fileReader.error)\n    }\n\n    const loadNext = () => {\n      const start = currentChunk * chunkSize,\n        end = start + chunkSize >= file.size ? file.size : start + chunkSize\n\n      fileReader.readAsArrayBuffer(blobSlice.call(file, start, end))\n    }\n    loadNext()\n  })\n}\n\nconst processFilePart = (\n  partNumber: number,\n  multipartUploadStatus: MultipartUploadStatus,\n  accessToken: string | undefined,\n  fileName: string,\n  file: Blob,\n  request: MultipartUploadRequest,\n  fileUploadResolve: (fileUpload: FileUploadComplete) => void,\n  fileUploadReject: (reason: any) => void,\n) => {\n  if (multipartUploadStatus.clientSidePartsState![partNumber - 1]) {\n    // no-op. this part has already been processed!\n    return\n  }\n\n  const uploadId = multipartUploadStatus.uploadId\n  const presignedUploadUrlRequest: BatchPresignedUploadUrlRequest = {\n    uploadId,\n    contentType: 'application/octet-stream', // each part is binary\n    partNumbers: [partNumber],\n  }\n  const presignedUrlUrl = `/file/v1/file/multipart/${uploadId}/presigned/url/batch`\n  doPost<BatchPresignedUploadUrlResponse>(\n    presignedUrlUrl,\n    presignedUploadUrlRequest,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  ).then(async (presignedUrlResponse: BatchPresignedUploadUrlResponse) => {\n    const presignedUrl =\n      presignedUrlResponse.partPresignedUrls[0].uploadPresignedUrl\n    // calculate the byte range\n    const startByte = (partNumber - 1) * request.partSizeBytes\n    let endByte = partNumber * request.partSizeBytes - 1\n    if (endByte >= request.fileSizeBytes) {\n      endByte = request.fileSizeBytes - 1\n    }\n    const fileSlice = file.slice(\n      startByte,\n      endByte + 1,\n      presignedUploadUrlRequest.contentType,\n    )\n    await uploadFilePart(\n      presignedUrl,\n      fileSlice,\n      presignedUploadUrlRequest.contentType,\n    )\n    // uploaded the part.  calculate md5 of the part and add the part to the upload\n    calculateMd5(fileSlice).then((md5: string) => {\n      const addPartUrl = `/file/v1/file/multipart/${uploadId}/add/${partNumber}?partMD5Hex=${md5}`\n      doPut<AddPartResponse>(\n        addPartUrl,\n        undefined,\n        accessToken,\n        BackendDestinationEnum.REPO_ENDPOINT,\n      ).then((addPartResponse: AddPartResponse) => {\n        if (addPartResponse.addPartState === 'ADD_SUCCESS') {\n          // done with this part!\n          multipartUploadStatus.clientSidePartsState![partNumber - 1] = true\n          checkUploadComplete(\n            multipartUploadStatus,\n            fileName,\n            accessToken,\n            fileUploadResolve,\n            fileUploadReject,\n          )\n        } else {\n          // retry after a brief delay\n          delay(1000).then(() => {\n            processFilePart(\n              partNumber,\n              multipartUploadStatus,\n              accessToken,\n              fileName,\n              file,\n              request,\n              fileUploadResolve,\n              fileUploadReject,\n            )\n          })\n        }\n      })\n    })\n  })\n}\nexport const checkUploadComplete = (\n  status: MultipartUploadStatus,\n  fileHandleName: string,\n  accessToken: string | undefined,\n  fileUploadResolve: (fileUpload: FileUploadComplete) => void,\n  fileUploadReject: (reason: any) => void,\n) => {\n  // if all client-side parts are true (uploaded), then complete the upload and get the file handle!\n  if (\n    status.clientSidePartsState!.every(v => {\n      return v\n    })\n  ) {\n    const url = `/file/v1/file/multipart/${status.uploadId}/complete`\n    doPut<MultipartUploadStatus>(\n      url,\n      undefined,\n      accessToken,\n      BackendDestinationEnum.REPO_ENDPOINT,\n    )\n      .then((newStatus: MultipartUploadStatus) => {\n        // success!\n        fileUploadResolve({\n          fileHandleId: newStatus.resultFileHandleId,\n          fileName: fileHandleName,\n        })\n      })\n      .catch(error => {\n        fileUploadReject(error)\n      })\n  }\n}\nconst uploadFilePart = async (\n  presignedUrl: string,\n  file: Blob,\n  contentType: string,\n) => {\n  // TODO: could try using axios to get upload progress, then update the client-side part state (change to numbers from 0-1)\n  // This would give progress for the single file (across all parts).\n  // The parent would still need to figure out progress (for the total file set).\n  await fetch(presignedUrl, {\n    method: 'PUT',\n    headers: {\n      'Content-Type': contentType,\n    },\n    body: file,\n  })\n}\nexport const startMultipartUpload = (\n  accessToken: string | undefined,\n  fileName: string,\n  file: Blob,\n  request: MultipartUploadRequest,\n  fileUploadResolve: (fileUpload: FileUploadComplete) => void,\n  fileUploadReject: (reason: any) => void,\n) => {\n  const url = '/file/v1/file/multipart'\n  doPost<MultipartUploadStatus>(\n    url,\n    request,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n    .then((status: MultipartUploadStatus) => {\n      // started the upload\n      // keep track of the part state client-side\n      const clientSidePartsState: boolean[] = status.partsState\n        .split('')\n        .map(bit => bit === '1')\n      status.clientSidePartsState = clientSidePartsState\n      for (let i = 0; i < clientSidePartsState.length; i = i + 1) {\n        if (!clientSidePartsState[i]) {\n          // upload this part.  note that partNumber is always the index+1\n          processFilePart(\n            i + 1,\n            status,\n            accessToken,\n            fileName,\n            file,\n            request,\n            fileUploadResolve,\n            fileUploadReject,\n          )\n        }\n      }\n      // in case there is no upload work to do!\n      checkUploadComplete(\n        status,\n        fileName,\n        accessToken,\n        fileUploadResolve,\n        fileUploadReject,\n      )\n    })\n    .catch(error => {\n      fileUploadReject(error)\n    })\n}\n\nexport const getFileHandleContentFromID = (\n  fileHandleId: string,\n  accessToken: string,\n): Promise<string> => {\n  // get the presigned URL, download the data, and send that back (via resolve())\n  return new Promise((resolve, reject) => {\n    // get the file handle and url\n    const getFileHandleByIdPromise = getFileHandleById(\n      fileHandleId,\n      accessToken,\n    )\n    const getFileHandlePresignedUrlPromis = getFileHandleByIdURL(\n      fileHandleId,\n      accessToken,\n    )\n    Promise.all([getFileHandleByIdPromise, getFileHandlePresignedUrlPromis])\n      .then(values => {\n        const fileHandle: FileHandle = values[0]\n        const presignedUrl: string = values[1]\n        return getFileHandleContent(fileHandle, presignedUrl).then(\n          (content: string) => {\n            resolve(content)\n          },\n        )\n      })\n      .catch(err => {\n        reject(err)\n      })\n  })\n}\n\nexport const getFileHandleContent = (\n  fileHandle: FileHandle,\n  presignedUrl: string,\n  maxFileSizeBytes: number = MAX_JS_FILE_DOWNLOAD_SIZE,\n): Promise<string> => {\n  // get the presigned URL, download the data, and send that back (via resolve())\n  return new Promise((resolve, reject) => {\n    // sanity check!  must be less than 5MB (unless overridden)\n    if (fileHandle.contentSize < maxFileSizeBytes) {\n      fetch(presignedUrl, {\n        method: 'GET',\n        mode: 'cors',\n        cache: 'no-cache',\n        headers: {\n          'Content-Type': fileHandle.contentType,\n        },\n      }).then(response => {\n        // the response is always decoded using UTF-8\n        response.text().then(text => {\n          resolve(text)\n        })\n      })\n    } else {\n      reject(\n        `File size (${calculateFriendlyFileSize(\n          fileHandle.contentSize,\n        )}) exceeds the maximum size that can be downloaded (${calculateFriendlyFileSize(\n          maxFileSizeBytes,\n        )})`,\n      )\n    }\n  })\n}\n\n/**\n * Return the FileHandle of the file associated to the given FileEntity.\n * * @param fileEntity: FileEntity\n * @param accessToken\n * @param endpoint\n */\nexport const getFileResult = (\n  fileEntity: FileEntity,\n  accessToken?: string,\n  includeFileHandles?: boolean,\n  includePreSignedURLs?: boolean,\n  includePreviewPreSignedURLs?: boolean,\n): Promise<FileResult> => {\n  return new Promise((resolve, reject) => {\n    const fileHandleAssociationList: FileHandleAssociation[] = [\n      {\n        associateObjectId: fileEntity.id!,\n        associateObjectType: FileHandleAssociateType.FileEntity,\n        fileHandleId: fileEntity.dataFileHandleId,\n      },\n    ]\n    const request: BatchFileRequest = {\n      includeFileHandles: includeFileHandles || false,\n      includePreSignedURLs: includePreSignedURLs || false,\n      includePreviewPreSignedURLs: includePreviewPreSignedURLs || false,\n      requestedFiles: fileHandleAssociationList,\n    }\n    getFiles(request, accessToken)\n      .then((data: BatchFileResult) => {\n        if (\n          data.requestedFiles.length &&\n          data.requestedFiles[0].fileHandleId !== undefined\n        ) {\n          resolve(data.requestedFiles[0])\n        } else {\n          reject(data.requestedFiles[0].failureCode)\n        }\n      })\n      .catch(err => {\n        reject(err)\n      })\n  })\n}\n\n/**\n * Add a file to the user's download list.\n * Uses http://rest-docs.synapse.org/rest/POST/download/list/add.html\n * @param fileEntityId\n * @param versionNumber\n */\nexport const addFileToDownloadListV2 = (\n  fileEntityId: string,\n  versionNumber?: number,\n  accessToken?: string,\n): Promise<AddBatchOfFilesToDownloadListResponse> => {\n  const request: AddBatchOfFilesToDownloadListRequest = {\n    batchToAdd: [{ fileEntityId, versionNumber }],\n  }\n  return doPost(\n    '/repo/v1/download/list/add',\n    request,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * http://rest-docs.synapse.org/rest/POST/download/list/package/async/start.html\n */\nexport const createPackageFromDownloadListV2 = async (\n  zipFileName?: string,\n  accessToken?: string,\n): Promise<DownloadListPackageResponse> => {\n  const request: DownloadListPackageRequest = {\n    zipFileName,\n    includeManifest: true,\n    concreteType:\n      'org.sagebionetworks.repo.model.download.DownloadListPackageRequest',\n  }\n  const asyncJobId = await doPost<AsyncJobId>(\n    `/repo/v1/download/list/package/async/start`,\n    request,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n  return getAsyncResultBodyFromJobId(\n    asyncJobId.token,\n    `/repo/v1/download/list/package/async/get/${asyncJobId.token}`,\n    accessToken,\n  )\n}\n\n/**\n * http://rest-docs.synapse.org/rest/POST/download/list/package/async/start.html\n */\nexport const createManifestFromDownloadListV2 = async (\n  accessToken: string | undefined = undefined,\n) => {\n  const request: DownloadListManifestRequest = {\n    csvTableDescriptor: {},\n    concreteType:\n      'org.sagebionetworks.repo.model.download.DownloadListManifestRequest',\n  }\n  const asyncJobId = await doPost<AsyncJobId>(\n    `/repo/v1/download/list/manifest/async/start`,\n    request,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n  return getAsyncResultBodyFromJobId(\n    asyncJobId.token,\n    `/repo/v1/download/list/manifest/async/get/${asyncJobId.token}`,\n    accessToken,\n  )\n}\n\n/**\n * http://rest-docs.synapse.org/rest/POST/download/list/add/async/start.html\n * Start an asynchronous job to add files to a user's download list from either a view query or a folder. Use GET /download/list/add/async/get/{asyncToken} to get both the job status and job results.\n */\nexport const addFilesToDownloadListV2 = async (\n  request: AddToDownloadListRequest,\n  accessToken: string | undefined = undefined,\n): Promise<AddToDownloadListResponse> => {\n  const asyncJobId = await doPost<AsyncJobId>(\n    '/repo/v1/download/list/add/async/start',\n    request,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n  return getAsyncResultBodyFromJobId(\n    asyncJobId.token,\n    `/repo/v1/download/list/add/async/get/${asyncJobId.token}`,\n    accessToken,\n  )\n}\n\n/**\n * Create an ACL\n * https://rest-docs.synapse.org/rest/POST/entity/id/acl.html\n */\nexport const createACL = (\n  entityId: string,\n  acl: AccessControlList,\n  accessToken: string | undefined,\n) => {\n  return doPost(\n    `/repo/v1/entity/${entityId}/acl`,\n    acl,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Submit an entity to an evaluation queue\n * https://rest-docs.synapse.org/rest/POST/evaluation/submission.html\n */\nexport const submitToEvaluation = (\n  submission: EvaluationSubmission,\n  etag: string,\n  accessToken: string | undefined,\n) => {\n  return doPost(\n    `/repo/v1/evaluation/submission?etag=${etag}`,\n    submission,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\nexport const getEvaluationPermissions = (\n  evalId: string,\n  accessToken: string | undefined,\n) => {\n  return doGet<UserEvaluationPermissions>(\n    `/repo/v1/evaluation/${evalId}/permissions`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get an evaluation queue\n * https://rest-docs.synapse.org/rest/GET/evaluation/evalId.html\n */\nexport const getEvaluation = (\n  evalId: string,\n  accessToken: string | undefined,\n): Promise<Evaluation> => {\n  if (!evalId) {\n    // we must explicitly handle this because /repo/v1/evaluation\n    // without an evalId is a valid API that returns a different API response\n    return Promise.reject(new Error('evalId is empty'))\n  }\n  return doGet<Evaluation>(\n    EVALUATION_BY_ID(evalId),\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Update an existing evaluation queue\n * https://rest-docs.synapse.org/rest/PUT/evaluation/evalId.html\n */\nexport const updateEvaluation = (\n  evaluation: Evaluation,\n  accessToken: string | undefined,\n): Promise<Evaluation> => {\n  if (!evaluation.id) {\n    // we must explicitly handle this because /repo/v1/evaluation\n    // without an evalId is a valid API that returns a different API response\n    return Promise.reject(new Error('evaluation does not have an ID'))\n  }\n  return doPut<Evaluation>(\n    EVALUATION_BY_ID(evaluation.id),\n    evaluation,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Create an evaluation queue\n * https://rest-docs.synapse.org/rest/POST/evaluation.html\n */\nexport const createEvaluation = (\n  evaluation: Evaluation,\n  accessToken: string | undefined,\n): Promise<Evaluation> => {\n  return doPost<Evaluation>(\n    EVALUATION,\n    evaluation,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Delete an existing evaluation queue\n * https://rest-docs.synapse.org/rest/PUT/evaluation/evalId.html\n */\nexport const deleteEvaluation = (\n  evalId: string,\n  accessToken: string | undefined,\n): Promise<void> => {\n  return doDelete(\n    `/repo/v1/evaluation/${evalId}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get an evaluation round\n * https://rest-docs.synapse.org/rest/GET/evaluation/evalId/round/evalRoundId.html\n */\nexport const getEvaluationRound = (\n  evalId: string,\n  evalRoundId: string,\n  accessToken: string | undefined,\n): Promise<EvaluationRound> => {\n  return doGet(\n    `/repo/v1/evaluation/${evalId}/round/${evalRoundId}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get all evaluation rounds\n * https://rest-docs.synapse.org/rest/GET/evaluation/evalId/round/list.html\n */\nexport const getEvaluationRoundsList = (\n  evalId: string,\n  evaluationRoundListRequest: EvaluationRoundListRequest | undefined,\n  accessToken: string | undefined,\n): Promise<EvaluationRoundListResponse> => {\n  return doPost(\n    `/repo/v1/evaluation/${evalId}/round/list`,\n    evaluationRoundListRequest ?? {},\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Create an evaluation round\n * https://rest-docs.synapse.org/rest/POST/evaluation/evalId/round/evalRoundId.html\n */\nexport const createEvaluationRound = (\n  evaluationRound: EvaluationRound,\n  accessToken: string | undefined,\n): Promise<EvaluationRound> => {\n  return doPost(\n    `/repo/v1/evaluation/${evaluationRound.evaluationId}/round`,\n    evaluationRound,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Update an evaluation round\n * https://rest-docs.synapse.org/rest/PUT/evaluation/evalId/round/evalRoundId.html\n */\nexport const updateEvaluationRound = (\n  evaluationRound: EvaluationRound,\n  accessToken: string | undefined,\n): Promise<EvaluationRound> => {\n  return doPut(\n    `/repo/v1/evaluation/${evaluationRound.evaluationId}/round/${evaluationRound.id}`,\n    evaluationRound,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Delete an evaluation round\n * https://rest-docs.synapse.org/rest/DELETE/evaluation/evalId/round/evalRoundId.html\n */\nexport const deleteEvaluationRound = (\n  evalId: string,\n  evalRoundId: string,\n  accessToken: string | undefined,\n) => {\n  return doDelete(\n    `/repo/v1/evaluation/${evalId}/round/${evalRoundId}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Executes a user-defined query over the Submissions of a specific Evaluation.\n * https://rest-docs.synapse.org/rest/GET/evaluation/submission/query.html\n */\nexport const getEvaluationSubmissions = (\n  query: string,\n  accessToken: string | undefined,\n): Promise<QueryTableResults> => {\n  return doGet(\n    `/repo/v1/evaluation/submission/query?query=${encodeURI(query)}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get user-friendly OAuth2 request information (to present to the user so they can choose if they want to give consent).\n * http://rest-docs.synapse.org/rest/POST/oauth2/description.html\n */\nexport const getOAuth2RequestDescription = (\n  oidcAuthRequest: OIDCAuthorizationRequest,\n): Promise<OIDCAuthorizationRequestDescription> => {\n  return doPost(\n    '/auth/v1/oauth2/description',\n    oidcAuthRequest,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Check whether user has already granted consent for the given OAuth client, scope, and claims.\n * Consent persists for one year.\n */\nexport const hasUserAuthorizedOAuthClient = (\n  oidcAuthRequest: OIDCAuthorizationRequest,\n  accessToken: string,\n): Promise<OAuthConsentGrantedResponse> => {\n  return doPost(\n    '/auth/v1/oauth2/consentcheck',\n    oidcAuthRequest,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get OAuth2 Client information (available to the public)\n */\nexport const getOAuth2Client = (\n  clientId: string,\n): Promise<OAuthClientPublic> => {\n  return doGet(\n    `/auth/v1/oauth2/client/${clientId}`,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n List the OAuth 2.0 clients created by the current user.\n */\nexport const getOAuth2 = (\n  accessToken: string,\n  nextPageToken?: string,\n): Promise<OAuthClientList> => {\n  return doGet(\n    `/auth/v1/oauth2/client${\n      nextPageToken ? '?nextPageToken=' + nextPageToken : ''\n    }`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\nCreate an OAuth 2.0 client.\nNote: The client name must be unique.\nNote: After creating the client one must also set the client secret and have their client verified\nhttps://rest-docs.synapse.org/rest/POST/oauth2/client.html\n */\nexport const createOAuthClient = (\n  request: OAuthClient,\n  accessToken: string,\n): Promise<OAuthClient> => {\n  return doPost(\n    '/auth/v1/oauth2/client',\n    request,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\nDelete OAuth 2.0 client\nhttps://rest-docs.synapse.org/rest/DELETE/oauth2/client/id.html\n */\nexport const deleteOAuthClient = (id: string, accessToken: string) => {\n  return doDelete(\n    `/auth/v1/oauth2/client/${id}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n Update the metadata for an existing OAuth 2.0 client.\n Note: Only the creator of a client can update it.\n Note: Changing the redirect URIs will revert the 'verified' status of the client, necessitating re-verification.\n https://repo-prod.prod.sagebase.org/auth/v1/oauth2/client/{id}\n */\nexport const updateOAuthClient = (\n  request: OAuthClient,\n  accessToken: string,\n): Promise<OAuthClient> => {\n  return doPut(\n    `/auth/v1/oauth2/client/${request.client_id}`,\n    request,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n \n Note: Only the creator of a client can update it.\n https://rest-docs.synapse.org/rest/PUT/oauth2/client/id/verificationPrecheck.html\n */\nexport const isOAuthClientReverificationRequired = (\n  request: OAuthClient,\n  accessToken: string,\n): Promise<OAuthClientVerificationPrecheckResult> => {\n  return doPut(\n    `/auth/v1/oauth2/client/${request.client_id}/verificationPrecheck`,\n    request,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/** \nGet a secret credential to use when requesting an access token.\nSynapse supports 'client_secret_basic' and 'client_secret_post'.\nNOTE: This request will invalidate any previously issued secrets.\nhttps://docs.synapse.org/rest/POST/oauth2/client/secret/id.html\n*/\nexport const createOAuthClientSecret = (\n  accessToken: string,\n  id: string,\n): Promise<OAuthClientIdAndSecret> => {\n  return doPost(\n    `/auth/v1/oauth2/client/secret/${id}`,\n    undefined,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get OAuth2 Client information (available to the public)\n */\nexport const getAuthenticatedOn = async (\n  accessToken: string,\n): Promise<AuthenticatedOn> => {\n  return doGet(\n    `/auth/v1/authenticatedOn`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * User consents to the given OIDCAuthorizationRequest (after being presented with all information returned by getOAuth2RequestDescription())\n * @param oidcAuthRequest\n * @param accessToken\n * @param endpoint\n */\nexport const consentToOAuth2Request = (\n  oidcAuthRequest: OIDCAuthorizationRequest,\n  accessToken: string | undefined,\n): Promise<AccessCodeResponse> => {\n  return doPost(\n    '/auth/v1/oauth2/consent',\n    oidcAuthRequest,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/***********************\n * FORM SERVICES\n * https://rest-docs.synapse.org/rest/#org.sagebionetworks.repo.web.controller.FormController\n *************************/\n/**\n * Create a FormGroup\n * https://rest-docs.synapse.org/rest/POST/form/group.html\n * @param name\n * @param accessToken\n * @param endpoint\n */\nexport const createFormGroup = (\n  name: string,\n  accessToken: string,\n): Promise<FormGroup> => {\n  return doPost(\n    `/repo/v1/form/group?name=${encodeURI(name)}`,\n    undefined,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get FormGroup ACL\n * https://rest-docs.synapse.org/rest/GET/form/group/id/acl.html\n */\nexport const getFormACL = (\n  formGroupId: string,\n  accessToken: string | undefined,\n): Promise<AccessControlList> => {\n  return doGet(\n    `/repo/v1/form/group/${formGroupId}/acl`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Update FormGroup ACL\n * https://rest-docs.synapse.org/rest/PUT/form/group/id/acl.html\n */\nexport const updateFormACL = (\n  formGroupId: string,\n  newAcl: AccessControlList,\n  accessToken: string | undefined,\n): Promise<AccessControlList> => {\n  return doPut(\n    `/repo/v1/form/group/${formGroupId}/acl`,\n    newAcl,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Create a new FormData object\n * https://rest-docs.synapse.org/rest/POST/form/data.html\n * @param formGroupId\n * @param name\n * @param accessToken\n * @param endpoint\n */\nexport const createFormData = (\n  formGroupId: string,\n  name: string,\n  dataFileHandleId: string,\n  accessToken: string,\n): Promise<FormData> => {\n  const newFormData: FormChangeRequest = {\n    name,\n    fileHandleId: dataFileHandleId,\n  }\n  return doPost(\n    `/repo/v1/form/data?groupId=${formGroupId}`,\n    newFormData,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Update FormData object\n * https://rest-docs.synapse.org/rest/PUT/form/data.html\n */\nexport const updateFormData = (\n  formDataId: string,\n  name: string,\n  dataFileHandleId: string,\n  accessToken: string,\n): Promise<FormData> => {\n  const updatedFormData: FormChangeRequest = {\n    name,\n    fileHandleId: dataFileHandleId,\n  }\n  return doPut(\n    `/repo/v1/form/data/${formDataId}`,\n    updatedFormData,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Delete FormData object\n * https://rest-docs.synapse.org/rest/DELETE/form/data.html\n */\nexport const deleteFormData = (\n  formDataId: string,\n  accessToken: string | undefined,\n) => {\n  return doDelete(\n    `/repo/v1/form/data/${formDataId}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Submit the identified FormData for review.\n * https://rest-docs.synapse.org/rest/POST/form/data/id/submit.html\n */\nexport const submitFormData = (\n  formDataId: string,\n  accessToken: string | undefined,\n): Promise<FormData> => {\n  return doPost(\n    `/repo/v1/form/data/${formDataId}/submit`,\n    undefined,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * List FormData objects and their associated status that match the filters of the provided request that are\n * owned by the caller. Note: Only objects owned by the caller will be returned.\n * https://rest-docs.synapse.org/rest/POST/form/data/list.html\n */\nexport const listFormData = (\n  request: ListRequest,\n  accessToken: string | undefined,\n): Promise<ListResponse> => {\n  return doPost(\n    `/repo/v1/form/data/list`,\n    request,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * List FormData objects and their associated status that match the filters of the provided request for the entire\n * group. This is used by service accounts to process submissions.\n * https://rest-docs.synapse.org/rest/POST/form/data/list/reviewer.html\n */\nexport const listFormDataAsFormAdmin = (\n  request: ListRequest,\n  accessToken: string | undefined,\n): Promise<ListResponse> => {\n  return doPost(\n    `/repo/v1/form/data/list/reviewer`,\n    request,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Called by the form processing service to accept a submitted data.\n * https://rest-docs.synapse.org/rest/PUT/form/data/id/accept.html\n */\nexport const acceptFormData = (\n  formDataId: string,\n  accessToken: string | undefined,\n): Promise<FormData> => {\n  return doPut(\n    `/repo/v1/form/data/${formDataId}/accept`,\n    undefined,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Called by the form processing service to reject a submitted data.\n * https://rest-docs.synapse.org/rest/PUT/form/data/id/reject.html\n */\nexport const rejectFormData = (\n  formDataId: string,\n  reason: string,\n  accessToken: string | undefined,\n): Promise<FormData> => {\n  const formRejection: FormRejection = {\n    reason,\n  }\n  return doPut(\n    `/repo/v1/form/data/${formDataId}/reject`,\n    formRejection,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get Statistics\n * https://rest-docs.synapse.org/rest/POST/statistics.html\n * Generic endpoint to retrieve statistics about objects. The user should have VIEW_STATISTICS access on the object referenced by the objectId in the request.\n */\nexport const getProjectStatistics = (\n  request: ProjectFilesStatisticsRequest,\n  accessToken: string | undefined,\n): Promise<ProjectFilesStatisticsResponse> => {\n  return doPost(\n    `/repo/v1/statistics`,\n    request,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// see https://rest-docs.synapse.org/rest/POST/restrictionInformation.html\nexport const getRestrictionInformation = (\n  request: RestrictionInformationRequest,\n  accessToken: string | undefined,\n): Promise<RestrictionInformationResponse> => {\n  return doPost(\n    `/repo/v1/restrictionInformation`,\n    request,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n/**\n * Returns a paginated result of access requirements associated for an entity\n *\n * See https://rest-docs.synapse.org/rest/GET/entity/id/accessRequirement.html\n *\n * @param {(string | undefined)} accessToken token of user\n * @param {string} id id of entity\n * @param {number} [limit=50]\n * @param {number} [offset=0]\n * @returns {Promise<PaginatedResults<AccessRequirement>>}\n */\nexport const getAccessRequirement = (\n  accessToken: string | undefined,\n  id: string,\n  limit: number = 50,\n  offset: number = 0,\n): Promise<PaginatedResults<AccessRequirement>> => {\n  const url = `${ENTITY_ACCESS_REQUIREMENTS(\n    id,\n  )}?limit=${limit}&offset=${offset}`\n  return doGet<PaginatedResults<AccessRequirement>>(\n    url,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Returns the Access Requirement with the given AR_ID\n *\n * See http://rest-docs.synapse.org/rest/GET/accessRequirement/requirementId.html\n *\n * @param {(string | undefined)} accessToken token of user\n * @param {number} id id of the access requirement\n * @returns {Promise<AccessRequirement>}\n */\nexport const getAccessRequirementById = <T extends AccessRequirement>(\n  accessToken: string | undefined,\n  id: string | number,\n): Promise<T> => {\n  return doGet<T>(\n    ACCESS_REQUIREMENT_BY_ID(id),\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Fetch the ACL for the access requirement with the given id.\n *\n * See https://rest-docs.synapse.org/rest/GET/accessRequirement/requirementId/acl.html\n * @returns the ACL for the specified AR, or null if the ACL does not exist\n */\nexport const getAccessRequirementAcl = (\n  accessToken: string | undefined,\n  id: string | number,\n): Promise<AccessControlList | null> => {\n  // It's possible for an AR to not have an ACL, so pre-emptively handle 404\n  return allowNotFoundError(() =>\n    doGet<AccessControlList>(\n      ACCESS_REQUIREMENT_ACL(id),\n      accessToken,\n      BackendDestinationEnum.REPO_ENDPOINT,\n    ),\n  )\n}\n\n/**\n * Search for access requirements\n *\n * See http://rest-docs.synapse.org/rest/POST/accessRequirement/search.html\n */\nexport const searchAccessRequirements = (\n  accessToken: string | undefined,\n  request: AccessRequirementSearchRequest,\n): Promise<AccessRequirementSearchResponse> => {\n  return doPost<AccessRequirementSearchResponse>(\n    ACCESS_REQUIREMENT_SEARCH,\n    request,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Retrieve an access requirement status for a given access requirement ID.\n *\n * @param {string} requirementId id of entity to lookup\n * @returns {AccessRequirementStatus}\n */\nexport const getAccessRequirementStatus = (\n  accessToken: string | undefined,\n  requirementId: string | number,\n): Promise<AccessRequirementStatus | ManagedACTAccessRequirementStatus> => {\n  return doGet(\n    ACCESS_REQUIREMENT_STATUS(requirementId),\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Returns all the access requirements associated to an entity {id}, calling the\n * paginated getAccessRequirement service until all results are returned.\n *\n * @param {(string | undefined)} accessToken token of user\n * @param {string} id id of entity to lookup\n * @returns {Promise<Array<AccessRequirement>>}\n */\nexport const getAllAccessRequirements = (\n  accessToken: string | undefined,\n  id: string,\n): Promise<Array<AccessRequirement>> => {\n  // format function to be callable by getAllOfPaginatedService\n  const fn = (limit: number, offset: number) => {\n    const url = `/repo/v1/entity/${id}/accessRequirement?limit=${limit}&offset=${offset}`\n    return doGet<PaginatedResults<AccessRequirement>>(\n      url,\n      accessToken,\n      BackendDestinationEnum.REPO_ENDPOINT,\n    )\n  }\n  return getAllOfPaginatedService(fn)\n}\n\n/**\n * Add a temporary access restriction that prevents access pending review by the Synapse Access and Compliance Team.\n * This service may be used only by an administrator of the specified entity.\n *\n * https://rest-docs.synapse.org/rest/POST/entity/id/lockAccessRequirement.html\n * @param entityId\n * @param accessToken\n */\nexport function createLockAccessRequirement(\n  entityId: string,\n  accessToken: string | undefined,\n): Promise<AccessRequirement> {\n  return doPost(\n    `/repo/v1/entity/${entityId}/lockAccessRequirement`,\n    null,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n *\n *\n * @param {(string | undefined)} accessToken user access token\n * @param {(number | undefined)} id the unique immutable ID\n * @returns {AccessApproval}\n */\nexport const getAccessApproval = async (\n  accessToken: string | undefined,\n  approvalId: number,\n): Promise<AccessApproval> => {\n  const url = `${ACCESS_APPROVAL_BY_ID(approvalId)}`\n  return doGet<AccessApproval>(\n    url,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n *\n *\n * @param {(string | undefined)} accessToken user access token\n * @param {AccessApproval} accessApproval access approval request object\n * @returns {AccessApproval}\n */\nexport const postAccessApproval = async (\n  accessToken: string | undefined,\n  accessApproval: AccessApproval,\n): Promise<AccessApproval> => {\n  return doPost<AccessApproval>(\n    ACCESS_APPROVAL,\n    accessApproval,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// https://rest-docs.synapse.org/rest/GET/download/list.html\nexport const getDownloadList = (accessToken: string | undefined) => {\n  return doGet<DownloadList>(\n    '/file/v1/download/list',\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\nexport const getDownloadOrder = (\n  zipFileName: string | undefined,\n  accessToken: string | undefined,\n): Promise<DownloadOrder> => {\n  const baseURL = '/file/v1/download/order'\n  const url = zipFileName ? `${baseURL}?zipFileName=${zipFileName}` : baseURL\n  return doPost(\n    url,\n    undefined,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\nexport type FunctionReturningPaginatedResults<T> = (\n  limit: number,\n  offset: number,\n) => Promise<PaginatedResults<T>>\n/**\n * Utility function to get all the results of a paginated service\n *\n * @template T Type of paginated service\n * @param {FunctionReturningPaginatedResults<T>} fn Function that returns a paginated synapse object, accepts a limit and offset\n * @returns\n */\nexport const getAllOfPaginatedService = async <T>(\n  fn: FunctionReturningPaginatedResults<T>,\n) => {\n  const limit = 50\n  let offset = 0\n  let existsMoreData = true\n  const results: T[] = []\n\n  while (existsMoreData) {\n    try {\n      const data = await fn(limit, offset)\n      results.push(...data.results)\n      offset += data.results.length\n      if (data.results.length < limit) {\n        existsMoreData = false\n      }\n    } catch (e) {\n      throw Error(`Error on getting paginated results ${e}`)\n    }\n  }\n\n  return results\n}\n\n// https://rest-docs.synapse.org/rest/POST/download/list/remove.html\nexport const deleteDownloadListFiles = (\n  list: FileHandleAssociation[],\n  accessToken: string | undefined,\n): Promise<DownloadList> => {\n  return doPost<DownloadList>(\n    '/file/v1/download/list/remove',\n    { list },\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  ).then(data => {\n    dispatchDownloadListChangeEvent(data)\n    return data\n  })\n}\n\n// https://rest-docs.synapse.org/rest/DELETE/download/list.html ?\nexport const deleteDownloadList = (accessToken: string | undefined) => {\n  return doDelete(\n    '/file/v1/download/list',\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  ).then(() => {\n    dispatchDownloadListChangeEvent(undefined)\n  })\n}\n\n/**\n * http://rest-docs.synapse.org/rest/POST/entity/id/table/transaction/async/start.html\n * @param {*} tableUpdateRequest\n * @param {*} accessToken\n * @param {*} endpoint\n * // technically returns a TableUpdateTransactionResponse, but I don't see any reason we need this\n */\nexport const updateTable = async (\n  tableUpdateRequest: TableUpdateTransactionRequest,\n  accessToken: string | undefined = undefined,\n): Promise<void> => {\n  const asyncJobId = await doPost<AsyncJobId>(\n    `/repo/v1/entity/${tableUpdateRequest.entityId}/table/transaction/async/start`,\n    tableUpdateRequest,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n  return getAsyncResultBodyFromJobId(\n    asyncJobId.token,\n    `/repo/v1/entity/${tableUpdateRequest.entityId}/table/transaction/async/get/${asyncJobId.token}`,\n    accessToken,\n  )\n}\n\nexport const getTransformSqlWithFacetsRequest = (\n  transformSqlWithFacetsRequest: TransformSqlWithFacetsRequest,\n) => {\n  return doPost<SqlTransformResponse>(\n    '/repo/v1/table/sql/transform',\n    transformSqlWithFacetsRequest,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\nexport const createPersonalAccessToken = (\n  accessTokenGenerationRequest: AccessTokenGenerationRequest,\n  accessToken: string | undefined,\n) => {\n  return doPost<AccessTokenGenerationResponse>(\n    '/auth/v1/personalAccessToken',\n    accessTokenGenerationRequest,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\nexport const getPersonalAccessTokenRecords = (\n  accessToken: string | undefined,\n  nextPageToken: string | undefined,\n) => {\n  return doGet<AccessTokenRecordList>(\n    `/auth/v1/personalAccessToken${\n      nextPageToken ? '?nextPageToken=' + nextPageToken : ''\n    }`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\nexport const deletePersonalAccessToken = (\n  accessTokenId: string,\n  accessToken: string | undefined,\n) => {\n  return doDelete(\n    `/auth/v1/personalAccessToken/${accessTokenId}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// https://rest-docs.synapse.org/rest/GET/projects.html\nexport const getMyProjects = (\n  accessToken: string,\n  params: GetProjectsParameters = {},\n) => {\n  const urlParams = new URLSearchParams(\n    removeUndefined(params) as Record<string, string>,\n  )\n  return doGet<ProjectHeaderList>(\n    `${PROJECTS}?${urlParams.toString()}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// http://rest-docs.synapse.org/rest/GET/projects/user/principalId.html\nexport const getUserProjects = (\n  userId: string,\n  params: GetProjectsParameters = {},\n  accessToken?: string,\n) => {\n  const urlParams = new URLSearchParams(\n    removeUndefined(params) as Record<string, string>,\n  )\n  return doGet<ProjectHeaderList>(\n    `/repo/v1/projects/user/${userId}?${urlParams.toString()}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// https://rest-docs.synapse.org/rest/GET/entity/id/path.html\nexport const getEntityPath = (entityId: string, accessToken?: string) => {\n  return doGet<EntityPath>(\n    ENTITY_PATH(entityId),\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// https://rest-docs.synapse.org/rest/GET/entity/id/version.html\nexport const getEntityVersions = (\n  entityId: string,\n  accessToken?: string,\n  offset: number = 0,\n  limit: number = 200,\n) => {\n  return doGet<PaginatedResults<VersionInfo>>(\n    `/repo/v1/entity/${entityId}/version?offset=${offset}&limit=${limit}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// https://rest-docs.synapse.org/rest/POST/search.html\nexport const searchEntities = (query: SearchQuery, accessToken?: string) => {\n  return doPost<SearchResults>(\n    '/repo/v1/search',\n    query,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\nconst getDownloadListJobResponse = async (\n  accessToken: string | undefined,\n  queryRequestDetails: QueryRequestDetails,\n): Promise<QueryResponseDetails> => {\n  const downloadListQueryRequest: DownloadListQueryRequest = {\n    concreteType:\n      'org.sagebionetworks.repo.model.download.DownloadListQueryRequest',\n    requestDetails: queryRequestDetails,\n  }\n  const asyncJobId = await doPost<AsyncJobId>(\n    '/repo/v1/download/list/query/async/start',\n    downloadListQueryRequest,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n  const response = await getAsyncResultBodyFromJobId<DownloadListQueryResponse>(\n    asyncJobId.token,\n    `/repo/v1/download/list/query/async/get/${asyncJobId.token}`,\n    accessToken,\n  )\n  return response.responseDetails\n}\n\n/**\n * Clear all files from the user's Download List v2.\n * http://rest-docs.synapse.org/rest/DELETE/download/list.html\n */\nexport const clearDownloadListV2 = (\n  accessToken: string | undefined,\n): Promise<void> => {\n  return doDelete(\n    '/repo/v1/download/list',\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get Download List v2 available files to download\n * http://rest-docs.synapse.org/rest/POST/download/list/query/async/start.html\n */\nexport const getAvailableFilesToDownload = (\n  request: AvailableFilesRequest,\n  accessToken: string | undefined = undefined,\n): Promise<AvailableFilesResponse> => {\n  return getDownloadListJobResponse(\n    accessToken,\n    request,\n  ) as Promise<AvailableFilesResponse>\n}\n\n/**\n * Get Download List v2 statistics\n * http://rest-docs.synapse.org/rest/POST/download/list/query/async/start.html\n */\nexport const getDownloadListStatistics = (\n  accessToken: string | undefined = undefined,\n): Promise<FilesStatisticsResponse> => {\n  const filesStatsRequest: FilesStatisticsRequest = {\n    concreteType:\n      'org.sagebionetworks.repo.model.download.FilesStatisticsRequest',\n  }\n  return getDownloadListJobResponse(\n    accessToken,\n    filesStatsRequest,\n  ) as Promise<FilesStatisticsResponse>\n}\n\n/**\n * Get Download List v2 actions required\n * http://rest-docs.synapse.org/rest/POST/download/list/query/async/start.html\n */\nexport const getDownloadListActionsRequired = (\n  request: ActionRequiredRequest,\n  accessToken: string | undefined = undefined,\n): Promise<ActionRequiredResponse> => {\n  return getDownloadListJobResponse(\n    accessToken,\n    request,\n  ) as Promise<ActionRequiredResponse>\n}\n\n/**\n * Remove item from Download List v2\n * http://rest-docs.synapse.org/rest/POST/download/list/remove.html\n */\nexport const removeItemFromDownloadListV2 = (\n  item: DownloadListItem,\n  accessToken: string | undefined = undefined,\n): Promise<RemoveBatchOfFilesFromDownloadListResponse> => {\n  const request: RemoveBatchOfFilesFromDownloadListRequest = {\n    batchToRemove: [item],\n  }\n  return doPost<RemoveBatchOfFilesFromDownloadListResponse>(\n    '/repo/v1/download/list/remove',\n    request,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// http://rest-docs.synapse.org/rest/POST/researchProject.html\nexport const updateResearchProject = (\n  requestObj: ResearchProject,\n  accessToken: string,\n) => {\n  return doPost<ResearchProject>(\n    RESEARCH_PROJECT,\n    requestObj,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// http://rest-docs.synapse.org/rest/GET/accessRequirement/requirementId/researchProjectForUpdate.html\nexport const getResearchProject = (\n  requirementId: string,\n  accessToken: string,\n) => {\n  return doGet<ResearchProject>(\n    ACCESS_REQUIREMENT_RESEARCH_PROJECT_FOR_UPDATE(requirementId),\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// http://rest-docs.synapse.org/rest/GET/accessRequirement/requirementId/dataAccessRequestForUpdate.html\nexport const getDataAccessRequestForUpdate = (\n  requirementId: string,\n  accessToken: string,\n) => {\n  return doGet<RequestInterface | RenewalInterface>(\n    ACCESS_REQUIREMENT_DATA_ACCESS_REQUEST_FOR_UPDATE(requirementId),\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// http://rest-docs.synapse.org/rest/GET/accessRequirement/requirementId/dataAccessRequestForUpdate.html\nexport const updateDataAccessRequest = (\n  requestObj: RequestInterface,\n  accessToken: string,\n) => {\n  return doPost<RequestInterface>(\n    DATA_ACCESS_REQUEST,\n    requestObj,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// http://rest-docs.synapse.org/rest/POST/dataAccessRequest/requestId/submission.html\nexport const submitDataAccessRequest = (\n  requestObj: CreateSubmissionRequest,\n  accessToken: string,\n) => {\n  return doPost<ACTSubmissionStatus>(\n    DATA_ACCESS_REQUEST_SUBMISSION(requestObj.requestId),\n    requestObj,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// http://rest-docs.synapse.org/rest/PUT/dataAccessSubmission/submissionId/cancellation.html\n// Cancel a submission. Only the user who created this submission can cancel it.\nexport const cancelDataAccessRequest = (\n  submissionId: string,\n  accessToken: string,\n) => {\n  return doPut<ACTSubmissionStatus>(\n    `/repo/v1/dataAccessSubmission/${submissionId}/cancellation`,\n    undefined,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// http://rest-docs.synapse.org/rest/GET/dataAccessSubmission/submissionId.html\n// Fetch a submission by its id. If the user is a not part of the ACT they must be validated and assigned as reviewers of the AR submissions in order to fetch the submission.\nexport const getSubmissionById = (\n  submissionId: string | number,\n  accessToken?: string,\n) => {\n  return doGet<DataAccessSubmission>(\n    DATA_ACCESS_SUBMISSION_BY_ID(submissionId),\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Request to update a submission' state. Only ACT members and delegates with the REVIEW_SUBMISSION ACL\n * permission can perform this action.\n *\n * See https://docs.synapse.org/rest/PUT/dataAccessSubmission/submissionId.html\n * @param request\n * @param accessToken\n * @returns\n */\nexport const updateSubmissionStatus = (\n  request: SubmissionStateChangeRequest,\n  accessToken?: string,\n): Promise<DataAccessSubmission> => {\n  return doPut<DataAccessSubmission>(\n    DATA_ACCESS_SUBMISSION_BY_ID(request.submissionId),\n    request,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get the schema bound to an entity.\n * https://docs.synapse.org/rest/GET/entity/id/schema/binding.html\n * @param entityId\n * @param accessToken\n * @returns\n */\n//\nexport const getSchemaBinding = (entityId: string, accessToken?: string) => {\n  return allowNotFoundError(() =>\n    doGet<JsonSchemaObjectBinding>(\n      ENTITY_SCHEMA_BINDING(entityId),\n      accessToken,\n      BackendDestinationEnum.REPO_ENDPOINT,\n    ),\n  )\n}\n\n/**\n * Get the schema bound to an entity.\n * https://docs.synapse.org/rest/GET/entity/id/schema/binding.html\n * @param entityId\n * @param accessToken\n * @returns\n */\nexport const getSchemaValidationResults = (\n  entityId: string,\n  accessToken?: string,\n) => {\n  return doGet<ValidationResults>(\n    ENTITY_SCHEMA_VALIDATION(entityId),\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get a schema by its $id.\n * https://docs.synapse.org/rest/GET/entity/id/schema/binding.html\n * @returns\n */\nexport const getSchema = (schema$id: string) => {\n  return doGet<JSONSchema7>(\n    `${REGISTERED_SCHEMA_ID(schema$id)}`,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Retrieve a \"validation\" schema--all references are resolved and dereferenced.\n * @param schema$id\n * @returns\n */\nexport const getValidationSchema = async (\n  schema$id: string,\n  accessToken?: string,\n): Promise<{\n  concreteType: 'org.sagebionetworks.repo.model.schema.GetValidationSchemaResponse'\n  validationSchema: JSONSchema7\n}> => {\n  const asyncJobId = await doPost<AsyncJobId>(\n    SCHEMA_VALIDATION_START,\n    {\n      concreteType:\n        'org.sagebionetworks.repo.model.schema.GetValidationSchemaRequest',\n      $id: schema$id,\n    },\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n  return getAsyncResultBodyFromJobId(\n    asyncJobId.token,\n    SCHEMA_VALIDATION_GET(asyncJobId.token),\n    accessToken,\n  )\n}\n\n/**\n * Determine if the caller has a particular access type on an entity\n * https://docs.synapse.org/rest/GET/entity/id/access.html\n * @param entityId\n * @param accessToken\n * @returns\n */\nexport const hasAccessToEntity = (\n  entityId: string,\n  accessType: ACCESS_TYPE,\n  accessToken?: string,\n) => {\n  return doGet<HasAccessResponse>(\n    `${ENTITY_ACCESS(entityId)}?accessType=${accessType}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get the entity and its annotations as a JSON object\n * https://docs.synapse.org/rest/GET/entity/id/json.html\n * @param entityId\n * @param accessToken\n * @returns\n */\nexport const getEntityJson = (entityId: string, accessToken?: string) => {\n  return doGet<EntityJson>(\n    ENTITY_JSON(entityId),\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Update an entity and its annotations using a JSON object\n * https://docs.synapse.org/rest/PUT/entity/id/json.html\n * @param entityId\n * @param accessToken\n * @returns\n */\nexport const updateEntityJson = (\n  entityId: string,\n  json: EntityJson,\n  accessToken?: string,\n) => {\n  return doPut<EntityJson>(\n    ENTITY_JSON(entityId),\n    json,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * This service returns the email used for user notifications, i.e. when a Synapse message\n *  is sent and if the user has elected to receive messages by email, then this is the\n *  email address at which the user will receive the message.\n * https://docs.synapse.org/rest/GET/notificationEmail.html\n */\nexport const getNotificationEmail = (accessToken?: string) => {\n  return doGet<NotificationEmail>(\n    NOTIFICATION_EMAIL,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// http://rest-docs.synapse.org/rest/POST/principal/available.html\nexport const isAliasAvailable = (\n  aliasCheckRequest: AliasCheckRequest,\n  accessToken?: string,\n): Promise<AliasCheckResponse> => {\n  return doPost<AliasCheckResponse>(\n    ALIAS_AVAILABLE,\n    aliasCheckRequest,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// http://rest-docs.synapse.org/rest/POST/account/emailValidation.html\nexport const registerAccountStep1 = (\n  newUser: NewUser,\n  portalEndpoint: string,\n): Promise<void> => {\n  return doPost<void>(\n    REGISTER_ACCOUNT_STEP_1(portalEndpoint),\n    newUser,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// http://rest-docs.synapse.org/rest/POST/account2.html\nexport const registerAccountStep2 = (\n  accountSetupInfo: AccountSetupInfo,\n): Promise<LoginResponse> => {\n  return doPost(\n    REGISTER_ACCOUNT_STEP_2,\n    accountSetupInfo,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Step 2 of creating a new account via oauth signin\n *  http://rest-docs.synapse.org/rest/POST/oauth2/account2.html\n * @param {*} provider\n * @param {*} authenticationCode\n * @param {*} redirectUrl\n * @param {*} endpoint\n */\nexport const oAuthRegisterAccountStep2 = (\n  userName: string,\n  provider: string,\n  authenticationCode: string | number,\n  redirectUrl: string,\n  endpoint: BackendDestinationEnum = BackendDestinationEnum.REPO_ENDPOINT,\n): Promise<LoginResponse> => {\n  return doPost(\n    '/auth/v1/oauth2/account2',\n    {\n      provider,\n      authenticationCode,\n      redirectUrl,\n      userName,\n    },\n    undefined,\n    endpoint,\n  )\n}\n\n/**\n * Bind OAuth account to Synapse account as a new 'alias'.\n * https://rest-docs.synapse.org/rest/POST/oauth2/alias.html\n * @param {*} provider\n * @param {*} authenticationCode\n * @param {*} redirectUrl\n * @param {*} endpoint\n */\nexport const bindOAuthProviderToAccount = async (\n  provider: string,\n  authenticationCode: string | number,\n  redirectUrl: string,\n  endpoint: BackendDestinationEnum = BackendDestinationEnum.REPO_ENDPOINT,\n): Promise<LoginResponse> => {\n  // Special case.  web app may not have discovered the access token by this point in init.\n  // Look for the access token ourselves before binding.\n  const accessToken = await getAccessTokenFromCookie()\n  return doPost(\n    '/auth/v1/oauth2/alias',\n    { provider, authenticationCode, redirectUrl },\n    accessToken,\n    endpoint,\n  )\n}\n\n/**\n * Remove an alias associated with an account via the OAuth mechanism.\n * http://rest-docs.synapse.org/rest/DELETE/oauth2/alias.html\n * @param provider\n * @param accessToken\n * @param alias\n */\nexport const unbindOAuthProviderToAccount = async (\n  provider: string,\n  accessToken: string | undefined,\n  alias: string,\n) => {\n  const url = `/auth/v1/oauth2/alias?provider=${provider}&alias=${encodeURIComponent(\n    alias,\n  )}`\n  return doDelete(url, accessToken, BackendDestinationEnum.REPO_ENDPOINT)\n}\n\n//http://rest-docs.synapse.org/rest/POST/termsOfUse2.html\nexport const signSynapseTermsOfUse = (accessToken: string) => {\n  return doPost(\n    SIGN_TERMS_OF_USE,\n    { accessToken },\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n//https://rest-docs.synapse.org/rest/POST/verificationSubmission.html\nexport const createProfileVerificationSubmission = (\n  verificationSubmission: VerificationSubmission,\n  accessToken: string,\n) => {\n  return doPost(\n    VERIFICATION_SUBMISSION,\n    verificationSubmission,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// https://rest-docs.synapse.org/rest/POST/user/changePassword.html\nexport const changePasswordWithCurrentPassword = (\n  newPassword: ChangePasswordWithCurrentPassword,\n  accessToken: string | undefined,\n) => {\n  return doPost<ChangePasswordWithCurrentPassword>(\n    '/auth/v1/user/changePassword',\n    newPassword,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// https://rest-docs.synapse.org/rest/POST/user/changePassword.html\nexport const changePasswordWithToken = (\n  newPassword: ChangePasswordWithToken,\n) => {\n  return doPost<ChangePasswordWithToken>(\n    '/auth/v1/user/changePassword',\n    newPassword,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// http://rest-docs.synapse.org/rest/POST/user/password/reset.html\nexport const resetPassword = (email: string) => {\n  const endpoint = window.location.href + '?passwordResetToken='\n  const url = `/auth/v1/user/password/reset?passwordResetEndpoint=${encodeURIComponent(\n    endpoint,\n  )}`\n  return doPost(url, { email }, undefined, BackendDestinationEnum.REPO_ENDPOINT)\n}\n\n/**\n * https://rest-docs.synapse.org/rest/POST/account/id/emailValidation.html\n * @param email\n * @param userId\n * @param portalEndpoint\n * @param accessToken\n */\nexport const addEmailAddressStep1 = (\n  email: string,\n  userId: string,\n  portalEndpoint: string,\n  accessToken: string | undefined,\n) => {\n  return doPost(\n    `/repo/v1/account/${userId}/emailValidation?portalEndpoint=${portalEndpoint}`,\n    { email },\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * https://rest-docs.synapse.org/rest/POST/email.html\n * @param emailValidationSignedToken\n * @param accessToken\n */\nexport const addEmailAddressStep2 = (\n  emailValidationSignedToken: EmailValidationSignedToken,\n  accessToken: string | undefined,\n) => {\n  return doPost(\n    `/repo/v1/email`,\n    emailValidationSignedToken,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * https://rest-docs.synapse.org/rest/DELETE/email.html\n * @param email\n * @param accessToken\n */\nexport const deleteEmail = (accessToken: string | undefined, email: string) => {\n  return doDelete(\n    `/repo/v1/email?email=${email}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * https://rest-docs.synapse.org/rest/PUT/notificationEmail.html\n * @param email\n * @param accessToken\n */\nexport const updateNotificationEmail = (\n  email: string,\n  accessToken: string | undefined,\n) => {\n  return doPut(\n    '/repo/v1/notificationEmail',\n    { email },\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * This API is used to get a reply and its statistic given its ID.\n * Target users: anyone who has READ permission to the project.\n * http://rest-docs.synapse.org/rest/GET/reply/replyId.html\n * @param replyId\n * @param accessToken\n */\nexport const getReply = (replyId: string, accessToken: string | undefined) => {\n  return doGet<DiscussionReplyBundle>(\n    `/repo/v1/reply/${replyId}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * This API is used to create a new reply to a thread.\n * Target users: anyone who has READ permission to the project.\n * https://rest-docs.synapse.org/rest/POST/reply.html\n * @param createDiscussionReply\n * @param accessToken\n * @returns\n */\nexport const postReply = (\n  createDiscussionReply: CreateDiscussionReply,\n  accessToken: string | undefined,\n) => {\n  return doPost<DiscussionReplyBundle>(\n    `/repo/v1/reply`,\n    createDiscussionReply,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * This API is used to update the message of a reply.\n * Target users: only the author of the reply can update its message.\n * https://rest-docs.synapse.org/rest/PUT/reply/replyId/message.html\n * @param updateDiscussionReply\n * @param accessToken\n * @returns\n */\nexport const putReply = (\n  updateDiscussionReply: UpdateDiscussionReply,\n  accessToken: string | undefined,\n) => {\n  return doPut<DiscussionReplyBundle>(\n    `/repo/v1/reply/${updateDiscussionReply.replyId}/message`,\n    { messageMarkdown: updateDiscussionReply.messageMarkdown },\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * This API is used to mark a reply as deleted.\n * Target users: only forum's moderator can mark a reply as deleted.\n * https://rest-docs.synapse.org/rest/DELETE/reply/replyId.html\n * @param accessToken\n * @param replyId\n * @returns\n */\nexport const deleteReply = (\n  accessToken: string | undefined,\n  replyId: string,\n) => {\n  return doDelete(\n    `/repo/v1/reply/${replyId}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * This API is used to get N number of replies for a given thread ID.\n * Target users: anyone who has READ permission to the project.\n * https://rest-docs.synapse.org/rest/GET/thread/threadId/replies.html\n */\nexport const getReplies = (\n  accessToken: string | undefined,\n  threadId: string,\n  limit: number = 30,\n  offset: number = 0,\n  sort: DiscussionReplyOrder = DiscussionReplyOrder.CREATED_ON,\n  ascending: boolean = true,\n  filter: DiscussionFilter = DiscussionFilter.EXCLUDE_DELETED,\n) => {\n  const params = new URLSearchParams()\n  params.set('offset', offset.toString())\n  params.set('limit', limit.toString())\n  params.set('sort', sort)\n  params.set('ascending', ascending.toString())\n  params.set('filter', filter)\n\n  const url = `${THREAD}/${threadId}/replies?${params.toString()}`\n\n  return doGet<PaginatedResults<DiscussionReplyBundle>>(\n    url,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * This API is used to get the message URL of a reply. The message\n * URL is the URL to download the file which contains the reply message.\n * Target users: anyone who has READ permission to the project.\n * http://rest-docs.synapse.org/rest/GET/reply/messageUrl.html\n * @param messageKey\n * @param accessToken\n */\n\nexport const getReplyMessageUrl = (\n  messageKey: string,\n  accessToken: string | undefined,\n) => {\n  return doGet<MessageURL>(\n    `/repo/v1/reply/messageUrl?messageKey=${messageKey}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * This API is used to mark a thread as pinned.\n * Target users: only forum's moderator can mark a thread as pinned.\n * https://rest-docs.synapse.org/rest/PUT/thread/threadId/pin.html\n * @param accessToken\n * @param threadId\n * @returns\n */\nexport const pinThread = (\n  accessToken: string | undefined,\n  threadId: string,\n) => {\n  return doPut<void>(\n    `${THREAD_ID(threadId)}/pin`,\n    undefined,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * This API is used to unpin a thread.\n * Target users: only forum's moderator can unpin a thread.\n * https://rest-docs.synapse.org/rest/PUT/thread/threadId/unpin.html\n * @param accessToken\n * @param threadId\n * @returns\n */\nexport const unPinThread = (\n  accessToken: string | undefined,\n  threadId: string,\n) => {\n  return doPut<void>(\n    `${THREAD_ID(threadId)}/unpin`,\n    undefined,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * This API is used to get a thread and its statistic given its ID.\n * Target users: anyone who has READ permission to the project.\n * http://rest-docs.synapse.org/rest/GET/thread/threadId.html\n * @param threadId\n * @param accessToken\n */\nexport const getThread = (\n  threadId: string,\n  accessToken: string | undefined,\n) => {\n  return doGet<DiscussionThreadBundle>(\n    THREAD_ID(threadId),\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * This API is used to get the message URL of a reply. The message\n * URL is the URL to download the file which contains the reply message.\n * Target users: anyone who has READ permission to the project.\n * http://rest-docs.synapse.org/rest/GET/thread/messageUrl.html\n * @param messageKey\n * @param accessToken\n */\n\nexport const getThreadMessageUrl = (\n  messageKey: string,\n  accessToken: string | undefined,\n) => {\n  return doGet<MessageURL>(\n    `${THREAD}/messageUrl?messageKey=${messageKey}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * This API is used to create a new thread in a forum.\n * Target users: anyone who has READ permission to the project.\n * https://rest-docs.synapse.org/rest/POST/thread.html\n * @param accessToken\n * @param createDiscussionThread\n */\nexport const postThread = (\n  accessToken: string | undefined,\n  createDiscussionThread: CreateDiscussionThread,\n) => {\n  return doPost<DiscussionThreadBundle>(\n    THREAD,\n    createDiscussionThread,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * This API is used to update the title of a thread.\n * Target users: only the author of the thread can update its title.\n * https://rest-docs.synapse.org/rest/PUT/thread/threadId/title.html\n * @param accessToken\n * @param request\n */\nexport const putThreadTitle = (\n  accessToken: string | undefined,\n  request: UpdateThreadTitleRequest,\n) => {\n  return doPut<DiscussionThreadBundle>(\n    `${THREAD}/${request.threadId}/title`,\n    { title: request.title },\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * This API is used to update the message of a thread.\n * Target users: only the author of the thread can update its message.\n * https://rest-docs.synapse.org/rest/PUT/thread/threadId/message.html\n * @param accessToken\n * @param request\n */\nexport const putThreadMessage = (\n  accessToken: string | undefined,\n  request: UpdateThreadMessageRequest,\n) => {\n  return doPut<DiscussionThreadBundle>(\n    `${THREAD}/${request.threadId}/message`,\n    { messageMarkdown: request.messageMarkdown },\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * This API is used to mark a thread as deleted.\n * Target users: only forum's moderator can mark a thread as deleted.\n * https://rest-docs.synapse.org/rest/DELETE/thread/threadId.html\n * @param accessToken\n * @param threadId\n * @returns\n */\nexport const deleteThread = (\n  accessToken: string | undefined,\n  threadId: string,\n) => {\n  return doDelete(\n    THREAD_ID(threadId),\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\nexport const restoreThread = (\n  accessToken: string | undefined,\n  threadId: string,\n) => {\n  return doPut<void>(\n    `${THREAD_ID(threadId)}/restore`,\n    undefined,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Returns a page of moderators for a given forum ID.\n * Target users: anyone who has READ permission to the project.\n * https://rest-docs.synapse.org/rest/GET/forum/forumId/moderators.html\n * @param accessToken\n * @param forumId\n * @returns\n */\nexport const getModerators = (\n  accessToken: string | undefined,\n  forumId: string,\n  limit: number = 20,\n  offset: number = 0,\n) => {\n  const params = new URLSearchParams()\n  params.set('offset', offset.toString())\n  params.set('limit', limit.toString())\n\n  return doGet<PaginatedIds>(\n    `${FORUM}/${forumId}/moderators?${params.toString()}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Performs a full text search in the forum defined by the given id.\n * Target users: anyone who has READ permission on the project of the forum.\n * http://rest-docs.synapse.org/rest/POST/forum/forumId/search.html\n * @param discussionSearchRequest\n * @param forumId\n * @param accessToken\n */\n\nexport const forumSearch = (\n  discussionSearchRequest: DiscussionSearchRequest,\n  forumId: string,\n  accessToken: string | undefined,\n) => {\n  return doPost<DiscussionSearchResponse>(\n    `${FORUM}/${forumId}/search`,\n    discussionSearchRequest,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * This API is used to get N number of threads for a given forum ID.\n * Target users: anyone who has READ permission to the project.\n * https://rest-docs.synapse.org/rest/GET/forum/forumId/threads.html\n */\n\nexport const getForumThread = (\n  accessToken: string | undefined,\n  forumId: string,\n  offset: number = 0,\n  limit: number = 20,\n  sort: DiscussionThreadOrder = DiscussionThreadOrder.PINNED_AND_LAST_ACTIVITY,\n  ascending: boolean = true,\n  filter: DiscussionFilter = DiscussionFilter.EXCLUDE_DELETED,\n) => {\n  const params = new URLSearchParams()\n  params.set('offset', offset.toString())\n  params.set('limit', limit?.toString())\n  params.set('sort', sort)\n  params.set('ascending', ascending.toString())\n  params.set('filter', filter)\n\n  const url = `${FORUM_THREAD(forumId)}?${params.toString()}`\n  return doGet<PaginatedResults<DiscussionThreadBundle>>(\n    url,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Search through the history of access approvals filtering by accessor/submitter\n * and optional by access requirement id. The caller must be a member of the ACT.\n * https://rest-docs.synapse.org/rest/POST/accessApproval/search.html\n * @param accessApprovalSearchRequest\n * @param accessToken\n */\n\nexport const searchAccessApprovals = (\n  accessApprovalSearchRequest: AccessApprovalSearchRequest | undefined,\n  accessToken: string | undefined,\n) => {\n  return doPost<AccessApprovalSearchResponse>(\n    '/repo/v1/accessApproval/search',\n    accessApprovalSearchRequest,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Performs a search through access submissions that are reviewable by the user and\n * that match the criteria in the given request.\n * @param submissionSearchRequest\n * @param accessToken\n * https://rest-docs.synapse.org/rest/POST/dataAccessSubmission/search.html\n */\nexport const searchAccessSubmission = (\n  submissionSearchRequest: SubmissionSearchRequest,\n  accessToken: string | undefined,\n) => {\n  return doPost<SubmissionSearchResponse>(\n    ACCESS_REQUEST_SUBMISSION_SEARCH,\n    submissionSearchRequest,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * http://rest-docs.synapse.org/rest/POST/accessRequirement/requirementId/approvedSubmissionInfo.html\n */\nexport const getApprovedSubmissionInfo = (\n  submissionInfoPageRequest: SubmissionInfoPageRequest,\n  accessToken: string | undefined,\n) => {\n  return doPost<SubmissionInfoPage>(\n    APPROVED_SUBMISSION_INFO(submissionInfoPageRequest.accessRequirementId),\n    submissionInfoPageRequest,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * http://rest-docs.synapse.org/rest/GET/activity/id/generated.html\n */\nexport const getActivityForEntity = (\n  entityId: string,\n  versionNumber?: number,\n  accessToken?: string,\n): Promise<Activity> => {\n  const url = ACTIVITY_FOR_ENTITY(\n    entityId,\n    versionNumber ? `${versionNumber}` : undefined,\n  )\n  return doGet<Activity>(url, accessToken, BackendDestinationEnum.REPO_ENDPOINT)\n}\n\n/**\n * Returns the presigned URL for a user's profile pic. Note that the presigned URL\n * expires after a short time, so it should be used immediately.\n * @param userId\n * @returns A presigned URL that can be used to fetch the profile preview image, or null if the user\n *   does not have a profile image\n */\nexport function getProfilePicPreviewPresignedUrl(userId: string) {\n  return allowNotFoundError(() =>\n    doGet<string>(\n      PROFILE_IMAGE_PREVIEW(userId) + `?redirect=false`,\n      undefined,\n      BackendDestinationEnum.REPO_ENDPOINT,\n    ),\n  )\n}\n\nexport function getItemsInTrashCan(\n  accessToken: string | undefined,\n  offset = 0,\n  limit = 25,\n) {\n  return doGet<PaginatedResults<TrashedEntity>>(\n    TRASHCAN_VIEW + `?offset=${offset}&limit=${limit}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\nexport function restoreFromTrashCan(\n  entityId: string,\n  accessToken: string | undefined,\n) {\n  return doPut<void>(\n    TRASHCAN_RESTORE(entityId),\n    undefined,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\nexport function purgeFromTrashCan(\n  entityId: string,\n  accessToken: string | undefined,\n) {\n  return doPut<void>(\n    TRASHCAN_PURGE(entityId),\n    undefined,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get the test to become a Certified User\n * https://rest-docs.synapse.org/rest/GET/certifiedUserTest.html\n */\nexport function getCertifyQuiz(accessToken: string | undefined) {\n  return doGet<Quiz>(\n    '/repo/v1/certifiedUserTest',\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Submit a response to the Certified User test.\n * https://rest-docs.synapse.org/rest/POST/certifiedUserTestResponse.html\n */\nexport function postCertifiedUserTestResponse(\n  accessToken: string | undefined,\n  quizResponse: QuizResponse,\n) {\n  return doPost<PassingRecord>(\n    '/repo/v1/certifiedUserTestResponse',\n    quizResponse,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\nconst S3_GEODATA_ENDPOINT = 'https://s3.amazonaws.com/geoloc.sagebase.org/'\nconst GEO_DATA_URL = S3_GEODATA_ENDPOINT + 'allPoints.json'\nconst API_KEY_URL = S3_GEODATA_ENDPOINT + 'googlemap.txt'\n\n/**\n * Fetches the API key for Google Maps used by Synapse, which can be used to fetch the API script.\n *\n * Note: the production API key is not a secret. It is secure because the key is configured to only\n *  allow Maps API requests from particular referrers (e.g. synapse.org)\n */\nexport async function getGoogleMapsApiKey(): Promise<string> {\n  const response = await fetch(API_KEY_URL)\n  return await response.text()\n}\n\n/**\n * Fetch Geolocation data for all Synapse users.\n */\nexport async function getAllSynapseUserGeoData(): Promise<GeoData[]> {\n  const response = await fetch(GEO_DATA_URL)\n  return (await response.json()) as GeoData[]\n}\n\n/**\n * Fetch Geolocation data for a particular Synapse team.\n */\nexport async function getSynapseTeamGeoData(\n  teamId: string,\n): Promise<GeoData[]> {\n  const response = await fetch(`${S3_GEODATA_ENDPOINT}${teamId}.json`)\n  return (await response.json()) as GeoData[]\n}\n\n/**\n * This API is used to retrieve a subscription given its ID\n * Target users: Synapse user who created this subscription.\n */\nexport function getSubscription(\n  accessToken: string | undefined,\n  subscriptionId: string,\n) {\n  return doGet<Subscription>(\n    `/repo/v1/subscription/${subscriptionId}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Retrieve subscribers for a given topic.\n * https://rest-docs.synapse.org/rest/POST/subscription/subscribers.html\n * @param accessToken\n * @param topic\n * @returns\n */\nexport function getSubscribers(accessToken: string | undefined, topic: Topic) {\n  return doPost<SubscriberPagedResults>(\n    '/repo/v1/subscription/subscribers',\n    topic,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * This API is used to subscribe to a topic.\n * Target users: anyone who has READ permission on the object.\n * https://rest-docs.synapse.org/rest/POST/subscription.html\n */\nexport function postSubscription(\n  accessToken: string | undefined,\n  topic: Topic,\n) {\n  return doPost<Subscription>(\n    '/repo/v1/subscription',\n    topic,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * This API is used to unsubscribe to a topic.\n * Target users: Synapse user who created this subscription.\n */\nexport function deleteSubscription(\n  accessToken: string | undefined,\n  subscriptionId: string,\n) {\n  return doDelete(\n    `/repo/v1/subscription/${subscriptionId}`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * This API is used to retrieve subscriptions one has based on a list of provided topics.\n * These topics must have the same objectType.\n * Target users: all Synapse users.\n */\nexport function postSubscriptionList(\n  accessToken: string | undefined,\n  request: SubscriptionRequest,\n) {\n  return doPost<SubscriptionPagedResults>(\n    '/repo/v1/subscription/list',\n    request,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get the default upload destination for the entity with the given id. The id might refer to the parent container\n * (e.g. a folder or a project) where a file needs to be uploaded.\n *\n * The upload destination is generated according to the default StorageLocationSetting for the project where the entity\n * resides. If the project does not contain any custom StorageLocationSetting the default synapse storage location is\n * used to generate an upload destination.\n *\n * https://rest-docs.synapse.org/rest/GET/entity/id/uploadDestination.html\n * @param containerEntityId\n * @param accessToken\n */\nexport function getDefaultUploadDestination(\n  containerEntityId: string,\n  accessToken: string | undefined,\n): Promise<UploadDestination> {\n  return doGet<UploadDestination>(\n    `/file/v1/entity/${containerEntityId}/uploadDestination`,\n    accessToken,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Retrieves the DOI for the object. Note: this call only retrieves the DOI association, if it exists.\n * To retrieve the metadata for the object, see GET /doi\n *\n * https://rest-docs.synapse.org/rest/GET/doi/association.html\n */\nexport function getDOIAssociation(\n  accessToken: string | undefined,\n  objectId: string,\n  objectVersion?: number,\n  objectType = 'ENTITY',\n): Promise<DoiAssociation | null> {\n  const params = new URLSearchParams()\n  params.set('type', objectType)\n  params.set('id', objectId)\n  if (objectVersion) {\n    params.set('type', objectVersion.toString())\n  }\n\n  return allowNotFoundError(() =>\n    doGet<DoiAssociation>(\n      `${DOI_ASSOCIATION}?${params.toString()}`,\n      accessToken,\n      BackendDestinationEnum.REPO_ENDPOINT,\n    ),\n  )\n}\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { CacheProvider } from '@emotion/react';\nimport createCache from '@emotion/cache';\n\n// prepend: true moves MUI styles to the top of the <head> so they're loaded first.\n// It allows developers to easily override MUI styles with other styling solutions, like CSS modules.\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nlet cache;\nif (typeof document === 'object') {\n  cache = createCache({\n    key: 'css',\n    prepend: true\n  });\n}\nexport default function StyledEngineProvider(props) {\n  const {\n    injectFirst,\n    children\n  } = props;\n  return injectFirst && cache ? /*#__PURE__*/_jsx(CacheProvider, {\n    value: cache,\n    children: children\n  }) : children;\n}\nprocess.env.NODE_ENV !== \"production\" ? StyledEngineProvider.propTypes = {\n  /**\n   * Your component tree.\n   */\n  children: PropTypes.node,\n  /**\n   * By default, the styles are injected last in the <head> element of the page.\n   * As a result, they gain more specificity than any other style sheet.\n   * If you want to override MUI's styles, set this prop.\n   */\n  injectFirst: PropTypes.bool\n} : void 0;","const hasSymbol = typeof Symbol === 'function' && Symbol.for;\nexport default hasSymbol ? Symbol.for('mui.nested') : '__THEME_NESTED__';","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { exactProp } from '@mui/utils';\nimport ThemeContext from '../useTheme/ThemeContext';\nimport useTheme from '../useTheme';\nimport nested from './nested';\n\n// To support composition of theme.\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nfunction mergeOuterLocalTheme(outerTheme, localTheme) {\n  if (typeof localTheme === 'function') {\n    const mergedTheme = localTheme(outerTheme);\n    if (process.env.NODE_ENV !== 'production') {\n      if (!mergedTheme) {\n        console.error(['MUI: You should return an object from your theme function, i.e.', '<ThemeProvider theme={() => ({})} />'].join('\\n'));\n      }\n    }\n    return mergedTheme;\n  }\n  return _extends({}, outerTheme, localTheme);\n}\n\n/**\n * This component takes a `theme` prop.\n * It makes the `theme` available down the React tree thanks to React context.\n * This component should preferably be used at **the root of your component tree**.\n */\nfunction ThemeProvider(props) {\n  const {\n    children,\n    theme: localTheme\n  } = props;\n  const outerTheme = useTheme();\n  if (process.env.NODE_ENV !== 'production') {\n    if (outerTheme === null && typeof localTheme === 'function') {\n      console.error(['MUI: You are providing a theme function prop to the ThemeProvider component:', '<ThemeProvider theme={outerTheme => outerTheme} />', '', 'However, no outer theme is present.', 'Make sure a theme is already injected higher in the React tree ' + 'or provide a theme object.'].join('\\n'));\n    }\n  }\n  const theme = React.useMemo(() => {\n    const output = outerTheme === null ? localTheme : mergeOuterLocalTheme(outerTheme, localTheme);\n    if (output != null) {\n      output[nested] = outerTheme !== null;\n    }\n    return output;\n  }, [localTheme, outerTheme]);\n  return /*#__PURE__*/_jsx(ThemeContext.Provider, {\n    value: theme,\n    children: children\n  });\n}\nprocess.env.NODE_ENV !== \"production\" ? ThemeProvider.propTypes = {\n  /**\n   * Your component tree.\n   */\n  children: PropTypes.node,\n  /**\n   * A theme object. You can provide a function to extend the outer theme.\n   */\n  theme: PropTypes.oneOfType([PropTypes.object, PropTypes.func]).isRequired\n} : void 0;\nif (process.env.NODE_ENV !== 'production') {\n  process.env.NODE_ENV !== \"production\" ? ThemeProvider.propTypes = exactProp(ThemeProvider.propTypes) : void 0;\n}\nexport default ThemeProvider;","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { ThemeProvider as MuiThemeProvider } from '@mui/private-theming';\nimport { exactProp } from '@mui/utils';\nimport { ThemeContext as StyledEngineThemeContext } from '@mui/styled-engine';\nimport useTheme from '../useTheme';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst EMPTY_THEME = {};\nfunction InnerThemeProvider(props) {\n  const theme = useTheme();\n  return /*#__PURE__*/_jsx(StyledEngineThemeContext.Provider, {\n    value: typeof theme === 'object' ? theme : EMPTY_THEME,\n    children: props.children\n  });\n}\nprocess.env.NODE_ENV !== \"production\" ? InnerThemeProvider.propTypes = {\n  /**\n   * Your component tree.\n   */\n  children: PropTypes.node\n} : void 0;\n\n/**\n * This component makes the `theme` available down the React tree.\n * It should preferably be used at **the root of your component tree**.\n */\nfunction ThemeProvider(props) {\n  const {\n    children,\n    theme: localTheme\n  } = props;\n  return /*#__PURE__*/_jsx(MuiThemeProvider, {\n    theme: localTheme,\n    children: /*#__PURE__*/_jsx(InnerThemeProvider, {\n      children: children\n    })\n  });\n}\nprocess.env.NODE_ENV !== \"production\" ? ThemeProvider.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * Your component tree.\n   */\n  children: PropTypes.node,\n  /**\n   * A theme object. You can provide a function to extend the outer theme.\n   */\n  theme: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired\n} : void 0;\nif (process.env.NODE_ENV !== 'production') {\n  process.env.NODE_ENV !== \"production\" ? ThemeProvider.propTypes = exactProp(ThemeProvider.propTypes) : void 0;\n}\nexport default ThemeProvider;","import { unstable_generateUtilityClasses as generateUtilityClasses } from '@mui/utils';\nimport generateUtilityClass from '../generateUtilityClass';\nexport function getCollapseUtilityClass(slot) {\n  return generateUtilityClass('MuiCollapse', slot);\n}\nconst collapseClasses = generateUtilityClasses('MuiCollapse', ['root', 'horizontal', 'vertical', 'entered', 'hidden', 'wrapper', 'wrapperInner']);\nexport default collapseClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"addEndListener\", \"children\", \"className\", \"collapsedSize\", \"component\", \"easing\", \"in\", \"onEnter\", \"onEntered\", \"onEntering\", \"onExit\", \"onExited\", \"onExiting\", \"orientation\", \"style\", \"timeout\", \"TransitionComponent\"];\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { Transition } from 'react-transition-group';\nimport { elementTypeAcceptingRef } from '@mui/utils';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport { duration } from '../styles/createTransitions';\nimport { getTransitionProps } from '../transitions/utils';\nimport useTheme from '../styles/useTheme';\nimport { useForkRef } from '../utils';\nimport { getCollapseUtilityClass } from './collapseClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    orientation,\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root', `${orientation}`],\n    entered: ['entered'],\n    hidden: ['hidden'],\n    wrapper: ['wrapper', `${orientation}`],\n    wrapperInner: ['wrapperInner', `${orientation}`]\n  };\n  return composeClasses(slots, getCollapseUtilityClass, classes);\n};\nconst CollapseRoot = styled('div', {\n  name: 'MuiCollapse',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[ownerState.orientation], ownerState.state === 'entered' && styles.entered, ownerState.state === 'exited' && !ownerState.in && ownerState.collapsedSize === '0px' && styles.hidden];\n  }\n})(({\n  theme,\n  ownerState\n}) => _extends({\n  height: 0,\n  overflow: 'hidden',\n  transition: theme.transitions.create('height')\n}, ownerState.orientation === 'horizontal' && {\n  height: 'auto',\n  width: 0,\n  transition: theme.transitions.create('width')\n}, ownerState.state === 'entered' && _extends({\n  height: 'auto',\n  overflow: 'visible'\n}, ownerState.orientation === 'horizontal' && {\n  width: 'auto'\n}), ownerState.state === 'exited' && !ownerState.in && ownerState.collapsedSize === '0px' && {\n  visibility: 'hidden'\n}));\nconst CollapseWrapper = styled('div', {\n  name: 'MuiCollapse',\n  slot: 'Wrapper',\n  overridesResolver: (props, styles) => styles.wrapper\n})(({\n  ownerState\n}) => _extends({\n  // Hack to get children with a negative margin to not falsify the height computation.\n  display: 'flex',\n  width: '100%'\n}, ownerState.orientation === 'horizontal' && {\n  width: 'auto',\n  height: '100%'\n}));\nconst CollapseWrapperInner = styled('div', {\n  name: 'MuiCollapse',\n  slot: 'WrapperInner',\n  overridesResolver: (props, styles) => styles.wrapperInner\n})(({\n  ownerState\n}) => _extends({\n  width: '100%'\n}, ownerState.orientation === 'horizontal' && {\n  width: 'auto',\n  height: '100%'\n}));\n\n/**\n * The Collapse transition is used by the\n * [Vertical Stepper](/material-ui/react-stepper/#vertical-stepper) StepContent component.\n * It uses [react-transition-group](https://github.com/reactjs/react-transition-group) internally.\n */\nconst Collapse = /*#__PURE__*/React.forwardRef(function Collapse(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiCollapse'\n  });\n  const {\n      addEndListener,\n      children,\n      className,\n      collapsedSize: collapsedSizeProp = '0px',\n      component,\n      easing,\n      in: inProp,\n      onEnter,\n      onEntered,\n      onEntering,\n      onExit,\n      onExited,\n      onExiting,\n      orientation = 'vertical',\n      style,\n      timeout = duration.standard,\n      // eslint-disable-next-line react/prop-types\n      TransitionComponent = Transition\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = _extends({}, props, {\n    orientation,\n    collapsedSize: collapsedSizeProp\n  });\n  const classes = useUtilityClasses(ownerState);\n  const theme = useTheme();\n  const timer = React.useRef();\n  const wrapperRef = React.useRef(null);\n  const autoTransitionDuration = React.useRef();\n  const collapsedSize = typeof collapsedSizeProp === 'number' ? `${collapsedSizeProp}px` : collapsedSizeProp;\n  const isHorizontal = orientation === 'horizontal';\n  const size = isHorizontal ? 'width' : 'height';\n  React.useEffect(() => {\n    return () => {\n      clearTimeout(timer.current);\n    };\n  }, []);\n  const nodeRef = React.useRef(null);\n  const handleRef = useForkRef(ref, nodeRef);\n  const normalizedTransitionCallback = callback => maybeIsAppearing => {\n    if (callback) {\n      const node = nodeRef.current;\n\n      // onEnterXxx and onExitXxx callbacks have a different arguments.length value.\n      if (maybeIsAppearing === undefined) {\n        callback(node);\n      } else {\n        callback(node, maybeIsAppearing);\n      }\n    }\n  };\n  const getWrapperSize = () => wrapperRef.current ? wrapperRef.current[isHorizontal ? 'clientWidth' : 'clientHeight'] : 0;\n  const handleEnter = normalizedTransitionCallback((node, isAppearing) => {\n    if (wrapperRef.current && isHorizontal) {\n      // Set absolute position to get the size of collapsed content\n      wrapperRef.current.style.position = 'absolute';\n    }\n    node.style[size] = collapsedSize;\n    if (onEnter) {\n      onEnter(node, isAppearing);\n    }\n  });\n  const handleEntering = normalizedTransitionCallback((node, isAppearing) => {\n    const wrapperSize = getWrapperSize();\n    if (wrapperRef.current && isHorizontal) {\n      // After the size is read reset the position back to default\n      wrapperRef.current.style.position = '';\n    }\n    const {\n      duration: transitionDuration,\n      easing: transitionTimingFunction\n    } = getTransitionProps({\n      style,\n      timeout,\n      easing\n    }, {\n      mode: 'enter'\n    });\n    if (timeout === 'auto') {\n      const duration2 = theme.transitions.getAutoHeightDuration(wrapperSize);\n      node.style.transitionDuration = `${duration2}ms`;\n      autoTransitionDuration.current = duration2;\n    } else {\n      node.style.transitionDuration = typeof transitionDuration === 'string' ? transitionDuration : `${transitionDuration}ms`;\n    }\n    node.style[size] = `${wrapperSize}px`;\n    node.style.transitionTimingFunction = transitionTimingFunction;\n    if (onEntering) {\n      onEntering(node, isAppearing);\n    }\n  });\n  const handleEntered = normalizedTransitionCallback((node, isAppearing) => {\n    node.style[size] = 'auto';\n    if (onEntered) {\n      onEntered(node, isAppearing);\n    }\n  });\n  const handleExit = normalizedTransitionCallback(node => {\n    node.style[size] = `${getWrapperSize()}px`;\n    if (onExit) {\n      onExit(node);\n    }\n  });\n  const handleExited = normalizedTransitionCallback(onExited);\n  const handleExiting = normalizedTransitionCallback(node => {\n    const wrapperSize = getWrapperSize();\n    const {\n      duration: transitionDuration,\n      easing: transitionTimingFunction\n    } = getTransitionProps({\n      style,\n      timeout,\n      easing\n    }, {\n      mode: 'exit'\n    });\n    if (timeout === 'auto') {\n      // TODO: rename getAutoHeightDuration to something more generic (width support)\n      // Actually it just calculates animation duration based on size\n      const duration2 = theme.transitions.getAutoHeightDuration(wrapperSize);\n      node.style.transitionDuration = `${duration2}ms`;\n      autoTransitionDuration.current = duration2;\n    } else {\n      node.style.transitionDuration = typeof transitionDuration === 'string' ? transitionDuration : `${transitionDuration}ms`;\n    }\n    node.style[size] = collapsedSize;\n    node.style.transitionTimingFunction = transitionTimingFunction;\n    if (onExiting) {\n      onExiting(node);\n    }\n  });\n  const handleAddEndListener = next => {\n    if (timeout === 'auto') {\n      timer.current = setTimeout(next, autoTransitionDuration.current || 0);\n    }\n    if (addEndListener) {\n      // Old call signature before `react-transition-group` implemented `nodeRef`\n      addEndListener(nodeRef.current, next);\n    }\n  };\n  return /*#__PURE__*/_jsx(TransitionComponent, _extends({\n    in: inProp,\n    onEnter: handleEnter,\n    onEntered: handleEntered,\n    onEntering: handleEntering,\n    onExit: handleExit,\n    onExited: handleExited,\n    onExiting: handleExiting,\n    addEndListener: handleAddEndListener,\n    nodeRef: nodeRef,\n    timeout: timeout === 'auto' ? null : timeout\n  }, other, {\n    children: (state, childProps) => /*#__PURE__*/_jsx(CollapseRoot, _extends({\n      as: component,\n      className: clsx(classes.root, className, {\n        'entered': classes.entered,\n        'exited': !inProp && collapsedSize === '0px' && classes.hidden\n      }[state]),\n      style: _extends({\n        [isHorizontal ? 'minWidth' : 'minHeight']: collapsedSize\n      }, style),\n      ownerState: _extends({}, ownerState, {\n        state\n      }),\n      ref: handleRef\n    }, childProps, {\n      children: /*#__PURE__*/_jsx(CollapseWrapper, {\n        ownerState: _extends({}, ownerState, {\n          state\n        }),\n        className: classes.wrapper,\n        ref: wrapperRef,\n        children: /*#__PURE__*/_jsx(CollapseWrapperInner, {\n          ownerState: _extends({}, ownerState, {\n            state\n          }),\n          className: classes.wrapperInner,\n          children: children\n        })\n      })\n    }))\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Collapse.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * Add a custom transition end trigger. Called with the transitioning DOM\n   * node and a done callback. Allows for more fine grained transition end\n   * logic. Note: Timeouts are still used as a fallback if provided.\n   */\n  addEndListener: PropTypes.func,\n  /**\n   * The content node to be collapsed.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The width (horizontal) or height (vertical) of the container when collapsed.\n   * @default '0px'\n   */\n  collapsedSize: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: elementTypeAcceptingRef,\n  /**\n   * The transition timing function.\n   * You may specify a single easing or a object containing enter and exit values.\n   */\n  easing: PropTypes.oneOfType([PropTypes.shape({\n    enter: PropTypes.string,\n    exit: PropTypes.string\n  }), PropTypes.string]),\n  /**\n   * If `true`, the component will transition in.\n   */\n  in: PropTypes.bool,\n  /**\n   * @ignore\n   */\n  onEnter: PropTypes.func,\n  /**\n   * @ignore\n   */\n  onEntered: PropTypes.func,\n  /**\n   * @ignore\n   */\n  onEntering: PropTypes.func,\n  /**\n   * @ignore\n   */\n  onExit: PropTypes.func,\n  /**\n   * @ignore\n   */\n  onExited: PropTypes.func,\n  /**\n   * @ignore\n   */\n  onExiting: PropTypes.func,\n  /**\n   * The transition orientation.\n   * @default 'vertical'\n   */\n  orientation: PropTypes.oneOf(['horizontal', 'vertical']),\n  /**\n   * @ignore\n   */\n  style: PropTypes.object,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * The duration for the transition, in milliseconds.\n   * You may specify a single timeout for all transitions, or individually with an object.\n   *\n   * Set to 'auto' to automatically calculate transition time based on height.\n   * @default duration.standard\n   */\n  timeout: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number, PropTypes.shape({\n    appear: PropTypes.number,\n    enter: PropTypes.number,\n    exit: PropTypes.number\n  })])\n} : void 0;\nCollapse.muiSupportAuto = true;\nexport default Collapse;","import * as React from 'react'\nimport SvgIcon, { SvgIconProps } from '@mui/material/SvgIcon'\n\nexport const GoogleIcon24 = (props: SvgIconProps) => {\n  return (\n    <SvgIcon {...props}>\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M19.68 12.1818C19.68 11.6146 19.6291 11.0691 19.5345 10.5455H12V13.64H16.3055C16.12 14.64 15.5564 15.4873 14.7091 16.0546V18.0618H17.2945C18.8073 16.6691 19.68 14.6182 19.68 12.1818Z\"\n        fill=\"#4285F4\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M12 20C14.16 20 15.9709 19.2836 17.2946 18.0618L14.7091 16.0545C13.9927 16.5345 13.0764 16.8182 12 16.8182C9.91637 16.8182 8.15273 15.4109 7.52364 13.52H4.85091V15.5927C6.16728 18.2073 8.87273 20 12 20Z\"\n        fill=\"#34A853\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M7.52364 13.52C7.36364 13.04 7.27273 12.5273 7.27273 12C7.27273 11.4727 7.36364 10.96 7.52364 10.48V8.40729H4.85091C4.30909 9.48729 4 10.7091 4 12C4 13.2909 4.30909 14.5127 4.85091 15.5927L7.52364 13.52Z\"\n        fill=\"#FBBC05\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M12 7.18182C13.1746 7.18182 14.2291 7.58545 15.0582 8.37818L17.3527 6.08364C15.9673 4.79273 14.1564 4 12 4C8.87273 4 6.16728 5.79273 4.85091 8.40727L7.52364 10.48C8.15273 8.58909 9.91637 7.18182 12 7.18182Z\"\n        fill=\"#EA4335\"\n      />\n    </SvgIcon>\n  )\n}\n","import { Box, Button } from '@mui/material'\nimport { GoogleIcon24 } from '../../assets/GoogleIcon24'\nimport IconSvg from '../IconSvg'\nimport React from 'react'\nimport { SynapseClient } from '../../utils'\nimport { SynapseClientError } from '../../utils/SynapseClientError'\n\ntype AuthenticationMethodSelectionProps = {\n  ssoRedirectUrl?: string\n  /* Invoked before redirecting to Google. Useful in portals where we may want to store the current URL to redirect back here. */\n  onBeginOAuthSignIn?: () => void\n  onSelectUsernameAndPassword: () => void\n}\n\nexport const PROVIDERS = {\n  GOOGLE: 'GOOGLE_OAUTH_2_0',\n  ORCID: 'ORCID',\n}\n/**\n *  To support Google SSO in your portal, you must add your domain to the Authorized Redirect URIs for Synapse authentication.\n *  This can be done by visiting https://sagebionetworks.jira.com/servicedesk/customer/portal/9 to set up a collaboration.\n *  Synapse engineers must add your redirect URL in the Google API console found at https://console.cloud.google.com/ for this functionality to work.\n */\nexport default function AuthenticationMethodSelection(\n  props: AuthenticationMethodSelectionProps,\n) {\n  const { onBeginOAuthSignIn, ssoRedirectUrl, onSelectUsernameAndPassword } =\n    props\n  function onGoogleSignIn(event: React.MouseEvent<HTMLButtonElement>) {\n    if (onBeginOAuthSignIn) {\n      onBeginOAuthSignIn()\n    }\n\n    event.preventDefault()\n    const redirectUrl = ssoRedirectUrl\n      ? `${ssoRedirectUrl}${PROVIDERS.GOOGLE}`\n      : `${SynapseClient.getRootURL()}?provider=${PROVIDERS.GOOGLE}`\n    SynapseClient.oAuthUrlRequest(PROVIDERS.GOOGLE, redirectUrl)\n      .then(data => {\n        // Send the user to the authorization URL\n        window.location = data.authorizationUrl as unknown as Location\n      })\n      .catch((err: SynapseClientError) => {\n        console.log('Error on oAuth url ', err)\n      })\n  }\n\n  return (\n    <Box>\n      <Button\n        fullWidth\n        variant=\"outlined\"\n        color=\"primary\"\n        onClick={onGoogleSignIn}\n        sx={{\n          height: '50px',\n          mb: '10px',\n        }}\n        startIcon={<GoogleIcon24 sx={{ width: '28px', height: '28px' }} />}\n      >\n        Sign in with Google\n      </Button>\n      <Button\n        fullWidth\n        variant=\"outlined\"\n        color=\"primary\"\n        startIcon={\n          <IconSvg icon=\"email\" sx={{ width: '28px', height: '28px' }} />\n        }\n        sx={{\n          height: '50px',\n          mb: '10px',\n        }}\n        onClick={onSelectUsernameAndPassword}\n      >\n        Sign in with your email\n      </Button>\n    </Box>\n  )\n}\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nexport default isObject;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nexport default identity;\n","import baseGetTag from './_baseGetTag.js';\nimport isObject from './isObject.js';\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nexport default isFunction;\n","import root from './_root.js';\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nexport default coreJsData;\n","import coreJsData from './_coreJsData.js';\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nexport default isMasked;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nexport default toSource;\n","import isFunction from './isFunction.js';\nimport isMasked from './_isMasked.js';\nimport isObject from './isObject.js';\nimport toSource from './_toSource.js';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nexport default baseIsNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nexport default getValue;\n","import baseIsNative from './_baseIsNative.js';\nimport getValue from './_getValue.js';\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nexport default getNative;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nexport default WeakMap;\n","import isObject from './isObject.js';\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nexport default baseCreate;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nexport default apply;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nexport default copyArray;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nexport default shortOut;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nexport default constant;\n","import getNative from './_getNative.js';\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nexport default defineProperty;\n","import constant from './constant.js';\nimport defineProperty from './_defineProperty.js';\nimport identity from './identity.js';\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nexport default baseSetToString;\n","import baseSetToString from './_baseSetToString.js';\nimport shortOut from './_shortOut.js';\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nexport default setToString;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nexport default isIndex;\n","import defineProperty from './_defineProperty.js';\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nexport default baseAssignValue;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nexport default eq;\n","import baseAssignValue from './_baseAssignValue.js';\nimport eq from './eq.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nexport default assignValue;\n","import assignValue from './_assignValue.js';\nimport baseAssignValue from './_baseAssignValue.js';\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nexport default copyObject;\n","import apply from './_apply.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nexport default overRest;\n","import identity from './identity.js';\nimport overRest from './_overRest.js';\nimport setToString from './_setToString.js';\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nexport default baseRest;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nexport default isLength;\n","import isFunction from './isFunction.js';\nimport isLength from './isLength.js';\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nexport default isArrayLike;\n","import eq from './eq.js';\nimport isArrayLike from './isArrayLike.js';\nimport isIndex from './_isIndex.js';\nimport isObject from './isObject.js';\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nexport default isIterateeCall;\n","import baseRest from './_baseRest.js';\nimport isIterateeCall from './_isIterateeCall.js';\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nexport default createAssigner;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nexport default isPrototype;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nexport default baseTimes;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nexport default baseIsArguments;\n","import baseIsArguments from './_baseIsArguments.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nexport default isArguments;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nexport default stubFalse;\n","import root from './_root.js';\nimport stubFalse from './stubFalse.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nexport default isBuffer;\n","import baseGetTag from './_baseGetTag.js';\nimport isLength from './isLength.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nexport default baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nexport default baseUnary;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nexport default nodeUtil;\n","import baseIsTypedArray from './_baseIsTypedArray.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nexport default isTypedArray;\n","import baseTimes from './_baseTimes.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isIndex from './_isIndex.js';\nimport isTypedArray from './isTypedArray.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default arrayLikeKeys;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nexport default overArg;\n","import overArg from './_overArg.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nexport default nativeKeys;\n","import isPrototype from './_isPrototype.js';\nimport nativeKeys from './_nativeKeys.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default baseKeys;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default nativeKeysIn;\n","import isObject from './isObject.js';\nimport isPrototype from './_isPrototype.js';\nimport nativeKeysIn from './_nativeKeysIn.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default baseKeysIn;\n","import arrayLikeKeys from './_arrayLikeKeys.js';\nimport baseKeysIn from './_baseKeysIn.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nexport default keysIn;\n","import getNative from './_getNative.js';\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nexport default nativeCreate;\n","import nativeCreate from './_nativeCreate.js';\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nexport default hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default hashDelete;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nexport default hashGet;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nexport default hashHas;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nexport default hashSet;\n","import hashClear from './_hashClear.js';\nimport hashDelete from './_hashDelete.js';\nimport hashGet from './_hashGet.js';\nimport hashHas from './_hashHas.js';\nimport hashSet from './_hashSet.js';\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nexport default Hash;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nexport default listCacheClear;\n","import eq from './eq.js';\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nexport default assocIndexOf;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nexport default listCacheDelete;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nexport default listCacheGet;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nexport default listCacheHas;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nexport default listCacheSet;\n","import listCacheClear from './_listCacheClear.js';\nimport listCacheDelete from './_listCacheDelete.js';\nimport listCacheGet from './_listCacheGet.js';\nimport listCacheHas from './_listCacheHas.js';\nimport listCacheSet from './_listCacheSet.js';\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nexport default ListCache;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nexport default Map;\n","import Hash from './_Hash.js';\nimport ListCache from './_ListCache.js';\nimport Map from './_Map.js';\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nexport default mapCacheClear;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nexport default isKeyable;\n","import isKeyable from './_isKeyable.js';\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nexport default getMapData;\n","import getMapData from './_getMapData.js';\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default mapCacheDelete;\n","import getMapData from './_getMapData.js';\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nexport default mapCacheGet;\n","import getMapData from './_getMapData.js';\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nexport default mapCacheHas;\n","import getMapData from './_getMapData.js';\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nexport default mapCacheSet;\n","import mapCacheClear from './_mapCacheClear.js';\nimport mapCacheDelete from './_mapCacheDelete.js';\nimport mapCacheGet from './_mapCacheGet.js';\nimport mapCacheHas from './_mapCacheHas.js';\nimport mapCacheSet from './_mapCacheSet.js';\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nexport default MapCache;\n","import overArg from './_overArg.js';\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nexport default getPrototype;\n","import baseGetTag from './_baseGetTag.js';\nimport getPrototype from './_getPrototype.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nexport default isPlainObject;\n","import ListCache from './_ListCache.js';\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nexport default stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nexport default stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nexport default stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nexport default stackHas;\n","import ListCache from './_ListCache.js';\nimport Map from './_Map.js';\nimport MapCache from './_MapCache.js';\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nexport default stackSet;\n","import ListCache from './_ListCache.js';\nimport stackClear from './_stackClear.js';\nimport stackDelete from './_stackDelete.js';\nimport stackGet from './_stackGet.js';\nimport stackHas from './_stackHas.js';\nimport stackSet from './_stackSet.js';\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nexport default Stack;\n","import root from './_root.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\nexport default cloneBuffer;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nexport default DataView;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nexport default Promise;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nexport default Set;\n","import DataView from './_DataView.js';\nimport Map from './_Map.js';\nimport Promise from './_Promise.js';\nimport Set from './_Set.js';\nimport WeakMap from './_WeakMap.js';\nimport baseGetTag from './_baseGetTag.js';\nimport toSource from './_toSource.js';\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nexport default getTag;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nexport default Uint8Array;\n","import Uint8Array from './_Uint8Array.js';\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\nexport default cloneArrayBuffer;\n","import cloneArrayBuffer from './_cloneArrayBuffer.js';\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nexport default cloneTypedArray;\n","import baseCreate from './_baseCreate.js';\nimport getPrototype from './_getPrototype.js';\nimport isPrototype from './_isPrototype.js';\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\nexport default initCloneObject;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nexport default createBaseFor;\n","import createBaseFor from './_createBaseFor.js';\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nexport default baseFor;\n","import baseAssignValue from './_baseAssignValue.js';\nimport eq from './eq.js';\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq(object[key], value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nexport default assignMergeValue;\n","import isArrayLike from './isArrayLike.js';\nimport isObjectLike from './isObjectLike.js';\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nexport default isArrayLikeObject;\n","/**\n * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction safeGet(object, key) {\n  if (key === 'constructor' && typeof object[key] === 'function') {\n    return;\n  }\n\n  if (key == '__proto__') {\n    return;\n  }\n\n  return object[key];\n}\n\nexport default safeGet;\n","import copyObject from './_copyObject.js';\nimport keysIn from './keysIn.js';\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return copyObject(value, keysIn(value));\n}\n\nexport default toPlainObject;\n","import assignMergeValue from './_assignMergeValue.js';\nimport cloneBuffer from './_cloneBuffer.js';\nimport cloneTypedArray from './_cloneTypedArray.js';\nimport copyArray from './_copyArray.js';\nimport initCloneObject from './_initCloneObject.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isArrayLikeObject from './isArrayLikeObject.js';\nimport isBuffer from './isBuffer.js';\nimport isFunction from './isFunction.js';\nimport isObject from './isObject.js';\nimport isPlainObject from './isPlainObject.js';\nimport isTypedArray from './isTypedArray.js';\nimport safeGet from './_safeGet.js';\nimport toPlainObject from './toPlainObject.js';\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = safeGet(object, key),\n      srcValue = safeGet(source, key),\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    var isArr = isArray(srcValue),\n        isBuff = !isArr && isBuffer(srcValue),\n        isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n    newValue = srcValue;\n    if (isArr || isBuff || isTyped) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      }\n      else if (isBuff) {\n        isCommon = false;\n        newValue = cloneBuffer(srcValue, true);\n      }\n      else if (isTyped) {\n        isCommon = false;\n        newValue = cloneTypedArray(srcValue, true);\n      }\n      else {\n        newValue = [];\n      }\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      newValue = objValue;\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      }\n      else if (!isObject(objValue) || isFunction(objValue)) {\n        newValue = initCloneObject(srcValue);\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, newValue);\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n    stack['delete'](srcValue);\n  }\n  assignMergeValue(object, key, newValue);\n}\n\nexport default baseMergeDeep;\n","import Stack from './_Stack.js';\nimport assignMergeValue from './_assignMergeValue.js';\nimport baseFor from './_baseFor.js';\nimport baseMergeDeep from './_baseMergeDeep.js';\nimport isObject from './isObject.js';\nimport keysIn from './keysIn.js';\nimport safeGet from './_safeGet.js';\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  baseFor(source, function(srcValue, key) {\n    stack || (stack = new Stack);\n    if (isObject(srcValue)) {\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      assignMergeValue(object, key, newValue);\n    }\n  }, keysIn);\n}\n\nexport default baseMerge;\n","import baseKeys from './_baseKeys.js';\nimport getTag from './_getTag.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isArrayLike from './isArrayLike.js';\nimport isBuffer from './isBuffer.js';\nimport isPrototype from './_isPrototype.js';\nimport isTypedArray from './isTypedArray.js';\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    setTag = '[object Set]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if `value` is an empty object, collection, map, or set.\n *\n * Objects are considered empty if they have no own enumerable string keyed\n * properties.\n *\n * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n * jQuery-like collections are considered empty if they have a `length` of `0`.\n * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n * @example\n *\n * _.isEmpty(null);\n * // => true\n *\n * _.isEmpty(true);\n * // => true\n *\n * _.isEmpty(1);\n * // => true\n *\n * _.isEmpty([1, 2, 3]);\n * // => false\n *\n * _.isEmpty({ 'a': 1 });\n * // => false\n */\nfunction isEmpty(value) {\n  if (value == null) {\n    return true;\n  }\n  if (isArrayLike(value) &&\n      (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n        isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n    return !value.length;\n  }\n  var tag = getTag(value);\n  if (tag == mapTag || tag == setTag) {\n    return !value.size;\n  }\n  if (isPrototype(value)) {\n    return !baseKeys(value).length;\n  }\n  for (var key in value) {\n    if (hasOwnProperty.call(value, key)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexport default isEmpty;\n","import baseMerge from './_baseMerge.js';\nimport createAssigner from './_createAssigner.js';\n\n/**\n * This method is like `_.assign` except that it recursively merges own and\n * inherited enumerable string keyed properties of source objects into the\n * destination object. Source properties that resolve to `undefined` are\n * skipped if a destination value exists. Array and plain object properties\n * are merged recursively. Other objects and value types are overridden by\n * assignment. Source objects are applied from left to right. Subsequent\n * sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = {\n *   'a': [{ 'b': 2 }, { 'd': 4 }]\n * };\n *\n * var other = {\n *   'a': [{ 'c': 3 }, { 'e': 5 }]\n * };\n *\n * _.merge(object, other);\n * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n */\nvar merge = createAssigner(function(object, source, srcIndex) {\n  baseMerge(object, source, srcIndex);\n});\n\nexport default merge;\n","import { isTypeViaConcreteTypeFactory } from '../../functions/TypeUtils'\nimport { Entity } from '../Entity'\n\nexport const DOCKER_REPOSITORY_CONCRETE_TYPE_VALUE =\n  'org.sagebionetworks.repo.model.docker.DockerRepository'\nexport type DOCKER_REPOSITORY_CONCRETE_TYPE =\n  typeof DOCKER_REPOSITORY_CONCRETE_TYPE_VALUE\n\n// https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/docker/DockerRepository.html\nexport interface DockerRepository extends Entity {\n  concreteType: DOCKER_REPOSITORY_CONCRETE_TYPE\n  /** This is the repository name, [host[:port]/]path */\n  repositoryName: string\n  /** Indicates that the repository is managed by Synapse, rather than by an external registry. */\n  isManaged: boolean\n}\n\nexport const isDockerRepository =\n  isTypeViaConcreteTypeFactory<DockerRepository>(\n    DOCKER_REPOSITORY_CONCRETE_TYPE_VALUE,\n  )\n","import {\n  Entity,\n  EntityHeader,\n  EntityType,\n  EntityView,\n  ENTITY_CONCRETE_TYPE,\n  ENTITY_VIEW_TYPE_MASK_FILE,\n  ProjectHeader,\n  Dataset,\n  Table,\n  TableEntity,\n  SubmissionView,\n  VersionableEntity,\n  VIEW_CONCRETE_TYPE_VALUES,\n  View,\n  TABLE_CONCRETE_TYPE_VALUES,\n  SUBMISSION_VIEW_CONCRETE_TYPE_VALUE,\n  DATASET_CONCRETE_TYPE_VALUE,\n  ENTITY_VIEW_CONCRETE_TYPE_VALUE,\n  DatasetCollection,\n  DATASET_COLLECTION_CONCRETE_TYPE_VALUE,\n  FILE_ENTITY_CONCRETE_TYPE_VALUE,\n  LINK_CONCRETE_TYPE_VALUE,\n  FOLDER_CONCRETE_TYPE_VALUE,\n  PROJECT_CONCRETE_TYPE_VALUE,\n} from '../synapseTypes'\nimport { Hit } from '../synapseTypes/Search'\nimport {\n  MaterializedView,\n  MATERIALIZED_VIEW_CONCRETE_TYPE_VALUE,\n} from '../synapseTypes/Table/MaterializedView'\nimport { TABLE_ENTITY_CONCRETE_TYPE_VALUE } from '../synapseTypes/Table/TableEntity'\nimport { isTypeViaConcreteTypeFactory } from './TypeUtils'\nimport { DOCKER_REPOSITORY_CONCRETE_TYPE_VALUE } from '../synapseTypes/docker/DockerRepository'\n\nexport function getEntityTypeFromHeader(\n  header:\n    | Pick<EntityHeader, 'name' | 'id' | 'type'>\n    | EntityHeader\n    | ProjectHeader\n    | Hit,\n) {\n  // Hit has the `node_type` field which is what we already want.\n  if ((header as Hit).node_type) {\n    return (header as Hit).node_type\n  }\n  // ProjectHeader doesn't have the `type` field, so we can just check that to determine if it's a ProjectHeader\n  return (header as EntityHeader).type === undefined\n    ? EntityType.PROJECT\n    : convertToEntityType((header as EntityHeader).type)\n}\n\nexport function isContainerType(type: EntityType): boolean {\n  switch (type) {\n    case EntityType.PROJECT:\n    case EntityType.FOLDER:\n      return true\n    case EntityType.LINK:\n    case EntityType.DOCKER_REPO:\n    case EntityType.FILE:\n    case EntityType.TABLE:\n    case EntityType.SUBMISSION_VIEW:\n    case EntityType.ENTITY_VIEW:\n    case EntityType.DATASET:\n    case EntityType.DATASET_COLLECTION:\n    case EntityType.MATERIALIZED_VIEW:\n      return false\n    default:\n      throw new Error(`Unknown entity type: ${type}`)\n  }\n}\n\nexport function isTableType(type: EntityType): boolean {\n  switch (type) {\n    case EntityType.PROJECT:\n    case EntityType.FOLDER:\n    case EntityType.LINK:\n    case EntityType.DOCKER_REPO:\n    case EntityType.FILE:\n      return false\n    case EntityType.TABLE:\n    case EntityType.SUBMISSION_VIEW:\n    case EntityType.ENTITY_VIEW:\n    case EntityType.DATASET:\n    case EntityType.DATASET_COLLECTION:\n    case EntityType.MATERIALIZED_VIEW:\n      return true\n    default:\n      throw new Error(`Unknown entity type: ${type}`)\n  }\n}\n\nexport function entityTypeToFriendlyName(entityType: EntityType): string {\n  switch (entityType) {\n    case EntityType.PROJECT:\n      return 'Project'\n    case EntityType.FOLDER:\n      return 'Folder'\n    case EntityType.FILE:\n      return 'File'\n    case EntityType.TABLE:\n      return 'Table'\n    case EntityType.LINK:\n      return 'Link'\n    case EntityType.ENTITY_VIEW:\n      return 'View'\n    case EntityType.DOCKER_REPO:\n      return 'Docker Repository'\n    case EntityType.SUBMISSION_VIEW:\n      return 'Submission View'\n    case EntityType.DATASET:\n      return 'Dataset'\n    case EntityType.DATASET_COLLECTION:\n      return 'Dataset Collection'\n    case EntityType.MATERIALIZED_VIEW:\n      return 'Materialized View'\n    default:\n      console.warn('Entity type could not be mapped to name:', entityType)\n      return ''\n  }\n}\n\nexport function convertToEntityType(\n  typeString: string | ENTITY_CONCRETE_TYPE | EntityType,\n): EntityType {\n  switch (typeString) {\n    case EntityType.PROJECT:\n    case 'org.sagebionetworks.repo.model.Project':\n      return EntityType.PROJECT\n    case EntityType.FOLDER:\n    case 'org.sagebionetworks.repo.model.Folder':\n      return EntityType.FOLDER\n    case EntityType.FILE:\n    case FILE_ENTITY_CONCRETE_TYPE_VALUE:\n      return EntityType.FILE\n    case EntityType.LINK:\n    case 'org.sagebionetworks.repo.model.Link':\n      return EntityType.LINK\n    case EntityType.DOCKER_REPO:\n    case 'org.sagebionetworks.repo.model.docker.DockerRepository':\n      return EntityType.DOCKER_REPO\n    case EntityType.TABLE:\n    case TABLE_ENTITY_CONCRETE_TYPE_VALUE:\n      return EntityType.TABLE\n    case EntityType.SUBMISSION_VIEW:\n    case 'org.sagebionetworks.repo.model.table.SubmissionView':\n      return EntityType.SUBMISSION_VIEW\n    case EntityType.ENTITY_VIEW:\n    case ENTITY_VIEW_CONCRETE_TYPE_VALUE:\n      return EntityType.ENTITY_VIEW\n    case EntityType.DATASET:\n    case DATASET_CONCRETE_TYPE_VALUE:\n      return EntityType.DATASET\n    case EntityType.DATASET_COLLECTION:\n    case DATASET_COLLECTION_CONCRETE_TYPE_VALUE:\n      return EntityType.DATASET_COLLECTION\n    case EntityType.MATERIALIZED_VIEW:\n    case MATERIALIZED_VIEW_CONCRETE_TYPE_VALUE:\n      return EntityType.MATERIALIZED_VIEW\n    default:\n      throw new Error(`Unknown entity type: ${typeString}`)\n  }\n}\n\nexport function convertToConcreteEntityType(\n  type: EntityType,\n): ENTITY_CONCRETE_TYPE {\n  switch (type) {\n    case EntityType.PROJECT:\n      return 'org.sagebionetworks.repo.model.Project'\n    case EntityType.FOLDER:\n      return 'org.sagebionetworks.repo.model.Folder'\n    case EntityType.FILE:\n      return 'org.sagebionetworks.repo.model.FileEntity'\n    case EntityType.LINK:\n      return 'org.sagebionetworks.repo.model.Link'\n    case EntityType.DOCKER_REPO:\n      return 'org.sagebionetworks.repo.model.docker.DockerRepository'\n    case EntityType.TABLE:\n      return 'org.sagebionetworks.repo.model.table.TableEntity'\n    case EntityType.SUBMISSION_VIEW:\n      return 'org.sagebionetworks.repo.model.table.SubmissionView'\n    case EntityType.ENTITY_VIEW:\n      return 'org.sagebionetworks.repo.model.table.EntityView'\n    case EntityType.DATASET:\n      return 'org.sagebionetworks.repo.model.table.Dataset'\n    case EntityType.DATASET_COLLECTION:\n      return 'org.sagebionetworks.repo.model.table.DatasetCollection'\n    case EntityType.MATERIALIZED_VIEW:\n      return 'org.sagebionetworks.repo.model.table.MaterializedView'\n    default:\n      throw new Error(`Unknown entity type: ${type}`)\n  }\n}\n\n/**\n * https://docs.synapse.org/rest/org/sagebionetworks/repo/model/VersionableEntity.html\n * @param type\n * @returns\n */\nexport function isVersionableEntityType(type: EntityType): boolean {\n  switch (type) {\n    case EntityType.PROJECT:\n    case EntityType.FOLDER:\n    case EntityType.LINK:\n    case EntityType.DOCKER_REPO:\n    case EntityType.MATERIALIZED_VIEW: // MaterializedView implements VersionableEntity, but versions aren't supported.\n      return false\n    case EntityType.FILE:\n    case EntityType.TABLE:\n    case EntityType.SUBMISSION_VIEW:\n    case EntityType.ENTITY_VIEW:\n    case EntityType.DATASET:\n    case EntityType.DATASET_COLLECTION:\n      return true\n    default:\n      throw new Error(`Unknown entity type: ${type}`)\n  }\n}\n\nexport const isTable = isTypeViaConcreteTypeFactory<Table, Entity>(\n  ...TABLE_CONCRETE_TYPE_VALUES,\n)\n\nexport const isView = isTypeViaConcreteTypeFactory<View, Entity>(\n  ...VIEW_CONCRETE_TYPE_VALUES,\n)\n\nexport const isTableEntity = isTypeViaConcreteTypeFactory<TableEntity, Entity>(\n  TABLE_ENTITY_CONCRETE_TYPE_VALUE,\n)\n\nexport const isSubmissionView = isTypeViaConcreteTypeFactory<\n  SubmissionView,\n  Entity\n>(SUBMISSION_VIEW_CONCRETE_TYPE_VALUE)\n\nexport const isMaterializedView = isTypeViaConcreteTypeFactory<\n  MaterializedView,\n  Entity\n>(MATERIALIZED_VIEW_CONCRETE_TYPE_VALUE)\n\nexport const isDataset = isTypeViaConcreteTypeFactory<Dataset, Entity>(\n  DATASET_CONCRETE_TYPE_VALUE,\n)\nexport const isDatasetCollection = isTypeViaConcreteTypeFactory<\n  DatasetCollection,\n  Entity\n>(DATASET_COLLECTION_CONCRETE_TYPE_VALUE)\n\nexport const isEntityRefCollectionView = (entity: Entity) =>\n  isDataset(entity) || isDatasetCollection(entity)\n\nexport const isEntityView = isTypeViaConcreteTypeFactory<EntityView, Entity>(\n  ENTITY_VIEW_CONCRETE_TYPE_VALUE,\n)\n\n/**\n * @param entityView\n * @returns true iff the viewTypeMask allows files to appear in the view\n */\nexport function hasFilesInView(entityView: EntityView) {\n  return (entityView.viewTypeMask & ENTITY_VIEW_TYPE_MASK_FILE) != 0\n}\n\n/**\n * @param entityView\n * @returns true iff the viewTypeMask allows only files to appear in the view\n */\nexport function isFileView(entityView: EntityView) {\n  return entityView.viewTypeMask === ENTITY_VIEW_TYPE_MASK_FILE\n}\n\nexport function isVersionableEntity(\n  entity: Entity,\n): entity is VersionableEntity {\n  return isVersionableEntityType(convertToEntityType(entity.concreteType))\n}\n\nexport function getVersionDisplay(entity: Entity): string {\n  if (!isVersionableEntity(entity)) {\n    console.warn(\"Entity isn't versionable:\", entity)\n    return ''\n  }\n\n  if (entity.isLatestVersion) {\n    if (!isTable(entity)) {\n      // e.g. Files. Always show the version number\n      return `${entity.versionNumber!.toString()} (Current)`\n    } else if (isDataset(entity)) {\n      return 'Draft'\n    } else {\n      return 'Current'\n    }\n  } else {\n    return entity.versionNumber!.toString()\n  }\n}\n\n// implemented by https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/Entity.html\nconst allEntityKeys: string[] = [\n  'name',\n  'description',\n  'id',\n  'etag',\n  'createdOn',\n  'modifiedOn',\n  'createdBy',\n  'modifiedBy',\n  'parentId',\n  'concreteType',\n]\n// https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/VersionableEntity.html\nconst versionableKeys: string[] = [\n  ...allEntityKeys,\n  'versionNumber',\n  'versionLabel',\n  'versionComment',\n  'isLatestVersion',\n]\n\n// https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/table/Table.html\nconst tableKeys: string[] = [...versionableKeys, 'columnIds', 'isSearchEnabled']\n\n// https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/table/View.html\nconst viewKeys: string[] = [...tableKeys]\n\n// https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/table/EntityRefCollectionView.html\nconst entityRefCollectionViewKeys: string[] = [...viewKeys, 'items']\n\n/**\n * A string array of all possible keys used by Synapse in Entity objects (objects that inherit this interface: https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/Entity.html).\n * This object is used to determine which fields are standard and which are annotations,\n * so it's important that this object contains all keys in the objects that implement the linked interface above.\n */\nexport const entityJsonKeys: Record<ENTITY_CONCRETE_TYPE, string[]> = {\n  [LINK_CONCRETE_TYPE_VALUE]: [...allEntityKeys, 'linksTo', 'linksToClassName'],\n  [DOCKER_REPOSITORY_CONCRETE_TYPE_VALUE]: [\n    ...allEntityKeys,\n    'repositoryName',\n    'isManaged',\n  ],\n  [FILE_ENTITY_CONCRETE_TYPE_VALUE]: [\n    ...versionableKeys,\n    'dataFileHandleId',\n    'fileNameOverride',\n  ],\n  [SUBMISSION_VIEW_CONCRETE_TYPE_VALUE]: [...viewKeys, 'scopeIds'],\n  [DATASET_CONCRETE_TYPE_VALUE]: [\n    ...entityRefCollectionViewKeys,\n    'size',\n    'checksum',\n  ],\n  [DATASET_COLLECTION_CONCRETE_TYPE_VALUE]: [...entityRefCollectionViewKeys],\n  [ENTITY_VIEW_CONCRETE_TYPE_VALUE]: [\n    ...viewKeys,\n    'scopeIds',\n    'viewTypeMask',\n    'type',\n  ],\n  [TABLE_ENTITY_CONCRETE_TYPE_VALUE]: tableKeys,\n  [MATERIALIZED_VIEW_CONCRETE_TYPE_VALUE]: [...tableKeys, 'definingSQL'],\n  [FOLDER_CONCRETE_TYPE_VALUE]: allEntityKeys,\n  [PROJECT_CONCRETE_TYPE_VALUE]: [...allEntityKeys, 'alias'],\n}\n","import { isEmpty } from 'lodash-es'\nimport { removeUndefined } from './ObjectUtils'\n\n/**\n * Removes trailing undefined elements from an array. Also removes trailing objects that are empty or only keys with\n * undefined values are present.\n */\nexport function removeTrailingUndefinedElements(params: any[]): any[] {\n  const result = [...params]\n  let lastElement = result[result.length - 1]\n  while (\n    result.length > 0 &&\n    (lastElement === undefined ||\n      // Also remove empty objects or objects where only keys with undefined values are present\n      (typeof lastElement === 'object' &&\n        isEmpty(removeUndefined(lastElement))))\n  ) {\n    result.pop()\n    lastElement = result[result.length - 1]\n  }\n  return result\n}\n","import { SubmissionSearchRequest } from '../../synapseTypes/AccessSubmission'\nimport {\n  AccessApprovalSearchRequest,\n  BatchFileRequest,\n  EntityBundleRequest,\n  EntityChildrenRequest,\n  FileHandle,\n  QueryBundleRequest,\n  ReferenceList,\n  RestrictionInformationRequest,\n  TYPE_FILTER,\n} from '../../synapseTypes'\nimport { AccessRequirementSearchRequest } from '../../synapseTypes/AccessRequirement/AccessRequirementSearch'\nimport { SubmissionInfoPageRequest } from '../../synapseTypes/SubmissionInfo'\nimport { AvailableFilesRequest } from '../../synapseTypes/DownloadListV2/QueryRequestDetails'\nimport { QueryKey } from 'react-query'\nimport {\n  DiscussionFilter,\n  DiscussionReplyOrder,\n  DiscussionThreadOrder,\n} from '../../synapseTypes/DiscussionBundle'\nimport { SearchQuery } from '../../synapseTypes/Search'\nimport { SubscriptionObjectType } from '../../synapseTypes/Subscription'\nimport {\n  FavoriteSortBy,\n  FavoriteSortDirection,\n} from '../../synapseTypes/FavoriteSortBy'\nimport { GetProjectsParameters } from '../../synapseTypes/GetProjectsParams'\nimport { PrincipalAliasRequest } from '../../synapseTypes/Principal/PrincipalServices'\nimport { removeTrailingUndefinedElements } from '../../functions/ArrayUtils'\n\nconst entityQueryKeyObjects = {\n  /* Query key for all entities */\n  all: { objectType: 'entity' },\n  // Data for an entity\n  entity: (id: string) => ({ ...entityQueryKeyObjects.all[1], id: id }),\n  // Data for a particular version of an entity\n  version: (id: string, versionNumber?: string | number) => ({\n    ...entityQueryKeyObjects.entity(id),\n    versionNumber,\n  }),\n  // List of Entity Versions\n  versions: (id: string) => ({\n    ...entityQueryKeyObjects.entity(id),\n    scope: 'versions',\n  }),\n  versionsQuery: (id: string, limit: number, offset: number) => ({\n    ...entityQueryKeyObjects.versions(id),\n    versionQuery: {\n      limit: limit,\n      offset: offset,\n    },\n  }),\n  // JSON Representation of an entity\n  json: (id: string) => ({\n    ...entityQueryKeyObjects.entity(id),\n    scope: 'json',\n  }),\n  activity: (id: string, versionNumber?: number) => ({\n    ...entityQueryKeyObjects.version(id),\n    scope: 'activity',\n  }),\n  // Entity path\n  path: (id: string) => ({\n    ...entityQueryKeyObjects.entity(id),\n    scope: 'path',\n  }),\n\n  // Entity bundle\n  bundle: (\n    id: string,\n    versionNumber: string | number | undefined,\n    bundleRequest: EntityBundleRequest,\n  ) => ({\n    ...entityQueryKeyObjects.version(id, versionNumber),\n    scope: 'entityBundle',\n    entityBundleRequest: bundleRequest,\n  }),\n  children: (request: EntityChildrenRequest, infinite: boolean) => ({\n    ...entityQueryKeyObjects.entity(request.parentId ?? 'root'),\n    scope: 'children',\n    isInfinite: infinite,\n    entityChildrenRequest: request,\n  }),\n\n  tableQueryResult: (\n    queryBundleRequest: QueryBundleRequest,\n    infinite: boolean,\n  ) => ({\n    ...entityQueryKeyObjects.entity(queryBundleRequest.entityId),\n    scope: 'tableQueryResult',\n    isInfinite: infinite,\n    tableQueryBundleRequest: queryBundleRequest,\n  }),\n\n  tableQueryResultWithAsyncStatus: (\n    queryBundleRequest: QueryBundleRequest,\n    infinite: boolean,\n  ) => ({\n    ...entityQueryKeyObjects.entity(queryBundleRequest.entityId),\n    scope: 'tableQueryResultWithAsyncStatus',\n    isInfinite: infinite,\n    tableQueryBundleRequest: queryBundleRequest,\n  }),\n\n  fullTableQueryResult: (queryBundleRequest: QueryBundleRequest) => ({\n    ...entityQueryKeyObjects.entity(queryBundleRequest.entityId),\n    scope: 'fullTableQueryResult',\n    tableQueryBundleRequest: queryBundleRequest,\n  }),\n\n  boundJSONSchema: (id: string) => ({\n    ...entityQueryKeyObjects.entity(id),\n    scope: 'boundJSONSchema',\n  }),\n\n  schemaValidationResults: (id: string) => ({\n    ...entityQueryKeyObjects.entity(id),\n    scope: 'schemaValidationResults',\n  }),\n  header: (id: string) => ({\n    ...entityQueryKeyObjects.entity(id),\n    scope: 'entityHeaders',\n  }),\n  headers: (references: ReferenceList) => ({\n    ...entityQueryKeyObjects.all,\n    scope: 'entityHeaders',\n    entityHeadersRequest: references,\n  }),\n}\n\nconst downloadListQueryKeys = {\n  /* Key used to invalidate all download list queries */\n  base: 'downloadList',\n  availableFiles: (request: AvailableFilesRequest) => [\n    downloadListQueryKeys.base,\n    'availableFiles',\n    request,\n  ],\n  availableFilesInfinite: (request: AvailableFilesRequest) => [\n    downloadListQueryKeys.availableFiles(request),\n    'infinite',\n  ],\n  getActionsRequired: () => [downloadListQueryKeys.base, 'actionsRequired'],\n  getActionsRequiredInfinite: () => [\n    ...downloadListQueryKeys.getActionsRequired(),\n    'infinite',\n  ],\n  getStatistics: () => [downloadListQueryKeys.base, 'statistics'],\n}\n\nconst ACCESS_REQUIREMENT_QUERY_KEY = 'accessRequirement'\n\n/**\n * Returns a react-query Query Key.\n *\n * Co-location of react-query keys for queries related to Synapse data. Two objectives of this strategy are\n * - minimize the risk of inappropriate cache key collisions\n * - simplify clearing the approprate query caches when the entity data is updated\n *\n * For more information, see https://tkdodo.eu/blog/leveraging-the-query-function-context\n */\nexport class KeyFactory {\n  accessToken: string | undefined = undefined\n  constructor(accessToken: string | undefined) {\n    this.accessToken = accessToken\n  }\n\n  /**\n   * Returns a react-query Query Key. Prepends the key with the access token, so that the key is unique per-session.\n   * Also removes trailing undefined elements from the passed args, so a key can be generated for query invalidation.\n   * @param args\n   * @private\n   */\n  private getKey(...args: any[]): QueryKey {\n    return [this.accessToken, ...removeTrailingUndefinedElements(args)]\n  }\n\n  public getAllEntityDataQueryKey() {\n    return this.getKey(entityQueryKeyObjects.all)\n  }\n\n  public getEntityQueryKey(id: string) {\n    return this.getKey(entityQueryKeyObjects.entity(id))\n  }\n\n  public getEntityActivityQueryKey(id: string, versionNumber?: number) {\n    return this.getKey(entityQueryKeyObjects.activity(id, versionNumber))\n  }\n\n  public getEntityVersionQueryKey(id: string, versionNumber?: string | number) {\n    return this.getKey(entityQueryKeyObjects.version(id, versionNumber))\n  }\n\n  public getPaginatedEntityVersionsQueryKey(\n    id: string,\n    limit: number,\n    offset: number,\n  ) {\n    return this.getKey(entityQueryKeyObjects.versionsQuery(id, limit, offset))\n  }\n  public getEntityVersionsQueryKey(id: string) {\n    return this.getKey(entityQueryKeyObjects.versions(id))\n  }\n\n  public getEntityChildrenQueryKey(\n    request: EntityChildrenRequest,\n    infinite: boolean,\n  ) {\n    return this.getKey(entityQueryKeyObjects.children(request, infinite))\n  }\n\n  public getEntityJsonQueryKey(id: string) {\n    return this.getKey(entityQueryKeyObjects.json(id))\n  }\n\n  public getEntityBundleQueryKey(\n    id: string,\n    version: number | undefined,\n    bundleRequest: EntityBundleRequest,\n  ) {\n    return this.getKey(entityQueryKeyObjects.bundle(id, version, bundleRequest))\n  }\n\n  public getEntityPathQueryKey(id: string) {\n    return this.getKey(entityQueryKeyObjects.path(id))\n  }\n\n  public getEntityBoundJsonSchemaQueryKey(id: string) {\n    return this.getKey(entityQueryKeyObjects.boundJSONSchema(id))\n  }\n\n  public getEntitySchemaValidationResultsQueryKey(id: string) {\n    return this.getKey(entityQueryKeyObjects.schemaValidationResults(id))\n  }\n\n  public getEntityHeaderQueryKey(id: string) {\n    return this.getKey(entityQueryKeyObjects.header(id))\n  }\n\n  public getEntityHeadersQueryKey(references: ReferenceList) {\n    return this.getKey(entityQueryKeyObjects.headers(references))\n  }\n\n  public getEntityTableQueryResultQueryKey(\n    queryBundleRequest: QueryBundleRequest,\n    infinite: boolean,\n  ) {\n    return this.getKey(\n      entityQueryKeyObjects.tableQueryResult(queryBundleRequest, infinite),\n    )\n  }\n\n  public getEntityTableQueryResultWithAsyncStatusQueryKey(\n    queryBundleRequest: QueryBundleRequest,\n    infinite: boolean,\n  ) {\n    return this.getKey(\n      entityQueryKeyObjects.tableQueryResultWithAsyncStatus(\n        queryBundleRequest,\n        infinite,\n      ),\n    )\n  }\n\n  public getFullTableQueryResultQueryKey(\n    queryBundleRequest: QueryBundleRequest,\n  ) {\n    return this.getKey(\n      entityQueryKeyObjects.fullTableQueryResult(queryBundleRequest),\n    )\n  }\n\n  public getDownloadListBaseQueryKey() {\n    return this.getKey(downloadListQueryKeys.base)\n  }\n\n  public getDownloadListAvailableFilesQueryKey(request: AvailableFilesRequest) {\n    return this.getKey(...downloadListQueryKeys.availableFiles(request))\n  }\n\n  public getDownloadListAvailableFilesInfiniteQueryKey(\n    request: AvailableFilesRequest,\n  ) {\n    return this.getKey(...downloadListQueryKeys.availableFilesInfinite(request))\n  }\n\n  public getDownloadListActionsRequiredQueryKey() {\n    return this.getKey(...downloadListQueryKeys.getActionsRequired())\n  }\n  public getDownloadListActionsRequiredInfiniteQueryKey() {\n    return this.getKey(...downloadListQueryKeys.getActionsRequiredInfinite())\n  }\n\n  public getDownloadListStatisticsQueryKey() {\n    return this.getKey(...downloadListQueryKeys.getStatistics())\n  }\n\n  public searchAccessApprovalsQueryKey(params?: AccessApprovalSearchRequest) {\n    return this.getKey('accessApprovalSearch', params)\n  }\n\n  public getAccessRequirementQueryKey(id?: string) {\n    return this.getKey(ACCESS_REQUIREMENT_QUERY_KEY, id)\n  }\n\n  public getAccessRequirementAclQueryKey(id: string) {\n    return this.getKey(ACCESS_REQUIREMENT_QUERY_KEY, id, 'acl')\n  }\n\n  public searchAccessRequirementsQueryKey(\n    params?: AccessRequirementSearchRequest,\n  ) {\n    return this.getKey(ACCESS_REQUIREMENT_QUERY_KEY, 'search', params)\n  }\n\n  public getAccessRequirementWikiPageKey(id: string) {\n    return this.getKey(ACCESS_REQUIREMENT_QUERY_KEY, id, 'wikiPageKey')\n  }\n\n  public getAccessRequirementRestrictionInformationQueryKey(\n    request?: RestrictionInformationRequest,\n  ) {\n    return this.getKey(\n      ACCESS_REQUIREMENT_QUERY_KEY,\n      'restrictionInformation',\n      request,\n    )\n  }\n\n  public getDataAccessSubmissionQueryKey(id?: string) {\n    return this.getKey('dataAccessSubmission', id)\n  }\n\n  public searchDataAccessSubmissionQueryKey(params?: SubmissionSearchRequest) {\n    return this.getKey('accessSubmissionSearch', params)\n  }\n\n  public getApprovedSubmissionInfoQueryKey(\n    request?: SubmissionInfoPageRequest,\n  ) {\n    return this.getKey('approvedSubmissionInfo', request)\n  }\n\n  public getValidationSchemaQueryKey(schema$id: string) {\n    return this.getKey('validationSchema', schema$id)\n  }\n\n  public getPresignedUrlContentQueryKey(\n    fileHandle: FileHandle,\n    request: BatchFileRequest,\n    maxSizeBytes?: number,\n  ) {\n    return this.getKey('presignedUrlContent', fileHandle, request, maxSizeBytes)\n  }\n\n  public getProfileImageQueryKey(userId: string) {\n    return this.getKey('profileImageData', userId)\n  }\n\n  public getDefaultUploadDestinationQueryKey(containerEntityId: string) {\n    return this.getKey('uploadDestination', 'default', containerEntityId)\n  }\n\n  public getForumModeratorsQueryKey(forumId: string) {\n    return this.getKey('moderators', forumId)\n  }\n\n  public getAllForumThreadsQueryKey(forumId: string) {\n    return this.getKey('forumthread', forumId)\n  }\n\n  public getForumThreadsQueryKey(\n    forumId: string,\n    limit: number,\n    sort: DiscussionThreadOrder,\n    ascending: boolean,\n    filter?: DiscussionFilter,\n  ) {\n    return this.getKey('forumthread', forumId, {\n      limit,\n      filter,\n      sort,\n      ascending,\n    })\n  }\n\n  public getAllRepliesQueryKey(threadId: string) {\n    return this.getKey('reply', threadId)\n  }\n\n  public getRepliesQueryKey(\n    threadId: string,\n    ascending?: boolean,\n    limit?: number,\n    sort?: DiscussionReplyOrder,\n    filter?: DiscussionFilter,\n  ) {\n    return this.getKey('reply', threadId, { limit, filter, sort, ascending })\n  }\n\n  public getReplyQueryKey(\n    threadId: string,\n    replyId: string,\n    messageKey: string,\n  ) {\n    return this.getKey('reply', threadId, { replyId, messageKey })\n  }\n\n  public getThreadQueryKey(threadId: string) {\n    return this.getKey('thread', threadId)\n  }\n\n  public getThreadBodyQueryKey(threadId: string, messageKey: string) {\n    return this.getKey('thread', threadId, messageKey)\n  }\n\n  public getMyOAuthClientsQueryKey() {\n    return this.getKey('oauthClient')\n  }\n\n  public getDOIAssociationQueryKey(\n    objectType: string,\n    objectId: string,\n    versionNumber?: number,\n  ) {\n    return this.getKey([\n      'doi',\n      'association',\n      objectType,\n      objectId,\n      versionNumber,\n    ])\n  }\n\n  public getAllSubscribersQueryKey() {\n    return this.getKey('subscribers')\n  }\n\n  public getSubscribersQueryKey(\n    objectId: string,\n    objectType: SubscriptionObjectType,\n  ) {\n    return this.getKey('subscribers', objectId, objectType)\n  }\n\n  public getSubscriptionQueryKey(\n    objectId: string,\n    objectType: SubscriptionObjectType,\n  ) {\n    return this.getKey('subscription', objectId, objectType)\n  }\n\n  public getAllSubscriptionsQueryKey() {\n    return this.getKey('subscription')\n  }\n\n  public getSearchEntitiesQueryKey(query: SearchQuery) {\n    return this.getKey('searchEntities', query)\n  }\n\n  public getTeamMembersQueryKey(teamId: string) {\n    return this.getKey('team', teamId, 'membersList')\n  }\n\n  public getIsUserMemberOfTeamQueryKey(teamId: string, userId: string) {\n    return this.getKey('team', teamId, 'member', userId)\n  }\n\n  public getFavoritesQueryKey() {\n    return this.getKey('favorites')\n  }\n\n  public getUserFavoritesQueryKey(\n    sort: FavoriteSortBy,\n    sortDirection: FavoriteSortDirection,\n  ) {\n    return this.getKey('favorites', sort, sortDirection)\n  }\n\n  public getUserFavoritesInfiniteQueryKey(\n    sort: FavoriteSortBy,\n    sortDirection: FavoriteSortDirection,\n  ) {\n    return this.getKey('favorites', 'infinite', sort, sortDirection)\n  }\n  public getTrashCanItemsQueryKey() {\n    return this.getKey('trashCan', 'list')\n  }\n\n  public getUserChallengesQueryKey(userId: string) {\n    return this.getKey('userChallenges', userId)\n  }\n\n  public getUserProjectsQueryKey(\n    userId: string,\n    projectParams: GetProjectsParameters,\n  ) {\n    return this.getKey('userProjects', userId, projectParams)\n  }\n\n  public getUserTeamsQueryKey(userId: string) {\n    return this.getKey('userTeams', userId)\n  }\n\n  public getPersonalAccessTokensQueryKey() {\n    return this.getKey('personalAccessTokens')\n  }\n\n  public getMyProjectsQueryKey(params?: GetProjectsParameters) {\n    return this.getKey('myProjects', params)\n  }\n\n  public getNotificationEmailQueryKey() {\n    return this.getKey('notificationEmail')\n  }\n\n  public getCurrentUserProfileQueryKey() {\n    return this.getKey('user', 'current', 'profile')\n  }\n\n  public getUserBundleQueryKey(userId: string, mask?: number) {\n    return this.getKey('user', userId, 'bundle', mask)\n  }\n\n  public getUserProfileQueryKey(userId: string) {\n    return this.getKey('user', userId, 'profile')\n  }\n\n  public getPrincipalAliasQueryKey(request: PrincipalAliasRequest) {\n    return this.getKey('principalAlias', request)\n  }\n\n  public getUserGroupHeaderQueryKey(id: string) {\n    return this.getKey('userGroupHeader', id)\n  }\n  public getUserGroupHeaderWithAliasQueryKey(aliases: string[]) {\n    return this.getKey('userGroupHeader', aliases)\n  }\n\n  public getUserGroupHeaderSearchQueryKey(\n    prefix: string,\n    filter?: TYPE_FILTER,\n  ) {\n    return this.getKey('userGroupHeader', 'search', prefix, filter)\n  }\n\n  public getTwoFactorAuthStatusQueryKey() {\n    return this.getKey('twoFactorAuthStatus')\n  }\n}\n","import { useQuery, UseQueryOptions } from 'react-query'\nimport { SynapseClient } from '../../..'\nimport { SynapseClientError } from '../../../SynapseClientError'\nimport { useSynapseContext } from '../../../SynapseContext'\nimport {\n  NotificationEmail,\n  UserBundle,\n  UserProfile,\n} from '../../../synapseTypes'\nimport {\n  USER_BUNDLE_MASK_IS_ACT_MEMBER,\n  USER_BUNDLE_MASK_IS_AR_REVIEWER,\n  USER_BUNDLE_MASK_IS_CERTIFIED,\n  USER_BUNDLE_MASK_IS_VERIFIED,\n  USER_BUNDLE_MASK_ORCID,\n  USER_BUNDLE_MASK_USER_PROFILE,\n  USER_BUNDLE_MASK_VERIFICATION_SUBMISSION,\n} from '../../../SynapseConstants'\nimport {\n  PrincipalAliasRequest,\n  PrincipalAliasResponse,\n} from '../../../synapseTypes/Principal/PrincipalServices'\n\nexport function useGetNotificationEmail(\n  options?: UseQueryOptions<NotificationEmail, SynapseClientError>,\n) {\n  const { accessToken, keyFactory } = useSynapseContext()\n  return useQuery<NotificationEmail, SynapseClientError>(\n    keyFactory.getNotificationEmailQueryKey(),\n    () => SynapseClient.getNotificationEmail(accessToken),\n    options,\n  )\n}\n\nexport function useGetCurrentUserProfile(\n  options?: UseQueryOptions<UserProfile, SynapseClientError>,\n) {\n  const { accessToken, keyFactory } = useSynapseContext()\n  const queryKey = keyFactory.getCurrentUserProfileQueryKey()\n\n  return useQuery<UserProfile, SynapseClientError>(\n    queryKey,\n    () => SynapseClient.getUserProfile(accessToken),\n    options,\n  )\n}\n\nconst ALL_USER_BUNDLE_FIELDS =\n  USER_BUNDLE_MASK_USER_PROFILE |\n  USER_BUNDLE_MASK_ORCID |\n  USER_BUNDLE_MASK_VERIFICATION_SUBMISSION |\n  USER_BUNDLE_MASK_IS_CERTIFIED |\n  USER_BUNDLE_MASK_IS_VERIFIED |\n  USER_BUNDLE_MASK_IS_ACT_MEMBER |\n  USER_BUNDLE_MASK_IS_AR_REVIEWER\n\nexport function useGetUserBundle(\n  userId: string,\n  mask: number = ALL_USER_BUNDLE_FIELDS,\n  options?: UseQueryOptions<UserBundle, SynapseClientError>,\n) {\n  const { accessToken, keyFactory } = useSynapseContext()\n  const queryKey = keyFactory.getUserBundleQueryKey(userId, mask)\n\n  return useQuery<UserBundle, SynapseClientError>(\n    queryKey,\n    () => SynapseClient.getUserBundle(userId, mask, accessToken),\n    options,\n  )\n}\n\nexport function useGetCurrentUserBundle<TData = UserBundle>(\n  mask: number = ALL_USER_BUNDLE_FIELDS,\n  options?: UseQueryOptions<UserBundle, SynapseClientError, TData>,\n) {\n  const { accessToken, keyFactory } = useSynapseContext()\n\n  const queryKey = keyFactory.getUserBundleQueryKey('current', mask)\n\n  return useQuery<UserBundle, SynapseClientError, TData>(\n    queryKey,\n    () => SynapseClient.getMyUserBundle(mask, accessToken),\n    options,\n  )\n}\n\nexport function useGetUserProfile(\n  principalId: string,\n  options?: UseQueryOptions<UserProfile, SynapseClientError>,\n) {\n  const { accessToken, keyFactory } = useSynapseContext()\n  const queryKey = keyFactory.getUserProfileQueryKey(principalId)\n  // We store the profile in a session storage cache used by SWC\n  const sessionStorageCacheKey = `${principalId}_USER_PROFILE`\n  const cachedValue = sessionStorage.getItem(sessionStorageCacheKey)\n\n  return useQuery<UserProfile, SynapseClientError>(\n    queryKey,\n    () => SynapseClient.getUserProfileById(accessToken, principalId),\n    {\n      ...options,\n\n      // Use the sessionStorage cache to pre-populate profile data.\n      initialData: cachedValue\n        ? (JSON.parse(cachedValue) as UserProfile)\n        : undefined,\n\n      // If the profile is re-fetched, save it to sessionStorage\n      onSuccess: profile => {\n        sessionStorage.setItem(sessionStorageCacheKey, JSON.stringify(profile))\n      },\n    },\n  )\n}\n\nexport function useGetPrincipalIdForAlias(\n  request: PrincipalAliasRequest,\n  options?: UseQueryOptions<\n    PrincipalAliasResponse['principalId'],\n    SynapseClientError\n  >,\n) {\n  const { accessToken, keyFactory } = useSynapseContext()\n\n  const queryKey = keyFactory.getPrincipalAliasQueryKey(request)\n\n  return useQuery<PrincipalAliasResponse['principalId'], SynapseClientError>(\n    queryKey,\n    async () => {\n      return (\n        await SynapseClient.getPrincipalAliasRequest(accessToken, request)\n      ).principalId\n    },\n    options,\n  )\n}\n\nexport function useIsCurrentUserACTMember() {\n  return useGetCurrentUserBundle<boolean>(undefined, {\n    select: data => data.isACTMember!,\n  })\n}\n","import { useEffect } from 'react'\nimport {\n  useGetCurrentUserProfile,\n  useGetNotificationEmail,\n} from '../utils/hooks/SynapseAPI/user/useUserBundle'\nimport { useSynapseContext } from '../utils/SynapseContext'\n\ntype IssueCollector = 'SWC' | 'Flagged Content' | 'Request Access'\n\nconst ISSUE_COLLECTOR_URL_MAP: Record<IssueCollector, string> = {\n  SWC: 'https://sagebionetworks.jira.com/s/d41d8cd98f00b204e9800998ecf8427e-T/-bhcm7i/b/6/e73395c53c3b10fde2303f4bf74ffbf6/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-US&collectorId=ddc881b3',\n  'Flagged Content':\n    'https://sagebionetworks.jira.com/s/d41d8cd98f00b204e9800998ecf8427e-T/g39zuk/b/41/e73395c53c3b10fde2303f4bf74ffbf6/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-US&collectorId=d0abcfa9',\n  'Request Access':\n    'https://sagebionetworks.jira.com/s/d41d8cd98f00b204e9800998ecf8427e-T/-2rg9hj/b/25/e73395c53c3b10fde2303f4bf74ffbf6/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-US&collectorId=bd4dc1e5',\n}\n\ndeclare global {\n  interface Window {\n    jQuery?: JQueryStatic\n    ATL_JQ_PAGE_PROPS: any\n  }\n}\n\ntype JiraIssueCollectorConfig = {\n  issueCollector: IssueCollector\n  issueSummary: string\n  issueDescription: string\n  issuePriority: '1' | '2' | '3' | '4' | '5'\n  accessRequirementId?: string\n  synapseDataObjectId?: string\n  componentId?: string\n  principalId: string\n  userDisplayName?: string\n  userEmailAddress?: string\n}\n\n/**\n * Shows the Jira issue collector when invoked.\n * @param config\n */\nexport function showJiraIssueCollector(config: JiraIssueCollectorConfig): void {\n  const {\n    issueCollector,\n    issueSummary,\n    issueDescription,\n    principalId,\n    userDisplayName,\n    userEmailAddress,\n    synapseDataObjectId,\n    componentId,\n    accessRequirementId,\n    issuePriority,\n  } = config\n  try {\n    if (window.jQuery == null) {\n      throw new Error(\n        'jQuery is not present. Jira Issue Collector will not be shown.',\n      )\n    }\n    // Requires jQuery!\n    window.jQuery.ajax({\n      url: ISSUE_COLLECTOR_URL_MAP[issueCollector],\n      type: 'get',\n      cache: true,\n      dataType: 'script',\n    })\n\n    window.ATL_JQ_PAGE_PROPS = {\n      triggerFunction: function (showCollectorDialog: () => void) {\n        showCollectorDialog()\n      },\n\n      fieldValues: {\n        summary: issueSummary,\n        description: issueDescription,\n        priority: issuePriority,\n        customfield_10840: userEmailAddress,\n        email: userEmailAddress,\n        customfield_10841: accessRequirementId,\n        customfield_10740: principalId,\n        customfield_10741: userDisplayName,\n        customfield_10742: synapseDataObjectId,\n        fullname: userDisplayName,\n        components: componentId,\n        // Component ID of the component added to the Jira Governance Project\n      },\n    }\n  } catch (err) {\n    console.error(err)\n  }\n}\n\ntype UseJiraIssueCollectorConfig = Omit<\n  JiraIssueCollectorConfig,\n  'principalId' | 'userDisplayName' | 'userEmailAddress'\n> & {\n  show: boolean\n}\n\n/**\n * Hook used to show the Jira issue collector within Synapse. The collector will only be shown if the user is logged in.\n * @requires SynapseContext to be an ancestor in the component tree\n */\nexport function useJiraIssueCollector(config: UseJiraIssueCollectorConfig) {\n  const {\n    show,\n    issueCollector,\n    issueSummary,\n    issueDescription,\n    issuePriority,\n    accessRequirementId,\n    synapseDataObjectId,\n    componentId,\n  } = config\n\n  const { accessToken } = useSynapseContext()\n\n  const { data: currentUser, isLoading: profileIsLoading } =\n    useGetCurrentUserProfile({\n      enabled: !!accessToken,\n    })\n  const { data: notificationEmail, isLoading: emailIsLoading } =\n    useGetNotificationEmail({\n      enabled: !!accessToken,\n    })\n\n  useEffect(() => {\n    if (show && accessToken) {\n      if (currentUser && notificationEmail) {\n        showJiraIssueCollector({\n          issueCollector,\n          issueSummary,\n          issueDescription,\n          synapseDataObjectId,\n          componentId,\n          accessRequirementId,\n          issuePriority,\n          principalId: currentUser.ownerId,\n          userDisplayName: currentUser.displayName,\n          userEmailAddress: notificationEmail.email,\n        })\n      } else {\n        console.warn('Fetching profile data to display Jira popup')\n      }\n    } else if (show && !accessToken) {\n      console.error('User not logged in, not showing Jira popup')\n    }\n    // - Don't re-run the effect when currentUser or notificationEmail change -- if they are refetched, we'll end up in a bad state with two pop-ups\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [show, accessToken, profileIsLoading, emailIsLoading])\n}\n","import * as React from 'react'\nimport { SRC_SIGN_IN_CLASS } from '../utils/SynapseConstants'\n\nexport type SignInProps = {\n  className?: string\n  style?: React.CSSProperties\n}\n// An event listener for the class SRC_SIGN_IN_CLASS is needed to trigger a download\n// modal\nconst SignInButton = ({ className, style }: SignInProps) => {\n  return (\n    <a\n      type=\"button\"\n      style={style}\n      className={`SignInButton ${SRC_SIGN_IN_CLASS} ${className}`}\n    >\n      Sign In\n    </a>\n  )\n}\n\nexport default SignInButton\n","import React, { useState } from 'react'\nimport { Alert, Button } from 'react-bootstrap'\nimport {\n  ErrorBoundary,\n  ErrorBoundaryPropsWithComponent,\n  FallbackProps,\n} from 'react-error-boundary'\nimport { SynapseClientError } from '../../utils/SynapseClientError'\nimport { useSynapseContext } from '../../utils/SynapseContext'\nimport { Optional } from '../../utils/types/Optional'\nimport { useJiraIssueCollector } from '../JiraIssueCollector'\nimport SignInButton from '../SignInButton'\nimport { Collapse } from '@mui/material'\n\ntype ErrorBannerProps = {\n  error?: string | Error | SynapseClientError | null\n  reloadButtonFn?: () => void\n}\n\nexport const YOU_ARE_NOT_AUTHORIZED_MESSAGE =\n  'You are not authorized to access this resource.'\n\nexport const SignInPrompt = () => {\n  return (\n    <>\n      Please <SignInButton /> to view this resource.\n    </>\n  )\n}\n\nexport const ClientError = (props: { error: SynapseClientError }) => {\n  const [showDetailedError, setShowDetailedError] = useState(false)\n  const { accessToken } = useSynapseContext()\n  const { error } = props\n  const loginError =\n    (error.status === 403 || error.status === 401) && !accessToken\n  const accessDenied = error.status === 403 && accessToken\n\n  useJiraIssueCollector({\n    show: error.status >= 500,\n    issueCollector: 'SWC',\n    issueSummary: '',\n    issueDescription: error.reason,\n    issuePriority: '3',\n  })\n\n  if (loginError) {\n    return <SignInPrompt />\n  } else if (accessDenied) {\n    return (\n      <>\n        <div>{YOU_ARE_NOT_AUTHORIZED_MESSAGE}</div>\n        <Button\n          variant={'tertiary'}\n          style={{ fontSize: '12px' }}\n          onClick={() => setShowDetailedError(show => !show)}\n        >\n          {showDetailedError ? 'Hide' : 'Show'} details\n        </Button>\n        <div>\n          <Collapse in={showDetailedError}>\n            <pre>{error.reason}</pre>\n          </Collapse>\n        </div>\n      </>\n    )\n  } else {\n    return <>{error.reason}</>\n  }\n}\n\nexport const ErrorBanner = (props: ErrorBannerProps) => {\n  const { error, reloadButtonFn } = props\n\n  if (!error) {\n    return <></>\n  }\n\n  let synapseClientError: SynapseClientError | undefined = undefined\n  let jsError: Error | undefined = undefined\n  let stringError: string | undefined = undefined\n  if (error instanceof SynapseClientError) {\n    synapseClientError = error\n  } else if (error instanceof Error) {\n    jsError = error\n  } else if (typeof error === 'string') {\n    stringError = error\n  }\n  return (\n    <div data-testid=\"ErrorBanner\" className=\"Error bootstrap-4-backport\">\n      <Alert\n        dismissible={false}\n        show={true}\n        variant={'danger'}\n        transition={false}\n      >\n        <p>\n          {synapseClientError && <ClientError error={synapseClientError} />}\n          {jsError && jsError.message}\n          {stringError && stringError}\n        </p>\n        {reloadButtonFn && (\n          <Button variant=\"default\" onClick={reloadButtonFn}>\n            Reload\n          </Button>\n        )}\n      </Alert>\n    </div>\n  )\n}\n\nexport const ErrorFallbackComponent: React.FunctionComponent<FallbackProps> = ({\n  error,\n  resetErrorBoundary,\n}) => {\n  return (\n    <div className=\"bootstrap-4-backport SRC-marginBottomTop\">\n      <ErrorBanner\n        error={error}\n        reloadButtonFn={resetErrorBoundary}\n      ></ErrorBanner>\n    </div>\n  )\n}\n\nexport const TableRowFallbackComponent: React.FunctionComponent<\n  FallbackProps\n> = ({ error, resetErrorBoundary }) => {\n  return (\n    <tr>\n      <td colSpan={999}>\n        <ErrorBanner error={error} reloadButtonFn={resetErrorBoundary} />\n      </td>\n    </tr>\n  )\n}\n\n/**\n * ErrorBoundary component that uses the default error fallback component, unless overridden.\n * Internally uses `react-error-boundary`.\n *\n * Use with {@link react-error-boundary#handleError | handleError}\n * @param props\n * @returns\n */\nexport const SynapseErrorBoundary = (\n  props: React.PropsWithChildren<\n    Optional<ErrorBoundaryPropsWithComponent, 'FallbackComponent'>\n  >,\n) => <ErrorBoundary FallbackComponent={ErrorFallbackComponent} {...props} />\n","import { TypographyOptions } from '@mui/material/styles/createTypography'\nimport { Palette } from '@mui/material/styles/createPalette'\n\nexport const defaultFontFamily = ['Lato', 'sans-serif'].join(',')\nexport const monospaceFontFamily = [\n  'Menlo',\n  'Courier New',\n  'Courier',\n  'monospace',\n].join(',')\n\nconst defaultStyles = {\n  fontStyle: 'normal',\n  letterSpacing: '0px',\n}\n\nexport const typographyOptions: (\n  palette: Palette,\n) => TypographyOptions = palette => ({\n  fontFamily: defaultFontFamily,\n  headline1: {\n    ...defaultStyles,\n    fontSize: '24px',\n    fontWeight: 700,\n    lineHeight: '28px',\n  },\n  headline2: {\n    ...defaultStyles,\n    fontSize: '20px',\n    fontWeight: 400,\n    lineHeight: '24px',\n  },\n  headline3: {\n    ...defaultStyles,\n    fontSize: '18px',\n    fontWeight: 700,\n    lineHeight: '20px',\n  },\n  body1: {\n    ...defaultStyles,\n    fontSize: '16px',\n    fontWeight: 400,\n    lineHeight: '24px',\n  },\n  body1Italic: {\n    ...defaultStyles,\n    fontSize: '16px',\n    fontWeight: 400,\n    lineHeight: '24px',\n    fontStyle: 'italic',\n  },\n  body2: {\n    ...defaultStyles,\n    fontSize: '12px',\n    fontWeight: 400,\n    lineHeight: '24px',\n  },\n  breadcrumb1: {\n    ...defaultStyles,\n    fontSize: '14px',\n    fontWeight: 400,\n    lineHeight: '16px',\n  },\n  breadcrumb2: {\n    ...defaultStyles,\n    fontSize: '14px',\n    fontWeight: 700,\n    lineHeight: '16px',\n  },\n  smallText1: {\n    ...defaultStyles,\n    fontSize: '14px',\n    fontWeight: 400,\n    lineHeight: '16px',\n  },\n  smallText2: {\n    ...defaultStyles,\n    fontSize: '14px',\n    fontWeight: 700,\n    lineHeight: '16px',\n  },\n  smallLink: {\n    ...defaultStyles,\n    fontSize: '14px',\n    fontWeight: 900,\n    lineHeight: '16px',\n  },\n  label: {\n    ...defaultStyles,\n    fontSize: '14px',\n    fontWeight: 700,\n    lineHeight: '16px',\n  },\n  buttonLink: {\n    ...defaultStyles,\n    fontSize: '16px',\n    fontWeight: 900,\n    lineHeight: '20px',\n  },\n  hintText: {\n    ...defaultStyles,\n    fontSize: '16px',\n    fontWeight: 400,\n    lineHeight: '24px',\n  },\n  sectionTitle: {\n    ...defaultStyles,\n    fontSize: '21px',\n    fontWeight: 700,\n    lineHeight: '25px',\n    textTransform: 'uppercase',\n  },\n  subsectionHeader: {\n    ...defaultStyles,\n    fontSize: '18px',\n    fontWeight: 700,\n    lineHeight: '21px',\n  },\n  dataFieldKey: {\n    ...defaultStyles,\n    fontSize: '14px',\n    fontWeight: 400,\n    lineHeight: '16px',\n    color: palette.grey[700],\n    textTransform: 'uppercase',\n  },\n  monospace: {\n    ...defaultStyles,\n    fontFamily: monospaceFontFamily,\n    fontSize: '13px',\n  },\n})\n","// This file is autogenerated. It's used to publish ESM to npm.\n// https://github.com/bgrins/TinyColor\n// Brian Grinstead, MIT License\n\nconst trimLeft = /^\\s+/;\nconst trimRight = /\\s+$/;\n\nfunction tinycolor(color, opts) {\n  color = color ? color : \"\";\n  opts = opts || {};\n\n  // If input is already a tinycolor, return itself\n  if (color instanceof tinycolor) {\n    return color;\n  }\n  // If we are called as a function, call using new instead\n  if (!(this instanceof tinycolor)) {\n    return new tinycolor(color, opts);\n  }\n\n  var rgb = inputToRGB(color);\n  (this._originalInput = color),\n    (this._r = rgb.r),\n    (this._g = rgb.g),\n    (this._b = rgb.b),\n    (this._a = rgb.a),\n    (this._roundA = Math.round(100 * this._a) / 100),\n    (this._format = opts.format || rgb.format);\n  this._gradientType = opts.gradientType;\n\n  // Don't let the range of [0,255] come back in [0,1].\n  // Potentially lose a little bit of precision here, but will fix issues where\n  // .5 gets interpreted as half of the total, instead of half of 1\n  // If it was supposed to be 128, this was already taken care of by `inputToRgb`\n  if (this._r < 1) this._r = Math.round(this._r);\n  if (this._g < 1) this._g = Math.round(this._g);\n  if (this._b < 1) this._b = Math.round(this._b);\n\n  this._ok = rgb.ok;\n}\n\ntinycolor.prototype = {\n  isDark: function () {\n    return this.getBrightness() < 128;\n  },\n  isLight: function () {\n    return !this.isDark();\n  },\n  isValid: function () {\n    return this._ok;\n  },\n  getOriginalInput: function () {\n    return this._originalInput;\n  },\n  getFormat: function () {\n    return this._format;\n  },\n  getAlpha: function () {\n    return this._a;\n  },\n  getBrightness: function () {\n    //http://www.w3.org/TR/AERT#color-contrast\n    var rgb = this.toRgb();\n    return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n  },\n  getLuminance: function () {\n    //http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n    var rgb = this.toRgb();\n    var RsRGB, GsRGB, BsRGB, R, G, B;\n    RsRGB = rgb.r / 255;\n    GsRGB = rgb.g / 255;\n    BsRGB = rgb.b / 255;\n\n    if (RsRGB <= 0.03928) R = RsRGB / 12.92;\n    else R = Math.pow((RsRGB + 0.055) / 1.055, 2.4);\n    if (GsRGB <= 0.03928) G = GsRGB / 12.92;\n    else G = Math.pow((GsRGB + 0.055) / 1.055, 2.4);\n    if (BsRGB <= 0.03928) B = BsRGB / 12.92;\n    else B = Math.pow((BsRGB + 0.055) / 1.055, 2.4);\n    return 0.2126 * R + 0.7152 * G + 0.0722 * B;\n  },\n  setAlpha: function (value) {\n    this._a = boundAlpha(value);\n    this._roundA = Math.round(100 * this._a) / 100;\n    return this;\n  },\n  toHsv: function () {\n    var hsv = rgbToHsv(this._r, this._g, this._b);\n    return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this._a };\n  },\n  toHsvString: function () {\n    var hsv = rgbToHsv(this._r, this._g, this._b);\n    var h = Math.round(hsv.h * 360),\n      s = Math.round(hsv.s * 100),\n      v = Math.round(hsv.v * 100);\n    return this._a == 1\n      ? \"hsv(\" + h + \", \" + s + \"%, \" + v + \"%)\"\n      : \"hsva(\" + h + \", \" + s + \"%, \" + v + \"%, \" + this._roundA + \")\";\n  },\n  toHsl: function () {\n    var hsl = rgbToHsl(this._r, this._g, this._b);\n    return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this._a };\n  },\n  toHslString: function () {\n    var hsl = rgbToHsl(this._r, this._g, this._b);\n    var h = Math.round(hsl.h * 360),\n      s = Math.round(hsl.s * 100),\n      l = Math.round(hsl.l * 100);\n    return this._a == 1\n      ? \"hsl(\" + h + \", \" + s + \"%, \" + l + \"%)\"\n      : \"hsla(\" + h + \", \" + s + \"%, \" + l + \"%, \" + this._roundA + \")\";\n  },\n  toHex: function (allow3Char) {\n    return rgbToHex(this._r, this._g, this._b, allow3Char);\n  },\n  toHexString: function (allow3Char) {\n    return \"#\" + this.toHex(allow3Char);\n  },\n  toHex8: function (allow4Char) {\n    return rgbaToHex(this._r, this._g, this._b, this._a, allow4Char);\n  },\n  toHex8String: function (allow4Char) {\n    return \"#\" + this.toHex8(allow4Char);\n  },\n  toRgb: function () {\n    return {\n      r: Math.round(this._r),\n      g: Math.round(this._g),\n      b: Math.round(this._b),\n      a: this._a,\n    };\n  },\n  toRgbString: function () {\n    return this._a == 1\n      ? \"rgb(\" +\n          Math.round(this._r) +\n          \", \" +\n          Math.round(this._g) +\n          \", \" +\n          Math.round(this._b) +\n          \")\"\n      : \"rgba(\" +\n          Math.round(this._r) +\n          \", \" +\n          Math.round(this._g) +\n          \", \" +\n          Math.round(this._b) +\n          \", \" +\n          this._roundA +\n          \")\";\n  },\n  toPercentageRgb: function () {\n    return {\n      r: Math.round(bound01(this._r, 255) * 100) + \"%\",\n      g: Math.round(bound01(this._g, 255) * 100) + \"%\",\n      b: Math.round(bound01(this._b, 255) * 100) + \"%\",\n      a: this._a,\n    };\n  },\n  toPercentageRgbString: function () {\n    return this._a == 1\n      ? \"rgb(\" +\n          Math.round(bound01(this._r, 255) * 100) +\n          \"%, \" +\n          Math.round(bound01(this._g, 255) * 100) +\n          \"%, \" +\n          Math.round(bound01(this._b, 255) * 100) +\n          \"%)\"\n      : \"rgba(\" +\n          Math.round(bound01(this._r, 255) * 100) +\n          \"%, \" +\n          Math.round(bound01(this._g, 255) * 100) +\n          \"%, \" +\n          Math.round(bound01(this._b, 255) * 100) +\n          \"%, \" +\n          this._roundA +\n          \")\";\n  },\n  toName: function () {\n    if (this._a === 0) {\n      return \"transparent\";\n    }\n\n    if (this._a < 1) {\n      return false;\n    }\n\n    return hexNames[rgbToHex(this._r, this._g, this._b, true)] || false;\n  },\n  toFilter: function (secondColor) {\n    var hex8String = \"#\" + rgbaToArgbHex(this._r, this._g, this._b, this._a);\n    var secondHex8String = hex8String;\n    var gradientType = this._gradientType ? \"GradientType = 1, \" : \"\";\n\n    if (secondColor) {\n      var s = tinycolor(secondColor);\n      secondHex8String = \"#\" + rgbaToArgbHex(s._r, s._g, s._b, s._a);\n    }\n\n    return (\n      \"progid:DXImageTransform.Microsoft.gradient(\" +\n      gradientType +\n      \"startColorstr=\" +\n      hex8String +\n      \",endColorstr=\" +\n      secondHex8String +\n      \")\"\n    );\n  },\n  toString: function (format) {\n    var formatSet = !!format;\n    format = format || this._format;\n\n    var formattedString = false;\n    var hasAlpha = this._a < 1 && this._a >= 0;\n    var needsAlphaFormat =\n      !formatSet &&\n      hasAlpha &&\n      (format === \"hex\" ||\n        format === \"hex6\" ||\n        format === \"hex3\" ||\n        format === \"hex4\" ||\n        format === \"hex8\" ||\n        format === \"name\");\n\n    if (needsAlphaFormat) {\n      // Special case for \"transparent\", all other non-alpha formats\n      // will return rgba when there is transparency.\n      if (format === \"name\" && this._a === 0) {\n        return this.toName();\n      }\n      return this.toRgbString();\n    }\n    if (format === \"rgb\") {\n      formattedString = this.toRgbString();\n    }\n    if (format === \"prgb\") {\n      formattedString = this.toPercentageRgbString();\n    }\n    if (format === \"hex\" || format === \"hex6\") {\n      formattedString = this.toHexString();\n    }\n    if (format === \"hex3\") {\n      formattedString = this.toHexString(true);\n    }\n    if (format === \"hex4\") {\n      formattedString = this.toHex8String(true);\n    }\n    if (format === \"hex8\") {\n      formattedString = this.toHex8String();\n    }\n    if (format === \"name\") {\n      formattedString = this.toName();\n    }\n    if (format === \"hsl\") {\n      formattedString = this.toHslString();\n    }\n    if (format === \"hsv\") {\n      formattedString = this.toHsvString();\n    }\n\n    return formattedString || this.toHexString();\n  },\n  clone: function () {\n    return tinycolor(this.toString());\n  },\n\n  _applyModification: function (fn, args) {\n    var color = fn.apply(null, [this].concat([].slice.call(args)));\n    this._r = color._r;\n    this._g = color._g;\n    this._b = color._b;\n    this.setAlpha(color._a);\n    return this;\n  },\n  lighten: function () {\n    return this._applyModification(lighten, arguments);\n  },\n  brighten: function () {\n    return this._applyModification(brighten, arguments);\n  },\n  darken: function () {\n    return this._applyModification(darken, arguments);\n  },\n  desaturate: function () {\n    return this._applyModification(desaturate, arguments);\n  },\n  saturate: function () {\n    return this._applyModification(saturate, arguments);\n  },\n  greyscale: function () {\n    return this._applyModification(greyscale, arguments);\n  },\n  spin: function () {\n    return this._applyModification(spin, arguments);\n  },\n\n  _applyCombination: function (fn, args) {\n    return fn.apply(null, [this].concat([].slice.call(args)));\n  },\n  analogous: function () {\n    return this._applyCombination(analogous, arguments);\n  },\n  complement: function () {\n    return this._applyCombination(complement, arguments);\n  },\n  monochromatic: function () {\n    return this._applyCombination(monochromatic, arguments);\n  },\n  splitcomplement: function () {\n    return this._applyCombination(splitcomplement, arguments);\n  },\n  // Disabled until https://github.com/bgrins/TinyColor/issues/254\n  // polyad: function (number) {\n  //   return this._applyCombination(polyad, [number]);\n  // },\n  triad: function () {\n    return this._applyCombination(polyad, [3]);\n  },\n  tetrad: function () {\n    return this._applyCombination(polyad, [4]);\n  },\n};\n\n// If input is an object, force 1 into \"1.0\" to handle ratios properly\n// String input requires \"1.0\" as input, so 1 will be treated as 1\ntinycolor.fromRatio = function (color, opts) {\n  if (typeof color == \"object\") {\n    var newColor = {};\n    for (var i in color) {\n      if (color.hasOwnProperty(i)) {\n        if (i === \"a\") {\n          newColor[i] = color[i];\n        } else {\n          newColor[i] = convertToPercentage(color[i]);\n        }\n      }\n    }\n    color = newColor;\n  }\n\n  return tinycolor(color, opts);\n};\n\n// Given a string or object, convert that input to RGB\n// Possible string inputs:\n//\n//     \"red\"\n//     \"#f00\" or \"f00\"\n//     \"#ff0000\" or \"ff0000\"\n//     \"#ff000000\" or \"ff000000\"\n//     \"rgb 255 0 0\" or \"rgb (255, 0, 0)\"\n//     \"rgb 1.0 0 0\" or \"rgb (1, 0, 0)\"\n//     \"rgba (255, 0, 0, 1)\" or \"rgba 255, 0, 0, 1\"\n//     \"rgba (1.0, 0, 0, 1)\" or \"rgba 1.0, 0, 0, 1\"\n//     \"hsl(0, 100%, 50%)\" or \"hsl 0 100% 50%\"\n//     \"hsla(0, 100%, 50%, 1)\" or \"hsla 0 100% 50%, 1\"\n//     \"hsv(0, 100%, 100%)\" or \"hsv 0 100% 100%\"\n//\nfunction inputToRGB(color) {\n  var rgb = { r: 0, g: 0, b: 0 };\n  var a = 1;\n  var s = null;\n  var v = null;\n  var l = null;\n  var ok = false;\n  var format = false;\n\n  if (typeof color == \"string\") {\n    color = stringInputToObject(color);\n  }\n\n  if (typeof color == \"object\") {\n    if (\n      isValidCSSUnit(color.r) &&\n      isValidCSSUnit(color.g) &&\n      isValidCSSUnit(color.b)\n    ) {\n      rgb = rgbToRgb(color.r, color.g, color.b);\n      ok = true;\n      format = String(color.r).substr(-1) === \"%\" ? \"prgb\" : \"rgb\";\n    } else if (\n      isValidCSSUnit(color.h) &&\n      isValidCSSUnit(color.s) &&\n      isValidCSSUnit(color.v)\n    ) {\n      s = convertToPercentage(color.s);\n      v = convertToPercentage(color.v);\n      rgb = hsvToRgb(color.h, s, v);\n      ok = true;\n      format = \"hsv\";\n    } else if (\n      isValidCSSUnit(color.h) &&\n      isValidCSSUnit(color.s) &&\n      isValidCSSUnit(color.l)\n    ) {\n      s = convertToPercentage(color.s);\n      l = convertToPercentage(color.l);\n      rgb = hslToRgb(color.h, s, l);\n      ok = true;\n      format = \"hsl\";\n    }\n\n    if (color.hasOwnProperty(\"a\")) {\n      a = color.a;\n    }\n  }\n\n  a = boundAlpha(a);\n\n  return {\n    ok: ok,\n    format: color.format || format,\n    r: Math.min(255, Math.max(rgb.r, 0)),\n    g: Math.min(255, Math.max(rgb.g, 0)),\n    b: Math.min(255, Math.max(rgb.b, 0)),\n    a: a,\n  };\n}\n\n// Conversion Functions\n// --------------------\n\n// `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\n// <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\n\n// `rgbToRgb`\n// Handle bounds / percentage checking to conform to CSS color spec\n// <http://www.w3.org/TR/css3-color/>\n// *Assumes:* r, g, b in [0, 255] or [0, 1]\n// *Returns:* { r, g, b } in [0, 255]\nfunction rgbToRgb(r, g, b) {\n  return {\n    r: bound01(r, 255) * 255,\n    g: bound01(g, 255) * 255,\n    b: bound01(b, 255) * 255,\n  };\n}\n\n// `rgbToHsl`\n// Converts an RGB color value to HSL.\n// *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\n// *Returns:* { h, s, l } in [0,1]\nfunction rgbToHsl(r, g, b) {\n  r = bound01(r, 255);\n  g = bound01(g, 255);\n  b = bound01(b, 255);\n\n  var max = Math.max(r, g, b),\n    min = Math.min(r, g, b);\n  var h,\n    s,\n    l = (max + min) / 2;\n\n  if (max == min) {\n    h = s = 0; // achromatic\n  } else {\n    var d = max - min;\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n    switch (max) {\n      case r:\n        h = (g - b) / d + (g < b ? 6 : 0);\n        break;\n      case g:\n        h = (b - r) / d + 2;\n        break;\n      case b:\n        h = (r - g) / d + 4;\n        break;\n    }\n\n    h /= 6;\n  }\n\n  return { h: h, s: s, l: l };\n}\n\n// `hslToRgb`\n// Converts an HSL color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\nfunction hslToRgb(h, s, l) {\n  var r, g, b;\n\n  h = bound01(h, 360);\n  s = bound01(s, 100);\n  l = bound01(l, 100);\n\n  function hue2rgb(p, q, t) {\n    if (t < 0) t += 1;\n    if (t > 1) t -= 1;\n    if (t < 1 / 6) return p + (q - p) * 6 * t;\n    if (t < 1 / 2) return q;\n    if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n    return p;\n  }\n\n  if (s === 0) {\n    r = g = b = l; // achromatic\n  } else {\n    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    var p = 2 * l - q;\n    r = hue2rgb(p, q, h + 1 / 3);\n    g = hue2rgb(p, q, h);\n    b = hue2rgb(p, q, h - 1 / 3);\n  }\n\n  return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHsv`\n// Converts an RGB color value to HSV\n// *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\n// *Returns:* { h, s, v } in [0,1]\nfunction rgbToHsv(r, g, b) {\n  r = bound01(r, 255);\n  g = bound01(g, 255);\n  b = bound01(b, 255);\n\n  var max = Math.max(r, g, b),\n    min = Math.min(r, g, b);\n  var h,\n    s,\n    v = max;\n\n  var d = max - min;\n  s = max === 0 ? 0 : d / max;\n\n  if (max == min) {\n    h = 0; // achromatic\n  } else {\n    switch (max) {\n      case r:\n        h = (g - b) / d + (g < b ? 6 : 0);\n        break;\n      case g:\n        h = (b - r) / d + 2;\n        break;\n      case b:\n        h = (r - g) / d + 4;\n        break;\n    }\n    h /= 6;\n  }\n  return { h: h, s: s, v: v };\n}\n\n// `hsvToRgb`\n// Converts an HSV color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\nfunction hsvToRgb(h, s, v) {\n  h = bound01(h, 360) * 6;\n  s = bound01(s, 100);\n  v = bound01(v, 100);\n\n  var i = Math.floor(h),\n    f = h - i,\n    p = v * (1 - s),\n    q = v * (1 - f * s),\n    t = v * (1 - (1 - f) * s),\n    mod = i % 6,\n    r = [v, q, p, p, t, v][mod],\n    g = [t, v, v, q, p, p][mod],\n    b = [p, p, t, v, v, q][mod];\n\n  return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHex`\n// Converts an RGB color to hex\n// Assumes r, g, and b are contained in the set [0, 255]\n// Returns a 3 or 6 character hex\nfunction rgbToHex(r, g, b, allow3Char) {\n  var hex = [\n    pad2(Math.round(r).toString(16)),\n    pad2(Math.round(g).toString(16)),\n    pad2(Math.round(b).toString(16)),\n  ];\n\n  // Return a 3 character hex if possible\n  if (\n    allow3Char &&\n    hex[0].charAt(0) == hex[0].charAt(1) &&\n    hex[1].charAt(0) == hex[1].charAt(1) &&\n    hex[2].charAt(0) == hex[2].charAt(1)\n  ) {\n    return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n  }\n\n  return hex.join(\"\");\n}\n\n// `rgbaToHex`\n// Converts an RGBA color plus alpha transparency to hex\n// Assumes r, g, b are contained in the set [0, 255] and\n// a in [0, 1]. Returns a 4 or 8 character rgba hex\nfunction rgbaToHex(r, g, b, a, allow4Char) {\n  var hex = [\n    pad2(Math.round(r).toString(16)),\n    pad2(Math.round(g).toString(16)),\n    pad2(Math.round(b).toString(16)),\n    pad2(convertDecimalToHex(a)),\n  ];\n\n  // Return a 4 character hex if possible\n  if (\n    allow4Char &&\n    hex[0].charAt(0) == hex[0].charAt(1) &&\n    hex[1].charAt(0) == hex[1].charAt(1) &&\n    hex[2].charAt(0) == hex[2].charAt(1) &&\n    hex[3].charAt(0) == hex[3].charAt(1)\n  ) {\n    return (\n      hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0) + hex[3].charAt(0)\n    );\n  }\n\n  return hex.join(\"\");\n}\n\n// `rgbaToArgbHex`\n// Converts an RGBA color to an ARGB Hex8 string\n// Rarely used, but required for \"toFilter()\"\nfunction rgbaToArgbHex(r, g, b, a) {\n  var hex = [\n    pad2(convertDecimalToHex(a)),\n    pad2(Math.round(r).toString(16)),\n    pad2(Math.round(g).toString(16)),\n    pad2(Math.round(b).toString(16)),\n  ];\n\n  return hex.join(\"\");\n}\n\n// `equals`\n// Can be called with any tinycolor input\ntinycolor.equals = function (color1, color2) {\n  if (!color1 || !color2) return false;\n  return tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString();\n};\n\ntinycolor.random = function () {\n  return tinycolor.fromRatio({\n    r: Math.random(),\n    g: Math.random(),\n    b: Math.random(),\n  });\n};\n\n// Modification Functions\n// ----------------------\n// Thanks to less.js for some of the basics here\n// <https://github.com/cloudhead/less.js/blob/master/lib/less/functions.js>\n\nfunction desaturate(color, amount) {\n  amount = amount === 0 ? 0 : amount || 10;\n  var hsl = tinycolor(color).toHsl();\n  hsl.s -= amount / 100;\n  hsl.s = clamp01(hsl.s);\n  return tinycolor(hsl);\n}\n\nfunction saturate(color, amount) {\n  amount = amount === 0 ? 0 : amount || 10;\n  var hsl = tinycolor(color).toHsl();\n  hsl.s += amount / 100;\n  hsl.s = clamp01(hsl.s);\n  return tinycolor(hsl);\n}\n\nfunction greyscale(color) {\n  return tinycolor(color).desaturate(100);\n}\n\nfunction lighten(color, amount) {\n  amount = amount === 0 ? 0 : amount || 10;\n  var hsl = tinycolor(color).toHsl();\n  hsl.l += amount / 100;\n  hsl.l = clamp01(hsl.l);\n  return tinycolor(hsl);\n}\n\nfunction brighten(color, amount) {\n  amount = amount === 0 ? 0 : amount || 10;\n  var rgb = tinycolor(color).toRgb();\n  rgb.r = Math.max(0, Math.min(255, rgb.r - Math.round(255 * -(amount / 100))));\n  rgb.g = Math.max(0, Math.min(255, rgb.g - Math.round(255 * -(amount / 100))));\n  rgb.b = Math.max(0, Math.min(255, rgb.b - Math.round(255 * -(amount / 100))));\n  return tinycolor(rgb);\n}\n\nfunction darken(color, amount) {\n  amount = amount === 0 ? 0 : amount || 10;\n  var hsl = tinycolor(color).toHsl();\n  hsl.l -= amount / 100;\n  hsl.l = clamp01(hsl.l);\n  return tinycolor(hsl);\n}\n\n// Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\n// Values outside of this range will be wrapped into this range.\nfunction spin(color, amount) {\n  var hsl = tinycolor(color).toHsl();\n  var hue = (hsl.h + amount) % 360;\n  hsl.h = hue < 0 ? 360 + hue : hue;\n  return tinycolor(hsl);\n}\n\n// Combination Functions\n// ---------------------\n// Thanks to jQuery xColor for some of the ideas behind these\n// <https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js>\n\nfunction complement(color) {\n  var hsl = tinycolor(color).toHsl();\n  hsl.h = (hsl.h + 180) % 360;\n  return tinycolor(hsl);\n}\n\nfunction polyad(color, number) {\n  if (isNaN(number) || number <= 0) {\n    throw new Error(\"Argument to polyad must be a positive number\");\n  }\n  var hsl = tinycolor(color).toHsl();\n  var result = [tinycolor(color)];\n  var step = 360 / number;\n  for (var i = 1; i < number; i++) {\n    result.push(tinycolor({ h: (hsl.h + i * step) % 360, s: hsl.s, l: hsl.l }));\n  }\n\n  return result;\n}\n\nfunction splitcomplement(color) {\n  var hsl = tinycolor(color).toHsl();\n  var h = hsl.h;\n  return [\n    tinycolor(color),\n    tinycolor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l }),\n    tinycolor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l }),\n  ];\n}\n\nfunction analogous(color, results, slices) {\n  results = results || 6;\n  slices = slices || 30;\n\n  var hsl = tinycolor(color).toHsl();\n  var part = 360 / slices;\n  var ret = [tinycolor(color)];\n\n  for (hsl.h = (hsl.h - ((part * results) >> 1) + 720) % 360; --results; ) {\n    hsl.h = (hsl.h + part) % 360;\n    ret.push(tinycolor(hsl));\n  }\n  return ret;\n}\n\nfunction monochromatic(color, results) {\n  results = results || 6;\n  var hsv = tinycolor(color).toHsv();\n  var h = hsv.h,\n    s = hsv.s,\n    v = hsv.v;\n  var ret = [];\n  var modification = 1 / results;\n\n  while (results--) {\n    ret.push(tinycolor({ h: h, s: s, v: v }));\n    v = (v + modification) % 1;\n  }\n\n  return ret;\n}\n\n// Utility Functions\n// ---------------------\n\ntinycolor.mix = function (color1, color2, amount) {\n  amount = amount === 0 ? 0 : amount || 50;\n\n  var rgb1 = tinycolor(color1).toRgb();\n  var rgb2 = tinycolor(color2).toRgb();\n\n  var p = amount / 100;\n\n  var rgba = {\n    r: (rgb2.r - rgb1.r) * p + rgb1.r,\n    g: (rgb2.g - rgb1.g) * p + rgb1.g,\n    b: (rgb2.b - rgb1.b) * p + rgb1.b,\n    a: (rgb2.a - rgb1.a) * p + rgb1.a,\n  };\n\n  return tinycolor(rgba);\n};\n\n// Readability Functions\n// ---------------------\n// <http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef (WCAG Version 2)\n\n// `contrast`\n// Analyze the 2 colors and returns the color contrast defined by (WCAG Version 2)\ntinycolor.readability = function (color1, color2) {\n  var c1 = tinycolor(color1);\n  var c2 = tinycolor(color2);\n  return (\n    (Math.max(c1.getLuminance(), c2.getLuminance()) + 0.05) /\n    (Math.min(c1.getLuminance(), c2.getLuminance()) + 0.05)\n  );\n};\n\n// `isReadable`\n// Ensure that foreground and background color combinations meet WCAG2 guidelines.\n// The third argument is an optional Object.\n//      the 'level' property states 'AA' or 'AAA' - if missing or invalid, it defaults to 'AA';\n//      the 'size' property states 'large' or 'small' - if missing or invalid, it defaults to 'small'.\n// If the entire object is absent, isReadable defaults to {level:\"AA\",size:\"small\"}.\n\n// *Example*\n//    tinycolor.isReadable(\"#000\", \"#111\") => false\n//    tinycolor.isReadable(\"#000\", \"#111\",{level:\"AA\",size:\"large\"}) => false\ntinycolor.isReadable = function (color1, color2, wcag2) {\n  var readability = tinycolor.readability(color1, color2);\n  var wcag2Parms, out;\n\n  out = false;\n\n  wcag2Parms = validateWCAG2Parms(wcag2);\n  switch (wcag2Parms.level + wcag2Parms.size) {\n    case \"AAsmall\":\n    case \"AAAlarge\":\n      out = readability >= 4.5;\n      break;\n    case \"AAlarge\":\n      out = readability >= 3;\n      break;\n    case \"AAAsmall\":\n      out = readability >= 7;\n      break;\n  }\n  return out;\n};\n\n// `mostReadable`\n// Given a base color and a list of possible foreground or background\n// colors for that base, returns the most readable color.\n// Optionally returns Black or White if the most readable color is unreadable.\n// *Example*\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:false}).toHexString(); // \"#112255\"\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:true}).toHexString();  // \"#ffffff\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"large\"}).toHexString(); // \"#faf3f3\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"small\"}).toHexString(); // \"#ffffff\"\ntinycolor.mostReadable = function (baseColor, colorList, args) {\n  var bestColor = null;\n  var bestScore = 0;\n  var readability;\n  var includeFallbackColors, level, size;\n  args = args || {};\n  includeFallbackColors = args.includeFallbackColors;\n  level = args.level;\n  size = args.size;\n\n  for (var i = 0; i < colorList.length; i++) {\n    readability = tinycolor.readability(baseColor, colorList[i]);\n    if (readability > bestScore) {\n      bestScore = readability;\n      bestColor = tinycolor(colorList[i]);\n    }\n  }\n\n  if (\n    tinycolor.isReadable(baseColor, bestColor, {\n      level: level,\n      size: size,\n    }) ||\n    !includeFallbackColors\n  ) {\n    return bestColor;\n  } else {\n    args.includeFallbackColors = false;\n    return tinycolor.mostReadable(baseColor, [\"#fff\", \"#000\"], args);\n  }\n};\n\n// Big List of Colors\n// ------------------\n// <https://www.w3.org/TR/css-color-4/#named-colors>\nvar names = (tinycolor.names = {\n  aliceblue: \"f0f8ff\",\n  antiquewhite: \"faebd7\",\n  aqua: \"0ff\",\n  aquamarine: \"7fffd4\",\n  azure: \"f0ffff\",\n  beige: \"f5f5dc\",\n  bisque: \"ffe4c4\",\n  black: \"000\",\n  blanchedalmond: \"ffebcd\",\n  blue: \"00f\",\n  blueviolet: \"8a2be2\",\n  brown: \"a52a2a\",\n  burlywood: \"deb887\",\n  burntsienna: \"ea7e5d\",\n  cadetblue: \"5f9ea0\",\n  chartreuse: \"7fff00\",\n  chocolate: \"d2691e\",\n  coral: \"ff7f50\",\n  cornflowerblue: \"6495ed\",\n  cornsilk: \"fff8dc\",\n  crimson: \"dc143c\",\n  cyan: \"0ff\",\n  darkblue: \"00008b\",\n  darkcyan: \"008b8b\",\n  darkgoldenrod: \"b8860b\",\n  darkgray: \"a9a9a9\",\n  darkgreen: \"006400\",\n  darkgrey: \"a9a9a9\",\n  darkkhaki: \"bdb76b\",\n  darkmagenta: \"8b008b\",\n  darkolivegreen: \"556b2f\",\n  darkorange: \"ff8c00\",\n  darkorchid: \"9932cc\",\n  darkred: \"8b0000\",\n  darksalmon: \"e9967a\",\n  darkseagreen: \"8fbc8f\",\n  darkslateblue: \"483d8b\",\n  darkslategray: \"2f4f4f\",\n  darkslategrey: \"2f4f4f\",\n  darkturquoise: \"00ced1\",\n  darkviolet: \"9400d3\",\n  deeppink: \"ff1493\",\n  deepskyblue: \"00bfff\",\n  dimgray: \"696969\",\n  dimgrey: \"696969\",\n  dodgerblue: \"1e90ff\",\n  firebrick: \"b22222\",\n  floralwhite: \"fffaf0\",\n  forestgreen: \"228b22\",\n  fuchsia: \"f0f\",\n  gainsboro: \"dcdcdc\",\n  ghostwhite: \"f8f8ff\",\n  gold: \"ffd700\",\n  goldenrod: \"daa520\",\n  gray: \"808080\",\n  green: \"008000\",\n  greenyellow: \"adff2f\",\n  grey: \"808080\",\n  honeydew: \"f0fff0\",\n  hotpink: \"ff69b4\",\n  indianred: \"cd5c5c\",\n  indigo: \"4b0082\",\n  ivory: \"fffff0\",\n  khaki: \"f0e68c\",\n  lavender: \"e6e6fa\",\n  lavenderblush: \"fff0f5\",\n  lawngreen: \"7cfc00\",\n  lemonchiffon: \"fffacd\",\n  lightblue: \"add8e6\",\n  lightcoral: \"f08080\",\n  lightcyan: \"e0ffff\",\n  lightgoldenrodyellow: \"fafad2\",\n  lightgray: \"d3d3d3\",\n  lightgreen: \"90ee90\",\n  lightgrey: \"d3d3d3\",\n  lightpink: \"ffb6c1\",\n  lightsalmon: \"ffa07a\",\n  lightseagreen: \"20b2aa\",\n  lightskyblue: \"87cefa\",\n  lightslategray: \"789\",\n  lightslategrey: \"789\",\n  lightsteelblue: \"b0c4de\",\n  lightyellow: \"ffffe0\",\n  lime: \"0f0\",\n  limegreen: \"32cd32\",\n  linen: \"faf0e6\",\n  magenta: \"f0f\",\n  maroon: \"800000\",\n  mediumaquamarine: \"66cdaa\",\n  mediumblue: \"0000cd\",\n  mediumorchid: \"ba55d3\",\n  mediumpurple: \"9370db\",\n  mediumseagreen: \"3cb371\",\n  mediumslateblue: \"7b68ee\",\n  mediumspringgreen: \"00fa9a\",\n  mediumturquoise: \"48d1cc\",\n  mediumvioletred: \"c71585\",\n  midnightblue: \"191970\",\n  mintcream: \"f5fffa\",\n  mistyrose: \"ffe4e1\",\n  moccasin: \"ffe4b5\",\n  navajowhite: \"ffdead\",\n  navy: \"000080\",\n  oldlace: \"fdf5e6\",\n  olive: \"808000\",\n  olivedrab: \"6b8e23\",\n  orange: \"ffa500\",\n  orangered: \"ff4500\",\n  orchid: \"da70d6\",\n  palegoldenrod: \"eee8aa\",\n  palegreen: \"98fb98\",\n  paleturquoise: \"afeeee\",\n  palevioletred: \"db7093\",\n  papayawhip: \"ffefd5\",\n  peachpuff: \"ffdab9\",\n  peru: \"cd853f\",\n  pink: \"ffc0cb\",\n  plum: \"dda0dd\",\n  powderblue: \"b0e0e6\",\n  purple: \"800080\",\n  rebeccapurple: \"663399\",\n  red: \"f00\",\n  rosybrown: \"bc8f8f\",\n  royalblue: \"4169e1\",\n  saddlebrown: \"8b4513\",\n  salmon: \"fa8072\",\n  sandybrown: \"f4a460\",\n  seagreen: \"2e8b57\",\n  seashell: \"fff5ee\",\n  sienna: \"a0522d\",\n  silver: \"c0c0c0\",\n  skyblue: \"87ceeb\",\n  slateblue: \"6a5acd\",\n  slategray: \"708090\",\n  slategrey: \"708090\",\n  snow: \"fffafa\",\n  springgreen: \"00ff7f\",\n  steelblue: \"4682b4\",\n  tan: \"d2b48c\",\n  teal: \"008080\",\n  thistle: \"d8bfd8\",\n  tomato: \"ff6347\",\n  turquoise: \"40e0d0\",\n  violet: \"ee82ee\",\n  wheat: \"f5deb3\",\n  white: \"fff\",\n  whitesmoke: \"f5f5f5\",\n  yellow: \"ff0\",\n  yellowgreen: \"9acd32\",\n});\n\n// Make it easy to access colors via `hexNames[hex]`\nvar hexNames = (tinycolor.hexNames = flip(names));\n\n// Utilities\n// ---------\n\n// `{ 'name1': 'val1' }` becomes `{ 'val1': 'name1' }`\nfunction flip(o) {\n  var flipped = {};\n  for (var i in o) {\n    if (o.hasOwnProperty(i)) {\n      flipped[o[i]] = i;\n    }\n  }\n  return flipped;\n}\n\n// Return a valid alpha value [0,1] with all invalid values being set to 1\nfunction boundAlpha(a) {\n  a = parseFloat(a);\n\n  if (isNaN(a) || a < 0 || a > 1) {\n    a = 1;\n  }\n\n  return a;\n}\n\n// Take input from [0, n] and return it as [0, 1]\nfunction bound01(n, max) {\n  if (isOnePointZero(n)) n = \"100%\";\n\n  var processPercent = isPercentage(n);\n  n = Math.min(max, Math.max(0, parseFloat(n)));\n\n  // Automatically convert percentage into number\n  if (processPercent) {\n    n = parseInt(n * max, 10) / 100;\n  }\n\n  // Handle floating point rounding errors\n  if (Math.abs(n - max) < 0.000001) {\n    return 1;\n  }\n\n  // Convert into [0, 1] range if it isn't already\n  return (n % max) / parseFloat(max);\n}\n\n// Force a number between 0 and 1\nfunction clamp01(val) {\n  return Math.min(1, Math.max(0, val));\n}\n\n// Parse a base-16 hex value into a base-10 integer\nfunction parseIntFromHex(val) {\n  return parseInt(val, 16);\n}\n\n// Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\n// <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\nfunction isOnePointZero(n) {\n  return typeof n == \"string\" && n.indexOf(\".\") != -1 && parseFloat(n) === 1;\n}\n\n// Check to see if string passed in is a percentage\nfunction isPercentage(n) {\n  return typeof n === \"string\" && n.indexOf(\"%\") != -1;\n}\n\n// Force a hex value to have 2 characters\nfunction pad2(c) {\n  return c.length == 1 ? \"0\" + c : \"\" + c;\n}\n\n// Replace a decimal with it's percentage value\nfunction convertToPercentage(n) {\n  if (n <= 1) {\n    n = n * 100 + \"%\";\n  }\n\n  return n;\n}\n\n// Converts a decimal to a hex value\nfunction convertDecimalToHex(d) {\n  return Math.round(parseFloat(d) * 255).toString(16);\n}\n// Converts a hex value to a decimal\nfunction convertHexToDecimal(h) {\n  return parseIntFromHex(h) / 255;\n}\n\nvar matchers = (function () {\n  // <http://www.w3.org/TR/css3-values/#integers>\n  var CSS_INTEGER = \"[-\\\\+]?\\\\d+%?\";\n\n  // <http://www.w3.org/TR/css3-values/#number-value>\n  var CSS_NUMBER = \"[-\\\\+]?\\\\d*\\\\.\\\\d+%?\";\n\n  // Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\n  var CSS_UNIT = \"(?:\" + CSS_NUMBER + \")|(?:\" + CSS_INTEGER + \")\";\n\n  // Actual matching.\n  // Parentheses and commas are optional, but not required.\n  // Whitespace can take the place of commas or opening paren\n  var PERMISSIVE_MATCH3 =\n    \"[\\\\s|\\\\(]+(\" +\n    CSS_UNIT +\n    \")[,|\\\\s]+(\" +\n    CSS_UNIT +\n    \")[,|\\\\s]+(\" +\n    CSS_UNIT +\n    \")\\\\s*\\\\)?\";\n  var PERMISSIVE_MATCH4 =\n    \"[\\\\s|\\\\(]+(\" +\n    CSS_UNIT +\n    \")[,|\\\\s]+(\" +\n    CSS_UNIT +\n    \")[,|\\\\s]+(\" +\n    CSS_UNIT +\n    \")[,|\\\\s]+(\" +\n    CSS_UNIT +\n    \")\\\\s*\\\\)?\";\n\n  return {\n    CSS_UNIT: new RegExp(CSS_UNIT),\n    rgb: new RegExp(\"rgb\" + PERMISSIVE_MATCH3),\n    rgba: new RegExp(\"rgba\" + PERMISSIVE_MATCH4),\n    hsl: new RegExp(\"hsl\" + PERMISSIVE_MATCH3),\n    hsla: new RegExp(\"hsla\" + PERMISSIVE_MATCH4),\n    hsv: new RegExp(\"hsv\" + PERMISSIVE_MATCH3),\n    hsva: new RegExp(\"hsva\" + PERMISSIVE_MATCH4),\n    hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n    hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n    hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n    hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n  };\n})();\n\n// `isValidCSSUnit`\n// Take in a single string / number and check to see if it looks like a CSS unit\n// (see `matchers` above for definition).\nfunction isValidCSSUnit(color) {\n  return !!matchers.CSS_UNIT.exec(color);\n}\n\n// `stringInputToObject`\n// Permissive string parsing.  Take in a number of formats, and output an object\n// based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\nfunction stringInputToObject(color) {\n  color = color.replace(trimLeft, \"\").replace(trimRight, \"\").toLowerCase();\n  var named = false;\n  if (names[color]) {\n    color = names[color];\n    named = true;\n  } else if (color == \"transparent\") {\n    return { r: 0, g: 0, b: 0, a: 0, format: \"name\" };\n  }\n\n  // Try to match string input using regular expressions.\n  // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\n  // Just return an object and let the conversion functions handle that.\n  // This way the result will be the same whether the tinycolor is initialized with string or object.\n  var match;\n  if ((match = matchers.rgb.exec(color))) {\n    return { r: match[1], g: match[2], b: match[3] };\n  }\n  if ((match = matchers.rgba.exec(color))) {\n    return { r: match[1], g: match[2], b: match[3], a: match[4] };\n  }\n  if ((match = matchers.hsl.exec(color))) {\n    return { h: match[1], s: match[2], l: match[3] };\n  }\n  if ((match = matchers.hsla.exec(color))) {\n    return { h: match[1], s: match[2], l: match[3], a: match[4] };\n  }\n  if ((match = matchers.hsv.exec(color))) {\n    return { h: match[1], s: match[2], v: match[3] };\n  }\n  if ((match = matchers.hsva.exec(color))) {\n    return { h: match[1], s: match[2], v: match[3], a: match[4] };\n  }\n  if ((match = matchers.hex8.exec(color))) {\n    return {\n      r: parseIntFromHex(match[1]),\n      g: parseIntFromHex(match[2]),\n      b: parseIntFromHex(match[3]),\n      a: convertHexToDecimal(match[4]),\n      format: named ? \"name\" : \"hex8\",\n    };\n  }\n  if ((match = matchers.hex6.exec(color))) {\n    return {\n      r: parseIntFromHex(match[1]),\n      g: parseIntFromHex(match[2]),\n      b: parseIntFromHex(match[3]),\n      format: named ? \"name\" : \"hex\",\n    };\n  }\n  if ((match = matchers.hex4.exec(color))) {\n    return {\n      r: parseIntFromHex(match[1] + \"\" + match[1]),\n      g: parseIntFromHex(match[2] + \"\" + match[2]),\n      b: parseIntFromHex(match[3] + \"\" + match[3]),\n      a: convertHexToDecimal(match[4] + \"\" + match[4]),\n      format: named ? \"name\" : \"hex8\",\n    };\n  }\n  if ((match = matchers.hex3.exec(color))) {\n    return {\n      r: parseIntFromHex(match[1] + \"\" + match[1]),\n      g: parseIntFromHex(match[2] + \"\" + match[2]),\n      b: parseIntFromHex(match[3] + \"\" + match[3]),\n      format: named ? \"name\" : \"hex\",\n    };\n  }\n\n  return false;\n}\n\nfunction validateWCAG2Parms(parms) {\n  // return valid WCAG2 parms for isReadable.\n  // If input parms are invalid, return {\"level\":\"AA\", \"size\":\"small\"}\n  var level, size;\n  parms = parms || { level: \"AA\", size: \"small\" };\n  level = (parms.level || \"AA\").toUpperCase();\n  size = (parms.size || \"small\").toLowerCase();\n  if (level !== \"AA\" && level !== \"AAA\") {\n    level = \"AA\";\n  }\n  if (size !== \"small\" && size !== \"large\") {\n    size = \"small\";\n  }\n  return { level: level, size: size };\n}\n\nexport { tinycolor as default };\n","import { PaletteColorOptions, PaletteOptions } from '@mui/material'\nimport tinycolor from 'tinycolor2'\n\nexport const generatePalette = (\n  mainColor: tinycolor.ColorInput,\n  specificColors?: PaletteColorOptions,\n): PaletteColorOptions => {\n  return {\n    100: tinycolor(mainColor).desaturate(25).lighten(50).toString(),\n    200: tinycolor(mainColor).desaturate(13).lighten(20).toString(),\n    300: tinycolor(mainColor).desaturate(3).lighten(10).toString(),\n    400: tinycolor(mainColor).desaturate(1).lighten(5).toString(),\n    500: tinycolor(mainColor).toString(),\n    600: tinycolor(mainColor).saturate(5).darken(4).toString(),\n    700: tinycolor(mainColor).saturate(11).darken(8).toString(),\n    800: tinycolor(mainColor).saturate(18).darken(10).toString(),\n    900: tinycolor(mainColor).saturate(24).darken(18).toString(),\n    light:\n      (specificColors && specificColors[400]) ||\n      tinycolor(mainColor).desaturate(1).lighten(5).toString(), // 400\n    main: tinycolor(mainColor).toString(), // 500\n    dark:\n      (specificColors && specificColors[600]) ||\n      tinycolor(mainColor).saturate(5).darken(4).toString(), // 600\n    ...specificColors,\n  }\n}\n\n/**\n * Default colors here match the default colors in _variables.scss.  We now have a single point of control\n */\nexport const palette: PaletteOptions = {\n  primary: generatePalette('#395979', {\n    100: '#d7dee4',\n    200: '#b0bdc9',\n    300: '#889baf',\n    400: '#617a94',\n    500: '#395979',\n    600: '#2e4761',\n    700: '#223549',\n    800: '#172430',\n    900: '#0b1218',\n  }),\n  secondary: generatePalette('#469285', {\n    100: '#dae9e7',\n    200: '#b5d3ce',\n    300: '#90beb6',\n    400: '#6ba89d',\n    500: '#469285',\n    600: '#38756a',\n    700: '#2a6960',\n    800: '#1c3a35',\n    900: '#0e1d1b',\n  }),\n  tertiary: generatePalette('#EDC766', {\n    100: '#fbf4e0',\n    200: '#f8e9c2',\n    300: '#f4dda3',\n    400: '#f1d285',\n    500: '#edc766',\n    600: '#be9f52',\n    700: '#8e773d',\n    800: '#5f5029',\n    900: '#2f2814',\n  }),\n  grey: {\n    1000: '#22252a',\n    900: '#353a3f',\n    800: '#4a5056',\n    700: '#878e95',\n    600: '#aeb5bc',\n    500: '#d0d4d9',\n    400: '#dfe2e6',\n    300: '#eaecee',\n    200: '#f1f3f5',\n    100: '#fbfbfc',\n  },\n  success: { main: '#32a330' },\n  info: { main: '#017fa5' },\n  warning: { main: '#cc9f00' },\n  error: { main: '#c13415' },\n  text: {\n    primary: '#353a3f', // gray-900\n    secondary: '#4a5056', // gray-800\n  },\n}\n\nexport const mtbPalette: PaletteOptions = {\n  ...palette,\n  primary: generatePalette('#4F527D'),\n  secondary: generatePalette('#C22E49'),\n}\n\nexport const arkPortalPalette: PaletteOptions = {\n  ...palette,\n  primary: generatePalette('#e79776'),\n  secondary: generatePalette('#e79776'),\n}\n\nexport const adKnowledgePortalPalette: PaletteOptions = {\n  ...palette,\n  primary: generatePalette('#4d5491'),\n  secondary: generatePalette('#2f8e94'),\n}\n\nexport const nfPortalPalette: PaletteOptions = {\n  ...palette,\n  primary: generatePalette('#125e81'),\n  secondary: generatePalette('#404b63'),\n}\n\nexport const bsmnPortalPalette: PaletteOptions = {\n  ...palette,\n  primary: generatePalette('#00255c'),\n  secondary: generatePalette('#2699a7'),\n}\n\nexport const psychEncodePortalPalette: PaletteOptions = {\n  ...palette,\n  primary: generatePalette('#00565e'),\n  secondary: generatePalette('#f7a700'),\n}\n\nexport const stopAdPortalPalette: PaletteOptions = {\n  ...palette,\n  primary: generatePalette('#4d5491'),\n  secondary: generatePalette('#4d5491'),\n}\n\nexport const digitalHealthPortalPalette: PaletteOptions = {\n  ...palette,\n  primary: generatePalette('#3e7293'),\n  secondary: generatePalette('#164767'),\n}\n\nexport const crcResearcherPortalPalette: PaletteOptions = {\n  ...palette,\n  primary: generatePalette('#0085ff'),\n  secondary: generatePalette('#0085ff'),\n}\n\nexport const cancerComplexityPortalPalette: PaletteOptions = {\n  ...palette,\n  primary: generatePalette('#38568e'),\n  secondary: generatePalette('#47337d'),\n}\n\nexport const sageBionetworksPalette: PaletteOptions = {\n  ...palette,\n  primary: generatePalette('#24AB9F'),\n  secondary: generatePalette('#F5B33C'),\n}\n\nexport default palette\n","import { Components, Theme } from '@mui/material'\n\nconst linkTheme: Components<Theme>['MuiLink'] = {\n  defaultProps: {\n    underline: 'always',\n  },\n  styleOverrides: {\n    root: {\n      fontWeight: 700,\n      letterSpacing: '0.5px',\n    },\n    underlineAlways: ({ theme }) => ({\n      textDecoration: 'underline',\n      textUnderlineOffset: '4px',\n      textDecorationThickness: '1px',\n      textDecorationColor: theme.palette.grey[600],\n      '&:hover': {\n        textDecorationColor: theme.palette.primary.main,\n        textDecorationThickness: '2px',\n      },\n    }),\n    underlineHover: {\n      '&:hover': {\n        textUnderlineOffset: '4px',\n        textDecorationThickness: '2px',\n      },\n    },\n  },\n}\n\nexport default linkTheme\n","import { ThemeOptions } from '@mui/material/styles'\nimport { typographyOptions } from './typography/Typography'\nimport palette from './palette/Palettes'\nimport { Fade } from '@mui/material'\nimport linkTheme from './typography/Link'\n\nconst defaultMuiTheme: ThemeOptions = {\n  typography: typographyOptions,\n  palette: palette,\n  components: {\n    MuiAlert: {\n      styleOverrides: {\n        root: ({ ownerState, theme }) => ({\n          borderRadius: '0px',\n          fontSize: '16px',\n          borderLeft: `10px solid ${\n            // The default severity is 'success'.\n            theme.palette[ownerState.severity || 'success']['main']\n          }`,\n        }),\n      },\n    },\n    MuiLink: linkTheme,\n    MuiButtonBase: {\n      defaultProps: {\n        disableRipple: true,\n      },\n    },\n    MuiButton: {\n      styleOverrides: {\n        root: {\n          fontWeight: 900,\n          padding: '6px 12px',\n          borderRadius: '0px',\n          textTransform: 'none',\n          '&:hover': {\n            transition: '0.2s',\n          },\n        },\n        text: ({ theme }) => ({\n          '&:hover': {\n            textDecoration: 'underline',\n            textUnderlineOffset: '4px',\n            textDecorationColor: theme.palette.primary.main,\n            textDecorationThickness: '2px',\n          },\n        }),\n      },\n    },\n    MuiCheckbox: {\n      defaultProps: {\n        color: 'secondary',\n      },\n    },\n    MuiDialog: {\n      defaultProps: {\n        PaperProps: {\n          sx: {\n            borderRadius: '0px',\n            padding: '35px',\n            alignSelf: 'flex-start',\n          },\n        },\n      },\n    },\n    MuiDialogTitle: {\n      styleOverrides: {\n        root: ({ theme }) => ({\n          borderBottom: `1px solid ${theme.palette.grey[300]}`,\n          padding: '0px 0px 20px',\n          marginBottom: '20px',\n        }),\n      },\n    },\n    MuiDialogContent: {\n      styleOverrides: {\n        root: {\n          padding: '0px',\n        },\n      },\n    },\n    MuiDialogActions: {\n      styleOverrides: {\n        root: ({ theme }) => ({\n          padding: '20px 0px 0px',\n          marginTop: '20px',\n          borderTop: `1px solid ${theme.palette.grey[300]}`,\n        }),\n      },\n    },\n    MuiMenuItem: {\n      styleOverrides: {\n        root: {\n          height: '38px',\n          paddingLeft: '12px',\n          paddingRight: '12px',\n        },\n      },\n    },\n    MuiTooltip: {\n      defaultProps: {\n        arrow: true,\n        TransitionComponent: Fade,\n      },\n      styleOverrides: {\n        arrow: ({ theme }) => ({\n          color: theme.palette.common.black,\n        }),\n        tooltip: ({ theme }) => ({\n          fontSize: '14px',\n          borderRadius: '2px',\n          backgroundColor: theme.palette.common.black,\n        }),\n      },\n    },\n    MuiTypography: {\n      defaultProps: {\n        variantMapping: {\n          // For now use p for headlines, since the bootstrap-4-backport class will override style\n          headline1: 'p',\n          headline2: 'p',\n          headline3: 'p',\n          body1: 'p',\n          body1Italic: 'p',\n          body2: 'p',\n          breadcrumb1: 'span',\n          breadcrumb2: 'span',\n          smallText1: 'p',\n          smallText2: 'p',\n          smallLink: 'span',\n          label: 'span',\n          buttonLink: 'span',\n          hintText: 'p',\n          sectionTitle: 'p',\n          subsectionHeader: 'p',\n          dataFieldKey: 'p',\n        },\n      },\n    },\n  },\n}\n\nexport default defaultMuiTheme\n","import { createTheme, StyledEngineProvider, ThemeOptions } from '@mui/material'\nimport { ThemeProvider as MuiThemeProvider } from '@mui/material/styles'\nimport { merge } from 'lodash-es'\nimport React, { useMemo } from 'react'\nimport defaultMuiTheme from './DefaultTheme'\n\nexport function mergeTheme(themeOverrides: ThemeOptions): ThemeOptions {\n  // TODO: Handle merging color palettes where an entire palette can be generated from a single base color.\n  return merge({}, defaultMuiTheme, themeOverrides)\n}\n\nexport type ThemeProviderProps = React.PropsWithChildren<{\n  theme?: ThemeOptions\n}>\n\nexport const ThemeProvider = ({\n  theme = defaultMuiTheme,\n  children,\n}: ThemeProviderProps) => {\n  const mergedTheme = useMemo(() => mergeTheme(theme), [theme])\n  const muiTheme = createTheme(mergedTheme)\n  return (\n    <StyledEngineProvider injectFirst>\n      <MuiThemeProvider theme={muiTheme}>{children}</MuiThemeProvider>\n    </StyledEngineProvider>\n  )\n}\n","import React, { useContext, useMemo } from 'react'\nimport {\n  QueryClient,\n  QueryClientConfig,\n  QueryClientProvider,\n} from 'react-query'\nimport { SynapseErrorBoundary } from '../containers/error/ErrorBanner'\nimport { ThemeProvider } from './theme/useTheme'\nimport { ThemeOptions } from '@mui/material'\nimport { KeyFactory } from './hooks/SynapseAPI/KeyFactory'\n\nexport const defaultQueryClientConfig: QueryClientConfig = {\n  defaultOptions: {\n    queries: {\n      staleTime: 1000 * 60 * 5, // 5 min\n      cacheTime: 1000 * 60 * 30, // 30 min\n      retry: false, // SynapseClient knows which queries to retry\n      refetchOnWindowFocus: false,\n    },\n  },\n}\n\nconst defaultQueryClient = new QueryClient(defaultQueryClientConfig)\n\nexport type SynapseContextType = {\n  /** The user's access token. If undefined, the user is not logged in */\n  accessToken: string | undefined\n  /** If the user has enabled experimental mode */\n  isInExperimentalMode: boolean\n  /** If the user prefers time to be displayed in UTC format */\n  utcTime: boolean\n  /** Whether to wrap all children of this context in an error boundary. Useful if this context wraps just one component. */\n  withErrorBoundary: boolean\n  /** The URL of the download cart page in the current app. Used to properly link components */\n  downloadCartPageUrl: string\n  /* The key factory to use for react-query. Generated automatically. */\n  keyFactory: KeyFactory\n}\n\nconst defaultContext = {\n  accessToken: undefined,\n  isInExperimentalMode: false,\n  utcTime: false,\n  withErrorBoundary: false,\n  keyFactory: new KeyFactory(undefined),\n  downloadCartPageUrl: '/DownloadCart',\n} satisfies SynapseContextType\n\n/**\n * This must be exported to use the context in class components.\n */\nexport const SynapseContext =\n  React.createContext<SynapseContextType>(defaultContext)\n\nexport type SynapseContextProviderProps = {\n  synapseContext: Partial<SynapseContextType>\n  queryClient?: QueryClient\n  theme?: ThemeOptions\n  children?: React.ReactNode\n}\n\n/**\n * Provides context necessary for most components in SRC\n * @param param0\n * @returns\n */\nexport function SynapseContextProvider(props: SynapseContextProviderProps) {\n  const {\n    children,\n    synapseContext: providedContext,\n    queryClient,\n    theme,\n  } = props\n  const queryKeyFactory = useMemo(\n    () => new KeyFactory(providedContext.accessToken),\n    [providedContext.accessToken],\n  )\n\n  const synapseContext: SynapseContextType = useMemo(\n    () => ({\n      accessToken: providedContext.accessToken,\n      isInExperimentalMode: providedContext.isInExperimentalMode ?? false,\n      utcTime: providedContext.utcTime ?? false,\n      withErrorBoundary: providedContext.withErrorBoundary ?? false,\n      downloadCartPageUrl:\n        providedContext.downloadCartPageUrl ?? '/DownloadCart',\n      keyFactory: providedContext.keyFactory ?? queryKeyFactory,\n    }),\n    [\n      providedContext.accessToken,\n      providedContext.downloadCartPageUrl,\n      providedContext.isInExperimentalMode,\n      providedContext.keyFactory,\n      providedContext.utcTime,\n      providedContext.withErrorBoundary,\n      queryKeyFactory,\n    ],\n  )\n\n  return (\n    <SynapseContext.Provider value={synapseContext}>\n      <QueryClientProvider client={queryClient ?? defaultQueryClient}>\n        <ThemeProvider theme={theme}>\n          {synapseContext?.withErrorBoundary ? (\n            <SynapseErrorBoundary>{children}</SynapseErrorBoundary>\n          ) : (\n            children\n          )}\n        </ThemeProvider>\n      </QueryClientProvider>\n    </SynapseContext.Provider>\n  )\n}\n\nexport const SynapseContextConsumer = SynapseContext.Consumer\n\nexport function useSynapseContext(): SynapseContextType {\n  const context = useContext(SynapseContext)\n  if (context === undefined) {\n    throw new Error(\n      'useSynapseContext must be used within a SynapseContextProvider',\n    )\n  }\n  return context\n}\n"],"names":["parse_1","cookie","parse","serialize_1","serialize","decode","encode","fieldContentRegExp","str","options","obj","opt","pairs","dec","i","pair","index","key","val","tryDecode","name","enc","value","maxAge","sameSite","getEndpoint","BackendDestinationEnum","REPO","FILE","ASYNC_START","ASYNC_GET","ENTITY","ENTITY_ID","id","ENTITY_ID_VERSION","version","ENTITY_ID_VERSIONS","ENTITY_BUNDLE_V2","ENTITY_PATH","ENTITY_HEADER_BY_ID","ENTITY_HEADERS","ENTITY_JSON","ENTITY_SCHEMA","ENTITY_SCHEMA_BINDING","ENTITY_SCHEMA_VALIDATION","ENTITY_ACCESS_REQUIREMENTS","entityId","TABLE_QUERY_ASYNC_START","TABLE_QUERY_ASYNC_GET","asyncJobToken","ASYNCHRONOUS_JOB_TOKEN","SCHEMA","SCHEMA_VALIDATION_START","SCHEMA_VALIDATION_GET","asyncJobId","USER","USER_BUNDLE","USER_ID","USER_ID_BUNDLE","USER_PROFILE","USER_PROFILE_ID","NOTIFICATION_EMAIL","ACCESS_REQUIREMENT_SEARCH","ACCESS_REQUEST_SUBMISSION_SEARCH","ACCESS_REQUIREMENT_BY_ID","ACCESS_REQUIREMENT_ACL","ACCESS_REQUIREMENT_STATUS","ACCESS_REQUIREMENT_WIKI_PAGE_KEY","ACCESS_REQUIREMENT_WIKI_PAGE","accessRequirementId","wikiId","FAVORITES","USER_GROUP_HEADERS","USER_GROUP_HEADERS_BATCH","DATA_ACCESS_SUBMISSION_BY_ID","PROFILE_IMAGE_PREVIEW","userId","APPROVED_SUBMISSION_INFO","EVALUATION","EVALUATION_BY_ID","EVALUATIONS_BY_ID","ids","ACTIVITY_FOR_ENTITY","versionNumber","TRASHCAN","TRASHCAN_VIEW","TRASHCAN_RESTORE","TRASHCAN_PURGE","TEAM","teamId","TEAM_ID_MEMBER_ID","memberId","FORUM","FORUM_THREAD","THREAD","THREAD_ID","DOI","DOI_ASSOCIATION","ACCESS_APPROVAL","DATA_ACCESS_REQUEST","DATA_ACCESS_REQUEST_SUBMISSION","ACCESS_REQUIREMENT_DATA_ACCESS_REQUEST_FOR_UPDATE","RESEARCH_PROJECT","ACCESS_REQUIREMENT_RESEARCH_PROJECT_FOR_UPDATE","FILE_HANDLE","FILE_HANDLE_BATCH","PROJECTS","isTypeViaConcreteTypeFactory","expectedConcreteTypes","object","FILE_ENTITY_CONCRETE_TYPE_VALUE","isFileEntity","DATASET_CONCRETE_TYPE_VALUE","DATASET_COLLECTION_CONCRETE_TYPE_VALUE","ENTITY_VIEW_TYPE_MASK_FILE","ENTITY_VIEW_CONCRETE_TYPE_VALUE","SUBMISSION_VIEW_CONCRETE_TYPE_VALUE","TABLE_ENTITY_CONCRETE_TYPE_VALUE","VIEW_CONCRETE_TYPE_VALUES","MATERIALIZED_VIEW_CONCRETE_TYPE_VALUE","TABLE_CONCRETE_TYPE_VALUES","FOLDER_CONCRETE_TYPE_VALUE","PROJECT_CONCRETE_TYPE_VALUE","LINK_CONCRETE_TYPE_VALUE","isLink","EntityType","FileHandleAssociateType","ObjectType","TYPE_FILTER","Subscribable","_proto","listener","_this","callback","x","isServer","noop","functionalUpdate","updater","input","isValidTimeout","ensureQueryKeyArray","timeUntilStale","updatedAt","staleTime","parseQueryArgs","arg1","arg2","arg3","isQueryKey","_extends","parseMutationArgs","parseFilterArgs","mapQueryStatusFilter","active","inactive","isActive","matchQuery","filters","query","exact","fetching","predicate","queryKey","stale","hashQueryKeyByOptions","partialMatchKey","queryStatusFilter","matchMutation","mutation","mutationKey","hashQueryKey","hashFn","asArray","stableValueHash","_","isPlainObject","result","a","b","partialDeepEqual","replaceEqualDeep","array","aSize","bItems","bSize","copy","equalItems","shallowEqualObjects","o","hasObjectPrototype","ctor","prot","sleep","timeout","resolve","scheduleMicrotask","error","getAbortController","FocusManager","_Subscribable","_inheritsLoose","onFocus","_window","_this$cleanup","setup","_this$cleanup2","_this2","focused","focusManager","OnlineManager","onOnline","online","onlineManager","defaultRetryDelay","failureCount","isCancelable","CancelledError","isCancelledError","Retryer","config","cancelRetry","cancelFn","continueFn","promiseResolve","promiseReject","cancelOptions","outerResolve","outerReject","reject","pause","continueResolve","run","promiseOrValue","_config$retry","_config$retryDelay","retry","retryDelay","delay","shouldRetry","NotifyManager","_len","args","_key","_this3","queue","fn","notifyManager","logger","getLogger","setLogger","newLogger","Query","_this$options$cacheTi","_this$options$isDataE","_this$options","prevData","data","state","setStateOptions","_this$retryer","promise","observer","_this$retryer2","_this$retryer3","fetchOptions","_this$options$behavio","_context$fetchOptions","_abortController$abor","_this$retryer4","abortController","queryFnContext","fetchFn","context","_this$options$behavio2","_context$fetchOptions2","action","hasInitialData","initialDataUpdatedAt","hasData","_action$meta","_action$dataUpdatedAt","QueryCache","client","_options$queryHash","queryHash","queryInMap","_parseFilterArgs","_parseFilterArgs2","event","_this4","_this5","Mutation","getDefaultState","restored","_this$options$retry","reducer","MutationCache","pausedMutations","infiniteQueryBehavior","_context$fetchOptions3","_context$fetchOptions4","_context$state$data","_context$state$data2","refetchPage","fetchMore","pageParam","isFetchingNextPage","isFetchingPreviousPage","oldPages","oldPageParams","abortSignal","newPageParams","cancelled","queryFn","buildNewPages","pages","param","page","previous","fetchPage","manual","queryFnResult","promiseAsAny","getNextPageParam","_manual","_param","getPreviousPageParam","shouldFetchFirstPage","_loop","shouldFetchNextPage","_param2","finalPromise","finalPromiseAsAny","hasNextPage","nextPageParam","hasPreviousPage","previousPageParam","QueryClient","_this$unsubscribeFocu","_this$unsubscribeOnli","_this$queryCache$find","queryKeyOrFilters","_ref","parsedOptions","defaultedOptions","_ref2","_this$queryCache$find2","queryCache","_parseFilterArgs3","refetchFilters","_parseFilterArgs4","_parseFilterArgs4$","promises","_ref3","_filters$refetchActiv","_filters$refetchInact","_parseFilterArgs5","_this6","_parseFilterArgs6","_this7","_this$queryDefaults$f","_this$mutationDefault","QueryObserver","shouldFetchOnMount","shouldFetchOn","notifyOptions","prevOptions","prevQuery","mounted","shouldFetchOptionally","nextRefetchInterval","trackedResult","trackProp","unsubscribe","time","_this$options$refetch","nextInterval","prevResult","prevResultState","prevResultOptions","queryChange","queryInitialState","prevQueryResult","dataUpdatedAt","errorUpdatedAt","isFetching","status","isPreviousData","isPlaceholderData","fetchOnMount","fetchOptionally","selectError","placeholderData","isStale","notifyOnChangeProps","notifyOnChangePropsExclusions","includedProps","typedKey","changed","isIncluded","isExcluded","defaultNotifyOptions","_this8","shouldLoadOnMount","field","unstable_batchedUpdates","ReactDOM","defaultContext","React","QueryClientSharingContext","getQueryClientContext","contextSharing","useQueryClient","queryClient","QueryClientProvider","_ref$contextSharing","children","Context","createValue","_isReset","QueryErrorResetBoundaryContext","useQueryErrorResetBoundary","shouldThrowError","suspense","_useErrorBoundary","params","useBaseQuery","Observer","mountedRef","_React$useState","forceUpdate","errorResetBoundary","_React$useState2","useQuery","changedArray","item","initialState","ErrorBoundary","_React$Component","_args","_this$props","_len2","_key2","info","_this$props$onError","_this$props2","prevProps","prevState","resetKeys","_this$props$onResetKe","_this$props3","_this$props4","fallbackRender","FallbackComponent","fallback","_props","React.isValidElement","React.createElement","React.Component","useErrorHandler","givenError","React.useState","setError","SynapseClientError","reason","url","errorResponse","factory","module","undefined","hex_chr","md5cycle","k","c","d","md5blk","s","md5blks","md5blk_array","md51","n","length","tail","tmp","lo","hi","md51_array","rhex","j","hex","clamp","from","to","begin","end","num","target","targetArray","sourceArray","toUtf8","utf8Str2ArrayBuffer","returnUInt8Array","buff","arr","arrayBuffer2Utf8Str","concatenateArrayBuffers","first","second","hexToBinaryString","bytes","SparkMD5","contents","raw","ret","content","hash","hasDocumentCookie","parseCookies","cookies","cookie.parse","isParsingCookie","doNotParse","readCookie","cleanValue","cleanupCookieValue","__assign","this","t","p","Cookies","parseOptions","name_1","_a","cookie.serialize","finalOptions","idx","Cookies$1","removeUndefined","inPlace","acc","_acc","DiscussionThreadOrder","DiscussionReplyOrder","DiscussionFilter","sufixes","calculateFriendlyFileSize","ErrorResponseCode","UniversalCookies","IS_OUTSIDE_SYNAPSE_ORG","ACCESS_TOKEN_COOKIE_KEY","MAX_JS_FILE_DOWNLOAD_SIZE","SYNAPSE_STORAGE_LOCATION_ID","getRootURL","portString","allowNotFoundError","response","e","returnIfTwoFactorAuthError","RETRY_STATUS_CODES","MAX_RETRY_STATUS_CODES","MAX_RETRY","fetchWithExponentialTimeout","delayMs","NETWORK_UNAVAILABLE_MESSAGE","numOfTry","contentType","responseBody","responseObject","doPost","requestJsonObject","accessToken","endpoint","additionalOptions","usedEndpoint","doGet","doDelete","doPut","getDownloadFromTableRequest","request","getAsyncResultBodyFromJobId","getFileHandleById","handleId","getActualFileHandleByIdURL","fileAssociateType","fileAssociateId","redirect","getFileHandleByIdURL","getAsyncResultFromJobId","responseBodyEndpoint","setCurrentAsyncStatus","failureResponse","getQueryTableAsyncJobResults","queryBundleRequest","getQueryTableResults","signal","getFullQueryTableResults","offset","rest","queryRequest","SynapseConstants.BUNDLE_MASK_QUERY_MAX_ROWS_PER_PAGE","isDone","login","username","password","authenticationReceipt","loginWith2fa","oAuthUrlRequest","provider","redirectUrl","oAuthSessionRequest","authenticationCode","getCurrentUserTwoFactorEnrollmentStatus","disableTwoFactorAuthForCurrentUser","start2FAEnrollment","complete2FAEnrollment","createRecoveryCodes","createEntity","entity","createProject","getUserProfile","getUserProfileById","ownerId","getUserBundle","mask","getMyUserBundle","getUserGroupHeaders","prefix","typeFilter","limit","postUserGroupHeadersWithAlias","aliases","getGroupHeadersBatch","getEvaluations","evalIds","getUserProfiles","list","getEntityChildren","getFiles","getEntity","entityTokens","getEntityHeadersByIds","entityIds","getEntityHeaders","references","fixedReferences","reference","getEntityHeader","updateEntity","deleteEntity","getEntityBundleV2","requestObject","getObjectTypeToString","getEntityWiki","objectType","objectTypeString","getUserFavorites","sort","sortDirection","addUserFavorite","removeUserFavorite","getUserChallenges","getUserTeamList","getIsUserMemberOfTeam","getWikiPageKeyForEntity","getWikiPageKeyForAccessRequirement","getWikiAttachmentsFromEntity","getPresignedUrlForWikiAttachment","fileName","isInSynapseExperimentalMode","SynapseConstants.EXPERIMENTAL_MODE_COOKIE","setAccessTokenCookie","token","getAccessTokenFromCookie","getUseUtcTimeFromCookie","DATETIME_UTC_COOKIE_KEY","getPrincipalAliasRequest","signOut","uploadFile","filename","file","fileUploadResolve","fileUploadReject","partSize","calculateMd5","md5","startMultipartUpload","fileBlob","blobSlice","chunkSize","chunks","spark","fileReader","currentChunk","loadNext","start","processFilePart","partNumber","multipartUploadStatus","uploadId","presignedUploadUrlRequest","presignedUrlUrl","presignedUrlResponse","presignedUrl","startByte","endByte","fileSlice","uploadFilePart","addPartUrl","addPartResponse","checkUploadComplete","fileHandleName","v","newStatus","clientSidePartsState","bit","getFileHandleContentFromID","fileHandleId","getFileHandleByIdPromise","getFileHandlePresignedUrlPromis","values","fileHandle","getFileHandleContent","err","maxFileSizeBytes","text","getFileResult","fileEntity","includeFileHandles","includePreSignedURLs","includePreviewPreSignedURLs","fileHandleAssociationList","addFileToDownloadListV2","fileEntityId","createPackageFromDownloadListV2","zipFileName","addFilesToDownloadListV2","getEvaluationPermissions","evalId","getEvaluation","updateEvaluation","evaluation","createEvaluation","deleteEvaluation","getEvaluationRoundsList","evaluationRoundListRequest","createEvaluationRound","evaluationRound","updateEvaluationRound","deleteEvaluationRound","evalRoundId","getOAuth2","nextPageToken","createOAuthClient","deleteOAuthClient","updateOAuthClient","isOAuthClientReverificationRequired","createOAuthClientSecret","getAuthenticatedOn","createFormData","formGroupId","dataFileHandleId","newFormData","updateFormData","formDataId","updatedFormData","submitFormData","getRestrictionInformation","getAccessRequirementById","getAccessRequirementAcl","searchAccessRequirements","getAccessRequirementStatus","requirementId","getAllAccessRequirements","getAllOfPaginatedService","createLockAccessRequirement","postAccessApproval","accessApproval","existsMoreData","results","createPersonalAccessToken","accessTokenGenerationRequest","getPersonalAccessTokenRecords","deletePersonalAccessToken","accessTokenId","getMyProjects","urlParams","getUserProjects","getEntityPath","getEntityVersions","searchEntities","getDownloadListJobResponse","queryRequestDetails","clearDownloadListV2","getAvailableFilesToDownload","getDownloadListStatistics","getDownloadListActionsRequired","removeItemFromDownloadListV2","updateResearchProject","requestObj","getResearchProject","getDataAccessRequestForUpdate","updateDataAccessRequest","submitDataAccessRequest","cancelDataAccessRequest","submissionId","getSubmissionById","updateSubmissionStatus","getSchemaBinding","getSchemaValidationResults","getValidationSchema","schema$id","getEntityJson","updateEntityJson","json","getNotificationEmail","oAuthRegisterAccountStep2","userName","bindOAuthProviderToAccount","changePasswordWithCurrentPassword","newPassword","getReply","replyId","postReply","createDiscussionReply","putReply","updateDiscussionReply","deleteReply","getReplies","threadId","ascending","filter","getReplyMessageUrl","messageKey","pinThread","unPinThread","getThread","getThreadMessageUrl","postThread","createDiscussionThread","putThreadTitle","putThreadMessage","deleteThread","restoreThread","getModerators","forumId","forumSearch","discussionSearchRequest","getForumThread","searchAccessApprovals","accessApprovalSearchRequest","searchAccessSubmission","submissionSearchRequest","getApprovedSubmissionInfo","submissionInfoPageRequest","getActivityForEntity","getProfilePicPreviewPresignedUrl","getItemsInTrashCan","restoreFromTrashCan","purgeFromTrashCan","getCertifyQuiz","postCertifiedUserTestResponse","quizResponse","S3_GEODATA_ENDPOINT","GEO_DATA_URL","API_KEY_URL","getGoogleMapsApiKey","getAllSynapseUserGeoData","getSynapseTeamGeoData","getSubscribers","topic","postSubscription","deleteSubscription","subscriptionId","postSubscriptionList","getDefaultUploadDestination","containerEntityId","getDOIAssociation","objectId","objectVersion","cache","createCache","StyledEngineProvider","props","injectFirst","_jsx","CacheProvider","hasSymbol","nested","mergeOuterLocalTheme","outerTheme","localTheme","ThemeProvider","useTheme","theme","React.useMemo","output","ThemeContext","EMPTY_THEME","InnerThemeProvider","StyledEngineThemeContext","MuiThemeProvider","getCollapseUtilityClass","slot","generateUtilityClass","generateUtilityClasses","_excluded","useUtilityClasses","ownerState","orientation","classes","slots","composeClasses","CollapseRoot","styled","styles","CollapseWrapper","CollapseWrapperInner","Collapse","React.forwardRef","inProps","ref","useThemeProps","addEndListener","className","collapsedSizeProp","component","easing","inProp","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","duration","TransitionComponent","Transition","other","_objectWithoutPropertiesLoose","timer","React.useRef","wrapperRef","autoTransitionDuration","collapsedSize","isHorizontal","size","React.useEffect","nodeRef","handleRef","useForkRef","normalizedTransitionCallback","maybeIsAppearing","node","getWrapperSize","handleEnter","isAppearing","handleEntering","wrapperSize","transitionDuration","transitionTimingFunction","getTransitionProps","duration2","handleEntered","handleExit","handleExited","handleExiting","next","childProps","clsx","Collapse$1","GoogleIcon24","jsxs","SvgIcon","jsx","PROVIDERS","AuthenticationMethodSelection","onBeginOAuthSignIn","ssoRedirectUrl","onSelectUsernameAndPassword","onGoogleSignIn","SynapseClient.getRootURL","SynapseClient.oAuthUrlRequest","Box","Button","IconSvg","isObject","type","identity","asyncTag","funcTag","genTag","proxyTag","isFunction","tag","baseGetTag","coreJsData","root","coreJsData$1","maskSrcKey","uid","isMasked","func","funcProto","funcToString","toSource","reRegExpChar","reIsHostCtor","objectProto","hasOwnProperty","reIsNative","baseIsNative","pattern","getValue","getNative","WeakMap","WeakMap$1","objectCreate","baseCreate","proto","baseCreate$1","apply","thisArg","copyArray","source","HOT_COUNT","HOT_SPAN","nativeNow","shortOut","count","lastCalled","stamp","remaining","constant","defineProperty","defineProperty$1","baseSetToString","string","baseSetToString$1","setToString","setToString$1","MAX_SAFE_INTEGER","reIsUint","isIndex","baseAssignValue","eq","assignValue","objValue","copyObject","customizer","isNew","newValue","nativeMax","overRest","transform","otherArgs","baseRest","isLength","isArrayLike","isIterateeCall","createAssigner","assigner","sources","guard","isPrototype","Ctor","baseTimes","iteratee","argsTag","baseIsArguments","isObjectLike","propertyIsEnumerable","isArguments","isArguments$1","stubFalse","freeExports","freeModule","moduleExports","Buffer","nativeIsBuffer","isBuffer","isBuffer$1","arrayTag","boolTag","dateTag","errorTag","mapTag","numberTag","objectTag","regexpTag","setTag","stringTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","typedArrayTags","baseIsTypedArray","baseUnary","freeProcess","freeGlobal","nodeUtil","types","nodeUtil$1","nodeIsTypedArray","isTypedArray","isTypedArray$1","arrayLikeKeys","inherited","isArr","isArray","isArg","isBuff","isType","skipIndexes","overArg","arg","nativeKeys","nativeKeys$1","baseKeys","nativeKeysIn","baseKeysIn","isProto","keysIn","nativeCreate","nativeCreate$1","hashClear","hashDelete","HASH_UNDEFINED","hashGet","hashHas","hashSet","Hash","entries","entry","listCacheClear","assocIndexOf","arrayProto","splice","listCacheDelete","lastIndex","listCacheGet","listCacheHas","listCacheSet","ListCache","Map","Map$1","mapCacheClear","isKeyable","getMapData","map","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","MapCache","getPrototype","getPrototype$1","objectCtorString","stackClear","stackDelete","stackGet","stackHas","LARGE_ARRAY_SIZE","stackSet","Stack","allocUnsafe","cloneBuffer","buffer","isDeep","DataView","DataView$1","Promise","Promise$2","Set","Set$1","promiseTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","getTag","ctorString","getTag$1","Uint8Array","Uint8Array$2","cloneArrayBuffer","arrayBuffer","cloneTypedArray","typedArray","initCloneObject","createBaseFor","fromRight","keysFunc","iterable","baseFor","baseFor$1","assignMergeValue","isArrayLikeObject","safeGet","toPlainObject","baseMergeDeep","srcIndex","mergeFunc","stack","srcValue","stacked","isCommon","isTyped","baseMerge","isEmpty","merge","merge$1","DOCKER_REPOSITORY_CONCRETE_TYPE_VALUE","isDockerRepository","getEntityTypeFromHeader","header","convertToEntityType","isContainerType","isTableType","entityTypeToFriendlyName","entityType","typeString","convertToConcreteEntityType","isVersionableEntityType","isTable","isTableEntity","isDataset","isDatasetCollection","isEntityRefCollectionView","isEntityView","hasFilesInView","entityView","isFileView","isVersionableEntity","getVersionDisplay","allEntityKeys","versionableKeys","tableKeys","viewKeys","entityRefCollectionViewKeys","entityJsonKeys","removeTrailingUndefinedElements","lastElement","entityQueryKeyObjects","bundleRequest","infinite","downloadListQueryKeys","ACCESS_REQUIREMENT_QUERY_KEY","KeyFactory","maxSizeBytes","projectParams","useGetNotificationEmail","keyFactory","useSynapseContext","SynapseClient.getNotificationEmail","useGetCurrentUserProfile","SynapseClient.getUserProfile","ALL_USER_BUNDLE_FIELDS","USER_BUNDLE_MASK_USER_PROFILE","USER_BUNDLE_MASK_ORCID","USER_BUNDLE_MASK_VERIFICATION_SUBMISSION","USER_BUNDLE_MASK_IS_CERTIFIED","USER_BUNDLE_MASK_IS_VERIFIED","USER_BUNDLE_MASK_IS_ACT_MEMBER","USER_BUNDLE_MASK_IS_AR_REVIEWER","useGetUserBundle","SynapseClient.getUserBundle","useGetCurrentUserBundle","SynapseClient.getMyUserBundle","useGetUserProfile","principalId","sessionStorageCacheKey","cachedValue","SynapseClient.getUserProfileById","profile","useGetPrincipalIdForAlias","SynapseClient.getPrincipalAliasRequest","useIsCurrentUserACTMember","ISSUE_COLLECTOR_URL_MAP","showJiraIssueCollector","issueCollector","issueSummary","issueDescription","userDisplayName","userEmailAddress","synapseDataObjectId","componentId","issuePriority","showCollectorDialog","useJiraIssueCollector","show","currentUser","profileIsLoading","notificationEmail","emailIsLoading","useEffect","SignInButton","SRC_SIGN_IN_CLASS","YOU_ARE_NOT_AUTHORIZED_MESSAGE","SignInPrompt","Fragment","ClientError","showDetailedError","setShowDetailedError","useState","loginError","accessDenied","ErrorBanner","reloadButtonFn","synapseClientError","jsError","stringError","Alert","ErrorFallbackComponent","resetErrorBoundary","TableRowFallbackComponent","SynapseErrorBoundary","defaultFontFamily","monospaceFontFamily","defaultStyles","typographyOptions","palette","trimLeft","trimRight","tinycolor","color","opts","rgb","inputToRGB","RsRGB","GsRGB","BsRGB","R","G","B","boundAlpha","hsv","rgbToHsv","h","hsl","rgbToHsl","l","allow3Char","rgbToHex","allow4Char","rgbaToHex","bound01","hexNames","secondColor","hex8String","rgbaToArgbHex","secondHex8String","gradientType","format","formatSet","formattedString","hasAlpha","needsAlphaFormat","lighten","brighten","darken","desaturate","saturate","greyscale","spin","analogous","complement","monochromatic","splitcomplement","polyad","newColor","convertToPercentage","ok","stringInputToObject","isValidCSSUnit","rgbToRgb","hsvToRgb","hslToRgb","r","g","max","min","hue2rgb","q","f","mod","pad2","convertDecimalToHex","color1","color2","amount","clamp01","hue","number","step","slices","part","modification","rgb1","rgb2","rgba","c1","c2","wcag2","readability","wcag2Parms","out","validateWCAG2Parms","baseColor","colorList","bestColor","bestScore","includeFallbackColors","level","names","flip","flipped","isOnePointZero","processPercent","isPercentage","parseIntFromHex","convertHexToDecimal","matchers","CSS_INTEGER","CSS_NUMBER","CSS_UNIT","PERMISSIVE_MATCH3","PERMISSIVE_MATCH4","named","match","parms","generatePalette","mainColor","specificColors","mtbPalette","arkPortalPalette","adKnowledgePortalPalette","nfPortalPalette","bsmnPortalPalette","psychEncodePortalPalette","stopAdPortalPalette","digitalHealthPortalPalette","crcResearcherPortalPalette","cancerComplexityPortalPalette","sageBionetworksPalette","linkTheme","defaultMuiTheme","Fade","mergeTheme","themeOverrides","mergedTheme","useMemo","muiTheme","createTheme","defaultQueryClientConfig","defaultQueryClient","SynapseContext","SynapseContextProvider","providedContext","queryKeyFactory","synapseContext","SynapseContextConsumer","useContext"],"mappings":"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"}