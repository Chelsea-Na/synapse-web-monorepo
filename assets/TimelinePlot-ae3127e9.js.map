{"version":3,"file":"TimelinePlot-ae3127e9.js","sources":["../../src/components/TimelinePlot/phasesQueryResponseData.ts","../../src/components/TimelinePlot/TimelinePhase.tsx","../../src/components/TimelinePlot/TimelineLegendItem.tsx","../../src/components/TimelinePlot/TimelinePlotSpeciesSelector.tsx","../../src/components/TimelinePlot/TimelinePlot.tsx"],"sourcesContent":["import { QueryResultBundle } from '@sage-bionetworks/synapse-types'\n\nconst SPECIES_COLUMN_NAME = 'species'\nconst OBSERVATION_PHASE_COLUMN_NAME = 'observationphase'\n\nconst hardcodedPhasesQueryResponseData: QueryResultBundle = {\n  concreteType: 'org.sagebionetworks.repo.model.table.QueryResultBundle',\n  queryResult: {\n    concreteType: 'org.sagebionetworks.repo.model.table.QueryResult',\n    queryResults: {\n      concreteType: 'org.sagebionetworks.repo.model.table.RowSet',\n      tableId: 'syn52408661',\n      etag: 'a3270cb2-4373-4e12-9981-e12326e54ad1',\n      headers: [\n        {\n          name: 'species',\n          columnType: 'STRING',\n          id: '152514',\n        },\n        {\n          name: 'observationPhase',\n          columnType: 'STRING',\n          id: '197976',\n        },\n        {\n          name: 'observationPhaseOrder',\n          columnType: 'INTEGER',\n          id: '198102',\n        },\n        {\n          name: 'observationTimeMax',\n          columnType: 'INTEGER',\n          id: '198103',\n        },\n        {\n          name: 'observationTimeUnits',\n          columnType: 'STRING',\n          id: '198101',\n        },\n      ],\n      rows: [\n        {\n          rowId: 9,\n          versionNumber: 4,\n          values: ['Danio rerio', 'embryo', '1', '7', 'days'],\n        },\n        {\n          rowId: 10,\n          versionNumber: 4,\n          values: ['Danio rerio', 'larval', '2', '3', 'months'],\n        },\n        {\n          rowId: 11,\n          versionNumber: 4,\n          values: ['Danio rerio', 'juvenile', '3', '6', 'months'],\n        },\n        {\n          rowId: 12,\n          versionNumber: 4,\n          values: ['Danio rerio', 'adult', '4', '12', 'months'],\n        },\n        {\n          rowId: 16,\n          versionNumber: 4,\n          values: ['Drosophila', 'embryo', '1', '24', 'hours'],\n        },\n        {\n          rowId: 17,\n          versionNumber: 4,\n          values: ['Drosophila', 'larval', '2', '5', 'days'],\n        },\n        {\n          rowId: 18,\n          versionNumber: 4,\n          values: ['Drosophila', 'pupal', '3', '12', 'days'],\n        },\n        {\n          rowId: 19,\n          versionNumber: 4,\n          values: ['Drosophila', 'adult', '4', '5', 'weeks'],\n        },\n        {\n          rowId: 1,\n          versionNumber: 4,\n          values: ['Mus musculus', 'prenatal', '1', '21', 'days'],\n        },\n        {\n          rowId: 2,\n          versionNumber: 4,\n          values: ['Mus musculus', 'postnatal', '2', '6', 'months'],\n        },\n        {\n          rowId: 20,\n          versionNumber: 4,\n          values: ['Rattus norvegicus', 'prenatal', '1', '23', 'days'],\n        },\n        {\n          rowId: 21,\n          versionNumber: 4,\n          values: ['Rattus norvegicus', 'neonatal', '2', '4', 'weeks'],\n        },\n        {\n          rowId: 22,\n          versionNumber: 4,\n          values: ['Rattus norvegicus', 'weanling', '3', '2', 'months'],\n        },\n        {\n          rowId: 23,\n          versionNumber: 4,\n          values: ['Rattus norvegicus', 'juvenile', '4', '3', 'months'],\n        },\n        {\n          rowId: 24,\n          versionNumber: 4,\n          values: ['Rattus norvegicus', 'adolescent', '5', '6', 'months'],\n        },\n        {\n          rowId: 25,\n          versionNumber: 4,\n          values: ['Rattus norvegicus', 'adult', '6', '12', 'months'],\n        },\n        {\n          rowId: 13,\n          versionNumber: 4,\n          values: ['Saccharomyces', 'log phase', '1', '7', 'days'],\n        },\n        {\n          rowId: 14,\n          versionNumber: 4,\n          values: ['Saccharomyces', 'stationary phase', '2', '2', 'weeks'],\n        },\n        {\n          rowId: 15,\n          versionNumber: 4,\n          values: ['Saccharomyces', 'death phase', '3', '3', 'weeks'],\n        },\n        {\n          rowId: 3,\n          versionNumber: 4,\n          values: ['Sus scrofa', 'prenatal', '1', '115', 'days'],\n        },\n        {\n          rowId: 4,\n          versionNumber: 4,\n          values: ['Sus scrofa', 'neonatal', '2', '3', 'months'],\n        },\n        {\n          rowId: 5,\n          versionNumber: 4,\n          values: ['Sus scrofa', 'weanling', '3', '6', 'months'],\n        },\n        {\n          rowId: 6,\n          versionNumber: 4,\n          values: ['Sus scrofa', 'juvenile', '4', '12', 'months'],\n        },\n        {\n          rowId: 7,\n          versionNumber: 4,\n          values: ['Sus scrofa', 'adolescent', '5', '2', 'years'],\n        },\n        {\n          rowId: 8,\n          versionNumber: 4,\n          values: ['Sus scrofa', 'adult', '6', '3', 'years'],\n        },\n      ],\n    },\n  },\n}\n\nexport const phaseSpeciesIndex =\n  hardcodedPhasesQueryResponseData.queryResult?.queryResults.headers.findIndex(\n    header => header.name.toLowerCase() === SPECIES_COLUMN_NAME,\n  )!\nexport const phaseObservationIndex =\n  hardcodedPhasesQueryResponseData.queryResult?.queryResults.headers.findIndex(\n    header => header.name.toLowerCase() === OBSERVATION_PHASE_COLUMN_NAME,\n  )!\n\nexport default hardcodedPhasesQueryResponseData\n","import React, { useRef, useState } from 'react'\nimport Plotly, { Layout } from 'plotly.js-basic-dist'\nimport createPlotlyComponent from 'react-plotly.js/factory'\nimport dayjs, { ManipulateType } from 'dayjs'\nimport { Dialog } from '@mui/material'\nimport {\n  ObservationCard,\n  ObservationCardSchema,\n} from '../row_renderers/ObservationCard'\nimport { Row } from '@sage-bionetworks/synapse-types'\nimport pluralize from 'pluralize'\nconst Plot = createPlotlyComponent(Plotly)\n\ntype TimepointData = {\n  timepoints: dayjs.Dayjs[]\n  hoverOverIndex: number\n}\n\nconst getTimepointData = (\n  start: dayjs.Dayjs,\n  rowData: Row[],\n  schema: ObservationCardSchema,\n  hoverEventRowId?: number, //if supplied, will return the index of this row\n): TimepointData => {\n  let hoverOverIndex = -1\n  const timepoints = rowData.map((row, index) => {\n    const time = parseInt(row.values[schema.time]!)\n    const timeUnit = row.values[schema.timeUnits]\n    if (row.rowId == hoverEventRowId) {\n      hoverOverIndex = index\n    }\n    return start.add(time, timeUnit as ManipulateType)\n  })\n  return {\n    timepoints,\n    hoverOverIndex,\n  }\n}\n\nexport const getMaxDate = (timepoints: dayjs.Dayjs[]) => {\n  if (timepoints.length == 0) {\n    return dayjs().add(1, 'days')\n  }\n  return timepoints.reduce(\n    (maxDateItem: dayjs.Dayjs, currentDateItem: dayjs.Dayjs) => {\n      if (!maxDateItem || currentDateItem.isAfter(maxDateItem)) {\n        return currentDateItem\n      }\n      return maxDateItem\n    },\n  )\n}\n\nconst getTimelineData = (timepointData: TimepointData, rowData: Row[]) => {\n  // If this phase has no data, return an empty data line\n  if (timepointData.timepoints.length == 0) {\n    return [\n      {\n        x: [dayjs().format()],\n        y: [0.5],\n        mode: 'lines',\n        line: {\n          color: 'blue',\n          width: 2,\n        },\n        customdata: [],\n        hoverinfo: 'none',\n      },\n    ]\n  }\n\n  // first combine all of the Rows that share the same timepoint\n  const combinedData: Record<string, Row[]> = timepointData.timepoints.reduce(\n    (result, currentTimepoint, index) => {\n      const resultRecord = result as Record<string, Row[]>\n      if (!resultRecord[currentTimepoint.format()]) {\n        resultRecord[currentTimepoint.format()] = []\n      }\n      resultRecord[currentTimepoint.format()].push(rowData[index])\n      return result\n    },\n    {},\n  )\n\n  const data = timepointData.timepoints.map((timepoint, index) => {\n    const utcFormattedTimepoint = timepoint.format()\n    const isHoveredOver = index == timepointData.hoverOverIndex\n    const rows = combinedData[utcFormattedTimepoint]\n    const rowIds = rows.map(row => {\n      return row.rowId\n    })\n    return {\n      x: [utcFormattedTimepoint, utcFormattedTimepoint, utcFormattedTimepoint],\n      y: [0, 0.5, 1],\n      mode: 'lines',\n      line: {\n        color: isHoveredOver ? 'black' : 'gray',\n        width: 2,\n      },\n      // Add event into in the customdata\n      customdata: [rowIds, rowIds, rowIds],\n      // but tell Plotly that we do not want it to show a hover tooltip (we're going to handle this)\n      hoverinfo: 'none',\n    }\n  })\n  return data\n}\n\nconst getLayout = (\n  start: dayjs.Dayjs,\n  end: dayjs.Dayjs,\n  color: string,\n  annotateTime?: number,\n  annotateTimeUnits?: ManipulateType,\n  annotateEventCount?: number,\n): Partial<Layout> => {\n  const annotations: Partial<Plotly.Annotations>[] = [\n    {\n      x: start.add(1, 'day').format(),\n      y: -1,\n      text: '                             ', // hacky annotation in the middle of the plot so it does not shift when showing other annotations\n      showarrow: false,\n      textangle: '270',\n      height: 15,\n    },\n  ]\n  if (annotateTime && annotateTimeUnits && annotateEventCount) {\n    const eventCountText =\n      annotateEventCount > 1 ? `(${annotateEventCount})` : ''\n    const x = start.add(annotateTime, annotateTimeUnits)\n    annotations.push({\n      x: x.format(),\n      y: -1,\n      text: `${annotateTime} ${pluralize(\n        annotateTimeUnits,\n        annotateTime,\n      )} ${eventCountText}`,\n      showarrow: false,\n      textangle: '270',\n      height: 15,\n    })\n  }\n  return {\n    hovermode: 'closest',\n    dragmode: false, //disallow interaction\n    showlegend: false,\n    xaxis: {\n      showgrid: false,\n      showticklabels: false,\n      showline: false,\n      zeroline: false,\n    },\n\n    yaxis: {\n      range: [-1, 1],\n      showgrid: false,\n      zeroline: false,\n      showline: false,\n      showticklabels: false,\n    },\n    annotations: annotations,\n    // Each phase has a shape\n    shapes: [\n      {\n        type: 'rect',\n        x0: start.subtract(end.diff(start) / 10).format(), // add 10% to the left side of the graph\n        x1: end.add(end.diff(start) / 3).format(), // add 33% to right side of the graph\n        y0: 0.25,\n        y1: 0.75,\n        fillcolor: color,\n        opacity: 0.8,\n        line: {\n          width: 0,\n        },\n      },\n    ],\n    margin: {\n      l: 0,\n      r: 0,\n      t: 60,\n      b: 60,\n    },\n    // autosize: false,\n  }\n}\n\ntype TimelinePhaseProps = {\n  name: string\n  color: string\n  rowData: Row[]\n  schema: ObservationCardSchema\n  widthPx: number\n}\n\nconst TimelinePhase = ({\n  color,\n  rowData,\n  schema,\n  widthPx,\n}: TimelinePhaseProps) => {\n  const [clickEvent, setClickEvent] = useState<Plotly.PlotMouseEvent>()\n  const [hoverEvent, setHoverEvent] = useState<Plotly.PlotHoverEvent>()\n  const start = dayjs()\n\n  // hide the hover UI if we detect that the user moves the mouse outside of this component boundary\n  const componentRef = useRef<HTMLDivElement>(null)\n  const rowIds = clickEvent?.points[0].customdata as unknown as (\n    | number\n    | undefined\n  )[]\n  const selectedRows = rowData?.filter(row => {\n    return rowIds?.includes(row.rowId)\n  })\n  const hoverEventRowIds = hoverEvent?.points[0].customdata as unknown as (\n    | number\n    | undefined\n  )[]\n  const hoverRows = rowData?.filter(row => {\n    return hoverEventRowIds?.includes(row.rowId)\n  })\n  const annotateTime =\n    hoverRows && hoverRows.length > 0\n      ? parseInt(hoverRows[0].values[schema.time]!)\n      : undefined\n  const annotateTimeUnits =\n    hoverRows && hoverRows.length > 0\n      ? (hoverRows[0].values[schema.timeUnits] as ManipulateType)\n      : undefined\n  const timepointData = getTimepointData(\n    start,\n    rowData,\n    schema,\n    hoverEventRowIds?.length > 0 ? hoverEventRowIds[0] : undefined,\n  )\n\n  const end = getMaxDate(timepointData.timepoints)\n  return (\n    <div ref={componentRef}>\n      <Plot\n        style={{ width: widthPx, height: '220px' }}\n        data={getTimelineData(timepointData, rowData)}\n        layout={getLayout(\n          start,\n          end,\n          color,\n          annotateTime,\n          annotateTimeUnits,\n          hoverRows.length,\n        )}\n        config={{ displayModeBar: false }}\n        useResizeHandler={true}\n        onClick={eventData => {\n          setClickEvent(eventData)\n          setHoverEvent(undefined)\n        }}\n        onHover={eventData => {\n          setHoverEvent(eventData)\n        }}\n        onUnhover={() => {\n          setHoverEvent(undefined)\n        }}\n      />\n      {selectedRows && (\n        <Dialog\n          onClose={() => setClickEvent(undefined)}\n          open={!!selectedRows && selectedRows.length > 0}\n        >\n          {selectedRows.map(row => {\n            return (\n              <ObservationCard\n                key={row.rowId}\n                data={row.values}\n                schema={schema}\n                includePortalCardClass={false}\n              />\n            )\n          })}\n        </Dialog>\n      )}\n    </div>\n  )\n}\n\nexport default TimelinePhase\n","import React from 'react'\nimport { Box } from '@mui/system'\nimport { Typography } from '@mui/material'\n\ntype TimelineLegendItemProps = {\n  color: string\n  phaseName: string | null\n}\nconst TimelineLegendItem = ({ color, phaseName }: TimelineLegendItemProps) => {\n  return (\n    <Box sx={{ display: 'flex', alignItems: 'center', gap: '7px' }}>\n      <Box\n        sx={{\n          backgroundColor: color,\n          width: '20px',\n          height: '20px',\n        }}\n      />\n      <Typography variant=\"body1\">{phaseName?.toUpperCase()}</Typography>\n    </Box>\n  )\n}\n\nexport default TimelineLegendItem\n","import React, { useEffect } from 'react'\nimport { useGetFullTableQueryResults } from '../../synapse-queries'\nimport { BUNDLE_MASK_QUERY_RESULTS } from '../../utils/SynapseConstants'\nimport { Box } from '@mui/system'\nimport { parseEntityIdFromSqlStatement } from '../../utils/functions'\nimport { InputLabel, Select, MenuItem } from '@mui/material'\nimport { StyledFormControl } from '../styled'\nimport { QueryFilter } from '@sage-bionetworks/synapse-types'\n\nexport type TimelinePlotSpeciesSelectorProps = {\n  sql: string\n  additionalFilters?: QueryFilter[]\n  species?: string | null\n  setSpecies: React.Dispatch<React.SetStateAction<string | null | undefined>>\n}\nexport const TimelinePlotSpeciesSelector = ({\n  sql,\n  additionalFilters = [],\n  species,\n  setSpecies,\n}: TimelinePlotSpeciesSelectorProps) => {\n  const eventsTableId = parseEntityIdFromSqlStatement(sql)\n  // Fetch the species\n  const eventTableQuery = useGetFullTableQueryResults({\n    entityId: eventsTableId,\n    query: {\n      sql: `SELECT species FROM ${eventsTableId} WHERE species IS NOT null GROUP BY species`,\n      additionalFilters: additionalFilters,\n    },\n    partMask: BUNDLE_MASK_QUERY_RESULTS,\n    concreteType: 'org.sagebionetworks.repo.model.table.QueryBundleRequest',\n  })\n\n  const { data: speciesData, isLoading } = eventTableQuery\n  const rows = speciesData?.queryResult?.queryResults?.rows\n\n  useEffect(() => {\n    if (rows) {\n      setSpecies(rows.length > 0 ? rows[0].values[0] : null)\n    }\n  }, [rows, setSpecies])\n\n  // Hide if loading, there are no rows, or there's only 1 species option\n  if (isLoading || !rows || rows.length < 2) {\n    return <></>\n  }\n\n  return (\n    <Box>\n      <StyledFormControl>\n        <InputLabel>Species</InputLabel>\n        <Select\n          sx={{ marginLeft: '2px', marginBottom: '2px' }}\n          value={species}\n          defaultValue={rows[0].values[0]}\n          label=\"Species\"\n          onChange={event => setSpecies(event.target.value)}\n        >\n          {rows?.map(row => {\n            const species = row.values[0]!\n            return (\n              <MenuItem key={species} value={species}>\n                {species}\n              </MenuItem>\n            )\n          })}\n        </Select>\n      </StyledFormControl>\n    </Box>\n  )\n}\nexport default TimelinePlotSpeciesSelector\n","import React, { useState } from 'react'\nimport { useGetFullTableQueryResults } from '../../synapse-queries'\nimport { BUNDLE_MASK_QUERY_RESULTS } from '../../utils/SynapseConstants'\nimport hardcodedPhasesQueryResponseData, {\n  phaseObservationIndex,\n  phaseSpeciesIndex,\n} from './phasesQueryResponseData'\nimport TimelinePhase from './TimelinePhase'\nimport getColorPalette from '../ColorGradient/ColorGradient'\nimport { Box } from '@mui/system'\nimport {\n  ColumnSingleValueFilterOperator,\n  ColumnSingleValueQueryFilter,\n  Row,\n} from '@sage-bionetworks/synapse-types'\nimport { ObservationCardSchema } from '../row_renderers/ObservationCard'\nimport {\n  SQLOperator,\n  getAdditionalFilters,\n  parseEntityIdFromSqlStatement,\n} from '../../utils/functions'\nimport { SizeMe } from 'react-sizeme'\nimport TimelineLegendItem from './TimelineLegendItem'\nimport { Skeleton } from '@mui/material'\nimport TimelinePlotSpeciesSelector from './TimelinePlotSpeciesSelector'\nimport NoContentAvailable from '../SynapseTable/NoContentAvailable'\nimport { getHeaderIndex } from '../../utils/functions/queryUtils'\n\nconst OBSERVATION_PHASE_COLUMN_NAME = 'phase'\nconst OBSERVATION_TIME_COLUMN_NAME = 'time'\nconst OBSERVATION_TIME_UNITS_COLUMN_NAME = 'timeunits'\nconst OBSERVATION_SUBMITTER_NAME_COLUMN_NAME = 'submittername'\nconst OBSERVATION_TEXT_COLUMN_NAME = 'text'\nconst OBSERVATION_TYPE_COLUMN_NAME = 'tag'\nconst OBSERVATION_SUBMITTER_USER_ID_COLUMN_NAME = 'submitteruserid'\nconst OBSERVATION_DOI_COLUMN_NAME = 'doi'\n\nexport type TimelinePlotProps = {\n  sql: string\n  searchParams?: Record<string, string>\n  sqlOperator?: SQLOperator\n  defaultSpecies?: string //for test\n}\nexport const TimelinePlot = ({\n  sql,\n  searchParams,\n  sqlOperator,\n  defaultSpecies,\n}: TimelinePlotProps) => {\n  // Fetch the table data\n  const eventsTableId = parseEntityIdFromSqlStatement(sql)\n  const [species, setSpecies] = useState<string | undefined | null>(\n    defaultSpecies,\n  )\n  const queryFilters =\n    getAdditionalFilters(eventsTableId, searchParams, sqlOperator) ?? []\n  const speciesFilter: ColumnSingleValueQueryFilter | undefined = species\n    ? {\n        columnName: 'species',\n        concreteType:\n          'org.sagebionetworks.repo.model.table.ColumnSingleValueQueryFilter',\n        values: [species],\n        operator: ColumnSingleValueFilterOperator.EQUAL,\n      }\n    : undefined\n  const additionalFilters = [...queryFilters]\n  if (speciesFilter) {\n    additionalFilters.push(speciesFilter)\n  }\n  const eventTableQuery = useGetFullTableQueryResults(\n    {\n      entityId: eventsTableId,\n      query: {\n        sql: `${sql} WHERE observationTime IS NOT NULL`,\n        sort: [\n          {\n            column: 'observationTime',\n            direction: 'ASC',\n          },\n        ],\n        additionalFilters: additionalFilters,\n      },\n\n      partMask: BUNDLE_MASK_QUERY_RESULTS,\n      concreteType: 'org.sagebionetworks.repo.model.table.QueryBundleRequest',\n    },\n    {\n      enabled: !!species,\n    },\n  )\n\n  const { data: eventsData, isLoading } = eventTableQuery\n\n  if (isLoading) {\n    return <LoadingTimelinePlot />\n  }\n  const observationPhaseIndex = getHeaderIndex(\n    OBSERVATION_PHASE_COLUMN_NAME,\n    eventsData,\n  )\n  const observationTimeIndex = getHeaderIndex(\n    OBSERVATION_TIME_COLUMN_NAME,\n    eventsData,\n  )\n  const observationTimeUnitIndex = getHeaderIndex(\n    OBSERVATION_TIME_UNITS_COLUMN_NAME,\n    eventsData,\n  )\n  const observationSubmitterNameIndex = getHeaderIndex(\n    OBSERVATION_SUBMITTER_NAME_COLUMN_NAME,\n    eventsData,\n  )\n  const observationTextIndex = getHeaderIndex(\n    OBSERVATION_TEXT_COLUMN_NAME,\n    eventsData,\n  )\n  const observationDoiIndex = getHeaderIndex(\n    OBSERVATION_DOI_COLUMN_NAME,\n    eventsData,\n  )\n\n  const observationTypeIndex = getHeaderIndex(\n    OBSERVATION_TYPE_COLUMN_NAME,\n    eventsData,\n  )\n  const submitterUserIdIndex = getHeaderIndex(\n    OBSERVATION_SUBMITTER_USER_ID_COLUMN_NAME,\n    eventsData,\n  )\n  const schema: ObservationCardSchema = {\n    submitterName: observationSubmitterNameIndex,\n    submitterUserId: submitterUserIdIndex,\n    tag: observationTypeIndex,\n    text: observationTextIndex,\n    time: observationTimeIndex,\n    timeUnits: observationTimeUnitIndex,\n    doi: observationDoiIndex,\n  }\n\n  // filter the phases query response data to the specific species\n  let phaseData: Row[] = []\n  if (species) {\n    const phasesForTargetSpecies =\n      hardcodedPhasesQueryResponseData.queryResult?.queryResults.rows.filter(\n        row => {\n          return row.values[phaseSpeciesIndex] == species\n        },\n      )\n    // then walk through the phases and create a plot for each (iff event data exists for that phase!)\n\n    if (!phasesForTargetSpecies || phasesForTargetSpecies.length == 0) {\n      return <></>\n    }\n    phaseData = phasesForTargetSpecies\n  }\n  if (species === null) {\n    return <NoContentAvailable />\n  }\n\n  return (\n    <Box>\n      <Box sx={{ display: 'flex', justifyContent: 'space-between' }}>\n        {/* Species selector */}\n        <Box>\n          {!defaultSpecies && (\n            <TimelinePlotSpeciesSelector\n              setSpecies={setSpecies}\n              species={species}\n              sql={sql}\n              additionalFilters={queryFilters}\n            />\n          )}\n        </Box>\n        {/* Legend */}\n        <Box sx={{ display: 'flex', justifyContent: 'flex-end', gap: '25px' }}>\n          {phaseData.map((phaseRow, index) => {\n            const { colorPalette } = getColorPalette(index, 1)\n            return (\n              <TimelineLegendItem\n                key={phaseRow.rowId}\n                color={colorPalette[0]}\n                phaseName={phaseRow.values[phaseObservationIndex]}\n              />\n            )\n          })}\n        </Box>\n      </Box>\n      {/* Phase plots */}\n      {species && (\n        <SizeMe monitorWidth noPlaceholder={true}>\n          {({ size }) => (\n            <Box sx={{ display: 'flex' }} className=\"forcePlotlyDefaultCursor\">\n              {phaseData.map((phaseRow, index) => {\n                const { colorPalette } = getColorPalette(index, 1)\n                const phaseEventRows =\n                  eventsData?.queryResult?.queryResults.rows.filter(row => {\n                    return (\n                      row.values[observationPhaseIndex] ==\n                      phaseRow.values[phaseObservationIndex]\n                    )\n                  })\n                return (\n                  <TimelinePhase\n                    key={phaseRow.rowId}\n                    name={phaseRow.values[phaseObservationIndex]!}\n                    color={colorPalette[0]}\n                    rowData={phaseEventRows!}\n                    schema={schema}\n                    widthPx={size.width ? size.width / phaseData.length : 0}\n                  />\n                )\n              })}\n            </Box>\n          )}\n        </SizeMe>\n      )}\n    </Box>\n  )\n}\n\nexport const LoadingTimelinePlot = () => {\n  return (\n    <Box>\n      <Box sx={{ display: 'flex', justifyContent: 'flex-end', gap: '10px' }}>\n        <Skeleton height=\"45px\" width=\"80px\" />\n        <Skeleton height=\"45px\" width=\"80px\" />\n      </Box>\n      <Box sx={{ display: 'flex' }}>\n        <Skeleton height=\"150px\" width=\"100%\" />\n      </Box>\n    </Box>\n  )\n}\n\nexport default TimelinePlot\n"],"names":["SPECIES_COLUMN_NAME","OBSERVATION_PHASE_COLUMN_NAME","hardcodedPhasesQueryResponseData","phaseSpeciesIndex","_a","header","phaseObservationIndex","Plot","createPlotlyComponent","Plotly","getTimepointData","start","rowData","schema","hoverEventRowId","hoverOverIndex","row","index","time","timeUnit","getMaxDate","timepoints","dayjs","maxDateItem","currentDateItem","getTimelineData","timepointData","combinedData","result","currentTimepoint","resultRecord","timepoint","utcFormattedTimepoint","isHoveredOver","rowIds","getLayout","end","color","annotateTime","annotateTimeUnits","annotateEventCount","annotations","eventCountText","x","pluralize","TimelinePhase","widthPx","clickEvent","setClickEvent","useState","hoverEvent","setHoverEvent","componentRef","useRef","selectedRows","hoverEventRowIds","hoverRows","jsxs","jsx","eventData","Dialog","ObservationCard","TimelineLegendItem","phaseName","Box","Typography","TimelinePlotSpeciesSelector","sql","additionalFilters","species","setSpecies","eventsTableId","parseEntityIdFromSqlStatement","eventTableQuery","useGetFullTableQueryResults","BUNDLE_MASK_QUERY_RESULTS","speciesData","isLoading","rows","_b","useEffect","Fragment","StyledFormControl","InputLabel","Select","event","species2","MenuItem","OBSERVATION_TIME_COLUMN_NAME","OBSERVATION_TIME_UNITS_COLUMN_NAME","OBSERVATION_SUBMITTER_NAME_COLUMN_NAME","OBSERVATION_TEXT_COLUMN_NAME","OBSERVATION_TYPE_COLUMN_NAME","OBSERVATION_SUBMITTER_USER_ID_COLUMN_NAME","OBSERVATION_DOI_COLUMN_NAME","TimelinePlot","searchParams","sqlOperator","defaultSpecies","queryFilters","getAdditionalFilters","speciesFilter","ColumnSingleValueFilterOperator","eventsData","LoadingTimelinePlot","observationPhaseIndex","getHeaderIndex","observationTimeIndex","observationTimeUnitIndex","observationSubmitterNameIndex","observationTextIndex","observationDoiIndex","observationTypeIndex","submitterUserIdIndex","phaseData","phasesForTargetSpecies","NoContentAvailable","phaseRow","colorPalette","getColorPalette","SizeMe","size","phaseEventRows","Skeleton"],"mappings":"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"}