import{l as E}from"./index-7405d556.js";import{ak as i,al as S,am as m}from"./SynapseClient-db82e28e.js";import{g as l,B as U}from"./getEndpoint-ac94413e.js";import{b as c,B as T,d as B,e as M,f as p,g as A,h as g,i as L}from"./SynapseConstants-5c2b1506.js";import{u as N}from"./uniqueId-4d05949d.js";import{c as f}from"./cloneDeep-ccda587a.js";const R={[c]:"queryResult",[T]:"queryCount",[B]:"selectColumns",[M]:"maxRowsPerPage",[p]:"columnModels",[A]:"facets",[g]:"sumFileSizes",[L]:"lastUpdatedOn"};function d(u,r){const n=f(u);return Object.entries(R).forEach(([o,e])=>{r&parseInt(o)||delete n[e]}),n}function b(u,r=l(U.REPO_ENDPOINT)){const n=new Map;return[E.rest.post(`${r}${i(":id")}`,async(o,e,s)=>{const t=N();return n.set(t,await o.json()),e(s.status(201),s.json({token:t}))}),E.rest.get(`${r}${S(":id")}`,async(o,e,s)=>{const t=o.params.id,a=n.get(t);if(!t||!a)return e(s.status(404),s.json({message:"The mocked asynchronous job was not found"}));const _=d(u,a.partMask);return e(s.status(201),s.json({jobState:"COMPLETE",jobCanceling:!1,requestBody:a,etag:"00000000-0000-0000-0000-000000000000",jobId:t,responseBody:_,startedByUserId:0,startedOn:"",changedOn:"",progressMessage:"",progressCurrent:100,progressTotal:100,exception:"",errorMessage:"",errorDetails:"",runtimeMS:100}))}),E.rest.get(`${r}${m(":entityId",":asyncJobToken")}`,async(o,e,s)=>{const t=o.params.asyncJobToken,a=n.get(t);if(!t||!a)return e(s.status(404),s.json({message:"The mocked asynchronous job was not found"}));const _=d(u,a.partMask);return e(s.status(201),s.json(_))})]}export{b as g};
//# sourceMappingURL=tableQueryHandlers-d7e51a3e.js.map
