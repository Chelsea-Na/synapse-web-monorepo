var Vi=Object.defineProperty;var ji=(t,e,r)=>e in t?Vi(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var nt=(t,e,r)=>(ji(t,typeof e!="symbol"?e+"":e,r),r),Er=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var f=(t,e,r)=>(Er(t,e,"read from private field"),r?r.call(t):e.get(t)),N=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},S=(t,e,r,n)=>(Er(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r);var zt=(t,e,r,n)=>({set _(s){S(t,e,s,r)},get _(){return f(t,e,n)}}),M=(t,e,r)=>(Er(t,e,"access private method"),r);import{j as U}from"./jsx-runtime-CKrituN3.js";import{r as K,R as V}from"./index-CBqU2yxZ.js";import{g as ps}from"./_commonjsHelpers-BosuxZz1.js";import{ay as Hi,v as Wi,E as Gi,az as _r,aA as Yi,d as gs,Z as ys,aB as Es,U as ms,c as vs,aC as Ts,aD as Ps,S as zi,K as Jt,aE as On}from"./SynapseConstants-BgUUD4xl.js";import{g as Pt,B as u,P as Ji}from"./getEndpoint-CjoHA800.js";import{t as fe}from"./tinycolor-Begke6kS.js";import{c as Os}from"./createSvgIcon-hKF-axwl.js";import{I as Xi}from"./InfoTwoTone-5MzHmxC_.js";import{C as Zi}from"./CheckCircleTwoTone-Bm9Y8dkw.js";import{i as eo}from"./inputBaseClasses-gtOOSRs4.js";import{F as to}from"./Fade-BI7F9iy4.js";import{K as ro,L as no,b as so,B as io,_ as _s,T as _n,l as Xt,e as oo,n as ao,t as uo}from"./createTheme-BmyBSwiD.js";import{_ as ae}from"./emotion-use-insertion-effect-with-fallbacks.browser.esm-BPGUNDjC.js";import{_ as we}from"./inheritsLoose-B7h9gheN.js";import{a1 as co,G as lo,r as ho,s as Rs,E as fo,P as po,a2 as Is,a3 as go,a4 as yo,a5 as Eo,K as Gr,x as mo,a6 as As,a7 as vo,a8 as To,b as _,a9 as Ss,aa as bs,ab as Yr,ac as zr,ad as Jr,ae as Xr,af as Po,i as Ns,ag as Cs,ah as Oo,N as _o,T as Ro,O as lr,F as Io,ai as Ao,q as ws,p as So,J as bo,D as No}from"./index-C-UbkUMQ.js";import"./OrientationBanner-eGM9Gy2i.js";import{d as Rn}from"./dayjs.min-BaCjP-cF.js";import{d as In}from"./index-DMoHWj5j.js";import{P as An}from"./index-Dk74W0Oi.js";import{i as Ot}from"./tiny-invariant-CopsF_GD.js";import"./emotion-react.browser.esm-BhA2isNO.js";import{F as Co}from"./FullWidthAlert-843DPaPD.js";import{L as wo}from"./Link-BtokOTIY.js";import{S as Do}from"./Stack-CHd9FObi.js";import{B as Sn}from"./Box-Bs5qirON.js";import{B as Uo}from"./Button-CpzfOSQ4.js";import{g as Lo,b as Fo,C as xo}from"./_getTag-CQLY2zcD.js";import{a as $o,d as Mo,e as Ko,b as Bo,h as Qo}from"./_Map-W_LbVzGG.js";import{a as qo}from"./isArray-D3Xc0Edl.js";import{h as ko}from"./StringUtils-D4kDWP8q.js";const oe=Object.freeze(Object.defineProperty({__proto__:null,get SYNAPSE_STORAGE_LOCATION_ID(){return di},get acceptFormData(){return Pd},get addEmailAddressStep1(){return Ah},get addEmailAddressStep2(){return Sh},get addFileBatchToDownloadListV2(){return Ri},get addFileToDownloadListV2(){return Ml},get addFilesToDownloadListV2(){return Ql},get addTeamMemberAsAuthenticatedUserOrAdmin(){return fl},get addTeamMemberWithToken(){return hl},get addUserFavorite(){return Xc},get bindInvitationToAuthenticatedUser(){return ml},get bindOAuthProviderToAccount(){return Si},get cancelDataAccessRequest(){return oh},get changePasswordWithCurrentPassword(){return _h},get changePasswordWithToken(){return Rh},get checkUploadComplete(){return dn},get clearDownloadListV2(){return zd},get complete2FAEnrollment(){return Ac},get consentToOAuth2Request(){return dd},get createACL(){return ql},get createAccessApproval(){return Ud},get createColumnModels(){return If},get createEntity(){return yi},get createEvaluation(){return Wl},get createEvaluationRound(){return Jl},get createFormData(){return gd},get createFormGroup(){return hd},get createLockAccessRequirement(){return wd},get createManifestFromDownloadListV2(){return Bl},get createMembershipInvitation(){return gl},get createMembershipRequest(){return Pl},get createOAuthClient(){return id},get createOAuthClientSecret(){return cd},get createPackageFromDownloadListV2(){return Kl},get createPersonalAccessToken(){return Kd},get createProfileVerificationSubmission(){return Oh},get createProject(){return bc},get createRecoveryCodes(){return Sc},get createTeam(){return ul},get deleteDownloadList(){return $d},get deleteDownloadListFiles(){return xd},get deleteEmail(){return bh},get deleteEntity(){return Gc},get deleteEvaluation(){return Gl},get deleteEvaluationRound(){return Zl},get deleteFormData(){return Ed},get deleteMemberFromTeam(){return Ol},get deleteOAuthClient(){return od},get deletePersonalAccessToken(){return Qd},get deleteReply(){return Lh},get deleteSubscription(){return yf},get deleteThread(){return Vh},get disableTwoFactorAuthForCurrentUser(){return Rc},get forumSearch(){return Gh},get getAccessApproval(){return Dd},get getAccessRequirement(){return Id},get getAccessRequirementAcl(){return Sd},get getAccessRequirementById(){return Ad},get getAccessRequirementStatus(){return Nd},get getAccessTokenFromCookie(){return vi},get getActivityForEntity(){return Zh},get getActualFileHandleByIdURL(){return Ec},get getAllAccessRequirements(){return Cd},get getAllChallengeTeams(){return nl},get getAllDownloadListActionsRequired(){return Zd},get getAllEntityEvaluations(){return jd},get getAllOfNextPageTokenPaginatedService(){return hn},get getAllOfPaginatedService(){return tt},get getAllOpenMembershipInvitationsForUser(){return pl},get getAllSubscriptions(){return hf},get getAllSynapseUserGeoData(){return lf},get getAnnotationColumnModels(){return Sf},get getApprovedSubmissionInfo(){return Xh},get getAsyncResultBodyFromJobId(){return _e},get getAsyncResultFromJobId(){return an},get getAuthenticatedOn(){return ld},get getAvailableFilesToDownload(){return Jd},get getBulkFiles(){return Qc},get getCertifyQuiz(){return sf},get getChallengeTeams(){return rl},get getCurrentUserTwoFactorEnrollmentStatus(){return _c},get getDOIAssociation(){return Tf},get getDataAccessRequestForUpdate(){return nh},get getDefaultColumnModels(){return Af},get getDefaultUploadDestination(){return mf},get getDockerTag(){return _f},get getDownloadFromTableRequest(){return yc},get getDownloadList(){return Ld},get getDownloadListActionsRequired(){return Ii},get getDownloadListStatistics(){return Xd},get getDownloadOrder(){return Fd},get getEntity(){return qc},get getEntityACL(){return Vd},get getEntityAlias(){return Vc},get getEntityBundleV2(){return Yc},get getEntityChallenge(){return al},get getEntityChildren(){return Kc},get getEntityDownloadActionsRequired(){return Of},get getEntityHeader(){return jc},get getEntityHeaders(){return un},get getEntityHeadersByIds(){return kc},get getEntityJson(){return ph},get getEntityPath(){return Wd},get getEntityPermissions(){return Hd},get getEntityVersions(){return Gd},get getEntityWiki(){return zc},get getEvaluation(){return jl},get getEvaluationPermissions(){return Vl},get getEvaluationRound(){return Yl},get getEvaluationRoundsList(){return zl},get getEvaluationSubmissions(){return ed},get getEvaluations(){return $c},get getFileHandleById(){return fi},get getFileHandleByIdURL(){return pi},get getFileHandleContent(){return _i},get getFileHandleContentFromID(){return xl},get getFileResult(){return $l},get getFiles(){return Ei},get getFormACL(){return fd},get getForum(){return Ch},get getForumMetadata(){return Wh},get getForumThreads(){return Yh},get getFullQueryTableResults(){return vc},get getGoogleMapsApiKey(){return cf},get getGroupHeadersBatch(){return xc},get getInviteeVerificationSignedToken(){return El},get getIsUserMemberOfTeam(){return vl},get getItemsInTrashCan(){return tf},get getMembershipInvitation(){return yl},get getMembershipStatus(){return Tl},get getModerators(){return Hh},get getMyProjects(){return qd},get getMyUserBundle(){return Dc},get getNotificationEmail(){return yh},get getOAuth2(){return sd},get getOAuth2Client(){return nd},get getOAuth2RequestDescription(){return td},get getOpenMembershipInvitationsForUser(){return mi},get getPassingRecord(){return tl},get getPersonalAccessTokenRecords(){return Bd},get getPortalFileHandleServletUrl(){return Pf},get getPresignedUrlForWikiAttachment(){return Nl},get getPrincipalAliasRequest(){return Dl},get getProfilePicPreviewPresignedUrl(){return ef},get getProjectStatistics(){return _d},get getQueryTableAsyncJobResults(){return mc},get getQueryTableResults(){return Kr},get getReplies(){return Fh},get getReply(){return wh},get getReplyMessageUrl(){return xh},get getResearchProject(){return rh},get getRestrictionInformation(){return Rd},get getRootURL(){return hi},get getSchema(){return dh},get getSchemaBinding(){return ch},get getSchemaValidationResults(){return lh},get getSubjects(){return Rf},get getSubmissionById(){return ah},get getSubmissionEligibility(){return il},get getSubmissionTeams(){return sl},get getSubscribers(){return pf},get getSubscription(){return ff},get getSynapseTeamGeoData(){return df},get getTeam(){return _l},get getTeamAccessRequirements(){return ll},get getTeamList(){return Rl},get getTeamMembers(){return dl},get getThread(){return Kh},get getThreadMessageUrl(){return Bh},get getUploadDestinationForStorageLocation(){return vf},get getUseUtcTimeFromCookie(){return wl},get getUserBundle(){return wc},get getUserChallenges(){return el},get getUserFavorites(){return Jc},get getUserGroupHeaders(){return Lc},get getUserProfile(){return Nc},get getUserProfileById(){return Cc},get getUserProfiles(){return Mc},get getUserProjects(){return kd},get getUserTeamList(){return cl},get getValidationSchema(){return hh},get getVersion(){return gc},get getWikiAttachmentsFromEntity(){return Sl},get getWikiAttachmentsFromEvaluation(){return bl},get getWikiPageKeyForAccessRequirement(){return Al},get getWikiPageKeyForEntity(){return Il},get hasAccessToEntity(){return fh},get hasUserAuthorizedOAuthClient(){return rd},get isAliasAvailable(){return Eh},get isInSynapseExperimentalMode(){return Cl},get isOAuthClientReverificationRequired(){return ud},get listFormData(){return vd},get listFormDataAsFormAdmin(){return Td},get login(){return Tc},get loginWith2fa(){return Pc},get lookupChildEntity(){return Bc},get oAuthRegisterAccountStep2(){return Ai},get oAuthSessionRequest(){return gi},get oAuthUrlRequest(){return Oc},get pinThread(){return $h},get postCertifiedUserTestResponse(){return of},get postReply(){return Dh},get postSubscription(){return gf},get postSubscriptionList(){return Ef},get postThread(){return Qh},get postUserGroupHeadersWithAlias(){return Fc},get purgeFromTrashCan(){return nf},get putReply(){return Uh},get putThreadMessage(){return kh},get putThreadTitle(){return qh},get registerAccountStep1(){return mh},get registerAccountStep2(){return vh},get registerChallengeTeam(){return ol},get rejectFormData(){return Od},get removeItemFromDownloadListV2(){return eh},get removeUserFavorite(){return Zc},get resetPassword(){return Ih},get restoreFromTrashCan(){return rf},get restoreThread(){return jh},get searchAccessApprovals(){return zh},get searchAccessRequirements(){return bd},get searchAccessSubmission(){return Jh},get searchEntities(){return Yd},get setAccessTokenCookie(){return ln},get signOut(){return Ul},get signSynapseTermsOfUse(){return Ph},get start2FAEnrollment(){return Ic},get startMultipartUpload(){return Oi},get submitDataAccessRequest(){return ih},get submitFormData(){return md},get submitToEvaluation(){return kl},get unPinThread(){return Mh},get unbindOAuthProviderToAccount(){return Th},get updateDataAccessRequest(){return sh},get updateEntity(){return Wc},get updateEntityACL(){return Hc},get updateEntityJson(){return gh},get updateEvaluation(){return Hl},get updateEvaluationRound(){return Xl},get updateFormACL(){return pd},get updateFormData(){return yd},get updateMyUserProfile(){return Uc},get updateNotificationEmail(){return Nh},get updateOAuthClient(){return ad},get updateResearchProject(){return th},get updateSubmissionStatus(){return uh},get updateTable(){return Md},get uploadFile(){return Ll}},Symbol.toStringTag,{value:"Module"}));let Rr;typeof document=="object"&&(Rr=no({key:"css",prepend:!0}));function Vo(t){const{injectFirst:e,children:r}=t;return e&&Rr?U.jsx(ro,{value:Rr,children:r}):r}const jo=K.createContext(null),Ds=jo;function Us(){return K.useContext(Ds)}const Ho=typeof Symbol=="function"&&Symbol.for,Wo=Ho?Symbol.for("mui.nested"):"__THEME_NESTED__";function Go(t,e){return typeof e=="function"?e(t):ae({},t,e)}function Yo(t){const{children:e,theme:r}=t,n=Us(),s=K.useMemo(()=>{const i=n===null?r:Go(n,r);return i!=null&&(i[Wo]=n!==null),i},[r,n]);return U.jsx(Ds.Provider,{value:s,children:e})}const bn={};function Nn(t,e,r,n=!1){return K.useMemo(()=>{const s=t&&e[t]||e;if(typeof r=="function"){const i=r(s),c=t?ae({},e,{[t]:i}):i;return n?()=>c:c}return t?ae({},e,{[t]:r}):ae({},e,r)},[t,e,r,n])}function zo(t){const{children:e,theme:r,themeId:n}=t,s=so(bn),i=Us()||bn,c=Nn(n,s,r),l=Nn(n,i,r,!0);return U.jsx(Yo,{theme:l,children:U.jsx(io.Provider,{value:c,children:e})})}const Jo=["theme"];function Xo(t){let{theme:e}=t,r=_s(t,Jo);const n=e[_n];return U.jsx(zo,ae({},r,{themeId:n?_n:void 0,theme:n||e}))}var Zo="[object Map]",ea="[object Set]",ta=Object.prototype,ra=ta.hasOwnProperty;function na(t){if(t==null)return!0;if($o(t)&&(qo(t)||typeof t=="string"||typeof t.splice=="function"||Mo(t)||Ko(t)||Bo(t)))return!t.length;var e=Lo(t);if(e==Zo||e==ea)return!t.size;if(Qo(t))return!Fo(t).length;for(var r in t)if(ra.call(t,r))return!1;return!0}const sa=Os([U.jsx("path",{d:"M12 4c-4.42 0-8 3.58-8 8s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8m1 13h-2v-2h2zm0-4h-2V7h2z",opacity:".3"},"0"),U.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m-1-5h2v2h-2zm0-8h2v6h-2z"},"1")],"ErrorTwoTone"),ia=Os([U.jsx("path",{d:"M12 4c-4.41 0-8 3.59-8 8s3.59 8 8 8 8-3.59 8-8-3.59-8-8-8m4 10.59L14.59 16 12 13.41 9.41 16 8 14.59 10.59 12 8 9.41 9.41 8 12 10.59 14.59 8 16 9.41 13.41 12z",opacity:".3"},"0"),U.jsx("path",{d:"M14.59 8 12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"},"1")],"HighlightOffTwoTone");var Gt=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Tt=typeof window>"u"||"Deno"in window;function me(){}function oa(t,e){return typeof t=="function"?t(e):t}function Ir(t){return typeof t=="number"&&t>=0&&t!==1/0}function Ls(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Cn(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:c,stale:l}=t;if(c){if(n){if(e.queryHash!==Zr(c,e.options))return!1}else if(!Ut(e.queryKey,c))return!1}if(r!=="all"){const m=e.isActive();if(r==="active"&&!m||r==="inactive"&&m)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||typeof s<"u"&&s!==e.state.fetchStatus||i&&!i(e))}function wn(t,e){const{exact:r,status:n,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(r){if(Dt(e.options.mutationKey)!==Dt(i))return!1}else if(!Ut(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function Zr(t,e){return((e==null?void 0:e.queryKeyHashFn)||Dt)(t)}function Dt(t){return JSON.stringify(t,(e,r)=>Sr(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Ut(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!Ut(t[r],e[r])):!1}function Fs(t,e){if(t===e)return t;const r=Dn(t)&&Dn(e);if(r||Sr(t)&&Sr(e)){const n=r?t:Object.keys(t),s=n.length,i=r?e:Object.keys(e),c=i.length,l=r?[]:{};let m=0;for(let g=0;g<c;g++){const E=r?g:i[g];!r&&t[E]===void 0&&e[E]===void 0&&n.includes(E)?(l[E]=void 0,m++):(l[E]=Fs(t[E],e[E]),l[E]===t[E]&&t[E]!==void 0&&m++)}return s===c&&m===s?t:l}return e}function Ar(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function Dn(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Sr(t){if(!Un(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const r=e.prototype;return!(!Un(r)||!r.hasOwnProperty("isPrototypeOf"))}function Un(t){return Object.prototype.toString.call(t)==="[object Object]"}function aa(t){return new Promise(e=>{setTimeout(e,t)})}function br(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?Fs(t,e):e}function ua(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function ca(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var He,Fe,it,is,la=(is=class extends Gt{constructor(){super();N(this,He,void 0);N(this,Fe,void 0);N(this,it,void 0);S(this,it,e=>{if(!Tt&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){f(this,Fe)||this.setEventListener(f(this,it))}onUnsubscribe(){var e;this.hasListeners()||((e=f(this,Fe))==null||e.call(this),S(this,Fe,void 0))}setEventListener(e){var r;S(this,it,e),(r=f(this,Fe))==null||r.call(this),S(this,Fe,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){f(this,He)!==e&&(S(this,He,e),this.onFocus())}onFocus(){this.listeners.forEach(e=>{e()})}isFocused(){var e;return typeof f(this,He)=="boolean"?f(this,He):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},He=new WeakMap,Fe=new WeakMap,it=new WeakMap,is),sr=new la,ot,xe,at,os,da=(os=class extends Gt{constructor(){super();N(this,ot,!0);N(this,xe,void 0);N(this,at,void 0);S(this,at,e=>{if(!Tt&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){f(this,xe)||this.setEventListener(f(this,at))}onUnsubscribe(){var e;this.hasListeners()||((e=f(this,xe))==null||e.call(this),S(this,xe,void 0))}setEventListener(e){var r;S(this,at,e),(r=f(this,xe))==null||r.call(this),S(this,xe,e(this.setOnline.bind(this)))}setOnline(e){f(this,ot)!==e&&(S(this,ot,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return f(this,ot)}},ot=new WeakMap,xe=new WeakMap,at=new WeakMap,os),ir=new da;function ha(t){return Math.min(1e3*2**t,3e4)}function dr(t){return(t??"online")==="online"?ir.isOnline():!0}var xs=class{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function mr(t){return t instanceof xs}function $s(t){let e=!1,r=0,n=!1,s,i,c;const l=new Promise((O,p)=>{i=O,c=p}),m=O=>{var p;n||(P(new xs(O)),(p=t.abort)==null||p.call(t))},g=()=>{e=!0},E=()=>{e=!1},T=()=>!sr.isFocused()||t.networkMode!=="always"&&!ir.isOnline(),v=O=>{var p;n||(n=!0,(p=t.onSuccess)==null||p.call(t,O),s==null||s(),i(O))},P=O=>{var p;n||(n=!0,(p=t.onError)==null||p.call(t,O),s==null||s(),c(O))},A=()=>new Promise(O=>{var p;s=y=>{const a=n||!T();return a&&O(y),a},(p=t.onPause)==null||p.call(t)}).then(()=>{var O;s=void 0,n||(O=t.onContinue)==null||O.call(t)}),w=()=>{if(n)return;let O;try{O=t.fn()}catch(p){O=Promise.reject(p)}Promise.resolve(O).then(v).catch(p=>{var d;if(n)return;const y=t.retry??(Tt?0:3),a=t.retryDelay??ha,o=typeof a=="function"?a(r,p):a,h=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,p);if(e||!h){P(p);return}r++,(d=t.onFail)==null||d.call(t,r,p),aa(o).then(()=>{if(T())return A()}).then(()=>{e?P(p):w()})})};return dr(t.networkMode)?w():A().then(w),{promise:l,cancel:m,continue:()=>(s==null?void 0:s())?l:Promise.resolve(),cancelRetry:g,continueRetry:E}}function fa(){let t=[],e=0,r=v=>{v()},n=v=>{v()},s=v=>setTimeout(v,0);const i=v=>{s=v},c=v=>{let P;e++;try{P=v()}finally{e--,e||g()}return P},l=v=>{e?t.push(v):s(()=>{r(v)})},m=v=>(...P)=>{l(()=>{v(...P)})},g=()=>{const v=t;t=[],v.length&&s(()=>{n(()=>{v.forEach(P=>{r(P)})})})};return{batch:c,batchCalls:m,schedule:l,setNotifyFunction:v=>{r=v},setBatchNotifyFunction:v=>{n=v},setScheduler:i}}var Z=fa(),We,as,Ms=(as=class{constructor(){N(this,We,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ir(this.gcTime)&&S(this,We,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Tt?1/0:5*60*1e3))}clearGcTimeout(){f(this,We)&&(clearTimeout(f(this,We)),S(this,We,void 0))}},We=new WeakMap,as),ut,ct,ge,$e,ye,J,xt,Ge,lt,tr,Pe,Ce,us,pa=(us=class extends Ms{constructor(e){super();N(this,lt);N(this,Pe);N(this,ut,void 0);N(this,ct,void 0);N(this,ge,void 0);N(this,$e,void 0);N(this,ye,void 0);N(this,J,void 0);N(this,xt,void 0);N(this,Ge,void 0);S(this,Ge,!1),S(this,xt,e.defaultOptions),M(this,lt,tr).call(this,e.options),S(this,J,[]),S(this,ge,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,S(this,ut,e.state||ga(this.options)),this.state=f(this,ut),this.scheduleGc()}get meta(){return this.options.meta}optionalRemove(){!f(this,J).length&&this.state.fetchStatus==="idle"&&f(this,ge).remove(this)}setData(e,r){const n=br(this.state.data,e,this.options);return M(this,Pe,Ce).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){M(this,Pe,Ce).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n;const r=f(this,$e);return(n=f(this,ye))==null||n.cancel(e),r?r.then(me).catch(me):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(f(this,ut))}isActive(){return f(this,J).some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||f(this,J).some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!Ls(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=f(this,J).find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=f(this,ye))==null||r.continue()}onOnline(){var r;const e=f(this,J).find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=f(this,ye))==null||r.continue()}addObserver(e){f(this,J).includes(e)||(f(this,J).push(e),this.clearGcTimeout(),f(this,ge).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){f(this,J).includes(e)&&(S(this,J,f(this,J).filter(r=>r!==e)),f(this,J).length||(f(this,ye)&&(f(this,Ge)?f(this,ye).cancel({revert:!0}):f(this,ye).cancelRetry()),this.scheduleGc()),f(this,ge).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return f(this,J).length}invalidate(){this.state.isInvalidated||M(this,Pe,Ce).call(this,{type:"invalidate"})}fetch(e,r){var g,E,T,v;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(f(this,$e))return(g=f(this,ye))==null||g.continueRetry(),f(this,$e)}if(e&&M(this,lt,tr).call(this,e),!this.options.queryFn){const P=f(this,J).find(A=>A.options.queryFn);P&&M(this,lt,tr).call(this,P.options)}const n=new AbortController,s={queryKey:this.queryKey,meta:this.meta},i=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(S(this,Ge,!0),n.signal)})};i(s);const c=()=>this.options.queryFn?(S(this,Ge,!1),this.options.persister?this.options.persister(this.options.queryFn,s,this):this.options.queryFn(s)):Promise.reject(new Error(`Missing queryFn: '${this.options.queryHash}'`)),l={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:c};i(l),(E=this.options.behavior)==null||E.onFetch(l,this),S(this,ct,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((T=l.fetchOptions)==null?void 0:T.meta))&&M(this,Pe,Ce).call(this,{type:"fetch",meta:(v=l.fetchOptions)==null?void 0:v.meta});const m=P=>{var A,w,O,p;mr(P)&&P.silent||M(this,Pe,Ce).call(this,{type:"error",error:P}),mr(P)||((w=(A=f(this,ge).config).onError)==null||w.call(A,P,this),(p=(O=f(this,ge).config).onSettled)==null||p.call(O,this.state.data,P,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return S(this,ye,$s({fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:P=>{var A,w,O,p;if(typeof P>"u"){m(new Error(`${this.queryHash} data is undefined`));return}this.setData(P),(w=(A=f(this,ge).config).onSuccess)==null||w.call(A,P,this),(p=(O=f(this,ge).config).onSettled)==null||p.call(O,P,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:m,onFail:(P,A)=>{M(this,Pe,Ce).call(this,{type:"failed",failureCount:P,error:A})},onPause:()=>{M(this,Pe,Ce).call(this,{type:"pause"})},onContinue:()=>{M(this,Pe,Ce).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode})),S(this,$e,f(this,ye).promise),f(this,$e)}},ut=new WeakMap,ct=new WeakMap,ge=new WeakMap,$e=new WeakMap,ye=new WeakMap,J=new WeakMap,xt=new WeakMap,Ge=new WeakMap,lt=new WeakSet,tr=function(e){this.options={...f(this,xt),...e},this.updateGcTime(this.options.gcTime)},Pe=new WeakSet,Ce=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:e.meta??null,fetchStatus:dr(this.options.networkMode)?"fetching":"paused",...!n.dataUpdatedAt&&{error:null,status:"pending"}};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return mr(s)&&s.revert&&f(this,ct)?{...f(this,ct),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Z.batch(()=>{f(this,J).forEach(n=>{n.onQueryUpdate()}),f(this,ge).notify({query:this,type:"updated",action:e})})},us);function ga(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=typeof e<"u",n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ie,cs,ya=(cs=class extends Gt{constructor(e={}){super();N(this,Ie,void 0);this.config=e,S(this,Ie,new Map)}build(e,r,n){const s=r.queryKey,i=r.queryHash??Zr(s,r);let c=this.get(i);return c||(c=new pa({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(c)),c}add(e){f(this,Ie).has(e.queryHash)||(f(this,Ie).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=f(this,Ie).get(e.queryHash);r&&(e.destroy(),r===e&&f(this,Ie).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Z.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return f(this,Ie).get(e)}getAll(){return[...f(this,Ie).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Cn(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>Cn(e,n)):r}notify(e){Z.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Z.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Z.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ie=new WeakMap,cs),Ae,$t,le,dt,Se,Le,ls,Ea=(ls=class extends Ms{constructor(e){super();N(this,Se);N(this,Ae,void 0);N(this,$t,void 0);N(this,le,void 0);N(this,dt,void 0);this.mutationId=e.mutationId,S(this,$t,e.defaultOptions),S(this,le,e.mutationCache),S(this,Ae,[]),this.state=e.state||ma(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...f(this,$t),...e},this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){f(this,Ae).includes(e)||(f(this,Ae).push(e),this.clearGcTimeout(),f(this,le).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){S(this,Ae,f(this,Ae).filter(r=>r!==e)),this.scheduleGc(),f(this,le).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){f(this,Ae).length||(this.state.status==="pending"?this.scheduleGc():f(this,le).remove(this))}continue(){var e;return((e=f(this,dt))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,c,l,m,g,E,T,v,P,A,w,O,p,y,a,o,h,d,b;const r=()=>(S(this,dt,$s({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(C,q)=>{M(this,Se,Le).call(this,{type:"failed",failureCount:C,error:q})},onPause:()=>{M(this,Se,Le).call(this,{type:"pause"})},onContinue:()=>{M(this,Se,Le).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode})),f(this,dt).promise),n=this.state.status==="pending";try{if(!n){M(this,Se,Le).call(this,{type:"pending",variables:e}),await((i=(s=f(this,le).config).onMutate)==null?void 0:i.call(s,e,this));const q=await((l=(c=this.options).onMutate)==null?void 0:l.call(c,e));q!==this.state.context&&M(this,Se,Le).call(this,{type:"pending",context:q,variables:e})}const C=await r();return await((g=(m=f(this,le).config).onSuccess)==null?void 0:g.call(m,C,e,this.state.context,this)),await((T=(E=this.options).onSuccess)==null?void 0:T.call(E,C,e,this.state.context)),await((P=(v=f(this,le).config).onSettled)==null?void 0:P.call(v,C,null,this.state.variables,this.state.context,this)),await((w=(A=this.options).onSettled)==null?void 0:w.call(A,C,null,e,this.state.context)),M(this,Se,Le).call(this,{type:"success",data:C}),C}catch(C){try{throw await((p=(O=f(this,le).config).onError)==null?void 0:p.call(O,C,e,this.state.context,this)),await((a=(y=this.options).onError)==null?void 0:a.call(y,C,e,this.state.context)),await((h=(o=f(this,le).config).onSettled)==null?void 0:h.call(o,void 0,C,this.state.variables,this.state.context,this)),await((b=(d=this.options).onSettled)==null?void 0:b.call(d,void 0,C,e,this.state.context)),C}finally{M(this,Se,Le).call(this,{type:"error",error:C})}}}},Ae=new WeakMap,$t=new WeakMap,le=new WeakMap,dt=new WeakMap,Se=new WeakSet,Le=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!dr(this.options.networkMode),status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Z.batch(()=>{f(this,Ae).forEach(n=>{n.onMutationUpdate(e)}),f(this,le).notify({mutation:this,type:"updated",action:e})})},ls);function ma(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ee,Mt,Ye,ds,va=(ds=class extends Gt{constructor(e={}){super();N(this,Ee,void 0);N(this,Mt,void 0);N(this,Ye,void 0);this.config=e,S(this,Ee,[]),S(this,Mt,0)}build(e,r,n){const s=new Ea({mutationCache:this,mutationId:++zt(this,Mt)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){f(this,Ee).push(e),this.notify({type:"added",mutation:e})}remove(e){S(this,Ee,f(this,Ee).filter(r=>r!==e)),this.notify({type:"removed",mutation:e})}clear(){Z.batch(()=>{f(this,Ee).forEach(e=>{this.remove(e)})})}getAll(){return f(this,Ee)}find(e){const r={exact:!0,...e};return f(this,Ee).find(n=>wn(r,n))}findAll(e={}){return f(this,Ee).filter(r=>wn(e,r))}notify(e){Z.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){return S(this,Ye,(f(this,Ye)??Promise.resolve()).then(()=>{const e=f(this,Ee).filter(r=>r.state.isPaused);return Z.batch(()=>e.reduce((r,n)=>r.then(()=>n.continue().catch(me)),Promise.resolve()))}).then(()=>{S(this,Ye,void 0)})),f(this,Ye)}},Ee=new WeakMap,Mt=new WeakMap,Ye=new WeakMap,ds);function Ta(t){return{onFetch:(e,r)=>{const n=async()=>{var A,w,O,p,y;const s=e.options,i=(O=(w=(A=e.fetchOptions)==null?void 0:A.meta)==null?void 0:w.fetchMore)==null?void 0:O.direction,c=((p=e.state.data)==null?void 0:p.pages)||[],l=((y=e.state.data)==null?void 0:y.pageParams)||[],m={pages:[],pageParams:[]};let g=!1;const E=a=>{Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},T=e.options.queryFn||(()=>Promise.reject(new Error(`Missing queryFn: '${e.options.queryHash}'`))),v=async(a,o,h)=>{if(g)return Promise.reject();if(o==null&&a.pages.length)return Promise.resolve(a);const d={queryKey:e.queryKey,pageParam:o,direction:h?"backward":"forward",meta:e.options.meta};E(d);const b=await T(d),{maxPages:C}=e.options,q=h?ca:ua;return{pages:q(a.pages,b,C),pageParams:q(a.pageParams,o,C)}};let P;if(i&&c.length){const a=i==="backward",o=a?Ks:Nr,h={pages:c,pageParams:l},d=o(s,h);P=await v(h,d,a)}else{P=await v(m,l[0]??s.initialPageParam);const a=t??c.length;for(let o=1;o<a;o++){const h=Nr(s,P);P=await v(P,h)}}return P};e.options.persister?e.fetchFn=()=>{var s,i;return(i=(s=e.options).persister)==null?void 0:i.call(s,n,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=n}}}function Nr(t,{pages:e,pageParams:r}){const n=e.length-1;return t.getNextPageParam(e[n],e,r[n],r)}function Ks(t,{pages:e,pageParams:r}){var n;return(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r)}function sg(t,e){return e?Nr(t,e)!=null:!1}function ig(t,e){return!e||!t.getPreviousPageParam?!1:Ks(t,e)!=null}var W,Me,Ke,ht,ft,Be,pt,gt,hs,Pa=(hs=class{constructor(t={}){N(this,W,void 0);N(this,Me,void 0);N(this,Ke,void 0);N(this,ht,void 0);N(this,ft,void 0);N(this,Be,void 0);N(this,pt,void 0);N(this,gt,void 0);S(this,W,t.queryCache||new ya),S(this,Me,t.mutationCache||new va),S(this,Ke,t.defaultOptions||{}),S(this,ht,new Map),S(this,ft,new Map),S(this,Be,0)}mount(){zt(this,Be)._++,f(this,Be)===1&&(S(this,pt,sr.subscribe(()=>{sr.isFocused()&&(this.resumePausedMutations(),f(this,W).onFocus())})),S(this,gt,ir.subscribe(()=>{ir.isOnline()&&(this.resumePausedMutations(),f(this,W).onOnline())})))}unmount(){var t,e;zt(this,Be)._--,f(this,Be)===0&&((t=f(this,pt))==null||t.call(this),S(this,pt,void 0),(e=f(this,gt))==null||e.call(this),S(this,gt,void 0))}isFetching(t){return f(this,W).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return f(this,Me).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=f(this,W).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);return e!==void 0?Promise.resolve(e):this.fetchQuery(t)}getQueriesData(t){return this.getQueryCache().findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=f(this,W).get(n.queryHash),i=s==null?void 0:s.state.data,c=oa(e,i);if(!(typeof c>"u"))return f(this,W).build(this,n).setData(c,{...r,manual:!0})}setQueriesData(t,e,r){return Z.batch(()=>this.getQueryCache().findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=f(this,W).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=f(this,W);Z.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=f(this,W),n={type:"active",...t};return Z.batch(()=>(r.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=Z.batch(()=>f(this,W).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(me).catch(me)}invalidateQueries(t={},e={}){return Z.batch(()=>{if(f(this,W).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=Z.batch(()=>f(this,W).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(me)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(me)}fetchQuery(t){const e=this.defaultQueryOptions(t);typeof e.retry>"u"&&(e.retry=!1);const r=f(this,W).build(this,e);return r.isStaleByTime(e.staleTime)?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(me).catch(me)}fetchInfiniteQuery(t){return t.behavior=Ta(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(me).catch(me)}resumePausedMutations(){return f(this,Me).resumePausedMutations()}getQueryCache(){return f(this,W)}getMutationCache(){return f(this,Me)}getDefaultOptions(){return f(this,Ke)}setDefaultOptions(t){S(this,Ke,t)}setQueryDefaults(t,e){f(this,ht).set(Dt(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...f(this,ht).values()];let r={};return e.forEach(n=>{Ut(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){f(this,ft).set(Dt(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...f(this,ft).values()];let r={};return e.forEach(n=>{Ut(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...f(this,Ke).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Zr(e.queryKey,e)),typeof e.refetchOnReconnect>"u"&&(e.refetchOnReconnect=e.networkMode!=="always"),typeof e.throwOnError>"u"&&(e.throwOnError=!!e.suspense),typeof e.networkMode>"u"&&e.persister&&(e.networkMode="offlineFirst"),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...f(this,Ke).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){f(this,W).clear(),f(this,Me).clear()}},W=new WeakMap,Me=new WeakMap,Ke=new WeakMap,ht=new WeakMap,ft=new WeakMap,Be=new WeakMap,pt=new WeakMap,gt=new WeakMap,hs),ie,j,Kt,ne,ze,yt,be,Bt,Et,mt,Je,Xe,Qe,vt,Ze,Nt,Qt,Cr,qt,wr,kt,Dr,Vt,Ur,jt,Lr,Ht,Fr,Wt,xr,cr,Bs,fs,Oa=(fs=class extends Gt{constructor(e,r){super();N(this,Ze);N(this,Qt);N(this,qt);N(this,kt);N(this,Vt);N(this,jt);N(this,Ht);N(this,Wt);N(this,cr);N(this,ie,void 0);N(this,j,void 0);N(this,Kt,void 0);N(this,ne,void 0);N(this,ze,void 0);N(this,yt,void 0);N(this,be,void 0);N(this,Bt,void 0);N(this,Et,void 0);N(this,mt,void 0);N(this,Je,void 0);N(this,Xe,void 0);N(this,Qe,void 0);N(this,vt,new Set);this.options=r,S(this,ie,e),S(this,be,null),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(f(this,j).addObserver(this),Ln(f(this,j),this.options)?M(this,Ze,Nt).call(this):this.updateResult(),M(this,Vt,Ur).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return $r(f(this,j),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return $r(f(this,j),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,M(this,jt,Lr).call(this),M(this,Ht,Fr).call(this),f(this,j).removeObserver(this)}setOptions(e,r){const n=this.options,s=f(this,j);if(this.options=f(this,ie).defaultQueryOptions(e),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");M(this,Wt,xr).call(this),Ar(this.options,n)||f(this,ie).getQueryCache().notify({type:"observerOptionsUpdated",query:f(this,j),observer:this});const i=this.hasListeners();i&&Fn(f(this,j),s,this.options,n)&&M(this,Ze,Nt).call(this),this.updateResult(r),i&&(f(this,j)!==s||this.options.enabled!==n.enabled||this.options.staleTime!==n.staleTime)&&M(this,Qt,Cr).call(this);const c=M(this,qt,wr).call(this);i&&(f(this,j)!==s||this.options.enabled!==n.enabled||c!==f(this,Qe))&&M(this,kt,Dr).call(this,c)}getOptimisticResult(e){const r=f(this,ie).getQueryCache().build(f(this,ie),e),n=this.createResult(r,e);return Ra(this,n)&&(S(this,ne,n),S(this,yt,this.options),S(this,ze,f(this,j).state)),n}getCurrentResult(){return f(this,ne)}trackResult(e){const r={};return Object.keys(e).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(f(this,vt).add(n),e[n])})}),r}getCurrentQuery(){return f(this,j)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=f(this,ie).defaultQueryOptions(e),n=f(this,ie).getQueryCache().build(f(this,ie),r);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,r))}fetch(e){return M(this,Ze,Nt).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),f(this,ne)))}createResult(e,r){var d;const n=f(this,j),s=this.options,i=f(this,ne),c=f(this,ze),l=f(this,yt),g=e!==n?e.state:f(this,Kt),{state:E}=e;let{error:T,errorUpdatedAt:v,fetchStatus:P,status:A}=E,w=!1,O;if(r._optimisticResults){const b=this.hasListeners(),C=!b&&Ln(e,r),q=b&&Fn(e,n,r,s);(C||q)&&(P=dr(e.options.networkMode)?"fetching":"paused",E.dataUpdatedAt||(A="pending")),r._optimisticResults==="isRestoring"&&(P="idle")}if(r.select&&typeof E.data<"u")if(i&&E.data===(c==null?void 0:c.data)&&r.select===f(this,Bt))O=f(this,Et);else try{S(this,Bt,r.select),O=r.select(E.data),O=br(i==null?void 0:i.data,O,r),S(this,Et,O),S(this,be,null)}catch(b){S(this,be,b)}else O=E.data;if(typeof r.placeholderData<"u"&&typeof O>"u"&&A==="pending"){let b;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))b=i.data;else if(b=typeof r.placeholderData=="function"?r.placeholderData((d=f(this,mt))==null?void 0:d.state.data,f(this,mt)):r.placeholderData,r.select&&typeof b<"u")try{b=r.select(b),S(this,be,null)}catch(C){S(this,be,C)}typeof b<"u"&&(A="success",O=br(i==null?void 0:i.data,b,r),w=!0)}f(this,be)&&(T=f(this,be),O=f(this,Et),v=Date.now(),A="error");const p=P==="fetching",y=A==="pending",a=A==="error",o=y&&p;return{status:A,fetchStatus:P,isPending:y,isSuccess:A==="success",isError:a,isInitialLoading:o,isLoading:o,data:O,dataUpdatedAt:E.dataUpdatedAt,error:T,errorUpdatedAt:v,failureCount:E.fetchFailureCount,failureReason:E.fetchFailureReason,errorUpdateCount:E.errorUpdateCount,isFetched:E.dataUpdateCount>0||E.errorUpdateCount>0,isFetchedAfterMount:E.dataUpdateCount>g.dataUpdateCount||E.errorUpdateCount>g.errorUpdateCount,isFetching:p,isRefetching:p&&!y,isLoadingError:a&&E.dataUpdatedAt===0,isPaused:P==="paused",isPlaceholderData:w,isRefetchError:a&&E.dataUpdatedAt!==0,isStale:en(e,r),refetch:this.refetch}}updateResult(e){const r=f(this,ne),n=this.createResult(f(this,j),this.options);if(S(this,ze,f(this,j).state),S(this,yt,this.options),f(this,ze).data!==void 0&&S(this,mt,f(this,j)),Ar(n,r))return;S(this,ne,n);const s={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:c}=this.options,l=typeof c=="function"?c():c;if(l==="all"||!l&&!f(this,vt).size)return!0;const m=new Set(l??f(this,vt));return this.options.throwOnError&&m.add("error"),Object.keys(f(this,ne)).some(g=>{const E=g;return f(this,ne)[E]!==r[E]&&m.has(E)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),M(this,cr,Bs).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&M(this,Vt,Ur).call(this)}},ie=new WeakMap,j=new WeakMap,Kt=new WeakMap,ne=new WeakMap,ze=new WeakMap,yt=new WeakMap,be=new WeakMap,Bt=new WeakMap,Et=new WeakMap,mt=new WeakMap,Je=new WeakMap,Xe=new WeakMap,Qe=new WeakMap,vt=new WeakMap,Ze=new WeakSet,Nt=function(e){M(this,Wt,xr).call(this);let r=f(this,j).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(me)),r},Qt=new WeakSet,Cr=function(){if(M(this,jt,Lr).call(this),Tt||f(this,ne).isStale||!Ir(this.options.staleTime))return;const r=Ls(f(this,ne).dataUpdatedAt,this.options.staleTime)+1;S(this,Je,setTimeout(()=>{f(this,ne).isStale||this.updateResult()},r))},qt=new WeakSet,wr=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(f(this,j)):this.options.refetchInterval)??!1},kt=new WeakSet,Dr=function(e){M(this,Ht,Fr).call(this),S(this,Qe,e),!(Tt||this.options.enabled===!1||!Ir(f(this,Qe))||f(this,Qe)===0)&&S(this,Xe,setInterval(()=>{(this.options.refetchIntervalInBackground||sr.isFocused())&&M(this,Ze,Nt).call(this)},f(this,Qe)))},Vt=new WeakSet,Ur=function(){M(this,Qt,Cr).call(this),M(this,kt,Dr).call(this,M(this,qt,wr).call(this))},jt=new WeakSet,Lr=function(){f(this,Je)&&(clearTimeout(f(this,Je)),S(this,Je,void 0))},Ht=new WeakSet,Fr=function(){f(this,Xe)&&(clearInterval(f(this,Xe)),S(this,Xe,void 0))},Wt=new WeakSet,xr=function(){const e=f(this,ie).getQueryCache().build(f(this,ie),this.options);if(e===f(this,j))return;const r=f(this,j);S(this,j,e),S(this,Kt,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},cr=new WeakSet,Bs=function(e){Z.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(f(this,ne))}),f(this,ie).getQueryCache().notify({query:f(this,j),type:"observerResultsUpdated"})})},fs);function _a(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Ln(t,e){return _a(t,e)||t.state.dataUpdatedAt>0&&$r(t,e,e.refetchOnMount)}function $r(t,e,r){if(e.enabled!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&en(t,e)}return!1}function Fn(t,e,r,n){return r.enabled!==!1&&(t!==e||n.enabled===!1)&&(!r.suspense||t.state.status!=="error")&&en(t,r)}function en(t,e){return t.isStaleByTime(e.staleTime)}function Ra(t,e){return!Ar(t.getCurrentResult(),e)}var Qs=K.createContext(void 0),Ia=t=>{const e=K.useContext(Qs);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Aa=({client:t,children:e})=>(K.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),U.jsx(Qs.Provider,{value:t,children:e})),qs=K.createContext(!1),Sa=()=>K.useContext(qs);qs.Provider;function ba(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Na=K.createContext(ba()),Ca=()=>K.useContext(Na);function wa(t,e){return typeof t=="function"?t(...e):!!t}var Da=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},Ua=t=>{K.useEffect(()=>{t.clearReset()},[t])},La=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&wa(r,[t.error,n]),Fa=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},og=(t,e)=>t.isLoading&&t.isFetching&&!e,xa=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,$a=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function Ma(t,e,r){const n=Ia(r),s=Sa(),i=Ca(),c=n.defaultQueryOptions(t);c._optimisticResults=s?"isRestoring":"optimistic",Fa(c),Da(c,i),Ua(i);const[l]=K.useState(()=>new e(n,c)),m=l.getOptimisticResult(c);if(K.useSyncExternalStore(K.useCallback(g=>{const E=s?()=>{}:l.subscribe(Z.batchCalls(g));return l.updateResult(),E},[l,s]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),K.useEffect(()=>{l.setOptions(c,{listeners:!1})},[c,l]),xa(c,m))throw $a(c,l,i);if(La({result:m,errorResetBoundary:i,throwOnError:c.throwOnError,query:n.getQueryCache().get(c.queryHash)}))throw m.error;return c.notifyOnChangeProps?m:l.trackResult(m)}function _t(t,e){return Ma(t,Oa,e)}var ks={exports:{}};(function(t,e){(function(r){t.exports=r()})(function(r){var n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function s(p,y){var a=p[0],o=p[1],h=p[2],d=p[3];a+=(o&h|~o&d)+y[0]-680876936|0,a=(a<<7|a>>>25)+o|0,d+=(a&o|~a&h)+y[1]-389564586|0,d=(d<<12|d>>>20)+a|0,h+=(d&a|~d&o)+y[2]+606105819|0,h=(h<<17|h>>>15)+d|0,o+=(h&d|~h&a)+y[3]-1044525330|0,o=(o<<22|o>>>10)+h|0,a+=(o&h|~o&d)+y[4]-176418897|0,a=(a<<7|a>>>25)+o|0,d+=(a&o|~a&h)+y[5]+1200080426|0,d=(d<<12|d>>>20)+a|0,h+=(d&a|~d&o)+y[6]-1473231341|0,h=(h<<17|h>>>15)+d|0,o+=(h&d|~h&a)+y[7]-45705983|0,o=(o<<22|o>>>10)+h|0,a+=(o&h|~o&d)+y[8]+1770035416|0,a=(a<<7|a>>>25)+o|0,d+=(a&o|~a&h)+y[9]-1958414417|0,d=(d<<12|d>>>20)+a|0,h+=(d&a|~d&o)+y[10]-42063|0,h=(h<<17|h>>>15)+d|0,o+=(h&d|~h&a)+y[11]-1990404162|0,o=(o<<22|o>>>10)+h|0,a+=(o&h|~o&d)+y[12]+1804603682|0,a=(a<<7|a>>>25)+o|0,d+=(a&o|~a&h)+y[13]-40341101|0,d=(d<<12|d>>>20)+a|0,h+=(d&a|~d&o)+y[14]-1502002290|0,h=(h<<17|h>>>15)+d|0,o+=(h&d|~h&a)+y[15]+1236535329|0,o=(o<<22|o>>>10)+h|0,a+=(o&d|h&~d)+y[1]-165796510|0,a=(a<<5|a>>>27)+o|0,d+=(a&h|o&~h)+y[6]-1069501632|0,d=(d<<9|d>>>23)+a|0,h+=(d&o|a&~o)+y[11]+643717713|0,h=(h<<14|h>>>18)+d|0,o+=(h&a|d&~a)+y[0]-373897302|0,o=(o<<20|o>>>12)+h|0,a+=(o&d|h&~d)+y[5]-701558691|0,a=(a<<5|a>>>27)+o|0,d+=(a&h|o&~h)+y[10]+38016083|0,d=(d<<9|d>>>23)+a|0,h+=(d&o|a&~o)+y[15]-660478335|0,h=(h<<14|h>>>18)+d|0,o+=(h&a|d&~a)+y[4]-405537848|0,o=(o<<20|o>>>12)+h|0,a+=(o&d|h&~d)+y[9]+568446438|0,a=(a<<5|a>>>27)+o|0,d+=(a&h|o&~h)+y[14]-1019803690|0,d=(d<<9|d>>>23)+a|0,h+=(d&o|a&~o)+y[3]-187363961|0,h=(h<<14|h>>>18)+d|0,o+=(h&a|d&~a)+y[8]+1163531501|0,o=(o<<20|o>>>12)+h|0,a+=(o&d|h&~d)+y[13]-1444681467|0,a=(a<<5|a>>>27)+o|0,d+=(a&h|o&~h)+y[2]-51403784|0,d=(d<<9|d>>>23)+a|0,h+=(d&o|a&~o)+y[7]+1735328473|0,h=(h<<14|h>>>18)+d|0,o+=(h&a|d&~a)+y[12]-1926607734|0,o=(o<<20|o>>>12)+h|0,a+=(o^h^d)+y[5]-378558|0,a=(a<<4|a>>>28)+o|0,d+=(a^o^h)+y[8]-2022574463|0,d=(d<<11|d>>>21)+a|0,h+=(d^a^o)+y[11]+1839030562|0,h=(h<<16|h>>>16)+d|0,o+=(h^d^a)+y[14]-35309556|0,o=(o<<23|o>>>9)+h|0,a+=(o^h^d)+y[1]-1530992060|0,a=(a<<4|a>>>28)+o|0,d+=(a^o^h)+y[4]+1272893353|0,d=(d<<11|d>>>21)+a|0,h+=(d^a^o)+y[7]-155497632|0,h=(h<<16|h>>>16)+d|0,o+=(h^d^a)+y[10]-1094730640|0,o=(o<<23|o>>>9)+h|0,a+=(o^h^d)+y[13]+681279174|0,a=(a<<4|a>>>28)+o|0,d+=(a^o^h)+y[0]-358537222|0,d=(d<<11|d>>>21)+a|0,h+=(d^a^o)+y[3]-722521979|0,h=(h<<16|h>>>16)+d|0,o+=(h^d^a)+y[6]+76029189|0,o=(o<<23|o>>>9)+h|0,a+=(o^h^d)+y[9]-640364487|0,a=(a<<4|a>>>28)+o|0,d+=(a^o^h)+y[12]-421815835|0,d=(d<<11|d>>>21)+a|0,h+=(d^a^o)+y[15]+530742520|0,h=(h<<16|h>>>16)+d|0,o+=(h^d^a)+y[2]-995338651|0,o=(o<<23|o>>>9)+h|0,a+=(h^(o|~d))+y[0]-198630844|0,a=(a<<6|a>>>26)+o|0,d+=(o^(a|~h))+y[7]+1126891415|0,d=(d<<10|d>>>22)+a|0,h+=(a^(d|~o))+y[14]-1416354905|0,h=(h<<15|h>>>17)+d|0,o+=(d^(h|~a))+y[5]-57434055|0,o=(o<<21|o>>>11)+h|0,a+=(h^(o|~d))+y[12]+1700485571|0,a=(a<<6|a>>>26)+o|0,d+=(o^(a|~h))+y[3]-1894986606|0,d=(d<<10|d>>>22)+a|0,h+=(a^(d|~o))+y[10]-1051523|0,h=(h<<15|h>>>17)+d|0,o+=(d^(h|~a))+y[1]-2054922799|0,o=(o<<21|o>>>11)+h|0,a+=(h^(o|~d))+y[8]+1873313359|0,a=(a<<6|a>>>26)+o|0,d+=(o^(a|~h))+y[15]-30611744|0,d=(d<<10|d>>>22)+a|0,h+=(a^(d|~o))+y[6]-1560198380|0,h=(h<<15|h>>>17)+d|0,o+=(d^(h|~a))+y[13]+1309151649|0,o=(o<<21|o>>>11)+h|0,a+=(h^(o|~d))+y[4]-145523070|0,a=(a<<6|a>>>26)+o|0,d+=(o^(a|~h))+y[11]-1120210379|0,d=(d<<10|d>>>22)+a|0,h+=(a^(d|~o))+y[2]+718787259|0,h=(h<<15|h>>>17)+d|0,o+=(d^(h|~a))+y[9]-343485551|0,o=(o<<21|o>>>11)+h|0,p[0]=a+p[0]|0,p[1]=o+p[1]|0,p[2]=h+p[2]|0,p[3]=d+p[3]|0}function i(p){var y=[],a;for(a=0;a<64;a+=4)y[a>>2]=p.charCodeAt(a)+(p.charCodeAt(a+1)<<8)+(p.charCodeAt(a+2)<<16)+(p.charCodeAt(a+3)<<24);return y}function c(p){var y=[],a;for(a=0;a<64;a+=4)y[a>>2]=p[a]+(p[a+1]<<8)+(p[a+2]<<16)+(p[a+3]<<24);return y}function l(p){var y=p.length,a=[1732584193,-271733879,-1732584194,271733878],o,h,d,b,C,q;for(o=64;o<=y;o+=64)s(a,i(p.substring(o-64,o)));for(p=p.substring(o-64),h=p.length,d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],o=0;o<h;o+=1)d[o>>2]|=p.charCodeAt(o)<<(o%4<<3);if(d[o>>2]|=128<<(o%4<<3),o>55)for(s(a,d),o=0;o<16;o+=1)d[o]=0;return b=y*8,b=b.toString(16).match(/(.*?)(.{0,8})$/),C=parseInt(b[2],16),q=parseInt(b[1],16)||0,d[14]=C,d[15]=q,s(a,d),a}function m(p){var y=p.length,a=[1732584193,-271733879,-1732584194,271733878],o,h,d,b,C,q;for(o=64;o<=y;o+=64)s(a,c(p.subarray(o-64,o)));for(p=o-64<y?p.subarray(o-64):new Uint8Array(0),h=p.length,d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],o=0;o<h;o+=1)d[o>>2]|=p[o]<<(o%4<<3);if(d[o>>2]|=128<<(o%4<<3),o>55)for(s(a,d),o=0;o<16;o+=1)d[o]=0;return b=y*8,b=b.toString(16).match(/(.*?)(.{0,8})$/),C=parseInt(b[2],16),q=parseInt(b[1],16)||0,d[14]=C,d[15]=q,s(a,d),a}function g(p){var y="",a;for(a=0;a<4;a+=1)y+=n[p>>a*8+4&15]+n[p>>a*8&15];return y}function E(p){var y;for(y=0;y<p.length;y+=1)p[y]=g(p[y]);return p.join("")}E(l("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function p(y,a){return y=y|0||0,y<0?Math.max(y+a,0):Math.min(y,a)}ArrayBuffer.prototype.slice=function(y,a){var o=this.byteLength,h=p(y,o),d=o,b,C,q,G;return a!==r&&(d=p(a,o)),h>d?new ArrayBuffer(0):(b=d-h,C=new ArrayBuffer(b),q=new Uint8Array(C),G=new Uint8Array(this,h,b),q.set(G),C)}}();function T(p){return/[\u0080-\uFFFF]/.test(p)&&(p=unescape(encodeURIComponent(p))),p}function v(p,y){var a=p.length,o=new ArrayBuffer(a),h=new Uint8Array(o),d;for(d=0;d<a;d+=1)h[d]=p.charCodeAt(d);return y?h:o}function P(p){return String.fromCharCode.apply(null,new Uint8Array(p))}function A(p,y,a){var o=new Uint8Array(p.byteLength+y.byteLength);return o.set(new Uint8Array(p)),o.set(new Uint8Array(y),p.byteLength),a?o:o.buffer}function w(p){var y=[],a=p.length,o;for(o=0;o<a-1;o+=2)y.push(parseInt(p.substr(o,2),16));return String.fromCharCode.apply(String,y)}function O(){this.reset()}return O.prototype.append=function(p){return this.appendBinary(T(p)),this},O.prototype.appendBinary=function(p){this._buff+=p,this._length+=p.length;var y=this._buff.length,a;for(a=64;a<=y;a+=64)s(this._hash,i(this._buff.substring(a-64,a)));return this._buff=this._buff.substring(a-64),this},O.prototype.end=function(p){var y=this._buff,a=y.length,o,h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],d;for(o=0;o<a;o+=1)h[o>>2]|=y.charCodeAt(o)<<(o%4<<3);return this._finish(h,a),d=E(this._hash),p&&(d=w(d)),this.reset(),d},O.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},O.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},O.prototype.setState=function(p){return this._buff=p.buff,this._length=p.length,this._hash=p.hash,this},O.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},O.prototype._finish=function(p,y){var a=y,o,h,d;if(p[a>>2]|=128<<(a%4<<3),a>55)for(s(this._hash,p),a=0;a<16;a+=1)p[a]=0;o=this._length*8,o=o.toString(16).match(/(.*?)(.{0,8})$/),h=parseInt(o[2],16),d=parseInt(o[1],16)||0,p[14]=h,p[15]=d,s(this._hash,p)},O.hash=function(p,y){return O.hashBinary(T(p),y)},O.hashBinary=function(p,y){var a=l(p),o=E(a);return y?w(o):o},O.ArrayBuffer=function(){this.reset()},O.ArrayBuffer.prototype.append=function(p){var y=A(this._buff.buffer,p,!0),a=y.length,o;for(this._length+=p.byteLength,o=64;o<=a;o+=64)s(this._hash,c(y.subarray(o-64,o)));return this._buff=o-64<a?new Uint8Array(y.buffer.slice(o-64)):new Uint8Array(0),this},O.ArrayBuffer.prototype.end=function(p){var y=this._buff,a=y.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],h,d;for(h=0;h<a;h+=1)o[h>>2]|=y[h]<<(h%4<<3);return this._finish(o,a),d=E(this._hash),p&&(d=w(d)),this.reset(),d},O.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},O.ArrayBuffer.prototype.getState=function(){var p=O.prototype.getState.call(this);return p.buff=P(p.buff),p},O.ArrayBuffer.prototype.setState=function(p){return p.buff=v(p.buff,!0),O.prototype.setState.call(this,p)},O.ArrayBuffer.prototype.destroy=O.prototype.destroy,O.ArrayBuffer.prototype._finish=O.prototype._finish,O.ArrayBuffer.hash=function(p,y){var a=m(new Uint8Array(p)),o=E(a);return y?w(o):o},O})})(ks);var Ka=ks.exports;const Ba=ps(Ka);var Vs={};/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var js=Vs.parse=ka,xn=Vs.serialize=Va,Qa=decodeURIComponent,qa=encodeURIComponent,Zt=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function ka(t,e){if(typeof t!="string")throw new TypeError("argument str must be a string");for(var r={},n=e||{},s=t.split(";"),i=n.decode||Qa,c=0;c<s.length;c++){var l=s[c],m=l.indexOf("=");if(!(m<0)){var g=l.substring(0,m).trim();if(r[g]==null){var E=l.substring(m+1,l.length).trim();E[0]==='"'&&(E=E.slice(1,-1)),r[g]=ja(E,i)}}}return r}function Va(t,e,r){var n=r||{},s=n.encode||qa;if(typeof s!="function")throw new TypeError("option encode is invalid");if(!Zt.test(t))throw new TypeError("argument name is invalid");var i=s(e);if(i&&!Zt.test(i))throw new TypeError("argument val is invalid");var c=t+"="+i;if(n.maxAge!=null){var l=n.maxAge-0;if(isNaN(l)||!isFinite(l))throw new TypeError("option maxAge is invalid");c+="; Max-Age="+Math.floor(l)}if(n.domain){if(!Zt.test(n.domain))throw new TypeError("option domain is invalid");c+="; Domain="+n.domain}if(n.path){if(!Zt.test(n.path))throw new TypeError("option path is invalid");c+="; Path="+n.path}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");c+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(c+="; HttpOnly"),n.secure&&(c+="; Secure"),n.sameSite){var m=typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite;switch(m){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;case"none":c+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return c}function ja(t,e){try{return e(t)}catch{return t}}function Ha(){return typeof document=="object"&&typeof document.cookie=="string"}function Wa(t,e){return typeof t=="string"?js(t,e):typeof t=="object"&&t!==null?t:{}}function Ga(t,e){return typeof e>"u"&&(e=!t||t[0]!=="{"&&t[0]!=="["&&t[0]!=='"'),!e}function $n(t,e){e===void 0&&(e={});var r=Ya(t);if(Ga(r,e.doNotParse))try{return JSON.parse(r)}catch{}return t}function Ya(t){return t&&t[0]==="j"&&t[1]===":"?t.substr(2):t}var je=function(){return je=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},je.apply(this,arguments)},za=function(){function t(e,r){var n=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=Wa(e,r),new Promise(function(){n.HAS_DOCUMENT_COOKIE=Ha()}).catch(function(){})}return t.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=js(document.cookie,e))},t.prototype._emitChange=function(e){for(var r=0;r<this.changeListeners.length;++r)this.changeListeners[r](e)},t.prototype.get=function(e,r,n){return r===void 0&&(r={}),this._updateBrowserValues(n),$n(this.cookies[e],r)},t.prototype.getAll=function(e,r){e===void 0&&(e={}),this._updateBrowserValues(r);var n={};for(var s in this.cookies)n[s]=$n(this.cookies[s],e);return n},t.prototype.set=function(e,r,n){var s;typeof r=="object"&&(r=JSON.stringify(r)),this.cookies=je(je({},this.cookies),(s={},s[e]=r,s)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=xn(e,r,n)),this._emitChange({name:e,value:r,options:n})},t.prototype.remove=function(e,r){var n=r=je(je({},r),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=je({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=xn(e,"",n)),this._emitChange({name:e,value:void 0,options:r})},t.prototype.addChangeListener=function(e){this.changeListeners.push(e)},t.prototype.removeChangeListener=function(e){var r=this.changeListeners.indexOf(e);r>=0&&this.changeListeners.splice(r,1)},t}();`${Pt(u.REPO_ENDPOINT)}`;const L="/repo/v1",Ja="/auth/v1",Xa="/file/v1",Za="/async/start",eu="/async/get",tu=`${L}/entity`,ru=t=>`${L}/entity/alias/${t}`,qe=t=>`${L}/entity/${t}`,nu=(t,e)=>`${L}/entity/${t}${e?`/version/${e}`:""}`,ag=t=>`${L}/entity/${t}/version`,su=(t,e)=>`${nu(t,e)}/bundle2`,iu=t=>`${L}/entity/${t}/access`,Hs=t=>`${qe(t)}/acl`,ou=t=>`${qe(t)}/evaluation`,au=t=>`${qe(t)}/path`,uu=t=>`${qe(t)}/permissions`,cu=`${L}/entity/header`,Ws=t=>`${L}/entity/${t}/json`,lu=(t,e)=>`${L}/entity/${t}/version/${e}/json`,Gs=t=>`${L}/entity/${t}/schema`,du=t=>`${Gs(t)}/binding`,hu=t=>`${Gs(t)}/validation`,fu=t=>`${qe(t)}/accessRequirement`,pu=t=>`${qe(t)}/table/query/async/start`,gu=(t,e)=>`${qe(t)}/table/query/async/get/${e}`,Mn=t=>`${L}/asynchronous/job/${t}`,Ys=`${L}/schema`,yu=t=>`${L}/schema/type/registered/${t}`,Eu=`${Ys}/type/validation${Za}`,mu=t=>`${Ys}/type/validation${eu}/${t}`,zs=`${L}/user`,vu=`${zs}/bundle`,Tu=t=>`${zs}/${t}`,Pu=t=>`${Tu(t)}/bundle`,tn=`${L}/userProfile`,Ou=t=>`${tn}/${t}`,_u=`${L}/notificationEmail`,Ru=`${L}/principal/available`,Iu=t=>`${L}/account/emailValidation?portalEndpoint=${t}`,Au=`${L}/account2`,Su=`${Ja}/termsOfUse2`,bu=`${L}/verificationSubmission`,Nu=`${L}/accessRequirement/search`,Cu=`${L}/dataAccessSubmission/search`,Rt=t=>`${L}/accessRequirement/${t}`,wu=t=>Rt(t)+"/acl",Du=t=>Rt(t)+"/status",Uu=t=>`${L}/access_requirement/${t}/wikikey`,ug=(t,e)=>`${L}/access_requirement/${t}/wiki/${e}`,rn=`${L}/favorite`,Js=`${L}/userGroupHeaders`,Lu=`${L}/userGroupHeaders/batch`,Xs=t=>`${L}/dataAccessSubmission/${t}`,Fu=t=>`${L}/userProfile/${t}/image/preview`,xu=t=>Rt(t)+"/approvedSubmissionInfo",nn=`${L}/evaluation`,Zs=t=>nn+`/${t}`,$u=(t,e)=>e?`${L}/entity/${t}/version/${e}/generatedBy`:`${L}/entity/${t}/generatedBy`,sn=`${L}/trashcan`,Mu=`${sn}/view`,Ku=t=>`${sn}/restore/${t}`,Bu=t=>`${sn}/purge/${t}`,ei=t=>`${L}/team/${t}`,on=(t,e)=>ei(t)+`/member/${e}`,Qu=t=>`${L}/teamMembers/${t}`,ti="https://www.synapse.org/#!SignedToken:",ri="https://www.synapse.org/#!Team:",qu=`${L}/teamMember/?teamEndpoint=${ri}&notificationUnsubscribeEndpoint=${ti}`,ku=(t,e)=>on(t,e)+`?teamEndpoint=${ri}&notificationUnsubscribeEndpoint=${ti}`,Vu=t=>`${L}/membershipInvitation/${t}`,ju=t=>`${L}/membershipInvitation/${t}/inviteeVerificationSignedToken`,Hu=t=>`${L}/membershipInvitation/${t}/inviteeId`,hr=`${L}/forum`,Wu=t=>`${hr}/${t}/threads`,It=`${L}/thread`,Yt=t=>`${It}/${t}`,Gu=`${L}/doi`,Yu=`${Gu}/association`,ni=`${L}/accessApproval`,zu=t=>`${ni}/${t}`,si=`${L}/dataAccessRequest`,Ju=t=>`${si}/${t}/submission`,Xu=t=>`${Rt(t)}/dataAccessRequestForUpdate`,Zu=`${L}/researchProject`,ec=t=>`${Rt(t)}/researchProjectForUpdate`,tc=`${Xa}/fileHandle`,rc=`${tc}/batch`,nc=`${L}/projects`,sc=t=>`${L}/entity/${t}/actions/download`,ic="DOWNLOAD_LIST_UPDATED_EVENT",ii=t=>{const e=new CustomEvent(ic,{detail:t});document.dispatchEvent(e)};class st extends Error{constructor(r,n,s,i){super(n);nt(this,"status");nt(this,"reason");nt(this,"errorResponse");nt(this,"url");this.status=r,this.reason=n,this.url=s,this.errorResponse=i,Object.setPrototypeOf(this,new.target.prototype)}}function oi(){return!window.location.hostname.toLowerCase().endsWith(".synapse.org")}async function At(t){let e=null;try{e=await t()}catch(r){if(!(r instanceof st&&r.status===404))throw r}return e}async function ai(t){let e=null;try{e=await t()}catch(r){if(r instanceof st&&r.status===401&&r.errorResponse&&"errorCode"in r.errorResponse&&r.errorResponse.errorCode===co.TWO_FA_REQUIRED&&r.errorResponse.concreteType==="org.sagebionetworks.repo.model.auth.TwoFactorAuthErrorResponse")return r.errorResponse;throw r}return e}function fr(t){return new Promise(e=>{setTimeout(e.bind(null,{}),t)})}const oc=[0,429,502,503,504],ac=[502,503],uc=3,pr=async(t,e,r=1e3)=>{let n;try{n=await fetch(t,e)}catch(m){throw console.error(m),new st(0,Hi,t.toString())}let s=1;for(;n.status&&oc.includes(n.status)&&(await fr(r),r=r*2,n=await fetch(t,e),!(ac.includes(n.status)&&(s++,s==uc))););const i=n.headers.get("Content-Type"),c=await n.text();let l=c;try{i&&i.includes("application/json")&&(l=JSON.parse(c))}catch{console.warn("Failed to parse response as JSON",c)}if(n.ok)return l;throw l!==null&&typeof l=="object"&&"reason"in l?new st(n.status,l.reason,t.toString(),l):new st(n.status,JSON.stringify(l),t.toString())},I=(t,e,r,n,s={})=>{const i={body:JSON.stringify(e),headers:{Accept:"*/*","Access-Control-Request-Headers":"authorization","Content-Type":"application/json",...r?{Authorization:`Bearer ${r}`}:{}},method:"POST",mode:"cors",...s},c=Pt(n);return pr(c+t,i)},R=(t,e,r,n={})=>{const s={headers:{Accept:"*/*","Access-Control-Request-Headers":"authorization",...e?{Authorization:`Bearer ${e}`}:{}},method:"GET",mode:"cors",...n},i=Pt(r);return pr(i+t,s)},te=(t,e,r,n={})=>{const s={headers:{Accept:"*/*","Access-Control-Request-Headers":"authorization",...e?{Authorization:`Bearer ${e}`}:{}},method:"DELETE",mode:"cors",...n},i=Pt(r);return pr(i+t,s)},k=(t,e,r,n,s={})=>{const i={body:JSON.stringify(e),headers:{Accept:"*/*","Access-Control-Request-Headers":"authorization","Content-Type":"application/json",...r?{Authorization:`Bearer ${r}`}:{}},method:"PUT",mode:"cors",...s},c=Pt(n);return pr(c+t,i)};function X(...t){return e=>!!(e&&typeof e=="object"&&"concreteType"in e&&t.includes(e.concreteType))}const cg=X(ho,lo),lg=X(Rs),dg=X(As),hg=X(po,fo,Rs),fg=X(Is),pg=X(go),gg=X(vo),yg=X(To),Eg=X(yo),mg=X(Eo),vg=X(Gr),Tg=X(mo);function Pg(t){return t.node_type?t.node_type:t.type===void 0?_.PROJECT:ui(t.type)}function Og(t){switch(t){case _.PROJECT:case _.FOLDER:return!0;case _.LINK:case _.DOCKER_REPO:case _.FILE:case _.TABLE:case _.SUBMISSION_VIEW:case _.ENTITY_VIEW:case _.DATASET:case _.DATASET_COLLECTION:case _.MATERIALIZED_VIEW:case _.VIRTUAL_TABLE:return!1;default:throw new Error(`Unknown entity type: ${t}`)}}function _g(t){switch(t){case _.PROJECT:case _.FOLDER:case _.LINK:case _.DOCKER_REPO:case _.FILE:return!1;case _.TABLE:case _.SUBMISSION_VIEW:case _.ENTITY_VIEW:case _.DATASET:case _.DATASET_COLLECTION:case _.MATERIALIZED_VIEW:case _.VIRTUAL_TABLE:return!0;default:throw new Error(`Unknown entity type: ${t}`)}}function Rg(t){switch(t){case _.PROJECT:return"Project";case _.FOLDER:return"Folder";case _.FILE:return"File";case _.TABLE:return"Table";case _.LINK:return"Link";case _.ENTITY_VIEW:return"View";case _.DOCKER_REPO:return"Docker Repository";case _.SUBMISSION_VIEW:return"Submission View";case _.DATASET:return"Dataset";case _.DATASET_COLLECTION:return"Dataset Collection";case _.MATERIALIZED_VIEW:return"Materialized View";case _.VIRTUAL_TABLE:return"Virtual Table";default:return console.warn("Entity type could not be mapped to name:",t),""}}function ui(t){switch(t){case _.PROJECT:case"org.sagebionetworks.repo.model.Project":return _.PROJECT;case _.FOLDER:case"org.sagebionetworks.repo.model.Folder":return _.FOLDER;case _.FILE:case Gr:return _.FILE;case _.LINK:case"org.sagebionetworks.repo.model.Link":return _.LINK;case _.DOCKER_REPO:case"org.sagebionetworks.repo.model.docker.DockerRepository":return _.DOCKER_REPO;case _.TABLE:case Xr:return _.TABLE;case _.SUBMISSION_VIEW:case"org.sagebionetworks.repo.model.table.SubmissionView":return _.SUBMISSION_VIEW;case _.ENTITY_VIEW:case Jr:return _.ENTITY_VIEW;case _.DATASET:case zr:return _.DATASET;case _.DATASET_COLLECTION:case Yr:return _.DATASET_COLLECTION;case _.MATERIALIZED_VIEW:case bs:return _.MATERIALIZED_VIEW;case _.VIRTUAL_TABLE:case Ss:return _.VIRTUAL_TABLE;default:throw new Error(`Unknown entity type: ${t}`)}}function Ig(t){switch(t){case _.PROJECT:return"org.sagebionetworks.repo.model.Project";case _.FOLDER:return"org.sagebionetworks.repo.model.Folder";case _.FILE:return"org.sagebionetworks.repo.model.FileEntity";case _.LINK:return"org.sagebionetworks.repo.model.Link";case _.DOCKER_REPO:return"org.sagebionetworks.repo.model.docker.DockerRepository";case _.TABLE:return"org.sagebionetworks.repo.model.table.TableEntity";case _.SUBMISSION_VIEW:return"org.sagebionetworks.repo.model.table.SubmissionView";case _.ENTITY_VIEW:return"org.sagebionetworks.repo.model.table.EntityView";case _.DATASET:return"org.sagebionetworks.repo.model.table.Dataset";case _.DATASET_COLLECTION:return"org.sagebionetworks.repo.model.table.DatasetCollection";case _.MATERIALIZED_VIEW:return"org.sagebionetworks.repo.model.table.MaterializedView";case _.VIRTUAL_TABLE:return"org.sagebionetworks.repo.model.table.VirtualTable";default:throw new Error(`Unknown entity type: ${t}`)}}function cc(t){switch(t){case _.PROJECT:case _.FOLDER:case _.LINK:case _.DOCKER_REPO:case _.SUBMISSION_VIEW:case _.MATERIALIZED_VIEW:case _.VIRTUAL_TABLE:return!1;case _.FILE:case _.TABLE:case _.ENTITY_VIEW:case _.DATASET:case _.DATASET_COLLECTION:return!0;default:throw new Error(`Unknown entity type: ${t}`)}}const lc=X(...Po),Ag=X(Xr),Sg=X(Cs),ci=X(zr),dc=X(Yr),bg=t=>ci(t)||dc(t),Ng=X(Jr);function Cg(t){return(t.viewTypeMask&Ns)!=0}function wg(t){return t.viewTypeMask===Ns}function hc(t){return cc(ui(t.concreteType))}function Dg(t){return hc(t)?t.isLatestVersion?lc(t)?ci(t)?"Draft":"Current":`${t.versionNumber.toString()} (Current)`:t.versionNumber.toString():(console.warn("Entity isn't versionable:",t),"")}function Ug(t){return t.startsWith("syn")?t:`syn${t}`}const Ct=["name","description","id","etag","createdOn","modifiedOn","createdBy","modifiedBy","parentId","concreteType"],li=[...Ct,"versionNumber","versionLabel","versionComment","isLatestVersion"],rr=[...li,"columnIds","isSearchEnabled"],Mr=[...rr],Kn=[...Mr,"items"],Lg={[As]:[...Ct,"linksTo","linksToClassName"],[Is]:[...Ct,"repositoryName","isManaged"],[Gr]:[...li,"dataFileHandleId","fileNameOverride"],[Cs]:[...Mr,"scopeIds"],[zr]:[...Kn,"size","checksum"],[Yr]:[...Kn],[Jr]:[...Mr,"scopeIds","viewTypeMask","type"],[Xr]:rr,[bs]:[...rr,"definingSQL"],[Ss]:[...rr,"definingSQL"],[Oo]:Ct,[_o]:[...Ct,"alias"]},Fg={ALL_TABLES:[_.TABLE,_.ENTITY_VIEW,_.SUBMISSION_VIEW,_.DATASET,_.DATASET_COLLECTION,_.MATERIALIZED_VIEW,_.VIRTUAL_TABLE],CONTAINER:[_.PROJECT,_.FOLDER]};function gr(t,e=!1){return e?(Object.keys(t).forEach(r=>t[r]===void 0?delete t[r]:{}),t):Object.keys(t).reduce((r,n)=>{const s=r;return t[n]!==void 0&&(s[n]=t[n]),s},{})}const fc=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"];function Bn(t){if(!t)return"";const e=Math.floor(Math.log(t)/Math.log(1024));return!t&&"0 Bytes"||(t/Math.pow(1024,e)).toFixed(2)+" "+fc[e]}const Lt=new za,pc=5242880,di=1;function hi(){const t=window.location.port?`:${window.location.port}`:"";return`${window.location.protocol}//${window.location.hostname}${t}/`}const gc=()=>R("/repo/v1/version",void 0,u.REPO_ENDPOINT),yc=async(t,e=void 0)=>{const r=await I(`/repo/v1/entity/${t.entityId}/table/download/csv/async/start`,t,e,u.REPO_ENDPOINT);return _e(r.token,`/repo/v1/entity/${t.entityId}/table/download/csv/async/get/${r.token}`,e)},fi=(t,e=void 0)=>R(`/file/v1/fileHandle/${t}`,e,u.REPO_ENDPOINT),Ec=(t,e=void 0,r,n,s=!0)=>R(`/file/v1/file/${t}?fileAssociateType=${r}&fileAssociateId=${n}&redirect=${s}`,e,u.REPO_ENDPOINT),pi=(t,e=void 0)=>R(`/file/v1/fileHandle/${t}/url?redirect=false`,e,u.REPO_ENDPOINT),an=async(t,e,r,n)=>{let s=await R(Mn(t),r,u.REPO_ENDPOINT);for(n==null||n(s);s.jobState&&s.jobState==="PROCESSING";)await fr(500),s=await R(Mn(t),r,u.REPO_ENDPOINT),n==null||n(s);if(s.jobState==="FAILED"){const i=await R(e,r,u.REPO_ENDPOINT);console.warn("SynapseClient.getAsyncResultFromJobId should have thrown an error, but instead retrieved the following response:",i)}return s},_e=async(t,e,r)=>(await an(t,e,r)).responseBody,mc=async(t,e,r)=>{const n=await I(pu(t.entityId),t,e,u.REPO_ENDPOINT);return an(n.token,gu(t.entityId,n.token),e,r)},Kr=async(t,e,r)=>{const n=await I(`/repo/v1/entity/${t.entityId}/table/query/async/start`,t,e,u.REPO_ENDPOINT,{signal:r});return _e(n.token,`/repo/v1/entity/${t.entityId}/table/query/async/get/${n.token}`,e)},vc=async(t,e=void 0,r)=>{let n=0;const{query:s,...i}=t,c={...i,query:{...s,offset:n,limit:void 0},partMask:t.partMask|Wi},l=await Kr(c,e,r);let m=l.queryResult.queryResults.rows.length<l.maxRowsPerPage;for(n+=l.queryResult.queryResults.rows.length,c.query.limit=l.maxRowsPerPage;!m;){c.query.offset=n;const g=await Kr(c,e,r);l.queryResult.queryResults.rows.push(...g.queryResult.queryResults.rows),m=g.queryResult.queryResults.rows.length<c.query.limit,n+=g.queryResult.queryResults.rows.length}return l};async function Tc(t,e,r,n=u.REPO_ENDPOINT){return ai(()=>I("/auth/v1/login2",{username:t,password:e,authenticationReceipt:r},void 0,n))}function Pc(t,e=u.REPO_ENDPOINT){return I("/auth/v1/2fa/token",t,void 0,e)}const Oc=(t,e,r,n=u.REPO_ENDPOINT)=>I("/auth/v1/oauth2/authurl",{provider:t,redirectUrl:e,state:r},void 0,n),gi=(t,e,r,n=u.REPO_ENDPOINT)=>ai(()=>I("/auth/v1/oauth2/session2",{provider:t,authenticationCode:e,redirectUrl:r},void 0,n));function _c(t){return R("/auth/v1/2fa",t,u.REPO_ENDPOINT)}function Rc(t){return te("/auth/v1/2fa",t,u.REPO_ENDPOINT)}function Ic(t){return I("/auth/v1/2fa/enroll",null,t,u.REPO_ENDPOINT)}function Ac(t,e){return I("/auth/v1/2fa",t,e,u.REPO_ENDPOINT)}function Sc(t){return I("/auth/v1/2fa/recoveryCodes",null,t,u.REPO_ENDPOINT)}const yi=(t,e)=>I(tu,t,e,u.REPO_ENDPOINT),bc=(t,e)=>yi({name:t,concreteType:"org.sagebionetworks.repo.model.Project"},e),Nc=t=>R(tn,t,u.REPO_ENDPOINT),Cc=(t,e)=>R(Ou(t),e,u.REPO_ENDPOINT),wc=(t,e,r)=>R(`${Pu(t)}?mask=${e}`,r,u.REPO_ENDPOINT),Dc=(t,e)=>R(`${vu}?mask=${t}`,e,u.REPO_ENDPOINT),Uc=(t,e=void 0)=>k("/repo/v1/userProfile",t,e,u.REPO_ENDPOINT),Lc=(t="",e=Ro.ALL,r=0,n=20)=>R(Js+`?prefix=${t}&typeFilter=${e}&offset=${r}&limit=${n}`,void 0,u.REPO_ENDPOINT),Fc=t=>I(`${Js}/aliases`,{list:t},void 0,u.REPO_ENDPOINT),xc=t=>R(Lu+`?ids=${t.join(",")}`,void 0,u.REPO_ENDPOINT),$c=async(t={},e)=>{const r=new URLSearchParams;t.accessType!=null&&r.set("accessType",t.accessType),t.activeOnly!=null&&r.set("activeOnly",t.activeOnly.toString()),t.evaluationIds!=null&&r.set("evaluationIds",t.evaluationIds.join(","));const n=(s,i)=>{r.set("limit",s.toString()),r.set("offset",i.toString());const c=`${nn}?${r.toString()}`;return R(c,e,u.REPO_ENDPOINT)};if(t.evaluationIds){const s=await tt(n);return{totalNumberOfResults:s.length,results:s}}return n(t.limit??20,t.offset??0)},Mc=(t,e=void 0)=>I(tn,{list:t},e,u.REPO_ENDPOINT),Kc=(t,e=void 0,r)=>I("/repo/v1/entity/children",t,e,u.REPO_ENDPOINT,{signal:r}),Bc=(t,e=void 0)=>I("/repo/v1/entity/child",t,e,u.REPO_ENDPOINT),Ei=(t,e=void 0)=>I(rc,t,e,u.REPO_ENDPOINT),Qc=async(t,e=void 0)=>{const r=await I("/file/v1/file/bulk/async/start",t,e,u.REPO_ENDPOINT);return _e(r.token,`/file/v1/file/bulk/async/get/${r.token}`,e)},qc=(t=void 0,e,r)=>{if(e.indexOf(".")>-1){const s=e.split(".");e=s[0],r=s[1]}const n=r?`/repo/v1/entity/${e}/version/${r}`:`/repo/v1/entity/${e}`;return R(n,t,u.REPO_ENDPOINT)},kc=(t,e)=>un(t.map(r=>({targetId:r})),e),un=(t,e)=>{const r=t.map(n=>{if(n.targetId.indexOf(".")>-1){const s=n.targetId.split(".");return{targetId:s[0],version:s[1]}}else return n});return I(cu,{references:r},e,u.REPO_ENDPOINT)},Vc=(t,e)=>At(()=>R(ru(t),e,u.REPO_ENDPOINT)),jc=async(t,e,r)=>(await un([{targetId:t,targetVersionNumber:e}],r)).results[0],Hc=(t,e=void 0)=>k(Hs(t.id),t,e,u.REPO_ENDPOINT),Wc=(t,e=void 0,r)=>{let n=`/repo/v1/entity/${t.id}`;return r&&(n+="?newVersion=true"),k(n,t,e,u.REPO_ENDPOINT)},Gc=(t=void 0,e)=>te(qe(e),t,u.REPO_ENDPOINT),Yc=(t,e,r,n)=>I(su(t,r),e,n,u.REPO_ENDPOINT);function cn(t){return lr[t]}const zc=(t,e,r="",n=lr.ENTITY)=>{const s=cn(n),i=`/repo/v1/${s==null?void 0:s.toLocaleLowerCase()}/${e}/wiki/${r}`;return R(i,t,u.REPO_ENDPOINT)};function Jc(t,e=0,r=200,n="NAME",s="ASC"){const i=new URLSearchParams;i.set("offset",e.toString()),i.set("limit",r.toString()),i.set("sort",n),i.set("sortDirection",s);const c=`${rn}?${i.toString()}`;return R(c,t,u.REPO_ENDPOINT)}function Xc(t,e){return I(`${rn}/${t}`,null,e,u.REPO_ENDPOINT)}const Zc=(t,e)=>te(`${rn}/${t}`,e,u.REPO_ENDPOINT),el=(t,e,r=0,n=200)=>{const s=`/repo/v1/challenge?participantId=${e}&offset=${r}&limit=${n}`;return R(s,t,u.REPO_ENDPOINT)},tl=(t,e)=>{const r=`/repo/v1//user/${t}/certifiedUserPassingRecord`;return R(r,e,u.REPO_ENDPOINT)},rl=(t,e,r=0,n=200)=>{const s=`/repo/v1/challenge/${e}/challengeTeam?&offset=${r}&limit=${n}`;return R(s,t,u.REPO_ENDPOINT)},nl=(t,e)=>tt((n,s)=>{const i=`/repo/v1/challenge/${e}/challengeTeam?&offset=${s}&limit=${n}`;return R(i,t,u.REPO_ENDPOINT)}),sl=(t,e,r=0,n=50)=>{const s=`/repo/v1/challenge/${e}/submissionTeams?&offset=${r}&limit=${n}`;return R(s,t,u.REPO_ENDPOINT)},il=(t,e,r)=>{const n=`/repo/v1/evaluation/${t}/team/${e}/submissionEligibility`;return R(n,r,u.REPO_ENDPOINT)},ol=(t,e)=>{const r=`/repo/v1/challenge/${String(t.challengeId)}/challengeTeam`;return I(r,t,e,u.REPO_ENDPOINT)},al=(t,e)=>{const r=`/repo/v1/entity/${t}/challenge`;return R(r,e,u.REPO_ENDPOINT)};function ul(t,e){return I("/repo/v1/team",t,e,u.REPO_ENDPOINT)}const cl=(t,e,r=0,n=200)=>{const s=`/repo/v1/user/${e}/team?offset=${r}&limit=${n}`;return R(s,t,u.REPO_ENDPOINT)},ll=(t,e)=>tt((n,s)=>{const i=`/repo/v1/team/${e}/accessRequirement?offset=${s}&limit=${n}`;return R(i,t,u.REPO_ENDPOINT)}),dl=(t,e,r="",n=10,s=0)=>{const i=`${Qu(e)}?limit=${n}&offset=${s}${r?`&fragment=${r}`:""}`;return R(i,t,u.REPO_ENDPOINT)},hl=t=>k(qu,t,void 0,u.REPO_ENDPOINT),fl=(t,e,r)=>k(ku(t,e),void 0,r,u.REPO_ENDPOINT);function mi(t,e){return R(`${L}/user/${t}/openInvitation`,e,u.REPO_ENDPOINT)}function pl(t,e){return tt(()=>mi(t,e))}function gl(t,e){return I(`${L}/membershipInvitation`,t,e,u.REPO_ENDPOINT)}const yl=t=>I(Vu(t.membershipInvitationId),t,void 0,u.REPO_ENDPOINT),El=(t,e)=>R(ju(t),e,u.REPO_ENDPOINT),ml=(t,e,r)=>k(Hu(e),t,r,u.REPO_ENDPOINT),vl=(t,e,r)=>{const n=on(t,e);return At(()=>R(n,r,u.REPO_ENDPOINT))},Tl=(t,e,r)=>{const n=`${on(t,e)}/membershipStatus`;return R(n,r,u.REPO_ENDPOINT)},Pl=(t,e)=>I("/repo/v1/membershipRequest",t,e,u.REPO_ENDPOINT),Ol=(t,e,r)=>te(`/repo/v1/team/${t}/member/${e}`,r,u.REPO_ENDPOINT),_l=(t,e)=>R(ei(t),e,u.REPO_ENDPOINT),Rl=(t,e)=>I("/repo/v1/teamList",{list:t},e,u.REPO_ENDPOINT),Il=(t,e)=>{const r=`/repo/v1/entity/${e}/wikikey`;return R(r,t,u.REPO_ENDPOINT)},Al=(t,e)=>{const r=Uu(e);return R(r,t,u.REPO_ENDPOINT)},Sl=(t,e,r,n=lr.ENTITY)=>{const i=`/repo/v1/${cn(n).toLocaleLowerCase()}/${e}/wiki2/${r}/attachmenthandles`;return R(i,t,u.REPO_ENDPOINT)},bl=(t,e,r)=>{const n=`/repo/v1/evaluation/${e}/wiki/${r}/attachmenthandles`;return R(n,t,u.REPO_ENDPOINT)},Nl=(t,e,r,n,s=lr.ENTITY)=>{const c=`/repo/v1/${cn(s).toLocaleLowerCase()}/${e}/wiki2/${r}/attachment?fileName=${n}&redirect=false`;return R(c,t,u.REPO_ENDPOINT)},Cl=()=>!!Lt.get(Gi),ln=async t=>{if(oi())t?Lt.set(_r,t,{maxAge:60*60*24*10,path:"/"}):(Lt.remove(_r,{path:"/"}),await fr(100));else return I("Portal/sessioncookie",{sessionToken:t},void 0,u.PORTAL_ENDPOINT,{credentials:"include"})},vi=async()=>oi()?Promise.resolve(Lt.get(_r)):R("Portal/sessioncookie?validate=true",void 0,u.PORTAL_ENDPOINT,{credentials:"include"}),wl=()=>Lt.get(Yi)==="true",Dl=(t,e)=>I("/repo/v1/principal/alias",e,t,u.REPO_ENDPOINT),Ul=async()=>{await ln(void 0)},Ll=(t,e,r)=>new Promise((n,s)=>{const i=Math.max(5242880,r.size/1e4),c={contentType:r.type,fileName:e,fileSizeBytes:r.size,partSizeBytes:i,storageLocationId:di};Ti(r).then(l=>{c.contentMD5Hex=l,Oi(t,e,r,c,n,s)})}),Ti=t=>new Promise((e,r)=>{const n=File.prototype.slice,s=t,i=2097152,c=Math.ceil(s.size/i),l=new Ba.ArrayBuffer,m=new FileReader;let g=0;m.onload=function(T){if(console.log("read chunk nr",g+1,"of",c),l.append(m.result),g++,g<c)E();else{console.log("finished loading");const v=l.end();console.info("computed hash",v),e(v)}},m.onerror=function(){console.warn("oops, something went wrong."),r(m.error)};const E=()=>{const T=g*i,v=T+i>=s.size?s.size:T+i;m.readAsArrayBuffer(n.call(s,T,v))};E()}),Pi=(t,e,r,n,s,i,c,l)=>{if(e.clientSidePartsState[t-1])return;const m=e.uploadId,g={uploadId:m,contentType:"application/octet-stream",partNumbers:[t]},E=`/file/v1/file/multipart/${m}/presigned/url/batch`;I(E,g,r,u.REPO_ENDPOINT).then(async T=>{const v=T.partPresignedUrls[0].uploadPresignedUrl,P=(t-1)*i.partSizeBytes;let A=t*i.partSizeBytes-1;A>=i.fileSizeBytes&&(A=i.fileSizeBytes-1);const w=s.slice(P,A+1,g.contentType);await Fl(v,w,g.contentType),Ti(w).then(O=>{const p=`/file/v1/file/multipart/${m}/add/${t}?partMD5Hex=${O}`;k(p,void 0,r,u.REPO_ENDPOINT).then(y=>{y.addPartState==="ADD_SUCCESS"?(e.clientSidePartsState[t-1]=!0,dn(e,n,r,c,l)):fr(1e3).then(()=>{Pi(t,e,r,n,s,i,c,l)})})})})},dn=(t,e,r,n,s)=>{if(t.clientSidePartsState.every(i=>i)){const i=`/file/v1/file/multipart/${t.uploadId}/complete`;k(i,void 0,r,u.REPO_ENDPOINT).then(c=>{n({fileHandleId:c.resultFileHandleId,fileName:e})}).catch(c=>{s(c)})}},Fl=async(t,e,r)=>{await fetch(t,{method:"PUT",headers:{"Content-Type":r},body:e})},Oi=(t,e,r,n,s,i)=>{I("/file/v1/file/multipart",n,t,u.REPO_ENDPOINT).then(l=>{const m=l.partsState.split("").map(g=>g==="1");l.clientSidePartsState=m;for(let g=0;g<m.length;g=g+1)m[g]||Pi(g+1,l,t,e,r,n,s,i);dn(l,e,t,s,i)}).catch(l=>{i(l)})},xl=(t,e)=>new Promise((r,n)=>{const s=fi(t,e),i=pi(t,e);Promise.all([s,i]).then(c=>{const l=c[0],m=c[1];return _i(l,m).then(g=>{r(g)})}).catch(c=>{n(c)})}),_i=(t,e,r=pc)=>new Promise((n,s)=>{t.contentSize<r?fetch(e,{method:"GET",mode:"cors",cache:"no-cache",headers:{"Content-Type":t.contentType}}).then(i=>{i.text().then(c=>{n(c)})}):s(`File size (${Bn(t.contentSize)}) exceeds the maximum size that can be downloaded (${Bn(r)})`)}),$l=(t,e,r,n,s)=>new Promise((i,c)=>{const l=[{associateObjectId:t.id,associateObjectType:Io.FileEntity,fileHandleId:t.dataFileHandleId}];Ei({includeFileHandles:r||!1,includePreSignedURLs:n||!1,includePreviewPreSignedURLs:s||!1,requestedFiles:l},e).then(g=>{g.requestedFiles.length&&g.requestedFiles[0].fileHandleId!==void 0?i(g.requestedFiles[0]):c(g.requestedFiles[0].failureCode)}).catch(g=>{c(g)})}),Ri=(t,e)=>I("/repo/v1/download/list/add",{batchToAdd:t},e,u.REPO_ENDPOINT),Ml=(t,e,r)=>Ri([{fileEntityId:t,versionNumber:e}],r),Kl=async(t,e)=>{const n=await I("/repo/v1/download/list/package/async/start",{zipFileName:t,includeManifest:!0,concreteType:"org.sagebionetworks.repo.model.download.DownloadListPackageRequest"},e,u.REPO_ENDPOINT);return _e(n.token,`/repo/v1/download/list/package/async/get/${n.token}`,e)},Bl=async(t=void 0)=>{const r=await I("/repo/v1/download/list/manifest/async/start",{csvTableDescriptor:{},concreteType:"org.sagebionetworks.repo.model.download.DownloadListManifestRequest"},t,u.REPO_ENDPOINT);return _e(r.token,`/repo/v1/download/list/manifest/async/get/${r.token}`,t)},Ql=async(t,e=void 0)=>{const r=await I("/repo/v1/download/list/add/async/start",t,e,u.REPO_ENDPOINT);return _e(r.token,`/repo/v1/download/list/add/async/get/${r.token}`,e)},ql=(t,e,r)=>I(`/repo/v1/entity/${t}/acl`,e,r,u.REPO_ENDPOINT),kl=(t,e,r,n)=>{let s=`/repo/v1/evaluation/submission?etag=${r}`;return n&&(s+=`&submissionEligibilityHash=${n}`),I(s,e,t,u.REPO_ENDPOINT)},Vl=(t,e)=>R(`/repo/v1/evaluation/${t}/permissions`,e,u.REPO_ENDPOINT),jl=(t,e)=>t?R(Zs(t),e,u.REPO_ENDPOINT):Promise.reject(new Error("evalId is empty")),Hl=(t,e)=>t.id?k(Zs(t.id),t,e,u.REPO_ENDPOINT):Promise.reject(new Error("evaluation does not have an ID")),Wl=(t,e)=>I(nn,t,e,u.REPO_ENDPOINT),Gl=(t,e)=>te(`/repo/v1/evaluation/${t}`,e,u.REPO_ENDPOINT),Yl=(t,e,r)=>R(`/repo/v1/evaluation/${t}/round/${e}`,r,u.REPO_ENDPOINT),zl=(t,e,r)=>I(`/repo/v1/evaluation/${t}/round/list`,e??{},r,u.REPO_ENDPOINT),Jl=(t,e)=>I(`/repo/v1/evaluation/${t.evaluationId}/round`,t,e,u.REPO_ENDPOINT),Xl=(t,e)=>k(`/repo/v1/evaluation/${t.evaluationId}/round/${t.id}`,t,e,u.REPO_ENDPOINT),Zl=(t,e,r)=>te(`/repo/v1/evaluation/${t}/round/${e}`,r,u.REPO_ENDPOINT),ed=(t,e)=>R(`/repo/v1/evaluation/submission/query?query=${encodeURI(t)}`,e,u.REPO_ENDPOINT),td=t=>I("/auth/v1/oauth2/description",t,void 0,u.REPO_ENDPOINT),rd=(t,e)=>I("/auth/v1/oauth2/consentcheck",t,e,u.REPO_ENDPOINT),nd=t=>R(`/auth/v1/oauth2/client/${t}`,void 0,u.REPO_ENDPOINT),sd=(t,e)=>R(`/auth/v1/oauth2/client${e?"?nextPageToken="+e:""}`,t,u.REPO_ENDPOINT),id=(t,e)=>I("/auth/v1/oauth2/client",t,e,u.REPO_ENDPOINT),od=(t,e)=>te(`/auth/v1/oauth2/client/${t}`,e,u.REPO_ENDPOINT),ad=(t,e)=>k(`/auth/v1/oauth2/client/${t.client_id}`,t,e,u.REPO_ENDPOINT),ud=(t,e)=>k(`/auth/v1/oauth2/client/${t.client_id}/verificationPrecheck`,t,e,u.REPO_ENDPOINT),cd=(t,e)=>I(`/auth/v1/oauth2/client/secret/${e}`,void 0,t,u.REPO_ENDPOINT),ld=async t=>R("/auth/v1/authenticatedOn",t,u.REPO_ENDPOINT),dd=(t,e)=>I("/auth/v1/oauth2/consent",t,e,u.REPO_ENDPOINT),hd=(t,e)=>I(`/repo/v1/form/group?name=${encodeURI(t)}`,void 0,e,u.REPO_ENDPOINT),fd=(t,e)=>R(`/repo/v1/form/group/${t}/acl`,e,u.REPO_ENDPOINT),pd=(t,e,r)=>k(`/repo/v1/form/group/${t}/acl`,e,r,u.REPO_ENDPOINT),gd=(t,e,r,n)=>{const s={name:e,fileHandleId:r};return I(`/repo/v1/form/data?groupId=${t}`,s,n,u.REPO_ENDPOINT)},yd=(t,e,r,n)=>{const s={name:e,fileHandleId:r};return k(`/repo/v1/form/data/${t}`,s,n,u.REPO_ENDPOINT)},Ed=(t,e)=>te(`/repo/v1/form/data/${t}`,e,u.REPO_ENDPOINT),md=(t,e)=>I(`/repo/v1/form/data/${t}/submit`,void 0,e,u.REPO_ENDPOINT),vd=(t,e)=>I("/repo/v1/form/data/list",t,e,u.REPO_ENDPOINT),Td=(t,e)=>I("/repo/v1/form/data/list/reviewer",t,e,u.REPO_ENDPOINT),Pd=(t,e)=>k(`/repo/v1/form/data/${t}/accept`,void 0,e,u.REPO_ENDPOINT),Od=(t,e,r)=>{const n={reason:e};return k(`/repo/v1/form/data/${t}/reject`,n,r,u.REPO_ENDPOINT)},_d=(t,e)=>I("/repo/v1/statistics",t,e,u.REPO_ENDPOINT),Rd=(t,e)=>I("/repo/v1/restrictionInformation",t,e,u.REPO_ENDPOINT),Id=(t,e,r=50,n=0)=>{const s=`${fu(e)}?limit=${r}&offset=${n}`;return R(s,t,u.REPO_ENDPOINT)},Ad=(t,e)=>R(Rt(e),t,u.REPO_ENDPOINT),Sd=(t,e)=>At(()=>R(wu(e),t,u.REPO_ENDPOINT)),bd=(t,e)=>I(Nu,e,t,u.REPO_ENDPOINT);function Nd(t,e){return R(Du(e),t,u.REPO_ENDPOINT)}const Cd=(t,e)=>tt((n,s)=>{const i=`/repo/v1/entity/${e}/accessRequirement?limit=${n}&offset=${s}`;return R(i,t,u.REPO_ENDPOINT)});function wd(t,e){return I(`/repo/v1/entity/${t}/lockAccessRequirement`,null,e,u.REPO_ENDPOINT)}const Dd=async(t,e)=>{const r=`${zu(e)}`;return R(r,t,u.REPO_ENDPOINT)},Ud=async(t,e)=>I(ni,e,t,u.REPO_ENDPOINT),Ld=t=>R("/file/v1/download/list",t,u.REPO_ENDPOINT),Fd=(t,e)=>{const r="/file/v1/download/order",n=t?`${r}?zipFileName=${t}`:r;return I(n,void 0,e,u.REPO_ENDPOINT)},tt=async t=>{let r=0,n=!0;const s=[];for(;n;)try{const i=await t(50,r);s.push(...i.results),r+=i.results.length,i.results.length<50&&(n=!1)}catch(i){throw Error(`Error on getting paginated results ${i}`)}return s};async function hn(t){let e=!0,r;const n=[];for(;e;)try{const s=await t(r);"results"in s?n.push(...s.results):"page"in s&&n.push(...s.page),r=s.nextPageToken,r||(e=!1)}catch(s){throw Error(`Error on getting paginated results ${s}`)}return n}const xd=(t,e)=>I("/file/v1/download/list/remove",{list:t},e,u.REPO_ENDPOINT).then(r=>(ii(r),r)),$d=t=>te("/file/v1/download/list",t,u.REPO_ENDPOINT).then(()=>{ii(void 0)}),Md=async(t,e=void 0)=>{const r=await I(`/repo/v1/entity/${t.entityId}/table/transaction/async/start`,t,e,u.REPO_ENDPOINT);return _e(r.token,`/repo/v1/entity/${t.entityId}/table/transaction/async/get/${r.token}`,e)},Kd=(t,e)=>I("/auth/v1/personalAccessToken",t,e,u.REPO_ENDPOINT),Bd=(t,e)=>R(`/auth/v1/personalAccessToken${e?"?nextPageToken="+e:""}`,t,u.REPO_ENDPOINT),Qd=(t,e)=>te(`/auth/v1/personalAccessToken/${t}`,e,u.REPO_ENDPOINT),qd=(t,e={})=>{const r=new URLSearchParams(gr(e));return R(`${nc}?${r.toString()}`,t,u.REPO_ENDPOINT)},kd=(t,e={},r)=>{const n=new URLSearchParams(gr(e));return R(`/repo/v1/projects/user/${t}?${n.toString()}`,r,u.REPO_ENDPOINT)},Vd=(t,e)=>R(Hs(t),e,u.REPO_ENDPOINT),jd=(t,e={},r)=>{const n=new URLSearchParams(gr(e));return tt((i,c)=>{const l=`${ou(t)}?offset=${c}&limit=${i}&${n.toString()}`;return R(l,r,u.REPO_ENDPOINT)})},Hd=(t,e)=>R(uu(t),e,u.REPO_ENDPOINT),Wd=(t,e)=>R(au(t),e,u.REPO_ENDPOINT),Gd=(t,e,r=0,n=200)=>R(`/repo/v1/entity/${t}/version?offset=${r}&limit=${n}`,e,u.REPO_ENDPOINT),Yd=(t,e)=>I("/repo/v1/search",t,e,u.REPO_ENDPOINT);async function fn(t,e){const n=await I("/repo/v1/download/list/query/async/start",{concreteType:"org.sagebionetworks.repo.model.download.DownloadListQueryRequest",requestDetails:e},t,u.REPO_ENDPOINT);return(await _e(n.token,`/repo/v1/download/list/query/async/get/${n.token}`,t)).responseDetails}const zd=t=>te("/repo/v1/download/list",t,u.REPO_ENDPOINT),Jd=(t,e=void 0)=>fn(e,t),Xd=(t=void 0)=>fn(t,{concreteType:"org.sagebionetworks.repo.model.download.FilesStatisticsRequest"}),Ii=(t,e=void 0)=>fn(e,t),Zd=(t,e=void 0)=>hn(()=>Ii(t,e)),eh=(t,e=void 0)=>I("/repo/v1/download/list/remove",{batchToRemove:[t]},e,u.REPO_ENDPOINT),th=(t,e)=>I(Zu,t,e,u.REPO_ENDPOINT),rh=(t,e)=>R(ec(t),e,u.REPO_ENDPOINT),nh=(t,e)=>R(Xu(t),e,u.REPO_ENDPOINT);function sh(t,e){return I(si,t,e,u.REPO_ENDPOINT)}const ih=(t,e)=>I(Ju(t.requestId),t,e,u.REPO_ENDPOINT),oh=(t,e)=>k(`/repo/v1/dataAccessSubmission/${t}/cancellation`,void 0,e,u.REPO_ENDPOINT),ah=(t,e)=>R(Xs(t),e,u.REPO_ENDPOINT),uh=(t,e)=>k(Xs(t.submissionId),t,e,u.REPO_ENDPOINT),ch=(t,e)=>At(()=>R(du(t),e,u.REPO_ENDPOINT)),lh=(t,e)=>R(hu(t),e,u.REPO_ENDPOINT),dh=t=>R(`${yu(t)}`,void 0,u.REPO_ENDPOINT),hh=async(t,e)=>{const r=await I(Eu,{concreteType:"org.sagebionetworks.repo.model.schema.GetValidationSchemaRequest",$id:t},e,u.REPO_ENDPOINT);return _e(r.token,mu(r.token),e)},fh=(t,e,r)=>R(`${iu(t)}?accessType=${e}`,r,u.REPO_ENDPOINT),ph=(t,e,r,n)=>{const s=new URLSearchParams;s.set("includeDerivedAnnotations",String(r));const i=e?lu(t,e):Ws(t);return R(`${i}?${s.toString()}`,n,u.REPO_ENDPOINT)},gh=(t,e,r)=>k(Ws(t),e,r,u.REPO_ENDPOINT),yh=t=>R(_u,t,u.REPO_ENDPOINT),Eh=(t,e)=>I(Ru,t,e,u.REPO_ENDPOINT),mh=(t,e)=>I(Iu(e),t,void 0,u.REPO_ENDPOINT),vh=t=>I(Au,t,void 0,u.REPO_ENDPOINT),Ai=(t,e,r,n,s=u.REPO_ENDPOINT)=>I("/auth/v1/oauth2/account2",{provider:e,authenticationCode:r,redirectUrl:n,userName:t},void 0,s),Si=async(t,e,r,n=u.REPO_ENDPOINT)=>{const s=await vi();return I("/auth/v1/oauth2/alias",{provider:t,authenticationCode:e,redirectUrl:r},s,n)},Th=async(t,e,r)=>{const n=`/auth/v1/oauth2/alias?provider=${t}&alias=${encodeURIComponent(r)}`;return te(n,e,u.REPO_ENDPOINT)},Ph=t=>I(Su,{accessToken:t},void 0,u.REPO_ENDPOINT),Oh=(t,e)=>I(bu,t,e,u.REPO_ENDPOINT),_h=(t,e)=>I("/auth/v1/user/changePassword",t,e,u.REPO_ENDPOINT),Rh=t=>I("/auth/v1/user/changePassword",t,void 0,u.REPO_ENDPOINT),Ih=t=>{const e=window.location.href+"?passwordResetToken=",r=`/auth/v1/user/password/reset?passwordResetEndpoint=${encodeURIComponent(e)}`;return I(r,{email:t},void 0,u.REPO_ENDPOINT)},Ah=(t,e,r,n)=>I(`/repo/v1/account/${e}/emailValidation?portalEndpoint=${r}`,{email:t},n,u.REPO_ENDPOINT),Sh=(t,e)=>I("/repo/v1/email",t,e,u.REPO_ENDPOINT),bh=(t,e)=>te(`/repo/v1/email?email=${e}`,t,u.REPO_ENDPOINT),Nh=(t,e)=>k("/repo/v1/notificationEmail",{email:t},e,u.REPO_ENDPOINT),Ch=(t,e)=>R(`/repo/v1/project/${t}/forum`,e,u.REPO_ENDPOINT),wh=(t,e)=>R(`/repo/v1/reply/${t}`,e,u.REPO_ENDPOINT),Dh=(t,e)=>I("/repo/v1/reply",t,e,u.REPO_ENDPOINT),Uh=(t,e)=>k(`/repo/v1/reply/${t.replyId}/message`,{messageMarkdown:t.messageMarkdown},e,u.REPO_ENDPOINT),Lh=(t,e)=>te(`/repo/v1/reply/${e}`,t,u.REPO_ENDPOINT),Fh=(t,e,r=30,n=0,s=Ao.CREATED_ON,i=!0,c=ws.EXCLUDE_DELETED)=>{const l=new URLSearchParams;l.set("offset",n.toString()),l.set("limit",r.toString()),l.set("sort",s),l.set("ascending",i.toString()),l.set("filter",c);const m=`${It}/${e}/replies?${l.toString()}`;return R(m,t,u.REPO_ENDPOINT)},xh=(t,e)=>R(`/repo/v1/reply/messageUrl?messageKey=${t}`,e,u.REPO_ENDPOINT),$h=(t,e)=>k(`${Yt(e)}/pin`,void 0,t,u.REPO_ENDPOINT),Mh=(t,e)=>k(`${Yt(e)}/unpin`,void 0,t,u.REPO_ENDPOINT),Kh=(t,e)=>R(Yt(t),e,u.REPO_ENDPOINT),Bh=(t,e)=>R(`${It}/messageUrl?messageKey=${t}`,e,u.REPO_ENDPOINT),Qh=(t,e)=>I(It,e,t,u.REPO_ENDPOINT),qh=(t,e)=>k(`${It}/${e.threadId}/title`,{title:e.title},t,u.REPO_ENDPOINT),kh=(t,e)=>k(`${It}/${e.threadId}/message`,{messageMarkdown:e.messageMarkdown},t,u.REPO_ENDPOINT),Vh=(t,e)=>te(Yt(e),t,u.REPO_ENDPOINT),jh=(t,e)=>k(`${Yt(e)}/restore`,void 0,t,u.REPO_ENDPOINT),Hh=(t,e,r=20,n=0)=>{const s=new URLSearchParams;return s.set("offset",n.toString()),s.set("limit",r.toString()),R(`${hr}/${e}/moderators?${s.toString()}`,t,u.REPO_ENDPOINT)},Wh=(t,e)=>R(`${hr}/${e}`,t,u.REPO_ENDPOINT),Gh=(t,e,r)=>I(`${hr}/${e}/search`,t,r,u.REPO_ENDPOINT),Yh=(t,e,r=0,n=20,s=So.PINNED_AND_LAST_ACTIVITY,i=!0,c=ws.EXCLUDE_DELETED)=>{const l=new URLSearchParams;l.set("offset",r.toString()),l.set("limit",n.toString()),l.set("sort",s),l.set("ascending",i.toString()),l.set("filter",c);const m=`${Wu(e)}?${l.toString()}`;return R(m,t,u.REPO_ENDPOINT)},zh=(t,e)=>I("/repo/v1/accessApproval/search",t,e,u.REPO_ENDPOINT),Jh=(t,e)=>I(Cu,t,e,u.REPO_ENDPOINT),Xh=(t,e)=>I(xu(t.accessRequirementId),t,e,u.REPO_ENDPOINT),Zh=(t,e,r)=>{const n=$u(t,e?`${e}`:void 0);return R(n,r,u.REPO_ENDPOINT)};function ef(t){return At(()=>R(Fu(t)+"?redirect=false",void 0,u.REPO_ENDPOINT))}function tf(t,e=0,r=25){return R(Mu+`?offset=${e}&limit=${r}`,t,u.REPO_ENDPOINT)}function rf(t,e){return k(Ku(t),void 0,e,u.REPO_ENDPOINT)}function nf(t,e){return k(Bu(t),void 0,e,u.REPO_ENDPOINT)}function sf(t){return R("/repo/v1/certifiedUserTest",t,u.REPO_ENDPOINT)}function of(t,e){return I("/repo/v1/certifiedUserTestResponse",e,t,u.REPO_ENDPOINT)}const pn="https://s3.amazonaws.com/geoloc.sagebase.org/",af=pn+"allPoints.json",uf=pn+"googlemap.txt";async function cf(){return await(await fetch(uf)).text()}async function lf(){return await(await fetch(af)).json()}async function df(t){const e=await fetch(`${pn}${t}.json`);return e.status==200?await e.json():[]}function hf(t,e=100,r=0,n){const s=new URLSearchParams;return s.set("limit",e.toString()),s.set("offset",r.toString()),s.set("objectType",n.objectType),n.sortBy&&s.set("sortBy",n.sortBy),n.sortDirection&&s.set("sortDirection",n.sortDirection),R(`/repo/v1/subscription/all?${s.toString()}`,t,u.REPO_ENDPOINT)}function ff(t,e){return R(`/repo/v1/subscription/${e}`,t,u.REPO_ENDPOINT)}function pf(t,e){return I("/repo/v1/subscription/subscribers",e,t,u.REPO_ENDPOINT)}function gf(t,e){return I("/repo/v1/subscription",e,t,u.REPO_ENDPOINT)}function yf(t,e){return te(`/repo/v1/subscription/${e}`,t,u.REPO_ENDPOINT)}function Ef(t,e){return I("/repo/v1/subscription/list",e,t,u.REPO_ENDPOINT)}function mf(t,e){return R(`/file/v1/entity/${t}/uploadDestination`,e,u.REPO_ENDPOINT)}function vf(t,e,r){return R(`/file/v1/entity/${t}/uploadDestination/${e}`,r,u.REPO_ENDPOINT)}function Tf(t,e,r,n="ENTITY"){const s=new URLSearchParams;return s.set("type",n),s.set("id",e),r&&s.set("type",r.toString()),At(()=>R(`${Yu}?${s.toString()}`,t,u.REPO_ENDPOINT))}function Pf(t,e,r){const n=new URLSearchParams;return n.set("fileHandleId",t),e&&r&&(n.set("associatedObjectId",e),n.set("associatedObjectType",r.toString())),`${Pt(u.PORTAL_ENDPOINT)}/Portal/filehandleassociation?${n.toString()}`}const Of=(t,e)=>R(sc(t),e,u.REPO_ENDPOINT),_f=(t,e,r=0,n=20,s=bo.CREATED_ON,i=No.DESC)=>{const c=new URLSearchParams;return c.set("offset",r.toString()),c.set("limit",n.toString()),c.set("sort",s),c.set("sortDirection",i),R(`/repo/v1/entity/${t}/dockerTag?${c.toString()}`,e,u.REPO_ENDPOINT)};function Rf(t,e,r){const n=new URLSearchParams;return r&&n.set("nextPageToken",r),R(`/repo/v1/accessRequirement/${e}/subjects?${n.toString()}`,t,u.REPO_ENDPOINT)}function If(t,e){return I("/repo/v1/column/batch",{list:e.map(r=>({...r,concreteType:"org.sagebionetworks.repo.model.table.ColumnModel"})),concreteType:"org.sagebionetworks.repo.model.ListWrapper"},t,u.REPO_ENDPOINT)}function Af(t,e){const r=new URLSearchParams;return t!=null&&r.set("viewEntityType",t),e!=null&&r.set("viewTypeMask",e.toString()),R(`/repo/v1/column/tableview/defaults?${r.toString()}`,void 0,u.REPO_ENDPOINT)}async function Sf(t,e=void 0){return hn(async n=>{t.nextPageToken=n;const s=await I("/repo/v1/column/view/scope/async/start",t,e,u.REPO_ENDPOINT);return _e(s.token,`/repo/v1/column/view/scope/async/get/${s.token}`,e)})}const bf=["DM Sans","sans-serif"].join(","),Nf=["Menlo","Courier New","Courier","monospace"].join(","),z={fontStyle:"normal",letterSpacing:"0px"},Cf=t=>({fontFamily:bf,headline1:{...z,fontSize:"24px",fontWeight:700,lineHeight:"28px"},headline2:{...z,fontSize:"20px",fontWeight:400,lineHeight:"24px"},headline3:{...z,fontSize:"18px",fontWeight:700,lineHeight:"20px"},body1:{...z,fontSize:"16px",fontWeight:400,lineHeight:"24px"},body1Italic:{...z,fontSize:"16px",fontWeight:400,lineHeight:"24px",fontStyle:"italic"},body2:{...z,fontSize:"12px",fontWeight:400,lineHeight:"24px"},breadcrumb1:{...z,fontSize:"14px",fontWeight:400,lineHeight:"16px"},breadcrumb2:{...z,fontSize:"14px",fontWeight:700,lineHeight:"16px"},smallText1:{...z,fontSize:"14px",fontWeight:400,lineHeight:"16px"},smallText2:{...z,fontSize:"14px",fontWeight:700,lineHeight:"16px"},smallLink:{...z,fontSize:"14px",fontWeight:900,lineHeight:"16px"},label:{...z,fontSize:"14px",fontWeight:700,lineHeight:"16px"},buttonLink:{...z,fontSize:"16px",fontWeight:900,lineHeight:"20px"},hintText:{...z,fontSize:"16px",fontWeight:400,lineHeight:"24px"},sectionTitle:{...z,fontSize:"21px",fontWeight:700,lineHeight:"25px",textTransform:"uppercase"},subsectionHeader:{...z,fontSize:"18px",fontWeight:700,lineHeight:"21px"},dataFieldKey:{...z,fontSize:"14px",fontWeight:400,lineHeight:"16px",color:t.grey[700],textTransform:"uppercase"},monospace:{...z,fontFamily:Nf,fontSize:"13px"}}),B=(t,e)=>({100:fe(t).desaturate(25).lighten(50).toString(),200:fe(t).desaturate(13).lighten(20).toString(),300:fe(t).desaturate(3).lighten(10).toString(),400:fe(t).desaturate(1).lighten(5).toString(),500:fe(t).toString(),600:fe(t).saturate(5).darken(4).toString(),700:fe(t).saturate(11).darken(8).toString(),800:fe(t).saturate(18).darken(10).toString(),900:fe(t).saturate(24).darken(18).toString(),light:e&&400 in e&&e[400]||fe(t).desaturate(1).lighten(5).toString(),main:fe(t).toString(),dark:e&&600 in e&&e[600]||fe(t).saturate(5).darken(4).toString(),contrastText:"#fff",...e}),se={primary:B("#395979",{100:"#d7dee4",200:"#b0bdc9",300:"#889baf",400:"#617a94",500:"#395979",600:"#2e4761",700:"#223549",800:"#172430",900:"#0b1218"}),secondary:B("#469285",{100:"#dae9e7",200:"#b5d3ce",300:"#90beb6",400:"#6ba89d",500:"#469285",600:"#38756a",700:"#2a6960",800:"#1c3a35",900:"#0e1d1b"}),tertiary:B("#EDC766",{100:"#fbf4e0",200:"#f8e9c2",300:"#f4dda3",400:"#f1d285",500:"#edc766",600:"#be9f52",700:"#8e773d",800:"#5f5029",900:"#2f2814"}),grey:{1e3:"#22252a",900:"#353a3f",800:"#4a5056",700:"#878e95",600:"#aeb5bc",500:"#d0d4d9",400:"#dfe2e6",300:"#eaecee",200:"#f1f3f5",100:"#fbfbfc"},neutral:B("#878e95"),darkPrimary:B("#164B6E"),lightPrimary:{...B("#f8f9fa"),contrastText:"#164B6E"},light:{...B("#f8f9fa"),contrastText:"#22252a"},success:{main:"#32a330"},info:{main:"#017fa5"},warning:{main:"#cc9f00"},error:{main:"#c13415"},text:{primary:"#353a3f",secondary:"#4a5056"},contrastThreshold:4.5},xg={...se,primary:B("#4F527D"),secondary:B("#9499C7")},$g={...se,primary:B("#e79776"),secondary:B("#e79776")},Mg={...se,primary:B("#4d5491"),secondary:B("#2f8e94")},Kg={...se,primary:B("#39AC97"),secondary:B("#39AC97")},Bg={...se,primary:{...B("#125e81"),contrastText:"#fff"},secondary:{...B("#404b63"),contrastText:"#fff"}},Qg={...se,primary:B("#00255c"),secondary:B("#2699a7")},qg={...se,primary:B("#00565e"),secondary:B("#f7a700")},kg={...se,primary:B("#4d5491"),secondary:B("#4d5491")},Vg={...se,primary:B("#3e7293"),secondary:B("#164767")},jg={...se,primary:B("#0085ff"),secondary:B("#0085ff")},Hg={...se,primary:B("#38568e"),secondary:B("#47337d")},Wg={...se,primary:B("#24AB9F"),secondary:B("#F5B33C")};({...se,primary:B("#407BA0"),secondary:B("#407BA0")});const Gg={...se,primary:B("#5F6870"),secondary:B("#4CB848")},wf={defaultProps:{underline:"always"},styleOverrides:{root:({theme:t})=>({fontWeight:700,letterSpacing:"0.5px","&:hover":{color:t.palette.primary.main}}),underlineAlways:({theme:t})=>({textDecoration:"underline",textUnderlineOffset:"4px",textDecorationThickness:"1px",textDecorationColor:t.palette.grey[600],"&:hover":{textDecorationColor:t.palette.primary.main,textDecorationThickness:"2px"}}),underlineHover:{"&:hover":{textUnderlineOffset:"4px",textDecorationThickness:"2px"}}}},Ue="2px",Qn=to,bi={typography:Cf,palette:se,components:{MuiAlert:{defaultProps:{square:!0,iconMapping:{error:U.jsx(ia,{}),info:U.jsx(Xi,{}),success:U.jsx(Zi,{}),warning:U.jsx(sa,{})}},styleOverrides:{root:({ownerState:t,theme:e})=>({alignItems:"center",fontSize:"14px",borderLeft:`10px solid ${e.palette[t.severity||"success"].main}`,color:e.palette.text.primary}),icon:({theme:t})=>({marginRight:t.spacing(3)}),action:({ownerState:t,theme:e})=>({paddingRight:e.spacing(2),...t.onClose&&!t.action&&{color:e.palette.grey[700]}}),standardSuccess:({theme:t})=>({backgroundColor:Xt(t.palette.success.light,.8)}),standardError:({theme:t})=>({backgroundColor:Xt(t.palette.error.light,.8)}),standardWarning:({theme:t})=>({backgroundColor:Xt(t.palette.warning.light,.8)}),standardInfo:({theme:t})=>({backgroundColor:Xt(t.palette.info.light,.8)})}},MuiAlertTitle:{styleOverrides:{root:({theme:t})=>({color:t.palette.text.primary,fontSize:"14px",fontWeight:700})}},MuiLink:wf,MuiButtonBase:{defaultProps:{disableRipple:!0}},MuiButton:{styleOverrides:{root:{fontWeight:900,padding:"6px 12px",borderRadius:"3px",textTransform:"capitalize","&:hover":{transition:"0.2s"}},contained:({theme:t,ownerState:e})=>({"&:hover, &:visited":{color:e.color==="inherit"?e.color:t.palette[e.color||"primary"].contrastText}}),outlined:({theme:t,ownerState:e})=>({"&:hover, &:visited":{color:e.color==="inherit"?e.color:t.palette[e.color||"primary"].dark}}),text:({theme:t,ownerState:e})=>({"&:hover":{textDecoration:"underline",textUnderlineOffset:"4px",textDecorationColor:e.color==="inherit"?e.color:t.palette[e.color||"primary"].main,textDecorationThickness:"2px"},"&:hover, &:visited":{color:e.color==="inherit"?e.color:t.palette[e.color||"primary"].main}})}},MuiCard:{styleOverrides:{root:{border:"1px solid rgba(0, 0, 0, 0.05)",boxShadow:"0px 16px 16px rgba(0, 0, 0, 0.05), 0px 4px 4px rgba(0, 0, 0, 0.05), 0px 1px 1px rgba(0, 0, 0, 0.05)"}},defaultProps:{square:!0}},MuiCheckbox:{defaultProps:{color:"secondary"}},MuiDialog:{defaultProps:{PaperProps:{sx:t=>({borderRadius:"0px",padding:t.spacing(5.5),alignSelf:"flex-start"})}}},MuiDialogTitle:{styleOverrides:{root:({theme:t})=>({fontSize:"24px",fontWeight:700,paddingLeft:"0px",paddingRight:"0px",paddingBottom:t.spacing(3)})}},MuiDialogContent:{defaultProps:{dividers:!0},styleOverrides:{root:({ownerState:t,theme:e})=>({color:e.palette.text.secondary,paddingTop:t.dividers?e.spacing(3):0,paddingBottom:t.dividers?e.spacing(3):0,paddingLeft:Ue,paddingRight:Ue,marginLeft:`-${Ue}`,marginRight:`-${Ue}`,borderImage:t.dividers?`linear-gradient(to right, transparent 0px, transparent ${Ue}, ${e.palette.grey[400]} ${Ue}, ${e.palette.grey[400]} calc(100% - ${Ue}), transparent calc(100% - ${Ue})) 1`:void 0})}},MuiDialogActions:{styleOverrides:{root:({theme:t})=>({paddingLeft:"0px",paddingRight:"0px",paddingTop:t.spacing(3),"& .MuiButton-root":{height:"36px",padding:"0px 16px"}})}},MuiFormHelperText:{styleOverrides:{root:({theme:t})=>({marginLeft:"0","&.Mui-error":{color:t.palette.error.main}})}},MuiInputBase:{styleOverrides:{root:({theme:t,ownerState:e})=>{const r=e.error||e.focused;let n="none";r&&(e.error?n=`1px solid ${t.palette.error.main}`:e.color&&(n=`1px solid ${t.palette[e.color].main}`));const s=e.color==="warning"?t.palette[e.color].main:void 0;return{borderRadius:"3px",fontSize:"14px",position:"relative",backgroundColor:t.palette.grey[200],outline:n,"&+.MuiFormHelperText-root":{color:s},"&.Mui-disabled":{backgroundColor:t.palette.grey[100]},"&.Mui-focused":{boxShadow:`${oo(t.palette.primary.main,.25)} 0 0 0 0.1rem`},"& fieldset":{border:"none"}}},input:({theme:t})=>({padding:"14px 12px"}),multiline:{padding:"0px"}}},MuiInputLabel:{defaultProps:{shrink:!0},styleOverrides:{root:({theme:t})=>({fontWeight:700,mb:"4px",fontSize:"14px",transform:"none"})}},MuiTextField:{styleOverrides:{root:({theme:t,ownerState:e})=>({[`& .${eo.root}`]:{marginTop:e.label&&t.spacing(3)}})}},MuiMenu:{defaultProps:{TransitionComponent:Qn}},MuiMenuItem:{styleOverrides:{root:{height:"38px",paddingLeft:"12px",paddingRight:"12px"}}},MuiTab:{styleOverrides:{root:{fontWeight:900,textTransform:"capitalize"}}},MuiTooltip:{defaultProps:{arrow:!0,TransitionComponent:Qn},styleOverrides:{arrow:({theme:t})=>({color:t.palette.common.black}),tooltip:({theme:t})=>({fontSize:"14px",borderRadius:"2px",backgroundColor:t.palette.common.black,"& .MuiLink-root":{color:"#fff"}})}},MuiTypography:{defaultProps:{variantMapping:{headline1:"p",headline2:"p",headline3:"p",body1:"p",body1Italic:"p",body2:"p",breadcrumb1:"span",breadcrumb2:"span",smallText1:"p",smallText2:"p",smallLink:"span",label:"span",buttonLink:"span",hintText:"p",sectionTitle:"p",subsectionHeader:"p",dataFieldKey:"p"}}}},styledBackground:"url('https://s3.amazonaws.com/static.synapse.org/images/SynapseLoginPageBackground.svg')"};function Df(t){return ao(bi,t)}const Br=({theme:t=bi,children:e})=>{const r=K.useMemo(()=>Df(t),[t]),n=uo(r);return U.jsx(Vo,{injectFirst:!0,children:U.jsx(Xo,{theme:n,children:e})})};try{Br.displayName="ThemeProvider",Br.__docgenInfo={description:"",displayName:"ThemeProvider",props:{theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"ThemeOptions"}}}}}catch{}var Uf=function(e,r){return e===void 0&&(e=[]),r===void 0&&(r=[]),e.length!==r.length||e.some(function(n,s){return!Object.is(n,r[s])})},qn={error:null},Lf=function(t){we(e,t);function e(){for(var n,s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return n=t.call.apply(t,[this].concat(i))||this,n.state=qn,n.resetErrorBoundary=function(){for(var l,m=arguments.length,g=new Array(m),E=0;E<m;E++)g[E]=arguments[E];n.props.onReset==null||(l=n.props).onReset.apply(l,g),n.reset()},n}e.getDerivedStateFromError=function(s){return{error:s}};var r=e.prototype;return r.reset=function(){this.setState(qn)},r.componentDidCatch=function(s,i){var c,l;(c=(l=this.props).onError)==null||c.call(l,s,i)},r.componentDidUpdate=function(s,i){var c=this.state.error,l=this.props.resetKeys;if(c!==null&&i.error!==null&&Uf(s.resetKeys,l)){var m,g;(m=(g=this.props).onResetKeysChange)==null||m.call(g,s.resetKeys,l),this.reset()}},r.render=function(){var s=this.state.error,i=this.props,c=i.fallbackRender,l=i.FallbackComponent,m=i.fallback;if(s!==null){var g={error:s,resetErrorBoundary:this.resetErrorBoundary};if(K.isValidElement(m))return m;if(typeof c=="function")return c(g);if(l)return K.createElement(l,g);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},e}(K.Component);function Yg(t){var e=K.useState(null),r=e[0],n=e[1];if(t!=null)throw t;if(r!=null)throw r;return n}function Ff(t){const{accessToken:e,keyFactory:r}=De();return _t({...t,queryKey:r.getNotificationEmailQueryKey(),queryFn:()=>oe.getNotificationEmail(e)})}function xf(t){const{accessToken:e,keyFactory:r}=De(),n=r.getCurrentUserProfileQueryKey();return _t({...t,queryKey:n,queryFn:()=>oe.getUserProfile(e)})}const Ni=gs|ys|Es|ms|vs|Ts|Ps;function zg(t,e=Ni,r){const{accessToken:n,keyFactory:s}=De(),i=s.getUserBundleQueryKey(t,e);return _t({...r,queryKey:i,queryFn:()=>oe.getUserBundle(t,e,n)})}function $f(t=Ni,e){const{accessToken:r,keyFactory:n}=De(),s=n.getUserBundleQueryKey("current",t);return _t({...e,queryKey:s,queryFn:()=>oe.getMyUserBundle(t,r)})}function Jg(t,e){const{accessToken:r,keyFactory:n}=De(),s=n.getUserProfileQueryKey(t),i=`${t}_USER_PROFILE`,c=sessionStorage.getItem(i);return _t({...e,queryKey:s,queryFn:async()=>{const l=await oe.getUserProfileById(t,r);return sessionStorage.setItem(i,JSON.stringify(l)),l},placeholderData:c?JSON.parse(c):e==null?void 0:e.placeholderData})}function Xg(t,e){const{accessToken:r,keyFactory:n}=De(),s=n.getPrincipalAliasQueryKey(t);return _t({...e,queryKey:s,queryFn:async()=>(await oe.getPrincipalAliasRequest(r,t)).principalId})}function Zg(){return $f(void 0,{select:t=>t.isACTMember})}const Mf={SWC:"https://sagebionetworks.jira.com/s/d41d8cd98f00b204e9800998ecf8427e-T/-bhcm7i/b/6/e73395c53c3b10fde2303f4bf74ffbf6/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-US&collectorId=ddc881b3","Flagged Content":"https://sagebionetworks.jira.com/s/d41d8cd98f00b204e9800998ecf8427e-T/g39zuk/b/41/e73395c53c3b10fde2303f4bf74ffbf6/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-US&collectorId=d0abcfa9","Request Access":"https://sagebionetworks.jira.com/s/d41d8cd98f00b204e9800998ecf8427e-T/-2rg9hj/b/25/e73395c53c3b10fde2303f4bf74ffbf6/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-US&collectorId=bd4dc1e5"};function Qr(t){const{issueCollector:e,issueSummary:r,issueDescription:n,principalId:s,userDisplayName:i,userEmailAddress:c,synapseDataObjectId:l,componentId:m,accessRequirementId:g,issuePriority:E}=t;try{if(window.jQuery==null)throw new Error("jQuery is not present. Jira Issue Collector will not be shown.");window.jQuery.ajax({url:Mf[e],type:"get",cache:!0,dataType:"script"}),window.ATL_JQ_PAGE_PROPS={triggerFunction:function(T){T()},fieldValues:{summary:r,description:n,priority:E,customfield_10840:c,email:c,customfield_10841:g,customfield_10740:s,customfield_10741:i,customfield_10742:l,fullname:i,components:m}}}catch(T){console.error(T)}}function qr(t){const{show:e,issueCollector:r,issueSummary:n,issueDescription:s,issuePriority:i,accessRequirementId:c,synapseDataObjectId:l,componentId:m}=t,{accessToken:g}=De(),{data:E,isLoading:T}=xf({enabled:!!g}),{data:v,isLoading:P}=Ff({enabled:!!g});K.useEffect(()=>{e&&g?E&&v?Qr({issueCollector:r,issueSummary:n,issueDescription:s,synapseDataObjectId:l,componentId:m,accessRequirementId:c,issuePriority:i,principalId:E.ownerId,userDisplayName:E.displayName,userEmailAddress:v.email}):console.warn("Fetching profile data to display Jira popup"):e&&!g&&console.error("User not logged in, not showing Jira popup")},[e,g,T,P])}try{Qr.displayName="showJiraIssueCollector",Qr.__docgenInfo={description:"Shows the Jira issue collector when invoked.",displayName:"showJiraIssueCollector",props:{issueCollector:{defaultValue:null,description:"",name:"issueCollector",required:!0,type:{name:"enum",value:[{value:'"SWC"'},{value:'"Flagged Content"'},{value:'"Request Access"'}]}},issueSummary:{defaultValue:null,description:"",name:"issueSummary",required:!0,type:{name:"string"}},issueDescription:{defaultValue:null,description:"",name:"issueDescription",required:!0,type:{name:"string"}},issuePriority:{defaultValue:null,description:"",name:"issuePriority",required:!0,type:{name:"enum",value:[{value:'"1"'},{value:'"2"'},{value:'"3"'},{value:'"4"'},{value:'"5"'}]}},accessRequirementId:{defaultValue:null,description:"",name:"accessRequirementId",required:!1,type:{name:"string"}},synapseDataObjectId:{defaultValue:null,description:"",name:"synapseDataObjectId",required:!1,type:{name:"string"}},componentId:{defaultValue:null,description:"",name:"componentId",required:!1,type:{name:"string"}},principalId:{defaultValue:null,description:"",name:"principalId",required:!0,type:{name:"string"}},userDisplayName:{defaultValue:null,description:"",name:"userDisplayName",required:!1,type:{name:"string"}},userEmailAddress:{defaultValue:null,description:"",name:"userEmailAddress",required:!1,type:{name:"string"}}}}}catch{}try{qr.displayName="useJiraIssueCollector",qr.__docgenInfo={description:"Hook used to show the Jira issue collector within Synapse. The collector will only be shown if the user is logged in.",displayName:"useJiraIssueCollector",props:{accessRequirementId:{defaultValue:null,description:"",name:"accessRequirementId",required:!1,type:{name:"string"}},issueCollector:{defaultValue:null,description:"",name:"issueCollector",required:!0,type:{name:"enum",value:[{value:'"SWC"'},{value:'"Flagged Content"'},{value:'"Request Access"'}]}},issueSummary:{defaultValue:null,description:"",name:"issueSummary",required:!0,type:{name:"string"}},issueDescription:{defaultValue:null,description:"",name:"issueDescription",required:!0,type:{name:"string"}},issuePriority:{defaultValue:null,description:"",name:"issuePriority",required:!0,type:{name:"enum",value:[{value:'"1"'},{value:'"2"'},{value:'"3"'},{value:'"4"'},{value:'"5"'}]}},synapseDataObjectId:{defaultValue:null,description:"",name:"synapseDataObjectId",required:!1,type:{name:"string"}},componentId:{defaultValue:null,description:"",name:"componentId",required:!1,type:{name:"string"}},show:{defaultValue:null,description:"",name:"show",required:!0,type:{name:"boolean"}}}}}catch{}const kr=({className:t,style:e})=>U.jsx(wo,{type:"button",style:e,className:`SignInButton ${zi} ${t}`,children:"Sign In"});try{kr.displayName="SignInButton",kr.__docgenInfo={description:"",displayName:"SignInButton",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}}}}}catch{}const Kf="You are not authorized to access this resource.",Bf=()=>U.jsxs(U.Fragment,{children:["Please ",U.jsx(kr,{})," to view this resource."]}),Vr=t=>{const[e,r]=K.useState(!1),{accessToken:n}=De(),{error:s}=t,i=(s.status===403||s.status===401)&&!n,c=s.status===403&&n;return qr({show:s.status>=500,issueCollector:"SWC",issueSummary:"",issueDescription:s.reason,issuePriority:"3"}),i?U.jsx(Bf,{}):c?U.jsxs(U.Fragment,{children:[U.jsxs(Do,{direction:"row",spacing:2,children:[U.jsx(Sn,{display:"flex",alignItems:"center",children:Kf}),U.jsxs(Uo,{variant:"text",onClick:()=>r(l=>!l),children:[e?"Hide":"Show"," details"]})]}),U.jsx(xo,{in:e,children:U.jsx(Sn,{paddingTop:1,children:U.jsx("pre",{children:s.reason})})})]}):U.jsx(U.Fragment,{children:s.reason})},or=t=>{const{error:e,reloadButtonFn:r}=t;if(!e)return U.jsx(U.Fragment,{});let n,s,i;return e instanceof st?n=e:e instanceof Error?s=e:typeof e=="string"&&(i=e),U.jsx(Co,{variant:"danger",isGlobal:!1,description:U.jsxs(U.Fragment,{children:[n&&U.jsx(Vr,{error:n}),s&&s.message,i&&i]}),primaryButtonConfig:r&&{text:"Reload",onClick:r}})},jr=({error:t,resetErrorBoundary:e})=>U.jsx("div",{className:"SRC-marginBottomTop",children:U.jsx(or,{error:t,reloadButtonFn:e})}),kn=({error:t,resetErrorBoundary:e})=>U.jsx("tr",{children:U.jsx("td",{colSpan:999,children:U.jsx(or,{error:t,reloadButtonFn:e})})}),Hr=t=>U.jsx(Lf,{FallbackComponent:jr,...t});try{Vr.displayName="ClientError",Vr.__docgenInfo={description:"",displayName:"ClientError",props:{error:{defaultValue:null,description:"",name:"error",required:!0,type:{name:"SynapseClientError"}}}}}catch{}try{or.displayName="ErrorBanner",or.__docgenInfo={description:"",displayName:"ErrorBanner",props:{error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"string | Error | SynapseClientError | null"}},reloadButtonFn:{defaultValue:null,description:"",name:"reloadButtonFn",required:!1,type:{name:"(() => void)"}}}}}catch{}try{jr.displayName="ErrorFallbackComponent",jr.__docgenInfo={description:"",displayName:"ErrorFallbackComponent",props:{}}}catch{}try{kn.displayName="TableRowFallbackComponent",kn.__docgenInfo={description:"",displayName:"TableRowFallbackComponent",props:{}}}catch{}try{Hr.displayName="SynapseErrorBoundary",Hr.__docgenInfo={description:`ErrorBoundary component that uses the default error fallback component, unless overridden.
Internally uses \`react-error-boundary\`.

Use with {@link react-error-boundary#handleError handleError}`,displayName:"SynapseErrorBoundary",props:{}}}catch{}function Qf(t){const e=[...t];let r=e[e.length-1];for(;e.length>0&&(r===void 0||typeof r=="object"&&na(gr(r)));)e.pop(),r=e[e.length-1];return e}const F={all:{objectType:"entity"},entity:(t,e)=>{const r={...F.all,id:t};return e&&(r.version=e),r},versions:t=>[F.entity(t),"versions"],versionsQuery:(t,e,r)=>[...F.versions(t),{limit:e,offset:r}],json:(t,e)=>[F.entity(t,e),"json"],allActionsRequired:()=>[F.all,"actionsRequired"],actionsRequired:t=>[F.entity(t),"actionsRequired"],entityForum:t=>[F.entity(t),"entityForum"],entityChallenge:t=>[F.entity(t),"entityChallenge"],activity:(t,e)=>[F.entity(t,e),"activity"],path:t=>[F.entity(t),"path"],bundle:(t,e,r)=>[F.entity(t,e),"entityBundle",r],children:(t,e)=>[F.entity(t.parentId??"root"),"children",{isInfinite:e,entityChildrenRequest:t}],tableQueryResult:(t,e)=>[F.entity(t.entityId),{type:"tableQueryResult"},{isInfinite:e,tableQueryBundleRequest:t}],tableQueryResultWithAsyncStatus:(t,e)=>[F.entity(t.entityId),{type:"tableQueryResult",withAsyncStatus:!0},{isInfinite:e,tableQueryBundleRequest:t}],fullTableQueryResult:(t,e)=>[F.entity(t.entityId),{type:"tableQueryResult",allResults:!0},{tableQueryBundleRequest:t,forceAnonymous:e}],boundJSONSchema:t=>[F.entity(t),"boundJSONSchema"],schemaValidationResults:t=>[F.entity(t),"schemaValidationResults"],header:(t,e)=>[F.entity(t,e),"entityHeaders"],headers:t=>[F.all,"entityHeaders",t],accessRequirements:t=>[F.entity(t),"accessRequirements"]},Oe={base:"downloadList",availableFiles:t=>[Oe.base,"availableFiles",t],availableFilesInfinite:t=>[Oe.availableFiles(t),"infinite"],getActionsRequired:()=>[Oe.base,"actionsRequired"],getActionsRequiredInfinite:()=>[...Oe.getActionsRequired(),"infinite"],getStatistics:()=>[Oe.base,"statistics"]},Re="accessRequirement";class Ci{constructor(e){nt(this,"accessToken");this.accessToken=e}getKey(...e){return[this.accessToken==null?"anonymous":btoa(String(ko(this.accessToken))),...Qf(e)]}getAllEntityDataQueryKey(){return this.getKey(F.all)}getEntityQueryKey(e){return this.getKey(F.entity(e))}getEntityActivityQueryKey(e,r){return this.getKey(...F.activity(e,r))}getAllEntityActionsRequiredQueryKey(){return this.getKey(...F.allActionsRequired())}getEntityActionsRequiredQueryKey(e){return this.getKey(...F.actionsRequired(e))}getEntityChallengeQueryKey(e){return this.getKey(...F.entityChallenge(e))}getForumQueryKey(e){return this.getKey(...F.entityForum(e))}getEntityVersionQueryKey(e,r){return this.getKey(F.entity(e,r))}getPaginatedEntityVersionsQueryKey(e,r,n){return this.getKey(...F.versionsQuery(e,r,n))}getEntityVersionsQueryKey(e){return this.getKey(...F.versions(e))}getEntityChildrenQueryKey(e,r){return this.getKey(...F.children(e,r))}getEntityJsonQueryKey(e,r,n){return this.getKey(...F.json(e,r),{includeDerivedAnnotations:n})}getEntityBundleQueryKey(e,r,n){return this.getKey(...F.bundle(e,r,n))}getEntityPathQueryKey(e){return this.getKey(...F.path(e))}getEntityACLQueryKey(e){return this.getKey(F.entity(e),"acl")}getEntityAliasQueryKey(e){return this.getKey(F.all,"alias",e)}getEntityEvaluationsQueryKey(e){return this.getKey(F.entity(e),"evaluations")}getEntityPermissionsQueryKey(e){return this.getKey(F.entity(e),"permissions")}getEntityBoundJsonSchemaQueryKey(e){return this.getKey(...F.boundJSONSchema(e))}getEntitySchemaValidationResultsQueryKey(e){return this.getKey(...F.schemaValidationResults(e))}getEntityHeaderQueryKey(e,r){return this.getKey(...F.header(e,r))}getEntityAccessRequirementsQueryKey(e){return this.getKey(...F.accessRequirements(e))}getEntityHeadersQueryKey(e){return this.getKey(...F.headers(e))}getAllTableQueryResultsKey(){return this.getKey(F.all,{type:"tableQueryResult"})}getEntityTableQueryResultQueryKey(e,r){return this.getKey(...F.tableQueryResult(e,r))}getEntityTableQueryResultWithAsyncStatusQueryKey(e,r){return this.getKey(...F.tableQueryResultWithAsyncStatus(e,r))}getFullTableQueryResultQueryKey(e,r){return this.getKey(...F.fullTableQueryResult(e,r))}getDownloadListBaseQueryKey(){return this.getKey(Oe.base)}getDownloadListAvailableFilesQueryKey(e){return this.getKey(...Oe.availableFiles(e))}getDownloadListAvailableFilesInfiniteQueryKey(e){return this.getKey(...Oe.availableFilesInfinite(e))}getDownloadListActionsRequiredQueryKey(){return this.getKey(...Oe.getActionsRequired())}getDownloadListActionsRequiredInfiniteQueryKey(){return this.getKey(...Oe.getActionsRequiredInfinite())}getDownloadListStatisticsQueryKey(){return this.getKey(...Oe.getStatistics())}searchAccessApprovalsQueryKey(e){return this.getKey("accessApprovalSearch",e)}getAccessRequirementQueryKey(e){return this.getKey(Re,e)}getAccessRequirementAclQueryKey(e){return this.getKey(Re,e,"acl")}searchAccessRequirementsQueryKey(e){return this.getKey(Re,"search",e)}getAccessRequirementWikiPageKey(e){return this.getKey(Re,e,"wikiPageKey")}getAccessRequirementRestrictionInformationQueryKey(e){return this.getKey(Re,"restrictionInformation",e)}getAllAccessRequirementStatusesQueryKey(){return this.getKey(Re,"status")}getAccessRequirementStatusQueryKey(e){return this.getKey(Re,"status",e)}getDataAccessRequestForUpdateQueryKey(e){return this.getKey(Re,e,"dataAccessRequestForUpdate")}getAccessRequirementResearchProjectQueryKey(e){return this.getKey(Re,e,"researchProject")}getSortedAccessRequirementsAndStatusQueryKey(e){return this.getKey(Re,"sortedByStatus",e)}getDataAccessSubmissionQueryKey(e){return this.getKey("dataAccessSubmission",e)}searchDataAccessSubmissionQueryKey(e){return this.getKey("accessSubmissionSearch",e)}getApprovedSubmissionInfoQueryKey(e){return this.getKey("approvedSubmissionInfo",e)}getValidationSchemaQueryKey(e){return this.getKey("validationSchema",e)}getPresignedUrlContentQueryKey(e,r,n){return this.getKey("presignedUrlContent",e,r,n)}getPresignedUrlFromFHAContentQueryKey(e,r){return this.getKey("presignedUrlContentFromFHA",e,r)}getProfileImageQueryKey(e){return this.getKey("profileImageData",e)}getDefaultUploadDestinationQueryKey(e){return this.getKey("uploadDestination","default",e)}getUploadDestinationForStorageLocationQueryKey(e,r){return this.getKey("uploadDestination",e,r)}getForumModeratorsQueryKey(e){return this.getKey("moderators",e)}getForumMetadataQueryKey(e){return this.getKey("forumThread",e,"metadata")}getAllForumThreadsQueryKey(e){return this.getKey("forumthread",e)}getForumThreadsQueryKey(e,r,n,s,i){return this.getKey("forumthread",e,{limit:r,filter:i,sort:n,ascending:s})}getAllRepliesQueryKey(e){return this.getKey("reply",e)}getRepliesQueryKey(e,r,n,s,i){return this.getKey("reply",e,{limit:n,filter:i,sort:s,ascending:r})}getReplyQueryKey(e,r,n){return this.getKey("reply",e,{replyId:r,messageKey:n})}getThreadQueryKey(e){return this.getKey("thread",e)}getThreadBodyQueryKey(e,r){return this.getKey("thread",e,r)}getMyOAuthClientsQueryKey(){return this.getKey("oauthClient")}getDOIAssociationQueryKey(e,r,n){return this.getKey(["doi","association",e,r,n])}getAllSubscribersQueryKey(){return this.getKey("subscribers")}getSubscribersQueryKey(e,r){return this.getKey("subscribers",e,r)}getBaseSubscriptionQueryKey(){return this.getKey("subscription")}getAllSubscriptionsQueryKey(e){return this.getKey("subscription","all",e)}getSubscriptionQueryKey(e,r){return this.getKey("subscription",e,r)}getSearchEntitiesQueryKey(e){return this.getKey("searchEntities",e)}getTeamQueryKey(e){return this.getKey("team",e)}getTeamListQueryKey(e){return this.getKey("team",e,"teamList")}getChallengeTeamListQueryKey(e){return this.getKey("challenge",e,"teamList")}getTeamMembersQueryKey(e){return this.getKey("team",e,"membersList")}getIsUserMemberOfTeamQueryKey(e,r){return this.getKey("team",e,"member",r)}getMembershipStatusQueryKey(e,r){return this.getKey("team",e,"membershipStatus",r)}getAllOpenMembershipInvitationsForUserQueryKey(e){return this.getKey("openMembershipInvitations",e)}getTeamAccessRequirementsQueryKey(e){return this.getKey("team",e,"accessRequirements")}getFavoritesQueryKey(){return this.getKey("favorites")}getUserFavoritesQueryKey(e,r){return this.getKey("favorites",e,r)}getUserFavoritesInfiniteQueryKey(e,r){return this.getKey("favorites","infinite",e,r)}getTrashCanItemsQueryKey(){return this.getKey("trashCan","list")}getUserChallengesQueryKey(e){return this.getKey("userChallenges",e)}getPassingRecordQueryKey(e){return this.getKey("passingRecord",e)}getAllSubmissionTeamsQueryKeys(){return this.getKey("submissionTeams")}getSubmissionTeamsQueryKey(e,r,n){return this.getKey("submissionTeams",e,{limit:r,offset:n})}getUserProjectsQueryKey(e,r){return this.getKey("userProjects",e,r)}getAllUserTeamsQueryKey(){return this.getKey("userTeams")}getUserTeamsQueryKey(e){return this.getKey("userTeams",e)}getPersonalAccessTokensQueryKey(){return this.getKey("personalAccessTokens")}getMyProjectsQueryKey(e){return this.getKey("myProjects",e)}getNotificationEmailQueryKey(){return this.getKey("notificationEmail")}getCurrentUserProfileQueryKey(){return this.getKey("user","current","profile")}getUserBundleQueryKey(e,r){const n={...r&gs?{isUserProfile:!0}:void 0,...r&ys?{isOrcId:!0}:void 0,...r&Es?{isVerificationSubmission:!0}:void 0,...r&ms?{isCertified:!0}:void 0,...r&vs?{isVerified:!0}:void 0,...r&Ts?{isACT:!0}:void 0,...r&Ps?{isARReviewer:!0}:void 0};return this.getKey("user",e,"bundle",n)}getUserProfileQueryKey(e){return this.getKey("user",e,"profile")}getPrincipalAliasQueryKey(e){return this.getKey("principalAlias",e)}getUserGroupHeaderQueryKey(e){return this.getKey("userGroupHeader",e)}getUserGroupHeaderBatchQueryKey(e){return this.getKey("userGroupHeaderBatch",e)}getUserGroupHeaderWithAliasQueryKey(e){return this.getKey("userGroupHeader",e)}getUserGroupHeaderSearchQueryKey(e,r){return this.getKey("userGroupHeader","search",e,r)}getTwoFactorAuthStatusQueryKey(){return this.getKey("twoFactorAuthStatus")}getBatchOfFiles(e){return this.getKey("fileBatch",e)}getPaginatedDockerTagQueryKey(e,r,n,s,i){return this.getKey("dockerTag",e,r,n,s,i)}getDefaultColumnModelsQueryKey(e,r){return this.getKey("defaultColumnModels",e,r)}getAnnotationColumnModelsQueryKey(e){return this.getKey("annotationColumnModels",e)}getEvaluationByIdQueryKey(e){return this.getKey("evaluation",e)}getEvaluationsQueryKey(e){return this.getKey("evaluation","paginated",e)}}const qf={accessToken:void 0,isInExperimentalMode:!1,utcTime:!1,withErrorBoundary:!1,keyFactory:new Ci(void 0),downloadCartPageUrl:"/DownloadCart"},Ft=V.createContext(qf);function ar(t){const{children:e,synapseContext:r}=t,n=K.useMemo(()=>new Ci(r.accessToken),[r.accessToken]),s=K.useMemo(()=>({accessToken:r.accessToken,isInExperimentalMode:r.isInExperimentalMode??!1,utcTime:r.utcTime??!1,withErrorBoundary:r.withErrorBoundary??!1,downloadCartPageUrl:r.downloadCartPageUrl??"/DownloadCart",keyFactory:r.keyFactory??n}),[r.accessToken,r.downloadCartPageUrl,r.isInExperimentalMode,r.keyFactory,r.utcTime,r.withErrorBoundary,n]);return U.jsx(Ft.Provider,{value:s,children:s!=null&&s.withErrorBoundary?U.jsx(Hr,{children:e}):e})}const Vn=Ft.Consumer;function De(){const t=K.useContext(Ft);if(t===void 0)throw new Error("useSynapseContext must be used within a SynapseContextProvider");return t}try{ar.displayName="SynapseContextProvider",ar.__docgenInfo={description:`Provides context necessary for most components in SRC.

The SynapseContextProvider must be wrapped in a react-query QueryClientProvider.`,displayName:"SynapseContextProvider",props:{synapseContext:{defaultValue:null,description:"",name:"synapseContext",required:!0,type:{name:"Partial<SynapseContextType>"}}}}}catch{}try{Ft.displayName="SynapseContext",Ft.__docgenInfo={description:"This must be exported to use the context in class components.",displayName:"SynapseContext",props:{}}}catch{}try{Vn.displayName="SynapseContextConsumer",Vn.__docgenInfo={description:"",displayName:"SynapseContextConsumer",props:{}}}catch{}const kf={defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*30,retry:!1,refetchOnWindowFocus:!1}}},Vf=new Pa(kf);function jn(t){const{children:e,synapseContext:r,queryClient:n,theme:s}=t;return U.jsx(Aa,{client:n??Vf,children:U.jsx(Br,{theme:s,children:U.jsx(ar,{synapseContext:r,children:e})})})}try{jn.displayName="FullContextProvider",jn.__docgenInfo={description:`Provides all context necessary for components in SRC.
Contexts include
- SynapseContext
- QueryClientContext (react-query)
- ThemeContext (@mui)`,displayName:"FullContextProvider",props:{synapseContext:{defaultValue:null,description:"",name:"synapseContext",required:!0,type:{name:"Partial<SynapseContextType>"}},queryClient:{defaultValue:null,description:"",name:"queryClient",required:!1,type:{name:"QueryClient"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"ThemeOptions"}}}}}catch{}function jf(t={}){const{onSignInComplete:e,registerAccountUrl:r=`${Ji.PORTAL}#!RegisterAccount:0`,onError:n,onTwoFactorAuthRequired:s}=t,i=hi(),c=new URL(window.location.href),{searchParams:l}=c,m=l==null?void 0:l.get("code"),g=l==null?void 0:l.get("provider"),E=l==null?void 0:l.get("state"),{accessToken:T}=De(),[v,P]=K.useState(!!(m&&g));return K.useEffect(()=>{if(m&&g){const A=`${i}?provider=${g}`;if(Jt.ORCID==g&&T!==void 0){const w=O=>{console.error("Error binding ORCiD to account: ",O),n&&n(O.reason)};Si(g,m,A,u.REPO_ENDPOINT).then(e).catch(w).finally(()=>P(!1))}else if(Jt.GOOGLE==g||Jt.ORCID==g){const w=p=>{p&&("accessToken"in p?ln(p.accessToken).then(e):s&&s(p))},O=p=>{p.status===404&&window.location.replace(r),console.error("Error with account login: ",p),n&&n(p.reason)};Jt.GOOGLE==g&&E?Ai(E,g,m,A,u.REPO_ENDPOINT).then(w).catch(O).finally(()=>P(!1)):gi(g,m,A,u.REPO_ENDPOINT).then(w).catch(O).finally(()=>P(!1))}else console.warn("Unknown SSO Provider: ",g),P(!1)}},[]),{isLoading:v}}function Hf(t,e){const r=localStorage.getItem(On);localStorage.removeItem(On);const n=r??e;n&&(t?n.startsWith(window.location.origin)?t.replace(n.substring(window.location.origin.length)):t.replace(n):window.location.replace(n))}const wi=V.createContext(void 0);function Wr(t){const{context:e,children:r}=t;return U.jsx(wi.Provider,{value:e,children:r})}const Hn=wi.Consumer;try{Wr.displayName="ApplicationSessionContextProvider",Wr.__docgenInfo={description:"",displayName:"ApplicationSessionContextProvider",props:{context:{defaultValue:null,description:"",name:"context",required:!0,type:{name:"ApplicationSessionContextType"}}}}}catch{}try{Hn.displayName="ApplicationSessionContextConsumer",Hn.__docgenInfo={description:"",displayName:"ApplicationSessionContextConsumer",props:{}}}catch{}function er(t){return t.charAt(0)==="/"}function vr(t,e){for(var r=e,n=r+1,s=t.length;n<s;r+=1,n+=1)t[r]=t[n];t.pop()}function Wf(t,e){e===void 0&&(e="");var r=t&&t.split("/")||[],n=e&&e.split("/")||[],s=t&&er(t),i=e&&er(e),c=s||i;if(t&&er(t)?n=r:r.length&&(n.pop(),n=n.concat(r)),!n.length)return"/";var l;if(n.length){var m=n[n.length-1];l=m==="."||m===".."||m===""}else l=!1;for(var g=0,E=n.length;E>=0;E--){var T=n[E];T==="."?vr(n,E):T===".."?(vr(n,E),g++):g&&(vr(n,E),g--)}if(!c)for(;g--;g)n.unshift("..");c&&n[0]!==""&&(!n[0]||!er(n[0]))&&n.unshift("");var v=n.join("/");return l&&v.substr(-1)!=="/"&&(v+="/"),v}function wt(t){return t.charAt(0)==="/"?t:"/"+t}function Wn(t){return t.charAt(0)==="/"?t.substr(1):t}function Gf(t,e){return t.toLowerCase().indexOf(e.toLowerCase())===0&&"/?#".indexOf(t.charAt(e.length))!==-1}function Di(t,e){return Gf(t,e)?t.substr(e.length):t}function Ui(t){return t.charAt(t.length-1)==="/"?t.slice(0,-1):t}function Yf(t){var e=t||"/",r="",n="",s=e.indexOf("#");s!==-1&&(n=e.substr(s),e=e.substr(0,s));var i=e.indexOf("?");return i!==-1&&(r=e.substr(i),e=e.substr(0,i)),{pathname:e,search:r==="?"?"":r,hash:n==="#"?"":n}}function pe(t){var e=t.pathname,r=t.search,n=t.hash,s=e||"/";return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function ve(t,e,r,n){var s;typeof t=="string"?(s=Yf(t),s.state=e):(s=ae({},t),s.pathname===void 0&&(s.pathname=""),s.search?s.search.charAt(0)!=="?"&&(s.search="?"+s.search):s.search="",s.hash?s.hash.charAt(0)!=="#"&&(s.hash="#"+s.hash):s.hash="",e!==void 0&&s.state===void 0&&(s.state=e));try{s.pathname=decodeURI(s.pathname)}catch(i){throw i instanceof URIError?new URIError('Pathname "'+s.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):i}return r&&(s.key=r),n?s.pathname?s.pathname.charAt(0)!=="/"&&(s.pathname=Wf(s.pathname,n.pathname)):s.pathname=n.pathname:s.pathname||(s.pathname="/"),s}function gn(){var t=null;function e(c){return t=c,function(){t===c&&(t=null)}}function r(c,l,m,g){if(t!=null){var E=typeof t=="function"?t(c,l):t;typeof E=="string"?typeof m=="function"?m(E,g):g(!0):g(E!==!1)}else g(!0)}var n=[];function s(c){var l=!0;function m(){l&&c.apply(void 0,arguments)}return n.push(m),function(){l=!1,n=n.filter(function(g){return g!==m})}}function i(){for(var c=arguments.length,l=new Array(c),m=0;m<c;m++)l[m]=arguments[m];n.forEach(function(g){return g.apply(void 0,l)})}return{setPrompt:e,confirmTransitionTo:r,appendListener:s,notifyListeners:i}}var Li=!!(typeof window<"u"&&window.document&&window.document.createElement);function Fi(t,e){e(window.confirm(t))}function zf(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")!==-1||t.indexOf("Android 4.0")!==-1)&&t.indexOf("Mobile Safari")!==-1&&t.indexOf("Chrome")===-1&&t.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function Jf(){return window.navigator.userAgent.indexOf("Trident")===-1}function Xf(){return window.navigator.userAgent.indexOf("Firefox")===-1}function Zf(t){return t.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var Gn="popstate",Yn="hashchange";function zn(){try{return window.history.state||{}}catch{return{}}}function ey(t){t===void 0&&(t={}),Li||Ot(!1);var e=window.history,r=zf(),n=!Jf(),s=t,i=s.forceRefresh,c=i===void 0?!1:i,l=s.getUserConfirmation,m=l===void 0?Fi:l,g=s.keyLength,E=g===void 0?6:g,T=t.basename?Ui(wt(t.basename)):"";function v(x){var D=x||{},Q=D.key,$=D.state,H=window.location,ee=H.pathname,ce=H.search,Te=H.hash,he=ee+ce+Te;return T&&(he=Di(he,T)),ve(he,$,Q)}function P(){return Math.random().toString(36).substr(2,E)}var A=gn();function w(x){ae(de,x),de.length=e.length,A.notifyListeners(de.location,de.action)}function O(x){Zf(x)||a(v(x.state))}function p(){a(v(zn()))}var y=!1;function a(x){if(y)y=!1,w();else{var D="POP";A.confirmTransitionTo(x,D,m,function(Q){Q?w({action:D,location:x}):o(x)})}}function o(x){var D=de.location,Q=d.indexOf(D.key);Q===-1&&(Q=0);var $=d.indexOf(x.key);$===-1&&($=0);var H=Q-$;H&&(y=!0,G(H))}var h=v(zn()),d=[h.key];function b(x){return T+pe(x)}function C(x,D){var Q="PUSH",$=ve(x,D,P(),de.location);A.confirmTransitionTo($,Q,m,function(H){if(H){var ee=b($),ce=$.key,Te=$.state;if(r)if(e.pushState({key:ce,state:Te},null,ee),c)window.location.href=ee;else{var he=d.indexOf(de.location.key),Ve=d.slice(0,he+1);Ve.push($.key),d=Ve,w({action:Q,location:$})}else window.location.href=ee}})}function q(x,D){var Q="REPLACE",$=ve(x,D,P(),de.location);A.confirmTransitionTo($,Q,m,function(H){if(H){var ee=b($),ce=$.key,Te=$.state;if(r)if(e.replaceState({key:ce,state:Te},null,ee),c)window.location.replace(ee);else{var he=d.indexOf(de.location.key);he!==-1&&(d[he]=$.key),w({action:Q,location:$})}else window.location.replace(ee)}})}function G(x){e.go(x)}function Y(){G(-1)}function Ne(){G(1)}var ke=0;function ue(x){ke+=x,ke===1&&x===1?(window.addEventListener(Gn,O),n&&window.addEventListener(Yn,p)):ke===0&&(window.removeEventListener(Gn,O),n&&window.removeEventListener(Yn,p))}var re=!1;function rt(x){x===void 0&&(x=!1);var D=A.setPrompt(x);return re||(ue(1),re=!0),function(){return re&&(re=!1,ue(-1)),D()}}function yr(x){var D=A.appendListener(x);return ue(1),function(){ue(-1),D()}}var de={length:e.length,action:"POP",location:h,createHref:b,push:C,replace:q,go:G,goBack:Y,goForward:Ne,block:rt,listen:yr};return de}var Jn="hashchange",ep={hashbang:{encodePath:function(e){return e.charAt(0)==="!"?e:"!/"+Wn(e)},decodePath:function(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:Wn,decodePath:wt},slash:{encodePath:wt,decodePath:wt}};function xi(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)}function bt(){var t=window.location.href,e=t.indexOf("#");return e===-1?"":t.substring(e+1)}function tp(t){window.location.hash=t}function Tr(t){window.location.replace(xi(window.location.href)+"#"+t)}function ty(t){t===void 0&&(t={}),Li||Ot(!1);var e=window.history;Xf();var r=t,n=r.getUserConfirmation,s=n===void 0?Fi:n,i=r.hashType,c=i===void 0?"slash":i,l=t.basename?Ui(wt(t.basename)):"",m=ep[c],g=m.encodePath,E=m.decodePath;function T(){var D=E(bt());return l&&(D=Di(D,l)),ve(D)}var v=gn();function P(D){ae(x,D),x.length=e.length,v.notifyListeners(x.location,x.action)}var A=!1,w=null;function O(D,Q){return D.pathname===Q.pathname&&D.search===Q.search&&D.hash===Q.hash}function p(){var D=bt(),Q=g(D);if(D!==Q)Tr(Q);else{var $=T(),H=x.location;if(!A&&O(H,$)||w===pe($))return;w=null,y($)}}function y(D){if(A)A=!1,P();else{var Q="POP";v.confirmTransitionTo(D,Q,s,function($){$?P({action:Q,location:D}):a(D)})}}function a(D){var Q=x.location,$=b.lastIndexOf(pe(Q));$===-1&&($=0);var H=b.lastIndexOf(pe(D));H===-1&&(H=0);var ee=$-H;ee&&(A=!0,Y(ee))}var o=bt(),h=g(o);o!==h&&Tr(h);var d=T(),b=[pe(d)];function C(D){var Q=document.querySelector("base"),$="";return Q&&Q.getAttribute("href")&&($=xi(window.location.href)),$+"#"+g(l+pe(D))}function q(D,Q){var $="PUSH",H=ve(D,void 0,void 0,x.location);v.confirmTransitionTo(H,$,s,function(ee){if(ee){var ce=pe(H),Te=g(l+ce),he=bt()!==Te;if(he){w=ce,tp(Te);var Ve=b.lastIndexOf(pe(x.location)),Pn=b.slice(0,Ve+1);Pn.push(ce),b=Pn,P({action:$,location:H})}else P()}})}function G(D,Q){var $="REPLACE",H=ve(D,void 0,void 0,x.location);v.confirmTransitionTo(H,$,s,function(ee){if(ee){var ce=pe(H),Te=g(l+ce),he=bt()!==Te;he&&(w=ce,Tr(Te));var Ve=b.indexOf(pe(x.location));Ve!==-1&&(b[Ve]=ce),P({action:$,location:H})}})}function Y(D){e.go(D)}function Ne(){Y(-1)}function ke(){Y(1)}var ue=0;function re(D){ue+=D,ue===1&&D===1?window.addEventListener(Jn,p):ue===0&&window.removeEventListener(Jn,p)}var rt=!1;function yr(D){D===void 0&&(D=!1);var Q=v.setPrompt(D);return rt||(re(1),rt=!0),function(){return rt&&(rt=!1,re(-1)),Q()}}function de(D){var Q=v.appendListener(D);return re(1),function(){re(-1),Q()}}var x={length:e.length,action:"POP",location:d,createHref:C,push:q,replace:G,go:Y,goBack:Ne,goForward:ke,block:yr,listen:de};return x}function Xn(t,e,r){return Math.min(Math.max(t,e),r)}function rp(t){t===void 0&&(t={});var e=t,r=e.getUserConfirmation,n=e.initialEntries,s=n===void 0?["/"]:n,i=e.initialIndex,c=i===void 0?0:i,l=e.keyLength,m=l===void 0?6:l,g=gn();function E(C){ae(b,C),b.length=b.entries.length,g.notifyListeners(b.location,b.action)}function T(){return Math.random().toString(36).substr(2,m)}var v=Xn(c,0,s.length-1),P=s.map(function(C){return typeof C=="string"?ve(C,void 0,T()):ve(C,void 0,C.key||T())}),A=pe;function w(C,q){var G="PUSH",Y=ve(C,q,T(),b.location);g.confirmTransitionTo(Y,G,r,function(Ne){if(Ne){var ke=b.index,ue=ke+1,re=b.entries.slice(0);re.length>ue?re.splice(ue,re.length-ue,Y):re.push(Y),E({action:G,location:Y,index:ue,entries:re})}})}function O(C,q){var G="REPLACE",Y=ve(C,q,T(),b.location);g.confirmTransitionTo(Y,G,r,function(Ne){Ne&&(b.entries[b.index]=Y,E({action:G,location:Y}))})}function p(C){var q=Xn(b.index+C,0,b.entries.length-1),G="POP",Y=b.entries[q];g.confirmTransitionTo(Y,G,r,function(Ne){Ne?E({action:G,location:Y,index:q}):E()})}function y(){p(-1)}function a(){p(1)}function o(C){var q=b.index+C;return q>=0&&q<b.entries.length}function h(C){return C===void 0&&(C=!1),g.setPrompt(C)}function d(C){return g.appendListener(C)}var b={length:P.length,action:"POP",location:P[v],index:v,entries:P,createHref:A,push:w,replace:O,go:p,goBack:y,goForward:a,canGo:o,block:h,listen:d};return b}var St={exports:{}},np=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"},ur=np;St.exports=Ki;St.exports.parse=yn;St.exports.compile=ip;St.exports.tokensToFunction=$i;St.exports.tokensToRegExp=Mi;var sp=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function yn(t,e){for(var r=[],n=0,s=0,i="",c=e&&e.delimiter||"/",l;(l=sp.exec(t))!=null;){var m=l[0],g=l[1],E=l.index;if(i+=t.slice(s,E),s=E+m.length,g){i+=g[1];continue}var T=t[s],v=l[2],P=l[3],A=l[4],w=l[5],O=l[6],p=l[7];i&&(r.push(i),i="");var y=v!=null&&T!=null&&T!==v,a=O==="+"||O==="*",o=O==="?"||O==="*",h=l[2]||c,d=A||w;r.push({name:P||n++,prefix:v||"",delimiter:h,optional:o,repeat:a,partial:y,asterisk:!!p,pattern:d?up(d):p?".*":"[^"+nr(h)+"]+?"})}return s<t.length&&(i+=t.substr(s)),i&&r.push(i),r}function ip(t,e){return $i(yn(t,e),e)}function op(t){return encodeURI(t).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function ap(t){return encodeURI(t).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function $i(t,e){for(var r=new Array(t.length),n=0;n<t.length;n++)typeof t[n]=="object"&&(r[n]=new RegExp("^(?:"+t[n].pattern+")$",mn(e)));return function(s,i){for(var c="",l=s||{},m=i||{},g=m.pretty?op:encodeURIComponent,E=0;E<t.length;E++){var T=t[E];if(typeof T=="string"){c+=T;continue}var v=l[T.name],P;if(v==null)if(T.optional){T.partial&&(c+=T.prefix);continue}else throw new TypeError('Expected "'+T.name+'" to be defined');if(ur(v)){if(!T.repeat)throw new TypeError('Expected "'+T.name+'" to not repeat, but received `'+JSON.stringify(v)+"`");if(v.length===0){if(T.optional)continue;throw new TypeError('Expected "'+T.name+'" to not be empty')}for(var A=0;A<v.length;A++){if(P=g(v[A]),!r[E].test(P))throw new TypeError('Expected all "'+T.name+'" to match "'+T.pattern+'", but received `'+JSON.stringify(P)+"`");c+=(A===0?T.prefix:T.delimiter)+P}continue}if(P=T.asterisk?ap(v):g(v),!r[E].test(P))throw new TypeError('Expected "'+T.name+'" to match "'+T.pattern+'", but received "'+P+'"');c+=T.prefix+P}return c}}function nr(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function up(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function En(t,e){return t.keys=e,t}function mn(t){return t&&t.sensitive?"":"i"}function cp(t,e){var r=t.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)e.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return En(t,e)}function lp(t,e,r){for(var n=[],s=0;s<t.length;s++)n.push(Ki(t[s],e,r).source);var i=new RegExp("(?:"+n.join("|")+")",mn(r));return En(i,e)}function dp(t,e,r){return Mi(yn(t,r),e,r)}function Mi(t,e,r){ur(e)||(r=e||r,e=[]),r=r||{};for(var n=r.strict,s=r.end!==!1,i="",c=0;c<t.length;c++){var l=t[c];if(typeof l=="string")i+=nr(l);else{var m=nr(l.prefix),g="(?:"+l.pattern+")";e.push(l),l.repeat&&(g+="(?:"+m+g+")*"),l.optional?l.partial?g=m+"("+g+")?":g="(?:"+m+"("+g+"))?":g=m+"("+g+")",i+=g}}var E=nr(r.delimiter||"/"),T=i.slice(-E.length)===E;return n||(i=(T?i.slice(0,-E.length):i)+"(?:"+E+"(?=$))?"),s?i+="$":i+=n&&T?"":"(?="+E+"|$)",En(new RegExp("^"+i,mn(r)),e)}function Ki(t,e,r){return ur(e)||(r=e||r,e=[]),r=r||{},t instanceof RegExp?cp(t,e):ur(t)?lp(t,e,r):dp(t,e,r)}var hp=St.exports;const fp=ps(hp);var Pr=1073741823,Zn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof In.global<"u"?In.global:{};function pp(){var t="__global_unique_id__";return Zn[t]=(Zn[t]||0)+1}function gp(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function yp(t){var e=[];return{on:function(n){e.push(n)},off:function(n){e=e.filter(function(s){return s!==n})},get:function(){return t},set:function(n,s){t=n,e.forEach(function(i){return i(t,s)})}}}function Ep(t){return Array.isArray(t)?t[0]:t}function mp(t,e){var r,n,s="__create-react-context-"+pp()+"__",i=function(l){we(m,l);function m(){for(var E,T=arguments.length,v=new Array(T),P=0;P<T;P++)v[P]=arguments[P];return E=l.call.apply(l,[this].concat(v))||this,E.emitter=yp(E.props.value),E}var g=m.prototype;return g.getChildContext=function(){var T;return T={},T[s]=this.emitter,T},g.componentWillReceiveProps=function(T){if(this.props.value!==T.value){var v=this.props.value,P=T.value,A;gp(v,P)?A=0:(A=typeof e=="function"?e(v,P):Pr,A|=0,A!==0&&this.emitter.set(T.value,A))}},g.render=function(){return this.props.children},m}(V.Component);i.childContextTypes=(r={},r[s]=An.object.isRequired,r);var c=function(l){we(m,l);function m(){for(var E,T=arguments.length,v=new Array(T),P=0;P<T;P++)v[P]=arguments[P];return E=l.call.apply(l,[this].concat(v))||this,E.observedBits=void 0,E.state={value:E.getValue()},E.onUpdate=function(A,w){var O=E.observedBits|0;O&w&&E.setState({value:E.getValue()})},E}var g=m.prototype;return g.componentWillReceiveProps=function(T){var v=T.observedBits;this.observedBits=v??Pr},g.componentDidMount=function(){this.context[s]&&this.context[s].on(this.onUpdate);var T=this.props.observedBits;this.observedBits=T??Pr},g.componentWillUnmount=function(){this.context[s]&&this.context[s].off(this.onUpdate)},g.getValue=function(){return this.context[s]?this.context[s].get():t},g.render=function(){return Ep(this.props.children)(this.state.value)},m}(V.Component);return c.contextTypes=(n={},n[s]=An.object,n),{Provider:i,Consumer:c}}var vp=V.createContext||mp,Bi=function(e){var r=vp();return r.displayName=e,r},Qi=Bi("Router-History"),et=Bi("Router"),qi=function(t){we(e,t),e.computeRootMatch=function(s){return{path:"/",url:"/",params:{},isExact:s==="/"}};function e(n){var s;return s=t.call(this,n)||this,s.state={location:n.history.location},s._isMounted=!1,s._pendingLocation=null,n.staticContext||(s.unlisten=n.history.listen(function(i){s._pendingLocation=i})),s}var r=e.prototype;return r.componentDidMount=function(){var s=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(i){s._isMounted&&s.setState({location:i})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return V.createElement(et.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},V.createElement(Qi.Provider,{children:this.props.children||null,value:this.props.history}))},e}(V.Component),ry=function(t){we(e,t);function e(){for(var n,s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return n=t.call.apply(t,[this].concat(i))||this,n.history=rp(n.props),n}var r=e.prototype;return r.render=function(){return V.createElement(qi,{history:this.history,children:this.props.children})},e}(V.Component),Tp=function(t){we(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},r.componentDidUpdate=function(s){this.props.onUpdate&&this.props.onUpdate.call(this,this,s)},r.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},r.render=function(){return null},e}(V.Component);function ny(t){var e=t.message,r=t.when,n=r===void 0?!0:r;return V.createElement(et.Consumer,null,function(s){if(s||Ot(!1),!n||s.staticContext)return null;var i=s.history.block;return V.createElement(Tp,{onMount:function(l){l.release=i(e)},onUpdate:function(l,m){m.message!==e&&(l.release(),l.release=i(e))},onUnmount:function(l){l.release()},message:e})})}var es={},Pp=1e4,ts=0;function Op(t,e){var r=""+e.end+e.strict+e.sensitive,n=es[r]||(es[r]={});if(n[t])return n[t];var s=[],i=fp(t,s,e),c={regexp:i,keys:s};return ts<Pp&&(n[t]=c,ts++),c}function ki(t,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var r=e,n=r.path,s=r.exact,i=s===void 0?!1:s,c=r.strict,l=c===void 0?!1:c,m=r.sensitive,g=m===void 0?!1:m,E=[].concat(n);return E.reduce(function(T,v){if(!v&&v!=="")return null;if(T)return T;var P=Op(v,{end:i,strict:l,sensitive:g}),A=P.regexp,w=P.keys,O=A.exec(t);if(!O)return null;var p=O[0],y=O.slice(1),a=t===p;return i&&!a?null:{path:v,url:v==="/"&&p===""?"/":p,isExact:a,params:w.reduce(function(o,h,d){return o[h.name]=y[d],o},{})}},null)}function _p(t){return V.Children.count(t)===0}var sy=function(t){we(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.render=function(){var s=this;return V.createElement(et.Consumer,null,function(i){i||Ot(!1);var c=s.props.location||i.location,l=s.props.computedMatch?s.props.computedMatch:s.props.path?ki(c.pathname,s.props):i.match,m=ae({},i,{location:c,match:l}),g=s.props,E=g.children,T=g.component,v=g.render;return Array.isArray(E)&&_p(E)&&(E=null),V.createElement(et.Provider,{value:m},m.match?E?typeof E=="function"?E(m):E:T?V.createElement(T,m):v?v(m):null:typeof E=="function"?E(m):null)})},e}(V.Component);function vn(t){return t.charAt(0)==="/"?t:"/"+t}function Rp(t,e){return t?ae({},e,{pathname:vn(t)+e.pathname}):e}function Ip(t,e){if(!t)return e;var r=vn(t);return e.pathname.indexOf(r)!==0?e:ae({},e,{pathname:e.pathname.substr(r.length)})}function rs(t){return typeof t=="string"?t:pe(t)}function Or(t){return function(){Ot(!1)}}function ns(){}V.Component;var iy=function(t){we(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.render=function(){var s=this;return V.createElement(et.Consumer,null,function(i){i||Ot(!1);var c=s.props.location||i.location,l,m;return V.Children.forEach(s.props.children,function(g){if(m==null&&V.isValidElement(g)){l=g;var E=g.props.path||g.props.from;m=E?ki(c.pathname,ae({},g.props,{path:E})):i.match}}),m?V.cloneElement(l,{location:c,computedMatch:m}):null})},e}(V.Component),Tn=V.useContext;function Ap(){return Tn(Qi)}function oy(){return Tn(et).location}function ay(){var t=Tn(et).match;return t?t.params:{}}function ss(t){const{children:e,downloadCartPageUrl:r,onResetSessionComplete:n,maxAge:s,onNoAccessTokenFound:i,forceRelogin:c}=t,l=Ap(),[m,g]=K.useState(void 0),[E,T]=K.useState(void 0),[v,P]=K.useState(!1),[A,w]=K.useState(void 0),O=K.useCallback(()=>{i&&i(),oe.signOut().then(()=>{g(void 0),T(void 0),P(!0)})},[i]),p=K.useCallback(async()=>{w(void 0);let o;try{if(o=await oe.getAccessTokenFromCookie(),!o){O();return}}catch(h){console.error("Unable to get the access token: ",h),O();return}if(s){const h=await oe.getAuthenticatedOn(o),d=Rn.utc(h.authenticatedOn);if(Rn.utc().diff(d,"seconds")>s){P(!0);return}}g(o),P(!0);try{await oe.getUserProfile(o),T(!0)}catch(h){h&&h.reason=="Terms of use have not been signed."?T(!1):(console.error("Error on refreshSession: ",h),oe.signOut().then(()=>{window.location.reload()}))}},[O,s]),y=K.useCallback(async()=>{await oe.signOut(),await p(),n&&n()},[p,n]);K.useEffect(()=>{c?y():p()},[]);const{isLoading:a}=jf({onSignInComplete:()=>{Hf(l),p()},onTwoFactorAuthRequired:o=>{w(o)}});return U.jsx(Wr,{context:{token:m,acceptsTermsOfUse:E,refreshSession:p,clearSession:y,isLoadingSSO:a,twoFactorAuthSSOErrorResponse:A,hasInitializedSession:v},children:U.jsx(ar,{synapseContext:{accessToken:m,isInExperimentalMode:oe.isInSynapseExperimentalMode(),utcTime:oe.getUseUtcTimeFromCookie(),downloadCartPageUrl:r},children:e})})}try{ss.displayName="ApplicationSessionManager",ss.__docgenInfo={description:`The ApplicationSessionManager will manage Synapse user session in an app. The goal is that any custom app should
just be able to add this component near the top of its component tree and have the full Synapse login lifecycle managed
while exposing minimal complexity to the app itself.

Custom per-app behavior should be customized with generalizable props to this component.

The session data can be accessed with useApplicationSessionContext.

This component must be called within a react-router Router. ApplicationSessionManager also wraps all of its children
in a SynapseContextProvider.`,displayName:"ApplicationSessionManager",props:{downloadCartPageUrl:{defaultValue:null,description:"",name:"downloadCartPageUrl",required:!1,type:{name:"string"}},maxAge:{defaultValue:null,description:"",name:"maxAge",required:!1,type:{name:"number"}},onResetSessionComplete:{defaultValue:null,description:"",name:"onResetSessionComplete",required:!1,type:{name:"(() => void)"}},onNoAccessTokenFound:{defaultValue:null,description:"",name:"onNoAccessTokenFound",required:!1,type:{name:"(() => void)"}},forceRelogin:{defaultValue:null,description:"",name:"forceRelogin",required:!1,type:{name:"boolean"}}}}}catch{}export{vi as $,ni as A,Yg as B,Vl as C,Gl as D,fu as E,jn as F,za as G,Cl as H,ey as I,qi as J,ty as K,et as L,pe as M,ki as N,ve as O,na as P,Fg as Q,Zu as R,Vn as S,Hr as T,Xs as U,st as V,Pa as W,kf as X,jf as Y,Aa as Z,ry as _,ar as a,If as a$,Nc as a0,Ul as a1,ld as a2,di as a3,tu as a4,qe as a5,ag as a6,nu as a7,du as a8,Ws as a9,Pg as aA,qr as aB,Bf as aC,Kf as aD,mf as aE,vf as aF,dc as aG,Sg as aH,lc as aI,Ou as aJ,tn as aK,vu as aL,Pu as aM,rn as aN,Lu as aO,Js as aP,Fu as aQ,_u as aR,ug as aS,Xu as aT,si as aU,Ju as aV,rc as aW,Mn as aX,gu as aY,pu as aZ,fr as a_,cu as aa,su as ab,Ug as ac,Nd as ad,Gt as ae,Z as af,Fs as ag,Oa as ah,Sa as ai,Ca as aj,Fa as ak,Da as al,Ua as am,xa as an,$a as ao,og as ap,La as aq,Ar as ar,Dt as as,ma as at,wa as au,Ta as av,sg as aw,ig as ax,Ma as ay,ui as az,Du as b,Ff as b$,Lg as b0,cf as b1,df as b2,lf as b3,Kh as b4,wh as b5,xh as b6,Cc as b7,Bh as b8,Gh as b9,oy as bA,Ap as bB,iy as bC,sy as bD,ay as bE,Xg as bF,Vs as bG,Xo as bH,bi as bI,Wg as bJ,xg as bK,$g as bL,Bg as bM,Qg as bN,qg as bO,kg as bP,Vg as bQ,jg as bR,Hg as bS,Mg as bT,Kg as bU,Gg as bV,Xl as bW,Jl as bX,Zl as bY,zl as bZ,Nf as b_,un as ba,xc as bb,$c as bc,Ft as bd,_i as be,vg as bf,lg as bg,hc as bh,Dg as bi,cc as bj,Sc as bk,Bn as bl,Og as bm,Gd as bn,Lc as bo,hr as bp,It as bq,Wu as br,Zs as bs,nn as bt,Jg as bu,yi as bv,Kl as bw,pi as bx,Ig as by,fg as bz,Nu as c,_g as c0,ny as c1,vc as c2,dg as c3,cg as c4,kr as c5,pg as c6,Cg as c7,Tg as c8,yg as c9,gg as ca,Ag as cb,hg as cc,jl as cd,Rt as d,Uu as e,ec as f,bg as g,De as h,Ng as i,qc as j,Ei as k,_t as l,oe as m,Ia as n,wg as o,ci as p,Eg as q,mg as r,Ol as s,Rg as t,Zg as u,xf as v,$f as w,Ll as x,zg as y,or as z};
